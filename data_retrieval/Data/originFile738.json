{"items":[{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1387814755,"post_id":1698913,"comment_id":31088804,"body_markdown":"Related question (for Linux): http://askubuntu.com/questions/154953/specify-jdk-for-tomcat7","body":"Related question (for Linux): <a href=\"http://askubuntu.com/questions/154953/specify-jdk-for-tomcat7\">askubuntu.com/questions/154953/specify-jdk-for-tomcat7</a>"}],"answers":[{"tags":[],"owner":{"account_id":22601,"reputation":2275,"user_id":55913,"accept_rate":89,"display_name":"bogertron"},"down_vote_count":3,"up_vote_count":23,"is_accepted":false,"score":20,"last_activity_date":1257746862,"creation_date":1257736973,"answer_id":1698940,"question_id":1698913,"body_markdown":"One thing that you could do would be to modify the catalina.sh (Unix based) or the catalina.bat (windows based).\r\n\r\nWithin each of the scripts you can set certain variables which only processes created under the shell will inherit. So for catalina.sh, use the following line:\r\n\r\n    export JAVA_HOME=&quot;intented java home&quot;\r\n\r\nAnd for windows use\r\n\r\n    set JAVA_HOME=&quot;intented java home&quot;","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>One thing that you could do would be to modify the catalina.sh (Unix based) or the catalina.bat (windows based).</p>\n\n<p>Within each of the scripts you can set certain variables which only processes created under the shell will inherit. So for catalina.sh, use the following line:</p>\n\n<pre><code>export JAVA_HOME=\"intented java home\"\n</code></pre>\n\n<p>And for windows use</p>\n\n<pre><code>set JAVA_HOME=\"intented java home\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1346013,"reputation":81,"user_id":1286757,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1351254971,"creation_date":1332442789,"answer_id":9828764,"question_id":1698913,"body_markdown":"Also, note that there shouldn&#39;t be any space after `=`:\r\n\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.0_27","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>Also, note that there shouldn't be any space after <code>=</code>:</p>\n\n<pre><code>set JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.0_27\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1504694,"reputation":39,"user_id":1408379,"display_name":"rafeeq"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1337623349,"creation_date":1337618196,"answer_id":10689076,"question_id":1698913,"body_markdown":"In UNIX I had this problem, I edited `catalina.sh` manually and entered\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-6-sun-1.6.0.24\r\n    echo &quot;Using JAVA_HOME:       $JAVA_HOME&quot;\r\n\r\nas the first 2 lines. I tried setting the `JAVA_HOME` in `/etc/profile` but it did not help.\r\n\r\nThis worked finally.\r\n","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>In UNIX I had this problem, I edited <code>catalina.sh</code> manually and entered</p>\n\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-6-sun-1.6.0.24\necho \"Using JAVA_HOME:       $JAVA_HOME\"\n</code></pre>\n\n<p>as the first 2 lines. I tried setting the <code>JAVA_HOME</code> in <code>/etc/profile</code> but it did not help.</p>\n\n<p>This worked finally.</p>\n"},{"tags":[],"owner":{"account_id":260305,"reputation":6538,"user_id":543770,"accept_rate":78,"display_name":"Doug"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359829996,"creation_date":1359829996,"answer_id":14665103,"question_id":1698913,"body_markdown":"Just a note...\r\n\r\nIf you add that code to setclasspath.bat or setclasspath.sh, it will actually be used by all of Tomcat&#39;s scripts you could run, rather than just Catalina.\r\n\r\nThe method for setting the variable is as the other&#39;s have described.","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>Just a note...</p>\n\n<p>If you add that code to setclasspath.bat or setclasspath.sh, it will actually be used by all of Tomcat's scripts you could run, rather than just Catalina.</p>\n\n<p>The method for setting the variable is as the other's have described.</p>\n"},{"tags":[],"owner":{"account_id":2647569,"reputation":471,"user_id":2289954,"display_name":"HowRude"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1366191200,"creation_date":1366190170,"answer_id":16056154,"question_id":1698913,"body_markdown":"place a setenv.sh in the the bin directory with\r\n\r\n    JAVA_HOME=/usr/java/jdk1.6.0_43/\r\n    JRE_HOME=/usr/java/jdk1.6.0_43/jre\r\n\r\nor an other version your running.","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>place a setenv.sh in the the bin directory with</p>\n\n<pre><code>JAVA_HOME=/usr/java/jdk1.6.0_43/\nJRE_HOME=/usr/java/jdk1.6.0_43/jre\n</code></pre>\n\n<p>or an other version your running.</p>\n"},{"tags":[],"owner":{"account_id":244145,"reputation":9933,"user_id":516748,"accept_rate":86,"display_name":"KCD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1367202613,"creation_date":1367202613,"answer_id":16270407,"question_id":1698913,"body_markdown":"Linux based Tomcat6 should have **/etc/tomcat6/tomcat6.conf**\r\n\r\n\t# System-wide configuration file for tomcat6 services\r\n\t# This will be sourced by tomcat6 and any secondary service\r\n\t# Values will be overridden by service-specific configuration\r\n\t# files in /etc/sysconfig\r\n\t#\r\n\t# Use this one to change default values for all services\r\n\t# Change the service specific ones to affect only one service\r\n\t# (see, for instance, /etc/sysconfig/tomcat6)\r\n\t#\r\n\r\n\t# Where your java installation lives\r\n\t#JAVA_HOME=&quot;/usr/lib/jvm/java-1.5.0&quot;\r\n\r\n\t# Where your tomcat installation lives\r\n\tCATALINA_BASE=&quot;/usr/share/tomcat6&quot;\r\n\t...\r\n","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>Linux based Tomcat6 should have <strong>/etc/tomcat6/tomcat6.conf</strong></p>\n\n<pre><code># System-wide configuration file for tomcat6 services\n# This will be sourced by tomcat6 and any secondary service\n# Values will be overridden by service-specific configuration\n# files in /etc/sysconfig\n#\n# Use this one to change default values for all services\n# Change the service specific ones to affect only one service\n# (see, for instance, /etc/sysconfig/tomcat6)\n#\n\n# Where your java installation lives\n#JAVA_HOME=\"/usr/lib/jvm/java-1.5.0\"\n\n# Where your tomcat installation lives\nCATALINA_BASE=\"/usr/share/tomcat6\"\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":105552,"reputation":3260,"user_id":281600,"display_name":"St&#233;phane B."},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1394629416,"creation_date":1394629416,"answer_id":22352449,"question_id":1698913,"body_markdown":"If you are a **Windows** user, put the content below in a **setenv.bat** file that you must create in Tomcat **bin** directory.\r\n\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.x\r\n\r\nIf you are a **Linux** user, put the content below in a **setenv.sh** file that you must create in Tomcat **bin** directory.\r\n\r\n    JAVA_HOME=/usr/java/jdk1.6.x\r\n","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>If you are a <strong>Windows</strong> user, put the content below in a <strong>setenv.bat</strong> file that you must create in Tomcat <strong>bin</strong> directory.</p>\n\n<pre><code>set JAVA_HOME=C:\\Program Files\\Java\\jdk1.6.x\n</code></pre>\n\n<p>If you are a <strong>Linux</strong> user, put the content below in a <strong>setenv.sh</strong> file that you must create in Tomcat <strong>bin</strong> directory.</p>\n\n<pre><code>JAVA_HOME=/usr/java/jdk1.6.x\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5204556,"reputation":21,"user_id":4162938,"display_name":"Tamil Selvan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413826267,"creation_date":1413826267,"answer_id":26471485,"question_id":1698913,"body_markdown":"I had the same problem my OS is windows 8 and I am using Tomcat 8,\r\nI just edited the ***setclasspath.bat*** file in bin folder and set JAVA_HOME and JRE_HOME\r\nlike this...\r\n\r\n&gt;&lt;p&gt;\r\n@echo off&lt;br&gt;\r\n...&lt;br&gt;\r\n...&lt;br&gt;\r\nset &quot;JRE_HOME=%ProgramFiles%\\Java\\jre8&quot;&lt;br&gt;\r\nset &quot;JAVA_HOME=%ProgramFiles%\\Java\\jdk1.7.0_03&quot;&lt;br&gt;\r\n...&lt;br&gt;\r\n...&lt;br&gt;\r\n&lt;/p&gt;\r\n\r\nand it works fine for me now......","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>I had the same problem my OS is windows 8 and I am using Tomcat 8,\nI just edited the <strong><em>setclasspath.bat</em></strong> file in bin folder and set JAVA_HOME and JRE_HOME\nlike this...</p>\n\n<blockquote>\n  <p>\n  @echo off<br>\n  ...<br>\n  ...<br>\n  set \"JRE_HOME=%ProgramFiles%\\Java\\jre8\"<br>\n  set \"JAVA_HOME=%ProgramFiles%\\Java\\jdk1.7.0_03\"<br>\n  ...<br>\n  ...<br>\n  </p>\n</blockquote>\n\n<p>and it works fine for me now......</p>\n"},{"tags":[],"owner":{"account_id":989107,"reputation":21888,"user_id":1006863,"accept_rate":69,"display_name":"Paulo Fidalgo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1415715636,"creation_date":1415715636,"answer_id":26867026,"question_id":1698913,"body_markdown":"You can add setenv.sh in the the bin directory with:\r\n\r\n&gt; export JAVA_HOME=$(readlink -f /usr/bin/java | sed &quot;s:bin/java::&quot;)\r\n\r\nand it will dynamically change when you update your packages.\r\n\r\n","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>You can add setenv.sh in the the bin directory with:</p>\n\n<blockquote>\n  <p>export JAVA_HOME=$(readlink -f /usr/bin/java | sed \"s:bin/java::\")</p>\n</blockquote>\n\n<p>and it will dynamically change when you update your packages.</p>\n"},{"tags":[],"owner":{"account_id":1362735,"reputation":73,"user_id":1299789,"display_name":"Shinu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1421906092,"creation_date":1421906092,"answer_id":28082091,"question_id":1698913,"body_markdown":"For Debian distro we can override the setting via defaults\r\n\r\n    /etc/default/tomcat6\r\n\r\nSet the `JAVA_HOME` pointing to the java version you want.\r\n\r\n    JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>For Debian distro we can override the setting via defaults</p>\n\n<pre><code>/etc/default/tomcat6\n</code></pre>\n\n<p>Set the <code>JAVA_HOME</code> pointing to the java version you want.</p>\n\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1456416620,"creation_date":1456416620,"answer_id":35632526,"question_id":1698913,"body_markdown":"I think this is a best practice (You may be have many Tomcat instance in same computer, you want per Tomcat instance use other Java Runtime Environment):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is manual inside file: `catalina.sh`\r\n\r\n    #   JRE_HOME        Must point at your Java Runtime installation.\r\n    #                   Defaults to JAVA_HOME if empty. If JRE_HOME and JAVA_HOME\r\n    #                   are both set, JRE_HOME is used.\r\n\r\n  [1]: http://i.stack.imgur.com/UKEVm.jpg\r\n  [2]: http://i.stack.imgur.com/T4gWE.jpg\r\n","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>I think this is a best practice (You may be have many Tomcat instance in same computer, you want per Tomcat instance use other Java Runtime Environment):</p>\n\n<p><a href=\"https://i.stack.imgur.com/UKEVm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UKEVm.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/T4gWE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T4gWE.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This is manual inside file: <code>catalina.sh</code></p>\n\n<pre><code>#   JRE_HOME        Must point at your Java Runtime installation.\n#                   Defaults to JAVA_HOME if empty. If JRE_HOME and JAVA_HOME\n#                   are both set, JRE_HOME is used.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3495512,"reputation":1716,"user_id":2923872,"accept_rate":100,"display_name":"calraiden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673438962,"creation_date":1673438962,"answer_id":75082823,"question_id":1698913,"body_markdown":"I think you only need add in startup.sh or startup.bat the `set JAVA_HOME=C:\\Program Files\\Java\\jdk-19`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter check...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R4j0Q.png\r\n  [2]: https://i.stack.imgur.com/xlYQE.png","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>I think you only need add in startup.sh or startup.bat the <code>set JAVA_HOME=C:\\Program Files\\Java\\jdk-19</code></p>\n<p><a href=\"https://i.stack.imgur.com/R4j0Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R4j0Q.png\" alt=\"enter image description here\" /></a></p>\n<p>After check...</p>\n<p><a href=\"https://i.stack.imgur.com/xlYQE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xlYQE.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":570589,"reputation":411,"user_id":206557,"display_name":"Chan Pye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171155,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":12,"score":41,"last_activity_date":1673438962,"creation_date":1257736378,"question_id":1698913,"body_markdown":"I have 2 Java Web Projects. One runs on JDK 1.5 and the other runs on JDK 1.6. I want to run both of them on the same computer, but the JAVA_HOME environment variable can only have one value. I want to set JAVA_HOME for each Tomcat server.","title":"How to set JAVA_HOME for multiple Tomcat instances?","body":"<p>I have 2 Java Web Projects. One runs on JDK 1.5 and the other runs on JDK 1.6. I want to run both of them on the same computer, but the JAVA_HOME environment variable can only have one value. I want to set JAVA_HOME for each Tomcat server.</p>\n"},{"tags":["java","oop","inheritance","upcasting"],"comments":[{"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1673435258,"post_id":75082053,"comment_id":132497017,"body_markdown":"Help us help you - instead of describing the issue, share a [mcve] that demonstrates it","body":"Help us help you - instead of describing the issue, share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates it"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1673435692,"post_id":75082053,"comment_id":132497170,"body_markdown":"When you call a method on a reference of `A`, say `a.doSomething();` the compiler will check whether that method is present in `A`. It doesn&#39;t matter if the object assigned is encapsulating that method, the check is done during compile time and the casting happens in runtime.","body":"When you call a method on a reference of <code>A</code>, say <code>a.doSomething();</code> the compiler will check whether that method is present in <code>A</code>. It doesn&#39;t matter if the object assigned is encapsulating that method, the check is done during compile time and the casting happens in runtime."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673438749,"creation_date":1673436447,"answer_id":75082302,"question_id":75082053,"body_markdown":"Since the type of variable `a` is [class] `A`, the variable can only access members and methods of class `A` (depending on the access specifiers) &amp;ndash; even though the actual type of variable `a` is class `B`.\r\n\r\nRefer to method [paintComponent](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)), in class `javax.swing.JComponent`. The type of the method parameter is `Graphics` but the actual type of the parameter is [Graphics2D](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics2D.html) (which extends `Graphics`). However, in order to access the methods of `Graphics2D`, you must first cast the parameter, i.e.\r\n```java\r\nGraphics2D g2d = (Graphics2D) g;\r\n```\r\nThis is a fundamental aspect of the object-oriented paradigm.  \r\nRefer also to the [comment](https://stackoverflow.com/questions/75082053/java-accesing-properties-with-same-name-in-both-classes#comment132497170_75082053) to your question by @ArunSudhakaran\r\n\r\nSimilarly, if you want variable `a` to access the `w` member of class `B`, you need to cast `a`.\r\n```java\r\nA a = new B();\r\nif (a instanceof B) {\r\n    B b = (B) a;\r\n    System.out.println(b.w);\r\n}\r\n```\r\nIf you are using at least Java 14, you can use [Pattern Matching for the instanceof Operator](https://docs.oracle.com/en/java/javase/14/language/pattern-matching-instanceof-operator.html)\r\n```java\r\nA a = new B();\r\nif (a instanceof B b) {\r\n    System.out.println(b.w);\r\n}\r\n```\r\nAlso refer to the book [Effective Java](https://www.oreilly.com/library/view/effective-java-3rd/9780134686097/) by Josh Bloch.\r\n","title":"Java accesing properties with same name in both classes","body":"<p>Since the type of variable <code>a</code> is [class] <code>A</code>, the variable can only access members and methods of class <code>A</code> (depending on the access specifiers) â€“ even though the actual type of variable <code>a</code> is class <code>B</code>.</p>\n<p>Refer to method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)\" rel=\"nofollow noreferrer\">paintComponent</a>, in class <code>javax.swing.JComponent</code>. The type of the method parameter is <code>Graphics</code> but the actual type of the parameter is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics2D.html\" rel=\"nofollow noreferrer\">Graphics2D</a> (which extends <code>Graphics</code>). However, in order to access the methods of <code>Graphics2D</code>, you must first cast the parameter, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Graphics2D g2d = (Graphics2D) g;\n</code></pre>\n<p>This is a fundamental aspect of the object-oriented paradigm.<br />\nRefer also to the <a href=\"https://stackoverflow.com/questions/75082053/java-accesing-properties-with-same-name-in-both-classes#comment132497170_75082053\">comment</a> to your question by @ArunSudhakaran</p>\n<p>Similarly, if you want variable <code>a</code> to access the <code>w</code> member of class <code>B</code>, you need to cast <code>a</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>A a = new B();\nif (a instanceof B) {\n    B b = (B) a;\n    System.out.println(b.w);\n}\n</code></pre>\n<p>If you are using at least Java 14, you can use <a href=\"https://docs.oracle.com/en/java/javase/14/language/pattern-matching-instanceof-operator.html\" rel=\"nofollow noreferrer\">Pattern Matching for the instanceof Operator</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>A a = new B();\nif (a instanceof B b) {\n    System.out.println(b.w);\n}\n</code></pre>\n<p>Also refer to the book <a href=\"https://www.oreilly.com/library/view/effective-java-3rd/9780134686097/\" rel=\"nofollow noreferrer\">Effective Java</a> by Josh Bloch.</p>\n"}],"owner":{"account_id":16610237,"reputation":25,"user_id":15787690,"display_name":"dudex198"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673438749,"creation_date":1673435137,"question_id":75082053,"body_markdown":"I have 2 classes, A and B which B inherits from A.\r\nBoth classes have a property of type int called w.\r\n\r\nIn class A w is public and in class B w is private.\r\n\r\nI made an object of type A using B constructor - A a = new B()\r\n\r\nYet when i tried to access B&#39;s properties i found out i can only access variables or methods from class A even though i made an object of type B.\r\n\r\nI thought that this was only relevant if both classes didnt have the same methods or variables.\r\nBut in this case both classes have a variable named w yet i can only access the value stored in the A class. Why is this so?\r\n\r\nclass A \r\n```\r\n\r\npublic class A {\r\n\tpublic int w;\r\n\tprivate static String str = &quot;K&quot;;\r\n\r\n\t\r\n\tpublic A() {\r\n\t\tstr+=&quot;B&quot;;\r\n\t\tw+=str.length();\r\n\t\tstr+=w;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn str.charAt(w-2)+&quot;P&quot;;\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\nclass B\r\n```\r\npublic class B extends A {\r\n\tpublic static int w = 2;\r\n\tprivate String str = &quot;W&quot;;\r\n\t\r\n\tpublic B(int x) {\r\n\t\tw+=super.w;\r\n\t\tstr+=super.toString()+w;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn super.toString() + str;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nTesting class \r\n```\r\n\r\npublic class Q1 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tA a = new A();\r\n\t\tA a2 = new B(1);\r\n\r\n\t\tSystem.out.println(a);\r\n\t\tSystem.out.println(a.w);\r\n\t\tSystem.out.println(a2);\r\n\t\tSystem.out.println(a2.w);\r\n\t\tB b = new B(2);\r\n\t\tSystem.out.println(b);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"Java accesing properties with same name in both classes","body":"<p>I have 2 classes, A and B which B inherits from A.\nBoth classes have a property of type int called w.</p>\n<p>In class A w is public and in class B w is private.</p>\n<p>I made an object of type A using B constructor - A a = new B()</p>\n<p>Yet when i tried to access B's properties i found out i can only access variables or methods from class A even though i made an object of type B.</p>\n<p>I thought that this was only relevant if both classes didnt have the same methods or variables.\nBut in this case both classes have a variable named w yet i can only access the value stored in the A class. Why is this so?</p>\n<p>class A</p>\n<pre><code>\npublic class A {\n    public int w;\n    private static String str = &quot;K&quot;;\n\n    \n    public A() {\n        str+=&quot;B&quot;;\n        w+=str.length();\n        str+=w;\n    }\n    \n    @Override\n    public String toString() {\n        return str.charAt(w-2)+&quot;P&quot;;\n    }\n    \n\n}\n</code></pre>\n<p>class B</p>\n<pre><code>public class B extends A {\n    public static int w = 2;\n    private String str = &quot;W&quot;;\n    \n    public B(int x) {\n        w+=super.w;\n        str+=super.toString()+w;\n    }\n    \n    @Override\n    public String toString() {\n        return super.toString() + str;\n    }\n}\n\n</code></pre>\n<p>Testing class</p>\n<pre><code>\npublic class Q1 {\n\n    public static void main(String[] args) {\n        A a = new A();\n        A a2 = new B(1);\n\n        System.out.println(a);\n        System.out.println(a.w);\n        System.out.println(a2);\n        System.out.println(a2.w);\n        B b = new B(2);\n        System.out.println(b);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14254979,"reputation":100,"user_id":10297510,"display_name":"Enos"},"score":0,"creation_date":1673434983,"post_id":75081310,"comment_id":132496914,"body_markdown":"Where Array was defined? what does it contain ?","body":"Where Array was defined? what does it contain ?"},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673436448,"post_id":75081310,"comment_id":132497474,"body_markdown":"array at start is initialised with 5 values (0,0,0,0,0).","body":"array at start is initialised with 5 values (0,0,0,0,0)."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673438686,"creation_date":1673438686,"answer_id":75082760,"question_id":75081310,"body_markdown":"Since you have apparently already identified the highest votes counts you can test these for zero before trying to look up the corresponding name(s) in the parallel array.\r\n\r\n    if (0 != thirdScore) {\r\n      ... look up and print third place\r\n    }\r\n    if (0 != secondScore) {\r\n      ... look up and print second place\r\n    }\r\n\r\n","title":"Displaying text if it has votes in sort program","body":"<p>Since you have apparently already identified the highest votes counts you can test these for zero before trying to look up the corresponding name(s) in the parallel array.</p>\n<pre><code>if (0 != thirdScore) {\n  ... look up and print third place\n}\nif (0 != secondScore) {\n  ... look up and print second place\n}\n</code></pre>\n"}],"owner":{"display_name":"user20758216"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673438686,"creation_date":1673431666,"question_id":75081310,"body_markdown":"I have a voting program that works. The program will ask the user to enter the votes for a vote candidate, and then once ended the program will print a summary of the votes.\r\n\r\nCurrently i have the program printing First,Second, and Third. Even if Second and third are 0. I need the program to work so if second and third are zero, only the winner will be printed.\r\n\r\nI am little stuck with what i have currently, the concept i want works, but if i place the displayed text in the loop, it will loop multiple times. \r\n\r\nhere is the code\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    System.out.print(&quot;\\nThird: &quot;);\r\n    for (int i = 0; i &lt; Array.length; i++) {\r\n        if (Array[i] != 0 &amp;&amp; Array[i] == thirdScore) {\r\n            System.out.print(stringArray[i]+&quot; &quot;);\r\n        }\r\n    }\r\n    System.out.print(&quot;\\n&quot;);\r\n\r\n    System.out.print(&quot;Second: &quot;);\r\n    for (int i = 0; i &lt; Array.length; i++) {\r\n        if (Array[i] != 0 &amp;&amp; Array[i] == secondScore) {\r\n           System.out.print(stringArray[i]+&quot; &quot;);\r\n        }\r\n    }\r\n    System.out.print(&quot;\\n&quot;);\r\n\r\n    System.out.print(&quot;Winner: &quot;);\r\n    for (int i = 0; i &lt; Array.length; i++) {\r\n        if (Array[i] != 0 &amp;&amp; Array[i] == firstScore) {\r\n          System.out.print(stringArray[i]+&quot; &quot;);\r\n        }\r\n    }\r\n    System.out.print(&quot;\\n&quot;);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis is the output i would get if the third place is 0\r\n\r\n    Third place:\r\n    \r\n    Second Place: Joey\r\n    \r\n    First Place: Miles\r\n\r\nI need the &quot;Third place:&quot; to not be displayed if 0 same with Second place\r\n","title":"Displaying text if it has votes in sort program","body":"<p>I have a voting program that works. The program will ask the user to enter the votes for a vote candidate, and then once ended the program will print a summary of the votes.</p>\n<p>Currently i have the program printing First,Second, and Third. Even if Second and third are 0. I need the program to work so if second and third are zero, only the winner will be printed.</p>\n<p>I am little stuck with what i have currently, the concept i want works, but if i place the displayed text in the loop, it will loop multiple times.</p>\n<p>here is the code</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>System.out.print(\"\\nThird: \");\nfor (int i = 0; i &lt; Array.length; i++) {\n    if (Array[i] != 0 &amp;&amp; Array[i] == thirdScore) {\n        System.out.print(stringArray[i]+\" \");\n    }\n}\nSystem.out.print(\"\\n\");\n\nSystem.out.print(\"Second: \");\nfor (int i = 0; i &lt; Array.length; i++) {\n    if (Array[i] != 0 &amp;&amp; Array[i] == secondScore) {\n       System.out.print(stringArray[i]+\" \");\n    }\n}\nSystem.out.print(\"\\n\");\n\nSystem.out.print(\"Winner: \");\nfor (int i = 0; i &lt; Array.length; i++) {\n    if (Array[i] != 0 &amp;&amp; Array[i] == firstScore) {\n      System.out.print(stringArray[i]+\" \");\n    }\n}\nSystem.out.print(\"\\n\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This is the output i would get if the third place is 0</p>\n<pre><code>Third place:\n\nSecond Place: Joey\n\nFirst Place: Miles\n</code></pre>\n<p>I need the &quot;Third place:&quot; to not be displayed if 0 same with Second place</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":1,"creation_date":1412588729,"post_id":26213615,"comment_id":41109259,"body_markdown":"Get the thread as explained here http://stackoverflow.com/questions/18224253/get-a-thread-by-id/18224488#18224488\n\nand interrupt it.","body":"Get the thread as explained here <a href=\"http://stackoverflow.com/questions/18224253/get-a-thread-by-id/18224488#18224488\" title=\"get a thread by id\">stackoverflow.com/questions/18224253/get-a-thread-by-id/&hellip;</a>  and interrupt it."},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":1,"creation_date":1412589636,"post_id":26213615,"comment_id":41109727,"body_markdown":"just keep the references of your custom threads instead of ID and use `Thread.interrupt()`  to terminate the thread or maintain a `Map&lt;String,Thread&gt;` for each thread id.","body":"just keep the references of your custom threads instead of ID and use <code>Thread.interrupt()</code>  to terminate the thread or maintain a <code>Map&lt;String,Thread&gt;</code> for each thread id."}],"answers":[{"tags":[],"owner":{"account_id":5111418,"reputation":128,"user_id":4097877,"display_name":"Arun Ramakrishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412589024,"creation_date":1412589024,"answer_id":26213743,"question_id":26213615,"body_markdown":"I would say a good way to do this is to create an implementation of java.lang.Runnable which has a stop() method. Like so:\r\n\r\n    public class Stoppable implements Runnable\r\n{\r\n    private boolean stopRequested = false;\r\n    \r\n    @Override\r\n    public void run()\r\n    {\r\n        // Thread code\r\n        if (stopRequested)\r\n        {\r\n            // Perform any tidy up activities and return from the run method\r\n            \r\n            return;\r\n        }\r\n    }\r\n    \r\n    public void stop()\r\n    {\r\n        stopRequested = true;\r\n    }\r\n}\r\n\r\nYou could instead use the java built in interrupt approach also. thread.interrupt(). Then in your runnable you would do a check on that. Thread.currentThread().isInterrupted() However I&#39;ve always preferred to use a separate variable and code, just gives me more control.\r\n\r\nIf you&#39;re on Java 7 onwards then try the executors http://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\r\nThey provide a lot of useful features like return types and exception handling which has always been a little annoying with the traditional threads approach.","title":"Terminating thread using thread Id in java","body":"<p>I would say a good way to do this is to create an implementation of java.lang.Runnable which has a stop() method. Like so:</p>\n\n<pre><code>public class Stoppable implements Runnable\n</code></pre>\n\n<p>{\n    private boolean stopRequested = false;</p>\n\n<pre><code>@Override\npublic void run()\n{\n    // Thread code\n    if (stopRequested)\n    {\n        // Perform any tidy up activities and return from the run method\n\n        return;\n    }\n}\n\npublic void stop()\n{\n    stopRequested = true;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>You could instead use the java built in interrupt approach also. thread.interrupt(). Then in your runnable you would do a check on that. Thread.currentThread().isInterrupted() However I've always preferred to use a separate variable and code, just gives me more control.</p>\n\n<p>If you're on Java 7 onwards then try the executors <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html</a>\nThey provide a lot of useful features like return types and exception handling which has always been a little annoying with the traditional threads approach.</p>\n"},{"tags":[],"owner":{"account_id":2922411,"reputation":535,"user_id":2504380,"accept_rate":50,"display_name":"user2504380"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412589100,"creation_date":1412589100,"answer_id":26213768,"question_id":26213615,"body_markdown":"You can use [the answer in this post](https://stackoverflow.com/questions/18224253/get-a-thread-by-id) to get a thread by it&#39;s id and then interrupt it, however, as mentioned in comments, you should not do this. Use Thread-Object-References instead and handle the Threads directly.","title":"Terminating thread using thread Id in java","body":"<p>You can use <a href=\"https://stackoverflow.com/questions/18224253/get-a-thread-by-id\">the answer in this post</a> to get a thread by it's id and then interrupt it, however, as mentioned in comments, you should not do this. Use Thread-Object-References instead and handle the Threads directly.</p>\n"},{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1462194918,"creation_date":1412589354,"answer_id":26213826,"question_id":26213615,"body_markdown":"You can do it like this,\r\n\r\n    //Give you set of Threads\r\n    Set&lt;Thread&gt; setOfThread = Thread.getAllStackTraces().keySet();\r\n\t\r\n    //Iterate over set to find yours\r\n\tfor(Thread thread : setOfThread){\r\n\t\tif(thread.getId()==yourThread.getId()){\r\n\t\t\tthread.interrupt();\r\n\t\t}\r\n\t}","title":"Terminating thread using thread Id in java","body":"<p>You can do it like this,</p>\n\n<pre><code>//Give you set of Threads\nSet&lt;Thread&gt; setOfThread = Thread.getAllStackTraces().keySet();\n\n//Iterate over set to find yours\nfor(Thread thread : setOfThread){\n    if(thread.getId()==yourThread.getId()){\n        thread.interrupt();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4981963,"reputation":2458,"user_id":4006620,"accept_rate":76,"display_name":"Vishvesh Phadnis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17232,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":26213826,"answer_count":3,"score":13,"last_activity_date":1673438526,"creation_date":1412588520,"question_id":26213615,"body_markdown":"I want to terminate thread using it&#39;s Id.\r\n\r\nusing below statement  I&#39;m getting thread. this thread Id I&#39;m maintaining in `Hashtable`.\r\n\r\n    long threadId = Thread.currentThread().getId();\t\r\n\r\n\r\nHow can I achieve it ?","title":"Terminating thread using thread Id in java","body":"<p>I want to terminate thread using it's Id.</p>\n<p>using below statement  I'm getting thread. this thread Id I'm maintaining in <code>Hashtable</code>.</p>\n<pre><code>long threadId = Thread.currentThread().getId(); \n</code></pre>\n<p>How can I achieve it ?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security","deprecated"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1673389193,"post_id":75076409,"comment_id":132487086,"body_markdown":"Where would you download it in the first place? And have you then checked if they offer older versions as well?","body":"Where would you download it in the first place? And have you then checked if they offer older versions as well?"},{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":1,"creation_date":1673402516,"post_id":75076409,"comment_id":132489298,"body_markdown":"Are you using maven? If so you just have to change the version in the `pom.xml` file. Any version &lt; 3.0 should be fine for you I think like `2.7.7`","body":"Are you using maven? If so you just have to change the version in the <code>pom.xml</code> file. Any version &lt; 3.0 should be fine for you I think like <code>2.7.7</code>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673436983,"post_id":75076409,"comment_id":132497649,"body_markdown":"As far as I&#39;m aware, the Spring project doesn&#39;t even offer downloads other than through Maven. So just, configure your Maven (or Gradle) build file to use your desired version.","body":"As far as I&#39;m aware, the Spring project doesn&#39;t even offer downloads other than through Maven. So just, configure your Maven (or Gradle) build file to use your desired version."}],"answers":[{"tags":[],"owner":{"account_id":16362850,"reputation":102,"user_id":11818002,"display_name":"arellak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673389619,"creation_date":1673389619,"answer_id":75076506,"question_id":75076409,"body_markdown":"If you&#39;re using a build-system like Maven, you could easily replace the version in the pom.xml&lt;br&gt;\r\nOtherwise, you could look on websites like jar-download.com if spring-boot doesn&#39;t offer a download for the jar itself.","title":"It&#39;s possible to download an older version of Spring Boot?","body":"<p>If you're using a build-system like Maven, you could easily replace the version in the pom.xml<br>\nOtherwise, you could look on websites like jar-download.com if spring-boot doesn't offer a download for the jar itself.</p>\n"},{"tags":[],"owner":{"account_id":27495315,"reputation":1,"user_id":20979921,"display_name":"Shivam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673437004,"creation_date":1673431458,"answer_id":75081275,"question_id":75076409,"body_markdown":"If you are using maven you can change the Spring boot version `&lt;version&gt;2.7.3&lt;/version&gt;` in the pom.xml file.\r\nTo use the Spring Security add the dependency \r\n\r\n```xml              \r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.6.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"It&#39;s possible to download an older version of Spring Boot?","body":"<p>If you are using maven you can change the Spring boot version <code>&lt;version&gt;2.7.3&lt;/version&gt;</code> in the pom.xml file.\nTo use the Spring Security add the dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n    &lt;version&gt;5.6.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25637651,"reputation":1,"user_id":19407023,"display_name":"java junior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673438291,"creation_date":1673438291,"answer_id":75082688,"question_id":75076409,"body_markdown":"First go to your pom.xml file and change your springboot version to any version below 2.7.0\r\nthen add the spring security dependency","title":"It&#39;s possible to download an older version of Spring Boot?","body":"<p>First go to your pom.xml file and change your springboot version to any version below 2.7.0\nthen add the spring security dependency</p>\n"}],"owner":{"account_id":27493044,"reputation":29,"user_id":20978009,"display_name":"Rebecca"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":589,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1673442984,"answer_count":3,"score":2,"last_activity_date":1673438291,"creation_date":1673388901,"question_id":75076409,"body_markdown":"I was trying to find a way to use or download a previous version of Spring Boot because I&#39;m going to use Spring Security, as you know WebSecurityConfigurerAdapter is deprecated right now\r\n\r\nI&#39;m sorry if there is an obvious answer to this, I&#39;m new in Spring Boot, and I don&#39;t know if there&#39;s a way to do the thing I&#39;m asking, and honestly I&#39;m a little confuse about the new implementations.\r\n","title":"It&#39;s possible to download an older version of Spring Boot?","body":"<p>I was trying to find a way to use or download a previous version of Spring Boot because I'm going to use Spring Security, as you know WebSecurityConfigurerAdapter is deprecated right now</p>\n<p>I'm sorry if there is an obvious answer to this, I'm new in Spring Boot, and I don't know if there's a way to do the thing I'm asking, and honestly I'm a little confuse about the new implementations.</p>\n"},{"tags":["java","spring","sorting","configuration"],"answers":[{"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1559410774,"creation_date":1559409352,"answer_id":56408844,"question_id":56331925,"body_markdown":" For your test case to work you need to use `Ordered` interface instead of the annotation.\r\nLets examine the source code of AnnotationAwareOrderComparator. Notice that you are passing directly the objects to the sort method. The  AnnotationAwareOrderComparator is using the `findOrder` upon the pased objects in order to find one of the three artifacts `@Priority` annotation `@Order` annotation or `@Ordered` interface. In your case you are passing the interceptor instances so the if check for Methidf and for Class will return false. You will hit the last if method: `if (obj != null)`\r\n\r\nin which case it will just check you object clas for @Order annotation which will be null in your case. Effectivly your test case is just wrong. Notice though that your testcase will behave as expected if you implement Ordered interface.    \r\n\r\n\r\n    public static void sort(List list) {\r\n    \t\tif (list.size() &gt; 1) {\r\n    \t\t\tCollections.sort(list, INSTANCE);\r\n    \t\t}\r\n    \t}\r\n\r\n    protected Integer findOrder(Object obj) {\r\n    \t\t// Check for regular Ordered interface\r\n    \t\tInteger order = super.findOrder(obj);\r\n    \t\tif (order != null) {\r\n    \t\t\treturn order;\r\n    \t\t}\r\n    \r\n    \t\t// Check for @Order and @Priority on various kinds of elements\r\n    \t\tif (obj instanceof Class) {\r\n    \t\t\treturn OrderUtils.getOrder((Class) obj);\r\n    \t\t}\r\n    \t\telse if (obj instanceof Method) {\r\n    \t\t\tOrder ann = AnnotationUtils.findAnnotation((Method) obj, Order.class);\r\n    \t\t\tif (ann != null) {\r\n    \t\t\t\treturn ann.value();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse if (obj instanceof AnnotatedElement) {\r\n    \t\t\tOrder ann = AnnotationUtils.getAnnotation((AnnotatedElement) obj, Order.class);\r\n    \t\t\tif (ann != null) {\r\n    \t\t\t\treturn ann.value();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse if (obj != null) {\r\n    \t\t\treturn OrderUtils.getOrder(obj.getClass());\r\n    \t\t}\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n\r\n","title":"Sort spring @Beans by method level @Order annotation","body":"<p>For your test case to work you need to use <code>Ordered</code> interface instead of the annotation.\nLets examine the source code of AnnotationAwareOrderComparator. Notice that you are passing directly the objects to the sort method. The  AnnotationAwareOrderComparator is using the <code>findOrder</code> upon the pased objects in order to find one of the three artifacts <code>@Priority</code> annotation <code>@Order</code> annotation or <code>@Ordered</code> interface. In your case you are passing the interceptor instances so the if check for Methidf and for Class will return false. You will hit the last if method: <code>if (obj != null)</code></p>\n\n<p>in which case it will just check you object clas for @Order annotation which will be null in your case. Effectivly your test case is just wrong. Notice though that your testcase will behave as expected if you implement Ordered interface.    </p>\n\n<pre><code>public static void sort(List list) {\n        if (list.size() &gt; 1) {\n            Collections.sort(list, INSTANCE);\n        }\n    }\n\nprotected Integer findOrder(Object obj) {\n        // Check for regular Ordered interface\n        Integer order = super.findOrder(obj);\n        if (order != null) {\n            return order;\n        }\n\n        // Check for @Order and @Priority on various kinds of elements\n        if (obj instanceof Class) {\n            return OrderUtils.getOrder((Class) obj);\n        }\n        else if (obj instanceof Method) {\n            Order ann = AnnotationUtils.findAnnotation((Method) obj, Order.class);\n            if (ann != null) {\n                return ann.value();\n            }\n        }\n        else if (obj instanceof AnnotatedElement) {\n            Order ann = AnnotationUtils.getAnnotation((AnnotatedElement) obj, Order.class);\n            if (ann != null) {\n                return ann.value();\n            }\n        }\n        else if (obj != null) {\n            return OrderUtils.getOrder(obj.getClass());\n        }\n\n        return null;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673438016,"creation_date":1673438016,"answer_id":75082623,"question_id":56331925,"body_markdown":"I found a way to access the annotions that are only present on the bean factory methods:\r\n\r\n````java\r\n    public static Comparator&lt;Object&gt; beanFactoryAwareOrderComparator(final ApplicationContext context,\r\n            final Class&lt;?&gt; beanType) {\r\n        final Map&lt;?, String&gt; beans = HashBiMap.create(context.getBeansOfType(beanType)).inverse();\r\n        return OrderComparator.INSTANCE.withSourceProvider(bean -&gt; {\r\n\r\n            // The AnnotationAwareOrderComparator does not have the &quot;withSourceProvider&quot; method\r\n            // The OrderComparator.withSourceProvider does not properly account for the annotations\r\n            final Integer priority = AnnotationAwareOrderComparator.INSTANCE.getPriority(bean);\r\n            if (priority != null) {\r\n                return (Ordered) () -&gt; priority;\r\n            }\r\n\r\n            // Consult the bean factory method for annotations\r\n            final String beanName = beans.get(bean);\r\n            if (beanName != null) {\r\n                final Order order = context.findAnnotationOnBean(beanName, Order.class);\r\n                if (order != null) {\r\n                    return (Ordered) order::value;\r\n                }\r\n            }\r\n\r\n            // Nothing present\r\n            return null;\r\n        });\r\n    }\r\n````\r\n\r\nSource: [yidongnan/grpc-spring-boot-starter/InterceptorOrder](https://github.com/yidongnan/grpc-spring-boot-starter/blob/fa5a7531c4a1b97eeb7cb43c5d518c675a953850/grpc-common-spring-boot/src/main/java/net/devh/boot/grpc/common/util/InterceptorOrder.java#L79-L103)","title":"Sort spring @Beans by method level @Order annotation","body":"<p>I found a way to access the annotions that are only present on the bean factory methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Comparator&lt;Object&gt; beanFactoryAwareOrderComparator(final ApplicationContext context,\n            final Class&lt;?&gt; beanType) {\n        final Map&lt;?, String&gt; beans = HashBiMap.create(context.getBeansOfType(beanType)).inverse();\n        return OrderComparator.INSTANCE.withSourceProvider(bean -&gt; {\n\n            // The AnnotationAwareOrderComparator does not have the &quot;withSourceProvider&quot; method\n            // The OrderComparator.withSourceProvider does not properly account for the annotations\n            final Integer priority = AnnotationAwareOrderComparator.INSTANCE.getPriority(bean);\n            if (priority != null) {\n                return (Ordered) () -&gt; priority;\n            }\n\n            // Consult the bean factory method for annotations\n            final String beanName = beans.get(bean);\n            if (beanName != null) {\n                final Order order = context.findAnnotationOnBean(beanName, Order.class);\n                if (order != null) {\n                    return (Ordered) order::value;\n                }\n            }\n\n            // Nothing present\n            return null;\n        });\n    }\n</code></pre>\n<p>Source: <a href=\"https://github.com/yidongnan/grpc-spring-boot-starter/blob/fa5a7531c4a1b97eeb7cb43c5d518c675a953850/grpc-common-spring-boot/src/main/java/net/devh/boot/grpc/common/util/InterceptorOrder.java#L79-L103\" rel=\"nofollow noreferrer\">yidongnan/grpc-spring-boot-starter/InterceptorOrder</a></p>\n"}],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1316,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":56408844,"answer_count":2,"score":6,"last_activity_date":1673438016,"creation_date":1558987655,"question_id":56331925,"body_markdown":"My library has to deal with multiple beans (interceptors) that are specified in arbitrary order (because they are spread over multiple configuration files).\r\nBefore I can apply them I have to sort them by their priority. I use `AnnotationAwareOrderComparator.sort(beans)` for that. This works well as long as the `@Order` annotation is added on the class level of that interceptor.\r\nBut it does not work when I try to use it in @Configuration classes on @Bean methods:\r\n\r\n    @Configuration\r\n    public class Config {\r\n    \r\n        @Bean\r\n        @Order(1)\r\n        public ServerInterceptor exceptionTranslatingServerInterceptor() {\r\n            return ...;\r\n        }\r\n    \r\n        @Bean\r\n        @Order(2)\r\n        public ServerInterceptor authenticatingServerInterceptor() {\r\n            return ...;\r\n        }\r\n    \r\n        @Bean\r\n        @Order(3)\r\n        public ServerInterceptor authorizationCheckingServerInterceptor() {\r\n            return ...\r\n        }\r\n    \r\n    }\r\n\r\nBut if I add a test like this:\r\n\r\n    @Test\r\n    void testOrderingOfTheDefaultInterceptors() {\r\n        List&lt;ServerInterceptor&gt; expected = new ArrayList&lt;&gt;();\r\n        expected.add(applicationContext.getBean(ExceptionTranslatingServerInterceptor.class));\r\n        expected.add(applicationContext.getBean(AuthenticatingServerInterceptor.class));\r\n        expected.add(applicationContext.getBean(AuthorizationCheckingServerInterceptor.class));\r\n\r\n        List&lt;ServerInterceptor&gt; actual = new ArrayList&lt;&gt;(this.registry.getServerInterceptors());\r\n        assertEquals(expected, actual); // Accidentally passes\r\n        // System.out.println(actual);\r\n\r\n        Collections.shuffle(actual);\r\n        AnnotationAwareOrderComparator.sort(actual);\r\n        assertEquals(expected, actual); // Fails\r\n        // System.out.println(actual);\r\n    }\r\n\r\nThen the test will fail.\r\nFrom my debugging I know that `AnnotationAwareOrderComparator.findOrder(Object)` always returns null (unspecified) for the order of those beans. Probably because the bean instances aren&#39;t proxied and thus neither implement order nor have the order annotation on their class level. Is there a BeanPostProcessor or an config option that I have to enable?\r\n\r\n[![Controll-Flow][1]][1]\r\n\r\nHow do I tell spring to either preserve the annotated order or use the application context&#39;s bean definitions to sort the beans appropriately?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zd89Q.png","title":"Sort spring @Beans by method level @Order annotation","body":"<p>My library has to deal with multiple beans (interceptors) that are specified in arbitrary order (because they are spread over multiple configuration files).\nBefore I can apply them I have to sort them by their priority. I use <code>AnnotationAwareOrderComparator.sort(beans)</code> for that. This works well as long as the <code>@Order</code> annotation is added on the class level of that interceptor.\nBut it does not work when I try to use it in @Configuration classes on @Bean methods:</p>\n\n<pre><code>@Configuration\npublic class Config {\n\n    @Bean\n    @Order(1)\n    public ServerInterceptor exceptionTranslatingServerInterceptor() {\n        return ...;\n    }\n\n    @Bean\n    @Order(2)\n    public ServerInterceptor authenticatingServerInterceptor() {\n        return ...;\n    }\n\n    @Bean\n    @Order(3)\n    public ServerInterceptor authorizationCheckingServerInterceptor() {\n        return ...\n    }\n\n}\n</code></pre>\n\n<p>But if I add a test like this:</p>\n\n<pre><code>@Test\nvoid testOrderingOfTheDefaultInterceptors() {\n    List&lt;ServerInterceptor&gt; expected = new ArrayList&lt;&gt;();\n    expected.add(applicationContext.getBean(ExceptionTranslatingServerInterceptor.class));\n    expected.add(applicationContext.getBean(AuthenticatingServerInterceptor.class));\n    expected.add(applicationContext.getBean(AuthorizationCheckingServerInterceptor.class));\n\n    List&lt;ServerInterceptor&gt; actual = new ArrayList&lt;&gt;(this.registry.getServerInterceptors());\n    assertEquals(expected, actual); // Accidentally passes\n    // System.out.println(actual);\n\n    Collections.shuffle(actual);\n    AnnotationAwareOrderComparator.sort(actual);\n    assertEquals(expected, actual); // Fails\n    // System.out.println(actual);\n}\n</code></pre>\n\n<p>Then the test will fail.\nFrom my debugging I know that <code>AnnotationAwareOrderComparator.findOrder(Object)</code> always returns null (unspecified) for the order of those beans. Probably because the bean instances aren't proxied and thus neither implement order nor have the order annotation on their class level. Is there a BeanPostProcessor or an config option that I have to enable?</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zd89Q.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Zd89Q.png\" alt=\"Controll-Flow\"></a></p>\n\n<p>How do I tell spring to either preserve the annotated order or use the application context's bean definitions to sort the beans appropriately?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673429917,"post_id":75074299,"comment_id":132495093,"body_markdown":"JDK version ? full pom.xml ? How to start your application ? java -jar xxx.jar ? Your Spring Boot Application class source ?","body":"JDK version ? full pom.xml ? How to start your application ? java -jar xxx.jar ? Your Spring Boot Application class source ?"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673437498,"creation_date":1673437498,"answer_id":75082520,"question_id":75074299,"body_markdown":"You cannot deploy Spring Boot 2.7.x or lower to Tomcat 10, because Spring Boot 2.7 uses Jakarta EE 8, which uses the `javax.*` namespace, while Tomcat 10 is Jakarta EE 9 or higher, which uses the `jakarta.*` namespace. This is a big breaking change in the Java world, and you cannot just mix and match incompatible dependencies.\r\n\r\nYou either need to upgrade to Spring Boot 3, or you need to downgrade to Tomcat 9. \r\n\r\nAlso, in this case, you should let Spring Boot control the version of `tomcat-embed-core`, and not specify the version yourself. [Spring Boot 2.7.7][1] specifies `tomcat-embed-core` 9.0.70 (search for `tomcat-embed-core`), while [Spring Boot 3.0.1][2] specifies `tomcat-embed-core` 10.1.4. Don&#39;t try to change it yourself, especially not to incompatible version. Changing to different minor or patch versions will usually work, but should generally not be done either because it increases your maintenance overhead, where otherwise you&#39;ll only need to increase the Spring Boot version to receive new _compatible_ dependency versions.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.7.7/reference/html/dependency-versions.html#appendix.dependency-versions\r\n  [2]: https://docs.spring.io/spring-boot/docs/3.0.1/reference/html/dependency-versions.html#appendix.dependency-versions","title":"Spring tool application failed to start","body":"<p>You cannot deploy Spring Boot 2.7.x or lower to Tomcat 10, because Spring Boot 2.7 uses Jakarta EE 8, which uses the <code>javax.*</code> namespace, while Tomcat 10 is Jakarta EE 9 or higher, which uses the <code>jakarta.*</code> namespace. This is a big breaking change in the Java world, and you cannot just mix and match incompatible dependencies.</p>\n<p>You either need to upgrade to Spring Boot 3, or you need to downgrade to Tomcat 9.</p>\n<p>Also, in this case, you should let Spring Boot control the version of <code>tomcat-embed-core</code>, and not specify the version yourself. <a href=\"https://docs.spring.io/spring-boot/docs/2.7.7/reference/html/dependency-versions.html#appendix.dependency-versions\" rel=\"nofollow noreferrer\">Spring Boot 2.7.7</a> specifies <code>tomcat-embed-core</code> 9.0.70 (search for <code>tomcat-embed-core</code>), while <a href=\"https://docs.spring.io/spring-boot/docs/3.0.1/reference/html/dependency-versions.html#appendix.dependency-versions\" rel=\"nofollow noreferrer\">Spring Boot 3.0.1</a> specifies <code>tomcat-embed-core</code> 10.1.4. Don't try to change it yourself, especially not to incompatible version. Changing to different minor or patch versions will usually work, but should generally not be done either because it increases your maintenance overhead, where otherwise you'll only need to increase the Spring Boot version to receive new <em>compatible</em> dependency versions.</p>\n"}],"owner":{"account_id":27483657,"reputation":11,"user_id":20970276,"display_name":"Janice Wong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673437807,"creation_date":1673375100,"question_id":75074299,"body_markdown":"Anyone know how to solve below issue? \r\n\r\n\r\n&gt; The following method did not exist:\r\n&gt; \r\n&gt; &#39;void\r\n&gt; org.apache.catalina.Context.addServletContainerInitializer(javax.servlet.ServletContainerInitializer,\r\n&gt; java.util.Set)&#39;\r\n&gt; \r\n&gt; The calling method&#39;s class,\r\n&gt; org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory,\r\n&gt; was loaded from the following location:\r\n&gt; \r\n&gt;     jar:file:/C:/Users/Janice/.m2/repository/org/springframework/boot/spring-boot/2.7.6/spring-boot-2.7.6.jar!/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.class\r\n&gt; \r\n&gt; The called method&#39;s class, org.apache.catalina.Context, is available\r\n&gt; from the following locations:\r\n&gt; \r\n&gt;     jar:file:/C:/Users/Janice/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.4/tomcat-embed-core-10.1.4.jar!/org/apache/catalina/Context.class\r\n&gt; \r\n&gt; The called method&#39;s class hierarchy was loaded from the following\r\n&gt; locations:\r\n&gt; \r\n&gt;     org.apache.catalina.Context: file:/C:/Users/Janice/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.4/tomcat-embed-core-10.1.4.jar\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Correct the classpath of your application so that it contains\r\n&gt; compatible versions of the classes\r\n&gt; org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory\r\n&gt; and org.apache.catalina.Context\r\n\r\nI expected to upgrade version for tomcat-embed-core to version 10.1.4\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n    &lt;version&gt;10.1.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Spring tool application failed to start","body":"<p>Anyone know how to solve below issue?</p>\n<blockquote>\n<p>The following method did not exist:</p>\n<p>'void\norg.apache.catalina.Context.addServletContainerInitializer(javax.servlet.ServletContainerInitializer,\njava.util.Set)'</p>\n<p>The calling method's class,\norg.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory,\nwas loaded from the following location:</p>\n<pre><code>jar:file:/C:/Users/Janice/.m2/repository/org/springframework/boot/spring-boot/2.7.6/spring-boot-2.7.6.jar!/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.class\n</code></pre>\n<p>The called method's class, org.apache.catalina.Context, is available\nfrom the following locations:</p>\n<pre><code>jar:file:/C:/Users/Janice/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.4/tomcat-embed-core-10.1.4.jar!/org/apache/catalina/Context.class\n</code></pre>\n<p>The called method's class hierarchy was loaded from the following\nlocations:</p>\n<pre><code>org.apache.catalina.Context: file:/C:/Users/Janice/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.4/tomcat-embed-core-10.1.4.jar\n</code></pre>\n<p>Action:</p>\n<p>Correct the classpath of your application so that it contains\ncompatible versions of the classes\norg.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory\nand org.apache.catalina.Context</p>\n</blockquote>\n<p>I expected to upgrade version for tomcat-embed-core to version 10.1.4</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n    &lt;version&gt;10.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","many-to-many"],"comments":[{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":0,"creation_date":1672044712,"post_id":74905269,"comment_id":132211379,"body_markdown":"Try to add default value for `students` and `subjects`.\n`... = new HashSet&lt;&gt;();`. Also, avoid [using `@Data` on your entities](https://www.jpa-buddy.com/blog/lombok-and-jpa-what-may-go-wrong/)","body":"Try to add default value for <code>students</code> and <code>subjects</code>. <code>... = new HashSet&lt;&gt;();</code>. Also, avoid <a href=\"https://www.jpa-buddy.com/blog/lombok-and-jpa-what-may-go-wrong/\" rel=\"nofollow noreferrer\">using <code>@Data</code> on your entities</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1672243888,"post_id":74905269,"comment_id":132250458,"body_markdown":"What you posted isn&#39;t an error, it is just a query string- post the full error message and part of the stack as it will probably help you. Turn off Lombok and generate the accessors yourself and it should work. As https://stackoverflow.com/a/74905342/496099 hinted at, Lombok is likely using your relationships within the equals and hashcode methods (Lombok shouldn&#39;t be used without knowing what it generates!), and Set requires using them to populate - which causes it to traverse your object model recursively. You might also be able to switch to using List instead of set, but more could be wrong","body":"What you posted isn&#39;t an error, it is just a query string- post the full error message and part of the stack as it will probably help you. Turn off Lombok and generate the accessors yourself and it should work. As <a href=\"https://stackoverflow.com/a/74905342/496099\">stackoverflow.com/a/74905342/496099</a> hinted at, Lombok is likely using your relationships within the equals and hashcode methods (Lombok shouldn&#39;t be used without knowing what it generates!), and Set requires using them to populate - which causes it to traverse your object model recursively. You might also be able to switch to using List instead of set, but more could be wrong"}],"answers":[{"tags":[],"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671850539,"creation_date":1671850539,"answer_id":74905342,"question_id":74905269,"body_markdown":"Try exclude `hash code` method auto generated by Lombok `@Data` annotation:\r\n```\r\n@EqualsAndHashCode(exclude = { &quot;subjects&quot; })\r\npublic class Student {\r\n\r\n    @ManyToMany(mappedBy=&quot;students&quot;, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private Set&lt;Subject&gt; subjects;\r\n}\r\n\r\n@EqualsAndHashCode(exclude = { &quot;students&quot; })\r\npublic class Subject {\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;Subjects_Students&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;subject_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;))\r\n    @JsonIgnore\r\n    private Set&lt;Student&gt; students;\r\n}\r\n```","title":"SPRING BOOT infinite recursion","body":"<p>Try exclude <code>hash code</code> method auto generated by Lombok <code>@Data</code> annotation:</p>\n<pre><code>@EqualsAndHashCode(exclude = { &quot;subjects&quot; })\npublic class Student {\n\n    @ManyToMany(mappedBy=&quot;students&quot;, fetch = FetchType.LAZY)\n    @JsonIgnore\n    private Set&lt;Subject&gt; subjects;\n}\n\n@EqualsAndHashCode(exclude = { &quot;students&quot; })\npublic class Subject {\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;Subjects_Students&quot;,\n            joinColumns = @JoinColumn(name = &quot;subject_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;))\n    @JsonIgnore\n    private Set&lt;Student&gt; students;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26862571,"reputation":1,"user_id":20445801,"display_name":"HIMANSHU RANJAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673437774,"creation_date":1673437774,"answer_id":75082578,"question_id":74905269,"body_markdown":"You can use `@JsonIgnoreProperties({&lt;entity_class_name&gt;})` to skip the recursive call. \r\n\r\nOn student class\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@JsonIgnoreProperties({&quot;Subject&quot;})\r\npublic class Student {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy=&quot;students&quot;, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private Set&lt;Subject&gt; subjects;\r\n\r\n    @ManyToMany(mappedBy=&quot;students&quot;)\r\n    @JsonIgnore\r\n    private Set&lt;Exam&gt; exams;\r\n\r\n    public boolean addSubject(Subject subject){\r\n        return subjects.add(subject);\r\n    }\r\n}\r\n```\r\nand on subject class\r\n\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@JsonIgnoreProperties({&quot;Student&quot;})\r\npublic class Subject {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String name;\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;Subjects_Students&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;subject_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;))\r\n    @JsonIgnore\r\n    private Set&lt;Student&gt; students;\r\n\r\n    @OneToMany(mappedBy=&quot;subject&quot;)\r\n    @JsonIgnore\r\n    private Set&lt;Exam&gt; exams;\r\n\r\n    @ManyToOne()\r\n    @JoinColumn(name=&quot;teacher_id&quot;)\r\n    @JsonIgnore\r\n    private Teacher teacher;\r\n\r\n    public boolean addStudent(Student student) {\r\n        return students.add(student);\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"SPRING BOOT infinite recursion","body":"<p>You can use <code>@JsonIgnoreProperties({&lt;entity_class_name&gt;})</code> to skip the recursive call.</p>\n<p>On student class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@JsonIgnoreProperties({&quot;Subject&quot;})\npublic class Student {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String name;\n\n    @ManyToMany(mappedBy=&quot;students&quot;, fetch = FetchType.LAZY)\n    @JsonIgnore\n    private Set&lt;Subject&gt; subjects;\n\n    @ManyToMany(mappedBy=&quot;students&quot;)\n    @JsonIgnore\n    private Set&lt;Exam&gt; exams;\n\n    public boolean addSubject(Subject subject){\n        return subjects.add(subject);\n    }\n}\n</code></pre>\n<p>and on subject class</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@JsonIgnoreProperties({&quot;Student&quot;})\npublic class Subject {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String name;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;Subjects_Students&quot;,\n            joinColumns = @JoinColumn(name = &quot;subject_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;))\n    @JsonIgnore\n    private Set&lt;Student&gt; students;\n\n    @OneToMany(mappedBy=&quot;subject&quot;)\n    @JsonIgnore\n    private Set&lt;Exam&gt; exams;\n\n    @ManyToOne()\n    @JoinColumn(name=&quot;teacher_id&quot;)\n    @JsonIgnore\n    private Teacher teacher;\n\n    public boolean addStudent(Student student) {\n        return students.add(student);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18398353,"reputation":1,"user_id":20851027,"display_name":"eurocase"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673437774,"creation_date":1671848662,"question_id":74905269,"body_markdown":"I have two entitys, Student and Subject. This two class have a many to many relationship. The thing is when i try to link a Subject with Student, not work give me a error. Looks like infinite recursion issue.\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class Student {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy=&quot;students&quot;, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private Set&lt;Subject&gt; subjects;\r\n\r\n    @ManyToMany(mappedBy=&quot;students&quot;)\r\n    @JsonIgnore\r\n    private Set&lt;Exam&gt; exams;\r\n\r\n    public boolean addSubject(Subject subject){\r\n        return subjects.add(subject);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\npublic class Subject {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String name;\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(\r\n            name = &quot;Subjects_Students&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;subject_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;))\r\n    @JsonIgnore\r\n    private Set&lt;Student&gt; students;\r\n\r\n    @OneToMany(mappedBy=&quot;subject&quot;)\r\n    @JsonIgnore\r\n    private Set&lt;Exam&gt; exams;\r\n\r\n    @ManyToOne()\r\n    @JoinColumn(name=&quot;teacher_id&quot;)\r\n    @JsonIgnore\r\n    private Teacher teacher;\r\n\r\n    public boolean addStudent(Student student) {\r\n        return students.add(student);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nthe methodo i use int the service is:\r\n\r\n\r\n```\r\n@PostMapping(&quot;/{studentId}/subject/{subjectId}&quot;)\r\npublic ResponseEntity&lt;Student&gt; addSubject(@PathVariable Long studentId, @PathVariable Long subjectId ){\r\n    return studentService.addSubject(studentId,subjectId);\r\n}\r\n```\r\n\r\n\r\nAnd the error:\r\n\r\nHibernate: select subjects0_.student_id as student_2_4_0_, subjects0_.subject_id as subject_1_4_0_, subject1_.id as id1_3_1_, subject1_.name as name2_3_1_, subject1_.teacher_id as teacher_3_3_1_, teacher2_.id as id1_5_2_, teacher2_.name as name2_5_2_ from subjects_students subjects0_ inner join subject subject1_ on subjects0_.subject_id=subject1_.id left outer join teacher teacher2_ on subject1_.teacher_id=teacher2_.id where subjects0_.student_id=? \r\n\r\nPlease help me, this is driving creazy","title":"SPRING BOOT infinite recursion","body":"<p>I have two entitys, Student and Subject. This two class have a many to many relationship. The thing is when i try to link a Subject with Student, not work give me a error. Looks like infinite recursion issue.</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class Student {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String name;\n\n    @ManyToMany(mappedBy=&quot;students&quot;, fetch = FetchType.LAZY)\n    @JsonIgnore\n    private Set&lt;Subject&gt; subjects;\n\n    @ManyToMany(mappedBy=&quot;students&quot;)\n    @JsonIgnore\n    private Set&lt;Exam&gt; exams;\n\n    public boolean addSubject(Subject subject){\n        return subjects.add(subject);\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\npublic class Subject {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String name;\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(\n            name = &quot;Subjects_Students&quot;,\n            joinColumns = @JoinColumn(name = &quot;subject_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;student_id&quot;))\n    @JsonIgnore\n    private Set&lt;Student&gt; students;\n\n    @OneToMany(mappedBy=&quot;subject&quot;)\n    @JsonIgnore\n    private Set&lt;Exam&gt; exams;\n\n    @ManyToOne()\n    @JoinColumn(name=&quot;teacher_id&quot;)\n    @JsonIgnore\n    private Teacher teacher;\n\n    public boolean addStudent(Student student) {\n        return students.add(student);\n    }\n}\n</code></pre>\n<p>the methodo i use int the service is:</p>\n<pre><code>@PostMapping(&quot;/{studentId}/subject/{subjectId}&quot;)\npublic ResponseEntity&lt;Student&gt; addSubject(@PathVariable Long studentId, @PathVariable Long subjectId ){\n    return studentService.addSubject(studentId,subjectId);\n}\n</code></pre>\n<p>And the error:</p>\n<p>Hibernate: select subjects0_.student_id as student_2_4_0_, subjects0_.subject_id as subject_1_4_0_, subject1_.id as id1_3_1_, subject1_.name as name2_3_1_, subject1_.teacher_id as teacher_3_3_1_, teacher2_.id as id1_5_2_, teacher2_.name as name2_5_2_ from subjects_students subjects0_ inner join subject subject1_ on subjects0_.subject_id=subject1_.id left outer join teacher teacher2_ on subject1_.teacher_id=teacher2_.id where subjects0_.student_id=?</p>\n<p>Please help me, this is driving creazy</p>\n"},{"tags":["java","swing","netbeans","jbutton"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":3,"creation_date":1658513706,"post_id":73083936,"comment_id":129078740,"body_markdown":"`new JButton(String.valueOf(i))` or `new JButton(&quot;&quot;+i)`","body":"<code>new JButton(String.valueOf(i))</code> or <code>new JButton(&quot;&quot;+i)</code>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1658532461,"post_id":73083936,"comment_id":129082991,"body_markdown":"what is a _JButton objectiv_?","body":"what is a <i>JButton objectiv</i>?"}],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658510738,"creation_date":1658510738,"answer_id":73084007,"question_id":73083936,"body_markdown":"Define the `JButton` object and add the text you want using `setText()` method\r\n\r\n```  \r\nfor (int i = 0; i &lt; 10; i++) {\r\n  JButton jButton = new JButton();\r\n  jButton.setText(String.valueOf(i));\r\n  frame.add(jButton);\r\n}\r\n```","title":"I want to increase JButton with for loop. How can I do?","body":"<p>Define the <code>JButton</code> object and add the text you want using <code>setText()</code> method</p>\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n  JButton jButton = new JButton();\n  jButton.setText(String.valueOf(i));\n  frame.add(jButton);\n}\n</code></pre>\n"}],"owner":{"account_id":18734871,"reputation":1,"user_id":13659446,"display_name":"ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673437565,"creation_date":1658510397,"question_id":73083936,"body_markdown":"I want to increase JButton with for loop but this program output wrote just &quot;i&quot;. I want to write output &quot;1&quot;, &quot;2&quot;,....&quot;10&quot; in this program. So I understood that I don&#39;t write correct this `frame.add(newâ€¯JButton(&quot;i&quot;));`.  \r\nWhat should I do?\r\n\r\n    public static void main(String[]args){\r\n       \r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(500,500);\r\n        frame.setLayout(new FlowLayout());\r\n        \r\n        for(int i = 0; i&lt;10;i++){\r\n            frame.add(new JButton(&quot;i&quot;));\r\n        }\r\n\r\n        frame.setVisible(true);\r\n        \r\n    }\r\n\r\n","title":"I want to increase JButton with for loop. How can I do?","body":"<p>I want to increase JButton with for loop but this program output wrote just &quot;i&quot;. I want to write output &quot;1&quot;, &quot;2&quot;,....&quot;10&quot; in this program. So I understood that I don't write correct this <code>frame.add(newâ€¯JButton(&quot;i&quot;));</code>.<br />\nWhat should I do?</p>\n<pre><code>public static void main(String[]args){\n   \n    JFrame frame = new JFrame();\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(500,500);\n    frame.setLayout(new FlowLayout());\n    \n    for(int i = 0; i&lt;10;i++){\n        frame.add(new JButton(&quot;i&quot;));\n    }\n\n    frame.setVisible(true);\n    \n}\n</code></pre>\n"},{"tags":["java","android","geolocation"],"answers":[{"tags":[],"owner":{"account_id":2288,"reputation":191195,"user_id":3171,"accept_rate":92,"display_name":"David Webb"},"down_vote_count":1,"up_vote_count":357,"is_accepted":false,"score":356,"last_activity_date":1505601528,"creation_date":1265698180,"answer_id":2227299,"question_id":2227292,"body_markdown":"Use the [`LocationManager`][1].\r\n\r\n    LocationManager lm = (LocationManager)getSystemService(Context.LOCATION_SERVICE); \r\n    Location location = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n    double longitude = location.getLongitude();\r\n    double latitude = location.getLatitude();\r\n\r\nThe call to `getLastKnownLocation()` doesn&#39;t block - which means it will return `null` if no position is currently available - so you probably want to have a look at passing a [`LocationListener`][2] to the [`requestLocationUpdates()` method][3] instead, which will give you asynchronous updates of your location.\r\n\r\n    private final LocationListener locationListener = new LocationListener() {\r\n        public void onLocationChanged(Location location) {\r\n            longitude = location.getLongitude();\r\n            latitude = location.getLatitude();\r\n        }\r\n    }\r\n\r\n    lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 2000, 10, locationListener);\r\n\r\nYou&#39;ll need to give your application the [`ACCESS_FINE_LOCATION` permission][4] if you want to use GPS.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n\r\nYou may also want to add the [`ACCESS_COARSE_LOCATION` permission][5] for when GPS isn&#39;t available and select your location provider with the [`getBestProvider()` method][6].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/location/LocationManager.html\r\n  [2]: https://developer.android.com/reference/android/location/LocationListener.html\r\n  [3]: https://developer.android.com/reference/android/location/LocationManager.html#requestLocationUpdates(java.lang.String,%20long,%20float,%20android.app.PendingIntent)\r\n  [4]: https://developer.android.com/reference/android/Manifest.permission.html#ACCESS_FINE_LOCATION\r\n  [5]: https://developer.android.com/reference/android/Manifest.permission.html#ACCESS_COARSE_LOCATION\r\n  [6]: https://developer.android.com/reference/android/location/LocationManager.html#getBestProvider(android.location.Criteria,%20boolean)","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>Use the <a href=\"https://developer.android.com/reference/android/location/LocationManager.html\" rel=\"noreferrer\"><code>LocationManager</code></a>.</p>\n\n<pre><code>LocationManager lm = (LocationManager)getSystemService(Context.LOCATION_SERVICE); \nLocation location = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\ndouble longitude = location.getLongitude();\ndouble latitude = location.getLatitude();\n</code></pre>\n\n<p>The call to <code>getLastKnownLocation()</code> doesn't block - which means it will return <code>null</code> if no position is currently available - so you probably want to have a look at passing a <a href=\"https://developer.android.com/reference/android/location/LocationListener.html\" rel=\"noreferrer\"><code>LocationListener</code></a> to the <a href=\"https://developer.android.com/reference/android/location/LocationManager.html#requestLocationUpdates(java.lang.String,%20long,%20float,%20android.app.PendingIntent)\" rel=\"noreferrer\"><code>requestLocationUpdates()</code> method</a> instead, which will give you asynchronous updates of your location.</p>\n\n<pre><code>private final LocationListener locationListener = new LocationListener() {\n    public void onLocationChanged(Location location) {\n        longitude = location.getLongitude();\n        latitude = location.getLatitude();\n    }\n}\n\nlm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 2000, 10, locationListener);\n</code></pre>\n\n<p>You'll need to give your application the <a href=\"https://developer.android.com/reference/android/Manifest.permission.html#ACCESS_FINE_LOCATION\" rel=\"noreferrer\"><code>ACCESS_FINE_LOCATION</code> permission</a> if you want to use GPS.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n</code></pre>\n\n<p>You may also want to add the <a href=\"https://developer.android.com/reference/android/Manifest.permission.html#ACCESS_COARSE_LOCATION\" rel=\"noreferrer\"><code>ACCESS_COARSE_LOCATION</code> permission</a> for when GPS isn't available and select your location provider with the <a href=\"https://developer.android.com/reference/android/location/LocationManager.html#getBestProvider(android.location.Criteria,%20boolean)\" rel=\"noreferrer\"><code>getBestProvider()</code> method</a>.</p>\n"},{"tags":[],"owner":{"account_id":378089,"reputation":3331,"user_id":730600,"accept_rate":59,"display_name":"sandy"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1436894021,"creation_date":1310109332,"answer_id":6621161,"question_id":2227292,"body_markdown":"Here is the class `LocationFinder` to find the GPS location. This class will call `MyLocation`, which will do the business.\r\n\r\n**LocationFinder**\r\n\r\n    public class LocationFinder extends Activity {\r\n\r\n\t    int increment = 4;\r\n\t    MyLocation myLocation = new MyLocation();\r\n\r\n\t    // private ProgressDialog dialog;\r\n\r\n\t    public void onCreate(Bundle savedInstanceState) {\r\n\t\t    super.onCreate(savedInstanceState);\r\n\t\t    setContentView(R.layout.intermediat);\r\n\t\t    myLocation.getLocation(getApplicationContext(), locationResult);\r\n\r\n\t\t    boolean r = myLocation.getLocation(getApplicationContext(),\r\n\t\t\t\tlocationResult);\r\n\r\n\t\t    startActivity(new Intent(LocationFinder.this,\r\n\t\t    // Nearbyhotelfinder.class));\r\n\t\t\t\tGPSMyListView.class));\r\n\t\t    finish();\r\n\t    }\r\n\r\n\t    public LocationResult locationResult = new LocationResult() {\r\n\r\n\t\t    @Override\r\n\t\t    public void gotLocation(Location location) {\r\n\t\t\t    // TODO Auto-generated method stub\r\n\t\t\t    double Longitude = location.getLongitude();\r\n\t\t\t    double Latitude = location.getLatitude();\r\n\r\n\t\t\t    Toast.makeText(getApplicationContext(), &quot;Got Location&quot;,\r\n\t\t\t\t\tToast.LENGTH_LONG).show();\r\n\r\n\t\t\t    try {\r\n\t\t\t\t    SharedPreferences locationpref = getApplication()\r\n\t\t\t\t\t\t.getSharedPreferences(&quot;location&quot;, MODE_WORLD_READABLE);\r\n\t\t\t\t    SharedPreferences.Editor prefsEditor = locationpref.edit();\r\n\t\t\t\t    prefsEditor.putString(&quot;Longitude&quot;, Longitude + &quot;&quot;);\r\n\t\t\t\t    prefsEditor.putString(&quot;Latitude&quot;, Latitude + &quot;&quot;);\r\n\t\t\t\t    prefsEditor.commit();\r\n\t\t\t\t    System.out.println(&quot;SHARE PREFERENCE ME PUT KAR DIYA.&quot;);\r\n\t\t\t    } catch (Exception e) {\r\n\t\t\t\t    // TODO Auto-generated catch block\r\n\t\t\t\t    e.printStackTrace();\r\n\t\t\t    }\r\n\t\t    }\r\n\t    };\r\n\r\n\t    // handler for the background updating\r\n\r\n    }\r\n\r\n**MyLocation**\r\n\r\n    public class MyLocation {\r\n\r\n        Timer timer1;\r\n        LocationManager lm;\r\n        LocationResult locationResult;\r\n        boolean gps_enabled=false;\r\n        boolean network_enabled=false;\r\n\r\n        public boolean getLocation(Context context, LocationResult result)\r\n        {\r\n            //I use LocationResult callback class to pass location value from MyLocation to user code.\r\n            locationResult=result;\r\n            if(lm==null)\r\n                lm = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\r\n\r\n            //exceptions will be thrown if provider is not permitted.\r\n            try{gps_enabled=lm.isProviderEnabled(LocationManager.GPS_PROVIDER);}catch(Exception ex){}\r\n            try{network_enabled=lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER);}catch(Exception ex){}\r\n        \r\n            //Toast.makeText(context, gps_enabled+&quot; &quot;+network_enabled,     Toast.LENGTH_LONG).show();\r\n        \r\n            //don&#39;t start listeners if no provider is enabled\r\n            if(!gps_enabled &amp;&amp; !network_enabled)\r\n                return false;\r\n\r\n            if(gps_enabled)\r\n                lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListenerGps);\r\n            if(network_enabled)\r\n                lm.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListenerNetwork);\r\n            timer1=new Timer();\r\n        \r\n      \r\n            timer1.schedule(new GetLastLocation(), 10000);\r\n        //    Toast.makeText(context, &quot; Yaha Tak AAya&quot;, Toast.LENGTH_LONG).show();\r\n            return true;\r\n        }\r\n\r\n        LocationListener locationListenerGps = new LocationListener() {\r\n            public void onLocationChanged(Location location) {\r\n                timer1.cancel();\r\n                locationResult.gotLocation(location);\r\n                lm.removeUpdates(this);\r\n                lm.removeUpdates(locationListenerNetwork);\r\n            }\r\n            public void onProviderDisabled(String provider) {}\r\n            public void onProviderEnabled(String provider) {}\r\n            public void onStatusChanged(String provider, int status, Bundle extras) {}\r\n        };\r\n\r\n        LocationListener locationListenerNetwork = new LocationListener() {\r\n            public void onLocationChanged(Location location) {\r\n                timer1.cancel();\r\n                locationResult.gotLocation(location);\r\n                lm.removeUpdates(this);\r\n                lm.removeUpdates(locationListenerGps);\r\n            }\r\n            public void onProviderDisabled(String provider) {}\r\n            public void onProviderEnabled(String provider) {}\r\n            public void onStatusChanged(String provider, int status, Bundle extras) {}\r\n        };\r\n\r\n        class GetLastLocation extends TimerTask {\r\n\t\t    @Override\r\n\r\n            public void run() {\r\n        \t\r\n\t\t\t    //Context context = getClass().getgetApplicationContext();\r\n                 Location net_loc=null, gps_loc=null;\r\n                 if(gps_enabled)\r\n                     gps_loc=lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n                 if(network_enabled)\r\n                     net_loc=lm.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);\r\n\r\n                 //if there are both values use the latest one\r\n                 if(gps_loc!=null &amp;&amp; net_loc!=null){\r\n                     if(gps_loc.getTime()&gt;net_loc.getTime())\r\n                         locationResult.gotLocation(gps_loc);\r\n                     else\r\n                         locationResult.gotLocation(net_loc);\r\n                     return;\r\n                 }\r\n\r\n                 if(gps_loc!=null){\r\n                     locationResult.gotLocation(gps_loc);\r\n                     return;\r\n                 }\r\n                 if(net_loc!=null){\r\n                     locationResult.gotLocation(net_loc);\r\n                     return;\r\n                 }\r\n                 locationResult.gotLocation(null);\r\n            }\r\n        }\r\n\r\n        public static abstract class LocationResult{\r\n            public abstract void gotLocation(Location location);\r\n        }\r\n    }","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>Here is the class <code>LocationFinder</code> to find the GPS location. This class will call <code>MyLocation</code>, which will do the business.</p>\n\n<p><strong>LocationFinder</strong></p>\n\n<pre><code>public class LocationFinder extends Activity {\n\n    int increment = 4;\n    MyLocation myLocation = new MyLocation();\n\n    // private ProgressDialog dialog;\n\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.intermediat);\n        myLocation.getLocation(getApplicationContext(), locationResult);\n\n        boolean r = myLocation.getLocation(getApplicationContext(),\n            locationResult);\n\n        startActivity(new Intent(LocationFinder.this,\n        // Nearbyhotelfinder.class));\n            GPSMyListView.class));\n        finish();\n    }\n\n    public LocationResult locationResult = new LocationResult() {\n\n        @Override\n        public void gotLocation(Location location) {\n            // TODO Auto-generated method stub\n            double Longitude = location.getLongitude();\n            double Latitude = location.getLatitude();\n\n            Toast.makeText(getApplicationContext(), \"Got Location\",\n                Toast.LENGTH_LONG).show();\n\n            try {\n                SharedPreferences locationpref = getApplication()\n                    .getSharedPreferences(\"location\", MODE_WORLD_READABLE);\n                SharedPreferences.Editor prefsEditor = locationpref.edit();\n                prefsEditor.putString(\"Longitude\", Longitude + \"\");\n                prefsEditor.putString(\"Latitude\", Latitude + \"\");\n                prefsEditor.commit();\n                System.out.println(\"SHARE PREFERENCE ME PUT KAR DIYA.\");\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    };\n\n    // handler for the background updating\n\n}\n</code></pre>\n\n<p><strong>MyLocation</strong></p>\n\n<pre><code>public class MyLocation {\n\n    Timer timer1;\n    LocationManager lm;\n    LocationResult locationResult;\n    boolean gps_enabled=false;\n    boolean network_enabled=false;\n\n    public boolean getLocation(Context context, LocationResult result)\n    {\n        //I use LocationResult callback class to pass location value from MyLocation to user code.\n        locationResult=result;\n        if(lm==null)\n            lm = (LocationManager) context.getSystemService(Context.LOCATION_SERVICE);\n\n        //exceptions will be thrown if provider is not permitted.\n        try{gps_enabled=lm.isProviderEnabled(LocationManager.GPS_PROVIDER);}catch(Exception ex){}\n        try{network_enabled=lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER);}catch(Exception ex){}\n\n        //Toast.makeText(context, gps_enabled+\" \"+network_enabled,     Toast.LENGTH_LONG).show();\n\n        //don't start listeners if no provider is enabled\n        if(!gps_enabled &amp;&amp; !network_enabled)\n            return false;\n\n        if(gps_enabled)\n            lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListenerGps);\n        if(network_enabled)\n            lm.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0, locationListenerNetwork);\n        timer1=new Timer();\n\n\n        timer1.schedule(new GetLastLocation(), 10000);\n    //    Toast.makeText(context, \" Yaha Tak AAya\", Toast.LENGTH_LONG).show();\n        return true;\n    }\n\n    LocationListener locationListenerGps = new LocationListener() {\n        public void onLocationChanged(Location location) {\n            timer1.cancel();\n            locationResult.gotLocation(location);\n            lm.removeUpdates(this);\n            lm.removeUpdates(locationListenerNetwork);\n        }\n        public void onProviderDisabled(String provider) {}\n        public void onProviderEnabled(String provider) {}\n        public void onStatusChanged(String provider, int status, Bundle extras) {}\n    };\n\n    LocationListener locationListenerNetwork = new LocationListener() {\n        public void onLocationChanged(Location location) {\n            timer1.cancel();\n            locationResult.gotLocation(location);\n            lm.removeUpdates(this);\n            lm.removeUpdates(locationListenerGps);\n        }\n        public void onProviderDisabled(String provider) {}\n        public void onProviderEnabled(String provider) {}\n        public void onStatusChanged(String provider, int status, Bundle extras) {}\n    };\n\n    class GetLastLocation extends TimerTask {\n        @Override\n\n        public void run() {\n\n            //Context context = getClass().getgetApplicationContext();\n             Location net_loc=null, gps_loc=null;\n             if(gps_enabled)\n                 gps_loc=lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\n             if(network_enabled)\n                 net_loc=lm.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);\n\n             //if there are both values use the latest one\n             if(gps_loc!=null &amp;&amp; net_loc!=null){\n                 if(gps_loc.getTime()&gt;net_loc.getTime())\n                     locationResult.gotLocation(gps_loc);\n                 else\n                     locationResult.gotLocation(net_loc);\n                 return;\n             }\n\n             if(gps_loc!=null){\n                 locationResult.gotLocation(gps_loc);\n                 return;\n             }\n             if(net_loc!=null){\n                 locationResult.gotLocation(net_loc);\n                 return;\n             }\n             locationResult.gotLocation(null);\n        }\n    }\n\n    public static abstract class LocationResult{\n        public abstract void gotLocation(Location location);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":164605,"reputation":467,"user_id":387466,"accept_rate":71,"display_name":"Datta Kunde"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1337064908,"creation_date":1337064908,"answer_id":10595605,"question_id":2227292,"body_markdown":"Above solutions is also correct, but some time if location is null then it crash the app or not working properly. The best way to get Latitude and Longitude of android is:\r\n\r\n \r\n\r\n   \r\n\r\n     Geocoder geocoder;\r\n         String bestProvider;\r\n         List&lt;Address&gt; user = null;\r\n         double lat;\r\n         double lng;\r\n        \t\t\r\n        LocationManager lm = (LocationManager) activity.getSystemService(Context.LOCATION_SERVICE);\r\n            \r\n         Criteria criteria = new Criteria();\r\n         bestProvider = lm.getBestProvider(criteria, false);\r\n         Location location = lm.getLastKnownLocation(bestProvider);\r\n        \r\n         if (location == null){\r\n             Toast.makeText(activity,&quot;Location Not found&quot;,Toast.LENGTH_LONG).show();\r\n          }else{\r\n        \tgeocoder = new Geocoder(activity);\r\n        \ttry {\r\n        \t    user = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);\r\n        \tlat=(double)user.get(0).getLatitude();\r\n        \tlng=(double)user.get(0).getLongitude();\r\n        \tSystem.out.println(&quot; DDD lat: &quot; +lat+&quot;,  longitude: &quot;+lng);\r\n        \t\t\t\t\r\n        \t}catch (Exception e) {\r\n        \t\t\te.printStackTrace();\r\n        \t}\r\n        }","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>Above solutions is also correct, but some time if location is null then it crash the app or not working properly. The best way to get Latitude and Longitude of android is:</p>\n\n<pre><code> Geocoder geocoder;\n     String bestProvider;\n     List&lt;Address&gt; user = null;\n     double lat;\n     double lng;\n\n    LocationManager lm = (LocationManager) activity.getSystemService(Context.LOCATION_SERVICE);\n\n     Criteria criteria = new Criteria();\n     bestProvider = lm.getBestProvider(criteria, false);\n     Location location = lm.getLastKnownLocation(bestProvider);\n\n     if (location == null){\n         Toast.makeText(activity,\"Location Not found\",Toast.LENGTH_LONG).show();\n      }else{\n        geocoder = new Geocoder(activity);\n        try {\n            user = geocoder.getFromLocation(location.getLatitude(), location.getLongitude(), 1);\n        lat=(double)user.get(0).getLatitude();\n        lng=(double)user.get(0).getLongitude();\n        System.out.println(\" DDD lat: \" +lat+\",  longitude: \"+lng);\n\n        }catch (Exception e) {\n                e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076789,"reputation":607,"user_id":2605915,"accept_rate":67,"display_name":"Muhammad Zahid"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1407587527,"creation_date":1407587527,"answer_id":25218609,"question_id":2227292,"body_markdown":"you can got Current latlng using this\r\n\r\n`\r\n      \r\n      public class MainActivity extends ActionBarActivity {\r\n      private LocationManager locationManager;\r\n      private String provider;\r\n\t  private MyLocationListener mylistener;\r\n\t  private Criteria criteria;\r\n\t@TargetApi(Build.VERSION_CODES.HONEYCOMB)\r\n\t@SuppressLint(&quot;NewApi&quot;)\r\n    @Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\r\n\t\t\t\t\r\n\t\t\t\t locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n\t\t\t\t  // Define the criteria how to select the location provider\r\n\t\t\t\t  criteria = new Criteria();\r\n\t\t\t\t  criteria.setAccuracy(Criteria.ACCURACY_COARSE);\t//default\r\n\t\t\t\t  \r\n\t\t\t\t  // user defines the criteria\r\n\t\t\t\t \r\n\t\t\t\t  criteria.setCostAllowed(false); \r\n\t\t\t\t  // get the best provider depending on the criteria\r\n\t\t\t\t  provider = locationManager.getBestProvider(criteria, false);\r\n\t\t\t    \r\n\t\t\t\t  // the last known location of this provider\r\n\t\t\t\t  Location location = locationManager.getLastKnownLocation(provider);\r\n\r\n\t\t\t\t  mylistener = new MyLocationListener();\r\n\t\t\t\r\n\t\t\t\t  if (location != null) {\r\n\t\t\t\t\t  mylistener.onLocationChanged(location);\r\n\t\t\t\t  } else {\r\n\t\t\t\t\t  // leads to the settings because there is no last known location\r\n\t\t\t\t\t  Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\r\n\t\t\t\t\t  startActivity(intent);\r\n\t\t\t\t  }\r\n\t\t\t\t  // location updates: at least 1 meter and 200millsecs change\r\n\t\t\t\t  locationManager.requestLocationUpdates(provider, 200, 1, mylistener);\r\n\t\t\t\tString a=&quot;&quot;+location.getLatitude();\r\n\t\t\t\tToast.makeText(getApplicationContext(), a, 222).show();\r\n\t\t\r\n\t}\r\n\t\t\t\t\r\n\tprivate class MyLocationListener implements LocationListener {\r\n\t\t\r\n\t\t  @Override\r\n\t\t  public void onLocationChanged(Location location) {\r\n\t\t\t// Initialize the location fields\r\n\r\n\r\n\t\t\t  \r\n\t\t\t  Toast.makeText(MainActivity.this,  &quot;&quot;+location.getLatitude()+location.getLongitude(),\r\n\t\t\t\t        Toast.LENGTH_SHORT).show()  \r\n\t\t\t  \r\n\t\t  }\r\n\t\r\n\t\t  @Override\r\n\t\t  public void onStatusChanged(String provider, int status, Bundle extras) {\r\n\t\t\t  Toast.makeText(MainActivity.this, provider + &quot;&#39;s status changed to &quot;+status +&quot;!&quot;,\r\n\t\t\t\t        Toast.LENGTH_SHORT).show();\r\n\t\t  }\r\n\t\r\n\t\t  @Override\r\n\t\t  public void onProviderEnabled(String provider) {\r\n\t\t\t  Toast.makeText(MainActivity.this, &quot;Provider &quot; + provider + &quot; enabled!&quot;,\r\n\t\t        Toast.LENGTH_SHORT).show();\r\n\t\r\n\t\t  }\r\n\t\r\n\t\t  @Override\r\n\t\t  public void onProviderDisabled(String provider) {\r\n\t\t\t  Toast.makeText(MainActivity.this, &quot;Provider &quot; + provider + &quot; disabled!&quot;,\r\n\t\t        Toast.LENGTH_SHORT).show();\r\n\t\t  }\r\n\t  }\t\t\t\r\n\t\r\n\t\r\n\r\n\t\r\n\r\n\r\n\r\n`","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>you can got Current latlng using this</p>\n\n<p>`</p>\n\n<pre><code>  public class MainActivity extends ActionBarActivity {\n  private LocationManager locationManager;\n  private String provider;\n  private MyLocationListener mylistener;\n  private Criteria criteria;\n@TargetApi(Build.VERSION_CODES.HONEYCOMB)\n@SuppressLint(\"NewApi\")\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n             locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n              // Define the criteria how to select the location provider\n              criteria = new Criteria();\n              criteria.setAccuracy(Criteria.ACCURACY_COARSE);   //default\n\n              // user defines the criteria\n\n              criteria.setCostAllowed(false); \n              // get the best provider depending on the criteria\n              provider = locationManager.getBestProvider(criteria, false);\n\n              // the last known location of this provider\n              Location location = locationManager.getLastKnownLocation(provider);\n\n              mylistener = new MyLocationListener();\n\n              if (location != null) {\n                  mylistener.onLocationChanged(location);\n              } else {\n                  // leads to the settings because there is no last known location\n                  Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);\n                  startActivity(intent);\n              }\n              // location updates: at least 1 meter and 200millsecs change\n              locationManager.requestLocationUpdates(provider, 200, 1, mylistener);\n            String a=\"\"+location.getLatitude();\n            Toast.makeText(getApplicationContext(), a, 222).show();\n\n}\n\nprivate class MyLocationListener implements LocationListener {\n\n      @Override\n      public void onLocationChanged(Location location) {\n        // Initialize the location fields\n\n\n\n          Toast.makeText(MainActivity.this,  \"\"+location.getLatitude()+location.getLongitude(),\n                    Toast.LENGTH_SHORT).show()  \n\n      }\n\n      @Override\n      public void onStatusChanged(String provider, int status, Bundle extras) {\n          Toast.makeText(MainActivity.this, provider + \"'s status changed to \"+status +\"!\",\n                    Toast.LENGTH_SHORT).show();\n      }\n\n      @Override\n      public void onProviderEnabled(String provider) {\n          Toast.makeText(MainActivity.this, \"Provider \" + provider + \" enabled!\",\n            Toast.LENGTH_SHORT).show();\n\n      }\n\n      @Override\n      public void onProviderDisabled(String provider) {\n          Toast.makeText(MainActivity.this, \"Provider \" + provider + \" disabled!\",\n            Toast.LENGTH_SHORT).show();\n      }\n  }         \n</code></pre>\n\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":1507033,"reputation":23680,"user_id":1410185,"accept_rate":98,"display_name":"Mina Gabriel"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1593633670,"creation_date":1460177996,"answer_id":36512926,"question_id":2227292,"body_markdown":"With `google` things changes very often: non of the previous answers worked for me.\r\n\r\n\r\n\r\nbased on [this google training][1] here is how you do it using \r\n\r\n&gt; fused location provider \r\n\r\nthis requires Set Up Google Play Services\r\n\r\n**Activity class**\r\n\r\n    public class GPSTrackerActivity extends AppCompatActivity implements\r\n        GoogleApiClient.ConnectionCallbacks,     \r\n     GoogleApiClient.OnConnectionFailedListener {\r\n\r\n    private GoogleApiClient mGoogleApiClient;\r\n    Location mLastLocation;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        if (mGoogleApiClient == null) {\r\n            mGoogleApiClient = new GoogleApiClient.Builder(this)\r\n                    .addConnectionCallbacks(this)\r\n                    .addOnConnectionFailedListener(this)\r\n                    .addApi(LocationServices.API)\r\n                    .build();\r\n        }\r\n\r\n    }\r\n\r\n    protected void onStart() {\r\n        mGoogleApiClient.connect();\r\n        super.onStart();\r\n    }\r\n\r\n    protected void onStop() {\r\n        mGoogleApiClient.disconnect();\r\n        super.onStop();\r\n    }\r\n\r\n    @Override\r\n    public void onConnected(Bundle bundle) {\r\n        try {\r\n\r\n            mLastLocation = LocationServices.FusedLocationApi.getLastLocation(\r\n                    mGoogleApiClient);\r\n            if (mLastLocation != null) {\r\n                Intent intent = new Intent();\r\n                intent.putExtra(&quot;Longitude&quot;, mLastLocation.getLongitude());\r\n                intent.putExtra(&quot;Latitude&quot;, mLastLocation.getLatitude());\r\n                setResult(1,intent);\r\n                finish();\r\n\r\n            }\r\n        } catch (SecurityException e) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionSuspended(int i) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionFailed(ConnectionResult connectionResult) {\r\n\r\n    }\r\n    }\r\n\r\n\r\n**usage**\r\n\r\nin you activity\r\n\r\n     Intent intent = new Intent(context, GPSTrackerActivity.class);\r\n        startActivityForResult(intent,1);\r\n\r\nAnd this method\r\n\r\n     protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if(requestCode == 1){\r\n            Bundle extras = data.getExtras();\r\n            Double longitude = extras.getDouble(&quot;Longitude&quot;);\r\n            Double latitude = extras.getDouble(&quot;Latitude&quot;);\r\n        }\r\n    }\r\n\r\n  [1]: http://developer.android.com/training/location/retrieve-current.html","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>With <code>google</code> things changes very often: non of the previous answers worked for me.</p>\n<p>based on <a href=\"http://developer.android.com/training/location/retrieve-current.html\" rel=\"nofollow noreferrer\">this google training</a> here is how you do it using</p>\n<blockquote>\n<p>fused location provider</p>\n</blockquote>\n<p>this requires Set Up Google Play Services</p>\n<p><strong>Activity class</strong></p>\n<pre><code>public class GPSTrackerActivity extends AppCompatActivity implements\n    GoogleApiClient.ConnectionCallbacks,     \n GoogleApiClient.OnConnectionFailedListener {\n\nprivate GoogleApiClient mGoogleApiClient;\nLocation mLastLocation;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    if (mGoogleApiClient == null) {\n        mGoogleApiClient = new GoogleApiClient.Builder(this)\n                .addConnectionCallbacks(this)\n                .addOnConnectionFailedListener(this)\n                .addApi(LocationServices.API)\n                .build();\n    }\n\n}\n\nprotected void onStart() {\n    mGoogleApiClient.connect();\n    super.onStart();\n}\n\nprotected void onStop() {\n    mGoogleApiClient.disconnect();\n    super.onStop();\n}\n\n@Override\npublic void onConnected(Bundle bundle) {\n    try {\n\n        mLastLocation = LocationServices.FusedLocationApi.getLastLocation(\n                mGoogleApiClient);\n        if (mLastLocation != null) {\n            Intent intent = new Intent();\n            intent.putExtra(&quot;Longitude&quot;, mLastLocation.getLongitude());\n            intent.putExtra(&quot;Latitude&quot;, mLastLocation.getLatitude());\n            setResult(1,intent);\n            finish();\n\n        }\n    } catch (SecurityException e) {\n\n    }\n\n}\n\n@Override\npublic void onConnectionSuspended(int i) {\n\n}\n\n@Override\npublic void onConnectionFailed(ConnectionResult connectionResult) {\n\n}\n}\n</code></pre>\n<p><strong>usage</strong></p>\n<p>in you activity</p>\n<pre><code> Intent intent = new Intent(context, GPSTrackerActivity.class);\n    startActivityForResult(intent,1);\n</code></pre>\n<p>And this method</p>\n<pre><code> protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if(requestCode == 1){\n        Bundle extras = data.getExtras();\n        Double longitude = extras.getDouble(&quot;Longitude&quot;);\n        Double latitude = extras.getDouble(&quot;Latitude&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8154089,"reputation":201,"user_id":6140220,"accept_rate":73,"display_name":"Ahmad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556188470,"creation_date":1556188470,"answer_id":55847283,"question_id":2227292,"body_markdown":"**Best way is**\r\n\r\nAdd permission manifest file\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n\r\nThen you can get GPS location or if GPS location is not available then this function return NETWORK location\r\n\r\n        public static Location getLocationWithCheckNetworkAndGPS(Context mContext) {\r\n        LocationManager lm = (LocationManager)\r\n                mContext.getSystemService(Context.LOCATION_SERVICE);\r\n        assert lm != null;\r\n        isGpsEnabled = lm.isProviderEnabled(LocationManager.GPS_PROVIDER);\r\n        isNetworkLocationEnabled = lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\r\n\r\n        Location networkLoacation = null, gpsLocation = null, finalLoc = null;\r\n        if (isGpsEnabled)\r\n            if (ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n             \r\n                return null;\r\n            }gpsLocation = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n        if (isNetworkLocationEnabled)\r\n            networkLoacation = lm.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);\r\n\r\n        if (gpsLocation != null &amp;&amp; networkLoacation != null) {\r\n\r\n            //smaller the number more accurate result will\r\n            if (gpsLocation.getAccuracy() &gt; networkLoacation.getAccuracy())\r\n                return finalLoc = networkLoacation;\r\n            else\r\n                return finalLoc = gpsLocation;\r\n\r\n        } else {\r\n\r\n            if (gpsLocation != null) {\r\n                return finalLoc = gpsLocation;\r\n            } else if (networkLoacation != null) {\r\n                return finalLoc = networkLoacation;\r\n            }\r\n        }\r\n        return finalLoc;\r\n    }\r\n","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p><strong>Best way is</strong></p>\n\n<p>Add permission manifest file</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/&gt;\n</code></pre>\n\n<p>Then you can get GPS location or if GPS location is not available then this function return NETWORK location</p>\n\n<pre><code>    public static Location getLocationWithCheckNetworkAndGPS(Context mContext) {\n    LocationManager lm = (LocationManager)\n            mContext.getSystemService(Context.LOCATION_SERVICE);\n    assert lm != null;\n    isGpsEnabled = lm.isProviderEnabled(LocationManager.GPS_PROVIDER);\n    isNetworkLocationEnabled = lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER);\n\n    Location networkLoacation = null, gpsLocation = null, finalLoc = null;\n    if (isGpsEnabled)\n        if (ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n            return null;\n        }gpsLocation = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);\n    if (isNetworkLocationEnabled)\n        networkLoacation = lm.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);\n\n    if (gpsLocation != null &amp;&amp; networkLoacation != null) {\n\n        //smaller the number more accurate result will\n        if (gpsLocation.getAccuracy() &gt; networkLoacation.getAccuracy())\n            return finalLoc = networkLoacation;\n        else\n            return finalLoc = gpsLocation;\n\n    } else {\n\n        if (gpsLocation != null) {\n            return finalLoc = gpsLocation;\n        } else if (networkLoacation != null) {\n            return finalLoc = networkLoacation;\n        }\n    }\n    return finalLoc;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7212699,"reputation":79,"user_id":5506204,"display_name":"Ferdousur Rahman Shajib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598130740,"creation_date":1598130740,"answer_id":63541158,"question_id":2227292,"body_markdown":"You can use **[FusedLocationProvider][1]**\r\n\r\nFor using Fused Location Provider in your project you will have to add the **google play services location** dependency in our app level **build.gradle** file\r\n\r\n    dependencies {\r\n       implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\t   ...\r\n\t   ...\r\n\t   ...\r\n       implementation &#39;com.google.android.gms:play-services-location:17.0.0&#39;\r\n    }\r\n\r\n\r\n \r\n \r\n\r\n**Permissions in Manifest**\r\n\r\nApps that use location services must request location permissions. Android offers two location permissions: *ACCESS_COARSE_LOCATION* and *ACCESS_FINE_LOCATION*.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n\r\n\r\nAs you may know that from Android 6.0 (Marshmallow) you must request permissions for important access in the runtime. Cause itâ€™s a security issue where while installing an application, user may not clearly understand about an important permission of their device.\r\n\r\n    ActivityCompat.requestPermissions(\r\n        this,\r\n        arrayOf(Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION),\r\n        PERMISSION_ID\r\n    )\r\n\r\nThen you can use the FusedLocationProvider Client to get the updated location in your desired place.\r\n\r\n        mFusedLocationClient.lastLocation.addOnCompleteListener(this) { task -&gt;\r\n            var location: Location? = task.result\r\n            if (location == null) {\r\n                requestNewLocationData()\r\n            } else {\r\n                findViewById&lt;TextView&gt;(R.id.latTextView).text = location.latitude.toString()\r\n                findViewById&lt;TextView&gt;(R.id.lonTextView).text = location.longitude.toString()\r\n            }\r\n        }\r\n\r\n\r\nYou can also check certain configuration like if the device has location settings on or not. You can also check the article on [Detect Current Latitude &amp; Longitude using Kotlin in Android][2] for more functionality.\r\nIf there is no cache location then it will catch the current location using:\r\n\r\n    private fun requestNewLocationData() {\r\n        var mLocationRequest = LocationRequest()\r\n        mLocationRequest.priority = LocationRequest.PRIORITY_HIGH_ACCURACY\r\n        mLocationRequest.interval = 0\r\n        mLocationRequest.fastestInterval = 0\r\n        mLocationRequest.numUpdates = 1\r\n\r\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\r\n        mFusedLocationClient!!.requestLocationUpdates(\r\n                mLocationRequest, mLocationCallback,\r\n                Looper.myLooper()\r\n        )\r\n    }\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/location/FusedLocationProviderClient\r\n  [2]: https://blog.frsarker.com/kotlin/detect-current-latitude-and-longitude-using-kotlin-in-android.html","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>You can use <strong><a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/FusedLocationProviderClient\" rel=\"nofollow noreferrer\">FusedLocationProvider</a></strong></p>\n<p>For using Fused Location Provider in your project you will have to add the <strong>google play services location</strong> dependency in our app level <strong>build.gradle</strong> file</p>\n<pre><code>dependencies {\n   implementation fileTree(dir: 'libs', include: ['*.jar'])\n   ...\n   ...\n   ...\n   implementation 'com.google.android.gms:play-services-location:17.0.0'\n}\n</code></pre>\n<p><strong>Permissions in Manifest</strong></p>\n<p>Apps that use location services must request location permissions. Android offers two location permissions: <em>ACCESS_COARSE_LOCATION</em> and <em>ACCESS_FINE_LOCATION</em>.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n</code></pre>\n<p>As you may know that from Android 6.0 (Marshmallow) you must request permissions for important access in the runtime. Cause itâ€™s a security issue where while installing an application, user may not clearly understand about an important permission of their device.</p>\n<pre><code>ActivityCompat.requestPermissions(\n    this,\n    arrayOf(Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION),\n    PERMISSION_ID\n)\n</code></pre>\n<p>Then you can use the FusedLocationProvider Client to get the updated location in your desired place.</p>\n<pre><code>    mFusedLocationClient.lastLocation.addOnCompleteListener(this) { task -&gt;\n        var location: Location? = task.result\n        if (location == null) {\n            requestNewLocationData()\n        } else {\n            findViewById&lt;TextView&gt;(R.id.latTextView).text = location.latitude.toString()\n            findViewById&lt;TextView&gt;(R.id.lonTextView).text = location.longitude.toString()\n        }\n    }\n</code></pre>\n<p>You can also check certain configuration like if the device has location settings on or not. You can also check the article on <a href=\"https://blog.frsarker.com/kotlin/detect-current-latitude-and-longitude-using-kotlin-in-android.html\" rel=\"nofollow noreferrer\">Detect Current Latitude &amp; Longitude using Kotlin in Android</a> for more functionality.\nIf there is no cache location then it will catch the current location using:</p>\n<pre><code>private fun requestNewLocationData() {\n    var mLocationRequest = LocationRequest()\n    mLocationRequest.priority = LocationRequest.PRIORITY_HIGH_ACCURACY\n    mLocationRequest.interval = 0\n    mLocationRequest.fastestInterval = 0\n    mLocationRequest.numUpdates = 1\n\n    mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\n    mFusedLocationClient!!.requestLocationUpdates(\n            mLocationRequest, mLocationCallback,\n            Looper.myLooper()\n    )\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8866530,"reputation":755,"user_id":6621537,"display_name":"Johan Albrectsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655497945,"creation_date":1655497945,"answer_id":72664531,"question_id":2227292,"body_markdown":"Plug and play location-manager that can be used both in XML-based projects and Jetpack Compose projects (personally using it in JetpackCompose)\r\n\r\n    class LocationManager(context: Context): LocationCallback() {\r\n\r\n    val context = context\r\n    var publicCompletion: ((Double, Double) -&gt; Unit)? = null\r\n\r\n    var fusedLocationProviderClient = FusedLocationProviderClient(\r\n        context\r\n    )\r\n\r\n    fun requestLocationPermission() {\r\n        val activity = context as Activity?\r\n        ActivityCompat.requestPermissions(\r\n            activity!!,\r\n            arrayOf(\r\n                Manifest.permission.ACCESS_FINE_LOCATION\r\n            ),\r\n            101\r\n        )\r\n    }\r\n\r\n    fun checkIfLocationPermissionIsGranted(): Boolean {\r\n        return (ActivityCompat.checkSelfPermission(\r\n            context,\r\n            Manifest.permission.ACCESS_FINE_LOCATION\r\n        ) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(\r\n            context,\r\n            Manifest.permission.ACCESS_COARSE_LOCATION\r\n        ) != PackageManager.PERMISSION_GRANTED\r\n                )\r\n    }\r\n\r\n    fun getLatitudeLongitude(completion: (Double, Double) -&gt; Unit) {\r\n        publicCompletion = { latitude, longitude -&gt;\r\n            completion(latitude, longitude)\r\n        }\r\n\r\n        if (ActivityCompat.checkSelfPermission(\r\n                context,\r\n                Manifest.permission.ACCESS_FINE_LOCATION\r\n            ) == PackageManager.PERMISSION_GRANTED\r\n        ) {\r\n            val activity = context as Activity?\r\n            fusedLocationProviderClient.lastLocation.addOnCompleteListener(activity!!) { task -&gt;\r\n                var location: Location? = task.result\r\n                if (location != null) {\r\n                    publicCompletion?.let { it(location!!.latitude, location!!.longitude) }\r\n                } else {\r\n                    requestLocationUpdates()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    fun requestLocationUpdates() {\r\n        var request = LocationRequest()\r\n        request.priority = com.google.android.gms.location.LocationRequest.PRIORITY_HIGH_ACCURACY\r\n        request.fastestInterval = 0\r\n        request.numUpdates = 1\r\n\r\n        if (ActivityCompat.checkSelfPermission(\r\n                context,\r\n                Manifest.permission.ACCESS_FINE_LOCATION\r\n            ) == PackageManager.PERMISSION_GRANTED\r\n        ) {\r\n            fusedLocationProviderClient.requestLocationUpdates(\r\n                request, this, Looper.myLooper()\r\n            )\r\n        }\r\n    }\r\n\r\n    override fun onLocationResult(p0: LocationResult?) {\r\n        super.onLocationResult(p0)\r\n\r\n        publicCompletion?.let { it(p0!!.lastLocation!!.latitude, p0!!.lastLocation!!.longitude) }\r\n    }\r\n\r\n    override fun onLocationAvailability(p0: LocationAvailability?) {\r\n        super.onLocationAvailability(p0)\r\n    }\r\n    }\r\n\r\n","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>Plug and play location-manager that can be used both in XML-based projects and Jetpack Compose projects (personally using it in JetpackCompose)</p>\n<pre><code>class LocationManager(context: Context): LocationCallback() {\n\nval context = context\nvar publicCompletion: ((Double, Double) -&gt; Unit)? = null\n\nvar fusedLocationProviderClient = FusedLocationProviderClient(\n    context\n)\n\nfun requestLocationPermission() {\n    val activity = context as Activity?\n    ActivityCompat.requestPermissions(\n        activity!!,\n        arrayOf(\n            Manifest.permission.ACCESS_FINE_LOCATION\n        ),\n        101\n    )\n}\n\nfun checkIfLocationPermissionIsGranted(): Boolean {\n    return (ActivityCompat.checkSelfPermission(\n        context,\n        Manifest.permission.ACCESS_FINE_LOCATION\n    ) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(\n        context,\n        Manifest.permission.ACCESS_COARSE_LOCATION\n    ) != PackageManager.PERMISSION_GRANTED\n            )\n}\n\nfun getLatitudeLongitude(completion: (Double, Double) -&gt; Unit) {\n    publicCompletion = { latitude, longitude -&gt;\n        completion(latitude, longitude)\n    }\n\n    if (ActivityCompat.checkSelfPermission(\n            context,\n            Manifest.permission.ACCESS_FINE_LOCATION\n        ) == PackageManager.PERMISSION_GRANTED\n    ) {\n        val activity = context as Activity?\n        fusedLocationProviderClient.lastLocation.addOnCompleteListener(activity!!) { task -&gt;\n            var location: Location? = task.result\n            if (location != null) {\n                publicCompletion?.let { it(location!!.latitude, location!!.longitude) }\n            } else {\n                requestLocationUpdates()\n            }\n        }\n    }\n}\n\nfun requestLocationUpdates() {\n    var request = LocationRequest()\n    request.priority = com.google.android.gms.location.LocationRequest.PRIORITY_HIGH_ACCURACY\n    request.fastestInterval = 0\n    request.numUpdates = 1\n\n    if (ActivityCompat.checkSelfPermission(\n            context,\n            Manifest.permission.ACCESS_FINE_LOCATION\n        ) == PackageManager.PERMISSION_GRANTED\n    ) {\n        fusedLocationProviderClient.requestLocationUpdates(\n            request, this, Looper.myLooper()\n        )\n    }\n}\n\noverride fun onLocationResult(p0: LocationResult?) {\n    super.onLocationResult(p0)\n\n    publicCompletion?.let { it(p0!!.lastLocation!!.latitude, p0!!.lastLocation!!.longitude) }\n}\n\noverride fun onLocationAvailability(p0: LocationAvailability?) {\n    super.onLocationAvailability(p0)\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673437155,"creation_date":1673437155,"answer_id":75082455,"question_id":2227292,"body_markdown":"Just follow Google recommendation and prepared codes in kotlin: (Supports also Android 11 and 12):\r\n\r\nhttps://github.com/googlecodelabs/while-in-use-location\r\n\r\nand its step by step explanation:\r\nhttps://codelabs.developers.google.com/codelabs/while-in-use-location\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gVlz4.png","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>Just follow Google recommendation and prepared codes in kotlin: (Supports also Android 11 and 12):</p>\n<p><a href=\"https://github.com/googlecodelabs/while-in-use-location\" rel=\"nofollow noreferrer\">https://github.com/googlecodelabs/while-in-use-location</a></p>\n<p>and its step by step explanation:\n<a href=\"https://codelabs.developers.google.com/codelabs/while-in-use-location\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/while-in-use-location</a></p>\n<p><a href=\"https://i.stack.imgur.com/gVlz4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVlz4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":879208,"reputation":8487,"user_id":217065,"accept_rate":48,"display_name":"deepthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346959,"favorite_count":0,"down_vote_count":7,"up_vote_count":205,"answer_count":9,"score":198,"last_activity_date":1673437155,"creation_date":1265698095,"question_id":2227292,"body_markdown":"How do I get the current Latitude and Longitude of the mobile device in android using location tools?","title":"How to get Latitude and Longitude of the mobile device in android?","body":"<p>How do I get the current Latitude and Longitude of the mobile device in android using location tools?</p>\n"},{"tags":["java","amazon-web-services"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1673421807,"post_id":75079471,"comment_id":132492454,"body_markdown":"The first snippet will work out of the box on an EC2 machine because the credentials provider chain includes one provider for ec2 credentials. On local you should run the code either with explicit credentials set or with a AWS_PROFILE set.","body":"The first snippet will work out of the box on an EC2 machine because the credentials provider chain includes one provider for ec2 credentials. On local you should run the code either with explicit credentials set or with a AWS_PROFILE set."}],"answers":[{"tags":[],"owner":{"account_id":8704066,"reputation":812,"user_id":6512807,"display_name":"Vikram S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673437140,"creation_date":1673437140,"answer_id":75082454,"question_id":75079471,"body_markdown":"Instead of using the BasicAwsCredentials provider use the [com.amazonaws.auth.DefaultAWSCredentialsProviderChain][1] to get the credentials instance. The DefaultAWSCredentialsProvider goes in the below order. \r\n\r\nAWS credentials provider chain that looks for credentials in this order:\r\n- Environment Variables - AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY (RECOMMENDED since they are recognized by all the AWS SDKs and CLI except for .NET), or AWS_ACCESS_KEY and AWS_SECRET_KEY (only recognized by Java SDK)\r\n- Java System Properties - aws.accessKeyId and aws.secretKey\r\n- Web Identity Token credentials from the environment or container\r\n- Credential profiles file at the default location (~/.aws/credentials) shared by all AWS SDKs and the AWS CLI\r\n- Credentials delivered through the Amazon EC2 container service if AWS_CONTAINER_CREDENTIALS_RELATIVE_URI&quot; environment variable is set and security manager has permission to access the variable,\r\n- Instance profile credentials delivered through the Amazon EC2 metadata service\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/DefaultAWSCredentialsProviderChain.html","title":"create a Java application, which will use an ec2 role to access the restricted s3 bucket on Local","body":"<p>Instead of using the BasicAwsCredentials provider use the <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/DefaultAWSCredentialsProviderChain.html\" rel=\"nofollow noreferrer\">com.amazonaws.auth.DefaultAWSCredentialsProviderChain</a> to get the credentials instance. The DefaultAWSCredentialsProvider goes in the below order.</p>\n<p>AWS credentials provider chain that looks for credentials in this order:</p>\n<ul>\n<li>Environment Variables - AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY (RECOMMENDED since they are recognized by all the AWS SDKs and CLI except for .NET), or AWS_ACCESS_KEY and AWS_SECRET_KEY (only recognized by Java SDK)</li>\n<li>Java System Properties - aws.accessKeyId and aws.secretKey</li>\n<li>Web Identity Token credentials from the environment or container</li>\n<li>Credential profiles file at the default location (~/.aws/credentials) shared by all AWS SDKs and the AWS CLI</li>\n<li>Credentials delivered through the Amazon EC2 container service if AWS_CONTAINER_CREDENTIALS_RELATIVE_URI&quot; environment variable is set and security manager has permission to access the variable,</li>\n<li>Instance profile credentials delivered through the Amazon EC2 metadata service</li>\n</ul>\n"}],"owner":{"account_id":26088098,"reputation":1,"user_id":19785378,"display_name":"Charul Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673437140,"creation_date":1673421369,"question_id":75079471,"body_markdown":"      AmazonS3 s3;\r\n      s3  = AmazonS3ClientBuilder.standard().withRegion(region).build();\r\n      return s3;\r\nI am creating s3 client without providing any credentials now If I use any api using this s3 client it will throw an saying access denied .\r\n\r\n\r\n      AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\r\n      return AmazonS3ClientBuilder.standard()\r\n                .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n                .withRegion(region).build();\r\n\r\nWith using this code it will work but I dont want to provide accessKey and accessSecret.\r\nI have created a role with s3bucket full access and ec2 full access . Now how to create a Java application, which will use an ec2 role to access the  restricted s3 bucket on Localwithout access key and secret key","title":"create a Java application, which will use an ec2 role to access the restricted s3 bucket on Local","body":"<pre><code>  AmazonS3 s3;\n  s3  = AmazonS3ClientBuilder.standard().withRegion(region).build();\n  return s3;\n</code></pre>\n<p>I am creating s3 client without providing any credentials now If I use any api using this s3 client it will throw an saying access denied .</p>\n<pre><code>  AWSCredentials credentials = new BasicAWSCredentials(accessKey, accessSecret);\n  return AmazonS3ClientBuilder.standard()\n            .withCredentials(new AWSStaticCredentialsProvider(credentials))\n            .withRegion(region).build();\n</code></pre>\n<p>With using this code it will work but I dont want to provide accessKey and accessSecret.\nI have created a role with s3bucket full access and ec2 full access . Now how to create a Java application, which will use an ec2 role to access the  restricted s3 bucket on Localwithout access key and secret key</p>\n"},{"tags":["java","spring","spring-boot","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":1393884,"reputation":79,"user_id":1324074,"accept_rate":80,"display_name":"Mad Max"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673437069,"creation_date":1673437069,"answer_id":75082431,"question_id":74405355,"body_markdown":"So I figured out that in case you need to parse request parameters as I needed - you should implement [HandlerMethodArgumentResolver](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodArgumentResolver.html). It provides the ability to access a lot of different request data. In my case it could look like this (initially I&#39;ve forgot that request parameters may contain arrays of values, so `MyWeirdRequest` field types were changed to `Map&lt;String, String[]&gt;`):\r\n\r\n        public class TestArgumentResolver implements HandlerMethodArgumentResolver {\r\n    \r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return parameter.getParameterType().equals(MyWeirdRequest.class);\r\n        }\r\n    \r\n        @Override\r\n        public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest,\r\n                                      WebDataBinderFactory binderFactory)\r\n                throws Exception {\r\n            MyWeirdRequest result = new MyWeirdRequest();\r\n            Map&lt;String, String[]&gt; startsWithOne = new HashMap&lt;&gt;();\r\n            Map&lt;String, String[]&gt; anythingElse = new HashMap&lt;&gt;();\r\n            for (Map.Entry&lt;String, String[]&gt; paramEntry : webRequest.getParameterMap().entrySet()) {\r\n                String[] swoValues = Arrays.stream(paramEntry.getValue()).filter(v -&gt; v.startsWith(&quot;1&quot;))\r\n                        .collect(Collectors.toList()).toArray(new String[0]);\r\n                if (swoValues.length &gt; 0) {\r\n                    startsWithOne.put(paramEntry.getKey(), swoValues);\r\n                }\r\n                \r\n                String[] aeValues = Arrays.stream(paramEntry.getValue()).filter(v -&gt; !v.startsWith(&quot;1&quot;))\r\n                        .collect(Collectors.toList()).toArray(new String[0]);\r\n                if (aeValues.length &gt; 0) {\r\n                    anythingElse.put(paramEntry.getKey(), aeValues);\r\n                }\r\n            }\r\n            result.setStartWithOne(startsWithOne);\r\n            result.setAnythingElse(anythingElse);\r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\nAfter that, I created a configuration to register my request resolver:\r\n\r\n    @Configuration\r\n    public class TestRequestConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n            argumentResolvers.add(new TestArgumentResolver());\r\n        }\r\n        \r\n    }\r\nAnd that&#39;s pretty much it!","title":"Spring Boot REST custom request parameters mapping for complex abstract entity","body":"<p>So I figured out that in case you need to parse request parameters as I needed - you should implement <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodArgumentResolver.html\" rel=\"nofollow noreferrer\">HandlerMethodArgumentResolver</a>. It provides the ability to access a lot of different request data. In my case it could look like this (initially I've forgot that request parameters may contain arrays of values, so <code>MyWeirdRequest</code> field types were changed to <code>Map&lt;String, String[]&gt;</code>):</p>\n<pre><code>    public class TestArgumentResolver implements HandlerMethodArgumentResolver {\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.getParameterType().equals(MyWeirdRequest.class);\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest,\n                                  WebDataBinderFactory binderFactory)\n            throws Exception {\n        MyWeirdRequest result = new MyWeirdRequest();\n        Map&lt;String, String[]&gt; startsWithOne = new HashMap&lt;&gt;();\n        Map&lt;String, String[]&gt; anythingElse = new HashMap&lt;&gt;();\n        for (Map.Entry&lt;String, String[]&gt; paramEntry : webRequest.getParameterMap().entrySet()) {\n            String[] swoValues = Arrays.stream(paramEntry.getValue()).filter(v -&gt; v.startsWith(&quot;1&quot;))\n                    .collect(Collectors.toList()).toArray(new String[0]);\n            if (swoValues.length &gt; 0) {\n                startsWithOne.put(paramEntry.getKey(), swoValues);\n            }\n            \n            String[] aeValues = Arrays.stream(paramEntry.getValue()).filter(v -&gt; !v.startsWith(&quot;1&quot;))\n                    .collect(Collectors.toList()).toArray(new String[0]);\n            if (aeValues.length &gt; 0) {\n                anythingElse.put(paramEntry.getKey(), aeValues);\n            }\n        }\n        result.setStartWithOne(startsWithOne);\n        result.setAnythingElse(anythingElse);\n        return result;\n    }\n\n}\n</code></pre>\n<p>After that, I created a configuration to register my request resolver:</p>\n<pre><code>@Configuration\npublic class TestRequestConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(new TestArgumentResolver());\n    }\n    \n}\n</code></pre>\n<p>And that's pretty much it!</p>\n"}],"owner":{"account_id":1393884,"reputation":79,"user_id":1324074,"accept_rate":80,"display_name":"Mad Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75082431,"answer_count":1,"score":0,"last_activity_date":1673437069,"creation_date":1668183461,"question_id":74405355,"body_markdown":"I&#39;m working on REST API for the application using SpringBoot 2 and I want to get a specific object as my request parameter. Assuming I have my endpoint declared like this:\r\n```\r\n@RestController(&quot;TestEndpoint&quot;)\r\n@RequestMapping(path = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic class TestEndpoint {\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/test&quot;)\r\n    String getTest(MyWeirdRequest myRequest) {\r\n        return myRequest.toString();\r\n    }\r\n}\r\n```\r\nwhere MyWeirdRequest looks like this:\r\n```\r\npublic class MyWeirdRequest {\r\n    private Map&lt;String, String&gt; startWithOne;\r\n    private Map&lt;String, String&gt; anythingElse;\r\n\r\n    // setters and getters here \r\n}\r\n```\r\n\r\nand my GET request would look like this example:\r\n```\r\nhttp://localost:8088/test?first=aaa&amp;second=1bbb&amp;third=1ccc&amp;fourth=2ddd\r\n```\r\nList of parameters is not defined anywhere and so they can contain any keys.\r\nI want my endpoint to get ```MyWeirdRequest``` object where all the params with value starting with 1 to be in startWithOne map and the rest of params to be in anythingElse where key is request parameter name. So in case of request above I want the result where my endpoint receives a MyWeirdRequest containing\r\n```\r\nstartWithOne=[second:1bbb, third:1ccc]\r\nanythingElse=[first:aaa, fourth:2ddd]\r\n```\r\nI know I could use a Map as a ```getTest``` param and then do all the mapping inside this method, but ```MyWeirdRequest``` will be used as a param for multiple endpoints and I want to avoid working with Maps directly everywhere.\r\n\r\nI tried to create a custom PropertyEditor and register it in WebDataBinder, but it is only used if there is a @Requestparam annotation, but if I add it to ```getTest``` method - a parameter named myRequest becomes mandatory.\r\n\r\nHow do I handle the request like that?","title":"Spring Boot REST custom request parameters mapping for complex abstract entity","body":"<p>I'm working on REST API for the application using SpringBoot 2 and I want to get a specific object as my request parameter. Assuming I have my endpoint declared like this:</p>\n<pre><code>@RestController(&quot;TestEndpoint&quot;)\n@RequestMapping(path = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class TestEndpoint {\n\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/test&quot;)\n    String getTest(MyWeirdRequest myRequest) {\n        return myRequest.toString();\n    }\n}\n</code></pre>\n<p>where MyWeirdRequest looks like this:</p>\n<pre><code>public class MyWeirdRequest {\n    private Map&lt;String, String&gt; startWithOne;\n    private Map&lt;String, String&gt; anythingElse;\n\n    // setters and getters here \n}\n</code></pre>\n<p>and my GET request would look like this example:</p>\n<pre><code>http://localost:8088/test?first=aaa&amp;second=1bbb&amp;third=1ccc&amp;fourth=2ddd\n</code></pre>\n<p>List of parameters is not defined anywhere and so they can contain any keys.\nI want my endpoint to get <code>MyWeirdRequest</code> object where all the params with value starting with 1 to be in startWithOne map and the rest of params to be in anythingElse where key is request parameter name. So in case of request above I want the result where my endpoint receives a MyWeirdRequest containing</p>\n<pre><code>startWithOne=[second:1bbb, third:1ccc]\nanythingElse=[first:aaa, fourth:2ddd]\n</code></pre>\n<p>I know I could use a Map as a <code>getTest</code> param and then do all the mapping inside this method, but <code>MyWeirdRequest</code> will be used as a param for multiple endpoints and I want to avoid working with Maps directly everywhere.</p>\n<p>I tried to create a custom PropertyEditor and register it in WebDataBinder, but it is only used if there is a @Requestparam annotation, but if I add it to <code>getTest</code> method - a parameter named myRequest becomes mandatory.</p>\n<p>How do I handle the request like that?</p>\n"},{"tags":["java","division","digits"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1673435228,"post_id":75082045,"comment_id":132497002,"body_markdown":"So for example if you enter `123`, what is `a` going to be? And since `b = a / 10`, why would `b` be anything other than `0` (it&#39;s an `int` division!)?","body":"So for example if you enter <code>123</code>, what is <code>a</code> going to be? And since <code>b = a &#47; 10</code>, why would <code>b</code> be anything other than <code>0</code> (it&#39;s an <code>int</code> division!)?"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673435394,"creation_date":1673435394,"answer_id":75082095,"question_id":75082045,"body_markdown":"Anything modulo 10 will return a result in the range of 0 to 9, and (integer) dividing that by 10 will return 0. You need to reverse the order - first divide the 10 to remove the last digit, and then take the remainder from 10 to keep the middle digit:\r\n\r\n```java\r\nint b = (number / 10) % 10;\r\n```","title":"Separating numbers using %","body":"<p>Anything modulo 10 will return a result in the range of 0 to 9, and (integer) dividing that by 10 will return 0. You need to reverse the order - first divide the 10 to remove the last digit, and then take the remainder from 10 to keep the middle digit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int b = (number / 10) % 10;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15338684,"reputation":1207,"user_id":11066298,"display_name":"Jakhongir Anasov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673436207,"creation_date":1673436207,"answer_id":75082256,"question_id":75082045,"body_markdown":"I suggest using this instead of %. Because you can split and get any digit of number using this code:\r\n\r\n      int x=158;\r\n      char[] xValueInString = Integer.toString(x).toCharArray();\r\n      for(int i=0; i&lt;xValueInString.length; i++){\r\n          System.out.println(xValueInString[i]);\r\n      }","title":"Separating numbers using %","body":"<p>I suggest using this instead of %. Because you can split and get any digit of number using this code:</p>\n<pre><code>  int x=158;\n  char[] xValueInString = Integer.toString(x).toCharArray();\n  for(int i=0; i&lt;xValueInString.length; i++){\n      System.out.println(xValueInString[i]);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25659735,"reputation":1,"user_id":19425620,"display_name":"Yashwant Panchal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673436993,"creation_date":1673436574,"answer_id":75082333,"question_id":75082045,"body_markdown":"You missed scanner in your code, add Scanner before reading number, try this with little change   \r\n\r\n \r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Input the number&quot;);\r\n            Scanner read = new Scanner(System.in);\r\n            int number = read.nextInt();\r\n            int a = number%10;\r\n            int b = (number/10)%10; // the answer is always 0\r\n            int c = number/100;\r\n            System.out.println(c + &quot; &quot; + b + &quot; &quot; + a);\r\n        }","title":"Separating numbers using %","body":"<p>You missed scanner in your code, add Scanner before reading number, try this with little change</p>\n<pre><code>    public static void main(String[] args) {\n        System.out.println(&quot;Input the number&quot;);\n        Scanner read = new Scanner(System.in);\n        int number = read.nextInt();\n        int a = number%10;\n        int b = (number/10)%10; // the answer is always 0\n        int c = number/100;\n        System.out.println(c + &quot; &quot; + b + &quot; &quot; + a);\n    }\n</code></pre>\n"}],"owner":{"account_id":27462033,"reputation":27,"user_id":20952449,"display_name":"Chernosmaga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1673436993,"creation_date":1673435098,"question_id":75082045,"body_markdown":"I am trying to get 3 numbers separated by a space after user&#39;s input. I can get the first number and the last one dividing by 10, but I really have no idea how to get the middle number\r\n\r\nI tried to take the remainder of the first two numbers and then divide them by ten, but IDEA says that the answer is always zero\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Input the number&quot;);\r\n        int number = read.nextInt();\r\n        int a = number%10;\r\n        int b = (number%10)/10; // the answer is always 0\r\n        int c = number / 100;\r\n        System.out.println(c + &quot; &quot; + b + &quot; &quot; + a);\r\n    }\r\n","title":"Separating numbers using %","body":"<p>I am trying to get 3 numbers separated by a space after user's input. I can get the first number and the last one dividing by 10, but I really have no idea how to get the middle number</p>\n<p>I tried to take the remainder of the first two numbers and then divide them by ten, but IDEA says that the answer is always zero</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;Input the number&quot;);\n    int number = read.nextInt();\n    int a = number%10;\n    int b = (number%10)/10; // the answer is always 0\n    int c = number / 100;\n    System.out.println(c + &quot; &quot; + b + &quot; &quot; + a);\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":71787,"reputation":4875,"user_id":207533,"accept_rate":75,"display_name":"Cameron McGrane"},"score":0,"creation_date":1314593443,"post_id":7226156,"comment_id":8687498,"body_markdown":"A quick search came up with this.. http://www.roseindia.net/java/beginners/DayYearToDayMonth.shtml","body":"A quick search came up with this.. <a href=\"http://www.roseindia.net/java/beginners/DayYearToDayMonth.shtml\" rel=\"nofollow noreferrer\">roseindia.net/java/beginners/DayYearToDayMonth.shtml</a>"}],"answers":[{"tags":[],"owner":{"account_id":359025,"reputation":6336,"user_id":700180,"accept_rate":88,"display_name":"hooked82"},"down_vote_count":0,"up_vote_count":118,"is_accepted":true,"score":118,"last_activity_date":1314596022,"creation_date":1314593469,"answer_id":7226186,"question_id":7226156,"body_markdown":"You&#39;ll want to do get a Calendar instance and get it&#39;s day of month\r\n\r\n\tCalendar cal = Calendar.getInstance();\r\n\tint dayOfMonth = cal.get(Calendar.DAY_OF_MONTH);\r\n\r\n    String dayOfMonthStr = String.valueOf(dayOfMonth);\r\n\r\nYou can also get DAY_OF_WEEK, DAY_OF_YEAR, DAY_OF_WEEK_IN_MONTH, etc.","title":"How to get day of the month?","body":"<p>You'll want to do get a Calendar instance and get it's day of month</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\nint dayOfMonth = cal.get(Calendar.DAY_OF_MONTH);\n\nString dayOfMonthStr = String.valueOf(dayOfMonth);\n</code></pre>\n\n<p>You can also get DAY_OF_WEEK, DAY_OF_YEAR, DAY_OF_WEEK_IN_MONTH, etc.</p>\n"},{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1314593476,"creation_date":1314593476,"answer_id":7226187,"question_id":7226156,"body_markdown":"Take a look at [`GregorianCalendar`][1], something like:\r\n\r\n    final Calendar now = GregorianCalendar.getInstance()\r\n    final int dayNumber = now.get(Calendar.DAY_OF_MONTH);\r\n\r\n  [1]: http://developer.android.com/reference/java/util/GregorianCalendar.html","title":"How to get day of the month?","body":"<p>Take a look at <a href=\"http://developer.android.com/reference/java/util/GregorianCalendar.html\" rel=\"nofollow\"><code>GregorianCalendar</code></a>, something like:</p>\n\n<pre><code>final Calendar now = GregorianCalendar.getInstance()\nfinal int dayNumber = now.get(Calendar.DAY_OF_MONTH);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18835,"reputation":82183,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1314593551,"creation_date":1314593551,"answer_id":7226199,"question_id":7226156,"body_markdown":"You could start by reading the documentation for [Date][1]. Then you realize that Dateâ€™s methods are all deprecated and turn to [Calender][2] instead.\r\n\r\n    Calendar now = Calendar.getInstance();\r\n    System.out.println(now.get(Calendar.DAY_OF_MONTH));\r\n\r\n[1]: http://download.oracle.com/javase/6/docs/api/java/util/Date.html\r\n[2]: http://download.oracle.com/javase/6/docs/api/java/util/Calendar.html","title":"How to get day of the month?","body":"<p>You could start by reading the documentation for <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Date.html\" rel=\"nofollow\">Date</a>. Then you realize that Dateâ€™s methods are all deprecated and turn to <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Calendar.html\" rel=\"nofollow\">Calender</a> instead.</p>\n\n<pre><code>Calendar now = Calendar.getInstance();\nSystem.out.println(now.get(Calendar.DAY_OF_MONTH));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":552199,"reputation":313,"user_id":917257,"display_name":"Gaurav Naugain"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1314622005,"creation_date":1314599069,"answer_id":7226820,"question_id":7226156,"body_markdown":"The following method would help you in finding day of any specified date :\r\n\t\r\n    public static int getDayOfMonth(Date aDate) {\r\n    \tCalendar cal = Calendar.getInstance();\r\n    \tcal.setTime(aDate);\r\n    \treturn cal.get(Calendar.DAY_OF_MONTH);\r\n    }","title":"How to get day of the month?","body":"<p>The following method would help you in finding day of any specified date :</p>\n\n<pre><code>public static int getDayOfMonth(Date aDate) {\n    Calendar cal = Calendar.getInstance();\n    cal.setTime(aDate);\n    return cal.get(Calendar.DAY_OF_MONTH);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1565458943,"creation_date":1413912861,"answer_id":26492791,"question_id":7226156,"body_markdown":"# tl;dr\r\n\r\n    LocalDate           // Represent a date-only, without time-of-day and without time zone.\r\n    .now()              // Better to pass a `ZoneId` optional argument to `now` as shown below than rely implicitly on the JVMâ€™s current default time zone.\r\n    .getDayOfMonth()    // Interrogate for the day of the month (1-31). \r\n\r\n# java.time \r\n\r\nThe modern approach is the `LocalDate` class to represent a date-only value. \r\n\r\nA time zone is crucial in determine the current date. For any given moment, the date varies around the globe by zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    LocalDate ld = LocalDate.now( z ) ;\r\n    int dayOfMonth = ld.getDayOfMonth();\r\n\r\nYou can also get the day-of-week.\r\n\r\n    DayOfWeek dow = ld.getDayOfWeek();\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nUsing a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later, you may exchange *java.time* objects directly with your database. No need for strings nor java.sql.* classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABPâ€¦*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n# Joda-Time\r\n\r\n**UPDATE:** The Joda-Time project is now in maintenance mode, and advises migration to the java.time classes. This section left intact for history.\r\n\r\nUsing the [Joda-Time](http://www.joda.org/joda-time/) 2.5 library rather than the notoriously troublesome java.util.Date and .Calendar classes. \r\n\r\nTime zone is crucial to determining a date. Better to specify the zone rather than rely implicitly on the JVMâ€™s current default time zone being assigned.\r\n\r\n    DateTimeZone zone = DateTimeZone.forID( &quot;America/Montreal&quot; );\r\n    DateTime now = DateTime.now( zone ).withTimeAtStartOfDay();\r\n    int dayOfMonth = now.getDayOfMonth();\r\n\r\nOr use similar code with the `LocalDate` class that has no time-of-day portion.\r\n\r\n","title":"How to get day of the month?","body":"<h1>tl;dr</h1>\n\n<pre><code>LocalDate           // Represent a date-only, without time-of-day and without time zone.\n.now()              // Better to pass a `ZoneId` optional argument to `now` as shown below than rely implicitly on the JVMâ€™s current default time zone.\n.getDayOfMonth()    // Interrogate for the day of the month (1-31). \n</code></pre>\n\n<h1>java.time</h1>\n\n<p>The modern approach is the <code>LocalDate</code> class to represent a date-only value. </p>\n\n<p>A time zone is crucial in determine the current date. For any given moment, the date varies around the globe by zone.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\nLocalDate ld = LocalDate.now( z ) ;\nint dayOfMonth = ld.getDayOfMonth();\n</code></pre>\n\n<p>You can also get the day-of-week.</p>\n\n<pre><code>DayOfWeek dow = ld.getDayOfWeek();\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>Using a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later, you may exchange <em>java.time</em> objects directly with your database. No need for strings nor java.sql.* classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABPâ€¦</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n\n<hr>\n\n<h1>Joda-Time</h1>\n\n<p><strong>UPDATE:</strong> The Joda-Time project is now in maintenance mode, and advises migration to the java.time classes. This section left intact for history.</p>\n\n<p>Using the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> 2.5 library rather than the notoriously troublesome java.util.Date and .Calendar classes. </p>\n\n<p>Time zone is crucial to determining a date. Better to specify the zone rather than rely implicitly on the JVMâ€™s current default time zone being assigned.</p>\n\n<pre><code>DateTimeZone zone = DateTimeZone.forID( \"America/Montreal\" );\nDateTime now = DateTime.now( zone ).withTimeAtStartOfDay();\nint dayOfMonth = now.getDayOfMonth();\n</code></pre>\n\n<p>Or use similar code with the <code>LocalDate</code> class that has no time-of-day portion.</p>\n"},{"tags":[],"owner":{"account_id":8433483,"reputation":131,"user_id":6328364,"accept_rate":0,"display_name":"curiousTester"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1469579145,"creation_date":1469579145,"answer_id":38601892,"question_id":7226156,"body_markdown":"    //This will get you the day of the month\r\n    String.valueOf((Calendar.getInstance()).get(Calendar.DAY_OF_MONTH))","title":"How to get day of the month?","body":"<pre><code>//This will get you the day of the month\nString.valueOf((Calendar.getInstance()).get(Calendar.DAY_OF_MONTH))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5937539,"reputation":3116,"user_id":4669984,"accept_rate":86,"display_name":"Tarun Maganti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478950244,"creation_date":1478950244,"answer_id":40562411,"question_id":7226156,"body_markdown":"**Java 8 Update**\r\n\r\nJava 8 introduces the following packages for time and date manipulation.\r\n\r\n     \r\n    java.time.*;\r\n    java.time.format.*;\r\n\r\n    java.time.chono.*;    \r\n    java.time.temporal.*;\r\n    java.time.zone.*;\r\n\r\nThese are more organized and intuitive.\r\n\r\nWe need only top two packages for the discussion.   \r\nThere are 3 top level classes - `LocalDate`, `LocalTime`, `LocalDateTime` for describing Date, Time and DateTime respectively. Although, they are formatted properly in `toString()`, each class has format method which accepts `DateTimeFormatter` to format in customized way.\r\n\r\n`DateTimeFormatter` can also be used show the date given a day. It has few \r\n\r\n    import java.time.*;\r\n    import java.time.format.*;\r\n    \r\n    class DateTimeDemo{\r\n        public static void main(String...args){\r\n        \tLocalDateTime x = LocalDateTime.now();\r\n        \tSystem.out.println(x.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL)));//Shows Day and Date.\r\n    \r\n        \tSystem.out.println(x.format(DateTimeFormatter.ofPattern(&quot;EE&quot;)));//Short Form\r\n            System.out.println(x.format(DateTimeFormatter.ofPattern(&quot;EEEE&quot;)));//Long Form\r\n\r\n        }\r\n    }\r\n\r\n`ofLocalizedTime` accepts `FormatStyle` which is an enumeration in `java.time.format`\r\n\r\n`ofPattern` accepts `String` with restricted pattern characters of restricted length. Here are the characters which can be passed into the `toPattern` method.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can try different number of patterns to see how the output will be.\r\n\r\nCheck out more about Java 8 DateTime API [here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mJYo8.png\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"How to get day of the month?","body":"<p><strong>Java 8 Update</strong></p>\n\n<p>Java 8 introduces the following packages for time and date manipulation.</p>\n\n<pre><code>java.time.*;\njava.time.format.*;\n\njava.time.chono.*;    \njava.time.temporal.*;\njava.time.zone.*;\n</code></pre>\n\n<p>These are more organized and intuitive.</p>\n\n<p>We need only top two packages for the discussion.<br>\nThere are 3 top level classes - <code>LocalDate</code>, <code>LocalTime</code>, <code>LocalDateTime</code> for describing Date, Time and DateTime respectively. Although, they are formatted properly in <code>toString()</code>, each class has format method which accepts <code>DateTimeFormatter</code> to format in customized way.</p>\n\n<p><code>DateTimeFormatter</code> can also be used show the date given a day. It has few </p>\n\n<pre><code>import java.time.*;\nimport java.time.format.*;\n\nclass DateTimeDemo{\n    public static void main(String...args){\n        LocalDateTime x = LocalDateTime.now();\n        System.out.println(x.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.FULL)));//Shows Day and Date.\n\n        System.out.println(x.format(DateTimeFormatter.ofPattern(\"EE\")));//Short Form\n        System.out.println(x.format(DateTimeFormatter.ofPattern(\"EEEE\")));//Long Form\n\n    }\n}\n</code></pre>\n\n<p><code>ofLocalizedTime</code> accepts <code>FormatStyle</code> which is an enumeration in <code>java.time.format</code></p>\n\n<p><code>ofPattern</code> accepts <code>String</code> with restricted pattern characters of restricted length. Here are the characters which can be passed into the <code>toPattern</code> method.</p>\n\n<p><a href=\"https://i.stack.imgur.com/mJYo8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mJYo8.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can try different number of patterns to see how the output will be.</p>\n\n<p>Check out more about Java 8 DateTime API <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589788762,"creation_date":1589788762,"answer_id":61864976,"question_id":7226156,"body_markdown":"It is simplified a lot in version Java 8. I have given some util methods below.\r\n\r\n&gt;To get the day of the month in the format of `int` for the given day, month, and year.\r\n```java\r\n    public static int findDay(final int month, final int day, final int year) {\r\n        // System.out.println(LocalDate.of(year, month, day).getDayOfMonth());\r\n        return LocalDate.of(year, month, day).getDayOfMonth();\r\n    }\r\n```\r\n&gt;To get current day of the month in the format of `int`.\r\n```java\r\n    public static int findDay(final int month, final int day, final int year) {\r\n        // System.out.println(LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).getDayOfMonth());\r\n        return LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).getDayOfMonth();\r\n    }\r\n```\r\n&gt;To get the day of the week in the format of `String` for the given day, month, and year.\r\n```java\r\n    public static String findDay(final int month, final int day, final int year) {\r\n        // System.out.println(LocalDate.of(year, month, day).getDayOfWeek());\r\n        return LocalDate.of(year, month, day).getDayOfWeek().toString();\r\n    }\r\n```\r\n&gt;To get current day of the week in the format of `String`.\r\n```java\r\n    public static String findDay(final int month, final int day, final int year) {\r\n        // System.out.println(LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;))..getDayOfWeek());\r\n        return LocalDate.now(ZoneId.of(&quot;Asia/Kolkata&quot;)).getDayOfWeek().toString();\r\n    }\r\n```","title":"How to get day of the month?","body":"<p>It is simplified a lot in version Java 8. I have given some util methods below.</p>\n\n<blockquote>\n  <p>To get the day of the month in the format of <code>int</code> for the given day, month, and year.</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public static int findDay(final int month, final int day, final int year) {\n        // System.out.println(LocalDate.of(year, month, day).getDayOfMonth());\n        return LocalDate.of(year, month, day).getDayOfMonth();\n    }\n</code></pre>\n\n<blockquote>\n  <p>To get current day of the month in the format of <code>int</code>.</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public static int findDay(final int month, final int day, final int year) {\n        // System.out.println(LocalDate.now(ZoneId.of(\"Asia/Kolkata\")).getDayOfMonth());\n        return LocalDate.now(ZoneId.of(\"Asia/Kolkata\")).getDayOfMonth();\n    }\n</code></pre>\n\n<blockquote>\n  <p>To get the day of the week in the format of <code>String</code> for the given day, month, and year.</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public static String findDay(final int month, final int day, final int year) {\n        // System.out.println(LocalDate.of(year, month, day).getDayOfWeek());\n        return LocalDate.of(year, month, day).getDayOfWeek().toString();\n    }\n</code></pre>\n\n<blockquote>\n  <p>To get current day of the week in the format of <code>String</code>.</p>\n</blockquote>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public static String findDay(final int month, final int day, final int year) {\n        // System.out.println(LocalDate.now(ZoneId.of(\"Asia/Kolkata\"))..getDayOfWeek());\n        return LocalDate.now(ZoneId.of(\"Asia/Kolkata\")).getDayOfWeek().toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18046647,"reputation":39,"user_id":13117467,"display_name":"Sahan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600203039,"creation_date":1600203039,"answer_id":63909691,"question_id":7226156,"body_markdown":"LocalDate date = new Date();\r\ndate.lengthOfMonth()\r\n\r\nor\r\n\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;);\r\n\r\nDateTimeFormatter monthFormatter = DateTimeFormatter.ofPattern(&quot;MMM&quot;);\r\n\r\nString stringDate = formatter.format(date);\r\n\r\nString month = monthFormatter.format(date);","title":"How to get day of the month?","body":"<p>LocalDate date = new Date();\ndate.lengthOfMonth()</p>\n<p>or</p>\n<p>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&quot;);</p>\n<p>DateTimeFormatter monthFormatter = DateTimeFormatter.ofPattern(&quot;MMM&quot;);</p>\n<p>String stringDate = formatter.format(date);</p>\n<p>String month = monthFormatter.format(date);</p>\n"},{"tags":[],"owner":{"account_id":21210535,"reputation":151,"user_id":15599248,"display_name":"cc01cc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673436951,"creation_date":1673436951,"answer_id":75082406,"question_id":7226156,"body_markdown":"You can try  the Java 8 [YearMonth][1] class.\r\n\r\n```java\r\nimport java.text.ParseException;\r\nimport java.time.YearMonth;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\nString dateTest = &quot;08 29,2011&quot;;\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM dd,yyyy&quot;);\r\nYearMonth yearMonth = YearMonth.parse(dateTest, formatter);\r\nint lengthOfMonth = yearMonth.lengthOfMonth();\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html","title":"How to get day of the month?","body":"<p>You can try  the Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\" rel=\"nofollow noreferrer\">YearMonth</a> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.ParseException;\nimport java.time.YearMonth;\nimport java.time.format.DateTimeFormatter;\n\nString dateTest = &quot;08 29,2011&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM dd,yyyy&quot;);\nYearMonth yearMonth = YearMonth.parse(dateTest, formatter);\nint lengthOfMonth = yearMonth.lengthOfMonth();\n</code></pre>\n"}],"owner":{"account_id":439407,"reputation":3157,"user_id":828330,"accept_rate":66,"display_name":"yoshi24"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197525,"favorite_count":0,"down_vote_count":1,"up_vote_count":61,"accepted_answer_id":7226186,"answer_count":10,"score":60,"last_activity_date":1673436951,"creation_date":1314593168,"question_id":7226156,"body_markdown":"I am trying to retrieve which day of the month it is.\r\n\r\nSuch as today is August 29,2011.\r\n\r\nWhat i would like to do is just get the days number such as 29, or 30. Which ever day of the month it is. \r\n\r\nHow would i go about doing this?","title":"How to get day of the month?","body":"<p>I am trying to retrieve which day of the month it is.</p>\n\n<p>Such as today is August 29,2011.</p>\n\n<p>What i would like to do is just get the days number such as 29, or 30. Which ever day of the month it is. </p>\n\n<p>How would i go about doing this?</p>\n"},{"tags":["java","spring","authentication","spring-security"],"answers":[{"tags":[],"owner":{"account_id":27495247,"reputation":156,"user_id":20979858,"display_name":"Harsha Gandikota"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673436864,"creation_date":1673436864,"answer_id":75082379,"question_id":75081942,"body_markdown":"This is happening because you have used a STATELESS sessionCreationPolicy in your web security config. The stateless creation policy means that the logged-in user details are not maintained on the server side. This is why you are getting anonymousUser from the principal. The server authenticates the client for each and every single request and checks the authority of the user. This is generally used in situations when the authentication is done using tokens to increase the scalability of the application.\r\nThe default value of the sessionCreationPolicy attribute is `SessionCreationPolicy.IF_REQUIRED`. Using this should solve your problem. Let me know if it helps.","title":"SecurityContextHolder.getPrincipal() returns AnonimousUser after authentication using Spring Security","body":"<p>This is happening because you have used a STATELESS sessionCreationPolicy in your web security config. The stateless creation policy means that the logged-in user details are not maintained on the server side. This is why you are getting anonymousUser from the principal. The server authenticates the client for each and every single request and checks the authority of the user. This is generally used in situations when the authentication is done using tokens to increase the scalability of the application.\nThe default value of the sessionCreationPolicy attribute is <code>SessionCreationPolicy.IF_REQUIRED</code>. Using this should solve your problem. Let me know if it helps.</p>\n"}],"owner":{"account_id":27497691,"reputation":31,"user_id":20981958,"display_name":"Helen Barskaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75082379,"answer_count":1,"score":2,"last_activity_date":1673436864,"creation_date":1673434577,"question_id":75081942,"body_markdown":"I am writing authentication using Spring Security and faced the following problem: after entering my username and password, I am redirected to defaultSuccessUrl(&quot;/&quot;), however, the SecurityContextHolder.getContext() method.getAuthentication().getPrincipal().toString() returns anonimousUser. Why is this happening and how to fix it? I will be grateful for your help.\r\n\r\n\r\nHere is the code I wrote.\r\nMy pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;MyStore&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;MyStore&lt;/name&gt;\r\n    &lt;description&gt;MyStore&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;16&lt;/source&gt;\r\n                    &lt;target&gt;16&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nMy WebSecurityConfig:\r\n\r\n```\r\npackage com.example.mystore.security;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer;\r\nimport org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer;\r\nimport org.springframework.security.config.annotation.web.configurers.LogoutConfigurer;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\npublic class WebSecurityConfig {\r\n\r\n    protected UserDetailsService userDetailsService;\r\n\r\n    public WebSecurityConfig(UserDetailsService userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    public static final String[] possiblePatterns = new String[]{\r\n            &quot;/&quot;,\r\n            &quot;/registration&quot;,\r\n            &quot;/category&quot;,\r\n            &quot;/style.css&quot;\r\n    };\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n//                .cors()\r\n//                .and()\r\n//                .csrf()\r\n//                .disable()\r\n\r\n                .authorizeHttpRequests(this::buildRequests)\r\n                .formLogin(this::formCustomizer)\r\n                .logout(LogoutConfigurer::permitAll)\r\n                .userDetailsService(userDetailsService)\r\n                .httpBasic()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    protected AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry\r\n    buildRequests(AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry requests) {\r\n        return requests.requestMatchers(possiblePatterns)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .permitAll();\r\n    }\r\n\r\n    private FormLoginConfigurer&lt;HttpSecurity&gt; formCustomizer(FormLoginConfigurer&lt;HttpSecurity&gt; form) {\r\n        return form.loginPage(&quot;/login&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;)\r\n                .permitAll();\r\n    }\r\n}\r\n\r\n```\r\nUser:\r\n\r\n```\r\npackage com.example.mystore.model;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class User implements UserDetails, GrantedAuthority {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    protected int id;\r\n\r\n    @Column(name = &quot;username&quot;, nullable = false)\r\n    protected String username;\r\n\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    protected String password;\r\n\r\n    @Column(name = &quot;role&quot;, nullable = false)\r\n    protected String role;\r\n\r\n    public User(String username, String password, String role) {\r\n        this.username = username;\r\n        this.password = password;\r\n        this.role = role;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n                return Arrays.stream(this.getRole().split(&quot;,&quot;))\r\n                .map(SimpleGrantedAuthority::new)\r\n                .toList();\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return getRole();\r\n    }\r\n}\r\n\r\n```\r\nUserRepository:\r\n\r\n```\r\npackage com.example.mystore.repository;\r\n\r\nimport com.example.mystore.model.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport java.util.Optional;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n    Optional&lt;User&gt; findByUsername(String username);\r\n}\r\n\r\n```\r\n\r\nUserService:\r\n\r\n```\r\npackage com.example.mystore.service;\r\n\r\nimport com.example.mystore.model.User;\r\nimport com.example.mystore.repository.UserRepository;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class UserService {\r\n    UserRepository userRepository;\r\n\r\n    public UserService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    public User saveUser(User user){\r\n        return userRepository.save(user);\r\n    }\r\n    public User getByUsername( String username)\r\n    {\r\n        Optional&lt;User&gt; optionalUser = userRepository.findByUsername(username);\r\n        return optionalUser.orElse(null);\r\n    }\r\n}\r\n\r\n```\r\nJpaUserDetailService:\r\n\r\n```\r\npackage com.example.mystore.service;\r\n\r\nimport com.example.mystore.model.User;\r\nimport com.example.mystore.repository.UserRepository;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class JpaUserDetailsService implements UserDetailsService {\r\n    UserRepository userRepository;\r\n\r\n    public JpaUserDetailsService(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        return userRepository\r\n                .findByUsername(username)\r\n                .map(this::userMapper)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found: &quot; + username));\r\n    }\r\n\r\n    protected User userMapper(User user) {\r\n        String password = user.getPassword();\r\n        user.setPassword(&quot;{noop}&quot; + password);\r\n\r\n        return user;\r\n    }\r\n}\r\n```","title":"SecurityContextHolder.getPrincipal() returns AnonimousUser after authentication using Spring Security","body":"<p>I am writing authentication using Spring Security and faced the following problem: after entering my username and password, I am redirected to defaultSuccessUrl(&quot;/&quot;), however, the SecurityContextHolder.getContext() method.getAuthentication().getPrincipal().toString() returns anonimousUser. Why is this happening and how to fix it? I will be grateful for your help.</p>\n<p>Here is the code I wrote.\nMy pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;MyStore&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;MyStore&lt;/name&gt;\n    &lt;description&gt;MyStore&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My WebSecurityConfig:</p>\n<pre><code>package com.example.mystore.security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer;\nimport org.springframework.security.config.annotation.web.configurers.FormLoginConfigurer;\nimport org.springframework.security.config.annotation.web.configurers.LogoutConfigurer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\npublic class WebSecurityConfig {\n\n    protected UserDetailsService userDetailsService;\n\n    public WebSecurityConfig(UserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    public static final String[] possiblePatterns = new String[]{\n            &quot;/&quot;,\n            &quot;/registration&quot;,\n            &quot;/category&quot;,\n            &quot;/style.css&quot;\n    };\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n//                .cors()\n//                .and()\n//                .csrf()\n//                .disable()\n\n                .authorizeHttpRequests(this::buildRequests)\n                .formLogin(this::formCustomizer)\n                .logout(LogoutConfigurer::permitAll)\n                .userDetailsService(userDetailsService)\n                .httpBasic()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        return http.build();\n    }\n\n    protected AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry\n    buildRequests(AuthorizeHttpRequestsConfigurer&lt;HttpSecurity&gt;.AuthorizationManagerRequestMatcherRegistry requests) {\n        return requests.requestMatchers(possiblePatterns)\n                .permitAll()\n                .anyRequest()\n                .permitAll();\n    }\n\n    private FormLoginConfigurer&lt;HttpSecurity&gt; formCustomizer(FormLoginConfigurer&lt;HttpSecurity&gt; form) {\n        return form.loginPage(&quot;/login&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .permitAll();\n    }\n}\n\n</code></pre>\n<p>User:</p>\n<pre><code>package com.example.mystore.model;\n\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;user&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class User implements UserDetails, GrantedAuthority {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    protected int id;\n\n    @Column(name = &quot;username&quot;, nullable = false)\n    protected String username;\n\n    @Column(name = &quot;password&quot;, nullable = false)\n    protected String password;\n\n    @Column(name = &quot;role&quot;, nullable = false)\n    protected String role;\n\n    public User(String username, String password, String role) {\n        this.username = username;\n        this.password = password;\n        this.role = role;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n                return Arrays.stream(this.getRole().split(&quot;,&quot;))\n                .map(SimpleGrantedAuthority::new)\n                .toList();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n    @Override\n    public String getAuthority() {\n        return getRole();\n    }\n}\n\n</code></pre>\n<p>UserRepository:</p>\n<pre><code>package com.example.mystore.repository;\n\nimport com.example.mystore.model.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport java.util.Optional;\n\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n    Optional&lt;User&gt; findByUsername(String username);\n}\n\n</code></pre>\n<p>UserService:</p>\n<pre><code>package com.example.mystore.service;\n\nimport com.example.mystore.model.User;\nimport com.example.mystore.repository.UserRepository;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Optional;\n\n@Service\npublic class UserService {\n    UserRepository userRepository;\n\n    public UserService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    public User saveUser(User user){\n        return userRepository.save(user);\n    }\n    public User getByUsername( String username)\n    {\n        Optional&lt;User&gt; optionalUser = userRepository.findByUsername(username);\n        return optionalUser.orElse(null);\n    }\n}\n\n</code></pre>\n<p>JpaUserDetailService:</p>\n<pre><code>package com.example.mystore.service;\n\nimport com.example.mystore.model.User;\nimport com.example.mystore.repository.UserRepository;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class JpaUserDetailsService implements UserDetailsService {\n    UserRepository userRepository;\n\n    public JpaUserDetailsService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        return userRepository\n                .findByUsername(username)\n                .map(this::userMapper)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username not found: &quot; + username));\n    }\n\n    protected User userMapper(User user) {\n        String password = user.getPassword();\n        user.setPassword(&quot;{noop}&quot; + password);\n\n        return user;\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":6403618,"reputation":76,"user_id":4965547,"display_name":"Alexis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673436293,"creation_date":1673436293,"answer_id":75082272,"question_id":75082239,"body_markdown":"You should try adding `?allowMultiQueries=true` to your JDBC connection URL.\r\n\r\nExample:\r\n`jdbc:mysql://server-name:server-port/database-name?allowMultiQueries=true`","title":"Java JDBC MySQL multiple INSERTS in one executeUpdate()","body":"<p>You should try adding <code>?allowMultiQueries=true</code> to your JDBC connection URL.</p>\n<p>Example:\n<code>jdbc:mysql://server-name:server-port/database-name?allowMultiQueries=true</code></p>\n"}],"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673436444,"accepted_answer_id":75082272,"answer_count":1,"score":0,"last_activity_date":1673436293,"creation_date":1673436131,"question_id":75082239,"body_markdown":"I&#39;m using JDBC to make my Java application handle SQL statements to my MySQL database.\r\nFor some reason it can&#39;t do multiple insert statements in one executeUpdate() method.\r\n\r\nMy code looks like this:\r\n\r\n    PreparedStatement statement = connection().prepareStatement(sql);\r\n    boolean success = statement.executeUpdate() &gt; 0;\r\n\r\n    if (doClose)\r\n        closeConnection();\r\n    return success;\r\n\r\nwhere sql is a string of the SQL statement.\r\n\r\nIt tells me there is a sql syntax error, where the new insert statement begins.\r\n\r\nThe SQL looks like this:\r\n\r\n\tINSERT INTO subscriptions(user_id,`status`,subscription_type,offer_type,offer_expires,offer_effect,card_id) \r\n\tVALUES (18,&#39;ACCEPTED&#39;,&#39;FREEMIUM&#39;,NULL,NULL,NULL,NULL); \r\n\tINSERT INTO contact_informations(user_id,email,first_digits,phone_number,phone_is_mobile,street,floor,postal,city,country_title,country_indexes) \r\n\tVALUES (18,&#39;cool@gmail.com&#39;,45,57104998,false,&#39;N&#248;rrevang 15&#39;,&#39;5. th.&#39;,&#39;2528&#39;,&#39;Holb&#230;k&#39;,&#39;Tyskland&#39;,&#39;DE&#39;);\r\n\r\nIt works perfectly, when I split the two statement, but in my MySQL workbench editor, it handles the statement in one take.\r\n\r\nIs there a way to perform both in one JDBC statement?","title":"Java JDBC MySQL multiple INSERTS in one executeUpdate()","body":"<p>I'm using JDBC to make my Java application handle SQL statements to my MySQL database.\nFor some reason it can't do multiple insert statements in one executeUpdate() method.</p>\n<p>My code looks like this:</p>\n<pre><code>PreparedStatement statement = connection().prepareStatement(sql);\nboolean success = statement.executeUpdate() &gt; 0;\n\nif (doClose)\n    closeConnection();\nreturn success;\n</code></pre>\n<p>where sql is a string of the SQL statement.</p>\n<p>It tells me there is a sql syntax error, where the new insert statement begins.</p>\n<p>The SQL looks like this:</p>\n<pre><code>INSERT INTO subscriptions(user_id,`status`,subscription_type,offer_type,offer_expires,offer_effect,card_id) \nVALUES (18,'ACCEPTED','FREEMIUM',NULL,NULL,NULL,NULL); \nINSERT INTO contact_informations(user_id,email,first_digits,phone_number,phone_is_mobile,street,floor,postal,city,country_title,country_indexes) \nVALUES (18,'cool@gmail.com',45,57104998,false,'NÃ¸rrevang 15','5. th.','2528','HolbÃ¦k','Tyskland','DE');\n</code></pre>\n<p>It works perfectly, when I split the two statement, but in my MySQL workbench editor, it handles the statement in one take.</p>\n<p>Is there a way to perform both in one JDBC statement?</p>\n"},{"tags":["java",".net","docker","ip"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670706815,"post_id":74756501,"comment_id":131936839,"body_markdown":"Your containers are being created.  You can tell by the output.  They are just not talking to one another.  I am not the best at docker myself, but I believe that you need to open the 8899 port on your server.  And the ip address inside of docker will for sure be different in your containers then on your local/host computer.  BUT, looking at Socket, socket can also work by host name, and docker is quite good at working with host names.  Give that a try if you can instead of ip addresses.","body":"Your containers are being created.  You can tell by the output.  They are just not talking to one another.  I am not the best at docker myself, but I believe that you need to open the 8899 port on your server.  And the ip address inside of docker will for sure be different in your containers then on your local/host computer.  BUT, looking at Socket, socket can also work by host name, and docker is quite good at working with host names.  Give that a try if you can instead of ip addresses."},{"owner":{"account_id":22599784,"reputation":119,"user_id":20744083,"display_name":"had0uken"},"score":0,"creation_date":1670707426,"post_id":74756501,"comment_id":131936925,"body_markdown":"Thanks! But then I got new questions. If my containers have been successfully created. Why using command &quot;docker ps&quot; I do not see them? Using command &quot;docker ps - a&quot; I can see that containers status are &quot;Exited&quot;. In server app code I use while(true) and the app have not  to be closed even if it doesn`t get eny messages from clients. It has to wait for messages.","body":"Thanks! But then I got new questions. If my containers have been successfully created. Why using command &quot;docker ps&quot; I do not see them? Using command &quot;docker ps - a&quot; I can see that containers status are &quot;Exited&quot;. In server app code I use while(true) and the app have not  to be closed even if it doesn`t get eny messages from clients. It has to wait for messages."},{"owner":{"account_id":22599784,"reputation":119,"user_id":20744083,"display_name":"had0uken"},"score":0,"creation_date":1670707429,"post_id":74756501,"comment_id":131936927,"body_markdown":"And about port, is it port normally open or closed in docker container? Regarding IP, IP address I used only during testing apps on my local/host computer. For docker I changed code of clients, and tried to connect to server by service name &quot;appServer&quot;","body":"And about port, is it port normally open or closed in docker container? Regarding IP, IP address I used only during testing apps on my local/host computer. For docker I changed code of clients, and tried to connect to server by service name &quot;appServer&quot;"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670708322,"post_id":74756501,"comment_id":131937060,"body_markdown":"I am unsure why the server would be exiting, but the clients are exiting because they are throwing an exception that isn&#39;t caught and that causes the main method to exit.  If you put a catch statement with your client&#39;s try statement, they would keep running.","body":"I am unsure why the server would be exiting, but the clients are exiting because they are throwing an exception that isn&#39;t caught and that causes the main method to exit.  If you put a catch statement with your client&#39;s try statement, they would keep running."},{"owner":{"account_id":22599784,"reputation":119,"user_id":20744083,"display_name":"had0uken"},"score":0,"creation_date":1670709445,"post_id":74756501,"comment_id":131937251,"body_markdown":"@hooknc I can check that. I edited the question and added update information. So, I deleted all rows connected with Soccets from my Clients classes. Now they do not have to throw exceptions. But I still have problems with creating containers. Please look to new information in my question.","body":"@hooknc I can check that. I edited the question and added update information. So, I deleted all rows connected with Soccets from my Clients classes. Now they do not have to throw exceptions. But I still have problems with creating containers. Please look to new information in my question."},{"owner":{"account_id":22599784,"reputation":119,"user_id":20744083,"display_name":"had0uken"},"score":0,"creation_date":1670709613,"post_id":74756501,"comment_id":131937288,"body_markdown":"Also error log has a row &quot;docker-compose-app-app_server-1   | /bin/sh: 1: [java,: not found&quot;. And it bother me, why this command doesn`t work? Why &quot;not found&quot;. Is something bad in row witch CMD command?","body":"Also error log has a row &quot;docker-compose-app-app_server-1   | /bin/sh: 1: [java,: not found&quot;. And it bother me, why this command doesn`t work? Why &quot;not found&quot;. Is something bad in row witch CMD command?"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670709672,"post_id":74756501,"comment_id":131937299,"body_markdown":"Looking closely at the second set of error messages, the server fails because it can&#39;t find java `/bin/sh: 1: [java,: not found`.  First and foremost, I would get that figured out.  Next, I would try just with one docker container, that being the server and see if you could have a client running on your host contact that docker hosted server.","body":"Looking closely at the second set of error messages, the server fails because it can&#39;t find java <code>&#47;bin&#47;sh: 1: [java,: not found</code>.  First and foremost, I would get that figured out.  Next, I would try just with one docker container, that being the server and see if you could have a client running on your host contact that docker hosted server."},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1670710003,"post_id":74756501,"comment_id":131937359,"body_markdown":"The `[java,` is usually a symptom that your CMD isn&#39;t actually a JSON array.  Double-check that you have the punctuation correct and that you have ordinary ASCII spaces U+0020 and double quotes U+0022 (what you have in the question seems right, but double-check locally).","body":"The <code>[java,</code> is usually a symptom that your CMD isn&#39;t actually a JSON array.  Double-check that you have the punctuation correct and that you have ordinary ASCII spaces U+0020 and double quotes U+0022 (what you have in the question seems right, but double-check locally)."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670718721,"post_id":74756501,"comment_id":131938628,"body_markdown":"I have been able to deploy (more or less the same) code on my local machine and I was able to get your applications to work together.  I was wrong on the port numbers in the docker-compose file.  The port numbers are only needed if you want external services to talk to your docker containers.","body":"I have been able to deploy (more or less the same) code on my local machine and I was able to get your applications to work together.  I was wrong on the port numbers in the docker-compose file.  The port numbers are only needed if you want external services to talk to your docker containers."}],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673435955,"creation_date":1670753703,"answer_id":74759917,"question_id":74756501,"body_markdown":"# SERVER - MYSERVER.java\r\n\r\n    package org.example;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    \r\n    public class MYSERVER {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n            System.out.println(&quot;Server was started!&quot;);\r\n            try (ServerSocket serverSocket = new ServerSocket(8899)) {\r\n                while (true) {\r\n                    try (Socket client = serverSocket.accept()) {\r\n                        BufferedReader reader = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n                        String line = reader.readLine();\r\n                        System.out.println(client.getInetAddress().getHostAddress() + &quot; - &quot; + line);\r\n                    } catch (Exception e) {\r\n                        System.out.println(&quot;Dops&quot;);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n# CLIENT - MYCLIENT.java\r\n\r\n    package org.example;\r\n    \r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.Socket;\r\n    import java.net.UnknownHostException;\r\n    import java.util.Calendar;\r\n    \r\n    public class MYCLIENT {\r\n        public static void main(String[] args)  {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n            String ip = &quot;localhost&quot;;\r\n            if (args.length &gt; 0) ip= args[0];\r\n            System.out.println(&quot;ip=&quot;+ip);\r\n            int no = 1;\r\n            if (args.length &gt; 1) no= Integer.parseInt(args[1]);\r\n            String whoami=&quot;client #&quot;+no;\r\n            System.out.println(&quot;whoami=&quot;+whoami);\r\n            while (true){\r\n                try (Socket socket = new Socket(ip, 8899)) {\r\n                    System.out.println(&quot;An attempt...&quot;);\r\n                    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n                    String message = &quot;Hello from &quot;+whoami+&quot; at &quot;+ Calendar.getInstance().getTime() +&quot;\\n&quot;;\r\n                    writer.write(message);\r\n                    writer.flush();\r\n                    System.out.println(&quot;The package was sent!&quot;);\r\n                } catch (UnknownHostException e) {\r\n                    e.printStackTrace();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    Thread.sleep(10000);\r\n                }catch (InterruptedException e) {\r\n                     //do nothing\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n# BUILD JAVA TO EXECUTE JAR\r\n\r\n- MYCLIENT-1.0-SNAPSHOT.jar\r\n- MYSERVER-1.0-SNAPSHOT.jar\r\n\r\n# HOST TEST\r\n- Open Terminal 1: `java -jar MYSERVER-1.0-SNAPSHOT.jar`\r\n- Open Terminal 2: `java -jar MYCLIENT-1.0-SNAPSHOT.jar localhost 1`\r\n- Open Terminal 3: `java -jar MYCLIENT-1.0-SNAPSHOT.jar localhost 2`\r\n- Open Terminal 4: `java -jar MYCLIENT-1.0-SNAPSHOT.jar localhost 3`\r\n\r\n# MY_SERVER_CLIENT\r\n\r\n    â”œâ”€â”€ docker-compose.yml\r\n    â”œâ”€â”€ MYCLIENT\r\n    â”‚&#160;&#160; â”œâ”€â”€ Dockerfile\r\n    â”‚&#160;&#160; â””â”€â”€ MYCLIENT-1.0-SNAPSHOT.jar\r\n    â””â”€â”€ MYSERVER\r\n        â”œâ”€â”€ Dockerfile\r\n        â””â”€â”€ MYSERVER-1.0-SNAPSHOT.jar\r\n\r\n## MYSERVER - Dockerfile\r\n\r\n    FROM eclipse-temurin:17.0.5_8-jre-ubi9-minimal\r\n    EXPOSE 8899\r\n    WORKDIR /app\r\n    COPY MYSERVER-1.0-SNAPSHOT.jar /app/app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;app.jar&quot;]\r\n\r\n## MYSERVER - build command\r\n\r\n    docker build -t demoserver:1.0.0 .\r\n           \r\n    docker tag demoserver:1.0.0 demoserver:latest\r\n\r\n## MYCLIENT - Dockerfile\r\n\r\n    FROM eclipse-temurin:17.0.5_8-jre-ubi9-minimal\r\n    WORKDIR /app\r\n    COPY MYCLIENT-1.0-SNAPSHOT.jar /app/app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;app.jar&quot;]\r\n    CMD [&quot;locahost&quot;,&quot;1&quot;]\r\n\r\n## MYCLIENT - build command\r\n\r\n    docker build -t democlient:1.0.0 .\r\n           \r\n    docker tag democlient:1.0.0 democlient:latest\r\n\r\n# TEST\r\n\r\n## Test Server - demoserver \r\n\r\n- Open terminal 1: `docker run -it demoserver`\r\n- Open terminal 2: `docker ps`\r\n- terminal 2: `docker inspect demoserver-container-id`\r\n\r\nGet container ip like `&quot;IPAddress&quot;: &quot;172.17.0.2&quot;`\r\n\r\n## Test Client - client \r\n\r\n- Open terminal 3: `docker run -it democlient 172.17.0.2 1`\r\n- Open terminal 4: `docker run -it democlient 172.17.0.2 2`\r\n- Open terminal 5: `docker run -it democlient 172.17.0.2 3`\r\n- Open terminal 6: `docker run -it democlient 172.17.0.2 4`\r\n\r\n## See Terminal 1\r\n\r\nFIND\r\n\r\n    $ docker run -it demoserver\r\n    Hello world!\r\n    Server was started!\r\n    172.17.0.3 - Hello from client #1 at Sun Dec 11 10:07:47 GMT 2022\r\n    172.17.0.3 - Hello from client #1 at Sun Dec 11 10:07:57 GMT 2022\r\n    172.17.0.4 - Hello from client #2 at Sun Dec 11 10:08:02 GMT 2022\r\n    172.17.0.3 - Hello from client #1 at Sun Dec 11 10:08:07 GMT 2022\r\n    172.17.0.4 - Hello from client #2 at Sun Dec 11 10:08:12 GMT 2022\r\n    172.17.0.3 - Hello from client #1 at Sun Dec 11 10:08:17 GMT 2022\r\n    172.17.0.5 - Hello from client #3 at Sun Dec 11 10:08:17 GMT 2022\r\n    172.17.0.4 - Hello from client #2 at Sun Dec 11 10:08:22 GMT 2022\r\n\r\n# Last Step Create `docker-compose.yml`\r\n\r\n## docker-compose.yml\r\n\r\n    version: &#39;3.4&#39;\r\n    \r\n    services:\r\n      demoserver:\r\n        image: demoserver\r\n    \r\n      democlient1:\r\n        image: democlient\r\n        command: demoserver 1\r\n        depends_on:\r\n          - demoserver\r\n    \r\n      democlient2:\r\n        image: democlient\r\n        command: demoserver 2\r\n        depends_on:\r\n          - demoserver\r\n    \r\n      democlient3:\r\n        image: democlient\r\n        command: demoserver 3\r\n        depends_on:\r\n          - demoserver\r\n\r\n\r\n## Run docker compose\r\n\r\n- Open terminal: `docker compose up`\r\n\r\n    $ docker compose up\r\n    [+] Running 4/0\r\n     â ¿ Container my_server_client-demoserver-1   Created                       0.0s\r\n     â ¿ Container my_server_client-democlient3-1  Created                       0.0s\r\n     â ¿ Container my_server_client-democlient1-1  Created                       0.0s\r\n     â ¿ Container my_server_client-democlient2-1  Created                       0.0s\r\n    Attaching to my_server_client-democlient1-1, my_server_client-democlient2-1, my_server_client-democlient3-1, my_server_client-demoserver-1\r\n    my_server_client-demoserver-1   | Hello world!\r\n    my_server_client-demoserver-1   | Server was started!\r\n    my_server_client-democlient2-1  | Hello world!\r\n    my_server_client-democlient2-1  | ip=demoserver\r\n    my_server_client-democlient2-1  | whoami=client #2\r\n    my_server_client-democlient2-1  | An attempt...\r\n    my_server_client-democlient3-1  | Hello world!\r\n    my_server_client-democlient3-1  | ip=demoserver\r\n    my_server_client-democlient1-1  | Hello world!\r\n    my_server_client-democlient3-1  | whoami=client #3\r\n    my_server_client-democlient2-1  | The package was sent!\r\n    my_server_client-democlient1-1  | ip=demoserver\r\n    my_server_client-demoserver-1   | 172.18.0.3 - Hello from client #2 at Sun Dec 11 10:29:55 GMT 2022\r\n    my_server_client-democlient1-1  | whoami=client #1\r\n    my_server_client-democlient3-1  | An attempt...\r\n    my_server_client-democlient1-1  | An attempt...\r\n    my_server_client-democlient3-1  | The package was sent!\r\n    my_server_client-demoserver-1   | 172.18.0.4 - Hello from client #3 at Sun Dec 11 10:29:55 GMT 2022\r\n    my_server_client-democlient1-1  | The package was sent!\r\n    my_server_client-demoserver-1   | 172.18.0.5 - Hello from client #1 at Sun Dec 11 10:29:55 GMT 2022\r\n\r\n\r\n\r\n## Run docker compose again\r\n\r\n- Open terminal: `docker compose up --scale app_client1=10`\r\n\r\n# DIY\r\n\r\n    services:\r\n      demoserver:\r\n        image: demoserver\r\n    \r\n      democlient1:\r\n        image: democlient\r\n      ...\r\n\r\nChange `image` to `build` yourself.\r\n\r\n# Do one thing at a time\r\n\r\n- Step 1. test java part, server , client\r\n- Step 2. package server, client as execute jar\r\n- Step 3. test it on host, not on docker\r\n- Step 4. pack server to docker image\r\n- Step 5. test server use docker image, but test client on host\r\n- Step 6. pack client to docker image\r\n- Step 7. test server image and client image\r\n- Step 8. build `docker-compose.yml`\r\n- Step 9. test docker compose\r\n\r\nI am used to cutting the problem into many parts, then solving each part, testing each part, and finally combining each part\r\nBut each part has been tested, so I can know what the message is if an error occurs, which part is wrong, and how to deal with it.","title":"Why Docker (Java Server-Clients) doesn`t work?","body":"<h1>SERVER - MYSERVER.java</h1>\n<pre><code>package org.example;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class MYSERVER {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n        System.out.println(&quot;Server was started!&quot;);\n        try (ServerSocket serverSocket = new ServerSocket(8899)) {\n            while (true) {\n                try (Socket client = serverSocket.accept()) {\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(client.getInputStream()));\n                    String line = reader.readLine();\n                    System.out.println(client.getInetAddress().getHostAddress() + &quot; - &quot; + line);\n                } catch (Exception e) {\n                    System.out.println(&quot;Dops&quot;);\n                }\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<h1>CLIENT - MYCLIENT.java</h1>\n<pre><code>package org.example;\n\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\nimport java.util.Calendar;\n\npublic class MYCLIENT {\n    public static void main(String[] args)  {\n        System.out.println(&quot;Hello world!&quot;);\n        String ip = &quot;localhost&quot;;\n        if (args.length &gt; 0) ip= args[0];\n        System.out.println(&quot;ip=&quot;+ip);\n        int no = 1;\n        if (args.length &gt; 1) no= Integer.parseInt(args[1]);\n        String whoami=&quot;client #&quot;+no;\n        System.out.println(&quot;whoami=&quot;+whoami);\n        while (true){\n            try (Socket socket = new Socket(ip, 8899)) {\n                System.out.println(&quot;An attempt...&quot;);\n                BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n                String message = &quot;Hello from &quot;+whoami+&quot; at &quot;+ Calendar.getInstance().getTime() +&quot;\\n&quot;;\n                writer.write(message);\n                writer.flush();\n                System.out.println(&quot;The package was sent!&quot;);\n            } catch (UnknownHostException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            try {\n                Thread.sleep(10000);\n            }catch (InterruptedException e) {\n                 //do nothing\n            }\n        }\n    }\n}\n</code></pre>\n<h1>BUILD JAVA TO EXECUTE JAR</h1>\n<ul>\n<li>MYCLIENT-1.0-SNAPSHOT.jar</li>\n<li>MYSERVER-1.0-SNAPSHOT.jar</li>\n</ul>\n<h1>HOST TEST</h1>\n<ul>\n<li>Open Terminal 1: <code>java -jar MYSERVER-1.0-SNAPSHOT.jar</code></li>\n<li>Open Terminal 2: <code>java -jar MYCLIENT-1.0-SNAPSHOT.jar localhost 1</code></li>\n<li>Open Terminal 3: <code>java -jar MYCLIENT-1.0-SNAPSHOT.jar localhost 2</code></li>\n<li>Open Terminal 4: <code>java -jar MYCLIENT-1.0-SNAPSHOT.jar localhost 3</code></li>\n</ul>\n<h1>MY_SERVER_CLIENT</h1>\n<pre><code>â”œâ”€â”€ docker-compose.yml\nâ”œâ”€â”€ MYCLIENT\nâ”‚Â Â  â”œâ”€â”€ Dockerfile\nâ”‚Â Â  â””â”€â”€ MYCLIENT-1.0-SNAPSHOT.jar\nâ””â”€â”€ MYSERVER\n    â”œâ”€â”€ Dockerfile\n    â””â”€â”€ MYSERVER-1.0-SNAPSHOT.jar\n</code></pre>\n<h2>MYSERVER - Dockerfile</h2>\n<pre><code>FROM eclipse-temurin:17.0.5_8-jre-ubi9-minimal\nEXPOSE 8899\nWORKDIR /app\nCOPY MYSERVER-1.0-SNAPSHOT.jar /app/app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;app.jar&quot;]\n</code></pre>\n<h2>MYSERVER - build command</h2>\n<pre><code>docker build -t demoserver:1.0.0 .\n       \ndocker tag demoserver:1.0.0 demoserver:latest\n</code></pre>\n<h2>MYCLIENT - Dockerfile</h2>\n<pre><code>FROM eclipse-temurin:17.0.5_8-jre-ubi9-minimal\nWORKDIR /app\nCOPY MYCLIENT-1.0-SNAPSHOT.jar /app/app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;app.jar&quot;]\nCMD [&quot;locahost&quot;,&quot;1&quot;]\n</code></pre>\n<h2>MYCLIENT - build command</h2>\n<pre><code>docker build -t democlient:1.0.0 .\n       \ndocker tag democlient:1.0.0 democlient:latest\n</code></pre>\n<h1>TEST</h1>\n<h2>Test Server - demoserver</h2>\n<ul>\n<li>Open terminal 1: <code>docker run -it demoserver</code></li>\n<li>Open terminal 2: <code>docker ps</code></li>\n<li>terminal 2: <code>docker inspect demoserver-container-id</code></li>\n</ul>\n<p>Get container ip like <code>&quot;IPAddress&quot;: &quot;172.17.0.2&quot;</code></p>\n<h2>Test Client - client</h2>\n<ul>\n<li>Open terminal 3: <code>docker run -it democlient 172.17.0.2 1</code></li>\n<li>Open terminal 4: <code>docker run -it democlient 172.17.0.2 2</code></li>\n<li>Open terminal 5: <code>docker run -it democlient 172.17.0.2 3</code></li>\n<li>Open terminal 6: <code>docker run -it democlient 172.17.0.2 4</code></li>\n</ul>\n<h2>See Terminal 1</h2>\n<p>FIND</p>\n<pre><code>$ docker run -it demoserver\nHello world!\nServer was started!\n172.17.0.3 - Hello from client #1 at Sun Dec 11 10:07:47 GMT 2022\n172.17.0.3 - Hello from client #1 at Sun Dec 11 10:07:57 GMT 2022\n172.17.0.4 - Hello from client #2 at Sun Dec 11 10:08:02 GMT 2022\n172.17.0.3 - Hello from client #1 at Sun Dec 11 10:08:07 GMT 2022\n172.17.0.4 - Hello from client #2 at Sun Dec 11 10:08:12 GMT 2022\n172.17.0.3 - Hello from client #1 at Sun Dec 11 10:08:17 GMT 2022\n172.17.0.5 - Hello from client #3 at Sun Dec 11 10:08:17 GMT 2022\n172.17.0.4 - Hello from client #2 at Sun Dec 11 10:08:22 GMT 2022\n</code></pre>\n<h1>Last Step Create <code>docker-compose.yml</code></h1>\n<h2>docker-compose.yml</h2>\n<pre><code>version: '3.4'\n\nservices:\n  demoserver:\n    image: demoserver\n\n  democlient1:\n    image: democlient\n    command: demoserver 1\n    depends_on:\n      - demoserver\n\n  democlient2:\n    image: democlient\n    command: demoserver 2\n    depends_on:\n      - demoserver\n\n  democlient3:\n    image: democlient\n    command: demoserver 3\n    depends_on:\n      - demoserver\n</code></pre>\n<h2>Run docker compose</h2>\n<ul>\n<li><p>Open terminal: <code>docker compose up</code></p>\n<p>$ docker compose up\n[+] Running 4/0\nâ ¿ Container my_server_client-demoserver-1   Created                       0.0s\nâ ¿ Container my_server_client-democlient3-1  Created                       0.0s\nâ ¿ Container my_server_client-democlient1-1  Created                       0.0s\nâ ¿ Container my_server_client-democlient2-1  Created                       0.0s\nAttaching to my_server_client-democlient1-1, my_server_client-democlient2-1, my_server_client-democlient3-1, my_server_client-demoserver-1\nmy_server_client-demoserver-1   | Hello world!\nmy_server_client-demoserver-1   | Server was started!\nmy_server_client-democlient2-1  | Hello world!\nmy_server_client-democlient2-1  | ip=demoserver\nmy_server_client-democlient2-1  | whoami=client #2\nmy_server_client-democlient2-1  | An attempt...\nmy_server_client-democlient3-1  | Hello world!\nmy_server_client-democlient3-1  | ip=demoserver\nmy_server_client-democlient1-1  | Hello world!\nmy_server_client-democlient3-1  | whoami=client #3\nmy_server_client-democlient2-1  | The package was sent!\nmy_server_client-democlient1-1  | ip=demoserver\nmy_server_client-demoserver-1   | 172.18.0.3 - Hello from client #2 at Sun Dec 11 10:29:55 GMT 2022\nmy_server_client-democlient1-1  | whoami=client #1\nmy_server_client-democlient3-1  | An attempt...\nmy_server_client-democlient1-1  | An attempt...\nmy_server_client-democlient3-1  | The package was sent!\nmy_server_client-demoserver-1   | 172.18.0.4 - Hello from client #3 at Sun Dec 11 10:29:55 GMT 2022\nmy_server_client-democlient1-1  | The package was sent!\nmy_server_client-demoserver-1   | 172.18.0.5 - Hello from client #1 at Sun Dec 11 10:29:55 GMT 2022</p>\n</li>\n</ul>\n<h2>Run docker compose again</h2>\n<ul>\n<li>Open terminal: <code>docker compose up --scale app_client1=10</code></li>\n</ul>\n<h1>DIY</h1>\n<pre><code>services:\n  demoserver:\n    image: demoserver\n\n  democlient1:\n    image: democlient\n  ...\n</code></pre>\n<p>Change <code>image</code> to <code>build</code> yourself.</p>\n<h1>Do one thing at a time</h1>\n<ul>\n<li>Step 1. test java part, server , client</li>\n<li>Step 2. package server, client as execute jar</li>\n<li>Step 3. test it on host, not on docker</li>\n<li>Step 4. pack server to docker image</li>\n<li>Step 5. test server use docker image, but test client on host</li>\n<li>Step 6. pack client to docker image</li>\n<li>Step 7. test server image and client image</li>\n<li>Step 8. build <code>docker-compose.yml</code></li>\n<li>Step 9. test docker compose</li>\n</ul>\n<p>I am used to cutting the problem into many parts, then solving each part, testing each part, and finally combining each part\nBut each part has been tested, so I can know what the message is if an error occurs, which part is wrong, and how to deal with it.</p>\n"}],"owner":{"account_id":22599784,"reputation":119,"user_id":20744083,"display_name":"had0uken"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74759917,"answer_count":1,"score":0,"last_activity_date":1673435955,"creation_date":1670706090,"question_id":74756501,"body_markdown":"I am learning Docker now. And i have faced with a problem: I have been practiced Docker Compose and got a problem with creating containers. The task: \r\nThere is a Server (Java). The server is very simple. It is just waiting messages from clients and printing them. There are not any threads or something like that. It is not what this app about. The code of the server:\r\n\r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\nclass Server {\r\n    public static void main(String[] args) throws IOException {\r\n        System.out.println(&quot;Server was started!&quot;);\r\n        try (ServerSocket serverSocket = new ServerSocket(8899)) {\r\n            while (true) {\r\n                try (Socket client = serverSocket.accept()) {\r\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n                    String line = reader.readLine();\r\n                    System.out.println(client.getInetAddress().getHostAddress() + &quot; - &quot; + line);\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Dops&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nThere are two clients. Also Java language. They are also very simple:\r\n\r\n\r\n```\r\nimport java.io.BufferedWriter;\r\nimport java.io.IOException;\r\nimport java.io.OutputStreamWriter;\r\nimport java.net.Socket;\r\n\r\n\r\nclass Client {\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n           \r\n        \r\n        String ip = &quot;app_server&quot;;\r\n        while (true){\r\n        try (Socket socket = new Socket(ip, 8899)) {\r\n            System.out.println(&quot;An attempt...&quot;);\r\n            Thread.sleep(10000);\r\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n            String message = &quot;Hello from client_1\\n&quot;;\r\n            writer.write(message);\r\n            writer.flush();\r\n            System.out.println(&quot;The package was sent!&quot;);\r\n        }\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe second client is totaly the same, but the message is &quot;Hello from client_2\\n&quot;.\r\n\r\nSo the idea is to create 3 containers (Server, Client#1, Client#2). And clients have to send a message to the server every 10 seconds. I have tried that on my computer and everithing was fine. It worked perfectly. But I used definite IP 192.168.7.121 in Client app code. \r\n\r\n\r\n\r\n\r\nSo I created folders:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/b4vhr.png)](https://i.stack.imgur.com/b4vhr.png)\r\n\r\nDockerfile from Client 1:\r\n\r\n\r\n\r\n\r\n```\r\nFROM openjdk:11\r\n\r\nWORKDIR /app_client1\r\n\r\nCOPY . .\r\n\r\nRUN javac Client.java\r\n\r\nCMD [ &quot;java&quot;, &quot;Client&quot; ]\r\n```\r\n\r\n\r\n\r\nDockerfile from Client 2:\r\n\r\n\r\n\r\n```\r\nFROM openjdk:11\r\n\r\nWORKDIR /app_client2\r\n\r\nCOPY . .\r\n\r\nRUN javac Client.java\r\n\r\nCMD [ &quot;java&quot;, &quot;Client&quot; ]\r\n```\r\n\r\n\r\nDocker file from Server\r\n\r\n\r\n\r\n```\r\nFROM openjdk:11\r\n\r\nWORKDIR /app_server\r\n\r\nCOPY . .\r\n\r\nRUN javac Server.java\r\n\r\nCMD [ &quot;java&quot;, &quot;Server&quot; ]\r\n```\r\n\r\n\r\n\r\ndocker-compose:\r\n\r\n\r\n\r\n```\r\nversion: &#39;3&#39;\r\n\r\nservices:\r\n  app_server:\r\n    build: ./app_server\r\n  app_client1:\r\n    build: ./app_client1  \r\n  app_client2:\r\n    build: ./app_client2 \r\n```\r\n\r\n\r\nAnd after i had typed the comand &quot;docker-compose up&quot; to terminal, a got this:\r\n\r\n\r\n```\r\nPS D:\\it\\dockerNet\\docker-compose-app&gt; docker-compose up\r\n[+] Running 3/3\r\n - Container docker-compose-app-app_server-1   Cr...                                             0.6s\r\n - Container docker-compose-app-app_client2-1  C...                                              0.6s\r\n - Container docker-compose-app-app_client1-1  C...                                              0.6s\r\nAttaching to docker-compose-app-app_client1-1, docker-compose-app-app_client2-1, docker-compose-app-app_server-1\r\ndocker-compose-app-app_client1-1  | Exception in thread &quot;main&quot; java.net.ConnectException: Connection refused (Connection refused)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\r\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\r\ndocker-compose-app-app_client1-1  |     at Client.main(Client.java:15)\r\ndocker-compose-app-app_server-1   | /bin/sh: 1: [java,: not found\r\ndocker-compose-app-app_client1-1 exited with code 1\r\ndocker-compose-app-app_server-1 exited with code 127\r\ndocker-compose-app-app_client2-1  | Exception in thread &quot;main&quot; java.net.NoRouteToHostException: No route to host (Host unreachable)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\r\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\r\ndocker-compose-app-app_client2-1  |     at Client.main(Client.java:15)\r\ndocker-compose-app-app_client2-1 exited with code 1\r\n```\r\n\r\n\r\n\r\nAnd now there are two questions:\r\n\r\n1) Can I change Server IP address by the service name &quot;app_server&quot;. Regarding youtube tutorials it is probably possible. If I can`t use that How I suposse to know IP address of the Server before containers creating?\r\n\r\n2) I do not understand why i can not create containers. Where is mistake and what is wrong? What I have done wrong?\r\n\r\nI will be very gratefull for you help! \r\n\r\n\r\n-----------------------\r\nupdate:\r\n\r\nAccording to advice in comments bellow, I changed code in both Clients to avoid possible exceptions. Now they look like:\r\n\r\n\r\n    import java.io.IOException;\r\n    \r\n    \r\n    class Client {\r\n        public static void main(String[] args) throws IOException, InterruptedException {\r\n            System.out.println(&quot;TEST&quot;);\r\n            \r\n        }\r\n    }\r\n\r\nBut I still have error:\r\n\r\n\r\n    PS D:\\it\\dockerNet\\docker-compose-app&gt; docker-compose up\r\n    [+] Running 3/0\r\n     - Container docker-compose-app-app_client2-1  C...                                              0.0s \r\n     - Container docker-compose-app-app_server-1   Cr...                                             0.0s \r\n     - Container docker-compose-app-app_client1-1  C...                                              0.0s \r\n    Attaching to docker-compose-app-app_client1-1, docker-compose-app-app_client2-1, docker-compose-app-app_server-1\r\n    docker-compose-app-app_server-1   | /bin/sh: 1: [java,: not found\r\n    docker-compose-app-app_server-1 exited with code 127\r\n    docker-compose-app-app_client2-1  | Exception in thread &quot;main&quot; java.net.NoRouteToHostException: No route to host (Host unreachable)\r\n    docker-compose-app-app_client1-1  | Exception in thread &quot;main&quot; java.net.NoRouteToHostException: No route to host (Host unreachable)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\r\n    docker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\r\n    docker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\r\n    docker-compose-app-app_client2-1  |     at Client.main(Client.java:15)\r\n    docker-compose-app-app_client1-1  |     at Client.main(Client.java:15)\r\n    docker-compose-app-app_client1-1 exited with code 1\r\n    docker-compose-app-app_client2-1 exited with code 1\r\n\r\n","title":"Why Docker (Java Server-Clients) doesn`t work?","body":"<p>I am learning Docker now. And i have faced with a problem: I have been practiced Docker Compose and got a problem with creating containers. The task:\nThere is a Server (Java). The server is very simple. It is just waiting messages from clients and printing them. There are not any threads or something like that. It is not what this app about. The code of the server:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\nclass Server {\n    public static void main(String[] args) throws IOException {\n        System.out.println(&quot;Server was started!&quot;);\n        try (ServerSocket serverSocket = new ServerSocket(8899)) {\n            while (true) {\n                try (Socket client = serverSocket.accept()) {\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(client.getInputStream()));\n                    String line = reader.readLine();\n                    System.out.println(client.getInetAddress().getHostAddress() + &quot; - &quot; + line);\n                } catch (Exception e) {\n                    System.out.println(&quot;Dops&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>There are two clients. Also Java language. They are also very simple:</p>\n<pre><code>import java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.net.Socket;\n\n\nclass Client {\n    public static void main(String[] args) throws IOException, InterruptedException {\n           \n        \n        String ip = &quot;app_server&quot;;\n        while (true){\n        try (Socket socket = new Socket(ip, 8899)) {\n            System.out.println(&quot;An attempt...&quot;);\n            Thread.sleep(10000);\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n            String message = &quot;Hello from client_1\\n&quot;;\n            writer.write(message);\n            writer.flush();\n            System.out.println(&quot;The package was sent!&quot;);\n        }\n        }\n        \n    }\n}\n\n</code></pre>\n<p>The second client is totaly the same, but the message is &quot;Hello from client_2\\n&quot;.</p>\n<p>So the idea is to create 3 containers (Server, Client#1, Client#2). And clients have to send a message to the server every 10 seconds. I have tried that on my computer and everithing was fine. It worked perfectly. But I used definite IP 192.168.7.121 in Client app code.</p>\n<p>So I created folders:</p>\n<p><a href=\"https://i.stack.imgur.com/b4vhr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b4vhr.png\" alt=\"enter image description here\" /></a></p>\n<p>Dockerfile from Client 1:</p>\n<pre><code>FROM openjdk:11\n\nWORKDIR /app_client1\n\nCOPY . .\n\nRUN javac Client.java\n\nCMD [ &quot;java&quot;, &quot;Client&quot; ]\n</code></pre>\n<p>Dockerfile from Client 2:</p>\n<pre><code>FROM openjdk:11\n\nWORKDIR /app_client2\n\nCOPY . .\n\nRUN javac Client.java\n\nCMD [ &quot;java&quot;, &quot;Client&quot; ]\n</code></pre>\n<p>Docker file from Server</p>\n<pre><code>FROM openjdk:11\n\nWORKDIR /app_server\n\nCOPY . .\n\nRUN javac Server.java\n\nCMD [ &quot;java&quot;, &quot;Server&quot; ]\n</code></pre>\n<p>docker-compose:</p>\n<pre><code>version: '3'\n\nservices:\n  app_server:\n    build: ./app_server\n  app_client1:\n    build: ./app_client1  \n  app_client2:\n    build: ./app_client2 \n</code></pre>\n<p>And after i had typed the comand &quot;docker-compose up&quot; to terminal, a got this:</p>\n<pre><code>PS D:\\it\\dockerNet\\docker-compose-app&gt; docker-compose up\n[+] Running 3/3\n - Container docker-compose-app-app_server-1   Cr...                                             0.6s\n - Container docker-compose-app-app_client2-1  C...                                              0.6s\n - Container docker-compose-app-app_client1-1  C...                                              0.6s\nAttaching to docker-compose-app-app_client1-1, docker-compose-app-app_client2-1, docker-compose-app-app_server-1\ndocker-compose-app-app_client1-1  | Exception in thread &quot;main&quot; java.net.ConnectException: Connection refused (Connection refused)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\ndocker-compose-app-app_client1-1  |     at Client.main(Client.java:15)\ndocker-compose-app-app_server-1   | /bin/sh: 1: [java,: not found\ndocker-compose-app-app_client1-1 exited with code 1\ndocker-compose-app-app_server-1 exited with code 127\ndocker-compose-app-app_client2-1  | Exception in thread &quot;main&quot; java.net.NoRouteToHostException: No route to host (Host unreachable)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\ndocker-compose-app-app_client2-1  |     at Client.main(Client.java:15)\ndocker-compose-app-app_client2-1 exited with code 1\n</code></pre>\n<p>And now there are two questions:</p>\n<ol>\n<li><p>Can I change Server IP address by the service name &quot;app_server&quot;. Regarding youtube tutorials it is probably possible. If I can`t use that How I suposse to know IP address of the Server before containers creating?</p>\n</li>\n<li><p>I do not understand why i can not create containers. Where is mistake and what is wrong? What I have done wrong?</p>\n</li>\n</ol>\n<p>I will be very gratefull for you help!</p>\n<hr />\n<p>update:</p>\n<p>According to advice in comments bellow, I changed code in both Clients to avoid possible exceptions. Now they look like:</p>\n<pre><code>import java.io.IOException;\n\n\nclass Client {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        System.out.println(&quot;TEST&quot;);\n        \n    }\n}\n</code></pre>\n<p>But I still have error:</p>\n<pre><code>PS D:\\it\\dockerNet\\docker-compose-app&gt; docker-compose up\n[+] Running 3/0\n - Container docker-compose-app-app_client2-1  C...                                              0.0s \n - Container docker-compose-app-app_server-1   Cr...                                             0.0s \n - Container docker-compose-app-app_client1-1  C...                                              0.0s \nAttaching to docker-compose-app-app_client1-1, docker-compose-app-app_client2-1, docker-compose-app-app_server-1\ndocker-compose-app-app_server-1   | /bin/sh: 1: [java,: not found\ndocker-compose-app-app_server-1 exited with code 127\ndocker-compose-app-app_client2-1  | Exception in thread &quot;main&quot; java.net.NoRouteToHostException: No route to host (Host unreachable)\ndocker-compose-app-app_client1-1  | Exception in thread &quot;main&quot; java.net.NoRouteToHostException: No route to host (Host unreachable)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:609)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.connect(Socket.java:558)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:454)\ndocker-compose-app-app_client2-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\ndocker-compose-app-app_client1-1  |     at java.base/java.net.Socket.&lt;init&gt;(Socket.java:231)\ndocker-compose-app-app_client2-1  |     at Client.main(Client.java:15)\ndocker-compose-app-app_client1-1  |     at Client.main(Client.java:15)\ndocker-compose-app-app_client1-1 exited with code 1\ndocker-compose-app-app_client2-1 exited with code 1\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-mvc","spring-data-jpa"],"owner":{"account_id":27497942,"reputation":47,"user_id":20982166,"display_name":"Janeth Jackson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673435688,"creation_date":1673435688,"question_id":75082148,"body_markdown":"I&#39;m reading data from access file with mdb extension after that I&#39;m saving this data into Mongo Database, now what I want is not to use the while loop while saving the data I just want to save the whole result obtained and dump it into mongodb if data present I want to override the existing data, using while loop takes much time so what I figure out may be I should dump the whole resultset obtained and at the second upload it should ovewrite the data if exists.\r\n\r\nwhat I&#39;m having right now\r\n\r\n```\r\n@Autowired\r\n\tprivate CustomerRepository customerRepository;\r\n\r\n@Async\r\n\tpublic void processData(Path filepath, String basename) throws IOException {\r\n\r\n\r\ntry {\r\n\t\t\r\n\t\t\tString msAccDB = &quot;jdbc:ucanaccess://&quot; + filepath;\r\n\t\t\tConnection conn = DriverManager.getConnection(msAccDB);\r\n\t\t\t\r\n\t\t\t// Fetching Patient Visits\r\n\t\t\tStatement customers = conn.createStatement();\r\n\t\t        ResultSet result = customers .executeQuery(&quot;SELECT * FROM customers&quot;);\r\n\t\t\t\r\n\t\t\twhile(result.next()) {\r\n\t\t\tCustomer customer = new Customer();\r\n\t\t\tcustomer.setCustomerId(result.getString(1));\r\n\t\t\tcustomer.setCustomerDate(result.getString(2));\r\n\t\t\tcustomer.setWeight(result.getString(3));\r\n\t\t\tcustomer.setCustomerCode(result.getString(9));\r\n\t\t\tcustomer.setDateAdded(LocalDateTime.now());\r\n\t\t\tcustomer.setFacilityName(basename); \r\n\t\t\tcustomerRepository.save(customer );\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t}\r\n}\r\n\t\t\tresult.close();\r\n\t\t\tvisits.close();\r\n```\r\n\r\nAlso I want to check if data exists in database it should be overwitten, any help ","title":"How to dump ResultSet into mongodb obtained from microsoft access file","body":"<p>I'm reading data from access file with mdb extension after that I'm saving this data into Mongo Database, now what I want is not to use the while loop while saving the data I just want to save the whole result obtained and dump it into mongodb if data present I want to override the existing data, using while loop takes much time so what I figure out may be I should dump the whole resultset obtained and at the second upload it should ovewrite the data if exists.</p>\n<p>what I'm having right now</p>\n<pre><code>@Autowired\n    private CustomerRepository customerRepository;\n\n@Async\n    public void processData(Path filepath, String basename) throws IOException {\n\n\ntry {\n        \n            String msAccDB = &quot;jdbc:ucanaccess://&quot; + filepath;\n            Connection conn = DriverManager.getConnection(msAccDB);\n            \n            // Fetching Patient Visits\n            Statement customers = conn.createStatement();\n                ResultSet result = customers .executeQuery(&quot;SELECT * FROM customers&quot;);\n            \n            while(result.next()) {\n            Customer customer = new Customer();\n            customer.setCustomerId(result.getString(1));\n            customer.setCustomerDate(result.getString(2));\n            customer.setWeight(result.getString(3));\n            customer.setCustomerCode(result.getString(9));\n            customer.setDateAdded(LocalDateTime.now());\n            customer.setFacilityName(basename); \n            customerRepository.save(customer );     \n            }\n            \n\n            }\n}\n            result.close();\n            visits.close();\n</code></pre>\n<p>Also I want to check if data exists in database it should be overwitten, any help</p>\n"},{"tags":["java","http-status-code-404","rapidclipse"],"comments":[{"owner":{"account_id":2813946,"reputation":155,"user_id":4342729,"display_name":"Prashant Kumar"},"score":0,"creation_date":1627050798,"post_id":68378217,"comment_id":121061518,"body_markdown":"Try with Tomcat 9","body":"Try with Tomcat 9"}],"answers":[{"tags":[],"owner":{"account_id":16890663,"reputation":141,"user_id":12214448,"display_name":"Manuel St&#246;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626765969,"creation_date":1626765969,"answer_id":68451065,"question_id":68378217,"body_markdown":"This should definitely work, same thing happens when I try with Tomcat 10. I opened an issue for this. https://xdevsoftware.atlassian.net/browse/XWS-2002","title":"Rapidclipse X 10.4 Error 404 within demo project","body":"<p>This should definitely work, same thing happens when I try with Tomcat 10. I opened an issue for this. <a href=\"https://xdevsoftware.atlassian.net/browse/XWS-2002\" rel=\"nofollow noreferrer\">https://xdevsoftware.atlassian.net/browse/XWS-2002</a></p>\n"}],"owner":{"account_id":7098651,"reputation":1,"user_id":5431163,"display_name":"Public Joe62"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673435610,"creation_date":1626266100,"question_id":68378217,"body_markdown":"I installed RapidClipse X 10.4 and created the &quot;Demo1&quot; project.\r\n\r\n[Demo 1 Project][1]\r\n\r\nWhen I start it under &quot;Tomcat 10&quot;, the page is not found and the message &quot;HTTP Status 404&quot; appears.\r\n\r\n[Start &quot;Demo1 with Tomcat 10.0][2]\r\n\r\n[Http 404][3]\r\n\r\nAny ideas? I would be happy if I got an answer.\r\n\r\nGreetings\r\nHannes\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7K4ov.png\r\n  [2]: https://i.stack.imgur.com/uzPZj.png\r\n  [3]: https://i.stack.imgur.com/xvm5X.png","title":"Rapidclipse X 10.4 Error 404 within demo project","body":"<p>I installed RapidClipse X 10.4 and created the &quot;Demo1&quot; project.</p>\n<p><a href=\"https://i.stack.imgur.com/7K4ov.png\" rel=\"nofollow noreferrer\">Demo 1 Project</a></p>\n<p>When I start it under &quot;Tomcat 10&quot;, the page is not found and the message &quot;HTTP Status 404&quot; appears.</p>\n<p><a href=\"https://i.stack.imgur.com/uzPZj.png\" rel=\"nofollow noreferrer\">Start &quot;Demo1 with Tomcat 10.0</a></p>\n<p><a href=\"https://i.stack.imgur.com/xvm5X.png\" rel=\"nofollow noreferrer\">Http 404</a></p>\n<p>Any ideas? I would be happy if I got an answer.</p>\n<p>Greetings\nHannes</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1505995975,"post_id":46343560,"comment_id":79646993,"body_markdown":"Add a qualifier to spell out which bean you intend to inject.","body":"Add a qualifier to spell out which bean you intend to inject."}],"answers":[{"tags":[],"owner":{"account_id":3137124,"reputation":1970,"user_id":2653420,"display_name":"Leffchik"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1505995984,"creation_date":1505995984,"answer_id":46343634,"question_id":46343560,"body_markdown":"Since you&#39;re using java config you should mark config method with `@Primary` annotation, and not a class:\r\n\r\n    @Configuration\r\n    public class MailConfig {\r\n        @Bean\r\n        public SmtpkMailSender getSmtpkMailSender(){\r\n            return new SmtpkMailSender();\r\n        }\r\n\r\n        @Bean\r\n        @Primary\r\n        public MockMailSender getMockMailSender(){\r\n            return new MockMailSender();\r\n        }\r\n    }","title":"class required a single bean, but 2 were found:","body":"<p>Since you're using java config you should mark config method with <code>@Primary</code> annotation, and not a class:</p>\n\n<pre><code>@Configuration\npublic class MailConfig {\n    @Bean\n    public SmtpkMailSender getSmtpkMailSender(){\n        return new SmtpkMailSender();\n    }\n\n    @Bean\n    @Primary\n    public MockMailSender getMockMailSender(){\n        return new MockMailSender();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11329927,"reputation":1855,"user_id":8307755,"display_name":"Yogi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1589547342,"creation_date":1505998421,"answer_id":46344494,"question_id":46343560,"body_markdown":"You can use @Qualifier annotation for specify which specific type of your implementation, you want to autowire.\r\n\r\n  \r\n\r\n    @RestController\r\n    public class MailController {\r\n\r\n       @Autowired\r\n       @Qualifier(&quot;smtpkMailSender&quot;)\r\n       private MailSender smtpkMailSender;\r\n\r\n       @RequestMapping(&quot;/send&quot;)\r\n       public String send(){\r\n          smtpkMailSender.sender(&quot;Person&quot;, &quot;Important&quot;, &quot;Take Care&quot;);\r\n          return &quot;mail is sent&quot;;\r\n      }\r\n}","title":"class required a single bean, but 2 were found:","body":"<p>You can use @Qualifier annotation for specify which specific type of your implementation, you want to autowire.</p>\n\n<pre><code>@RestController\npublic class MailController {\n\n   @Autowired\n   @Qualifier(\"smtpkMailSender\")\n   private MailSender smtpkMailSender;\n\n   @RequestMapping(\"/send\")\n   public String send(){\n      smtpkMailSender.sender(\"Person\", \"Important\", \"Take Care\");\n      return \"mail is sent\";\n  }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3847031,"reputation":584,"user_id":3188225,"display_name":"umunBeing"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589446415,"creation_date":1589446415,"answer_id":61793175,"question_id":46343560,"body_markdown":"You may simply name your bean using\r\n\r\n```\r\n@Bean(name=&quot;mockMailSender&quot;)\r\npublic MockMailSender getMockMailSender() { }\r\n```\r\n\r\nand then decorate the autowired field with \r\n\r\n```\r\n@Autowired\r\n@Qualifier(&quot;mockMailSender&quot;)\r\nprivate MailSender smtpkMailSender;\r\n```","title":"class required a single bean, but 2 were found:","body":"<p>You may simply name your bean using</p>\n\n<pre><code>@Bean(name=\"mockMailSender\")\npublic MockMailSender getMockMailSender() { }\n</code></pre>\n\n<p>and then decorate the autowired field with </p>\n\n<pre><code>@Autowired\n@Qualifier(\"mockMailSender\")\nprivate MailSender smtpkMailSender;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673434601,"creation_date":1673434601,"answer_id":75081949,"question_id":46343560,"body_markdown":"Another solution for this error is to `exclude` the Bean that is not used (*the duplicated bean*), from the `autoconfiguration` stage within &quot;***application.yml***&quot; file, as explained in this thread: [How to exclude AutoConfiguration classes in Spring Boot JUnit tests?][1]\r\n```yaml\r\nspring:\r\n  autoconfigure:\r\n    exclude:\r\n      - org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration \r\n      - org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nThis is applicable if the error appears after you added a new Maven/Gradle dependency, which duplicates an existing bean that you are using. For example, when both beans come from external JARs, so the source code cannot be updated with `@Primary` or `@Qualifier` annotations to solve the error.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26698071/how-to-exclude-autoconfiguration-classes-in-spring-boot-junit-tests","title":"class required a single bean, but 2 were found:","body":"<p>Another solution for this error is to <code>exclude</code> the Bean that is not used (<em>the duplicated bean</em>), from the <code>autoconfiguration</code> stage within &quot;<em><strong>application.yml</strong></em>&quot; file, as explained in this thread: <a href=\"https://stackoverflow.com/questions/26698071/how-to-exclude-autoconfiguration-classes-in-spring-boot-junit-tests\">How to exclude AutoConfiguration classes in Spring Boot JUnit tests?</a></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  autoconfigure:\n    exclude:\n      - org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration \n      - org.springframework.boot.autoconfigure.integration.IntegrationAutoConfiguration\n</code></pre>\n<hr />\n<p>This is applicable if the error appears after you added a new Maven/Gradle dependency, which duplicates an existing bean that you are using. For example, when both beans come from external JARs, so the source code cannot be updated with <code>@Primary</code> or <code>@Qualifier</code> annotations to solve the error.</p>\n"}],"owner":{"account_id":2763820,"reputation":7847,"user_id":2380115,"accept_rate":55,"display_name":"Jeff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95534,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":46343634,"answer_count":4,"score":21,"last_activity_date":1673434601,"creation_date":1505995770,"question_id":46343560,"body_markdown":"I have the below interface:\r\n\r\n    public interface MailSender {\r\n    \tvoid sender(String to, String subject,String body);\r\n    }\r\n\r\nWith 2 imlementation of it:\r\n\r\n    public class SmtpkMailSender implements MailSender   {\r\n    \t\r\n    \tstatic Log log=LogFactory.getLog(MailSender.class); \r\n    \t\r\n    \tpublic void sender(String to, String subject,String body){\r\n    \t\tlog.info(&quot;SMTP To: &quot;+to);\r\n    \t\tlog.info(&quot;SMTP Subjecy: &quot;+subject);\r\n    \t\tlog.info(&quot;SMTP body: &quot;+body);\r\n    \t}\r\n    \r\n    }\r\nand the second one is:\r\n\r\n    @Primary\r\n    public class MockMailSender implements MailSender   {\r\n    \t\r\n    \tstatic Log log=LogFactory.getLog(MailSender.class); \r\n    \t\r\n    \tpublic void sender(String to, String subject,String body){\r\n    \t\tlog.info(&quot;To: &quot;+to);\r\n    \t\tlog.info(&quot;Subject: &quot;+subject);\r\n    \t\tlog.info(&quot;body: &quot;+body);\r\n    \t}\r\n    \r\n    }\r\n\r\nI used the dependency injection into the controller class which is as following:\r\n\r\n    @RestController\r\n    public class MailController {\r\n    \r\n    \t@Autowired\r\n    \tprivate MailSender smtpkMailSender;\r\n    \t\r\n    \t@RequestMapping(&quot;/send&quot;)\r\n    \tpublic String send(){\r\n    \t\tsmtpkMailSender.sender(&quot;Person&quot;, &quot;Important&quot;, &quot;Take Care&quot;);\r\n    \t    return &quot;mail is sent&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\nAt the end i have a configuration class which contains my Beans:\r\n\r\n    @Configuration\r\n    public class MailConfig {\r\n    \t\r\n    \t@Bean\r\n    \tpublic SmtpkMailSender getSmtpkMailSender(){\r\n    \t\treturn new SmtpkMailSender();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic MockMailSender getMockMailSender(){\r\n    \t\treturn new MockMailSender();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nUnfortunatly, when i run my application it complains with:\r\n\r\n    Description:\r\n    \r\n    Field smtpkMailSender in com.example.demo.MailController required a single bean, but 2 were found:\r\n    \t- getSmtpkMailSender: defined by method &#39;getSmtpkMailSender&#39; in class path resource [com/example/mail/MailConfig.class]\r\n    \t- getMockMailSender: defined by method &#39;getMockMailSender&#39; in class path resource [com/example/mail/MailConfig.class]\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\r\n\r\nAs you see, although i have specified the `MockMailSender` as Primary the spring still complains, and cannot identify it\r\n\r\n\r\n","title":"class required a single bean, but 2 were found:","body":"<p>I have the below interface:</p>\n\n<pre><code>public interface MailSender {\n    void sender(String to, String subject,String body);\n}\n</code></pre>\n\n<p>With 2 imlementation of it:</p>\n\n<pre><code>public class SmtpkMailSender implements MailSender   {\n\n    static Log log=LogFactory.getLog(MailSender.class); \n\n    public void sender(String to, String subject,String body){\n        log.info(\"SMTP To: \"+to);\n        log.info(\"SMTP Subjecy: \"+subject);\n        log.info(\"SMTP body: \"+body);\n    }\n\n}\n</code></pre>\n\n<p>and the second one is:</p>\n\n<pre><code>@Primary\npublic class MockMailSender implements MailSender   {\n\n    static Log log=LogFactory.getLog(MailSender.class); \n\n    public void sender(String to, String subject,String body){\n        log.info(\"To: \"+to);\n        log.info(\"Subject: \"+subject);\n        log.info(\"body: \"+body);\n    }\n\n}\n</code></pre>\n\n<p>I used the dependency injection into the controller class which is as following:</p>\n\n<pre><code>@RestController\npublic class MailController {\n\n    @Autowired\n    private MailSender smtpkMailSender;\n\n    @RequestMapping(\"/send\")\n    public String send(){\n        smtpkMailSender.sender(\"Person\", \"Important\", \"Take Care\");\n        return \"mail is sent\";\n    }\n}\n</code></pre>\n\n<p>At the end i have a configuration class which contains my Beans:</p>\n\n<pre><code>@Configuration\npublic class MailConfig {\n\n    @Bean\n    public SmtpkMailSender getSmtpkMailSender(){\n        return new SmtpkMailSender();\n    }\n\n    @Bean\n    public MockMailSender getMockMailSender(){\n        return new MockMailSender();\n    }\n\n}\n</code></pre>\n\n<p>Unfortunatly, when i run my application it complains with:</p>\n\n<pre><code>Description:\n\nField smtpkMailSender in com.example.demo.MailController required a single bean, but 2 were found:\n    - getSmtpkMailSender: defined by method 'getSmtpkMailSender' in class path resource [com/example/mail/MailConfig.class]\n    - getMockMailSender: defined by method 'getMockMailSender' in class path resource [com/example/mail/MailConfig.class]\n\n\nAction:\n\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\n</code></pre>\n\n<p>As you see, although i have specified the <code>MockMailSender</code> as Primary the spring still complains, and cannot identify it</p>\n"},{"tags":["java","hibernate","spring-data-jpa","partition"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592377039,"creation_date":1592377039,"answer_id":62423138,"question_id":62421593,"body_markdown":"You can&#39;t do this with the Criteria API since it basically creates JPQL put the partition clause is part of SQL and there is no equivalent in JPQL.\r\n\r\nSince you seem to require to create the query dynamically I&#39;d suggest you look into Querydsl and jOOQ to see if they support the partition clause or alternatively construct the SQL yourself using String concatenation. \r\nIn that case you have to take care that you don&#39;t create a SQL injection vulnerability.\r\n\r\nIf all you need is actually pagination, that can be combined with with native `@Query` annotations just fine.\r\n\r\n","title":"Add PARTITION statement to query when using spring data JPA","body":"<p>You can't do this with the Criteria API since it basically creates JPQL put the partition clause is part of SQL and there is no equivalent in JPQL.</p>\n\n<p>Since you seem to require to create the query dynamically I'd suggest you look into Querydsl and jOOQ to see if they support the partition clause or alternatively construct the SQL yourself using String concatenation. \nIn that case you have to take care that you don't create a SQL injection vulnerability.</p>\n\n<p>If all you need is actually pagination, that can be combined with with native <code>@Query</code> annotations just fine.</p>\n"},{"tags":[],"owner":{"account_id":4265759,"reputation":279,"user_id":3488928,"display_name":"Ashish Lohia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592547345,"creation_date":1592547345,"answer_id":62464371,"question_id":62421593,"body_markdown":"I finally found a way to do this.\r\n\r\nNeed to create an interceptor to intercept all SQL queries and edit it as per requirement.\r\n\r\n    @Component\r\n    public class MyInterceptor extends EmptyInterceptor {\r\n    \r\n    \tprivate static final long serialVersionUID = 1;\r\n    \t@Autowired\r\n    \t@Qualifier(&quot;PartitionContext&quot;)\r\n    \tprivate ThreadLocal&lt;String&gt; partitionContext;\r\n    \r\n    \t@Override\r\n    \tpublic String onPrepareStatement(String sql) {\r\n    \t\tString partition = partitionContext.get();\r\n    \t\tif (partition != null) {\r\n    \t\t\tStringBuilder sb = new StringBuilder(sql);\r\n    \t\t\tsql = sb.insert(sql.indexOf(&quot; where&quot;), partition).toString();\r\n    \t\t\tpartitionContext.remove();\r\n    \t\t}\r\n    \t\treturn super.onPrepareStatement(sql);\r\n    \t}\r\n    }\r\n\r\n \r\nWe also need to register the interceptor like this.\r\n\r\n    Component\r\n    public class MyInterceptorRegistration implements HibernatePropertiesCustomizer {\r\n    \r\n    \t@Autowired\r\n        private MyInterceptor myInterceptor;\r\n    \t\r\n    \t@Override\r\n    \tpublic void customize(Map&lt;String, Object&gt; hibernateProperties) {\r\n    \t\thibernateProperties.put(&quot;hibernate.session_factory.interceptor&quot;, myInterceptor);\r\n    \t}\r\n    }","title":"Add PARTITION statement to query when using spring data JPA","body":"<p>I finally found a way to do this.</p>\n\n<p>Need to create an interceptor to intercept all SQL queries and edit it as per requirement.</p>\n\n<pre><code>@Component\npublic class MyInterceptor extends EmptyInterceptor {\n\n    private static final long serialVersionUID = 1;\n    @Autowired\n    @Qualifier(\"PartitionContext\")\n    private ThreadLocal&lt;String&gt; partitionContext;\n\n    @Override\n    public String onPrepareStatement(String sql) {\n        String partition = partitionContext.get();\n        if (partition != null) {\n            StringBuilder sb = new StringBuilder(sql);\n            sql = sb.insert(sql.indexOf(\" where\"), partition).toString();\n            partitionContext.remove();\n        }\n        return super.onPrepareStatement(sql);\n    }\n}\n</code></pre>\n\n<p>We also need to register the interceptor like this.</p>\n\n<pre><code>Component\npublic class MyInterceptorRegistration implements HibernatePropertiesCustomizer {\n\n    @Autowired\n    private MyInterceptor myInterceptor;\n\n    @Override\n    public void customize(Map&lt;String, Object&gt; hibernateProperties) {\n        hibernateProperties.put(\"hibernate.session_factory.interceptor\", myInterceptor);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4265759,"reputation":279,"user_id":3488928,"display_name":"Ashish Lohia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673434299,"creation_date":1592368680,"question_id":62421593,"body_markdown":"take the example of the below SQL query\r\n\r\nSELECT * FROM employees **PARTITION (p0)** WHERE name =&#39;John&#39;;\r\n\r\nThe above example can easily be written without &quot;PARTITION (p0)&quot; in Spring data JPA.\r\nIt gets a lot difficult when I need to add a partition.\r\n\r\nOne possible solution is to use native SQL. But, that is not an option for me because I have to use PaginationAndSorting and Criteriabuilder.\r\nAny suggestions would be great. Thanks.\r\n\r\n ","title":"Add PARTITION statement to query when using spring data JPA","body":"<p>take the example of the below SQL query</p>\n\n<p>SELECT * FROM employees <strong>PARTITION (p0)</strong> WHERE name ='John';</p>\n\n<p>The above example can easily be written without \"PARTITION (p0)\" in Spring data JPA.\nIt gets a lot difficult when I need to add a partition.</p>\n\n<p>One possible solution is to use native SQL. But, that is not an option for me because I have to use PaginationAndSorting and Criteriabuilder.\nAny suggestions would be great. Thanks.</p>\n"},{"tags":["java","android","kotlin","android-layout","android-activity"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":1,"creation_date":1673435866,"post_id":75081875,"comment_id":132497240,"body_markdown":"personally I&#39;ve never found a solution for that... ended up with building two separated APKs (flavors), with `horizontal` and `vertical` orientation set for all activities in manifest, just for that reason... Looks like `Activity` will always start in fixed or physical device orientation (sensor), you can&#39;t decide programmatically before it is actually launched...","body":"personally I&#39;ve never found a solution for that... ended up with building two separated APKs (flavors), with <code>horizontal</code> and <code>vertical</code> orientation set for all activities in manifest, just for that reason... Looks like <code>Activity</code> will always start in fixed or physical device orientation (sensor), you can&#39;t decide programmatically before it is actually launched..."},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1673452414,"post_id":75081875,"comment_id":132503354,"body_markdown":"so Manifest decides always afaik... btw. never tried solution with `Settings.System`, does it work? my app will get needed perm for sure","body":"so Manifest decides always afaik... btw. never tried solution with <code>Settings.System</code>, does it work? my app will get needed perm for sure"},{"owner":{"account_id":23732435,"reputation":107,"user_id":17751489,"display_name":"Cuyer"},"score":0,"creation_date":1673481112,"post_id":75081875,"comment_id":132511799,"body_markdown":"I mean it did work for me, but I might have different scenario thank Yours. I&#39;ve added writing permission in manifest and in application settings and it worked. In my case, if rotation is turned on, everything works as expected and the screen doesnt flicker","body":"I mean it did work for me, but I might have different scenario thank Yours. I&#39;ve added writing permission in manifest and in application settings and it worked. In my case, if rotation is turned on, everything works as expected and the screen doesnt flicker"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1673521242,"post_id":75081875,"comment_id":132520093,"body_markdown":"but this `Setting` is setting rotation fixed for &quot;whole device&quot;? so if user leave app and moves to other (which e.g. support sensor) then this other won&#39;t change orientation even when device&#39;s will be opposite? (well, this might be detected, do have an idea, switching in runtime)","body":"but this <code>Setting</code> is setting rotation fixed for &quot;whole device&quot;? so if user leave app and moves to other (which e.g. support sensor) then this other won&#39;t change orientation even when device&#39;s will be opposite? (well, this might be detected, do have an idea, switching in runtime)"}],"owner":{"account_id":23732435,"reputation":107,"user_id":17751489,"display_name":"Cuyer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673434290,"creation_date":1673434290,"question_id":75081875,"body_markdown":"I have set orientation programmatically to landscape for tablets and portrait for phones.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Uv4I4.png)](https://i.stack.imgur.com/Uv4I4.png)\r\n\r\nThe issue is that when navigating on **tablet** from one activity to another, with **auto-rotation disabled** and **in portrait mode** the screen is flickering. First, it navigates to the new activity in portrait mode and then changes to landscape which is not the output I would want. \r\n\r\nI&#39;ve tried adding to the manifest \r\n\r\n```\r\nandroid:screenOrientation=&quot;locked&quot;\r\nandroid:screenOrientation=&quot;nosensor&quot;\r\nandroid:screenOrientation=&quot;sensor&quot;\r\n```\r\n\r\nand in activity for tablets I&#39;ve set \r\n```\r\nsetRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR);\r\n```\r\n\r\nWhich doesn&#39;t flicker, but still its not what I want.\r\n\r\n\r\n\r\nExpected outcome is for phones to stay as portrait mode and tablet as landscape. I think that the main issue is with system auto-rotate setting as disabled, because when it&#39;s enabled and I try to navigate from one activity to another, the screens doesn&#39;t flick and just stay as either portrait or landscape.\r\n\r\n\r\nI think I could use \r\n```\r\nSettings.System.putInt(context.getContentResolver(), Settings.System.ACCELEROMETER_ROTATION, 1);\r\n```\r\nbut then I need settings write permissions, which should be enabled by the user and I want to know if somehow I can omit that","title":"Android screen flickering when navigating to the new activity with auto-rotation disabled","body":"<p>I have set orientation programmatically to landscape for tablets and portrait for phones.</p>\n<p><a href=\"https://i.stack.imgur.com/Uv4I4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uv4I4.png\" alt=\"enter image description here\" /></a></p>\n<p>The issue is that when navigating on <strong>tablet</strong> from one activity to another, with <strong>auto-rotation disabled</strong> and <strong>in portrait mode</strong> the screen is flickering. First, it navigates to the new activity in portrait mode and then changes to landscape which is not the output I would want.</p>\n<p>I've tried adding to the manifest</p>\n<pre><code>android:screenOrientation=&quot;locked&quot;\nandroid:screenOrientation=&quot;nosensor&quot;\nandroid:screenOrientation=&quot;sensor&quot;\n</code></pre>\n<p>and in activity for tablets I've set</p>\n<pre><code>setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR);\n</code></pre>\n<p>Which doesn't flicker, but still its not what I want.</p>\n<p>Expected outcome is for phones to stay as portrait mode and tablet as landscape. I think that the main issue is with system auto-rotate setting as disabled, because when it's enabled and I try to navigate from one activity to another, the screens doesn't flick and just stay as either portrait or landscape.</p>\n<p>I think I could use</p>\n<pre><code>Settings.System.putInt(context.getContentResolver(), Settings.System.ACCELEROMETER_ROTATION, 1);\n</code></pre>\n<p>but then I need settings write permissions, which should be enabled by the user and I want to know if somehow I can omit that</p>\n"},{"tags":["java","mysql","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"score":0,"creation_date":1673432765,"post_id":75081327,"comment_id":132496069,"body_markdown":"This code works for me successfully. Specify which versions of spring, hibernate, mysql driver are used and how you enable ddl generation","body":"This code works for me successfully. Specify which versions of spring, hibernate, mysql driver are used and how you enable ddl generation"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673432842,"post_id":75081327,"comment_id":132496095,"body_markdown":"When using hibernate, you can use the hibernate specific `@ColumnDefault` annotation to only specify the default value. That way you don&#39;t have a hassle with the data type","body":"When using hibernate, you can use the hibernate specific <code>@ColumnDefault</code> annotation to only specify the default value. That way you don&#39;t have a hassle with the data type"},{"owner":{"account_id":27497453,"reputation":1,"user_id":20981765,"display_name":"Jasper Houben"},"score":0,"creation_date":1673434291,"post_id":75081327,"comment_id":132496643,"body_markdown":"Thanks for your replies! As stated in my Edit, I found the solution :)","body":"Thanks for your replies! As stated in my Edit, I found the solution :)"}],"answers":[{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673432183,"creation_date":1673432183,"answer_id":75081432,"question_id":75081327,"body_markdown":" if you want to set the default value of the example to be false then you can write it like this and remove columnDefintion from there \r\n\r\n   private Boolean example=false;","title":"JPA generates incorrect SQL query for MySql8 with columdefinition","body":"<p>if you want to set the default value of the example to be false then you can write it like this and remove columnDefintion from there</p>\n<p>private Boolean example=false;</p>\n"},{"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673434227,"creation_date":1673434227,"answer_id":75081860,"question_id":75081327,"body_markdown":"Disable quotes by adding `spring.jpa.properties.hibernate.globally_quoted_identifiers=false` to `application.properties` file\r\n\r\nBut after disabling, you will not be able to use column and table names that match mysql keywords (eg `desc`). Workaround by adding an underscore:\r\n\r\n    @Column(name = &quot;desc_&quot;)\r\n    String desc;","title":"JPA generates incorrect SQL query for MySql8 with columdefinition","body":"<p>Disable quotes by adding <code>spring.jpa.properties.hibernate.globally_quoted_identifiers=false</code> to <code>application.properties</code> file</p>\n<p>But after disabling, you will not be able to use column and table names that match mysql keywords (eg <code>desc</code>). Workaround by adding an underscore:</p>\n<pre><code>@Column(name = &quot;desc_&quot;)\nString desc;\n</code></pre>\n"}],"owner":{"account_id":27497453,"reputation":1,"user_id":20981765,"display_name":"Jasper Houben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673434272,"creation_date":1673431713,"question_id":75081327,"body_markdown":"I am using Springboot JPAs to generate a MySql8 table. It works fine unless I try to use the columndefinition in the Column annotation.\r\n\r\n\r\n```\r\n @Column(columnDefinition = &quot;boolean default false&quot;)\r\n    private Boolean example;\r\n```\r\nI tried replacing boolean with TINYINT but MySql8 should support boolean as far as I am aware.\r\n\r\nI get an error during the table generation:\r\n&gt; Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;`boolean default false` at line 5\r\n\r\nTo me it looks like the generated SQL Syntax has additional quotation marks but I am unsure how to fix the issue.\r\n\r\n```\r\n create table `exampleTable` (\r\n       `id` bigint not null auto_increment,\r\n        `example` `boolean default false`,\r\n        primary key (`id`)\r\n    )\r\n```\r\n\r\nEDIT:\r\nI found my Issue in this question:\r\nhttps://stackoverflow.com/questions/60087403/spring-jpa-globally-quoted-identifiers-incorrectly-quoting-column-type-text","title":"JPA generates incorrect SQL query for MySql8 with columdefinition","body":"<p>I am using Springboot JPAs to generate a MySql8 table. It works fine unless I try to use the columndefinition in the Column annotation.</p>\n<pre><code> @Column(columnDefinition = &quot;boolean default false&quot;)\n    private Boolean example;\n</code></pre>\n<p>I tried replacing boolean with TINYINT but MySql8 should support boolean as far as I am aware.</p>\n<p>I get an error during the table generation:</p>\n<blockquote>\n<p>Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '<code>boolean default false</code> at line 5</p>\n</blockquote>\n<p>To me it looks like the generated SQL Syntax has additional quotation marks but I am unsure how to fix the issue.</p>\n<pre><code> create table `exampleTable` (\n       `id` bigint not null auto_increment,\n        `example` `boolean default false`,\n        primary key (`id`)\n    )\n</code></pre>\n<p>EDIT:\nI found my Issue in this question:\n<a href=\"https://stackoverflow.com/questions/60087403/spring-jpa-globally-quoted-identifiers-incorrectly-quoting-column-type-text\">Spring JPA globally_quoted_identifiers incorrectly quoting column type TEXT</a></p>\n"},{"tags":["java","spring","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":8298782,"reputation":107,"user_id":7281448,"accept_rate":50,"display_name":"Aleksei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624397736,"creation_date":1624397316,"answer_id":68090900,"question_id":68087692,"body_markdown":"Seems like I found a solution with a uriBuilderFactory override. \r\n\r\nFirstly we need an additional class:\r\n\r\n    public class QueryParamsUriBuilderFactory extends DefaultUriBuilderFactory {\r\n    \r\n        private final MultiValueMap&lt;String, String&gt; queryParams;\r\n    \r\n        public QueryParamsUriBuilderFactory(String baseUrl, MultiValueMap&lt;String, String&gt; queryParams) {\r\n            super(baseUrl);\r\n            this.queryParams = queryParams;\r\n        }\r\n    \r\n        @Override\r\n        public UriBuilder builder() {\r\n            return super.builder().queryParams(queryParams);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThe next step is to update a configuration:\r\n\r\n    @Configuration\r\n    public class IConnectionConfiguration {\r\n    \r\n        @Value(&quot;${api.key}&quot;)\r\n        private String apiKey;\r\n    \r\n        @Value(&quot;${api.url}&quot;)\r\n        private String baseUrl;\r\n    \r\n        @Bean\r\n        public WebClient webClient(UriBuilderFactory uriBuilderFactoryWithAuthenticationToken) {\r\n            return WebClient.builder()\r\n                .uriBuilderFactory(uriBuilderFactoryWithAuthenticationToken)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public UriBuilderFactory uriBuilderFactoryWithAuthenticationToken() {\r\n            MultiValueMap&lt;String, String&gt; tokenQueryParam = new LinkedMultiValueMap&lt;&gt;();\r\n            tokenQueryParam.add(&quot;token&quot;, apiKey);\r\n    \r\n            return new QueryParamsUriBuilderFactory(baseUrl, tokenQueryParam);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nNow it will automatically add token query param if we use `uri(Function&lt;UriBuilder, URI&gt; var1)` function to setup uri. Unfortunately it does not work for `uri(URI var1)` but we can override all methods related to uri in our new `QueryParamsUriBuilderFactory` to fix it for all possible methods for uri setup. ","title":"How to add a query parameter for all requests in Spring Webflux","body":"<p>Seems like I found a solution with a uriBuilderFactory override.</p>\n<p>Firstly we need an additional class:</p>\n<pre><code>public class QueryParamsUriBuilderFactory extends DefaultUriBuilderFactory {\n\n    private final MultiValueMap&lt;String, String&gt; queryParams;\n\n    public QueryParamsUriBuilderFactory(String baseUrl, MultiValueMap&lt;String, String&gt; queryParams) {\n        super(baseUrl);\n        this.queryParams = queryParams;\n    }\n\n    @Override\n    public UriBuilder builder() {\n        return super.builder().queryParams(queryParams);\n    }\n\n}\n</code></pre>\n<p>The next step is to update a configuration:</p>\n<pre><code>@Configuration\npublic class IConnectionConfiguration {\n\n    @Value(&quot;${api.key}&quot;)\n    private String apiKey;\n\n    @Value(&quot;${api.url}&quot;)\n    private String baseUrl;\n\n    @Bean\n    public WebClient webClient(UriBuilderFactory uriBuilderFactoryWithAuthenticationToken) {\n        return WebClient.builder()\n            .uriBuilderFactory(uriBuilderFactoryWithAuthenticationToken)\n                .build();\n    }\n\n    @Bean\n    public UriBuilderFactory uriBuilderFactoryWithAuthenticationToken() {\n        MultiValueMap&lt;String, String&gt; tokenQueryParam = new LinkedMultiValueMap&lt;&gt;();\n        tokenQueryParam.add(&quot;token&quot;, apiKey);\n\n        return new QueryParamsUriBuilderFactory(baseUrl, tokenQueryParam);\n    }\n\n}\n</code></pre>\n<p>Now it will automatically add token query param if we use <code>uri(Function&lt;UriBuilder, URI&gt; var1)</code> function to setup uri. Unfortunately it does not work for <code>uri(URI var1)</code> but we can override all methods related to uri in our new <code>QueryParamsUriBuilderFactory</code> to fix it for all possible methods for uri setup.</p>\n"},{"tags":[],"owner":{"account_id":22106462,"reputation":11,"user_id":16362008,"display_name":"igavryus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625185558,"creation_date":1625185558,"answer_id":68218270,"question_id":68087692,"body_markdown":"I found another way, without custom UriBuilderFactory:\r\n\r\n```\r\n        this.client = WebClient.builder().baseUrl(url)\r\n            .filter((request, next) -&gt; {\r\n                URI reqUri = request.url()\r\n                URI newUri = new URI(reqUri.getScheme()\r\n                                , reqUri.getAuthority(), reqUri.getPath()\r\n                                , reqUri.getQuery() + &quot;&amp;key=${apiKey}&quot;\r\n                                , null)\r\n                ClientRequest filtered = ClientRequest.from(request)\r\n                    .url(newUri)\r\n                    .build()\r\n                next.exchange(filtered)\r\n            }).build();\r\n    }\r\n```\r\nThis is groovy code but you get the gist, I am sure.\r\n","title":"How to add a query parameter for all requests in Spring Webflux","body":"<p>I found another way, without custom UriBuilderFactory:</p>\n<pre><code>        this.client = WebClient.builder().baseUrl(url)\n            .filter((request, next) -&gt; {\n                URI reqUri = request.url()\n                URI newUri = new URI(reqUri.getScheme()\n                                , reqUri.getAuthority(), reqUri.getPath()\n                                , reqUri.getQuery() + &quot;&amp;key=${apiKey}&quot;\n                                , null)\n                ClientRequest filtered = ClientRequest.from(request)\n                    .url(newUri)\n                    .build()\n                next.exchange(filtered)\n            }).build();\n    }\n</code></pre>\n<p>This is groovy code but you get the gist, I am sure.</p>\n"},{"tags":[],"owner":{"account_id":2035452,"reputation":1805,"user_id":1817908,"accept_rate":40,"display_name":"meberhard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629300177,"creation_date":1629300177,"answer_id":68835171,"question_id":68087692,"body_markdown":"Another possibility that does not require overriding or using filter: Use `UriComponentsBuilder` with the query parameter that should be used for all requests. This instance of `UriComponentsBuilder` can than be used to instantiate a `DefaultUriBuilderFactory` for the `WebClient`.\r\n\r\nBased on the code of the question:\r\n\r\n    public class IConnectionConfiguration {\r\n    \r\n        private static final String TOKEN_QUERY_PARAMETER = &quot;TOKEN&quot;;\r\n    \r\n        @Value(&quot;${api.key}&quot;)\r\n        private String apiKey;\r\n    \r\n        @Value(&quot;${api.url}&quot;)\r\n        private String url;\r\n    \r\n        @Bean\r\n        public WebClient webClient() {\r\n            DefaultUriBuilderFactory defaultUriBuilderFactory = new DefaultUriBuilderFactory(uriComponentsBuilder());\r\n            return WebClient.builder()\r\n                    .uriBuilderFactory(defaultUriBuilderFactory)\r\n                    .build();\r\n        }\r\n    \r\n        private UriComponentsBuilder uriComponentsBuilder() {\r\n            return UriComponentsBuilder.fromHttpUrl(url)\r\n                    .queryParam(TOKEN_QUERY_PARAMETER, apiKey);\r\n        }\r\n    \r\n    }\r\n\r\nThe token will now be attached to every request that is issued by the WebClient.","title":"How to add a query parameter for all requests in Spring Webflux","body":"<p>Another possibility that does not require overriding or using filter: Use <code>UriComponentsBuilder</code> with the query parameter that should be used for all requests. This instance of <code>UriComponentsBuilder</code> can than be used to instantiate a <code>DefaultUriBuilderFactory</code> for the <code>WebClient</code>.</p>\n<p>Based on the code of the question:</p>\n<pre><code>public class IConnectionConfiguration {\n\n    private static final String TOKEN_QUERY_PARAMETER = &quot;TOKEN&quot;;\n\n    @Value(&quot;${api.key}&quot;)\n    private String apiKey;\n\n    @Value(&quot;${api.url}&quot;)\n    private String url;\n\n    @Bean\n    public WebClient webClient() {\n        DefaultUriBuilderFactory defaultUriBuilderFactory = new DefaultUriBuilderFactory(uriComponentsBuilder());\n        return WebClient.builder()\n                .uriBuilderFactory(defaultUriBuilderFactory)\n                .build();\n    }\n\n    private UriComponentsBuilder uriComponentsBuilder() {\n        return UriComponentsBuilder.fromHttpUrl(url)\n                .queryParam(TOKEN_QUERY_PARAMETER, apiKey);\n    }\n\n}\n</code></pre>\n<p>The token will now be attached to every request that is issued by the WebClient.</p>\n"},{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673433228,"creation_date":1673433228,"answer_id":75081655,"question_id":68087692,"body_markdown":"Although this is an older question, this is the solution I went with myself in the end:\r\n\r\n    WebClient webClient = WebClient.builder()\r\n\t\t\t\t\t\t\t.filter(ExchangeFilterFunction.ofRequestProcessor(\r\n\t\t\t\t\t\t\t\treq -&gt; \r\n\t\t\t\t\t\t\t\t\tMono.just(ClientRequest.from(req).url(\r\n\t\t\t\t\t\t\t\t\t\tUriComponentsBuilder.fromUri(req.url())\r\n\t\t\t\t\t\t\t\t\t\t\t.queryParam(&quot;apiKey&quot;, &quot;...&quot;)\r\n\t\t\t\t\t\t\t\t\t\t\t.build(true)\r\n\t\t\t\t\t\t\t\t\t\t\t.toUri()\r\n\t\t\t\t\t\t\t\t).build()))\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t.build();\r\n\r\nThis has the following advantages (depending on use case):\r\n\r\n - It is applied on *all* requests, whereas the answers using `UriBuilderFactory` does not work when supplying a new uri template such as when using `webClient.get().uri(String uri, Function &lt;UriBuilder, URI&gt; uriFunction)`\r\n - It uses `UriComponentsBuilder` for a cleaner way of modifying the URI.\r\n\r\nNote that as per its documentation, `UriComponentsBuilder` created from an existing URI stores query params in `raw` form, which means that they are already fully encoded. Any new parameters added must also be added in fully encoded form, and in the end `build(true)` must be called with the `true` arguments to avoid double encoding.","title":"How to add a query parameter for all requests in Spring Webflux","body":"<p>Although this is an older question, this is the solution I went with myself in the end:</p>\n<pre><code>WebClient webClient = WebClient.builder()\n                        .filter(ExchangeFilterFunction.ofRequestProcessor(\n                            req -&gt; \n                                Mono.just(ClientRequest.from(req).url(\n                                    UriComponentsBuilder.fromUri(req.url())\n                                        .queryParam(&quot;apiKey&quot;, &quot;...&quot;)\n                                        .build(true)\n                                        .toUri()\n                            ).build()))\n                        )\n                        .build();\n</code></pre>\n<p>This has the following advantages (depending on use case):</p>\n<ul>\n<li>It is applied on <em>all</em> requests, whereas the answers using <code>UriBuilderFactory</code> does not work when supplying a new uri template such as when using <code>webClient.get().uri(String uri, Function &lt;UriBuilder, URI&gt; uriFunction)</code></li>\n<li>It uses <code>UriComponentsBuilder</code> for a cleaner way of modifying the URI.</li>\n</ul>\n<p>Note that as per its documentation, <code>UriComponentsBuilder</code> created from an existing URI stores query params in <code>raw</code> form, which means that they are already fully encoded. Any new parameters added must also be added in fully encoded form, and in the end <code>build(true)</code> must be called with the <code>true</code> arguments to avoid double encoding.</p>\n"}],"owner":{"account_id":8298782,"reputation":107,"user_id":7281448,"accept_rate":50,"display_name":"Aleksei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3065,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1673433228,"creation_date":1624380434,"question_id":68087692,"body_markdown":"How can I put query params into all requests in spring webflux avoiding code duplication in all places where I open http connection? \r\n\r\nI try to make a configuration for a WebClient bean with a filter that should put a query param in URL every time when I do http call but I cannot find a way how to do it. Is it possible? \r\n\r\nConfiguration class:\r\n\r\n    @Configuration\r\n    public class IConnectionConfiguration {\r\n    \r\n        @Value(&quot;${api.key}&quot;)\r\n        private String apiKey;\r\n    \r\n        @Value(&quot;${api.url}&quot;)\r\n        private String url;\r\n    \r\n        @Bean\r\n        public WebClient webClient(@Autowired ExchangeFilterFunction tokenFilter) {\r\n            return WebClient.builder().baseUrl(url)\r\n                    .filters(exchangeFilterFunctions -&gt; {\r\n                        exchangeFilterFunctions.add(tokenFilter);\r\n                    })\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public ExchangeFilterFunction tokenFilter() {\r\n            return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\r\n                //todo put token into request as a query param\r\n                return Mono.just(clientRequest);\r\n            });\r\n        }\r\n    \r\n    }\r\n\r\nApi calls layer: \r\n\r\n    @Service\r\n    public class Client {\r\n    \r\n        @Autowired\r\n        private WebClient client;\r\n    \r\n        //todo test method\r\n        public void testConnection() {\r\n            String s = client.get()\r\n                    .uri(uriBuilder -&gt;\r\n                            uriBuilder.path(&quot;/something/{val}/something&quot;)\r\n                                  //todo line which I&#39;m trying to avoid\r\n                                  //.queryParam(&quot;token&quot;, &quot;token_value&quot;)\r\n                                    .build(&quot;123-test&quot;))\r\n                    .retrieve()\r\n                    .bodyToMono(String.class)\r\n                    .block();\r\n    \r\n            System.out.println(s);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to add a query parameter for all requests in Spring Webflux","body":"<p>How can I put query params into all requests in spring webflux avoiding code duplication in all places where I open http connection?</p>\n<p>I try to make a configuration for a WebClient bean with a filter that should put a query param in URL every time when I do http call but I cannot find a way how to do it. Is it possible?</p>\n<p>Configuration class:</p>\n<pre><code>@Configuration\npublic class IConnectionConfiguration {\n\n    @Value(&quot;${api.key}&quot;)\n    private String apiKey;\n\n    @Value(&quot;${api.url}&quot;)\n    private String url;\n\n    @Bean\n    public WebClient webClient(@Autowired ExchangeFilterFunction tokenFilter) {\n        return WebClient.builder().baseUrl(url)\n                .filters(exchangeFilterFunctions -&gt; {\n                    exchangeFilterFunctions.add(tokenFilter);\n                })\n                .build();\n    }\n\n    @Bean\n    public ExchangeFilterFunction tokenFilter() {\n        return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\n            //todo put token into request as a query param\n            return Mono.just(clientRequest);\n        });\n    }\n\n}\n</code></pre>\n<p>Api calls layer:</p>\n<pre><code>@Service\npublic class Client {\n\n    @Autowired\n    private WebClient client;\n\n    //todo test method\n    public void testConnection() {\n        String s = client.get()\n                .uri(uriBuilder -&gt;\n                        uriBuilder.path(&quot;/something/{val}/something&quot;)\n                              //todo line which I'm trying to avoid\n                              //.queryParam(&quot;token&quot;, &quot;token_value&quot;)\n                                .build(&quot;123-test&quot;))\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n\n        System.out.println(s);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","influxdb"],"answers":[{"tags":[],"owner":{"account_id":10595339,"reputation":69,"user_id":7804272,"display_name":"Jack Johns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673432934,"creation_date":1673432934,"answer_id":75081586,"question_id":75068851,"body_markdown":"You can also use the `@Column` annotation for tags, simply include `tag = true` in the annotation, for example: \r\n\r\n    @Column(tag = true)\r\n        String location;\r\n\r\nSource: https://github.com/influxdata/influxdb-client-java#writes-and-queries-in-influxdb-2x\r\n","title":"Java InfluxDB: Map tags as well as fields in POJO from query","body":"<p>You can also use the <code>@Column</code> annotation for tags, simply include <code>tag = true</code> in the annotation, for example:</p>\n<pre><code>@Column(tag = true)\n    String location;\n</code></pre>\n<p>Source: <a href=\"https://github.com/influxdata/influxdb-client-java#writes-and-queries-in-influxdb-2x\" rel=\"nofollow noreferrer\">https://github.com/influxdata/influxdb-client-java#writes-and-queries-in-influxdb-2x</a></p>\n"}],"owner":{"account_id":10595339,"reputation":69,"user_id":7804272,"display_name":"Jack Johns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673432934,"creation_date":1673347776,"question_id":75068851,"body_markdown":"Using the influxdb library in Java I&#39;m trying to map the results of a query formed using the `QueryReactiveAPI` query builder to a POJO so I can store them for processing. I get that you need to use the `@Measurement` annotation on the class definition and the `@Column` annotation on class variables to map fields but is there the equivalent for tags?\r\n\r\nThanks.","title":"Java InfluxDB: Map tags as well as fields in POJO from query","body":"<p>Using the influxdb library in Java I'm trying to map the results of a query formed using the <code>QueryReactiveAPI</code> query builder to a POJO so I can store them for processing. I get that you need to use the <code>@Measurement</code> annotation on the class definition and the <code>@Column</code> annotation on class variables to map fields but is there the equivalent for tags?</p>\n<p>Thanks.</p>\n"},{"tags":["java","simpledateformat"],"comments":[{"owner":{"account_id":3231850,"reputation":438,"user_id":2726925,"display_name":"Bruno Marotta"},"score":2,"creation_date":1673425060,"post_id":75080021,"comment_id":132493390,"body_markdown":"If they are strings you can just get the biggest one: `Collections.max(dates)`","body":"If they are strings you can just get the biggest one: <code>Collections.max(dates)</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":4,"creation_date":1673425081,"post_id":75080021,"comment_id":132493399,"body_markdown":"Please don&#39;t use `SimpleDateFormat`.","body":"Please don&#39;t use <code>SimpleDateFormat</code>."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673425118,"post_id":75080021,"comment_id":132493411,"body_markdown":"`System.out.println(Collections.max(temp))` will use the `toString()` of `java.util.Date`, which doesn&#39;t use your desired format.","body":"<code>System.out.println(Collections.max(temp))</code> will use the <code>toString()</code> of <code>java.util.Date</code>, which doesn&#39;t use your desired format."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673425151,"creation_date":1673425151,"answer_id":75080059,"question_id":75080021,"body_markdown":"Assuming you want to display the max date in the same original format as the list, you need not convert to a bona fide date, assuming the date strings are always in the format `yyyyMM`.  In this case, the strings will sort properly as dates, and we can simply use `Collections#max` directly:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;String&gt; dates=Arrays.asList(&quot;202210&quot;,&quot;202211&quot;,&quot;202212&quot;,&quot;202301&quot;); \r\n    System.out.println(Collections.max(dates));  // 202301","title":"How do I get the maximum date (in YYYYMM format) from an array of dates in java?","body":"<p>Assuming you want to display the max date in the same original format as the list, you need not convert to a bona fide date, assuming the date strings are always in the format <code>yyyyMM</code>.  In this case, the strings will sort properly as dates, and we can simply use <code>Collections#max</code> directly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; dates=Arrays.asList(&quot;202210&quot;,&quot;202211&quot;,&quot;202212&quot;,&quot;202301&quot;); \nSystem.out.println(Collections.max(dates));  // 202301\n</code></pre>\n"},{"tags":[],"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673425183,"creation_date":1673425183,"answer_id":75080062,"question_id":75080021,"body_markdown":"Since the array is of String type, you can simply find largest string in chronological order and use that. Your current logic to find the max will still work or you can use some `Collection` to do that for you.\r\n\r\nIt will give you correct result since your format is `yyyyMM` which means a later year will always be larger than string value of a smaller year.\r\n\r\nE.g. &quot;202210&quot; will always be less than &quot;202211&quot; or &quot;202301&quot;\r\n\r\nTreating them as String will also save you computational time to parse them into `Date` object.","title":"How do I get the maximum date (in YYYYMM format) from an array of dates in java?","body":"<p>Since the array is of String type, you can simply find largest string in chronological order and use that. Your current logic to find the max will still work or you can use some <code>Collection</code> to do that for you.</p>\n<p>It will give you correct result since your format is <code>yyyyMM</code> which means a later year will always be larger than string value of a smaller year.</p>\n<p>E.g. &quot;202210&quot; will always be less than &quot;202211&quot; or &quot;202301&quot;</p>\n<p>Treating them as String will also save you computational time to parse them into <code>Date</code> object.</p>\n"},{"tags":[],"owner":{"account_id":13730022,"reputation":309,"user_id":9907751,"display_name":"Firok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673425505,"creation_date":1673425505,"answer_id":75080110,"question_id":75080021,"body_markdown":"Just replace the last line `System.out.println(Collections.max(temp));` to `System.out.println(sdf.format(Collections.max(temp)));`","title":"How do I get the maximum date (in YYYYMM format) from an array of dates in java?","body":"<p>Just replace the last line <code>System.out.println(Collections.max(temp));</code> to <code>System.out.println(sdf.format(Collections.max(temp)));</code></p>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673432865,"creation_date":1673425654,"answer_id":75080143,"question_id":75080021,"body_markdown":"You can â€” of course â€” sort the `String`s and get the last value, but if you want to use something comparable that represents a month in a year, use a `java.time.YearMonth`, e.g.\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n    // example values\r\n    String[] monthsWithYears = { &quot;202210&quot;,&quot;202211&quot;,&quot;202212&quot;,&quot;202301&quot; };\r\n    // formatter capable of the String format\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuuMM&quot;);\r\n    // map to list of YearMonth and find the maximum\r\n\tYearMonth maxYearMonth = Arrays.stream(monthsWithYears)\r\n                               \t   .map(s -&gt; YearMonth.parse(s, dtf))\r\n\t\t\t\t\t\t\t       .max(YearMonth::compareTo)\r\n\t\t\t\t\t\t\t       .get();\r\n\t// print it(s toString() method implicitly)\r\n\tSystem.out.println(&quot;Max year month is &quot; + maxYearMonth);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nMax year month is 2023-01\r\n```","title":"How do I get the maximum date (in YYYYMM format) from an array of dates in java?","body":"<p>You can â€” of course â€” sort the <code>String</code>s and get the last value, but if you want to use something comparable that represents a month in a year, use a <code>java.time.YearMonth</code>, e.g.</p>\n<pre><code>public static void main(String[] args) {\n    // example values\n    String[] monthsWithYears = { &quot;202210&quot;,&quot;202211&quot;,&quot;202212&quot;,&quot;202301&quot; };\n    // formatter capable of the String format\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuuMM&quot;);\n    // map to list of YearMonth and find the maximum\n    YearMonth maxYearMonth = Arrays.stream(monthsWithYears)\n                                   .map(s -&gt; YearMonth.parse(s, dtf))\n                                   .max(YearMonth::compareTo)\n                                   .get();\n    // print it(s toString() method implicitly)\n    System.out.println(&quot;Max year month is &quot; + maxYearMonth);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Max year month is 2023-01\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5017855,"reputation":1558,"user_id":4032222,"accept_rate":67,"display_name":"henrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673426438,"creation_date":1673426438,"answer_id":75080283,"question_id":75080021,"body_markdown":"An alternative solution using only a simple for-loop to determine the largest value with string comparison:\r\n\r\n```java\r\nList&lt;String&gt; dates=Arrays.asList(&quot;202210&quot;,&quot;202211&quot;,&quot;202212&quot;,&quot;202301&quot;);\r\nString max = &quot;000000&quot;;\r\nfor (int i = 0; i &lt; dates.size(); i++) {\r\n    if (dates.get(i).compareTo(max) &gt; 0) {\r\n        max = dates.get(i);\r\n    }\r\n}\r\n\r\nSystem.out.println(&quot;Max date is: &quot; + max); //Max date is: 202301\r\n```","title":"How do I get the maximum date (in YYYYMM format) from an array of dates in java?","body":"<p>An alternative solution using only a simple for-loop to determine the largest value with string comparison:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; dates=Arrays.asList(&quot;202210&quot;,&quot;202211&quot;,&quot;202212&quot;,&quot;202301&quot;);\nString max = &quot;000000&quot;;\nfor (int i = 0; i &lt; dates.size(); i++) {\n    if (dates.get(i).compareTo(max) &gt; 0) {\n        max = dates.get(i);\n    }\n}\n\nSystem.out.println(&quot;Max date is: &quot; + max); //Max date is: 202301\n</code></pre>\n"}],"owner":{"display_name":"user20980801"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75080062,"answer_count":5,"score":4,"last_activity_date":1673432865,"creation_date":1673424938,"question_id":75080021,"body_markdown":"I want to find out the largest date from an array of dates in `yyyyMM` format. For example, suppose my arraylist of dates are:\r\n```\r\n[&quot;202210&quot;, &quot;202211&quot;, &quot;202212&quot;, &quot;202301&quot;]\r\n```\r\nthen the correct value should be `202301`\r\n\r\nI tried using the `SimpleDateFormat` class and then parse the dates and then find the max date, like this:\r\n```\r\nList&lt;String&gt; dates = Arrays.asList(&quot;202210&quot;, &quot;202211&quot; ,&quot;202212&quot;, &quot;202301&quot;);  \r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMM&quot;, Locale.getDefault());\r\nList&lt;Date&gt; temp = new ArrayList&lt;&gt;();\r\ntry {\r\n    for (String date: dates) {\r\n        temp.add(sdf.parse(date));\r\n    }\r\n} catch (ParseException e) {\r\n    e.printStackTrace();\r\n}\r\nSystem.out.println(Collections.max(temp)); //shows Sun Jan 01 00:00:00 GMT 2023\r\n```\r\n\r\nHow do I convert the `Sun Jan 01 00:00:00 GMT 2023` to `202301`?","title":"How do I get the maximum date (in YYYYMM format) from an array of dates in java?","body":"<p>I want to find out the largest date from an array of dates in <code>yyyyMM</code> format. For example, suppose my arraylist of dates are:</p>\n<pre><code>[&quot;202210&quot;, &quot;202211&quot;, &quot;202212&quot;, &quot;202301&quot;]\n</code></pre>\n<p>then the correct value should be <code>202301</code></p>\n<p>I tried using the <code>SimpleDateFormat</code> class and then parse the dates and then find the max date, like this:</p>\n<pre><code>List&lt;String&gt; dates = Arrays.asList(&quot;202210&quot;, &quot;202211&quot; ,&quot;202212&quot;, &quot;202301&quot;);  \nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMM&quot;, Locale.getDefault());\nList&lt;Date&gt; temp = new ArrayList&lt;&gt;();\ntry {\n    for (String date: dates) {\n        temp.add(sdf.parse(date));\n    }\n} catch (ParseException e) {\n    e.printStackTrace();\n}\nSystem.out.println(Collections.max(temp)); //shows Sun Jan 01 00:00:00 GMT 2023\n</code></pre>\n<p>How do I convert the <code>Sun Jan 01 00:00:00 GMT 2023</code> to <code>202301</code>?</p>\n"},{"tags":["java","spring","model-view-controller"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1673303140,"post_id":75063557,"comment_id":132464767,"body_markdown":"Please include relevant code/config as code-formatted text in the question itself.","body":"Please include relevant code/config as code-formatted text in the question itself."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1673303164,"post_id":75063557,"comment_id":132464774,"body_markdown":"what exactly is your `Content-Type`? It needs to be `application/json`.","body":"what exactly is your <code>Content-Type</code>? It needs to be <code>application&#47;json</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673303230,"post_id":75063557,"comment_id":132464792,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue.","body":"Vague title. Rewrite to summarize your specific technical issue."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1673303610,"post_id":75063557,"comment_id":132464869,"body_markdown":"Please don&#39;t paste links to [images of code](https://meta.stackoverflow.com/a/285557). Please edit your code to match the [Stack Overflow guidelines](https://stackoverflow.com/help/how-to-ask) for asking a good question.  Feel free to peruse the site to get a better idea of other&#39;s questions, and also search the site to ensure your question isn&#39;t a duplicate of a question someone else has asked previously.","body":"Please don&#39;t paste links to <a href=\"https://meta.stackoverflow.com/a/285557\">images of code</a>. Please edit your code to match the <a href=\"https://stackoverflow.com/help/how-to-ask\">Stack Overflow guidelines</a> for asking a good question.  Feel free to peruse the site to get a better idea of other&#39;s questions, and also search the site to ensure your question isn&#39;t a duplicate of a question someone else has asked previously."},{"owner":{"account_id":27482342,"reputation":15,"user_id":20969170,"display_name":"Volodymyr Burmus"},"score":0,"creation_date":1673303803,"post_id":75063557,"comment_id":132464905,"body_markdown":"I&#39;ve already changed the post","body":"I&#39;ve already changed the post"}],"answers":[{"tags":[],"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673304727,"creation_date":1673304727,"answer_id":75063766,"question_id":75063557,"body_markdown":"The request is not being handled by your controller. HTTP 415 means &quot;Unsupported Media Type&quot;.\r\n\r\n&gt; The HTTP 415 Unsupported Media Type client error response code indicates that the server refuses to accept the request because the payload format is in an unsupported format.\r\n&gt;\r\n&gt; The format problem might be due to the request&#39;s indicated Content-Type or Content-Encoding, or as a result of inspecting the data directly. \r\n\r\nTry adding the **header `&quot;Content-Type&quot;`** with value `&quot;application/json&quot;` to your postman request.\r\n\r\nThe search engine in Stack Overflow is quite powerful. These questions might also provide helpful info:\r\n- https://stackoverflow.com/questions/11492325/post-json-fails-with-415-unsupported-media-type-spring-3-mvc?rq=1\r\n- https://stackoverflow.com/questions/22566433/http-415-unsupported-media-type-error-with-json?rq=1\r\n- https://stackoverflow.com/questions/53316147/415-unsupported-media-type-in-spring?rq=1","title":"Spring app returning HTTP 415 Unsupported Media Type","body":"<p>The request is not being handled by your controller. HTTP 415 means &quot;Unsupported Media Type&quot;.</p>\n<blockquote>\n<p>The HTTP 415 Unsupported Media Type client error response code indicates that the server refuses to accept the request because the payload format is in an unsupported format.</p>\n<p>The format problem might be due to the request's indicated Content-Type or Content-Encoding, or as a result of inspecting the data directly.</p>\n</blockquote>\n<p>Try adding the <strong>header <code>&quot;Content-Type&quot;</code></strong> with value <code>&quot;application/json&quot;</code> to your postman request.</p>\n<p>The search engine in Stack Overflow is quite powerful. These questions might also provide helpful info:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/11492325/post-json-fails-with-415-unsupported-media-type-spring-3-mvc?rq=1\">POST JSON fails with 415 Unsupported media type, Spring 3 mvc</a></li>\n<li><a href=\"https://stackoverflow.com/questions/22566433/http-415-unsupported-media-type-error-with-json?rq=1\">Http 415 Unsupported Media type error with JSON</a></li>\n<li><a href=\"https://stackoverflow.com/questions/53316147/415-unsupported-media-type-in-spring?rq=1\">415--Unsupported Media Type in Spring</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":27098396,"reputation":1,"user_id":20645311,"display_name":"ABHISHEK PANDEY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673327448,"creation_date":1673326952,"answer_id":75065665,"question_id":75063557,"body_markdown":"â€‹â€‹The error 415-The unsupported file format error occurs when server refuses to accept the request because the payload format is in an unsupported format of file type. \r\n\r\n1.Ensure that you are sending the proper Content-Type header value.\r\n\r\n2.Verify that your server is able to process the value defined in the **Content-Type header**.\r\n\r\n3.Check the Accept header to verify what the server is actually willing to process.\r\n\r\n\r\n* To resolve this issue, explicitly set the content type under the request headers as **Post**\r\n\r\n* Make sure to change body **&quot;Text&quot; to &quot;JSON&quot;**\r\n\r\n\r\n","title":"Spring app returning HTTP 415 Unsupported Media Type","body":"<p>â€‹â€‹The error 415-The unsupported file format error occurs when server refuses to accept the request because the payload format is in an unsupported format of file type.</p>\n<p>1.Ensure that you are sending the proper Content-Type header value.</p>\n<p>2.Verify that your server is able to process the value defined in the <strong>Content-Type header</strong>.</p>\n<p>3.Check the Accept header to verify what the server is actually willing to process.</p>\n<ul>\n<li><p>To resolve this issue, explicitly set the content type under the request headers as <strong>Post</strong></p>\n</li>\n<li><p>Make sure to change body <strong>&quot;Text&quot; to &quot;JSON&quot;</strong></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":27431373,"reputation":21,"user_id":20928015,"display_name":"Ravi Teja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673432531,"creation_date":1673432531,"answer_id":75081502,"question_id":75063557,"body_markdown":"I have also faced the issue  even after changing the Content-type to application/JSON \r\n\r\n - to resolve it I have created a DTO to take the input from the JSON file \r\n - and then passed the values to the entity object through the DTO","title":"Spring app returning HTTP 415 Unsupported Media Type","body":"<p>I have also faced the issue  even after changing the Content-type to application/JSON</p>\n<ul>\n<li>to resolve it I have created a DTO to take the input from the JSON file</li>\n<li>and then passed the values to the entity object through the DTO</li>\n</ul>\n"}],"owner":{"account_id":27482342,"reputation":15,"user_id":20969170,"display_name":"Volodymyr Burmus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1637,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75063766,"answer_count":3,"score":0,"last_activity_date":1673432531,"creation_date":1673302808,"question_id":75063557,"body_markdown":"I&#39;m making SpringMVC webapp. I have a Controller:\r\n\r\n```java   \r\n@RestController\r\n@RequestMapping(value =&quot;/certificate&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic class GiftCertificateController {\r\n    private final GiftCertificateService gcs;\r\n    \r\n    @Autowired\r\n    public GiftCertificateController(GiftCertificateService gcs) {\r\n        this.gcs = gcs;\r\n    }\r\n    \r\n    @PostMapping\r\n    public ResponseEntity&lt;?&gt; createCertificate(@RequestBody GiftCertificate gc) throws Exception {\r\n        gcs.createCertificate(gc);\r\n        return new ResponseEntity&lt;&gt;(Map.of(&quot;status&quot;, HttpStatus.CREATED), HttpStatus.CREATED);\r\n    }\r\n    \r\n    // some GetMapping and DeleteMapping functions\r\n    // omitted for simplicity\r\n}\r\n```\r\n\r\nAnd I am trying to make a POST in Postman to create a certificate with JSON:\r\n\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;sas&quot;,\r\n    &quot;description&quot;: &quot;sasasas&quot;,\r\n    &quot;price&quot;: 12,\r\n    &quot;duration&quot;: 12\r\n}\r\n```\r\n\r\n\r\n\r\nI tried to change my Content-type to application/json, but it still isn&#39;t work.","title":"Spring app returning HTTP 415 Unsupported Media Type","body":"<p>I'm making SpringMVC webapp. I have a Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value =&quot;/certificate&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class GiftCertificateController {\n    private final GiftCertificateService gcs;\n    \n    @Autowired\n    public GiftCertificateController(GiftCertificateService gcs) {\n        this.gcs = gcs;\n    }\n    \n    @PostMapping\n    public ResponseEntity&lt;?&gt; createCertificate(@RequestBody GiftCertificate gc) throws Exception {\n        gcs.createCertificate(gc);\n        return new ResponseEntity&lt;&gt;(Map.of(&quot;status&quot;, HttpStatus.CREATED), HttpStatus.CREATED);\n    }\n    \n    // some GetMapping and DeleteMapping functions\n    // omitted for simplicity\n}\n</code></pre>\n<p>And I am trying to make a POST in Postman to create a certificate with JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;sas&quot;,\n    &quot;description&quot;: &quot;sasasas&quot;,\n    &quot;price&quot;: 12,\n    &quot;duration&quot;: 12\n}\n</code></pre>\n<p>I tried to change my Content-type to application/json, but it still isn't work.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":497945,"reputation":968,"user_id":1360035,"display_name":"moilejter"},"score":0,"creation_date":1673240843,"post_id":75053278,"comment_id":132445806,"body_markdown":"What happens when you run it?  You may be missing a ScheduledExecutorService, which the task scheduler wants to delegate work to - normally, Spring would take care of this.\nIf you&#39;re not using Spring, you could just use a java ScheduledThreadPoolExecutor...","body":"What happens when you run it?  You may be missing a ScheduledExecutorService, which the task scheduler wants to delegate work to - normally, Spring would take care of this. If you&#39;re not using Spring, you could just use a java ScheduledThreadPoolExecutor..."},{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1673259799,"post_id":75053278,"comment_id":132450186,"body_markdown":"The ThreadPoolTaskScheduler and the Cron are part of Spring. Therefore you still use the Springframework, but you might not initialize it. There is no native Cron scheduler in Java, so Spring is fine. Alternatively take a look at \nQuartz Job Scheduler","body":"The ThreadPoolTaskScheduler and the Cron are part of Spring. Therefore you still use the Springframework, but you might not initialize it. There is no native Cron scheduler in Java, so Spring is fine. Alternatively take a look at  Quartz Job Scheduler"},{"owner":{"account_id":27438952,"reputation":43,"user_id":20934246,"display_name":"Repins Star"},"score":0,"creation_date":1673317874,"post_id":75053278,"comment_id":132466919,"body_markdown":"@ThomasW. do i need to set the `threadPoolTaskScheduler ` as static variable?","body":"@ThomasW. do i need to set the <code>threadPoolTaskScheduler </code> as static variable?"},{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1673362283,"post_id":75053278,"comment_id":132478461,"body_markdown":"@RepinsStar please see the solution belowâ€¦if it helped, feel free to mark it as solved. If not, let me know what is missing","body":"@RepinsStar please see the solution belowâ€¦if it helped, feel free to mark it as solved. If not, let me know what is missing"}],"answers":[{"tags":[],"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673350878,"creation_date":1673346962,"answer_id":75068716,"question_id":75053278,"body_markdown":"There are couple of things to mention...\r\n\r\nFirst of all, if you use the Spring Scheduling library you are using the Spring framework. Spring is intended to make your live easier, therefore it uses a lot of preconfigured stuff, in case you do not provide any particular configuration.\r\nIf you do not want to use Spring and still need a cron like scheduling, take a look at the [Quartz Job Scheduler][1].\r\n\r\nSecond, your Cron job is not daily and weekly, but minutely and hourly.\r\nAccording to the [docu][2], daily is `0 0 0 * * *` and weekly `0 0 0 * * 0`\r\n\r\nFinally, your code works. There is no need to flag the `ThreadPoolTaskScheduler` as static. Of course you could turn your `ThreadPoolTaskScheduler` into a Singleton, if you want to use just a single instance of it. But be aware, that in the opinion of many, Singletons are a code smell.\r\n\r\n    import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\r\n    import org.springframework.scheduling.support.CronTrigger;\r\n    \r\n    import java.util.Date;\r\n        \r\n    public class MyClass {\r\n    \r\n        private static ThreadPoolTaskScheduler THREAD_POOL_TASK_SCHEDULER;\r\n    \r\n        public static ThreadPoolTaskScheduler getInstance () {\r\n            if (THREAD_POOL_TASK_SCHEDULER == null) {\r\n                THREAD_POOL_TASK_SCHEDULER = new ThreadPoolTaskScheduler();\r\n                THREAD_POOL_TASK_SCHEDULER.initialize();\r\n            }\r\n            return THREAD_POOL_TASK_SCHEDULER;\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n            MyClass mc = new MyClass();\r\n            mc.runTaskScheduler();\r\n        }\r\n    \r\n        private void runTaskScheduler() {\r\n            Runnable minutelyScheduler = this::processMinutely;\r\n            getInstance().schedule(minutelyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 1 * * * *\r\n        }\r\n    \r\n        private void processMinutely() {\r\n            System.out.println(&quot;Time &quot; + new Date());\r\n        }\r\n    \r\n    }\r\n\r\nOr you could just use the scheduler as a class variable...\r\n\r\n    import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\r\n    import org.springframework.scheduling.support.CronTrigger;\r\n    \r\n    import java.util.Date;\r\n    \r\n    public class MyClass {\r\n    \r\n        public static void main(String args[]) {\r\n            MyClass mc = new MyClass();\r\n            mc.runTaskScheduler();\r\n        }\r\n    \r\n        private final ThreadPoolTaskScheduler threadPoolTaskScheduler;\r\n    \r\n        public MyClass() {\r\n            threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n            threadPoolTaskScheduler.initialize();\r\n        }\r\n    \r\n        private void runTaskScheduler() {\r\n            Runnable minutelyScheduler = this::processMinutely;\r\n            threadPoolTaskScheduler.schedule(minutelyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 1 * * * *\r\n        }\r\n\r\n        private void processMinutely() {\r\n            System.out.println(&quot;Time &quot; + new Date());\r\n        }\r\n    \r\n    }\r\n\r\nBoth examples make sense, in case you want to avoid multiple instances of the scheduler or if you want to access it later on.\r\n\r\n  [1]: http://www.quartz-scheduler.org\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html","title":"Use ThreadPoolTaskScheduler without using Spring framework","body":"<p>There are couple of things to mention...</p>\n<p>First of all, if you use the Spring Scheduling library you are using the Spring framework. Spring is intended to make your live easier, therefore it uses a lot of preconfigured stuff, in case you do not provide any particular configuration.\nIf you do not want to use Spring and still need a cron like scheduling, take a look at the <a href=\"http://www.quartz-scheduler.org\" rel=\"nofollow noreferrer\">Quartz Job Scheduler</a>.</p>\n<p>Second, your Cron job is not daily and weekly, but minutely and hourly.\nAccording to the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html\" rel=\"nofollow noreferrer\">docu</a>, daily is <code>0 0 0 * * *</code> and weekly <code>0 0 0 * * 0</code></p>\n<p>Finally, your code works. There is no need to flag the <code>ThreadPoolTaskScheduler</code> as static. Of course you could turn your <code>ThreadPoolTaskScheduler</code> into a Singleton, if you want to use just a single instance of it. But be aware, that in the opinion of many, Singletons are a code smell.</p>\n<pre><code>import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\nimport org.springframework.scheduling.support.CronTrigger;\n\nimport java.util.Date;\n    \npublic class MyClass {\n\n    private static ThreadPoolTaskScheduler THREAD_POOL_TASK_SCHEDULER;\n\n    public static ThreadPoolTaskScheduler getInstance () {\n        if (THREAD_POOL_TASK_SCHEDULER == null) {\n            THREAD_POOL_TASK_SCHEDULER = new ThreadPoolTaskScheduler();\n            THREAD_POOL_TASK_SCHEDULER.initialize();\n        }\n        return THREAD_POOL_TASK_SCHEDULER;\n    }\n\n    public static void main(String args[]) {\n        MyClass mc = new MyClass();\n        mc.runTaskScheduler();\n    }\n\n    private void runTaskScheduler() {\n        Runnable minutelyScheduler = this::processMinutely;\n        getInstance().schedule(minutelyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 1 * * * *\n    }\n\n    private void processMinutely() {\n        System.out.println(&quot;Time &quot; + new Date());\n    }\n\n}\n</code></pre>\n<p>Or you could just use the scheduler as a class variable...</p>\n<pre><code>import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\nimport org.springframework.scheduling.support.CronTrigger;\n\nimport java.util.Date;\n\npublic class MyClass {\n\n    public static void main(String args[]) {\n        MyClass mc = new MyClass();\n        mc.runTaskScheduler();\n    }\n\n    private final ThreadPoolTaskScheduler threadPoolTaskScheduler;\n\n    public MyClass() {\n        threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n        threadPoolTaskScheduler.initialize();\n    }\n\n    private void runTaskScheduler() {\n        Runnable minutelyScheduler = this::processMinutely;\n        threadPoolTaskScheduler.schedule(minutelyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 1 * * * *\n    }\n\n    private void processMinutely() {\n        System.out.println(&quot;Time &quot; + new Date());\n    }\n\n}\n</code></pre>\n<p>Both examples make sense, in case you want to avoid multiple instances of the scheduler or if you want to access it later on.</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673351572,"creation_date":1673350435,"answer_id":75069371,"question_id":75053278,"body_markdown":"If you work with just Java and not Spring/SpringBoot your options are to use some 3d party library such as Quartz Job Scheduler or use Java provided classes for that. Here are the classes you might want to use:\r\n[ScheduledExecutorService][1] interface and its implementation: [ScheduledThreadPoolExecutor][2]. Also look at class [Executors][3] and its method [public static ScheduledExecutorService newSingleThreadScheduledExecutor()][4]. &lt;br&gt;&lt;br&gt;\r\nAlso, as far as 3d parties go I wrote my own scheduler. Look at [Javadoc][5]. This Background runner comes as part of Open Source MgntUtils library written and maintained by me. Also the source code of the library contains working example on how to use the Background Runner. The library including the source code can be downloaded from Github [here][6] and an example can be seen [here][7]. Also, the library can be obtained as Maven artifacts from Maven central [here][8]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor--\r\n  [5]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/backgroundrunner/package-summary.html\r\n  [6]: https://github.com/michaelgantman/Mgnt/releases\r\n  [7]: https://github.com/michaelgantman/Mgnt/tree/master/src/main/java/com/mgnt/lifecycle/management/backgroundrunner/example\r\n  [8]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils","title":"Use ThreadPoolTaskScheduler without using Spring framework","body":"<p>If you work with just Java and not Spring/SpringBoot your options are to use some 3d party library such as Quartz Job Scheduler or use Java provided classes for that. Here are the classes you might want to use:\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a> interface and its implementation: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ScheduledThreadPoolExecutor</a>. Also look at class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\">Executors</a> and its method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor--\" rel=\"nofollow noreferrer\">public static ScheduledExecutorService newSingleThreadScheduledExecutor()</a>. <br><br>\nAlso, as far as 3d parties go I wrote my own scheduler. Look at <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/backgroundrunner/package-summary.html\" rel=\"nofollow noreferrer\">Javadoc</a>. This Background runner comes as part of Open Source MgntUtils library written and maintained by me. Also the source code of the library contains working example on how to use the Background Runner. The library including the source code can be downloaded from Github <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">here</a> and an example can be seen <a href=\"https://github.com/michaelgantman/Mgnt/tree/master/src/main/java/com/mgnt/lifecycle/management/backgroundrunner/example\" rel=\"nofollow noreferrer\">here</a>. Also, the library can be obtained as Maven artifacts from Maven central <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":27438952,"reputation":43,"user_id":20934246,"display_name":"Repins Star"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75068716,"answer_count":2,"score":1,"last_activity_date":1673432458,"creation_date":1673239647,"question_id":75053278,"body_markdown":"I am trying to use `ThreadPoolTaskScheduler` to schedule task using CRON but without using Spring framework. I created 2 task scheduler for daily and weekly.\r\n\r\nSo, far here is what i tried:\r\n\r\n```java\r\npublic class MyClass {\r\n\r\n        public static void main(String args[]) {\r\n           MyClass mc = new MyClass();\r\n           mc.runTaskScheduler();\r\n        }\r\n\r\n        private void runTaskScheduler() {\r\n            Runnable dailyScheduler = this::processDaily;\r\n            Runnable weeklyScheduler = this::processWeekly;\r\n\r\n            ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n            threadPoolTaskScheduler.initialize();\r\n            threadPoolTaskScheduler.schedule(dailyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 * * * * *\r\n        threadPoolTaskScheduler.schedule(weeklyScheduler, new CronTrigger(&quot;0 1 * * * *&quot;)); //0 1 * * * *\r\n        \r\n        }\r\n\r\n        private void processDaily() {\r\n           // some code\r\n        }\r\n\r\n        private void processWeekly() {\r\n          // some code\r\n        }\r\n\r\n    }\r\n```\r\nI am not sure if should i need to make `ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();` static variable?\r\n\r\n\r\nI tried to make a main class but not sure if I did it correct.","title":"Use ThreadPoolTaskScheduler without using Spring framework","body":"<p>I am trying to use <code>ThreadPoolTaskScheduler</code> to schedule task using CRON but without using Spring framework. I created 2 task scheduler for daily and weekly.</p>\n<p>So, far here is what i tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n        public static void main(String args[]) {\n           MyClass mc = new MyClass();\n           mc.runTaskScheduler();\n        }\n\n        private void runTaskScheduler() {\n            Runnable dailyScheduler = this::processDaily;\n            Runnable weeklyScheduler = this::processWeekly;\n\n            ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n            threadPoolTaskScheduler.initialize();\n            threadPoolTaskScheduler.schedule(dailyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 * * * * *\n        threadPoolTaskScheduler.schedule(weeklyScheduler, new CronTrigger(&quot;0 1 * * * *&quot;)); //0 1 * * * *\n        \n        }\n\n        private void processDaily() {\n           // some code\n        }\n\n        private void processWeekly() {\n          // some code\n        }\n\n    }\n</code></pre>\n<p>I am not sure if should i need to make <code>ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();</code> static variable?</p>\n<p>I tried to make a main class but not sure if I did it correct.</p>\n"},{"tags":["java","spring","jsp","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1673251627,"post_id":75026728,"comment_id":132447740,"body_markdown":"Check that you can access the Tomcat welcome page(*http://localhost:8080/*) to verify that the application is properly deployed to Tomcat. Also provides a detailed error log.","body":"Check that you can access the Tomcat welcome page(<i><a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">localhost:8080</a></i>) to verify that the application is properly deployed to Tomcat. Also provides a detailed error log."},{"owner":{"account_id":23809795,"reputation":21,"user_id":17818727,"display_name":"ì •ìƒí™˜"},"score":0,"creation_date":1673263848,"post_id":75026728,"comment_id":132451508,"body_markdown":"i can access the tomcat welcome page(localhost:8080).\nthere is no problem running Tomcat.\nno other error logs other than 404.\ncontroller&#39;s system.out.println is not logged.","body":"i can access the tomcat welcome page(localhost:8080). there is no problem running Tomcat. no other error logs other than 404. controller&#39;s system.out.println is not logged."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1673343086,"post_id":75026728,"comment_id":132471841,"body_markdown":"Check tomcat logs and web.xml configuration.","body":"Check tomcat logs and web.xml configuration."}],"answers":[{"tags":[],"owner":{"account_id":23809795,"reputation":21,"user_id":17818727,"display_name":"ì •ìƒí™˜"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673432288,"creation_date":1673432288,"answer_id":75081453,"question_id":75026728,"body_markdown":"I solved it.\r\n\r\n1. When you work on maven, the maven project task line is created at the bottom left of vscode.\r\n2. If you click the task line, the maven projects in the workspace appear as a list.\r\n3. Among them, right-click the directory you want to operate, and select &#39;package&#39; from the list that appears.\r\n4. A maven-war-plugin version error occurred.\r\n6. Added maven-war-plugin 3.2.2 in pom.xml.\r\n7. If you select &#39;package&#39; again, a war file is created in the target folder.\r\n8. Add the war file created in the tomcat server.\r\n9. If you do show in browser, the maven project works normally.\r\n10. You must click &#39;package&#39; every time you edit the code.","title":"spring unable jsp file in vscode","body":"<p>I solved it.</p>\n<ol>\n<li>When you work on maven, the maven project task line is created at the bottom left of vscode.</li>\n<li>If you click the task line, the maven projects in the workspace appear as a list.</li>\n<li>Among them, right-click the directory you want to operate, and select 'package' from the list that appears.</li>\n<li>A maven-war-plugin version error occurred.</li>\n<li>Added maven-war-plugin 3.2.2 in pom.xml.</li>\n<li>If you select 'package' again, a war file is created in the target folder.</li>\n<li>Add the war file created in the tomcat server.</li>\n<li>If you do show in browser, the maven project works normally.</li>\n<li>You must click 'package' every time you edit the code.</li>\n</ol>\n"}],"owner":{"account_id":23809795,"reputation":21,"user_id":17818727,"display_name":"ì •ìƒí™˜"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673432288,"creation_date":1672976654,"question_id":75026728,"body_markdown":"My IDE is VSCODE\r\n\r\ntomcat server is connected normally\r\nbut controller not working\r\n404 error appears when entering &quot;http://localhost:8080/sp5-chap09/hello?name=abc&quot;\r\nThe controller&#39;s println does not work, so the console does not see log\r\n\r\nWhen i access &quot;http://localhost:8080/sp5-chap09/src/main/webapp/WEB-INF/view/hello.jsp&quot;, the jsp file displays in the browser and no 404 error occurs, but parameters cannot be imported\r\n\r\n\r\n----------\r\n\r\n\r\n**workspace tree:**\r\n```\r\nSP5-CHAP09\r\n|   pom.xml\r\n|\r\n+---src\r\n|   \\---main\r\n|       +---java\r\n|       |   +---chap09\r\n|       |   |       HelloController.java\r\n|       |   |\r\n|       |   \\---config\r\n|       |           ControllerConfig.java\r\n|       |           MvcConfig.java\r\n|       |\r\n|       +---resources\r\n|       \\---webapp\r\n|           \\---WEB-INF\r\n|               |   web.xml\r\n|               |\r\n|               \\---view\r\n|                       hello.jsp\r\n|\r\n\\---target\r\n    +---classes\r\n    |   +---chap09\r\n    |   |       HelloController.class\r\n    |   |\r\n    |   \\---config\r\n    |           ControllerConfig.class\r\n    |           MvcConfig.class\r\n    |\r\n    +---generated-sources\r\n    |   \\---annotations\r\n    +---maven-archiver\r\n    |       pom.properties\r\n    |\r\n    +---maven-status\r\n    |   \\---maven-compiler-plugin\r\n    |       \\---compile\r\n    |           \\---default-compile\r\n    |                   createdFiles.lst\r\n    |                   inputFiles.lst\r\n    |\r\n    \\---test-classes\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**controller:**\r\n```\r\npackage chap09;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n@Controller\r\npublic class HelloController {\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello(Model model,\r\n            @RequestParam(value=&quot;name&quot;, required=false) String name){\r\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello, &quot; + name);\r\n\r\n        System.out.println(&quot;hello() method execute: &quot; + LocalDateTime.now());\r\n\r\n        return &quot;hello&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**config file:**\r\n```\r\npackage config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport chap09.HelloController;\r\n\r\n@Configuration\r\npublic class ControllerConfig {\r\n    @Bean\r\n    public HelloController helloController(){\r\n        return new HelloController();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage config;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\n@EnableWebMvc\r\npublic class MvcConfig implements WebMvcConfigurer{\r\n    @Override\r\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer){\r\n        configurer.enable();\r\n    }\r\n\r\n    @Override\r\n    public void configureViewResolvers(ViewResolverRegistry registry){\r\n        registry.jsp(&quot;/WEB-INF/view/&quot;, &quot;.jsp&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**pom.xml:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n\t\thttp://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;sp5&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sp5-chap09&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.2-b02&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;encoding&gt;utf-8&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**web.xml:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n             http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n\tversion=&quot;3.1&quot;&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;\r\n\t\t\torg.springframework.web.servlet.DispatcherServlet\r\n\t\t&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextClass&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;\r\n\t\t\t\torg.springframework.web.context.support.AnnotationConfigWebApplicationContext\r\n\t\t\t&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;\r\n\t\t\t\tconfig.MvcConfig\r\n\t\t\t\tconfig.ControllerConfig\r\n\t\t\t&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;\r\n\t\t\torg.springframework.web.filter.CharacterEncodingFilter\r\n\t\t&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;encoding&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**view file:**\r\n```\r\n&lt;%@ page contentType=&quot;text/html; charset=utf-8&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Hello&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        greeting: ${greeting}\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nI searched, but there was no solution that fits me\r\nI can&#39;t guess","title":"spring unable jsp file in vscode","body":"<p>My IDE is VSCODE</p>\n<p>tomcat server is connected normally\nbut controller not working\n404 error appears when entering &quot;http://localhost:8080/sp5-chap09/hello?name=abc&quot;\nThe controller's println does not work, so the console does not see log</p>\n<p>When i access &quot;http://localhost:8080/sp5-chap09/src/main/webapp/WEB-INF/view/hello.jsp&quot;, the jsp file displays in the browser and no 404 error occurs, but parameters cannot be imported</p>\n<hr />\n<p><strong>workspace tree:</strong></p>\n<pre><code>SP5-CHAP09\n|   pom.xml\n|\n+---src\n|   \\---main\n|       +---java\n|       |   +---chap09\n|       |   |       HelloController.java\n|       |   |\n|       |   \\---config\n|       |           ControllerConfig.java\n|       |           MvcConfig.java\n|       |\n|       +---resources\n|       \\---webapp\n|           \\---WEB-INF\n|               |   web.xml\n|               |\n|               \\---view\n|                       hello.jsp\n|\n\\---target\n    +---classes\n    |   +---chap09\n    |   |       HelloController.class\n    |   |\n    |   \\---config\n    |           ControllerConfig.class\n    |           MvcConfig.class\n    |\n    +---generated-sources\n    |   \\---annotations\n    +---maven-archiver\n    |       pom.properties\n    |\n    +---maven-status\n    |   \\---maven-compiler-plugin\n    |       \\---compile\n    |           \\---default-compile\n    |                   createdFiles.lst\n    |                   inputFiles.lst\n    |\n    \\---test-classes\n</code></pre>\n<hr />\n<p><strong>controller:</strong></p>\n<pre><code>package chap09;\n\nimport java.time.LocalDateTime;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@Controller\npublic class HelloController {\n    @GetMapping(&quot;/hello&quot;)\n    public String hello(Model model,\n            @RequestParam(value=&quot;name&quot;, required=false) String name){\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello, &quot; + name);\n\n        System.out.println(&quot;hello() method execute: &quot; + LocalDateTime.now());\n\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<hr />\n<p><strong>config file:</strong></p>\n<pre><code>package config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport chap09.HelloController;\n\n@Configuration\npublic class ControllerConfig {\n    @Bean\n    public HelloController helloController(){\n        return new HelloController();\n    }\n}\n</code></pre>\n<pre><code>package config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\n@EnableWebMvc\npublic class MvcConfig implements WebMvcConfigurer{\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer){\n        configurer.enable();\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry){\n        registry.jsp(&quot;/WEB-INF/view/&quot;, &quot;.jsp&quot;);\n    }\n}\n</code></pre>\n<hr />\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n        http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;sp5&lt;/groupId&gt;\n    &lt;artifactId&gt;sp5-chap09&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2-b02&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;encoding&gt;utf-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<hr />\n<p><strong>web.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \n             http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n    version=&quot;3.1&quot;&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;\n            org.springframework.web.servlet.DispatcherServlet\n        &lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextClass&lt;/param-name&gt;\n            &lt;param-value&gt;\n                org.springframework.web.context.support.AnnotationConfigWebApplicationContext\n            &lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;\n                config.MvcConfig\n                config.ControllerConfig\n            &lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;\n            org.springframework.web.filter.CharacterEncodingFilter\n        &lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<hr />\n<p><strong>view file:</strong></p>\n<pre><code>&lt;%@ page contentType=&quot;text/html; charset=utf-8&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Hello&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        greeting: ${greeting}\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<hr />\n<p>I searched, but there was no solution that fits me\nI can't guess</p>\n"},{"tags":["java","sql","database","derby"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1673204105,"post_id":75050442,"comment_id":132440769,"body_markdown":"`&quot;User1&quot;,&quot;1234&quot;` - that&#39;s the username and password. The database probably isn&#39;t lying to you - those aren&#39;t valid.","body":"<code>&quot;User1&quot;,&quot;1234&quot;</code> - that&#39;s the username and password. The database probably isn&#39;t lying to you - those aren&#39;t valid."},{"owner":{"account_id":27458051,"reputation":1,"user_id":20949134,"display_name":"SpicyP "},"score":0,"creation_date":1673210275,"post_id":75050442,"comment_id":132441860,"body_markdown":"@rzwitserloot so what you mean with â€žThe database probably isn&#39;t lying to youâ€œ is that &quot;User1&quot;,&quot;1234&quot; are wrong login data, am I right? I canâ€™t remember to have chosen something else. Is there a way to refactor username and password? Thanks in advance","body":"@rzwitserloot so what you mean with â€žThe database probably isn&#39;t lying to youâ€œ is that &quot;User1&quot;,&quot;1234&quot; are wrong login data, am I right? I canâ€™t remember to have chosen something else. Is there a way to refactor username and password? Thanks in advance"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1673215057,"post_id":75050442,"comment_id":132442728,"body_markdown":"The derby DB documentation would cover that.","body":"The derby DB documentation would cover that."}],"owner":{"account_id":27458051,"reputation":1,"user_id":20949134,"display_name":"SpicyP "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673432267,"creation_date":1673203757,"question_id":75050442,"body_markdown":"So as shown above I get this error message while trying to add values to my Java derby Database. Full error-message is as shown:\r\nrun:\r\n\r\n```\r\n\tat java.sql.SQLNonTransientConnectionException: Verbindung konnte nicht authentifiziert werden. Grund: Benutzer-ID oder Kennwort ung&#252;ltig.org.apache.derby.client.am.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:74)\r\n\tat org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:325)\r\n\tat org.apache.derby.client.ClientAutoloadedDriver.connect(ClientAutoloadedDriver.java:177)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n\tat supermarket1.Seller.AddBtnMouseClicked(Seller.java:294)\r\n\tat supermarket1.Seller$1.mouseClicked(Seller.java:111)\r\n\tat java.desktop/java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:278)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6629)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4584)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: ERROR 08004: Verbindung konnte nicht authentifiziert werden. Grund: Benutzer-ID oder Kennwort ung&#252;ltig.\r\n\tat org.apache.derby.client.net.NetConnection.mapSecchkcd(NetConnection.java:1158)\r\n\tat org.apache.derby.client.net.NetConnection.securityCheckComplete(NetConnection.java:947)\r\n\tat org.apache.derby.client.net.NetConnectionReply.parseSECCHKRM(NetConnectionReply.java:582)\r\n\tat org.apache.derby.client.net.NetConnectionReply.parseSECCHKreply(NetConnectionReply.java:235)\r\n\tat org.apache.derby.client.net.NetConnectionReply.readSecurityCheck(NetConnectionReply.java:74)\r\n\tat org.apache.derby.client.net.NetConnection.readSecurityCheckAndAccessRdb(NetConnection.java:787)\r\n\tat org.apache.derby.client.net.NetConnection.flowSecurityCheckAndAccessRdb(NetConnection.java:724)\r\n\tat org.apache.derby.client.net.NetConnection.flowUSRIDPWDconnect(NetConnection.java:553)\r\n\tat org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.java:355)\r\n\tat org.apache.derby.client.net.NetConnection.&lt;init&gt;(NetConnection.java:210)\r\n\tat org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newNetConnection(ClientJDBCObjectFactoryImpl.java:278)\r\n\tat org.apache.derby.client.ClientAutoloadedDriver.connect(ClientAutoloadedDriver.java:170)\r\n```\r\n\r\nFirst sentence of error message means:&#39;Connection could not be authenticated. Reason: user ID or password invalid. &#39;\r\nI don&#39;t know where to type in user id or password and the program doesn&#39;t ask me to as well.\r\nThe source code is underneath, any help would be greeeaaatlyy appreciated.\r\nSince im a total programming noob and im doing this after a yt-tutorial (https://www.youtube.com/watch?v=ByLOrDhn7B0&amp;t=15277s    timestamp: 1:26:00), there might be an easy answer to this problem.\r\n\r\n\r\n```java\r\npackage supermarket1;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.Statement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.SQLException;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class Seller extends javax.swing.JFrame {\r\n\r\n    \r\n    public Seller() {\r\n        initComponents();\r\n    }\r\nConnection Con = null;\r\nStatement St = null;\r\nResultSet Rs = null;\r\npublic void SelectSeller()\r\n{\r\n        try {\r\n            Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/SuperMarketdb&quot;,&quot;User1&quot;,&quot;1234&quot;);\r\n            St = Con.createStatement();\r\n            Rs = St.executeQuery(&quot;Select * from User1.SELLERTBL&quot;);\r\n            SellerTable.setModel(null);\r\n            \r\n        } catch (Exception e) {\r\n           e.printStackTrace();\r\n        }\r\n}\r\n    \r\n    \r\n    // &quot;Generated Code&quot;&gt;  is not shown here because of Redundancy                        \r\n    \r\n\r\n                               \r\n\r\n    private void DeleteBtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        \r\n    }                                         \r\n\r\n    private void ClearBtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n    }                                        \r\n\r\n    private void AddBtnMouseClicked(java.awt.event.MouseEvent evt) {                                    \r\n        \r\n        if(SellId.getText().isEmpty() || SellName.getText().isEmpty() || SellPas.getText().isEmpty() )\r\n        {\r\n            JOptionPane.showMessageDialog(this, &quot;Fehlende Informationen&quot;);\r\n        }\r\n        else{\r\n        try{\r\n    Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/SuperMarketdb&quot;,&quot;User1&quot;,&quot;1234&quot;);\r\n    PreparedStatement add = Con.prepareStatement(&quot;insert into SELLERTBL values(?,?,?,?)&quot;);\r\n    \r\n            add.setInt(1, Integer.valueOf(SellId.getText()));\r\n            add.setString(2, SellName.getText());\r\n            add.setString(3, SellPas.getText());\r\n            add.setString(4, GenderCb.getSelectedItem().toString());\r\n            int row = add.executeUpdate();\r\n            JOptionPane.showMessageDialog(this, &quot;Verk&#228;ufer erfolgreich hinzugef&#252;gt!&quot;);\r\n            \r\n        }catch(Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        }\r\n    }                                   \r\n\r\n    \r\n    public static void main(String args[]) {\r\n        \r\n        \r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new Seller().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton AddBtn;\r\n    private javax.swing.JButton ClearBtn;\r\n    private javax.swing.JButton DeleteBtn;\r\n    private javax.swing.JButton EditBtn;\r\n    private javax.swing.JComboBox&lt;String&gt; GenderCb;\r\n    private javax.swing.JTextField SellId;\r\n    private javax.swing.JTextField SellName;\r\n    private javax.swing.JTextField SellPas;\r\n    private javax.swing.JTable SellerTable;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel3;\r\n    private javax.swing.JLabel jLabel4;\r\n    private javax.swing.JLabel jLabel5;\r\n    private javax.swing.JLabel jLabel6;\r\n    private javax.swing.JLabel jLabel8;\r\n    private javax.swing.JLabel jLabel9;\r\n    private javax.swing.JPanel jPanel1;\r\n    private javax.swing.JPanel jPanel2;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\nI tried everything but since im not an expert I don&#39;t know where to start.","title":"I have this problem: java.sql.SQLNonTransientConnectionException: Connection could not be authenticated. Reason: User ID or password invalid","body":"<p>So as shown above I get this error message while trying to add values to my Java derby Database. Full error-message is as shown:\nrun:</p>\n<pre><code>    at java.sql.SQLNonTransientConnectionException: Verbindung konnte nicht authentifiziert werden. Grund: Benutzer-ID oder Kennwort ungÃ¼ltig.org.apache.derby.client.am.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:74)\n    at org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:325)\n    at org.apache.derby.client.ClientAutoloadedDriver.connect(ClientAutoloadedDriver.java:177)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\n    at supermarket1.Seller.AddBtnMouseClicked(Seller.java:294)\n    at supermarket1.Seller$1.mouseClicked(Seller.java:111)\n    at java.desktop/java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:278)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6629)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6391)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4584)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: ERROR 08004: Verbindung konnte nicht authentifiziert werden. Grund: Benutzer-ID oder Kennwort ungÃ¼ltig.\n    at org.apache.derby.client.net.NetConnection.mapSecchkcd(NetConnection.java:1158)\n    at org.apache.derby.client.net.NetConnection.securityCheckComplete(NetConnection.java:947)\n    at org.apache.derby.client.net.NetConnectionReply.parseSECCHKRM(NetConnectionReply.java:582)\n    at org.apache.derby.client.net.NetConnectionReply.parseSECCHKreply(NetConnectionReply.java:235)\n    at org.apache.derby.client.net.NetConnectionReply.readSecurityCheck(NetConnectionReply.java:74)\n    at org.apache.derby.client.net.NetConnection.readSecurityCheckAndAccessRdb(NetConnection.java:787)\n    at org.apache.derby.client.net.NetConnection.flowSecurityCheckAndAccessRdb(NetConnection.java:724)\n    at org.apache.derby.client.net.NetConnection.flowUSRIDPWDconnect(NetConnection.java:553)\n    at org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.java:355)\n    at org.apache.derby.client.net.NetConnection.&lt;init&gt;(NetConnection.java:210)\n    at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newNetConnection(ClientJDBCObjectFactoryImpl.java:278)\n    at org.apache.derby.client.ClientAutoloadedDriver.connect(ClientAutoloadedDriver.java:170)\n</code></pre>\n<p>First sentence of error message means:'Connection could not be authenticated. Reason: user ID or password invalid. '\nI don't know where to type in user id or password and the program doesn't ask me to as well.\nThe source code is underneath, any help would be greeeaaatlyy appreciated.\nSince im a total programming noob and im doing this after a yt-tutorial (<a href=\"https://www.youtube.com/watch?v=ByLOrDhn7B0&amp;t=15277s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ByLOrDhn7B0&amp;t=15277s</a>    timestamp: 1:26:00), there might be an easy answer to this problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package supermarket1;\n\nimport java.sql.Connection;\nimport java.sql.Statement;\nimport java.sql.ResultSet;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JOptionPane;\n\npublic class Seller extends javax.swing.JFrame {\n\n    \n    public Seller() {\n        initComponents();\n    }\nConnection Con = null;\nStatement St = null;\nResultSet Rs = null;\npublic void SelectSeller()\n{\n        try {\n            Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/SuperMarketdb&quot;,&quot;User1&quot;,&quot;1234&quot;);\n            St = Con.createStatement();\n            Rs = St.executeQuery(&quot;Select * from User1.SELLERTBL&quot;);\n            SellerTable.setModel(null);\n            \n        } catch (Exception e) {\n           e.printStackTrace();\n        }\n}\n    \n    \n    // &quot;Generated Code&quot;&gt;  is not shown here because of Redundancy                        \n    \n\n                               \n\n    private void DeleteBtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        \n    }                                         \n\n    private void ClearBtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n    }                                        \n\n    private void AddBtnMouseClicked(java.awt.event.MouseEvent evt) {                                    \n        \n        if(SellId.getText().isEmpty() || SellName.getText().isEmpty() || SellPas.getText().isEmpty() )\n        {\n            JOptionPane.showMessageDialog(this, &quot;Fehlende Informationen&quot;);\n        }\n        else{\n        try{\n    Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/SuperMarketdb&quot;,&quot;User1&quot;,&quot;1234&quot;);\n    PreparedStatement add = Con.prepareStatement(&quot;insert into SELLERTBL values(?,?,?,?)&quot;);\n    \n            add.setInt(1, Integer.valueOf(SellId.getText()));\n            add.setString(2, SellName.getText());\n            add.setString(3, SellPas.getText());\n            add.setString(4, GenderCb.getSelectedItem().toString());\n            int row = add.executeUpdate();\n            JOptionPane.showMessageDialog(this, &quot;VerkÃ¤ufer erfolgreich hinzugefÃ¼gt!&quot;);\n            \n        }catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n        }\n    }                                   \n\n    \n    public static void main(String args[]) {\n        \n        \n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Seller().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton AddBtn;\n    private javax.swing.JButton ClearBtn;\n    private javax.swing.JButton DeleteBtn;\n    private javax.swing.JButton EditBtn;\n    private javax.swing.JComboBox&lt;String&gt; GenderCb;\n    private javax.swing.JTextField SellId;\n    private javax.swing.JTextField SellName;\n    private javax.swing.JTextField SellPas;\n    private javax.swing.JTable SellerTable;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    private javax.swing.JLabel jLabel4;\n    private javax.swing.JLabel jLabel5;\n    private javax.swing.JLabel jLabel6;\n    private javax.swing.JLabel jLabel8;\n    private javax.swing.JLabel jLabel9;\n    private javax.swing.JPanel jPanel1;\n    private javax.swing.JPanel jPanel2;\n    private javax.swing.JScrollPane jScrollPane1;\n    // End of variables declaration                   \n}\n</code></pre>\n<p>I tried everything but since im not an expert I don't know where to start.</p>\n"},{"tags":["java","algorithm","bubble-sort"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672928399,"creation_date":1672928399,"answer_id":75019868,"question_id":75019505,"body_markdown":"You would need a second swap function:\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        // ... ...\r\n        // ... ...\r\n\r\n        sort(voteNumArray, voteNameArray); // Pass the second array too\r\n        displaySortedItems(voteNumArray);\r\n     }\r\n     public static void sort(int[] array, String[] names){\r\n        for (int i = 0; i &lt; (array.length-1);i++){\r\n            for(int j = 0; j &lt; (array.length - i -1);j++){\r\n                if(array[j] &lt; array[j+1]){\r\n                    swapInts(array,j);\r\n                    swapStrings(names,j); // Swap in second array too\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public static void swapInts(int[] array, int index){\r\n        int temp = array[index];\r\n        array[index] = array[index + 1];\r\n        array[index + 1] = temp;\r\n    }\r\n    public static void swapStrings(String[] array, int index){ // Extra swap function\r\n        String temp = array[index];\r\n        array[index] = array[index + 1];\r\n        array[index + 1] = temp;\r\n    }\r\n```","title":"Implementing a swap method in a bubble sort","body":"<p>You would need a second swap function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        // ... ...\n        // ... ...\n\n        sort(voteNumArray, voteNameArray); // Pass the second array too\n        displaySortedItems(voteNumArray);\n     }\n     public static void sort(int[] array, String[] names){\n        for (int i = 0; i &lt; (array.length-1);i++){\n            for(int j = 0; j &lt; (array.length - i -1);j++){\n                if(array[j] &lt; array[j+1]){\n                    swapInts(array,j);\n                    swapStrings(names,j); // Swap in second array too\n                }\n            }\n        }\n    }\n    public static void swapInts(int[] array, int index){\n        int temp = array[index];\n        array[index] = array[index + 1];\n        array[index + 1] = temp;\n    }\n    public static void swapStrings(String[] array, int index){ // Extra swap function\n        String temp = array[index];\n        array[index] = array[index + 1];\n        array[index + 1] = temp;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672929166,"creation_date":1672929166,"answer_id":75020024,"question_id":75019505,"body_markdown":"Bubble sort compares adjacent values and swaps if not in desired order so after every pass you will get largest/minimum(depending on implementation) value at the end of array.\r\n \r\nlet assume your array is having below values and you are sorting in ascending order - \r\n\r\n    2,5,1,7,4\r\n\r\nIn First pass, `i = 0` -\r\n1. It will compare 2,5 and 5 is greater than 2, so no swap.\r\n2. then it will compare 5,1 and 1 is smaller so it will swap and your array will become as below -\r\n\r\n    2,1,5,7,4\r\n\r\n3. compare 5,7 and no swap as 7 is greater.\r\n4. compare 7,4 and swap as 4 is smaller and your array will become -\r\n\r\n    2,5,1,4,7\r\n\r\nAfter second pass, `i = 1` -\r\n\r\n    2,1,4,5,7\r\n\r\nAfter third pass, `i = 2` -\r\n\r\n    1,2,4,5,7\r\n\r\nYour array is sorted now, but still it will complete rest 2 passes but wont do any swap.\r\n\r\nIn every iteration you gets largest(considering ascending sorting) number in the end and thats the reason you are doing `j &lt; array.length - i -1`, because you just need to sort remaining array.","title":"Implementing a swap method in a bubble sort","body":"<p>Bubble sort compares adjacent values and swaps if not in desired order so after every pass you will get largest/minimum(depending on implementation) value at the end of array.</p>\n<p>let assume your array is having below values and you are sorting in ascending order -</p>\n<pre><code>2,5,1,7,4\n</code></pre>\n<p>In First pass, <code>i = 0</code> -</p>\n<ol>\n<li><p>It will compare 2,5 and 5 is greater than 2, so no swap.</p>\n</li>\n<li><p>then it will compare 5,1 and 1 is smaller so it will swap and your array will become as below -</p>\n<p>2,1,5,7,4</p>\n</li>\n<li><p>compare 5,7 and no swap as 7 is greater.</p>\n</li>\n<li><p>compare 7,4 and swap as 4 is smaller and your array will become -</p>\n<p>2,5,1,4,7</p>\n</li>\n</ol>\n<p>After second pass, <code>i = 1</code> -</p>\n<pre><code>2,1,4,5,7\n</code></pre>\n<p>After third pass, <code>i = 2</code> -</p>\n<pre><code>1,2,4,5,7\n</code></pre>\n<p>Your array is sorted now, but still it will complete rest 2 passes but wont do any swap.</p>\n<p>In every iteration you gets largest(considering ascending sorting) number in the end and thats the reason you are doing <code>j &lt; array.length - i -1</code>, because you just need to sort remaining array.</p>\n"}],"owner":{"display_name":"user20758216"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75020024,"answer_count":2,"score":2,"last_activity_date":1673432208,"creation_date":1672926854,"question_id":75019505,"body_markdown":"I have a program that I have written that allows the user to enter some votes into a system. In the end, the number entered correlates to the person of that number. (0 = Ahmed, 1 = boo, etc)\r\n\r\n- 0 - Ahmed\r\n- 1 - Boo\r\n- 2 - Celine\r\n- 3 - Didi\r\n- 4 - Elaine\r\n\r\n*(current)At the end of the voting period the program will sort the votes in descending order and output them (once the user has entered -1).*\r\n\r\n*(future) the name of the candidate should be shown in this sorted list, e.g. ahmed - 5, celine - 4, didi -3, boo - 0, elaine - 0.*\r\n\r\nI have the code writing the sorted vote numbers, but I am struggling to understand how it works to implement the swap with the name array to produce the final result as listed before in **future**.\r\nCan anyone help with this? Below is my code:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            int[] NumArray = new int[5];\r\n            final int EXIT_CODE = -1;\r\n            displayInitialText();\r\n            int userInput = input.nextInt();\r\n            while (userInput != EXIT_CODE) {\r\n                if (userInput &gt;= 0 &amp;&amp; userInput &lt;= 4) {\r\n                    voteNumArray[userInput] = voteNumArray[userInput] + 1;\r\n                } else {\r\n                    System.out.println(&quot;\\n-----------------------&quot;);\r\n                    System.out.println(&quot;Invalid Vote - Please enter a number between 0-4&quot;);\r\n                    System.out.println(&quot;-----------------------\\n&quot;);\r\n                }\r\n        \r\n                userInput = input.nextInt();\r\n            }\r\n            sort(voteNumArray);\r\n            displaySortedItems(voteNumArray);\r\n        }\r\n ","title":"Implementing a swap method in a bubble sort","body":"<p>I have a program that I have written that allows the user to enter some votes into a system. In the end, the number entered correlates to the person of that number. (0 = Ahmed, 1 = boo, etc)</p>\n<ul>\n<li>0 - Ahmed</li>\n<li>1 - Boo</li>\n<li>2 - Celine</li>\n<li>3 - Didi</li>\n<li>4 - Elaine</li>\n</ul>\n<p><em>(current)At the end of the voting period the program will sort the votes in descending order and output them (once the user has entered -1).</em></p>\n<p><em>(future) the name of the candidate should be shown in this sorted list, e.g. ahmed - 5, celine - 4, didi -3, boo - 0, elaine - 0.</em></p>\n<p>I have the code writing the sorted vote numbers, but I am struggling to understand how it works to implement the swap with the name array to produce the final result as listed before in <strong>future</strong>.\nCan anyone help with this? Below is my code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        int[] NumArray = new int[5];\n        final int EXIT_CODE = -1;\n        displayInitialText();\n        int userInput = input.nextInt();\n        while (userInput != EXIT_CODE) {\n            if (userInput &gt;= 0 &amp;&amp; userInput &lt;= 4) {\n                voteNumArray[userInput] = voteNumArray[userInput] + 1;\n            } else {\n                System.out.println(&quot;\\n-----------------------&quot;);\n                System.out.println(&quot;Invalid Vote - Please enter a number between 0-4&quot;);\n                System.out.println(&quot;-----------------------\\n&quot;);\n            }\n    \n            userInput = input.nextInt();\n        }\n        sort(voteNumArray);\n        displaySortedItems(voteNumArray);\n    }\n</code></pre>\n"},{"tags":["java","uri"],"answers":[{"tags":[],"owner":{"account_id":27495287,"reputation":26,"user_id":20979896,"display_name":"Peruri Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673431891,"creation_date":1673431891,"answer_id":75081375,"question_id":74796677,"body_markdown":"It is possible to have request mapping in both application and controller class. Go through the documentation which is attached below once for having better understanding.\r\n* https://zetcode.com/spring/requestmapping/","title":"SpringBoot with RequestMapping on Application and another RequestMapping in controller classes, is that possible?","body":"<p>It is possible to have request mapping in both application and controller class. Go through the documentation which is attached below once for having better understanding.</p>\n<ul>\n<li><a href=\"https://zetcode.com/spring/requestmapping/\" rel=\"nofollow noreferrer\">https://zetcode.com/spring/requestmapping/</a></li>\n</ul>\n"}],"owner":{"account_id":9609508,"reputation":1,"user_id":7134371,"display_name":"PatrikI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673431891,"creation_date":1671013067,"question_id":74796677,"body_markdown":"I am learing SpringBoot and Rest api just now and in all examples I have seen, in every controller classes they have a @RequestMapping(&quot;/api/v1&quot;) and then some @GetMapping or simular. \r\nBut it feels like why am I writing a RequestMapping for every controller if the first URI mapping is the same for all controllers. \r\n\r\nIs it possible to have a @RequestMapping in the SpringBootApplication that maps &quot;/api/v1&quot; and then in the controller classes then have another &#174;RequestMapping for subfolders like &quot;/products&quot; and simular.\r\n\r\nI have tried to solve this, but I cant make it function. \r\n\r\n\r\n```\r\n\r\n```\r\n```\r\n@SpringBootApplication\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class CommonApplication {\r\n\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(CommonApplication.class, args);\r\n   }\r\n}\r\n```\r\n```\r\n\r\n\r\n```\r\n```\r\n@RestController\r\n@RequestMapping()\r\npublic class ProductController {\r\n\r\n    private ProductService productService;\r\n\r\n    @GetMapping(&quot;/products&quot;)\r\n    public String getProducts()\r\n    {\r\n        return &quot;Hello from getProducts 12&quot;;\r\n    }\r\n}\r\n```\r\n```\r\n\r\n```\r\n\r\n\r\nI want this full URI &quot;/api/v1/products&quot; to function and return the String text. But I only get 404.","title":"SpringBoot with RequestMapping on Application and another RequestMapping in controller classes, is that possible?","body":"<p>I am learing SpringBoot and Rest api just now and in all examples I have seen, in every controller classes they have a @RequestMapping(&quot;/api/v1&quot;) and then some @GetMapping or simular.\nBut it feels like why am I writing a RequestMapping for every controller if the first URI mapping is the same for all controllers.</p>\n<p>Is it possible to have a @RequestMapping in the SpringBootApplication that maps &quot;/api/v1&quot; and then in the controller classes then have another Â®RequestMapping for subfolders like &quot;/products&quot; and simular.</p>\n<p>I have tried to solve this, but I cant make it function.</p>\n<pre><code>\n</code></pre>\n<pre><code>@SpringBootApplication\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class CommonApplication {\n\n   public static void main(String[] args) {\n      SpringApplication.run(CommonApplication.class, args);\n   }\n}\n</code></pre>\n<pre><code>\n\n</code></pre>\n<pre><code>@RestController\n@RequestMapping()\npublic class ProductController {\n\n    private ProductService productService;\n\n    @GetMapping(&quot;/products&quot;)\n    public String getProducts()\n    {\n        return &quot;Hello from getProducts 12&quot;;\n    }\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<p>I want this full URI &quot;/api/v1/products&quot; to function and return the String text. But I only get 404.</p>\n"},{"tags":["java","eclipse","egit","jgit"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1357579979,"creation_date":1300345792,"answer_id":5335941,"question_id":5335804,"body_markdown":"You can use JGit as standalone library, but, as mentioned in the [JGit Homepage][1]:\r\n\r\n&gt;JGit can be found within:  \r\n* EGit, Eclipse team provider for Git\r\n\r\nIn that sense, JGit is connected to Eclipse in that EGit uses JGit features to develop the Eclipse Git plugin.  \r\nConsidering all Eclipse projects are now versioned in Git repos (instead of previously CVS repos), I would consider JGit for your Java project, as it seems that:\r\n\r\n- JavaGit isn&#39;t updated for quite some time (2008)\r\n- Eclipse is committed to offer a good support for Git through EGit, which should ensure by extension the development of JGit (used by EGit).\r\n\r\n-----\r\n\r\n[Thorbj&#248;rn Ravn Andersen][2] comments:\r\n\r\n&gt; Even though you say that Egit uses JGit, it is not quite clear in the above that EGit is an Eclipse plugin for git giving git support in the same way that CVS is already supported in Eclipse\r\n\r\nThe migration of Eclipse projects [from CVS to Git is in progress][3], and [has been reported here][4] (by Chris Aniszczyk).  \r\n\r\n&gt; Iâ€™ve monitored conversations concerning the migration of project code from CVS to Git in the dev-lists of several projects.  \r\nMost developers, it seems, understand the value proposition of migrating, despite their concerns that with migration comes a whole lot of new learninâ€™ as they figure out how to say productive in the new environment.\r\n\r\n&gt; Inevitably, discussion about the team provider for Git being developed by the EGit project becomes an prominent part of the conversation. â€œIs EGit ready for primetime?â€ is often the question that bounced around\r\n\r\nThe official bug illustrated Eclipse commitment to provide &quot;adequate tooling support&quot; for all Eclipse projects now on Git repo is the [bug 293192][5].\r\n\r\n&gt; In order to deprecate old VCS in favour of git ([bug 270854][6]), adequate tooling\r\nshould be available.  This bug is created to track that.  \r\n\\[...\\] I opened/linked relevant **EGit bugs** in order to have a better visibility/tracking\r\nof what&#39;s missing.\r\n\r\nSo Egit is the only project referenced in that bug to provide said adequate tooling support for the new (D)VCS chosen for all Eclipse projects.\r\n\r\n([bug 270854][7] is about **Deprecate old VCS tools**, which includes essentially CVS.)\r\n\r\n----\r\n\r\nJust in (March 17th, 2001): **[The State of Git at Eclipse â€“ Early 2011][8]** ([Chris Aniszczyk][9]):\r\n\r\n&gt; Iâ€™m happy that things have come quite a long way since last year based on Eclipse Marketplace stats and the community contributions the projects have received.\r\n\r\n![EGit installation rate][10]\r\n\r\n&gt; So whatâ€™s next? In terms of tooling, weâ€™re getting closer to our 1.0 release (which is planned for the Indigo release).  \r\nThe git tooling at Eclipse is much better these days, if you need help or have questions, please start with the most excellent **[EGit User Guide][11]**.\r\n\r\n&gt; If youâ€™re an `eclipse.org` project, please consider starting the process to move your project repository to Git. **[There are a lot of eclipse.org projects already on Git][12]**.  \r\nIt would be nice to see the all of the eclipse.org projects have plans to move to Git by the Indigo release.\r\n\r\n\r\n  [1]: http://www.eclipse.org/jgit/\r\n  [2]: https://stackoverflow.com/users/53897/thorbjorn-ravn-andersen\r\n  [3]: http://wiki.eclipse.org/Git/Migrating_to_Git\r\n  [4]: http://waynebeaton.wordpress.com/2011/02/15/projects-movin-to-gitegit/\r\n  [5]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=293192\r\n  [6]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=270854\r\n  [7]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=270854\r\n  [8]: http://aniszczyk.org/2011/03/17/the-state-of-git-at-eclipse-early-2011/\r\n  [9]: http://aniszczyk.org/about/\r\n  [10]: http://i.stack.imgur.com/JbK9L.png\r\n  [11]: http://wiki.eclipse.org/EGit/User_Guide\r\n  [12]: http://git.eclipse.org/c/","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>You can use JGit as standalone library, but, as mentioned in the <a href=\"http://www.eclipse.org/jgit/\" rel=\"noreferrer\">JGit Homepage</a>:</p>\n\n<blockquote>\n  <p>JGit can be found within:<br>\n  * EGit, Eclipse team provider for Git</p>\n</blockquote>\n\n<p>In that sense, JGit is connected to Eclipse in that EGit uses JGit features to develop the Eclipse Git plugin.<br>\nConsidering all Eclipse projects are now versioned in Git repos (instead of previously CVS repos), I would consider JGit for your Java project, as it seems that:</p>\n\n<ul>\n<li>JavaGit isn't updated for quite some time (2008)</li>\n<li>Eclipse is committed to offer a good support for Git through EGit, which should ensure by extension the development of JGit (used by EGit).</li>\n</ul>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/users/53897/thorbjorn-ravn-andersen\">ThorbjÃ¸rn Ravn Andersen</a> comments:</p>\n\n<blockquote>\n  <p>Even though you say that Egit uses JGit, it is not quite clear in the above that EGit is an Eclipse plugin for git giving git support in the same way that CVS is already supported in Eclipse</p>\n</blockquote>\n\n<p>The migration of Eclipse projects <a href=\"http://wiki.eclipse.org/Git/Migrating_to_Git\" rel=\"noreferrer\">from CVS to Git is in progress</a>, and <a href=\"http://waynebeaton.wordpress.com/2011/02/15/projects-movin-to-gitegit/\" rel=\"noreferrer\">has been reported here</a> (by Chris Aniszczyk).  </p>\n\n<blockquote>\n  <p>Iâ€™ve monitored conversations concerning the migration of project code from CVS to Git in the dev-lists of several projects.<br>\n  Most developers, it seems, understand the value proposition of migrating, despite their concerns that with migration comes a whole lot of new learninâ€™ as they figure out how to say productive in the new environment.</p>\n  \n  <p>Inevitably, discussion about the team provider for Git being developed by the EGit project becomes an prominent part of the conversation. â€œIs EGit ready for primetime?â€ is often the question that bounced around</p>\n</blockquote>\n\n<p>The official bug illustrated Eclipse commitment to provide \"adequate tooling support\" for all Eclipse projects now on Git repo is the <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=293192\" rel=\"noreferrer\">bug 293192</a>.</p>\n\n<blockquote>\n  <p>In order to deprecate old VCS in favour of git (<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=270854\" rel=\"noreferrer\">bug 270854</a>), adequate tooling\n  should be available.  This bug is created to track that.<br>\n  [...] I opened/linked relevant <strong>EGit bugs</strong> in order to have a better visibility/tracking\n  of what's missing.</p>\n</blockquote>\n\n<p>So Egit is the only project referenced in that bug to provide said adequate tooling support for the new (D)VCS chosen for all Eclipse projects.</p>\n\n<p>(<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=270854\" rel=\"noreferrer\">bug 270854</a> is about <strong>Deprecate old VCS tools</strong>, which includes essentially CVS.)</p>\n\n<hr>\n\n<p>Just in (March 17th, 2001): <strong><a href=\"http://aniszczyk.org/2011/03/17/the-state-of-git-at-eclipse-early-2011/\" rel=\"noreferrer\">The State of Git at Eclipse â€“ Early 2011</a></strong> (<a href=\"http://aniszczyk.org/about/\" rel=\"noreferrer\">Chris Aniszczyk</a>):</p>\n\n<blockquote>\n  <p>Iâ€™m happy that things have come quite a long way since last year based on Eclipse Marketplace stats and the community contributions the projects have received.</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/JbK9L.png\" alt=\"EGit installation rate\"></p>\n\n<blockquote>\n  <p>So whatâ€™s next? In terms of tooling, weâ€™re getting closer to our 1.0 release (which is planned for the Indigo release).<br>\n  The git tooling at Eclipse is much better these days, if you need help or have questions, please start with the most excellent <strong><a href=\"http://wiki.eclipse.org/EGit/User_Guide\" rel=\"noreferrer\">EGit User Guide</a></strong>.</p>\n  \n  <p>If youâ€™re an <code>eclipse.org</code> project, please consider starting the process to move your project repository to Git. <strong><a href=\"http://git.eclipse.org/c/\" rel=\"noreferrer\">There are a lot of eclipse.org projects already on Git</a></strong>.<br>\n  It would be nice to see the all of the eclipse.org projects have plans to move to Git by the Indigo release.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":241650,"reputation":2461,"user_id":512605,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1301338701,"creation_date":1301338701,"answer_id":5463711,"question_id":5335804,"body_markdown":"Just to chime in, as I just stumbled on this this question just now.  \r\n\r\nThere is a difference between the Eclipse Foundation and the Eclipse IDE.  The Foundation is the umbrella organization, while the IDE is one of the projects developed through the foundation.  So, the important thing to know is that just as Apache started with the web server and branched out to become a Foundation hosting a number of projects, so has the Eclipse Foundation now expanded beyond its &quot;roots&quot; in the IDE. \r\n\r\nSo in this context the JGit code provides a Java API for git commands, while EGit uses JGit to provide git support for the Eclipse IDE.\r\n\r\nPersonally, I also find this a little confusing at times, and sometimes it almost seems that having so much going on has in some ways degraded the focus of these organizations; however I can also see the utility in having one umbrella organization instead of 20 similar but different organizations.","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>Just to chime in, as I just stumbled on this this question just now.  </p>\n\n<p>There is a difference between the Eclipse Foundation and the Eclipse IDE.  The Foundation is the umbrella organization, while the IDE is one of the projects developed through the foundation.  So, the important thing to know is that just as Apache started with the web server and branched out to become a Foundation hosting a number of projects, so has the Eclipse Foundation now expanded beyond its \"roots\" in the IDE. </p>\n\n<p>So in this context the JGit code provides a Java API for git commands, while EGit uses JGit to provide git support for the Eclipse IDE.</p>\n\n<p>Personally, I also find this a little confusing at times, and sometimes it almost seems that having so much going on has in some ways degraded the focus of these organizations; however I can also see the utility in having one umbrella organization instead of 20 similar but different organizations.</p>\n"},{"tags":[],"owner":{"account_id":274741,"reputation":648,"user_id":567158,"display_name":"Chris Aniszczyk"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1311262449,"creation_date":1311262449,"answer_id":6778687,"question_id":5335804,"body_markdown":"As one of the authors of JGit and EGit, sorry for the confusion.\r\n\r\n[JGit][1] is an EDL (new-style BSD) licensed, lightweight, pure Java library implementing the Git version control system. It can be used in a standalone fashion and is embedded in applications such as Gerrit, Eclipse, Netbeans and IntelliJ. [EGit][2] embeds JGit to use it to work with Git repositories and expose Git constructs from within Eclipse. At the moment, JGit doesn&#39;t support the git-bundle command but you&#39;re welcome to contribute support, it shouldn&#39;t be that hard, please see our contributor guide.\r\n\r\n\r\n  [1]: http://eclipse.org/jgit\r\n  [2]: http://eclipse.org/egit","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>As one of the authors of JGit and EGit, sorry for the confusion.</p>\n\n<p><a href=\"http://eclipse.org/jgit\">JGit</a> is an EDL (new-style BSD) licensed, lightweight, pure Java library implementing the Git version control system. It can be used in a standalone fashion and is embedded in applications such as Gerrit, Eclipse, Netbeans and IntelliJ. <a href=\"http://eclipse.org/egit\">EGit</a> embeds JGit to use it to work with Git repositories and expose Git constructs from within Eclipse. At the moment, JGit doesn't support the git-bundle command but you're welcome to contribute support, it shouldn't be that hard, please see our contributor guide.</p>\n"},{"tags":[],"owner":{"account_id":1020818,"reputation":19978,"user_id":1031218,"accept_rate":53,"display_name":"linquize"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345992689,"creation_date":1345992689,"answer_id":12131077,"question_id":5335804,"body_markdown":"JGit is a library to manipulate git repository. You do not use JGit alone, unless you write a program to manipulate git repository in the way you like.\r\n\r\nIf you use Eclipse as the IDE, you install EGit as a version control plugin (defaulted in Indigo). EGit calls JGit so you also have JGit installed if you install EGit.\r\n\r\nNote, for Netbeans, you install NBGit as a version control plugin. NBGit also calls JGit.\r\n\r\nJavaGit: not actively maintained?","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>JGit is a library to manipulate git repository. You do not use JGit alone, unless you write a program to manipulate git repository in the way you like.</p>\n\n<p>If you use Eclipse as the IDE, you install EGit as a version control plugin (defaulted in Indigo). EGit calls JGit so you also have JGit installed if you install EGit.</p>\n\n<p>Note, for Netbeans, you install NBGit as a version control plugin. NBGit also calls JGit.</p>\n\n<p>JavaGit: not actively maintained?</p>\n"},{"tags":[],"owner":{"account_id":698484,"reputation":264,"user_id":584937,"display_name":"Matthias Sohn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673431676,"creation_date":1346489872,"answer_id":12226383,"question_id":5335804,"body_markdown":"JGit is git implemented from scratch as a Java library whereas JavaGit is (was ?) a Java API wrapping the native git implementation (i.e. it&#39;s calling the native git command line).\r\n\r\nEGit is the Git Eclipse Team Provider integrating JGit into the Eclipse IDE and is providing the UI to work with Git from inside Eclipse.\r\n\r\nIn the meantime a large part of the Eclipse community and also a large number of corporate developers is using EGit/JGit (that&#39;s the reason why the companies backing these projects put money into that). See the project pages ([\\[1\\]][1], [\\[2\\]][2])  and [ohloh][3] if you want to get some insight who is contributing.\r\n\r\n\r\n  [1]: http://www.eclipse.org/projects/project.php?id=technology.jgit\r\n  [2]: http://www.eclipse.org/projects/project.php?id=technology.egit\r\n  [3]: https://web.archive.org/web/20130209005936/http://www.ohloh.net/p/egit","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>JGit is git implemented from scratch as a Java library whereas JavaGit is (was ?) a Java API wrapping the native git implementation (i.e. it's calling the native git command line).</p>\n<p>EGit is the Git Eclipse Team Provider integrating JGit into the Eclipse IDE and is providing the UI to work with Git from inside Eclipse.</p>\n<p>In the meantime a large part of the Eclipse community and also a large number of corporate developers is using EGit/JGit (that's the reason why the companies backing these projects put money into that). See the project pages (<a href=\"http://www.eclipse.org/projects/project.php?id=technology.jgit\" rel=\"nofollow noreferrer\">[1]</a>, <a href=\"http://www.eclipse.org/projects/project.php?id=technology.egit\" rel=\"nofollow noreferrer\">[2]</a>)  and <a href=\"https://web.archive.org/web/20130209005936/http://www.ohloh.net/p/egit\" rel=\"nofollow noreferrer\">ohloh</a> if you want to get some insight who is contributing.</p>\n"},{"tags":[],"owner":{"account_id":2221746,"reputation":1285,"user_id":1960964,"accept_rate":77,"display_name":"chammu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479443194,"creation_date":1479443194,"answer_id":40669373,"question_id":5335804,"body_markdown":"JGit is the Java implementation of Git. It is a library, that also can be used in your own applications. It also provides some sort of CLI operations.\r\nEGit on the other side is the Eclipse team provider plugin for Git, which uses JGit as Git implementation. Simplified you could say EGit is the UI part, and JGit the background part.\r\nJGit doesn&#39;t depend on EGit, but EGit does depend on JGit.\r\n\r\nFrom: https://www.eclipse.org/forums/index.php/t/273443/","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>JGit is the Java implementation of Git. It is a library, that also can be used in your own applications. It also provides some sort of CLI operations.\nEGit on the other side is the Eclipse team provider plugin for Git, which uses JGit as Git implementation. Simplified you could say EGit is the UI part, and JGit the background part.\nJGit doesn't depend on EGit, but EGit does depend on JGit.</p>\n\n<p>From: <a href=\"https://www.eclipse.org/forums/index.php/t/273443/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php/t/273443/</a></p>\n"}],"owner":{"account_id":87775,"reputation":17894,"user_id":243233,"accept_rate":75,"display_name":"Jus12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47835,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":5335941,"answer_count":6,"score":87,"last_activity_date":1673431676,"creation_date":1300344741,"question_id":5335804,"body_markdown":"I am making a Java application that uses Git. I found that there is something called\r\n[JavaGit][1], [EGit][2] and [JGit][3].\r\n\r\nI know that JavaGit and EGit/JGit are different. What I don&#39;t understand is the difference between EGit and JGit. Both are hosted on Eclipse projects but one seems to be Eclipse related and the other not. \r\n\r\nI don&#39;t use Eclipse and I don&#39;t plan to, so I really don&#39;t care much about &quot;Eclipse integration&quot;. \r\n\r\nIs JGit somehow connected to Eclipse? (It is hosted on www.eclipse.org, and the [documentation][4] of JGit also has a lot of &quot;eclipse&quot; keywords inside)\r\n\r\n\r\nOut of the three, what will I need to connect my Java program (not written in Eclipse) to work with Git repositories?  \r\n\r\nI would prefer a standalone Git library (i.e., without depending on a local Git installation)\r\n\r\nEDIT: One more question:\r\n\r\n- Does JGit support [Git bundle command][5]? \r\n\r\nEDIT: I found the answer -- it does (haven&#39;t tried it yet). It is in `transport` package in a class called `BundleWriter`\r\n\r\n  [1]: http://javagit.sourceforge.net/\r\n  [2]: http://eclipse.org/egit/\r\n  [3]: http://www.eclipse.org/jgit/\r\n  [4]: http://wiki.eclipse.org/JGit/User_Guide\r\n  [5]: ftp://ftp.kernel.org/pub/software/scm/git/docs/v1.7.3.4/git-bundle.html","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>I am making a Java application that uses Git. I found that there is something called\n<a href=\"http://javagit.sourceforge.net/\" rel=\"noreferrer\">JavaGit</a>, <a href=\"http://eclipse.org/egit/\" rel=\"noreferrer\">EGit</a> and <a href=\"http://www.eclipse.org/jgit/\" rel=\"noreferrer\">JGit</a>.</p>\n\n<p>I know that JavaGit and EGit/JGit are different. What I don't understand is the difference between EGit and JGit. Both are hosted on Eclipse projects but one seems to be Eclipse related and the other not. </p>\n\n<p>I don't use Eclipse and I don't plan to, so I really don't care much about \"Eclipse integration\". </p>\n\n<p>Is JGit somehow connected to Eclipse? (It is hosted on www.eclipse.org, and the <a href=\"http://wiki.eclipse.org/JGit/User_Guide\" rel=\"noreferrer\">documentation</a> of JGit also has a lot of \"eclipse\" keywords inside)</p>\n\n<p>Out of the three, what will I need to connect my Java program (not written in Eclipse) to work with Git repositories?  </p>\n\n<p>I would prefer a standalone Git library (i.e., without depending on a local Git installation)</p>\n\n<p>EDIT: One more question:</p>\n\n<ul>\n<li>Does JGit support <a href=\"ftp://ftp.kernel.org/pub/software/scm/git/docs/v1.7.3.4/git-bundle.html\" rel=\"noreferrer\">Git bundle command</a>? </li>\n</ul>\n\n<p>EDIT: I found the answer -- it does (haven't tried it yet). It is in <code>transport</code> package in a class called <code>BundleWriter</code></p>\n"},{"tags":["java","android","zip"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1413873562,"post_id":25594792,"comment_id":41596799,"body_markdown":"I guess you should call `stream.flush();` before closing the stream.","body":"I guess you should call <code>stream.flush();</code> before closing the stream."},{"owner":{"account_id":2644962,"reputation":546,"user_id":2287859,"accept_rate":58,"display_name":"nemezis"},"score":0,"creation_date":1413873725,"post_id":25594792,"comment_id":41596870,"body_markdown":"I have added stream.flush(); after stream.finish() - still receiving corrupted zip files sometimes.","body":"I have added stream.flush(); after stream.finish() - still receiving corrupted zip files sometimes."},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1413884651,"post_id":25594792,"comment_id":41602229,"body_markdown":"Is it possible to ge an example of such corrupted zip file?","body":"Is it possible to ge an example of such corrupted zip file?"}],"answers":[{"tags":[],"owner":{"account_id":126262,"reputation":39126,"user_id":322642,"accept_rate":73,"display_name":"ligi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1413664083,"creation_date":1413664083,"answer_id":26444235,"question_id":25594792,"body_markdown":"You might consider using the zip4j lib. I solved the problem I had ( same problem - different direction ) by using this lib. Some zip-files where not decodeable with the native android implementation, but with zip4j. You might also solve your problem by using zip4j for compression.","title":"ZipOutputStream produces corrupted zip file on Android","body":"<p>You might consider using the zip4j lib. I solved the problem I had ( same problem - different direction ) by using this lib. Some zip-files where not decodeable with the native android implementation, but with zip4j. You might also solve your problem by using zip4j for compression.</p>\n"},{"tags":[],"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413852002,"creation_date":1413850702,"answer_id":26477023,"question_id":25594792,"body_markdown":"Here&#39;s some code to zip a directory into a file using only the java standard classes. With this you can just call: \r\n\r\n    ZipUtils.zip(sourceDirectory, targetFile);\r\n    ZipUtils.unzip(sourceFile, targetDirectory);\r\n\r\nCode:\r\n\r\n\tpackage com.my.project.utils.zip;\r\n\r\n\timport java.io.IOException;\r\n\timport java.nio.file.FileVisitResult;\r\n\timport java.nio.file.Files;\r\n\timport java.nio.file.Path;\r\n\timport java.nio.file.SimpleFileVisitor;\r\n\timport java.nio.file.attribute.BasicFileAttributes;\r\n\timport java.util.zip.ZipEntry;\r\n\timport java.util.zip.ZipOutputStream;\r\n\r\n\tpublic class ZipUtils {\r\n\r\n\t\tpublic static void unzip(Path sourceFile, Path targetPath) throws IOException {\r\n\t\t\ttry (ZipInputStream zipInStream = new ZipInputStream(Files.newInputStream(sourceFile))){\r\n\t\t\t\tbyte[] buffer = new byte[1024];\r\n\t\t\t\tFiles.createDirectories(targetPath);\r\n\r\n\t\t\t\tZipEntry entry = null;\r\n\r\n\t\t\t\twhile ((entry = zipInStream.getNextEntry()) != null){\r\n\t\t\t\t\tPath entryPath = targetPath.resolve(entry.getName());\r\n\t\t\t\t\tFiles.createDirectories(entryPath.getParent());\r\n\t\t\t\t\tFiles.copy(zipInStream, entryPath);\r\n\t\t\t\t\tzipInStream.closeEntry();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} \r\n\r\n\t\tpublic static void zip(Path sourcePath, Path targetFile) throws IOException {\r\n\t\t\ttry (ZipOutputStream zipOutStream = new ZipOutputStream(Files.newOutputStream(targetFile))){\r\n\t\t\t\tif (Files.isDirectory(sourcePath)){\r\n\t\t\t\t\tzipDirectory(zipOutStream, sourcePath);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcreateZipEntry(zipOutStream, sourcePath, sourcePath);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate static void zipDirectory(ZipOutputStream zip, Path source) throws IOException {\r\n\t\t\tFiles.walkFileTree(source, new SimpleFileVisitor&lt;Path&gt;(){\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\r\n\t\t\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t\t\t}    \t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\r\n\t\t\t\t\tcreateZipEntry(zip, source, path);\r\n\t\t\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}    \r\n\r\n\t\tprivate static void createZipEntry(ZipOutputStream zip, Path sourcePath, Path path) throws IOException {\r\n\t\t\tZipEntry entry = new ZipEntry(sourcePath.relativize(path).toString());\r\n\t\t\tzip.putNextEntry(entry);\r\n\t\t\tFiles.copy(path,zip);\r\n\t\t\tzip.closeEntry();\r\n\t\t}\r\n\t}\r\n","title":"ZipOutputStream produces corrupted zip file on Android","body":"<p>Here's some code to zip a directory into a file using only the java standard classes. With this you can just call: </p>\n\n<pre><code>ZipUtils.zip(sourceDirectory, targetFile);\nZipUtils.unzip(sourceFile, targetDirectory);\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>package com.my.project.utils.zip;\n\nimport java.io.IOException;\nimport java.nio.file.FileVisitResult;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.SimpleFileVisitor;\nimport java.nio.file.attribute.BasicFileAttributes;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class ZipUtils {\n\n    public static void unzip(Path sourceFile, Path targetPath) throws IOException {\n        try (ZipInputStream zipInStream = new ZipInputStream(Files.newInputStream(sourceFile))){\n            byte[] buffer = new byte[1024];\n            Files.createDirectories(targetPath);\n\n            ZipEntry entry = null;\n\n            while ((entry = zipInStream.getNextEntry()) != null){\n                Path entryPath = targetPath.resolve(entry.getName());\n                Files.createDirectories(entryPath.getParent());\n                Files.copy(zipInStream, entryPath);\n                zipInStream.closeEntry();\n            }\n        }\n    } \n\n    public static void zip(Path sourcePath, Path targetFile) throws IOException {\n        try (ZipOutputStream zipOutStream = new ZipOutputStream(Files.newOutputStream(targetFile))){\n            if (Files.isDirectory(sourcePath)){\n                zipDirectory(zipOutStream, sourcePath);\n            } else {\n                createZipEntry(zipOutStream, sourcePath, sourcePath);\n            }\n        }\n    }\n\n    private static void zipDirectory(ZipOutputStream zip, Path source) throws IOException {\n        Files.walkFileTree(source, new SimpleFileVisitor&lt;Path&gt;(){\n            @Override\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\n                return FileVisitResult.CONTINUE;\n            }           \n            @Override\n            public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\n                createZipEntry(zip, source, path);\n                return FileVisitResult.CONTINUE;\n            }\n        });\n    }    \n\n    private static void createZipEntry(ZipOutputStream zip, Path sourcePath, Path path) throws IOException {\n        ZipEntry entry = new ZipEntry(sourcePath.relativize(path).toString());\n        zip.putNextEntry(entry);\n        Files.copy(path,zip);\n        zip.closeEntry();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7560629,"reputation":1,"user_id":5738371,"display_name":"Will Yuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673431415,"creation_date":1673431372,"answer_id":75081255,"question_id":25594792,"body_markdown":"some file that is certain length, will make that problem.\r\nto solve that, before finish() and close(), you should call flush().","title":"ZipOutputStream produces corrupted zip file on Android","body":"<p>some file that is certain length, will make that problem.\nto solve that, before finish() and close(), you should call flush().</p>\n"}],"owner":{"account_id":2644962,"reputation":546,"user_id":2287859,"accept_rate":58,"display_name":"nemezis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2036,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26444235,"answer_count":3,"score":4,"last_activity_date":1673431415,"creation_date":1409508358,"question_id":25594792,"body_markdown":"I&#39;ve implemented backup of user data from the app using zip archive, I am copying database and shared preferences files to zip archive and calculating MD5 checksum of input files to prevent user from modifying backup data. \r\n\r\nTo restore from archive I unzip backup file to temporary directory, check checksums and then copy preferences \\ database file in the according folders. \r\n\r\nSome of my users are complaining that the app generates corrupted backup files (zip files are indeed corrupted).\r\n\r\nHere is code that compresses all files to zip file:\r\n\r\n    \r\n   \r\n\r\n    public void backup(String filename) {\r\n        File file = new File(getBackupDirectory(), filename);\r\n        FileOutputStream fileOutputStream = null;\r\n        ZipOutputStream stream = null;\r\n        try {\r\n            String settingsMD5 = null;\r\n            String databaseMD5 = null;\r\n            if (file.exists())\r\n                file.delete();\r\n            fileOutputStream = new FileOutputStream(file);\r\n            stream = new ZipOutputStream(new BufferedOutputStream(fileOutputStream));\r\n            File database = getDatabasePath(databaseFileName);\r\n            File dataDirectory = getFilesDir();\r\n            if (dataDirectory != null) {\r\n                File settings = new File(dataDirectory.getParentFile(), &quot;/shared_prefs/&quot; + PREFERENCES_FILENAME);\r\n                settingsMD5 = zipFile(&quot;preferences&quot;, stream, settings);\r\n            }\r\n            databaseMD5 = zipFile(&quot;database.db&quot;, stream, database);\r\n    \r\n            JSONObject jsonObject = new JSONObject();\r\n            try {\r\n                jsonObject.put(META_DATE, new SimpleDateFormat(DATE_FORMAT, Locale.US).format(new Date()));\r\n                jsonObject.put(META_DATABASE, databaseMD5);\r\n                jsonObject.put(META_SHARED_PREFS, settingsMD5);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            InputStream metadata = new ByteArrayInputStream(jsonObject.toString().getBytes(&quot;UTF-8&quot;));\r\n            zipInputStream(stream, metadata, new ZipEntry(&quot;metadata&quot;));\r\n            stream.finish();\r\n            stream.close();\r\n            stream = null;\r\n            return file;\r\n        } catch (FileNotFoundException e) {\r\n         //handling errrors\r\n        } catch (IOException e) {\r\n         //handling errrors\r\n        } \r\n    }\r\n\r\n    private String zipFile(String name, ZipOutputStream zipStream, File file) throws FileNotFoundException, IOException {\r\n            ZipEntry zipEntry = new ZipEntry(name);\r\n            return zipInputStream(zipStream, new FileInputStream(file), zipEntry);\r\n        }\r\n    \r\n    private String zipInputStream(ZipOutputStream zipStream, InputStream fileInputStream, ZipEntry zipEntry) throws IOException {\r\n        InputStream inputStream = new BufferedInputStream(fileInputStream);\r\n        MessageDigest messageDigest = null;\r\n        try {\r\n            messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            if (messageDigest != null)\r\n                inputStream = new DigestInputStream(inputStream, messageDigest);\r\n        } catch (NoSuchAlgorithmException e) {\r\n        }\r\n    \r\n        zipStream.putNextEntry(zipEntry);\r\n        inputToOutput(inputStream, zipStream);\r\n        zipStream.closeEntry();\r\n        inputStream.close();\r\n    \r\n        if (messageDigest != null) {\r\n            return getDigestString(messageDigest.digest());\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private String getDigestString(byte[] digest) {\r\n        StringBuffer hexString = new StringBuffer();\r\n        for (int i = 0; i &lt; digest.length; i++) {\r\n            String hex = Integer.toHexString(0xFF &amp; digest[i]);\r\n            if (hex.length() == 1) {\r\n                hex = new StringBuilder(&quot;0&quot;).append(hex).toString();\r\n            }\r\n            hexString.append(hex);\r\n        }\r\n        return hexString.toString();\r\n    }\r\n\r\n    private void inputToOutput(InputStream inputStream, OutputStream outputStream) throws IOException {\r\n        byte[] buffer = new byte[BUFFER];\r\n        int count = 0;\r\n        while ((count = inputStream.read(buffer, 0, BUFFER)) != -1) {\r\n            outputStream.write(buffer, 0, count);\r\n        }\r\n    }","title":"ZipOutputStream produces corrupted zip file on Android","body":"<p>I've implemented backup of user data from the app using zip archive, I am copying database and shared preferences files to zip archive and calculating MD5 checksum of input files to prevent user from modifying backup data. </p>\n\n<p>To restore from archive I unzip backup file to temporary directory, check checksums and then copy preferences \\ database file in the according folders. </p>\n\n<p>Some of my users are complaining that the app generates corrupted backup files (zip files are indeed corrupted).</p>\n\n<p>Here is code that compresses all files to zip file:</p>\n\n<pre><code>public void backup(String filename) {\n    File file = new File(getBackupDirectory(), filename);\n    FileOutputStream fileOutputStream = null;\n    ZipOutputStream stream = null;\n    try {\n        String settingsMD5 = null;\n        String databaseMD5 = null;\n        if (file.exists())\n            file.delete();\n        fileOutputStream = new FileOutputStream(file);\n        stream = new ZipOutputStream(new BufferedOutputStream(fileOutputStream));\n        File database = getDatabasePath(databaseFileName);\n        File dataDirectory = getFilesDir();\n        if (dataDirectory != null) {\n            File settings = new File(dataDirectory.getParentFile(), \"/shared_prefs/\" + PREFERENCES_FILENAME);\n            settingsMD5 = zipFile(\"preferences\", stream, settings);\n        }\n        databaseMD5 = zipFile(\"database.db\", stream, database);\n\n        JSONObject jsonObject = new JSONObject();\n        try {\n            jsonObject.put(META_DATE, new SimpleDateFormat(DATE_FORMAT, Locale.US).format(new Date()));\n            jsonObject.put(META_DATABASE, databaseMD5);\n            jsonObject.put(META_SHARED_PREFS, settingsMD5);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        InputStream metadata = new ByteArrayInputStream(jsonObject.toString().getBytes(\"UTF-8\"));\n        zipInputStream(stream, metadata, new ZipEntry(\"metadata\"));\n        stream.finish();\n        stream.close();\n        stream = null;\n        return file;\n    } catch (FileNotFoundException e) {\n     //handling errrors\n    } catch (IOException e) {\n     //handling errrors\n    } \n}\n\nprivate String zipFile(String name, ZipOutputStream zipStream, File file) throws FileNotFoundException, IOException {\n        ZipEntry zipEntry = new ZipEntry(name);\n        return zipInputStream(zipStream, new FileInputStream(file), zipEntry);\n    }\n\nprivate String zipInputStream(ZipOutputStream zipStream, InputStream fileInputStream, ZipEntry zipEntry) throws IOException {\n    InputStream inputStream = new BufferedInputStream(fileInputStream);\n    MessageDigest messageDigest = null;\n    try {\n        messageDigest = MessageDigest.getInstance(\"MD5\");\n        if (messageDigest != null)\n            inputStream = new DigestInputStream(inputStream, messageDigest);\n    } catch (NoSuchAlgorithmException e) {\n    }\n\n    zipStream.putNextEntry(zipEntry);\n    inputToOutput(inputStream, zipStream);\n    zipStream.closeEntry();\n    inputStream.close();\n\n    if (messageDigest != null) {\n        return getDigestString(messageDigest.digest());\n    }\n    return null;\n}\n\nprivate String getDigestString(byte[] digest) {\n    StringBuffer hexString = new StringBuffer();\n    for (int i = 0; i &lt; digest.length; i++) {\n        String hex = Integer.toHexString(0xFF &amp; digest[i]);\n        if (hex.length() == 1) {\n            hex = new StringBuilder(\"0\").append(hex).toString();\n        }\n        hexString.append(hex);\n    }\n    return hexString.toString();\n}\n\nprivate void inputToOutput(InputStream inputStream, OutputStream outputStream) throws IOException {\n    byte[] buffer = new byte[BUFFER];\n    int count = 0;\n    while ((count = inputStream.read(buffer, 0, BUFFER)) != -1) {\n        outputStream.write(buffer, 0, count);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data","persistence"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673114301,"post_id":75037530,"comment_id":132427237,"body_markdown":"Are you using spring &#39;save&#39; logic, or straight JPA persist calls on the A when it already has references to the new B? I could only see this happening if you don&#39;t have CascadeType.PERSIST set though- so maybe verify that the class being picked up is the latest with that option set.","body":"Are you using spring &#39;save&#39; logic, or straight JPA persist calls on the A when it already has references to the new B? I could only see this happening if you don&#39;t have CascadeType.PERSIST set though- so maybe verify that the class being picked up is the latest with that option set."}],"owner":{"account_id":11558508,"reputation":21,"user_id":8468940,"display_name":"Tiago Aleff da Silva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673431223,"creation_date":1673055183,"question_id":75037530,"body_markdown":"I have these two Entities:\r\n\r\n```\r\n@SequenceGenerator(...)\r\n@Entity\r\nclass A {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;....&quot;)\r\n    private Integer id;\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\r\n    @JoinColumns({\r\n        @JoinColumn(name = &quot;aaa&quot;, referencedColumnName = &quot;aaa&quot;),\r\n        @JoinColumn(name = &quot;bbb&quot;, referencedColumnName = &quot;bbb&quot;),\r\n        @JoinColumn(name = &quot;ccc&quot;, referencedColumnName = &quot;ccc&quot;),\r\n        @JoinColumn(name = &quot;ddd&quot;, referencedColumnName = &quot;ddd&quot;),\r\n    })\r\n    private B b;\r\n    \r\n    // ... getters and setters\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\nclass B {\r\n    @EmbeddedId\r\n    private BPk id;\r\n    \r\n    // ... getters and setters\r\n}\r\n```\r\n\r\n```\r\n@Embeddable\r\nclass BPk {\r\n    private Integer aaa;\r\n    private Integer bbb;\r\n    private Integer ccc;\r\n    private Integer ddd;\r\n    \r\n    // ... getters and setters\r\n}\r\n```\r\n\r\nIn my case I have non persisted B object, which values from columns &quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot; are populated.\r\n\r\nIf I try to persist the new A object and when B doesn&#39;t exist in database the hibernate don&#39;t make the insert of B entity throwing the following error:\r\n\r\n&gt; integrity constraint (\\[FK NAME\\]) violated - parent key not found\r\n\r\nI think it&#39;s happening because my B object has the non null PK so hibernate didn&#39;t make the insert thinking that B entity exists. How can I fix this?\r\n\r\nI have found the following solution for spring boot (example: 54), but it doesn&#39;t work for CascadeType.PERSIST. By the way, it was what I noticed.\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites.\r\n\r\nI would like something that when I persist the A entity also persist a new B entity if it&#39;s a new row in database.","title":"Hibernate CascadeType.PERSIST for non null key [parent key not found]","body":"<p>I have these two Entities:</p>\n<pre><code>@SequenceGenerator(...)\n@Entity\nclass A {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;....&quot;)\n    private Integer id;\n    \n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\n    @JoinColumns({\n        @JoinColumn(name = &quot;aaa&quot;, referencedColumnName = &quot;aaa&quot;),\n        @JoinColumn(name = &quot;bbb&quot;, referencedColumnName = &quot;bbb&quot;),\n        @JoinColumn(name = &quot;ccc&quot;, referencedColumnName = &quot;ccc&quot;),\n        @JoinColumn(name = &quot;ddd&quot;, referencedColumnName = &quot;ddd&quot;),\n    })\n    private B b;\n    \n    // ... getters and setters\n}\n</code></pre>\n<pre><code>@Entity\nclass B {\n    @EmbeddedId\n    private BPk id;\n    \n    // ... getters and setters\n}\n</code></pre>\n<pre><code>@Embeddable\nclass BPk {\n    private Integer aaa;\n    private Integer bbb;\n    private Integer ccc;\n    private Integer ddd;\n    \n    // ... getters and setters\n}\n</code></pre>\n<p>In my case I have non persisted B object, which values from columns &quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot; are populated.</p>\n<p>If I try to persist the new A object and when B doesn't exist in database the hibernate don't make the insert of B entity throwing the following error:</p>\n<blockquote>\n<p>integrity constraint ([FK NAME]) violated - parent key not found</p>\n</blockquote>\n<p>I think it's happening because my B object has the non null PK so hibernate didn't make the insert thinking that B entity exists. How can I fix this?</p>\n<p>I have found the following solution for spring boot (example: 54), but it doesn't work for CascadeType.PERSIST. By the way, it was what I noticed.</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites</a>.</p>\n<p>I would like something that when I persist the A entity also persist a new B entity if it's a new row in database.</p>\n"},{"tags":["java","android","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":20343290,"reputation":41,"user_id":14921964,"display_name":"Hetvi Gohil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673430966,"creation_date":1673430966,"answer_id":75081175,"question_id":75075586,"body_markdown":"&gt; # Hi RIZWAN ALI Please Use this code\r\n\r\n    val updateRoomFragment = CreateEventBottomsheet()\r\n                updateRoomFragment.show(\r\n                    (viewHolder.itemView.context as AppCompatActivity).supportFragmentManager,\r\n                    updateRoomFragment.getTag()\r\n                )\r\n\r\n","title":"open fragment from adapter model class","body":"<blockquote>\n<h1>Hi RIZWAN ALI Please Use this code</h1>\n</blockquote>\n<pre><code>val updateRoomFragment = CreateEventBottomsheet()\n            updateRoomFragment.show(\n                (viewHolder.itemView.context as AppCompatActivity).supportFragmentManager,\n                updateRoomFragment.getTag()\n            )\n</code></pre>\n"}],"owner":{"account_id":26021170,"reputation":132,"user_id":19728854,"display_name":"RIZWAN ALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673430966,"creation_date":1673383166,"question_id":75075586,"body_markdown":"I am creating app where I implemented a BottomSheetDialogFragment to be open from inside of other fragment this work fines.\r\n\r\nBut now I want that same BottomSheetDialogFragment to be open from my adapter class which extend FirebaseRecyclerAdapter but not getting the way how to open from there.\r\n\r\nHere is my adapter class code:\r\n\r\n    public class updateRoomAdapter extends FirebaseRecyclerAdapter&lt;model,updateRoomAdapter.myViewHolder&gt; {\r\n    \r\n    \r\n        public updateRoomAdapter(@NonNull FirebaseRecyclerOptions&lt;model&gt; options) {\r\n            super(options);\r\n        }\r\n    \r\n        @Override\r\n        protected void onBindViewHolder(@NonNull myViewHolder holder,final int position, @NonNull model model) {\r\n            holder.id.setText(&quot;Room Id:&quot;+model.getRoomId());\r\n            holder.description.setText(&quot;Description: &quot;+model.getDescription());\r\n            holder.ac.setText(&quot;AC: &quot;+model.getAC());\r\n            holder.rent.setText(&quot;Rent: &quot;+model.getRent());\r\n            holder.nob.setText(&quot;No.of Beds: &quot;+model.getNumber_of_beds());\r\n            Glide.with(holder.img.getContext()).load(model.getImageUrl()).into(holder.img);\r\n            holder.edit.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    UpdateRoomFragment updateRoomFragment=new UpdateRoomFragment();\r\n                    updateRoomFragment.show(getSupportFragmentManager(),updateRoomFragment.getTag());//this line showing error because getSupportFragmentManager() cannot be use here\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \r\n            View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.updatesinglerow,parent,false);\r\n            return new updateRoomAdapter.myViewHolder(view);\r\n        }\r\n    \r\n        class myViewHolder extends RecyclerView.ViewHolder {\r\n            CircleImageView img;\r\n            ImageView edit;\r\n            TextView id,description,rent,ac,nob;\r\n            public myViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                img=(CircleImageView) itemView.findViewById(R.id.img1);\r\n                id=(TextView) itemView.findViewById(R.id.nametext);\r\n                description=(TextView) itemView.findViewById(R.id.coursetext);\r\n                rent=(TextView) itemView.findViewById(R.id.rent);\r\n                ac=(TextView) itemView.findViewById(R.id.ac);\r\n                nob=(TextView) itemView.findViewById(R.id.bed);\r\n                edit=(ImageView)itemView.findViewById(R.id.imageView2);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHow to solve this issue?\r\n","title":"open fragment from adapter model class","body":"<p>I am creating app where I implemented a BottomSheetDialogFragment to be open from inside of other fragment this work fines.</p>\n<p>But now I want that same BottomSheetDialogFragment to be open from my adapter class which extend FirebaseRecyclerAdapter but not getting the way how to open from there.</p>\n<p>Here is my adapter class code:</p>\n<pre><code>public class updateRoomAdapter extends FirebaseRecyclerAdapter&lt;model,updateRoomAdapter.myViewHolder&gt; {\n\n\n    public updateRoomAdapter(@NonNull FirebaseRecyclerOptions&lt;model&gt; options) {\n        super(options);\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull myViewHolder holder,final int position, @NonNull model model) {\n        holder.id.setText(&quot;Room Id:&quot;+model.getRoomId());\n        holder.description.setText(&quot;Description: &quot;+model.getDescription());\n        holder.ac.setText(&quot;AC: &quot;+model.getAC());\n        holder.rent.setText(&quot;Rent: &quot;+model.getRent());\n        holder.nob.setText(&quot;No.of Beds: &quot;+model.getNumber_of_beds());\n        Glide.with(holder.img.getContext()).load(model.getImageUrl()).into(holder.img);\n        holder.edit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                UpdateRoomFragment updateRoomFragment=new UpdateRoomFragment();\n                updateRoomFragment.show(getSupportFragmentManager(),updateRoomFragment.getTag());//this line showing error because getSupportFragmentManager() cannot be use here\n            }\n        });\n\n    }\n\n    @NonNull\n    @Override\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.updatesinglerow,parent,false);\n        return new updateRoomAdapter.myViewHolder(view);\n    }\n\n    class myViewHolder extends RecyclerView.ViewHolder {\n        CircleImageView img;\n        ImageView edit;\n        TextView id,description,rent,ac,nob;\n        public myViewHolder(@NonNull View itemView) {\n            super(itemView);\n            img=(CircleImageView) itemView.findViewById(R.id.img1);\n            id=(TextView) itemView.findViewById(R.id.nametext);\n            description=(TextView) itemView.findViewById(R.id.coursetext);\n            rent=(TextView) itemView.findViewById(R.id.rent);\n            ac=(TextView) itemView.findViewById(R.id.ac);\n            nob=(TextView) itemView.findViewById(R.id.bed);\n            edit=(ImageView)itemView.findViewById(R.id.imageView2);\n\n        }\n    }\n}\n</code></pre>\n<p>How to solve this issue?</p>\n"},{"tags":["java","logback","mdc"],"comments":[{"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"score":0,"creation_date":1673424987,"post_id":75079765,"comment_id":132493366,"body_markdown":"Shouldn&#39;t you use `&lt;layout&gt;` instead of `&lt;encoder&gt;&#39;?","body":"Shouldn&#39;t you use <code>&lt;layout&gt;</code> instead of `&lt;encoder&gt;&#39;?"},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1673426069,"post_id":75079765,"comment_id":132493737,"body_markdown":"Could you detail where you put your parameters in the `MDC`?","body":"Could you detail where you put your parameters in the <code>MDC</code>?"},{"owner":{"account_id":27396809,"reputation":11,"user_id":20898879,"display_name":"Ravi Mishra"},"score":0,"creation_date":1673427181,"post_id":75079765,"comment_id":132494132,"body_markdown":"@Faith Im putting values in controller","body":"@Faith Im putting values in controller"},{"owner":{"account_id":27396809,"reputation":11,"user_id":20898879,"display_name":"Ravi Mishra"},"score":0,"creation_date":1673427367,"post_id":75079765,"comment_id":132494202,"body_markdown":"@Aakash layout is also not working","body":"@Aakash layout is also not working"}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673430898,"creation_date":1673430898,"answer_id":75081158,"question_id":75079765,"body_markdown":"It looks like you should use layout\r\nhttps://logback.qos.ch/manual/mdc.html\r\n \r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; \r\n      &lt;layout&gt;\r\n        &lt;Pattern&gt;%X{first} %X{last} - %m%n&lt;/Pattern&gt;\r\n      &lt;/layout&gt; \r\n    &lt;/appender&gt;","title":"MDC Put not showing values in log","body":"<p>It looks like you should use layout\n<a href=\"https://logback.qos.ch/manual/mdc.html\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/mdc.html</a></p>\n<pre><code>&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; \n  &lt;layout&gt;\n    &lt;Pattern&gt;%X{first} %X{last} - %m%n&lt;/Pattern&gt;\n  &lt;/layout&gt; \n&lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":27396809,"reputation":11,"user_id":20898879,"display_name":"Ravi Mishra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673430898,"creation_date":1673423346,"question_id":75079765,"body_markdown":"`MDC.put` is not inserting values in the logs.\r\n\r\nlogback.xml\r\n\r\n    &lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d  [%X{ApigeeId}] [%X{BasePath}] %-5level %-50logger{40} - %message%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\nCode :\r\n\r\n    MDC.put(&quot;ApigeeId&quot;, apigeeId);\r\n    MDC.put(&quot;BasePath&quot;, &quot;api/crm/sendemi&quot;);\r\n\r\nLogs :\r\n\r\n    2023-01-11 13:13:09,286  [] [] INFO  org.hibernate.SQL_SLOW                             - SlowQuery: 14 milliseconds. SQL: &#39;HikariProxyPreparedStatement@1852998404 wrapping SQLServerPreparedStatement:12&#39;\r\n\r\nGetting blank fields.\r\n\r\n\r\nTried to check whether values are setting properly by `MDC.get()`, it prints properly.\r\n\r\n\r\n\r\n\r\n","title":"MDC Put not showing values in log","body":"<p><code>MDC.put</code> is not inserting values in the logs.</p>\n<p>logback.xml</p>\n<pre><code>&lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d  [%X{ApigeeId}] [%X{BasePath}] %-5level %-50logger{40} - %message%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>Code :</p>\n<pre><code>MDC.put(&quot;ApigeeId&quot;, apigeeId);\nMDC.put(&quot;BasePath&quot;, &quot;api/crm/sendemi&quot;);\n</code></pre>\n<p>Logs :</p>\n<pre><code>2023-01-11 13:13:09,286  [] [] INFO  org.hibernate.SQL_SLOW                             - SlowQuery: 14 milliseconds. SQL: 'HikariProxyPreparedStatement@1852998404 wrapping SQLServerPreparedStatement:12'\n</code></pre>\n<p>Getting blank fields.</p>\n<p>Tried to check whether values are setting properly by <code>MDC.get()</code>, it prints properly.</p>\n"},{"tags":["java","junit","mockito","junit5"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1673431058,"post_id":75081153,"comment_id":132495481,"body_markdown":"Use the Mock method, or Mock annotation. Then, stub the method to return whatever value you expect the connection to return [Read also](https://www.baeldung.com/java-spring-mockito-mock-mockbean)","body":"Use the Mock method, or Mock annotation. Then, stub the method to return whatever value you expect the connection to return <a href=\"https://www.baeldung.com/java-spring-mockito-mock-mockbean\" rel=\"nofollow noreferrer\">Read also</a>"},{"owner":{"account_id":7010228,"reputation":65,"user_id":5680636,"display_name":"Pankaj Rathi"},"score":0,"creation_date":1673431299,"post_id":75081153,"comment_id":132495567,"body_markdown":"I have done that, I mocked the Connection class but how do I stub the constructor because I&#39;m calling the constructor","body":"I have done that, I mocked the Connection class but how do I stub the constructor because I&#39;m calling the constructor"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1673432050,"post_id":75081153,"comment_id":132495816,"body_markdown":"The obvious solution and best practice is to refactor to not instantiate an object within class A&#39;s constructor. If Connection has side effects it should be provided via dependency injection. Now to answer your question if you still insist on doing it this way then here&#39;s an exactly the same question with some answers. \nhttps://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors\n\nAlso you could just create a setter for the connection field and make it non final, inject a mock that way.","body":"The obvious solution and best practice is to refactor to not instantiate an object within class A&#39;s constructor. If Connection has side effects it should be provided via dependency injection. Now to answer your question if you still insist on doing it this way then here&#39;s an exactly the same question with some answers.  <a href=\"https://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors\" title=\"unit testing with mockito for constructors\">stackoverflow.com/questions/11214136/&hellip;</a>  Also you could just create a setter for the connection field and make it non final, inject a mock that way."},{"owner":{"account_id":7010228,"reputation":65,"user_id":5680636,"display_name":"Pankaj Rathi"},"score":0,"creation_date":1673433512,"post_id":75081153,"comment_id":132496332,"body_markdown":"Thanks @IgorFlakiewicz, I think I will go with refactoring where I pass the connection object as part of A&#39;s constructor and that way it will be more easy for me to mock and also refactoring can be easy.","body":"Thanks @IgorFlakiewicz, I think I will go with refactoring where I pass the connection object as part of A&#39;s constructor and that way it will be more easy for me to mock and also refactoring can be easy."}],"owner":{"account_id":7010228,"reputation":65,"user_id":5680636,"display_name":"Pankaj Rathi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673436855,"answer_count":0,"score":0,"last_activity_date":1673430850,"creation_date":1673430850,"question_id":75081153,"body_markdown":"Here is what I want to achieve.\r\n```\r\npublic class A {\r\n    protected final Config config;\r\n    protected final Connection connection;\r\n\r\n    public A(Config config) {\r\n        this.config = config;\r\n        this.connection = new Connection(&quot;a&quot;, &quot;b&quot;);\r\n    }\r\n    \r\n    public void someMethod() {\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to test some underlying methods for the class A, I would want to mock the **connection** object creation. How can I do that, I have tried all possible ways but didn&#39;t find any luck.","title":"How do I mock a object creation inside the contructor in Mockito","body":"<p>Here is what I want to achieve.</p>\n<pre><code>public class A {\n    protected final Config config;\n    protected final Connection connection;\n\n    public A(Config config) {\n        this.config = config;\n        this.connection = new Connection(&quot;a&quot;, &quot;b&quot;);\n    }\n    \n    public void someMethod() {\n    }\n}\n</code></pre>\n<p>When I try to test some underlying methods for the class A, I would want to mock the <strong>connection</strong> object creation. How can I do that, I have tried all possible ways but didn't find any luck.</p>\n"},{"tags":["java","android","position","ontouchlistener","android-photoview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673452649,"post_id":75081117,"comment_id":132503451,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27477442,"reputation":1,"user_id":20965184,"display_name":"INGETTI RICCARDO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673430679,"creation_date":1673430679,"question_id":75081117,"body_markdown":"I&#39;m using the PhotoView Library to zoom a image in my activity, but I want to use the setOnTouchListener and onTouch method to change the image if I touch in certain area of the screen.\r\nThe main problem is if I use fhese methods, I can&#39;t zoom anymore, what can I do?\r\nI thinked to create a new class from the PhotoView one, but there isn&#39;t any easier way?","title":"setOnTouchListener in PhotoView library in Android Studio","body":"<p>I'm using the PhotoView Library to zoom a image in my activity, but I want to use the setOnTouchListener and onTouch method to change the image if I touch in certain area of the screen.\nThe main problem is if I use fhese methods, I can't zoom anymore, what can I do?\nI thinked to create a new class from the PhotoView one, but there isn't any easier way?</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":1,"creation_date":1673383089,"post_id":75075424,"comment_id":132485400,"body_markdown":"It looks like `License` is actually the child class. But you have them labeled opposite. Can you clarify? On the child, you will definitely need something other than CascadeType.ALL. Perhaps just REFRESH and DETATCH. You may also want `orphanRemoval=true` in that annotation.","body":"It looks like <code>License</code> is actually the child class. But you have them labeled opposite. Can you clarify? On the child, you will definitely need something other than CascadeType.ALL. Perhaps just REFRESH and DETATCH. You may also want <code>orphanRemoval=true</code> in that annotation."}],"answers":[{"tags":[],"owner":{"account_id":27459886,"reputation":61,"user_id":20950641,"display_name":"sanah saleem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673418180,"creation_date":1673417790,"answer_id":75078985,"question_id":75075424,"body_markdown":"So here as i can see you have a parent class *User* and a child class *License* with a OneToMany Bi-Directional mapping. \r\n\r\nHere in the Many side means in your License entity side, as long as you don&#39;t use the *CascadeType.REMOVE*, if you delete a license object it wont delete the user object.\r\n\r\nso you can directly delete the license entry.\r\nIt will look something like this:\r\n\r\nlicenseRepositoryObject.delete(licenseObjectToBeDeleted);\r\n\r\n","title":"How to remove ManyToOne JPA object","body":"<p>So here as i can see you have a parent class <em>User</em> and a child class <em>License</em> with a OneToMany Bi-Directional mapping.</p>\n<p>Here in the Many side means in your License entity side, as long as you don't use the <em>CascadeType.REMOVE</em>, if you delete a license object it wont delete the user object.</p>\n<p>so you can directly delete the license entry.\nIt will look something like this:</p>\n<p>licenseRepositoryObject.delete(licenseObjectToBeDeleted);</p>\n"},{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673418239,"creation_date":1673418239,"answer_id":75079045,"question_id":75075424,"body_markdown":"Before deleting the child class using\r\n\r\n    \r\n      @Transactional\r\n       public void delete(License license) {\r\n       license.setUser(null);\r\n      licenseRepository.delete(license);\r\n        }\r\n\r\n\r\nSo that all relations between parent and child are removed\r\n","title":"How to remove ManyToOne JPA object","body":"<p>Before deleting the child class using</p>\n<pre><code>  @Transactional\n   public void delete(License license) {\n   license.setUser(null);\n  licenseRepository.delete(license);\n    }\n</code></pre>\n<p>So that all relations between parent and child are removed</p>\n"}],"owner":{"account_id":19269357,"reputation":479,"user_id":20240865,"display_name":"GOLDProFA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673430219,"creation_date":1673382141,"question_id":75075424,"body_markdown":"I&#39;m trying to remove object of child class without calling parent class so there&#39;s no need in 2 requests to database. Can you help to solve this problem and explain how to fix this.\r\n\r\nParent class:\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;License&gt; licenses;\r\n\r\nChild class:\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Person user;\r\n\r\nTrying to delete:\r\n\r\n    @Transactional\r\n    public void delete(License license) {\r\n        licenseRepository.delete(license);\r\n    }\r\n\r\nIf I do CascadeType.ALL on Child (license) class, it removed parent class too. I need to remove only this license from database","title":"How to remove ManyToOne JPA object","body":"<p>I'm trying to remove object of child class without calling parent class so there's no need in 2 requests to database. Can you help to solve this problem and explain how to fix this.</p>\n<p>Parent class:</p>\n<pre><code>@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\nprivate List&lt;License&gt; licenses;\n</code></pre>\n<p>Child class:</p>\n<pre><code>@ManyToOne(cascade = CascadeType.PERSIST)\n@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\nprivate Person user;\n</code></pre>\n<p>Trying to delete:</p>\n<pre><code>@Transactional\npublic void delete(License license) {\n    licenseRepository.delete(license);\n}\n</code></pre>\n<p>If I do CascadeType.ALL on Child (license) class, it removed parent class too. I need to remove only this license from database</p>\n"},{"tags":["java","android","autocompletetextview","exposeddropdownmenu"],"owner":{"account_id":27497096,"reputation":1,"user_id":20981453,"display_name":"user20981453"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673429697,"creation_date":1673429697,"question_id":75080905,"body_markdown":"  @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                //Define city spinner but we will populate the option through the selected state\r\n                policeStationSelectDropdown = findViewById(R.id.psAutoCompleteText);\r\n\r\n                // Obtain the selected district\r\n\r\n                 selectedDistrict = districtSelectDropdown.getSelectedItem().toString();\r\n\r\n\r\n                Toast.makeText(Complaint_page.this,selectedDistrict, Toast.LENGTH_SHORT).show();\r\n\r\n              //  int parentId = parent.getId();\r\n\r\n                if (parent.getId() == R.id.districtAutoCompleteText)\r\n\r\ngetSelectedItem() is showing error??\r\nHow to use this with autoCompleteTextView. I want dependent dropdown using Exposed Drop-Down Menu and autoCompleteTextView using JAVA.","title":"Dependent dropdown using Exposed Drop-Down Menu and AutoCompleteTextView","body":"<p>@Override\npublic void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {</p>\n<pre><code>            //Define city spinner but we will populate the option through the selected state\n            policeStationSelectDropdown = findViewById(R.id.psAutoCompleteText);\n\n            // Obtain the selected district\n\n             selectedDistrict = districtSelectDropdown.getSelectedItem().toString();\n\n\n            Toast.makeText(Complaint_page.this,selectedDistrict, Toast.LENGTH_SHORT).show();\n\n          //  int parentId = parent.getId();\n\n            if (parent.getId() == R.id.districtAutoCompleteText)\n</code></pre>\n<p>getSelectedItem() is showing error??\nHow to use this with autoCompleteTextView. I want dependent dropdown using Exposed Drop-Down Menu and autoCompleteTextView using JAVA.</p>\n"},{"tags":["java","google-drive-api"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1673424386,"post_id":75079904,"comment_id":132493180,"body_markdown":"Can i get a little more context on exactly what you want help with here?    what do you mean by &quot;publicly available google drive link&quot; what is this and how was it created?   Why not download them directly via the drive api?   If you want help fixing &quot;using url.openStream() but it provided the name(without link)&quot;  you need to add the code.","body":"Can i get a little more context on exactly what you want help with here?    what do you mean by &quot;publicly available google drive link&quot; what is this and how was it created?   Why not download them directly via the drive api?   If you want help fixing &quot;using url.openStream() but it provided the name(without link)&quot;  you need to add the code."},{"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"score":0,"creation_date":1673424587,"post_id":75079904,"comment_id":132493246,"body_markdown":"publicly available google drive link means that if I open the link in browser in incognito mode, it shows the content of the attached folder.","body":"publicly available google drive link means that if I open the link in browser in incognito mode, it shows the content of the attached folder."},{"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"score":0,"creation_date":1673424706,"post_id":75079904,"comment_id":132493283,"body_markdown":"I am able to use drive APIs to access files in my drive but unable to access the URLs as I am not able to find a method which takes URL as input.","body":"I am able to use drive APIs to access files in my drive but unable to access the URLs as I am not able to find a method which takes URL as input."},{"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"score":0,"creation_date":1673425138,"post_id":75079904,"comment_id":132493418,"body_markdown":"@DaImTo I have provided the explanations regarding your questions. I request you to have a look and let me know.","body":"@DaImTo I have provided the explanations regarding your questions. I request you to have a look and let me know."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1673427066,"post_id":75079904,"comment_id":132494083,"body_markdown":"If the link you are talking about is one of those share with me links.   Go to drive right click -&gt; share with me then get that link.   You cant access that with the api as its not a true share its not shared permissions so it wont work.   The drive api will need you to have a permission set.  in order to access it.","body":"If the link you are talking about is one of those share with me links.   Go to drive right click -&gt; share with me then get that link.   You cant access that with the api as its not a true share its not shared permissions so it wont work.   The drive api will need you to have a permission set.  in order to access it."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1673427145,"post_id":75079904,"comment_id":132494122,"body_markdown":"That code looks fun let me give it a go I have never tried with downloading a directory like that interesting use case.","body":"That code looks fun let me give it a go I have never tried with downloading a directory like that interesting use case."},{"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"score":0,"creation_date":1673427452,"post_id":75079904,"comment_id":132494228,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251026/discussion-between-abhijeet-and-daimto).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251026/discussion-between-abhijeet-and-daimto\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673429340,"creation_date":1673429340,"answer_id":75080839,"question_id":75079904,"body_markdown":"The link you are using contains the folder id, the folder should also be readable by everyone.\r\n\r\nIn this instance you can use the files.list method from the Google drive api and access it using &#39;folderid&#39; in parents which will return a list of all of the files within that folder.\r\n\r\nFor this to work the folder needs to be public to viewers which yours seem to be, after our conversation in chat. ","title":"How to download files from publicly available google drive URL using Java?","body":"<p>The link you are using contains the folder id, the folder should also be readable by everyone.</p>\n<p>In this instance you can use the files.list method from the Google drive api and access it using 'folderid' in parents which will return a list of all of the files within that folder.</p>\n<p>For this to work the folder needs to be public to viewers which yours seem to be, after our conversation in chat.</p>\n"}],"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75080839,"answer_count":1,"score":2,"last_activity_date":1673429340,"creation_date":1673424215,"question_id":75079904,"body_markdown":"I have been trying to download files/whole directory from publicly available google drive link URL using Java. I am able to read files which are present in my google drive using google drive libraries but I am not able to understand how to pass google drive link URL.\r\n\r\nAlso, I tried to use typical method of downloading files from URL  but it produced error java.io.IOException: Server returned HTTP response code: 400 for URL.\r\n\r\n\r\n    URL url;\r\n    URLConnection con;\r\n    DataInputStream dis;\r\n    FileOutputStream fos;\r\n    byte[] fileData;\r\n    try {\r\n        url = new URL(&quot;https://drive.google.com/drive/folders/&lt;some-alphanumeric-code&gt;/&lt;file-name&gt;&quot;); //File Location goes here\r\n        con = url.openConnection(); // open the url connection.\r\n        dis = new DataInputStream(con.getInputStream());\r\n        fileData = new byte[con.getContentLength()];\r\n        for (int q = 0; q &lt; fileData.length; q++) {\r\n            fileData[q] = dis.readByte();\r\n        }\r\n        dis.close(); // close the data input stream\r\n        fos = new FileOutputStream(new File(&quot;/Users/abhijeetkunwar/file.png&quot;)); //FILE Save Location goes here\r\n        fos.write(fileData);  // write out the file we want to save.\r\n        fos.close(); // close the output stream writer\r\n    }\r\n    catch(Exception m) {\r\n       System.out.println(m);\r\n    }\r\n\r\n\r\nKindly suggest the solution please.","title":"How to download files from publicly available google drive URL using Java?","body":"<p>I have been trying to download files/whole directory from publicly available google drive link URL using Java. I am able to read files which are present in my google drive using google drive libraries but I am not able to understand how to pass google drive link URL.</p>\n<p>Also, I tried to use typical method of downloading files from URL  but it produced error java.io.IOException: Server returned HTTP response code: 400 for URL.</p>\n<pre><code>URL url;\nURLConnection con;\nDataInputStream dis;\nFileOutputStream fos;\nbyte[] fileData;\ntry {\n    url = new URL(&quot;https://drive.google.com/drive/folders/&lt;some-alphanumeric-code&gt;/&lt;file-name&gt;&quot;); //File Location goes here\n    con = url.openConnection(); // open the url connection.\n    dis = new DataInputStream(con.getInputStream());\n    fileData = new byte[con.getContentLength()];\n    for (int q = 0; q &lt; fileData.length; q++) {\n        fileData[q] = dis.readByte();\n    }\n    dis.close(); // close the data input stream\n    fos = new FileOutputStream(new File(&quot;/Users/abhijeetkunwar/file.png&quot;)); //FILE Save Location goes here\n    fos.write(fileData);  // write out the file we want to save.\n    fos.close(); // close the output stream writer\n}\ncatch(Exception m) {\n   System.out.println(m);\n}\n</code></pre>\n<p>Kindly suggest the solution please.</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":4,"creation_date":1673378068,"post_id":75074750,"comment_id":132483891,"body_markdown":"You could change the `toString` method in your `Node` class so that it doesn&#39;t print the comma if there&#39;s no `next` element.  In fact, you could even change it so that it calls the `toString` method on `next` recursively; and that way, you wouldn&#39;t need a loop in `printList`.","body":"You could change the <code>toString</code> method in your <code>Node</code> class so that it doesn&#39;t print the comma if there&#39;s no <code>next</code> element.  In fact, you could even change it so that it calls the <code>toString</code> method on <code>next</code> recursively; and that way, you wouldn&#39;t need a loop in <code>printList</code>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1673378179,"post_id":75074750,"comment_id":132483937,"body_markdown":"You can research similar questions - for example: [Avoid printing the last comma](https://stackoverflow.com/q/9991799/12567365) or [any of these](https://www.google.com/search?q=don&#39;t+print+final+comma+site:stackoverflow.com) for more ideas which can be adapted to your specific situation.","body":"You can research similar questions - for example: <a href=\"https://stackoverflow.com/q/9991799/12567365\">Avoid printing the last comma</a> or <a href=\"https://www.google.com/search?q=don&#39;t+print+final+comma+site:stackoverflow.com\" rel=\"nofollow noreferrer\">any of these</a> for more ideas which can be adapted to your specific situation."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1673378363,"post_id":75074750,"comment_id":132483996,"body_markdown":"*&quot;so the output is 10,20,30,40,50, &quot;*: eh, not it isn&#39;t. There is no comma output in your code.","body":"<i>&quot;so the output is 10,20,30,40,50, &quot;</i>: eh, not it isn&#39;t. There is no comma output in your code."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673378645,"post_id":75074750,"comment_id":132484106,"body_markdown":"@trincot not with the code shown. The question is incomplete as it does not include a [mre]. `Node`, or whatever type `Node#data` is, could add the comma in their `toString()` method.","body":"@trincot not with the code shown. The question is incomplete as it does not include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. <code>Node</code>, or whatever type <code>Node#data</code> is, could add the comma in their <code>toString()</code> method."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1673378687,"post_id":75074750,"comment_id":132484115,"body_markdown":"@knittl, the question is to the OP.","body":"@knittl, the question is to the OP."}],"answers":[{"tags":[],"owner":{"account_id":25958789,"reputation":3,"user_id":19675746,"display_name":"Izza Mujeeb Ahmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673429325,"creation_date":1673380458,"answer_id":75075170,"question_id":75074750,"body_markdown":"The comma is printed for the same number of times as the numbers. To prevent the last comma from getting printed, a simple if condition should do the trick.\r\n\r\n     public static void printList(Node head) {\r\n            Node curr = head;\r\n    \r\n            while (curr != null) {\r\n    \r\n                System.out.print(curr.data);\r\n    \r\n                if(curr.next != null)\r\n                    System.out.print(&quot;,&quot;);\r\n               \r\n                curr = curr.next;\r\n            }\r\n        }\r\n\r\nThis condition checks whether there is a number after the current number. If there is, a comma is printed, otherwise the comma is not printed for the last number.\r\n\r\nP.S Upvote if it helped!","title":"How can I remove the last comma (,) while traversing a linked list?","body":"<p>The comma is printed for the same number of times as the numbers. To prevent the last comma from getting printed, a simple if condition should do the trick.</p>\n<pre><code> public static void printList(Node head) {\n        Node curr = head;\n\n        while (curr != null) {\n\n            System.out.print(curr.data);\n\n            if(curr.next != null)\n                System.out.print(&quot;,&quot;);\n           \n            curr = curr.next;\n        }\n    }\n</code></pre>\n<p>This condition checks whether there is a number after the current number. If there is, a comma is printed, otherwise the comma is not printed for the last number.</p>\n<p>P.S Upvote if it helped!</p>\n"}],"owner":{"account_id":17586702,"reputation":1,"user_id":17578580,"display_name":"Ankit Kumar Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673450709,"answer_count":1,"score":0,"last_activity_date":1673429325,"creation_date":1673377839,"question_id":75074750,"body_markdown":"```java\r\npublic class Traverse {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tNode head = new Node(10);\r\n\t\thead.next = new Node(20);\r\n\t\thead.next.next = new Node(30);\r\n\t\thead.next.next.next = new Node(40);\r\n\t\thead.next.next.next.next = new Node(50);\r\n\t\tprintList(head);\r\n\t}\r\n\r\n\tpublic static void printList(Node head) {\r\n\t\tNode curr = head;\r\n\r\n\t\twhile (curr != null) {\r\n\t\t\tSystem.out.print(curr.data);\r\n\t\t\tcurr = curr.next;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe output is: \r\n\r\n     10,20,30,40,50, \r\n\r\nI don&#39;t want the last commma (`,`).\r\n\r\nI am asking this because in a company interview a similar question was asked and logically the traversal is correct but because of the last comma 1 test case failed. I know it&#39;s lame but a blunder so the output should be:\r\n\r\n    10,20,30,40,50","title":"How can I remove the last comma (,) while traversing a linked list?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Traverse {\n\n    public static void main(String[] args) {\n        Node head = new Node(10);\n        head.next = new Node(20);\n        head.next.next = new Node(30);\n        head.next.next.next = new Node(40);\n        head.next.next.next.next = new Node(50);\n        printList(head);\n    }\n\n    public static void printList(Node head) {\n        Node curr = head;\n\n        while (curr != null) {\n            System.out.print(curr.data);\n            curr = curr.next;\n        }\n    }\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code> 10,20,30,40,50, \n</code></pre>\n<p>I don't want the last commma (<code>,</code>).</p>\n<p>I am asking this because in a company interview a similar question was asked and logically the traversal is correct but because of the last comma 1 test case failed. I know it's lame but a blunder so the output should be:</p>\n<pre><code>10,20,30,40,50\n</code></pre>\n"},{"tags":["java","annotations","guava","encapsulation","jetbrains-ide"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1619075682,"creation_date":1619075682,"answer_id":67208479,"question_id":67207970,"body_markdown":"The first big difference is obviously that it&#39;s provided by different projects.\r\n\r\n`@VisibleForTesting` is part of the [Google Guava libraries][1] and `@TestOnly` is part of [JetBrains annotations][2] which are associated with JetBrains, the makers of IntelliJ IDEA, among others.\r\n\r\nComparing the JavaDoc of the two shows that they serve basically identical goals: [`@TestOnly`][3] and [`@VisibleForTesting`][4].\r\n\r\nNote that the documentation of **both** annotations contain a note effectively warning you that the annotation itself does not prevent production code from calling the annotated method. JetBrains suggests the use of static checking tools that support that annotation (one of which is presumably built into IntelliJ IDEA) and Guava suggests the use of external checker tools with an explicit list of forbidden APIs.\r\n\r\n**tl;dr** They indicate effectively the same thing. The decision which one to use depends mostly on which tools you are using to act on them and which one they support. Already using other annotations or classes from one of those packages is another reason to pick one over the other.\r\n\r\n\r\n  [1]: https://guava.dev/\r\n  [2]: https://www.jetbrains.com/help/idea/annotating-source-code.html\r\n  [3]: https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/TestOnly.html\r\n  [4]: https://guava.dev/releases/snapshot/api/docs/com/google/common/annotations/VisibleForTesting.html","title":"What is the difference between @TestOnly and @VisibleForTesting in unit test","body":"<p>The first big difference is obviously that it's provided by different projects.</p>\n<p><code>@VisibleForTesting</code> is part of the <a href=\"https://guava.dev/\" rel=\"noreferrer\">Google Guava libraries</a> and <code>@TestOnly</code> is part of <a href=\"https://www.jetbrains.com/help/idea/annotating-source-code.html\" rel=\"noreferrer\">JetBrains annotations</a> which are associated with JetBrains, the makers of IntelliJ IDEA, among others.</p>\n<p>Comparing the JavaDoc of the two shows that they serve basically identical goals: <a href=\"https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/TestOnly.html\" rel=\"noreferrer\"><code>@TestOnly</code></a> and <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/annotations/VisibleForTesting.html\" rel=\"noreferrer\"><code>@VisibleForTesting</code></a>.</p>\n<p>Note that the documentation of <strong>both</strong> annotations contain a note effectively warning you that the annotation itself does not prevent production code from calling the annotated method. JetBrains suggests the use of static checking tools that support that annotation (one of which is presumably built into IntelliJ IDEA) and Guava suggests the use of external checker tools with an explicit list of forbidden APIs.</p>\n<p><strong>tl;dr</strong> They indicate effectively the same thing. The decision which one to use depends mostly on which tools you are using to act on them and which one they support. Already using other annotations or classes from one of those packages is another reason to pick one over the other.</p>\n"},{"tags":[],"owner":{"account_id":1317517,"reputation":314,"user_id":1264066,"display_name":"Benjam&#237;n Valero"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1673428757,"creation_date":1673428757,"answer_id":75080703,"question_id":67207970,"body_markdown":"They are **not** for the same thing.\r\n\r\n[`@VisibleForTesting`](https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/VisibleForTesting.html) is used for a methods that could be private/package-visible but has a higher visibility so it can be used by tests. Such a method can still be called in Production.\r\n\r\n[`@TestOnly`](https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/TestOnly.html) is used for a method that can **only** be used by tests, for instance to create a stub or to perform an additional validation only when testing. Such a method should never be called in Production, although the annotation won&#39;t prevent that.\r\n\r\nBy the way, JetBrains provide both annotations, so they can be used in the same project.","title":"What is the difference between @TestOnly and @VisibleForTesting in unit test","body":"<p>They are <strong>not</strong> for the same thing.</p>\n<p><a href=\"https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/VisibleForTesting.html\" rel=\"nofollow noreferrer\"><code>@VisibleForTesting</code></a> is used for a methods that could be private/package-visible but has a higher visibility so it can be used by tests. Such a method can still be called in Production.</p>\n<p><a href=\"https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/TestOnly.html\" rel=\"nofollow noreferrer\"><code>@TestOnly</code></a> is used for a method that can <strong>only</strong> be used by tests, for instance to create a stub or to perform an additional validation only when testing. Such a method should never be called in Production, although the annotation won't prevent that.</p>\n<p>By the way, JetBrains provide both annotations, so they can be used in the same project.</p>\n"}],"owner":{"account_id":2693858,"reputation":85,"user_id":2326451,"display_name":"Sampath Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3214,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75080703,"answer_count":2,"score":3,"last_activity_date":1673428757,"creation_date":1619073391,"question_id":67207970,"body_markdown":"As per my understanding, these annotations used for methods with an access modifier that allows method invocation from another class for unit testing\r\n\r\n@VisibleForTesting - com.google.common.annotations.VisibleForTesting  \r\n@TestOnly - org.jetbrains.annotations.TestOnly   ","title":"What is the difference between @TestOnly and @VisibleForTesting in unit test","body":"<p>As per my understanding, these annotations used for methods with an access modifier that allows method invocation from another class for unit testing</p>\n<p>@VisibleForTesting - com.google.common.annotations.VisibleForTesting<br />\n@TestOnly - org.jetbrains.annotations.TestOnly</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1673179196,"post_id":75047520,"comment_id":132435715,"body_markdown":"Please don&#39;t post images but he errors stacktraces as code blocks. Your images don&#39;t show the cause of the error","body":"Please don&#39;t post images but he errors stacktraces as code blocks. Your images don&#39;t show the cause of the error"}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673292200,"creation_date":1673292200,"answer_id":75062045,"question_id":75047520,"body_markdown":"You get a Connection closed error, that means Elasticsearch does not accept the connection from your application. \r\n\r\nHave a look at https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-cli-run-dev-mode, you&#39;ll need to make your Java application accept the certifivate for the HTTPS TLS connectio\r\n\r\nFor a local enviroment (and only for that!) you might want to disable the security, there&#39;s some informaiton here: https://discuss.elastic.co/t/using-elasticserach-8-via-docker-without-certificate/303617","title":"Why am I getting Error creating bean with name?","body":"<p>You get a Connection closed error, that means Elasticsearch does not accept the connection from your application.</p>\n<p>Have a look at <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-cli-run-dev-mode\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-cli-run-dev-mode</a>, you'll need to make your Java application accept the certifivate for the HTTPS TLS connectio</p>\n<p>For a local enviroment (and only for that!) you might want to disable the security, there's some informaiton here: <a href=\"https://discuss.elastic.co/t/using-elasticserach-8-via-docker-without-certificate/303617\" rel=\"nofollow noreferrer\">https://discuss.elastic.co/t/using-elasticserach-8-via-docker-without-certificate/303617</a></p>\n"},{"tags":[],"owner":{"account_id":27495247,"reputation":156,"user_id":20979858,"display_name":"Harsha Gandikota"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673428732,"creation_date":1673428732,"answer_id":75080698,"question_id":75047520,"body_markdown":"Since the error is at the constructor of the ProductService class, you can try using @Autowired annotation on the repository fields in the ProductService class and also use a @NoArgsConstructor annotation on the ProductService class. Something like this\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @NoArgsConstructor\r\n    public class ProductService {\r\n        \r\n        @Autowired\r\n        private ProductEsRepository productEsRepository;\r\n        @Autowired        \r\n        private ProductRepository productRepository;\r\n        @Autowired\r\n        private ProductPriceService productPriceService;\r\n        @Autowired\r\n        private ProductDeliveryService productDeliveryService;\r\n        @Autowired\r\n        private ProductAmountService productAmountService;\r\n        @Autowired\r\n        private ProductImageService productImageService;\r\n    \r\n        public Flux&lt;ProductResponse&gt; getAll() {\r\n            return this.productEsRepository.findAll().map(this::mapToDto);\r\n        }\r\n   \r\n        private ProductResponse mapToDto(ProductEs item) {\r\n            BigDecimal productPrice = this.productPriceService.getByMoneyType(item.getId(), MoneyTypes.USD);\r\n           return ProductResponse.builder()\r\n                    .price(productPrice)\r\n                    .name(item.getName())\r\n                    .features(item.getFeatures())\r\n                    .id(item.getId())\r\n                    .description(item.getDescription())\r\n                    .deliveryIn(this.productDeliveryService.getDeliveryInfo(item.getId()))\r\n                    .categoryId(item.getCategory().getId())\r\n                    .available(this.productAmountService.getByProductId(item.getId()))\r\n                    .freeDelivery(this.productDeliveryService.freeDeliveryCheck(item.getId(), productPrice))\r\n                    .moneyType(MoneyTypes.USD)\r\n                    .image(this.productImageService.getProductMainImage(item.getId()))\r\n                    .seller(ProductSellerResponse.builder().id(item.getSeller().getId()).name(item.getSeller().getName()).build())\r\n                    .build();\r\n    \r\n        }\r\n    }\r\nLet me know if this helps.","title":"Why am I getting Error creating bean with name?","body":"<p>Since the error is at the constructor of the ProductService class, you can try using @Autowired annotation on the repository fields in the ProductService class and also use a @NoArgsConstructor annotation on the ProductService class. Something like this</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@NoArgsConstructor\npublic class ProductService {\n    \n    @Autowired\n    private ProductEsRepository productEsRepository;\n    @Autowired        \n    private ProductRepository productRepository;\n    @Autowired\n    private ProductPriceService productPriceService;\n    @Autowired\n    private ProductDeliveryService productDeliveryService;\n    @Autowired\n    private ProductAmountService productAmountService;\n    @Autowired\n    private ProductImageService productImageService;\n\n    public Flux&lt;ProductResponse&gt; getAll() {\n        return this.productEsRepository.findAll().map(this::mapToDto);\n    }\n\n    private ProductResponse mapToDto(ProductEs item) {\n        BigDecimal productPrice = this.productPriceService.getByMoneyType(item.getId(), MoneyTypes.USD);\n       return ProductResponse.builder()\n                .price(productPrice)\n                .name(item.getName())\n                .features(item.getFeatures())\n                .id(item.getId())\n                .description(item.getDescription())\n                .deliveryIn(this.productDeliveryService.getDeliveryInfo(item.getId()))\n                .categoryId(item.getCategory().getId())\n                .available(this.productAmountService.getByProductId(item.getId()))\n                .freeDelivery(this.productDeliveryService.freeDeliveryCheck(item.getId(), productPrice))\n                .moneyType(MoneyTypes.USD)\n                .image(this.productImageService.getProductMainImage(item.getId()))\n                .seller(ProductSellerResponse.builder().id(item.getSeller().getId()).name(item.getSeller().getName()).build())\n                .build();\n\n    }\n}\n</code></pre>\n<p>Let me know if this helps.</p>\n"}],"owner":{"account_id":25772225,"reputation":3,"user_id":19520571,"display_name":"Eray NaccarlÄ±"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673428732,"creation_date":1673178753,"question_id":75047520,"body_markdown":"    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-01-09T10:35:28.576+03:00 ERROR 15136 --- [  restartedMain] o.s.boot.SpringApplication: Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;productApi&#39; defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\api\\ProductApi.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;productService&#39; defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\service\\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;productEsRepository&#39; defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat com.eray.shoppingapp.ShoppingAppApplication.main(ShoppingAppApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;productService&#39; defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\service\\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;productEsRepository&#39; defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t... 24 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productEsRepository&#39; defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t... 38 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:89) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t... 49 common frames omitted\r\n    Caused by: org.springframework.dao.DataAccessResourceFailureException: Connection is closed\r\n    \tat org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:100) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \tat org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:62) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \tat reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7088) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:117) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:64) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934) ~[na:na]\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911) ~[na:na]\r\n    \tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]\r\n    \tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162) ~[na:na]\r\n    \tat co.elastic.clients.transport.rest_client.RestClientTransport$1.onFailure(RestClientTransport.java:179) ~[elasticsearch-java-8.5.1.jar:na]\r\n    \tat org.elasticsearch.client.RestClient$FailureTrackingResponseListener.onDefinitiveFailure(RestClient.java:684) ~[elasticsearch-rest-client-8.5.1.jar:8.5.1]\r\n    \tat org.elasticsearch.client.RestClient$1.failed(RestClient.java:422) ~[elasticsearch-rest-client-8.5.1.jar:8.5.1]\r\n    \tat org.apache.http.concurrent.BasicFuture.failed(BasicFuture.java:137) ~[httpcore-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.executionFailed(DefaultClientExchangeHandlerImpl.java:101) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.impl.nio.client.AbstractClientExchangeHandler.failed(AbstractClientExchangeHandler.java:432) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.endOfInput(HttpAsyncRequestExecutor.java:356) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:261) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:87) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:40) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    \tSuppressed: java.lang.Exception: #block terminated with an error\r\n    \t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \t\tat reactor.core.publisher.Mono.block(Mono.java:1710) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \t\tat org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleReactiveElasticsearchRepository.java:68) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t\tat org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository.&lt;init&gt;(SimpleReactiveElasticsearchRepository.java:60) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \t\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \t\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \t\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:210) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:89) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \t\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\r\n    Caused by: java.lang.RuntimeException: Connection is closed\r\n    \tat org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:61) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t... 26 common frames omitted\r\n    Caused by: org.apache.http.ConnectionClosedException: Connection is closed\r\n    \t... 12 common frames omitted\r\n\r\n\r\n\r\n\r\nRepository\r\n\r\n       public interface ProductEsRepository extends ReactiveElasticsearchRepository&lt;ProductEs, String&gt; {\r\n    }\r\n\r\nController\r\n   \r\n     @RestController\r\n        @RequestMapping(&quot;/products&quot;)\r\n        @RequiredArgsConstructor\r\n        public class ProductApi {\r\n            private final ProductService productService;\r\n            @GetMapping\r\n            public Flux&lt;ProductResponse&gt; getAllProducts(){\r\n                return this.productService.getAll();\r\n            }\r\n        }\r\n\r\n\r\nProduct Service\r\n \r\n\r\n       @Service\r\n        @RequiredArgsConstructor\r\n        public class ProductService {\r\n        \r\n            private final ProductEsRepository productEsRepository;\r\n            private final ProductRepository productRepository;\r\n            private final ProductPriceService productPriceService;\r\n            private final ProductDeliveryService productDeliveryService;\r\n            private final ProductAmountService productAmountService;\r\n            private final ProductImageService productImageService;\r\n        \r\n            public Flux&lt;ProductResponse&gt; getAll() {\r\n                return this.productEsRepository.findAll().map(this::mapToDto);\r\n            }\r\n       \r\n            private ProductResponse mapToDto(ProductEs item) {\r\n                BigDecimal productPrice = this.productPriceService.getByMoneyType(item.getId(), MoneyTypes.USD);\r\n               return ProductResponse.builder()\r\n                        .price(productPrice)\r\n                        .name(item.getName())\r\n                        .features(item.getFeatures())\r\n                        .id(item.getId())\r\n                        .description(item.getDescription())\r\n                        .deliveryIn(this.productDeliveryService.getDeliveryInfo(item.getId()))\r\n                        .categoryId(item.getCategory().getId())\r\n                        .available(this.productAmountService.getByProductId(item.getId()))\r\n                        .freeDelivery(this.productDeliveryService.freeDeliveryCheck(item.getId(), productPrice))\r\n                        .moneyType(MoneyTypes.USD)\r\n                        .image(this.productImageService.getProductMainImage(item.getId()))\r\n                        .seller(ProductSellerResponse.builder().id(item.getSeller().getId()).name(item.getSeller().getName()).build())\r\n                        .build();\r\n        \r\n            }\r\n        }\r\n\r\nDependency\r\n\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n        \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        \t&lt;/parent&gt;\r\n        \t&lt;groupId&gt;com.eray&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;shopping-app&lt;/artifactId&gt;\r\n        \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        \t&lt;name&gt;shopping-app&lt;/name&gt;\r\n        \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        \t&lt;properties&gt;\r\n        \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n        \t&lt;/properties&gt;\r\n        \t&lt;dependencies&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n        \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t&lt;/dependencies&gt;\r\n\r\nDocker compose\r\n\r\n    version: &#39;3.1&#39;\r\n    services:\r\n      mongo:\r\n        image: mongo\r\n        restart: always\r\n        ports:\r\n        -  27017:27017\r\n        environment:\r\n           MONGO_INITDB_ROOT_USERNAME: root\r\n           MONGO_INITDB_ROOT_PASSWORD: eray123\r\n      elasticsearch:\r\n        image: elasticsearch:8.5.0\r\n        ports:\r\n        - 9200:9200\r\n        - 9300:9300\r\n        environment:\r\n           discovery.type: single-node\r\n\r\nDescription\r\nI added @Repository annotation but it didn&#39;t work, I changed elasticsearch version but it still didn&#39;t work \r\n\r\nwhen i remove final keyword only this error remains \r\n\r\n    Error creating bean with name &#39;productEsRepository&#39; defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n\r\ni don&#39;t know what to do i upgraded elasticsearch version from 8.5.3 to 8.5.0 but the problem persists","title":"Why am I getting Error creating bean with name?","body":"<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-01-09T10:35:28.576+03:00 ERROR 15136 --- [  restartedMain] o.s.boot.SpringApplication: Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productApi' defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\api\\ProductApi.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productService' defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\service\\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productEsRepository' defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\n    at com.eray.shoppingapp.ShoppingAppApplication.main(ShoppingAppApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productService' defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\service\\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productEsRepository' defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 24 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productEsRepository' defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 38 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:89) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 49 common frames omitted\nCaused by: org.springframework.dao.DataAccessResourceFailureException: Connection is closed\n    at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:100) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:62) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7088) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:117) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:64) ~[reactor-core-3.5.0.jar:3.5.0]\n    at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162) ~[na:na]\n    at co.elastic.clients.transport.rest_client.RestClientTransport$1.onFailure(RestClientTransport.java:179) ~[elasticsearch-java-8.5.1.jar:na]\n    at org.elasticsearch.client.RestClient$FailureTrackingResponseListener.onDefinitiveFailure(RestClient.java:684) ~[elasticsearch-rest-client-8.5.1.jar:8.5.1]\n    at org.elasticsearch.client.RestClient$1.failed(RestClient.java:422) ~[elasticsearch-rest-client-8.5.1.jar:8.5.1]\n    at org.apache.http.concurrent.BasicFuture.failed(BasicFuture.java:137) ~[httpcore-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.executionFailed(DefaultClientExchangeHandlerImpl.java:101) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.impl.nio.client.AbstractClientExchangeHandler.failed(AbstractClientExchangeHandler.java:432) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.endOfInput(HttpAsyncRequestExecutor.java:356) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:261) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:87) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:40) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.5.0.jar:3.5.0]\n        at reactor.core.publisher.Mono.block(Mono.java:1710) ~[reactor-core-3.5.0.jar:3.5.0]\n        at org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleReactiveElasticsearchRepository.java:68) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n        at org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository.&lt;init&gt;(SimpleReactiveElasticsearchRepository.java:60) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:210) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:89) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\nCaused by: java.lang.RuntimeException: Connection is closed\n    at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:61) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    ... 26 common frames omitted\nCaused by: org.apache.http.ConnectionClosedException: Connection is closed\n    ... 12 common frames omitted\n</code></pre>\n<p>Repository</p>\n<pre><code>   public interface ProductEsRepository extends ReactiveElasticsearchRepository&lt;ProductEs, String&gt; {\n}\n</code></pre>\n<p>Controller</p>\n<pre><code> @RestController\n    @RequestMapping(&quot;/products&quot;)\n    @RequiredArgsConstructor\n    public class ProductApi {\n        private final ProductService productService;\n        @GetMapping\n        public Flux&lt;ProductResponse&gt; getAllProducts(){\n            return this.productService.getAll();\n        }\n    }\n</code></pre>\n<p>Product Service</p>\n<pre><code>   @Service\n    @RequiredArgsConstructor\n    public class ProductService {\n    \n        private final ProductEsRepository productEsRepository;\n        private final ProductRepository productRepository;\n        private final ProductPriceService productPriceService;\n        private final ProductDeliveryService productDeliveryService;\n        private final ProductAmountService productAmountService;\n        private final ProductImageService productImageService;\n    \n        public Flux&lt;ProductResponse&gt; getAll() {\n            return this.productEsRepository.findAll().map(this::mapToDto);\n        }\n   \n        private ProductResponse mapToDto(ProductEs item) {\n            BigDecimal productPrice = this.productPriceService.getByMoneyType(item.getId(), MoneyTypes.USD);\n           return ProductResponse.builder()\n                    .price(productPrice)\n                    .name(item.getName())\n                    .features(item.getFeatures())\n                    .id(item.getId())\n                    .description(item.getDescription())\n                    .deliveryIn(this.productDeliveryService.getDeliveryInfo(item.getId()))\n                    .categoryId(item.getCategory().getId())\n                    .available(this.productAmountService.getByProductId(item.getId()))\n                    .freeDelivery(this.productDeliveryService.freeDeliveryCheck(item.getId(), productPrice))\n                    .moneyType(MoneyTypes.USD)\n                    .image(this.productImageService.getProductMainImage(item.getId()))\n                    .seller(ProductSellerResponse.builder().id(item.getSeller().getId()).name(item.getSeller().getName()).build())\n                    .build();\n    \n        }\n    }\n</code></pre>\n<p>Dependency</p>\n<pre><code> &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.eray&lt;/groupId&gt;\n        &lt;artifactId&gt;shopping-app&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;shopping-app&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n                &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n</code></pre>\n<p>Docker compose</p>\n<pre><code>version: '3.1'\nservices:\n  mongo:\n    image: mongo\n    restart: always\n    ports:\n    -  27017:27017\n    environment:\n       MONGO_INITDB_ROOT_USERNAME: root\n       MONGO_INITDB_ROOT_PASSWORD: eray123\n  elasticsearch:\n    image: elasticsearch:8.5.0\n    ports:\n    - 9200:9200\n    - 9300:9300\n    environment:\n       discovery.type: single-node\n</code></pre>\n<p>Description\nI added @Repository annotation but it didn't work, I changed elasticsearch version but it still didn't work</p>\n<p>when i remove final keyword only this error remains</p>\n<pre><code>Error creating bean with name 'productEsRepository' defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n</code></pre>\n<p>i don't know what to do i upgraded elasticsearch version from 8.5.3 to 8.5.0 but the problem persists</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1673428649,"creation_date":1588775339,"answer_id":61637769,"question_id":61636504,"body_markdown":"here you can read about `subscribeOn` and `publishOn`.\r\n\r\n[publishOn vs subscribeOn][1]\r\n\r\n basically as soon as someone subscribes, the entire chain is created and the call is assigned a thread. If you have **anywhere** a `subscribeOn` in the chain the entire call will use this scheduler. So it doesn&#39;t matter where `subscribeOn`is placed.\r\n\r\nYou can see that in the logs, its starts out, with the call getting placed on the `subscribeOn` scheduler.\r\n\r\nthe `publishOn` on the other hand, as soon as we reach that statement, the thread switches to that scheduler mid way. So this is more dependant on where in the chain it is placed.\r\n\r\nYour logs show that when the inner Flux is emitting it is emitting on the `publishOn` scheduler.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48073315/publishon-vs-subscribeon-in-project-reactor-3","title":"Project Reactor : how the threads will create in case of subscription and publishedOn, how the flow goes?, Stack trace?","body":"<p>here you can read about <code>subscribeOn</code> and <code>publishOn</code>.</p>\n<p><a href=\"https://stackoverflow.com/questions/48073315/publishon-vs-subscribeon-in-project-reactor-3\">publishOn vs subscribeOn</a></p>\n<p>basically as soon as someone subscribes, the entire chain is created and the call is assigned a thread. If you have <strong>anywhere</strong> a <code>subscribeOn</code> in the chain the entire call will use this scheduler. So it doesn't matter where <code>subscribeOn</code>is placed.</p>\n<p>You can see that in the logs, its starts out, with the call getting placed on the <code>subscribeOn</code> scheduler.</p>\n<p>the <code>publishOn</code> on the other hand, as soon as we reach that statement, the thread switches to that scheduler mid way. So this is more dependant on where in the chain it is placed.</p>\n<p>Your logs show that when the inner Flux is emitting it is emitting on the <code>publishOn</code> scheduler.</p>\n"}],"owner":{"account_id":3837601,"reputation":731,"user_id":3181570,"display_name":"G SriHAri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61637769,"answer_count":1,"score":1,"last_activity_date":1673428649,"creation_date":1588771889,"question_id":61636504,"body_markdown":"simple example to understand the thread flow.\r\n\r\n 1. [**gshp subscribedOn-1**] INFO **reactor.Flux.FlatMap.1** -onSubscribe(**FluxFlatMap.FlatMapMain**)\r\n\r\n 2. [**gshp publishOn-7**] INFO **reactor.Flux.FlatMap.1** - onNext(6)\r\n       \r\nHere **reactor.Flux.FlatMap.1** is common for both **gshp subscribedOn-1**, **gshp publishOn-7** \r\n\r\n When we run java, it starts with main thread after that what happens, will it creating **gshp subscribedOn-1** or **reactor.Flux.FlatMap.1**?\r\n\r\n\r\n\r\n      @Test\r\n\t  public void setUpTestTest() {\r\n\t\t  Scheduler scheduler1 = Schedulers.newParallel(&quot;gshp subscribedOn&quot;, 3);\r\n\t\t  Scheduler scheduler2 = Schedulers.newParallel(&quot;gshp publishOn&quot;, 6);\r\n\t\t  Flux&lt;String&gt; flux = Flux.range(1, 200)\r\n\t\t\t\t                  .flatMap(s-&gt; Flux.just(&quot;&quot;+s)\r\n                                                   .publishOn(scheduler2)\r\n                                                   .concatMap(d-&gt;processMessagefluxpause(d, &quot;test&quot;)))\r\n                                                   .log()\r\n\t\t\t\t                  .subscribeOn(scheduler1);\r\n\r\n\t\tStepVerifier.create(flux).expectNextCount(20).verifyComplete();\r\n\t}\r\n    \r\nWhat it means, how the flow goes?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sH1tz.png","title":"Project Reactor : how the threads will create in case of subscription and publishedOn, how the flow goes?, Stack trace?","body":"<p>simple example to understand the thread flow.</p>\n\n<ol>\n<li><p>[<strong>gshp subscribedOn-1</strong>] INFO <strong>reactor.Flux.FlatMap.1</strong> -onSubscribe(<strong>FluxFlatMap.FlatMapMain</strong>)</p></li>\n<li><p>[<strong>gshp publishOn-7</strong>] INFO <strong>reactor.Flux.FlatMap.1</strong> - onNext(6)</p></li>\n</ol>\n\n<p>Here <strong>reactor.Flux.FlatMap.1</strong> is common for both <strong>gshp subscribedOn-1</strong>, <strong>gshp publishOn-7</strong> </p>\n\n<p>When we run java, it starts with main thread after that what happens, will it creating <strong>gshp subscribedOn-1</strong> or <strong>reactor.Flux.FlatMap.1</strong>?</p>\n\n<pre><code>  @Test\n  public void setUpTestTest() {\n      Scheduler scheduler1 = Schedulers.newParallel(\"gshp subscribedOn\", 3);\n      Scheduler scheduler2 = Schedulers.newParallel(\"gshp publishOn\", 6);\n      Flux&lt;String&gt; flux = Flux.range(1, 200)\n                              .flatMap(s-&gt; Flux.just(\"\"+s)\n                                               .publishOn(scheduler2)\n                                               .concatMap(d-&gt;processMessagefluxpause(d, \"test\")))\n                                               .log()\n                              .subscribeOn(scheduler1);\n\n    StepVerifier.create(flux).expectNextCount(20).verifyComplete();\n}\n</code></pre>\n\n<p>What it means, how the flow goes?\n<a href=\"https://i.stack.imgur.com/sH1tz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sH1tz.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","scheduledexecutorservice"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1673345416,"post_id":75068322,"comment_id":132472602,"body_markdown":"You seem to have a misconception in the first snippet: you print `(alertTimeInMillis - now)` as the time to alert but only pass `alertTimeInMillis` to `schedule(...)`. If you read the JavaDoc on `Calendar.getTimeInMillis()` you&#39;ll see that this is the number of milliseconds since epoch (i.e. 1/1/1970 00:00:00,000 UTC) and if you delay by that amount of millis you&#39;d wait another 53 years for the alert :) - Btw, the second snippet is better anyway as it ditches the old `java.util.Date` API.","body":"You seem to have a misconception in the first snippet: you print <code>(alertTimeInMillis - now)</code> as the time to alert but only pass <code>alertTimeInMillis</code> to <code>schedule(...)</code>. If you read the JavaDoc on <code>Calendar.getTimeInMillis()</code> you&#39;ll see that this is the number of milliseconds since epoch (i.e. 1/1/1970 00:00:00,000 UTC) and if you delay by that amount of millis you&#39;d wait another 53 years for the alert :) - Btw, the second snippet is better anyway as it ditches the old <code>java.util.Date</code> API."},{"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"score":0,"creation_date":1673354362,"post_id":75068322,"comment_id":132475405,"body_markdown":"I understand, thanks ! The reason I use the old `Date` is because I&#39;m trying to help someone with an exercise which requires them to work with it (unfortunately:).","body":"I understand, thanks ! The reason I use the old <code>Date</code> is because I&#39;m trying to help someone with an exercise which requires them to work with it (unfortunately:)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1673361188,"post_id":75068322,"comment_id":132478029,"body_markdown":"That is indeed very unfortunate. No one should learn to use the troublesome and long outdated `Date`, `Calendar`, `SimpleDateFormat` and `TimZone` classes.","body":"That is indeed very unfortunate. No one should learn to use the troublesome and long outdated <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code> and <code>TimZone</code> classes."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673428562,"creation_date":1673387353,"answer_id":75076209,"question_id":75068322,"body_markdown":"# Debugging legacy code\r\n\r\n&gt;`ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);`\r\n\r\nNo need for that `Thread::new`. Use empty parens, no arguments needed.\r\n\r\n&gt;`TimeZone timeZone = TimeZone.getTimeZone(ZoneId.systemDefault());`\r\n\r\nWeird. You are mixing the legacy `TimeZone` class with its replacement `ZoneId` from *java.time*. Use only *java.time*; never use the terribly flawed legacy date-time classes.\r\n\r\n    ZoneId z = ZoneId.sytemDefault() ;\r\n\r\nNew conversion methods were added to the old classes for writing code to interoperate with old code not yet updated to java.time. TimeZone.getTimeZone( ZoneId ) is one such conversion method.\r\n\r\nAlso, be aware that the JVMâ€™s current default time zone can be changed at any moment by any code in any thread. Consider if you really want your code to spin the wheel on time-zone-[roulette][1] at runtime.\r\n\r\n&gt;`new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);`\r\n\r\nYour formatting code uses `hh` in lowercase. This means 12-hour clock. But you neglected to collect an indicator of which half of the day. If the user types a time for `02:00:00`, we cannot know if they meant 2 AM or 2 PM. I will change this to `HH` for 24-hour clock in example code below.\r\n\r\n&gt;`SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);`\r\n&gt;`Date date = sdf.parse(dateStr);`\r\n\r\nBe aware that `SimpleDateFormat` is using a default time zone to parse that date-with-time string. You happen to want the default time zone in your earlier code, so this may work out well. Or this may not work out well if some code has changed your JVMâ€™s current default time zone in the interim.\r\n\r\n&gt;`ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt; System.out.println(&quot;alert!&quot;) , alertTimeInMillis, TimeUnit.MILLISECONDS);`\r\n\r\n&#128073; This line is the source of your problem. You told the scheduled executor service to wait a number of milliseconds before executing. Your number of executors is the number of milliseconds since the epoch reference of first moment of 1970 in UTC â€” decades, that is. You told the executor service to wait decades, about 53 years (2023-1970 = 53). Which the executor service will do, faithfully, if you leave your computer running that long.\r\n\r\nYour code:\r\n\r\n    long alertTimeInMillis = calendar.getTimeInMillis();\r\n\r\nâ€¦ calls the [`Calendar#getTimeInMillis`][2] method. Javadoc says:\r\n\r\n&gt;Returns: the current time as UTC milliseconds from the epoch.\r\n\r\nWhat you meant to do is what you *did* do in your `System.out.println`: Calculate time to elapse between the current moment and that target moment.\r\n\r\n    (alertTimeInMillis - now)\r\n\r\nTip: Generally best to log *existing* values, rather than *generating* a value to log.\r\n\r\n# Modern solution: *java.time*\r\n\r\nBut enough of struggling with the terribly flawed legacy date-time classes. Never use `Calendar`, `Date`, or `SimpleDateFormat`. Always use *java.time* classes.\r\n\r\nFirstly, if using an executor service, copy the boilerplate code for a graceful shutdown. Find that code on [`ExecutorService`][3] Javadoc. Here is a slightly modified version. \r\n\r\n```java\r\npackage work.basil.example.time;\r\n\r\nimport java.time.Duration;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WaitToRunDemo\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        WaitToRunDemo app = new WaitToRunDemo();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n    }\r\n\r\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\r\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html \r\n    void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTasksToWork , final Duration waitForTasksToComplete )\r\n    {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! executorService.awaitTermination( waitForTasksToWork.toMillis() , TimeUnit.MILLISECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! executorService.awaitTermination( waitForTasksToComplete.toMillis() , TimeUnit.MILLISECONDS ) )\r\n                { System.err.println( &quot;ExecutorService did not terminate.&quot; ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is complete example code.\r\n\r\nLet&#39;s break up your long code into a few separate methods, each with a specific goal.\r\n\r\nTo represent a span of time not attached to the timeline, use [`Duration`][4] class. \r\n\r\nNotice how we minimized the use of `LocalDateTime`. That class cannot represent a moment, a point on the timeline as it lacks the context of a time zone or offset-from-UTC. I cannot imagine a situation where calling `LocalDateTime.now` is optimal. \r\n\r\n```java\r\npackage work.basil.example.time;\r\n\r\nimport java.time.*;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WaitToRunDemo\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        WaitToRunDemo app = new WaitToRunDemo();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        ZonedDateTime then = this.gatherInput();\r\n        Duration delayUntilTaskRuns = this.calculateTimeToElapse( then );\r\n        System.out.println( &quot;INFO - Now: &quot; + Instant.now() + &quot;. Scheduling task to run after delay of: &quot; + delayUntilTaskRuns.toString() );\r\n\r\n        this.runTask( delayUntilTaskRuns );\r\n        System.out.println( &quot;Demo done at &quot; + Instant.now() );\r\n    }\r\n\r\n    private ZonedDateTime gatherInput ( )\r\n    {\r\n        // Put your `Scanner` code here. Tip: Confirm the time zone with the user.\r\n\r\n        // Simulate the user entering text for the start of the next minute.\r\n        ZoneId zoneId = ZoneId.systemDefault();\r\n        ZonedDateTime now = ZonedDateTime.now( zoneId );\r\n        ZonedDateTime startOfNextMinute = now.truncatedTo( ChronoUnit.MINUTES ).plusMinutes( 1 );\r\n\r\n        DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu HH:mm:ss&quot; );\r\n        String userInput = startOfNextMinute.format( f );\r\n        System.out.println( &quot;DEBUG startOfNextMinute = &quot; + startOfNextMinute );\r\n        System.out.println( &quot;DEBUG userInput = &quot; + userInput );\r\n\r\n        // Parse user input text into a `LocalDateTime` object to represent date with time-of-day but lacking any time zone or offset-from-UTC. \r\n        LocalDateTime ldt = LocalDateTime.parse( userInput , f );\r\n        ZonedDateTime zdt = ldt.atZone( zoneId );\r\n\r\n        return zdt;\r\n    }\r\n\r\n    private Duration calculateTimeToElapse ( final ZonedDateTime then )\r\n    {\r\n        Instant now = Instant.now();\r\n        Duration delayUntilTaskRuns = Duration.between( now , then.toInstant() );\r\n        if ( delayUntilTaskRuns.isNegative() ) { throw new IllegalStateException( &quot;Specified wait time is negative (in the past).&quot; ); }\r\n        return delayUntilTaskRuns;\r\n    }\r\n\r\n    private void runTask ( Duration delay )\r\n    {\r\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\n        Runnable task = ( ) -&gt; System.out.println( &quot;Done running task at &quot; + Instant.now() );\r\n        ses.schedule( task , delay.toMillis() , TimeUnit.MILLISECONDS );\r\n        this.shutdownAndAwaitTermination( ses , Duration.ofMinutes( 2 ) , Duration.ofMinutes( 1 ) );\r\n    }\r\n\r\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\r\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n    void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTasksToWork , final Duration waitForTasksToComplete )\r\n    {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! executorService.awaitTermination( waitForTasksToWork.toMillis() , TimeUnit.MILLISECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! executorService.awaitTermination( waitForTasksToComplete.toMillis() , TimeUnit.MILLISECONDS ) )\r\n                { System.err.println( &quot;ExecutorService did not terminate.&quot; ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhere run:\r\n\r\n```none\r\nDEBUG startOfNextMinute = 2023-01-10T14:30-08:00[America/Los_Angeles]\r\nDEBUG userInput = 10-01-2023 14:30:00\r\nINFO - Now: 2023-01-10T22:29:37.091459Z. Scheduling task to run after delay of: PT22.908594S\r\nDone running task at 2023-01-10T22:30:00.012244Z\r\nDemo done at 2023-01-10T22:30:00.024242Z\r\n```\r\n\r\nMy example code when run was aiming to run the task at 2023-01-10T14:30-08:00[America/Los_Angeles]. That is the exact same moment, same point on the timeline as 2023-01-10T22:30:00Z where the â€œZâ€ means an offset from UTC of zero hours-minutes-seconds. The 14:30 in America/Los_Angeles is 8 hours behind UTC, so adding 8 hours brings us to 22:30 in UTC â€” same moment, different wall-clock time.  \r\n\r\nIn other wordsâ€¦ Alice in Portland Oregon notices her clock on the wall strike 2:30 PM (14:30) as she dials the phone to call Bob in [Reykjav&#237;k][5]. As Bob answers the call, he notices [his own clock on the wall][6] reads 10:30 PM (22:30). Same moment, different wall-clock time. \r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, be aware that lines sent to `System.out.println` across threads may *not* appear in the console in chronological order. Always include a timestamp such as `Instant.now()`. If you care about sequence, study those timestamps. \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Roulette\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#getTimeInMillis()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html\r\n  [5]: https://en.m.wikipedia.org/wiki/Reykjav%C3%ADk\r\n  [6]: https://en.m.wikipedia.org/wiki/Time_in_Iceland","title":"ScheduledExecutorService schedule not triggering","body":"<h1>Debugging legacy code</h1>\n<blockquote>\n<p><code>ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);</code></p>\n</blockquote>\n<p>No need for that <code>Thread::new</code>. Use empty parens, no arguments needed.</p>\n<blockquote>\n<p><code>TimeZone timeZone = TimeZone.getTimeZone(ZoneId.systemDefault());</code></p>\n</blockquote>\n<p>Weird. You are mixing the legacy <code>TimeZone</code> class with its replacement <code>ZoneId</code> from <em>java.time</em>. Use only <em>java.time</em>; never use the terribly flawed legacy date-time classes.</p>\n<pre><code>ZoneId z = ZoneId.sytemDefault() ;\n</code></pre>\n<p>New conversion methods were added to the old classes for writing code to interoperate with old code not yet updated to java.time. TimeZone.getTimeZone( ZoneId ) is one such conversion method.</p>\n<p>Also, be aware that the JVMâ€™s current default time zone can be changed at any moment by any code in any thread. Consider if you really want your code to spin the wheel on time-zone-<a href=\"https://en.m.wikipedia.org/wiki/Roulette\" rel=\"nofollow noreferrer\">roulette</a> at runtime.</p>\n<blockquote>\n<p><code>new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);</code></p>\n</blockquote>\n<p>Your formatting code uses <code>hh</code> in lowercase. This means 12-hour clock. But you neglected to collect an indicator of which half of the day. If the user types a time for <code>02:00:00</code>, we cannot know if they meant 2 AM or 2 PM. I will change this to <code>HH</code> for 24-hour clock in example code below.</p>\n<blockquote>\n<p><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);</code>\n<code>Date date = sdf.parse(dateStr);</code></p>\n</blockquote>\n<p>Be aware that <code>SimpleDateFormat</code> is using a default time zone to parse that date-with-time string. You happen to want the default time zone in your earlier code, so this may work out well. Or this may not work out well if some code has changed your JVMâ€™s current default time zone in the interim.</p>\n<blockquote>\n<p><code>ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt; System.out.println(&quot;alert!&quot;) , alertTimeInMillis, TimeUnit.MILLISECONDS);</code></p>\n</blockquote>\n<p>ðŸ‘‰ This line is the source of your problem. You told the scheduled executor service to wait a number of milliseconds before executing. Your number of executors is the number of milliseconds since the epoch reference of first moment of 1970 in UTC â€” decades, that is. You told the executor service to wait decades, about 53 years (2023-1970 = 53). Which the executor service will do, faithfully, if you leave your computer running that long.</p>\n<p>Your code:</p>\n<pre><code>long alertTimeInMillis = calendar.getTimeInMillis();\n</code></pre>\n<p>â€¦ calls the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#getTimeInMillis()\" rel=\"nofollow noreferrer\"><code>Calendar#getTimeInMillis</code></a> method. Javadoc says:</p>\n<blockquote>\n<p>Returns: the current time as UTC milliseconds from the epoch.</p>\n</blockquote>\n<p>What you meant to do is what you <em>did</em> do in your <code>System.out.println</code>: Calculate time to elapse between the current moment and that target moment.</p>\n<pre><code>(alertTimeInMillis - now)\n</code></pre>\n<p>Tip: Generally best to log <em>existing</em> values, rather than <em>generating</em> a value to log.</p>\n<h1>Modern solution: <em>java.time</em></h1>\n<p>But enough of struggling with the terribly flawed legacy date-time classes. Never use <code>Calendar</code>, <code>Date</code>, or <code>SimpleDateFormat</code>. Always use <em>java.time</em> classes.</p>\n<p>Firstly, if using an executor service, copy the boilerplate code for a graceful shutdown. Find that code on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a> Javadoc. Here is a slightly modified version.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.time;\n\nimport java.time.Duration;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class WaitToRunDemo\n{\n    public static void main ( String[] args )\n    {\n        WaitToRunDemo app = new WaitToRunDemo();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n    }\n\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html \n    void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTasksToWork , final Duration waitForTasksToComplete )\n    {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! executorService.awaitTermination( waitForTasksToWork.toMillis() , TimeUnit.MILLISECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! executorService.awaitTermination( waitForTasksToComplete.toMillis() , TimeUnit.MILLISECONDS ) )\n                { System.err.println( &quot;ExecutorService did not terminate.&quot; ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>Here is complete example code.</p>\n<p>Let's break up your long code into a few separate methods, each with a specific goal.</p>\n<p>To represent a span of time not attached to the timeline, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> class.</p>\n<p>Notice how we minimized the use of <code>LocalDateTime</code>. That class cannot represent a moment, a point on the timeline as it lacks the context of a time zone or offset-from-UTC. I cannot imagine a situation where calling <code>LocalDateTime.now</code> is optimal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.time;\n\nimport java.time.*;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class WaitToRunDemo\n{\n    public static void main ( String[] args )\n    {\n        WaitToRunDemo app = new WaitToRunDemo();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        ZonedDateTime then = this.gatherInput();\n        Duration delayUntilTaskRuns = this.calculateTimeToElapse( then );\n        System.out.println( &quot;INFO - Now: &quot; + Instant.now() + &quot;. Scheduling task to run after delay of: &quot; + delayUntilTaskRuns.toString() );\n\n        this.runTask( delayUntilTaskRuns );\n        System.out.println( &quot;Demo done at &quot; + Instant.now() );\n    }\n\n    private ZonedDateTime gatherInput ( )\n    {\n        // Put your `Scanner` code here. Tip: Confirm the time zone with the user.\n\n        // Simulate the user entering text for the start of the next minute.\n        ZoneId zoneId = ZoneId.systemDefault();\n        ZonedDateTime now = ZonedDateTime.now( zoneId );\n        ZonedDateTime startOfNextMinute = now.truncatedTo( ChronoUnit.MINUTES ).plusMinutes( 1 );\n\n        DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu HH:mm:ss&quot; );\n        String userInput = startOfNextMinute.format( f );\n        System.out.println( &quot;DEBUG startOfNextMinute = &quot; + startOfNextMinute );\n        System.out.println( &quot;DEBUG userInput = &quot; + userInput );\n\n        // Parse user input text into a `LocalDateTime` object to represent date with time-of-day but lacking any time zone or offset-from-UTC. \n        LocalDateTime ldt = LocalDateTime.parse( userInput , f );\n        ZonedDateTime zdt = ldt.atZone( zoneId );\n\n        return zdt;\n    }\n\n    private Duration calculateTimeToElapse ( final ZonedDateTime then )\n    {\n        Instant now = Instant.now();\n        Duration delayUntilTaskRuns = Duration.between( now , then.toInstant() );\n        if ( delayUntilTaskRuns.isNegative() ) { throw new IllegalStateException( &quot;Specified wait time is negative (in the past).&quot; ); }\n        return delayUntilTaskRuns;\n    }\n\n    private void runTask ( Duration delay )\n    {\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\n        Runnable task = ( ) -&gt; System.out.println( &quot;Done running task at &quot; + Instant.now() );\n        ses.schedule( task , delay.toMillis() , TimeUnit.MILLISECONDS );\n        this.shutdownAndAwaitTermination( ses , Duration.ofMinutes( 2 ) , Duration.ofMinutes( 1 ) );\n    }\n\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\n    void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTasksToWork , final Duration waitForTasksToComplete )\n    {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! executorService.awaitTermination( waitForTasksToWork.toMillis() , TimeUnit.MILLISECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! executorService.awaitTermination( waitForTasksToComplete.toMillis() , TimeUnit.MILLISECONDS ) )\n                { System.err.println( &quot;ExecutorService did not terminate.&quot; ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>Where run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>DEBUG startOfNextMinute = 2023-01-10T14:30-08:00[America/Los_Angeles]\nDEBUG userInput = 10-01-2023 14:30:00\nINFO - Now: 2023-01-10T22:29:37.091459Z. Scheduling task to run after delay of: PT22.908594S\nDone running task at 2023-01-10T22:30:00.012244Z\nDemo done at 2023-01-10T22:30:00.024242Z\n</code></pre>\n<p>My example code when run was aiming to run the task at 2023-01-10T14:30-08:00[America/Los_Angeles]. That is the exact same moment, same point on the timeline as 2023-01-10T22:30:00Z where the â€œZâ€ means an offset from UTC of zero hours-minutes-seconds. The 14:30 in America/Los_Angeles is 8 hours behind UTC, so adding 8 hours brings us to 22:30 in UTC â€” same moment, different wall-clock time.</p>\n<p>In other wordsâ€¦ Alice in Portland Oregon notices her clock on the wall strike 2:30 PM (14:30) as she dials the phone to call Bob in <a href=\"https://en.m.wikipedia.org/wiki/Reykjav%C3%ADk\" rel=\"nofollow noreferrer\">ReykjavÃ­k</a>. As Bob answers the call, he notices <a href=\"https://en.m.wikipedia.org/wiki/Time_in_Iceland\" rel=\"nofollow noreferrer\">his own clock on the wall</a> reads 10:30 PM (22:30). Same moment, different wall-clock time.</p>\n<hr />\n<p>By the way, be aware that lines sent to <code>System.out.println</code> across threads may <em>not</em> appear in the console in chronological order. Always include a timestamp such as <code>Instant.now()</code>. If you care about sequence, study those timestamps.</p>\n"},{"tags":[],"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673427414,"creation_date":1673427414,"answer_id":75080463,"question_id":75068322,"body_markdown":"I modified Basil&#39;s modern answer slightly so the prints are on the same time zone and make more sense to me. Feel free to correct me if I&#39;ve done something wrong.\r\n\r\n```\r\nimport java.time.*;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WaitToRunDemo {\r\n    public static void main(String[] args) {\r\n        WaitToRunDemo app = new WaitToRunDemo();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo() {\r\n        ZoneId zoneId = ZoneId.systemDefault();\r\n        ZonedDateTime now = ZonedDateTime.now(zoneId);\r\n        ZonedDateTime then = this.gatherInput(now, zoneId);\r\n        Duration delayUntilTaskRuns = this.calculateTimeToElapse(now, then);\r\n        System.out.println(&quot;INFO - Now: &quot; + now + &quot;. Scheduling task to run after delay of: &quot; + delayUntilTaskRuns);\r\n\r\n        this.runTask(delayUntilTaskRuns, zoneId);\r\n        System.out.println(&quot;Demo done at: &quot; + ZonedDateTime.now(zoneId));\r\n    }\r\n\r\n    private ZonedDateTime gatherInput(ZonedDateTime now, ZoneId zoneId) {\r\n        // Put your `Scanner` code here. Tip: Confirm the time zone with the user.\r\n\r\n        // Simulate the user entering text for the start of the next minute.\r\n        ZonedDateTime startOfNextMinute = now.truncatedTo(ChronoUnit.MINUTES).plusMinutes(1);\r\n\r\n        DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss&quot;);\r\n        String userInput = startOfNextMinute.format(f);\r\n        System.out.println(&quot;DEBUG startOfNextMinute = &quot; + startOfNextMinute);\r\n        System.out.println(&quot;DEBUG userInput = &quot; + userInput);\r\n\r\n        // Parse user input text into a `LocalDateTime` object to represent date with time-of-day but lacking any time zone or offset-from-UTC.\r\n        LocalDateTime ldt = LocalDateTime.parse(userInput, f);\r\n\r\n        return ldt.atZone(zoneId);\r\n    }\r\n\r\n    private Duration calculateTimeToElapse(final ZonedDateTime now, final ZonedDateTime then) {\r\n        Duration delayUntilTaskRuns = Duration.between(now, then);\r\n        if (delayUntilTaskRuns.isNegative()) {\r\n            throw new IllegalStateException(&quot;Specified wait time is negative (in the past).&quot;);\r\n        }\r\n        return delayUntilTaskRuns;\r\n    }\r\n\r\n    private void runTask(Duration delay, ZoneId zoneId) {\r\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\n        Runnable task = () -&gt; System.out.println(&quot;Done running task at: &quot; + ZonedDateTime.now(zoneId));\r\n        ses.schedule(task, delay.toMillis(), TimeUnit.MILLISECONDS);\r\n        this.shutdownAndAwaitTermination(ses, Duration.ofMinutes(2), Duration.ofMinutes(1));\r\n    }\r\n\r\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\r\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n    void shutdownAndAwaitTermination(final ExecutorService executorService, final Duration waitForTasksToWork, final Duration waitForTasksToComplete) {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try {\r\n            // Wait a while for existing tasks to terminate\r\n            if (!executorService.awaitTermination(waitForTasksToWork.toMillis(), TimeUnit.MILLISECONDS)) {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if (!executorService.awaitTermination(waitForTasksToComplete.toMillis(), TimeUnit.MILLISECONDS)) {\r\n                    System.err.println(&quot;ExecutorService did not terminate.&quot;);\r\n                }\r\n            }\r\n        } catch (InterruptedException ex) {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nDEBUG startOfNextMinute = 2023-01-11T10:55+02:00[Asia/Jerusalem]\r\nDEBUG userInput = 11-01-2023 10:55:00\r\nINFO - Now: 2023-01-11T10:54:45.494618+02:00[Asia/Jerusalem]. Scheduling task to run after delay of: PT14.505382S\r\nDone running task at: 2023-01-11T10:55:00.036986+02:00[Asia/Jerusalem]\r\nDemo done at: 2023-01-11T10:55:00.037542+02:00[Asia/Jerusalem]\r\n```","title":"ScheduledExecutorService schedule not triggering","body":"<p>I modified Basil's modern answer slightly so the prints are on the same time zone and make more sense to me. Feel free to correct me if I've done something wrong.</p>\n<pre><code>import java.time.*;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class WaitToRunDemo {\n    public static void main(String[] args) {\n        WaitToRunDemo app = new WaitToRunDemo();\n        app.demo();\n    }\n\n    private void demo() {\n        ZoneId zoneId = ZoneId.systemDefault();\n        ZonedDateTime now = ZonedDateTime.now(zoneId);\n        ZonedDateTime then = this.gatherInput(now, zoneId);\n        Duration delayUntilTaskRuns = this.calculateTimeToElapse(now, then);\n        System.out.println(&quot;INFO - Now: &quot; + now + &quot;. Scheduling task to run after delay of: &quot; + delayUntilTaskRuns);\n\n        this.runTask(delayUntilTaskRuns, zoneId);\n        System.out.println(&quot;Demo done at: &quot; + ZonedDateTime.now(zoneId));\n    }\n\n    private ZonedDateTime gatherInput(ZonedDateTime now, ZoneId zoneId) {\n        // Put your `Scanner` code here. Tip: Confirm the time zone with the user.\n\n        // Simulate the user entering text for the start of the next minute.\n        ZonedDateTime startOfNextMinute = now.truncatedTo(ChronoUnit.MINUTES).plusMinutes(1);\n\n        DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss&quot;);\n        String userInput = startOfNextMinute.format(f);\n        System.out.println(&quot;DEBUG startOfNextMinute = &quot; + startOfNextMinute);\n        System.out.println(&quot;DEBUG userInput = &quot; + userInput);\n\n        // Parse user input text into a `LocalDateTime` object to represent date with time-of-day but lacking any time zone or offset-from-UTC.\n        LocalDateTime ldt = LocalDateTime.parse(userInput, f);\n\n        return ldt.atZone(zoneId);\n    }\n\n    private Duration calculateTimeToElapse(final ZonedDateTime now, final ZonedDateTime then) {\n        Duration delayUntilTaskRuns = Duration.between(now, then);\n        if (delayUntilTaskRuns.isNegative()) {\n            throw new IllegalStateException(&quot;Specified wait time is negative (in the past).&quot;);\n        }\n        return delayUntilTaskRuns;\n    }\n\n    private void runTask(Duration delay, ZoneId zoneId) {\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\n        Runnable task = () -&gt; System.out.println(&quot;Done running task at: &quot; + ZonedDateTime.now(zoneId));\n        ses.schedule(task, delay.toMillis(), TimeUnit.MILLISECONDS);\n        this.shutdownAndAwaitTermination(ses, Duration.ofMinutes(2), Duration.ofMinutes(1));\n    }\n\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\n    void shutdownAndAwaitTermination(final ExecutorService executorService, final Duration waitForTasksToWork, final Duration waitForTasksToComplete) {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try {\n            // Wait a while for existing tasks to terminate\n            if (!executorService.awaitTermination(waitForTasksToWork.toMillis(), TimeUnit.MILLISECONDS)) {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if (!executorService.awaitTermination(waitForTasksToComplete.toMillis(), TimeUnit.MILLISECONDS)) {\n                    System.err.println(&quot;ExecutorService did not terminate.&quot;);\n                }\n            }\n        } catch (InterruptedException ex) {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>DEBUG startOfNextMinute = 2023-01-11T10:55+02:00[Asia/Jerusalem]\nDEBUG userInput = 11-01-2023 10:55:00\nINFO - Now: 2023-01-11T10:54:45.494618+02:00[Asia/Jerusalem]. Scheduling task to run after delay of: PT14.505382S\nDone running task at: 2023-01-11T10:55:00.036986+02:00[Asia/Jerusalem]\nDemo done at: 2023-01-11T10:55:00.037542+02:00[Asia/Jerusalem]\n</code></pre>\n"}],"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75076209,"answer_count":2,"score":2,"last_activity_date":1673428562,"creation_date":1673344993,"question_id":75068322,"body_markdown":"The following code block does not work for me (alert is not being triggered):\r\n\r\n    public static void main(String[] args) throws InterruptedException, ParseException {        \r\n        ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);\r\n        TimeZone timeZone = TimeZone.getTimeZone(ZoneId.systemDefault());\r\n        Calendar calendar = Calendar.getInstance(timeZone);\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;The time now is: &quot; + calendar.getTime());\r\n        System.out.println(&quot;Enter alert date time: &quot;);\r\n        String dateStr = scanner.nextLine();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);\r\n        Date date = sdf.parse(dateStr);\r\n        calendar.setTime(date);\r\n        long alertTimeInMillis = calendar.getTimeInMillis();\r\n        long now = Calendar.getInstance(timeZone).getTimeInMillis();\r\n        System.out.println(&quot;Time to alert: &quot; + (alertTimeInMillis - now) + &quot; millis &quot;);\r\n\r\n        ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt; System.out.println(&quot;alert!&quot;)\r\n                , alertTimeInMillis, TimeUnit.MILLISECONDS);\r\n        \r\n        while (!scheduledFuture.isDone()) {\r\n            System.out.println(&quot;The time now: &quot; + Calendar.getInstance(timeZone).getTime());\r\n            System.out.println(&quot;Expected alert time: &quot; + date);\r\n            Thread.sleep(1000);\r\n        }\r\n        scheduledExecutorService.shutdown();\r\n        scheduledExecutorService.awaitTermination(30, TimeUnit.SECONDS);\r\n    }\r\n\r\n\r\nWhile this code block does work:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);\r\n        LocalDateTime localDateTime = LocalDateTime.of(2023, 1, 10, 12, 1);\r\n        ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt;\r\n                System.out.println(&quot;alert!&quot;),\r\n                LocalDateTime.now().until(localDateTime, ChronoUnit.SECONDS), TimeUnit.SECONDS);\r\n\r\n        while (!scheduledFuture.isDone()) {\r\n            Thread.sleep(1000);\r\n        }\r\n        scheduledExecutorService.shutdown();\r\n        scheduledExecutorService.awaitTermination(30, TimeUnit.SECONDS);\r\n    }\r\n\r\n\r\nI don&#39;t understand the difference, or what exactly is wrong with the first block that I&#39;m missing.","title":"ScheduledExecutorService schedule not triggering","body":"<p>The following code block does not work for me (alert is not being triggered):</p>\n<pre><code>public static void main(String[] args) throws InterruptedException, ParseException {        \n    ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);\n    TimeZone timeZone = TimeZone.getTimeZone(ZoneId.systemDefault());\n    Calendar calendar = Calendar.getInstance(timeZone);\n\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;The time now is: &quot; + calendar.getTime());\n    System.out.println(&quot;Enter alert date time: &quot;);\n    String dateStr = scanner.nextLine();\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);\n    Date date = sdf.parse(dateStr);\n    calendar.setTime(date);\n    long alertTimeInMillis = calendar.getTimeInMillis();\n    long now = Calendar.getInstance(timeZone).getTimeInMillis();\n    System.out.println(&quot;Time to alert: &quot; + (alertTimeInMillis - now) + &quot; millis &quot;);\n\n    ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt; System.out.println(&quot;alert!&quot;)\n            , alertTimeInMillis, TimeUnit.MILLISECONDS);\n    \n    while (!scheduledFuture.isDone()) {\n        System.out.println(&quot;The time now: &quot; + Calendar.getInstance(timeZone).getTime());\n        System.out.println(&quot;Expected alert time: &quot; + date);\n        Thread.sleep(1000);\n    }\n    scheduledExecutorService.shutdown();\n    scheduledExecutorService.awaitTermination(30, TimeUnit.SECONDS);\n}\n</code></pre>\n<p>While this code block does work:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n\n    ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);\n    LocalDateTime localDateTime = LocalDateTime.of(2023, 1, 10, 12, 1);\n    ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt;\n            System.out.println(&quot;alert!&quot;),\n            LocalDateTime.now().until(localDateTime, ChronoUnit.SECONDS), TimeUnit.SECONDS);\n\n    while (!scheduledFuture.isDone()) {\n        Thread.sleep(1000);\n    }\n    scheduledExecutorService.shutdown();\n    scheduledExecutorService.awaitTermination(30, TimeUnit.SECONDS);\n}\n</code></pre>\n<p>I don't understand the difference, or what exactly is wrong with the first block that I'm missing.</p>\n"},{"tags":["java","jdbc","database-connection"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1673403490,"post_id":75077474,"comment_id":132489463,"body_markdown":"You have a typo in your URL - change `jdbc.mysql...` to `jdbc:mysql...` (a colon not a period).","body":"You have a typo in your URL - change <code>jdbc.mysql...</code> to <code>jdbc:mysql...</code> (a colon not a period)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1673403944,"post_id":75077474,"comment_id":132489544,"body_markdown":"It&#39;s not an error, but you can (and should) also remove the `Class.forName(...)` line of code - and the `try...catch` in which it is placed. `Class.forName(...)` is only needed in some _very_ specific circumstances - and this is not one of them. The chances are good that you may _never_ need `Class.forName(...)` for any of your JDBC driver usage. You can research this separately. It used to be needed, a long time ago... many tutorials still include it.","body":"It&#39;s not an error, but you can (and should) also remove the <code>Class.forName(...)</code> line of code - and the <code>try...catch</code> in which it is placed. <code>Class.forName(...)</code> is only needed in some <i>very</i> specific circumstances - and this is not one of them. The chances are good that you may <i>never</i> need <code>Class.forName(...)</code> for any of your JDBC driver usage. You can research this separately. It used to be needed, a long time ago... many tutorials still include it."},{"owner":{"account_id":27493975,"reputation":3,"user_id":20978765,"display_name":"letslearn"},"score":0,"creation_date":1673407772,"post_id":75077474,"comment_id":132490109,"body_markdown":"Thank you! Problem Solved! The problem was the period that I used instead of colon.","body":"Thank you! Problem Solved! The problem was the period that I used instead of colon."}],"answers":[{"tags":[],"owner":{"account_id":27495287,"reputation":26,"user_id":20979896,"display_name":"Peruri Rahul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673428383,"creation_date":1673428383,"answer_id":75080632,"question_id":75077474,"body_markdown":"Bro use  String url = &quot;jdbc:mysql://localhost:3306/University&quot;. Use have missed a colon &#39;:&#39; after jdbc instead you&#39;re using &#39;.&#39;","title":"No suitable driver found error even if the my-sql connector uploaded into the library","body":"<p>Bro use  String url = &quot;jdbc:mysql://localhost:3306/University&quot;. Use have missed a colon ':' after jdbc instead you're using '.'</p>\n"}],"owner":{"account_id":27493975,"reputation":3,"user_id":20978765,"display_name":"letslearn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75080632,"answer_count":1,"score":0,"last_activity_date":1673428383,"creation_date":1673400521,"question_id":75077474,"body_markdown":"I am new to java and in a learning process. I&#39;m working on connecting my JDE with MySql and I have followed every step necessary. but when I run the code, I got &quot; No suitable driver found for jdbc.mysql://localhost:3306/dbname&quot; error. I reviewed questions already in stackoverflow and other sources; but the provided solution didnâ€™t work for me.\r\nAny suggestions why i got this error even if I uploaded the mysql-connector-j-8.0.31/mysql-connector-j-8.0.31.jar.[a screenshot of my code and the error message ](https://i.stack.imgur.com/ChVWd.jpg)\r\n\r\n```\r\npackage JDBC;\r\nimport java.sql.SQLException;\r\nimport java.sql.DriverManager;\r\nimport java.sql.Statement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.Connection;\r\n\r\n\r\n\r\npublic class JDBC {\r\n\tpublic static void main(String[] args) throws SQLException{\r\n\t\tString url = &quot;jdbc.mysql://localhost:3306/University&quot;;\r\n\t\tString username = &quot;root&quot;;\r\n\t\tString password = &quot;root&quot;;\r\n\t\tString query = &quot;select * from EngineeringStudents&quot;;\r\n\t\t\t\t\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\r\n\t\t}catch(ClassNotFoundException e) {\r\n\t\t\t//To do auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tConnection con = DriverManager.getConnection(url, username, password);\r\n\t\t\tStatement statement = con.createStatement();\r\n\t\t\tResultSet result = statement.executeQuery(query);\r\n\t\t\t\r\n\t\t\twhile(result.next()) {\r\n\t\t\t\tString UniversityData = &quot;&quot;;\r\n\t\t\t\tfor(int i = 1; i &lt;= 6; i++) {\r\n\t\t\t\t\tUniversityData += result.getString(i) + &quot;:&quot;;\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(UniversityData);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}catch(SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n```","title":"No suitable driver found error even if the my-sql connector uploaded into the library","body":"<p>I am new to java and in a learning process. I'm working on connecting my JDE with MySql and I have followed every step necessary. but when I run the code, I got &quot; No suitable driver found for jdbc.mysql://localhost:3306/dbname&quot; error. I reviewed questions already in stackoverflow and other sources; but the provided solution didnâ€™t work for me.\nAny suggestions why i got this error even if I uploaded the mysql-connector-j-8.0.31/mysql-connector-j-8.0.31.jar.<a href=\"https://i.stack.imgur.com/ChVWd.jpg\" rel=\"nofollow noreferrer\">a screenshot of my code and the error message </a></p>\n<pre><code>package JDBC;\nimport java.sql.SQLException;\nimport java.sql.DriverManager;\nimport java.sql.Statement;\nimport java.sql.ResultSet;\nimport java.sql.Connection;\n\n\n\npublic class JDBC {\n    public static void main(String[] args) throws SQLException{\n        String url = &quot;jdbc.mysql://localhost:3306/University&quot;;\n        String username = &quot;root&quot;;\n        String password = &quot;root&quot;;\n        String query = &quot;select * from EngineeringStudents&quot;;\n                \n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            \n        }catch(ClassNotFoundException e) {\n            //To do auto-generated catch block\n            e.printStackTrace();\n        }\n        try {\n            Connection con = DriverManager.getConnection(url, username, password);\n            Statement statement = con.createStatement();\n            ResultSet result = statement.executeQuery(query);\n            \n            while(result.next()) {\n                String UniversityData = &quot;&quot;;\n                for(int i = 1; i &lt;= 6; i++) {\n                    UniversityData += result.getString(i) + &quot;:&quot;;\n                }\n                System.out.println(UniversityData);\n            }\n            \n        }catch(SQLException e) {\n            e.printStackTrace();\n            \n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673346559,"post_id":75067073,"comment_id":132472917,"body_markdown":"If that is in your `configurations` block, then isn&#39;t that where you _create_ the `infraLibs` configuration? I would expect this `fileTree` stuff should be in `dependencies`. Something like `dependencies { infraLibs fileTree(&quot;${lib}/log4j-${LOG4J_API_VERSION}&quot;) { include &#39;*.jar&#39; } }`.","body":"If that is in your <code>configurations</code> block, then isn&#39;t that where you <i>create</i> the <code>infraLibs</code> configuration? I would expect this <code>fileTree</code> stuff should be in <code>dependencies</code>. Something like <code>dependencies { infraLibs fileTree(&quot;${lib}&#47;log4j-${LOG4J_API_VERSION}&quot;) { include &#39;*.jar&#39; } }</code>."},{"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"score":0,"creation_date":1673347427,"post_id":75067073,"comment_id":132473151,"body_markdown":"Yes, I&#39;ve many sections in `Configuration` e.g `infraLibs` that I specified. My question is I want to print this dependencies.. how to do that?","body":"Yes, I&#39;ve many sections in <code>Configuration</code> e.g <code>infraLibs</code> that I specified. My question is I want to print this dependencies.. how to do that?"}],"answers":[{"tags":[],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673428215,"creation_date":1673428215,"answer_id":75080597,"question_id":75067073,"body_markdown":"Okay, figured it out by my own using classpath as below\r\n\r\n```\r\ntask printInfraLibs {\r\n    doLast {\r\n        configurations.infraLibs.each { dep -&gt;\r\n            println &quot;$dep.name&quot;\r\n        }\r\n    }\r\n}\r\n```","title":"Gradle : Print dependency graph for local filesystem jar dependencies","body":"<p>Okay, figured it out by my own using classpath as below</p>\n<pre><code>task printInfraLibs {\n    doLast {\n        configurations.infraLibs.each { dep -&gt;\n            println &quot;$dep.name&quot;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75080597,"answer_count":1,"score":0,"last_activity_date":1673428215,"creation_date":1673337955,"question_id":75067073,"body_markdown":"For some strange reasons I MUST have to use jars from local file system and it is serving our purpose as well.\r\n\r\nIn short\r\n```\r\ndependencies {\r\n    compile fileTree(dir: &quot;${lib}/&quot;, includes: [&#39;*.jar&#39;])\r\n}\r\n```\r\n\r\nOR in detailed we have many `configurations` lib bifurcation as below.\r\n```\r\ndependencies {\r\n aspectTools files(&quot;${lib}/aspectj-${ASPECTJ_VERSION}/aspectjtools-${ASPECTJ_VERSION}.jar&quot;)\r\n aspectJrt files(&quot;${lib}/aspectj-${ASPECTJ_VERSION}/aspectjrt-${ASPECTJ_VERSION}.jar&quot;)\r\n infraLibs(\r\n        configurations.aspectJrt +\r\n        configurations.aspectTools +\r\n        fileTree(&quot;${lib}/log4j-${LOG4J_API_VERSION}&quot;) { include &#39;*.jar&#39; } +\r\n        fileTree(dir: &quot;${lib}&quot;,\r\n            includes: [\r\n                &quot;commons-lang-2.6/commons-lang-2.6.jar&quot;,\r\n                &quot;commons-beanutils-1.9.4/commons-beanutils.jar&quot;\r\n            ]\r\n        )\r\n    )\r\n\r\n}\r\n```\r\nI&#39;m trying to print those dependencies as \r\n```\r\n./gradlew myproject:dependencies  --configuration infraLibs\r\n``` \r\nBut it is not printing those jars, how should I print local jars?\r\n\r\nSimple outcome is `No dependencies`\r\n```\r\n------------------------------------------------------------\r\nProject :myproject\r\n------------------------------------------------------------\r\n\r\ninfraLibs\r\nNo dependencies\r\n````","title":"Gradle : Print dependency graph for local filesystem jar dependencies","body":"<p>For some strange reasons I MUST have to use jars from local file system and it is serving our purpose as well.</p>\n<p>In short</p>\n<pre><code>dependencies {\n    compile fileTree(dir: &quot;${lib}/&quot;, includes: ['*.jar'])\n}\n</code></pre>\n<p>OR in detailed we have many <code>configurations</code> lib bifurcation as below.</p>\n<pre><code>dependencies {\n aspectTools files(&quot;${lib}/aspectj-${ASPECTJ_VERSION}/aspectjtools-${ASPECTJ_VERSION}.jar&quot;)\n aspectJrt files(&quot;${lib}/aspectj-${ASPECTJ_VERSION}/aspectjrt-${ASPECTJ_VERSION}.jar&quot;)\n infraLibs(\n        configurations.aspectJrt +\n        configurations.aspectTools +\n        fileTree(&quot;${lib}/log4j-${LOG4J_API_VERSION}&quot;) { include '*.jar' } +\n        fileTree(dir: &quot;${lib}&quot;,\n            includes: [\n                &quot;commons-lang-2.6/commons-lang-2.6.jar&quot;,\n                &quot;commons-beanutils-1.9.4/commons-beanutils.jar&quot;\n            ]\n        )\n    )\n\n}\n</code></pre>\n<p>I'm trying to print those dependencies as</p>\n<pre><code>./gradlew myproject:dependencies  --configuration infraLibs\n</code></pre>\n<p>But it is not printing those jars, how should I print local jars?</p>\n<p>Simple outcome is <code>No dependencies</code></p>\n<pre><code>------------------------------------------------------------\nProject :myproject\n------------------------------------------------------------\n\ninfraLibs\nNo dependencies\n</code></pre>\n"},{"tags":["java","unit-testing","dependency-injection","mockito"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1494542962,"post_id":43926636,"comment_id":74886738,"body_markdown":"have you initialized mocks with `MockitoAnnotations.initmocks(this)`","body":"have you initialized mocks with <code>MockitoAnnotations.initmocks(this)</code>"},{"owner":{"account_id":4865325,"reputation":555,"user_id":3923793,"display_name":"Wildchild"},"score":1,"creation_date":1494543384,"post_id":43926636,"comment_id":74886866,"body_markdown":"no, but how does that relate to this question?","body":"no, but how does that relate to this question?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1494545104,"post_id":43926636,"comment_id":74887309,"body_markdown":"@Wildchild well that makes Mockito do what it is supposed to do with objects annotated `@Spy`, `@Mock`, `@InjectMocks` etc so if you do this after construction of `car` mocks should be injected....","body":"@Wildchild well that makes Mockito do what it is supposed to do with objects annotated <code>@Spy</code>, <code>@Mock</code>, <code>@InjectMocks</code> etc so if you do this after construction of <code>car</code> mocks should be injected...."},{"owner":{"account_id":4865325,"reputation":555,"user_id":3923793,"display_name":"Wildchild"},"score":0,"creation_date":1494545822,"post_id":43926636,"comment_id":74887496,"body_markdown":"I tried put the MockitoAnnotations.initmocks(this) in the beginning of the test function, but it still doesn&#39;t work","body":"I tried put the MockitoAnnotations.initmocks(this) in the beginning of the test function, but it still doesn&#39;t work"},{"owner":{"account_id":2355308,"reputation":774,"user_id":2063238,"display_name":"pmorken"},"score":0,"creation_date":1494548026,"post_id":43926636,"comment_id":74887962,"body_markdown":"Did you also try annotating Engine with @InjectMocks?","body":"Did you also try annotating Engine with @InjectMocks?"},{"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"score":0,"creation_date":1494606608,"post_id":43926636,"comment_id":74917412,"body_markdown":"@pmorken that&#39;s not going to work. Mockito does not support `@InjectMocks` along with other `@Mock` or `@Spy` annotations.","body":"@pmorken that&#39;s not going to work. Mockito does not support <code>@InjectMocks</code> along with other <code>@Mock</code> or <code>@Spy</code> annotations."}],"answers":[{"tags":[],"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1494606327,"creation_date":1494606327,"answer_id":43942419,"question_id":43926636,"body_markdown":"Mockito cannot perform such a tricky injections as it&#39;s not an injection framework. So, you need to refactor your code to make it more testable. It&#39;s easy done by using constructor injection:\r\n\r\n    public class Engine{\r\n        private Configuration configuration;\r\n    \r\n        @Inject \r\n        public Engine(Configuration configuration) {\r\n            this.configuration = configuration;\r\n        }\r\n        ........\r\n    }\r\n\r\n    public class Car{\r\n        private Engine engine;\r\n    \r\n        @Inject    \r\n        public Car(Engine engine) {\r\n            this.engine = engine;\r\n        }\r\n    }\r\n\r\nIn this case you have to handle the mocking and injection manually:\r\n\r\n    public class CarTestCase{\r\n    \r\n        private Configuration configuration;\r\n    \r\n        private Engine engine;\r\n    \r\n        private Car car;\r\n    \r\n        @Before\r\n        public void setUp(){\r\n            configuration = mock(Configuration.class);\r\n            engine = spy(new Engine(configuration));\r\n            car = new Car(engine);\r\n        }\r\n    \r\n        @Test\r\n        public void test(){\r\n    \r\n           Mockito.when(configuration.getProperties(&quot;&quot;)).return(&quot;Something&quot;);\r\n           car.drive();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Mockito Inject mock into Spy object","body":"<p>Mockito cannot perform such a tricky injections as it's not an injection framework. So, you need to refactor your code to make it more testable. It's easy done by using constructor injection:</p>\n\n<pre><code>public class Engine{\n    private Configuration configuration;\n\n    @Inject \n    public Engine(Configuration configuration) {\n        this.configuration = configuration;\n    }\n    ........\n}\n\npublic class Car{\n    private Engine engine;\n\n    @Inject    \n    public Car(Engine engine) {\n        this.engine = engine;\n    }\n}\n</code></pre>\n\n<p>In this case you have to handle the mocking and injection manually:</p>\n\n<pre><code>public class CarTestCase{\n\n    private Configuration configuration;\n\n    private Engine engine;\n\n    private Car car;\n\n    @Before\n    public void setUp(){\n        configuration = mock(Configuration.class);\n        engine = spy(new Engine(configuration));\n        car = new Car(engine);\n    }\n\n    @Test\n    public void test(){\n\n       Mockito.when(configuration.getProperties(\"\")).return(\"Something\");\n       car.drive();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12145950,"reputation":5001,"user_id":8868289,"display_name":"Yoory N."},"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1551364225,"creation_date":1528641114,"answer_id":50784746,"question_id":43926636,"body_markdown":"I&#39;ve also wandered how to inject a mock into a spy.\r\n\r\nThe following approach will **not** work:\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    private MySpy spy;\r\n\r\nBut the desired behavior can be achieved by a &quot;hybrid&quot; approach, when using both annotation and manual mocking. The following works perfectly:\r\n\r\n    @Mock\r\n    private NeedToBeMocked needToBeMocked;\r\n\r\n    @InjectMocks\r\n    private MySpy mySpy;\r\n\r\n    @InjectMocks\r\n    private SubjectUnderTest sut;\r\n\r\n    @BeforeMethod\r\n    public void setUp() {\r\n        mySpy = Mockito.spy(new MySpy());\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n(`SubjectUnderTest` here depends on `MySpy`, and `MySpy` in its turn depends on `NeedToBeMocked`).\r\n\r\n\r\n**UPD:** Personally, I think that if you have to do such a magic too often, it might be a sign that there is something wrong with dependenicies between your classes and it is worth to perform a little bit of refactoring to improve your code.","title":"Mockito Inject mock into Spy object","body":"<p>I've also wandered how to inject a mock into a spy.</p>\n\n<p>The following approach will <strong>not</strong> work:</p>\n\n<pre><code>@Spy\n@InjectMocks\nprivate MySpy spy;\n</code></pre>\n\n<p>But the desired behavior can be achieved by a \"hybrid\" approach, when using both annotation and manual mocking. The following works perfectly:</p>\n\n<pre><code>@Mock\nprivate NeedToBeMocked needToBeMocked;\n\n@InjectMocks\nprivate MySpy mySpy;\n\n@InjectMocks\nprivate SubjectUnderTest sut;\n\n@BeforeMethod\npublic void setUp() {\n    mySpy = Mockito.spy(new MySpy());\n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n\n<p>(<code>SubjectUnderTest</code> here depends on <code>MySpy</code>, and <code>MySpy</code> in its turn depends on <code>NeedToBeMocked</code>).</p>\n\n<p><strong>UPD:</strong> Personally, I think that if you have to do such a magic too often, it might be a sign that there is something wrong with dependenicies between your classes and it is worth to perform a little bit of refactoring to improve your code.</p>\n"},{"tags":[],"owner":{"account_id":4786818,"reputation":181,"user_id":3867040,"display_name":"Jack Yang"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1532412810,"creation_date":1532412810,"answer_id":51491614,"question_id":43926636,"body_markdown":"I also met this issue during the unit testing with Spring boot framework, but I found one solution for using both @Spy and @InjectMocks\r\n\r\n**Previous answer from Yoory N.**\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    private MySpy spy;\r\n\r\nBecause InjectMocks need to have instance created, so the solution works for me is at below,\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    private MySpy spy = new MySpy();\r\n\r\n","title":"Mockito Inject mock into Spy object","body":"<p>I also met this issue during the unit testing with Spring boot framework, but I found one solution for using both @Spy and @InjectMocks</p>\n\n<p><strong>Previous answer from Yoory N.</strong></p>\n\n<pre><code>@Spy\n@InjectMocks\nprivate MySpy spy;\n</code></pre>\n\n<p>Because InjectMocks need to have instance created, so the solution works for me is at below,</p>\n\n<pre><code>@Spy\n@InjectMocks\nprivate MySpy spy = new MySpy();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5784582,"reputation":488,"user_id":4564236,"display_name":"DavidBu"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1543398759,"creation_date":1543398759,"answer_id":53516598,"question_id":43926636,"body_markdown":"I think I just found the definitive answer. I tried Yoory approach but changed the order of the annotations :\r\n\r\n    @InjectMocks\r\n    @Spy\r\n    private MySpy spy;\r\n\r\nI assume that Mockito first creates the mock, and adds a spy on top of that. So there is no need to instantiate the MySpy object.","title":"Mockito Inject mock into Spy object","body":"<p>I think I just found the definitive answer. I tried Yoory approach but changed the order of the annotations :</p>\n\n<pre><code>@InjectMocks\n@Spy\nprivate MySpy spy;\n</code></pre>\n\n<p>I assume that Mockito first creates the mock, and adds a spy on top of that. So there is no need to instantiate the MySpy object.</p>\n"},{"tags":[],"owner":{"account_id":178797,"reputation":1794,"user_id":3402449,"display_name":"Ahmad Shahwan"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1582101541,"creation_date":1582101541,"answer_id":60296067,"question_id":43926636,"body_markdown":"The (simplest) solution that worked for me.\r\n\r\n    @InjectMocks\r\n    private MySpy spy = Mockito.spy(new MySpy());\r\n\r\nNo need for `MockitoAnnotations.initMocks(this)` in this case, as long as test class is annotated with `@RunWith(MockitoJUnitRunner.class)`.","title":"Mockito Inject mock into Spy object","body":"<p>The (simplest) solution that worked for me.</p>\n\n<pre><code>@InjectMocks\nprivate MySpy spy = Mockito.spy(new MySpy());\n</code></pre>\n\n<p>No need for <code>MockitoAnnotations.initMocks(this)</code> in this case, as long as test class is annotated with <code>@RunWith(MockitoJUnitRunner.class)</code>.</p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673428165,"creation_date":1673428165,"answer_id":75080592,"question_id":43926636,"body_markdown":"Junit5 + mockito-junit-upiter-4.2.0 works well\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MyTest {\r\n    \r\n    @Spy\r\n    @InjectMocks\r\n    private SomeClass spy = new SomeClass();\r\n\r\n","title":"Mockito Inject mock into Spy object","body":"<p>Junit5 + mockito-junit-upiter-4.2.0 works well</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class MyTest {\n\n@Spy\n@InjectMocks\nprivate SomeClass spy = new SomeClass();\n</code></pre>\n"}],"owner":{"account_id":4865325,"reputation":555,"user_id":3923793,"display_name":"Wildchild"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66644,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":43942419,"answer_count":6,"score":54,"last_activity_date":1673428165,"creation_date":1494542039,"question_id":43926636,"body_markdown":"I&#39;m writing a test case for a Class which has a 2 level of dependency injection. I use @Spy annotation for the 1 level dependency injection object, and I would like to Mock the 2nd level of injection. However, I kept getting null pointer exception on the 2nd level. Is there any way that I inject the mock into the @Spy object?\r\n\r\n    public class CarTestCase{\r\n        @Mock\r\n        private Configuration configuration;\r\n        \t\r\n        @Spy \r\n        private Engine engine;\r\n    \r\n        @InjectMocks \r\n        private Car car;\r\n        \r\n        @Test\r\n        public void test(){\r\n\r\n           Mockito.when(configuration.getProperties(&quot;&quot;)).return(&quot;Something&quot;);\r\n           car.drive();\r\n        }\r\n    \r\n    }\r\n\r\n    public class Car{\r\n        @Inject\r\n        private Engine engine;\r\n    \r\n        public void drive(){\r\n            engine.start();\r\n        }\r\n    }\r\n\r\n    public class Engine{\r\n        @Inject \r\n        private Configuration configuration;\r\n        \r\n        public void start(){\r\n            configuration.getProperties();   // null pointer exception\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Mockito Inject mock into Spy object","body":"<p>I'm writing a test case for a Class which has a 2 level of dependency injection. I use @Spy annotation for the 1 level dependency injection object, and I would like to Mock the 2nd level of injection. However, I kept getting null pointer exception on the 2nd level. Is there any way that I inject the mock into the @Spy object?</p>\n\n<pre><code>public class CarTestCase{\n    @Mock\n    private Configuration configuration;\n\n    @Spy \n    private Engine engine;\n\n    @InjectMocks \n    private Car car;\n\n    @Test\n    public void test(){\n\n       Mockito.when(configuration.getProperties(\"\")).return(\"Something\");\n       car.drive();\n    }\n\n}\n\npublic class Car{\n    @Inject\n    private Engine engine;\n\n    public void drive(){\n        engine.start();\n    }\n}\n\npublic class Engine{\n    @Inject \n    private Configuration configuration;\n\n    public void start(){\n        configuration.getProperties();   // null pointer exception\n    }\n\n}\n</code></pre>\n"},{"tags":["java","gwt","combobox","gwt-ext"],"comments":[{"owner":{"account_id":40213,"reputation":64391,"user_id":116472,"display_name":"Thomas Broyer"},"score":0,"creation_date":1381931820,"post_id":19400786,"comment_id":28763745,"body_markdown":"There&#39;s no `ComboBox` in GWT, are you using a third-party widget library?","body":"There&#39;s no <code>ComboBox</code> in GWT, are you using a third-party widget library?"}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1381953436,"creation_date":1381918803,"answer_id":19400860,"question_id":19400786,"body_markdown":"If you are reffering to `Listbox`\r\n\r\n**add[ChangeHandler][1]**\r\n\r\n    dropBox.addChangeHandler(new ChangeHandler() {\r\n          public void onChange(ChangeEvent event) {\r\n            //do something\r\n          }\r\n        });\r\n\r\n[Here is the live demo, source code.][2]\r\n\r\n\r\n \r\n\r\n\r\n  [1]: http://www.gwtproject.org/javadoc/latest/com/google/gwt/event/dom/client/ChangeHandler.html\r\n  [2]: http://gwt.googleusercontent.com/samples/Showcase/Showcase.html#!CwListBox","title":"GWT ComboBox value change handler","body":"<p>If you are reffering to <code>Listbox</code></p>\n\n<p><strong>add<a href=\"http://www.gwtproject.org/javadoc/latest/com/google/gwt/event/dom/client/ChangeHandler.html\" rel=\"noreferrer\">ChangeHandler</a></strong></p>\n\n<pre><code>dropBox.addChangeHandler(new ChangeHandler() {\n      public void onChange(ChangeEvent event) {\n        //do something\n      }\n    });\n</code></pre>\n\n<p><a href=\"http://gwt.googleusercontent.com/samples/Showcase/Showcase.html#!CwListBox\" rel=\"noreferrer\">Here is the live demo, source code.</a></p>\n"}],"owner":{"account_id":2276745,"reputation":1429,"user_id":2002804,"accept_rate":40,"display_name":"Jaykishan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5750,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673428098,"creation_date":1381918625,"question_id":19400786,"body_markdown":"I have a `GWT-EXT ComboBox` having some 3-5 value in my project.&lt;br&gt;\r\nCan anyboy help me to find value change event(or selection event) ? &lt;br&gt;\r\nOr any other way to get notified with GWT-EXT `ComboBox` state change.","title":"GWT ComboBox value change handler","body":"<p>I have a <code>GWT-EXT ComboBox</code> having some 3-5 value in my project.<br>\nCan anyboy help me to find value change event(or selection event) ? <br>\nOr any other way to get notified with GWT-EXT <code>ComboBox</code> state change.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673424236,"post_id":75079896,"comment_id":132493134,"body_markdown":"[Did you google?](https://www.baeldung.com/spring-bean)","body":"<a href=\"https://www.baeldung.com/spring-bean\" rel=\"nofollow noreferrer\">Did you google?</a>"},{"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"score":2,"creation_date":1673425541,"post_id":75079896,"comment_id":132493563,"body_markdown":"Its always a good idea to check why a framework was created and what problem it solves before starting to use it","body":"Its always a good idea to check why a framework was created and what problem it solves before starting to use it"}],"answers":[{"tags":[],"owner":{"account_id":22581348,"reputation":113,"user_id":16765942,"display_name":"Gabriela83"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673424412,"creation_date":1673424412,"answer_id":75079936,"question_id":75079896,"body_markdown":"Short answer: Spring bean = object.\r\n\r\nLong answer: It&#39;s easier to allow Spring to inject all of your objects into the classes that depend on them, rather then creating your own IoC container. \r\n\r\nRead more about it here: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html","title":"Why do we need to use beans in spring boot?","body":"<p>Short answer: Spring bean = object.</p>\n<p>Long answer: It's easier to allow Spring to inject all of your objects into the classes that depend on them, rather then creating your own IoC container.</p>\n<p>Read more about it here: <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html</a></p>\n"},{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673424637,"creation_date":1673424637,"answer_id":75079970,"question_id":75079896,"body_markdown":"@Bean annotation is basically used to define your class as Object yes you re right that creatiing a bean initally requires a more coding that directly creating a object of the class but have you ever think suppose you have created the object by using new keyword and you have created this object at many places suppose 1000 places and if you have to change anything in your object that will complicate you because you have to go all 1000 places and change it but when you are using bean you need to make those change at single place and at all other places it will be reflectd automatically also in this case we donot need to compile your whole code that&#39;s why we use @bean also it will be very helpfull to make your code losselly coupled","title":"Why do we need to use beans in spring boot?","body":"<p>@Bean annotation is basically used to define your class as Object yes you re right that creatiing a bean initally requires a more coding that directly creating a object of the class but have you ever think suppose you have created the object by using new keyword and you have created this object at many places suppose 1000 places and if you have to change anything in your object that will complicate you because you have to go all 1000 places and change it but when you are using bean you need to make those change at single place and at all other places it will be reflectd automatically also in this case we donot need to compile your whole code that's why we use @bean also it will be very helpfull to make your code losselly coupled</p>\n"},{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673425818,"creation_date":1673425293,"answer_id":75080081,"question_id":75079896,"body_markdown":"Spring is a framework that allows you to use dependency inject. This means that the framework can build class instances (beans) for you and you simply declare the dependencies between the beans. I suggest you to get familiar with [dependency injection][1].\r\n\r\n```java\r\n@Bean\r\npublic class SuperHeavyService {\r\n\r\n   // the datasource is build by the framework due to configuration\r\n   private Datasource connection;\r\n   private HttpClient client;\r\n\r\n   // \r\n   public SuperHeavyService(Datasource connection, HttpClient client) {\r\n\r\n     this.connection = connection;\r\n     this.client = client;\r\n   }\r\n}\r\n\r\n@Bean\r\npublic class HttpClient {\r\n}\r\n\r\n```\r\n\r\nThe example above shows you that the SuperHeavyService is created by the framework and the framework will inject the requires types using the constructor of the SuperHeavyService class. This is dependency injection.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dependency_injection","title":"Why do we need to use beans in spring boot?","body":"<p>Spring is a framework that allows you to use dependency inject. This means that the framework can build class instances (beans) for you and you simply declare the dependencies between the beans. I suggest you to get familiar with <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow noreferrer\">dependency injection</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic class SuperHeavyService {\n\n   // the datasource is build by the framework due to configuration\n   private Datasource connection;\n   private HttpClient client;\n\n   // \n   public SuperHeavyService(Datasource connection, HttpClient client) {\n\n     this.connection = connection;\n     this.client = client;\n   }\n}\n\n@Bean\npublic class HttpClient {\n}\n\n</code></pre>\n<p>The example above shows you that the SuperHeavyService is created by the framework and the framework will inject the requires types using the constructor of the SuperHeavyService class. This is dependency injection.</p>\n"},{"tags":[],"owner":{"account_id":27487494,"reputation":11,"user_id":20973483,"display_name":"Umesh Maurya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673428021,"creation_date":1673428021,"answer_id":75080570,"question_id":75079896,"body_markdown":"We use bean mainly to achive loose coupling.\r\nWhen you are creating objects by yourself, then these objects are tight coupled.\r\nImagine an application with dozens or even hundreds of classes. Sometimes we want to share a single instance of a class across the whole application, other times we need a separate object for each use case, and so on.\r\n\r\nManaging such a number of objects is nothing short of a nightmare. This is where inversion of control comes to the rescue.\r\n\r\nInstead of constructing dependencies by itself, an object can retrieve its dependencies from an IoC container. All we need to do is to provide the container with appropriate configuration metadata.\r\n\r\nWith the IOC, you can achieve loose coupling.\r\n\r\nLoose coupling means that classes are mostly independent. If the only knowledge that class A has about class B, is what class B has exposed through its interface, then class A and class B are said to be loosely coupled. In order to over come from the problems of tight coupling between objects, spring framework uses dependency injection mechanism with the help of POJO/P model and through dependency injection its possible to achieve loose coupling.\r\nExample : If you change your shirt, then you are not forced to change your body â€“ when you can do that, then you have loose coupling. When you canâ€™t do that, then you have tight coupling. The examples of Loose coupling are Interface, JMS.\r\n\r\n Java program to illustrate loose coupling concept\r\n\r\n    public interface Topic\r\n    {\r\n        void understand();\r\n    }\r\n    class Topic1 implements Topic {\r\n    public void understand()\r\n        {\r\n            System.out.println(&quot;Got it&quot;);\r\n        }\r\n    } class Topic2 implements Topic {\r\n    public void understand()\r\n        {\r\n            System.out.println(&quot;understand&quot;);\r\n        }\r\n    } public class Subject {\r\n    public static void main(String[] args)\r\n        {\r\n            Topic t = new Topic1();\r\n            t.understand();\r\n        }\r\n    }\r\n\r\nExplanation : In the above example, Topic1 and Topic2 objects are loosely coupled. It means Topic is an interface and we can inject any of the implemented classes at run time and we can provide service to the end user.\r\n\r\nHope it helps.","title":"Why do we need to use beans in spring boot?","body":"<p>We use bean mainly to achive loose coupling.\nWhen you are creating objects by yourself, then these objects are tight coupled.\nImagine an application with dozens or even hundreds of classes. Sometimes we want to share a single instance of a class across the whole application, other times we need a separate object for each use case, and so on.</p>\n<p>Managing such a number of objects is nothing short of a nightmare. This is where inversion of control comes to the rescue.</p>\n<p>Instead of constructing dependencies by itself, an object can retrieve its dependencies from an IoC container. All we need to do is to provide the container with appropriate configuration metadata.</p>\n<p>With the IOC, you can achieve loose coupling.</p>\n<p>Loose coupling means that classes are mostly independent. If the only knowledge that class A has about class B, is what class B has exposed through its interface, then class A and class B are said to be loosely coupled. In order to over come from the problems of tight coupling between objects, spring framework uses dependency injection mechanism with the help of POJO/P model and through dependency injection its possible to achieve loose coupling.\nExample : If you change your shirt, then you are not forced to change your body â€“ when you can do that, then you have loose coupling. When you canâ€™t do that, then you have tight coupling. The examples of Loose coupling are Interface, JMS.</p>\n<p>Java program to illustrate loose coupling concept</p>\n<pre><code>public interface Topic\n{\n    void understand();\n}\nclass Topic1 implements Topic {\npublic void understand()\n    {\n        System.out.println(&quot;Got it&quot;);\n    }\n} class Topic2 implements Topic {\npublic void understand()\n    {\n        System.out.println(&quot;understand&quot;);\n    }\n} public class Subject {\npublic static void main(String[] args)\n    {\n        Topic t = new Topic1();\n        t.understand();\n    }\n}\n</code></pre>\n<p>Explanation : In the above example, Topic1 and Topic2 objects are loosely coupled. It means Topic is an interface and we can inject any of the implemented classes at run time and we can provide service to the end user.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":27496380,"reputation":19,"user_id":20980824,"display_name":"RandomUser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1127,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"closed_date":1673428723,"answer_count":4,"score":-4,"last_activity_date":1673428021,"creation_date":1673424177,"question_id":75079896,"body_markdown":"I am just getting started with spring boot and I don&#39;t get why would I use beans instead of creating my own objects. what is the difference between an object that I created and the one spring created(bean)?\r\n\r\nI tried making a bean and it takes more coding than creating a normal object, I had to learn how to use ApplicationContext,getBean etc..","title":"Why do we need to use beans in spring boot?","body":"<p>I am just getting started with spring boot and I don't get why would I use beans instead of creating my own objects. what is the difference between an object that I created and the one spring created(bean)?</p>\n<p>I tried making a bean and it takes more coding than creating a normal object, I had to learn how to use ApplicationContext,getBean etc..</p>\n"},{"tags":["java","netbeans-7"],"comments":[{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1363012513,"post_id":6207190,"comment_id":21667021,"body_markdown":"Similar problem here.  JAX-WS-ENDORSED appears in my Libraries listing, but adding it doesn&#39;t help...","body":"Similar problem here.  JAX-WS-ENDORSED appears in my Libraries listing, but adding it doesn&#39;t help..."}],"answers":[{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1673427939,"creation_date":1306961076,"answer_id":6207429,"question_id":6207190,"body_markdown":"Netbeans maintains a set of libraries, which are simply a convenient way to manage groups of related jar files. Start by clicking **Tools** &gt; **Libraries**. You will see the library manager window.\r\n\r\n![Library Manager][1]\r\n\r\nYou will see the options to add your own libraries if you have jar files downloaded. If you do not see the library that you are looking for you can download them and add them your self. Once the library exist in Netbeans you can go to the **Project Explorer** window and right click on the *Libraries* tab of your project. Select **Add Library** and you will have the chance to add the library that you added in the library manager.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RGRI8.png","title":"How do I reference libraries in NetBeans?","body":"<p>Netbeans maintains a set of libraries, which are simply a convenient way to manage groups of related jar files. Start by clicking <strong>Tools</strong> &gt; <strong>Libraries</strong>. You will see the library manager window.</p>\n<p><img src=\"https://i.stack.imgur.com/RGRI8.png\" alt=\"Library Manager\" /></p>\n<p>You will see the options to add your own libraries if you have jar files downloaded. If you do not see the library that you are looking for you can download them and add them your self. Once the library exist in Netbeans you can go to the <strong>Project Explorer</strong> window and right click on the <em>Libraries</em> tab of your project. Select <strong>Add Library</strong> and you will have the chance to add the library that you added in the library manager.</p>\n"},{"tags":[],"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1307551030,"creation_date":1307550466,"answer_id":6282089,"question_id":6207190,"body_markdown":"You may want to right click on your project, go to properties -&gt; Libraries.\r\n\r\nRemove the JAX-WS-ENDORSED library, and try using JAX-WS 2.2\r\n\r\nAlso remove metro and try adding METRO 2.0\r\n\r\nThat may solve your problem.\r\n\r\nYou may also want to right-click on your web service references and select\r\n\r\nEdit Web Service Attributes\r\n\r\nThen on wsimport Options tab see if xendorsed is set to true.\r\n\r\n**UPDATE**\r\n\r\nYou may need to close netbeans and then open it again, and it may work.  I was having a problem similar and I just did that and it worked.\r\n\r\nThe only difference, and it may not be needed, is that I also added the JAXB 2.2 library, but that was because I was trying to solve a compilation error.","title":"How do I reference libraries in NetBeans?","body":"<p>You may want to right click on your project, go to properties -> Libraries.</p>\n\n<p>Remove the JAX-WS-ENDORSED library, and try using JAX-WS 2.2</p>\n\n<p>Also remove metro and try adding METRO 2.0</p>\n\n<p>That may solve your problem.</p>\n\n<p>You may also want to right-click on your web service references and select</p>\n\n<p>Edit Web Service Attributes</p>\n\n<p>Then on wsimport Options tab see if xendorsed is set to true.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>You may need to close netbeans and then open it again, and it may work.  I was having a problem similar and I just did that and it worked.</p>\n\n<p>The only difference, and it may not be needed, is that I also added the JAXB 2.2 library, but that was because I was trying to solve a compilation error.</p>\n"},{"tags":[],"owner":{"account_id":932327,"reputation":21,"user_id":961942,"display_name":"mariodlg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1316810470,"creation_date":1316810470,"answer_id":7534586,"question_id":6207190,"body_markdown":"If it is still needed, I had the same situation when opened a netbeans 6.9 project in netbeans 7. There is no way to resolve the &#39;jaxb-endorsed&#39; (in my case was jaxb and not jaxws) reference using the libraries window. \r\n\r\nI found a endorsed.classpath property in the nbproject/project.properties file.\r\nI still not sure what is its purpose, but in this property I found the bad reference to jaxb-endorsed.classpath, so I deleted, closed netbeans and opened again, and the reference problem has gone.\r\n\r\nI already have Jaxb 2.2 library added to my project, so it is working good with the modification I did to the project.properties.\r\n\r\nI hope it helps.","title":"How do I reference libraries in NetBeans?","body":"<p>If it is still needed, I had the same situation when opened a netbeans 6.9 project in netbeans 7. There is no way to resolve the 'jaxb-endorsed' (in my case was jaxb and not jaxws) reference using the libraries window. </p>\n\n<p>I found a endorsed.classpath property in the nbproject/project.properties file.\nI still not sure what is its purpose, but in this property I found the bad reference to jaxb-endorsed.classpath, so I deleted, closed netbeans and opened again, and the reference problem has gone.</p>\n\n<p>I already have Jaxb 2.2 library added to my project, so it is working good with the modification I did to the project.properties.</p>\n\n<p>I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":84692,"reputation":2109,"user_id":236562,"display_name":"William Scott"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1319160300,"creation_date":1319159983,"answer_id":7844046,"question_id":6207190,"body_markdown":"I just came across this issue and found some help from http://netbeans.org/bugzilla/show_bug.cgi?id=187145. Apparently, Netbeans will create the JAX-WS-ENDORSED library when a new web service is created. So go to File &gt; New File, choose Web Service &gt; Web Service Client and fill in dummy values (this can be done in a throwaway project). This client can then be removed, and Netbeans will have created the library with the following classpath entries:\r\n\r\n    java/modules/ext/jaxws22/api/jaxws-api.jar\r\n    ide/modules/ext/jaxb/api/jaxb-api.jar\r\n\r\nThese are relative to your Netbeans install directory (on OS X will be located in Contents/Resources/Netbeans within the .app). Alternatively, you could create the library manually using the entries above.\r\n\r\nThis only needs to be done once, as the library will be added to Netbeans Global Libraries list.","title":"How do I reference libraries in NetBeans?","body":"<p>I just came across this issue and found some help from <a href=\"http://netbeans.org/bugzilla/show_bug.cgi?id=187145\" rel=\"noreferrer\">http://netbeans.org/bugzilla/show_bug.cgi?id=187145</a>. Apparently, Netbeans will create the JAX-WS-ENDORSED library when a new web service is created. So go to File > New File, choose Web Service > Web Service Client and fill in dummy values (this can be done in a throwaway project). This client can then be removed, and Netbeans will have created the library with the following classpath entries:</p>\n\n<pre><code>java/modules/ext/jaxws22/api/jaxws-api.jar\nide/modules/ext/jaxb/api/jaxb-api.jar\n</code></pre>\n\n<p>These are relative to your Netbeans install directory (on OS X will be located in Contents/Resources/Netbeans within the .app). Alternatively, you could create the library manually using the entries above.</p>\n\n<p>This only needs to be done once, as the library will be added to Netbeans Global Libraries list.</p>\n"},{"tags":[],"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1327768164,"creation_date":1327768164,"answer_id":9046846,"question_id":6207190,"body_markdown":"I had a similar problem : DO NOT DELETE THE JAX-WS-ENDORSED - remind me to downvote. I had to go to the imported project  &gt; resolve reference\r\nproblems dialogue &gt; delete the references from there which were pointing to the old NB folders - pic : ![enter image description here][1]\r\n\r\nand then create the throwaway web service as suggested by William Scott and then add the newly created jars :![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RM77k.jpg\r\n  [2]: http://i.stack.imgur.com/LXDyg.jpg","title":"How do I reference libraries in NetBeans?","body":"<p>I had a similar problem : DO NOT DELETE THE JAX-WS-ENDORSED - remind me to downvote. I had to go to the imported project  > resolve reference\nproblems dialogue > delete the references from there which were pointing to the old NB folders - pic : <img src=\"https://i.stack.imgur.com/RM77k.jpg\" alt=\"enter image description here\"></p>\n\n<p>and then create the throwaway web service as suggested by William Scott and then add the newly created jars :<img src=\"https://i.stack.imgur.com/LXDyg.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":222143,"reputation":3512,"user_id":480549,"display_name":"Ahmad Zyoud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358326044,"creation_date":1358326044,"answer_id":14354321,"question_id":6207190,"body_markdown":"I had same problem and Fix it by install soap webservice and and resful webservice in netbeans plugin","title":"How do I reference libraries in NetBeans?","body":"<p>I had same problem and Fix it by install soap webservice and and resful webservice in netbeans plugin</p>\n"},{"tags":[],"owner":{"account_id":1820028,"reputation":79,"user_id":1654287,"display_name":"Rajesh Bellamkonda"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1372404441,"creation_date":1372404441,"answer_id":17359447,"question_id":6207190,"body_markdown":"The best solution is to edit **project.properties** file and replace below piece of code.\r\n\r\nOriginal property: **endorsed.classpath=\\${libs.JAX-WS-ENDORSED.classpath}**\r\n\r\nReplace with: **endorsed.classpath=\\${lib.JAX-WS 2.2.classpath}**\r\n\r\nIn older versions of Netbeans there is JAX-WS-ENDORSED library in libs location.\r\n\r\nNewer versions of Netbeans having JAX-WS 2.2 library in lib folder\r\n\r\n** **ALL THE BEST** **","title":"How do I reference libraries in NetBeans?","body":"<p>The best solution is to edit <strong>project.properties</strong> file and replace below piece of code.</p>\n\n<p>Original property: <strong>endorsed.classpath=\\${libs.JAX-WS-ENDORSED.classpath}</strong></p>\n\n<p>Replace with: <strong>endorsed.classpath=\\${lib.JAX-WS 2.2.classpath}</strong></p>\n\n<p>In older versions of Netbeans there is JAX-WS-ENDORSED library in libs location.</p>\n\n<p>Newer versions of Netbeans having JAX-WS 2.2 library in lib folder</p>\n\n<p>** <strong>ALL THE BEST</strong> **</p>\n"},{"tags":[],"owner":{"account_id":2860631,"reputation":79,"user_id":2455978,"display_name":"Ezequiel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1382213995,"creation_date":1382213995,"answer_id":19470714,"question_id":6207190,"body_markdown":"I fix it:\r\n\r\n 1. unistall netbeans. \r\n 2. delete HOME/.netbeans and HOME/.nbi\r\n 3. then install netbeans again","title":"How do I reference libraries in NetBeans?","body":"<p>I fix it:</p>\n\n<ol>\n<li>unistall netbeans. </li>\n<li>delete HOME/.netbeans and HOME/.nbi</li>\n<li>then install netbeans again</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":64734,"reputation":1482,"user_id":190955,"accept_rate":78,"display_name":"TonyG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384155021,"creation_date":1384155021,"answer_id":19901008,"question_id":6207190,"body_markdown":"Old thread, different and effective solution... I just moved some projects from one system to another and got this error. With NetBeans v7.3+, go to Tools&gt;Plugins, Available Plugins, then search for &quot;SOAP&quot;. You should see &quot;SOAP Web Services&quot;. On loading this library you&#39;ll get the JAX-WS-ENDORSED library. Restart NetBeans and you should be able to get a Clean Build.\r\n\r\nLoading this package brings in a number of other libraries. On restarting the IDE you may get a notification that other packages now have available updates.","title":"How do I reference libraries in NetBeans?","body":"<p>Old thread, different and effective solution... I just moved some projects from one system to another and got this error. With NetBeans v7.3+, go to Tools>Plugins, Available Plugins, then search for \"SOAP\". You should see \"SOAP Web Services\". On loading this library you'll get the JAX-WS-ENDORSED library. Restart NetBeans and you should be able to get a Clean Build.</p>\n\n<p>Loading this package brings in a number of other libraries. On restarting the IDE you may get a notification that other packages now have available updates.</p>\n"},{"tags":[],"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538540295,"creation_date":1538540295,"answer_id":52619618,"question_id":6207190,"body_markdown":"Do the following ( BTW in my case its **NetBeans** 6.9.1 )\r\n\r\n* 1 **Why** this appeared now ?  \r\nBecause i tried to open project on other pc with fresh copy of net bean\r\n\r\n\r\n* 2 **How** the problem looks like ?\r\nJar Lib Not Found for JAX-WS-ENDORSED\r\n\r\n[![the problem jar not found][1]][1]\r\n\r\n\r\n\r\n* 3 **Why** it was needed at the first place and what its used for?\r\nWell i have a webservice on same server/domain e.g localhost , so of course\r\nit will work if i removed the web service from the folder in sources but i need it\r\n\r\n\r\n\r\n* 4 **What** to do?\r\nTry to add dummy any online free web service in form wsdl\r\n\r\nlike [Some test web service or search for any other one][2]\r\n\r\n[![Try to add dummy web service][3]][3]\r\n\r\n[This is the source of my public free to use wsdl][4]\r\n\r\n\r\n* 5 **What** then ?\r\nJust add it please\r\n\r\n[![Just add it please][5]][5]\r\n\r\n\r\n* **Now** what ?\r\nWait for scanning project stuff it should be ok \r\nyou can re check from library properties of project\r\nor see that there is no red/ or resolve references problem\r\nin project properties\r\n\r\n* **So** what happened exactly?\r\n**Note**: JAX-WS-ENDORSED it will be added automatically to your libraries\r\nsame methodology can solve other problems as well\r\n\r\n  [1]: https://i.stack.imgur.com/Hl0ut.png\r\n  [2]: http://www.thomas-bayer.com/axis2/services/BLZService?wsdl\r\n  [3]: https://i.stack.imgur.com/eWcSd.png\r\n  [4]: http://quicksoftwaretesting.com/sample-wsdl-urls-testing-soapui/\r\n  [5]: https://i.stack.imgur.com/O5Fql.png","title":"How do I reference libraries in NetBeans?","body":"<p>Do the following ( BTW in my case its <strong>NetBeans</strong> 6.9.1 )</p>\n\n<ul>\n<li><p>1 <strong>Why</strong> this appeared now ?<br>\nBecause i tried to open project on other pc with fresh copy of net bean</p></li>\n<li><p>2 <strong>How</strong> the problem looks like ?\nJar Lib Not Found for JAX-WS-ENDORSED</p></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/Hl0ut.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hl0ut.png\" alt=\"the problem jar not found\"></a></p>\n\n<ul>\n<li><p>3 <strong>Why</strong> it was needed at the first place and what its used for?\nWell i have a webservice on same server/domain e.g localhost , so of course\nit will work if i removed the web service from the folder in sources but i need it</p></li>\n<li><p>4 <strong>What</strong> to do?\nTry to add dummy any online free web service in form wsdl</p></li>\n</ul>\n\n<p>like <a href=\"http://www.thomas-bayer.com/axis2/services/BLZService?wsdl\" rel=\"nofollow noreferrer\">Some test web service or search for any other one</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/eWcSd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eWcSd.png\" alt=\"Try to add dummy web service\"></a></p>\n\n<p><a href=\"http://quicksoftwaretesting.com/sample-wsdl-urls-testing-soapui/\" rel=\"nofollow noreferrer\">This is the source of my public free to use wsdl</a></p>\n\n<ul>\n<li>5 <strong>What</strong> then ?\nJust add it please</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/O5Fql.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O5Fql.png\" alt=\"Just add it please\"></a></p>\n\n<ul>\n<li><p><strong>Now</strong> what ?\nWait for scanning project stuff it should be ok \nyou can re check from library properties of project\nor see that there is no red/ or resolve references problem\nin project properties</p></li>\n<li><p><strong>So</strong> what happened exactly?\n<strong>Note</strong>: JAX-WS-ENDORSED it will be added automatically to your libraries\nsame methodology can solve other problems as well</p></li>\n</ul>\n"}],"owner":{"account_id":191619,"reputation":17542,"user_id":432294,"accept_rate":91,"display_name":"Jay Sullivan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49643,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":7844046,"answer_count":10,"score":12,"last_activity_date":1673427939,"creation_date":1306959890,"question_id":6207190,"body_markdown":"I have a Java Web Services project that was created in an older version of NetBeans, and I haven&#39;t accessed it in many months, so my paths and installed libraries are different.  \n\nWhen I try to open the project, I get a &quot;Resolve Reference Problems&quot; dialog, and two Reference Problems are listed:\n\n    &quot;metro&quot; library could not be found\n    &quot;JAX-WS-ENDORSED&quot; library could not be found\n\nI have a fresh installation of [JDK 6 Update 25 with NetBeans 7.0][1], and am running Windows 7.  \n\nWhat steps can I take to solve this? I don&#39;t even know where to start, as every approach I&#39;ve taken so far hasn&#39;t gotten me anywhere.\n\n**Note:** JAX-WS-ENDORSED does not appear in my Libraries listing, so I can&#39;t remove it. Something hidden is referencing it.  How would I find this?\n\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/install-jdk6-22nb691-177131.html","title":"How do I reference libraries in NetBeans?","body":"<p>I have a Java Web Services project that was created in an older version of NetBeans, and I haven't accessed it in many months, so my paths and installed libraries are different.</p>\n<p>When I try to open the project, I get a &quot;Resolve Reference Problems&quot; dialog, and two Reference Problems are listed:</p>\n<pre><code>&quot;metro&quot; library could not be found\n&quot;JAX-WS-ENDORSED&quot; library could not be found\n</code></pre>\n<p>I have a fresh installation of <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/install-jdk6-22nb691-177131.html\" rel=\"noreferrer\">JDK 6 Update 25 with NetBeans 7.0</a>, and am running Windows 7.</p>\n<p>What steps can I take to solve this? I don't even know where to start, as every approach I've taken so far hasn't gotten me anywhere.</p>\n<p><strong>Note:</strong> JAX-WS-ENDORSED does not appear in my Libraries listing, so I can't remove it. Something hidden is referencing it.  How would I find this?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1673427623,"post_id":75080470,"comment_id":132494283,"body_markdown":"IntelliJ IDE installed the same is sue in  java folder also in VDI certificate.","body":"IntelliJ IDE installed the same is sue in  java folder also in VDI certificate."},{"owner":{"account_id":27496839,"reputation":33,"user_id":20981227,"display_name":"Arif"},"score":0,"creation_date":1673431060,"post_id":75080470,"comment_id":132495484,"body_markdown":"IDE installed in this folder &gt;C:\\Users\\ARIMO\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\JetBrains\n\nand java in this folder for certificate -&gt;C:\\Program Files\\OpenJDK\\jdk-8.0.332.09-hotspot\\jre\\lib\\security","body":"IDE installed in this folder &gt;C:\\Users\\ARIMO\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\JetBrains  and java in this folder for certificate -&gt;C:\\Program Files\\OpenJDK\\jdk-8.0.332.09-hotspot\\jre\\lib\\security"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1673437335,"post_id":75080470,"comment_id":132497780,"body_markdown":"Spring Boot 3.x needs `JDK 17`","body":"Spring Boot 3.x needs <code>JDK 17</code>"}],"owner":{"account_id":27496839,"reputation":33,"user_id":20981227,"display_name":"Arif"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673427645,"creation_date":1673427455,"question_id":75080470,"body_markdown":"I am using maven pom version 3.0.1 and while building getting errors as below. I installed the certificate also in VDI of my java folder. Can you please help on this?\r\n\r\n    Cannot resolve plugin org.apache.maven.plugins:maven-compiler-plugin:3.10.1\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-surefire-plugin:2.22.2\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:2.8.2\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-clean-plugin:3.2.0\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-resources-plugin:3.3.0\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-jar-plugin:3.3.0\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-install-plugin:3.0.1\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-compiler-plugin:3.8.0\r\n    \r\n    Cannot resolve plugin org.springframework.boot:spring-boot-maven-plugin:2.1.4.RELEASE\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-surefire-plugin:2.22.2\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:2.8.2\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-clean-plugin:3.1.0\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-resources-plugin:3.1.0\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-jar-plugin:3.1.1\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-install-plugin:2.5.2\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.7.1\r\n\r\nI java spring boot project with the pom version 3.0.1 and i installed the certificate also in VDI of my java folder. Still same issue on my IntelliJ IDE.\r\n\r\nCould you please help on this?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Maven Build error while using pom version 3.0.1 on my Spring boot Java project on IntelliJ","body":"<p>I am using maven pom version 3.0.1 and while building getting errors as below. I installed the certificate also in VDI of my java folder. Can you please help on this?</p>\n<pre><code>Cannot resolve plugin org.apache.maven.plugins:maven-compiler-plugin:3.10.1\n\nCannot resolve plugin org.apache.maven.plugins:maven-surefire-plugin:2.22.2\n\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:2.8.2\n\nCannot resolve plugin org.apache.maven.plugins:maven-clean-plugin:3.2.0\n\nCannot resolve plugin org.apache.maven.plugins:maven-resources-plugin:3.3.0\n\nCannot resolve plugin org.apache.maven.plugins:maven-jar-plugin:3.3.0\n\nCannot resolve plugin org.apache.maven.plugins:maven-install-plugin:3.0.1\n\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\n\nCannot resolve plugin org.apache.maven.plugins:maven-compiler-plugin:3.8.0\n\nCannot resolve plugin org.springframework.boot:spring-boot-maven-plugin:2.1.4.RELEASE\n\nCannot resolve plugin org.apache.maven.plugins:maven-surefire-plugin:2.22.2\n\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:2.8.2\n\nCannot resolve plugin org.apache.maven.plugins:maven-clean-plugin:3.1.0\n\nCannot resolve plugin org.apache.maven.plugins:maven-resources-plugin:3.1.0\n\nCannot resolve plugin org.apache.maven.plugins:maven-jar-plugin:3.1.1\n\nCannot resolve plugin org.apache.maven.plugins:maven-install-plugin:2.5.2\n\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.7.1\n</code></pre>\n<p>I java spring boot project with the pom version 3.0.1 and i installed the certificate also in VDI of my java folder. Still same issue on my IntelliJ IDE.</p>\n<p>Could you please help on this?</p>\n"},{"tags":["java","jms","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":1,"creation_date":1673391012,"post_id":75074042,"comment_id":132487496,"body_markdown":"I don&#39;t think you can do this in JMS, you have to use the Java API classes [MQIIH](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=java-mqiih), `MQHeaderList`, `MQMessage`, `MQQueue` and `MQQueueManager` to create and send such a message.","body":"I don&#39;t think you can do this in JMS, you have to use the Java API classes <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=java-mqiih\" rel=\"nofollow noreferrer\">MQIIH</a>, <code>MQHeaderList</code>, <code>MQMessage</code>, <code>MQQueue</code> and <code>MQQueueManager</code> to create and send such a message."},{"owner":{"account_id":22739597,"reputation":51,"user_id":16901319,"display_name":"Javanectar"},"score":0,"creation_date":1673424938,"post_id":75074042,"comment_id":132493345,"body_markdown":"Thanks, @DanielSteinmann do you have a sample code that I can refer to?","body":"Thanks, @DanielSteinmann do you have a sample code that I can refer to?"},{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1673517875,"post_id":75074042,"comment_id":132518933,"body_markdown":"I added an answer which only uses `MQIIH` MQ Java class but everything else stays on the JMS API. Does this work four you?","body":"I added an answer which only uses <code>MQIIH</code> MQ Java class but everything else stays on the JMS API. Does this work four you?"},{"owner":{"account_id":22739597,"reputation":51,"user_id":16901319,"display_name":"Javanectar"},"score":0,"creation_date":1673535530,"post_id":75074042,"comment_id":132525219,"body_markdown":"Yes @DanielSteinmann it works perfectly fine, Now I have one more question. How can we pass trancode in IMS messages?","body":"Yes @DanielSteinmann it works perfectly fine, Now I have one more question. How can we pass trancode in IMS messages?"}],"answers":[{"tags":[],"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673427633,"creation_date":1673427633,"answer_id":75080501,"question_id":75074042,"body_markdown":"You can not do this with pure JMS, you have to use the [MQIIH](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=java-mqiih) helper class:\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.DataOutputStream;\r\n    import javax.jms.BytesMessage;\r\n    import com.ibm.mq.headers.MQIIH;\r\n    import com.ibm.msg.client.jms.JmsConstants;\r\n    ...\r\n\r\n    public void send(Request mqRequest) throws JMSException {\r\n        log.info(&quot;sending with message [{}] to queue [{}].&quot;, mqRequest.getMessage(), QUEUE_NAME);\r\n\t\tMQIIH mqiih = new MQIIH();\r\n\t\tmqiih.setAuthenticator(&quot;***&quot;);\r\n\t\t// set other MQIIH header values\r\n\t\tByteArrayOutputStream mqiihBytes = new ByteArrayOutputStream();\r\n\t\tmqiih.write(new DataOutputStream(mqiihBytes));\r\n\t\tString destinationQueue = &quot;queue:///&quot; + QUEUE_NAME + &quot;?targetClient=1&quot;;\r\n\t\tjmsTemplate.send(destinationQueue, (MessageCreator) session -&gt; {\r\n\t\t\tBytesMessage message = session.createBytesMessage();\r\n\t\t\tmessage.setStringProperty(JmsConstants.JMS_IBM_FORMAT, &quot;MQIMS&quot;);\r\n\t\t\tmessage.writeBytes(mqiihBytes.toByteArray());\r\n\t\t\tmessage.writeBytes(&quot;This Is The Body&quot;.getBytes());\r\n\t\t\treturn message;\r\n\r\n\t\t});\r\n    }\r\nWith the queue option `targetClient=1` the usual RFH2 header with JMS meta information gets stripped. The message will look like this:\r\n\r\n\r\n    5724-H72 (C) Copyright IBM Corp. 1994, 2022.\r\n    IBM MQ Queue Load/Unload Utility\r\n    * DMPMQMSG Version:9.3.1.0 Created:Wed Jan 11 08:41:37 2023\r\n    * Qmgr  = QM1\r\n    * Queue = Q1\r\n    \r\n    A VER 2\r\n    A RPT 0\r\n    A MST 8\r\n    A EXP -1\r\n    A FDB 0\r\n    A ENC 273\r\n    A CCS 819\r\n    A FMT MQIMS   \r\n    A PRI 4\r\n    A PER 1\r\n    A MSI 414D5120514D312020202020202020204337BB6301ED0140\r\n    A COI 000000000000000000000000000000000000000000000000\r\n    A BOC 0\r\n    A RTQ                                                 \r\n    A RTM QM1                                             \r\n    A USR mqm         \r\n    A ACC 0000000000000000000000000000000000000000000000000000000000000000\r\n    A AIX 2020202020202020202020202020202020202020202020202020202020202020\r\n    A PAT 28\r\n    A PAN runner.RemoteTestRunner     \r\n    A PTD 20230111\r\n    A PTT 08413426\r\n    A AOX 20202020\r\n    A GRP 000000000000000000000000000000000000000000000000\r\n    A MSQ 1\r\n    A OFF 0\r\n    A MSF 0\r\n    A ORL -1\r\n    T IIH \r\n    X 00000001000000\r\n    T T\r\n    X 0000011100000000\r\n    T         \r\n    X 00000000\r\n    T                         ***     \r\n    X 00000000000000000000000000000000\r\n    T     This Is The Body\r\n    \r\n    Read    - Files:   0  Messages:1  Bytes:100\r\n    Written - Files:   0  Messages:1  Bytes:100\r\n\r\n\r\n\r\n","title":"Send JMS message to IBM-MQ with MQIIH header","body":"<p>You can not do this with pure JMS, you have to use the <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=java-mqiih\" rel=\"nofollow noreferrer\">MQIIH</a> helper class:</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.DataOutputStream;\nimport javax.jms.BytesMessage;\nimport com.ibm.mq.headers.MQIIH;\nimport com.ibm.msg.client.jms.JmsConstants;\n...\n\npublic void send(Request mqRequest) throws JMSException {\n    log.info(&quot;sending with message [{}] to queue [{}].&quot;, mqRequest.getMessage(), QUEUE_NAME);\n    MQIIH mqiih = new MQIIH();\n    mqiih.setAuthenticator(&quot;***&quot;);\n    // set other MQIIH header values\n    ByteArrayOutputStream mqiihBytes = new ByteArrayOutputStream();\n    mqiih.write(new DataOutputStream(mqiihBytes));\n    String destinationQueue = &quot;queue:///&quot; + QUEUE_NAME + &quot;?targetClient=1&quot;;\n    jmsTemplate.send(destinationQueue, (MessageCreator) session -&gt; {\n        BytesMessage message = session.createBytesMessage();\n        message.setStringProperty(JmsConstants.JMS_IBM_FORMAT, &quot;MQIMS&quot;);\n        message.writeBytes(mqiihBytes.toByteArray());\n        message.writeBytes(&quot;This Is The Body&quot;.getBytes());\n        return message;\n\n    });\n}\n</code></pre>\n<p>With the queue option <code>targetClient=1</code> the usual RFH2 header with JMS meta information gets stripped. The message will look like this:</p>\n<pre><code>5724-H72 (C) Copyright IBM Corp. 1994, 2022.\nIBM MQ Queue Load/Unload Utility\n* DMPMQMSG Version:9.3.1.0 Created:Wed Jan 11 08:41:37 2023\n* Qmgr  = QM1\n* Queue = Q1\n\nA VER 2\nA RPT 0\nA MST 8\nA EXP -1\nA FDB 0\nA ENC 273\nA CCS 819\nA FMT MQIMS   \nA PRI 4\nA PER 1\nA MSI 414D5120514D312020202020202020204337BB6301ED0140\nA COI 000000000000000000000000000000000000000000000000\nA BOC 0\nA RTQ                                                 \nA RTM QM1                                             \nA USR mqm         \nA ACC 0000000000000000000000000000000000000000000000000000000000000000\nA AIX 2020202020202020202020202020202020202020202020202020202020202020\nA PAT 28\nA PAN runner.RemoteTestRunner     \nA PTD 20230111\nA PTT 08413426\nA AOX 20202020\nA GRP 000000000000000000000000000000000000000000000000\nA MSQ 1\nA OFF 0\nA MSF 0\nA ORL -1\nT IIH \nX 00000001000000\nT T\nX 0000011100000000\nT         \nX 00000000\nT                         ***     \nX 00000000000000000000000000000000\nT     This Is The Body\n\nRead    - Files:   0  Messages:1  Bytes:100\nWritten - Files:   0  Messages:1  Bytes:100\n</code></pre>\n"}],"owner":{"account_id":22739597,"reputation":51,"user_id":16901319,"display_name":"Javanectar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75080501,"answer_count":1,"score":2,"last_activity_date":1673427633,"creation_date":1673373581,"question_id":75074042,"body_markdown":"Can someone help me to send a JMS message to IBM-MQ with IIH (MQIIH) headers?\r\n\r\nI am using the Spring Boot application with **mq-jms-spring-boot-starter** version **2.4.5**. \r\n\r\nWhen I send a message it always goes with the RFH2 header although it sets `StrucId` as `IIH` in the message header.\r\n```java\r\npublic void send(Request mqRequest) throws JMSException {\r\n    log.info(&quot;sending with message [{}] to queue [{}].&quot;, mqRequest.getMessage(), QUEUE_NAME);\r\n    MQQueue destinationQueue = new MQQueue(QUEUE_NAME);\r\n    jmsTemplate.convertAndSend(destinationQueue, mqRequest.getMessage(), message -&gt; {\r\n        log.info(&quot;setting standard JMS headers before sending&quot;);\r\n       message.setJMSCorrelationID(UUID.randomUUID().toString());\r\n        message.setJMSDestination(new MQQueue(QUEUE_NAME));\r\n        message.setJMSTimestamp(System.nanoTime());\r\n        message.setJMSType(&quot;MQIIH&quot;);\r\n        message.setStringProperty(&quot;Authenticator&quot;, &quot;********&quot;);\r\n        message.setStringProperty(&quot;Format&quot;, &quot;********&quot;);\r\n        message.setStringProperty(&quot;ReplyToFormat&quot;, &quot;********&quot;);\r\n        message.setIntProperty(&quot;CommitMode&quot;, &#39;0&#39;);\r\n        message.setStringProperty(&quot;LTermOverride&quot;, &quot;********&quot;);\r\n        message.setStringProperty(&quot;MFSMapName&quot;, &quot;********&quot;);\r\n        message.setIntProperty(&quot;SecurityScope&quot;, &#39;C&#39;);\r\n        message.setStringProperty(&quot;StrucId&quot;, &quot;IIH &quot;);\r\n        message.setIntProperty(&quot;StrucLength&quot;, 84);\r\n        message.setIntProperty(&quot;Version&quot;, 1);\r\n        return message;\r\n    });\r\n}\r\n```","title":"Send JMS message to IBM-MQ with MQIIH header","body":"<p>Can someone help me to send a JMS message to IBM-MQ with IIH (MQIIH) headers?</p>\n<p>I am using the Spring Boot application with <strong>mq-jms-spring-boot-starter</strong> version <strong>2.4.5</strong>.</p>\n<p>When I send a message it always goes with the RFH2 header although it sets <code>StrucId</code> as <code>IIH</code> in the message header.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void send(Request mqRequest) throws JMSException {\n    log.info(&quot;sending with message [{}] to queue [{}].&quot;, mqRequest.getMessage(), QUEUE_NAME);\n    MQQueue destinationQueue = new MQQueue(QUEUE_NAME);\n    jmsTemplate.convertAndSend(destinationQueue, mqRequest.getMessage(), message -&gt; {\n        log.info(&quot;setting standard JMS headers before sending&quot;);\n       message.setJMSCorrelationID(UUID.randomUUID().toString());\n        message.setJMSDestination(new MQQueue(QUEUE_NAME));\n        message.setJMSTimestamp(System.nanoTime());\n        message.setJMSType(&quot;MQIIH&quot;);\n        message.setStringProperty(&quot;Authenticator&quot;, &quot;********&quot;);\n        message.setStringProperty(&quot;Format&quot;, &quot;********&quot;);\n        message.setStringProperty(&quot;ReplyToFormat&quot;, &quot;********&quot;);\n        message.setIntProperty(&quot;CommitMode&quot;, '0');\n        message.setStringProperty(&quot;LTermOverride&quot;, &quot;********&quot;);\n        message.setStringProperty(&quot;MFSMapName&quot;, &quot;********&quot;);\n        message.setIntProperty(&quot;SecurityScope&quot;, 'C');\n        message.setStringProperty(&quot;StrucId&quot;, &quot;IIH &quot;);\n        message.setIntProperty(&quot;StrucLength&quot;, 84);\n        message.setIntProperty(&quot;Version&quot;, 1);\n        return message;\n    });\n}\n</code></pre>\n"},{"tags":["javascript","java","node.js","jar","cross-platform"],"owner":{"account_id":8564588,"reputation":1250,"user_id":6417470,"display_name":"Humble Bee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673427622,"creation_date":1673427622,"question_id":75080497,"body_markdown":"Most of my projects are built in Java and there was one set of requirement which we created using using NodeJS. Node JS had better options in buiding that utility and that is the reason we went with NodeJS. \r\n\r\nNow I want to use that utility in all other java based projects as a dependent jar rather than invoking this Node JS service.  \r\n\r\nIs it possible to bundle this Node JS module into a jar and add it as a dependency in other java projects?","title":"Package nodejs module as a jar","body":"<p>Most of my projects are built in Java and there was one set of requirement which we created using using NodeJS. Node JS had better options in buiding that utility and that is the reason we went with NodeJS.</p>\n<p>Now I want to use that utility in all other java based projects as a dependent jar rather than invoking this Node JS service.</p>\n<p>Is it possible to bundle this Node JS module into a jar and add it as a dependency in other java projects?</p>\n"},{"tags":["java","runtime","java-11"],"comments":[{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1673429888,"post_id":75080479,"comment_id":132495075,"body_markdown":"The `sun.` package space was/is an internal package space and should be avoided when writing production code. Since about Java 9 Oracle has been restricting access to those packages. You might be able to regain access using the features of the packaging system introduced in Java 9.","body":"The <code>sun.</code> package space was/is an internal package space and should be avoided when writing production code. Since about Java 9 Oracle has been restricting access to those packages. You might be able to regain access using the features of the packaging system introduced in Java 9."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1673431252,"post_id":75080479,"comment_id":132495554,"body_markdown":"The `sun.misc.URLClassPath` class was removed in Java 9.   See https://bugs.openjdk.org/browse/JDK-8149122","body":"The <code>sun.misc.URLClassPath</code> class was removed in Java 9.   See <a href=\"https://bugs.openjdk.org/browse/JDK-8149122\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8149122</a>"},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1673494242,"post_id":75080479,"comment_id":132513481,"body_markdown":"Yes, I know the package was removed from java 9. And I am now looking for an alternative solution to keep the original business logic in the code. So, I am asking if there is a class in java 11 can be replaced for ```sun.misc.URLClassPath```","body":"Yes, I know the package was removed from java 9. And I am now looking for an alternative solution to keep the original business logic in the code. So, I am asking if there is a class in java 11 can be replaced for <code>sun.misc.URLClassPath</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673515751,"post_id":75080479,"comment_id":132518187,"body_markdown":"This is a horrible hack that doesnâ€™t even do what the name claims. It doesnâ€™t â€œunloadâ€ a jar, it just removes it from a list. Which achieves the opposite. After removing, not even calling the actual `close()` method on the `URLClassLoader` will clean up the resources. If you want cleanup support for dynamic class loaders, create one `URLClassLoader` for a jar (or group of jars supposed to freed together) and call `close()` on the `URLClassLoader` when done.","body":"This is a horrible hack that doesnâ€™t even do what the name claims. It doesnâ€™t â€œunloadâ€ a jar, it just removes it from a list. Which achieves the opposite. After removing, not even calling the actual <code>close()</code> method on the <code>URLClassLoader</code> will clean up the resources. If you want cleanup support for dynamic class loaders, create one <code>URLClassLoader</code> for a jar (or group of jars supposed to freed together) and call <code>close()</code> on the <code>URLClassLoader</code> when done."}],"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673427507,"creation_date":1673427507,"question_id":75080479,"body_markdown":"I have a method to unload *.jar files at runtime using JAVA JDK 8 below. Then, I upgrade my app to use JAVA JDK 11, and it does not recognize ```sun.misc.URLClassPath```.\r\nWhat class in JDK 11 can be replaced it? I search on the Internet, but I have not found the answer yet.\r\n\r\n\r\n    import sun.misc.URLClassPath;\r\n        \r\n    public static boolean unloadJar(String jarFile, ClassLoader classLoader) {\r\n            try {\r\n                if (classLoader instanceof URLClassLoader) {\r\n                    URLClassPath ucp = (URLClassPath)getField(classLoader, &quot;ucp&quot;, URLClassLoader.class);\r\n                    ArrayList&lt;URL&gt; path = (ArrayList&lt;URL&gt;)getField(ucp, &quot;path&quot;);\r\n                    ArrayList&lt;?&gt; loaders = (ArrayList&lt;?&gt;)getField(ucp, &quot;loaders&quot;);\r\n                    boolean isRemovedFromPath = path.removeIf(p -&gt; p.getFile().endsWith(jarFile));\r\n                    boolean isRemovedFromLoaders = loaders.removeIf(l -&gt; {\r\n                        try {\r\n                            URL csu = (URL)getField(l, &quot;csu&quot;);\r\n                            return csu.getFile().endsWith(jarFile);\r\n                        } catch (NoSuchFieldException | IllegalAccessException e) {\r\n                            return false;\r\n                        }\r\n                    });\r\n        \r\n                    return isRemovedFromPath &amp;&amp; isRemovedFromLoaders;\r\n                } else {\r\n                    String msg = String.format(&quot;Class loader type is mismatched. Required: %s, actual: %s&quot;,\r\n                            classLoader.getClass().getName(), URLClassLoader.class.getName());\r\n                    logger.debug(msg);\r\n                    return false;\r\n                }\r\n            } catch (Exception e) {\r\n                return false;\r\n            }\r\n        }","title":"Cannot find sun.misc.URLClassPath after upgrading JAVA JDK8 to JDK11","body":"<p>I have a method to unload *.jar files at runtime using JAVA JDK 8 below. Then, I upgrade my app to use JAVA JDK 11, and it does not recognize <code>sun.misc.URLClassPath</code>.\nWhat class in JDK 11 can be replaced it? I search on the Internet, but I have not found the answer yet.</p>\n<pre><code>import sun.misc.URLClassPath;\n    \npublic static boolean unloadJar(String jarFile, ClassLoader classLoader) {\n        try {\n            if (classLoader instanceof URLClassLoader) {\n                URLClassPath ucp = (URLClassPath)getField(classLoader, &quot;ucp&quot;, URLClassLoader.class);\n                ArrayList&lt;URL&gt; path = (ArrayList&lt;URL&gt;)getField(ucp, &quot;path&quot;);\n                ArrayList&lt;?&gt; loaders = (ArrayList&lt;?&gt;)getField(ucp, &quot;loaders&quot;);\n                boolean isRemovedFromPath = path.removeIf(p -&gt; p.getFile().endsWith(jarFile));\n                boolean isRemovedFromLoaders = loaders.removeIf(l -&gt; {\n                    try {\n                        URL csu = (URL)getField(l, &quot;csu&quot;);\n                        return csu.getFile().endsWith(jarFile);\n                    } catch (NoSuchFieldException | IllegalAccessException e) {\n                        return false;\n                    }\n                });\n    \n                return isRemovedFromPath &amp;&amp; isRemovedFromLoaders;\n            } else {\n                String msg = String.format(&quot;Class loader type is mismatched. Required: %s, actual: %s&quot;,\n                        classLoader.getClass().getName(), URLClassLoader.class.getName());\n                logger.debug(msg);\n                return false;\n            }\n        } catch (Exception e) {\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":3,"creation_date":1673416835,"post_id":75078846,"comment_id":132491364,"body_markdown":"Both exceptions happen at runtime, but the compiler won&#39;t let you throw a checked exception unless that exception will be caught by code somewhere else in your program.  So the difference is that one type of exception will produce a syntax error during compilation where the other one won&#39;t. - more precisely, a checked exception has to be either be caught by a try/catch inside the same method as where the exception is being thrown, or the containing method has to declare that it can throw that exception.  None of this is necessary for an unchecked exception.","body":"Both exceptions happen at runtime, but the compiler won&#39;t let you throw a checked exception unless that exception will be caught by code somewhere else in your program.  So the difference is that one type of exception will produce a syntax error during compilation where the other one won&#39;t. - more precisely, a checked exception has to be either be caught by a try/catch inside the same method as where the exception is being thrown, or the containing method has to declare that it can throw that exception.  None of this is necessary for an unchecked exception."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1673416891,"post_id":75078846,"comment_id":132491377,"body_markdown":"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/index.h&zwnj;&#8203;tml</a>"}],"answers":[{"tags":[],"owner":{"account_id":27495287,"reputation":26,"user_id":20979896,"display_name":"Peruri Rahul"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1673427320,"creation_date":1673427320,"answer_id":75080438,"question_id":75078846,"body_markdown":"Checked Exceptions are to be handled by us by throwing a exception, While unchecked exceptions are handled by the compiler. To get some clarity regarding exceptions .Go through this documentation once.\r\n\r\n\r\n* https://www.baeldung.com/java-exceptions","title":"Can anyone help to solve that confusion about exception?","body":"<p>Checked Exceptions are to be handled by us by throwing a exception, While unchecked exceptions are handled by the compiler. To get some clarity regarding exceptions .Go through this documentation once.</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-exceptions\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-exceptions</a></li>\n</ul>\n"}],"owner":{"account_id":27177957,"reputation":1,"user_id":20713684,"display_name":"Vattamwar Prathamesh Pravin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1673438010,"answer_count":1,"score":-5,"last_activity_date":1673427320,"creation_date":1673416535,"question_id":75078846,"body_markdown":"I am aware of run-time unchecked exceptions, but not checked exceptions. According to a video I found, checked and unchecked exceptions only happen at run time. I also discovered a page that claims checked exceptions happen during compilation. I used the Java 8 documentation, but I was unable to determine whether the checked exception happens at compile time or at run time. If you read anything in the Java documentation, do provide me with a reference.\r\n\r\nIf you read anything in the Java documentation, do provide me with a reference.","title":"Can anyone help to solve that confusion about exception?","body":"<p>I am aware of run-time unchecked exceptions, but not checked exceptions. According to a video I found, checked and unchecked exceptions only happen at run time. I also discovered a page that claims checked exceptions happen during compilation. I used the Java 8 documentation, but I was unable to determine whether the checked exception happens at compile time or at run time. If you read anything in the Java documentation, do provide me with a reference.</p>\n<p>If you read anything in the Java documentation, do provide me with a reference.</p>\n"},{"tags":["java","spring","spring-test"],"owner":{"account_id":20604679,"reputation":9,"user_id":15125194,"display_name":"adnryMono"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673427221,"creation_date":1673427221,"question_id":75080419,"body_markdown":"In that class I add the @TestPropertySource: \r\n\r\n```\r\n@TestConfig\r\n@TestInstance(PER_CLASS)\r\n@TestPropertySource(properties = {&quot;name=BigSam&quot;})\r\nclass Test5 {\r\n    //...tests\r\n}\r\n```\r\n\r\nI have 5 integration tests. The common configuration for tests:\r\n```\r\n@Target({ElementType.TYPE, ElementType.ANNOTATION_TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@SpringBootTest(classes = MainStart.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic @interface TestConfig {}\r\n```\r\nIf I run the Test5 separately it works fine. But, when I run all integration tests together including Test5 class, I see in the logs:\r\n\r\n&quot; The following 1 profile is active &quot;test&quot; &quot; - more than one time. ( If I run an integration test without Test5 class, this message appears only one time)\r\n\r\nAnd I the errors:\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\njavax.cache.CacheException: A Cache named &quot;cache-name&quot; already exists.\r\n```\r\n\r\nHow can the configuration of the test be fixed?\r\nOr how can I change the property source and don&#39;t get such errors?\r\n\r\np.s. I use cache from Hibernate, but I don&#39;t think that it is a problem.","title":"@TestPropertySource breaks context and other tests fail","body":"<p>In that class I add the @TestPropertySource:</p>\n<pre><code>@TestConfig\n@TestInstance(PER_CLASS)\n@TestPropertySource(properties = {&quot;name=BigSam&quot;})\nclass Test5 {\n    //...tests\n}\n</code></pre>\n<p>I have 5 integration tests. The common configuration for tests:</p>\n<pre><code>@Target({ElementType.TYPE, ElementType.ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@SpringBootTest(classes = MainStart.class)\n@ActiveProfiles(&quot;test&quot;)\npublic @interface TestConfig {}\n</code></pre>\n<p>If I run the Test5 separately it works fine. But, when I run all integration tests together including Test5 class, I see in the logs:</p>\n<p>&quot; The following 1 profile is active &quot;test&quot; &quot; - more than one time. ( If I run an integration test without Test5 class, this message appears only one time)</p>\n<p>And I the errors:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\njavax.cache.CacheException: A Cache named &quot;cache-name&quot; already exists.\n</code></pre>\n<p>How can the configuration of the test be fixed?\nOr how can I change the property source and don't get such errors?</p>\n<p>p.s. I use cache from Hibernate, but I don't think that it is a problem.</p>\n"},{"tags":["java","netbeans","lombok"],"answers":[{"tags":[],"owner":{"account_id":27495287,"reputation":26,"user_id":20979896,"display_name":"Peruri Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673426751,"creation_date":1673426151,"answer_id":75080227,"question_id":75024678,"body_markdown":"If NetBeans 16 is a running version without any bugs it will support the Lombok plugin. In NetBeans IDE use the Lombok Plugin for Maven this way,  just include the dependency in your project POM.xml file and the plugin automatically applies the required configurations. Add the following dependency and check once:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t&lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Can Lombok be configured with NetBeans 16?","body":"<p>If NetBeans 16 is a running version without any bugs it will support the Lombok plugin. In NetBeans IDE use the Lombok Plugin for Maven this way,  just include the dependency in your project POM.xml file and the plugin automatically applies the required configurations. Add the following dependency and check once:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":328884,"reputation":460,"user_id":652078,"accept_rate":73,"display_name":"sairn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673426867,"creation_date":1672955094,"question_id":75024678,"body_markdown":"Does NetBeans 16 support Lombok? Or, do I need to drop down to an early version of NetBeans in order to use it? I have a Maven Spring Boot project (Java 11) that will require Lombok support. So, far, the instructions I&#39;ve come across for adding Lombok support to NetBeans do not appear to apply to NetBeans 16.\r\n\r\n...so far, I&#39;ve seen\r\n\r\n***(1)*** \r\n\r\n&gt; a. Download the lombok.jar file and save it on your system. \\\r\n&gt; b. Right-click the TestAnn projectâ€™s node and choose Properties. \\\r\n&gt; c. Select the Libraries category in the Project Properties dialog. \\\r\n&gt; d. Click Add JAR/Folder in the Compile tab and locate the lombok.jar file that you downloaded\r\n\r\nand...\r\n\r\n***(2)***\r\n\r\n&gt; a. Add lombok.jar to the project libraries. \\\r\n&gt; b. In the project properties, in the section Build â€“ Compiling, check the &#39;Enable Annotation Processing in Editor&#39; checkbox.\r\n\r\nNeither of the above instructions appear to apply to what I now see in NetBeans 16 menus or context menus\r\n\r\nDoes NetBeans 16 IDE support Lombok? If it does, then how is the lombok.jar applied/installed?\r\n","title":"Can Lombok be configured with NetBeans 16?","body":"<p>Does NetBeans 16 support Lombok? Or, do I need to drop down to an early version of NetBeans in order to use it? I have a Maven Spring Boot project (Java 11) that will require Lombok support. So, far, the instructions I've come across for adding Lombok support to NetBeans do not appear to apply to NetBeans 16.</p>\n<p>...so far, I've seen</p>\n<p><em><strong>(1)</strong></em></p>\n<blockquote>\n<p>a. Download the lombok.jar file and save it on your system. <br />\nb. Right-click the TestAnn projectâ€™s node and choose Properties. <br />\nc. Select the Libraries category in the Project Properties dialog. <br />\nd. Click Add JAR/Folder in the Compile tab and locate the lombok.jar file that you downloaded</p>\n</blockquote>\n<p>and...</p>\n<p><em><strong>(2)</strong></em></p>\n<blockquote>\n<p>a. Add lombok.jar to the project libraries. <br />\nb. In the project properties, in the section Build â€“ Compiling, check the 'Enable Annotation Processing in Editor' checkbox.</p>\n</blockquote>\n<p>Neither of the above instructions appear to apply to what I now see in NetBeans 16 menus or context menus</p>\n<p>Does NetBeans 16 IDE support Lombok? If it does, then how is the lombok.jar applied/installed?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":958637,"reputation":1609,"user_id":983447,"accept_rate":61,"display_name":"user983447"},"score":0,"creation_date":1673415851,"post_id":75078728,"comment_id":132491181,"body_markdown":"@experiment unit 1998X : I don&#39;t understand you.","body":"@experiment unit 1998X : I don&#39;t understand you."},{"owner":{"display_name":"user19443549"},"score":0,"creation_date":1673416236,"post_id":75078728,"comment_id":132491255,"body_markdown":"You must see this before asking question - https://stackoverflow.com/help/how-to-ask your question isn&#39;t telling what is your actual problem, what you want to achieve. If you change your g method to this - g(Class&lt;?&gt; typeClass), it will work but you must know where to use ? and T and that all depends on requirement.","body":"You must see this before asking question - <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> your question isn&#39;t telling what is your actual problem, what you want to achieve. If you change your g method to this - g(Class&lt;?&gt; typeClass), it will work but you must know where to use ? and T and that all depends on requirement."}],"answers":[{"tags":[],"owner":{"account_id":958637,"reputation":1609,"user_id":983447,"accept_rate":61,"display_name":"user983447"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673426752,"creation_date":1673421050,"answer_id":75079421,"question_id":75078728,"body_markdown":"The problem here is that in order to call g() we must have an object of type ```Class&lt;Optional&lt;Integer&gt;&gt;```. We can get this object in this way, for instance:\r\n    \r\n    x = g((Class&lt;Optional&lt;Integer&gt;&gt;) Optional.empty().getClass());\r\n\r\nAnd this is a solution of the problem.","title":"MyClass.class if MyClass is generic","body":"<p>The problem here is that in order to call g() we must have an object of type <code>Class&lt;Optional&lt;Integer&gt;&gt;</code>. We can get this object in this way, for instance:</p>\n<pre><code>x = g((Class&lt;Optional&lt;Integer&gt;&gt;) Optional.empty().getClass());\n</code></pre>\n<p>And this is a solution of the problem.</p>\n"}],"owner":{"account_id":958637,"reputation":1609,"user_id":983447,"accept_rate":61,"display_name":"user983447"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673426752,"creation_date":1673415522,"question_id":75078728,"body_markdown":"I have a piece of code which does not compile:\r\n\r\n\timport java.util.Optional;\r\n\r\n\tpublic class Test {\r\n\r\n\t  private &lt;T&gt; Optional&lt;T&gt; g(\r\n\t\t  Class&lt;T&gt; typeClass) {\r\n\t\tthrow new RuntimeException(&quot;???&quot;);\r\n\t  }\r\n\r\n\t  private void f() {\r\n\t\tOptional&lt;Optional&lt;Integer&gt;&gt; x;\r\n\t\tx = g(Optional.class);\r\n\t  }\r\n\t}\r\n\r\nCompiler says that g(Optional.class) is wrong, because:\r\n\r\n```incompatible types: inference variable T has incompatible equality constraints Optional&lt;Integer&gt;,Optional```\r\n\r\nI alse tried passing ```Optional&lt;Integer&gt;.class```, but it also does not compile - as far as I understand, this is an illegal syntax.\r\n\r\nSo, what argument should I pass to g() so this example compiles?","title":"MyClass.class if MyClass is generic","body":"<p>I have a piece of code which does not compile:</p>\n<pre><code>import java.util.Optional;\n\npublic class Test {\n\n  private &lt;T&gt; Optional&lt;T&gt; g(\n      Class&lt;T&gt; typeClass) {\n    throw new RuntimeException(&quot;???&quot;);\n  }\n\n  private void f() {\n    Optional&lt;Optional&lt;Integer&gt;&gt; x;\n    x = g(Optional.class);\n  }\n}\n</code></pre>\n<p>Compiler says that g(Optional.class) is wrong, because:</p>\n<p><code>incompatible types: inference variable T has incompatible equality constraints Optional&lt;Integer&gt;,Optional</code></p>\n<p>I alse tried passing <code>Optional&lt;Integer&gt;.class</code>, but it also does not compile - as far as I understand, this is an illegal syntax.</p>\n<p>So, what argument should I pass to g() so this example compiles?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1470978876,"post_id":38910356,"comment_id":65178493,"body_markdown":"Well, you would start with writing code that reads strings from a text file. Or what exactly is your question?","body":"Well, you would start with writing code that reads strings from a text file. Or what exactly is your question?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1470978877,"post_id":38910356,"comment_id":65178495,"body_markdown":"You start by opening the file and reading it line-by-line using `BufferedReader`. Or simpler than that: You start by writing some code. *Then*, if you get stumped, you show us the code you have, and a description of the *specific* problem you have with the code.","body":"You start by opening the file and reading it line-by-line using <code>BufferedReader</code>. Or simpler than that: You start by writing some code. <i>Then</i>, if you get stumped, you show us the code you have, and a description of the <i>specific</i> problem you have with the code."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1470979039,"post_id":38910356,"comment_id":65178548,"body_markdown":"I&#39;m voting to close this question as off-topic because it is a code-writing request with no attempt made by the question author.","body":"I&#39;m voting to close this question as off-topic because it is a code-writing request with no attempt made by the question author."},{"owner":{"account_id":6967171,"reputation":199,"user_id":5344750,"accept_rate":79,"display_name":"Abrar Ahamed"},"score":0,"creation_date":1470980410,"post_id":38910356,"comment_id":65179015,"body_markdown":"I have written  code to read text file line by line .my question is how can read all the lines from line starting prefix 6220 to next line of 6220 as record.","body":"I have written  code to read text file line by line .my question is how can read all the lines from line starting prefix 6220 to next line of 6220 as record."},{"owner":{"account_id":6967171,"reputation":199,"user_id":5344750,"accept_rate":79,"display_name":"Abrar Ahamed"},"score":0,"creation_date":1470980859,"post_id":38910356,"comment_id":65179186,"body_markdown":"@Andreas i have code to read text file line by line but dont know to read lines as record","body":"@Andreas i have code to read text file line by line but dont know to read lines as record"},{"owner":{"account_id":6967171,"reputation":199,"user_id":5344750,"accept_rate":79,"display_name":"Abrar Ahamed"},"score":0,"creation_date":1470980908,"post_id":38910356,"comment_id":65179210,"body_markdown":"@GhostCat i have code to read the text file my question is how to read all the lines between starting with prefix 6220 to the next line starting with 6220. and process the lines as one record","body":"@GhostCat i have code to read the text file my question is how to read all the lines between starting with prefix 6220 to the next line starting with 6220. and process the lines as one record"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1470984413,"post_id":38910356,"comment_id":65180618,"body_markdown":"Hint: you expect us to hep you. So you please spend some time and format your code in a decent manner. You know, &quot;edit&quot; has a preview function that you can use to make sure that you are not posting messy stuff.","body":"Hint: you expect us to hep you. So you please spend some time and format your code in a decent manner. You know, &quot;edit&quot; has a preview function that you can use to make sure that you are not posting messy stuff."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1470984176,"creation_date":1470983784,"answer_id":38911435,"question_id":38910356,"body_markdown":"Solving problems is typically about creating helpful abstractions. You are still at a point where you suppose you have to things &quot;low level&quot;: your code reads a line from a file; and right there, you start processing it. \r\n\r\nSo, lets step back and try to get on &quot;higher ground&quot;:\r\n\r\nFirst of all, do all &quot;interesting&quot; lines start with 6220? Or is the point that these lines have a specific format; that tells you that a new record begins? You see, that is very important; because if the later is true, you dont look for lines starting with 6220; but for lines that have the format of &quot;record begins here&quot; resp. &quot;record ends here&quot;.\r\n\r\nThe next question is: what should happen to **other** lines?! Should they be ignored; or do you have to do other processing?\r\n\r\nThen: is memory a constraint here? Meaning: would it be a good idea to simply read the complete file; and keep it in memory before doing any processing? Or is this a really large file; so large, that within your environment you should better not read the whole thing into memory?\r\n\r\nYou see, your question is lacking all this information; and seriously: things would get out of proportion if you tried to address all of that i a single question (or answer that is).\r\n\r\nBut let me give you some code to get started.\r\n\r\n    // before your loop starts\r\n    boolean currentlyParsingRecord = false;\r\n    boolean List&lt;String&gt; rawRecordLines = new ArrayList&lt;&gt;();\r\n\r\n    // within your loop\r\n    String line = scanner.nextLine();\r\n    if (currentlyParsingRecord) {\r\n      if (line.startsWith(&quot;6220)) { \r\n        currentlyParsingRecord = false;\r\n      }\r\n      rawRecordLines.add(line);\r\n    } else {\r\n      if (line.startsWith(&quot;6220)) { \r\n        currentlyParsingRecord = true;\r\n        rawRecordLines.add(line);\r\n        // and now, maybe you are calling a method like\r\n        processRecordLines(rawRecordLines);\r\n        // and then you clear your &quot;buffer&quot;\r\n        rawRecordLines.clear();\r\n      }\r\n    }\r\n\r\nThe point is: you have to somehow **collect** the lines that belong together. I am using a simple list here; and then you just pass that list around in order to process the data for that one record (and of course; you shouldn&#39;t forget about clearing that &quot;buffer&quot;; as you might start collecting the next one). Please note: of course this is not the final solution; it should only give you an idea how to go on from here. Such things can actually be pretty complicated to get right. And, you see; actually that is still a very &quot;low-level&quot; implementation; so there is a lot of room for improvement &quot;OO design wise&quot;.\r\n\r\nHope that helps. But as said: before you further engage in programming; you better clarify your **requirements**. You should sit down; and talk to the people around you; to really understand how/what to process within that file. If you don&#39;t do that; chances are pretty high that whatever you will implement today won&#39;t be good enough any more tomorrow.\r\n","title":"Reading multiple lines from text file based on the starting prefix as record and then process it","body":"<p>Solving problems is typically about creating helpful abstractions. You are still at a point where you suppose you have to things \"low level\": your code reads a line from a file; and right there, you start processing it. </p>\n\n<p>So, lets step back and try to get on \"higher ground\":</p>\n\n<p>First of all, do all \"interesting\" lines start with 6220? Or is the point that these lines have a specific format; that tells you that a new record begins? You see, that is very important; because if the later is true, you dont look for lines starting with 6220; but for lines that have the format of \"record begins here\" resp. \"record ends here\".</p>\n\n<p>The next question is: what should happen to <strong>other</strong> lines?! Should they be ignored; or do you have to do other processing?</p>\n\n<p>Then: is memory a constraint here? Meaning: would it be a good idea to simply read the complete file; and keep it in memory before doing any processing? Or is this a really large file; so large, that within your environment you should better not read the whole thing into memory?</p>\n\n<p>You see, your question is lacking all this information; and seriously: things would get out of proportion if you tried to address all of that i a single question (or answer that is).</p>\n\n<p>But let me give you some code to get started.</p>\n\n<pre><code>// before your loop starts\nboolean currentlyParsingRecord = false;\nboolean List&lt;String&gt; rawRecordLines = new ArrayList&lt;&gt;();\n\n// within your loop\nString line = scanner.nextLine();\nif (currentlyParsingRecord) {\n  if (line.startsWith(\"6220)) { \n    currentlyParsingRecord = false;\n  }\n  rawRecordLines.add(line);\n} else {\n  if (line.startsWith(\"6220)) { \n    currentlyParsingRecord = true;\n    rawRecordLines.add(line);\n    // and now, maybe you are calling a method like\n    processRecordLines(rawRecordLines);\n    // and then you clear your \"buffer\"\n    rawRecordLines.clear();\n  }\n}\n</code></pre>\n\n<p>The point is: you have to somehow <strong>collect</strong> the lines that belong together. I am using a simple list here; and then you just pass that list around in order to process the data for that one record (and of course; you shouldn't forget about clearing that \"buffer\"; as you might start collecting the next one). Please note: of course this is not the final solution; it should only give you an idea how to go on from here. Such things can actually be pretty complicated to get right. And, you see; actually that is still a very \"low-level\" implementation; so there is a lot of room for improvement \"OO design wise\".</p>\n\n<p>Hope that helps. But as said: before you further engage in programming; you better clarify your <strong>requirements</strong>. You should sit down; and talk to the people around you; to really understand how/what to process within that file. If you don't do that; chances are pretty high that whatever you will implement today won't be good enough any more tomorrow.</p>\n"},{"tags":[],"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673426616,"creation_date":1673426616,"answer_id":75080314,"question_id":38910356,"body_markdown":"You can read the lines with a Reader and filter them with a lambda, like this:\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(stream, encoding));\r\n    return reader.lines().filter(line -&gt; line.startsWith(&quot;6220 &quot;)).collect(Collectors.toList());\r\n\r\nThen process the list of lines accordingly.\r\n","title":"Reading multiple lines from text file based on the starting prefix as record and then process it","body":"<p>You can read the lines with a Reader and filter them with a lambda, like this:</p>\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(stream, encoding));\nreturn reader.lines().filter(line -&gt; line.startsWith(&quot;6220 &quot;)).collect(Collectors.toList());\n</code></pre>\n<p>Then process the list of lines accordingly.</p>\n"}],"owner":{"account_id":6967171,"reputation":199,"user_id":5344750,"accept_rate":79,"display_name":"Abrar Ahamed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":38911435,"answer_count":2,"score":0,"last_activity_date":1673426616,"creation_date":1470978667,"question_id":38910356,"body_markdown":"I have text file as below \r\n\r\n    6200MIGS Draft Capture              001527160719256                                                                                                                                                                                                             \r\n    622001004987654321098769    2030000000002385250000000000000000000000000719024031629498071912403119100719301201208620112629498      00QFCBA003353109297315583010   036000000190 100         000000    SHOEBRIDGE/DANIEL T MR       VI50 0818950138744  600110190 \r\n    6221QANTAS AIR                                                         AUSTRALIA       036             T                                                                                                                                                        \r\n    6223       0000000000000000000                                                                                                                                                                                                                                  \r\n    6229SHOEBRIDGE/DANIEL T MR                           0818950138744  QF  YNOGVJ                           15022602300045                                        -00000238525000000000000000000000000005                                                          \r\n    62301702281700BNE            MEL  QF  H XHLFEU           631                                000000000000000000000000000000000000                                                                                                                                \r\n    62311702282335MEL            DXB  QF  H XHLFEU             9                                000000000000000000000000000000000000                                                                                                                                \r\n    62321703011450DXB            LYS  QF  H OHLFEU          8081                                000000000000000000000000000000000000                                                                                                                                \r\n    62331703082115CDG            DXB  QF  O XOLREU1         8076 0818950138745                  000000000000000000000000000000000000                                                                                                                                \r\n    62341703091025DXB            BNE  QF  O  OLREU1         8434 0818950138745                  000000000000000000000000000000000000                                                                                                                                \r\n    622001005123456789012346    2030000000000575650000000000000000000000000719024031629499071912403117080719301201208620112629499      00QFCBA003353109297315583000   036000000190 100         000000    DETTMAN/GLEN MR              CA50 0818950138719  600110190 \r\n    6221QANTAS AIR                                                         AUSTRALIA       036             T                                                                                                                                                        \r\n    6222         0719           000                                                                                                                                                                                                                                 \r\n    6229DETTMAN/GLEN MR                                  0818950138719  QF  YYUGBM                           15022602300045                                        -00000057565000000000000000000000000002                                                          \r\n    62301703151800MEL            SYD  QF  L OLPTSCN01        458                                000000000000000000000000000000000000                                                                                                                                \r\n    62311703251830SYD            MEL  QF  M  MPTSCN01        463                                000000000000000000000000000000000000   \r\n\r\n             \r\nI want to read all lines starting with 6220 to the next 6220  in my case the lines are 2- 9 which i will call as a record. then i want to process each each line in the record based on the starting prefix for example if it starts with 6223 i will extract data what i need.\r\nmy question is how can i read the lines as record and then process it individually.\r\n\r\nwill mark and reset will be helpful .thanks in advance.The code which i have so far is \r\n\r\n        File infile = new File(&quot;C:\\\\Data\\\\Everyday work\\\\tmp\\\\CBRF.GEN4_FILE.20160719.txt&quot;);\r\n        File outfile = new File(&quot;C:\\\\Data\\\\Everyday work\\\\tmp\\\\CBRF.GEN4_FILE.20160719.txt-DCFOUT.txt&quot;);\r\n        FileReader reader;\r\n        Scanner scanner;\r\n        public void output() {\r\n    \r\n            try {\r\n    \r\n                FileWriter writer = new FileWriter(outfile);\r\n                reader = new FileReader(infile);\r\n                BufferedReader br = new BufferedReader(reader);\r\n                String str;\r\n                BufferedWriter bw = new BufferedWriter(writer);\r\n                bw.flush();     \r\n                while ((str = br.readLine() )!= null) {\r\n    \r\n                  \r\n                     scanner = new Scanner(str);\r\n                    \r\n                    String line = scanner.nextLine();\r\n                  if (line.startsWith(&quot;6220&quot;, 0)) {\r\n    \r\n                        recordtype = line.substring(0, 4);\r\n                        msgrtypId = line.substring(4, 8);\r\n    \r\n                    }     \r\n              }   \r\n       }   \r\n\r\nhere i can read line by line what i am trying to achieve is to read lines between line prefix 6220 and the next line prefix 6220 as a record.                                                                 \r\n","title":"Reading multiple lines from text file based on the starting prefix as record and then process it","body":"<p>I have text file as below </p>\n\n<pre><code>6200MIGS Draft Capture              001527160719256                                                                                                                                                                                                             \n622001004987654321098769    2030000000002385250000000000000000000000000719024031629498071912403119100719301201208620112629498      00QFCBA003353109297315583010   036000000190 100         000000    SHOEBRIDGE/DANIEL T MR       VI50 0818950138744  600110190 \n6221QANTAS AIR                                                         AUSTRALIA       036             T                                                                                                                                                        \n6223       0000000000000000000                                                                                                                                                                                                                                  \n6229SHOEBRIDGE/DANIEL T MR                           0818950138744  QF  YNOGVJ                           15022602300045                                        -00000238525000000000000000000000000005                                                          \n62301702281700BNE            MEL  QF  H XHLFEU           631                                000000000000000000000000000000000000                                                                                                                                \n62311702282335MEL            DXB  QF  H XHLFEU             9                                000000000000000000000000000000000000                                                                                                                                \n62321703011450DXB            LYS  QF  H OHLFEU          8081                                000000000000000000000000000000000000                                                                                                                                \n62331703082115CDG            DXB  QF  O XOLREU1         8076 0818950138745                  000000000000000000000000000000000000                                                                                                                                \n62341703091025DXB            BNE  QF  O  OLREU1         8434 0818950138745                  000000000000000000000000000000000000                                                                                                                                \n622001005123456789012346    2030000000000575650000000000000000000000000719024031629499071912403117080719301201208620112629499      00QFCBA003353109297315583000   036000000190 100         000000    DETTMAN/GLEN MR              CA50 0818950138719  600110190 \n6221QANTAS AIR                                                         AUSTRALIA       036             T                                                                                                                                                        \n6222         0719           000                                                                                                                                                                                                                                 \n6229DETTMAN/GLEN MR                                  0818950138719  QF  YYUGBM                           15022602300045                                        -00000057565000000000000000000000000002                                                          \n62301703151800MEL            SYD  QF  L OLPTSCN01        458                                000000000000000000000000000000000000                                                                                                                                \n62311703251830SYD            MEL  QF  M  MPTSCN01        463                                000000000000000000000000000000000000   \n</code></pre>\n\n<p>I want to read all lines starting with 6220 to the next 6220  in my case the lines are 2- 9 which i will call as a record. then i want to process each each line in the record based on the starting prefix for example if it starts with 6223 i will extract data what i need.\nmy question is how can i read the lines as record and then process it individually.</p>\n\n<p>will mark and reset will be helpful .thanks in advance.The code which i have so far is </p>\n\n<pre><code>    File infile = new File(\"C:\\\\Data\\\\Everyday work\\\\tmp\\\\CBRF.GEN4_FILE.20160719.txt\");\n    File outfile = new File(\"C:\\\\Data\\\\Everyday work\\\\tmp\\\\CBRF.GEN4_FILE.20160719.txt-DCFOUT.txt\");\n    FileReader reader;\n    Scanner scanner;\n    public void output() {\n\n        try {\n\n            FileWriter writer = new FileWriter(outfile);\n            reader = new FileReader(infile);\n            BufferedReader br = new BufferedReader(reader);\n            String str;\n            BufferedWriter bw = new BufferedWriter(writer);\n            bw.flush();     \n            while ((str = br.readLine() )!= null) {\n\n\n                 scanner = new Scanner(str);\n\n                String line = scanner.nextLine();\n              if (line.startsWith(\"6220\", 0)) {\n\n                    recordtype = line.substring(0, 4);\n                    msgrtypId = line.substring(4, 8);\n\n                }     \n          }   \n   }   \n</code></pre>\n\n<p>here i can read line by line what i am trying to achieve is to read lines between line prefix 6220 and the next line prefix 6220 as a record.                                                                 </p>\n"},{"tags":["java","arrays","performance"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1673427491,"post_id":75080292,"comment_id":132494233,"body_markdown":"I don&#39;t know of any such comparisons but looking at the source both approaches seem to be very similar in terms performance. Memory probably depends since `List.of(E ...)` creates a new array so if you keep the original one around you have 2 of them as opposed to the 1 reused by `Arrays.asList(...)`. Aside from that and the checks `List.of(...)` is doing it seems the major difference is more on the immutability side of things so I&#39;d base the decision on that. - Summarizing I&#39;d say I can&#39;t see any reason to switch working code to `List.of(...)`.","body":"I don&#39;t know of any such comparisons but looking at the source both approaches seem to be very similar in terms performance. Memory probably depends since <code>List.of(E ...)</code> creates a new array so if you keep the original one around you have 2 of them as opposed to the 1 reused by <code>Arrays.asList(...)</code>. Aside from that and the checks <code>List.of(...)</code> is doing it seems the major difference is more on the immutability side of things so I&#39;d base the decision on that. - Summarizing I&#39;d say I can&#39;t see any reason to switch working code to <code>List.of(...)</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1673429864,"post_id":75080292,"comment_id":132495066,"body_markdown":"Keep in mind that the programmers writing an implementation of Java are free to change their underlying implementation of the `List.of`/`List.copyOf` methods. The performance you see today may change in future versions.","body":"Keep in mind that the programmers writing an implementation of Java are free to change their underlying implementation of the <code>List.of</code>/<code>List.copyOf</code> methods. The performance you see today may change in future versions."}],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673426511,"creation_date":1673426511,"question_id":75080292,"body_markdown":"We have code that is heavily using `Arrays.asList` and it works perfectly fine. The implementation of the `asList` will provide a view on the array and will simply wrap the existing array. \r\n\r\nNow with newer Java versions (as of JDK9) we also have the `List.of` variants to create a `List` based on an array. Depending on the size of the array it will do different things. We mainly use arrays of size 3 and larger. It will create also a view on an array, but it will construct a new array for this and check each individual element for `null`. \r\n\r\nNow I was wondering between the performance and memory differences in both approaches. Now before writing my own benchmarks with JMH I was wondering if such benchmarks might already exist or not, or if someone already did some testing. ","title":"Performance/Memory differences for Arrays.asList vs. List.of","body":"<p>We have code that is heavily using <code>Arrays.asList</code> and it works perfectly fine. The implementation of the <code>asList</code> will provide a view on the array and will simply wrap the existing array.</p>\n<p>Now with newer Java versions (as of JDK9) we also have the <code>List.of</code> variants to create a <code>List</code> based on an array. Depending on the size of the array it will do different things. We mainly use arrays of size 3 and larger. It will create also a view on an array, but it will construct a new array for this and check each individual element for <code>null</code>.</p>\n<p>Now I was wondering between the performance and memory differences in both approaches. Now before writing my own benchmarks with JMH I was wondering if such benchmarks might already exist or not, or if someone already did some testing.</p>\n"},{"tags":["java","logging","tomcat9","probe"],"answers":[{"tags":[],"owner":{"account_id":27490002,"reputation":1,"user_id":20975551,"display_name":"Ghassen Weslati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673426456,"creation_date":1673426456,"answer_id":75080285,"question_id":75072562,"body_markdown":"After going through tomcat files, i found the stdout.properties file that contains the names of log files that can be monitored by probe9. The file is in &quot;apache-tomcat-9.0.68/webapps/probe9/WEB-INF/classes/stdout.properties&quot;.\r\njust added the name of my log file. WOrked like a charm! ","title":"Adding a logfile to probe monitoring list in tomcat 9","body":"<p>After going through tomcat files, i found the stdout.properties file that contains the names of log files that can be monitored by probe9. The file is in &quot;apache-tomcat-9.0.68/webapps/probe9/WEB-INF/classes/stdout.properties&quot;.\njust added the name of my log file. WOrked like a charm!</p>\n"}],"owner":{"account_id":27490002,"reputation":1,"user_id":20975551,"display_name":"Ghassen Weslati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75080285,"answer_count":1,"score":0,"last_activity_date":1673426456,"creation_date":1673366079,"question_id":75072562,"body_markdown":"I have a project that uses log4j2 to create log files. Log files are created in the log directory in tomcat. I deployed the project on tomcat 9. I want to add the log files to probe9 interface (http://localhost:8080/probe9/logs/list.htm). \r\n\r\nI looked for a way to do it from the interface but didn&#39;t find any. CUrrently i&#39;m looking to add the log4j2.xml to the tomcat9 lib. Is there a way to do so ? ","title":"Adding a logfile to probe monitoring list in tomcat 9","body":"<p>I have a project that uses log4j2 to create log files. Log files are created in the log directory in tomcat. I deployed the project on tomcat 9. I want to add the log files to probe9 interface (http://localhost:8080/probe9/logs/list.htm).</p>\n<p>I looked for a way to do it from the interface but didn't find any. CUrrently i'm looking to add the log4j2.xml to the tomcat9 lib. Is there a way to do so ?</p>\n"},{"tags":["java","maven","spring-boot","h2"],"answers":[{"tags":[],"owner":{"account_id":1317274,"reputation":1240,"user_id":1263867,"accept_rate":100,"display_name":"Koos Gadellaa"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1467396392,"creation_date":1467396392,"answer_id":38151554,"question_id":38151447,"body_markdown":"Shouldn&#39;t h2 be a `compile` (instead of `runtime`) dependency?\r\n\r\n","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>Shouldn't h2 be a <code>compile</code> (instead of <code>runtime</code>) dependency?</p>\n"},{"tags":[],"owner":{"account_id":9128873,"reputation":121,"user_id":6791395,"display_name":"Doug"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1472926103,"creation_date":1472926103,"answer_id":39309942,"question_id":38151447,"body_markdown":"I had the same problem, probably running the same example. Had the correct maven pom.xml dependency but for some reason had to download the h2 driver jar directly from Maven.  Then the code above worked.  Taking away &quot;runtime&quot; element will default to compile.\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.192&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>I had the same problem, probably running the same example. Had the correct maven pom.xml dependency but for some reason had to download the h2 driver jar directly from Maven.  Then the code above worked.  Taking away \"runtime\" element will default to compile.</p>\n\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.192&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1796398,"reputation":6836,"user_id":1635719,"accept_rate":0,"display_name":"olasammy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505812220,"creation_date":1505812220,"answer_id":46296337,"question_id":38151447,"body_markdown":"Just remove &lt;scope&gt;runtime&lt;/scope&gt; form your h2 dependency and everything will be fine","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>Just remove runtime form your h2 dependency and everything will be fine</p>\n"},{"tags":[],"owner":{"account_id":8123154,"reputation":57,"user_id":6119101,"accept_rate":50,"display_name":"cosmir17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554931923,"creation_date":1554931923,"answer_id":55621596,"question_id":38151447,"body_markdown":"FYI, &#39;runtime&#39; scope is default by design. The reason is mentioned in the following Github page. (I leave it to you to decide)\r\nhttps://github.com/spring-projects/spring-boot/issues/16509","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>FYI, 'runtime' scope is default by design. The reason is mentioned in the following Github page. (I leave it to you to decide)\n<a href=\"https://github.com/spring-projects/spring-boot/issues/16509\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/16509</a></p>\n"},{"tags":[],"owner":{"account_id":18788613,"reputation":21,"user_id":13753604,"display_name":"user13753604"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608306581,"creation_date":1608306581,"answer_id":65359986,"question_id":38151447,"body_markdown":"\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.4.200&lt;/version&gt;\r\n\t\t    &lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;","title":"Cannot import org.h2.server.web.WebServlet","body":"<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.200&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15183586,"reputation":33,"user_id":10956250,"display_name":"Soufiane D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655460946,"creation_date":1655460946,"answer_id":72657802,"question_id":38151447,"body_markdown":"it&#39;s work for me \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>it's work for me</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362548,"reputation":170,"user_id":705795,"accept_rate":15,"display_name":"yaniv"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673426341,"creation_date":1673426341,"answer_id":75080262,"question_id":38151447,"body_markdown":"My issue was \r\ncannot access javax.servlet.http.HttpServlet\r\n\r\ni managed to solve it by changing the parent version in pom.xml from 3.0.0 to 2.4.2\r\n\r\nhowever annotations @Entity and @Table stopped working \r\n\r\nso i had to switch from \r\nimport jakarta.persistence.*;\r\n\r\nto : \r\nimport javax.persistence.*;\r\n\r\nand now it is working again \r\n","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>My issue was\ncannot access javax.servlet.http.HttpServlet</p>\n<p>i managed to solve it by changing the parent version in pom.xml from 3.0.0 to 2.4.2</p>\n<p>however annotations @Entity and @Table stopped working</p>\n<p>so i had to switch from\nimport jakarta.persistence.*;</p>\n<p>to :\nimport javax.persistence.*;</p>\n<p>and now it is working again</p>\n"}],"owner":{"account_id":1230199,"reputation":3804,"user_id":3128796,"accept_rate":46,"display_name":"asdfkjasdfjk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16329,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":38151554,"answer_count":7,"score":12,"last_activity_date":1673426341,"creation_date":1467396031,"question_id":38151447,"body_markdown":"I am trying to configure my spring boot application to use h2 console. I found some articles and all of them use webServlet. But I can not import the class although I have h2 dependency added in my pom.xml. I get this error message `can not resolve the symbol WebServlet`. My import line\r\n\r\n    import org.h2.server.web.WebServlet;\r\n\r\n\r\n  Below is my pom.xml\r\n\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.myfaces.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;myfaces-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.6&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.myfaces.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;myfaces-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.6&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n                &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.primefaces.extensions&lt;/groupId&gt;\r\n                &lt;artifactId&gt;all-themes&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.ocpsoft.rewrite&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rewrite-servlet&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.12.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\nand my application.properties\r\n\r\n\r\n    spring.datasource.url=jdbc:h2:mem:AZ;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\nand configuration\r\n\r\n    @Bean\r\n    public ServletRegistrationBean h2servletRegistration() {\r\n        ServletRegistrationBean registration = new ServletRegistrationBean(new WebServlet());\r\n        registration.addUrlMappings(&quot;/console/*&quot;);\r\n        return registration;\r\n    }\r\n\r\nLet me know what I am missing here. ","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>I am trying to configure my spring boot application to use h2 console. I found some articles and all of them use webServlet. But I can not import the class although I have h2 dependency added in my pom.xml. I get this error message <code>can not resolve the symbol WebServlet</code>. My import line</p>\n\n<pre><code>import org.h2.server.web.WebServlet;\n</code></pre>\n\n<p>Below is my pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.myfaces.core&lt;/groupId&gt;\n            &lt;artifactId&gt;myfaces-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.2.6&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.myfaces.core&lt;/groupId&gt;\n            &lt;artifactId&gt;myfaces-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.6&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n            &lt;version&gt;5.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces.extensions&lt;/groupId&gt;\n            &lt;artifactId&gt;all-themes&lt;/artifactId&gt;\n            &lt;version&gt;1.0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ocpsoft.rewrite&lt;/groupId&gt;\n            &lt;artifactId&gt;rewrite-servlet&lt;/artifactId&gt;\n            &lt;version&gt;2.0.12.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>and my application.properties</p>\n\n<pre><code>spring.datasource.url=jdbc:h2:mem:AZ;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n\n<p>and configuration</p>\n\n<pre><code>@Bean\npublic ServletRegistrationBean h2servletRegistration() {\n    ServletRegistrationBean registration = new ServletRegistrationBean(new WebServlet());\n    registration.addUrlMappings(\"/console/*\");\n    return registration;\n}\n</code></pre>\n\n<p>Let me know what I am missing here. </p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673433287,"post_id":75080250,"comment_id":132496250,"body_markdown":"What is the complete error message incl. log output...?","body":"What is the complete error message incl. log output...?"}],"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673426262,"creation_date":1673426262,"question_id":75080250,"body_markdown":"currently Iâ€™m moving my corporate Project from Java 11 to Java 17 and while updating my maven war plug-in from 3.3.1 to 3.3.2 Iâ€™m having this warning which is **invalid plug-in configuration manifest** which was working fine when the version was 3.3 .1 \r\n\r\nplease suggest what to do. \r\nMy maven version in pom is 3.8.1 and my war plugin after updating is 3.3.2. And jdk is 17 and in pom as well Java version is 17","title":"AddDefaultImplementarionEntries as True shows Invalid plugin configuration: manifest","body":"<p>currently Iâ€™m moving my corporate Project from Java 11 to Java 17 and while updating my maven war plug-in from 3.3.1 to 3.3.2 Iâ€™m having this warning which is <strong>invalid plug-in configuration manifest</strong> which was working fine when the version was 3.3 .1</p>\n<p>please suggest what to do.\nMy maven version in pom is 3.8.1 and my war plugin after updating is 3.3.2. And jdk is 17 and in pom as well Java version is 17</p>\n"},{"tags":["java","jpa","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673437887,"post_id":75075989,"comment_id":132497974,"body_markdown":"Your query doesn&#39;t seem to be a native query.","body":"Your query doesn&#39;t seem to be a native query."},{"owner":{"account_id":10789629,"reputation":3,"user_id":7937595,"display_name":"Emin"},"score":0,"creation_date":1673439656,"post_id":75075989,"comment_id":132498491,"body_markdown":"@MarkRotteveel you&#39;re correct. I realized I didn&#39;t know what nativeQuery stands for and how I need to modify my query. I did some more research and fixed it.","body":"@MarkRotteveel you&#39;re correct. I realized I didn&#39;t know what nativeQuery stands for and how I need to modify my query. I did some more research and fixed it."}],"answers":[{"tags":[],"owner":{"account_id":10789629,"reputation":3,"user_id":7937595,"display_name":"Emin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673389823,"creation_date":1673389744,"answer_id":75076520,"question_id":75075989,"body_markdown":"Fixed the issue with these changes;\r\n\r\nReplaced &#39;smoke&#39; to &#39;Smoke&#39; (typo)\r\n\r\nRemoved &#39;nativeQuery = true&#39;\r\n\r\n```\r\n@Query(&quot;SELECT new com.eminyilmazz.smoketracker.dto.ActivityBasedQuantity(s.activity, SUM(s.quantity)) FROM Smoke s WHERE s.smokedDate BETWEEN :beginDate AND :endDate GROUP BY s.activity&quot;)\r\n    List&lt;ActivityBasedQuantity&gt; getTotalQuantityGroupedByActivityWithMinuteInterval(@Param(&quot;beginDate&quot;)LocalDateTime beginDate, @Param(&quot;endDate&quot;) LocalDateTime endDate);\r\n```","title":"JPQL Query with entity constructor","body":"<p>Fixed the issue with these changes;</p>\n<p>Replaced 'smoke' to 'Smoke' (typo)</p>\n<p>Removed 'nativeQuery = true'</p>\n<pre><code>@Query(&quot;SELECT new com.eminyilmazz.smoketracker.dto.ActivityBasedQuantity(s.activity, SUM(s.quantity)) FROM Smoke s WHERE s.smokedDate BETWEEN :beginDate AND :endDate GROUP BY s.activity&quot;)\n    List&lt;ActivityBasedQuantity&gt; getTotalQuantityGroupedByActivityWithMinuteInterval(@Param(&quot;beginDate&quot;)LocalDateTime beginDate, @Param(&quot;endDate&quot;) LocalDateTime endDate);\n</code></pre>\n"}],"owner":{"account_id":10789629,"reputation":3,"user_id":7937595,"display_name":"Emin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75076520,"answer_count":1,"score":0,"last_activity_date":1673426261,"creation_date":1673385622,"question_id":75075989,"body_markdown":"I&#39;m having trouble with building a query that groups &#39;Smoke&#39; entity by their &#39;activity&#39; column and sums &#39;quantity&#39; of them. \r\nQuery:\r\n```\r\n@Query(value = &quot;SELECT new com.eminyilmazz.smoketracker.dto.ActivityBasedQuantity(s.activity, SUM(s.quantity)) FROM smoke s WHERE s.smoked_date BETWEEN :beginDate AND :endDate GROUP BY s.activity&quot;, nativeQuery = true)\r\nList&lt;ActivityBasedQuantity&gt; getTotalQuantityGroupedByActivityWithMinuteInterval(@Param(&quot;beginDate&quot;)LocalDateTime beginDate, @Param(&quot;endDate&quot;) LocalDateTime endDate);\r\n```\r\nDTO:\r\n```\r\npublic class ActivityBasedQuantity {\r\n    private String activity;\r\n    private Long quantity;\r\n\r\n    public ActivityBasedQuantity(String activity, Long quantity) {\r\n        this.activity = activity;\r\n        this.quantity = quantity;\r\n    }\r\n```\r\n\r\nThe first line in the error:\r\n```\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT new com.eminyilmazz.smoketracker.dto.ActivityBasedQuantity(s.activity, SUM(s.quantity)) FROM smoke s WHERE s.smoked_date BETWEEN ? AND ? GROUP BY s.activity]; SQL [n/a]\r\n\r\n```\r\n\r\nI&#39;ve tried removing &quot;nativeQuery = true&quot; that is suggested from [this stackoverflow question](https://stackoverflow.com/questions/49479705/jpql-constructor-expression-query-org-postgresql-util-psqlexception) but it throws an error that says spring bean factory and hibernate couldn&#39;t resolve &#39;smoke&#39; table and its attributes.","title":"JPQL Query with entity constructor","body":"<p>I'm having trouble with building a query that groups 'Smoke' entity by their 'activity' column and sums 'quantity' of them.\nQuery:</p>\n<pre><code>@Query(value = &quot;SELECT new com.eminyilmazz.smoketracker.dto.ActivityBasedQuantity(s.activity, SUM(s.quantity)) FROM smoke s WHERE s.smoked_date BETWEEN :beginDate AND :endDate GROUP BY s.activity&quot;, nativeQuery = true)\nList&lt;ActivityBasedQuantity&gt; getTotalQuantityGroupedByActivityWithMinuteInterval(@Param(&quot;beginDate&quot;)LocalDateTime beginDate, @Param(&quot;endDate&quot;) LocalDateTime endDate);\n</code></pre>\n<p>DTO:</p>\n<pre><code>public class ActivityBasedQuantity {\n    private String activity;\n    private Long quantity;\n\n    public ActivityBasedQuantity(String activity, Long quantity) {\n        this.activity = activity;\n        this.quantity = quantity;\n    }\n</code></pre>\n<p>The first line in the error:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT new com.eminyilmazz.smoketracker.dto.ActivityBasedQuantity(s.activity, SUM(s.quantity)) FROM smoke s WHERE s.smoked_date BETWEEN ? AND ? GROUP BY s.activity]; SQL [n/a]\n\n</code></pre>\n<p>I've tried removing &quot;nativeQuery = true&quot; that is suggested from <a href=\"https://stackoverflow.com/questions/49479705/jpql-constructor-expression-query-org-postgresql-util-psqlexception\">this stackoverflow question</a> but it throws an error that says spring bean factory and hibernate couldn't resolve 'smoke' table and its attributes.</p>\n"},{"tags":["javascript","java","operating-system","chromium"],"comments":[{"owner":{"account_id":356065,"reputation":64605,"user_id":695364,"display_name":"Scott Marcus"},"score":0,"creation_date":1592879011,"post_id":62526308,"comment_id":110575901,"body_markdown":"Not possible for security reasons. Imagine the malicious code you could write if it could.","body":"Not possible for security reasons. Imagine the malicious code you could write if it could."},{"owner":{"account_id":14751942,"reputation":21,"user_id":13724228,"display_name":"Den20"},"score":0,"creation_date":1592879208,"post_id":62526308,"comment_id":110575938,"body_markdown":"Okay, that makes sense.","body":"Okay, that makes sense."},{"owner":{"account_id":7715,"reputation":6607,"user_id":13468,"accept_rate":91,"display_name":"mlibby"},"score":0,"creation_date":1592879941,"post_id":62526308,"comment_id":110576060,"body_markdown":"It is possible if the Java program is executing on the machine with permissions to do what you want. Have the Java program run a web server that you can access from the browser with an address like `http://localhost:8080`. That would also get you way from needing a specific browser.","body":"It is possible if the Java program is executing on the machine with permissions to do what you want. Have the Java program run a web server that you can access from the browser with an address like <code>http:&#47;&#47;localhost:8080</code>. That would also get you way from needing a specific browser."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1592879972,"post_id":62526308,"comment_id":110576071,"body_markdown":"Maybe play with [Wasm](https://webassembly.org/). Note that it&#39;s still a virtual machine. Not a Java one though.","body":"Maybe play with <a href=\"https://webassembly.org/\" rel=\"nofollow noreferrer\">Wasm</a>. Note that it&#39;s still a virtual machine. Not a Java one though."},{"owner":{"account_id":14751942,"reputation":21,"user_id":13724228,"display_name":"Den20"},"score":0,"creation_date":1592880415,"post_id":62526308,"comment_id":110576159,"body_markdown":"Wasm looks good @ElliottFrisch","body":"Wasm looks good @ElliottFrisch"},{"owner":{"account_id":6131212,"reputation":3236,"user_id":4781312,"accept_rate":100,"display_name":"Asesh"},"score":2,"creation_date":1593227942,"post_id":62526308,"comment_id":110713249,"body_markdown":"Maybe you should look at native messaging host. You can communicate with extensions via your desktop application","body":"Maybe you should look at native messaging host. You can communicate with extensions via your desktop application"}],"answers":[{"tags":[],"owner":{"account_id":24043078,"reputation":3,"user_id":18022411,"display_name":"adrian3k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673426055,"creation_date":1673119135,"answer_id":75043139,"question_id":62526308,"body_markdown":"**One approach** is to make a &#39;local proxy&#39; and listen on a specific port - so the browser part could talk with this port\r\n\r\n**Another approach** is to write a simple app that would open a local port and listen to it (and go from there with different solutions)\r\n\r\nedit:\r\nor just set up a &#39;local web server and communicate with it (and on the web server part run local scripts/commands)","title":"Communicate between browser extension and desktop app","body":"<p><strong>One approach</strong> is to make a 'local proxy' and listen on a specific port - so the browser part could talk with this port</p>\n<p><strong>Another approach</strong> is to write a simple app that would open a local port and listen to it (and go from there with different solutions)</p>\n<p>edit:\nor just set up a 'local web server and communicate with it (and on the web server part run local scripts/commands)</p>\n"},{"tags":[],"owner":{"account_id":11002106,"reputation":43,"user_id":8082395,"display_name":"Nafiul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673120412,"creation_date":1673120105,"answer_id":75043234,"question_id":62526308,"body_markdown":"You can use connectNative api [MDN link][1] \\\r\nChrome docs with example [native-messaging-client][2]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/connectNative\r\n  [2]: https://developer.chrome.com/docs/apps/nativeMessaging/#native-messaging-client","title":"Communicate between browser extension and desktop app","body":"<p>You can use connectNative api <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/connectNative\" rel=\"nofollow noreferrer\">MDN link</a> <br />\nChrome docs with example <a href=\"https://developer.chrome.com/docs/apps/nativeMessaging/#native-messaging-client\" rel=\"nofollow noreferrer\">native-messaging-client</a></p>\n"}],"owner":{"account_id":14751942,"reputation":21,"user_id":13724228,"display_name":"Den20"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673426055,"creation_date":1592878890,"question_id":62526308,"body_markdown":"I&#39;m trying to create a chromium program that is both web-based and also has access to the OS. Kinda like a browser extension but also does things that regular applications do, like altering system settings. \r\n\r\nI&#39;m stuck on trying to figure out how the program, written in **Java**, will connect to the **JS** part of it to control the system or vice versa. What&#39;s the best approach to this?\r\n\r\nP.S. Fairly new programmer, so responses with external resources will be greatly appreciated.","title":"Communicate between browser extension and desktop app","body":"<p>I'm trying to create a chromium program that is both web-based and also has access to the OS. Kinda like a browser extension but also does things that regular applications do, like altering system settings.</p>\n<p>I'm stuck on trying to figure out how the program, written in <strong>Java</strong>, will connect to the <strong>JS</strong> part of it to control the system or vice versa. What's the best approach to this?</p>\n<p>P.S. Fairly new programmer, so responses with external resources will be greatly appreciated.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":3970181,"reputation":109,"user_id":3274968,"display_name":"Md Wahidul Azam"},"score":1,"creation_date":1673425858,"post_id":75080113,"comment_id":132493660,"body_markdown":"Try to use recursion. Or, you can also use while loop with a condition.","body":"Try to use recursion. Or, you can also use while loop with a condition."}],"answers":[{"tags":[],"owner":{"account_id":19600884,"reputation":55,"user_id":14345769,"display_name":"Siyabend &#214;zdemir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673425852,"creation_date":1673425852,"answer_id":75080175,"question_id":75080113,"body_markdown":"There are a few ways you could repeat the code above, depending on what you&#39;re trying to accomplish. One way would be to use a while loop that continues to execute the code as long as the user enters &quot;Y&quot;. Here&#39;s an example:\r\n\r\n```\r\nwhile (yesorno2.equals(&quot;Y&quot;)) {\r\n    // code to repeat goes here\r\n    System.out.println(&quot;Wollen Sie die Rechnung nocheinmal ausf&#252;hren? Y / N&quot;);\r\n    yesorno2 = StdIn.readString();\r\n}\r\nSystem.out.println(&quot;Auf Wiedersehn&quot;);\r\n```\r\n\r\n\r\nAnother way would be to use a do-while loop, like this:\r\n\r\n```\r\ndo {\r\n    // code to repeat goes here\r\n    System.out.println(&quot;Wollen Sie die Rechnung nocheinmal ausf&#252;hren? Y / N&quot;);\r\n    yesorno2 = StdIn.readString();\r\n} while (yesorno2.equals(&quot;Y&quot;));\r\nSystem.out.println(&quot;Auf Wiedersehn&quot;);\r\n```\r\n\r\nIt&#39;s a good idea to wrap up the code that needs to be repeated in a function, so it could be easily called multiple times.\r\n\r\nYou also could use recursion, which is a technique that involves a function calling itself. This would also let you wrap up the code that needs to be repeated in a single function, but it can be more tricky to implement and can lead to stack overflow if not implemented correctly.\r\n\r\n\r\n\r\n","title":"How can I execute a section of code by asking the user in the console if they want to repeat the calculation","body":"<p>There are a few ways you could repeat the code above, depending on what you're trying to accomplish. One way would be to use a while loop that continues to execute the code as long as the user enters &quot;Y&quot;. Here's an example:</p>\n<pre><code>while (yesorno2.equals(&quot;Y&quot;)) {\n    // code to repeat goes here\n    System.out.println(&quot;Wollen Sie die Rechnung nocheinmal ausfÃ¼hren? Y / N&quot;);\n    yesorno2 = StdIn.readString();\n}\nSystem.out.println(&quot;Auf Wiedersehn&quot;);\n</code></pre>\n<p>Another way would be to use a do-while loop, like this:</p>\n<pre><code>do {\n    // code to repeat goes here\n    System.out.println(&quot;Wollen Sie die Rechnung nocheinmal ausfÃ¼hren? Y / N&quot;);\n    yesorno2 = StdIn.readString();\n} while (yesorno2.equals(&quot;Y&quot;));\nSystem.out.println(&quot;Auf Wiedersehn&quot;);\n</code></pre>\n<p>It's a good idea to wrap up the code that needs to be repeated in a function, so it could be easily called multiple times.</p>\n<p>You also could use recursion, which is a technique that involves a function calling itself. This would also let you wrap up the code that needs to be repeated in a single function, but it can be more tricky to implement and can lead to stack overflow if not implemented correctly.</p>\n"}],"owner":{"account_id":27496448,"reputation":21,"user_id":20980887,"display_name":"Noah Beetschen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673425972,"creation_date":1673425519,"question_id":75080113,"body_markdown":"I have written code that performs calculations by entering the console and now I want to ask the user if they want to perform this again by entering &quot;Y&quot; or &quot;N&quot; in the console. \r\n\r\nI solved this part with a simple if statement, but now I want to execute the whole code above again in case the user enters &quot;Y&quot;. Does anyone have a suggestion for this problem?\r\n\r\n```java\r\n    System.out.println(&quot;Wollen Sie die Rechnung nocheinmal ausf&#252;hren? Y / N&quot;);\r\n\r\n    String yesorno2 = StdIn.readString();\r\n    if (yesorno2.equals(&quot;Y&quot;)) {\r\n        //Should repeat the code above\r\n    } else {\r\n        System.out.println(&quot;Auf Wiedersehn&quot;);\r\n        //Should say the text above and end the code\r\n    }\r\n}\r\n```","title":"How can I execute a section of code by asking the user in the console if they want to repeat the calculation","body":"<p>I have written code that performs calculations by entering the console and now I want to ask the user if they want to perform this again by entering &quot;Y&quot; or &quot;N&quot; in the console.</p>\n<p>I solved this part with a simple if statement, but now I want to execute the whole code above again in case the user enters &quot;Y&quot;. Does anyone have a suggestion for this problem?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    System.out.println(&quot;Wollen Sie die Rechnung nocheinmal ausfÃ¼hren? Y / N&quot;);\n\n    String yesorno2 = StdIn.readString();\n    if (yesorno2.equals(&quot;Y&quot;)) {\n        //Should repeat the code above\n    } else {\n        System.out.println(&quot;Auf Wiedersehn&quot;);\n        //Should say the text above and end the code\n    }\n}\n</code></pre>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1673395254,"post_id":75077055,"comment_id":132488254,"body_markdown":"`Integer` variables cannot represent fractions.  For financial calculations you need to use `BigDecimal` instead.","body":"<code>Integer</code> variables cannot represent fractions.  For financial calculations you need to use <code>BigDecimal</code> instead."},{"owner":{"account_id":27493611,"reputation":1,"user_id":20978477,"display_name":"Adam Toland"},"score":0,"creation_date":1673395598,"post_id":75077055,"comment_id":132488304,"body_markdown":"I have no idea how to use that to help me. Can you explain?","body":"I have no idea how to use that to help me. Can you explain?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673395944,"post_id":75077055,"comment_id":132488357,"body_markdown":"I have removed the javascript tag.  This is not JavaScript.","body":"I have removed the javascript tag.  This is not JavaScript."}],"answers":[{"tags":[],"owner":{"account_id":16362850,"reputation":102,"user_id":11818002,"display_name":"arellak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673400114,"creation_date":1673400114,"answer_id":75077446,"question_id":75077055,"body_markdown":"In your case, I would use a float since you don&#39;t want whole numbers but floating point numbers.&lt;br&gt;\r\nInstead of:\r\n\r\n```java\r\nint num1 = Integer.parseInt(fn);\r\n```\r\n\r\nyou would do:\r\n\r\n```java\r\nfloat num1 = Float.parseFloat(fn);\r\n```\r\n\r\nSo your `sum` variable also has to be a float.\r\nA float is just a float point number that has a precision of 6-7 decimals. Should be more than enough for tax rate.","title":"How to multiple a decimal by a whole number","body":"<p>In your case, I would use a float since you don't want whole numbers but floating point numbers.<br>\nInstead of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int num1 = Integer.parseInt(fn);\n</code></pre>\n<p>you would do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float num1 = Float.parseFloat(fn);\n</code></pre>\n<p>So your <code>sum</code> variable also has to be a float.\nA float is just a float point number that has a precision of 6-7 decimals. Should be more than enough for tax rate.</p>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673425907,"creation_date":1673425907,"answer_id":75080183,"question_id":75077055,"body_markdown":"The best data type to use for storing an amount of money is `BigDecimal`.  It lets you do calculations with decimal amounts, without introducing floating point errors.  It also keeps track of the precision of any number, which is useful for precise calculations.\r\n\r\nIf you try to use `float` or `double` instead of `BigDecimal`, small errors can creep into your calculations, which can cause problems when you try to compare values, or print values.  There are some really good explanations of why this happens in the [answers to this question](https://stackoverflow.com/q/588004) so it&#39;s important to be aware of this.\r\n\r\nYou can easily change your code to use the `BigDecimal` class in place of `Integer`, except that you have to use methods (like `add` and `multiply`) instead of operators (like `+` and `*`).  You might end up with something like this.\r\n\r\n    public static void main(String[] args) {\r\n        String assessmentValueString = JOptionPane.showInputDialog(&quot;Enter assessment value&quot;);\r\n        String taxRateString = JOptionPane.showInputDialog(&quot;Enter local tax rate&quot;);\r\n        \r\n        \r\n        BigDecimal assessmentValue = new BigDecimal(assessmentValueString);\r\n        BigDecimal taxRate = new BigDecimal(taxRateString);\r\n\r\n        BigDecimal totalTax = assessmentValue.multiply(taxRate);\r\n        \r\n        JOptionPane.showMessageDialog(null, &quot;Tax amount&quot; + totalTax);\r\n    }\r\n\r\nYou may want the last calculation to be rounded to two decimal places, regardless of the amounts that are entered.  You can do that like this.\r\n\r\n        MathContext twoDecimals = new MathContext(2);\r\n        BigDecimal totalTax = assessmentValue.multiply(taxRate, twoDecimals);\r\n","title":"How to multiple a decimal by a whole number","body":"<p>The best data type to use for storing an amount of money is <code>BigDecimal</code>.  It lets you do calculations with decimal amounts, without introducing floating point errors.  It also keeps track of the precision of any number, which is useful for precise calculations.</p>\n<p>If you try to use <code>float</code> or <code>double</code> instead of <code>BigDecimal</code>, small errors can creep into your calculations, which can cause problems when you try to compare values, or print values.  There are some really good explanations of why this happens in the <a href=\"https://stackoverflow.com/q/588004\">answers to this question</a> so it's important to be aware of this.</p>\n<p>You can easily change your code to use the <code>BigDecimal</code> class in place of <code>Integer</code>, except that you have to use methods (like <code>add</code> and <code>multiply</code>) instead of operators (like <code>+</code> and <code>*</code>).  You might end up with something like this.</p>\n<pre><code>public static void main(String[] args) {\n    String assessmentValueString = JOptionPane.showInputDialog(&quot;Enter assessment value&quot;);\n    String taxRateString = JOptionPane.showInputDialog(&quot;Enter local tax rate&quot;);\n    \n    \n    BigDecimal assessmentValue = new BigDecimal(assessmentValueString);\n    BigDecimal taxRate = new BigDecimal(taxRateString);\n\n    BigDecimal totalTax = assessmentValue.multiply(taxRate);\n    \n    JOptionPane.showMessageDialog(null, &quot;Tax amount&quot; + totalTax);\n}\n</code></pre>\n<p>You may want the last calculation to be rounded to two decimal places, regardless of the amounts that are entered.  You can do that like this.</p>\n<pre><code>    MathContext twoDecimals = new MathContext(2);\n    BigDecimal totalTax = assessmentValue.multiply(taxRate, twoDecimals);\n</code></pre>\n"}],"owner":{"account_id":27493611,"reputation":1,"user_id":20978477,"display_name":"Adam Toland"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673425907,"creation_date":1673395182,"question_id":75077055,"body_markdown":"I am attempting to ask for a value and tax rate and multiple those together to get a amount owed. It works great if I use whole numbers but it will not work when using decimals.\r\n\r\n    package apples;\r\n    import javax.swing.JOptionPane;\r\n    class apples {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString fn = JOptionPane.showInputDialog(&quot;Enter assessment value&quot;);\r\n\t\tString sn = JOptionPane.showInputDialog(&quot;Enter local tax rate&quot;);\r\n\t\t\r\n\t\t\r\n\t\tint num1 = Integer.parseInt(fn);\r\n\t\tint num2 = Integer.parseInt(sn);\r\n\t\r\n\t\tint sum = num1 * num2;\r\n\t    \r\n\t\tJOptionPane.showMessageDialog(null, &quot;Tax amount&quot; +sum);\r\n\t\r\n\t\t\r\n\t}\r\n\r\n}\r\nI expected it to multiple .23 by the value entered but I get this.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;.23&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:654)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n\tat apples.apples.main(apples.java:11)\r\n","title":"How to multiple a decimal by a whole number","body":"<p>I am attempting to ask for a value and tax rate and multiple those together to get a amount owed. It works great if I use whole numbers but it will not work when using decimals.</p>\n<pre><code>package apples;\nimport javax.swing.JOptionPane;\nclass apples {\n\npublic static void main(String[] args) {\n    String fn = JOptionPane.showInputDialog(&quot;Enter assessment value&quot;);\n    String sn = JOptionPane.showInputDialog(&quot;Enter local tax rate&quot;);\n    \n    \n    int num1 = Integer.parseInt(fn);\n    int num2 = Integer.parseInt(sn);\n\n    int sum = num1 * num2;\n    \n    JOptionPane.showMessageDialog(null, &quot;Tax amount&quot; +sum);\n\n    \n}\n</code></pre>\n<p>}\nI expected it to multiple .23 by the value entered but I get this.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;.23&quot;\nat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\nat java.base/java.lang.Integer.parseInt(Integer.java:654)\nat java.base/java.lang.Integer.parseInt(Integer.java:786)\nat apples.apples.main(apples.java:11)\n</code></pre>\n"},{"tags":["java","android","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":3403371,"reputation":4535,"user_id":2855059,"accept_rate":71,"display_name":"M D P"},"score":0,"creation_date":1538482390,"post_id":52607958,"comment_id":92150195,"body_markdown":"Have you tried Clean Project?","body":"Have you tried Clean Project?"},{"owner":{"account_id":3403371,"reputation":4535,"user_id":2855059,"accept_rate":71,"display_name":"M D P"},"score":0,"creation_date":1538484152,"post_id":52607958,"comment_id":92151147,"body_markdown":"add `buildToolsVersion &#39;27.0.3&#39;` under `compileSdkVersion ` and see if it works. also try Rebuild Project","body":"add <code>buildToolsVersion &#39;27.0.3&#39;</code> under <code>compileSdkVersion </code> and see if it works. also try Rebuild Project"},{"owner":{"account_id":9365912,"reputation":119,"user_id":6950834,"display_name":"Yusuf Ko&#231;ak"},"score":0,"creation_date":1538485207,"post_id":52607958,"comment_id":92151760,"body_markdown":"sory not working","body":"sory not working"},{"owner":{"account_id":1115893,"reputation":6122,"user_id":1105214,"accept_rate":69,"display_name":"samus"},"score":0,"creation_date":1538486267,"post_id":52607958,"comment_id":92152446,"body_markdown":"I would make a separate, empty test project from scratch with the same compile/min/target and build tools versions, and then add your libraries one by one until the build fails.","body":"I would make a separate, empty test project from scratch with the same compile/min/target and build tools versions, and then add your libraries one by one until the build fails."},{"owner":{"account_id":1115893,"reputation":6122,"user_id":1105214,"accept_rate":69,"display_name":"samus"},"score":0,"creation_date":1538487121,"post_id":52607958,"comment_id":92153050,"body_markdown":"*com.android.support:recyclerview-v7:22.2.0* should match the compile version (*27.1.0*), just as *appcompat* does. Also, mixing versions of support libraries can lead to runtime crashes.","body":"<i>com.android.support:recyclerview-v7:22.2.0</i> should match the compile version (<i>27.1.0</i>), just as <i>appcompat</i> does. Also, mixing versions of support libraries can lead to runtime crashes."}],"answers":[{"tags":[],"owner":{"account_id":11322569,"reputation":869,"user_id":8302531,"display_name":"Arty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538483276,"creation_date":1538483276,"answer_id":52608343,"question_id":52607958,"body_markdown":"Did you try **Invalidate Caches/Restart**\r\n\r\n\r\n[![https://i.stack.imgur.com/tsXjV.png][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tsXjV.png\r\n\r\nIf its doesnt work try to upgrade your **buildToolsVersion**.","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>Did you try <strong>Invalidate Caches/Restart</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/tsXjV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tsXjV.png\" alt=\"https://i.stack.imgur.com/tsXjV.png\"></a></p>\n\n<p>If its doesnt work try to upgrade your <strong>buildToolsVersion</strong>.</p>\n"},{"tags":[],"owner":{"account_id":1115893,"reputation":6122,"user_id":1105214,"accept_rate":69,"display_name":"samus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538484015,"creation_date":1538484015,"answer_id":52608552,"question_id":52607958,"body_markdown":"Verify your android versions (Compile/Min/Target) under *File - Project Structure*, especially if you hand edited your build.gradle Module file.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ggoWp.png\r\n  [2]: https://i.stack.imgur.com/DcOuy.png","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>Verify your android versions (Compile/Min/Target) under <em>File - Project Structure</em>, especially if you hand edited your build.gradle Module file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ggoWp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ggoWp.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/DcOuy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DcOuy.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":14302941,"reputation":11,"user_id":10331804,"display_name":"Samsul Alam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542610120,"creation_date":1542609164,"answer_id":53369414,"question_id":52607958,"body_markdown":"You have just deleted the codes that related to the floating action button under the MainActivity.java.\r\n\r\n \r\n\r\n     FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n                        .setAction(&quot;Action&quot;, null).show();\r\n\r\n[Delete these selected codes and run the Program][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QccDJ.png","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>You have just deleted the codes that related to the floating action button under the MainActivity.java.</p>\n\n<pre><code> FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\n    fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                    .setAction(\"Action\", null).show();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QccDJ.png\" rel=\"nofollow noreferrer\">Delete these selected codes and run the Program</a></p>\n"},{"tags":[],"owner":{"account_id":9365912,"reputation":119,"user_id":6950834,"display_name":"Yusuf Ko&#231;ak"},"down_vote_count":4,"up_vote_count":1,"is_accepted":true,"score":-3,"last_activity_date":1555595139,"creation_date":1546007268,"answer_id":53960051,"question_id":52607958,"body_markdown":"The problem is solved when it fixes the problems in javacompiler.\r\nthis problem occurs when there are any errors in your java code. The reason for the error is shown under the Javacompiler tab shown in the screenshot.\r\nFind the source of the error in the messages under the javaCompiler tab.\r\n[screen shot][1]\r\n\r\n\r\n  [1]: http://i.hizliresim.com/zjZ5EO.png","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>The problem is solved when it fixes the problems in javacompiler.\nthis problem occurs when there are any errors in your java code. The reason for the error is shown under the Javacompiler tab shown in the screenshot.\nFind the source of the error in the messages under the javaCompiler tab.\n<a href=\"http://i.hizliresim.com/zjZ5EO.png\" rel=\"nofollow noreferrer\">screen shot</a></p>\n"},{"tags":[],"owner":{"account_id":5212900,"reputation":436,"user_id":4168694,"display_name":"naveen dahiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590988825,"creation_date":1590988825,"answer_id":62126139,"question_id":52607958,"body_markdown":"This may be the gradle version problem, there may be some difference between gradle version installed on machine and version used in project. I got simmilar problem when i have installed gradle version 5.0 and my project has 4.8, In this case use `gradlew` instead of `gradle` in command, problem resolved.","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>This may be the gradle version problem, there may be some difference between gradle version installed on machine and version used in project. I got simmilar problem when i have installed gradle version 5.0 and my project has 4.8, In this case use <code>gradlew</code> instead of <code>gradle</code> in command, problem resolved.</p>\n"},{"tags":[],"owner":{"account_id":1158594,"reputation":323,"user_id":1138573,"display_name":"SDV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673425891,"creation_date":1673425891,"answer_id":75080181,"question_id":52607958,"body_markdown":"I face this compilation issue with the selenium pipeline in azure because of a deprecated capability &quot;ACCEPT_SSL_CERTS&quot; so just added[![enter image description here][1]][1] an answer so you can also look into unsupported dependencies and capabilities \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/56eAS.png","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>I face this compilation issue with the selenium pipeline in azure because of a deprecated capability &quot;ACCEPT_SSL_CERTS&quot; so just added<a href=\"https://i.stack.imgur.com/56eAS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/56eAS.png\" alt=\"enter image description here\" /></a> an answer so you can also look into unsupported dependencies and capabilities</p>\n"}],"owner":{"account_id":9365912,"reputation":119,"user_id":6950834,"display_name":"Yusuf Ko&#231;ak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25906,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53960051,"answer_count":6,"score":6,"last_activity_date":1673425891,"creation_date":1538481849,"question_id":52607958,"body_markdown":"&quot;Compilation failed; see the compiler error output for details.&quot;  \r\ngetting this error when compiling help me please?\r\n\r\n&lt;pre&gt;org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:103)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n\tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\r\n\tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:88)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:623)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:578)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.gradle.api.internal.tasks.compile.CompilationFailedException: Compilation failed; see the compiler error output for details.\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:50)\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:35)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:98)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\r\n\tat org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:35)\r\n\tat org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:39)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:24)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:207)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:133)\r\n\tat com.android.build.gradle.tasks.factory.AndroidJavaCompile.compile(AndroidJavaCompile.java:125)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n\tat org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:50)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:95)\r\n\t... 33 more\r\n&lt;/pre&gt;\r\n\r\nbuild gradle     \r\n    \r\n    apply plugin: &#39;com.android.application&#39;\r\n    android {\r\n    compileSdkVersion 27\r\n    defaultConfig {\r\n        applicationId &quot;com.yube.fasturl&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 27\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner \r\n        &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard- \r\n        android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n        } \r\n        }\r\n\r\n         dependencies {\r\n         implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.android.support:appcompat-v7:27.1.0&#39;\r\n    implementation &#39;com.android.support:design:27.1.0&#39;\r\n    implementation &#39;com.github.florent37:materialtextfield:1.0.7&#39;\r\n    implementation &#39;com.android.support.constraint:constraint- \r\n    layout:1.0.2&#39;\r\n    //noinspection GradleCompatible\r\n    implementation &#39;com.google.android.gms:play-services-ads:15.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    implementation &#39;com.android.support:recyclerview-v7:22.2.0&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.1&#39;\r\n    androidTestImplementation \r\n    &#39;com.android.support.test.espresso:espresso-core:3.0.1&#39;\r\n    implementation &#39;com.android.support:mediarouter-v7:27.1.0&#39;\r\n       }\r\n\r\n","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>\"Compilation failed; see the compiler error output for details.\"<br>\ngetting this error when compiling help me please?</p>\n\n<pre>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileDebugJavaWithJavac'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:103)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)\n    at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n    at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:88)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:623)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:578)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.internal.tasks.compile.CompilationFailedException: Compilation failed; see the compiler error output for details.\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:50)\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:35)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:98)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:35)\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:39)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:24)\n    at org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:207)\n    at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:133)\n    at com.android.build.gradle.tasks.factory.AndroidJavaCompile.compile(AndroidJavaCompile.java:125)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:50)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:95)\n    ... 33 more\n</pre>\n\n<p>build gradle     </p>\n\n<pre><code>apply plugin: 'com.android.application'\nandroid {\ncompileSdkVersion 27\ndefaultConfig {\n    applicationId \"com.yube.fasturl\"\n    minSdkVersion 15\n    targetSdkVersion 27\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \n    \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard- \n    android.txt'), 'proguard-rules.pro'\n    }\n    } \n    }\n\n     dependencies {\n     implementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.android.support:appcompat-v7:27.1.0'\nimplementation 'com.android.support:design:27.1.0'\nimplementation 'com.github.florent37:materialtextfield:1.0.7'\nimplementation 'com.android.support.constraint:constraint- \nlayout:1.0.2'\n//noinspection GradleCompatible\nimplementation 'com.google.android.gms:play-services-ads:15.0.0'\ntestImplementation 'junit:junit:4.12'\nimplementation 'com.android.support:recyclerview-v7:22.2.0'\nandroidTestImplementation 'com.android.support.test:runner:1.0.1'\nandroidTestImplementation \n'com.android.support.test.espresso:espresso-core:3.0.1'\nimplementation 'com.android.support:mediarouter-v7:27.1.0'\n   }\n</code></pre>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":4587206,"reputation":476,"user_id":9173486,"display_name":"lmarx"},"score":0,"creation_date":1652191957,"post_id":54836340,"comment_id":127543577,"body_markdown":"Can `webSocketClient.getCars(dealerId)` return an empty `Mono`? If yes, `webSocketClient#getManufactures` is never called since the param `carIds` in the `flatMap` can be an empty list (notice that `Flux#collectList` emits an empty list if the sequence is empty).","body":"Can <code>webSocketClient.getCars(dealerId)</code> return an empty <code>Mono</code>? If yes, <code>webSocketClient#getManufactures</code> is never called since the param <code>carIds</code> in the <code>flatMap</code> can be an empty list (notice that <code>Flux#collectList</code> emits an empty list if the sequence is empty)."}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673425538,"creation_date":1673383936,"answer_id":75075705,"question_id":54836340,"body_markdown":"I know I&#39;m too late, but maybe someone will find this question and see the answer, I hope that would be helpful.\r\n\r\nThe reason why `webSocketClient.getManufactures(carId`) is never called in your code is obvious: nobody subscribes to this publisher since you put this call to simple `.map()` operator of Stream API.\r\n\r\nThe entire reactive chain should be holistic, without any &quot;breaks&quot;.\r\nAfter getting ids of cars and putting them to `.flatMap()`, inside that `.flatMap()` you should have declared another `Flux` from those ids, and on that `Flux` you put another `.flatMap()` to request manufactures and finally collect them into resulting Set.\r\n\r\nAlso you should not have declared `final CarAndManufactures CarAndManufactures = new CarAndManufactures();` implicilty and then tried to fill this object within the reactive chain. Doing that you&#39;re mixing imperative style code with reactive style code which is incorrect way to use reactive. \r\n\r\nYou should stay in your reactive chain **all the way**.\r\n\r\nSo, the way to achieve what yout what is the following: (I also made the code &quot;better&quot; and cleaner):\r\n\r\n    @Test\r\n    public void carsAndManufacturesTest() {\r\n        String dealerId = &quot;test dealer&quot;;\r\n\r\n        client.getCars(dealerId)                                  // request Mono&lt;CarsResponse&gt;\r\n                .map(CarsResponse::getResult)                     // getting List&lt;Cars&gt; from response\r\n                .map(cars -&gt;                                      // getting ids of cars and collect them to Set&lt;String&gt;\r\n                        cars.stream()\r\n                                .map(Car::getId)\r\n                                .collect(Collectors.toSet())\r\n                )\r\n                .flatMap(carsIds -&gt;                               // creating another publisher that will fetch manufactures and build the CarAndManufactures\r\n                        this.fetchManufacturesIds(carsIds)        // fetching Set&lt;String&gt; manufactures for all the carsIds\r\n                                .map(manufacturesIds -&gt;           // we&#39;re done here! we have both carsIds and manufactureIds!\r\n                                        new CarAndManufactures(   // creating desired object from both carsIds and their manufacturesIds\r\n                                                carsIds,\r\n                                                manufacturesIds)\r\n                                )\r\n                )\r\n                .doOnNext(carAndManufactures -&gt; log.info(carAndManufactures.toString()))\r\n                .subscribe();\r\n    }\r\n\r\n    /**\r\n     * Fetches all the manufactures ids of given cars ids\r\n     *\r\n     * @param carsIds ids of cars\r\n     * @return Mono with all the manufactures ids of given cars ids\r\n     */\r\n    public Mono&lt;Set&lt;String&gt;&gt; fetchManufacturesIds(Set&lt;String&gt; carsIds) {\r\n\r\n        return Flux.fromIterable(carsIds)                       // creating flux of given cars ids\r\n                .flatMap(client::getManufactures)               // request Mono&lt;ManufactureResponse&gt; for car id\r\n                .map(ManufactureResponse::getResult)            // getting List&lt;Manufacture&gt;\r\n                .map(manufactures -&gt;                            // getting ids of manufactures and collect them to Set\r\n                        manufactures.stream()\r\n                                .map(Manufacture::getId)\r\n                                .collect(Collectors.toSet())\r\n                )\r\n                .collectList()                                  // collecting all the sets of manufactures ids, here we get List&lt;Set&lt;String&gt;&gt;\r\n                .map(list -&gt;                                    // flatting all the sets to one set, eventually we get here Set&lt;String&gt;\r\n                        list.stream()\r\n                                .flatMap(Collection::stream)\r\n                                .collect(Collectors.toSet())\r\n                );\r\n    }\r\n\r\n\r\nFor those who want to test this code I&#39;ll leave here the specs of classes. Then in the code above just create the client `private Client client = new Client();` (as a field of class where you put those two merhods)\r\n\r\nClasses:\r\n\r\n    /*\r\n        ================== Classes examples for those who wants to test this code ===================\r\n     */\r\n    @Slf4j\r\n    class Client {\r\n    \r\n        public Mono&lt;CarsResponse&gt; getCars(String dealerId) {\r\n            log.info(&quot;Received request to fetch cars by dealer id: {}&quot;, dealerId);\r\n    \r\n            List&lt;Car&gt; cars =\r\n                    List.of(new Car(&quot;MUSTANG&quot;),\r\n                            new Car(&quot;FOCUS&quot;),\r\n                            new Car(&quot;FUSION&quot;)\r\n                    );\r\n            return Mono.just(new CarsResponse(cars));\r\n        }\r\n    \r\n        public Mono&lt;ManufactureResponse&gt; getManufactures(String carId) {\r\n            log.info(&quot;Received request to fetch manufactures by car id: {}&quot;, carId);\r\n    \r\n            List&lt;Manufacture&gt; manufactures =\r\n                    List.of(new Manufacture(&quot;MF BUFFALO&quot;),\r\n                            new Manufacture(&quot;MF CHANGAN&quot;),\r\n                            new Manufacture(&quot;MF CHICAGO&quot;),\r\n                            new Manufacture(&quot;MF DEARBORN&quot;)\r\n                    );\r\n            return Mono.just(new ManufactureResponse(manufactures));\r\n        }\r\n    }\r\n    \r\n    /*\r\n        ================== Data classes ===================\r\n     */\r\n    @Data\r\n    @AllArgsConstructor\r\n    class CarsResponse {\r\n    \r\n        private List&lt;Car&gt; result;\r\n    }\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    class ManufactureResponse {\r\n    \r\n        List&lt;Manufacture&gt; result;\r\n    }\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    class CarAndManufactures {\r\n    \r\n        private Set&lt;String&gt; cars;\r\n        private Set&lt;String&gt; manufactures;\r\n    }\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    class Car {\r\n    \r\n        private String id;\r\n    }\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    class Manufacture {\r\n    \r\n        private String id;\r\n    }\r\n\r\n","title":"How to iterate over Mono&lt;List&lt;String&gt;&gt; calling Mono returning method","body":"<p>I know I'm too late, but maybe someone will find this question and see the answer, I hope that would be helpful.</p>\n<p>The reason why <code>webSocketClient.getManufactures(carId</code>) is never called in your code is obvious: nobody subscribes to this publisher since you put this call to simple <code>.map()</code> operator of Stream API.</p>\n<p>The entire reactive chain should be holistic, without any &quot;breaks&quot;.\nAfter getting ids of cars and putting them to <code>.flatMap()</code>, inside that <code>.flatMap()</code> you should have declared another <code>Flux</code> from those ids, and on that <code>Flux</code> you put another <code>.flatMap()</code> to request manufactures and finally collect them into resulting Set.</p>\n<p>Also you should not have declared <code>final CarAndManufactures CarAndManufactures = new CarAndManufactures();</code> implicilty and then tried to fill this object within the reactive chain. Doing that you're mixing imperative style code with reactive style code which is incorrect way to use reactive.</p>\n<p>You should stay in your reactive chain <strong>all the way</strong>.</p>\n<p>So, the way to achieve what yout what is the following: (I also made the code &quot;better&quot; and cleaner):</p>\n<pre><code>@Test\npublic void carsAndManufacturesTest() {\n    String dealerId = &quot;test dealer&quot;;\n\n    client.getCars(dealerId)                                  // request Mono&lt;CarsResponse&gt;\n            .map(CarsResponse::getResult)                     // getting List&lt;Cars&gt; from response\n            .map(cars -&gt;                                      // getting ids of cars and collect them to Set&lt;String&gt;\n                    cars.stream()\n                            .map(Car::getId)\n                            .collect(Collectors.toSet())\n            )\n            .flatMap(carsIds -&gt;                               // creating another publisher that will fetch manufactures and build the CarAndManufactures\n                    this.fetchManufacturesIds(carsIds)        // fetching Set&lt;String&gt; manufactures for all the carsIds\n                            .map(manufacturesIds -&gt;           // we're done here! we have both carsIds and manufactureIds!\n                                    new CarAndManufactures(   // creating desired object from both carsIds and their manufacturesIds\n                                            carsIds,\n                                            manufacturesIds)\n                            )\n            )\n            .doOnNext(carAndManufactures -&gt; log.info(carAndManufactures.toString()))\n            .subscribe();\n}\n\n/**\n * Fetches all the manufactures ids of given cars ids\n *\n * @param carsIds ids of cars\n * @return Mono with all the manufactures ids of given cars ids\n */\npublic Mono&lt;Set&lt;String&gt;&gt; fetchManufacturesIds(Set&lt;String&gt; carsIds) {\n\n    return Flux.fromIterable(carsIds)                       // creating flux of given cars ids\n            .flatMap(client::getManufactures)               // request Mono&lt;ManufactureResponse&gt; for car id\n            .map(ManufactureResponse::getResult)            // getting List&lt;Manufacture&gt;\n            .map(manufactures -&gt;                            // getting ids of manufactures and collect them to Set\n                    manufactures.stream()\n                            .map(Manufacture::getId)\n                            .collect(Collectors.toSet())\n            )\n            .collectList()                                  // collecting all the sets of manufactures ids, here we get List&lt;Set&lt;String&gt;&gt;\n            .map(list -&gt;                                    // flatting all the sets to one set, eventually we get here Set&lt;String&gt;\n                    list.stream()\n                            .flatMap(Collection::stream)\n                            .collect(Collectors.toSet())\n            );\n}\n</code></pre>\n<p>For those who want to test this code I'll leave here the specs of classes. Then in the code above just create the client <code>private Client client = new Client();</code> (as a field of class where you put those two merhods)</p>\n<p>Classes:</p>\n<pre><code>/*\n    ================== Classes examples for those who wants to test this code ===================\n */\n@Slf4j\nclass Client {\n\n    public Mono&lt;CarsResponse&gt; getCars(String dealerId) {\n        log.info(&quot;Received request to fetch cars by dealer id: {}&quot;, dealerId);\n\n        List&lt;Car&gt; cars =\n                List.of(new Car(&quot;MUSTANG&quot;),\n                        new Car(&quot;FOCUS&quot;),\n                        new Car(&quot;FUSION&quot;)\n                );\n        return Mono.just(new CarsResponse(cars));\n    }\n\n    public Mono&lt;ManufactureResponse&gt; getManufactures(String carId) {\n        log.info(&quot;Received request to fetch manufactures by car id: {}&quot;, carId);\n\n        List&lt;Manufacture&gt; manufactures =\n                List.of(new Manufacture(&quot;MF BUFFALO&quot;),\n                        new Manufacture(&quot;MF CHANGAN&quot;),\n                        new Manufacture(&quot;MF CHICAGO&quot;),\n                        new Manufacture(&quot;MF DEARBORN&quot;)\n                );\n        return Mono.just(new ManufactureResponse(manufactures));\n    }\n}\n\n/*\n    ================== Data classes ===================\n */\n@Data\n@AllArgsConstructor\nclass CarsResponse {\n\n    private List&lt;Car&gt; result;\n}\n\n@Data\n@AllArgsConstructor\nclass ManufactureResponse {\n\n    List&lt;Manufacture&gt; result;\n}\n\n@Data\n@AllArgsConstructor\nclass CarAndManufactures {\n\n    private Set&lt;String&gt; cars;\n    private Set&lt;String&gt; manufactures;\n}\n\n@Data\n@AllArgsConstructor\nclass Car {\n\n    private String id;\n}\n\n@Data\n@AllArgsConstructor\nclass Manufacture {\n\n    private String id;\n}\n</code></pre>\n"}],"owner":{"account_id":1240724,"reputation":7675,"user_id":1203394,"accept_rate":68,"display_name":"Marquis Blount"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6348,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1673425538,"creation_date":1550876251,"question_id":54836340,"body_markdown":"I&#39;m attempting to achieve the following in the method below \r\n\r\n&gt; 1. Get All Cars from Dealer X\r\n&gt; 2. Create wrapper object that stores a set of all cars and another set of all manufactures 2a. Populate Cars set with the cars obtained in\r\n&gt; Step 1 \r\n&gt; 3. For each Car get all of their independent manufactures\r\n&gt; 4. Store all obtained manufactures into the wrapper objects manufactures Set\r\n&gt; 5. Return Mono of Car and manufactures \r\n\r\n    Mono&lt;CarAndManufactures&gt; requestCarAndManufactures(Request req) {\r\n    final String dealerId = buildDealerId(req.getDealerRegion(), req.getDealerId());\r\n    final CarAndManufactures CarAndManufactures = new CarAndManufactures();\r\n    return webSocketClient.getCars(dealerId) //note #getCars returns a Mono\r\n        .map(getCarsResponse -&gt; getCarsResponse\r\n          .getResult()\r\n          .stream()\r\n          .map(Car::getId)\r\n          .collect(toSet()))\r\n        .map(carIds -&gt; {\r\n          CarAndManufactures.setCars(carIds);\r\n          return CarAndManufactures;\r\n        })\r\n        .flatMapMany(CarAndManufactures1 -&gt; Flux.fromIterable(CarAndManufactures.getCars().keySet()))\r\n        .collectList()\r\n        .log(&quot;Existing cars&quot;)\r\n        .flatMap(carIds -&gt; { //This is the problem area\r\n          carIds\r\n              .stream()\r\n              .map(carId -&gt; {\r\n                webSocketClient.getManufactures(carId) //Note getManufactures returns a Mono... This method does look like its ever called\r\n                    .map(getManufactureResponse -&gt; getManufactureResponse\r\n                        .getResult()\r\n                        .stream()\r\n                        .map(Manufacture::getId)\r\n                        .collect(toSet()))\r\n                    .map(ManufactureIds -&gt; {\r\n                      CarAndManufactures.SetManufactures(ManufactureIds); //since the line commented on above is not called the Manufacture Set is empty\r\n                      return CarAndManufactures;\r\n                    });\r\n                return CarAndManufactures;\r\n              });\r\n              return just(CarAndManufactures);\r\n            }\r\n        )\r\n        .log(&quot;Car And Manufactures&quot;); \r\n  }\r\n\r\nThe Set of Manufactures is alway empty doesnt look like webSocketClient.getManufactures(carId) is ever called. Thought I might be missing a .subscribe some where but since this is being used by a webflux controller I think no #subscribes are needed anywhere","title":"How to iterate over Mono&lt;List&lt;String&gt;&gt; calling Mono returning method","body":"<p>I'm attempting to achieve the following in the method below </p>\n\n<blockquote>\n  <ol>\n  <li>Get All Cars from Dealer X</li>\n  <li>Create wrapper object that stores a set of all cars and another set of all manufactures 2a. Populate Cars set with the cars obtained in\n  Step 1 </li>\n  <li>For each Car get all of their independent manufactures</li>\n  <li>Store all obtained manufactures into the wrapper objects manufactures Set</li>\n  <li>Return Mono of Car and manufactures </li>\n  </ol>\n</blockquote>\n\n<pre><code>Mono&lt;CarAndManufactures&gt; requestCarAndManufactures(Request req) {\nfinal String dealerId = buildDealerId(req.getDealerRegion(), req.getDealerId());\nfinal CarAndManufactures CarAndManufactures = new CarAndManufactures();\nreturn webSocketClient.getCars(dealerId) //note #getCars returns a Mono\n    .map(getCarsResponse -&gt; getCarsResponse\n      .getResult()\n      .stream()\n      .map(Car::getId)\n      .collect(toSet()))\n    .map(carIds -&gt; {\n      CarAndManufactures.setCars(carIds);\n      return CarAndManufactures;\n    })\n    .flatMapMany(CarAndManufactures1 -&gt; Flux.fromIterable(CarAndManufactures.getCars().keySet()))\n    .collectList()\n    .log(\"Existing cars\")\n    .flatMap(carIds -&gt; { //This is the problem area\n      carIds\n          .stream()\n          .map(carId -&gt; {\n            webSocketClient.getManufactures(carId) //Note getManufactures returns a Mono... This method does look like its ever called\n                .map(getManufactureResponse -&gt; getManufactureResponse\n                    .getResult()\n                    .stream()\n                    .map(Manufacture::getId)\n                    .collect(toSet()))\n                .map(ManufactureIds -&gt; {\n                  CarAndManufactures.SetManufactures(ManufactureIds); //since the line commented on above is not called the Manufacture Set is empty\n                  return CarAndManufactures;\n                });\n            return CarAndManufactures;\n          });\n          return just(CarAndManufactures);\n        }\n    )\n    .log(\"Car And Manufactures\"); \n</code></pre>\n\n<p>}</p>\n\n<p>The Set of Manufactures is alway empty doesnt look like webSocketClient.getManufactures(carId) is ever called. Thought I might be missing a .subscribe some where but since this is being used by a webflux controller I think no #subscribes are needed anywhere</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1673425218,"post_id":75080008,"comment_id":132493446,"body_markdown":"Your first code closes the connection, while the second code tries to reuse the connection and is unaware if the connection was already closed. Please don&#39;t write such a brittle connection manager, instead use a connection pool like HikariCP, or **always** return a **new** connection.","body":"Your first code closes the connection, while the second code tries to reuse the connection and is unaware if the connection was already closed. Please don&#39;t write such a brittle connection manager, instead use a connection pool like HikariCP, or <b>always</b> return a <b>new</b> connection."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1673428570,"post_id":75080008,"comment_id":132494589,"body_markdown":"Incidentally, you should NEVER use String concatenation to build SQL statements with user input - you are laying yourself open to SQL Injection attacks.  Instead, learn to use parameters (eg `VALUES (null, ?, ?, ?, ?)`, and set them with `con.setString`, etc).  See https://stackoverflow.com/a/8264648/681444","body":"Incidentally, you should NEVER use String concatenation to build SQL statements with user input - you are laying yourself open to SQL Injection attacks.  Instead, learn to use parameters (eg <code>VALUES (null, ?, ?, ?, ?)</code>, and set them with <code>con.setString</code>, etc).  See <a href=\"https://stackoverflow.com/a/8264648/681444\">stackoverflow.com/a/8264648/681444</a>"}],"owner":{"account_id":19764076,"reputation":13,"user_id":14472510,"display_name":"Ryan Oktaviandi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673425319,"answer_count":0,"score":0,"last_activity_date":1673425167,"creation_date":1673424876,"question_id":75080008,"body_markdown":"I have an ArrayList in Java and I want to insert it into my database but it&#39;s always showing me this error code\r\n\r\n&gt; Exception in thread &quot;main&quot; java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.\r\n\r\nAnd I don&#39;t know why it&#39;s happening, I have tried many fix in the internet but non of it is working\r\n\r\nhere&#39;s my code snipset\r\n\r\n```\r\nConnection con = db.getConnection();\r\ntry{\r\n    for(Stock element: listStock){\r\n        if(element.getKodeSaham().equals(getKode_saham())){\r\n            int hargaSaham = element.getHarga();\r\n            int harga = (lot*100) * hargaSaham;\r\n            for(Transaction trans : listTransaksi){\r\n                //System.out.println(trans.getKodeSaham());\r\n                PreparedStatement p1 = con.prepareStatement(&quot;INSERT INTO history (id_transaction, kode_saham, lot, harga, username, status, lot_sell_check) VALUES(NULL,&#39;&quot;+getKode_saham()+&quot;&#39;,&#39;&quot;+getLot()+&quot;&#39;,&#39;&quot;+harga+&quot;&#39;,&#39;&quot;+getUsername()+&quot;&#39;, &#39;Buy&#39;,&#39;&quot;+getLot()+&quot;&#39;)&quot;);\r\n                p1.executeUpdate();\r\n            }\r\n        }\r\n    }\r\n}finally {\r\n    con.close();\r\n}\r\n```\r\n\r\nAnd here&#39;s my database connection:\r\n\r\n```\r\nstatic final String JDBC_DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\nstatic final String DB_URL = &quot;jdbc:mysql://localhost:3306/tes&quot;;\r\nstatic final String USER = &quot;root&quot;;\r\nstatic final String PASS = &quot;&quot;;\r\n\r\nprivate static Connection connection;\r\npublic static Connection getConnection() throws SQLException{\r\n    if (connection == null){\r\n        connection = createConnection();\r\n    }\r\n    return connection;\r\n}\r\n\r\nprivate static Connection createConnection() {\r\n    try {\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        connection = DriverManager.getConnection(DB_URL,USER,PASS);\r\n    } catch (ClassNotFoundException | SQLException ex) {\r\n         Logger.getLogger(db.class.getName()).log(Level.SEVERE, null, ex);\r\n    } \r\n    \r\n    return connection;\r\n}\r\n```\r\n","title":"My code always get this error Exception in thread &quot;main&quot; java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed","body":"<p>I have an ArrayList in Java and I want to insert it into my database but it's always showing me this error code</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.</p>\n</blockquote>\n<p>And I don't know why it's happening, I have tried many fix in the internet but non of it is working</p>\n<p>here's my code snipset</p>\n<pre><code>Connection con = db.getConnection();\ntry{\n    for(Stock element: listStock){\n        if(element.getKodeSaham().equals(getKode_saham())){\n            int hargaSaham = element.getHarga();\n            int harga = (lot*100) * hargaSaham;\n            for(Transaction trans : listTransaksi){\n                //System.out.println(trans.getKodeSaham());\n                PreparedStatement p1 = con.prepareStatement(&quot;INSERT INTO history (id_transaction, kode_saham, lot, harga, username, status, lot_sell_check) VALUES(NULL,'&quot;+getKode_saham()+&quot;','&quot;+getLot()+&quot;','&quot;+harga+&quot;','&quot;+getUsername()+&quot;', 'Buy','&quot;+getLot()+&quot;')&quot;);\n                p1.executeUpdate();\n            }\n        }\n    }\n}finally {\n    con.close();\n}\n</code></pre>\n<p>And here's my database connection:</p>\n<pre><code>static final String JDBC_DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;\nstatic final String DB_URL = &quot;jdbc:mysql://localhost:3306/tes&quot;;\nstatic final String USER = &quot;root&quot;;\nstatic final String PASS = &quot;&quot;;\n\nprivate static Connection connection;\npublic static Connection getConnection() throws SQLException{\n    if (connection == null){\n        connection = createConnection();\n    }\n    return connection;\n}\n\nprivate static Connection createConnection() {\n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        connection = DriverManager.getConnection(DB_URL,USER,PASS);\n    } catch (ClassNotFoundException | SQLException ex) {\n         Logger.getLogger(db.class.getName()).log(Level.SEVERE, null, ex);\n    } \n    \n    return connection;\n}\n</code></pre>\n"},{"tags":["java","spring","servlets","webserver"],"answers":[{"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673418882,"creation_date":1673418882,"answer_id":75079124,"question_id":75076547,"body_markdown":"A similar error occurs if your address or port is incorrect / already used. This fixes the error in most situations, but a driver like the one mentioned above may cause the error.\r\n\r\nTry changing port number from `8080` to something else. If that doesn&#39;t suffice, then one other instance I came across is as the following : \r\n\r\nThere was control software installed for the individuals Network interface controller (NIC) that allowed both ethernet and wifi to be used simultaneously. This was installed to supposedly improve gaming experience, but did not play nicely with tomcat in Spring. Once disabled the application was able to run as expected. It is described as follows :\r\n\r\nThis was a network interface Carr driver for an installed card. It will be different depending on card and driver installed - You can look at your drivers by looking at the Device Manager on windows.\r\n\r\nHope it helps you!!","title":"Failed to start &#39;webServerStartStop&#39; spring boot app","body":"<p>A similar error occurs if your address or port is incorrect / already used. This fixes the error in most situations, but a driver like the one mentioned above may cause the error.</p>\n<p>Try changing port number from <code>8080</code> to something else. If that doesn't suffice, then one other instance I came across is as the following :</p>\n<p>There was control software installed for the individuals Network interface controller (NIC) that allowed both ethernet and wifi to be used simultaneously. This was installed to supposedly improve gaming experience, but did not play nicely with tomcat in Spring. Once disabled the application was able to run as expected. It is described as follows :</p>\n<p>This was a network interface Carr driver for an installed card. It will be different depending on card and driver installed - You can look at your drivers by looking at the Device Manager on windows.</p>\n<p>Hope it helps you!!</p>\n"},{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673424157,"creation_date":1673424157,"answer_id":75079893,"question_id":75076547,"body_markdown":"\r\nThere was control software installed for the individuals Network interface controller (NIC) that allowed both ethernet and wifi to be used simultaneously. This was installed to supposedly improve gaming experience, but did not play nicely with tomcat in Spring. Once disabled the application was able to run as expected.\r\n\r\nA similar error occurs if your address or port is incorrect / already used. This fixes the error in most situations, but a driver like the one mentioned above may cause the error.\r\n\r\nDisable the Gamingservices service or go to the task manager and end the task of gamingservices and run again the application. or restart the computer.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MTi4s.png","title":"Failed to start &#39;webServerStartStop&#39; spring boot app","body":"<p>There was control software installed for the individuals Network interface controller (NIC) that allowed both ethernet and wifi to be used simultaneously. This was installed to supposedly improve gaming experience, but did not play nicely with tomcat in Spring. Once disabled the application was able to run as expected.</p>\n<p>A similar error occurs if your address or port is incorrect / already used. This fixes the error in most situations, but a driver like the one mentioned above may cause the error.</p>\n<p>Disable the Gamingservices service or go to the task manager and end the task of gamingservices and run again the application. or restart the computer.</p>\n<p><a href=\"https://i.stack.imgur.com/MTi4s.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":27487600,"reputation":31,"user_id":20973578,"display_name":"kalkam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2309,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673424157,"creation_date":1673389942,"question_id":75076547,"body_markdown":"After trying to run my app which main Class is present here:\r\n\r\n\r\n```\r\n@SpringBootApplication public class RappersInfo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\nSpringApplication.run(RappersInfo.class, args);\r\n\r\n\t} \t@Component\r\n\tpublic class JspContextCustomizer implements TomcatContextCustomizer {\r\n\t\t@Override\r\n\t\tpublic void customize(Context context) {\r\n\t\t\tJspPropertyGroup group = new JspPropertyGroup();\r\n\t\t\tgroup.addUrlPattern(&quot;/*&quot;);\r\n\t\t\tgroup.setPageEncoding(&quot;UTF-8&quot;);\r\n\t\t\tcontext.setJspConfigDescriptor(new JspConfigDescriptorImpl(\r\n\t\t\t\t\tCollections.singletonList(new JspPropertyGroupDescriptorImpl(group)),\r\n\t\t\t\t\tCollections.emptyList()));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nI get that error after trying to run that class:\r\n\r\n&gt; org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n&gt; \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n&gt; \tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat com.example.RappersInfo.demo.RappersInfo.main(RappersInfo.java:20) ~[classes/:na]\r\n&gt; \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n&gt; \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n&gt; \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n&gt; \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.6.jar:2.7.6]\r\n&gt; Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; 19 common frames omitted\r\n&gt; Caused by: org.springframework.boot.web.server.WebServerException: Servlet [jsp] in web application [] threw load() exception\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.load(TomcatEmbeddedContext.java:86) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\r\n&gt; \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276) ~[na:na]\r\n&gt; \tat java.base/java.util.TreeMap$ValueSpliterator.forEachRemaining(TreeMap.java:3215) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.lambda$deferredLoadOnStartup$0(TomcatEmbeddedContext.java:64) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.doWithThreadContextClassLoader(TomcatEmbeddedContext.java:105) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.deferredLoadOnStartup(TomcatEmbeddedContext.java:63) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.performDeferredLoadOnStartup(TomcatWebServer.java:305) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:216) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; 21 common frames omitted\r\n&gt; Caused by: javax.servlet.ServletException: Class [org.apache.jasper.servlet.JspServlet] is not a Servlet\r\n&gt; \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1072) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n&gt; \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1007) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.load(TomcatEmbeddedContext.java:81) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; 37 common frames omitted\r\n&gt; Caused by: java.lang.ClassCastException: class org.apache.jasper.servlet.JspServlet cannot be cast to class javax.servlet.Servlet (org.apache.jasper.servlet.JspServlet and javax.servlet.Servlet are in unnamed module of loader &#39;app&#39;)\r\n&gt; \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1067) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n&gt; 39 common frames omitted\r\n\r\n\r\n\r\nAnd here is my pom.xml:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example.RappersInfo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;rappersInfoImage&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.0.0-M1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;glassfish-jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bootstrap-datepicker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.0.0-M1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;```\r\n\r\n\r\n What can i do?\r\n\r\nTried almost everything what was in the internet.\r\n\r\nError happens after changing spring boot version from 3.x. to 2.7.6 (i want to deploy it with war file). Im not sure about my pom.xml. Maybe there is a problem with tomcat dependencies?","title":"Failed to start &#39;webServerStartStop&#39; spring boot app","body":"<p>After trying to run my app which main Class is present here:</p>\n<pre><code>@SpringBootApplication public class RappersInfo {\n\n    public static void main(String[] args) {\n\nSpringApplication.run(RappersInfo.class, args);\n\n    }   @Component\n    public class JspContextCustomizer implements TomcatContextCustomizer {\n        @Override\n        public void customize(Context context) {\n            JspPropertyGroup group = new JspPropertyGroup();\n            group.addUrlPattern(&quot;/*&quot;);\n            group.setPageEncoding(&quot;UTF-8&quot;);\n            context.setJspConfigDescriptor(new JspConfigDescriptorImpl(\n                    Collections.singletonList(new JspPropertyGroupDescriptorImpl(group)),\n                    Collections.emptyList()));\n        }\n    }\n}\n</code></pre>\n<p>I get that error after trying to run that class:</p>\n<blockquote>\n<p>org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.24.jar:5.3.24]\nat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.24.jar:5.3.24]\nat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.24.jar:5.3.24]\nat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\nat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.24.jar:5.3.24]\nat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.24.jar:5.3.24]\nat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.24.jar:5.3.24]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.24.jar:5.3.24]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.6.jar:2.7.6]\nat com.example.RappersInfo.demo.RappersInfo.main(RappersInfo.java:20) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.6.jar:2.7.6]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.24.jar:5.3.24]\n19 common frames omitted\nCaused by: org.springframework.boot.web.server.WebServerException: Servlet [jsp] in web application [] threw load() exception\nat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.load(TomcatEmbeddedContext.java:86) ~[spring-boot-2.7.6.jar:2.7.6]\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\nat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\nat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276) ~[na:na]\nat java.base/java.util.TreeMap$ValueSpliterator.forEachRemaining(TreeMap.java:3215) ~[na:na]\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\nat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\nat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\nat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.lambda$deferredLoadOnStartup$0(TomcatEmbeddedContext.java:64) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.doWithThreadContextClassLoader(TomcatEmbeddedContext.java:105) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.deferredLoadOnStartup(TomcatEmbeddedContext.java:63) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.performDeferredLoadOnStartup(TomcatWebServer.java:305) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:216) ~[spring-boot-2.7.6.jar:2.7.6]\n21 common frames omitted\nCaused by: javax.servlet.ServletException: Class [org.apache.jasper.servlet.JspServlet] is not a Servlet\nat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1072) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\nat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1007) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\nat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.load(TomcatEmbeddedContext.java:81) ~[spring-boot-2.7.6.jar:2.7.6]\n37 common frames omitted\nCaused by: java.lang.ClassCastException: class org.apache.jasper.servlet.JspServlet cannot be cast to class javax.servlet.Servlet (org.apache.jasper.servlet.JspServlet and javax.servlet.Servlet are in unnamed module of loader 'app')\nat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1067) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n39 common frames omitted</p>\n</blockquote>\n<p>And here is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example.RappersInfo&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;rappersInfoImage&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;version&gt;11.0.0-M1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;glassfish-jstl&lt;/artifactId&gt;\n            &lt;version&gt;11.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;5.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap-datepicker&lt;/artifactId&gt;\n            &lt;version&gt;1.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n            &lt;version&gt;11.0.0-M1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;```\n\n\n What can i do?\n\nTried almost everything what was in the internet.\n\nError happens after changing spring boot version from 3.x. to 2.7.6 (i want to deploy it with war file). Im not sure about my pom.xml. Maybe there is a problem with tomcat dependencies?\n</code></pre>\n"},{"tags":["java","spring-boot","rest","http","multipartfile"],"answers":[{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673418463,"creation_date":1673418463,"answer_id":75079068,"question_id":75078181,"body_markdown":"To upload a large file or any file you have to explicitly enable multipart as true be default it is false \r\nSo to that use the following command in application.properties\r\n\r\n\r\n     spring.servlet.multipart.enabled=true","title":"Getting 503 exception when sending large file as body in post request","body":"<p>To upload a large file or any file you have to explicitly enable multipart as true be default it is false\nSo to that use the following command in application.properties</p>\n<pre><code> spring.servlet.multipart.enabled=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27459886,"reputation":61,"user_id":20950641,"display_name":"sanah saleem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673419881,"creation_date":1673419881,"answer_id":75079246,"question_id":75078181,"body_markdown":"Is there any other configurations in your application.properties or any other dependencies in your project ?\r\n\r\nAdding this to your properties file should have done the work\r\n```\r\nspring:\r\n  servlet:\r\n    multipart:\r\n      max-file-size: 500MB\r\n      max-request-size: 500MB\r\n```\r\n\r\nAlso setting the max file limit according to your spring version as described here \r\n\r\nhttps://stackoverflow.com/a/57810158/20950641","title":"Getting 503 exception when sending large file as body in post request","body":"<p>Is there any other configurations in your application.properties or any other dependencies in your project ?</p>\n<p>Adding this to your properties file should have done the work</p>\n<pre><code>spring:\n  servlet:\n    multipart:\n      max-file-size: 500MB\n      max-request-size: 500MB\n</code></pre>\n<p>Also setting the max file limit according to your spring version as described here</p>\n<p><a href=\"https://stackoverflow.com/a/57810158/20950641\">https://stackoverflow.com/a/57810158/20950641</a></p>\n"}],"owner":{"account_id":25798764,"reputation":21,"user_id":19541542,"display_name":"Aman Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673423792,"creation_date":1673409065,"question_id":75078181,"body_markdown":"Below is my rest endpoint and code. I am trying to upload a large file by using Multipart, but when I am attaching a large file (&gt;100MB)in postman I am getting 503 error and request is not coming to my server. \r\n\r\n\r\n```\r\n@PostMapping(&quot;load/largefile&quot;)\r\n    public ResponseObj loadHaevyFileToS3(@RequestPart(value = &quot;file&quot;) MultipartFile jsonDataFile) {\r\n        return new ResponseObj(true,loadService.load(jsonDataFile));\r\n    }\r\n```\r\n\r\nBut when I am attching file of smaller size it is working fine \r\n\r\nI have added the below properties in my application.properties.\r\n\r\n\r\n\r\n```\r\nspring.servlet.multipart.max-request-size=500MB\r\nspring.servlet.multipart.max-file-size=500MB\r\nserver.tomcat.max-http-form-post-size=500MB\r\n```\r\nSpring version : 5.0.8.RELEASE\r\n\r\nAlso in logs I am not getting any error and seems like call is not coming to server, but with smaller file it is coming. \r\n\r\nI don&#39;t know what I am missing here, please help me out.\r\nThanks in advance.\r\n\r\nNOTE: **When I am using to hit to my local(localhost:8090) it is working and call is coming to my local server but after deploying the code when I am hitting the postman to my main server I am facing the above issue**.\r\n[Postman Screen shot](https://i.stack.imgur.com/cDDbV.png)","title":"Getting 503 exception when sending large file as body in post request","body":"<p>Below is my rest endpoint and code. I am trying to upload a large file by using Multipart, but when I am attaching a large file (&gt;100MB)in postman I am getting 503 error and request is not coming to my server.</p>\n<pre><code>@PostMapping(&quot;load/largefile&quot;)\n    public ResponseObj loadHaevyFileToS3(@RequestPart(value = &quot;file&quot;) MultipartFile jsonDataFile) {\n        return new ResponseObj(true,loadService.load(jsonDataFile));\n    }\n</code></pre>\n<p>But when I am attching file of smaller size it is working fine</p>\n<p>I have added the below properties in my application.properties.</p>\n<pre><code>spring.servlet.multipart.max-request-size=500MB\nspring.servlet.multipart.max-file-size=500MB\nserver.tomcat.max-http-form-post-size=500MB\n</code></pre>\n<p>Spring version : 5.0.8.RELEASE</p>\n<p>Also in logs I am not getting any error and seems like call is not coming to server, but with smaller file it is coming.</p>\n<p>I don't know what I am missing here, please help me out.\nThanks in advance.</p>\n<p>NOTE: <strong>When I am using to hit to my local(localhost:8090) it is working and call is coming to my local server but after deploying the code when I am hitting the postman to my main server I am facing the above issue</strong>.\n<a href=\"https://i.stack.imgur.com/cDDbV.png\" rel=\"nofollow noreferrer\">Postman Screen shot</a></p>\n"},{"tags":["java","browser","user-agent"],"answers":[{"tags":[],"owner":{"account_id":1927754,"reputation":5883,"user_id":1737819,"accept_rate":89,"display_name":"Developer Marius Å½ilÄ—nas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1423124547,"creation_date":1423124547,"answer_id":28339234,"question_id":27474776,"body_markdown":"You might use [UADetector library](http://uadetector.sourceforge.net/) that does just that. It has device categorization feature added since 0.9.10 version.\r\n\r\n&gt; UADetector is a library to identify over 190 different desktop and mobile browsers and 130 other User-Agents like feed readers, email clients and multimedia players. In addition, even more than 400 robots like BingBot, Googlebot or Yahoo Bot can be identified.","title":"Detect device types from user agent strings","body":"<p>You might use <a href=\"http://uadetector.sourceforge.net/\" rel=\"nofollow\">UADetector library</a> that does just that. It has device categorization feature added since 0.9.10 version.</p>\n\n<blockquote>\n  <p>UADetector is a library to identify over 190 different desktop and mobile browsers and 130 other User-Agents like feed readers, email clients and multimedia players. In addition, even more than 400 robots like BingBot, Googlebot or Yahoo Bot can be identified.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1432659,"reputation":4525,"user_id":1354712,"accept_rate":77,"display_name":"Dave Voyles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436361836,"creation_date":1436361836,"answer_id":31294057,"question_id":27474776,"body_markdown":"I&#39;m curious: Why does the device type matter? \r\n\r\nNot trying to be snarky, but trying to understand a use case. \r\n\r\n[In Cordova you can check for this,][1] but now sure about straight HTML. I which I have done for iOS before. I needed to do this to detect when I needed to add a 20px margin to the header of a page on a Cordova app, as iOS made this change several versions ago.\r\n\r\nHere is how I did it:\r\n\r\n        if (parseFloat(window.device.version) &gt;= 7.0 ) {\r\n            $allHeaders.css( &quot;margin-top&quot;, &quot;20px&quot; );       \r\n        }\r\n\r\n\r\n  [1]: http://docs.phonegap.com/en/edge/cordova_device_device.md.html","title":"Detect device types from user agent strings","body":"<p>I'm curious: Why does the device type matter? </p>\n\n<p>Not trying to be snarky, but trying to understand a use case. </p>\n\n<p><a href=\"http://docs.phonegap.com/en/edge/cordova_device_device.md.html\" rel=\"nofollow\">In Cordova you can check for this,</a> but now sure about straight HTML. I which I have done for iOS before. I needed to do this to detect when I needed to add a 20px margin to the header of a page on a Cordova app, as iOS made this change several versions ago.</p>\n\n<p>Here is how I did it:</p>\n\n<pre><code>    if (parseFloat(window.device.version) &gt;= 7.0 ) {\n        $allHeaders.css( \"margin-top\", \"20px\" );       \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7667205,"reputation":283,"user_id":5810608,"display_name":"Otrozone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673423676,"creation_date":1673423676,"answer_id":75079823,"question_id":27474776,"body_markdown":"This might help.\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class DeviceTypeDetector {\r\n        public static String getDeviceType(String userAgent) {\r\n            String deviceType;\r\n            Pattern tabletPattern = Pattern.compile(&quot;(tablet|ipad|playbook|silk)|(android(?!.*mobi))&quot;, Pattern.CASE_INSENSITIVE);\r\n            Matcher tabletMatcher = tabletPattern.matcher(userAgent);\r\n            Pattern mobilePattern = Pattern.compile(&quot;(mobi|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds)&quot;, Pattern.CASE_INSENSITIVE);\r\n            Matcher mobileMatcher = mobilePattern.matcher(userAgent);\r\n            if (tabletMatcher.find()) {\r\n                deviceType = &quot;tablet&quot;;\r\n            } else if (mobileMatcher.find()) {\r\n                deviceType = &quot;mobile&quot;;\r\n            } else {\r\n                deviceType = &quot;desktop&quot;;\r\n            }\r\n            return deviceType;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4537.110 Safari/537.36&quot;;\r\n            System.out.println(getDeviceType(userAgent));\r\n        }\r\n    }","title":"Detect device types from user agent strings","body":"<p>This might help.</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class DeviceTypeDetector {\n    public static String getDeviceType(String userAgent) {\n        String deviceType;\n        Pattern tabletPattern = Pattern.compile(&quot;(tablet|ipad|playbook|silk)|(android(?!.*mobi))&quot;, Pattern.CASE_INSENSITIVE);\n        Matcher tabletMatcher = tabletPattern.matcher(userAgent);\n        Pattern mobilePattern = Pattern.compile(&quot;(mobi|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds)&quot;, Pattern.CASE_INSENSITIVE);\n        Matcher mobileMatcher = mobilePattern.matcher(userAgent);\n        if (tabletMatcher.find()) {\n            deviceType = &quot;tablet&quot;;\n        } else if (mobileMatcher.find()) {\n            deviceType = &quot;mobile&quot;;\n        } else {\n            deviceType = &quot;desktop&quot;;\n        }\n        return deviceType;\n    }\n\n    public static void main(String[] args) {\n        String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4537.110 Safari/537.36&quot;;\n        System.out.println(getDeviceType(userAgent));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1132467,"reputation":3911,"user_id":1118236,"accept_rate":41,"display_name":"Munichong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10769,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":28339234,"answer_count":3,"score":4,"last_activity_date":1673423676,"creation_date":1418595465,"question_id":27474776,"body_markdown":"I am trying to detect &quot;desktop&quot;, &quot;mobile&quot;, and &quot;tablet&quot; from user agent strings. What I need is just these three rough categories. Brand and device names are not needed. Some examples of user agent I have are:\r\n\r\n&quot;Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/6.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; InfoPath.3)&quot;\r\n\r\n&quot;Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.104 Safari/537.36&quot;\r\n\r\nIs there any existing API can do this? \r\n\r\nAccording to the very last sentence of [this article][1], it seems that looking for keyword &quot;mobi&quot; in a user agent string can handle most cases. But it seems too easy to be true......\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Browser_detection_using_the_user_agent","title":"Detect device types from user agent strings","body":"<p>I am trying to detect \"desktop\", \"mobile\", and \"tablet\" from user agent strings. What I need is just these three rough categories. Brand and device names are not needed. Some examples of user agent I have are:</p>\n\n<p>\"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/6.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; InfoPath.3)\"</p>\n\n<p>\"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.104 Safari/537.36\"</p>\n\n<p>Is there any existing API can do this? </p>\n\n<p>According to the very last sentence of <a href=\"https://developer.mozilla.org/en-US/docs/Browser_detection_using_the_user_agent\" rel=\"nofollow\">this article</a>, it seems that looking for keyword \"mobi\" in a user agent string can handle most cases. But it seems too easy to be true......</p>\n"},{"tags":["java","hashmap","priority-queue","comparator","huffman-code"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1302881293,"post_id":5678896,"comment_id":6483453,"body_markdown":"This appear to be far more complicated than it needs to be.  Shouldn&#39;t all `A` be counted even if they are not consecutive.","body":"This appear to be far more complicated than it needs to be.  Shouldn&#39;t all <code>A</code> be counted even if they are not consecutive."},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1302881464,"post_id":5678896,"comment_id":6483508,"body_markdown":"They will always be consecutive if they are in a PriorityQueue that sorts by Character value","body":"They will always be consecutive if they are in a PriorityQueue that sorts by Character value"}],"answers":[{"tags":[],"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1302881815,"creation_date":1302881815,"answer_id":5679119,"question_id":5678896,"body_markdown":"The standard approach to implementing Huffman trees is to use a _hashmap_ (in Java, you&#39;d probably use a `HashMap&lt;Character, Integer&gt;`) to count the frequency for each letter, and insert into the priority queue one node for each letter. So when constructing the Huffman tree itself, you start out with a priority queue that is already in the &quot;final&quot; state that you showed. The Huffman algorithm then repeatedly extracts two nodes from the priority queue, constructs a new parent node for those two nodes, and inserts the new node into the priority queue.","title":"Comparator and Priority Queues","body":"<p>The standard approach to implementing Huffman trees is to use a <em>hashmap</em> (in Java, you'd probably use a <code>HashMap&lt;Character, Integer&gt;</code>) to count the frequency for each letter, and insert into the priority queue one node for each letter. So when constructing the Huffman tree itself, you start out with a priority queue that is already in the \"final\" state that you showed. The Huffman algorithm then repeatedly extracts two nodes from the priority queue, constructs a new parent node for those two nodes, and inserts the new node into the priority queue.</p>\n"}],"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3688,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5679119,"answer_count":1,"score":2,"last_activity_date":1673423361,"creation_date":1302880816,"question_id":5678896,"body_markdown":"I&#39;m in the process of coding Huffman Code where I import a file, generate huffman code for each character, then output the binary to a file.  To import the characters I am using a scanner that reads each character, puts it in a node that has values of the read character and a frequency of 1.  Then, the node is added to a PriorityQueue.  Since the Node class has a compareTo method that compares only frequency, how can I implement a comparator to this specific PriorityQueue that compares the characters when sorting in queue?\r\n\r\nLiteral example:\r\nThe queue of characters should be sorted as follows: \r\n\r\n    [A:1][A:1][A:1][B:1][C:1]\r\n    Next step:\r\n    [A:1][A:2][B:1][C:1]\r\n    Final:\r\n    [A:3][B:1][C:1]\r\n\r\nHere are some snippets:\r\n\r\n\tprotected class Node implements Comparable&lt;Node&gt;{\r\n\t\tCharacter symbol;\r\n\t\tint frequency;\r\n\t\t\r\n\t\tNode left = null;\r\n\t\tNode right = null;\r\n\t\t@Override\r\n\t\tpublic int compareTo(Node n) {\r\n\t\t\treturn n.frequency &lt; this.frequency ? 1 : (n.frequency == this.frequency ? 0 : -1);\r\n\t\t}\r\n\t\t\r\n\t\tpublic Node(Character c, int f){\r\n\t\t\tthis.symbol = c;\r\n\t\t\tthis.frequency = f;\r\n\t\t}\r\n\t\tpublic String toString(){\r\n\t\t\treturn &quot;[&quot;+this.symbol +&quot;,&quot;+this.frequency+&quot;]&quot;;\r\n\t\t}\r\n\r\nThis is the PriorityQueue that needs a custom comparator:\r\n\r\n\tpublic static PriorityQueue&lt;Node&gt; gatherFrequency(String file) throws Exception{\r\n\t\tFile f = new File(file);\r\n\t\tScanner reader = new Scanner(f);\r\n\t\tPriorityQueue&lt;Node&gt; PQ = new PriorityQueue&lt;Node&gt;();\r\n\t\twhile(reader.hasNext()){\r\n\t\t\tfor(int i = 0; i &lt; reader.next().length();i++){\r\n\t\t\t\tPQ.add(new Node(reader.next().charAt(0),1));\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(PQ.size()&gt;1){ //during this loop the nodes should be compared by character value\r\n\t\t\twhile(PQ.size() &gt; 1){\r\n\t\t\t\tNode a = PQ.remove();\r\n\t\t\t\tNode b = PQ.remove();\r\n\t\t\t\tif(a.symbol.compareTo(b.symbol)==0){\r\n\t\t\t\t\tNode c = new Node(a.symbol, a.frequency + b.frequency);\r\n\t\t\t\t\tPQ.add(c);\r\n\t\t\t\t}\r\n\t\t\t\telse break;\r\n\t\t\t}\r\n\t\t\treturn PQ;\r\n\t\t}\r\n\t\treturn PQ;\r\n\t\t\r\n\t}\r\n\r\nThis is the new method I created using a HashMap:\r\n\r\n    public static Collection&lt;Entry&lt;Character,Integer&gt;&gt; gatherFrequency(String file) throws Exception{\r\n    \t\tFile f = new File(file);\r\n    \t\tScanner reader = new Scanner(f);\r\n    \t\tHashMap&lt;Character, Integer&gt; map = new HashMap&lt;Character, Integer&gt;();\r\n    \t\twhile(reader.hasNext()){\r\n    \t\t\tfor(int i = 0; i &lt; reader.next().length();i++){\r\n    \t\t\t\tCharacter key = reader.next().charAt(i);\r\n    \t\t\t\tif(map.containsKey(reader.next().charAt(i))){\r\n    \t\t\t\t\tint freq = map.get(key);\r\n    \t\t\t\t\tmap.put(key, freq+1);\r\n    \t\t\t\t}\r\n    \t\t\t\telse{\r\n    \t\t\t\t\tmap.put(key, 1);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn map.entrySet();\r\n    \t}\r\n\t\r\n\t\t","title":"Comparator and Priority Queues","body":"<p>I'm in the process of coding Huffman Code where I import a file, generate huffman code for each character, then output the binary to a file.  To import the characters I am using a scanner that reads each character, puts it in a node that has values of the read character and a frequency of 1.  Then, the node is added to a PriorityQueue.  Since the Node class has a compareTo method that compares only frequency, how can I implement a comparator to this specific PriorityQueue that compares the characters when sorting in queue?</p>\n<p>Literal example:\nThe queue of characters should be sorted as follows:</p>\n<pre><code>[A:1][A:1][A:1][B:1][C:1]\nNext step:\n[A:1][A:2][B:1][C:1]\nFinal:\n[A:3][B:1][C:1]\n</code></pre>\n<p>Here are some snippets:</p>\n<pre><code>protected class Node implements Comparable&lt;Node&gt;{\n    Character symbol;\n    int frequency;\n    \n    Node left = null;\n    Node right = null;\n    @Override\n    public int compareTo(Node n) {\n        return n.frequency &lt; this.frequency ? 1 : (n.frequency == this.frequency ? 0 : -1);\n    }\n    \n    public Node(Character c, int f){\n        this.symbol = c;\n        this.frequency = f;\n    }\n    public String toString(){\n        return &quot;[&quot;+this.symbol +&quot;,&quot;+this.frequency+&quot;]&quot;;\n    }\n</code></pre>\n<p>This is the PriorityQueue that needs a custom comparator:</p>\n<pre><code>public static PriorityQueue&lt;Node&gt; gatherFrequency(String file) throws Exception{\n    File f = new File(file);\n    Scanner reader = new Scanner(f);\n    PriorityQueue&lt;Node&gt; PQ = new PriorityQueue&lt;Node&gt;();\n    while(reader.hasNext()){\n        for(int i = 0; i &lt; reader.next().length();i++){\n            PQ.add(new Node(reader.next().charAt(0),1));\n        }\n    }\n    if(PQ.size()&gt;1){ //during this loop the nodes should be compared by character value\n        while(PQ.size() &gt; 1){\n            Node a = PQ.remove();\n            Node b = PQ.remove();\n            if(a.symbol.compareTo(b.symbol)==0){\n                Node c = new Node(a.symbol, a.frequency + b.frequency);\n                PQ.add(c);\n            }\n            else break;\n        }\n        return PQ;\n    }\n    return PQ;\n    \n}\n</code></pre>\n<p>This is the new method I created using a HashMap:</p>\n<pre><code>public static Collection&lt;Entry&lt;Character,Integer&gt;&gt; gatherFrequency(String file) throws Exception{\n        File f = new File(file);\n        Scanner reader = new Scanner(f);\n        HashMap&lt;Character, Integer&gt; map = new HashMap&lt;Character, Integer&gt;();\n        while(reader.hasNext()){\n            for(int i = 0; i &lt; reader.next().length();i++){\n                Character key = reader.next().charAt(i);\n                if(map.containsKey(reader.next().charAt(i))){\n                    int freq = map.get(key);\n                    map.put(key, freq+1);\n                }\n                else{\n                    map.put(key, 1);\n                }\n            }\n        }\n        return map.entrySet();\n    }\n\n    \n</code></pre>\n"},{"tags":["java","request","unirest"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1673423680,"post_id":75079713,"comment_id":132492987,"body_markdown":"&quot;2023-01-06%2000%3A00%3A00&quot; is _not_ base64 encoded and what you have and want are 2 versions of url enconding. You could try and manually replace &quot;%20&quot; with &quot;+&quot; after encoding the value to get your result - not sure if url encoders will let you pick. You might also want to have a look here: https://stackoverflow.com/questions/1634271/url-encoding-the-space-character-or-20","body":"&quot;2023-01-06%2000%3A00%3A00&quot; is <i>not</i> base64 encoded and what you have and want are 2 versions of url enconding. You could try and manually replace &quot;%20&quot; with &quot;+&quot; after encoding the value to get your result - not sure if url encoders will let you pick. You might also want to have a look here: <a href=\"https://stackoverflow.com/questions/1634271/url-encoding-the-space-character-or-20\" title=\"url encoding the space character or 20\">stackoverflow.com/questions/1634271/&hellip;</a>"}],"owner":{"account_id":18955784,"reputation":1,"user_id":13832408,"display_name":"rohan agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673423040,"creation_date":1673423040,"question_id":75079713,"body_markdown":"I am trying to pass quesry as queryString function of UniRest. I was getting signature mismatch.\r\n\r\nAfte check ing through all the function, I got to know unirest uses &#39;com.mashape.unirest.http.utils.Base64Coder;&#39; to encode query params. This is encoding space in query param to &#39;%20&#39;.\r\n\r\n\r\nMy server expects &#39;+&#39; for space. \r\n\r\n    actual query String = &quot;2023-01-05 00:00:00&quot;\r\n    Unirest encoding = &quot;2023-01-06%2000%3A00%3A00&quot;\r\n    expected query String = &quot;2023-01-06+00%3A00%3A00&quot;","title":"unirest encoding space to &#39;20&#39; but the server expect as &#39;+&#39;","body":"<p>I am trying to pass quesry as queryString function of UniRest. I was getting signature mismatch.</p>\n<p>Afte check ing through all the function, I got to know unirest uses 'com.mashape.unirest.http.utils.Base64Coder;' to encode query params. This is encoding space in query param to '%20'.</p>\n<p>My server expects '+' for space.</p>\n<pre><code>actual query String = &quot;2023-01-05 00:00:00&quot;\nUnirest encoding = &quot;2023-01-06%2000%3A00%3A00&quot;\nexpected query String = &quot;2023-01-06+00%3A00%3A00&quot;\n</code></pre>\n"},{"tags":["java","spring-boot","vue.js","spring-security"],"comments":[{"owner":{"account_id":8737014,"reputation":1712,"user_id":7723557,"accept_rate":46,"display_name":"Lucas David Ferrero"},"score":1,"creation_date":1673379879,"post_id":75074912,"comment_id":132484445,"body_markdown":"You&#39;ve to enable CORS in your backend and add the domains that your app would accept. This could be achieved with a WebConfig class in Spring.","body":"You&#39;ve to enable CORS in your backend and add the domains that your app would accept. This could be achieved with a WebConfig class in Spring."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1673420333,"post_id":75074912,"comment_id":132492065,"body_markdown":"duplicate [How to configure CORS in a Spring Boot + Spring Security application?](https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application)","body":"duplicate <a href=\"https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application\">How to configure CORS in a Spring Boot + Spring Security application?</a>"}],"answers":[{"tags":[],"owner":{"account_id":78881,"reputation":154,"user_id":224155,"display_name":"Arturas Gusevas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673422657,"creation_date":1673382936,"answer_id":75075545,"question_id":75074912,"body_markdown":"You can configure CORS using `CorsConfigurationSource` Bean. For example:\r\n\r\n```java\r\n@Bean\r\nCorsConfigurationSource corsConfigurationSource() {\r\n\tCorsConfiguration configuration = new CorsConfiguration();\r\n\tconfiguration.setAllowedOrigins(Arrays.asList(&quot;https://example.com&quot;));\r\n\tconfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\r\n\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\tsource.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\treturn source;\r\n}\r\n```\r\n\r\nIn case you want to allow cross origin requests:\r\n\r\n```java\r\n@Bean\r\nCorsConfigurationSource corsConfigurationSource() {\r\n\tCorsConfiguration configuration = new CorsConfiguration();\r\n\tconfiguration.applyPermitDefaultValues();\r\n\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\tsource.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\treturn source;\r\n}\r\n```\r\n\r\nSee [Spring Security documentation][1] for more information.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html","title":"Has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource in Spring Security","body":"<p>You can configure CORS using <code>CorsConfigurationSource</code> Bean. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;https://example.com&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n<p>In case you want to allow cross origin requests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.applyPermitDefaultValues();\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html\" rel=\"nofollow noreferrer\">Spring Security documentation</a> for more information.</p>\n"}],"owner":{"account_id":27491977,"reputation":11,"user_id":20977168,"display_name":"Sebasti&#225;n valbuena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1693,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1673436965,"answer_count":1,"score":-1,"last_activity_date":1673422657,"creation_date":1673378858,"question_id":75074912,"body_markdown":"I have a CORS problem. I am using spring boot and vue to make a fullstack web. But I get the CORS error when I make the request from the front with axios to the Spring Security form. I&#39;m sure I have to do something in my Authorization class to make the request, but I don&#39;t know.\r\n\r\nHere is my code: \r\n\r\n\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class WebAuthorization {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.formLogin()\r\n                .usernameParameter(&quot;email&quot;)\r\n                .passwordParameter(&quot;password&quot;)\r\n                .loginPage(&quot;/api/login&quot;);\r\n\r\n        http.logout().logoutUrl(&quot;/api/logout&quot;).deleteCookies(&quot;JSESSIONID&quot;);\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\n\r\n\r\nI hope you can make the request from the front with Vue to the form that I have with spring security.","title":"Has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource in Spring Security","body":"<p>I have a CORS problem. I am using spring boot and vue to make a fullstack web. But I get the CORS error when I make the request from the front with axios to the Spring Security form. I'm sure I have to do something in my Authorization class to make the request, but I don't know.</p>\n<p>Here is my code:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class WebAuthorization {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.formLogin()\n                .usernameParameter(&quot;email&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .loginPage(&quot;/api/login&quot;);\n\n        http.logout().logoutUrl(&quot;/api/logout&quot;).deleteCookies(&quot;JSESSIONID&quot;);\n\n        return http.build();\n    }\n</code></pre>\n<p>I hope you can make the request from the front with Vue to the form that I have with spring security.</p>\n"},{"tags":["java","jpa","entitymanager"],"answers":[{"tags":[],"owner":{"account_id":46951,"reputation":6126,"user_id":138933,"accept_rate":90,"display_name":"Benoit Wickramarachi"},"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1673422368,"creation_date":1374074495,"answer_id":17703822,"question_id":17703312,"body_markdown":"A call to `EntityManager.flush();` will force the data to be persisted in the database immediately as `EntityManager.persist()` will not (depending on how the EntityManager is configured: [FlushModeType ][1](AUTO or COMMIT) by default is set to AUTO and a flush will be done automatically. But if it&#39;s set to COMMIT the persistence of the data to the underlying database will be delayed until the transaction is committed. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/5/api/javax/persistence/FlushModeType.html","title":"What does EntityManager.flush do and why do I need to use it?","body":"<p>A call to <code>EntityManager.flush();</code> will force the data to be persisted in the database immediately as <code>EntityManager.persist()</code> will not (depending on how the EntityManager is configured: <a href=\"http://docs.oracle.com/javaee/5/api/javax/persistence/FlushModeType.html\" rel=\"noreferrer\">FlushModeType </a>(AUTO or COMMIT) by default is set to AUTO and a flush will be done automatically. But if it's set to COMMIT the persistence of the data to the underlying database will be delayed until the transaction is committed.</p>\n"},{"tags":[],"owner":{"account_id":3049880,"reputation":3589,"user_id":2584700,"accept_rate":100,"display_name":"Sachin Thapa"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1430826979,"creation_date":1374074582,"answer_id":17703860,"question_id":17703312,"body_markdown":"`EntityManager.persist()` makes an entity persistent whereas `EntityManager.flush()` actually runs the query on your database.\r\n\r\nSo, when you call `EntityManager.flush()`, queries for inserting/updating/deleting associated entities are executed in the database. Any constraint failures (column width, data types, foreign key) will be known at this time.\r\n\r\nThe concrete behaviour depends on whether flush-mode is AUTO or COMMIT.","title":"What does EntityManager.flush do and why do I need to use it?","body":"<p><code>EntityManager.persist()</code> makes an entity persistent whereas <code>EntityManager.flush()</code> actually runs the query on your database.</p>\n\n<p>So, when you call <code>EntityManager.flush()</code>, queries for inserting/updating/deleting associated entities are executed in the database. Any constraint failures (column width, data types, foreign key) will be known at this time.</p>\n\n<p>The concrete behaviour depends on whether flush-mode is AUTO or COMMIT.</p>\n"},{"tags":[],"owner":{"account_id":4301414,"reputation":309,"user_id":3515054,"display_name":"Md Alauddin Hossain"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1511945817,"creation_date":1397043488,"answer_id":22961319,"question_id":17703312,"body_markdown":"The `EntityManager.flush()` operation can be used the write all changes to the database before the transaction is committed. By default JPA does not normally write changes to the database until the transaction is committed. This is normally desirable as it avoids database access, resources and locks until required. It also allows database writes to be ordered, and batched for optimal database access, and to maintain integrity constraints and avoid deadlocks. This means that when you call persist, merge, or remove the database DML `INSERT`, `UPDATE`, `DELETE` is not executed, until commit, or until a flush is triggered.","title":"What does EntityManager.flush do and why do I need to use it?","body":"<p>The <code>EntityManager.flush()</code> operation can be used the write all changes to the database before the transaction is committed. By default JPA does not normally write changes to the database until the transaction is committed. This is normally desirable as it avoids database access, resources and locks until required. It also allows database writes to be ordered, and batched for optimal database access, and to maintain integrity constraints and avoid deadlocks. This means that when you call persist, merge, or remove the database DML <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> is not executed, until commit, or until a flush is triggered.</p>\n"},{"tags":[],"owner":{"account_id":2971837,"reputation":526,"user_id":2523737,"accept_rate":100,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1435843994,"creation_date":1435843994,"answer_id":31186080,"question_id":17703312,"body_markdown":"So when you call `EntityManager.persist()`, it only makes the entity get managed by the `EntityManager` and adds it (entity instance) to the `Persistence Context`. An Explicit `flush()` will make the entity now residing in the `Persistence Context` to be moved to the database (using a SQL). \r\n\r\nWithout flush(), this (moving of entity from `Persistence Context` to the database) will happen when the Transaction to which this `Persistence Context` is associated is committed.","title":"What does EntityManager.flush do and why do I need to use it?","body":"<p>So when you call <code>EntityManager.persist()</code>, it only makes the entity get managed by the <code>EntityManager</code> and adds it (entity instance) to the <code>Persistence Context</code>. An Explicit <code>flush()</code> will make the entity now residing in the <code>Persistence Context</code> to be moved to the database (using a SQL). </p>\n\n<p>Without flush(), this (moving of entity from <code>Persistence Context</code> to the database) will happen when the Transaction to which this <code>Persistence Context</code> is associated is committed.</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1616619653,"creation_date":1616619653,"answer_id":66789306,"question_id":17703312,"body_markdown":"`EntityManager.flush()` sends actual SQL commands to DB.\r\n\r\nPersistence framework usually manages transactions behind the scene. **So there is no guaranty that flushed queries will be successfully committed**.\r\n\r\n`EntityManager.flush()` is always called just before the transaction commit by persistence framework automatically behind the scene.\r\n\r\n`EntityManager.persist()` only registers an entity to persistence context without sending any SQL statements to DB. That means you won&#39;t get auto generated IDs after `persist()`. You just pass persisted object and eventually after later `flush()` it gets ID. You can call `flush()` yourself *to get those IDs earlier*. But again it is not the end of transaction so **it can be rolled back and even more: changes might be seen (via phantom reads) by other transactions/thread/processes/servers and *then disappear* depending on DB engine and isolation level of current and foreign transaction!**","title":"What does EntityManager.flush do and why do I need to use it?","body":"<p><code>EntityManager.flush()</code> sends actual SQL commands to DB.</p>\n<p>Persistence framework usually manages transactions behind the scene. <strong>So there is no guaranty that flushed queries will be successfully committed</strong>.</p>\n<p><code>EntityManager.flush()</code> is always called just before the transaction commit by persistence framework automatically behind the scene.</p>\n<p><code>EntityManager.persist()</code> only registers an entity to persistence context without sending any SQL statements to DB. That means you won't get auto generated IDs after <code>persist()</code>. You just pass persisted object and eventually after later <code>flush()</code> it gets ID. You can call <code>flush()</code> yourself <em>to get those IDs earlier</em>. But again it is not the end of transaction so <strong>it can be rolled back and even more: changes might be seen (via phantom reads) by other transactions/thread/processes/servers and <em>then disappear</em> depending on DB engine and isolation level of current and foreign transaction!</strong></p>\n"}],"owner":{"account_id":71956,"reputation":2872,"user_id":207933,"accept_rate":92,"display_name":"spartikus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180091,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":17703822,"answer_count":5,"score":79,"last_activity_date":1673422368,"creation_date":1374073212,"question_id":17703312,"body_markdown":"I have an EJB where I am saving an object to the database.  In an example I have seen, once this data is saved (EntityManager.persist) there is a call to EntityManager.flush();  Why do I need to do this?  The object I am saving is not attached and not used later in the method.  In fact, once saved the method returns and I would expect the resources to be released.  (The example code does this on a remove call as well.)\r\n\r\n    if (somecondition) {\r\n        entityManager.persist(unAttachedEntity);\r\n    } else {\r\n        attachedEntityObject.setId(unAttachedEntity.getId());\r\n    }\r\n    entityManager.flush();\r\n\r\n","title":"What does EntityManager.flush do and why do I need to use it?","body":"<p>I have an EJB where I am saving an object to the database.  In an example I have seen, once this data is saved (EntityManager.persist) there is a call to EntityManager.flush();  Why do I need to do this?  The object I am saving is not attached and not used later in the method.  In fact, once saved the method returns and I would expect the resources to be released.  (The example code does this on a remove call as well.)</p>\n\n<pre><code>if (somecondition) {\n    entityManager.persist(unAttachedEntity);\n} else {\n    attachedEntityObject.setId(unAttachedEntity.getId());\n}\nentityManager.flush();\n</code></pre>\n"},{"tags":["java","timeout","synchronous"],"comments":[{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1371810788,"post_id":17233038,"comment_id":24968847,"body_markdown":"`ExecutorService` with `Callable`s may be !!!","body":"<code>ExecutorService</code> with <code>Callable</code>s may be !!!"},{"owner":{"account_id":25684,"reputation":3449,"user_id":66207,"accept_rate":100,"display_name":"keuleJ"},"score":0,"creation_date":1371811146,"post_id":17233038,"comment_id":24969033,"body_markdown":"Is it an iterative task? Could you check every iteration if your timeout is already reached?","body":"Is it an iterative task? Could you check every iteration if your timeout is already reached?"},{"owner":{"account_id":1003486,"reputation":355,"user_id":1017794,"accept_rate":50,"display_name":"Smitesh"},"score":0,"creation_date":1371811877,"post_id":17233038,"comment_id":24969383,"body_markdown":"I was looking at more of an generic solution than making it implementation specific...because there could be a single computation which could take long enough to finish.","body":"I was looking at more of an generic solution than making it implementation specific...because there could be a single computation which could take long enough to finish."}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371812530,"creation_date":1371811779,"answer_id":17233395,"question_id":17233038,"body_markdown":"You can run a parallel thread which will wait for the specified timeout and interrupt the current thread, and then run `A()`. However a, b and c must be interruptible, that is to check periodically current thread interrupted flag and throw InterruptedException, otherwise it wont work\r\n\r\n\t\tfinal Thread current = Thread.currentThread();\r\n\t\tThread timer = new Thread() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(5000);\r\n\t\t\t\t\tcurrent.interrupt();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// timer stopped\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\t\ttry {\r\n\t\t\tA();  // this throws InterruptedException if interrupted by timer\r\n\t\t\ttimer.interrupt(); // no timeout lets stop the timer\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// timeout\r\n\t\t}\r\n","title":"How to implement synchronous method timeouts in Java?","body":"<p>You can run a parallel thread which will wait for the specified timeout and interrupt the current thread, and then run <code>A()</code>. However a, b and c must be interruptible, that is to check periodically current thread interrupted flag and throw InterruptedException, otherwise it wont work</p>\n\n<pre><code>    final Thread current = Thread.currentThread();\n    Thread timer = new Thread() {\n        public void run() {\n            try {\n                Thread.sleep(5000);\n                current.interrupt();\n            } catch (InterruptedException e) {\n                // timer stopped\n            }\n        };\n    };\n    try {\n        A();  // this throws InterruptedException if interrupted by timer\n        timer.interrupt(); // no timeout lets stop the timer\n    } catch (InterruptedException e) {\n        // timeout\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134839,"reputation":8888,"user_id":337251,"accept_rate":75,"display_name":"Tala"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1371812924,"creation_date":1371812924,"answer_id":17233773,"question_id":17233038,"body_markdown":"You should use [ExecutorService][1] to do that\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html\r\n\r\n\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    Future&lt;String&gt; future = executor.submit(new Callable() {\r\n    \r\n        public String call() throws Exception {\r\n            //do operations you want\r\n            return &quot;OK&quot;;\r\n        }\r\n    });\r\n    try {\r\n        System.out.println(future.get(2, TimeUnit.SECONDS)); //timeout is in 2 seconds\r\n    } catch (TimeoutException e) {\r\n        System.err.println(&quot;Timeout&quot;);\r\n    }\r\n    executor.shutdownNow();","title":"How to implement synchronous method timeouts in Java?","body":"<p>You should use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html\">ExecutorService</a> to do that</p>\n\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\nFuture&lt;String&gt; future = executor.submit(new Callable() {\n\n    public String call() throws Exception {\n        //do operations you want\n        return \"OK\";\n    }\n});\ntry {\n    System.out.println(future.get(2, TimeUnit.SECONDS)); //timeout is in 2 seconds\n} catch (TimeoutException e) {\n    System.err.println(\"Timeout\");\n}\nexecutor.shutdownNow();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2917971,"reputation":19,"user_id":2500805,"display_name":"alex"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1371932513,"creation_date":1371821503,"answer_id":17236563,"question_id":17233038,"body_markdown":"See also this [post][1] The approach is let your application care of timeout inside its logic. For that you can define some timer class and special checking method, e.g.:\r\n\r\n      public class TimeoutApp {\r\n        MyTimer timer;\r\n        Thread timerThread;\r\n    \r\n        public static void main(String... args) {\r\n            new TimeoutApp().execute();\r\n        }\r\n    \r\n        private void execute() {\r\n            try {\r\n                startTimer(1000);\r\n                action1();\r\n                checkTimeout();\r\n                action2();\r\n                checkTimeout();\r\n                action3();\r\n                stopTimer();\r\n\r\n            } catch (MyTimeoutException e) {\r\n                System.out.println(&quot;Interrupted on timeout!&quot;);\r\n                // ...clearing code if needed\r\n                System.exit(1);\r\n            } catch (InterruptedException e) {\r\n                System.out.println(&quot;Interrupted by exception!&quot;);\r\n                // ...clearing code if needed\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            }\r\n        }\r\n    \r\n        private void action1() throws InterruptedException {\r\n            Thread.sleep(600);\r\n            System.out.println(&quot;action 1&quot;);\r\n        }\r\n    \r\n        private void action2() throws InterruptedException {\r\n            Thread.sleep(500);\r\n            System.out.println(&quot;action 2&quot;);\r\n        }\r\n    \r\n        private void action3() {\r\n            System.out.println(&quot;action 3&quot;);\r\n        }\r\n    \r\n        private void checkTimeout() throws MyTimeoutException {\r\n            if (timer.isTimeoutReached()) {\r\n                throw new MyTimeoutException();\r\n            }\r\n        }\r\n    \r\n        private void startTimer(long timeout) {\r\n            timer = new MyTimer(timeout);\r\n            timerThread = new Thread(timer);\r\n            timerThread.start();\r\n        }\r\n        \r\n        private void stopTimer() {\r\n            timerThread.interrupt();\r\n        }\r\n\r\n        private class MyTimer implements Runnable {\r\n            private long timeout;\r\n            private boolean timeoutReached = false;\r\n    \r\n            public MyTimer(long timeout) {\r\n                this.timeout = timeout;\r\n            }\r\n    \r\n            public void run() {\r\n                long time = System.currentTimeMillis();\r\n                while (!timeoutReached &amp;&amp; !Thread.interrupted()) {\r\n                    if ((System.currentTimeMillis() - time) &gt; timeout) {\r\n                        timeoutReached = true;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            public boolean isTimeoutReached() {\r\n                return timeoutReached;\r\n            }\r\n        }\r\n    \r\n        private class MyTimeoutException extends Exception {\r\n        }\r\n    }\r\n\r\n   \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5715235/java-set-timeout-on-a-certain-block-of-code","title":"How to implement synchronous method timeouts in Java?","body":"<p>See also this <a href=\"https://stackoverflow.com/questions/5715235/java-set-timeout-on-a-certain-block-of-code\">post</a> The approach is let your application care of timeout inside its logic. For that you can define some timer class and special checking method, e.g.:</p>\n\n<pre><code>  public class TimeoutApp {\n    MyTimer timer;\n    Thread timerThread;\n\n    public static void main(String... args) {\n        new TimeoutApp().execute();\n    }\n\n    private void execute() {\n        try {\n            startTimer(1000);\n            action1();\n            checkTimeout();\n            action2();\n            checkTimeout();\n            action3();\n            stopTimer();\n\n        } catch (MyTimeoutException e) {\n            System.out.println(\"Interrupted on timeout!\");\n            // ...clearing code if needed\n            System.exit(1);\n        } catch (InterruptedException e) {\n            System.out.println(\"Interrupted by exception!\");\n            // ...clearing code if needed\n            e.printStackTrace();\n            System.exit(1);\n        }\n    }\n\n    private void action1() throws InterruptedException {\n        Thread.sleep(600);\n        System.out.println(\"action 1\");\n    }\n\n    private void action2() throws InterruptedException {\n        Thread.sleep(500);\n        System.out.println(\"action 2\");\n    }\n\n    private void action3() {\n        System.out.println(\"action 3\");\n    }\n\n    private void checkTimeout() throws MyTimeoutException {\n        if (timer.isTimeoutReached()) {\n            throw new MyTimeoutException();\n        }\n    }\n\n    private void startTimer(long timeout) {\n        timer = new MyTimer(timeout);\n        timerThread = new Thread(timer);\n        timerThread.start();\n    }\n\n    private void stopTimer() {\n        timerThread.interrupt();\n    }\n\n    private class MyTimer implements Runnable {\n        private long timeout;\n        private boolean timeoutReached = false;\n\n        public MyTimer(long timeout) {\n            this.timeout = timeout;\n        }\n\n        public void run() {\n            long time = System.currentTimeMillis();\n            while (!timeoutReached &amp;&amp; !Thread.interrupted()) {\n                if ((System.currentTimeMillis() - time) &gt; timeout) {\n                    timeoutReached = true;\n                }\n            }\n        }\n\n        public boolean isTimeoutReached() {\n            return timeoutReached;\n        }\n    }\n\n    private class MyTimeoutException extends Exception {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2176968,"reputation":117,"user_id":1927418,"display_name":"Mehmet Erdemsoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440758755,"creation_date":1440758755,"answer_id":32269230,"question_id":17233038,"body_markdown":"You can&#39;t do an synchronous call with a timeout but you can emulate it using a second thread. This is an example to do that:\r\n\r\n    package com.ardevco.example;\r\n    \r\n    import java.util.Random;\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.concurrent.TimeoutException;\r\n    \r\n    \r\n    class ExceptionThrower {\r\n       public static &lt;R&gt; R throwUnchecked(Throwable t) {\r\n          return ExceptionThrower.&lt;RuntimeException, R&gt; trhow0(t);\r\n       }\r\n    \r\n       @SuppressWarnings(&quot;unchecked&quot;)\r\n       private static &lt;E extends Throwable, R&gt; R trhow0(Throwable t) throws E {\r\n          throw (E) t;\r\n       }\r\n    }\r\n    \r\n    class TestApplicationException1 extends Exception {\r\n       private static final long serialVersionUID = 1L;\r\n    \r\n       public TestApplicationException1(String string) {\r\n          super(string);\r\n       }\r\n    };\r\n    \r\n    class TestApplicationException2 extends Exception {\r\n       private static final long serialVersionUID = 1L;\r\n    \r\n       public TestApplicationException2(String string) {\r\n          super(string);\r\n       }\r\n    };\r\n    \r\n    class TestApplicationTimeoutException extends Exception {\r\n       private static final long serialVersionUID = 1L;\r\n    \r\n       public TestApplicationTimeoutException(String string) {\r\n          super(string);\r\n       };\r\n    }\r\n    \r\n    public class SynchronousTimeoutTester {\r\n    \r\n       public static final long SYNC_METHOD_TIMEOUT_IN_MILLISECONDS = 2000L;\r\n       private final ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n    \r\n       public static void main(String[] args) {\r\n          SynchronousTimeoutTester tester = new SynchronousTimeoutTester();\r\n    \t  /* call the method asynchronously 10 times */\r\n          for (int i = 0; i &lt; 10; i++) {\r\n             try {\r\n                System.out.println(&quot;Result sync call: &quot; + tester.getAsynchTest());\r\n             }\r\n             catch (TestApplicationException1 e) {\r\n                System.out.println(&quot;catched as TestApplicationException1: &quot; + e);\r\n             }\r\n             catch (TestApplicationException2 e) {\r\n                System.out.println(&quot;catched as TestApplicationException2: &quot; + e);\r\n             }\r\n             catch (TestApplicationTimeoutException e) {\r\n                System.out.println(&quot;catched as TestApplicationTimeoutException: &quot; + e);\r\n             }\r\n             catch (InterruptedException e) {\r\n                System.out.println(&quot;catched as InterruptedException: &quot; + e);\r\n             }\r\n             catch (Exception e) {\r\n                System.out.println(&quot;catched as Exception: &quot; + e);\r\n             }\r\n          }\r\n    \r\n          tester.shutdown();\r\n       }\r\n    \r\n       private void shutdown() {\r\n          executorService.shutdown();\r\n          try {\r\n             executorService.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\r\n          }\r\n          catch (InterruptedException e) {\r\n             System.out.println(&quot;Error stopping threadpool:&quot; + e);\r\n          }\r\n       }\r\n    \r\n       private Integer testAsynch() throws TestApplicationException1, TestApplicationException2, InterruptedException {\r\n          Random random = new Random();\r\n          switch (random.nextInt(10)) {\r\n             case 0:\r\n                return 0;\r\n             case 1:\r\n                throw new TestApplicationException1(&quot;thrown TestApplicationException1&quot;);\r\n             case 2:\r\n                throw new TestApplicationException2(&quot;thrown TestApplicationException2&quot;);\r\n             case 3:\r\n                Thread.sleep(10000L);\r\n                return -1;\r\n             case 4:\r\n                throw new RuntimeException(&quot;thrown Exception&quot;);\r\n             default:\r\n                return random.nextInt(10);\r\n          }\r\n       }\r\n    \r\n       private Integer getAsynchTest() throws TestApplicationException1, TestApplicationException2, Exception {\r\n          Integer dummy = null;\r\n    \r\n          Future&lt;Integer&gt; testAsynchF = executorService.submit(\r\n                                                               new Callable&lt;Integer&gt;() {\r\n                                                                  public Integer call() throws Exception {\r\n                                                                     return testAsynch();\r\n                                                                  }\r\n                                                               });\r\n    \r\n          try {\r\n             dummy = testAsynchF.get(SynchronousTimeoutTester.SYNC_METHOD_TIMEOUT_IN_MILLISECONDS, TimeUnit.MILLISECONDS);\r\n          }\r\n          catch (ExecutionException e1) {\r\n             System.out.println(&quot;in getAsynchTest: ExecutionException: &quot; + e1);\r\n             ExceptionThrower.throwUnchecked(e1.getCause());\r\n          }\r\n          catch (TimeoutException e1) {\r\n             System.out.println(&quot;in getAsynchTest: TimeoutException: &quot; + e1);\r\n             throw new TestApplicationTimeoutException(&quot;TimeoutException&quot; + e1);\r\n          }\r\n          catch (InterruptedException e1) {\r\n             System.out.println(&quot;in getAsynchTest: InterruptedException: &quot; + e1);\r\n             throw new Exception(e1);\r\n          }\r\n    \r\n          return dummy;\r\n       }\r\n    \r\n    }\r\n","title":"How to implement synchronous method timeouts in Java?","body":"<p>You can't do an synchronous call with a timeout but you can emulate it using a second thread. This is an example to do that:</p>\n\n<pre><code>package com.ardevco.example;\n\nimport java.util.Random;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\n\nclass ExceptionThrower {\n   public static &lt;R&gt; R throwUnchecked(Throwable t) {\n      return ExceptionThrower.&lt;RuntimeException, R&gt; trhow0(t);\n   }\n\n   @SuppressWarnings(\"unchecked\")\n   private static &lt;E extends Throwable, R&gt; R trhow0(Throwable t) throws E {\n      throw (E) t;\n   }\n}\n\nclass TestApplicationException1 extends Exception {\n   private static final long serialVersionUID = 1L;\n\n   public TestApplicationException1(String string) {\n      super(string);\n   }\n};\n\nclass TestApplicationException2 extends Exception {\n   private static final long serialVersionUID = 1L;\n\n   public TestApplicationException2(String string) {\n      super(string);\n   }\n};\n\nclass TestApplicationTimeoutException extends Exception {\n   private static final long serialVersionUID = 1L;\n\n   public TestApplicationTimeoutException(String string) {\n      super(string);\n   };\n}\n\npublic class SynchronousTimeoutTester {\n\n   public static final long SYNC_METHOD_TIMEOUT_IN_MILLISECONDS = 2000L;\n   private final ExecutorService executorService = Executors.newSingleThreadExecutor();\n\n   public static void main(String[] args) {\n      SynchronousTimeoutTester tester = new SynchronousTimeoutTester();\n      /* call the method asynchronously 10 times */\n      for (int i = 0; i &lt; 10; i++) {\n         try {\n            System.out.println(\"Result sync call: \" + tester.getAsynchTest());\n         }\n         catch (TestApplicationException1 e) {\n            System.out.println(\"catched as TestApplicationException1: \" + e);\n         }\n         catch (TestApplicationException2 e) {\n            System.out.println(\"catched as TestApplicationException2: \" + e);\n         }\n         catch (TestApplicationTimeoutException e) {\n            System.out.println(\"catched as TestApplicationTimeoutException: \" + e);\n         }\n         catch (InterruptedException e) {\n            System.out.println(\"catched as InterruptedException: \" + e);\n         }\n         catch (Exception e) {\n            System.out.println(\"catched as Exception: \" + e);\n         }\n      }\n\n      tester.shutdown();\n   }\n\n   private void shutdown() {\n      executorService.shutdown();\n      try {\n         executorService.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\n      }\n      catch (InterruptedException e) {\n         System.out.println(\"Error stopping threadpool:\" + e);\n      }\n   }\n\n   private Integer testAsynch() throws TestApplicationException1, TestApplicationException2, InterruptedException {\n      Random random = new Random();\n      switch (random.nextInt(10)) {\n         case 0:\n            return 0;\n         case 1:\n            throw new TestApplicationException1(\"thrown TestApplicationException1\");\n         case 2:\n            throw new TestApplicationException2(\"thrown TestApplicationException2\");\n         case 3:\n            Thread.sleep(10000L);\n            return -1;\n         case 4:\n            throw new RuntimeException(\"thrown Exception\");\n         default:\n            return random.nextInt(10);\n      }\n   }\n\n   private Integer getAsynchTest() throws TestApplicationException1, TestApplicationException2, Exception {\n      Integer dummy = null;\n\n      Future&lt;Integer&gt; testAsynchF = executorService.submit(\n                                                           new Callable&lt;Integer&gt;() {\n                                                              public Integer call() throws Exception {\n                                                                 return testAsynch();\n                                                              }\n                                                           });\n\n      try {\n         dummy = testAsynchF.get(SynchronousTimeoutTester.SYNC_METHOD_TIMEOUT_IN_MILLISECONDS, TimeUnit.MILLISECONDS);\n      }\n      catch (ExecutionException e1) {\n         System.out.println(\"in getAsynchTest: ExecutionException: \" + e1);\n         ExceptionThrower.throwUnchecked(e1.getCause());\n      }\n      catch (TimeoutException e1) {\n         System.out.println(\"in getAsynchTest: TimeoutException: \" + e1);\n         throw new TestApplicationTimeoutException(\"TimeoutException\" + e1);\n      }\n      catch (InterruptedException e1) {\n         System.out.println(\"in getAsynchTest: InterruptedException: \" + e1);\n         throw new Exception(e1);\n      }\n\n      return dummy;\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1003486,"reputation":355,"user_id":1017794,"accept_rate":50,"display_name":"Smitesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31909,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":17233773,"answer_count":4,"score":26,"last_activity_date":1673422337,"creation_date":1371810672,"question_id":17233038,"body_markdown":"I have an synchronous execution path which needs to either complete or timeout within a given time frame.\r\n\r\nLet&#39;s say I have a class with a `main()` method in which I invoke method `A()`, which in-turn calls `B()`, and that in-turn calls `C()`, of the same or different classes, all synchronous, and without using an external resource like database , webservice, or file system (so not blocking IO, it&#39;s more like a CPU or memory intensive computation).\r\n\r\nHow do I code for its timeout in Java? I have looked at `TimerTask` but that is more of making the flow async and for scheduling tasks. Any other suggestions?","title":"How to implement synchronous method timeouts in Java?","body":"<p>I have an synchronous execution path which needs to either complete or timeout within a given time frame.</p>\n<p>Let's say I have a class with a <code>main()</code> method in which I invoke method <code>A()</code>, which in-turn calls <code>B()</code>, and that in-turn calls <code>C()</code>, of the same or different classes, all synchronous, and without using an external resource like database , webservice, or file system (so not blocking IO, it's more like a CPU or memory intensive computation).</p>\n<p>How do I code for its timeout in Java? I have looked at <code>TimerTask</code> but that is more of making the flow async and for scheduling tasks. Any other suggestions?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1673237806,"post_id":75053068,"comment_id":132445431,"body_markdown":"have you tried to replace `@Bean public Snowflake initializeSnowFlake`  with `@Bean public CustomizedSnowFlake initializeSnowFlake`?","body":"have you tried to replace <code>@Bean public Snowflake initializeSnowFlake</code>  with <code>@Bean public CustomizedSnowFlake initializeSnowFlake</code>?"},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1673243541,"post_id":75053068,"comment_id":132446149,"body_markdown":"@AndreyB.Panfilov Thanks a lot! The problem solved by register a bean with type CustomizedSnowFlake!","body":"@AndreyB.Panfilov Thanks a lot! The problem solved by register a bean with type CustomizedSnowFlake!"},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1673422408,"post_id":75053068,"comment_id":132492608,"body_markdown":"@AndreyB.Panfilov But I still don&#39;t know the reason that leads to this kind of problem ...","body":"@AndreyB.Panfilov But I still don&#39;t know the reason that leads to this kind of problem ..."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673423823,"post_id":75053068,"comment_id":132493016,"body_markdown":"frankly speaking I have no idea why does the previous setup work, in my projects I see that `spring` typically can&#39;t infer real bean type from `@Bean` method.","body":"frankly speaking I have no idea why does the previous setup work, in my projects I see that <code>spring</code> typically can&#39;t infer real bean type from <code>@Bean</code> method."},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":1,"creation_date":1673426082,"post_id":75053068,"comment_id":132493743,"body_markdown":"Yes, while debugging in jar file compiled by prod server, Spring can&#39;t infer real bean type, and line `return typeToMatch.isAssignableFrom(beanType)` in `AbstractBeanFactory`&#39;s `protected boolean isTypeMatch(String name, ResolvableType typeToMatch, boolean allowFactoryBeanInit)` method will always return false. And the jar file compiled by test server will not have such problem due to a totally different bean instanciate order, such bean can be reached when doing the same thing...","body":"Yes, while debugging in jar file compiled by prod server, Spring can&#39;t infer real bean type, and line <code>return typeToMatch.isAssignableFrom(beanType)</code> in <code>AbstractBeanFactory</code>&#39;s <code>protected boolean isTypeMatch(String name, ResolvableType typeToMatch, boolean allowFactoryBeanInit)</code> method will always return false. And the jar file compiled by test server will not have such problem due to a totally different bean instanciate order, such bean can be reached when doing the same thing..."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673428465,"post_id":75053068,"comment_id":132494547,"body_markdown":"UB caused by different initialization order is a disaster, for that reason we do not use constructor DI and `@Lazy` annotations, we newer interact with infrastructure in constructors or factory methods (unlike some spring components) and prefer to use `SmartLifecycle`. Now, thanks to your Q and investigation, I&#39;m aware of another one &quot;initialization order&quot; case.","body":"UB caused by different initialization order is a disaster, for that reason we do not use constructor DI and <code>@Lazy</code> annotations, we newer interact with infrastructure in constructors or factory methods (unlike some spring components) and prefer to use <code>SmartLifecycle</code>. Now, thanks to your Q and investigation, I&#39;m aware of another one &quot;initialization order&quot; case."}],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673422257,"creation_date":1673236878,"question_id":75053068,"body_markdown":"I have met quite a strange situation, while compiling im my develope and test environment then run my application, it is OK. But when I deploy my code to production environment the code was crashed although compiling was a succeed.\r\n\r\nThe error is \r\n`required a bean of type xxxxxxx that could not be found`\r\n\r\nThe dependencies are all OK, and the application was run well in all my dev and test servers except for prod server.\r\n\r\nHere is the simplified project structure:\r\n\r\nmyproject&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&lt;br&gt;\r\n     &amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;module-common&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;com.myapp.config&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;GlobalSnowFlakeConfig.java&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;module-application(dependent on module-common)&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;Application.java (springboot main function)&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;\r\ncom.myapp.config&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;CustomizedSnowFlakeConfig.java&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;com.myapp.service&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;TargetService.java&lt;br&gt;\r\n\r\n\r\n\r\nHere is the code:\r\n```\r\n@Slf4j\r\n@Configuration\r\npublic class GlobalSnowFlakeConfig {\r\n    @Value(&quot;${spring.application.name:anonymous}&quot;)\r\n    private String applicationName;\r\n\r\n    @Value(&quot;${server.port}&quot;)\r\n    private String port;\r\n\r\n\r\n    @Bean\r\n    public MachineInfo registerMachineInfo(RedissonUtil redissonUtil, RedisUtils redisUtils) {\r\n        log.info(&quot;Loading MachineInfo...&quot;);\r\n        return new MachineInfo(redissonUtil, redisUtils, applicationName, port);\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(Snowflake.class)\r\n    public Snowflake initializeSnowFlake(MachineInfo machineInfo) {\r\n        log.info(&quot;Current DataCenterId={} machineId={}&quot;, machineInfo.getDataCenterId(), machineInfo.getMachineId());\r\n        return new Snowflake(\r\n                machineInfo.getMachineId(),\r\n                machineInfo.getDataCenterId(),\r\n                true);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class CustomizedSnowFlake extends Snowflake {\r\n    ....the overriding methods and new features....\r\n}\r\n```\r\n\r\n```\r\n@Slf4j\r\n@Configuration\r\npublic class CustomizedSnowFlakeConfig {\r\n    @Bean\r\n    public Snowflake initializeSnowFlake(MachineInfo machineInfo) {\r\n        log.info(&quot;Current DataCenterId={} machineId={}&quot;, machineInfo.getDataCenterId(), machineInfo.getMachineId());\r\n        return new CustomizedSnowFlake(\r\n                machineInfo.getMachineId(),\r\n                machineInfo.getDataCenterId(),\r\n                true,\r\n                machineInfo.getIp() + &quot;:&quot; + machineInfo.getPort());\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Service\r\n@Slf4j\r\npublic class WebSocketServiceImpl{\r\n    @Autowired\r\n    private CustomizedSnowFlake snowflake;\r\n\r\n    ....other business code....\r\n}\r\n```\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = {&quot;com.myapp&quot;})\r\n@EnableEurekaClient\r\n@EnableFeignClients(basePackages = {&quot;com.myapp.webcommon.api&quot;})\r\n@MapperScan(basePackages = {&quot;com.myapp.mydb.mapper&quot;})\r\npublic class Application{\r\n    public static void main(String[] args) {\r\n        ConfigurableApplicationContext applicationContext = SpringApplication.run(Application.class, args);\r\n        WebSocketServer.setApplicationContext(applicationContext);\r\n    }\r\n}\r\n```\r\n\r\nI think method `initializeSnowFlake` will override the config of `Snowflake` and replace the `GlobalSnowFlakeConfig`&#39;s bean of type `Snowflake`, but the jar file compliled in my prod server can never start up, it will always print `required a bean of type xxxx.CustomizedSnowFlake that could not be found`.\r\n\r\nOn the other hand, all the same code compiled in my dev and test server has nothing wrong and good to start.\r\n\r\nI have checked my maven and jdk version, There are little differences :\r\n\r\n```\r\nIn prod server\r\n\r\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\nMaven home: /usr/local/maven/apache-maven-3.8.1\r\nJava version: 1.8.0_291, vendor: Oracle Corporation, runtime: /usr/local/java/jdk1.8.0_291/jre\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.10.23-5.al8.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n\r\n```\r\nIn test server1\r\n\r\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\nMaven home: /etc/maven/apache-maven-3.8.1\r\nJava version: 1.8.0_292, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.292.b10-1.el7_9.x86_64/jre\r\nDefault locale: zh_CN, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.25.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\n\r\nIN test server2\r\n\r\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\nMaven home: /usr/share/maven\r\nJava version: 1.8.0_292, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.292.b10-1.el7_9.x86_64/jre\r\nDefault locale: zh_CN, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.31.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\n```\r\n\r\nAlthough application can be started well by changing return type from `Snowflake` to `CustomizedSnowflake` in `CustomizedSnowFlakeConfig`, I still don&#39;t know why my test and dev environment never come up with this problem.\r\n\r\nthe version of maven and jdk in `test server1` and `prod server` are nearly the same. So I don&#39;t think this problem is due to maven version or jdk version.\r\n\r\nBy debugging into source code of springboot, I have found someting strange.\r\n\r\nin `DefaultSingletonBeanRegistry`, method `isTypeMatch` will call `getSingleton` to get the singletonObject named `initializeSnowFlake` which is defined in `CustomizedSnowFlakeConfig`, but the jar file compiled in prod server will never have such object returned while the jar file compiled in test/dev server will have one.\r\n[![enter image description here][1]][1]\r\n\r\nI don&#39;t know why such singletonObject is not in `DefaultSingletonBeanRegistry`,everything looks normal.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xP3k0.png","title":"required a bean of type that could not be found when register and autowired using the child class","body":"<p>I have met quite a strange situation, while compiling im my develope and test environment then run my application, it is OK. But when I deploy my code to production environment the code was crashed although compiling was a succeed.</p>\n<p>The error is\n<code>required a bean of type xxxxxxx that could not be found</code></p>\n<p>The dependencies are all OK, and the application was run well in all my dev and test servers except for prod server.</p>\n<p>Here is the simplified project structure:</p>\n<p>myproject<br>\nâ€‚â€‚â€‚â€‚|<br>\nâ€‚â€‚â€‚â€‚module-common<br>\nâ€‚â€‚â€‚â€‚|â€‚â€‚â€‚â€‚â€‚â€‚â€‚|<br>\nâ€‚â€‚â€‚â€‚|â€‚â€‚â€‚â€‚â€‚â€‚â€‚com.myapp.config<br>\nâ€‚â€‚â€‚â€‚|â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚|<br>\nâ€‚â€‚â€‚â€‚|â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚GlobalSnowFlakeConfig.java<br>\nâ€‚â€‚â€‚â€‚module-application(dependent on module-common)<br>\nâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚|<br>\nâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚Application.java (springboot main function)<br>\nâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚\ncom.myapp.config<br>\nâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚|â€‚â€‚â€‚â€‚|<br>\nâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚|â€‚â€‚â€‚â€‚CustomizedSnowFlakeConfig.java<br>\nâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚com.myapp.service<br>\nâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚|<br>\nâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚TargetService.java<br></p>\n<p>Here is the code:</p>\n<pre><code>@Slf4j\n@Configuration\npublic class GlobalSnowFlakeConfig {\n    @Value(&quot;${spring.application.name:anonymous}&quot;)\n    private String applicationName;\n\n    @Value(&quot;${server.port}&quot;)\n    private String port;\n\n\n    @Bean\n    public MachineInfo registerMachineInfo(RedissonUtil redissonUtil, RedisUtils redisUtils) {\n        log.info(&quot;Loading MachineInfo...&quot;);\n        return new MachineInfo(redissonUtil, redisUtils, applicationName, port);\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(Snowflake.class)\n    public Snowflake initializeSnowFlake(MachineInfo machineInfo) {\n        log.info(&quot;Current DataCenterId={} machineId={}&quot;, machineInfo.getDataCenterId(), machineInfo.getMachineId());\n        return new Snowflake(\n                machineInfo.getMachineId(),\n                machineInfo.getDataCenterId(),\n                true);\n    }\n\n}\n</code></pre>\n<pre><code>public class CustomizedSnowFlake extends Snowflake {\n    ....the overriding methods and new features....\n}\n</code></pre>\n<pre><code>@Slf4j\n@Configuration\npublic class CustomizedSnowFlakeConfig {\n    @Bean\n    public Snowflake initializeSnowFlake(MachineInfo machineInfo) {\n        log.info(&quot;Current DataCenterId={} machineId={}&quot;, machineInfo.getDataCenterId(), machineInfo.getMachineId());\n        return new CustomizedSnowFlake(\n                machineInfo.getMachineId(),\n                machineInfo.getDataCenterId(),\n                true,\n                machineInfo.getIp() + &quot;:&quot; + machineInfo.getPort());\n    }\n}\n</code></pre>\n<pre><code>@Service\n@Slf4j\npublic class WebSocketServiceImpl{\n    @Autowired\n    private CustomizedSnowFlake snowflake;\n\n    ....other business code....\n}\n</code></pre>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {&quot;com.myapp&quot;})\n@EnableEurekaClient\n@EnableFeignClients(basePackages = {&quot;com.myapp.webcommon.api&quot;})\n@MapperScan(basePackages = {&quot;com.myapp.mydb.mapper&quot;})\npublic class Application{\n    public static void main(String[] args) {\n        ConfigurableApplicationContext applicationContext = SpringApplication.run(Application.class, args);\n        WebSocketServer.setApplicationContext(applicationContext);\n    }\n}\n</code></pre>\n<p>I think method <code>initializeSnowFlake</code> will override the config of <code>Snowflake</code> and replace the <code>GlobalSnowFlakeConfig</code>'s bean of type <code>Snowflake</code>, but the jar file compliled in my prod server can never start up, it will always print <code>required a bean of type xxxx.CustomizedSnowFlake that could not be found</code>.</p>\n<p>On the other hand, all the same code compiled in my dev and test server has nothing wrong and good to start.</p>\n<p>I have checked my maven and jdk version, There are little differences :</p>\n<pre><code>In prod server\n\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: /usr/local/maven/apache-maven-3.8.1\nJava version: 1.8.0_291, vendor: Oracle Corporation, runtime: /usr/local/java/jdk1.8.0_291/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.10.23-5.al8.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<pre><code>In test server1\n\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: /etc/maven/apache-maven-3.8.1\nJava version: 1.8.0_292, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.292.b10-1.el7_9.x86_64/jre\nDefault locale: zh_CN, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.25.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n\n\nIN test server2\n\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\nMaven home: /usr/share/maven\nJava version: 1.8.0_292, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.292.b10-1.el7_9.x86_64/jre\nDefault locale: zh_CN, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.31.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n\n</code></pre>\n<p>Although application can be started well by changing return type from <code>Snowflake</code> to <code>CustomizedSnowflake</code> in <code>CustomizedSnowFlakeConfig</code>, I still don't know why my test and dev environment never come up with this problem.</p>\n<p>the version of maven and jdk in <code>test server1</code> and <code>prod server</code> are nearly the same. So I don't think this problem is due to maven version or jdk version.</p>\n<p>By debugging into source code of springboot, I have found someting strange.</p>\n<p>in <code>DefaultSingletonBeanRegistry</code>, method <code>isTypeMatch</code> will call <code>getSingleton</code> to get the singletonObject named <code>initializeSnowFlake</code> which is defined in <code>CustomizedSnowFlakeConfig</code>, but the jar file compiled in prod server will never have such object returned while the jar file compiled in test/dev server will have one.\n<a href=\"https://i.stack.imgur.com/xP3k0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xP3k0.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know why such singletonObject is not in <code>DefaultSingletonBeanRegistry</code>,everything looks normal.</p>\n"},{"tags":["java","opencv","hadoop","video-capture"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":0,"creation_date":1673387791,"post_id":75074540,"comment_id":132486742,"body_markdown":"I&#39;m not sure why Hadoop code is being used here. HDFS is just file storage, you should consider downloading the file locally and then run it from there, with `hdfs dfs -copyToLocal &lt;hdfs_file_path&gt; &lt;local_download_path&gt;`","body":"I&#39;m not sure why Hadoop code is being used here. HDFS is just file storage, you should consider downloading the file locally and then run it from there, with <code>hdfs dfs -copyToLocal &lt;hdfs_file_path&gt; &lt;local_download_path&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673421613,"creation_date":1673421613,"answer_id":75079501,"question_id":75074540,"body_markdown":"`VideoCapture` argument assumes a local filepath, not a remote one, much less one that references a file that is split into blocks and distributed amongst multiple servers (datanodes). \r\n\r\nHDFS isn&#39;t an ideal system for a &quot;media server&quot; for storing video assets. You will need to download the whole file, as mentioned in the comments before you can process it. ","title":"Cannot open a video with OpenCV VideoCapture on HDFS (Hadoop) | Java","body":"<p><code>VideoCapture</code> argument assumes a local filepath, not a remote one, much less one that references a file that is split into blocks and distributed amongst multiple servers (datanodes).</p>\n<p>HDFS isn't an ideal system for a &quot;media server&quot; for storing video assets. You will need to download the whole file, as mentioned in the comments before you can process it.</p>\n"}],"owner":{"account_id":27491699,"reputation":3,"user_id":20976944,"display_name":"Catarina Mota"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75079501,"answer_count":1,"score":-1,"last_activity_date":1673421713,"creation_date":1673376531,"question_id":75074540,"body_markdown":"I&#39;m trying to open a video file with OpenCv VideoCapture that is stored on HDFS. This is a case using Hadoop RecordReader and I can find the file but doesn&#39;t work in VideoCapture. Any help on solving this problem?\r\n\r\nMyRecordReader.java\r\n```\r\npublic void initialize(InputSplit split, TaskAttemptContext context) throws IOException, InterruptedException {\r\n        // Set the current frame to 0 and the total number of frames to the length of the video\r\n        currentFrame = 0;\r\n        System.out.printf(&quot;%s#initialize(%s, %s)\\n&quot;, this.toString(), split.toString(), context.getJobName());\r\n\r\n        Configuration conf = context.getConfiguration();\r\n        FileSystem fileSystem = FileSystem.get(conf);\r\n        String pathString = &quot;/user/usermr/input/projeto/traffic.mp4&quot;;\r\n        Path path = new Path(pathString);\r\n        if (fileSystem.exists(path))\r\n            System.out.println(&quot;Found video : &quot; + pathString);\r\n\r\n        cap = new VideoCapture(path.toString());\r\n        if ( !cap.isOpened() )\r\n            System.out.println(&quot;Cannot open the video file&quot;);\r\n\r\n        System.out.println(&quot;Frames: &quot; + cap.get(Videoio.CAP_PROP_FRAME_COUNT));\r\n}\r\n```\r\n\r\nOutput:\r\n[enter image description here](https://i.stack.imgur.com/Dl9wu.png)","title":"Cannot open a video with OpenCV VideoCapture on HDFS (Hadoop) | Java","body":"<p>I'm trying to open a video file with OpenCv VideoCapture that is stored on HDFS. This is a case using Hadoop RecordReader and I can find the file but doesn't work in VideoCapture. Any help on solving this problem?</p>\n<p>MyRecordReader.java</p>\n<pre><code>public void initialize(InputSplit split, TaskAttemptContext context) throws IOException, InterruptedException {\n        // Set the current frame to 0 and the total number of frames to the length of the video\n        currentFrame = 0;\n        System.out.printf(&quot;%s#initialize(%s, %s)\\n&quot;, this.toString(), split.toString(), context.getJobName());\n\n        Configuration conf = context.getConfiguration();\n        FileSystem fileSystem = FileSystem.get(conf);\n        String pathString = &quot;/user/usermr/input/projeto/traffic.mp4&quot;;\n        Path path = new Path(pathString);\n        if (fileSystem.exists(path))\n            System.out.println(&quot;Found video : &quot; + pathString);\n\n        cap = new VideoCapture(path.toString());\n        if ( !cap.isOpened() )\n            System.out.println(&quot;Cannot open the video file&quot;);\n\n        System.out.println(&quot;Frames: &quot; + cap.get(Videoio.CAP_PROP_FRAME_COUNT));\n}\n</code></pre>\n<p>Output:\n<a href=\"https://i.stack.imgur.com/Dl9wu.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","logging"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673361890,"post_id":75071600,"comment_id":132478315,"body_markdown":"No it is not possible","body":"No it is not possible"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1673362308,"post_id":75071600,"comment_id":132478468,"body_markdown":"Your options that I can see are to live with it, suppress error logging from that class, or fork the library and make the change.  I would NOT recommend the latter.  Is there no error handling hooks in the library that would avoid the logging?","body":"Your options that I can see are to live with it, suppress error logging from that class, or fork the library and make the change.  I would NOT recommend the latter.  Is there no error handling hooks in the library that would avoid the logging?"},{"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"score":0,"creation_date":1673425245,"post_id":75071600,"comment_id":132493460,"body_markdown":"@Taylor I didn&#39;t see any hooks that would allow to intercept and suppress the standard error handling. The library throws exceptions that we react upon with retries and fallbacks. That&#39;s actually good enough for us. However, before it throws those exceptions, the library applies its standard behavior and logs the temporary connection failure as an ERROR.","body":"@Taylor I didn&#39;t see any hooks that would allow to intercept and suppress the standard error handling. The library throws exceptions that we react upon with retries and fallbacks. That&#39;s actually good enough for us. However, before it throws those exceptions, the library applies its standard behavior and logs the temporary connection failure as an ERROR."}],"answers":[{"tags":[],"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673362400,"creation_date":1673362400,"answer_id":75071762,"question_id":75071600,"body_markdown":"As @Jens mentioned this is not possible since the level at which a message is logged is given by the actual function call.\r\n\r\nSo, if Spring (or any other library or even your own code, really) has something like:\r\n\r\n```java\r\npublic void connect() {\r\n    try(establishConnection()) {\r\n        // ...\r\n    } catch (Exception e) {\r\n        log.error(&quot;Failed to establish connection&quot;);\r\n    }\r\n```\r\n\r\nyou&#39;ll notice that the logging is always done at the `error` level, since that is what is being invoked.\r\n\r\nThe only recourse you have in this case is to set the log level of the class to `OFF` if your given logging implementation supports it (the default, Logback, does). For example:\r\n\r\n```yml \r\n# application.yml\r\nlogging.level:\r\n  org.springframework.jms.listener.DefaultMessageListenerContainer: OFF\r\n```\r\n\r\nHowever, there&#39;s really no reason to do this unless you are getting absolutely swamped by these log messages (and even then, just filter them in your Dashboard). Error logs exist for a reason.\r\n\r\nAlternatively, I *suppose* you could also do some hacky trickery using AspectJ to change the level something is logged at if you *really, really needed to*, but I doubt this applies in this case.\r\n\r\nLastly, you can fork the library and link your own Jar files into your application. But I doubt this maintenance burden is worth it in this case.","title":"Can I change the level of a message logged by Spring?","body":"<p>As @Jens mentioned this is not possible since the level at which a message is logged is given by the actual function call.</p>\n<p>So, if Spring (or any other library or even your own code, really) has something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void connect() {\n    try(establishConnection()) {\n        // ...\n    } catch (Exception e) {\n        log.error(&quot;Failed to establish connection&quot;);\n    }\n</code></pre>\n<p>you'll notice that the logging is always done at the <code>error</code> level, since that is what is being invoked.</p>\n<p>The only recourse you have in this case is to set the log level of the class to <code>OFF</code> if your given logging implementation supports it (the default, Logback, does). For example:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># application.yml\nlogging.level:\n  org.springframework.jms.listener.DefaultMessageListenerContainer: OFF\n</code></pre>\n<p>However, there's really no reason to do this unless you are getting absolutely swamped by these log messages (and even then, just filter them in your Dashboard). Error logs exist for a reason.</p>\n<p>Alternatively, I <em>suppose</em> you could also do some hacky trickery using AspectJ to change the level something is logged at if you <em>really, really needed to</em>, but I doubt this applies in this case.</p>\n<p>Lastly, you can fork the library and link your own Jar files into your application. But I doubt this maintenance burden is worth it in this case.</p>\n"},{"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673421667,"creation_date":1673421667,"answer_id":75079510,"question_id":75071600,"body_markdown":"This is not possible because the level at which a message is logged is given by the actual function call. . \r\n\r\nSo, if Spring has something like:\r\n\r\n    public void connect() {\r\n    try(establishConnection()) {\r\n        // ...\r\n    } catch (Exception e) {\r\n        log.error(&quot;Failed to establish connection&quot;);\r\n    }\r\n\r\nyou&#39;ll notice that the **logging is always done at the error level**, since that is what is being invoked.\r\n\r\nWhat you can do is to **set the log level of the class to OFF** :\r\n\r\n    # application.yml\r\nlogging.level:\r\n  org.springframework.jms.listener.DefaultMessageListenerContainer: OFF\r\n\r\n","title":"Can I change the level of a message logged by Spring?","body":"<p>This is not possible because the level at which a message is logged is given by the actual function call. .</p>\n<p>So, if Spring has something like:</p>\n<pre><code>public void connect() {\ntry(establishConnection()) {\n    // ...\n} catch (Exception e) {\n    log.error(&quot;Failed to establish connection&quot;);\n}\n</code></pre>\n<p>you'll notice that the <strong>logging is always done at the error level</strong>, since that is what is being invoked.</p>\n<p>What you can do is to <strong>set the log level of the class to OFF</strong> :</p>\n<pre><code># application.yml\n</code></pre>\n<p>logging.level:\norg.springframework.jms.listener.DefaultMessageListenerContainer: OFF</p>\n"}],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75071762,"answer_count":2,"score":0,"last_activity_date":1673421667,"creation_date":1673361716,"question_id":75071600,"body_markdown":"Our Spring-based microservice sometimes fails to connect to its eventing service for a couple of minutes. This is okay from an application point of view, as we have several retries and fallbacks in place that take care of this. Each failed connection attempt results in an ERROR log written by the class org.springframework.jms.listener.DefaultMessageListenerContainer. Is it possible to configure Spring such that this log message would be written with a lower log level, such as WARN?","title":"Can I change the level of a message logged by Spring?","body":"<p>Our Spring-based microservice sometimes fails to connect to its eventing service for a couple of minutes. This is okay from an application point of view, as we have several retries and fallbacks in place that take care of this. Each failed connection attempt results in an ERROR log written by the class org.springframework.jms.listener.DefaultMessageListenerContainer. Is it possible to configure Spring such that this log message would be written with a lower log level, such as WARN?</p>\n"},{"tags":["java","spring","spring-boot","jar","config"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673420985,"post_id":75079229,"comment_id":132492230,"body_markdown":"It isn&#39;t a system variable so trying to read it will obviously fail. Use the `Environment` to get the property instead. But why do you need this property in the first place? It is something to be used by Spring Boot.","body":"It isn&#39;t a system variable so trying to read it will obviously fail. Use the <code>Environment</code> to get the property instead. But why do you need this property in the first place? It is something to be used by Spring Boot."},{"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"score":0,"creation_date":1673421282,"post_id":75079229,"comment_id":132492306,"body_markdown":"I am placing some text file to be read under this location and I am reading that text file in my spring boot app .","body":"I am placing some text file to be read under this location and I am reading that text file in my spring boot app ."}],"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673421221,"creation_date":1673419774,"question_id":75079229,"body_markdown":"I got spring boot app and I am building this app and then creating the jar file out of it.\r\n\r\nand then I am executing my jar file with below command\r\n\r\n**java -Dspring.profiles.active=local -jar rdk-factory-data-deploy-0.1.0-SNAPSHOT.jar --server.port=8080 --ajp.port=0 --spring.datasource.url=jdbc:oracle:thin:@localhost:1521:OraDoc --spring.datasource.username=system --spring.datasource.password=MyPasswd123 --spring.config.additional-location=file:/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/factory-data-generation-tool/rdk-factory-data-config/ --logging.config=file:/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/factory-data-generation-tool/rdk-factory-data-config/logback-spring.xml --certFilePath=/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/factory-data-generation-tool/rdk-factory-data-config/prodcert/**\r\n\r\nmy goal is to read the **spring.config.additional-location** value in my java code but I am unable to read this value.\r\n\r\nI have tried with below code but my code is not working and I am not able to read this path.\r\n\r\n```\r\nSystem.getProperty(&quot;spring.config.additional-location&quot;)\r\n```\r\n\r\nI think above way is not right way to read..though I can read the value but I want to read this automatically in spring boot app.\r\n\r\nCan someone please help on me on this how can I read **spring.config.additional-location** this ?\r\n\r\nHow can I derive this path **spring.config.additional-location** without using **System.getProperty()** ?\r\n\r\nthank you so much","title":"Automatically read the spring.config.additional-location value in Spring Boot App","body":"<p>I got spring boot app and I am building this app and then creating the jar file out of it.</p>\n<p>and then I am executing my jar file with below command</p>\n<p><strong>java -Dspring.profiles.active=local -jar rdk-factory-data-deploy-0.1.0-SNAPSHOT.jar --server.port=8080 --ajp.port=0 --spring.datasource.url=jdbc:oracle:thin:@localhost:1521:OraDoc --spring.datasource.username=system --spring.datasource.password=MyPasswd123 --spring.config.additional-location=file:/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/factory-data-generation-tool/rdk-factory-data-config/ --logging.config=file:/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/factory-data-generation-tool/rdk-factory-data-config/logback-spring.xml --certFilePath=/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/factory-data-generation-tool/rdk-factory-data-config/prodcert/</strong></p>\n<p>my goal is to read the <strong>spring.config.additional-location</strong> value in my java code but I am unable to read this value.</p>\n<p>I have tried with below code but my code is not working and I am not able to read this path.</p>\n<pre><code>System.getProperty(&quot;spring.config.additional-location&quot;)\n</code></pre>\n<p>I think above way is not right way to read..though I can read the value but I want to read this automatically in spring boot app.</p>\n<p>Can someone please help on me on this how can I read <strong>spring.config.additional-location</strong> this ?</p>\n<p>How can I derive this path <strong>spring.config.additional-location</strong> without using <strong>System.getProperty()</strong> ?</p>\n<p>thank you so much</p>\n"},{"tags":["java","spring","jackson"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673416403,"post_id":75078814,"comment_id":132491287,"body_markdown":"How do you call the API?","body":"How do you call the API?"},{"owner":{"account_id":1315495,"reputation":17293,"user_id":1262477,"accept_rate":74,"display_name":"Patan"},"score":0,"creation_date":1673419314,"post_id":75078814,"comment_id":132491834,"body_markdown":"@Jens we call with alias.     path/1?typr=12","body":"@Jens we call with alias.     path/1?typr=12"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673421715,"post_id":75078814,"comment_id":132492429,"body_markdown":"Can you please add also the complete stacktrace","body":"Can you please add also the complete stacktrace"}],"answers":[{"tags":[],"owner":{"account_id":14614685,"reputation":61,"user_id":10555123,"display_name":"bidulgi69"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673420837,"creation_date":1673420837,"answer_id":75079396,"question_id":75078814,"body_markdown":"`@RequestParam` does not use a jackson deserializer. So `@JsonCreator` is not used.\r\n\r\nBy default, Spring uses `Converter` to deserialize `@RequestParam` and `@PathVariable` values.\r\n\r\nSo if you want to convert path values, create a custom converter.\r\n\r\n[Check out this link.](https://stackoverflow.com/questions/75053897/deserialize-requestparam-enum-case-insensitive-in-spring-boot-using-jackson/75053959#75053959) I hope it can help you.","title":"Spring boot JsonCreator for Enum not working for request parameter in GET call","body":"<p><code>@RequestParam</code> does not use a jackson deserializer. So <code>@JsonCreator</code> is not used.</p>\n<p>By default, Spring uses <code>Converter</code> to deserialize <code>@RequestParam</code> and <code>@PathVariable</code> values.</p>\n<p>So if you want to convert path values, create a custom converter.</p>\n<p><a href=\"https://stackoverflow.com/questions/75053897/deserialize-requestparam-enum-case-insensitive-in-spring-boot-using-jackson/75053959#75053959\">Check out this link.</a> I hope it can help you.</p>\n"}],"owner":{"account_id":1315495,"reputation":17293,"user_id":1262477,"accept_rate":74,"display_name":"Patan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673420837,"creation_date":1673416227,"question_id":75078814,"body_markdown":"\r\nI have written custom JsonCreator for enum\r\n\r\n      \r\n    @GetMapping(value = &quot;/path/{pathVar1}&quot;)\r\n      public Response getValue(\r\n          @PathVariable String pathVar1,\r\n           @RequestParam(required = false, name = &quot;type&quot;) MyEnum type)\r\n\r\nEnum\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    public enum MyEnum {\r\n    \r\n      A_12(Set.of(&quot;a&quot;, &quot;12&quot;));\r\n    \r\n      private Set&lt;String&gt; aliases;\r\n    \r\n      @JsonCreator\r\n      public static MyEnum forValues(@JsonProperty(&quot;type&quot;) String type) {\r\n        return Arrays.stream(MyEnum.values())\r\n            .filter(s -&gt; s.getAliases().stream().anyMatch(a -&gt; StringUtils.equalsIgnoreCase(a, type)))\r\n            .findFirst()\r\n            .orElseThrow(() -&gt; new RuntimeException(&quot;aa&quot;));\r\n      }\r\n\r\n\r\nIts not considering jsoncreator for enum. \r\n\r\n    Caused by: java.lang.IllegalArgumentException: No enum constant MyEnum.12\r\n\r\nAm I missing any thing.","title":"Spring boot JsonCreator for Enum not working for request parameter in GET call","body":"<p>I have written custom JsonCreator for enum</p>\n<pre><code>@GetMapping(value = &quot;/path/{pathVar1}&quot;)\n  public Response getValue(\n      @PathVariable String pathVar1,\n       @RequestParam(required = false, name = &quot;type&quot;) MyEnum type)\n</code></pre>\n<p>Enum</p>\n<pre><code>@AllArgsConstructor\n@Getter\npublic enum MyEnum {\n\n  A_12(Set.of(&quot;a&quot;, &quot;12&quot;));\n\n  private Set&lt;String&gt; aliases;\n\n  @JsonCreator\n  public static MyEnum forValues(@JsonProperty(&quot;type&quot;) String type) {\n    return Arrays.stream(MyEnum.values())\n        .filter(s -&gt; s.getAliases().stream().anyMatch(a -&gt; StringUtils.equalsIgnoreCase(a, type)))\n        .findFirst()\n        .orElseThrow(() -&gt; new RuntimeException(&quot;aa&quot;));\n  }\n</code></pre>\n<p>Its not considering jsoncreator for enum.</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: No enum constant MyEnum.12\n</code></pre>\n<p>Am I missing any thing.</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1673381659,"post_id":75075288,"comment_id":132484998,"body_markdown":"Are we supposed to guess what the service does?","body":"Are we supposed to guess what the service does?"},{"owner":{"account_id":5142830,"reputation":151,"user_id":9144484,"display_name":"A Boston"},"score":1,"creation_date":1673381661,"post_id":75075288,"comment_id":132485002,"body_markdown":"i dont know jack about spring boot ... but 200K with &quot;[]&quot; response is not an error in the REST world. it usually implies that the request is correct -- it fulfilled the round trip to persistent store -- but there is simply no data in the specified collection MATCHING THE QUERY. an empty array is possible.","body":"i dont know jack about spring boot ... but 200K with &quot;[]&quot; response is not an error in the REST world. it usually implies that the request is correct -- it fulfilled the round trip to persistent store -- but there is simply no data in the specified collection MATCHING THE QUERY. an empty array is possible."},{"owner":{"account_id":78881,"reputation":154,"user_id":224155,"display_name":"Arturas Gusevas"},"score":0,"creation_date":1673382007,"post_id":75075288,"comment_id":132485109,"body_markdown":"@ABoston has right. If `service.searchTimesheet(query)` returns empty list, then your response code will be 200 and body `[]`.","body":"@ABoston has right. If <code>service.searchTimesheet(query)</code> returns empty list, then your response code will be 200 and body <code>[]</code>."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1673382065,"post_id":75075288,"comment_id":132485123,"body_markdown":"Just on first glance everything appears to be correct.  Have you tried setting a breakpoint on the return method and verifying that `servicee.searchTimesheet(query)` is returning something?  is it empty?","body":"Just on first glance everything appears to be correct.  Have you tried setting a breakpoint on the return method and verifying that <code>servicee.searchTimesheet(query)</code> is returning something?  is it empty?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1673404280,"post_id":75075288,"comment_id":132489591,"body_markdown":"I would say to look at your repo query/service methods to ensure that it is functioning properly. Are you using proper methodnames in the JpaRepository?","body":"I would say to look at your repo query/service methods to ensure that it is functioning properly. Are you using proper methodnames in the JpaRepository?"},{"owner":{"account_id":27492233,"reputation":1,"user_id":20977368,"display_name":"Sree vidhya Gandham"},"score":0,"creation_date":1673416458,"post_id":75075288,"comment_id":132491295,"body_markdown":"@experimentunit1998X  yes its working correctly.when I given RequestParams and RequestHeaders in  Controller class in the place of Request Body it showing the result in Resoponse body but when I place RequestBody Its not showing the output","body":"@experimentunit1998X  yes its working correctly.when I given RequestParams and RequestHeaders in  Controller class in the place of Request Body it showing the result in Resoponse body but when I place RequestBody Its not showing the output"},{"owner":{"account_id":27492233,"reputation":1,"user_id":20977368,"display_name":"Sree vidhya Gandham"},"score":0,"creation_date":1673416502,"post_id":75075288,"comment_id":132491305,"body_markdown":"@tbatch when I given RequestParams and RequestHeaders in Controller class in the place of Request Body it showing the result in Resoponse body but when I place RequestBody Its not showing the output","body":"@tbatch when I given RequestParams and RequestHeaders in Controller class in the place of Request Body it showing the result in Resoponse body but when I place RequestBody Its not showing the output"}],"answers":[{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673420745,"creation_date":1673420745,"answer_id":75079380,"question_id":75075288,"body_markdown":"in return statement use this beacause you are not returning the body of query object there thats why you are getting empty list there\r\n \r\n     return ResponseEntity.ok().body(service.searchTimesheet(query));","title":"Spring Boot GET Request gives 200 OK status, but Postman returns &quot;[]&quot; as response body","body":"<p>in return statement use this beacause you are not returning the body of query object there thats why you are getting empty list there</p>\n<pre><code> return ResponseEntity.ok().body(service.searchTimesheet(query));\n</code></pre>\n"}],"owner":{"account_id":27492233,"reputation":1,"user_id":20977368,"display_name":"Sree vidhya Gandham"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673420745,"creation_date":1673381225,"question_id":75075288,"body_markdown":"[It gives output when I PUT Request Params and Request Headers But When I change RequestBody in controller Its not showing the output ](https://i.stack.imgur.com/NYmQb.png)\r\n\r\n\r\n\r\nCONTROLLER CLASS\r\n\r\n    @PostMapping(&quot;/timesheet/search&quot;)\r\n    @ResponseBody\r\n    public ResponseEntity &lt;List&lt;Timesheet&gt;&gt;searchTimesheet(@RequestBody String query) {\r\n        return ResponseEntity.ok(service.searchTimesheet(query));\r\n    }\r\n\r\n\r\nCan anyone help me to solve this?","title":"Spring Boot GET Request gives 200 OK status, but Postman returns &quot;[]&quot; as response body","body":"<p><a href=\"https://i.stack.imgur.com/NYmQb.png\" rel=\"nofollow noreferrer\">It gives output when I PUT Request Params and Request Headers But When I change RequestBody in controller Its not showing the output </a></p>\n<p>CONTROLLER CLASS</p>\n<pre><code>@PostMapping(&quot;/timesheet/search&quot;)\n@ResponseBody\npublic ResponseEntity &lt;List&lt;Timesheet&gt;&gt;searchTimesheet(@RequestBody String query) {\n    return ResponseEntity.ok(service.searchTimesheet(query));\n}\n</code></pre>\n<p>Can anyone help me to solve this?</p>\n"},{"tags":["java","arrays","integer"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1673420152,"post_id":75079265,"comment_id":132492030,"body_markdown":"If you were given a sequence of numbers: how would you sum up these by hand? How could such an algorithm be implemented by a computer?","body":"If you were given a sequence of numbers: how would you sum up these by hand? How could such an algorithm be implemented by a computer?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673420455,"post_id":75079265,"comment_id":132492093,"body_markdown":"Do you know about loops and how to access array elements? If not, I&#39;d suggest you grab a tutorial and learn about that. If you know it, what prevents you from calculating the sum?","body":"Do you know about loops and how to access array elements? If not, I&#39;d suggest you grab a tutorial and learn about that. If you know it, what prevents you from calculating the sum?"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1673420517,"post_id":75079265,"comment_id":132492108,"body_markdown":"There is dozens of solutions on the internet, google that and you would have the solution in a second","body":"There is dozens of solutions on the internet, google that and you would have the solution in a second"},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1673421715,"post_id":75079265,"comment_id":132492430,"body_markdown":"Welcome to Stack Overflow! This, as most questions which give a strong impression of being a blind homework dump, lacks focus on the specific programming problem you encountered while trying yourself. To improve have a look at the compromise described here: https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions and at [ask].","body":"Welcome to Stack Overflow! This, as most questions which give a strong impression of being a blind homework dump, lacks focus on the specific programming problem you encountered while trying yourself. To improve have a look at the compromise described here: <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\" title=\"how do i ask and answer homework questions\">meta.stackoverflow.com/questions/334822/&hellip;</a> and at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":19600884,"reputation":55,"user_id":14345769,"display_name":"Siyabend &#214;zdemir"},"down_vote_count":4,"up_vote_count":0,"is_accepted":true,"score":-4,"last_activity_date":1673420146,"creation_date":1673420146,"answer_id":75079293,"question_id":75079265,"body_markdown":"Try this \r\n\r\n```\r\n    public static int calculateSum(int[] values) {\r\n        int result = 0;\r\n\r\n        for(int i=0; i&lt;values.length; i++){\r\n            result += values[i];\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n```","title":"Sum up integer values of an int[]-parameter and return the result","body":"<p>Try this</p>\n<pre><code>    public static int calculateSum(int[] values) {\n        int result = 0;\n\n        for(int i=0; i&lt;values.length; i++){\n            result += values[i];\n        }\n\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27495850,"reputation":9,"user_id":20980364,"display_name":"Noah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1673422020,"accepted_answer_id":75079293,"answer_count":1,"score":-2,"last_activity_date":1673420146,"creation_date":1673419997,"question_id":75079265,"body_markdown":"How can I sum up the integer values of an int[]-parameter and return the result\r\n\r\n```\r\nSample1: [1,2,3] must return 6\r\nSample2: [-7,7,3] must return 3\r\nSample3: [] must return 0\r\n```\r\n\r\n```\r\npublic static int calculateSum(int[] values) {\r\n        int[] array = {10, 20, 30, 40};\r\n        return Integer.MIN_VALUE;\r\n    }\r\n}\r\n```","title":"Sum up integer values of an int[]-parameter and return the result","body":"<p>How can I sum up the integer values of an int[]-parameter and return the result</p>\n<pre><code>Sample1: [1,2,3] must return 6\nSample2: [-7,7,3] must return 3\nSample3: [] must return 0\n</code></pre>\n<pre><code>public static int calculateSum(int[] values) {\n        int[] array = {10, 20, 30, 40};\n        return Integer.MIN_VALUE;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-annotations","annotation-processing"],"answers":[{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673420139,"creation_date":1673420139,"answer_id":75079291,"question_id":75077321,"body_markdown":"I think you are not using the subpackage or same package in which your spring application main class is defined so please  use this method\r\n\r\nYou need to move your code into a package of its own. For example, move your .java files into src/main/java/com/example and add package com.example; to the top of each file.","title":"Failure to parse configuration class","body":"<p>I think you are not using the subpackage or same package in which your spring application main class is defined so please  use this method</p>\n<p>You need to move your code into a package of its own. For example, move your .java files into src/main/java/com/example and add package com.example; to the top of each file.</p>\n"}],"owner":{"account_id":16461356,"reputation":23,"user_id":11892332,"display_name":"GMarsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4993,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673420139,"creation_date":1673398135,"question_id":75077321,"body_markdown":"I am trying to build a project that had built and ran previously in a different version of IntelliJ.  The error message is as follows :\r\n\r\n&gt; ERROR o.s.boot.SpringApplication - Application run failed\r\n&gt; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [org.wbs.grader.books.BooksApplication]; nested exception is java.lang.IllegalStateException: Failed to introspect annotated methods on class org.wbs.grader.books.BooksApplication\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:184)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:325)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:242)\r\n&gt; \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\r\n&gt; \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\r\n&gt; \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706)\r\n&gt; \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\r\n&gt; \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\r\n&gt; \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n&gt; \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n&gt; \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n&gt; \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n&gt; \tat org.wbs.grader.books.BooksApplication.main(BooksApplication.java:19)\r\n&gt; \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt; \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n&gt; \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n&gt; Caused by: java.lang.IllegalStateException: Failed to introspect annotated methods on class org.wbs.grader.books.BooksApplication\r\n&gt; \tat org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:165)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassParser.retrieveBeanMethodMetadata(ConfigurationClassParser.java:395)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:320)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:245)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:202)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:170)\r\n&gt; 17 common frames omitted\r\n&gt; Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.wbs.grader.books.BooksApplication] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@356d44b2]\r\n&gt; \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:477)\r\n&gt; \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:451)\r\n&gt; \tat org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:154)\r\n&gt; 22 common frames omitted\r\n&gt; Caused by: java.lang.NoClassDefFoundError: javax/servlet/ServletContext\r\n&gt; \tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n&gt; \tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\r\n&gt; \tat java.base/java.lang.Class.privateGetPublicMethods(Class.java:3191)\r\n&gt; \tat java.base/java.lang.Class.getMethods(Class.java:1904)\r\n&gt; \tat org.springframework.util.ReflectionUtils.findConcreteMethodsOnInterfaces(ReflectionUtils.java:487)\r\n&gt; \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:460)\r\n&gt; \r\n&gt; I have tried using different versions of the JDK 8, 11, 17 but all give the same error.\r\n&gt; \r\n&gt; I tried rebuilding the Spring Boot initializer but that had no effect.","title":"Failure to parse configuration class","body":"<p>I am trying to build a project that had built and ran previously in a different version of IntelliJ.  The error message is as follows :</p>\n<blockquote>\n<p>ERROR o.s.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [org.wbs.grader.books.BooksApplication]; nested exception is java.lang.IllegalStateException: Failed to introspect annotated methods on class org.wbs.grader.books.BooksApplication\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:184)\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:325)\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:242)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\nat org.wbs.grader.books.BooksApplication.main(BooksApplication.java:19)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalStateException: Failed to introspect annotated methods on class org.wbs.grader.books.BooksApplication\nat org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:165)\nat org.springframework.context.annotation.ConfigurationClassParser.retrieveBeanMethodMetadata(ConfigurationClassParser.java:395)\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:320)\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:245)\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:202)\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:170)\n17 common frames omitted\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.wbs.grader.books.BooksApplication] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@356d44b2]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:477)\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:451)\nat org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:154)\n22 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/ServletContext\nat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\nat java.base/java.lang.Class.privateGetPublicMethods(Class.java:3191)\nat java.base/java.lang.Class.getMethods(Class.java:1904)\nat org.springframework.util.ReflectionUtils.findConcreteMethodsOnInterfaces(ReflectionUtils.java:487)\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:460)</p>\n<p>I have tried using different versions of the JDK 8, 11, 17 but all give the same error.</p>\n<p>I tried rebuilding the Spring Boot initializer but that had no effect.</p>\n</blockquote>\n"},{"tags":["java","design-patterns","uml","decorator","software-design"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1673320935,"post_id":75065105,"comment_id":132467301,"body_markdown":"AFAIUI, the only methods that you are guaranteed access to are the ones of the interface, these are methods that all decorators share, and in the concrete outer class. If you still have a reference to the decorated UndoStack object, the same one passed into the LockedStack constructor (meaning not constructed inline), then `undo()` is available.","body":"AFAIUI, the only methods that you are guaranteed access to are the ones of the interface, these are methods that all decorators share, and in the concrete outer class. If you still have a reference to the decorated UndoStack object, the same one passed into the LockedStack constructor (meaning not constructed inline), then <code>undo()</code> is available."}],"answers":[{"tags":[],"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673329359,"creation_date":1673329359,"answer_id":75065908,"question_id":75065105,"body_markdown":"In my opinion, this type of design is actually breaking the Decorator Pattern, since this is adding new behavior in each decorator. The purpose of decorator is to add new functionality transparently, e.g.,\r\n\r\n    BufferedReader in = new BufferedReader(new FileReader(&quot;foo.in&quot;));\r\n\r\nIn above line, buffering is added without the need to invoke any new behavior.\r\n\r\nI hope you get the point.","title":"Decorator Pattern with added functions","body":"<p>In my opinion, this type of design is actually breaking the Decorator Pattern, since this is adding new behavior in each decorator. The purpose of decorator is to add new functionality transparently, e.g.,</p>\n<pre><code>BufferedReader in = new BufferedReader(new FileReader(&quot;foo.in&quot;));\n</code></pre>\n<p>In above line, buffering is added without the need to invoke any new behavior.</p>\n<p>I hope you get the point.</p>\n"},{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673420026,"creation_date":1673334967,"answer_id":75066614,"question_id":75065105,"body_markdown":"The purpose of the decorator pattern is:\r\n\r\n&gt; to add new reponsibilities to objects dynamically. \r\n  \r\nIf the new responsibility is embedded in the **existing operations** (e.g. `push()` and `pop()`), the decorator will take care of forwarding the call to the decorated object before/after performing the additional responsibilities. It is then straightforward to chain decorators.  You could for example achieve this with a slightly different design of the secure stack in which cryptographic methods would be private, and pushing/poping would secure the content on the flow:  \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf the new responsibilities are about **additional operations**, the design is not wrong (in fact GoF provides such an example).  But it&#39;s another story when chaining decorators: \r\n\r\n* The decorator pattern does not provide any way to cumulate the new operations of all the intermediary decorators along the line. (If you really need this,  consider rather the [entity component system pattern][2]) \r\n* The decorator pattern does not either provide an access to the decorated object, since this would lead client code to break the [principle of least knowledge][3] (law of demeter). Moreover you&#39;d need to use risky down-castings. \r\n\r\nThe solution is then to use your decorator chain in another way: if you need a `LockStack` that offers lock operations and an `UndoStack` that offers undo, you&#39;ll need to keep a track of each of these decorator objects, and use the right object to obtain the corresponding operations: \r\n\r\n    UndoStack MyUndoStack = new UndoStack(new SecureStack (key,new Stack()));\r\n    LockedStack MyLockStack = new LockedStack(MyUndoStack); \r\n    MyLockStack.lock();\r\n    MyUndoStack.undo();\r\n    MyLockStack.unlock();\r\n\r\nThis its less elegant but far more robust than creating a delegate getter and assuming in some code that a lockstack allways delegates to an undostack (hidden coupling).\r\n\r\n  [1]: https://i.stack.imgur.com/txKBw.png\r\n  [2]: https://en.wikipedia.org/wiki/Entity_component_system\r\n  [3]: https://en.wikipedia.org/wiki/Law_of_Demeter","title":"Decorator Pattern with added functions","body":"<p>The purpose of the decorator pattern is:</p>\n<blockquote>\n<p>to add new reponsibilities to objects dynamically.</p>\n</blockquote>\n<p>If the new responsibility is embedded in the <strong>existing operations</strong> (e.g. <code>push()</code> and <code>pop()</code>), the decorator will take care of forwarding the call to the decorated object before/after performing the additional responsibilities. It is then straightforward to chain decorators.  You could for example achieve this with a slightly different design of the secure stack in which cryptographic methods would be private, and pushing/poping would secure the content on the flow:</p>\n<p><a href=\"https://i.stack.imgur.com/txKBw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/txKBw.png\" alt=\"enter image description here\" /></a></p>\n<p>If the new responsibilities are about <strong>additional operations</strong>, the design is not wrong (in fact GoF provides such an example).  But it's another story when chaining decorators:</p>\n<ul>\n<li>The decorator pattern does not provide any way to cumulate the new operations of all the intermediary decorators along the line. (If you really need this,  consider rather the <a href=\"https://en.wikipedia.org/wiki/Entity_component_system\" rel=\"nofollow noreferrer\">entity component system pattern</a>)</li>\n<li>The decorator pattern does not either provide an access to the decorated object, since this would lead client code to break the <a href=\"https://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"nofollow noreferrer\">principle of least knowledge</a> (law of demeter). Moreover you'd need to use risky down-castings.</li>\n</ul>\n<p>The solution is then to use your decorator chain in another way: if you need a <code>LockStack</code> that offers lock operations and an <code>UndoStack</code> that offers undo, you'll need to keep a track of each of these decorator objects, and use the right object to obtain the corresponding operations:</p>\n<pre><code>UndoStack MyUndoStack = new UndoStack(new SecureStack (key,new Stack()));\nLockedStack MyLockStack = new LockedStack(MyUndoStack); \nMyLockStack.lock();\nMyUndoStack.undo();\nMyLockStack.unlock();\n</code></pre>\n<p>This its less elegant but far more robust than creating a delegate getter and assuming in some code that a lockstack allways delegates to an undostack (hidden coupling).</p>\n"}],"owner":{"account_id":26238353,"reputation":97,"user_id":19913094,"display_name":"Anna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75066614,"answer_count":2,"score":3,"last_activity_date":1673420026,"creation_date":1673320583,"question_id":75065105,"body_markdown":"I found this example for the decorator pattern in a text book.\r\n\r\n[![Decorator pattern example][1]][1]\r\n\r\nIf we considered the object:\r\n\r\n```LockedStack MyStack = new LockedStack(new UndoStack(new Stack()))```\r\n\r\nHow can I call the function undo on it?\r\n\r\n```MyStack.delegate.undo()``` won&#39;t work because ```delegate``` is private.\r\n\r\nDoes this example not work in this situation or am I missing something?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NYOx4.png","title":"Decorator Pattern with added functions","body":"<p>I found this example for the decorator pattern in a text book.</p>\n<p><a href=\"https://i.stack.imgur.com/NYOx4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NYOx4.png\" alt=\"Decorator pattern example\" /></a></p>\n<p>If we considered the object:</p>\n<p><code>LockedStack MyStack = new LockedStack(new UndoStack(new Stack()))</code></p>\n<p>How can I call the function undo on it?</p>\n<p><code>MyStack.delegate.undo()</code> won't work because <code>delegate</code> is private.</p>\n<p>Does this example not work in this situation or am I missing something?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","hibernate-6.x"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673353172,"post_id":75069854,"comment_id":132474988,"body_markdown":"En empty collection isn&#39;t null, and thus will lead to an illegal query with an empty `in`, I would argue that it succeeded falsely in previous versions of Hibernate. The expression won&#39;t work as it will be called for `null` so you would need to cather for that case as well. Why not simply write 2 methods and dispatch to one or the other, or just use the `Criteria` API to dynamically generate the query.","body":"En empty collection isn&#39;t null, and thus will lead to an illegal query with an empty <code>in</code>, I would argue that it succeeded falsely in previous versions of Hibernate. The expression won&#39;t work as it will be called for <code>null</code> so you would need to cather for that case as well. Why not simply write 2 methods and dispatch to one or the other, or just use the <code>Criteria</code> API to dynamically generate the query."}],"answers":[{"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673373893,"creation_date":1673373893,"answer_id":75074092,"question_id":75069854,"body_markdown":"An empty collection can&#39;t be null, and thus will lead to an illegal query with an empty `in` in your query. \r\n\r\nWe would argue that it succeeds falsely in previous versions of Hibernate. \r\n\r\nThe expression cannot work as it will be called for `null` so you would need to check for that case as well. \r\n\r\nTry writing two methods and dispatch to one or the other, depending on whether it returns `null` or not; or better use the `Criteria` API to dynamically generate query.\r\n","title":"Hibernate 6 migration, issue with empty collection parameter","body":"<p>An empty collection can't be null, and thus will lead to an illegal query with an empty <code>in</code> in your query.</p>\n<p>We would argue that it succeeds falsely in previous versions of Hibernate.</p>\n<p>The expression cannot work as it will be called for <code>null</code> so you would need to check for that case as well.</p>\n<p>Try writing two methods and dispatch to one or the other, depending on whether it returns <code>null</code> or not; or better use the <code>Criteria</code> API to dynamically generate query.</p>\n"},{"tags":[],"owner":{"account_id":1326157,"reputation":131,"user_id":1270914,"display_name":"Fred"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673420014,"creation_date":1673420014,"answer_id":75079266,"question_id":75069854,"body_markdown":"Thank you for your answers. Using the Criteria API would imply a lot of refactoring some involving complex recursive queries.\r\n\r\nAfter posting my message here, I found the following explanation https://hibernate.atlassian.net/browse/HHH-15743\r\n\r\nThe proposed solution involves using Spring Data Specification which would in my case also implies some refactoring. Too bad empty lists are not supported anymore.\r\n\r\nI ended renaming the existing method as follow :\r\n\r\n```\r\n@Query(&quot;&quot;&quot;\r\n        SELECT DISTINCT new com.dto.NameIdDto(ws.id, ws.name)\r\n        FROM UserRole ur\r\n        JOIN ur.workspace ws\r\n        WHERE (COALESCE(:workspaceIds) IS NULL OR ws.id IN (:workspaceIds))\r\n        &quot;&quot;&quot;)\r\nList&lt;NameIdDto&gt; findWorkspacesWithUsersInternal(Collection&lt;Long&gt; workspaceIds);\r\n```\r\n\r\nAnd adding the following method :\r\n```\r\ndefault List&lt;NameIdDto&gt; findWorkspacesWithUsersInternal(Collection&lt;Long&gt; workspaceIds) {\r\n    return findWorkspacesWithUsersInternal(CollectionUtils.isEmpty(workspaceIds) ? null : workspaceIds);\r\n}\r\n```\r\n\r\n\r\n","title":"Hibernate 6 migration, issue with empty collection parameter","body":"<p>Thank you for your answers. Using the Criteria API would imply a lot of refactoring some involving complex recursive queries.</p>\n<p>After posting my message here, I found the following explanation <a href=\"https://hibernate.atlassian.net/browse/HHH-15743\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-15743</a></p>\n<p>The proposed solution involves using Spring Data Specification which would in my case also implies some refactoring. Too bad empty lists are not supported anymore.</p>\n<p>I ended renaming the existing method as follow :</p>\n<pre><code>@Query(&quot;&quot;&quot;\n        SELECT DISTINCT new com.dto.NameIdDto(ws.id, ws.name)\n        FROM UserRole ur\n        JOIN ur.workspace ws\n        WHERE (COALESCE(:workspaceIds) IS NULL OR ws.id IN (:workspaceIds))\n        &quot;&quot;&quot;)\nList&lt;NameIdDto&gt; findWorkspacesWithUsersInternal(Collection&lt;Long&gt; workspaceIds);\n</code></pre>\n<p>And adding the following method :</p>\n<pre><code>default List&lt;NameIdDto&gt; findWorkspacesWithUsersInternal(Collection&lt;Long&gt; workspaceIds) {\n    return findWorkspacesWithUsersInternal(CollectionUtils.isEmpty(workspaceIds) ? null : workspaceIds);\n}\n</code></pre>\n"}],"owner":{"account_id":1326157,"reputation":131,"user_id":1270914,"display_name":"Fred"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2713,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673420014,"creation_date":1673353056,"question_id":75069854,"body_markdown":"The Springboot migration from 2.7.x to 3.0.1 is not going smoothly on my project.\r\n\r\nI&#39;m currently facing multiple issues regarding the interpretation of the custom queries used in our repositories. Those queries were working fine before the migration.\r\n\r\nI can&#39;t get my head around the migration of this kind of query :\r\n\r\n```\r\n@Query(&quot;&quot;&quot;\r\n        SELECT DISTINCT new com.dto.NameIdDto(ws.id, ws.name)\r\n        FROM UserRole ur\r\n        JOIN ur.workspace ws\r\n        WHERE (COALESCE(:workspaceIds) IS NULL OR ws.id IN (:workspaceIds))\r\n        &quot;&quot;&quot;)\r\nList&lt;NameIdDto&gt; findWorkspacesWithUsers(Collection&lt;Long&gt; workspaceIds);\r\n```\r\n\r\n```\r\n@Entity\r\npublic class UserRole {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = MY_SEQUENCE)\r\n    private Long id;\r\n\r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(name = &quot;workspace_id&quot;)\r\n    private Workspace workspace;\r\n\r\n}\r\n\r\n@Entity\r\npublic class Workspace  {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = MY_SEQUENCE)\r\n    private Long id;\r\n\r\n    @OneToMany(fetch = LAZY, mappedBy = &quot;workspace&quot;, cascade = ALL, orphanRemoval = true)\r\n    private Set&lt;UserRole&gt; userRoles = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\nWhen running the following tests \r\n```\r\n\r\n@Test\r\npublic void shouldReturnEmptyForNullParameter() {\r\n\tassertThat(workspaceRepository.findWorkspacesWithUsers(null)).isEmpty();\r\n}\r\n\r\n@Test\r\npublic void shouldReturnEmptyForEmptyParameter() {\r\nassertThat(workspaceRepository.findWorkspacesWithUsers(Collections.emptyList())).isEmpty();\r\n}\r\n```\r\n\r\nshouldReturnEmptyForEmptyParameter fails with the exceptions : \r\n\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [[]] did not match expected type [BasicSqmPathSource(id : Long) ]\r\n\r\n\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy121.findWorkspacesWithUsers(Unknown Source)\r\n\tat com.example.TestApplicationTests.shouldReturnEmptyForNullOrEmptyParameter(TestApplicationTests.java:26)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\nCaused by: java.lang.IllegalArgumentException: Parameter value [[]] did not match expected type [BasicSqmPathSource(id : Long) ]\r\n\tat org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:119)\r\n\tat org.hibernate.query.spi.AbstractCommonQueryContract.setParameter(AbstractCommonQueryContract.java:860)\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.setParameter(AbstractSelectionQuery.java:708)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:1222)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:129)\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:322)\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$4(QueryParameterSetter.java:113)\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:136)\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:113)\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:83)\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:75)\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:97)\r\n\tat org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:107)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:234)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148)\r\n\tat  org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 78 more\r\nCaused by: org.hibernate.type.descriptor.java.CoercionException: Cannot coerce value `[]` [java.util.Collections$EmptyList] as Long\r\n\tat org.hibernate.type.descriptor.java.LongJavaType.coerce(LongJavaType.java:155)\r\n\tat org.hibernate.type.descriptor.java.LongJavaType.coerce(LongJavaType.java:24)\r\n\tat org.hibernate.query.internal.QueryParameterBindingImpl.coerce(QueryParameterBindingImpl.java:144)\r\n\tat org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:111)\r\n\t... 107 more\r\n```\r\n\r\nOR (yes OR, I&#39;ve not identified the reason why when executing the same test multiple times, I get one or the other exception)\r\n\r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.isSelectable(AbstractEntityPersister.java:2039)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.fetchProcessor(AbstractEntityPersister.java:2012)\r\n\tat org.hibernate.loader.ast.internal.LoaderSqlAstCreationState.visitFetches(LoaderSqlAstCreationState.java:118)\r\n\tat org.hibernate.sql.results.graph.AbstractFetchParent.afterInitialize(AbstractFetchParent.java:32)\r\n\tat org.hibernate.sql.results.graph.entity.AbstractEntityResultGraphNode.afterInitialize(AbstractEntityResultGraphNode.java:100)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.createDomainResult(AbstractEntityPersister.java:1300)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.selectFragment(AbstractEntityPersister.java:1892)\r\n\tat org.hibernate.query.sql.internal.SQLQueryParser.resolveProperties(SQLQueryParser.java:236)\r\n\tat org.hibernate.query.sql.internal.SQLQueryParser.substituteBrackets(SQLQueryParser.java:159)\r\n\tat org.hibernate.query.sql.internal.SQLQueryParser.process(SQLQueryParser.java:63)\r\n\tat org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.&lt;init&gt;(NativeSelectQueryPlanImpl.java:54)\r\n\tat org.hibernate.engine.query.internal.NativeQueryInterpreterStandardImpl.createQueryPlan(NativeQueryInterpreterStandardImpl.java:39)\r\n\tat org.hibernate.query.sql.internal.NativeQueryImpl.createQueryPlan(NativeQueryImpl.java:649)\r\n\tat org.hibernate.query.sql.internal.NativeQueryImpl.lambda$resolveSelectQueryPlan$7(NativeQueryImpl.java:610)\r\n\tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveSelectQueryPlan(QueryInterpretationCacheStandardImpl.java:83)\r\n\tat org.hibernate.query.sql.internal.NativeQueryImpl.resolveSelectQueryPlan(NativeQueryImpl.java:608)\r\n\tat org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:602)\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:94)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:401)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy136.getResultList(Unknown Source)\r\n\tat com.example.repository.CatalogItemRepository.findModelingAndHarmDefinitions(CatalogItemRepository.java:26)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\r\n\tat com.example.repository.CatalogItemRepository$$SpringCGLIB$$0.findModelingAndHarmDefinitions(&lt;generated&gt;)\r\n\tat com.example.TestApplicationTests.shouldBuildNamedQuery(TestApplicationTests.java:31)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n```\r\n\r\nThere&#39;s nothing fancy in my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;MyExample&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;testcontainers.version&gt;1.17.6&lt;/testcontainers.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n            &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;${postgresql.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nNor in my application.properties\r\n```\r\nspring.datasource.password=postgres\r\nspring.datasource.username=postgres\r\nspring.datasource.driver-class-name=org.testcontainers.jdbc.ContainerDatabaseDriver\r\nspring.datasource.url=jdbc:tc:postgresql:12:///\r\n\r\nspring.jpa.hibernate.ddl-auto = update\r\n\r\nspring.jpa.show-sql=true\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type=TRACE\r\n```\r\n\r\nThe issue clearly comes from the fact that the collection is empty.\r\nI&#39;ve therefore tried to update the query to :\r\n```WHERE (COALESCE(:workspaceIds,NULL) IS NULL OR :#{#workspaceIds.size()} = 0 OR ws.id IN (:workspaceIds) ) ```\r\n\r\nThe test shouldReturnEmptyForNullParameter then fails with the following exception :\r\n\r\n```\r\norg.springframework.expression.spel.SpelEvaluationException: EL1011E: Method call: Attempted to call method size() on null context object\r\n\r\n\tat org.springframework.expression.spel.ast.MethodReference.throwIfNotNullSafe(MethodReference.java:154)\r\n\tat org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:83)\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:70)\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:91)\r\n\tat org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117)\r\n```\r\n\r\nAm I missing something?\r\n\r\nThank you for you help.","title":"Hibernate 6 migration, issue with empty collection parameter","body":"<p>The Springboot migration from 2.7.x to 3.0.1 is not going smoothly on my project.</p>\n<p>I'm currently facing multiple issues regarding the interpretation of the custom queries used in our repositories. Those queries were working fine before the migration.</p>\n<p>I can't get my head around the migration of this kind of query :</p>\n<pre><code>@Query(&quot;&quot;&quot;\n        SELECT DISTINCT new com.dto.NameIdDto(ws.id, ws.name)\n        FROM UserRole ur\n        JOIN ur.workspace ws\n        WHERE (COALESCE(:workspaceIds) IS NULL OR ws.id IN (:workspaceIds))\n        &quot;&quot;&quot;)\nList&lt;NameIdDto&gt; findWorkspacesWithUsers(Collection&lt;Long&gt; workspaceIds);\n</code></pre>\n<pre><code>@Entity\npublic class UserRole {\n\n    @Id\n    @GeneratedValue(generator = MY_SEQUENCE)\n    private Long id;\n\n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;workspace_id&quot;)\n    private Workspace workspace;\n\n}\n\n@Entity\npublic class Workspace  {\n\n    @Id\n    @GeneratedValue(generator = MY_SEQUENCE)\n    private Long id;\n\n    @OneToMany(fetch = LAZY, mappedBy = &quot;workspace&quot;, cascade = ALL, orphanRemoval = true)\n    private Set&lt;UserRole&gt; userRoles = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>When running the following tests</p>\n<pre><code>\n@Test\npublic void shouldReturnEmptyForNullParameter() {\n    assertThat(workspaceRepository.findWorkspacesWithUsers(null)).isEmpty();\n}\n\n@Test\npublic void shouldReturnEmptyForEmptyParameter() {\nassertThat(workspaceRepository.findWorkspacesWithUsers(Collections.emptyList())).isEmpty();\n}\n</code></pre>\n<p>shouldReturnEmptyForEmptyParameter fails with the exceptions :</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [[]] did not match expected type [BasicSqmPathSource(id : Long) ]\n\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy2/jdk.proxy2.$Proxy121.findWorkspacesWithUsers(Unknown Source)\n    at com.example.TestApplicationTests.shouldReturnEmptyForNullOrEmptyParameter(TestApplicationTests.java:26)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\nCaused by: java.lang.IllegalArgumentException: Parameter value [[]] did not match expected type [BasicSqmPathSource(id : Long) ]\n    at org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:119)\n    at org.hibernate.query.spi.AbstractCommonQueryContract.setParameter(AbstractCommonQueryContract.java:860)\n    at org.hibernate.query.spi.AbstractSelectionQuery.setParameter(AbstractSelectionQuery.java:708)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:1222)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:129)\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:322)\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$4(QueryParameterSetter.java:113)\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:136)\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:113)\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:83)\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:75)\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:97)\n    at org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:107)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:234)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148)\n    at  org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 78 more\nCaused by: org.hibernate.type.descriptor.java.CoercionException: Cannot coerce value `[]` [java.util.Collections$EmptyList] as Long\n    at org.hibernate.type.descriptor.java.LongJavaType.coerce(LongJavaType.java:155)\n    at org.hibernate.type.descriptor.java.LongJavaType.coerce(LongJavaType.java:24)\n    at org.hibernate.query.internal.QueryParameterBindingImpl.coerce(QueryParameterBindingImpl.java:144)\n    at org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:111)\n    ... 107 more\n</code></pre>\n<p>OR (yes OR, I've not identified the reason why when executing the same test multiple times, I get one or the other exception)</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n\n    at org.hibernate.persister.entity.AbstractEntityPersister.isSelectable(AbstractEntityPersister.java:2039)\n    at org.hibernate.persister.entity.AbstractEntityPersister.fetchProcessor(AbstractEntityPersister.java:2012)\n    at org.hibernate.loader.ast.internal.LoaderSqlAstCreationState.visitFetches(LoaderSqlAstCreationState.java:118)\n    at org.hibernate.sql.results.graph.AbstractFetchParent.afterInitialize(AbstractFetchParent.java:32)\n    at org.hibernate.sql.results.graph.entity.AbstractEntityResultGraphNode.afterInitialize(AbstractEntityResultGraphNode.java:100)\n    at org.hibernate.persister.entity.AbstractEntityPersister.createDomainResult(AbstractEntityPersister.java:1300)\n    at org.hibernate.persister.entity.AbstractEntityPersister.selectFragment(AbstractEntityPersister.java:1892)\n    at org.hibernate.query.sql.internal.SQLQueryParser.resolveProperties(SQLQueryParser.java:236)\n    at org.hibernate.query.sql.internal.SQLQueryParser.substituteBrackets(SQLQueryParser.java:159)\n    at org.hibernate.query.sql.internal.SQLQueryParser.process(SQLQueryParser.java:63)\n    at org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.&lt;init&gt;(NativeSelectQueryPlanImpl.java:54)\n    at org.hibernate.engine.query.internal.NativeQueryInterpreterStandardImpl.createQueryPlan(NativeQueryInterpreterStandardImpl.java:39)\n    at org.hibernate.query.sql.internal.NativeQueryImpl.createQueryPlan(NativeQueryImpl.java:649)\n    at org.hibernate.query.sql.internal.NativeQueryImpl.lambda$resolveSelectQueryPlan$7(NativeQueryImpl.java:610)\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveSelectQueryPlan(QueryInterpretationCacheStandardImpl.java:83)\n    at org.hibernate.query.sql.internal.NativeQueryImpl.resolveSelectQueryPlan(NativeQueryImpl.java:608)\n    at org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:602)\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363)\n    at org.hibernate.query.Query.getResultList(Query.java:94)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:401)\n    at jdk.proxy2/jdk.proxy2.$Proxy136.getResultList(Unknown Source)\n    at com.example.repository.CatalogItemRepository.findModelingAndHarmDefinitions(CatalogItemRepository.java:26)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n    at com.example.repository.CatalogItemRepository$$SpringCGLIB$$0.findModelingAndHarmDefinitions(&lt;generated&gt;)\n    at com.example.TestApplicationTests.shouldBuildNamedQuery(TestApplicationTests.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n</code></pre>\n<p>There's nothing fancy in my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;MyExample&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;testcontainers.version&gt;1.17.6&lt;/testcontainers.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n            &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;${postgresql.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Nor in my application.properties</p>\n<pre><code>spring.datasource.password=postgres\nspring.datasource.username=postgres\nspring.datasource.driver-class-name=org.testcontainers.jdbc.ContainerDatabaseDriver\nspring.datasource.url=jdbc:tc:postgresql:12:///\n\nspring.jpa.hibernate.ddl-auto = update\n\nspring.jpa.show-sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type=TRACE\n</code></pre>\n<p>The issue clearly comes from the fact that the collection is empty.\nI've therefore tried to update the query to :\n<code>WHERE (COALESCE(:workspaceIds,NULL) IS NULL OR :#{#workspaceIds.size()} = 0 OR ws.id IN (:workspaceIds) ) </code></p>\n<p>The test shouldReturnEmptyForNullParameter then fails with the following exception :</p>\n<pre><code>org.springframework.expression.spel.SpelEvaluationException: EL1011E: Method call: Attempted to call method size() on null context object\n\n    at org.springframework.expression.spel.ast.MethodReference.throwIfNotNullSafe(MethodReference.java:154)\n    at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:83)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:70)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:91)\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117)\n</code></pre>\n<p>Am I missing something?</p>\n<p>Thank you for you help.</p>\n"},{"tags":["java","eclipse","serversocket"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":1,"creation_date":1673381209,"post_id":75075250,"comment_id":132484864,"body_markdown":"Fix your indentation (or get your editor/IDE to do it for you).","body":"Fix your indentation (or get your editor/IDE to do it for you)."},{"owner":{"account_id":25176628,"reputation":31,"user_id":19018731,"display_name":"Simone Sarugia"},"score":0,"creation_date":1673381403,"post_id":75075250,"comment_id":132484919,"body_markdown":"How can i do it?","body":"How can i do it?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1673381762,"post_id":75075250,"comment_id":132485036,"body_markdown":"There should be another `}` at the end. If your code was properly indented, this would be glaringly obvious.","body":"There should be another <code>}</code> at the end. If your code was properly indented, this would be glaringly obvious."},{"owner":{"account_id":25176628,"reputation":31,"user_id":19018731,"display_name":"Simone Sarugia"},"score":0,"creation_date":1673384718,"post_id":75075250,"comment_id":132485896,"body_markdown":"Ok now it works but there is an error: &quot;Unhandled exception type IOException at this line: &quot;stringaRicevuta=inDalClient.readLine();&quot;... why this?","body":"Ok now it works but there is an error: &quot;Unhandled exception type IOException at this line: &quot;stringaRicevuta=inDalClient.readLine();&quot;... why this?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1673393860,"post_id":75075250,"comment_id":132488051,"body_markdown":"The method being called can throw an IOException, and you are not catching or otherwise handling it.","body":"The method being called can throw an IOException, and you are not catching or otherwise handling it."}],"owner":{"account_id":25176628,"reputation":31,"user_id":19018731,"display_name":"Simone Sarugia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673419722,"creation_date":1673380980,"question_id":75075250,"body_markdown":"I&#39;ve tried to develop this Server in Java with Eclipse, but when I run it says me this error: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n    Syntax error, insert &quot;}&quot; to complete ClassBody\r\n\r\nI don&#39;t understand where I should insert this &quot;}&quot; because I&#39;ve just tried to close the class with &quot;};&quot; but it persists... thanks in advance!\r\n\r\nThis is the code: \r\n\r\n```java\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.*;\r\n\r\npublic class ServerStr {\r\n    ServerSocket server = null;\r\n    Socket client = null;\r\n    String stringaRicevuta = null;\r\n    String stringaModificata = null; \r\n    BufferedReader inDalClient;\r\n    DataOutputStream outVersoClient; \r\n\r\n    public Socket attendi() {\r\n        try {\r\n            System.out.println(&quot;1 SERVER partito in esecuzione..partito.&quot;);\r\n            server = new ServerSocket(6789);\r\n            client = server.accept();\r\n            server.close();\r\n            inDalClient = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n            outVersoClient = new DataOutputStream(client.getOutputStream());\r\n        }\r\n        catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n            System.out.println(&quot;Errore durante l&#39;istanza del server&quot;);\r\n            System.exit(1);\r\n        }\r\n        return client;\r\n    }\r\n\r\n    public void comunica() {\r\n        try {\r\n            System.out.println(&quot;3 benvenuto client, scrivi una frase e la trasformo in maiuscolo. Attendo...&quot;);\r\n            stringaRicevuta = inDalClient.readLine();\r\n            System.out.println(&quot; e ricevuta la stringa dal cliente&quot; + stringaRicevuta);\r\n            stringaModificata = stringaRicevuta.toUpperCase();\r\n            System.out.println(&quot; invio la stringa modificata al client...&quot;);\r\n            outVersoClient.writeBytes(stringaModificata + &#39;\\n&#39;);\r\n            System.out.println(&quot;9 SERVER: fine elaborazione... buonanotte!&quot;);\r\n            client.close();\r\n        }\r\n        finally {\r\n        }\r\n    };\r\n\r\n    public static void main(String args[]) {\r\n        ServerStr servente = new ServerStr();\r\n        servente.attendi();\r\n        servente.comunica();\r\n    }\r\n```\r\n","title":"Problem with Server Class Socket in JAVA [Eclipse]","body":"<p>I've tried to develop this Server in Java with Eclipse, but when I run it says me this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \nSyntax error, insert &quot;}&quot; to complete ClassBody\n</code></pre>\n<p>I don't understand where I should insert this &quot;}&quot; because I've just tried to close the class with &quot;};&quot; but it persists... thanks in advance!</p>\n<p>This is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.net.*;\nimport java.util.*;\n\npublic class ServerStr {\n    ServerSocket server = null;\n    Socket client = null;\n    String stringaRicevuta = null;\n    String stringaModificata = null; \n    BufferedReader inDalClient;\n    DataOutputStream outVersoClient; \n\n    public Socket attendi() {\n        try {\n            System.out.println(&quot;1 SERVER partito in esecuzione..partito.&quot;);\n            server = new ServerSocket(6789);\n            client = server.accept();\n            server.close();\n            inDalClient = new BufferedReader(new InputStreamReader(client.getInputStream()));\n            outVersoClient = new DataOutputStream(client.getOutputStream());\n        }\n        catch (Exception e) {\n            System.out.println(e.getMessage());\n            System.out.println(&quot;Errore durante l'istanza del server&quot;);\n            System.exit(1);\n        }\n        return client;\n    }\n\n    public void comunica() {\n        try {\n            System.out.println(&quot;3 benvenuto client, scrivi una frase e la trasformo in maiuscolo. Attendo...&quot;);\n            stringaRicevuta = inDalClient.readLine();\n            System.out.println(&quot; e ricevuta la stringa dal cliente&quot; + stringaRicevuta);\n            stringaModificata = stringaRicevuta.toUpperCase();\n            System.out.println(&quot; invio la stringa modificata al client...&quot;);\n            outVersoClient.writeBytes(stringaModificata + '\\n');\n            System.out.println(&quot;9 SERVER: fine elaborazione... buonanotte!&quot;);\n            client.close();\n        }\n        finally {\n        }\n    };\n\n    public static void main(String args[]) {\n        ServerStr servente = new ServerStr();\n        servente.attendi();\n        servente.comunica();\n    }\n</code></pre>\n"},{"tags":["java","angularjs","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"score":0,"creation_date":1508299525,"post_id":46802053,"comment_id":80551947,"body_markdown":"Please show your project structure for Backend and Frontend","body":"Please show your project structure for Backend and Frontend"},{"owner":{"account_id":6907232,"reputation":561,"user_id":5304595,"accept_rate":50,"display_name":"LogronJ"},"score":0,"creation_date":1508300580,"post_id":46802053,"comment_id":80552177,"body_markdown":"i added the image for the project structure, can you see it now?","body":"i added the image for the project structure, can you see it now?"},{"owner":{"account_id":7728234,"reputation":540,"user_id":5852226,"display_name":"Sukma Wardana"},"score":0,"creation_date":1508301531,"post_id":46802053,"comment_id":80552425,"body_markdown":"Try to put all your static files (css, js) on directory `src/main/resources/static`","body":"Try to put all your static files (css, js) on directory <code>src&#47;main&#47;resources&#47;static</code>"},{"owner":{"account_id":6907232,"reputation":561,"user_id":5304595,"accept_rate":50,"display_name":"LogronJ"},"score":0,"creation_date":1508301845,"post_id":46802053,"comment_id":80552530,"body_markdown":"@SukmaWardana still the same error. How can i send here my full project if you want","body":"@SukmaWardana still the same error. How can i send here my full project if you want"},{"owner":{"account_id":7728234,"reputation":540,"user_id":5852226,"display_name":"Sukma Wardana"},"score":0,"creation_date":1508302367,"post_id":46802053,"comment_id":80552653,"body_markdown":"Actually I&#39;m not have much experience with spring-boot, but try check this one: https://stackoverflow.com/a/22951140/5852226 hope it can help","body":"Actually I&#39;m not have much experience with spring-boot, but try check this one: <a href=\"https://stackoverflow.com/a/22951140/5852226\">stackoverflow.com/a/22951140/5852226</a> hope it can help"}],"answers":[{"tags":[],"owner":{"account_id":6907232,"reputation":561,"user_id":5304595,"accept_rate":50,"display_name":"LogronJ"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1513007674,"creation_date":1508305355,"answer_id":46803493,"question_id":46802053,"body_markdown":"The problem was the full source path for the angular scripts. \r\n\r\nI&#39;ve changed it out into like this:\r\n\r\n    &lt;script src=&quot;angular.js&quot;&quot;&gt;&lt;/script&gt;\r\n  \t&lt;script src =&quot;angular-route.min.js&quot;&gt;&lt;/script&gt;\r\n   \t&lt;script src=&quot;app.js&quot;&gt;&lt;/script&gt;\r\n   \t&lt;script src = &quot;HomeController.js&quot;&gt;&lt;/script&gt;\r\n   \t&lt;script src =&quot;HomeService.js&quot; &gt;&lt;/script&gt;","title":"GET angular.js files net::ERR_ABORTED","body":"<p>The problem was the full source path for the angular scripts. </p>\n\n<p>I've changed it out into like this:</p>\n\n<pre><code>&lt;script src=\"angular.js\"\"&gt;&lt;/script&gt;\n&lt;script src =\"angular-route.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"app.js\"&gt;&lt;/script&gt;\n&lt;script src = \"HomeController.js\"&gt;&lt;/script&gt;\n&lt;script src =\"HomeService.js\" &gt;&lt;/script&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6794480,"reputation":41,"user_id":5230349,"display_name":"Bhushan Dafale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515493495,"creation_date":1515493495,"answer_id":48166056,"question_id":46802053,"body_markdown":"try to add following line in your spring-mvc.xml (may be diff. name in your project), and change your location folder name (if its not resources, in my condition its resources)\r\n\r\nspring-mvc.xml\r\n\r\n    &lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; cache-period=&quot;31556926&quot;/&gt;\r\n\r\n*.jsp\r\n\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;${ pageContext.request.contextPath }/resources/script/angular.js&quot;&gt;&lt;/script&gt;\r\n\r\nif already added, please check that you&#39;ve added cache-period\r\n\r\n\r\n\r\n","title":"GET angular.js files net::ERR_ABORTED","body":"<p>try to add following line in your spring-mvc.xml (may be diff. name in your project), and change your location folder name (if its not resources, in my condition its resources)</p>\n\n<p>spring-mvc.xml</p>\n\n<pre><code>&lt;mvc:resources mapping=\"/resources/**\" location=\"/resources/\" cache-period=\"31556926\"/&gt;\n</code></pre>\n\n<p>*.jsp</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"${ pageContext.request.contextPath }/resources/script/angular.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>if already added, please check that you've added cache-period</p>\n"},{"tags":[],"owner":{"account_id":347921,"reputation":1004,"user_id":682321,"accept_rate":50,"display_name":"MFarooqi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515771027,"creation_date":1515771027,"answer_id":48229305,"question_id":46802053,"body_markdown":"I had the same issue. But I thought.. if the same website is working on the other server why isn&#39;t on my server.. So.. what i did..\r\n\r\nI tried to directly access to that page. using URL..\r\n\r\nhttps://localhost:8080/folder/folder/script.js \r\n\r\nhttps://localhost:8080/folder/folder/style.css\r\n\r\nEvery time i was unable to access those files.\r\n\r\n\r\nThen I checked folder permission .. that was 700 so i changed that to 755.. \r\n\r\nnow. everything is running great :) \r\n\r\n","title":"GET angular.js files net::ERR_ABORTED","body":"<p>I had the same issue. But I thought.. if the same website is working on the other server why isn't on my server.. So.. what i did..</p>\n\n<p>I tried to directly access to that page. using URL..</p>\n\n<p><a href=\"https://localhost:8080/folder/folder/script.js\" rel=\"nofollow noreferrer\">https://localhost:8080/folder/folder/script.js</a> </p>\n\n<p><a href=\"https://localhost:8080/folder/folder/style.css\" rel=\"nofollow noreferrer\">https://localhost:8080/folder/folder/style.css</a></p>\n\n<p>Every time i was unable to access those files.</p>\n\n<p>Then I checked folder permission .. that was 700 so i changed that to 755.. </p>\n\n<p>now. everything is running great :) </p>\n"},{"tags":[],"owner":{"account_id":5900187,"reputation":9,"user_id":4643973,"display_name":"Dhiraj Belure"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1548320997,"creation_date":1548320997,"answer_id":54342914,"question_id":46802053,"body_markdown":"    &lt;script src=&quot;/src/main/resources/scripts/angular.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src =&quot;/src/main/resources/scripts/angular-route.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;/src/main/resources/app.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src = &quot;/src/main/resources/HomeController.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src =&quot;/src/main/resources/HomeService.js&quot; &gt;&lt;/script&gt;\r\n\r\nYou need forward slash before src attribute in a script to remove &quot;net:: ERR_ABORTED&quot;\r\n","title":"GET angular.js files net::ERR_ABORTED","body":"<pre><code>&lt;script src=\"/src/main/resources/scripts/angular.min.js\"&gt;&lt;/script&gt;\n&lt;script src =\"/src/main/resources/scripts/angular-route.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/src/main/resources/app.js\"&gt;&lt;/script&gt;\n&lt;script src = \"/src/main/resources/HomeController.js\"&gt;&lt;/script&gt;\n&lt;script src =\"/src/main/resources/HomeService.js\" &gt;&lt;/script&gt;\n</code></pre>\n\n<p>You need forward slash before src attribute in a script to remove \"net:: ERR_ABORTED\"</p>\n"}],"owner":{"account_id":6907232,"reputation":561,"user_id":5304595,"accept_rate":50,"display_name":"LogronJ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34398,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46803493,"answer_count":4,"score":5,"last_activity_date":1673419582,"creation_date":1508294965,"question_id":46802053,"body_markdown":"I need your help to find out where&#39;s my error. I am using springboot(backend) x Angularjs(frontend). I get a GET (angular.js) files net::ERR_ABORTED when trying to load localhost:8080. I don&#39;t find any mistake on my angularfiles either. So here is my codes:\r\n\r\n    //for the springcontroller\r\n    \r\n    @RestController\r\n    public class EmployeeController {\r\n    \t\r\n    \t@Autowired\r\n    \tEmployeeService es;\r\n    \t\r\n    \t@RequestMapping(method=RequestMethod.GET,value=&quot;/employees&quot;)\r\n    \tpublic List&lt;Employee&gt; getAllEmployees(){\r\n    \t\treturn es.getAllEmployees();\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(method=RequestMethod.GET,value=&quot;/employees/{name}&quot;)\r\n    \tpublic Employee getEmployee(@PathVariable String name){\r\n    \t\treturn es.getEmployee(name);\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(method=RequestMethod.POST,value=&quot;/employees&quot;)\r\n    \tpublic void addEmployee(@RequestBody Employee emp){\r\n    \t\tes.addEmployee(emp);\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(method=RequestMethod.PUT,value=&quot;/employees/{name}&quot;)\r\n    \tpublic void updateEmployee(@RequestBody Employee emp,@PathVariable String name){\r\n    \t\tes.updateEmployee(emp,name);\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(method=RequestMethod.DELETE,value=&quot;/employees/{name}&quot;)\r\n    \tpublic void deleteEmployee(@PathVariable String name){\r\n    \t\tes.deleteEmployee(name);\r\n    \t}\r\n    }\r\n\r\nFor my app.js:\r\n\r\n    (function(){\r\n    \t&#39;use strict&#39;;\r\n    \tvar app = angular.module(&#39;myApp&#39;,[&#39;ngRoute&#39;,&#39;myApp.controller&#39;]);\r\n    \r\n    \tapp.config(function($routeProvider) {\r\n    \t\t$routeProvider\r\n    \t\t.when(&#39;/&#39;, {\r\n    \t\t\ttemplateUrl: &#39;index.html&#39;,\r\n    \t\t\tcontroller: &#39;HomeController&#39;\r\n    \t\t});\r\n    \t});\r\n    \t\r\n    })();\r\n\r\nFor my HomeController.js\r\n\r\n    var module = angular.module(&#39;myApp.controller&#39;,[&#39;myApp.service&#39;]);\r\n    module.controller(&#39;HomeController&#39;,[&#39;$scope&#39;,&#39;HomeService&#39;,\r\n        function($scope,HomeService){\r\n            $scope.EmpData = [];\r\n    \r\n            var onSuccess = function(response){\r\n                $scope.EmpData = response.data;\r\n            };\r\n    \r\n            var onError = function(error){\r\n                console.log(&#39;Error fetching data...&#39;);\r\n            };\r\n    \r\n            function getAllEmployees(){\r\n                HomeService.getAllEmployees().then(onSuccess,onError)\r\n            };\r\n       } //end of function\r\n    \r\n    ]);\r\n\r\nFor my HomeService.js\r\n\r\n    var module = angular.module(&#39;myApp.service&#39;,[]);\r\n    module.service(&#39;HomeService&#39;,[&#39;$http&#39;,function($http){\r\n            function doFetchEmployees(){\r\n                var response = $http.get(&quot;/employees&quot;);\r\n                return response;\r\n            };\r\n            return{\r\n               getAllEmployees : function(){\r\n                   return doFetchEmployees();\r\n            }\r\n        };\r\n    \r\n        }]);\r\n\r\nAnd finally for my index.html\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    \t&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n    \t\r\n    \t&lt;script src=&quot;src/main/resources/scripts/angular.min.js&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script src =&quot;src/main/resources/scripts/angular-route.min.js&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script src=&quot;src/main/resources/app.js&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script src = &quot;src/main/resources/HomeController.js&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script src =&quot;src/main/resources/HomeService.js&quot; &gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body ng-app=&quot;myApp&quot; ng-controller=&quot;HomeController&quot;&gt;\r\n    \t&lt;h2&gt;Home&lt;/h2&gt;\r\n    \t&lt;br/&gt;\r\n    \t&lt;a href=&quot;#/index.html&quot;&gt;Home&lt;/a&gt;\r\n    \t&lt;br/&gt;\r\n    \t&lt;table&gt;\r\n    \t&lt;thead&gt;\r\n    \t&lt;tr&gt;\r\n    \t\t&lt;th&gt;Name&lt;/th&gt;\r\n    \t\t&lt;th&gt;Email&lt;/th&gt;\r\n    \t\t&lt;th&gt;Address&lt;/th&gt;\r\n    \t\t&lt;th&gt;telephone&lt;/th&gt;\r\n    \t&lt;/tr&gt;\r\n    \t&lt;/thead&gt;\r\n    \t&lt;tbody ng-repeat=&quot;emp in EmpData&quot;&gt;\r\n    \t\t&lt;tr&gt;\r\n    \t\t&lt;td&gt;{{emp.name}}&lt;/td&gt;\r\n    \t\t&lt;td&gt;{{emp.email}}&lt;/td&gt;\r\n    \t\t&lt;td&gt;{{emp.address}}&lt;/td&gt;\r\n    \t\t&lt;td&gt;{{emp.telephone}}&lt;/td&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t&lt;/tbody&gt;\r\n    \t&lt;/table&gt;\r\n    \t\r\n    \t&lt;br/&gt;\r\n    \t&lt;a href=&quot;http://localhost:8080/adduser.html&quot;&gt;Create User&lt;/a&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAnd here are all my error message:\r\n\r\n    GET http://localhost:8080/src/main/resources/scripts/angular-route.min.js net::ERR_ABORTED\r\n    localhost/:7 GET http://localhost:8080/src/main/resources/app.js net::ERR_ABORTED\r\n    localhost/:5 GET http://localhost:8080/src/main/resources/scripts/angular.min.js net::ERR_ABORTED\r\n    localhost/:8 GET http://localhost:8080/src/main/resources/HomeController.js net::ERR_ABORTED\r\n    localhost/:9 GET http://localhost:8080/src/main/resources/HomeService.js net::ERR_ABORTED\r\n    localhost/:6 GET http://localhost:8080/src/main/resources/scripts/angular-route.min.js net::ERR_ABORTED\r\n    localhost/:7 GET http://localhost:8080/src/main/resources/app.js net::ERR_ABORTED\r\n    localhost/:8 GET http://localhost:8080/src/main/resources/HomeController.js net::ERR_ABORTED\r\n    localhost/:9 GET http://localhost:8080/src/main/resources/HomeService.js net::ERR_ABORTED\r\n\r\nMy index.html has no output just {{emp.names}} -&gt; like this.\r\nI already tried putting the script tags inside the body but still the same. Hard cache reload &amp; clear. still no luck.\r\nAnd Lastly when i try access localhost:8080 my eclipse console logs shows these 3 lines, is this also some cause of the error?\r\n\r\n    2017-10-18 10:31:22.115  INFO 9176 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n    2017-10-18 10:31:22.115  INFO 9176 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2017-10-18 10:31:22.127  INFO 9176 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 12 ms\r\n\r\nI&#39;m having a hard time trying to figure this out.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qs1LP.png","title":"GET angular.js files net::ERR_ABORTED","body":"<p>I need your help to find out where's my error. I am using springboot(backend) x Angularjs(frontend). I get a GET (angular.js) files net::ERR_ABORTED when trying to load localhost:8080. I don't find any mistake on my angularfiles either. So here is my codes:</p>\n<pre><code>//for the springcontroller\n\n@RestController\npublic class EmployeeController {\n    \n    @Autowired\n    EmployeeService es;\n    \n    @RequestMapping(method=RequestMethod.GET,value=&quot;/employees&quot;)\n    public List&lt;Employee&gt; getAllEmployees(){\n        return es.getAllEmployees();\n    }\n    \n    @RequestMapping(method=RequestMethod.GET,value=&quot;/employees/{name}&quot;)\n    public Employee getEmployee(@PathVariable String name){\n        return es.getEmployee(name);\n    }\n    \n    @RequestMapping(method=RequestMethod.POST,value=&quot;/employees&quot;)\n    public void addEmployee(@RequestBody Employee emp){\n        es.addEmployee(emp);\n    }\n    \n    @RequestMapping(method=RequestMethod.PUT,value=&quot;/employees/{name}&quot;)\n    public void updateEmployee(@RequestBody Employee emp,@PathVariable String name){\n        es.updateEmployee(emp,name);\n    }\n    \n    @RequestMapping(method=RequestMethod.DELETE,value=&quot;/employees/{name}&quot;)\n    public void deleteEmployee(@PathVariable String name){\n        es.deleteEmployee(name);\n    }\n}\n</code></pre>\n<p>For my app.js:</p>\n<pre><code>(function(){\n    'use strict';\n    var app = angular.module('myApp',['ngRoute','myApp.controller']);\n\n    app.config(function($routeProvider) {\n        $routeProvider\n        .when('/', {\n            templateUrl: 'index.html',\n            controller: 'HomeController'\n        });\n    });\n    \n})();\n</code></pre>\n<p>For my HomeController.js</p>\n<pre><code>var module = angular.module('myApp.controller',['myApp.service']);\nmodule.controller('HomeController',['$scope','HomeService',\n    function($scope,HomeService){\n        $scope.EmpData = [];\n\n        var onSuccess = function(response){\n            $scope.EmpData = response.data;\n        };\n\n        var onError = function(error){\n            console.log('Error fetching data...');\n        };\n\n        function getAllEmployees(){\n            HomeService.getAllEmployees().then(onSuccess,onError)\n        };\n   } //end of function\n\n]);\n</code></pre>\n<p>For my HomeService.js</p>\n<pre><code>var module = angular.module('myApp.service',[]);\nmodule.service('HomeService',['$http',function($http){\n        function doFetchEmployees(){\n            var response = $http.get(&quot;/employees&quot;);\n            return response;\n        };\n        return{\n           getAllEmployees : function(){\n               return doFetchEmployees();\n        }\n    };\n\n    }]);\n</code></pre>\n<p>And finally for my index.html</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n    \n    &lt;script src=&quot;src/main/resources/scripts/angular.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src =&quot;src/main/resources/scripts/angular-route.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;src/main/resources/app.js&quot;&gt;&lt;/script&gt;\n    &lt;script src = &quot;src/main/resources/HomeController.js&quot;&gt;&lt;/script&gt;\n    &lt;script src =&quot;src/main/resources/HomeService.js&quot; &gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body ng-app=&quot;myApp&quot; ng-controller=&quot;HomeController&quot;&gt;\n    &lt;h2&gt;Home&lt;/h2&gt;\n    &lt;br/&gt;\n    &lt;a href=&quot;#/index.html&quot;&gt;Home&lt;/a&gt;\n    &lt;br/&gt;\n    &lt;table&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n        &lt;th&gt;Email&lt;/th&gt;\n        &lt;th&gt;Address&lt;/th&gt;\n        &lt;th&gt;telephone&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody ng-repeat=&quot;emp in EmpData&quot;&gt;\n        &lt;tr&gt;\n        &lt;td&gt;{{emp.name}}&lt;/td&gt;\n        &lt;td&gt;{{emp.email}}&lt;/td&gt;\n        &lt;td&gt;{{emp.address}}&lt;/td&gt;\n        &lt;td&gt;{{emp.telephone}}&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n    &lt;/table&gt;\n    \n    &lt;br/&gt;\n    &lt;a href=&quot;http://localhost:8080/adduser.html&quot;&gt;Create User&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And here are all my error message:</p>\n<pre><code>GET http://localhost:8080/src/main/resources/scripts/angular-route.min.js net::ERR_ABORTED\nlocalhost/:7 GET http://localhost:8080/src/main/resources/app.js net::ERR_ABORTED\nlocalhost/:5 GET http://localhost:8080/src/main/resources/scripts/angular.min.js net::ERR_ABORTED\nlocalhost/:8 GET http://localhost:8080/src/main/resources/HomeController.js net::ERR_ABORTED\nlocalhost/:9 GET http://localhost:8080/src/main/resources/HomeService.js net::ERR_ABORTED\nlocalhost/:6 GET http://localhost:8080/src/main/resources/scripts/angular-route.min.js net::ERR_ABORTED\nlocalhost/:7 GET http://localhost:8080/src/main/resources/app.js net::ERR_ABORTED\nlocalhost/:8 GET http://localhost:8080/src/main/resources/HomeController.js net::ERR_ABORTED\nlocalhost/:9 GET http://localhost:8080/src/main/resources/HomeService.js net::ERR_ABORTED\n</code></pre>\n<p>My index.html has no output just {{emp.names}} -&gt; like this.\nI already tried putting the script tags inside the body but still the same. Hard cache reload &amp; clear. still no luck.\nAnd Lastly when i try access localhost:8080 my eclipse console logs shows these 3 lines, is this also some cause of the error?</p>\n<pre><code>2017-10-18 10:31:22.115  INFO 9176 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2017-10-18 10:31:22.115  INFO 9176 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2017-10-18 10:31:22.127  INFO 9176 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 12 ms\n</code></pre>\n<p>I'm having a hard time trying to figure this out.</p>\n<p><img src=\"https://i.stack.imgur.com/Qs1LP.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":5477121,"reputation":245,"user_id":4402533,"accept_rate":90,"display_name":"Pramod Yadav"},"score":0,"creation_date":1504106845,"post_id":45964215,"comment_id":78887496,"body_markdown":"you can so this with some logic also, like setText(&quot;************&quot;+data.substring(11));\n\ndata is the variable that containing your data","body":"you can so this with some logic also, like setText(&quot;************&quot;+data.substring(11));  data is the variable that containing your data"}],"answers":[{"tags":[],"owner":{"account_id":3944216,"reputation":1346,"user_id":3257513,"accept_rate":92,"display_name":"Yoni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504106763,"creation_date":1504106763,"answer_id":45964319,"question_id":45964215,"body_markdown":"\r\n    String string = &quot;1234567890&quot;;\r\n    if(string .length() &gt; 4){\r\n    string .substring(string .length() - 4)\r\n    }\r\n    tv.setText(string);\r\n\r\noutput: 7890","title":"How to make Textview will only show the last 4 digits numbers","body":"<pre><code>String string = \"1234567890\";\nif(string .length() &gt; 4){\nstring .substring(string .length() - 4)\n}\ntv.setText(string);\n</code></pre>\n\n<p>output: 7890</p>\n"},{"tags":[],"owner":{"account_id":6786761,"reputation":2068,"user_id":5225247,"accept_rate":46,"display_name":"Aalap Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504107211,"creation_date":1504107211,"answer_id":45964477,"question_id":45964215,"body_markdown":"You can hard code `&quot;*&quot;` in the beginning and extract last 4 digits of credit card num from sqlite and display on text view.\r\n\r\n    String lastFourDigits = extractLastFourDigits(); //I assume you get this\r\n    myTextView.setText(&quot;**** **** **** &quot;+lastFourDigits);","title":"How to make Textview will only show the last 4 digits numbers","body":"<p>You can hard code <code>\"*\"</code> in the beginning and extract last 4 digits of credit card num from sqlite and display on text view.</p>\n\n<pre><code>String lastFourDigits = extractLastFourDigits(); //I assume you get this\nmyTextView.setText(\"**** **** **** \"+lastFourDigits);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11174172,"reputation":2786,"user_id":8200290,"accept_rate":56,"display_name":"letsCode"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1504107214,"creation_date":1504107214,"answer_id":45964479,"question_id":45964215,"body_markdown":"\t\tString number = &quot;grou353fp23g3qprwog9512&quot;;\r\n\t\tString mask = number.replaceAll(&quot;\\\\w(?=\\\\w{4})&quot;, &quot;*&quot;);\r\n\t\t\r\n\t\ttextView.setText(mask);\r\n\r\nOutput is *******************9512\r\n","title":"How to make Textview will only show the last 4 digits numbers","body":"<pre><code>    String number = \"grou353fp23g3qprwog9512\";\n    String mask = number.replaceAll(\"\\\\w(?=\\\\w{4})\", \"*\");\n\n    textView.setText(mask);\n</code></pre>\n\n<p>Output is *******************9512</p>\n"},{"tags":[],"owner":{"account_id":11658391,"reputation":80,"user_id":8537453,"display_name":"user8537453"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504107415,"creation_date":1504107415,"answer_id":45964554,"question_id":45964215,"body_markdown":"    public static String padLeading*(String data, int requiredLength){\r\n    \t\tStringBuffer sb = new StringBuffer();\r\n    \r\n    \t\tif(data .length() &gt; 4){\r\n    data .substring(data .length() - 4)\r\n    }\r\n    \t\t\r\n    \t\tint numLeading* = requiredLength - data.length();\r\n    \t\tfor (int i=0; i &lt; numLeading*; i++){\r\n    \t\t\tsb.append(&quot;*&quot;);\r\n    \t\t}\r\n    \t\tsb.append(data);\r\n    \t\treturn sb.toString();\r\n    \t}\r\n\r\nAdvantage of this method is that you could vary the number of * as required.  Or to make it simpler could determine the last four characters of the string, pass it in and take:\r\n\r\n    if(data .length() &gt; 4){\r\n        data .substring(data .length() - 4)\r\n        }\r\n\r\nout of this method.","title":"How to make Textview will only show the last 4 digits numbers","body":"<pre><code>public static String padLeading*(String data, int requiredLength){\n        StringBuffer sb = new StringBuffer();\n\n        if(data .length() &gt; 4){\ndata .substring(data .length() - 4)\n}\n\n        int numLeading* = requiredLength - data.length();\n        for (int i=0; i &lt; numLeading*; i++){\n            sb.append(\"*\");\n        }\n        sb.append(data);\n        return sb.toString();\n    }\n</code></pre>\n\n<p>Advantage of this method is that you could vary the number of * as required.  Or to make it simpler could determine the last four characters of the string, pass it in and take:</p>\n\n<pre><code>if(data .length() &gt; 4){\n    data .substring(data .length() - 4)\n    }\n</code></pre>\n\n<p>out of this method.</p>\n"},{"tags":[],"owner":{"account_id":217877,"reputation":1875,"user_id":473902,"accept_rate":81,"display_name":"Ge3ng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504107543,"creation_date":1504107543,"answer_id":45964593,"question_id":45964215,"body_markdown":"You want to use a [TransformationMethod][1]\r\nYou can use the source of [PasswordTransformationMethod][2] as a guide so you don&#39;t lose the original string.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/text/method/TransformationMethod.html\r\n  [2]: https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/text/method/PasswordTransformationMethod.java","title":"How to make Textview will only show the last 4 digits numbers","body":"<p>You want to use a <a href=\"https://developer.android.com/reference/android/text/method/TransformationMethod.html\" rel=\"nofollow noreferrer\">TransformationMethod</a>\nYou can use the source of <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/text/method/PasswordTransformationMethod.java\" rel=\"nofollow noreferrer\">PasswordTransformationMethod</a> as a guide so you don't lose the original string.</p>\n"},{"tags":[],"owner":{"account_id":1797509,"reputation":2459,"user_id":1636610,"accept_rate":20,"display_name":"AbhinayMe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543250998,"creation_date":1543250998,"answer_id":53485648,"question_id":45964215,"body_markdown":"Here you go. Clean and reusable:\r\n\r\n    /**\r\n     * Applies the specified mask to the card number.\r\n     *\r\n     * @param cardNumber The card number in plain format\r\n     * @param mask The number mask pattern. Use # to include a digit from the\r\n     * card number at that position, use x to skip the digit at that position\r\n     *\r\n     * @return The masked card number\r\n     */\r\n    public static String maskCardNumber(String cardNumber, String mask) {\r\n    \r\n        // format the number\r\n        int index = 0;\r\n        StringBuilder maskedNumber = new StringBuilder();\r\n        for (int i = 0; i &lt; mask.length(); i++) {\r\n            char c = mask.charAt(i);\r\n            if (c == &#39;#&#39;) {\r\n                maskedNumber.append(cardNumber.charAt(index));\r\n                index++;\r\n            } else if (c == &#39;x&#39;) {\r\n                maskedNumber.append(c);\r\n                index++;\r\n            } else {\r\n                maskedNumber.append(c);\r\n            }\r\n        }\r\n    \r\n        // return the masked number\r\n        return maskedNumber.toString();\r\n    }\r\n\r\nSample Calls:\r\n\r\n    System.out.println(maskCardNumber(&quot;1234123412341234&quot;, &quot;xxxx-xxxx-xxxx-####&quot;));\r\n    &gt; xxxx-xxxx-xxxx-1234\r\n    \r\n    System.out.println(maskCardNumber(&quot;1234123412341234&quot;, &quot;##xx-xxxx-xxxx-xx##&quot;));\r\n    &gt; 12xx-xxxx-xxxx-xx34","title":"How to make Textview will only show the last 4 digits numbers","body":"<p>Here you go. Clean and reusable:</p>\n\n<pre><code>/**\n * Applies the specified mask to the card number.\n *\n * @param cardNumber The card number in plain format\n * @param mask The number mask pattern. Use # to include a digit from the\n * card number at that position, use x to skip the digit at that position\n *\n * @return The masked card number\n */\npublic static String maskCardNumber(String cardNumber, String mask) {\n\n    // format the number\n    int index = 0;\n    StringBuilder maskedNumber = new StringBuilder();\n    for (int i = 0; i &lt; mask.length(); i++) {\n        char c = mask.charAt(i);\n        if (c == '#') {\n            maskedNumber.append(cardNumber.charAt(index));\n            index++;\n        } else if (c == 'x') {\n            maskedNumber.append(c);\n            index++;\n        } else {\n            maskedNumber.append(c);\n        }\n    }\n\n    // return the masked number\n    return maskedNumber.toString();\n}\n</code></pre>\n\n<p>Sample Calls:</p>\n\n<pre><code>System.out.println(maskCardNumber(\"1234123412341234\", \"xxxx-xxxx-xxxx-####\"));\n&gt; xxxx-xxxx-xxxx-1234\n\nSystem.out.println(maskCardNumber(\"1234123412341234\", \"##xx-xxxx-xxxx-xx##\"));\n&gt; 12xx-xxxx-xxxx-xx34\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3108406,"reputation":1530,"user_id":2630728,"accept_rate":56,"display_name":"Viks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631072762,"creation_date":1631072762,"answer_id":69096747,"question_id":45964215,"body_markdown":"**Kotlin solution**\r\n\r\n    acNumber.replace(&quot;\\\\w(?=\\\\w{4})&quot;.toRegex(),&quot;*&quot;)","title":"How to make Textview will only show the last 4 digits numbers","body":"<p><strong>Kotlin solution</strong></p>\n<pre><code>acNumber.replace(&quot;\\\\w(?=\\\\w{4})&quot;.toRegex(),&quot;*&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25236100,"reputation":9,"user_id":19070589,"display_name":"Arslan Riaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652817418,"creation_date":1652817381,"answer_id":72279961,"question_id":45964215,"body_markdown":"stringData.replaceRange(0, stringData.length - 2, &quot;*&quot;)\r\n\r\nI hope it will work","title":"How to make Textview will only show the last 4 digits numbers","body":"<p>stringData.replaceRange(0, stringData.length - 2, &quot;*&quot;)</p>\n<p>I hope it will work</p>\n"}],"owner":{"account_id":11660152,"reputation":65,"user_id":8538723,"display_name":"Xuezheng Low"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9752,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":45964479,"answer_count":8,"score":6,"last_activity_date":1673419531,"creation_date":1504106442,"question_id":45964215,"body_markdown":"My Textview is getting the data from SQLite, but I want to make Textview to show as follows:&lt;BR&gt;************1234, instead of 1234123412341234.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x6g8x.png","title":"How to make Textview will only show the last 4 digits numbers","body":"<p>My Textview is getting the data from SQLite, but I want to make Textview to show as follows:<BR>************1234, instead of 1234123412341234.</p>\n<p><img src=\"https://i.stack.imgur.com/x6g8x.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","maven","jar","micronaut"],"comments":[{"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"score":0,"creation_date":1664372910,"post_id":73880524,"comment_id":130456914,"body_markdown":"Micronaut Application projects created with Micronaut Launch or CLI don&#39;t create a jar file named `jar-with-dependencies`. See https://guides.micronaut.io/latest/creating-your-first-micronaut-app-maven-java.html for an example of creating an application with Launch or CLI. Most of the Micronaut guides have Maven examples (https://guides.micronaut.io/latest/index.html).","body":"Micronaut Application projects created with Micronaut Launch or CLI don&#39;t create a jar file named <code>jar-with-dependencies</code>. See <a href=\"https://guides.micronaut.io/latest/creating-your-first-micronaut-app-maven-java.html\" rel=\"nofollow noreferrer\">guides.micronaut.io/latest/&hellip;</a> for an example of creating an application with Launch or CLI. Most of the Micronaut guides have Maven examples (<a href=\"https://guides.micronaut.io/latest/index.html\" rel=\"nofollow noreferrer\">guides.micronaut.io/latest/index.html</a>)."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1665065003,"post_id":73880524,"comment_id":130615971,"body_markdown":"&quot;Micronaut Application projects created with Micronaut Launch or CLI don&#39;t create a jar file named jar-with-dependencies&quot; - The Gradle build could be configured to name the generated jar anything you like as long as it is a valid file name on the file system.  I assume that the `XXXXXXXX-0.1-jar-with-dependencies.jar` mentioned in the question is not the actual file name.","body":"&quot;Micronaut Application projects created with Micronaut Launch or CLI don&#39;t create a jar file named jar-with-dependencies&quot; - The Gradle build could be configured to name the generated jar anything you like as long as it is a valid file name on the file system.  I assume that the <code>XXXXXXXX-0.1-jar-with-dependencies.jar</code> mentioned in the question is not the actual file name."}],"answers":[{"tags":[],"owner":{"account_id":16700904,"reputation":1,"user_id":12070704,"display_name":"Shubham Saykar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673419528,"creation_date":1673419528,"answer_id":75079202,"question_id":73880524,"body_markdown":"I have solution for the my question.\r\n  I have issue that I&#39;m not able to run jar file on port:8080 or any port configure in project. Becuase I am using micronuat version 2.2.0.\r\n  I had upgraded the micronaut version to latest version i.e micronut version3.7.4 and this solve my issue. Now I&#39;m able to run jar file on port.\r\n\r\nThank you..\r\n","title":"No embedded container found. Running as CLI application","body":"<p>I have solution for the my question.\nI have issue that I'm not able to run jar file on port:8080 or any port configure in project. Becuase I am using micronuat version 2.2.0.\nI had upgraded the micronaut version to latest version i.e micronut version3.7.4 and this solve my issue. Now I'm able to run jar file on port.</p>\n<p>Thank you..</p>\n"}],"owner":{"account_id":16700904,"reputation":1,"user_id":12070704,"display_name":"Shubham Saykar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673419528,"creation_date":1664363967,"question_id":73880524,"body_markdown":"I have build an application in java micronaut framework with maven.\r\n\r\n\r\nI have create application jar file for the application. when I have run that jar file with\r\n  &gt;java -jar XXXXXXXX-0.1-jar-with-dependencies.jar\r\n\r\nthe application is running successfully but how do I know on which port  actually the application is running.\r\n\r\nActual behaviour:\r\nIt should be run on the localhost port:8080\r\n\r\n\r\nExpected Behaviour:\r\nbut It is showing as :  No embedded container found. Running as CLI application.\r\n\r\n\r\nPlease guide me appropriately.\r\n\r\n\r\nThank You!!!\r\n","title":"No embedded container found. Running as CLI application","body":"<p>I have build an application in java micronaut framework with maven.</p>\n<p>I have create application jar file for the application. when I have run that jar file with</p>\n<blockquote>\n<p>java -jar XXXXXXXX-0.1-jar-with-dependencies.jar</p>\n</blockquote>\n<p>the application is running successfully but how do I know on which port  actually the application is running.</p>\n<p>Actual behaviour:\nIt should be run on the localhost port:8080</p>\n<p>Expected Behaviour:\nbut It is showing as :  No embedded container found. Running as CLI application.</p>\n<p>Please guide me appropriately.</p>\n<p>Thank You!!!</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1672039552,"post_id":74918046,"comment_id":132210487,"body_markdown":"What in the heck are you talking about?","body":"What in the heck are you talking about?"},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1672040237,"post_id":74918046,"comment_id":132210600,"body_markdown":"please see https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/ for more idea.","body":"please see <a href=\"https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a> for more idea."}],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673419343,"creation_date":1672039128,"question_id":74918046,"body_markdown":"Trying to understand synchronization of bidirectional entities.\r\nref: https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\r\n\r\n\r\nLets see example of OneToMany bidirectional association.\r\n\r\n[![enter image description here][1]][1]\r\nSee entity class\r\n```java\r\n@Entity(name = &quot;Post&quot;)\r\n@Table(name = &quot;post&quot;)\r\npublic class Post {\r\n&#160;\r\n&#160;&#160;&#160;&#160;@Id\r\n&#160;&#160;&#160;&#160;@GeneratedValue\r\n&#160;&#160;&#160;&#160;private Long id;\r\n&#160;\r\n&#160;&#160;&#160;&#160;private String title;\r\n&#160;\r\n&#160;&#160;&#160;&#160;@OneToMany(\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mappedBy = &quot;post&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cascade = CascadeType.ALL,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;orphanRemoval = true\r\n&#160;&#160;&#160;&#160;)\r\n&#160;&#160;&#160;&#160;private List&lt;PostComment&gt; comments = new ArrayList&lt;&gt;();\r\n&#160;\r\n&#160;&#160;&#160;&#160;//Getters and setters omitted for brevity\r\n&#160;\r\n&#160;&#160;&#160;&#160;public void addComment(PostComment comment) {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;comments.add(comment);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;comment.setPost(this);\r\n&#160;&#160;&#160;&#160;}\r\n&#160;\r\n&#160;&#160;&#160;&#160;public void removeComment(PostComment comment) {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;comments.remove(comment);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;comment.setPost(null);\r\n&#160;&#160;&#160;&#160;}\r\n}\r\n```\r\nshould we call these methods(addComment,removeComment) on managed or transient entities? I am assuming when we just create objects in memory which are transient, it will be a good practice.\r\n\r\nIf both, is true.\r\nI also saw one article where for synchronizing both side, for parent entity aka Post,had additional method which removes all comments for given post\r\n\r\nService layer\r\n```java\r\n    @Transactional\r\n    public void deleteAllCommentsOfPost() {\r\n        Author author = postRepository.findByName(&quot;Joana Nimar&quot;);\r\n        post.removeComments(); // use removeComments() helper    \r\n    }\r\n```\r\n\r\nPost entity has following\r\n```java\r\n...\r\n... entity code\r\n\r\n    public void removeComments() {\r\n        //TODO can be optimized, as it fires single delete queries.\r\n        System.out.println(&quot;iterating removeComments&quot;);\r\n        Iterator&lt;Comment&gt; iterator = this.comments.iterator();\r\n\r\n        while (iterator.hasNext()) {\r\n            Comment comment = iterator.next();\r\n\r\n            comment.setPost(null);\r\n            iterator.remove();\r\n        }\r\n    }\r\n...\r\n...\r\n\r\n```\r\n\r\nBut problem here is that, since this is a managed entity, it will fire individual delete statements for each post. Instead better would be to have something like single statement with IN clause to delete entities.\r\n\r\nI am not sure what would be correct way. \r\nI see following option:\r\ncreate another method in repository layer which deletes using jpql.\r\n\r\nBut, here will entities get synchronized post transaction commit is my query.\r\n\r\nI would like to know what are best practices for bidirectional entities.\r\n\r\n  [1]: https://i.stack.imgur.com/WoUPB.png","title":"Synchronizing bidirectional entities in hibernate jpa spring","body":"<p>Trying to understand synchronization of bidirectional entities.\nref: <a href=\"https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/</a></p>\n<p>Lets see example of OneToMany bidirectional association.</p>\n<p><a href=\"https://i.stack.imgur.com/WoUPB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WoUPB.png\" alt=\"enter image description here\" /></a>\nSee entity class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;Post&quot;)\n@Table(name = &quot;post&quot;)\npublic class Post {\nÂ \nÂ Â Â Â @Id\nÂ Â Â Â @GeneratedValue\nÂ Â Â Â private Long id;\nÂ \nÂ Â Â Â private String title;\nÂ \nÂ Â Â Â @OneToMany(\nÂ Â Â Â Â Â Â Â mappedBy = &quot;post&quot;,\nÂ Â Â Â Â Â Â Â cascade = CascadeType.ALL,\nÂ Â Â Â Â Â Â Â orphanRemoval = true\nÂ Â Â Â )\nÂ Â Â Â private List&lt;PostComment&gt; comments = new ArrayList&lt;&gt;();\nÂ \nÂ Â Â Â //Getters and setters omitted for brevity\nÂ \nÂ Â Â Â public void addComment(PostComment comment) {\nÂ Â Â Â Â Â Â Â comments.add(comment);\nÂ Â Â Â Â Â Â Â comment.setPost(this);\nÂ Â Â Â }\nÂ \nÂ Â Â Â public void removeComment(PostComment comment) {\nÂ Â Â Â Â Â Â Â comments.remove(comment);\nÂ Â Â Â Â Â Â Â comment.setPost(null);\nÂ Â Â Â }\n}\n</code></pre>\n<p>should we call these methods(addComment,removeComment) on managed or transient entities? I am assuming when we just create objects in memory which are transient, it will be a good practice.</p>\n<p>If both, is true.\nI also saw one article where for synchronizing both side, for parent entity aka Post,had additional method which removes all comments for given post</p>\n<p>Service layer</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Transactional\n    public void deleteAllCommentsOfPost() {\n        Author author = postRepository.findByName(&quot;Joana Nimar&quot;);\n        post.removeComments(); // use removeComments() helper    \n    }\n</code></pre>\n<p>Post entity has following</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n... entity code\n\n    public void removeComments() {\n        //TODO can be optimized, as it fires single delete queries.\n        System.out.println(&quot;iterating removeComments&quot;);\n        Iterator&lt;Comment&gt; iterator = this.comments.iterator();\n\n        while (iterator.hasNext()) {\n            Comment comment = iterator.next();\n\n            comment.setPost(null);\n            iterator.remove();\n        }\n    }\n...\n...\n\n</code></pre>\n<p>But problem here is that, since this is a managed entity, it will fire individual delete statements for each post. Instead better would be to have something like single statement with IN clause to delete entities.</p>\n<p>I am not sure what would be correct way.\nI see following option:\ncreate another method in repository layer which deletes using jpql.</p>\n<p>But, here will entities get synchronized post transaction commit is my query.</p>\n<p>I would like to know what are best practices for bidirectional entities.</p>\n"},{"tags":["java","json","jackson","gson"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1499712736,"post_id":45019130,"comment_id":77013182,"body_markdown":"I think you might have to simply recursively (or iteratively) do the transformation yourself.","body":"I think you might have to simply recursively (or iteratively) do the transformation yourself."},{"owner":{"account_id":7492329,"reputation":139,"user_id":5693581,"accept_rate":38,"display_name":"Lazysheep.wang"},"score":0,"creation_date":1499712849,"post_id":45019130,"comment_id":77013241,"body_markdown":"Actually I found another question which was able to iterate json string, and print the value correctly. But how can I add/save the key? I was not able to figure it out. Would you please help? https://stackoverflow.com/questions/22111857/parse-recursively-unknown-json-input-structure-in-java","body":"Actually I found another question which was able to iterate json string, and print the value correctly. But how can I add/save the key? I was not able to figure it out. Would you please help? <a href=\"https://stackoverflow.com/questions/22111857/parse-recursively-unknown-json-input-structure-in-java\" title=\"parse recursively unknown json input structure in java\">stackoverflow.com/questions/22111857/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499714924,"creation_date":1499714924,"answer_id":45020165,"question_id":45019130,"body_markdown":"You can get the JSON as `JsonNode` and go through all fields recursively and add key and value field to a Map. When a value is an object instead of string you can add the field name to List to be joined with periods when a string is finally encountered. First create (for readability) a separate method that add Json fields to a `Map`:\r\n\r\n    void mapAppender(Map&lt;String, String&gt; result, Entry&lt;String, JsonNode&gt; node, List&lt;String&gt; names) {\r\n        names.add(node.getKey());\r\n        if (node.getValue().isTextual()) {\r\n            String name = names.stream().collect(joining(&quot;.&quot;));\r\n            result.put(name, node.getValue().asText());\r\n        } else {\r\n            node.getValue().fields()\r\n                .forEachRemaining(nested -&gt; mapAppender(result, nested, new ArrayList&lt;&gt;(names)));\r\n        }\r\n    }\r\n\r\nand use it like this:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n    mapper.readTree(json).fields()\r\n        .forEachRemaining(node -&gt; mapAppender(result, node, new ArrayList&lt;String&gt;()));\r\n\r\nWhere `fields()` returns an `Iterator`. Beware of `StackOverflowErrors` and perhaps low performance for deeply nested JSON.","title":"Flatten a JSON string to make the key including each level key value to Map&lt;String, String&gt; using Gson or Jackson","body":"<p>You can get the JSON as <code>JsonNode</code> and go through all fields recursively and add key and value field to a Map. When a value is an object instead of string you can add the field name to List to be joined with periods when a string is finally encountered. First create (for readability) a separate method that add Json fields to a <code>Map</code>:</p>\n\n<pre><code>void mapAppender(Map&lt;String, String&gt; result, Entry&lt;String, JsonNode&gt; node, List&lt;String&gt; names) {\n    names.add(node.getKey());\n    if (node.getValue().isTextual()) {\n        String name = names.stream().collect(joining(\".\"));\n        result.put(name, node.getValue().asText());\n    } else {\n        node.getValue().fields()\n            .forEachRemaining(nested -&gt; mapAppender(result, nested, new ArrayList&lt;&gt;(names)));\n    }\n}\n</code></pre>\n\n<p>and use it like this:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nMap&lt;String, String&gt; result = new HashMap&lt;&gt;();\nmapper.readTree(json).fields()\n    .forEachRemaining(node -&gt; mapAppender(result, node, new ArrayList&lt;String&gt;()));\n</code></pre>\n\n<p>Where <code>fields()</code> returns an <code>Iterator</code>. Beware of <code>StackOverflowErrors</code> and perhaps low performance for deeply nested JSON.</p>\n"},{"tags":[],"owner":{"account_id":8466444,"reputation":223,"user_id":6350474,"display_name":"Noyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507785792,"creation_date":1507785792,"answer_id":46701988,"question_id":45019130,"body_markdown":"I resolved this using below simple code, Only think is need to download jettison and flattener.JsonFlattener library \r\n\r\n\r\n    import java.util.Map;\r\n    import org.codehaus.jettison.json.JSONObject;\r\n    import com.github.wnameless.json.flattener.JsonFlattener;\r\n    \r\n    public class test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString jsonString = &quot;{\\&quot;id\\&quot; : \\&quot;123\\&quot;,\\&quot;name\\&quot; : \\&quot;Tom\\&quot;,\\&quot;class\\&quot; : {\\&quot;subject\\&quot; : \\&quot;Math\\&quot;,\\&quot;teacher\\&quot; : \\&quot;Jack\\&quot;}}&quot;;\r\n    \t\tJSONObject jsonObject = new JSONObject();\r\n    \t\tString flattenedJson = JsonFlattener.flatten(jsonString);\r\n    \t\tMap&lt;String, Object&gt; flattenedJsonMap = JsonFlattener.flattenAsMap(jsonString);\r\n    \t\tSystem.out.println(flattenedJsonMap);\r\n    \t}\r\n    }\r\n\r\n\r\nReference link : [https://github.com/wnameless/json-flattener][1]\r\n\r\n\r\n  [1]: https://github.com/wnameless/json-flattener","title":"Flatten a JSON string to make the key including each level key value to Map&lt;String, String&gt; using Gson or Jackson","body":"<p>I resolved this using below simple code, Only think is need to download jettison and flattener.JsonFlattener library </p>\n\n<pre><code>import java.util.Map;\nimport org.codehaus.jettison.json.JSONObject;\nimport com.github.wnameless.json.flattener.JsonFlattener;\n\npublic class test {\n\n    public static void main(String[] args) {\n        String jsonString = \"{\\\"id\\\" : \\\"123\\\",\\\"name\\\" : \\\"Tom\\\",\\\"class\\\" : {\\\"subject\\\" : \\\"Math\\\",\\\"teacher\\\" : \\\"Jack\\\"}}\";\n        JSONObject jsonObject = new JSONObject();\n        String flattenedJson = JsonFlattener.flatten(jsonString);\n        Map&lt;String, Object&gt; flattenedJsonMap = JsonFlattener.flattenAsMap(jsonString);\n        System.out.println(flattenedJsonMap);\n    }\n}\n</code></pre>\n\n<p>Reference link : <a href=\"https://github.com/wnameless/json-flattener\" rel=\"nofollow noreferrer\">https://github.com/wnameless/json-flattener</a></p>\n"}],"owner":{"account_id":7492329,"reputation":139,"user_id":5693581,"accept_rate":38,"display_name":"Lazysheep.wang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8148,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45020165,"answer_count":2,"score":5,"last_activity_date":1673419272,"creation_date":1499710726,"question_id":45019130,"body_markdown":"I have an enhanced question regarding [Flatten a JSON string to Map&lt;String, String&gt; using Gson or Jackson][1]. \r\n\r\nMy scenario included duplicated keys, so the solution in the above question will cause some duplicated keys overwritten. So I am thinking to construct keys by combining each level&#39;s key together. \r\n\r\nSo how to achieve that?\r\n\r\nFor example:\r\n\r\n    {\r\n        &quot;id&quot; : &quot;123&quot;,\r\n        &quot;name&quot; : &quot;Tom&quot;,\r\n        &quot;class&quot; : {\r\n            &quot;subject&quot; : &quot;Math&quot;,\r\n            &quot;teacher&quot; : &quot;Jack&quot;\r\n        }\r\n    }\r\n\r\nI want to get the Map&lt;String, String&gt;:\r\n\r\n    &quot;id&quot; : &quot;123&quot;,\r\n    &quot;name&quot; : &quot;Tom&quot;,\r\n    &quot;class.subject&quot; : &quot;Math&quot;,\r\n    &quot;class.teacher&quot; : &quot;Jack&quot;\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29759462/flatten-a-json-string-to-mapstring-string-using-gson-or-jackson\r\n\r\n\r\n************************Update Solution*************************************\r\n\r\nBased on @Manos Nikolaidis&#39;s answer, I am able to achieve the following solution by considering ArrayNode.\r\n\r\n    public void processJsonString(String jsonString) throws Exception {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        ArrayNode arrayNode = (ArrayNode) mapper.readTree(jsonString);\r\n        processArrayNode(arrayNode);\r\n    }\r\n\r\n    private void processObjectNode(JsonNode jsonNode) {\r\n        Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iterator = jsonNode.fields();\r\n        iterator.forEachRemaining(node -&gt; mapAppender(result, node, new ArrayList&lt;String&gt;()));\r\n    }\r\n\r\n    private void processArrayNode(ArrayNode arrayNode) {\r\n        for (JsonNode jsonNode : arrayNode) {\r\n            processObjectNode(jsonNode);\r\n        }\r\n    }\r\n\r\n\r\n    private void mapAppender(Map&lt;String, String&gt; result, Map.Entry&lt;String, JsonNode&gt; node, List&lt;String&gt; names) {\r\n        names.add(node.getKey());\r\n        if (node.getValue().isTextual()) {\r\n            String name = names.stream().collect(Collectors.joining(&quot;.&quot;));\r\n            result.put(name, node.getValue().asText());\r\n        } else if (node.getValue().isArray()) {\r\n            processArrayNode((ArrayNode) node.getValue());\r\n        } else if (node.getValue().isNull()) {\r\n            String name = names.stream().collect(Collectors.joining(&quot;.&quot;));\r\n            result.put(name, null);\r\n        } else {\r\n            node.getValue().fields()\r\n                            .forEachRemaining(nested -&gt; mapAppender(result, nested, new ArrayList&lt;&gt;(names)));\r\n        }\r\n    }\r\n\r\n\r\n","title":"Flatten a JSON string to make the key including each level key value to Map&lt;String, String&gt; using Gson or Jackson","body":"<p>I have an enhanced question regarding <a href=\"https://stackoverflow.com/questions/29759462/flatten-a-json-string-to-mapstring-string-using-gson-or-jackson\">Flatten a JSON string to Map using Gson or Jackson</a>. </p>\n\n<p>My scenario included duplicated keys, so the solution in the above question will cause some duplicated keys overwritten. So I am thinking to construct keys by combining each level's key together. </p>\n\n<p>So how to achieve that?</p>\n\n<p>For example:</p>\n\n<pre><code>{\n    \"id\" : \"123\",\n    \"name\" : \"Tom\",\n    \"class\" : {\n        \"subject\" : \"Math\",\n        \"teacher\" : \"Jack\"\n    }\n}\n</code></pre>\n\n<p>I want to get the Map:</p>\n\n<pre><code>\"id\" : \"123\",\n\"name\" : \"Tom\",\n\"class.subject\" : \"Math\",\n\"class.teacher\" : \"Jack\"\n</code></pre>\n\n<p>************************Update Solution*************************************</p>\n\n<p>Based on @Manos Nikolaidis's answer, I am able to achieve the following solution by considering ArrayNode.</p>\n\n<pre><code>public void processJsonString(String jsonString) throws Exception {\n    ObjectMapper mapper = new ObjectMapper();\n    ArrayNode arrayNode = (ArrayNode) mapper.readTree(jsonString);\n    processArrayNode(arrayNode);\n}\n\nprivate void processObjectNode(JsonNode jsonNode) {\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\n    Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iterator = jsonNode.fields();\n    iterator.forEachRemaining(node -&gt; mapAppender(result, node, new ArrayList&lt;String&gt;()));\n}\n\nprivate void processArrayNode(ArrayNode arrayNode) {\n    for (JsonNode jsonNode : arrayNode) {\n        processObjectNode(jsonNode);\n    }\n}\n\n\nprivate void mapAppender(Map&lt;String, String&gt; result, Map.Entry&lt;String, JsonNode&gt; node, List&lt;String&gt; names) {\n    names.add(node.getKey());\n    if (node.getValue().isTextual()) {\n        String name = names.stream().collect(Collectors.joining(\".\"));\n        result.put(name, node.getValue().asText());\n    } else if (node.getValue().isArray()) {\n        processArrayNode((ArrayNode) node.getValue());\n    } else if (node.getValue().isNull()) {\n        String name = names.stream().collect(Collectors.joining(\".\"));\n        result.put(name, null);\n    } else {\n        node.getValue().fields()\n                        .forEachRemaining(nested -&gt; mapAppender(result, nested, new ArrayList&lt;&gt;(names)));\n    }\n}\n</code></pre>\n"},{"tags":["java","google-chrome","server","ldap"],"owner":{"account_id":26826181,"reputation":1,"user_id":20414789,"display_name":"Captain America"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673419097,"creation_date":1673280417,"question_id":75059989,"body_markdown":"What is the method to access the log files in Windows Log &gt; Security in Active Directory using Java through an LDAP connection?\r\n\r\nSo I can filter the deleted users using Event ID\r\n\r\nPS: I am using Windows Server 2019\r\n\r\nTried LDAP search on CN=System, the program ran successfully but no output produced.","title":"Log Files In Active Directory","body":"<p>What is the method to access the log files in Windows Log &gt; Security in Active Directory using Java through an LDAP connection?</p>\n<p>So I can filter the deleted users using Event ID</p>\n<p>PS: I am using Windows Server 2019</p>\n<p>Tried LDAP search on CN=System, the program ran successfully but no output produced.</p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559042748,"post_id":56341042,"comment_id":99287425,"body_markdown":"I am not seeing @RunWith(JUnitPlatform.class) not sure of that is a problem I would have placed it.,","body":"I am not seeing @RunWith(JUnitPlatform.class) not sure of that is a problem I would have placed it.,"},{"owner":{"account_id":16027029,"reputation":73,"user_id":11567022,"display_name":"Mirko Manojlovic"},"score":0,"creation_date":1559043239,"post_id":56341042,"comment_id":99287675,"body_markdown":"@AlexandarPetrov I&#39;m using JUnit5, and I think RunWith is replaced with ExtendWith.","body":"@AlexandarPetrov I&#39;m using JUnit5, and I think RunWith is replaced with ExtendWith."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559043414,"post_id":56341042,"comment_id":99287774,"body_markdown":"Yes you are right.","body":"Yes you are right."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559043726,"post_id":56341042,"comment_id":99287948,"body_markdown":"Can you try setting up @Import(value={ItemMapperImpl.class}) I think the mapper implementation may not have been component scanned.","body":"Can you try setting up @Import(value={ItemMapperImpl.class}) I think the mapper implementation may not have been component scanned."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559043775,"post_id":56341042,"comment_id":99287976,"body_markdown":"Or @SpringBootTest(classes = {ItemMapperImpl.class})","body":"Or @SpringBootTest(classes = {ItemMapperImpl.class})"},{"owner":{"account_id":16027029,"reputation":73,"user_id":11567022,"display_name":"Mirko Manojlovic"},"score":0,"creation_date":1559044751,"post_id":56341042,"comment_id":99288541,"body_markdown":"@AlexandarPetrov - I have tried @Import(value={ItemMapperImpl.class}) above the test class still nothing. And the idea is that this should be a Unit test, that&#39;s why I don&#39;t want to use @SpringBootTest(classes = {ItemMapperImpl.class}) .","body":"@AlexandarPetrov - I have tried @Import(value={ItemMapperImpl.class}) above the test class still nothing. And the idea is that this should be a Unit test, that&#39;s why I don&#39;t want to use @SpringBootTest(classes = {ItemMapperImpl.class}) ."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559045310,"post_id":56341042,"comment_id":99288827,"body_markdown":"Indeed, but in your code you expect that somehow th unit test will figure out the dependency injection @Spy\n    private ItemMapper itemMapper;  and without Spring there is no way for it to figure out what the implementation is. Maybe you should initialize the ItemMapper using Mappers.getMapper() this way it will figure out what the implementation is.","body":"Indeed, but in your code you expect that somehow th unit test will figure out the dependency injection @Spy     private ItemMapper itemMapper;  and without Spring there is no way for it to figure out what the implementation is. Maybe you should initialize the ItemMapper using Mappers.getMapper() this way it will figure out what the implementation is."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559045420,"post_id":56341042,"comment_id":99288884,"body_markdown":"Notice that on the mapper annotation you are specifying spring based injection strategy.","body":"Notice that on the mapper annotation you are specifying spring based injection strategy."},{"owner":{"account_id":16027029,"reputation":73,"user_id":11567022,"display_name":"Mirko Manojlovic"},"score":0,"creation_date":1559045611,"post_id":56341042,"comment_id":99289002,"body_markdown":"@AlexandarPetrov - Yeah you are right I am dumb as a rock. When I added\n\n```java\n@Spy\nprivate ItemMapper itemMapper = Mappers.getMapper(ItemMapper.class);\n```\n\nthe test passed successfully hehe :).\nI guess I will add this as a bean in a Configuration class so I can use it in all of my tests and then add @ContextConfiguration. Thank you, you saved me a lot of time :)","body":"@AlexandarPetrov - Yeah you are right I am dumb as a rock. When I added  <code>java @Spy private ItemMapper itemMapper = Mappers.getMapper(ItemMapper.class); </code>  the test passed successfully hehe :). I guess I will add this as a bean in a Configuration class so I can use it in all of my tests and then add @ContextConfiguration. Thank you, you saved me a lot of time :)"},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559045772,"post_id":56341042,"comment_id":99289091,"body_markdown":"Congratz :) I will summarize the answer. please accept.","body":"Congratz :) I will summarize the answer. please accept."},{"owner":{"account_id":16027029,"reputation":73,"user_id":11567022,"display_name":"Mirko Manojlovic"},"score":0,"creation_date":1559045848,"post_id":56341042,"comment_id":99289146,"body_markdown":"@AlexandarPetrov - Sure thing :)","body":"@AlexandarPetrov - Sure thing :)"}],"answers":[{"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1559045911,"creation_date":1559045911,"answer_id":56342122,"question_id":56341042,"body_markdown":"@Spy annotation on \r\n\r\n    @Spy\r\n    private ItemMapper itemMapper;\r\n\r\nwill not perform dependency injection of the generated ItemMapperImpl class file. The solution would be to set \r\n\r\n     @Spy\r\n     private ItemMapper itemMapper = Mappers.getMapper(ItemMapper.class);\r\n\r\nOr alternativly to enable spring dependency injection via `@SpringBootTest(classes = {ItemMapperImpl.class}).`\r\n\r\n","title":"MapStruct not autowring with Spring-boot testing Gradle Junit5","body":"<p>@Spy annotation on </p>\n\n<pre><code>@Spy\nprivate ItemMapper itemMapper;\n</code></pre>\n\n<p>will not perform dependency injection of the generated ItemMapperImpl class file. The solution would be to set </p>\n\n<pre><code> @Spy\n private ItemMapper itemMapper = Mappers.getMapper(ItemMapper.class);\n</code></pre>\n\n<p>Or alternativly to enable spring dependency injection via <code>@SpringBootTest(classes = {ItemMapperImpl.class}).</code></p>\n"}],"owner":{"account_id":16027029,"reputation":73,"user_id":11567022,"display_name":"Mirko Manojlovic"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3928,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56342122,"answer_count":1,"score":5,"last_activity_date":1673419037,"creation_date":1559042373,"question_id":56341042,"body_markdown":"I am trying to use mapstruct with Gradle, but I am having limited success. When I&#39;m using it in the application everything seems to be working fine, but when I tried to write some tests Spring can&#39;t autowire MapStruct properly (it just returns NullPointer exceptions). I am using Gradle 5.4.1, Junit5 and IntelliJ 2019.1.2.\r\n\r\nThis is the build folder and there is no mapper generated for test classes.\r\n\r\n![enter image description here][1]\r\n\r\nRepository with the code is here:\r\nhttps://github.com/MirkoManojlovic/mapstruct-example\r\n\r\n\r\n### Mapper:\r\n\r\n```java\r\n@Mapper(unmappedTargetPolicy = ReportingPolicy.WARN,\r\n        componentModel = &quot;spring&quot;,\r\n        injectionStrategy = InjectionStrategy.CONSTRUCTOR)\r\npublic interface ItemMapper {\r\n    ItemDto toDto(Item item);\r\n    Item toItem(ItemDto itemDto);\r\n}\r\n\r\n```\r\n\r\n### Repository:\r\n\r\n```java\r\npublic class ItemRepository {\r\n    public ItemDto getItemDto() {\r\n        return new ItemDto(&quot;item 1&quot;);\r\n    }\r\n\r\n    public Item getItem() {\r\n        return new Item(1, &quot;item 1&quot;, 20);\r\n    }\r\n}\r\n```\r\n\r\n### Service:\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\n@Log4j2\r\npublic class ItemService {\r\n    private final ItemRepository itemRepository;\r\n    private final ItemMapper itemMapper;\r\n\r\n    public ItemDto getItemDto() {\r\n        Item item = itemRepository.getItem();\r\n        ItemDto itemDto = itemMapper.toDto(item);\r\n        log.info(itemDto);\r\n        return itemDto;\r\n    }\r\n\r\n    public Item getItem() {\r\n        ItemDto itemDto = itemRepository.getItemDto();\r\n        Item item = itemMapper.toItem(itemDto);\r\n        log.info(item);\r\n        return item;\r\n    }\r\n}\r\n```\r\n\r\n### Test: \r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ItemServiceTest {\r\n\r\n    @Mock\r\n    private ItemRepository itemRepository;\r\n\r\n    @InjectMocks\r\n    private ItemService itemService;\r\n\r\n    @Spy\r\n    private ItemMapper itemMapper;\r\n\r\n    @Test\r\n    void shouldReturnItemDto() {\r\n        Item mockItem = new Item(1, &quot;mockItem&quot;, 10);\r\n        given(itemRepository.getItem()).willReturn(mockItem);\r\n        ItemDto itemDto = itemService.getItemDto();\r\n        assertThat(mockItem.getName()).isEqualTo(itemDto.getName());\r\n    }\r\n\r\n}\r\n```\r\n\r\n### build.gradle:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.1.5.RELEASE&#39;\r\n    id &#39;java&#39;\r\n}\r\n\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\ngroup = &#39;com.mapstruct.spring.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform {\r\n    }\r\n}\r\n\r\ndependencies {\r\n    // Mapstruct\r\n    implementation &#39;org.mapstruct:mapstruct:1.3.0.Final&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.3.0.Final&#39;\r\n    testAnnotationProcessor &#39;org.mapstruct:mapstruct-processor:1.3.0.Final&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n\r\n    // JUnit5\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.3.2&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.3.2&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-params:5.3.2&#39;\r\n\r\n    // Mockito\r\n    testImplementation &#39;org.mockito:mockito-core:2.23.4&#39;\r\n    testImplementation &#39;org.mockito:mockito-junit-jupiter:2.23.4&#39;\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v1liq.png","title":"MapStruct not autowring with Spring-boot testing Gradle Junit5","body":"<p>I am trying to use mapstruct with Gradle, but I am having limited success. When I'm using it in the application everything seems to be working fine, but when I tried to write some tests Spring can't autowire MapStruct properly (it just returns NullPointer exceptions). I am using Gradle 5.4.1, Junit5 and IntelliJ 2019.1.2.</p>\n<p>This is the build folder and there is no mapper generated for test classes.</p>\n<p><img src=\"https://i.stack.imgur.com/v1liq.png\" alt=\"enter image description here\" /></p>\n<p>Repository with the code is here:\n<a href=\"https://github.com/MirkoManojlovic/mapstruct-example\" rel=\"nofollow noreferrer\">https://github.com/MirkoManojlovic/mapstruct-example</a></p>\n<h3>Mapper:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.WARN,\n        componentModel = &quot;spring&quot;,\n        injectionStrategy = InjectionStrategy.CONSTRUCTOR)\npublic interface ItemMapper {\n    ItemDto toDto(Item item);\n    Item toItem(ItemDto itemDto);\n}\n\n</code></pre>\n<h3>Repository:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class ItemRepository {\n    public ItemDto getItemDto() {\n        return new ItemDto(&quot;item 1&quot;);\n    }\n\n    public Item getItem() {\n        return new Item(1, &quot;item 1&quot;, 20);\n    }\n}\n</code></pre>\n<h3>Service:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\n@Log4j2\npublic class ItemService {\n    private final ItemRepository itemRepository;\n    private final ItemMapper itemMapper;\n\n    public ItemDto getItemDto() {\n        Item item = itemRepository.getItem();\n        ItemDto itemDto = itemMapper.toDto(item);\n        log.info(itemDto);\n        return itemDto;\n    }\n\n    public Item getItem() {\n        ItemDto itemDto = itemRepository.getItemDto();\n        Item item = itemMapper.toItem(itemDto);\n        log.info(item);\n        return item;\n    }\n}\n</code></pre>\n<h3>Test:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class ItemServiceTest {\n\n    @Mock\n    private ItemRepository itemRepository;\n\n    @InjectMocks\n    private ItemService itemService;\n\n    @Spy\n    private ItemMapper itemMapper;\n\n    @Test\n    void shouldReturnItemDto() {\n        Item mockItem = new Item(1, &quot;mockItem&quot;, 10);\n        given(itemRepository.getItem()).willReturn(mockItem);\n        ItemDto itemDto = itemService.getItemDto();\n        assertThat(mockItem.getName()).isEqualTo(itemDto.getName());\n    }\n\n}\n</code></pre>\n<h3>build.gradle:</h3>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.1.5.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.mapstruct.spring.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ntest {\n    useJUnitPlatform {\n    }\n}\n\ndependencies {\n    // Mapstruct\n    implementation 'org.mapstruct:mapstruct:1.3.0.Final'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.3.0.Final'\n    testAnnotationProcessor 'org.mapstruct:mapstruct-processor:1.3.0.Final'\n\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test')\n\n    // JUnit5\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.3.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.3.2'\n    testImplementation 'org.junit.jupiter:junit-jupiter-params:5.3.2'\n\n    // Mockito\n    testImplementation 'org.mockito:mockito-core:2.23.4'\n    testImplementation 'org.mockito:mockito-junit-jupiter:2.23.4'\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","controller","httprequest"],"answers":[{"tags":[],"owner":{"account_id":27495247,"reputation":156,"user_id":20979858,"display_name":"Harsha Gandikota"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673417031,"creation_date":1673417031,"answer_id":75078891,"question_id":75076961,"body_markdown":"You can use multiple HTTP requests by specifying the method attribute as an array in the @RequestMapping annotation.\r\n\r\n        @RequestMapping(value = &quot;/update-item&quot;, method = {RequestMethod.POST,RequestMethod.GET})\r\n    public String updateItem(@RequestBody Item json) {\r\n        //some logics\r\n         return &quot;/update-item-result&quot;;\r\n    }","title":"Spring Controller to get both GET and POST variables","body":"<p>You can use multiple HTTP requests by specifying the method attribute as an array in the @RequestMapping annotation.</p>\n<pre><code>    @RequestMapping(value = &quot;/update-item&quot;, method = {RequestMethod.POST,RequestMethod.GET})\npublic String updateItem(@RequestBody Item json) {\n    //some logics\n     return &quot;/update-item-result&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75078891,"answer_count":1,"score":-1,"last_activity_date":1673418989,"creation_date":1673393930,"question_id":75076961,"body_markdown":"Sometimes we send a POST HTTP request with POST payload to an endpoint with URL variable, for example:\r\n```\r\n[POST] http://example.com/update-item?itemid=123456\r\n```\r\nTo get the POST payload in the Spring controller class, I can do something this:\r\n```\r\n@RequestMapping(value = &quot;/update-item&quot;, method = RequestMethod.POST)\r\npublic String updateItem(@RequestBody Item json) {\r\n    //some logics\r\n     return &quot;/update-item-result&quot;;\r\n}\r\n```\r\n\r\nHowever, at the same time, how can I get the variable from the URL (i.e. `itemid` in the above example) even for `method = RequestMethod.POST`? \r\n\r\nI see a lot of Spring MVC examples on the web either get the GET variables from the URL or the POST variables from the payload, but I never see getting both in action.","title":"Spring Controller to get both GET and POST variables","body":"<p>Sometimes we send a POST HTTP request with POST payload to an endpoint with URL variable, for example:</p>\n<pre><code>[POST] http://example.com/update-item?itemid=123456\n</code></pre>\n<p>To get the POST payload in the Spring controller class, I can do something this:</p>\n<pre><code>@RequestMapping(value = &quot;/update-item&quot;, method = RequestMethod.POST)\npublic String updateItem(@RequestBody Item json) {\n    //some logics\n     return &quot;/update-item-result&quot;;\n}\n</code></pre>\n<p>However, at the same time, how can I get the variable from the URL (i.e. <code>itemid</code> in the above example) even for <code>method = RequestMethod.POST</code>?</p>\n<p>I see a lot of Spring MVC examples on the web either get the GET variables from the URL or the POST variables from the payload, but I never see getting both in action.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9254,"page":738,"page_size":100}
