{"items":[{"tags":["java","spring-boot","hibernate","jpa","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":3692946,"reputation":121,"user_id":3075118,"display_name":"user3075118"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635260703,"creation_date":1635260703,"answer_id":69725572,"question_id":69725340,"body_markdown":"null pointer exception is here:\r\n`com.my.package.revision.AuditRevisionListener.newRevision(AuditRevisionListener.java:10)`\r\nnothing to do with transactions?","title":"Spring Boot JPA interaction from reactive AMQP background thread","body":"<p>null pointer exception is here:\n<code>com.my.package.revision.AuditRevisionListener.newRevision(AuditRevisionListener.java:10)</code>\nnothing to do with transactions?</p>\n"},{"tags":[],"owner":{"account_id":3275610,"reputation":1,"user_id":2757769,"display_name":"Z&#233; Carlos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667313387,"creation_date":1644449113,"answer_id":71058052,"question_id":69725340,"body_markdown":"I was facing the same problem with RevisionListener. It seems that there is a lack of communication between Spring Framework and Hibernate Envers as described in this issue:\r\nhttps://github.com/spring-projects/spring-data-envers/issues/249.\r\n\r\nEven after annotating my CustomRevisionListener with `@Service`, spring cannot find this bean and create an instance of it.   \r\n \r\nI&#39;ve tried all the solutions listed here:\r\nhttps://stackoverflow.com/q/57902388/\r\n\r\nBut only the solution using the `SecurityContextHolder` (Solution 3) worked for me. I just needed to check if my entity that represents the logged user had an Id property and fill it with the user id that was retrieved from the database.\r\n\r\nHere is my code:\r\n\r\n    public class MyRevisionListener implements RevisionListener {\r\n    \r\n       @Override\r\n       public void newRevision(Object entity) {\r\n          MyRevisionEntity revisionEntity = (MyRevisionEntity) entity;\r\n    \r\n          Long loggedUserId = Optional.ofNullable(SecurityContextHolder.getContext())\r\n                .map(SecurityContext::getAuthentication)\r\n                .filter(Authentication::isAuthenticated)\r\n                .map(Authentication::getPrincipal)\r\n                .map(JwtUser.class::cast)\r\n                .map(JwtUser::getId)\r\n                .orElse(null);\r\n    \r\n          revisionEntity.setUserId(loggedUserId);\r\n          revisionEntity.setDate(new Date());    \r\n       }\r\n    }\r\n\r\n","title":"Spring Boot JPA interaction from reactive AMQP background thread","body":"<p>I was facing the same problem with RevisionListener. It seems that there is a lack of communication between Spring Framework and Hibernate Envers as described in this issue:\n<a href=\"https://github.com/spring-projects/spring-data-envers/issues/249\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-envers/issues/249</a>.</p>\n<p>Even after annotating my CustomRevisionListener with <code>@Service</code>, spring cannot find this bean and create an instance of it.</p>\n<p>I've tried all the solutions listed here:\n<a href=\"https://stackoverflow.com/q/57902388/\">How to inject spring beans into the hibernate envers RevisionListener</a></p>\n<p>But only the solution using the <code>SecurityContextHolder</code> (Solution 3) worked for me. I just needed to check if my entity that represents the logged user had an Id property and fill it with the user id that was retrieved from the database.</p>\n<p>Here is my code:</p>\n<pre><code>public class MyRevisionListener implements RevisionListener {\n\n   @Override\n   public void newRevision(Object entity) {\n      MyRevisionEntity revisionEntity = (MyRevisionEntity) entity;\n\n      Long loggedUserId = Optional.ofNullable(SecurityContextHolder.getContext())\n            .map(SecurityContext::getAuthentication)\n            .filter(Authentication::isAuthenticated)\n            .map(Authentication::getPrincipal)\n            .map(JwtUser.class::cast)\n            .map(JwtUser::getId)\n            .orElse(null);\n\n      revisionEntity.setUserId(loggedUserId);\n      revisionEntity.setDate(new Date());    \n   }\n}\n</code></pre>\n"}],"owner":{"account_id":9081964,"reputation":93,"user_id":6761501,"display_name":"stevehin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1056,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667313387,"creation_date":1635259808,"question_id":69725340,"body_markdown":"We have a regular, blocking Spring Boot (2.5.4) application serving a REST interface. We use Hibernate envers for audit logging. This service sends messages on our Service Bus in an asynchronous fashion via the `ServiceBusSenderAsyncClient` from the Azure SDK.\r\nNow this service needs to receive messages from said Service Bus and write updates to the Database - also async. For this we use `ServiceBusReceiverAsyncClient` with a reactive stream. All of this generally works (I wrapped the whole database interaction in one `Transactional` function) but I&#39;m encountering issues with envers via the `beforeTransactionCompletion callback` being `null` (when I deactivate envers, it works). This issues is Service Bus independent from my understanding and really rotates around accessing the JPA repo from a background thread. Following the schematic implementation:\r\n\r\n**ServiceBusReceiveController**\r\n```\r\n@Component\r\npublic class SubscriptionReceiveController {\r\n  @Autowired\r\n  private MyService myService;\r\n\r\n  @Autowired\r\n  private ServiceBusReceiverAsyncClient receiver;\r\n\r\n  @Autowired\r\n  private ObjectMapper mapper;\r\n\r\n  @PostConstruct\r\n  public void run() {\r\n    // continuously receive messages in the background\r\n    receiver.receiveMessages().flatMap(message -&gt; {\r\n      MyObject object;\r\n      try {\r\n        object = mapper.readValue(message.getBody().toString(), MyClass.class);\r\n      } catch (JsonProcessingException e) {\r\n        throw new JsonProcessingRuntimeException(&quot;Failed to convert message to object&quot;, e);\r\n      }\r\n\r\n      // wrap the blocking JPA interaction\r\n      Mono&lt;MyObject&gt; blockingWrapper = Mono.fromCallable(() -&gt; {\r\n        return myService.updateMyObject(object.getId());\r\n      });\r\n\r\n      // When the service returns, this is where it crashes\r\n      return blockingWrapper.subscribeOn(Schedulers.boundedElastic());\r\n    }).flatMap(response -&gt; {\r\n      // More processing steps\r\n    }).subscribe();\r\n  }\r\n}\r\n```\r\n\r\n**MyService**\r\n```\r\n@Service\r\npublic class MyService {\r\n\r\n  @Autowired\r\n  private MyRepository myRepository;\r\n\r\n  @Transactional\r\n  public MyObject updateMyObject(UUID objectId) {\r\n    var object = myRepository.getById(objectId);\r\n    object.setSomeProperty(&quot;myPropertyValue&quot;);\r\n\r\n    return myRepository.save(object);\r\n  }\r\n}\r\n```\r\n\r\nCausing following **error message**:\r\n\r\n```\r\norg.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: null; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: null\r\nCaused by: org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: null\r\n        at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:960) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:525) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2381) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.9.jar:5.3.9]\r\n        ... 20 common frames omitted\r\n\r\n...\r\n\r\nCaused by: java.lang.NullPointerException: null\r\n        at com.my.package.revision.AuditRevisionListener.newRevision(AuditRevisionListener.java:10) ~[classes/:na]\r\n        at org.hibernate.envers.internal.revisioninfo.DefaultRevisionInfoGenerator.generate(DefaultRevisionInfoGenerator.java:88) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\r\n        at org.hibernate.envers.internal.synchronization.AuditProcess.getCurrentRevisionData(AuditProcess.java:133) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\r\n        at org.hibernate.envers.internal.synchronization.AuditProcess.executeInSession(AuditProcess.java:115) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\r\n        at org.hibernate.envers.internal.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:174) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\r\n        at org.hibernate.envers.internal.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:47) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\r\n        at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:954) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n        ... 28 common frames omitted\r\n```\r\n\r\nWhat am I missing here, why is the transaction not fully finished within the Service implementation? Is there a better way/pattern for a background thread to write to a database via JPA?\r\n\r\nThanks","title":"Spring Boot JPA interaction from reactive AMQP background thread","body":"<p>We have a regular, blocking Spring Boot (2.5.4) application serving a REST interface. We use Hibernate envers for audit logging. This service sends messages on our Service Bus in an asynchronous fashion via the <code>ServiceBusSenderAsyncClient</code> from the Azure SDK.\nNow this service needs to receive messages from said Service Bus and write updates to the Database - also async. For this we use <code>ServiceBusReceiverAsyncClient</code> with a reactive stream. All of this generally works (I wrapped the whole database interaction in one <code>Transactional</code> function) but I'm encountering issues with envers via the <code>beforeTransactionCompletion callback</code> being <code>null</code> (when I deactivate envers, it works). This issues is Service Bus independent from my understanding and really rotates around accessing the JPA repo from a background thread. Following the schematic implementation:</p>\n<p><strong>ServiceBusReceiveController</strong></p>\n<pre><code>@Component\npublic class SubscriptionReceiveController {\n  @Autowired\n  private MyService myService;\n\n  @Autowired\n  private ServiceBusReceiverAsyncClient receiver;\n\n  @Autowired\n  private ObjectMapper mapper;\n\n  @PostConstruct\n  public void run() {\n    // continuously receive messages in the background\n    receiver.receiveMessages().flatMap(message -&gt; {\n      MyObject object;\n      try {\n        object = mapper.readValue(message.getBody().toString(), MyClass.class);\n      } catch (JsonProcessingException e) {\n        throw new JsonProcessingRuntimeException(&quot;Failed to convert message to object&quot;, e);\n      }\n\n      // wrap the blocking JPA interaction\n      Mono&lt;MyObject&gt; blockingWrapper = Mono.fromCallable(() -&gt; {\n        return myService.updateMyObject(object.getId());\n      });\n\n      // When the service returns, this is where it crashes\n      return blockingWrapper.subscribeOn(Schedulers.boundedElastic());\n    }).flatMap(response -&gt; {\n      // More processing steps\n    }).subscribe();\n  }\n}\n</code></pre>\n<p><strong>MyService</strong></p>\n<pre><code>@Service\npublic class MyService {\n\n  @Autowired\n  private MyRepository myRepository;\n\n  @Transactional\n  public MyObject updateMyObject(UUID objectId) {\n    var object = myRepository.getById(objectId);\n    object.setSomeProperty(&quot;myPropertyValue&quot;);\n\n    return myRepository.save(object);\n  }\n}\n</code></pre>\n<p>Causing following <strong>error message</strong>:</p>\n<pre><code>org.springframework.orm.jpa.JpaSystemException: Unable to perform beforeTransactionCompletion callback: null; nested exception is org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: null\nCaused by: org.hibernate.HibernateException: Unable to perform beforeTransactionCompletion callback: null\n        at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:960) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:525) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2381) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-5.3.9.jar:5.3.9]\n        ... 20 common frames omitted\n\n...\n\nCaused by: java.lang.NullPointerException: null\n        at com.my.package.revision.AuditRevisionListener.newRevision(AuditRevisionListener.java:10) ~[classes/:na]\n        at org.hibernate.envers.internal.revisioninfo.DefaultRevisionInfoGenerator.generate(DefaultRevisionInfoGenerator.java:88) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\n        at org.hibernate.envers.internal.synchronization.AuditProcess.getCurrentRevisionData(AuditProcess.java:133) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\n        at org.hibernate.envers.internal.synchronization.AuditProcess.executeInSession(AuditProcess.java:115) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\n        at org.hibernate.envers.internal.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:174) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\n        at org.hibernate.envers.internal.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:47) ~[hibernate-envers-5.4.28.Final.jar:5.4.28.Final]\n        at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:954) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n        ... 28 common frames omitted\n</code></pre>\n<p>What am I missing here, why is the transaction not fully finished within the Service implementation? Is there a better way/pattern for a background thread to write to a database via JPA?</p>\n<p>Thanks</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1667246367,"post_id":74268289,"comment_id":131120543,"body_markdown":"*I keep getting results like...* Not from what you posted. There&#39;s nothing wrong with it","body":"<i>I keep getting results like...</i> Not from what you posted. There&#39;s nothing wrong with it"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667246527,"post_id":74268289,"comment_id":131120587,"body_markdown":"Since there&#39;s one min per row, you are going to need an array for the min values.  Same thing with max.  You will want to initialize mins[i] inside the outer loop.","body":"Since there&#39;s one min per row, you are going to need an array for the min values.  Same thing with max.  You will want to initialize mins[i] inside the outer loop."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667247215,"post_id":74268289,"comment_id":131120763,"body_markdown":"Oh I see. So your code is not wrong *per se* but if your goal is that you want the min/max *of each row* then you *will* need to change it","body":"Oh I see. So your code is not wrong <i>per se</i> but if your goal is that you want the min/max <i>of each row</i> then you <i>will</i> need to change it"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667271077,"creation_date":1667245535,"answer_id":74268421,"question_id":74268289,"body_markdown":"```java\r\npublic static int min(int[][] data) {\r\n    return calcRowMinMax(minPerRow(data), true);\r\n}\r\n\r\npublic static int max(int[][] data) {\r\n    return calcRowMinMax(maxPerRow(data), false);\r\n}\r\n\r\npublic static int[] minPerRow(int[][] data) {\r\n    int[] min = new int[data.length];\r\n\r\n    for (int row = 0; row &lt; data.length; row++)\r\n        min[row] = calcRowMinMax(data[row], true);\r\n\r\n    return min;\r\n}\r\n\r\npublic static int[] maxPerRow(int[][] data) {\r\n    int[] max = new int[data.length];\r\n\r\n    for (int row = 0; row &lt; data.length; row++)\r\n        max[row] = calcRowMinMax(data[row], false);\r\n\r\n    return max;\r\n}\r\n\r\nprivate static int calcRowMinMax(int[] row, boolean min) {\r\n    int res = min ? Integer.MAX_VALUE : Integer.MIN_VALUE;\r\n\r\n    for (int val : row)\r\n        res = min ? Math.min(res, val) : Math.max(res, val);\r\n\r\n    return res;\r\n}\r\n```","title":"JAVA How to find the highest number in each row of a 2d array","body":"<pre class=\"lang-java prettyprint-override\"><code>public static int min(int[][] data) {\n    return calcRowMinMax(minPerRow(data), true);\n}\n\npublic static int max(int[][] data) {\n    return calcRowMinMax(maxPerRow(data), false);\n}\n\npublic static int[] minPerRow(int[][] data) {\n    int[] min = new int[data.length];\n\n    for (int row = 0; row &lt; data.length; row++)\n        min[row] = calcRowMinMax(data[row], true);\n\n    return min;\n}\n\npublic static int[] maxPerRow(int[][] data) {\n    int[] max = new int[data.length];\n\n    for (int row = 0; row &lt; data.length; row++)\n        max[row] = calcRowMinMax(data[row], false);\n\n    return max;\n}\n\nprivate static int calcRowMinMax(int[] row, boolean min) {\n    int res = min ? Integer.MAX_VALUE : Integer.MIN_VALUE;\n\n    for (int val : row)\n        res = min ? Math.min(res, val) : Math.max(res, val);\n\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26493810,"reputation":323,"user_id":20131874,"display_name":"mmartinez04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667247067,"creation_date":1667247067,"answer_id":74268660,"question_id":74268289,"body_markdown":"The following code will print the `max` and `min` for each `row`\r\n\r\n    for ( int row=0; row &lt; data.length; row++)\r\n    {\r\n      for ( int col=0; col &lt; data[row].length; col++) \r\n      {\r\n         //Find max as usual\r\n         if (data[row][col] &gt; max){\r\n           max = data[row][col];\r\n         }\r\n         \r\n         //Find min as usual\r\n         if (data[row][col] &lt; min){\r\n           min = data[row][col];\r\n         }\r\n      }\r\n      \r\n      //Print min/max for this row\r\n      System.out.println(&quot;row = &quot; + row + &quot;; max = &quot; + max + &quot;; min = &quot; + min );\r\n      \r\n      //Reset min/max\r\n      max = Integer.MIN_VALUE;\r\n\t  min = Integer.MAX_VALUE;\r\n    }\r\n\r\nIf you&#39;d like to still find the overall `max`/`min`, instead of printing the values, add them to an array and find the `max`/`min` from there","title":"JAVA How to find the highest number in each row of a 2d array","body":"<p>The following code will print the <code>max</code> and <code>min</code> for each <code>row</code></p>\n<pre><code>for ( int row=0; row &lt; data.length; row++)\n{\n  for ( int col=0; col &lt; data[row].length; col++) \n  {\n     //Find max as usual\n     if (data[row][col] &gt; max){\n       max = data[row][col];\n     }\n     \n     //Find min as usual\n     if (data[row][col] &lt; min){\n       min = data[row][col];\n     }\n  }\n  \n  //Print min/max for this row\n  System.out.println(&quot;row = &quot; + row + &quot;; max = &quot; + max + &quot;; min = &quot; + min );\n  \n  //Reset min/max\n  max = Integer.MIN_VALUE;\n  min = Integer.MAX_VALUE;\n}\n</code></pre>\n<p>If you'd like to still find the overall <code>max</code>/<code>min</code>, instead of printing the values, add them to an array and find the <code>max</code>/<code>min</code> from there</p>\n"},{"tags":[],"owner":{"account_id":26545592,"reputation":176,"user_id":20175711,"display_name":"Not A Number"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667312898,"creation_date":1667283488,"answer_id":74272189,"question_id":74268289,"body_markdown":"Solution without plain for loops using built-in classes\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        int[][] data = { {3, 2, 5},\r\n            {1, 4, 4, 8, 13},\r\n            {9, 1, 0, 2},\r\n            {0, 2, 6, 3, -1, -8} };\r\n        var statistics = Stream.of(data).flatMapToInt(IntStream::of).summaryStatistics();\r\n        int min = statistics.getMin(), max = statistics.getMax();\r\n    }\r\n```\r\n**Edit**: I was inattentive. Below is an example of getting the maximum value in a particular row. If you want to process all data, you should iterate over `allStatistics`\r\n```\r\n        //data allocation\r\n        var allStatistics = Stream.of(data)\r\n           .map(row -&gt; IntStream.of(row).summaryStatistics())\r\n           .toList();\r\n        int maxOfSecondRow = allStatistics.get(1).getMax();\r\n```","title":"JAVA How to find the highest number in each row of a 2d array","body":"<p>Solution without plain for loops using built-in classes</p>\n<pre><code>    public static void main(String[] args) {\n        int[][] data = { {3, 2, 5},\n            {1, 4, 4, 8, 13},\n            {9, 1, 0, 2},\n            {0, 2, 6, 3, -1, -8} };\n        var statistics = Stream.of(data).flatMapToInt(IntStream::of).summaryStatistics();\n        int min = statistics.getMin(), max = statistics.getMax();\n    }\n</code></pre>\n<p><strong>Edit</strong>: I was inattentive. Below is an example of getting the maximum value in a particular row. If you want to process all data, you should iterate over <code>allStatistics</code></p>\n<pre><code>        //data allocation\n        var allStatistics = Stream.of(data)\n           .map(row -&gt; IntStream.of(row).summaryStatistics())\n           .toList();\n        int maxOfSecondRow = allStatistics.get(1).getMax();\n</code></pre>\n"}],"owner":{"account_id":24003315,"reputation":3,"user_id":17987869,"display_name":"Nathan Sarabin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74268660,"answer_count":3,"score":-2,"last_activity_date":1667312898,"creation_date":1667244746,"question_id":74268289,"body_markdown":"\r\n\r\nI have made it find the max and min value in the entire 2d array seen below but now I&#39;m wanting to make it find the highest value in each row and don&#39;t really know how to go about it. \r\n```\r\npublic class Main\r\n{\r\n\r\n  public static void main ( String[] args )  \r\n  {\r\n    int[][] data = { {3, 2, 5},\r\n                     {1, 4, 4, 8, 13},\r\n                     {9, 1, 0, 2},\r\n                     {0, 2, 6, 3, -1, -8} };\r\n\r\n    \r\n    int max = data[0][0];\r\n    int min = data[0][0];\r\n  \r\n    \r\n    for ( int row=0; row &lt; data.length; row++)\r\n    {\r\n      for ( int col=0; col &lt; data[row].length; col++) \r\n      {\r\n         if (data[row][col] &gt; max){\r\n           max = data[row][col];\r\n           \r\n         }\r\n         if (data[row][col] &lt; min){\r\n           min = data[row][col];\r\n         }\r\n      }\r\n    }  \r\n\r\n    System.out.println( &quot;max = &quot; + max + &quot;; min = &quot; + min );\r\n\r\n  }\r\n}      \r\n\r\n```\r\n\r\n\r\nI keep getting results like\r\n\r\n    2\r\n    5\r\n    4\r\n    4\r\n    8\r\n    1\r\n    3\r\n    1\r\n    1\r\n    2\r\n    2\r\n    6\r\n    6\r\n    6\r\n    6","title":"JAVA How to find the highest number in each row of a 2d array","body":"<p>I have made it find the max and min value in the entire 2d array seen below but now I'm wanting to make it find the highest value in each row and don't really know how to go about it.</p>\n<pre><code>public class Main\n{\n\n  public static void main ( String[] args )  \n  {\n    int[][] data = { {3, 2, 5},\n                     {1, 4, 4, 8, 13},\n                     {9, 1, 0, 2},\n                     {0, 2, 6, 3, -1, -8} };\n\n    \n    int max = data[0][0];\n    int min = data[0][0];\n  \n    \n    for ( int row=0; row &lt; data.length; row++)\n    {\n      for ( int col=0; col &lt; data[row].length; col++) \n      {\n         if (data[row][col] &gt; max){\n           max = data[row][col];\n           \n         }\n         if (data[row][col] &lt; min){\n           min = data[row][col];\n         }\n      }\n    }  \n\n    System.out.println( &quot;max = &quot; + max + &quot;; min = &quot; + min );\n\n  }\n}      \n\n</code></pre>\n<p>I keep getting results like</p>\n<pre><code>2\n5\n4\n4\n8\n1\n3\n1\n1\n2\n2\n6\n6\n6\n6\n</code></pre>\n"},{"tags":["java","spring-boot","backend"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667323854,"post_id":74276602,"comment_id":131139037,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":20713334,"reputation":109,"user_id":15209447,"display_name":"Isakots"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667312790,"creation_date":1667312446,"answer_id":74277366,"question_id":74276602,"body_markdown":"I&#39;m a little bit confused, what you are trying to achieve.\r\n\r\n1. If you are trying to find turnos by persona id, then do this, it will do the join for you under the hood.\r\n\r\n`List&lt;Turno&gt; findAllByPersonaId(int id);`\r\n\r\n2. If you are trying to get all turno, just simply do this. (Probably it&#39;s not it, because you wanna do a join)\r\n\r\n`List&lt;Turno&gt; findAll();`\r\n\r\n3. If you want to find all Turno by Persona and retrieve Persona data as well, then do this:\r\n\r\na, Create a Projection, which contains de necesary information you want to retrieve: (like this: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections )\r\n\r\n```\r\npublic interface TurnoPersonaProjection {\r\n  String getName();\r\n  String getApellidos();\r\n  String getFechaturno();\r\n  String getMedico()\r\n}\r\n```\r\nb, then retreive projection with the query:  \r\n```\r\n@Query(&quot;SELECT p.name,p.apellidos,c.fechaturno,c.medico FROM Turno t INNER JOIN Persona p ON t.idturno = p.id WHERE p.id = :personaId&quot;)\r\n    List&lt;TurnoPersonaProjection&gt; findTurnoPersonaProjectionByPersonaId(int personaId);\r\n```\r\n\r\nPS: PLEASE develop in English","title":"How to execute Query Inner Join Spring Boot","body":"<p>I'm a little bit confused, what you are trying to achieve.</p>\n<ol>\n<li>If you are trying to find turnos by persona id, then do this, it will do the join for you under the hood.</li>\n</ol>\n<p><code>List&lt;Turno&gt; findAllByPersonaId(int id);</code></p>\n<ol start=\"2\">\n<li>If you are trying to get all turno, just simply do this. (Probably it's not it, because you wanna do a join)</li>\n</ol>\n<p><code>List&lt;Turno&gt; findAll();</code></p>\n<ol start=\"3\">\n<li>If you want to find all Turno by Persona and retrieve Persona data as well, then do this:</li>\n</ol>\n<p>a, Create a Projection, which contains de necesary information you want to retrieve: (like this: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections</a> )</p>\n<pre><code>public interface TurnoPersonaProjection {\n  String getName();\n  String getApellidos();\n  String getFechaturno();\n  String getMedico()\n}\n</code></pre>\n<p>b, then retreive projection with the query:</p>\n<pre><code>@Query(&quot;SELECT p.name,p.apellidos,c.fechaturno,c.medico FROM Turno t INNER JOIN Persona p ON t.idturno = p.id WHERE p.id = :personaId&quot;)\n    List&lt;TurnoPersonaProjection&gt; findTurnoPersonaProjectionByPersonaId(int personaId);\n</code></pre>\n<p>PS: PLEASE develop in English</p>\n"}],"owner":{"account_id":26107540,"reputation":15,"user_id":19977174,"display_name":"Federico Andres Ratcliffe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74277366,"answer_count":1,"score":0,"last_activity_date":1667312790,"creation_date":1667308802,"question_id":74276602,"body_markdown":"I am trying to get my Spring Boot Backend to do an INNER JOIN Query and then I can display the data from that query in my Angular Frontend.\r\n\r\nSpring Boot say me: &quot;Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: persona is not mapped&quot; &quot;persona is not mapped [SELECT name,apellidos,fechaturno,medico FROM persona c INNER JOIN turnos c1 ON c.id = c1.idturno]&quot;\r\n\r\nEntity/Class &quot;Persona&quot;\r\n\r\n```\r\n@Entity @Table(name=&quot;persona&quot;)\r\npublic class Persona {\r\n    \r\n    @Id @Column @GeneratedValue(strategy=GenerationType.IDENTITY) private int id;\r\n    @Column private String name;\r\n    @Column private String apellidos;\r\n    \r\n    \r\n    \r\n    @OneToMany(mappedBy = &quot;persona&quot;)\r\n    List&lt;Turno&gt; turnos;\r\n    \r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    \r\n    \r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    \r\n    \r\n    public String getApellidos() {\r\n        return apellidos;\r\n    }\r\n    public void setApellidos(String apellidos) {\r\n        this.apellidos = apellidos;\r\n    }\r\n\r\n    public List&lt;Turno&gt; getTurnos() {\r\n        return turnos;\r\n    }\r\n\r\n    public void setTurnos(List&lt;Turno&gt; turnos) {\r\n        this.turnos = turnos;\r\n    } \r\n}\r\n```\r\n\r\n\r\nPersonaServiceImp\r\n\r\n```\r\n@Service\r\npublic class PersonaServiceImp implements PersonaService{\r\n    \r\n    @Autowired\r\n    private PersonaRepositorio repositorio; \r\n    \r\n    @Override\r\n    public List&lt;Persona&gt; listar() {\r\n        return repositorio.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Persona listarId(int id) {\r\n        return repositorio.findByid(id);\r\n    }\r\n\r\n    @Override\r\n    public Persona add(Persona p) {\r\n        return repositorio.save(p);\r\n    }\r\n\r\n    @Override\r\n    public Persona edit(Persona p) {\r\n        return repositorio.save(p);\r\n    }\r\n\r\n    @Override\r\n    public Persona delete(int id) {\r\n        Persona p = repositorio.findByid(id);\r\n        if(p!=null){\r\n           repositorio.delete(p); \r\n        }\r\n        return p;\r\n    }\r\n    \r\n}\r\n```\r\n\r\nEntity/Class &quot;Turno&quot;\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;turnos&quot;)\r\npublic class Turno {\r\n    \r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;idturno&quot;)\r\n    private int idturno;\r\n    \r\n    \r\n    @Column(name = &quot;fechaturno&quot;)\r\n    private String fechaturno;\r\n    \r\n    @Column(name = &quot;medico&quot;)\r\n    private String medico;\r\n    \r\n    \r\n    @ManyToOne\r\n    private Persona persona;\r\n\r\n    public Turno(){\r\n        \r\n    }\r\n\r\n    public int getIdturno() {\r\n        return idturno;\r\n    }\r\n\r\n    public void setIdturno(int idturno) {\r\n        this.idturno = idturno;\r\n    }\r\n\r\n    public String getFechaturno() {\r\n        return fechaturno;\r\n    }\r\n\r\n    public void setFechaturno(String fechaturno) {\r\n        this.fechaturno = fechaturno;\r\n    }\r\n\r\n    public String getMedico() {\r\n        return medico;\r\n    }\r\n\r\n    public void setMedico(String medico) {\r\n        this.medico = medico;\r\n    }\r\n\r\n    public Persona getPersona() {\r\n        return persona;\r\n    }\r\n\r\n    public void setPersona(Persona persona) {\r\n        this.persona = persona;\r\n    }   \r\n}\r\n```\r\n\r\nnow, the services/Repositorys &quot;Persona Repositorio&quot;\r\n\r\n```\r\npublic interface PersonaRepositorio extends JpaRepository&lt;Persona, Integer&gt; {\r\n    //list all person\r\n    List&lt;Persona&gt;findAll();\r\n    //list one person\r\n    Persona findByid(int id);\r\n    //save changes news or update\r\n    Persona save(Persona p);\r\n    //delete\r\n    void delete(Persona p);\r\n}\r\n```\r\n\r\nPersona Service\r\n\r\n```\r\n@Service\r\npublic interface PersonaService {\r\n    // object type list\r\n    List&lt;Persona&gt;listar(); //list all person\r\n\r\n    Persona listarId(int id); //list one person\r\n    Persona add(Persona p);//add one person\r\n    Persona edit(Persona p);//edit one person\r\n    Persona delete(int id);//delete one person \r\n}\r\n```\r\n\r\nand Turno Repository (where I think I would have to do the Query)\r\n\r\n```\r\n@Repository\r\npublic interface TurnoRepository extends JpaRepository&lt;Turno, Integer&gt; {\r\n    \r\n    @Query(&quot;SELECT name,apellidos,fechaturno,medico FROM persona c INNER JOIN turnos c1 ON c.id = c1.idturno&quot;)\r\n    List&lt;Turno&gt; findByIdturno(int idturno);\r\n    \r\n    Turno findById(int idturno);\r\n    \r\n    \r\n    \r\n}\r\n```\r\n\r\nContext: The relation is that a person can have many shifts and when doing a query on that it will bring the names and surnames of the persons with the date of shift and the corresponding physician\r\n\r\nbut I can&#39;t get it to do the query\r\n\r\nObtaining data from an Inner Join query, to display the information in Angular.","title":"How to execute Query Inner Join Spring Boot","body":"<p>I am trying to get my Spring Boot Backend to do an INNER JOIN Query and then I can display the data from that query in my Angular Frontend.</p>\n<p>Spring Boot say me: &quot;Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: persona is not mapped&quot; &quot;persona is not mapped [SELECT name,apellidos,fechaturno,medico FROM persona c INNER JOIN turnos c1 ON c.id = c1.idturno]&quot;</p>\n<p>Entity/Class &quot;Persona&quot;</p>\n<pre><code>@Entity @Table(name=&quot;persona&quot;)\npublic class Persona {\n    \n    @Id @Column @GeneratedValue(strategy=GenerationType.IDENTITY) private int id;\n    @Column private String name;\n    @Column private String apellidos;\n    \n    \n    \n    @OneToMany(mappedBy = &quot;persona&quot;)\n    List&lt;Turno&gt; turnos;\n    \n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    \n    \n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    \n    \n    public String getApellidos() {\n        return apellidos;\n    }\n    public void setApellidos(String apellidos) {\n        this.apellidos = apellidos;\n    }\n\n    public List&lt;Turno&gt; getTurnos() {\n        return turnos;\n    }\n\n    public void setTurnos(List&lt;Turno&gt; turnos) {\n        this.turnos = turnos;\n    } \n}\n</code></pre>\n<p>PersonaServiceImp</p>\n<pre><code>@Service\npublic class PersonaServiceImp implements PersonaService{\n    \n    @Autowired\n    private PersonaRepositorio repositorio; \n    \n    @Override\n    public List&lt;Persona&gt; listar() {\n        return repositorio.findAll();\n    }\n\n    @Override\n    public Persona listarId(int id) {\n        return repositorio.findByid(id);\n    }\n\n    @Override\n    public Persona add(Persona p) {\n        return repositorio.save(p);\n    }\n\n    @Override\n    public Persona edit(Persona p) {\n        return repositorio.save(p);\n    }\n\n    @Override\n    public Persona delete(int id) {\n        Persona p = repositorio.findByid(id);\n        if(p!=null){\n           repositorio.delete(p); \n        }\n        return p;\n    }\n    \n}\n</code></pre>\n<p>Entity/Class &quot;Turno&quot;</p>\n<pre><code>@Entity\n@Table(name = &quot;turnos&quot;)\npublic class Turno {\n    \n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;idturno&quot;)\n    private int idturno;\n    \n    \n    @Column(name = &quot;fechaturno&quot;)\n    private String fechaturno;\n    \n    @Column(name = &quot;medico&quot;)\n    private String medico;\n    \n    \n    @ManyToOne\n    private Persona persona;\n\n    public Turno(){\n        \n    }\n\n    public int getIdturno() {\n        return idturno;\n    }\n\n    public void setIdturno(int idturno) {\n        this.idturno = idturno;\n    }\n\n    public String getFechaturno() {\n        return fechaturno;\n    }\n\n    public void setFechaturno(String fechaturno) {\n        this.fechaturno = fechaturno;\n    }\n\n    public String getMedico() {\n        return medico;\n    }\n\n    public void setMedico(String medico) {\n        this.medico = medico;\n    }\n\n    public Persona getPersona() {\n        return persona;\n    }\n\n    public void setPersona(Persona persona) {\n        this.persona = persona;\n    }   \n}\n</code></pre>\n<p>now, the services/Repositorys &quot;Persona Repositorio&quot;</p>\n<pre><code>public interface PersonaRepositorio extends JpaRepository&lt;Persona, Integer&gt; {\n    //list all person\n    List&lt;Persona&gt;findAll();\n    //list one person\n    Persona findByid(int id);\n    //save changes news or update\n    Persona save(Persona p);\n    //delete\n    void delete(Persona p);\n}\n</code></pre>\n<p>Persona Service</p>\n<pre><code>@Service\npublic interface PersonaService {\n    // object type list\n    List&lt;Persona&gt;listar(); //list all person\n\n    Persona listarId(int id); //list one person\n    Persona add(Persona p);//add one person\n    Persona edit(Persona p);//edit one person\n    Persona delete(int id);//delete one person \n}\n</code></pre>\n<p>and Turno Repository (where I think I would have to do the Query)</p>\n<pre><code>@Repository\npublic interface TurnoRepository extends JpaRepository&lt;Turno, Integer&gt; {\n    \n    @Query(&quot;SELECT name,apellidos,fechaturno,medico FROM persona c INNER JOIN turnos c1 ON c.id = c1.idturno&quot;)\n    List&lt;Turno&gt; findByIdturno(int idturno);\n    \n    Turno findById(int idturno);\n    \n    \n    \n}\n</code></pre>\n<p>Context: The relation is that a person can have many shifts and when doing a query on that it will bring the names and surnames of the persons with the date of shift and the corresponding physician</p>\n<p>but I can't get it to do the query</p>\n<p>Obtaining data from an Inner Join query, to display the information in Angular.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1667313072,"post_id":74276522,"comment_id":131135160,"body_markdown":"You need to write your own function.  You&#39;ll probably use [String.split()](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html) to parse out the &quot;words&quot;.  Look at Asraf&#39;s excellent reply below.  Please consider &quot;upvoting&quot; and &quot;accepting&quot; it.","body":"You need to write your own function.  You&#39;ll probably use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\">String.split()</a> to parse out the &quot;words&quot;.  Look at Asraf&#39;s excellent reply below.  Please consider &quot;upvoting&quot; and &quot;accepting&quot; it."}],"answers":[{"tags":[],"owner":{"account_id":26764465,"reputation":1324,"user_id":20361860,"display_name":"Asraf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667312759,"creation_date":1667312759,"answer_id":74277428,"question_id":74276522,"body_markdown":"You can use some document similarly techniques like [`Cosine similariy`][1]\r\n\r\nHere I have implemented a solution based on your description. \r\n\r\n    \t\r\n    double findSimilarityRatio (String sentence1, String sentence2) {\r\n    \t\r\n    \tHashMap&lt;String, Integer&gt; firstSentenceMap = new HashMap&lt;&gt;();\r\n    \tHashMap&lt;String, Integer&gt; secondSentenceMap = new HashMap&lt;&gt;();\r\n    \t\r\n    \tString[] firstSentenceWords = sentence1.split(&quot; &quot;);\r\n    \tString[] secondSentenceWords = sentence2.split(&quot; &quot;);\r\n    \t\r\n    \tfor (String word : firstSentenceWords) {\r\n    \t\tif (firstSentenceMap.containsKey(word)) {\r\n    \t\t\tfirstSentenceMap.put(word, firstSentenceMap.get(word) + 1);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tfirstSentenceMap.put(word, 1);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tfor (String word : secondSentenceWords) {\r\n    \t\tif (secondSentenceMap.containsKey(word)) {\r\n    \t\t\tsecondSentenceMap.put(word, secondSentenceMap.get(word) + 1);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tsecondSentenceMap.put(word, 1);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tdouble totalWords = 0;\r\n    \tdouble totalHits = 0;\r\n    \t\r\n    \tif (firstSentenceWords.length &gt;= secondSentenceWords.length) {\r\n    \t\ttotalWords = firstSentenceWords.length;\r\n    \t\tfor (Map.Entry&lt;String, Integer&gt; entry : firstSentenceMap.entrySet()) {\r\n    \t\t    String key = entry.getKey();\r\n    \t\t    \r\n    \t\t    if (secondSentenceMap.containsKey(key)) {\r\n    \t\t    \ttotalHits = totalHits + Math.min(secondSentenceMap.get(key), firstSentenceMap.get(key)); \r\n    \t\t    }\r\n    \t\t}\r\n    \t}\r\n    \telse {\r\n    \t\ttotalWords = secondSentenceWords.length;\r\n    \t\tfor (Map.Entry&lt;String, Integer&gt; entry : secondSentenceMap.entrySet()) {\r\n    \t\t    String key = entry.getKey();\r\n    \t\t    \r\n    \t\t    if (firstSentenceMap.containsKey(key)) {\r\n    \t\t    \ttotalHits = totalHits + Math.min(secondSentenceMap.get(key), firstSentenceMap.get(key)); \r\n    \t\t    }\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \treturn totalHits/totalWords;\r\n    }\r\n\r\nHope it helps, cheers!\r\n\r\n  [1]: https://paulminogue.com/posts/0de56ac8-914a-4056-9bf9-005572959bb1","title":"Sentence,String Similarity Comparison in Java","body":"<p>You can use some document similarly techniques like <a href=\"https://paulminogue.com/posts/0de56ac8-914a-4056-9bf9-005572959bb1\" rel=\"nofollow noreferrer\"><code>Cosine similariy</code></a></p>\n<p>Here I have implemented a solution based on your description.</p>\n<pre><code>double findSimilarityRatio (String sentence1, String sentence2) {\n    \n    HashMap&lt;String, Integer&gt; firstSentenceMap = new HashMap&lt;&gt;();\n    HashMap&lt;String, Integer&gt; secondSentenceMap = new HashMap&lt;&gt;();\n    \n    String[] firstSentenceWords = sentence1.split(&quot; &quot;);\n    String[] secondSentenceWords = sentence2.split(&quot; &quot;);\n    \n    for (String word : firstSentenceWords) {\n        if (firstSentenceMap.containsKey(word)) {\n            firstSentenceMap.put(word, firstSentenceMap.get(word) + 1);\n        }\n        else {\n            firstSentenceMap.put(word, 1);\n        }\n    }\n    \n    for (String word : secondSentenceWords) {\n        if (secondSentenceMap.containsKey(word)) {\n            secondSentenceMap.put(word, secondSentenceMap.get(word) + 1);\n        }\n        else {\n            secondSentenceMap.put(word, 1);\n        }\n    }\n    \n    double totalWords = 0;\n    double totalHits = 0;\n    \n    if (firstSentenceWords.length &gt;= secondSentenceWords.length) {\n        totalWords = firstSentenceWords.length;\n        for (Map.Entry&lt;String, Integer&gt; entry : firstSentenceMap.entrySet()) {\n            String key = entry.getKey();\n            \n            if (secondSentenceMap.containsKey(key)) {\n                totalHits = totalHits + Math.min(secondSentenceMap.get(key), firstSentenceMap.get(key)); \n            }\n        }\n    }\n    else {\n        totalWords = secondSentenceWords.length;\n        for (Map.Entry&lt;String, Integer&gt; entry : secondSentenceMap.entrySet()) {\n            String key = entry.getKey();\n            \n            if (firstSentenceMap.containsKey(key)) {\n                totalHits = totalHits + Math.min(secondSentenceMap.get(key), firstSentenceMap.get(key)); \n            }\n        }\n        \n    }\n    \n    return totalHits/totalWords;\n}\n</code></pre>\n<p>Hope it helps, cheers!</p>\n"}],"owner":{"account_id":26506556,"reputation":15,"user_id":20142626,"display_name":"Emre Terzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74277428,"answer_count":1,"score":1,"last_activity_date":1667312759,"creation_date":1667308408,"question_id":74276522,"body_markdown":"I had a question about the word similarity between the two sentences.\r\nexample: Jack go to basketball.\r\nJack go to basketball match\r\nI want to know the code to find the similarity ratio by dividing the number of words that are the same by the number of words of the long sentence. Which library should I use for this, thank you.\r\n\r\n```\r\nThere are many kinds of similarity as similarity. I want to know which similarity title this similarity belongs to.\r\n```\r\n","title":"Sentence,String Similarity Comparison in Java","body":"<p>I had a question about the word similarity between the two sentences.\nexample: Jack go to basketball.\nJack go to basketball match\nI want to know the code to find the similarity ratio by dividing the number of words that are the same by the number of words of the long sentence. Which library should I use for this, thank you.</p>\n<pre><code>There are many kinds of similarity as similarity. I want to know which similarity title this similarity belongs to.\n</code></pre>\n"},{"tags":["java","jar","manifest"],"comments":[{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1667309824,"post_id":74276555,"comment_id":131133966,"body_markdown":"@Vinz I appreciate the reference, but in this scenario I am changing attributes of an external jar, not the application jar. I updated my question with more details.","body":"@Vinz I appreciate the reference, but in this scenario I am changing attributes of an external jar, not the application jar. I updated my question with more details."}],"answers":[{"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667312310,"creation_date":1667312310,"answer_id":74277339,"question_id":74276555,"body_markdown":"Make sure you append another linefeed after your newly added entry in the manifest and you should be good to go.\r\n\r\n```\r\nmanifestData.append(&quot;\\n&quot;).append(&quot;Deployments-Version: &quot;).append(testVersion).append(&quot;\\n&quot;);\r\n```","title":"Why can&#39;t I read custom manifest attributes from a jar?","body":"<p>Make sure you append another linefeed after your newly added entry in the manifest and you should be good to go.</p>\n<pre><code>manifestData.append(&quot;\\n&quot;).append(&quot;Deployments-Version: &quot;).append(testVersion).append(&quot;\\n&quot;);\n</code></pre>\n"}],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74277339,"answer_count":1,"score":0,"last_activity_date":1667312310,"creation_date":1667308545,"question_id":74276555,"body_markdown":"I want to add custom manifest attributes to an existing jar file. The file is an external jar and is not the jar containing my application, nor is it a dependency of my application.\r\n\r\nI drafted up some test code and verified that it makes the desired changes (by accessing the manifest with 7zip). However, it seems like Java is ignoring the manifest entry. When I call `java.util.jar.Attributes.getValue(String)`, it returns null. This is the code I am using:\r\n\r\n\tpublic static void main(String[] args) throws IOException, URISyntaxException {\r\n\t\tFile jar = new File(&quot;C:\\\\Users\\\\employee1234\\\\Desktop\\\\auth-0.1.3.jar&quot;);\r\n\t\tString testVersion = &quot;1.2.3&quot;;\r\n\r\n\t\tMap&lt;String, String&gt; env = new HashMap&lt;&gt;();\r\n\t\tenv.put(&quot;create&quot;, &quot;true&quot;);\r\n\r\n\t\t// Mount the jar\r\n\t\ttry (FileSystem fileSystem = FileSystems.newFileSystem(jarFileToURI(jar), env)) {\r\n\t\t\t// Read the manifest\r\n\t\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\t\t\tPath manifestPath = fileSystem.getPath(&quot;/META-INF/MANIFEST.MF&quot;);\r\n\t\t\tFiles.copy(manifestPath, byteArrayOutputStream);\r\n\r\n\t\t\t// Convert the manifest bytes to a string and construct a string builder\r\n\t\t\tStringBuilder manifestData = new StringBuilder(byteArrayOutputStream.toString().trim());\r\n\t\t\t// Add the custom manifest attribute\r\n\t\t\tmanifestData.append(&quot;\\n&quot;);\r\n\t\t\tmanifestData.append(&quot;Deployments-Version: &quot;);\r\n\t\t\tmanifestData.append(testVersion);\r\n\r\n\t\t\t// Write the manifest back to the jar\r\n\t\t\tFiles.copy(new ByteArrayInputStream(manifestData.toString().getBytes()), manifestPath,\r\n\t\t\t\t\tStandardCopyOption.REPLACE_EXISTING);\r\n\t\t\t\r\n\t\t\t// Try-with-resources closes the mounted jar\r\n\t\t}\r\n\r\n\t\t// This part doesn&#39;t work\r\n\t\ttry (JarFile jarFile = new JarFile(jar)) {\r\n\t\t\tManifest manifest = jarFile.getManifest();\r\n\t\t\tSystem.out.println(manifest.getMainAttributes().getValue(&quot;Deployments-Version&quot;));\r\n\t\t}\r\n\t}\r\n\r\n\t// Stolen from java.io.File with some modifications\r\n\tprivate static URI jarFileToURI(File jarFile) throws URISyntaxException {\r\n\t\tString sp = slashify(jarFile.getAbsoluteFile().getPath(), false);\r\n\t\tif (sp.startsWith(&quot;//&quot;))\r\n\t\t\tsp = &quot;//&quot; + sp;\r\n\t\treturn new URI(&quot;jar:file&quot;, null, sp, null);\r\n\t}\r\n\r\n\t// Stolen from java.io.File;\r\n\tprivate static String slashify(String path, boolean isDirectory) {\r\n\t\tString p = path;\r\n\t\tif (File.separatorChar != &#39;/&#39;)\r\n\t\t\tp = p.replace(File.separatorChar, &#39;/&#39;);\r\n\t\tif (!p.startsWith(&quot;/&quot;))\r\n\t\t\tp = &quot;/&quot; + p;\r\n\t\tif (!p.endsWith(&quot;/&quot;) &amp;&amp; isDirectory)\r\n\t\t\tp = p + &quot;/&quot;;\r\n\t\treturn p;\r\n\t}\r\n\r\nI inspected the [`Manifest`][1] instance in my debugger and the attribute was not anywhere present. I double and triple checked the jar file, and the manifest reflects my changes:\r\n\r\n    Manifest-Version: 1.0\r\n    Archiver-Version: Plexus Archiver\r\n    Created-By: Apache Maven\r\n    Built-By: employee1234\r\n    Build-Jdk: 1.8.0_202\r\n    Deployments-Version: 1.2.3\r\n\r\nIs my issue with the way I am adding the attribute, or is the way I am attempting to read it? What am I doing wrong?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/jar/Manifest.html","title":"Why can&#39;t I read custom manifest attributes from a jar?","body":"<p>I want to add custom manifest attributes to an existing jar file. The file is an external jar and is not the jar containing my application, nor is it a dependency of my application.</p>\n<p>I drafted up some test code and verified that it makes the desired changes (by accessing the manifest with 7zip). However, it seems like Java is ignoring the manifest entry. When I call <code>java.util.jar.Attributes.getValue(String)</code>, it returns null. This is the code I am using:</p>\n<pre><code>public static void main(String[] args) throws IOException, URISyntaxException {\n    File jar = new File(&quot;C:\\\\Users\\\\employee1234\\\\Desktop\\\\auth-0.1.3.jar&quot;);\n    String testVersion = &quot;1.2.3&quot;;\n\n    Map&lt;String, String&gt; env = new HashMap&lt;&gt;();\n    env.put(&quot;create&quot;, &quot;true&quot;);\n\n    // Mount the jar\n    try (FileSystem fileSystem = FileSystems.newFileSystem(jarFileToURI(jar), env)) {\n        // Read the manifest\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        Path manifestPath = fileSystem.getPath(&quot;/META-INF/MANIFEST.MF&quot;);\n        Files.copy(manifestPath, byteArrayOutputStream);\n\n        // Convert the manifest bytes to a string and construct a string builder\n        StringBuilder manifestData = new StringBuilder(byteArrayOutputStream.toString().trim());\n        // Add the custom manifest attribute\n        manifestData.append(&quot;\\n&quot;);\n        manifestData.append(&quot;Deployments-Version: &quot;);\n        manifestData.append(testVersion);\n\n        // Write the manifest back to the jar\n        Files.copy(new ByteArrayInputStream(manifestData.toString().getBytes()), manifestPath,\n                StandardCopyOption.REPLACE_EXISTING);\n        \n        // Try-with-resources closes the mounted jar\n    }\n\n    // This part doesn't work\n    try (JarFile jarFile = new JarFile(jar)) {\n        Manifest manifest = jarFile.getManifest();\n        System.out.println(manifest.getMainAttributes().getValue(&quot;Deployments-Version&quot;));\n    }\n}\n\n// Stolen from java.io.File with some modifications\nprivate static URI jarFileToURI(File jarFile) throws URISyntaxException {\n    String sp = slashify(jarFile.getAbsoluteFile().getPath(), false);\n    if (sp.startsWith(&quot;//&quot;))\n        sp = &quot;//&quot; + sp;\n    return new URI(&quot;jar:file&quot;, null, sp, null);\n}\n\n// Stolen from java.io.File;\nprivate static String slashify(String path, boolean isDirectory) {\n    String p = path;\n    if (File.separatorChar != '/')\n        p = p.replace(File.separatorChar, '/');\n    if (!p.startsWith(&quot;/&quot;))\n        p = &quot;/&quot; + p;\n    if (!p.endsWith(&quot;/&quot;) &amp;&amp; isDirectory)\n        p = p + &quot;/&quot;;\n    return p;\n}\n</code></pre>\n<p>I inspected the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/jar/Manifest.html\" rel=\"nofollow noreferrer\"><code>Manifest</code></a> instance in my debugger and the attribute was not anywhere present. I double and triple checked the jar file, and the manifest reflects my changes:</p>\n<pre><code>Manifest-Version: 1.0\nArchiver-Version: Plexus Archiver\nCreated-By: Apache Maven\nBuilt-By: employee1234\nBuild-Jdk: 1.8.0_202\nDeployments-Version: 1.2.3\n</code></pre>\n<p>Is my issue with the way I am adding the attribute, or is the way I am attempting to read it? What am I doing wrong?</p>\n"},{"tags":["java","maven","visual-studio-code","project"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1507885412,"post_id":46671308,"comment_id":80398524,"body_markdown":"Have you installed the [Java extension pack](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack)? [Your editor&#39;s documentation](https://code.visualstudio.com/docs/languages/java) suggests using it to support Java. I hope once it&#39;s installed you won&#39;t have to bother with maven just to compile your code.","body":"Have you installed the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Java extension pack</a>? <a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"nofollow noreferrer\">Your editor&#39;s documentation</a> suggests using it to support Java. I hope once it&#39;s installed you won&#39;t have to bother with maven just to compile your code."},{"owner":{"account_id":533160,"reputation":2822,"user_id":903783,"display_name":"George Birbilis"},"score":0,"creation_date":1527990534,"post_id":46671308,"comment_id":88335353,"body_markdown":"also see https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-maven and https://blogs.msdn.microsoft.com/visualstudio/2018/01/11/new-visual-studio-code-extensions-for-java-developers-maven-tomcat-and-checkstyle/","body":"also see <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-maven\" rel=\"nofollow noreferrer\">marketplace.visualstudio.com/&hellip;</a> and <a href=\"https://blogs.msdn.microsoft.com/visualstudio/2018/01/11/new-visual-studio-code-extensions-for-java-developers-maven-tomcat-and-checkstyle/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/visualstudio/2018/01/11/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"down_vote_count":0,"up_vote_count":132,"is_accepted":true,"score":132,"last_activity_date":1667312257,"creation_date":1507888365,"answer_id":46727175,"question_id":46671308,"body_markdown":"Here is a complete list of steps - you may not need steps 1-3 but am including them for completeness:-\r\n\r\n 1. [Download VS Code](https://code.visualstudio.com/download) and [Apache Maven](https://maven.apache.org/download.cgi) and install both.\r\n 2. Install the Visual Studio extension pack for Java - e.g. by pasting this URL into a web browser: `vscode:extension/vscjava.vscode-java-pack` and then clicking on the green Install button after it opens in VS Code.\r\n 3. **NOTE: See the comment from ADTC for an &quot;Easier GUI version of step 3...(Skip step 4).&quot;** If necessary, the Maven quick start archetype could be used to generate a new Maven project in an appropriate local folder: `mvn archetype:generate -DgroupId=`***com.companyname.appname***` -DartifactId=`***appname***` -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false`. This will create an ***appname*** folder with Maven&#39;s [Standard Directory Layout](https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html) (i.e. `src/main/java/com/companyname/appname` and `src/main/test/com/companyname/appname` to begin with and a sample &quot;Hello World!&quot; Java file named ***appname***`.java` and associated unit test named ***appname***`Test.java`).*\r\n 4. Open the Maven project folder in VS Code via File menu -&gt; Open Folder... and select the ***appname*** folder.\r\n 5. Open the Command Palette (via the View menu or by right-clicking) and type in and select `Tasks: Configure task` then select `Create tasks.json from template`.\r\n 6. Choose maven (&quot;Executes common Maven commands&quot;). This creates a tasks.json file with &quot;verify&quot; and &quot;test&quot; tasks. More can be added corresponding to other [Maven Build Lifecycle](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html) phases. To specifically address your requirement for classes to be built without a JAR file, a &quot;compile&quot; task would need to be added as follows:\r\n\r\n&lt;!-- language: json --&gt;\r\n        {\r\n            &quot;label&quot;: &quot;compile&quot;,\r\n            &quot;type&quot;: &quot;shell&quot;,\r\n            &quot;command&quot;: &quot;mvn -B compile&quot;,\r\n            &quot;group&quot;: &quot;build&quot;\r\n        },\r\n\r\n\r\n 7. Save the above changes and then open the Command Palette and select &quot;Tasks: Run Build Task&quot; then pick &quot;compile&quot; and then &quot;Continue without scanning the task output&quot;. This invokes Maven, which creates a `target` folder at the same level as the `src` folder with the compiled class files in the `target\\classes` folder.\r\n\r\n---\r\n\r\n**Addendum: How to run/debug a class**\r\n\r\nFollowing a question in the comments, here are some steps for running/debugging:-\r\n\r\n 1. Show the Debug view if it is not already shown (via View menu - Debug or &lt;kbd&gt;Ctrl&lt;/kbd&gt;&lt;kbd&gt;Shift&lt;/kbd&gt;&lt;kbd&gt;D&lt;/kbd&gt;).\r\n 2. Click on the green arrow in the Debug view and select &quot;Java&quot;.\r\n 3. Assuming it hasn&#39;t already been created, a message &quot;launch.json is needed to start the debugger. Do you want to create it now?&quot; will appear - select &quot;Yes&quot; and then select &quot;Java&quot; again.\r\n 4. Enter the fully qualified name of the main class (e.g. ***com.companyname.appname.App***) in the value for &quot;mainClass&quot; and save the file.\r\n 5. Click on the green arrow in the Debug view again.","title":"How to create a Java / Maven project that works in Visual Studio Code?","body":"<p>Here is a complete list of steps - you may not need steps 1-3 but am including them for completeness:-</p>\n<ol>\n<li><a href=\"https://code.visualstudio.com/download\" rel=\"nofollow noreferrer\">Download VS Code</a> and <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">Apache Maven</a> and install both.</li>\n<li>Install the Visual Studio extension pack for Java - e.g. by pasting this URL into a web browser: <code>vscode:extension/vscjava.vscode-java-pack</code> and then clicking on the green Install button after it opens in VS Code.</li>\n<li><strong>NOTE: See the comment from ADTC for an &quot;Easier GUI version of step 3...(Skip step 4).&quot;</strong> If necessary, the Maven quick start archetype could be used to generate a new Maven project in an appropriate local folder: <code>mvn archetype:generate -DgroupId=</code><em><strong>com.companyname.appname</strong></em><code> -DartifactId=</code><em><strong>appname</strong></em><code> -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false</code>. This will create an <em><strong>appname</strong></em> folder with Maven's <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">Standard Directory Layout</a> (i.e. <code>src/main/java/com/companyname/appname</code> and <code>src/main/test/com/companyname/appname</code> to begin with and a sample &quot;Hello World!&quot; Java file named <em><strong>appname</strong></em><code>.java</code> and associated unit test named <em><strong>appname</strong></em><code>Test.java</code>).*</li>\n<li>Open the Maven project folder in VS Code via File menu -&gt; Open Folder... and select the <em><strong>appname</strong></em> folder.</li>\n<li>Open the Command Palette (via the View menu or by right-clicking) and type in and select <code>Tasks: Configure task</code> then select <code>Create tasks.json from template</code>.</li>\n<li>Choose maven (&quot;Executes common Maven commands&quot;). This creates a tasks.json file with &quot;verify&quot; and &quot;test&quot; tasks. More can be added corresponding to other <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">Maven Build Lifecycle</a> phases. To specifically address your requirement for classes to be built without a JAR file, a &quot;compile&quot; task would need to be added as follows:</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>    {\n        &quot;label&quot;: &quot;compile&quot;,\n        &quot;type&quot;: &quot;shell&quot;,\n        &quot;command&quot;: &quot;mvn -B compile&quot;,\n        &quot;group&quot;: &quot;build&quot;\n    },\n</code></pre>\n<ol start=\"7\">\n<li>Save the above changes and then open the Command Palette and select &quot;Tasks: Run Build Task&quot; then pick &quot;compile&quot; and then &quot;Continue without scanning the task output&quot;. This invokes Maven, which creates a <code>target</code> folder at the same level as the <code>src</code> folder with the compiled class files in the <code>target\\classes</code> folder.</li>\n</ol>\n<hr />\n<p><strong>Addendum: How to run/debug a class</strong></p>\n<p>Following a question in the comments, here are some steps for running/debugging:-</p>\n<ol>\n<li>Show the Debug view if it is not already shown (via View menu - Debug or <kbd>Ctrl</kbd><kbd>Shift</kbd><kbd>D</kbd>).</li>\n<li>Click on the green arrow in the Debug view and select &quot;Java&quot;.</li>\n<li>Assuming it hasn't already been created, a message &quot;launch.json is needed to start the debugger. Do you want to create it now?&quot; will appear - select &quot;Yes&quot; and then select &quot;Java&quot; again.</li>\n<li>Enter the fully qualified name of the main class (e.g. <em><strong>com.companyname.appname.App</strong></em>) in the value for &quot;mainClass&quot; and save the file.</li>\n<li>Click on the green arrow in the Debug view again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14718942,"reputation":413,"user_id":10630142,"display_name":"53c"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1551299772,"creation_date":1551299772,"answer_id":54914069,"question_id":46671308,"body_markdown":"An alternative way is to install the `Maven for Java` plugin and create a maven project within Visual Studio. [The steps are described in the official documentation][1]:\r\n\r\n 1. From the Command Palette (Crtl+Shift+P), select Maven: Generate from Maven Archetype and follow the instructions, or\r\n 2. Right-click on a folder and select Generate from Maven Archetype.\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-project#_generate-project-from-maven-archetype","title":"How to create a Java / Maven project that works in Visual Studio Code?","body":"<p>An alternative way is to install the <code>Maven for Java</code> plugin and create a maven project within Visual Studio. <a href=\"https://code.visualstudio.com/docs/java/java-project#_generate-project-from-maven-archetype\" rel=\"noreferrer\">The steps are described in the official documentation</a>:</p>\n\n<ol>\n<li>From the Command Palette (Crtl+Shift+P), select Maven: Generate from Maven Archetype and follow the instructions, or</li>\n<li>Right-click on a folder and select Generate from Maven Archetype.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9135278,"reputation":882,"user_id":6795180,"display_name":"Chidozie Nnachor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563278248,"creation_date":1563278248,"answer_id":57056723,"question_id":46671308,"body_markdown":"This is not a particularly good answer as it explains how to run your java code n VS Code and not necessarily a `Maven` project, but it worked for me because I could not get around to doing the manual configuration myself. I decided to use this method instead since it is easier and faster.\r\n\r\nInstall VSCode (and for windows, set your environment variables), then install `vscode:extension/vscjava.vscode-java-pack` as detailed above, and then install the [code runner][1] extension pack, which basically sets up the whole process (in the background) as explained in the accepted answer above and then provides a play button to run your java code when you&#39;re ready.\r\n\r\nThis was all explained in this [video][2].\r\n\r\nAgain, this is not the best solution, but if you want to cut to the chase, you may find this answer useful.\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\r\n  [2]: https://www.youtube.com/watch?v=_N_T2e2FPBQ","title":"How to create a Java / Maven project that works in Visual Studio Code?","body":"<p>This is not a particularly good answer as it explains how to run your java code n VS Code and not necessarily a <code>Maven</code> project, but it worked for me because I could not get around to doing the manual configuration myself. I decided to use this method instead since it is easier and faster.</p>\n\n<p>Install VSCode (and for windows, set your environment variables), then install <code>vscode:extension/vscjava.vscode-java-pack</code> as detailed above, and then install the <a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\" rel=\"nofollow noreferrer\">code runner</a> extension pack, which basically sets up the whole process (in the background) as explained in the accepted answer above and then provides a play button to run your java code when you're ready.</p>\n\n<p>This was all explained in this <a href=\"https://www.youtube.com/watch?v=_N_T2e2FPBQ\" rel=\"nofollow noreferrer\">video</a>.</p>\n\n<p>Again, this is not the best solution, but if you want to cut to the chase, you may find this answer useful.</p>\n"},{"tags":[],"owner":{"account_id":3579447,"reputation":576,"user_id":2988000,"display_name":"Sundar Rajan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564723728,"creation_date":1564723728,"answer_id":57320415,"question_id":46671308,"body_markdown":"I surprise no one had mentioned this possible easy approach in visual studio code.\r\n\r\nInstall VS Code and Apache maven ( just as mentioned by @Steve Chambers)\r\n\r\nAfter installing this extension vscode:extension/vscjava.vscode-java-pack\r\n\r\nIn the java overview page , there is a an option which reads &#39;Create Maven Project&#39; which further takes to a simple wizard to generate maven project.\r\n\r\nIts pretty quick which is intutitive enough, even newbies can very well start with a Maven project.","title":"How to create a Java / Maven project that works in Visual Studio Code?","body":"<p>I surprise no one had mentioned this possible easy approach in visual studio code.</p>\n\n<p>Install VS Code and Apache maven ( just as mentioned by @Steve Chambers)</p>\n\n<p>After installing this extension vscode:extension/vscjava.vscode-java-pack</p>\n\n<p>In the java overview page , there is a an option which reads 'Create Maven Project' which further takes to a simple wizard to generate maven project.</p>\n\n<p>Its pretty quick which is intutitive enough, even newbies can very well start with a Maven project.</p>\n"},{"tags":[],"owner":{"account_id":4276117,"reputation":357,"user_id":3496661,"display_name":"Amar T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648643983,"creation_date":1648643983,"answer_id":71677413,"question_id":46671308,"body_markdown":" - Install the VSCode for mac\r\n- Install below plugin in VSCode\r\n\r\n&gt; Maven for Java\r\n\r\n - Get the JDK(open/licensed)\r\n- cmd + shift + p &amp; create maven project\r\n\r\n","title":"How to create a Java / Maven project that works in Visual Studio Code?","body":"<ul>\n<li>Install the VSCode for mac</li>\n<li>Install below plugin in VSCode</li>\n</ul>\n<blockquote>\n<p>Maven for Java</p>\n</blockquote>\n<ul>\n<li>Get the JDK(open/licensed)</li>\n<li>cmd + shift + p &amp; create maven project</li>\n</ul>\n"}],"owner":{"account_id":2322056,"reputation":2898,"user_id":2037517,"accept_rate":41,"display_name":"dashman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195230,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":46727175,"answer_count":5,"score":87,"last_activity_date":1667312257,"creation_date":1507651968,"question_id":46671308,"body_markdown":"I&#39;m trying to create a maven project - so that I can compile Java files in the root folder and output the class files in another folder.\r\n\r\nI&#39;ve already downloaded mvn.\r\n\r\nI&#39;m trying to integrate with VS Code. My goal is to edit the java files in VS Code and on saving the compiler saves the .class file in the appropriate output folder.\r\n\r\nThat&#39;s all - no war or jar files.\r\n\r\nAny help?\r\n","title":"How to create a Java / Maven project that works in Visual Studio Code?","body":"<p>I'm trying to create a maven project - so that I can compile Java files in the root folder and output the class files in another folder.</p>\n\n<p>I've already downloaded mvn.</p>\n\n<p>I'm trying to integrate with VS Code. My goal is to edit the java files in VS Code and on saving the compiler saves the .class file in the appropriate output folder.</p>\n\n<p>That's all - no war or jar files.</p>\n\n<p>Any help?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667311949,"creation_date":1667311949,"answer_id":74277260,"question_id":74276873,"body_markdown":"Remove:\r\n\r\n```java\r\nintent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\r\n```\r\n\r\nAnd, in your `onActivityResult()`, if the request was for `ACTION_OPEN_DOCUMENT`, call `takePersistableUriPermissions()` on a `ContentResolver`. That&#39;s how you get durable access to the content, and without that [you lose access after a short while](https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html).","title":"stoped android pdf view When you restart the phone","body":"<p>Remove:</p>\n<pre class=\"lang-java prettyprint-override\"><code>intent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\n</code></pre>\n<p>And, in your <code>onActivityResult()</code>, if the request was for <code>ACTION_OPEN_DOCUMENT</code>, call <code>takePersistableUriPermissions()</code> on a <code>ContentResolver</code>. That's how you get durable access to the content, and without that <a href=\"https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html\" rel=\"nofollow noreferrer\">you lose access after a short while</a>.</p>\n"}],"owner":{"account_id":23305266,"reputation":11,"user_id":17385314,"display_name":"عزيز لبيض"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74277260,"answer_count":1,"score":0,"last_activity_date":1667311949,"creation_date":1667310139,"question_id":74276873,"body_markdown":"I am trying to open pdf files in this code with a library barteksc\r\n\r\nI save a link as a URI in database Then I fetch and open the link in a library barteksc\r\n\r\nThe code works fine, the problem is when I restart the phone the PDF file is not opened It appears that the error in \r\n\r\n```\r\nload pdf error\r\n    java.lang.SecurityException: Permission Denial: opening provider com.android.providers.downloads.DownloadStorageProvider from ProcessRecord{f6420b9 6172:com.azizlabiod.librarypdfpro/u0a218} (pid=6172, uid=10218) requires android.permission.MANAGE_DOCUMENTS or android.permission.MANAGE_DOCUMENTS\r\n```\r\n\r\n\r\n\r\n\r\n**code java**\r\n\r\n\r\n```\r\nfinal int KITKAT_VALUE =1002;\r\nIntent intent;\r\nintent = new Intent();\r\nif (Build.VERSION.SDK_INT &lt; 19){\r\n    intent.setAction(Intent.ACTION_GET_CONTENT);\r\n} else {\r\n    intent.setAction(Intent.ACTION_OPEN_DOCUMENT);\r\n    intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n    intent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\r\n}\r\n\r\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION |  Intent.FLAG_GRANT_WRITE_URI_PERMISSION  );\r\nintent.setType(&quot;application/pdf&quot;);\r\ntry {\r\n\r\n    startActivityForResult(intent, KITKAT_VALUE);\r\n} catch (ActivityNotFoundException e) {\r\n    //alert user that file manager not working\r\n    Toast.makeText(getApplicationContext(), R.string.toast_pick_file_error, Toast.LENGTH_SHORT).show();\r\n}\r\n\r\n\r\n\r\n\r\n@Override\r\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent resultData) {\r\n    super.onActivityResult(requestCode, resultCode, resultData);\r\n    if (requestCode == 1002\r\n            &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n        Uri uri ;\r\n\r\n        if (resultData != null) {\r\n            uri=resultData.getData();\r\n           String name= getFileName(uri);\r\n\r\n            db.insertRowAdmins(name,uri.toString(),R.drawable.book,23, db.getNameTableId().get(positionTab));\r\n            setNotify();\r\n\r\n        }\r\n    }\r\n    }\r\n```\r\n\r\n\r\n\r\n**code manifest**\r\n\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_DOCUMENTS&quot;\r\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.LibraryPDFPro&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ShowBook&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ShowDiatel&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n**probleme**\r\n\r\n\r\n```\r\n/PDFView: load pdf error\r\n    java.lang.SecurityException: Permission Denial: opening provider com.android.providers.downloads.DownloadStorageProvider from ProcessRecord{f6420b9 6172:com.azizlabiod.librarypdfpro/u0a218} (pid=6172, uid=10218) requires android.permission.MANAGE_DOCUMENTS or android.permission.MANAGE_DOCUMENTS\r\n        at android.os.Parcel.readException(Parcel.java:1599)\r\n        at android.os.Parcel.readException(Parcel.java:1552)\r\n        at android.app.ActivityManagerProxy.getContentProvider(ActivityManagerNative.java:3776)\r\n        at android.app.ActivityThread.acquireProvider(ActivityThread.java:5034)\r\n        at android.app.ContextImpl$ApplicationContentResolver.acquireUnstableProvider(ContextImpl.java:2044)\r\n        at android.content.ContentResolver.acquireUnstableProvider(ContentResolver.java:1517)\r\n        at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:1121)\r\n        at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:958)\r\n        at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:811)\r\n        at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:765)\r\n        at com.github.barteksc.pdfviewer.source.UriSource.createDocument(UriSource.java:37)\r\n        at com.github.barteksc.pdfviewer.DecodingAsyncTask.doInBackground(DecodingAsyncTask.java:53)\r\n        at com.github.barteksc.pdfviewer.DecodingAsyncTask.doInBackground(DecodingAsyncTask.java:27)\r\n        at android.os.AsyncTask$2.call(AsyncTask.java:295)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\r\n        at java.lang.Thread.run(Thread.java:818)\r\n\r\n```\r\n","title":"stoped android pdf view When you restart the phone","body":"<p>I am trying to open pdf files in this code with a library barteksc</p>\n<p>I save a link as a URI in database Then I fetch and open the link in a library barteksc</p>\n<p>The code works fine, the problem is when I restart the phone the PDF file is not opened It appears that the error in</p>\n<pre><code>load pdf error\n    java.lang.SecurityException: Permission Denial: opening provider com.android.providers.downloads.DownloadStorageProvider from ProcessRecord{f6420b9 6172:com.azizlabiod.librarypdfpro/u0a218} (pid=6172, uid=10218) requires android.permission.MANAGE_DOCUMENTS or android.permission.MANAGE_DOCUMENTS\n</code></pre>\n<p><strong>code java</strong></p>\n<pre><code>final int KITKAT_VALUE =1002;\nIntent intent;\nintent = new Intent();\nif (Build.VERSION.SDK_INT &lt; 19){\n    intent.setAction(Intent.ACTION_GET_CONTENT);\n} else {\n    intent.setAction(Intent.ACTION_OPEN_DOCUMENT);\n    intent.addCategory(Intent.CATEGORY_OPENABLE);\n    intent.addFlags(Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\n}\n\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION |  Intent.FLAG_GRANT_WRITE_URI_PERMISSION  );\nintent.setType(&quot;application/pdf&quot;);\ntry {\n\n    startActivityForResult(intent, KITKAT_VALUE);\n} catch (ActivityNotFoundException e) {\n    //alert user that file manager not working\n    Toast.makeText(getApplicationContext(), R.string.toast_pick_file_error, Toast.LENGTH_SHORT).show();\n}\n\n\n\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent resultData) {\n    super.onActivityResult(requestCode, resultCode, resultData);\n    if (requestCode == 1002\n            &amp;&amp; resultCode == Activity.RESULT_OK) {\n        Uri uri ;\n\n        if (resultData != null) {\n            uri=resultData.getData();\n           String name= getFileName(uri);\n\n            db.insertRowAdmins(name,uri.toString(),R.drawable.book,23, db.getNameTableId().get(positionTab));\n            setNotify();\n\n        }\n    }\n    }\n</code></pre>\n<p><strong>code manifest</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_DOCUMENTS&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.LibraryPDFPro&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.ShowBook&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.ShowDiatel&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>probleme</strong></p>\n<pre><code>/PDFView: load pdf error\n    java.lang.SecurityException: Permission Denial: opening provider com.android.providers.downloads.DownloadStorageProvider from ProcessRecord{f6420b9 6172:com.azizlabiod.librarypdfpro/u0a218} (pid=6172, uid=10218) requires android.permission.MANAGE_DOCUMENTS or android.permission.MANAGE_DOCUMENTS\n        at android.os.Parcel.readException(Parcel.java:1599)\n        at android.os.Parcel.readException(Parcel.java:1552)\n        at android.app.ActivityManagerProxy.getContentProvider(ActivityManagerNative.java:3776)\n        at android.app.ActivityThread.acquireProvider(ActivityThread.java:5034)\n        at android.app.ContextImpl$ApplicationContentResolver.acquireUnstableProvider(ContextImpl.java:2044)\n        at android.content.ContentResolver.acquireUnstableProvider(ContentResolver.java:1517)\n        at android.content.ContentResolver.openTypedAssetFileDescriptor(ContentResolver.java:1121)\n        at android.content.ContentResolver.openAssetFileDescriptor(ContentResolver.java:958)\n        at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:811)\n        at android.content.ContentResolver.openFileDescriptor(ContentResolver.java:765)\n        at com.github.barteksc.pdfviewer.source.UriSource.createDocument(UriSource.java:37)\n        at com.github.barteksc.pdfviewer.DecodingAsyncTask.doInBackground(DecodingAsyncTask.java:53)\n        at com.github.barteksc.pdfviewer.DecodingAsyncTask.doInBackground(DecodingAsyncTask.java:27)\n        at android.os.AsyncTask$2.call(AsyncTask.java:295)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n        at java.lang.Thread.run(Thread.java:818)\n\n</code></pre>\n"},{"tags":["java","java-native-interface","jna","jnr"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1667173426,"post_id":74257395,"comment_id":131101985,"body_markdown":"Out of curiosity, what is the scenario that creates this problem? What does this &quot; which is not in the text section&quot; mean?","body":"Out of curiosity, what is the scenario that creates this problem? What does this &quot; which is not in the text section&quot; mean?"},{"owner":{"account_id":6827766,"reputation":123,"user_id":5252930,"display_name":"Jerome Ibanes"},"score":0,"creation_date":1667179695,"post_id":74257395,"comment_id":131102759,"body_markdown":"@matt I do not have the source code of the library, and there is a function I need to call from java. Unfortunately I know the function&#39;s offset (from the start of the library, but there is not .text entry for it, so I can&#39;t simply invoke it by name. I suppose it would be workable if I knew which address the libaaa library is loaded.","body":"@matt I do not have the source code of the library, and there is a function I need to call from java. Unfortunately I know the function&#39;s offset (from the start of the library, but there is not .text entry for it, so I can&#39;t simply invoke it by name. I suppose it would be workable if I knew which address the libaaa library is loaded."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667210648,"post_id":74257395,"comment_id":131108455,"body_markdown":"Can you access the function from c? You could check the [Unsafe](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/jdk/internal/misc/Unsafe.java) class, it lets you access native features and addresses.","body":"Can you access the function from c? You could check the <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/jdk/internal/misc/Unsafe.java\" rel=\"nofollow noreferrer\">Unsafe</a> class, it lets you access native features and addresses."},{"owner":{"account_id":6827766,"reputation":123,"user_id":5252930,"display_name":"Jerome Ibanes"},"score":0,"creation_date":1667227412,"post_id":74257395,"comment_id":131114303,"body_markdown":"From C I just use the offset from where the library is loaded.","body":"From C I just use the offset from where the library is loaded."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667303067,"post_id":74257395,"comment_id":131131645,"body_markdown":"If you can do it in C it seems reasonable that you could write a small wrapper that is the same function, but with a name so you can access it.","body":"If you can do it in C it seems reasonable that you could write a small wrapper that is the same function, but with a name so you can access it."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667306057,"post_id":74257395,"comment_id":131132578,"body_markdown":"Why don&#39;t you get a pointer for obj1 and offset from that?","body":"Why don&#39;t you get a pointer for obj1 and offset from that?"}],"answers":[{"tags":[],"owner":{"account_id":2996877,"reputation":2143,"user_id":2543253,"display_name":"user2543253"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667231032,"creation_date":1667224915,"answer_id":74264462,"question_id":74257395,"body_markdown":"IIUC, you could compute the address of your second function, if you had the address of the first function. Is that right?\r\n\r\n&lt;strike&gt;I&#39;ve never tried it with `Function`s but I have a use case where I need to get the address of a `Callback` and what I&#39;m doing to get that is to put it in a dummy `Structure` then read the structure&#39;s raw bytes.&lt;/strike&gt;\r\n\r\nEdit: forget that. It&#39;s only `Callback`s that don&#39;t let you access their address directly. You can easily get another Pointer/Function at an offset from a given Function. No need for workarounds.","title":"How can I call a function from JAVA/JNA if I only know the offset from another function?","body":"<p>IIUC, you could compute the address of your second function, if you had the address of the first function. Is that right?</p>\n<p><strike>I've never tried it with <code>Function</code>s but I have a use case where I need to get the address of a <code>Callback</code> and what I'm doing to get that is to put it in a dummy <code>Structure</code> then read the structure's raw bytes.</strike></p>\n<p>Edit: forget that. It's only <code>Callback</code>s that don't let you access their address directly. You can easily get another Pointer/Function at an offset from a given Function. No need for workarounds.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667311947,"creation_date":1667311947,"answer_id":74277259,"question_id":74257395,"body_markdown":"It seems like if you get Function obj1,\r\n\r\n    Function obj1 = Function.getFunction(libraryName, functionName);\r\n\r\nThe Function Object *is* a pointer. Then you should be able to get the address of obj1, https://stackoverflow.com/questions/51803909/accessing-jna-pointers-peer-value so you would have the address and you can try to create a function based on that. ","title":"How can I call a function from JAVA/JNA if I only know the offset from another function?","body":"<p>It seems like if you get Function obj1,</p>\n<pre><code>Function obj1 = Function.getFunction(libraryName, functionName);\n</code></pre>\n<p>The Function Object <em>is</em> a pointer. Then you should be able to get the address of obj1, <a href=\"https://stackoverflow.com/questions/51803909/accessing-jna-pointers-peer-value\">Accessing JNA Pointer&#39;s peer value</a> so you would have the address and you can try to create a function based on that.</p>\n"}],"owner":{"account_id":6827766,"reputation":123,"user_id":5252930,"display_name":"Jerome Ibanes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74277259,"answer_count":2,"score":1,"last_activity_date":1667311947,"creation_date":1667171544,"question_id":74257395,"body_markdown":"I know that in libaaa.so there is an exported (the symbol is in the text/code section) function obj1() at address 0x12345 from the start of the library.\r\n\r\n```CLibrary libaaa = (CLibrary)Native.load(&quot;aaa&quot;, CLibrary.class);```\r\n\r\nI want to invoke a function obj2() which I know to be at address 0x12444 from the start of the library OR the address of (obj1() + 0xff) (0x12444-0x12345=0xff)\r\n\r\nThe obj2() symbol is NOT in the text/code section, so I can only invoke it by its address (which I know.) I understand that I could use ```Function.getFunction(new Pointer(funcAddr), 0, &quot;utf8&quot;);``` if I had the function&#39;s address, but I do not know what address JNA will load the library.\r\n\r\nI can easily access the obj1() function (aaa.obj1()) that&#39;s trivial, but how could I access the aaa.obj2() function which is not in the text section, and thereby only referable from its offset in the library (or offset from another function in the text/code section.)\r\n\r\nThank you.","title":"How can I call a function from JAVA/JNA if I only know the offset from another function?","body":"<p>I know that in libaaa.so there is an exported (the symbol is in the text/code section) function obj1() at address 0x12345 from the start of the library.</p>\n<p><code>CLibrary libaaa = (CLibrary)Native.load(&quot;aaa&quot;, CLibrary.class);</code></p>\n<p>I want to invoke a function obj2() which I know to be at address 0x12444 from the start of the library OR the address of (obj1() + 0xff) (0x12444-0x12345=0xff)</p>\n<p>The obj2() symbol is NOT in the text/code section, so I can only invoke it by its address (which I know.) I understand that I could use <code>Function.getFunction(new Pointer(funcAddr), 0, &quot;utf8&quot;);</code> if I had the function's address, but I do not know what address JNA will load the library.</p>\n<p>I can easily access the obj1() function (aaa.obj1()) that's trivial, but how could I access the aaa.obj2() function which is not in the text section, and thereby only referable from its offset in the library (or offset from another function in the text/code section.)</p>\n<p>Thank you.</p>\n"},{"tags":["java","json","jackson","lombok"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667311245,"post_id":74276881,"comment_id":131134464,"body_markdown":"What do you mean by that *&quot;The key n1 is printing as object reference.&quot;*. Can show what&#39;s exactly with the Map you&#39;ve created?","body":"What do you mean by that <i>&quot;The key n1 is printing as object reference.&quot;</i>. Can show what&#39;s exactly with the Map you&#39;ve created?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667311716,"creation_date":1667311716,"answer_id":74277199,"question_id":74276881,"body_markdown":"&gt; ```java\r\n&gt; @EqualsAndHashCode\r\n&gt;    @AllArgsConstructor\r\n&gt;    @NoArgsConstructor\r\n&gt;    @Getter\r\n&gt;    @Setter\r\n&gt;    @Builder\r\n&gt;    public static class Order {\r\n&gt; ```\r\n\r\nThis christmas tree does not include `@ToString`, hence, the toString() implementation of these things would print something like `Order@12af9cc`, which I think is what you mean with &#39;prints its object reference&#39;. In other words, your code is doing exactly what you asked it to.\r\n\r\nI suggest you use `@Value @Builder` instead and ditch the setters. It&#39;s a bit odd to want a builder for a mutable class, after all (why not just invoke the setters instead?). If you must have them, `@NoArgsConstructor @AllArgsConstructor @Value @Data` works too. `@Data` combines `@EqualsAndHashCode @Getter @Setter @ToString` which is what you want.\r\n","title":"Map&lt;classObject,List&gt; is not formed as expected","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@EqualsAndHashCode\n   @AllArgsConstructor\n   @NoArgsConstructor\n   @Getter\n   @Setter\n   @Builder\n   public static class Order {\n</code></pre>\n</blockquote>\n<p>This christmas tree does not include <code>@ToString</code>, hence, the toString() implementation of these things would print something like <code>Order@12af9cc</code>, which I think is what you mean with 'prints its object reference'. In other words, your code is doing exactly what you asked it to.</p>\n<p>I suggest you use <code>@Value @Builder</code> instead and ditch the setters. It's a bit odd to want a builder for a mutable class, after all (why not just invoke the setters instead?). If you must have them, <code>@NoArgsConstructor @AllArgsConstructor @Value @Data</code> works too. <code>@Data</code> combines <code>@EqualsAndHashCode @Getter @Setter @ToString</code> which is what you want.</p>\n"}],"owner":{"account_id":11511938,"reputation":1,"user_id":8436461,"display_name":"user"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1667311716,"creation_date":1667310172,"question_id":74276881,"body_markdown":"I have the below json, which i need to read and construct as `Map&lt;NamePlateOrder, List&lt;Orders&gt;&gt;`\r\n\r\nSample json:\r\n\r\n```\r\n`{\r\n   &quot;orders&quot;:[\r\n      {\r\n         &quot;order&quot;:[\r\n            {\r\n               &quot;OrderReference&quot;:{\r\n                  &quot;reference&quot;:68203486,\r\n                  &quot;version&quot;:1\r\n               }\r\n            },\r\n            {\r\n               &quot;OrderReference&quot;:{\r\n                  &quot;reference&quot;:68203487,\r\n                  &quot;version&quot;:1\r\n               }\r\n            }\r\n         ],\r\n         &quot;nameplate&quot;:{\r\n            &quot;id&quot;:&quot;98ZZ&quot;,\r\n            &quot;label&quot;:&quot;VEC&quot;            \r\n         }\r\n      }\r\n   ]\r\n}`\r\n\r\n```\r\nBelow is the code:\r\n\r\n\r\n     public class NamePlateOrder {\r\n    \r\n        public ArrayList&lt;Orders&gt; orders;\r\n    \r\n    \r\n        @EqualsAndHashCode\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @Getter\r\n        @Setter\r\n        @Builder\r\n        public static class NameplateCatalogForOrder {\r\n            public String id;\r\n            public String label;\r\n        }\r\n    \r\n        @EqualsAndHashCode\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @Getter\r\n        @Setter\r\n        @Builder\r\n        public static class Orders {\r\n            public List&lt;Order&gt; order; //this should be stored as value.\r\n            public NameplateCatalogForOrder nameplate; //this should be stored as key\r\n        }\r\n    \r\n        @EqualsAndHashCode\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @Getter\r\n        @Setter\r\n        @Builder\r\n        public static class Order {\r\n            @JsonProperty(&quot;OrderReference&quot;)\r\n            public OrderReference orderReference;\r\n        }\r\n    \r\n        @EqualsAndHashCode\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @Getter\r\n        @Setter\r\n        @Builder\r\n        public static class OrderReference {\r\n            public int reference;\r\n            public int version;\r\n        }\r\n    }\r\n\r\nSample code tried to construct `Map&lt;NameplateCatalogForOrder, List&lt;Orders&gt;&gt;`\r\n\r\n\r\n```\r\n`NamePlateOrder models = om.readValue(sql2, NamePlateOrder.class);\r\n\r\nSystem.out.println(&quot;NNamePlateWithOrder &quot; + models);\r\n\r\nMap&lt;NamePlateOrder.NameplateCatalogForOrder, List&lt;NamePlateOrder.Order&gt;&gt; nameplateListMap = new HashMap&lt;&gt;();\r\n\r\nfor(NamePlateOrder.Orders firstOrders : models.getOrders()){\r\n    NamePlateOrder.NameplateCatalogForOrder n1 = firstOrders.getNameplate();\r\n    List&lt;NamePlateOrder.Order&gt; ordersListForNamePlate = firstOrders.getOrder();\r\n    nameplateListMap.put(n1, ordersListForNamePlate);\r\n\r\n}`\r\n```\r\nBut the output when executed the above code is not as expected. The key n1 is printing as object reference. The expected output should be same as the sample json which we are reading to construct the same.\r\nAny inputs would be helpful.\r\n","title":"Map&lt;classObject,List&gt; is not formed as expected","body":"<p>I have the below json, which i need to read and construct as <code>Map&lt;NamePlateOrder, List&lt;Orders&gt;&gt;</code></p>\n<p>Sample json:</p>\n<pre><code>`{\n   &quot;orders&quot;:[\n      {\n         &quot;order&quot;:[\n            {\n               &quot;OrderReference&quot;:{\n                  &quot;reference&quot;:68203486,\n                  &quot;version&quot;:1\n               }\n            },\n            {\n               &quot;OrderReference&quot;:{\n                  &quot;reference&quot;:68203487,\n                  &quot;version&quot;:1\n               }\n            }\n         ],\n         &quot;nameplate&quot;:{\n            &quot;id&quot;:&quot;98ZZ&quot;,\n            &quot;label&quot;:&quot;VEC&quot;            \n         }\n      }\n   ]\n}`\n\n</code></pre>\n<p>Below is the code:</p>\n<pre><code> public class NamePlateOrder {\n\n    public ArrayList&lt;Orders&gt; orders;\n\n\n    @EqualsAndHashCode\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Getter\n    @Setter\n    @Builder\n    public static class NameplateCatalogForOrder {\n        public String id;\n        public String label;\n    }\n\n    @EqualsAndHashCode\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Getter\n    @Setter\n    @Builder\n    public static class Orders {\n        public List&lt;Order&gt; order; //this should be stored as value.\n        public NameplateCatalogForOrder nameplate; //this should be stored as key\n    }\n\n    @EqualsAndHashCode\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Getter\n    @Setter\n    @Builder\n    public static class Order {\n        @JsonProperty(&quot;OrderReference&quot;)\n        public OrderReference orderReference;\n    }\n\n    @EqualsAndHashCode\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Getter\n    @Setter\n    @Builder\n    public static class OrderReference {\n        public int reference;\n        public int version;\n    }\n}\n</code></pre>\n<p>Sample code tried to construct <code>Map&lt;NameplateCatalogForOrder, List&lt;Orders&gt;&gt;</code></p>\n<pre><code>`NamePlateOrder models = om.readValue(sql2, NamePlateOrder.class);\n\nSystem.out.println(&quot;NNamePlateWithOrder &quot; + models);\n\nMap&lt;NamePlateOrder.NameplateCatalogForOrder, List&lt;NamePlateOrder.Order&gt;&gt; nameplateListMap = new HashMap&lt;&gt;();\n\nfor(NamePlateOrder.Orders firstOrders : models.getOrders()){\n    NamePlateOrder.NameplateCatalogForOrder n1 = firstOrders.getNameplate();\n    List&lt;NamePlateOrder.Order&gt; ordersListForNamePlate = firstOrders.getOrder();\n    nameplateListMap.put(n1, ordersListForNamePlate);\n\n}`\n</code></pre>\n<p>But the output when executed the above code is not as expected. The key n1 is printing as object reference. The expected output should be same as the sample json which we are reading to construct the same.\nAny inputs would be helpful.</p>\n"},{"tags":["java","spring-boot","totp"],"answers":[{"tags":[],"owner":{"account_id":121162,"reputation":796,"user_id":6387948,"display_name":"Hans-Martin Mosner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667311418,"creation_date":1667311418,"answer_id":74277135,"question_id":74276940,"body_markdown":"What &quot;by chance&quot; do you have in mind? If your application hands out OTPs, you can limit their validity (e.g. 24 or 48 hours) and keep a list of OTPs to avoid re-use, or use a deterministic crypto algorithm to generate unique but unguessable passwords.\r\n\r\nIf you think of user B just guessing/brute forcing OTPs, the security implications are just with any brute force attacks, you&#39;re probably even more safe since your OTP is truly random generated and would not be susceptible to dictionary attacks.\r\n\r\nSince the OTP would only be valid for user A&#39;s account anyway, user B would have to guess that correctly as well, which reduces the probability to something that can be safely ignored.","title":"Flawed OTP system while OTP verification","body":"<p>What &quot;by chance&quot; do you have in mind? If your application hands out OTPs, you can limit their validity (e.g. 24 or 48 hours) and keep a list of OTPs to avoid re-use, or use a deterministic crypto algorithm to generate unique but unguessable passwords.</p>\n<p>If you think of user B just guessing/brute forcing OTPs, the security implications are just with any brute force attacks, you're probably even more safe since your OTP is truly random generated and would not be susceptible to dictionary attacks.</p>\n<p>Since the OTP would only be valid for user A's account anyway, user B would have to guess that correctly as well, which reduces the probability to something that can be safely ignored.</p>\n"}],"owner":{"account_id":22402724,"reputation":101,"user_id":16612843,"display_name":"Seema Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667311418,"creation_date":1667310505,"question_id":74276940,"body_markdown":"I am creating an app where user has to verify their email address once they are registered. This done via an OTP which is send once the users has hit the registration API. If the OTP is valid then we confirm the registration else we remove the user.\r\nWhen I register a user I also create an OTP object which I associate with the user.\r\nFor example,\r\n```\r\nclass Otp{\r\n.\r\n.\r\n.\r\nprivate User user;\r\n\r\n// setter and getter\r\n.\r\n.\r\n}\r\n```\r\nSo here is a scenario. Let&#39;s say a user *A* has registered itself but has not verified themselves yet. Now some other person hits the verification API and by chance sends the same OTP which has been received by user *A* and user *A* gets registered. Now the chances for this to happen are very low because my OTP length is going be 7-8 characters long, but not zero.\r\nI see this as a security flaw. Are all the OTP systems flawed like this or I am doing something wrong. If yes can someone suggest a good design for an OTP system.","title":"Flawed OTP system while OTP verification","body":"<p>I am creating an app where user has to verify their email address once they are registered. This done via an OTP which is send once the users has hit the registration API. If the OTP is valid then we confirm the registration else we remove the user.\nWhen I register a user I also create an OTP object which I associate with the user.\nFor example,</p>\n<pre><code>class Otp{\n.\n.\n.\nprivate User user;\n\n// setter and getter\n.\n.\n}\n</code></pre>\n<p>So here is a scenario. Let's say a user <em>A</em> has registered itself but has not verified themselves yet. Now some other person hits the verification API and by chance sends the same OTP which has been received by user <em>A</em> and user <em>A</em> gets registered. Now the chances for this to happen are very low because my OTP length is going be 7-8 characters long, but not zero.\nI see this as a security flaw. Are all the OTP systems flawed like this or I am doing something wrong. If yes can someone suggest a good design for an OTP system.</p>\n"},{"tags":["java","arrays","json"],"comments":[{"owner":{"account_id":2986719,"reputation":4999,"user_id":2535335,"display_name":"Johannes Jander"},"score":0,"creation_date":1452540530,"post_id":34717980,"comment_id":57205077,"body_markdown":"Did one of the answers solve your problem? If yes, then please accept that answer.","body":"Did one of the answers solve your problem? If yes, then please accept that answer."}],"answers":[{"tags":[],"owner":{"account_id":2986719,"reputation":4999,"user_id":2535335,"display_name":"Johannes Jander"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1525791382,"creation_date":1452505279,"answer_id":34718224,"question_id":34717980,"body_markdown":"Android `JSONArray` is not meant as a general-purpose data structure, but to (de)serialize data to and from JSON. Therefore, you should do all add/remove/mutate operations on a `java.util.List` or something and only if you want to send it over the wire convert to a `JSONArray`.\r\n\r\nJava EE 7 also has a `JsonArray` class, in their API description they make abundantly clear that they want to prevent people from using it as a replacement for a `java.util.list`: `JsonArray instances are list objects that provide read-only access to the values in the JSON array. Any attempt to modify the list, whether directly or using its collection views, results in an UnsupportedOperationException.`\r\n\r\nSee also [this answer](https://stackoverflow.com/a/3741653/2535335)","title":"Insert object to specific position in jsonarray","body":"<p>Android <code>JSONArray</code> is not meant as a general-purpose data structure, but to (de)serialize data to and from JSON. Therefore, you should do all add/remove/mutate operations on a <code>java.util.List</code> or something and only if you want to send it over the wire convert to a <code>JSONArray</code>.</p>\n\n<p>Java EE 7 also has a <code>JsonArray</code> class, in their API description they make abundantly clear that they want to prevent people from using it as a replacement for a <code>java.util.list</code>: <code>JsonArray instances are list objects that provide read-only access to the values in the JSON array. Any attempt to modify the list, whether directly or using its collection views, results in an UnsupportedOperationException.</code></p>\n\n<p>See also <a href=\"https://stackoverflow.com/a/3741653/2535335\">this answer</a></p>\n"},{"tags":[],"owner":{"account_id":2747609,"reputation":4662,"user_id":2367703,"accept_rate":67,"display_name":"Eric B."},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1452505484,"creation_date":1452505484,"answer_id":34718290,"question_id":34717980,"body_markdown":"Try this:\r\n\r\n    String myString = jsonArray.getString(1);\r\n    jsonArray.put(1,&quot;String5&quot;);\r\n    jsonArray.put(myString);","title":"Insert object to specific position in jsonarray","body":"<p>Try this:</p>\n\n<pre><code>String myString = jsonArray.getString(1);\njsonArray.put(1,\"String5\");\njsonArray.put(myString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3125421,"reputation":429,"user_id":2644365,"display_name":"Akash kv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452508527,"creation_date":1452508527,"answer_id":34719321,"question_id":34717980,"body_markdown":"call this function like this\r\n\r\n   String changed_json_string= changeJson(jsonString,2,&quot;hai&quot;)\r\n\r\n   \r\n\r\n      public String changeJson(String json,int index,String add_string){\r\n        \r\n                try {\r\n                    JSONObject job=new JSONObject(json);\r\n                    JSONArray jsonArray=job.getJSONArray(&quot;imgs&quot;);\r\n        \r\n                    ArrayList&lt;String&gt; arrayList=new ArrayList&lt;&gt;();\r\n                    for (int i=0;i&lt;jsonArray.length();i++){\r\n                        String abc= (String) jsonArray.get(i);\r\n                        arrayList.add(abc);\r\n        \r\n        \r\n                     }\r\n        \r\n        \r\n                    arrayList.add(index,add_string);\r\n        \r\n                    JSONObject a=new JSONObject();\r\n                    JSONArray jar=new JSONArray();\r\n        \r\n        \r\n                    for (String str:\r\n                    arrayList) {\r\n                        jar.put(str);\r\n        \r\n                    }\r\n                    a.put(&quot;imgs&quot;,jar);\r\n        \r\n                   return a.toString();\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n        \r\n                }\r\n        \r\n                return &quot;&quot;;\r\n            }\r\n\r\n\r\noutput\r\n\r\n\r\n    {&quot;imgs&quot;:[&quot;String1&quot;,&quot;String2&quot;,&quot;hai&quot;,&quot;String3&quot;,&quot;String4&quot;]}\r\n\r\n","title":"Insert object to specific position in jsonarray","body":"<p>call this function like this</p>\n\n<p>String changed_json_string= changeJson(jsonString,2,\"hai\")</p>\n\n<pre><code>  public String changeJson(String json,int index,String add_string){\n\n            try {\n                JSONObject job=new JSONObject(json);\n                JSONArray jsonArray=job.getJSONArray(\"imgs\");\n\n                ArrayList&lt;String&gt; arrayList=new ArrayList&lt;&gt;();\n                for (int i=0;i&lt;jsonArray.length();i++){\n                    String abc= (String) jsonArray.get(i);\n                    arrayList.add(abc);\n\n\n                 }\n\n\n                arrayList.add(index,add_string);\n\n                JSONObject a=new JSONObject();\n                JSONArray jar=new JSONArray();\n\n\n                for (String str:\n                arrayList) {\n                    jar.put(str);\n\n                }\n                a.put(\"imgs\",jar);\n\n               return a.toString();\n\n\n\n\n\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n\n            }\n\n            return \"\";\n        }\n</code></pre>\n\n<p>output</p>\n\n<pre><code>{\"imgs\":[\"String1\",\"String2\",\"hai\",\"String3\",\"String4\"]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5763342,"reputation":2260,"user_id":4549000,"accept_rate":50,"display_name":"Krishna Satwaji Khandagale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452508800,"creation_date":1452508800,"answer_id":34719440,"question_id":34717980,"body_markdown":"Use array shifting logic or create copy of new json array with newly inserted element and insert into original json ojbect.","title":"Insert object to specific position in jsonarray","body":"<p>Use array shifting logic or create copy of new json array with newly inserted element and insert into original json ojbect.</p>\n"},{"tags":[],"owner":{"account_id":8633821,"reputation":389,"user_id":6659074,"accept_rate":50,"display_name":"hungps"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1472116184,"creation_date":1472116184,"answer_id":39141104,"question_id":34717980,"body_markdown":"Seem too old but you can do like this:\r\n\r\n    public void addToPos(int pos, JSONObject jsonObj, JSONArray jsonArr){\r\n       for (int i = jsonArr.length(); i &gt; pos; i--){\r\n          jsonArr.put(i, jsonArr.get(i-1));\r\n       }\r\n       jsonArr.put(pos, jsonObj);\r\n    }","title":"Insert object to specific position in jsonarray","body":"<p>Seem too old but you can do like this:</p>\n\n<pre><code>public void addToPos(int pos, JSONObject jsonObj, JSONArray jsonArr){\n   for (int i = jsonArr.length(); i &gt; pos; i--){\n      jsonArr.put(i, jsonArr.get(i-1));\n   }\n   jsonArr.put(pos, jsonObj);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7090048,"reputation":443,"user_id":5425555,"display_name":"Developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539887917,"creation_date":1539887917,"answer_id":52880491,"question_id":34717980,"body_markdown":"Use a `JsonArrayBuilder` object.\r\n\r\n    private JsonArray insertAt(int index, String value, JsonArray origArray) {\r\n\r\n        JsonArrayBuilder resultBuilder = Json.createBuilderFactory(null).createArrayBuilder();\r\n        \r\n        // Insert elements before the position\r\n        for (JsonValue elemValue : origArray.subList(0, index)) {\r\n            resultBuilder.add(elemValue);\r\n        }\r\n\r\n        // Insert your element\r\n        resultBuilder.add(value);\r\n\r\n        // Insert the rest of elements.\r\n        for (JsonValue elemValue : origArray.subList(index, origArray.size())) {\r\n            resultBuilder.add(elemValue);\r\n        }\r\n\r\n        return resultBuilder.build();\r\n    }\r\nNote that the arguments check is not done here. Also instead of having a string as value to insert you can have a JsonValue to be more generic.","title":"Insert object to specific position in jsonarray","body":"<p>Use a <code>JsonArrayBuilder</code> object.</p>\n\n<pre><code>private JsonArray insertAt(int index, String value, JsonArray origArray) {\n\n    JsonArrayBuilder resultBuilder = Json.createBuilderFactory(null).createArrayBuilder();\n\n    // Insert elements before the position\n    for (JsonValue elemValue : origArray.subList(0, index)) {\n        resultBuilder.add(elemValue);\n    }\n\n    // Insert your element\n    resultBuilder.add(value);\n\n    // Insert the rest of elements.\n    for (JsonValue elemValue : origArray.subList(index, origArray.size())) {\n        resultBuilder.add(elemValue);\n    }\n\n    return resultBuilder.build();\n}\n</code></pre>\n\n<p>Note that the arguments check is not done here. Also instead of having a string as value to insert you can have a JsonValue to be more generic.</p>\n"},{"tags":[],"owner":{"account_id":1007307,"reputation":12996,"user_id":1020704,"accept_rate":57,"display_name":"toom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651241278,"creation_date":1651236928,"answer_id":72058320,"question_id":34717980,"body_markdown":"Copy and paste solution:\r\n\r\n    import org.json.JSONArray;\r\n    import java.util.ArrayList;\r\n    ...\r\n    public void insertAt(int index, Object value, JSONArray jsonArray) {\r\n            ArrayList&lt;Object&gt; arrayList = new ArrayList&lt;Object&gt;(jsonArray.toList());\r\n            arrayList.add(index, value);\r\n            //Empty deprecated jsonArray\r\n            jsonArray.clear();\r\n            //Refill cleared jsonArray in the correct order including the new value at the correct position\r\n            for(int k = 0; k &lt; arrayList.size(); ++k)\r\n                jsonArray.put(arrayList.get(k));\r\n        }\r\n\r\n\r\nUse this if you want to apply it in an Android App (To understand why read the following post: https://stackoverflow.com/questions/20389105/changing-or-upgrading-built-in-org-json-libraries-is-possible-and-a-good-idea):\r\n\r\n    public static void insertAt(int index, Object value, JSONArray jsonArray) {\r\n        try {\r\n            JSONArray copyOfJsonArray = new JSONArray(jsonArray.toString());\r\n            int newLength = jsonArray.length()+1;\r\n            for( int i = index; i &lt; newLength; ++i) {\r\n                if(i == index)\r\n                    jsonArray.put(i, value);\r\n                else\r\n                    jsonArray.put(i, copyOfJsonArray.get(i-1));\r\n            }\r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Insert object to specific position in jsonarray","body":"<p>Copy and paste solution:</p>\n<pre><code>import org.json.JSONArray;\nimport java.util.ArrayList;\n...\npublic void insertAt(int index, Object value, JSONArray jsonArray) {\n        ArrayList&lt;Object&gt; arrayList = new ArrayList&lt;Object&gt;(jsonArray.toList());\n        arrayList.add(index, value);\n        //Empty deprecated jsonArray\n        jsonArray.clear();\n        //Refill cleared jsonArray in the correct order including the new value at the correct position\n        for(int k = 0; k &lt; arrayList.size(); ++k)\n            jsonArray.put(arrayList.get(k));\n    }\n</code></pre>\n<p>Use this if you want to apply it in an Android App (To understand why read the following post: <a href=\"https://stackoverflow.com/questions/20389105/changing-or-upgrading-built-in-org-json-libraries-is-possible-and-a-good-idea\">changing or upgrading built-in org.json libraries, is possible and a good idea?</a>):</p>\n<pre><code>public static void insertAt(int index, Object value, JSONArray jsonArray) {\n    try {\n        JSONArray copyOfJsonArray = new JSONArray(jsonArray.toString());\n        int newLength = jsonArray.length()+1;\n        for( int i = index; i &lt; newLength; ++i) {\n            if(i == index)\n                jsonArray.put(i, value);\n            else\n                jsonArray.put(i, copyOfJsonArray.get(i-1));\n        }\n    } catch(Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1211141,"reputation":6677,"user_id":1179638,"accept_rate":88,"display_name":"Atul Bhardwaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23800,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":39141104,"answer_count":7,"score":12,"last_activity_date":1667311075,"creation_date":1452504480,"question_id":34717980,"body_markdown":"I want to add an object to a specific position in JSonArray.\r\nMy Current JsonArray look like this\r\n\r\n\r\n    {\r\n    \t&quot;imgs&quot;: [\r\n    \t\t&quot;String1&quot;,\r\n    \t\t&quot;String2&quot;,\r\n    \t\t&quot;String3&quot;,\r\n    \t\t&quot;String4&quot;\r\n    \t]\r\n    }\r\n\r\nI need to insert one more item in jsonarray at 1st position like this-\r\n\r\n    jsonArray.put(1,&quot;String5&quot;)\r\n\r\nthis is replacing item at first position\r\nBut I need below result\r\n\r\n    {\r\n    \t&quot;imgs&quot;: [\r\n    \t\t&quot;String1&quot;,\r\n            &quot;String5&quot;,\r\n    \t\t&quot;String2&quot;,\r\n    \t\t&quot;String3&quot;,\r\n    \t\t&quot;String4&quot;\r\n    \t]\r\n    }\r\n\r\nPlease suggest ","title":"Insert object to specific position in jsonarray","body":"<p>I want to add an object to a specific position in JSonArray.\nMy Current JsonArray look like this</p>\n\n<pre><code>{\n    \"imgs\": [\n        \"String1\",\n        \"String2\",\n        \"String3\",\n        \"String4\"\n    ]\n}\n</code></pre>\n\n<p>I need to insert one more item in jsonarray at 1st position like this-</p>\n\n<pre><code>jsonArray.put(1,\"String5\")\n</code></pre>\n\n<p>this is replacing item at first position\nBut I need below result</p>\n\n<pre><code>{\n    \"imgs\": [\n        \"String1\",\n        \"String5\",\n        \"String2\",\n        \"String3\",\n        \"String4\"\n    ]\n}\n</code></pre>\n\n<p>Please suggest </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":1,"creation_date":1667421239,"post_id":74268624,"comment_id":131166149,"body_markdown":"Please do not post images of code, data, error messages, etc.—copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text.","body":"Please do not post images of code, data, error messages, etc.—copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text."}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667259414,"creation_date":1667259414,"answer_id":74270103,"question_id":74268624,"body_markdown":"You have to define your class `Converter` as a bean and change your `ClientService` annotation to `@Service`.\r\n\r\nConverter.java\r\n\r\n    @Component\r\n    public class Converter&lt;M, D&gt;\r\n\r\n\r\nClientService.java\r\n\r\n    @Service\r\n    public class ClientService","title":"Creating the converter bean","body":"<p>You have to define your class <code>Converter</code> as a bean and change your <code>ClientService</code> annotation to <code>@Service</code>.</p>\n<p>Converter.java</p>\n<pre><code>@Component\npublic class Converter&lt;M, D&gt;\n</code></pre>\n<p>ClientService.java</p>\n<pre><code>@Service\npublic class ClientService\n</code></pre>\n"}],"owner":{"account_id":26220655,"reputation":1,"user_id":20010960,"display_name":"altalaev.artyom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667310959,"creation_date":1667246783,"question_id":74268624,"body_markdown":"I&#39;m new to learning `Spring`. I use the built-in `Spring` converter in my application. But in the service layer, when creating the constructor, it does not see the converter bean.\r\n\r\n\r\nHow to transfer the converter bean to `Spring`?\r\n\r\nMy error code:\r\n\r\n&gt; Parameter 1 of constructor in ru.web.service.ClientService required a\r\n&gt; bean of type &#39;org.springframework.core.convert.converter.Converter&#39;\r\n&gt; that could not be found.\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type\r\n&gt; &#39;org.springframework.core.convert.converter.Converter&#39; in your\r\n&gt; configuration.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1suc6.png","title":"Creating the converter bean","body":"<p>I'm new to learning <code>Spring</code>. I use the built-in <code>Spring</code> converter in my application. But in the service layer, when creating the constructor, it does not see the converter bean.</p>\n<p>How to transfer the converter bean to <code>Spring</code>?</p>\n<p>My error code:</p>\n<blockquote>\n<p>Parameter 1 of constructor in ru.web.service.ClientService required a\nbean of type 'org.springframework.core.convert.converter.Converter'\nthat could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type\n'org.springframework.core.convert.converter.Converter' in your\nconfiguration.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/1suc6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1suc6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jar","manifest.mf"],"answers":[{"tags":[],"owner":{"account_id":13010,"reputation":6750,"user_id":25909,"accept_rate":87,"display_name":"flash"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1348749469,"creation_date":1285235165,"answer_id":3777116,"question_id":3777055,"body_markdown":"You could use something like this:\r\n\r\n    public static String getManifestInfo() {\r\n\t\tEnumeration resEnum;\r\n\t\ttry {\r\n\t\t\tresEnum = Thread.currentThread().getContextClassLoader().getResources(JarFile.MANIFEST_NAME);\r\n\t\t\twhile (resEnum.hasMoreElements()) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tURL url = (URL)resEnum.nextElement();\r\n\t\t\t\t\tInputStream is = url.openStream();\r\n\t\t\t\t\tif (is != null) {\r\n\t\t\t\t\t\tManifest manifest = new Manifest(is);\r\n\t\t\t\t\t\tAttributes mainAttribs = manifest.getMainAttributes();\r\n\t\t\t\t\t\tString version = mainAttribs.getValue(&quot;Implementation-Version&quot;);\r\n\t\t\t\t\t\tif(version != null) {\r\n\t\t\t\t\t\t\treturn version;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch (Exception e) {\r\n\t\t\t\t\t// Silently ignore wrong manifests on classpath?\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e1) {\r\n\t\t\t// Silently ignore wrong manifests on classpath?\r\n\t\t}\r\n\t\treturn null; \r\n\t}\r\n\r\nTo get the manifest attributes, you could iterate over the variable &quot;mainAttribs&quot; or directly retrieve your required attribute if you know the key.\r\n\r\nThis code loops through every jar on the classpath and reads the MANIFEST of each. If you know the name of the jar you may want to only look at the URL if it contains() the name of the jar you are interested in.","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>You could use something like this:</p>\n\n<pre><code>public static String getManifestInfo() {\n    Enumeration resEnum;\n    try {\n        resEnum = Thread.currentThread().getContextClassLoader().getResources(JarFile.MANIFEST_NAME);\n        while (resEnum.hasMoreElements()) {\n            try {\n                URL url = (URL)resEnum.nextElement();\n                InputStream is = url.openStream();\n                if (is != null) {\n                    Manifest manifest = new Manifest(is);\n                    Attributes mainAttribs = manifest.getMainAttributes();\n                    String version = mainAttribs.getValue(\"Implementation-Version\");\n                    if(version != null) {\n                        return version;\n                    }\n                }\n            }\n            catch (Exception e) {\n                // Silently ignore wrong manifests on classpath?\n            }\n        }\n    } catch (IOException e1) {\n        // Silently ignore wrong manifests on classpath?\n    }\n    return null; \n}\n</code></pre>\n\n<p>To get the manifest attributes, you could iterate over the variable \"mainAttribs\" or directly retrieve your required attribute if you know the key.</p>\n\n<p>This code loops through every jar on the classpath and reads the MANIFEST of each. If you know the name of the jar you may want to only look at the URL if it contains() the name of the jar you are interested in.</p>\n"},{"tags":[],"owner":{"account_id":204269,"reputation":2903,"user_id":452372,"accept_rate":78,"display_name":"oiavorskyi"},"down_vote_count":1,"up_vote_count":56,"is_accepted":true,"score":55,"last_activity_date":1285235170,"creation_date":1285235170,"answer_id":3777117,"question_id":3777055,"body_markdown":"Next code should help:\r\n\r\n    JarInputStream jarStream = new JarInputStream(stream);\r\n    Manifest mf = jarStream.getManifest();\r\n\r\nException handling is left for you :) ","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>Next code should help:</p>\n\n<pre><code>JarInputStream jarStream = new JarInputStream(stream);\nManifest mf = jarStream.getManifest();\n</code></pre>\n\n<p>Exception handling is left for you :) </p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1404655579,"creation_date":1356857782,"answer_id":14089521,"question_id":3777055,"body_markdown":"You can use a utility class [`Manifests`](http://manifests.jcabi.com/apidocs-0.7.5/com/jcabi/manifests/Manifests.html) from [jcabi-manifests](http://manifests.jcabi.com/index.html):\r\n\r\n    final String value = Manifests.read(&quot;My-Version&quot;);\r\n\r\nThe class will find all `MANIFEST.MF` files available in classpath and read the attribute you&#39;re looking for from one of them. Also, read this: http://www.yegor256.com/2014/07/03/how-to-read-manifest-mf.html","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>You can use a utility class <a href=\"http://manifests.jcabi.com/apidocs-0.7.5/com/jcabi/manifests/Manifests.html\" rel=\"nofollow\"><code>Manifests</code></a> from <a href=\"http://manifests.jcabi.com/index.html\" rel=\"nofollow\">jcabi-manifests</a>:</p>\n\n<pre><code>final String value = Manifests.read(\"My-Version\");\n</code></pre>\n\n<p>The class will find all <code>MANIFEST.MF</code> files available in classpath and read the attribute you're looking for from one of them. Also, read this: <a href=\"http://www.yegor256.com/2014/07/03/how-to-read-manifest-mf.html\" rel=\"nofollow\">http://www.yegor256.com/2014/07/03/how-to-read-manifest-mf.html</a></p>\n"},{"tags":[],"owner":{"account_id":388103,"reputation":2788,"user_id":746837,"accept_rate":100,"display_name":"Jake W"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1376360122,"creation_date":1374652008,"answer_id":17828095,"question_id":3777055,"body_markdown":"I implemented an AppVersion class according to some ideas from stackoverflow, here I just share the entire class:\r\n\r\n    import java.io.File;\r\n    import java.net.URL;\r\n    import java.util.jar.Attributes;\r\n    import java.util.jar.Manifest;\r\n    \r\n    import org.apache.commons.lang.StringUtils;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class AppVersion {\r\n      private static final Logger log = LoggerFactory.getLogger(AppVersion.class);\r\n    \r\n      private static String version;\r\n    \r\n      public static String get() {\r\n        if (StringUtils.isBlank(version)) {\r\n          Class&lt;?&gt; clazz = AppVersion.class;\r\n          String className = clazz.getSimpleName() + &quot;.class&quot;;\r\n          String classPath = clazz.getResource(className).toString();\r\n          if (!classPath.startsWith(&quot;jar&quot;)) {\r\n            // Class not from JAR\r\n            String relativePath = clazz.getName().replace(&#39;.&#39;, File.separatorChar) + &quot;.class&quot;;\r\n            String classFolder = classPath.substring(0, classPath.length() - relativePath.length() - 1);\r\n            String manifestPath = classFolder + &quot;/META-INF/MANIFEST.MF&quot;;\r\n            log.debug(&quot;manifestPath={}&quot;, manifestPath);\r\n            version = readVersionFrom(manifestPath);\r\n          } else {\r\n            String manifestPath = classPath.substring(0, classPath.lastIndexOf(&quot;!&quot;) + 1) + &quot;/META-INF/MANIFEST.MF&quot;;\r\n            log.debug(&quot;manifestPath={}&quot;, manifestPath);\r\n            version = readVersionFrom(manifestPath);\r\n          }\r\n        }\r\n        return version;\r\n      }\r\n    \r\n      private static String readVersionFrom(String manifestPath) {\r\n        Manifest manifest = null;\r\n        try {\r\n          manifest = new Manifest(new URL(manifestPath).openStream());\r\n          Attributes attrs = manifest.getMainAttributes();\r\n    \r\n          String implementationVersion = attrs.getValue(&quot;Implementation-Version&quot;);\r\n          implementationVersion = StringUtils.replace(implementationVersion, &quot;-SNAPSHOT&quot;, &quot;&quot;);\r\n          log.debug(&quot;Read Implementation-Version: {}&quot;, implementationVersion);\r\n    \r\n          String implementationBuild = attrs.getValue(&quot;Implementation-Build&quot;);\r\n          log.debug(&quot;Read Implementation-Build: {}&quot;, implementationBuild);\r\n    \r\n          String version = implementationVersion;\r\n          if (StringUtils.isNotBlank(implementationBuild)) {\r\n            version = StringUtils.join(new String[] { implementationVersion, implementationBuild }, &#39;.&#39;);\r\n          }\r\n          return version;\r\n        } catch (Exception e) {\r\n          log.error(e.getMessage(), e);\r\n        }\r\n        return StringUtils.EMPTY;\r\n      }\r\n    }\r\n\r\nBasically, this class can read version information from the manifest of its own JAR file, or the manifest in it&#39;s classes folder. And hopefully it works on different platforms, but I only tested it on Mac OS X so far.\r\n\r\nI hope this would be useful for someone else.","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>I implemented an AppVersion class according to some ideas from stackoverflow, here I just share the entire class:</p>\n\n<pre><code>import java.io.File;\nimport java.net.URL;\nimport java.util.jar.Attributes;\nimport java.util.jar.Manifest;\n\nimport org.apache.commons.lang.StringUtils;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class AppVersion {\n  private static final Logger log = LoggerFactory.getLogger(AppVersion.class);\n\n  private static String version;\n\n  public static String get() {\n    if (StringUtils.isBlank(version)) {\n      Class&lt;?&gt; clazz = AppVersion.class;\n      String className = clazz.getSimpleName() + \".class\";\n      String classPath = clazz.getResource(className).toString();\n      if (!classPath.startsWith(\"jar\")) {\n        // Class not from JAR\n        String relativePath = clazz.getName().replace('.', File.separatorChar) + \".class\";\n        String classFolder = classPath.substring(0, classPath.length() - relativePath.length() - 1);\n        String manifestPath = classFolder + \"/META-INF/MANIFEST.MF\";\n        log.debug(\"manifestPath={}\", manifestPath);\n        version = readVersionFrom(manifestPath);\n      } else {\n        String manifestPath = classPath.substring(0, classPath.lastIndexOf(\"!\") + 1) + \"/META-INF/MANIFEST.MF\";\n        log.debug(\"manifestPath={}\", manifestPath);\n        version = readVersionFrom(manifestPath);\n      }\n    }\n    return version;\n  }\n\n  private static String readVersionFrom(String manifestPath) {\n    Manifest manifest = null;\n    try {\n      manifest = new Manifest(new URL(manifestPath).openStream());\n      Attributes attrs = manifest.getMainAttributes();\n\n      String implementationVersion = attrs.getValue(\"Implementation-Version\");\n      implementationVersion = StringUtils.replace(implementationVersion, \"-SNAPSHOT\", \"\");\n      log.debug(\"Read Implementation-Version: {}\", implementationVersion);\n\n      String implementationBuild = attrs.getValue(\"Implementation-Build\");\n      log.debug(\"Read Implementation-Build: {}\", implementationBuild);\n\n      String version = implementationVersion;\n      if (StringUtils.isNotBlank(implementationBuild)) {\n        version = StringUtils.join(new String[] { implementationVersion, implementationBuild }, '.');\n      }\n      return version;\n    } catch (Exception e) {\n      log.error(e.getMessage(), e);\n    }\n    return StringUtils.EMPTY;\n  }\n}\n</code></pre>\n\n<p>Basically, this class can read version information from the manifest of its own JAR file, or the manifest in it's classes folder. And hopefully it works on different platforms, but I only tested it on Mac OS X so far.</p>\n\n<p>I hope this would be useful for someone else.</p>\n"},{"tags":[],"owner":{"account_id":246809,"reputation":898,"user_id":521146,"display_name":"sfelber"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1471504097,"creation_date":1378903763,"answer_id":18741685,"question_id":3777055,"body_markdown":"I would suggest to make following:\r\n\r\n    Package aPackage = MyClassName.class.getPackage();\r\n    String implementationVersion = aPackage.getImplementationVersion();\r\n    String implementationVendor = aPackage.getImplementationVendor();\r\n\r\nWhere MyClassName can be any class from your application written by you.\r\n","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>I would suggest to make following:</p>\n\n<pre><code>Package aPackage = MyClassName.class.getPackage();\nString implementationVersion = aPackage.getImplementationVersion();\nString implementationVendor = aPackage.getImplementationVendor();\n</code></pre>\n\n<p>Where MyClassName can be any class from your application written by you.</p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513621059,"creation_date":1513621059,"answer_id":47874224,"question_id":3777055,"body_markdown":"Keep it simple. A `JAR` is also a `ZIP` so any `ZIP` code can be used to read the `MAINFEST.MF`:\r\n\r\n    public static String readManifest(String sourceJARFile) throws IOException\r\n    {\r\n    \tZipFile zipFile = new ZipFile(sourceJARFile);\r\n    \tEnumeration entries = zipFile.entries();\r\n    \r\n    \twhile (entries.hasMoreElements())\r\n    \t{\r\n    \t\tZipEntry zipEntry = (ZipEntry) entries.nextElement();\r\n    \t\tif (zipEntry.getName().equals(&quot;META-INF/MANIFEST.MF&quot;))\r\n    \t\t{\r\n    \t\t\treturn toString(zipFile.getInputStream(zipEntry));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tthrow new IllegalStateException(&quot;Manifest not found&quot;);\r\n    }\r\n    \r\n    private static String toString(InputStream inputStream) throws IOException\r\n    {\r\n    \tStringBuilder stringBuilder = new StringBuilder();\r\n    \ttry (BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream)))\r\n    \t{\r\n    \t\tString line;\r\n    \t\twhile ((line = bufferedReader.readLine()) != null)\r\n    \t\t{\r\n    \t\t\tstringBuilder.append(line);\r\n    \t\t\tstringBuilder.append(System.lineSeparator());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \treturn stringBuilder.toString().trim() + System.lineSeparator();\r\n    }\r\n\r\nDespite the flexibility, for just reading data [this][1] answer is the best.\r\n\r\n  [1]: https://stackoverflow.com/a/3777117/3764804","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>Keep it simple. A <code>JAR</code> is also a <code>ZIP</code> so any <code>ZIP</code> code can be used to read the <code>MAINFEST.MF</code>:</p>\n\n<pre><code>public static String readManifest(String sourceJARFile) throws IOException\n{\n    ZipFile zipFile = new ZipFile(sourceJARFile);\n    Enumeration entries = zipFile.entries();\n\n    while (entries.hasMoreElements())\n    {\n        ZipEntry zipEntry = (ZipEntry) entries.nextElement();\n        if (zipEntry.getName().equals(\"META-INF/MANIFEST.MF\"))\n        {\n            return toString(zipFile.getInputStream(zipEntry));\n        }\n    }\n\n    throw new IllegalStateException(\"Manifest not found\");\n}\n\nprivate static String toString(InputStream inputStream) throws IOException\n{\n    StringBuilder stringBuilder = new StringBuilder();\n    try (BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream)))\n    {\n        String line;\n        while ((line = bufferedReader.readLine()) != null)\n        {\n            stringBuilder.append(line);\n            stringBuilder.append(System.lineSeparator());\n        }\n    }\n\n    return stringBuilder.toString().trim() + System.lineSeparator();\n}\n</code></pre>\n\n<p>Despite the flexibility, for just reading data <a href=\"https://stackoverflow.com/a/3777117/3764804\">this</a> answer is the best.</p>\n"},{"tags":[],"owner":{"account_id":2473440,"reputation":4508,"user_id":2154661,"display_name":"Ronald Coarite"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1549197596,"creation_date":1549197596,"answer_id":54502930,"question_id":3777055,"body_markdown":"Achieve the attributes in this simple way\r\n\r\n        public static String  getMainClasFromJarFile(String jarFilePath) throws Exception{\r\n        // Path example: &quot;C:\\\\Users\\\\GIGABYTE\\\\.m2\\\\repository\\\\domolin\\\\DeviceTest\\\\1.0-SNAPSHOT\\\\DeviceTest-1.0-SNAPSHOT.jar&quot;;\r\n        JarInputStream jarStream = new JarInputStream(new FileInputStream(jarFilePath));\r\n        Manifest mf = jarStream.getManifest();\r\n        Attributes attributes = mf.getMainAttributes();\r\n        // Manifest-Version: 1.0\r\n        // Built-By: GIGABYTE\r\n        // Created-By: Apache Maven 3.0.5\r\n        // Build-Jdk: 1.8.0_144\r\n        // Main-Class: domolin.devicetest.DeviceTest\r\n        String mainClass = attributes.getValue(&quot;Main-Class&quot;);\r\n        //String mainClass = attributes.getValue(&quot;Created-By&quot;);\r\n        //  Output: domolin.devicetest.DeviceTest\r\n        return mainClass;\r\n    }","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>Achieve the attributes in this simple way</p>\n\n<pre><code>    public static String  getMainClasFromJarFile(String jarFilePath) throws Exception{\n    // Path example: \"C:\\\\Users\\\\GIGABYTE\\\\.m2\\\\repository\\\\domolin\\\\DeviceTest\\\\1.0-SNAPSHOT\\\\DeviceTest-1.0-SNAPSHOT.jar\";\n    JarInputStream jarStream = new JarInputStream(new FileInputStream(jarFilePath));\n    Manifest mf = jarStream.getManifest();\n    Attributes attributes = mf.getMainAttributes();\n    // Manifest-Version: 1.0\n    // Built-By: GIGABYTE\n    // Created-By: Apache Maven 3.0.5\n    // Build-Jdk: 1.8.0_144\n    // Main-Class: domolin.devicetest.DeviceTest\n    String mainClass = attributes.getValue(\"Main-Class\");\n    //String mainClass = attributes.getValue(\"Created-By\");\n    //  Output: domolin.devicetest.DeviceTest\n    return mainClass;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15815856,"reputation":129,"user_id":11411638,"display_name":"Haber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593672988,"creation_date":1593672988,"answer_id":62690627,"question_id":3777055,"body_markdown":"\r\n1. read version;\r\n2. we copied MANIFEST.MF from jar to user home.\r\n```\r\n    public void processManifestFile() {\r\n        String version = this.getClass().getPackage().getImplementationVersion();\r\n        LOG.info(&quot;Version: {}&quot;, version);\r\n        Path targetFile = Paths.get(System.getProperty(&quot;user.home&quot;), &quot;my-project&quot;, &quot;MANIFEST.MF&quot;);\r\n\r\n        try {\r\n            URL url = this.getClass().getProtectionDomain().getCodeSource().getLocation();\r\n            JarFile jarFile = new JarFile(url.getFile());\r\n            Manifest manifest = jarFile.getManifest();\r\n            try(FileWriter fw = new FileWriter(targetFile.toFile())) {\r\n                manifest.getMainAttributes().entrySet().stream().forEach( x -&gt; {\r\n                    try {\r\n                        fw.write(x.getKey() + &quot;: &quot; + x.getValue() + &quot;\\n&quot;);\r\n                        LOG.info(&quot;{}: {}&quot;, x.getKey(), x.getValue());\r\n                    } catch (IOException e) {\r\n                        LOG.error(&quot;error in write manifest, {}&quot;, e.getMessage());\r\n                    }\r\n                });\r\n            }\r\n            LOG.info(&quot;Copy MANIFEST.MF to {}&quot;, targetFile);\r\n        } catch (Exception e) {\r\n            LOG.error(&quot;Error in processing MANIFEST.MF file&quot;, e);\r\n        }\r\n    }\r\n```","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<ol>\n<li>read version;</li>\n<li>we copied MANIFEST.MF from jar to user home.</li>\n</ol>\n<pre><code>    public void processManifestFile() {\n        String version = this.getClass().getPackage().getImplementationVersion();\n        LOG.info(&quot;Version: {}&quot;, version);\n        Path targetFile = Paths.get(System.getProperty(&quot;user.home&quot;), &quot;my-project&quot;, &quot;MANIFEST.MF&quot;);\n\n        try {\n            URL url = this.getClass().getProtectionDomain().getCodeSource().getLocation();\n            JarFile jarFile = new JarFile(url.getFile());\n            Manifest manifest = jarFile.getManifest();\n            try(FileWriter fw = new FileWriter(targetFile.toFile())) {\n                manifest.getMainAttributes().entrySet().stream().forEach( x -&gt; {\n                    try {\n                        fw.write(x.getKey() + &quot;: &quot; + x.getValue() + &quot;\\n&quot;);\n                        LOG.info(&quot;{}: {}&quot;, x.getKey(), x.getValue());\n                    } catch (IOException e) {\n                        LOG.error(&quot;error in write manifest, {}&quot;, e.getMessage());\n                    }\n                });\n            }\n            LOG.info(&quot;Copy MANIFEST.MF to {}&quot;, targetFile);\n        } catch (Exception e) {\n            LOG.error(&quot;Error in processing MANIFEST.MF file&quot;, e);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667310926,"creation_date":1667310926,"answer_id":74277030,"question_id":3777055,"body_markdown":"I&#39;m surprised that no one else proposed this solution:\r\n\r\n    File jar = ...;\r\n\ttry (JarFile jarFile = new JarFile(jar)) {\r\n\t\tManifest manifest = jarFile.getManifest();\r\n        // ...\r\n\t}","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>I'm surprised that no one else proposed this solution:</p>\n<pre><code>File jar = ...;\ntry (JarFile jarFile = new JarFile(jar)) {\n    Manifest manifest = jarFile.getManifest();\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":67639,"reputation":16346,"user_id":197831,"accept_rate":89,"display_name":"M.J."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76917,"favorite_count":0,"down_vote_count":1,"up_vote_count":41,"accepted_answer_id":3777117,"answer_count":9,"score":40,"last_activity_date":1667310926,"creation_date":1285234758,"question_id":3777055,"body_markdown":"Is there any way i can read the contents of a jar file. like i want to read the manifest file in order to find the creator of the jar file and version. Is there any way to achieve the same.","title":"reading MANIFEST.MF file from jar file using JAVA","body":"<p>Is there any way i can read the contents of a jar file. like i want to read the manifest file in order to find the creator of the jar file and version. Is there any way to achieve the same.</p>\n"},{"tags":["java","eclipse","eclipse-jdt","javacc","javaparser"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1664466675,"post_id":73898311,"comment_id":130483735,"body_markdown":"JavaCC != javac. One is a parser generator, the other is a Java Compiler.","body":"JavaCC != javac. One is a parser generator, the other is a Java Compiler."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1664467024,"post_id":73898311,"comment_id":130483894,"body_markdown":"JavaCC is a tool for building parsers, it does not parse Java itself.","body":"JavaCC is a tool for building parsers, it does not parse Java itself."}],"answers":[{"tags":[],"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667310516,"creation_date":1664485466,"answer_id":73901593,"question_id":73898311,"body_markdown":"That&#39;s by no means an exhaustive answer, just a bit of clarification on the specific part of your questions and my 5 cents on the more general one. I assume, that you want to analyze Java code.\r\n\r\nI also assume that it is sort of exercise in using code-as-data and \r\n grammars/parsers. Otherwise the field of [code analysis][1] itself is huge with very specific niches like finding bugs or checking code for thread safety, say.  \r\n\r\nIn general, there&#39;s a huge amount of tools available for the purpose, but if we limit them to those written in Java the biggest fish in the open source space seem to be covered here. For a more complete list see [this blog][2] from some of the authors of JavaParser and [this][3] for a general introduction to the topic. It may also be worth it to have a look at their material on the somewhat overlapping topic of [language development][4] in general.\r\n\r\nIn an ex post view those question were lurking in the background of this response:\r\n\r\n - Do you need to parse in the first place? E.g. getting word or line counts won&#39;t need full blown parsing. [Regex][5] or a [scanner][6] (often the first stage in parsing) might do if you want to elicit all string constants or identifiers. They can&#39;t get at the nested structure of code, though. \r\n - Is full parsing needed or will a subset of the grammar do? Tools like [comby][7] will consider the nested structure of code out of the box glossing over the details.\r\n - Is it an interactive (IDE) setting with lots of feedback, editing support and continuous [incremental compilation][8] in the background needed?\r\n - Do you need to base operations on incomplete or (temporarily) broken code, like for e.g. code completion? That [may also][9] be reflected in the grammar you want to use. \r\n - Do you have to deal with stuff that goes beyond parsing, e.g. type checking?\r\n - Is it only about analysis or transformations also?\r\n - Whats the size of the code to handle in given time constraints? More generic tools won&#39;t give you the fastest possible processing.\r\n - Do you need a compact stand alone tool or can you live with a zoo of dependencies?\r\n - How well is the structure of the output suited to the intended operations on it? All java specific parsing tools mentioned will give you an [abstract syntax tree (AST)][10] for a given piece of code, but each AST will be different (will be discussed below).\r\n\r\nLet&#39;s go from the specific to the general:\r\n\r\ncom.github.javaparser parses a static piece of java code (note: only java, only static) and gives you an [AST][10]. The package also has SymbolResolver, which tries to determine the Java type of symbols. Its called JavaParser, but it isn&#39;t just a parser, it supports Java streams for querying and comes with AST manipulation and code generation capabilities. A main backer is an Italian company btw.\r\n\r\nEclipse jdt is comparably huge, with org.eclipse.jdt.core.dom.ASTParser giving you an AST. But as opposed to JavaParser everything is geared towards handling Java (only) in an interactive development situation. Since Eclipse can perform refactorings, it must be able to analyze and manipulate the AST, here&#39;s [an example][11] for that (as part of [this][12] post) and [here][13] are comprehensive examples for the refactoring api. If you&#39;re building some Eclipse integrated functionality to support writing of code, that will be your first option anyway. Eclipse Jdt [supports][14] incremental compilation in some form which you need if you want some compile-on-the-fly-and-give-feedback-as-the-code-gets-typed functionality. \r\n\r\nI also worked a bit with the [spoon][15] library (developed by a university in France) which has the same focus as JavaParser, also does symbol resolution but has different querying mechanisms. It builds on org.eclipse.jdt.core. Each of those tools will give you a different AST for the same java code reflecting their intended use case, spoon describes it like this:\r\n\r\n&gt; A programming language can have different meta models. An abstract syntax tree (AST) or model, is an instance of a meta model. Each meta model – and consequently each AST – is more or less\r\n&gt; appropriate depending on the task at hand. For instance, the Java meta\r\n&gt; model of Sun’s compiler (javac) has been designed and optimized for\r\n&gt; compilation to bytecode, while, the main purpose of the Java meta\r\n&gt; model of the Eclipse IDE (JDT) is to support different tasks of\r\n&gt; software development in an integrated manner (code completion, quick\r\n&gt; fix of compilation errors, debug, etc.).\r\n\r\nThe most stark difference is between the more domain specific tools  and the parser generators&#39; generated parsers. While having some difference even between them, JavaParser/Spoon ASTs mirror the code on a conceptual level, you get methods, parameter lists, parameters and so on while the generated parsers give you every detail in the grammar down to semicolons, commas and braces as elements in the AST. I think, Eclipse has an Ast View where you can see JDT&#39;s parser output perhaps, but I&#39;m not aware of a comprehensive tool that can show you differences between different parser for java like [AstExplorer][16] does it in the javascript world.\r\n\r\nWhich framework suits your need will depend very much on your use case. E.g. if you need symbol resolution, you&#39;re probably bound to those options that provide it anyway. I tried to get my feet wet with a Java transpiler and found the JavaParser metamodel more suitable than spoon&#39;s model and liked its small number of dependencies.   \r\n\r\nA general (though non-incremental) way to get a handle at an AST would be a parser generator like JavaCC (read: compiler compiler (aka compiler generator) written in Java that can create parsers for anything you have a grammar for) or [ANTLR][17]. If you want to parse SQL, you feed them a sql grammar, if you want to parse Java code, you feed them [this one][18] (ANTLR-format) or [this one][19] (JavaCC-format). The result will be a parser which can give you an AST for a given piece of code and a visitor class perhaps. \r\n\r\nThis approach gives you all possible control over the processing and the possibility to define or tweak a grammar depending on your needs, e.g. to introduce additional non-terminal nodes, trim it down to class/method-level only or pick out comments only without confusing them with string constants, if that&#39;s all you care about. You could also get at the structure of embedded non-Java code fragments, e.g. SQL query strings.\r\n\r\nBtw. ANTLR can handle direct left recursion in the grammar, while JavaCC can&#39;t, e.g. for arithmetic expressions for binary operators like in `exp := exp + exp`\r\n\r\nIf your goal is to support developer activities as they write the code you&#39;ll have to deal with broken or incomplete code. Eclipse is build for the purpose and while I didn&#39;t use its jdt I&#39;d expect it to handle such cases gracefully with reasonable feedback. Also ANTLR will [recover][20] from syntax errors if possible allowing you to [define some error handling][21]. I don&#39;t remember what spoon and JavaParser did in case of errors, I think, they expect syntactically correct code upfront.   \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_tools_for_static_code_analysis\r\n  [2]: https://tomassetti.me/parsing-in-java/\r\n  [3]: https://tomassetti.me/guide-parsing-algorithms-terminology/\r\n  [4]: https://tomassetti.me/resources-create-programming-languages/\r\n  [5]: https://en.wikipedia.org/wiki/Regular_expression\r\n  [6]: https://stackoverflow.com/questions/1739175/whats-the-difference-between-a-parser-and-a-scanner\r\n  [7]: https://comby.dev/\r\n  [8]: https://en.wikipedia.org/wiki/Incremental_compiler\r\n  [9]: https://stackoverflow.com/a/73787646/1428369\r\n  [10]: https://en.wikipedia.org/wiki/Abstract_syntax_tree\r\n  [11]: https://www.vogella.com/tutorials/EclipseJDT/article.html\r\n  [12]: https://stackoverflow.com/questions/1314208/writing-a-new-refactoring-plugin-for-eclipse\r\n  [13]: https://www.programcreek.com/2011/01/best-java-development-tooling-jdt-and-astparser-tutorials/\r\n  [14]: https://www.eclipse.org/jdt/core/index.php\r\n  [15]: https://github.com/INRIA/spoon\r\n  [16]: https://astexplorer.net/\r\n  [17]: https://www.antlr.org/\r\n  [18]: https://github.com/antlr/grammars-v4/tree/master/java/java\r\n  [19]: https://github.com/javaparser/javaparser/blob/master/javaparser-core/src/main/javacc/java.jj\r\n  [20]: https://media.pragprog.com/titles/tpantlr/errors.pdf\r\n  [21]: https://stackoverflow.com/questions/30479367/antlr4-recover-from-error-and-continue-parsing-until-eof","title":"Understanding JavaParser compared to JavaCC and Eclipse JDT","body":"<p>That's by no means an exhaustive answer, just a bit of clarification on the specific part of your questions and my 5 cents on the more general one. I assume, that you want to analyze Java code.</p>\n<p>I also assume that it is sort of exercise in using code-as-data and\ngrammars/parsers. Otherwise the field of <a href=\"https://en.wikipedia.org/wiki/List_of_tools_for_static_code_analysis\" rel=\"nofollow noreferrer\">code analysis</a> itself is huge with very specific niches like finding bugs or checking code for thread safety, say.</p>\n<p>In general, there's a huge amount of tools available for the purpose, but if we limit them to those written in Java the biggest fish in the open source space seem to be covered here. For a more complete list see <a href=\"https://tomassetti.me/parsing-in-java/\" rel=\"nofollow noreferrer\">this blog</a> from some of the authors of JavaParser and <a href=\"https://tomassetti.me/guide-parsing-algorithms-terminology/\" rel=\"nofollow noreferrer\">this</a> for a general introduction to the topic. It may also be worth it to have a look at their material on the somewhat overlapping topic of <a href=\"https://tomassetti.me/resources-create-programming-languages/\" rel=\"nofollow noreferrer\">language development</a> in general.</p>\n<p>In an ex post view those question were lurking in the background of this response:</p>\n<ul>\n<li>Do you need to parse in the first place? E.g. getting word or line counts won't need full blown parsing. <a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">Regex</a> or a <a href=\"https://stackoverflow.com/questions/1739175/whats-the-difference-between-a-parser-and-a-scanner\">scanner</a> (often the first stage in parsing) might do if you want to elicit all string constants or identifiers. They can't get at the nested structure of code, though.</li>\n<li>Is full parsing needed or will a subset of the grammar do? Tools like <a href=\"https://comby.dev/\" rel=\"nofollow noreferrer\">comby</a> will consider the nested structure of code out of the box glossing over the details.</li>\n<li>Is it an interactive (IDE) setting with lots of feedback, editing support and continuous <a href=\"https://en.wikipedia.org/wiki/Incremental_compiler\" rel=\"nofollow noreferrer\">incremental compilation</a> in the background needed?</li>\n<li>Do you need to base operations on incomplete or (temporarily) broken code, like for e.g. code completion? That <a href=\"https://stackoverflow.com/a/73787646/1428369\">may also</a> be reflected in the grammar you want to use.</li>\n<li>Do you have to deal with stuff that goes beyond parsing, e.g. type checking?</li>\n<li>Is it only about analysis or transformations also?</li>\n<li>Whats the size of the code to handle in given time constraints? More generic tools won't give you the fastest possible processing.</li>\n<li>Do you need a compact stand alone tool or can you live with a zoo of dependencies?</li>\n<li>How well is the structure of the output suited to the intended operations on it? All java specific parsing tools mentioned will give you an <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">abstract syntax tree (AST)</a> for a given piece of code, but each AST will be different (will be discussed below).</li>\n</ul>\n<p>Let's go from the specific to the general:</p>\n<p>com.github.javaparser parses a static piece of java code (note: only java, only static) and gives you an <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">AST</a>. The package also has SymbolResolver, which tries to determine the Java type of symbols. Its called JavaParser, but it isn't just a parser, it supports Java streams for querying and comes with AST manipulation and code generation capabilities. A main backer is an Italian company btw.</p>\n<p>Eclipse jdt is comparably huge, with org.eclipse.jdt.core.dom.ASTParser giving you an AST. But as opposed to JavaParser everything is geared towards handling Java (only) in an interactive development situation. Since Eclipse can perform refactorings, it must be able to analyze and manipulate the AST, here's <a href=\"https://www.vogella.com/tutorials/EclipseJDT/article.html\" rel=\"nofollow noreferrer\">an example</a> for that (as part of <a href=\"https://stackoverflow.com/questions/1314208/writing-a-new-refactoring-plugin-for-eclipse\">this</a> post) and <a href=\"https://www.programcreek.com/2011/01/best-java-development-tooling-jdt-and-astparser-tutorials/\" rel=\"nofollow noreferrer\">here</a> are comprehensive examples for the refactoring api. If you're building some Eclipse integrated functionality to support writing of code, that will be your first option anyway. Eclipse Jdt <a href=\"https://www.eclipse.org/jdt/core/index.php\" rel=\"nofollow noreferrer\">supports</a> incremental compilation in some form which you need if you want some compile-on-the-fly-and-give-feedback-as-the-code-gets-typed functionality.</p>\n<p>I also worked a bit with the <a href=\"https://github.com/INRIA/spoon\" rel=\"nofollow noreferrer\">spoon</a> library (developed by a university in France) which has the same focus as JavaParser, also does symbol resolution but has different querying mechanisms. It builds on org.eclipse.jdt.core. Each of those tools will give you a different AST for the same java code reflecting their intended use case, spoon describes it like this:</p>\n<blockquote>\n<p>A programming language can have different meta models. An abstract syntax tree (AST) or model, is an instance of a meta model. Each meta model – and consequently each AST – is more or less\nappropriate depending on the task at hand. For instance, the Java meta\nmodel of Sun’s compiler (javac) has been designed and optimized for\ncompilation to bytecode, while, the main purpose of the Java meta\nmodel of the Eclipse IDE (JDT) is to support different tasks of\nsoftware development in an integrated manner (code completion, quick\nfix of compilation errors, debug, etc.).</p>\n</blockquote>\n<p>The most stark difference is between the more domain specific tools  and the parser generators' generated parsers. While having some difference even between them, JavaParser/Spoon ASTs mirror the code on a conceptual level, you get methods, parameter lists, parameters and so on while the generated parsers give you every detail in the grammar down to semicolons, commas and braces as elements in the AST. I think, Eclipse has an Ast View where you can see JDT's parser output perhaps, but I'm not aware of a comprehensive tool that can show you differences between different parser for java like <a href=\"https://astexplorer.net/\" rel=\"nofollow noreferrer\">AstExplorer</a> does it in the javascript world.</p>\n<p>Which framework suits your need will depend very much on your use case. E.g. if you need symbol resolution, you're probably bound to those options that provide it anyway. I tried to get my feet wet with a Java transpiler and found the JavaParser metamodel more suitable than spoon's model and liked its small number of dependencies.</p>\n<p>A general (though non-incremental) way to get a handle at an AST would be a parser generator like JavaCC (read: compiler compiler (aka compiler generator) written in Java that can create parsers for anything you have a grammar for) or <a href=\"https://www.antlr.org/\" rel=\"nofollow noreferrer\">ANTLR</a>. If you want to parse SQL, you feed them a sql grammar, if you want to parse Java code, you feed them <a href=\"https://github.com/antlr/grammars-v4/tree/master/java/java\" rel=\"nofollow noreferrer\">this one</a> (ANTLR-format) or <a href=\"https://github.com/javaparser/javaparser/blob/master/javaparser-core/src/main/javacc/java.jj\" rel=\"nofollow noreferrer\">this one</a> (JavaCC-format). The result will be a parser which can give you an AST for a given piece of code and a visitor class perhaps.</p>\n<p>This approach gives you all possible control over the processing and the possibility to define or tweak a grammar depending on your needs, e.g. to introduce additional non-terminal nodes, trim it down to class/method-level only or pick out comments only without confusing them with string constants, if that's all you care about. You could also get at the structure of embedded non-Java code fragments, e.g. SQL query strings.</p>\n<p>Btw. ANTLR can handle direct left recursion in the grammar, while JavaCC can't, e.g. for arithmetic expressions for binary operators like in <code>exp := exp + exp</code></p>\n<p>If your goal is to support developer activities as they write the code you'll have to deal with broken or incomplete code. Eclipse is build for the purpose and while I didn't use its jdt I'd expect it to handle such cases gracefully with reasonable feedback. Also ANTLR will <a href=\"https://media.pragprog.com/titles/tpantlr/errors.pdf\" rel=\"nofollow noreferrer\">recover</a> from syntax errors if possible allowing you to <a href=\"https://stackoverflow.com/questions/30479367/antlr4-recover-from-error-and-continue-parsing-until-eof\">define some error handling</a>. I don't remember what spoon and JavaParser did in case of errors, I think, they expect syntactically correct code upfront.</p>\n"}],"owner":{"account_id":17183035,"reputation":87,"user_id":12438175,"display_name":"neversnow1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73901593,"answer_count":1,"score":4,"last_activity_date":1667310516,"creation_date":1664466297,"question_id":73898311,"body_markdown":"I&#39;m currently beginning an automated software analysis project of which I am the research phase. I&#39;m quite new to parsing and struggling to find info on resources regarding comparisons between the main java parsing options. I understand JavaParser was created using JavaCC, what functionalities does it contain that JavaCC does not? Are there any primary differences I should be aware of when making a decision as to which parser to use. Similarly, are there features that the Eclipse JDT contains compared to these two which may be of use to me? Thank you for any answers in advance.","title":"Understanding JavaParser compared to JavaCC and Eclipse JDT","body":"<p>I'm currently beginning an automated software analysis project of which I am the research phase. I'm quite new to parsing and struggling to find info on resources regarding comparisons between the main java parsing options. I understand JavaParser was created using JavaCC, what functionalities does it contain that JavaCC does not? Are there any primary differences I should be aware of when making a decision as to which parser to use. Similarly, are there features that the Eclipse JDT contains compared to these two which may be of use to me? Thank you for any answers in advance.</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667310058,"post_id":74276595,"comment_id":131134057,"body_markdown":"https://stackoverflow.com/questions/54497699/volley-request-with-headers-and-body-params","body":"<a href=\"https://stackoverflow.com/questions/54497699/volley-request-with-headers-and-body-params\" title=\"volley request with headers and body params\">stackoverflow.com/questions/54497699/&hellip;</a>"},{"owner":{"account_id":5617891,"reputation":4182,"user_id":4448617,"display_name":"Ratilal Chopda"},"score":0,"creation_date":1667310246,"post_id":74276595,"comment_id":131134119,"body_markdown":"Please remove the *.* in your URL  https://test.ir/public/api/v3/PropertyAssignment","body":"Please remove the <i>.</i> in your URL  <a href=\"https://test.ir/public/api/v3/PropertyAssignment\" rel=\"nofollow noreferrer\">test.ir/public/api/v3/PropertyAssignment</a>"}],"answers":[{"tags":[],"owner":{"account_id":5617891,"reputation":4182,"user_id":4448617,"display_name":"Ratilal Chopda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667310351,"creation_date":1667310351,"answer_id":74276916,"question_id":74276595,"body_markdown":"Please check below URL \r\n\r\n     StringRequest stringRequest = new StringRequest(Request.Method.POST, &quot;https://test.ir/public/api/v3/PropertyAssignment&quot;,","title":"How to send POST of JSON raw body using volley?","body":"<p>Please check below URL</p>\n<pre><code> StringRequest stringRequest = new StringRequest(Request.Method.POST, &quot;https://test.ir/public/api/v3/PropertyAssignment&quot;,\n</code></pre>\n"}],"owner":{"account_id":14688816,"reputation":354,"user_id":10608055,"display_name":"Amin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667310351,"creation_date":1667308783,"question_id":74276595,"body_markdown":"While posting the raw data I also have to send the  parameters. Whatever I tried, I have not been able to post it with android java.\r\n\r\n&lt;b&gt;my sample input is : &lt;/b&gt; \r\n\r\n[![enter image description here](https://i.stack.imgur.com/NNwXq.png)](https://i.stack.imgur.com/NNwXq.png)\r\n \r\n\r\nMy code is  - ApiService.class&lt;br&gt;\r\n\r\n```\r\n public void sendTest(String token,final TestConfig config) {\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, &quot;https://.test.ir/public/api/v3/PropertyAssignment&quot;,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        config.onReceived(response);\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        if (error instanceof NoConnectionError || error instanceof TimeoutError) {\r\n                            context.startActivity(new Intent(context, NoInternet.class));\r\n\r\n                        }\r\n\r\n                        config.onError(error.getMessage());\r\n                    }\r\n                }) {\r\n\r\n            @Nullable\r\n            @org.jetbrains.annotations.Nullable\r\n            @Override\r\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                HashMap&lt;String, String&gt; hashMap = new HashMap&lt;String, String&gt;();\r\n//                params.put(Vars.KEY_AUTH, Vars.AUTH);\r\n                hashMap.put(&quot;title&quot;, &quot;hi&quot;);\r\n                hashMap.put(&quot;address&quot;, &quot;address1&quot;);\r\n                hashMap.put(&quot;price&quot;, &quot;200000&quot;);\r\n                hashMap.put(&quot;region&quot;, &quot;[6,8]&quot;);\r\n                return hashMap;\r\n            }\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                HashMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n//                params.put(Vars.KEY_AUTH, Vars.AUTH);\r\n                params.put(Vars.KEY_AUTH, token);\r\n                params.put(Vars.KEY_USERNAME, Vars.USERNAME);\r\n                params.put(Vars.KEY_PASSWORD, Vars.PASSWORD);\r\n                return params;\r\n            }\r\n\r\n\r\n        };\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\r\n        requestQueue.add(stringRequest);\r\n\r\n\r\n    }\r\n\r\n```\r\n\r\ncall\r\n \r\n```\r\nApiService  apiService = new ApiService(this);\r\n\r\napiService.sendTest(new UserSharedPref(this).getUserToken(),\r\n        new ApiService.TestConfig() {\r\n            @Override\r\n            public void onReceived(String res) {\r\n                Log.i(&quot;alllllllllllllll&quot;,res);\r\n            }\r\n\r\n            @Override\r\n            public void onError(String errorCode) {\r\n\r\n            }\r\n        });\r\n```\r\n\r\n\r\n\r\nMy sample input that i want to send to the web service and i can&#39;t send it  with params.","title":"How to send POST of JSON raw body using volley?","body":"<p>While posting the raw data I also have to send the  parameters. Whatever I tried, I have not been able to post it with android java.</p>\n<p><b>my sample input is : </b></p>\n<p><a href=\"https://i.stack.imgur.com/NNwXq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NNwXq.png\" alt=\"enter image description here\" /></a></p>\n<p>My code is  - ApiService.class<br></p>\n<pre><code> public void sendTest(String token,final TestConfig config) {\n\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, &quot;https://.test.ir/public/api/v3/PropertyAssignment&quot;,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        config.onReceived(response);\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        if (error instanceof NoConnectionError || error instanceof TimeoutError) {\n                            context.startActivity(new Intent(context, NoInternet.class));\n\n                        }\n\n                        config.onError(error.getMessage());\n                    }\n                }) {\n\n            @Nullable\n            @org.jetbrains.annotations.Nullable\n            @Override\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                HashMap&lt;String, String&gt; hashMap = new HashMap&lt;String, String&gt;();\n//                params.put(Vars.KEY_AUTH, Vars.AUTH);\n                hashMap.put(&quot;title&quot;, &quot;hi&quot;);\n                hashMap.put(&quot;address&quot;, &quot;address1&quot;);\n                hashMap.put(&quot;price&quot;, &quot;200000&quot;);\n                hashMap.put(&quot;region&quot;, &quot;[6,8]&quot;);\n                return hashMap;\n            }\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                HashMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n//                params.put(Vars.KEY_AUTH, Vars.AUTH);\n                params.put(Vars.KEY_AUTH, token);\n                params.put(Vars.KEY_USERNAME, Vars.USERNAME);\n                params.put(Vars.KEY_PASSWORD, Vars.PASSWORD);\n                return params;\n            }\n\n\n        };\n\n        RequestQueue requestQueue = Volley.newRequestQueue(context);\n        requestQueue.add(stringRequest);\n\n\n    }\n\n</code></pre>\n<p>call</p>\n<pre><code>ApiService  apiService = new ApiService(this);\n\napiService.sendTest(new UserSharedPref(this).getUserToken(),\n        new ApiService.TestConfig() {\n            @Override\n            public void onReceived(String res) {\n                Log.i(&quot;alllllllllllllll&quot;,res);\n            }\n\n            @Override\n            public void onError(String errorCode) {\n\n            }\n        });\n</code></pre>\n<p>My sample input that i want to send to the web service and i can't send it  with params.</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1667258434,"post_id":74268260,"comment_id":131123058,"body_markdown":"Please read the description of what you use as tags: DSA is ***not** Data Structures&amp;Algorithms*. At that, presenting a definition/declaration of tha &quot;data structure&quot; might be helpful.","body":"Please read the description of what you use as tags: DSA is <b><i>not</b> Data Structures&amp;Algorithms</i>. At that, presenting a definition/declaration of tha &quot;data structure&quot; might be helpful."}],"answers":[{"tags":[],"owner":{"account_id":2794,"reputation":88136,"user_id":3937,"accept_rate":76,"display_name":"Lou Franco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667310220,"creation_date":1667244736,"answer_id":74268286,"question_id":74268260,"body_markdown":"There is always 1 parameter to a member function ... the object you called the function on (represented by `this` in the function).\r\n\r\nWhen you call \r\n\r\n    return 1 + tail.length();\r\n\r\nThe function `length` will have a `this` that refers to the `tail` here.  The `tail` in that function is `tail.tail`","title":"How does this recursive function with no parameters work?","body":"<p>There is always 1 parameter to a member function ... the object you called the function on (represented by <code>this</code> in the function).</p>\n<p>When you call</p>\n<pre><code>return 1 + tail.length();\n</code></pre>\n<p>The function <code>length</code> will have a <code>this</code> that refers to the <code>tail</code> here.  The <code>tail</code> in that function is <code>tail.tail</code></p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667245404,"creation_date":1667244746,"answer_id":74268288,"question_id":74268260,"body_markdown":"&gt; when the function reaches the last object in the list, that objects tail will be null, so why does the function not just end up returning 1? \r\n\r\nIt does -- when called on the last object in the list.\r\n\r\n&gt; what does 1 + tail.length() actually do.\r\n\r\nIt calls `length` on the `tail` object.  When you say this has &quot;no parameters,&quot; you&#39;re not quite right -- the parameter is which object it&#39;s being called on.  So if you call `node.length()` where `node.tail == tail1` and `tail1.tail == null`, then `node.length()` is `1 + tail1.length()` is `1 + 1` is 2, for a total length of 2 -- which is what we&#39;d expect.","title":"How does this recursive function with no parameters work?","body":"<blockquote>\n<p>when the function reaches the last object in the list, that objects tail will be null, so why does the function not just end up returning 1?</p>\n</blockquote>\n<p>It does -- when called on the last object in the list.</p>\n<blockquote>\n<p>what does 1 + tail.length() actually do.</p>\n</blockquote>\n<p>It calls <code>length</code> on the <code>tail</code> object.  When you say this has &quot;no parameters,&quot; you're not quite right -- the parameter is which object it's being called on.  So if you call <code>node.length()</code> where <code>node.tail == tail1</code> and <code>tail1.tail == null</code>, then <code>node.length()</code> is <code>1 + tail1.length()</code> is <code>1 + 1</code> is 2, for a total length of 2 -- which is what we'd expect.</p>\n"},{"tags":[],"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667246845,"creation_date":1667245895,"answer_id":74268476,"question_id":74268260,"body_markdown":"Let&#39;s assume you have a list like `[a, b, c, d]` and you&#39;re calling `length()` on it. `this` will initially be the first element `a` and `tail` will be the next element `b`. So the flow of the code should be something like this:\r\n\r\n    this.length() // Element &#39;a&#39;\r\n    Is tail == null? // No, tail is &#39;b&#39;\r\n    return 1 + &lt;result of length() of &#39;b&#39;&gt;\r\n    |\r\n    |   this.length() // Element &#39;b&#39;\r\n    |   Is tail == null? // No, tail is &#39;c&#39;\r\n    |   return 1 + &lt;result of length() of &#39;c&#39;&gt;\r\n    |   |\r\n    |   |   this.length() // Element &#39;c&#39;\r\n    |   |   Is tail == null? // No, tail is &#39;d&#39;\r\n    |   |   return 1 + &lt;result of length() of &#39;d&#39;&gt;\r\n    |   |   |\r\n    |   |   |   this.length() // Element &#39;d&#39;\r\n    |   |   |   Is tail == null? // Yes, there&#39;s no element after &#39;d&#39; so return 1\r\n    |   |   |   return 1 // return 1 from length() of &#39;d&#39;\r\n    |   |   |\r\n    |   |   return 1 + 1 // return 2 from length() of &#39;c&#39;\r\n    |   |\r\n    |   return 1 + 2 // return 3 from length() of &#39;b&#39;\r\n    |\r\n    return 1 + 3 // return 4 from length() of &#39;a&#39;\r\n\r\nSo in the end, `length()` will give you the correct result of `4`\r\n\r\n    ","title":"How does this recursive function with no parameters work?","body":"<p>Let's assume you have a list like <code>[a, b, c, d]</code> and you're calling <code>length()</code> on it. <code>this</code> will initially be the first element <code>a</code> and <code>tail</code> will be the next element <code>b</code>. So the flow of the code should be something like this:</p>\n<pre><code>this.length() // Element 'a'\nIs tail == null? // No, tail is 'b'\nreturn 1 + &lt;result of length() of 'b'&gt;\n|\n|   this.length() // Element 'b'\n|   Is tail == null? // No, tail is 'c'\n|   return 1 + &lt;result of length() of 'c'&gt;\n|   |\n|   |   this.length() // Element 'c'\n|   |   Is tail == null? // No, tail is 'd'\n|   |   return 1 + &lt;result of length() of 'd'&gt;\n|   |   |\n|   |   |   this.length() // Element 'd'\n|   |   |   Is tail == null? // Yes, there's no element after 'd' so return 1\n|   |   |   return 1 // return 1 from length() of 'd'\n|   |   |\n|   |   return 1 + 1 // return 2 from length() of 'c'\n|   |\n|   return 1 + 2 // return 3 from length() of 'b'\n|\nreturn 1 + 3 // return 4 from length() of 'a'\n</code></pre>\n<p>So in the end, <code>length()</code> will give you the correct result of <code>4</code></p>\n"}],"owner":{"account_id":23399753,"reputation":41,"user_id":17463100,"display_name":"kuro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":74268476,"answer_count":3,"score":1,"last_activity_date":1667310220,"creation_date":1667244556,"question_id":74268260,"body_markdown":"This function calculates the length of a singly linked list recursively.\r\n\r\n`tail` is an instance variable that points to the next object in the list.\r\n\r\n```java\r\n    public int length() {\r\n        if (tail == null) {\r\n            return 1;\r\n        }\r\n\r\n        return 1 + tail.length();\r\n    }\r\n```\r\n\r\nHowever it uses no parameters as shown. I&#39;m struggling to understand the logic behind this code, could I get some help with understanding what&#39;s actually going on here?\r\n\r\nMy first point of confusion is when the function reaches the last object in the list, that objects tail will be null, so why does the function not just end up returning 1?  \r\nAnd secondly, what does `1 + tail.length()` actually do?\r\n\r\nThe most I understand is that `1` and `tail.length()` can be added due to the `length` function having a return type of int.","title":"How does this recursive function with no parameters work?","body":"<p>This function calculates the length of a singly linked list recursively.</p>\n<p><code>tail</code> is an instance variable that points to the next object in the list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public int length() {\n        if (tail == null) {\n            return 1;\n        }\n\n        return 1 + tail.length();\n    }\n</code></pre>\n<p>However it uses no parameters as shown. I'm struggling to understand the logic behind this code, could I get some help with understanding what's actually going on here?</p>\n<p>My first point of confusion is when the function reaches the last object in the list, that objects tail will be null, so why does the function not just end up returning 1?<br />\nAnd secondly, what does <code>1 + tail.length()</code> actually do?</p>\n<p>The most I understand is that <code>1</code> and <code>tail.length()</code> can be added due to the <code>length</code> function having a return type of int.</p>\n"},{"tags":["java","oop","design-patterns","solid-principles","design-principles"],"comments":[{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1514735156,"post_id":48043773,"comment_id":83058544,"body_markdown":"Are you pointing to `SimpleProductFactory ` class ?","body":"Are you pointing to <code>SimpleProductFactory </code> class ?"},{"owner":{"account_id":6965005,"reputation":71,"user_id":6625907,"display_name":"LangLearn Korean"},"score":0,"creation_date":1514735323,"post_id":48043773,"comment_id":83058578,"body_markdown":"@Ravi I am not sure what you mean. If this was a real program I imagine I would have SimpleProductFactory used in multiple places but SimpleProductFactory would not have more methods added to it.","body":"@Ravi I am not sure what you mean. If this was a real program I imagine I would have SimpleProductFactory used in multiple places but SimpleProductFactory would not have more methods added to it."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1514735369,"post_id":48043773,"comment_id":83058590,"body_markdown":"I think that you want to use an [abstract factory](https://stackoverflow.com/a/13030163/522444) for this. Edit: as Timothy Truckle mentions in his answer (1+)","body":"I think that you want to use an <a href=\"https://stackoverflow.com/a/13030163/522444\">abstract factory</a> for this. Edit: as Timothy Truckle mentions in his answer (1+)"},{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1543414866,"post_id":48043773,"comment_id":93911807,"body_markdown":"I think what Ravi means is that if you inject a `SimpleProductFactory` into the `Client` rather than instantiate it directly, you can subclass the factory to change its behavior without violating OCP.","body":"I think what Ravi means is that if you inject a <code>SimpleProductFactory</code> into the <code>Client</code> rather than instantiate it directly, you can subclass the factory to change its behavior without violating OCP."}],"answers":[{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1514735318,"creation_date":1514735318,"answer_id":48043825,"question_id":48043773,"body_markdown":"The *open/closed principle* does not really apply to *factories* because after all they are the very source of the different  typed objects...\r\n\r\nOn the other hand you could have an *Abstract Factory* looking up &quot;real&quot; factories using javas [ServiceLoader](https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html). Then you could add more of that real factories even in their own jars without changing existing code...","title":"Is this Simple Factory violating the Open Closed Principle?","body":"<p>The <em>open/closed principle</em> does not really apply to <em>factories</em> because after all they are the very source of the different  typed objects...</p>\n\n<p>On the other hand you could have an <em>Abstract Factory</em> looking up \"real\" factories using javas <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a>. Then you could add more of that real factories even in their own jars without changing existing code...</p>\n"},{"tags":[],"owner":{"account_id":1485563,"reputation":2200,"user_id":1520767,"display_name":"fabfas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514741073,"creation_date":1514741073,"answer_id":48044489,"question_id":48043773,"body_markdown":"&gt; Is this Simple Factory violating the Open Closed Principle?\r\n\r\nTo answer your questions. &quot;Yes, Simple Factory violates the Open Closed Principle **for a reason**.&quot;\r\n\r\nThe Simple Factory pattern supposed to be modified in order to help us choosing specific class to the caller. If we make this class conforming to open closed principle then we have to shift burden to some other class and this class will not serve the purpose of factory anymore. Not all principles are absolute. We need to weigh the benefits when using or when not using.","title":"Is this Simple Factory violating the Open Closed Principle?","body":"<blockquote>\n  <p>Is this Simple Factory violating the Open Closed Principle?</p>\n</blockquote>\n\n<p>To answer your questions. \"Yes, Simple Factory violates the Open Closed Principle <strong>for a reason</strong>.\"</p>\n\n<p>The Simple Factory pattern supposed to be modified in order to help us choosing specific class to the caller. If we make this class conforming to open closed principle then we have to shift burden to some other class and this class will not serve the purpose of factory anymore. Not all principles are absolute. We need to weigh the benefits when using or when not using.</p>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514760584,"creation_date":1514760159,"answer_id":48046104,"question_id":48043773,"body_markdown":"In addition to [Timothy Truckle][1] answer about the service locator...\r\n\r\nIn Java 8 you might want to use [method references][2] and the [`Supplier`][3] interface to implement a generic factory for such simple use cases like yours.\r\n\r\nE.g.\r\n\r\n\tclass SimpleProductFactory {\r\n\t\r\n\t\tprivate Map&lt;String, Supplier&lt;? extends Product&gt;&gt; supplierRegistry = new HashMap&lt;&gt;();\r\n\t\r\n\t\tpublic void addProductSupplier(String productName, Supplier&lt;? extends Product&gt; productSupplier) {\r\n\t\t\tsupplierRegistry.put(productName, productSupplier);\r\n\t\t}\r\n\t\r\n\t\tpublic Product createProduct(String productName) {\r\n\t\t\tProduct product = null;\r\n\t\r\n\t\t\tSupplier&lt;? extends Product&gt; productSupplier = supplierRegistry.get(productName);\r\n\t\r\n\t\t\tif (productSupplier != null) {\r\n\t\t\t\tproduct = productSupplier.get();\r\n\t\t\t}\r\n\t\r\n\t\t\treturn product;\r\n\t\t}\r\n\t} \r\n\r\nAnd your client code will look like this\r\n\r\n\tclass Client{\r\n\t  public static void main(String[] args) {\r\n\t    SimpleProductFactory productFactory = new SimpleProductFactory();\r\n\t    \r\n\t    productFactory.addProductSupplier(&quot;milk&quot;, Milk::new); // Constructor reference\r\n\t    productFactory.addProductSupplier(&quot;chips&quot;, Chips::new);\r\n\t    \r\n\t    Product prod = productFactory.createProduct(&quot;milk&quot;);\r\n\t    System.out.println(prod.getPrice());\r\n\t\r\n\t  }\r\n\t}\r\n\r\nAs you can see the simple factory is \r\n\r\n- **open for extension**, because you can simple add other product suppliers\r\n- **closed for modification**, because you don&#39;t need to change it when another product is implemented you just add it.\r\n\r\nPS: With a bit more refactoring you can simply turn it into a real generic factory for any type.\r\n\r\n  [1]: https://stackoverflow.com/a/48043825/974186\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html","title":"Is this Simple Factory violating the Open Closed Principle?","body":"<p>In addition to <a href=\"https://stackoverflow.com/a/48043825/974186\">Timothy Truckle</a> answer about the service locator...</p>\n\n<p>In Java 8 you might want to use <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a> and the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html\" rel=\"nofollow noreferrer\"><code>Supplier</code></a> interface to implement a generic factory for such simple use cases like yours.</p>\n\n<p>E.g.</p>\n\n<pre><code>class SimpleProductFactory {\n\n    private Map&lt;String, Supplier&lt;? extends Product&gt;&gt; supplierRegistry = new HashMap&lt;&gt;();\n\n    public void addProductSupplier(String productName, Supplier&lt;? extends Product&gt; productSupplier) {\n        supplierRegistry.put(productName, productSupplier);\n    }\n\n    public Product createProduct(String productName) {\n        Product product = null;\n\n        Supplier&lt;? extends Product&gt; productSupplier = supplierRegistry.get(productName);\n\n        if (productSupplier != null) {\n            product = productSupplier.get();\n        }\n\n        return product;\n    }\n} \n</code></pre>\n\n<p>And your client code will look like this</p>\n\n<pre><code>class Client{\n  public static void main(String[] args) {\n    SimpleProductFactory productFactory = new SimpleProductFactory();\n\n    productFactory.addProductSupplier(\"milk\", Milk::new); // Constructor reference\n    productFactory.addProductSupplier(\"chips\", Chips::new);\n\n    Product prod = productFactory.createProduct(\"milk\");\n    System.out.println(prod.getPrice());\n\n  }\n}\n</code></pre>\n\n<p>As you can see the simple factory is </p>\n\n<ul>\n<li><strong>open for extension</strong>, because you can simple add other product suppliers</li>\n<li><strong>closed for modification</strong>, because you don't need to change it when another product is implemented you just add it.</li>\n</ul>\n\n<p>PS: With a bit more refactoring you can simply turn it into a real generic factory for any type.</p>\n"},{"tags":[],"owner":{"account_id":2306500,"reputation":418,"user_id":2025676,"display_name":"Kedar Tokekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514940847,"creation_date":1514940847,"answer_id":48069843,"question_id":48043773,"body_markdown":"The static factory example given above is still extendable for additional products like Icecream as follows. Even if we make the factory metod static still it can be extended (though not by conventionally overriding the method)\r\n\r\n        class SimpleProductFactoryExt extends SimpleProductFactory {\r\n            public Product createProduct(String productName) {\r\n                if (productName.equals(&quot;Icecream&quot;)) {\r\n                    return new Milk();\r\n                } else {\r\n                    return super.createProduct(productName);\r\n                }\r\n            }\r\n        }\r\n","title":"Is this Simple Factory violating the Open Closed Principle?","body":"<p>The static factory example given above is still extendable for additional products like Icecream as follows. Even if we make the factory metod static still it can be extended (though not by conventionally overriding the method)</p>\n\n<pre><code>    class SimpleProductFactoryExt extends SimpleProductFactory {\n        public Product createProduct(String productName) {\n            if (productName.equals(\"Icecream\")) {\n                return new Milk();\n            } else {\n                return super.createProduct(productName);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667310174,"creation_date":1665618627,"answer_id":74049075,"question_id":48043773,"body_markdown":"Yes, it does, and it&#39;s appalling we see this design mistake over and over again, including several of the answers above.  \r\n\r\nThe factory should externalise the place where it takes its list of products, eg, a config file that defines a product registry, a map of name =&gt; product class.\r\n\r\nIt should also have some `register( Product )` method, so that extensions might tell the factory about new products (add `Product.getName()`).\r\n\r\nA common way to deal with this is the [SPI Interface](https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html), which allow extensions to list all the Product they add up, without having to register them (cause the SPI magic would take care of it).\r\n\r\nYet another variant is [Spring](https://www.amitph.com/spring-inject-collection-of-beans/), which allows for components of a given type to be auto-injected into a collection of that type.\r\n\r\nThe approach of [Kedar](https://stackoverflow.com/users/2025676/kedar-tokekar) of extending the initial factory using the [chain of responsibility design pattern](https://refactoring.guru/design-patterns/chain-of-responsibility) is also a decent design, which doesn&#39;t violate the open-close. However, in this case, you need something to tell your application which factory class it should use, eg, a Java property that can be set via `-D` when invoking your app, or, better, a [.properties file in META-INF](https://stackoverflow.com/q/5609272/). I think SPI is similar (to the latter) and already there for you.\r\n\r\nWhatever you choose, you should **never ever** write horrors like:\r\n\r\n```java\r\nif ( key1 ) { code1 }\r\nelse if ( key2 ) { code2 }\r\n... \r\n```\r\n\r\nEspecially where codei is always a variant of the same lines. This is verbose, poorly readable, error-prone, and yes, it forces you to touch the if/elseif chain to write extensions, so it definitely violates the open-close. Indeed, it&#39;s the typical example that textbooks take to explain the benefits of such principle.\r\n\r\nIn general, the decent way to write the same is something like:\r\n\r\n```java\r\nMap&lt;key, Case&gt; cases;\r\n\r\n// Populate cases, possibly from the outside and in extensible way\r\n\r\nvoid init ( key ) {\r\n  Case case = cases.get ( key )\r\n  // Use elements in &#39;case&#39; (getters, methods, lambdas) to do what&#39;s needed\r\n  // that is, write code-i as parameterised over case\r\n}\r\n```\r\n\r\nIn general, `Case` is a proxy for the class you need to build and/or config based on key (eg, `ProductBuilder`, `ProductConfig`). In a simpler situation, you can use the class directly (ie, `Product`).\r\n\r\nA variant of the latter might simply be: `Product product` and then product is instantiated dynamically, taking the class&#39; (FQN) name to instantiate from some external source (eg, `-D` property or `.properties`). For instance, this is the typical way to obtain a JDBC driver.\r\n","title":"Is this Simple Factory violating the Open Closed Principle?","body":"<p>Yes, it does, and it's appalling we see this design mistake over and over again, including several of the answers above.</p>\n<p>The factory should externalise the place where it takes its list of products, eg, a config file that defines a product registry, a map of name =&gt; product class.</p>\n<p>It should also have some <code>register( Product )</code> method, so that extensions might tell the factory about new products (add <code>Product.getName()</code>).</p>\n<p>A common way to deal with this is the <a href=\"https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html\" rel=\"nofollow noreferrer\">SPI Interface</a>, which allow extensions to list all the Product they add up, without having to register them (cause the SPI magic would take care of it).</p>\n<p>Yet another variant is <a href=\"https://www.amitph.com/spring-inject-collection-of-beans/\" rel=\"nofollow noreferrer\">Spring</a>, which allows for components of a given type to be auto-injected into a collection of that type.</p>\n<p>The approach of <a href=\"https://stackoverflow.com/users/2025676/kedar-tokekar\">Kedar</a> of extending the initial factory using the <a href=\"https://refactoring.guru/design-patterns/chain-of-responsibility\" rel=\"nofollow noreferrer\">chain of responsibility design pattern</a> is also a decent design, which doesn't violate the open-close. However, in this case, you need something to tell your application which factory class it should use, eg, a Java property that can be set via <code>-D</code> when invoking your app, or, better, a <a href=\"https://stackoverflow.com/q/5609272/\">.properties file in META-INF</a>. I think SPI is similar (to the latter) and already there for you.</p>\n<p>Whatever you choose, you should <strong>never ever</strong> write horrors like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ( key1 ) { code1 }\nelse if ( key2 ) { code2 }\n... \n</code></pre>\n<p>Especially where codei is always a variant of the same lines. This is verbose, poorly readable, error-prone, and yes, it forces you to touch the if/elseif chain to write extensions, so it definitely violates the open-close. Indeed, it's the typical example that textbooks take to explain the benefits of such principle.</p>\n<p>In general, the decent way to write the same is something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;key, Case&gt; cases;\n\n// Populate cases, possibly from the outside and in extensible way\n\nvoid init ( key ) {\n  Case case = cases.get ( key )\n  // Use elements in 'case' (getters, methods, lambdas) to do what's needed\n  // that is, write code-i as parameterised over case\n}\n</code></pre>\n<p>In general, <code>Case</code> is a proxy for the class you need to build and/or config based on key (eg, <code>ProductBuilder</code>, <code>ProductConfig</code>). In a simpler situation, you can use the class directly (ie, <code>Product</code>).</p>\n<p>A variant of the latter might simply be: <code>Product product</code> and then product is instantiated dynamically, taking the class' (FQN) name to instantiate from some external source (eg, <code>-D</code> property or <code>.properties</code>). For instance, this is the typical way to obtain a JDBC driver.</p>\n"}],"owner":{"account_id":6965005,"reputation":71,"user_id":6625907,"display_name":"LangLearn Korean"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1667310174,"creation_date":1514734804,"question_id":48043773,"body_markdown":"Is this Simple Factory violating the Open Closed Principle?\r\n\r\nThe SimpleProductFactory needs to change every time a new concrete product needs to be created but it adheres to the single responsibility principle because that is the only reason it will ever change. Its sole purpose is so that the Client does not violate the open closed principle so I imagine it can&#39;t be a violation itself since obviously this code is needed somewhere. \r\n\r\nI am not interested in changing the factory but whether this specific example is a violation or not. \r\n\r\n**Product**\r\n\r\n    interface Product{\r\n      public int getPrice();\r\n    }\r\n**Milk**\r\n\r\n    class Milk implements Product{\r\n      public int getPrice(){ return 5; }\r\n    }\r\n**Chips**\r\n\r\n    class Chips implements Product{\r\n      public int getPrice(){ return 3; }\r\n    }\r\n**SimpleProductFactory**\r\n\r\n    class SimpleProductFactory{\r\n      \r\n      public Product createProduct(String productName){\r\n        \r\n        if(productName.equals(&quot;milk&quot;)){\r\n          return new Milk();\r\n        }\r\n        else if(productName.equals(&quot;chips&quot;)){\r\n          return new Chips();\r\n        }\r\n        return null;\r\n      }\r\n    }\r\n**Client**\r\n\r\n    class Client{\r\n      public static void main(String[] args) {\r\n        SimpleProductFactory productFactory = new SimpleProductFactory();\r\n        Product prod = productFactory.createProduct(&quot;milk&quot;);\r\n        System.out.println(prod.getPrice());\r\n        \r\n      }\r\n    }","title":"Is this Simple Factory violating the Open Closed Principle?","body":"<p>Is this Simple Factory violating the Open Closed Principle?</p>\n\n<p>The SimpleProductFactory needs to change every time a new concrete product needs to be created but it adheres to the single responsibility principle because that is the only reason it will ever change. Its sole purpose is so that the Client does not violate the open closed principle so I imagine it can't be a violation itself since obviously this code is needed somewhere. </p>\n\n<p>I am not interested in changing the factory but whether this specific example is a violation or not. </p>\n\n<p><strong>Product</strong></p>\n\n<pre><code>interface Product{\n  public int getPrice();\n}\n</code></pre>\n\n<p><strong>Milk</strong></p>\n\n<pre><code>class Milk implements Product{\n  public int getPrice(){ return 5; }\n}\n</code></pre>\n\n<p><strong>Chips</strong></p>\n\n<pre><code>class Chips implements Product{\n  public int getPrice(){ return 3; }\n}\n</code></pre>\n\n<p><strong>SimpleProductFactory</strong></p>\n\n<pre><code>class SimpleProductFactory{\n\n  public Product createProduct(String productName){\n\n    if(productName.equals(\"milk\")){\n      return new Milk();\n    }\n    else if(productName.equals(\"chips\")){\n      return new Chips();\n    }\n    return null;\n  }\n}\n</code></pre>\n\n<p><strong>Client</strong></p>\n\n<pre><code>class Client{\n  public static void main(String[] args) {\n    SimpleProductFactory productFactory = new SimpleProductFactory();\n    Product prod = productFactory.createProduct(\"milk\");\n    System.out.println(prod.getPrice());\n\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1587997,"reputation":6860,"user_id":1471921,"accept_rate":59,"display_name":"Akshay Lokur"},"score":13,"creation_date":1415941895,"post_id":1906445,"comment_id":42393876,"body_markdown":"Nice and concise answer to this question can be found at: \nhttp://www.java.com/en/download/faq/techinfo.xml","body":"Nice and concise answer to this question can be found at:  <a href=\"http://www.java.com/en/download/faq/techinfo.xml\" rel=\"nofollow noreferrer\">java.com/en/download/faq/techinfo.xml</a>"},{"owner":{"account_id":22370,"reputation":158113,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"score":7,"creation_date":1449778756,"post_id":1906445,"comment_id":56166041,"body_markdown":"Possible duplicate of [What is the difference between JVM, JDK, JRE &amp; OpenJDK?](http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/11547458/what-is-the-difference-between-jvm-jdk-jre-openjdk\">What is the difference between JVM, JDK, JRE &amp; OpenJDK?</a>"},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":10,"creation_date":1486958998,"post_id":1906445,"comment_id":71555066,"body_markdown":"@kenorb based on timestamps, the linked question seems to be a duplicate of this one.","body":"@kenorb based on timestamps, the linked question seems to be a duplicate of this one."}],"answers":[{"tags":[],"owner":{"account_id":26091,"reputation":178004,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"down_vote_count":1,"up_vote_count":1407,"is_accepted":true,"score":1406,"last_activity_date":1588849447,"creation_date":1260872465,"answer_id":1906455,"question_id":1906445,"body_markdown":"The **JRE** is the **Java Runtime Environment**. It is a package of everything necessary to run a compiled Java program, including the Java Virtual Machine (JVM), the Java Class Library, the `java` command, and other infrastructure. However, it cannot be used to create new programs.\r\n\r\nThe **JDK** is the **Java Development Kit**, the full-featured SDK for Java. It has everything the JRE has, but also the compiler (`javac`) and tools (like `javadoc` and `jdb`). It is capable of creating and compiling programs.\r\n\r\nUsually, if you only care about running Java programs on computer you will only install the JRE. It&#39;s all you need. On the other hand, if you are planning to do some Java programming, you need to install the JDK instead. \r\n\r\nSometimes, even if you are not planning to do any Java development on a computer, you still need the JDK installed. For example, if you are deploying a web application with JSP, you are technically just running Java programs inside the application server. Why would you need the JDK then? Because the application server will convert JSP into Java servlets and needs to use the JDK to compile the servlets. I am sure that there are more examples.\r\n","title":"What is the difference between JDK and JRE?","body":"<p>The <strong>JRE</strong> is the <strong>Java Runtime Environment</strong>. It is a package of everything necessary to run a compiled Java program, including the Java Virtual Machine (JVM), the Java Class Library, the <code>java</code> command, and other infrastructure. However, it cannot be used to create new programs.</p>\n\n<p>The <strong>JDK</strong> is the <strong>Java Development Kit</strong>, the full-featured SDK for Java. It has everything the JRE has, but also the compiler (<code>javac</code>) and tools (like <code>javadoc</code> and <code>jdb</code>). It is capable of creating and compiling programs.</p>\n\n<p>Usually, if you only care about running Java programs on computer you will only install the JRE. It's all you need. On the other hand, if you are planning to do some Java programming, you need to install the JDK instead. </p>\n\n<p>Sometimes, even if you are not planning to do any Java development on a computer, you still need the JDK installed. For example, if you are deploying a web application with JSP, you are technically just running Java programs inside the application server. Why would you need the JDK then? Because the application server will convert JSP into Java servlets and needs to use the JDK to compile the servlets. I am sure that there are more examples.</p>\n"},{"tags":[],"owner":{"account_id":57484,"reputation":66727,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"down_vote_count":1,"up_vote_count":167,"is_accepted":false,"score":166,"last_activity_date":1540143689,"creation_date":1260874482,"answer_id":1906642,"question_id":1906445,"body_markdown":"The answer above (by Pablo) is very right. This is just additional information.\r\n\r\nThe **JRE** is, as the name implies, an *environment*. It&#39;s basically a bunch of directories with Java-related files, to wit:\r\n\r\n * `bin/` contains Java&#39;s executable programs. The most important is `java` (and for Windows, `javaw` as well), which launches the JVM. There are some other utilities here as well, such as `keytool` and `policytool`.\r\n * `conf/` holds user-editable configuration files for Java experts to play with.\r\n * `lib/` has a large number of supporting files: some `.jar`s, configuration files, property files, fonts, translations, certs, etc. – all the &quot;trimmings&quot; of Java. The most important is `modules`, a file that contains the `.class` files of the Java standard library.\r\n * At a certain level, the Java standard library needs to call into native code. For this purpose, the JRE contains some `.dll` (Windows) or `.dylib` (macOS) or `.so` (Linux) files under `bin/` or `lib/` with supporting, system-specific native binary code.\r\n\r\nThe **JDK** is also a set of directories. It is a superset of the JRE, with some additions:\r\n\r\n - `bin/` has been enlarged with development tools. The most important of them is `javac`; others include `jar`, `javadoc` and `jshell`.\r\n - `jmods/`, which holds JMOD files for the standard library, has been added. These files allow the standard library to be used with `jlink`.","title":"What is the difference between JDK and JRE?","body":"<p>The answer above (by Pablo) is very right. This is just additional information.</p>\n\n<p>The <strong>JRE</strong> is, as the name implies, an <em>environment</em>. It's basically a bunch of directories with Java-related files, to wit:</p>\n\n<ul>\n<li><code>bin/</code> contains Java's executable programs. The most important is <code>java</code> (and for Windows, <code>javaw</code> as well), which launches the JVM. There are some other utilities here as well, such as <code>keytool</code> and <code>policytool</code>.</li>\n<li><code>conf/</code> holds user-editable configuration files for Java experts to play with.</li>\n<li><code>lib/</code> has a large number of supporting files: some <code>.jar</code>s, configuration files, property files, fonts, translations, certs, etc. – all the \"trimmings\" of Java. The most important is <code>modules</code>, a file that contains the <code>.class</code> files of the Java standard library.</li>\n<li>At a certain level, the Java standard library needs to call into native code. For this purpose, the JRE contains some <code>.dll</code> (Windows) or <code>.dylib</code> (macOS) or <code>.so</code> (Linux) files under <code>bin/</code> or <code>lib/</code> with supporting, system-specific native binary code.</li>\n</ul>\n\n<p>The <strong>JDK</strong> is also a set of directories. It is a superset of the JRE, with some additions:</p>\n\n<ul>\n<li><code>bin/</code> has been enlarged with development tools. The most important of them is <code>javac</code>; others include <code>jar</code>, <code>javadoc</code> and <code>jshell</code>.</li>\n<li><code>jmods/</code>, which holds JMOD files for the standard library, has been added. These files allow the standard library to be used with <code>jlink</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3048384,"reputation":2752,"user_id":3003757,"accept_rate":58,"display_name":"Wanna Coffee"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1396358665,"creation_date":1396358665,"answer_id":22787280,"question_id":1906445,"body_markdown":"From Official java website...\r\n\r\n**JRE  (Java Runtime environment):**\r\n\r\n - It is an implementation of the Java Virtual Machine* which actually executes Java programs.\r\n - Java Runtime Environment is a plug-in needed for running java programs.\r\n - The JRE is smaller than the JDK so it needs less Disk space.\r\n - The JRE can be downloaded/supported freely from\r\nhttps://www.java.com\r\n - It includes the JVM , Core libraries and other additional components to run applications and applets written in Java.\r\n \r\n\r\n**JDK (Java Development Kit)**\r\n\r\n - It is a bundle of software that you can use to develop Java based applications.\r\n - Java Development Kit is needed for developing java applications.\r\n - The JDK needs more Disk space as it contains the JRE along with various development tools.\r\n - The JDK can be downloaded/supported freely from\r\nhttps://www.oracle.com/technetwork/java/javase/downloads/\r\n - It includes the JRE, set of API classes, Java compiler, Webstart and additional files needed to write Java applets and applications.","title":"What is the difference between JDK and JRE?","body":"<p>From Official java website...</p>\n\n<p><strong>JRE  (Java Runtime environment):</strong></p>\n\n<ul>\n<li>It is an implementation of the Java Virtual Machine* which actually executes Java programs.</li>\n<li>Java Runtime Environment is a plug-in needed for running java programs.</li>\n<li>The JRE is smaller than the JDK so it needs less Disk space.</li>\n<li>The JRE can be downloaded/supported freely from\n<a href=\"https://www.java.com\">https://www.java.com</a></li>\n<li>It includes the JVM , Core libraries and other additional components to run applications and applets written in Java.</li>\n</ul>\n\n<p><strong>JDK (Java Development Kit)</strong></p>\n\n<ul>\n<li>It is a bundle of software that you can use to develop Java based applications.</li>\n<li>Java Development Kit is needed for developing java applications.</li>\n<li>The JDK needs more Disk space as it contains the JRE along with various development tools.</li>\n<li>The JDK can be downloaded/supported freely from\n<a href=\"https://www.oracle.com/technetwork/java/javase/downloads/\">https://www.oracle.com/technetwork/java/javase/downloads/</a></li>\n<li>It includes the JRE, set of API classes, Java compiler, Webstart and additional files needed to write Java applets and applications.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4683181,"reputation":299,"user_id":3791355,"display_name":"Steve"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1405010813,"creation_date":1404928569,"answer_id":24660677,"question_id":1906445,"body_markdown":"**One difference from a debugging perspective:**\r\n\r\nTo debug into Java system classes such as String and ArrayList, you need a special version of the JRE which is compiled with &quot;debug information&quot;. The JRE included inside the JDK provides this info, but the regular JRE does not. Regular JRE does not include this info to ensure better performance.\r\n\r\nWhat is debugging information? Here is a quick explanation taken from [this blog post](http://eli.thegreenplace.net/2011/02/07/how-debuggers-work-part-3-debugging-information/):\r\n\r\n&gt; Modern compilers do a pretty good job converting your high-level code, with its nicely indented and nested control structures and arbitrarily typed variables into a big pile of bits called machine code (or bytecode in case of Java), the sole purpose of which is to run as fast as possible on the target CPU (virtual CPU of your JVM). Java code gets converted into several machine code instructions. Variables are shoved all over the place – into the stack, into registers, or completely optimized away. Structures and objects don’t even exist in the resulting code – they’re merely an abstraction \r\nthat gets translated to hard-coded offsets into memory buffers.\r\n\r\n&gt; So how does a debugger know where to stop when you ask it to break at the entry to some function? How does it manage to find what to show you when you ask it for the value of a variable? \r\nThe answer is – debugging information.\r\n\r\n&gt; Debugging information is generated by the compiler together with the machine code. It is a representation of the relationship between the executable program and the original source code. This information is encoded into a pre-defined format and stored alongside the machine code. Many such formats were invented over the years for different platforms and executable files. ","title":"What is the difference between JDK and JRE?","body":"<p><strong>One difference from a debugging perspective:</strong></p>\n\n<p>To debug into Java system classes such as String and ArrayList, you need a special version of the JRE which is compiled with \"debug information\". The JRE included inside the JDK provides this info, but the regular JRE does not. Regular JRE does not include this info to ensure better performance.</p>\n\n<p>What is debugging information? Here is a quick explanation taken from <a href=\"http://eli.thegreenplace.net/2011/02/07/how-debuggers-work-part-3-debugging-information/\" rel=\"noreferrer\">this blog post</a>:</p>\n\n<blockquote>\n  <p>Modern compilers do a pretty good job converting your high-level code, with its nicely indented and nested control structures and arbitrarily typed variables into a big pile of bits called machine code (or bytecode in case of Java), the sole purpose of which is to run as fast as possible on the target CPU (virtual CPU of your JVM). Java code gets converted into several machine code instructions. Variables are shoved all over the place – into the stack, into registers, or completely optimized away. Structures and objects don’t even exist in the resulting code – they’re merely an abstraction \n  that gets translated to hard-coded offsets into memory buffers.</p>\n  \n  <p>So how does a debugger know where to stop when you ask it to break at the entry to some function? How does it manage to find what to show you when you ask it for the value of a variable? \n  The answer is – debugging information.</p>\n  \n  <p>Debugging information is generated by the compiler together with the machine code. It is a representation of the relationship between the executable program and the original source code. This information is encoded into a pre-defined format and stored alongside the machine code. Many such formats were invented over the years for different platforms and executable files. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2299951,"reputation":1829,"user_id":2020430,"display_name":"Chinbold Gansukh"},"down_vote_count":1,"up_vote_count":155,"is_accepted":false,"score":154,"last_activity_date":1426832650,"creation_date":1426832650,"answer_id":29160633,"question_id":1906445,"body_markdown":"![enter image description here][1]\r\n\r\n&gt;JDK is a superset of JRE, and contains everything that is in JRE, plus tools such as the compilers and debuggers necessary for developing applets and applications. JRE provides the libraries, the Java Virtual Machine (JVM), and other components to run applets and applications written in the Java programming language.\r\n\r\n  [1]: http://i.stack.imgur.com/CBNux.png","title":"What is the difference between JDK and JRE?","body":"<p><img src=\"https://i.stack.imgur.com/CBNux.png\" alt=\"enter image description here\"></p>\n\n<blockquote>\n  <p>JDK is a superset of JRE, and contains everything that is in JRE, plus tools such as the compilers and debuggers necessary for developing applets and applications. JRE provides the libraries, the Java Virtual Machine (JVM), and other components to run applets and applications written in the Java programming language.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3390327,"reputation":2668,"user_id":2845282,"accept_rate":68,"display_name":"Nikhil Kumar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1429604033,"creation_date":1429604033,"answer_id":29766525,"question_id":1906445,"body_markdown":"JRE\r\n\r\nJRE is an acronym for Java Runtime Environment.It is used to provide runtime environment.It is the implementation of JVM.It physically exists.It contains set of libraries + other files that JVM uses at runtime.\r\n\r\nJDK\r\n\r\nJDK is an acronym for Java Development Kit.It physically exists.It contains JRE + development tools.\r\n\r\nLink :- http://www.javatpoint.com/difference-between-jdk-jre-and-jvm\r\n\r\nUsually, when you only care about running Java programs on your browser or computer you will only install JRE. It&#39;s all you need. On the other hand, if you are planning to do some Java programming, you will also need JDK.\r\n\r\n","title":"What is the difference between JDK and JRE?","body":"<p>JRE</p>\n\n<p>JRE is an acronym for Java Runtime Environment.It is used to provide runtime environment.It is the implementation of JVM.It physically exists.It contains set of libraries + other files that JVM uses at runtime.</p>\n\n<p>JDK</p>\n\n<p>JDK is an acronym for Java Development Kit.It physically exists.It contains JRE + development tools.</p>\n\n<p>Link :- <a href=\"http://www.javatpoint.com/difference-between-jdk-jre-and-jvm\">http://www.javatpoint.com/difference-between-jdk-jre-and-jvm</a></p>\n\n<p>Usually, when you only care about running Java programs on your browser or computer you will only install JRE. It's all you need. On the other hand, if you are planning to do some Java programming, you will also need JDK.</p>\n"},{"tags":[],"owner":{"account_id":98159,"reputation":9280,"user_id":265877,"accept_rate":68,"display_name":"Alex"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1431108111,"creation_date":1431108111,"answer_id":30130080,"question_id":1906445,"body_markdown":"Here&#39;s a simple response directly from Oracle\r\nhttp://docs.oracle.com/javase/7/docs/technotes/guides/\r\n\r\n**Java SE Runtime Environment (JRE)**\r\n\r\nThe JRE provides the libraries, Java virtual machine, and other components necessary for you to run applets and applications written in the Java programming language. This runtime environment can be redistributed with applications to make them free-standing.\r\n\r\n**Java SE Development Kit (JDK)**\r\n\r\nThe JDK includes the JRE plus command-line development tools such as compilers and debuggers that are necessary or useful for developing applets and applications.","title":"What is the difference between JDK and JRE?","body":"<p>Here's a simple response directly from Oracle\n<a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/\">http://docs.oracle.com/javase/7/docs/technotes/guides/</a></p>\n\n<p><strong>Java SE Runtime Environment (JRE)</strong></p>\n\n<p>The JRE provides the libraries, Java virtual machine, and other components necessary for you to run applets and applications written in the Java programming language. This runtime environment can be redistributed with applications to make them free-standing.</p>\n\n<p><strong>Java SE Development Kit (JDK)</strong></p>\n\n<p>The JDK includes the JRE plus command-line development tools such as compilers and debuggers that are necessary or useful for developing applets and applications.</p>\n"},{"tags":[],"owner":{"account_id":6634222,"reputation":375,"user_id":5121838,"display_name":"Pruthvi"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1443454338,"creation_date":1443454338,"answer_id":32826697,"question_id":1906445,"body_markdown":"JVM (Java Virtual Machine) is an abstract machine. It is a specification that provides runtime environment in which java bytecode can be executed.\r\n\r\nJRE is an acronym for Java Runtime Environment.It is used to provide runtime environment.It is the implementation of JVM.It physically exists.It contains set of libraries + other files that JVM uses at runtime\r\n\r\nJDK is an acronym for Java Development Kit.It physically exists.It contains JRE + development tools\r\n\r\n","title":"What is the difference between JDK and JRE?","body":"<p>JVM (Java Virtual Machine) is an abstract machine. It is a specification that provides runtime environment in which java bytecode can be executed.</p>\n\n<p>JRE is an acronym for Java Runtime Environment.It is used to provide runtime environment.It is the implementation of JVM.It physically exists.It contains set of libraries + other files that JVM uses at runtime</p>\n\n<p>JDK is an acronym for Java Development Kit.It physically exists.It contains JRE + development tools</p>\n"},{"tags":[],"owner":{"account_id":1876903,"reputation":2424,"user_id":2672566,"accept_rate":67,"display_name":"nifCody"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1446349179,"creation_date":1446349179,"answer_id":33458974,"question_id":1906445,"body_markdown":"If you want to run Java programs, but not develop them, download the Java Run-time Environment, or JRE. If you want to develop them, download the Java Development kit, or JDK\r\n\r\nJDK\r\n---\r\nLet&#39;s called JDK is a kit, which include what are those things need to developed and run java applications. \r\n\r\nJDK is given as development environment for building applications, component s and applets. \r\n\r\nJRE\r\n--\r\nIt contains everything you need to run Java applications in compiled form. You don&#39;t need any libraries and other stuffs. All things you need are compiled. \r\n\r\nJRE is can not used for development, only used for run the applications. \r\n\r\n\r\n\r\n","title":"What is the difference between JDK and JRE?","body":"<p>If you want to run Java programs, but not develop them, download the Java Run-time Environment, or JRE. If you want to develop them, download the Java Development kit, or JDK</p>\n\n<h2>JDK</h2>\n\n<p>Let's called JDK is a kit, which include what are those things need to developed and run java applications. </p>\n\n<p>JDK is given as development environment for building applications, component s and applets. </p>\n\n<h2>JRE</h2>\n\n<p>It contains everything you need to run Java applications in compiled form. You don't need any libraries and other stuffs. All things you need are compiled. </p>\n\n<p>JRE is can not used for development, only used for run the applications. </p>\n"},{"tags":[],"owner":{"account_id":4141733,"reputation":4569,"user_id":3396808,"display_name":"Jaimin Patel"},"down_vote_count":1,"up_vote_count":135,"is_accepted":false,"score":134,"last_activity_date":1623071738,"creation_date":1451390849,"answer_id":34510731,"question_id":1906445,"body_markdown":"In layman terms: JDK is grandfather JRE is father and JVM is their son.\r\n**[i.e.  JDK &gt; JRE &gt; JVM ]**\r\n\r\n&gt; **JDK = JRE + Development/debugging tools**    \r\n&gt; \r\n&gt; **JRE = JVM + Java Packages Classes(like util, math, lang, awt,swing etc)+runtime libraries.**\r\n&gt;\r\n&gt; **JVM = Class loader system + runtime data area + Execution Engine.**\r\n\r\nIn other words if you are a Java programmer you will need JDK in your system and this package will include JRE and JVM as well but if you are normal user who like to play online games then you will only need JRE and this package will not have JDK in it.\r\n\r\n\r\n\r\n**JVM :**\r\n\r\nThe **Java Virtual Machine (JVM)** is the virtual machine that run the Java bytecodes. The JVM doesn&#39;t understand Java source code, that&#39;s why you compile your *.java files to obtain *.class files that contain the bytecodes understandable by the JVM. It&#39;s also the entity that allows Java to be a &quot;portable language&quot; (write once, run anywhere). Indeed there are specific implementations of the JVM for different systems (Windows, Linux, MacOS, see the wikipedia list..), the aim is that with the same bytecodes they all give the same results.\r\n\r\n\r\n\r\n\r\n**JDK and JRE**\r\n\r\nTo explain the difference between JDK and JRE, the best is to read the Oracle documentation and consult the diagram :\r\n\r\n**Java Runtime Environment (JRE)**\r\n\r\nThe **Java Runtime Environment (JRE)** provides the libraries, the Java Virtual Machine, and other components to run applets and applications written in the Java programming language. In addition, two key deployment technologies are part of the JRE: Java Plug-in, which enables applets to run in popular browsers; and Java Web Start, which deploys standalone applications over a network. It is also the foundation for the technologies in the Java 2 Platform, Enterprise Edition (J2EE) for enterprise software development and deployment. The JRE does not contain tools and utilities such as compilers or debuggers for developing applets and applications.\r\n\r\n\r\n\r\n**Java Development Kit (JDK)**\r\n\r\n\r\nThe JDK is a superset of the JRE, and contains everything that is in the JRE, plus tools such as the compilers and debuggers necessary for developing applets and applications.\r\n\r\n\r\n\r\nNote that Oracle is not the only one to provide JDK.\r\n\r\n\r\n[JIT Compile Process (Courtesy: Oracle documentation)][1]\r\n\r\n\r\n[![JDK &gt; JRE &gt; JVM][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pQRpc.gif\r\n  [2]: http://i.stack.imgur.com/AaveN.png\r\n  [3]: https://i.stack.imgur.com/CBNux.png","title":"What is the difference between JDK and JRE?","body":"<p>In layman terms: JDK is grandfather JRE is father and JVM is their son.\n<strong>[i.e.  JDK &gt; JRE &gt; JVM ]</strong></p>\n<blockquote>\n<p><strong>JDK = JRE + Development/debugging tools</strong></p>\n<p><strong>JRE = JVM + Java Packages Classes(like util, math, lang, awt,swing etc)+runtime libraries.</strong></p>\n<p><strong>JVM = Class loader system + runtime data area + Execution Engine.</strong></p>\n</blockquote>\n<p>In other words if you are a Java programmer you will need JDK in your system and this package will include JRE and JVM as well but if you are normal user who like to play online games then you will only need JRE and this package will not have JDK in it.</p>\n<p><strong>JVM :</strong></p>\n<p>The <strong>Java Virtual Machine (JVM)</strong> is the virtual machine that run the Java bytecodes. The JVM doesn't understand Java source code, that's why you compile your *.java files to obtain *.class files that contain the bytecodes understandable by the JVM. It's also the entity that allows Java to be a &quot;portable language&quot; (write once, run anywhere). Indeed there are specific implementations of the JVM for different systems (Windows, Linux, MacOS, see the wikipedia list..), the aim is that with the same bytecodes they all give the same results.</p>\n<p><strong>JDK and JRE</strong></p>\n<p>To explain the difference between JDK and JRE, the best is to read the Oracle documentation and consult the diagram :</p>\n<p><strong>Java Runtime Environment (JRE)</strong></p>\n<p>The <strong>Java Runtime Environment (JRE)</strong> provides the libraries, the Java Virtual Machine, and other components to run applets and applications written in the Java programming language. In addition, two key deployment technologies are part of the JRE: Java Plug-in, which enables applets to run in popular browsers; and Java Web Start, which deploys standalone applications over a network. It is also the foundation for the technologies in the Java 2 Platform, Enterprise Edition (J2EE) for enterprise software development and deployment. The JRE does not contain tools and utilities such as compilers or debuggers for developing applets and applications.</p>\n<p><strong>Java Development Kit (JDK)</strong></p>\n<p>The JDK is a superset of the JRE, and contains everything that is in the JRE, plus tools such as the compilers and debuggers necessary for developing applets and applications.</p>\n<p>Note that Oracle is not the only one to provide JDK.</p>\n<p><a href=\"https://i.stack.imgur.com/pQRpc.gif\" rel=\"noreferrer\">JIT Compile Process (Courtesy: Oracle documentation)</a></p>\n<p><a href=\"https://i.stack.imgur.com/AaveN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AaveN.png\" alt=\"JDK &gt; JRE &gt; JVM\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CBNux.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CBNux.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7837633,"reputation":95,"user_id":5925051,"display_name":"Mayank Jain"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1455451829,"creation_date":1455451829,"answer_id":35391575,"question_id":1906445,"body_markdown":"jdk is necessary to compile to code and convert java code to byte codes while jre is necessary for executing the byte codes. \r\n \r\n\r\n","title":"What is the difference between JDK and JRE?","body":"<p>jdk is necessary to compile to code and convert java code to byte codes while jre is necessary for executing the byte codes. </p>\n"},{"tags":[],"owner":{"account_id":8131699,"reputation":971,"user_id":6124737,"display_name":"Samarth Shah"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1460149374,"creation_date":1460149374,"answer_id":36509307,"question_id":1906445,"body_markdown":"The difference between JDK and JRE is that JDK is the software development kit for java while JRE is the place where you run your programs.","title":"What is the difference between JDK and JRE?","body":"<p>The difference between JDK and JRE is that JDK is the software development kit for java while JRE is the place where you run your programs.</p>\n"},{"tags":[],"owner":{"account_id":8578106,"reputation":140,"user_id":6426779,"display_name":"bishwas pokharel"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1465198791,"creation_date":1465198791,"answer_id":37651977,"question_id":1906445,"body_markdown":"suppose, if you are a developer then your role is to develop program as well as to execute the program. so you must have environment for developing and executing, which is provided by JDK.\r\n\r\nsuppose, if you are a client then you don&#39;t have to worry about developing.Just you need is, an environment to run program and get result only, which is provided by JRE.\r\n\r\nJRE executes the application but JVM reads the instructions line by line so it&#39;s interpreter.\r\n\r\nJDK=JRE+Development Tools\r\n\r\nJRE=JVM+Library Classes","title":"What is the difference between JDK and JRE?","body":"<p>suppose, if you are a developer then your role is to develop program as well as to execute the program. so you must have environment for developing and executing, which is provided by JDK.</p>\n\n<p>suppose, if you are a client then you don't have to worry about developing.Just you need is, an environment to run program and get result only, which is provided by JRE.</p>\n\n<p>JRE executes the application but JVM reads the instructions line by line so it's interpreter.</p>\n\n<p>JDK=JRE+Development Tools</p>\n\n<p>JRE=JVM+Library Classes</p>\n"},{"tags":[],"owner":{"account_id":1779020,"reputation":844,"user_id":1622201,"accept_rate":12,"display_name":"Chandra Shekhar Goka"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1524365339,"creation_date":1465291074,"answer_id":37675238,"question_id":1906445,"body_markdown":"A clear understanding of these terms(JVM, JDK, JRE) are essential to grasp their usage and differences.\r\n\r\n**JVM**\r\nJava Virtual Machine (JVM) is a run-time system that executes Java bytecode. The JVM is like a virtual computer that can execute a set of compiled instructions and manipulate memory locations. When a Java compiler compiles source code, it generates a highly optimized set of instructions called bytecode in a .class file. The JVM interprets these bytecode instructions and converts them to machine-specific code for execution.\r\n\r\n**JDK**\r\nThe Java Development Kit (JDK) is a software development environment that you can use to develop and execute Java applications. It includes the JRE and a set of programming tools, such as a Java compiler, interpreter, appletviewer, and document viewer. The JDK is implemented through the Java SE, Java EE, or Java ME platforms. \r\n\r\n**JRE**\r\nThe Java Runtime Environment (JRE) is a part of the JDK that includes a JVM, core classes, and several libraries that support application development. Though the JRE is available as part of the JDK, you can also download and use it separately.\r\n\r\nFor complete understanding you can see my Blog : [Jdk Jre Jvm and differences][1]\r\n\r\n\r\n  [1]: http://www.onlinetutorialspoint.com/java/jdk-jre-jvm-and-differences.html","title":"What is the difference between JDK and JRE?","body":"<p>A clear understanding of these terms(JVM, JDK, JRE) are essential to grasp their usage and differences.</p>\n\n<p><strong>JVM</strong>\nJava Virtual Machine (JVM) is a run-time system that executes Java bytecode. The JVM is like a virtual computer that can execute a set of compiled instructions and manipulate memory locations. When a Java compiler compiles source code, it generates a highly optimized set of instructions called bytecode in a .class file. The JVM interprets these bytecode instructions and converts them to machine-specific code for execution.</p>\n\n<p><strong>JDK</strong>\nThe Java Development Kit (JDK) is a software development environment that you can use to develop and execute Java applications. It includes the JRE and a set of programming tools, such as a Java compiler, interpreter, appletviewer, and document viewer. The JDK is implemented through the Java SE, Java EE, or Java ME platforms. </p>\n\n<p><strong>JRE</strong>\nThe Java Runtime Environment (JRE) is a part of the JDK that includes a JVM, core classes, and several libraries that support application development. Though the JRE is available as part of the JDK, you can also download and use it separately.</p>\n\n<p>For complete understanding you can see my Blog : <a href=\"http://www.onlinetutorialspoint.com/java/jdk-jre-jvm-and-differences.html\" rel=\"nofollow noreferrer\">Jdk Jre Jvm and differences</a></p>\n"},{"tags":[],"owner":{"account_id":8993422,"reputation":119,"user_id":6704626,"display_name":"Harita M"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1470917228,"creation_date":1470914762,"answer_id":38895072,"question_id":1906445,"body_markdown":"If you are a **Java programmer** you will need **JDK** in your system and this package will include JRE and JVM as well but if you are **normal user** who like to play online games then you will only need **JRE** and this package will not have JDK in it.\r\n\r\n&gt; **JVM** \r\n&gt; \r\n&gt; JVM (Java Virtual Machine) is an abstract machine. It is a\r\n&gt; specification that provides runtime environment in which java bytecode\r\n&gt; can be executed.\r\n&gt; \r\n&gt; JVMs are available for many hardware and software platforms. JVM, JRE\r\n&gt; and JDK are platform dependent because configuration of each OS\r\n&gt; differs. But, Java is platform independent.\r\n&gt; \r\n&gt; \r\n&gt; **JRE**\r\n&gt; \r\n&gt; It contains everything you need to run Java applications in compiled\r\n&gt; form. You don&#39;t need any libraries and other stuffs. All things you\r\n&gt; need are compiled.\r\n&gt; \r\n&gt; JRE is can not used for development, only used for run the\r\n&gt; applications.\r\n&gt; \r\n&gt; **Java SE Development Kit (JDK)**\r\n&gt; \r\n&gt; The JDK includes the JRE plus command-line development tools such as\r\n&gt; compilers and debuggers that are necessary or useful for developing\r\n&gt; applets and applications.\r\n\r\n&lt;sup&gt;(Sources: [GeeksForGeeks Q&amp;A](http://qa.geeksforgeeks.org/4248/explain-the-difference-between-jdk-jre-and-jvm), [Java Platform Overview](http://docs.oracle.com/javase/7/docs/technotes/guides/))&lt;/sup&gt;","title":"What is the difference between JDK and JRE?","body":"<p>If you are a <strong>Java programmer</strong> you will need <strong>JDK</strong> in your system and this package will include JRE and JVM as well but if you are <strong>normal user</strong> who like to play online games then you will only need <strong>JRE</strong> and this package will not have JDK in it.</p>\n\n<blockquote>\n  <p><strong>JVM</strong> </p>\n  \n  <p>JVM (Java Virtual Machine) is an abstract machine. It is a\n  specification that provides runtime environment in which java bytecode\n  can be executed.</p>\n  \n  <p>JVMs are available for many hardware and software platforms. JVM, JRE\n  and JDK are platform dependent because configuration of each OS\n  differs. But, Java is platform independent.</p>\n  \n  <p><strong>JRE</strong></p>\n  \n  <p>It contains everything you need to run Java applications in compiled\n  form. You don't need any libraries and other stuffs. All things you\n  need are compiled.</p>\n  \n  <p>JRE is can not used for development, only used for run the\n  applications.</p>\n  \n  <p><strong>Java SE Development Kit (JDK)</strong></p>\n  \n  <p>The JDK includes the JRE plus command-line development tools such as\n  compilers and debuggers that are necessary or useful for developing\n  applets and applications.</p>\n</blockquote>\n\n<p><sup>(Sources: <a href=\"http://qa.geeksforgeeks.org/4248/explain-the-difference-between-jdk-jre-and-jvm\" rel=\"noreferrer\">GeeksForGeeks Q&amp;A</a>, <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/\" rel=\"noreferrer\">Java Platform Overview</a>)</sup></p>\n"},{"tags":[],"owner":{"account_id":9000365,"reputation":121,"user_id":6709222,"display_name":"Kanan J"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1585631637,"creation_date":1471002678,"answer_id":38917282,"question_id":1906445,"body_markdown":"JVM, JRE, JDK - these are all the backbone of Java language. Each component work separately. JDK and JRE physically exist but JVM is an abstract machine that means it does not physically exist.\r\n\r\n**JVM** is the subsystem of JDK and JRE which is used to check the intermediate code known as &quot;bytecode&quot;. It first loads the &quot;class file&quot; (having .c extension) generated by the Java compiler (javac) through JVM subsystem classloader and classified memory location (class area, stack, heap and pc registers) according to their use. Then it checks all the bytecode to ensure that it is returned in Java and all memory accessibility access by the network. The interpreter&#39;s work starts after that where it checks the whole program line by line. The results are finally shown in the console/browser/application through JRE (Java Runtime Environment) which runtime facilities.\r\n\r\n**JRE** is also a subsystem of JDK which provides runtime facilities like JVM, classes, executable files like .jar file, etc.\r\n\r\n**JDK** stands for Java Development Kit. It contains all necessary components used in Java programming such as class, method, swing, AWT, package, Java (interpreter), javac (compiler), appletviewer (applet application viewer), etc. To conclude, it contains every file required for developing applications, whether standalone or web-based.","title":"What is the difference between JDK and JRE?","body":"<p>JVM, JRE, JDK - these are all the backbone of Java language. Each component work separately. JDK and JRE physically exist but JVM is an abstract machine that means it does not physically exist.</p>\n\n<p><strong>JVM</strong> is the subsystem of JDK and JRE which is used to check the intermediate code known as \"bytecode\". It first loads the \"class file\" (having .c extension) generated by the Java compiler (javac) through JVM subsystem classloader and classified memory location (class area, stack, heap and pc registers) according to their use. Then it checks all the bytecode to ensure that it is returned in Java and all memory accessibility access by the network. The interpreter's work starts after that where it checks the whole program line by line. The results are finally shown in the console/browser/application through JRE (Java Runtime Environment) which runtime facilities.</p>\n\n<p><strong>JRE</strong> is also a subsystem of JDK which provides runtime facilities like JVM, classes, executable files like .jar file, etc.</p>\n\n<p><strong>JDK</strong> stands for Java Development Kit. It contains all necessary components used in Java programming such as class, method, swing, AWT, package, Java (interpreter), javac (compiler), appletviewer (applet application viewer), etc. To conclude, it contains every file required for developing applications, whether standalone or web-based.</p>\n"},{"tags":[],"owner":{"account_id":8080133,"reputation":59,"user_id":6092136,"display_name":"Dev"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1471606794,"creation_date":1471606794,"answer_id":39038162,"question_id":1906445,"body_markdown":"**JDK** includes the JRE plus command-line development tools such as compilers and debuggers that are necessary or useful for developing applets and applications.\r\n\r\n**JRE** is basically the Java Virtual Machine where your Java programs run on. It also includes browser plugins for Applet execution.\r\n\r\n**JDK** is an abstract machine. It is a specification that provides runtime environment in which java bytecode can be executed.\r\n\r\nSo, Basically JVM &lt; JRE &lt; JDK as per @Jaimin Patel said.","title":"What is the difference between JDK and JRE?","body":"<p><strong>JDK</strong> includes the JRE plus command-line development tools such as compilers and debuggers that are necessary or useful for developing applets and applications.</p>\n\n<p><strong>JRE</strong> is basically the Java Virtual Machine where your Java programs run on. It also includes browser plugins for Applet execution.</p>\n\n<p><strong>JDK</strong> is an abstract machine. It is a specification that provides runtime environment in which java bytecode can be executed.</p>\n\n<p>So, Basically JVM &lt; JRE &lt; JDK as per @Jaimin Patel said.</p>\n"},{"tags":[],"owner":{"account_id":8083203,"reputation":69,"user_id":6734944,"display_name":"ABP "},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1471610464,"creation_date":1471610464,"answer_id":39039314,"question_id":1906445,"body_markdown":"Simply : \r\n\r\nJVM is the virtual machine Java code executes on\r\n\r\nJRE is the environment (standard libraries and JVM) required to run Java applications\r\n\r\nJDK is the JRE with developer tools and documentation\r\n\r\n","title":"What is the difference between JDK and JRE?","body":"<p>Simply : </p>\n\n<p>JVM is the virtual machine Java code executes on</p>\n\n<p>JRE is the environment (standard libraries and JVM) required to run Java applications</p>\n\n<p>JDK is the JRE with developer tools and documentation</p>\n"},{"tags":[],"owner":{"account_id":9121547,"reputation":81,"user_id":6786809,"display_name":"Chintan Patni"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1472806835,"creation_date":1472806835,"answer_id":39288387,"question_id":1906445,"body_markdown":"JVM, JRE and JDK are platform dependent because configuration of each OS differs. But, Java is platform independent. \r\n\r\nJava Virtual Machine (JVM) is a run-time system that executes Java bytecode. \r\n\r\nJRE is the environment (standard libraries and JVM) required to run Java applications.\r\n\r\nThe JDK includes the JRE plus command-line development tools such as compilers and debuggers that are necessary or useful for developing applets and applications.","title":"What is the difference between JDK and JRE?","body":"<p>JVM, JRE and JDK are platform dependent because configuration of each OS differs. But, Java is platform independent. </p>\n\n<p>Java Virtual Machine (JVM) is a run-time system that executes Java bytecode. </p>\n\n<p>JRE is the environment (standard libraries and JVM) required to run Java applications.</p>\n\n<p>The JDK includes the JRE plus command-line development tools such as compilers and debuggers that are necessary or useful for developing applets and applications.</p>\n"},{"tags":[],"owner":{"account_id":5013949,"reputation":1268,"user_id":4029284,"display_name":"Akila"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1509091343,"creation_date":1509091343,"answer_id":46970227,"question_id":1906445,"body_markdown":"**JRE**\r\n\r\nJRE is an acronym for Java Runtime Environment.It is used to provide runtime environment.It is the implementation of JVM. It physically exists. It contains set of libraries + other files that JVM uses at runtime.\r\n\r\nImplementation of JVMs are also actively released by other companies besides Sun Micro Systems.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**JDK**\r\n\r\nJDK is an acronym for Java Development Kit.It physically exists.It contains JRE + development tools. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fiwnE.jpg\r\n  [2]: https://i.stack.imgur.com/fWrJo.jpg","title":"What is the difference between JDK and JRE?","body":"<p><strong>JRE</strong></p>\n\n<p>JRE is an acronym for Java Runtime Environment.It is used to provide runtime environment.It is the implementation of JVM. It physically exists. It contains set of libraries + other files that JVM uses at runtime.</p>\n\n<p>Implementation of JVMs are also actively released by other companies besides Sun Micro Systems.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fiwnE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fiwnE.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>JDK</strong></p>\n\n<p>JDK is an acronym for Java Development Kit.It physically exists.It contains JRE + development tools. </p>\n\n<p><a href=\"https://i.stack.imgur.com/fWrJo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fWrJo.jpg\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":55779,"reputation":16052,"user_id":167114,"accept_rate":85,"display_name":"i2ijeya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826457,"favorite_count":0,"down_vote_count":3,"up_vote_count":1083,"accepted_answer_id":1906455,"answer_count":20,"score":1080,"last_activity_date":1667310017,"creation_date":1260872367,"question_id":1906445,"body_markdown":"\r\n\r\n&gt; Editors note: This question was asked in 2009 where the world was different. In 2022 the standard open sourced OpenJDK is JDK-only. \r\n\r\n---\r\n\r\n\r\nWhat is the difference between JDK and JRE?\r\n  \r\nWhat are their roles and when should I use one or the other?","title":"What is the difference between JDK and JRE?","body":"<blockquote>\n<p>Editors note: This question was asked in 2009 where the world was different. In 2022 the standard open sourced OpenJDK is JDK-only.</p>\n</blockquote>\n<hr />\n<p>What is the difference between JDK and JRE?</p>\n<p>What are their roles and when should I use one or the other?</p>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":266568,"reputation":2161,"user_id":554205,"accept_rate":75,"display_name":"Pradeep Gollakota"},"score":0,"creation_date":1333672342,"post_id":10037562,"comment_id":12840664,"body_markdown":"What environment are you running on? What version of hadoop? Do you have hadoop-native installed?","body":"What environment are you running on? What version of hadoop? Do you have hadoop-native installed?"},{"owner":{"account_id":1016954,"reputation":2531,"user_id":1028315,"accept_rate":56,"display_name":"lucky_start_izumi"},"score":0,"creation_date":1333730947,"post_id":10037562,"comment_id":12853572,"body_markdown":"i am using hadoop-0.20.0 I think I have hadoop-native. I can run the mapreduce job from command line : hadoop jar validation...","body":"i am using hadoop-0.20.0 I think I have hadoop-native. I can run the mapreduce job from command line : hadoop jar validation..."}],"answers":[{"tags":[],"owner":{"account_id":1337393,"reputation":29969,"user_id":1279787,"accept_rate":67,"display_name":"Chris White"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1445332663,"creation_date":1333677223,"answer_id":10038290,"question_id":10037562,"body_markdown":"Your error relates to the actual shared library for Lzo not being present in the hadoop native library folder.\r\n\r\nThe code for `GPLNativeCodeLoader` is looking for a shared library called `gplcompression`. Java is actually looking for a file named `libgplcompression.so`. If this file doesn&#39;t exist in your `lib/native/${arch}` folder then you&#39;ll see this error.\r\n\r\nIn a terminal, navigate to your hadoop base directory and execute the following to dump the native libraries installed, and post back to your original question\r\n\r\n    uname -a\r\n    find lib/native\r\n\r\n    ","title":"need to use hadoop native","body":"<p>Your error relates to the actual shared library for Lzo not being present in the hadoop native library folder.</p>\n\n<p>The code for <code>GPLNativeCodeLoader</code> is looking for a shared library called <code>gplcompression</code>. Java is actually looking for a file named <code>libgplcompression.so</code>. If this file doesn't exist in your <code>lib/native/${arch}</code> folder then you'll see this error.</p>\n\n<p>In a terminal, navigate to your hadoop base directory and execute the following to dump the native libraries installed, and post back to your original question</p>\n\n<pre><code>uname -a\nfind lib/native\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712505,"reputation":691,"user_id":1570233,"display_name":"shifu.zheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421056773,"creation_date":1421056773,"answer_id":27899340,"question_id":10037562,"body_markdown":"If you are using Cloudera Hadoop, you can install lzo easily according to the following instruction:\r\n\r\nhttp://www.cloudera.com/content/cloudera/en/documentation/cloudera-impala/v1/v1-0-1/Installing-and-Using-Impala/ciiu_lzo.html \r\n","title":"need to use hadoop native","body":"<p>If you are using Cloudera Hadoop, you can install lzo easily according to the following instruction:</p>\n\n<p><a href=\"http://www.cloudera.com/content/cloudera/en/documentation/cloudera-impala/v1/v1-0-1/Installing-and-Using-Impala/ciiu_lzo.html\" rel=\"nofollow\">http://www.cloudera.com/content/cloudera/en/documentation/cloudera-impala/v1/v1-0-1/Installing-and-Using-Impala/ciiu_lzo.html</a> </p>\n"}],"owner":{"account_id":1016954,"reputation":2531,"user_id":1028315,"accept_rate":56,"display_name":"lucky_start_izumi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15297,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10038290,"answer_count":2,"score":2,"last_activity_date":1667309478,"creation_date":1333669708,"question_id":10037562,"body_markdown":"I am invoking a `mapreduce` job from my java program.\r\nToday, when I set the `mapreduce` job&#39;s input format to :`LzoTextInputFormat`\r\nThe `mapreduce` job fails:\r\n\r\n    \r\n    \r\n    \r\n    Could not load native gpl library\r\n    java.lang.UnsatisfiedLinkError: no gplcompression in java.library.path\r\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1738)\r\n\tat java.lang.Runtime.loadLibrary0(Runtime.java:823)\r\n\tat java.lang.System.loadLibrary(System.java:1028)\r\n\tat com.hadoop.compression.lzo.GPLNativeCodeLoader.&lt;clinit&gt;(GPLNativeCodeLoader.java:32)\r\n\tat com.hadoop.compression.lzo.LzoCodec.&lt;clinit&gt;(LzoCodec.java:67)\r\n\tat com.hadoop.mapreduce.LzoTextInputFormat.listStatus(LzoTextInputFormat.java:58)\r\n\tat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:241)\r\n\tat com.hadoop.mapreduce.LzoTextInputFormat.getSplits(LzoTextInputFormat.java:85)\r\n\tat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:885)\r\n\tat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:779)\r\n\tat org.apache.hadoop.mapreduce.Job.submit(Job.java:432)\r\n\tat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:447)\r\n\tat company.Validation.run(Validation.java:99)\r\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\r\n\tat company.mapreduceTest.main(mapreduceTest.java:18)\r\n    Apr 5, 2012 4:40:29 PM com.hadoop.compression.lzo.LzoCodec &lt;clinit&gt;\r\n    SEVERE: Cannot load native-lzo without native-hadoop\r\n    java.lang.IllegalArgumentException: Wrong FS: hdfs://D-SJC-00535164:9000/local/usecases /gbase014/outbound/seed_2012-03-12_06-34-39/1_1.lzo.index, expected: file:///\r\n\tat org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:310)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem.java:47)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:357)\r\n\tat org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:245)\r\n\tat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:648)\r\n\tat com.hadoop.compression.lzo.LzoIndex.readIndex(LzoIndex.java:169)\r\n\tat com.hadoop.mapreduce.LzoTextInputFormat.listStatus(LzoTextInputFormat.java:69)\r\n\tat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:241)\r\n\tat com.hadoop.mapreduce.LzoTextInputFormat.getSplits(LzoTextInputFormat.java:85)\r\n\tat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:885)\r\n\tat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:779)\r\n\tat org.apache.hadoop.mapreduce.Job.submit(Job.java:432)\r\n\tat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:447)\r\n\tat company.Validation.run(Validation.java:99)\r\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\r\n\tat company.stopTransfer.mapreduceTest.main(mapreduceTest.java:18)\r\n    Apr 5, 2012 4:40:29 PM company.Validation run\r\n     SEVERE: LinkExtractor: java.lang.IllegalArgumentException: Wrong FS: hdfs://D-SJC-00535164:9000/local/usecases/gbase014/outbound/seed_2012-03-12_06-34-39/1_1.lzo.index, expected: file:///\r\n\tat org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:310)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem.java:47)\r\n\tat org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:357)\r\n\tat org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:245)\r\n\tat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:648)\r\n\tat com.hadoop.compression.lzo.LzoIndex.readIndex(LzoIndex.java:169)\r\n\tat com.hadoop.mapreduce.LzoTextInputFormat.listStatus(LzoTextInputFormat.java:69)\r\n\tat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:241)\r\n\tat com.hadoop.mapreduce.LzoTextInputFormat.getSplits(LzoTextInputFormat.java:85)\r\n\tat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:885)\r\n\tat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:779)\r\n\tat org.apache.hadoop.mapreduce.Job.submit(Job.java:432)\r\n\tat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:447)\r\n\tat company.Validation.run(Validation.java:99)\r\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\r\n\tat company.stopTransfer.mapreduceTest.main(mapreduceTest.java:18)\r\n\r\nBut in lib/native they are some files extends with a,la,so... \r\nI tried to set them in my path environment variable, but it still doesn&#39;t work.\r\n\r\nCould anyone please give me a suggestion!!!!\r\n\r\nThank you very much!\r\n","title":"need to use hadoop native","body":"<p>I am invoking a <code>mapreduce</code> job from my java program.\nToday, when I set the <code>mapreduce</code> job's input format to :<code>LzoTextInputFormat</code>\nThe <code>mapreduce</code> job fails:</p>\n<pre><code>Could not load native gpl library\njava.lang.UnsatisfiedLinkError: no gplcompression in java.library.path\nat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1738)\nat java.lang.Runtime.loadLibrary0(Runtime.java:823)\nat java.lang.System.loadLibrary(System.java:1028)\nat com.hadoop.compression.lzo.GPLNativeCodeLoader.&lt;clinit&gt;(GPLNativeCodeLoader.java:32)\nat com.hadoop.compression.lzo.LzoCodec.&lt;clinit&gt;(LzoCodec.java:67)\nat com.hadoop.mapreduce.LzoTextInputFormat.listStatus(LzoTextInputFormat.java:58)\nat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:241)\nat com.hadoop.mapreduce.LzoTextInputFormat.getSplits(LzoTextInputFormat.java:85)\nat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:885)\nat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:779)\nat org.apache.hadoop.mapreduce.Job.submit(Job.java:432)\nat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:447)\nat company.Validation.run(Validation.java:99)\nat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\nat company.mapreduceTest.main(mapreduceTest.java:18)\nApr 5, 2012 4:40:29 PM com.hadoop.compression.lzo.LzoCodec &lt;clinit&gt;\nSEVERE: Cannot load native-lzo without native-hadoop\njava.lang.IllegalArgumentException: Wrong FS: hdfs://D-SJC-00535164:9000/local/usecases /gbase014/outbound/seed_2012-03-12_06-34-39/1_1.lzo.index, expected: file:///\nat org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:310)\nat org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem.java:47)\nat org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:357)\nat org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:245)\nat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:648)\nat com.hadoop.compression.lzo.LzoIndex.readIndex(LzoIndex.java:169)\nat com.hadoop.mapreduce.LzoTextInputFormat.listStatus(LzoTextInputFormat.java:69)\nat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:241)\nat com.hadoop.mapreduce.LzoTextInputFormat.getSplits(LzoTextInputFormat.java:85)\nat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:885)\nat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:779)\nat org.apache.hadoop.mapreduce.Job.submit(Job.java:432)\nat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:447)\nat company.Validation.run(Validation.java:99)\nat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\nat company.stopTransfer.mapreduceTest.main(mapreduceTest.java:18)\nApr 5, 2012 4:40:29 PM company.Validation run\n SEVERE: LinkExtractor: java.lang.IllegalArgumentException: Wrong FS: hdfs://D-SJC-00535164:9000/local/usecases/gbase014/outbound/seed_2012-03-12_06-34-39/1_1.lzo.index, expected: file:///\nat org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:310)\nat org.apache.hadoop.fs.RawLocalFileSystem.pathToFile(RawLocalFileSystem.java:47)\nat org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:357)\nat org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:245)\nat org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:648)\nat com.hadoop.compression.lzo.LzoIndex.readIndex(LzoIndex.java:169)\nat com.hadoop.mapreduce.LzoTextInputFormat.listStatus(LzoTextInputFormat.java:69)\nat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:241)\nat com.hadoop.mapreduce.LzoTextInputFormat.getSplits(LzoTextInputFormat.java:85)\nat org.apache.hadoop.mapred.JobClient.writeNewSplits(JobClient.java:885)\nat org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:779)\nat org.apache.hadoop.mapreduce.Job.submit(Job.java:432)\nat org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:447)\nat company.Validation.run(Validation.java:99)\nat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)\nat company.stopTransfer.mapreduceTest.main(mapreduceTest.java:18)\n</code></pre>\n<p>But in lib/native they are some files extends with a,la,so...\nI tried to set them in my path environment variable, but it still doesn't work.</p>\n<p>Could anyone please give me a suggestion!!!!</p>\n<p>Thank you very much!</p>\n"},{"tags":["java","android","xml","android-layout","imageview"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1667309439,"post_id":74276706,"comment_id":131133824,"body_markdown":"probably not, dig a bit deeper into the problem. it might not be related to the ImageView at all.","body":"probably not, dig a bit deeper into the problem. it might not be related to the ImageView at all."},{"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"score":0,"creation_date":1667309625,"post_id":74276706,"comment_id":131133888,"body_markdown":"https://stackoverflow.com/a/57114852/20018861  in this other post the problem was because of the automatic scaling, why do you think that probably it is not a problem of scaling?","body":"<a href=\"https://stackoverflow.com/a/57114852/20018861\">stackoverflow.com/a/57114852/20018861</a>  in this other post the problem was because of the automatic scaling, why do you think that probably it is not a problem of scaling?"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667309668,"post_id":74276706,"comment_id":131133903,"body_markdown":"This is something to do with the kind of image you are using. Maybe it is too big or format not supported.","body":"This is something to do with the kind of image you are using. Maybe it is too big or format not supported."},{"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"score":0,"creation_date":1667309840,"post_id":74276706,"comment_id":131133972,"body_markdown":"@LawrenceGimenez I am using hdpi,mdpi,xhdpi,xxhdpi and xxxhdpi drawable folders, I am supporting all the devices format, I don&#39;t know what could be causing the crash then..","body":"@LawrenceGimenez I am using hdpi,mdpi,xhdpi,xxhdpi and xxxhdpi drawable folders, I am supporting all the devices format, I don&#39;t know what could be causing the crash then.."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1667310065,"post_id":74276706,"comment_id":131134061,"body_markdown":"how big is the picture? like, width * height and bytes?","body":"how big is the picture? like, width * height and bytes?"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667310137,"post_id":74276706,"comment_id":131134085,"body_markdown":"Same here I have no idea but with InflateException the cause is mostly the source of your image. You need to test and dig deeper.","body":"Same here I have no idea but with InflateException the cause is mostly the source of your image. You need to test and dig deeper."},{"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"score":0,"creation_date":1667310443,"post_id":74276706,"comment_id":131134181,"body_markdown":"@Shark the biggest image scaling (hdpi) is 550x480 and 4KB","body":"@Shark the biggest image scaling (hdpi) is 550x480 and 4KB"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1667319667,"post_id":74276706,"comment_id":131137586,"body_markdown":"Then posting this piece of XML isn&#39;t going to be enough to pinpoint the problem. How about posting the whole XML and the inflating code as well?","body":"Then posting this piece of XML isn&#39;t going to be enough to pinpoint the problem. How about posting the whole XML and the inflating code as well?"}],"owner":{"account_id":26362930,"reputation":175,"user_id":20018861,"display_name":"Lechius"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667309460,"creation_date":1667309303,"question_id":74276706,"body_markdown":"I have seen in the Firebase Crashlytics dashboard that there is an user that had crashes in some of the app&#39;s activities in the OnCreate() method. I have seen that it is an error of the xml as the error is this one and it is related with the ImageView component:\r\n\r\n&gt; Fatal Exception: java.lang.RuntimeException: Unable to start activity\r\n&gt; ComponentInfo: android.view.InflateException: Binary XML file line\r\n&gt; #24: Binary XML file line #24: Error inflating class ImageView\r\n\r\nI have seen that the layouts of the activities that are causing these crashes have in common that in the ImageView there is an attribute that is\r\n&gt; android:scaleType=&quot;fitXY&quot;\r\n\r\n    &lt;ImageView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:layout_weight=&quot;0.4&quot;\r\n                    android:background=&quot;@drawable/img&quot;\r\n                    android:scaleType=&quot;fitXY&quot; /&gt;\r\n\r\nSo my question is, could that scaleType=&quot;fitXY&quot; be causing all these crashes? Is it bad behaviour to use scaleType attribute in ImageViews then?\r\n\r\nThanks for the possible help","title":"Could android:scaleType=&quot;fitXY&quot; be causing Error: inflating class ImageView?","body":"<p>I have seen in the Firebase Crashlytics dashboard that there is an user that had crashes in some of the app's activities in the OnCreate() method. I have seen that it is an error of the xml as the error is this one and it is related with the ImageView component:</p>\n<blockquote>\n<p>Fatal Exception: java.lang.RuntimeException: Unable to start activity\nComponentInfo: android.view.InflateException: Binary XML file line\n#24: Binary XML file line #24: Error inflating class ImageView</p>\n</blockquote>\n<p>I have seen that the layouts of the activities that are causing these crashes have in common that in the ImageView there is an attribute that is</p>\n<blockquote>\n<p>android:scaleType=&quot;fitXY&quot;</p>\n</blockquote>\n<pre><code>&lt;ImageView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_weight=&quot;0.4&quot;\n                android:background=&quot;@drawable/img&quot;\n                android:scaleType=&quot;fitXY&quot; /&gt;\n</code></pre>\n<p>So my question is, could that scaleType=&quot;fitXY&quot; be causing all these crashes? Is it bad behaviour to use scaleType attribute in ImageViews then?</p>\n<p>Thanks for the possible help</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667045901,"post_id":74244857,"comment_id":131080477,"body_markdown":"Can you try other environments besides getExternalStorageDirectory?","body":"Can you try other environments besides getExternalStorageDirectory?"},{"owner":{"account_id":26747981,"reputation":3,"user_id":20347794,"display_name":"Muhammad Ramzan"},"score":0,"creation_date":1667046766,"post_id":74244857,"comment_id":131080628,"body_markdown":"I  am a beginner so tell me how I can try other environments","body":"I  am a beginner so tell me how I can try other environments"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667046854,"post_id":74244857,"comment_id":131080645,"body_markdown":"https://developer.android.com/reference/android/os/Environment#public-methods_1","body":"<a href=\"https://developer.android.com/reference/android/os/Environment#public-methods_1\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667049731,"creation_date":1667049731,"answer_id":74245655,"question_id":74244857,"body_markdown":"**So let&#39;s start from scratch**\r\n\r\n**Step 1:**\r\nAdd the permissions of Read and Write in your manifest \r\n\r\n**Step 2:**\r\nMake the Bitmap of the Image you have in ImageView\r\n\r\n**Step 3:**\r\nNow there is a different mechanism for saving files in the below and above Android Version Q \r\n\r\n**In Below Q:**\r\n \r\n\r\n    private File saveBitmapBelowQ(Bitmap bitmap, String name) {\r\n            File imageRoot = new File(Environment.getExternalStoragePublicDirectory(\r\n                    Environment.DIRECTORY_DCIM), appDirectoryName);\r\n            if (!imageRoot.exists()) {\r\n                imageRoot.mkdirs();\r\n            }\r\n            File image = new File(imageRoot, name + &quot;.png&quot;);\r\n            try {\r\n                if (image.createNewFile()) {\r\n                    try (FileOutputStream fos = new FileOutputStream(image)) {\r\n                        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n                        bitmap.compress(Bitmap.CompressFormat.PNG,\r\n                                100, bos);\r\n                        byte[] bitmapdata = bos.toByteArray();\r\n                        fos.write(bitmapdata);\r\n                        fos.flush();\r\n                        imagePath = image.getPath();\r\n                    }\r\n                    return image;\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return  null;\r\n        }\r\n\r\nWhere AppDirectory is the Name of the Directory you want and the name is the name of the Image preferred to use live date and time. \r\nIn this method, \r\n\r\n 1. First, create the Directory in External Storage.\r\n 2. Then create the file of your image (Try to make it unique)\r\n 3. The last step is to convert your Bitmap into a byte Array and write\r\n    on the file you created in (point 2)\r\n\r\n**In Android Version Q and Above:**\r\n\r\n     @RequiresApi(api = Build.VERSION_CODES.Q)\r\n        public File saveBitmapAboveQ(Bitmap bitmap, Context context, String directoryName, String name) {\r\n            OutputStream fos;\r\n            ContentResolver resolver = context.getContentResolver();\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, name);\r\n            contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;);\r\n            contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;DCIM/&quot; + directoryName);\r\n            Uri imageUri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\r\n            try {\r\n                fos = resolver.openOutputStream(imageUri);\r\n                bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n                fos.flush();\r\n                fos.close();\r\n                imagePath = new File(getPath(imageUri)).getAbsolutePath();\r\n                return new File(getPath(imageUri));\r\n            } catch (Exception e) {\r\n                return null;\r\n            }\r\n        }\r\n\r\nCreate a Content Resolver and set the content values such as File name, type, and location then pass content values to the content resolver and pass your content resolver to FileOutputStream/ OutputStream \r\nNow write your Bitmap over the output stream \r\n\r\nHappy Coding ","title":"Save Image to Gallery From image View","body":"<p><strong>So let's start from scratch</strong></p>\n<p><strong>Step 1:</strong>\nAdd the permissions of Read and Write in your manifest</p>\n<p><strong>Step 2:</strong>\nMake the Bitmap of the Image you have in ImageView</p>\n<p><strong>Step 3:</strong>\nNow there is a different mechanism for saving files in the below and above Android Version Q</p>\n<p><strong>In Below Q:</strong></p>\n<pre><code>private File saveBitmapBelowQ(Bitmap bitmap, String name) {\n        File imageRoot = new File(Environment.getExternalStoragePublicDirectory(\n                Environment.DIRECTORY_DCIM), appDirectoryName);\n        if (!imageRoot.exists()) {\n            imageRoot.mkdirs();\n        }\n        File image = new File(imageRoot, name + &quot;.png&quot;);\n        try {\n            if (image.createNewFile()) {\n                try (FileOutputStream fos = new FileOutputStream(image)) {\n                    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n                    bitmap.compress(Bitmap.CompressFormat.PNG,\n                            100, bos);\n                    byte[] bitmapdata = bos.toByteArray();\n                    fos.write(bitmapdata);\n                    fos.flush();\n                    imagePath = image.getPath();\n                }\n                return image;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return  null;\n    }\n</code></pre>\n<p>Where AppDirectory is the Name of the Directory you want and the name is the name of the Image preferred to use live date and time.\nIn this method,</p>\n<ol>\n<li>First, create the Directory in External Storage.</li>\n<li>Then create the file of your image (Try to make it unique)</li>\n<li>The last step is to convert your Bitmap into a byte Array and write\non the file you created in (point 2)</li>\n</ol>\n<p><strong>In Android Version Q and Above:</strong></p>\n<pre><code> @RequiresApi(api = Build.VERSION_CODES.Q)\n    public File saveBitmapAboveQ(Bitmap bitmap, Context context, String directoryName, String name) {\n        OutputStream fos;\n        ContentResolver resolver = context.getContentResolver();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, name);\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/png&quot;);\n        contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, &quot;DCIM/&quot; + directoryName);\n        Uri imageUri = resolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\n        try {\n            fos = resolver.openOutputStream(imageUri);\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\n            fos.flush();\n            fos.close();\n            imagePath = new File(getPath(imageUri)).getAbsolutePath();\n            return new File(getPath(imageUri));\n        } catch (Exception e) {\n            return null;\n        }\n    }\n</code></pre>\n<p>Create a Content Resolver and set the content values such as File name, type, and location then pass content values to the content resolver and pass your content resolver to FileOutputStream/ OutputStream\nNow write your Bitmap over the output stream</p>\n<p>Happy Coding</p>\n"},{"tags":[],"owner":{"account_id":6665053,"reputation":161,"user_id":5142934,"display_name":"Majid Arabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667309081,"creation_date":1667050999,"answer_id":74245816,"question_id":74244857,"body_markdown":"Kotlin way:\r\nYou can use this extension function to save file in storage\r\n\r\n    fun Bitmap.saveAsFile(isPng: Boolean = false): File? {\r\n        val root = Environment.getExternalStorageDirectory()\r\n        val myDir = File(&quot;${root}/pic&quot;)\r\n        myDir.mkdirs()\r\n        if (myDir.exists()) {\r\n            val random = (Math.random() * (1024 - 1)).toLong()\r\n            val prefix = &quot;IMG${random}_${System.currentTimeMillis()}&quot;\r\n\r\n            val fileName = if (isPng) &quot;$prefix.png&quot; else &quot;$prefix.jpg&quot;\r\n            val file = File(myDir, fileName)\r\n        if (file.exists()) file.delete()\r\n            return try {\r\n                val out = FileOutputStream(file)\r\n                if (isPng) {\r\n                    this.setHasAlpha(true)\r\n                    this.compress(Bitmap.CompressFormat.PNG, 100, out)\r\n                } else {\r\n                    this.compress(Bitmap.CompressFormat.JPEG, 100, out)\r\n                }\r\n                out.flush()\r\n                out.close()\r\n                file\r\n            } catch (e: Exception) {\r\n                e.printStackTrace()\r\n                null\r\n            }\r\n        }\r\n      return null\r\n    }\r\n\r\nSample Usage:\r\n\r\n     val imageFile = view.drawToBitmap().saveAsFile()\r\n\r\nJava way:\r\n\r\n    public static File saveAsFile(Bitmap bitmap) {\r\n        File root = Environment.getExternalStorageDirectory();\r\n        File myDir = new File(root + &quot;/pic&quot;);\r\n        if (myDir.mkdir()) {\r\n            long random = (long) (Math.random() * (1024 - 1));\r\n            String prefix = (&quot;IMG&quot; + random + &quot;_&quot; + System.currentTimeMillis());\r\n\r\n            String fileName = prefix + &quot;.jpg&quot;;\r\n            File file = new File(myDir, fileName);\r\n            if (file.exists()) file.delete();\r\n\r\n            try {\r\n                FileOutputStream out = new FileOutputStream(file);\r\n                bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);\r\n                out.flush();\r\n                out.close();\r\n                return file;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static Bitmap drawToBitmap(View view) {\r\n        if (!ViewCompat.isLaidOut(view)) {\r\n            throw new IllegalStateException(&quot;View needs to be laid out before calling drawToBitmap()&quot;);\r\n        }\r\n        Bitmap bit = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);\r\n        Canvas canvas = new Canvas(bit);\r\n        canvas.translate(-view.getScrollX(), -view.getScrollY());\r\n        view.draw(canvas);\r\n        return bit;\r\n    }\r\n\r\nSample Usage:\r\n\r\n        Bitmap bitmap = drawToBitmap(yourView);\r\n        File savedFile = saveAsFile(bitmap);","title":"Save Image to Gallery From image View","body":"<p>Kotlin way:\nYou can use this extension function to save file in storage</p>\n<pre><code>fun Bitmap.saveAsFile(isPng: Boolean = false): File? {\n    val root = Environment.getExternalStorageDirectory()\n    val myDir = File(&quot;${root}/pic&quot;)\n    myDir.mkdirs()\n    if (myDir.exists()) {\n        val random = (Math.random() * (1024 - 1)).toLong()\n        val prefix = &quot;IMG${random}_${System.currentTimeMillis()}&quot;\n\n        val fileName = if (isPng) &quot;$prefix.png&quot; else &quot;$prefix.jpg&quot;\n        val file = File(myDir, fileName)\n    if (file.exists()) file.delete()\n        return try {\n            val out = FileOutputStream(file)\n            if (isPng) {\n                this.setHasAlpha(true)\n                this.compress(Bitmap.CompressFormat.PNG, 100, out)\n            } else {\n                this.compress(Bitmap.CompressFormat.JPEG, 100, out)\n            }\n            out.flush()\n            out.close()\n            file\n        } catch (e: Exception) {\n            e.printStackTrace()\n            null\n        }\n    }\n  return null\n}\n</code></pre>\n<p>Sample Usage:</p>\n<pre><code> val imageFile = view.drawToBitmap().saveAsFile()\n</code></pre>\n<p>Java way:</p>\n<pre><code>public static File saveAsFile(Bitmap bitmap) {\n    File root = Environment.getExternalStorageDirectory();\n    File myDir = new File(root + &quot;/pic&quot;);\n    if (myDir.mkdir()) {\n        long random = (long) (Math.random() * (1024 - 1));\n        String prefix = (&quot;IMG&quot; + random + &quot;_&quot; + System.currentTimeMillis());\n\n        String fileName = prefix + &quot;.jpg&quot;;\n        File file = new File(myDir, fileName);\n        if (file.exists()) file.delete();\n\n        try {\n            FileOutputStream out = new FileOutputStream(file);\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);\n            out.flush();\n            out.close();\n            return file;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n    return null;\n}\n\npublic static Bitmap drawToBitmap(View view) {\n    if (!ViewCompat.isLaidOut(view)) {\n        throw new IllegalStateException(&quot;View needs to be laid out before calling drawToBitmap()&quot;);\n    }\n    Bitmap bit = Bitmap.createBitmap(view.getWidth(), view.getHeight(), Bitmap.Config.ARGB_8888);\n    Canvas canvas = new Canvas(bit);\n    canvas.translate(-view.getScrollX(), -view.getScrollY());\n    view.draw(canvas);\n    return bit;\n}\n</code></pre>\n<p>Sample Usage:</p>\n<pre><code>    Bitmap bitmap = drawToBitmap(yourView);\n    File savedFile = saveAsFile(bitmap);\n</code></pre>\n"}],"owner":{"account_id":26747981,"reputation":3,"user_id":20347794,"display_name":"Muhammad Ramzan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74245655,"answer_count":2,"score":0,"last_activity_date":1667309081,"creation_date":1667042816,"question_id":74244857,"body_markdown":"I am trying to save image to Gallery from image View but getting File Not Found Exception Error\r\n\r\nThe code I tried but got File Not Found Exception.\r\n\r\n\r\n\r\n\r\nSorry if you didn&#39;t understand my English.\r\n\r\n\r\n\r\n```\r\nsave.setOnClickListener(new View.OnClickListener(){\r\n\r\n                @Override\r\n\r\n                public void onClick(View v){\r\n\r\n                    BitmapDrawable draw = (BitmapDrawable) mainImage.getDrawable();\r\n\r\n                    Bitmap bitmap = draw.getBitmap();\r\n\r\n                    try{\r\n\r\n                        FileOutputStream outStream = null;\r\n\r\n                        File sdCard = Environment.getExternalStorageDirectory();\r\n\r\n                        File dir = new File(sdCard.getAbsolutePath() + &quot;/MyFolder&quot;);\r\n\r\n                        dir.mkdirs();\r\n\r\n                        String fileName = String.format(&quot;%d.jpg&quot;, System.currentTimeMillis());\r\n\r\n                        File outFile = new File(dir, fileName);\r\n\r\n                        outStream = new FileOutputStream(outFile);\r\n\r\n                        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\r\n\r\n                        outStream.flush();\r\n\r\n                        outStream.close();\r\n\r\n                        Intent intent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\r\n\r\n                        intent.setData(Uri.fromFile(outFile));\r\n\r\n                        sendBroadcast(intent);\r\n\r\n                    }\r\n\r\n                    catch (Exception e){\r\n\r\n                        e.printStackTrace();\r\n\r\n                        Toast.makeText(MainActivity.this,e.toString(),Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n\r\n                    \r\n\r\n                }\r\n\r\n        });\r\n\r\n```\r\n\r\n\r\nI am a beginner so I don&#39;t how to solve this Problem.\r\nHelp me Please\r\n","title":"Save Image to Gallery From image View","body":"<p>I am trying to save image to Gallery from image View but getting File Not Found Exception Error</p>\n<p>The code I tried but got File Not Found Exception.</p>\n<p>Sorry if you didn't understand my English.</p>\n<pre><code>save.setOnClickListener(new View.OnClickListener(){\n\n                @Override\n\n                public void onClick(View v){\n\n                    BitmapDrawable draw = (BitmapDrawable) mainImage.getDrawable();\n\n                    Bitmap bitmap = draw.getBitmap();\n\n                    try{\n\n                        FileOutputStream outStream = null;\n\n                        File sdCard = Environment.getExternalStorageDirectory();\n\n                        File dir = new File(sdCard.getAbsolutePath() + &quot;/MyFolder&quot;);\n\n                        dir.mkdirs();\n\n                        String fileName = String.format(&quot;%d.jpg&quot;, System.currentTimeMillis());\n\n                        File outFile = new File(dir, fileName);\n\n                        outStream = new FileOutputStream(outFile);\n\n                        bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\n\n                        outStream.flush();\n\n                        outStream.close();\n\n                        Intent intent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\n\n                        intent.setData(Uri.fromFile(outFile));\n\n                        sendBroadcast(intent);\n\n                    }\n\n                    catch (Exception e){\n\n                        e.printStackTrace();\n\n                        Toast.makeText(MainActivity.this,e.toString(),Toast.LENGTH_SHORT).show();\n\n                    }\n\n                    \n\n                }\n\n        });\n\n</code></pre>\n<p>I am a beginner so I don't how to solve this Problem.\nHelp me Please</p>\n"},{"tags":["java","floating-point","double"],"comments":[{"owner":{"account_id":1069533,"reputation":1461,"user_id":1081409,"accept_rate":90,"display_name":"Jan Ajan"},"score":0,"creation_date":1337290117,"post_id":10643754,"comment_id":13799911,"body_markdown":"No. Why? It is related to http://stackoverflow.com/questions/10637594/calculating-double-neighbours-of-a-decimal-value . I thought that if I subtract 1 from the binary value, I would get the other value.","body":"No. Why? It is related to <a href=\"http://stackoverflow.com/questions/10637594/calculating-double-neighbours-of-a-decimal-value\" title=\"calculating double neighbours of a decimal value\">stackoverflow.com/questions/10637594/&hellip;</a> . I thought that if I subtract 1 from the binary value, I would get the other value."},{"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"score":3,"creation_date":1337290219,"post_id":10643754,"comment_id":13799941,"body_markdown":"@dcrooney asked because it&#39;s good to know whether it&#39;s homework because when it&#39;s homework we try to be careful with our answers that we don&#39;t inhibit your learning :)","body":"@dcrooney asked because it&#39;s good to know whether it&#39;s homework because when it&#39;s homework we try to be careful with our answers that we don&#39;t inhibit your learning :)"}],"answers":[{"tags":[],"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"down_vote_count":7,"up_vote_count":5,"is_accepted":false,"score":-2,"last_activity_date":1408684585,"creation_date":1337290050,"answer_id":10643788,"question_id":10643754,"body_markdown":"[`Double.byteValue()`][1] might help you. \r\n\r\nThere is also a 32-bit equivalent [`Float.byteValue()`][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#byteValue()\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#byteValue()","title":"Convert float and double to bit and hexadecimal representation in Java","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#byteValue()\" rel=\"nofollow\"><code>Double.byteValue()</code></a> might help you. </p>\n\n<p>There is also a 32-bit equivalent <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#byteValue()\" rel=\"nofollow\"><code>Float.byteValue()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1337290235,"creation_date":1337290235,"answer_id":10643827,"question_id":10643754,"body_markdown":"Look at   `Float.floatToIntBits() or  Float.floatToRawIntBits()`.  That gets you the bits as an int.  If you need it as a String, `Integer.toBinaryString()`.\r\n\r\nNote, there may be an issue if the HSB is on - you may need to convert to a long to avoid an &quot;overflow&quot;.\r\n\r\n","title":"Convert float and double to bit and hexadecimal representation in Java","body":"<p>Look at   <code>Float.floatToIntBits() or  Float.floatToRawIntBits()</code>.  That gets you the bits as an int.  If you need it as a String, <code>Integer.toBinaryString()</code>.</p>\n\n<p>Note, there may be an issue if the HSB is on - you may need to convert to a long to avoid an \"overflow\".</p>\n"},{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1667308916,"creation_date":1337290297,"answer_id":10643838,"question_id":10643754,"body_markdown":"For Java, a float is on 32 bits like a `int`, and a double is on 64 bits like a `long`. Finding the binary representation of these numbers, you need to:\r\n\r\n    float a = 0.5f;\r\n    int bits = Float.floatToIntBits(a);\r\n    String.format(&quot;%32s&quot;, Integer.toBinaryString(bits)).replace(&quot; &quot;, &quot;0&quot;);\r\n    String.format(&quot;%8s&quot;, Integer.toHexString(bits)).replace(&quot; &quot;, &quot;0&quot;);\r\n\r\n&gt; &quot;00111111000000000000000000000000&quot; bit representation (32 bits)  \r\n&gt; &quot;3f000000&quot; hexadecimal representation (32 bits)\r\n\r\n    double a = 0.5d;\r\n    long bits = Double.doubleToLongBits(a);\r\n    String.format(&quot;%64s&quot;, Long.toBinaryString(bits)).replace(&quot; &quot;, &quot;0&quot;);\r\n    String.format(&quot;%16s&quot;, Long.toHexString(bits)).replace(&quot; &quot;, &quot;0&quot;);\r\n\r\n&gt; &quot;0011111111100000000000000000000000000000000000000000000000000000&quot; bit representation (64 bits)  \r\n&gt; &quot;3fe0000000000000&quot; hexadecimal representation (64 bits)\r\n\r\nYou can check that it works by doing the reverse operation:\r\n \r\n\r\n    int bits = Integer.parseInt(&quot;00111111000000000000000000000000&quot;, 2);\r\n    Float.intBitsToFloat(bits);\r\n\r\n&gt; 0.5 (float)\r\n\r\n    long bits = Long.parseLong(&quot;0011111111100000000000000000000000000000000000000000000000000000&quot;, 2);\r\n    Double.longBitsToDouble(bits);\r\n\r\n&gt; 0.5 (double)\r\n\r\nFor the hexadecimal representation, you can use respectively `Integer.parseInt(&quot;...&quot;, 16);` and `Long.parseLong(&quot;...&quot;, 16);`","title":"Convert float and double to bit and hexadecimal representation in Java","body":"<p>For Java, a float is on 32 bits like a <code>int</code>, and a double is on 64 bits like a <code>long</code>. Finding the binary representation of these numbers, you need to:</p>\n<pre><code>float a = 0.5f;\nint bits = Float.floatToIntBits(a);\nString.format(&quot;%32s&quot;, Integer.toBinaryString(bits)).replace(&quot; &quot;, &quot;0&quot;);\nString.format(&quot;%8s&quot;, Integer.toHexString(bits)).replace(&quot; &quot;, &quot;0&quot;);\n</code></pre>\n<blockquote>\n<p>&quot;00111111000000000000000000000000&quot; bit representation (32 bits)<br />\n&quot;3f000000&quot; hexadecimal representation (32 bits)</p>\n</blockquote>\n<pre><code>double a = 0.5d;\nlong bits = Double.doubleToLongBits(a);\nString.format(&quot;%64s&quot;, Long.toBinaryString(bits)).replace(&quot; &quot;, &quot;0&quot;);\nString.format(&quot;%16s&quot;, Long.toHexString(bits)).replace(&quot; &quot;, &quot;0&quot;);\n</code></pre>\n<blockquote>\n<p>&quot;0011111111100000000000000000000000000000000000000000000000000000&quot; bit representation (64 bits)<br />\n&quot;3fe0000000000000&quot; hexadecimal representation (64 bits)</p>\n</blockquote>\n<p>You can check that it works by doing the reverse operation:</p>\n<pre><code>int bits = Integer.parseInt(&quot;00111111000000000000000000000000&quot;, 2);\nFloat.intBitsToFloat(bits);\n</code></pre>\n<blockquote>\n<p>0.5 (float)</p>\n</blockquote>\n<pre><code>long bits = Long.parseLong(&quot;0011111111100000000000000000000000000000000000000000000000000000&quot;, 2);\nDouble.longBitsToDouble(bits);\n</code></pre>\n<blockquote>\n<p>0.5 (double)</p>\n</blockquote>\n<p>For the hexadecimal representation, you can use respectively <code>Integer.parseInt(&quot;...&quot;, 16);</code> and <code>Long.parseLong(&quot;...&quot;, 16);</code></p>\n"},{"tags":[],"owner":{"account_id":5630931,"reputation":1,"user_id":4457910,"display_name":"walrider89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421661624,"creation_date":1421331790,"answer_id":27965541,"question_id":10643754,"body_markdown":"    public void printFloatBits(float f) {\r\n        int bits = Float.floatToIntBits(f);\r\n        // Extract each bit from &#39;bits&#39; and compare it by &#39;0&#39;\r\n        for (int i=31; i&gt;=0; --i) {\r\n            // int mask = 1 &lt;&lt; i;\r\n            // int oneBit = bits &amp; mask;\r\n            // oneBit == 0 or 1?\r\n            System.out.print((bits &amp; (1 &lt;&lt; i)) == 0 ? &quot;0&quot; : &quot;1&quot;);\r\n        }\r\n    }","title":"Convert float and double to bit and hexadecimal representation in Java","body":"<pre><code>public void printFloatBits(float f) {\n    int bits = Float.floatToIntBits(f);\n    // Extract each bit from 'bits' and compare it by '0'\n    for (int i=31; i&gt;=0; --i) {\n        // int mask = 1 &lt;&lt; i;\n        // int oneBit = bits &amp; mask;\n        // oneBit == 0 or 1?\n        System.out.print((bits &amp; (1 &lt;&lt; i)) == 0 ? \"0\" : \"1\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1069533,"reputation":1461,"user_id":1081409,"accept_rate":90,"display_name":"Jan Ajan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18275,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":10643838,"answer_count":4,"score":8,"last_activity_date":1667309067,"creation_date":1337289889,"question_id":10643754,"body_markdown":"How can I get single bits (or an entire variable) of a `double` or a `float`?\r\n\r\nFor example if I have\r\n    float a = 0.5;\r\n\r\nI would expect a `String` equal to:  \r\n`&quot;00111111000000000000000000000000&quot;`\r\n\r\nor in hex:  \r\n`&quot;F000000&quot;`","title":"Convert float and double to bit and hexadecimal representation in Java","body":"<p>How can I get single bits (or an entire variable) of a <code>double</code> or a <code>float</code>?</p>\n\n<p>For example if I have\n    float a = 0.5;</p>\n\n<p>I would expect a <code>String</code> equal to:<br>\n<code>\"00111111000000000000000000000000\"</code></p>\n\n<p>or in hex:<br>\n<code>\"F000000\"</code></p>\n"},{"tags":["java","docker","macos"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667308639,"creation_date":1667308639,"answer_id":74276567,"question_id":74269483,"body_markdown":"The Java version on your host doesn&#39;t matter.\r\n\r\nIf you have an M1/M2 Mac, then they won&#39;t run amd64 images unless you emulate it using `--platform=linux/amd64`. \r\n\r\nSounds like you&#39;ll also need to rebuild the Dockerfile with the same.\r\n\r\n https://docs.docker.com/build/building/multi-platform/","title":"java-8-openjdk-amd64 does not exist in container","body":"<p>The Java version on your host doesn't matter.</p>\n<p>If you have an M1/M2 Mac, then they won't run amd64 images unless you emulate it using <code>--platform=linux/amd64</code>.</p>\n<p>Sounds like you'll also need to rebuild the Dockerfile with the same.</p>\n<p><a href=\"https://docs.docker.com/build/building/multi-platform/\" rel=\"nofollow noreferrer\">https://docs.docker.com/build/building/multi-platform/</a></p>\n"}],"owner":{"account_id":16511269,"reputation":62,"user_id":11929934,"display_name":"dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74276567,"answer_count":1,"score":-1,"last_activity_date":1667308862,"creation_date":1667253199,"question_id":74269483,"body_markdown":"I keep receiving the below error when trying to run this hadoop docker container\r\n\r\n\r\n    docker run -it --name psu-hadoop-container -p 2222:22 -p 8042:8042 -p 9864:9864 -p \r\n    9870:9870 -p 8088:8088 -p 10000:10000 -p 19888:19888 psu-hadoop\r\n    ERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\r\n    ERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\r\n    ERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\r\n    ERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\r\n    ERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\r\n\r\nI&#39;m working on a Mac. The DockerFile references the path java-8-openjdk-amd64 but I don&#39;t have that specific software, just jdk-19.jdk. \r\n\r\nThe Dockerfile is from a class and the class primarily uses PC.\r\n\r\nDo I need to modify my JAVA_HOME? Do I need to modify the path in the Dockerfile? ","title":"java-8-openjdk-amd64 does not exist in container","body":"<p>I keep receiving the below error when trying to run this hadoop docker container</p>\n<pre><code>docker run -it --name psu-hadoop-container -p 2222:22 -p 8042:8042 -p 9864:9864 -p \n9870:9870 -p 8088:8088 -p 10000:10000 -p 19888:19888 psu-hadoop\nERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\nERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\nERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\nERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\nERROR: JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64 does not exist.\n</code></pre>\n<p>I'm working on a Mac. The DockerFile references the path java-8-openjdk-amd64 but I don't have that specific software, just jdk-19.jdk.</p>\n<p>The Dockerfile is from a class and the class primarily uses PC.</p>\n<p>Do I need to modify my JAVA_HOME? Do I need to modify the path in the Dockerfile?</p>\n"},{"tags":["java","spring","jpa","spring-data","wildfly"],"comments":[{"owner":{"account_id":5029471,"reputation":5138,"user_id":4040179,"display_name":"Federico Sierra"},"score":0,"creation_date":1427561230,"post_id":29318753,"comment_id":46831055,"body_markdown":"Try to enable class proxying instead of basic proxying `&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;` in your context definition","body":"Try to enable class proxying instead of basic proxying <code>&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;&#47;&gt;</code> in your context definition"},{"owner":{"account_id":6014822,"reputation":41,"user_id":4724063,"display_name":"kresooo"},"score":0,"creation_date":1427562081,"post_id":29318753,"comment_id":46831390,"body_markdown":"I tried that already, doesn&#39;t change anything... I still get the same exception","body":"I tried that already, doesn&#39;t change anything... I still get the same exception"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":2,"creation_date":1427730713,"post_id":29318753,"comment_id":46886804,"body_markdown":"Are you bundling Hibernate in your app? If so you might want to try removing it and use the version from WildFly.","body":"Are you bundling Hibernate in your app? If so you might want to try removing it and use the version from WildFly."},{"owner":{"account_id":174769,"reputation":431,"user_id":404338,"display_name":"mrg"},"score":1,"creation_date":1667286688,"post_id":29318753,"comment_id":131127149,"body_markdown":"@kresooo Did you find the answer? I have a similar issue.","body":"@kresooo Did you find the answer? I have a similar issue."}],"answers":[{"tags":[],"owner":{"account_id":174769,"reputation":431,"user_id":404338,"display_name":"mrg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667308826,"creation_date":1667308745,"answer_id":74276584,"question_id":29318753,"body_markdown":"You should remove subsystem transactions from exclude-subsystems in jboss-deployment-structure.xml","title":"&quot;No transaction is in progress&quot; after migrating to Wildfly","body":"<p>You should remove subsystem transactions from exclude-subsystems in jboss-deployment-structure.xml</p>\n"}],"owner":{"account_id":6014822,"reputation":41,"user_id":4724063,"display_name":"kresooo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1667308826,"creation_date":1427555591,"question_id":29318753,"body_markdown":"We have a Spring 3.6 application with Hibernate 4.2.2 which was working fine on glassfish 4, until we migrated to Wildfly 8.2. We use Spring-data 1.5.0. \r\n\r\nThe following two problems appear:\r\n\r\n1. When saving an entity, it&#39;s not persisted. No exception is thrown here, but the save method in org.springframework.data.jpa.repository.support.SimpleJpaRepository returns an entity with no ID assigned\r\n\r\n2. When updating (merging) an entity, flush throws an exception:\r\n    javax.persistence.TransactionRequiredException: no transaction is in progress\r\n\r\npersistence.xml:\r\n\r\n    &lt;persistence version=&quot;2.1&quot;\r\n\txmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n\r\n\t&lt;persistence-unit name=&quot;persistenceSQL&quot;\r\n\t\ttransaction-type=&quot;JTA&quot;&gt;\r\n\t\t&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n\t\t&lt;jta-data-source&gt;jdbc/MySqlPool&lt;/jta-data-source&gt;\r\n\r\n        &lt;!-- domain classes --&gt;\r\n        &lt;class&gt;org.common.model.domain.Company&lt;/class&gt;\r\n        ...\r\n        &lt;class&gt;org.common.model.system.RamMetric&lt;/class&gt;\r\n\r\n\t\t&lt;properties&gt;\r\n\r\n\t\t\t&lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.JBossStandAloneJtaPlatform&quot; /&gt;\r\n\r\n\t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n\r\n\t\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n\r\n\r\nroot context:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot;\r\n\txmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t                    http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.2.xsd\r\n\t\t\t\t\t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd&quot;&gt;\r\n\r\n\t&lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\r\n\r\n\t&lt;!-- _________________________________________Datasource______________________________________________________ --&gt;\r\n\r\n\r\n\r\n\t&lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\r\n\r\n\t\t&lt;property name=&quot;jndiName&quot; value=&quot;jdbc/MySqlPool&quot; /&gt;\r\n\t\t&lt;property name=&quot;lookupOnStartup&quot; value=&quot;false&quot; /&gt;\r\n\t\t&lt;property name=&quot;cache&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;property name=&quot;proxyInterface&quot; value=&quot;javax.sql.DataSource&quot; /&gt;\r\n\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!-- _________________________________________EntityManagerFactory______________________________________________________ --&gt;\r\n\r\n\r\n\t&lt;bean id=&quot;entityManagerFactory&quot;\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n\t\r\n\t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;persistenceSQL&quot; /&gt;\r\n\r\n\t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!-- _________________________________________Transaction Manager________________________________________________________ --&gt;\r\n\r\n\r\n\t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;allowCustomIsolationLevels&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n    \r\n\t&lt;jpa:repositories base-package=&quot;com.ototrak.datacenter.repository.* , com.ototrak.datacenter.domain&quot; entity-manager-factory-ref=&quot;entityManagerFactory&quot; transaction-manager-ref=&quot;transactionManager&quot; /&gt;\r\n\r\n\r\nAs mentioned, the app worked fine on Glassfish. To get to this point we had to exclude some modules from Wildfly, specifically org.jboss.resteasy.resteasy-jackson2-provider to get JSON serialization working. We don&#39;t use provided dependencies, so it&#39;s possible we have some conflicts with provided Wildfly modules. We have extensive JUnit coverage and all tests pass, so it&#39;s likely this has something to do with the modules provided by Wildfly.\r\n\r\nWe also had to change the following in persistence.xml:\r\n\r\n     &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.SunOneJtaPlatform&quot; /&gt;\r\n\r\nto:\r\n\r\n     &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.JBossStandAloneJtaPlatform&quot; /&gt;\r\n\r\nto get select queries to work (which work fine now).\r\n\r\n\r\nStack trace:\r\n\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\r\n        at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:316)\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:108)\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:403)\r\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:58)\r\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:163)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.data.jpa.repository.support.LockModeRepositoryPostProcessor$LockModePopulatingMethodIntercceptor.invoke(LockModeRepositoryPostProcessor.java:92)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n        at com.sun.proxy.$Proxy82.saveAndFlush(Unknown Source)\r\n        at com.ototrak.datacenter.service.persistance.sql.impl.FirmwareTableServiceImpl.update(FirmwareTableServiceImpl.java:56)\r\n        at com.ototrak.datacenter.api.processing.task.FirmwareProcessingTask.updateEntity(FirmwareProcessingTask.java:180)\r\n        at com.ototrak.datacenter.api.processing.task.abs.AbstractProcessingTask.run(AbstractProcessingTask.java:143)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: javax.persistence.TransactionRequiredException: no transaction is in progress\r\n        at org.hibernate.jpa.spi.AbstractEntityManagerImpl.checkTransactionNeeded(AbstractEntityManagerImpl.java:1171)\r\n        at org.hibernate.jpa.spi.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:1332)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)\r\n        at com.sun.proxy.$Proxy65.flush(Unknown Source)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:241)\r\n        at com.sun.proxy.$Proxy65.flush(Unknown Source)\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.flush(SimpleJpaRepository.java:416)\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:384)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:358)\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:343)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\r\n        ... 17 more\r\n","title":"&quot;No transaction is in progress&quot; after migrating to Wildfly","body":"<p>We have a Spring 3.6 application with Hibernate 4.2.2 which was working fine on glassfish 4, until we migrated to Wildfly 8.2. We use Spring-data 1.5.0. </p>\n\n<p>The following two problems appear:</p>\n\n<ol>\n<li><p>When saving an entity, it's not persisted. No exception is thrown here, but the save method in org.springframework.data.jpa.repository.support.SimpleJpaRepository returns an entity with no ID assigned</p></li>\n<li><p>When updating (merging) an entity, flush throws an exception:\njavax.persistence.TransactionRequiredException: no transaction is in progress</p></li>\n</ol>\n\n<p>persistence.xml:</p>\n\n<pre><code>&lt;persistence version=\"2.1\"\nxmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n\n&lt;persistence-unit name=\"persistenceSQL\"\n    transaction-type=\"JTA\"&gt;\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n    &lt;jta-data-source&gt;jdbc/MySqlPool&lt;/jta-data-source&gt;\n\n    &lt;!-- domain classes --&gt;\n    &lt;class&gt;org.common.model.domain.Company&lt;/class&gt;\n    ...\n    &lt;class&gt;org.common.model.system.RamMetric&lt;/class&gt;\n\n    &lt;properties&gt;\n\n        &lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.JBossStandAloneJtaPlatform\" /&gt;\n\n        &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQLDialect\" /&gt;\n        &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\" /&gt;\n        &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;\n\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p></p>\n\n<p>root context:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:jpa=\"http://www.springframework.org/schema/data/jpa\"\nxmlns:p=\"http://www.springframework.org/schema/p\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n                    http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.2.xsd\n                    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd\"&gt;\n\n&lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\n\n&lt;!-- _________________________________________Datasource______________________________________________________ --&gt;\n\n\n\n&lt;bean id=\"dataSource\" class=\"org.springframework.jndi.JndiObjectFactoryBean\"&gt;\n\n    &lt;property name=\"jndiName\" value=\"jdbc/MySqlPool\" /&gt;\n    &lt;property name=\"lookupOnStartup\" value=\"false\" /&gt;\n    &lt;property name=\"cache\" value=\"true\" /&gt;\n    &lt;property name=\"proxyInterface\" value=\"javax.sql.DataSource\" /&gt;\n\n&lt;/bean&gt;\n\n&lt;!-- _________________________________________EntityManagerFactory______________________________________________________ --&gt;\n\n\n&lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n\n    &lt;property name=\"persistenceUnitName\" value=\"persistenceSQL\" /&gt;\n\n    &lt;property name=\"jpaVendorAdapter\"&gt;\n        &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\" /&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;!-- _________________________________________Transaction Manager________________________________________________________ --&gt;\n\n\n&lt;bean id=\"transactionManager\" class=\"org.springframework.transaction.jta.JtaTransactionManager\"&gt;\n    &lt;property name=\"allowCustomIsolationLevels\" value=\"true\" /&gt;\n&lt;/bean&gt;\n\n&lt;jpa:repositories base-package=\"com.ototrak.datacenter.repository.* , com.ototrak.datacenter.domain\" entity-manager-factory-ref=\"entityManagerFactory\" transaction-manager-ref=\"transactionManager\" /&gt;\n</code></pre>\n\n<p>As mentioned, the app worked fine on Glassfish. To get to this point we had to exclude some modules from Wildfly, specifically org.jboss.resteasy.resteasy-jackson2-provider to get JSON serialization working. We don't use provided dependencies, so it's possible we have some conflicts with provided Wildfly modules. We have extensive JUnit coverage and all tests pass, so it's likely this has something to do with the modules provided by Wildfly.</p>\n\n<p>We also had to change the following in persistence.xml:</p>\n\n<pre><code> &lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.SunOneJtaPlatform\" /&gt;\n</code></pre>\n\n<p>to:</p>\n\n<pre><code> &lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.JBossStandAloneJtaPlatform\" /&gt;\n</code></pre>\n\n<p>to get select queries to work (which work fine now).</p>\n\n<p>Stack trace:</p>\n\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:316)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:108)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:403)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:58)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:163)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.data.jpa.repository.support.LockModeRepositoryPostProcessor$LockModePopulatingMethodIntercceptor.invoke(LockModeRepositoryPostProcessor.java:92)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n    at com.sun.proxy.$Proxy82.saveAndFlush(Unknown Source)\n    at com.ototrak.datacenter.service.persistance.sql.impl.FirmwareTableServiceImpl.update(FirmwareTableServiceImpl.java:56)\n    at com.ototrak.datacenter.api.processing.task.FirmwareProcessingTask.updateEntity(FirmwareProcessingTask.java:180)\n    at com.ototrak.datacenter.api.processing.task.abs.AbstractProcessingTask.run(AbstractProcessingTask.java:143)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: javax.persistence.TransactionRequiredException: no transaction is in progress\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.checkTransactionNeeded(AbstractEntityManagerImpl.java:1171)\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:1332)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:366)\n    at com.sun.proxy.$Proxy65.flush(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:241)\n    at com.sun.proxy.$Proxy65.flush(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.flush(SimpleJpaRepository.java:416)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:384)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.executeMethodOn(RepositoryFactorySupport.java:358)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)\n    ... 17 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1667307947,"post_id":74276245,"comment_id":131133227,"body_markdown":"It sounds like you&#39;ve identified the problem and answered your own question.  I&#39;m not sure what your post is about then.","body":"It sounds like you&#39;ve identified the problem and answered your own question.  I&#39;m not sure what your post is about then."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667308784,"creation_date":1667308784,"answer_id":74276597,"question_id":74276245,"body_markdown":"The problem in your case is that `BigInteger.toByteArray()` return an array, which size depends on the value. As an example, for the value `42`, the returned byte array is `[42]` with a length of one. But for the value `1234567890L` the byte array is `[73, -106, 2, -46]` with a length of four. When you concatenate each encrypted byte input the output file, you have no marker where one original byte array ended and the next original byte array started. So when you read the bytes `[54, -2, 43, 4, 13, -140, ...]` you don&#39;t know if the first byte array to decrypt is with `[54]`, `[54, -2]` or `[54, -2, 43]` (or any other length).\r\n\r\nOne possible solution is to add a length information for each byte array you write into the encrypted result file. As an example, the result file byte content could look like this:\r\n\r\n    [2, 54, -34, 5, -34, 43, 1, 9, -11, 1, 5, 3, 76, -100, 81, ...]\r\n     ^           ^                      ^     ^                 ^\r\n     |           |                      |     |                 |\r\n\r\nThe arrows indicate the positions of the length information, following by the byte array values for that value to decrypt. The algorithm will look like this (pseudocode):\r\n\r\n    while (!file_end_reached) {\r\n        read next byte for the length\r\n        read X bytes depending on the length\r\n        create BitInteger from byte array\r\n        decrypt\r\n    }","title":"Why is my RSA encryption algorithm not working correctly","body":"<p>The problem in your case is that <code>BigInteger.toByteArray()</code> return an array, which size depends on the value. As an example, for the value <code>42</code>, the returned byte array is <code>[42]</code> with a length of one. But for the value <code>1234567890L</code> the byte array is <code>[73, -106, 2, -46]</code> with a length of four. When you concatenate each encrypted byte input the output file, you have no marker where one original byte array ended and the next original byte array started. So when you read the bytes <code>[54, -2, 43, 4, 13, -140, ...]</code> you don't know if the first byte array to decrypt is with <code>[54]</code>, <code>[54, -2]</code> or <code>[54, -2, 43]</code> (or any other length).</p>\n<p>One possible solution is to add a length information for each byte array you write into the encrypted result file. As an example, the result file byte content could look like this:</p>\n<pre><code>[2, 54, -34, 5, -34, 43, 1, 9, -11, 1, 5, 3, 76, -100, 81, ...]\n ^           ^                      ^     ^                 ^\n |           |                      |     |                 |\n</code></pre>\n<p>The arrows indicate the positions of the length information, following by the byte array values for that value to decrypt. The algorithm will look like this (pseudocode):</p>\n<pre><code>while (!file_end_reached) {\n    read next byte for the length\n    read X bytes depending on the length\n    create BitInteger from byte array\n    decrypt\n}\n</code></pre>\n"}],"owner":{"account_id":26696779,"reputation":21,"user_id":20304501,"display_name":"John Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667308784,"creation_date":1667307110,"question_id":74276245,"body_markdown":"According to formulas and searches for private / public keys, everything is correct for me. The problem is that I&#39;m encrypting a picture, that is, an array of bytes. Everything is encrypted correctly, but the decryption no longer works, although the formula is the same. The problem is that when I start byte-by-byte encryption, for example, 1 byte is 255, it is encrypted into the number 1397715838 and then again encrypted into bytes into a file. Then I read the encrypted file again and the first byte will already be 255, not 1397715838. Thus, the entire decryption process will not work, because I did not understand how to get 1397715838 from the number 255.\r\n\r\n```\r\npublic static void RSA() throws Exception {\r\n    Random random = new Random();\r\n\r\n    var fileData = ReadFileToBinary(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\dino.png&quot;);\r\n\r\n    FileOutputStream encryptFile = new FileOutputStream(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\endino.png&quot;);\r\n    FileOutputStream decryptFile = new FileOutputStream(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\dedino.png&quot;);\r\n\r\n    BigInteger P = BigInteger.probablePrime(16, random);\r\n    BigInteger Q = BigInteger.probablePrime(16, random);\r\n\r\n    BigInteger N = P.multiply(Q);\r\n\r\n    BigInteger f = (P.subtract(BigInteger.ONE)).multiply(Q.subtract(BigInteger.ONE));\r\n\r\n    BigInteger d;\r\n    BigInteger c;\r\n\r\n    BigInteger encrypt;\r\n    BigInteger decrypt;\r\n\r\n    do {\r\n        d = new BigInteger(16, random);\r\n    } while (!(d.gcd(f).equals(BigInteger.ONE)) &amp;&amp; d.compareTo(f) &lt; 0);\r\n\r\n\r\n    c = d.modInverse(f);\r\n\r\n    for (var mess : fileData) {\r\n        BigInteger message = BigInteger.valueOf(mess);\r\n\r\n        encrypt = cryptoLab1.ModPow(message,d, N); //ecnrypt 1397715838\r\n        encryptFile.write(encrypt.toByteArray()); // encrypt byte here 255\r\n    }\r\n\r\n    var fileData2 = ReadFileToBinary(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\endino.png&quot;);\r\n\r\n\r\n    \r\n    for(var mess: fileData2) {\r\n        BigInteger message = BigInteger.valueOf(mess); //Need value here 1397715838, not 255\r\n        decrypt = cryptoLab1.ModPow(message, c, N);\r\n        if(decrypt.intValue() &gt; 127) {\r\n            decrypt = decrypt.subtract(BigInteger.valueOf(256));\r\n            decryptFile.write(decrypt.toByteArray());\r\n        }\r\n        else {\r\n            out2.write(decrypt.toByteArray());\r\n        }\r\n    }\r\n```\r\n\r\nReadFileToBinary:\r\n\r\n    public static int[] ReadFileToBinary(String path) throws IOException {\r\n        File file = new File(path);\r\n        byte[] fileData = new byte[(int)file.length()];\r\n        FileInputStream in = new FileInputStream(file);\r\n        in.read(fileData);\r\n        int[] arrayBytes= new int[(int) file.length()];\r\n    \r\n        for(int i = 0; i &lt; fileData.length; i++) {\r\n            arrayBytes[i] = Byte.toUnsignedInt(fileData[i]);\r\n        }\r\n        in.close();\r\n    \r\n        return arrayBytes;\r\n    }","title":"Why is my RSA encryption algorithm not working correctly","body":"<p>According to formulas and searches for private / public keys, everything is correct for me. The problem is that I'm encrypting a picture, that is, an array of bytes. Everything is encrypted correctly, but the decryption no longer works, although the formula is the same. The problem is that when I start byte-by-byte encryption, for example, 1 byte is 255, it is encrypted into the number 1397715838 and then again encrypted into bytes into a file. Then I read the encrypted file again and the first byte will already be 255, not 1397715838. Thus, the entire decryption process will not work, because I did not understand how to get 1397715838 from the number 255.</p>\n<pre><code>public static void RSA() throws Exception {\n    Random random = new Random();\n\n    var fileData = ReadFileToBinary(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\dino.png&quot;);\n\n    FileOutputStream encryptFile = new FileOutputStream(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\endino.png&quot;);\n    FileOutputStream decryptFile = new FileOutputStream(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\dedino.png&quot;);\n\n    BigInteger P = BigInteger.probablePrime(16, random);\n    BigInteger Q = BigInteger.probablePrime(16, random);\n\n    BigInteger N = P.multiply(Q);\n\n    BigInteger f = (P.subtract(BigInteger.ONE)).multiply(Q.subtract(BigInteger.ONE));\n\n    BigInteger d;\n    BigInteger c;\n\n    BigInteger encrypt;\n    BigInteger decrypt;\n\n    do {\n        d = new BigInteger(16, random);\n    } while (!(d.gcd(f).equals(BigInteger.ONE)) &amp;&amp; d.compareTo(f) &lt; 0);\n\n\n    c = d.modInverse(f);\n\n    for (var mess : fileData) {\n        BigInteger message = BigInteger.valueOf(mess);\n\n        encrypt = cryptoLab1.ModPow(message,d, N); //ecnrypt 1397715838\n        encryptFile.write(encrypt.toByteArray()); // encrypt byte here 255\n    }\n\n    var fileData2 = ReadFileToBinary(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\CryptoLab1\\\\src\\\\crypto\\\\endino.png&quot;);\n\n\n    \n    for(var mess: fileData2) {\n        BigInteger message = BigInteger.valueOf(mess); //Need value here 1397715838, not 255\n        decrypt = cryptoLab1.ModPow(message, c, N);\n        if(decrypt.intValue() &gt; 127) {\n            decrypt = decrypt.subtract(BigInteger.valueOf(256));\n            decryptFile.write(decrypt.toByteArray());\n        }\n        else {\n            out2.write(decrypt.toByteArray());\n        }\n    }\n</code></pre>\n<p>ReadFileToBinary:</p>\n<pre><code>public static int[] ReadFileToBinary(String path) throws IOException {\n    File file = new File(path);\n    byte[] fileData = new byte[(int)file.length()];\n    FileInputStream in = new FileInputStream(file);\n    in.read(fileData);\n    int[] arrayBytes= new int[(int) file.length()];\n\n    for(int i = 0; i &lt; fileData.length; i++) {\n        arrayBytes[i] = Byte.toUnsignedInt(fileData[i]);\n    }\n    in.close();\n\n    return arrayBytes;\n}\n</code></pre>\n"},{"tags":["java","maven","javafx","pom.xml","module-info"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667306189,"post_id":74275772,"comment_id":131132616,"body_markdown":"You only need these two module requirements for JavaFX: `requires javafx.controls;` and `requires javafx.fxml;`, nothing needs to be `transitive`.  You are using JavaFX Maven modules, you don&#39;t need the SDK (uninstall it and remove all places you tried to reference it).","body":"You only need these two module requirements for JavaFX: <code>requires javafx.controls;</code> and <code>requires javafx.fxml;</code>, nothing needs to be <code>transitive</code>.  You are using JavaFX Maven modules, you don&#39;t need the SDK (uninstall it and remove all places you tried to reference it)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667306210,"post_id":74275772,"comment_id":131132629,"body_markdown":"But none of that should matter with regards to your `module not found` compilation issue.  I don&#39;t know what is causing that.  Maybe you are using some ancient version of Maven which is not aware of modular java.  (In this context I mean java platform modules not maven modules).","body":"But none of that should matter with regards to your <code>module not found</code> compilation issue.  I don&#39;t know what is causing that.  Maybe you are using some ancient version of Maven which is not aware of modular java.  (In this context I mean java platform modules not maven modules)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667306751,"post_id":74275772,"comment_id":131132804,"body_markdown":"Maybe review the documentation on [JavaFX+Eclipse+Maven+Modular](https://openjfx.io/openjfx-docs/), and make sure that the sample project with that combo works in your environment before trying to build your own app using that combo.","body":"Maybe review the documentation on <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">JavaFX+Eclipse+Maven+Modular</a>, and make sure that the sample project with that combo works in your environment before trying to build your own app using that combo."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667306976,"post_id":74275772,"comment_id":131132882,"body_markdown":"&quot;export to an runable file wont work&quot; -&gt; what is that?  what does wont work mean?  That seems like a different issue from the &quot;module not found&quot; issue for &quot;clean javafx:run&quot;.  See [packaging info in the JavaFX tag](https://stackoverflow.com/tags/javafx/info), for options on packaging JavaFX apps for distribution (trying to use any built-in IDE function for that is currently not recommended because, as far as I know, none of them work).","body":"&quot;export to an runable file wont work&quot; -&gt; what is that?  what does wont work mean?  That seems like a different issue from the &quot;module not found&quot; issue for &quot;clean javafx:run&quot;.  See <a href=\"https://stackoverflow.com/tags/javafx/info\">packaging info in the JavaFX tag</a>, for options on packaging JavaFX apps for distribution (trying to use any built-in IDE function for that is currently not recommended because, as far as I know, none of them work)."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667307600,"post_id":74275772,"comment_id":131133115,"body_markdown":"Your module is named `HauserProgram`, so `&lt;mainClass&gt;de.hauserwein/Main.java&lt;/mainClass&gt;` is wrong.  Probably the main class is in package `de.hauserwein` (just guessing).  So the main class would be `HauserProgram/de.hauserwein.Main`.  See the [java man](https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html) for info on how to specify a modular main class.","body":"Your module is named <code>HauserProgram</code>, so <code>&lt;mainClass&gt;de.hauserwein&#47;Main.java&lt;&#47;mainClass&gt;</code> is wrong.  Probably the main class is in package <code>de.hauserwein</code> (just guessing).  So the main class would be <code>HauserProgram&#47;de.hauserwein.Main</code>.  See the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">java man</a> for info on how to specify a modular main class."},{"owner":{"account_id":26794770,"reputation":1,"user_id":20387666,"display_name":"Christian Stempfle"},"score":0,"creation_date":1667309344,"post_id":74275772,"comment_id":131133787,"body_markdown":"thx for it. now i updated the module-info, and i uninstalled the sdk, nothing works. Later i will test the link you posted and try the sample project.","body":"thx for it. now i updated the module-info, and i uninstalled the sdk, nothing works. Later i will test the link you posted and try the sample project."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667351429,"post_id":74275772,"comment_id":131145759,"body_markdown":"I think the javafx-maven-plugin will [make use of the `JAVA_HOME` environment variable if it is defined](https://github.com/openjfx/javafx-maven-plugin/blob/b63e0367a1e29d205f937c0c276c03d08557df4a/src/main/java/org/openjfx/JavaFXBaseMojo.java#L527), so, if you have defined that variable, make sure [`JAVA_HOME` is set correctly](https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux).","body":"I think the javafx-maven-plugin will <a href=\"https://github.com/openjfx/javafx-maven-plugin/blob/b63e0367a1e29d205f937c0c276c03d08557df4a/src/main/java/org/openjfx/JavaFXBaseMojo.java#L527\" rel=\"nofollow noreferrer\">make use of the <code>JAVA_HOME</code> environment variable if it is defined</a>, so, if you have defined that variable, make sure <a href=\"https://www.baeldung.com/java-home-on-windows-7-8-10-mac-os-x-linux\" rel=\"nofollow noreferrer\"><code>JAVA_HOME</code> is set correctly</a>."},{"owner":{"account_id":26794770,"reputation":1,"user_id":20387666,"display_name":"Christian Stempfle"},"score":0,"creation_date":1667370631,"post_id":74275772,"comment_id":131148373,"body_markdown":"I tried to create the maven javafx sample program with the code ```mvn archetype:generate \\\n        -DarchetypeGroupId=org.openjfx \\\n        -DarchetypeArtifactId=javafx-archetype-simple \\\n        -DarchetypeVersion=0.0.3 \\\n        -DgroupId=org.openjfx \\\n        -DartifactId=sample \\\n        -Dversion=1.0.0 \\\n        -Djavafx-version=19``` where does i have to type this into? When i type it in cmd it wont work, because my computer said mvn is an invalid command. And what do you mean with java_home? Does i have to put maven in it? I have there only java 18 in it","body":"I tried to create the maven javafx sample program with the code <code>mvn archetype:generate \\         -DarchetypeGroupId=org.openjfx \\         -DarchetypeArtifactId=javafx-archetype-simple \\         -DarchetypeVersion=0.0.3 \\         -DgroupId=org.openjfx \\         -DartifactId=sample \\         -Dversion=1.0.0 \\         -Djavafx-version=19</code> where does i have to type this into? When i type it in cmd it wont work, because my computer said mvn is an invalid command. And what do you mean with java_home? Does i have to put maven in it? I have there only java 18 in it"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667371880,"post_id":74275772,"comment_id":131148640,"body_markdown":"I linked info on JAVA_HOME already.  If it is not defined, it probably doesn’t matter, but if it is defined then it should be correct.  No you don’t put maven in JAVA_HOME, it is where Java is, not maven.  For mvn, it is just an executable command,  if the directory with the executable is in your PATH, then you can run it from a command prompt without qualification, otherwise you must provide the full path, same as any other executable.  See [maven setup](https://stackoverflow.com/questions/10649707/maven-mvn-command-not-found).","body":"I linked info on JAVA_HOME already.  If it is not defined, it probably doesn’t matter, but if it is defined then it should be correct.  No you don’t put maven in JAVA_HOME, it is where Java is, not maven.  For mvn, it is just an executable command,  if the directory with the executable is in your PATH, then you can run it from a command prompt without qualification, otherwise you must provide the full path, same as any other executable.  See <a href=\"https://stackoverflow.com/questions/10649707/maven-mvn-command-not-found\">maven setup</a>."},{"owner":{"account_id":26794770,"reputation":1,"user_id":20387666,"display_name":"Christian Stempfle"},"score":0,"creation_date":1667404604,"post_id":74275772,"comment_id":131160264,"body_markdown":"thx. maven wasnt installed on my computer. now i made the maven setup and the command &quot;mvn&quot; works. but the failure is still there.","body":"thx. maven wasnt installed on my computer. now i made the maven setup and the command &quot;mvn&quot; works. but the failure is still there."},{"owner":{"account_id":26794770,"reputation":1,"user_id":20387666,"display_name":"Christian Stempfle"},"score":0,"creation_date":1667493369,"post_id":74275772,"comment_id":131185055,"body_markdown":"@jewelsea - thx after the maven setup the mvn command works... and now i have create a sample project. everything is still working. but now the executable jar file i have created didnt open with double click :(","body":"@jewelsea - thx after the maven setup the mvn command works... and now i have create a sample project. everything is still working. but now the executable jar file i have created didnt open with double click :("},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667509467,"post_id":74275772,"comment_id":131189962,"body_markdown":"Running an executable jar with a double click is a different problem than the build issue from your question, you can ask it as a new question with updated, relevant information.  For information on how to package your application for distribution and execution, see the [packaging information in the JavaFX tag](https://stackoverflow.com/tags/javafx/info).  Perhaps you may want to use a tool such as `jpackage` to create an installer for your application.  The installer is capable of creating a shortcut for the OS allowing the installed application to be executed by double-click.","body":"Running an executable jar with a double click is a different problem than the build issue from your question, you can ask it as a new question with updated, relevant information.  For information on how to package your application for distribution and execution, see the <a href=\"https://stackoverflow.com/tags/javafx/info\">packaging information in the JavaFX tag</a>.  Perhaps you may want to use a tool such as <code>jpackage</code> to create an installer for your application.  The installer is capable of creating a shortcut for the OS allowing the installed application to be executed by double-click."}],"answers":[{"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667308667,"creation_date":1667306346,"answer_id":74276091,"question_id":74275772,"body_markdown":"Firstly, make sure you have all the dependencies in your pom:\r\n\r\n``` \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nThen, it sounds like you have your dependencies on the build path in eclipse, rather than the maven project. Run `mvn clean install` to resolve the dependencies. \r\n\r\n(And please don&#39;t use `&lt;groupId&gt;org.openjfx&lt;/groupId&gt;` for your artifacts. It causes unnecessary confusion.)","title":"Maven Build Failure (module not found)","body":"<p>Firstly, make sure you have all the dependencies in your pom:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Then, it sounds like you have your dependencies on the build path in eclipse, rather than the maven project. Run <code>mvn clean install</code> to resolve the dependencies.</p>\n<p>(And please don't use <code>&lt;groupId&gt;org.openjfx&lt;/groupId&gt;</code> for your artifacts. It causes unnecessary confusion.)</p>\n"}],"owner":{"account_id":26794770,"reputation":1,"user_id":20387666,"display_name":"Christian Stempfle"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667308667,"creation_date":1667304805,"question_id":74275772,"body_markdown":"i have a question about Mavenbuilds. I wanted to try to make a little javafx testprogram in a mavenbuild in Eclipse IDE, i am using JavaSE 18 and JavaFX 19. so now if i want to run-&gt; Maven build... and set the goal &quot;clean javafx:run&quot; i get this Failure / Error message:\r\n\r\n\r\n```\r\n[[1;34mINFO[m] Scanning for projects...\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m---------------------&lt; [0;36morg.openjfx:HauserProgram[0;1m &gt;----------------------[m\r\n[[1;34mINFO[m] [1mBuilding HauserProgram 0.0.1-SNAPSHOT[m\r\n[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m--- [0;32mmaven-clean-plugin:2.5:clean[m [1m(default-clean)[m @ [36mHauserProgram[0;1m ---[m\r\n[[1;34mINFO[m] Deleting D:\\eclipse-workspace\\javafxmav\\target\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m&gt;&gt;&gt; [0;32mjavafx-maven-plugin:0.0.8:run[m [1m(default-cli)[0;1m &gt; [0;1mprocess-classes[m @ [36mHauserProgram[0;1m &gt;&gt;&gt;[m\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mHauserProgram[0;1m ---[m\r\n[[1;34mINFO[m] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[[1;34mINFO[m] Copying 3 resources\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.1:compile[m [1m(default-compile)[m @ [36mHauserProgram[0;1m ---[m\r\n[[1;34mINFO[m] Changes detected - recompiling the module!\r\n[[1;34mINFO[m] Compiling 6 source files to D:\\eclipse-workspace\\javafxmav\\target\\classes\r\n[[1;34mINFO[m] -------------------------------------------------------------\r\n[[1;31mERROR[m] COMPILATION ERROR : \r\n[[1;34mINFO[m] -------------------------------------------------------------\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[6,24] module not found: javafx.base\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[7,24] module not found: javafx.controls\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[8,35] module not found: javafx.fxml\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[9,35] module not found: javafx.graphics\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[11,32] module not found: org.apache.poi.poi\r\n[[1;34mINFO[m] 5 errors \r\n[[1;34mINFO[m] -------------------------------------------------------------\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] [1;31mBUILD FAILURE[m\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] Total time:  0.683 s\r\n[[1;34mINFO[m] Finished at: 2022-11-01T12:45:40+01:00\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;31mERROR[m] Failed to execute goal [32morg.apache.maven.plugins:maven-compiler-plugin:3.1:compile[m [1m(default-compile)[m on project [36mHauserProgram[m: [1;31mCompilation failure[m: Compilation failure: \r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[6,24] module not found: javafx.base\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[7,24] module not found: javafx.controls\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[8,35] module not found: javafx.fxml\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[9,35] module not found: javafx.graphics\r\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[11,32] module not found: org.apache.poi.poi\r\n[[1;31mERROR[m] -&gt; [1m[Help 1][m\r\n[[1;31mERROR[m] \r\n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\r\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\r\n[[1;31mERROR[m] \r\n[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\r\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```\r\nhere is my module-info.java:\r\n\r\n```\r\nmodule HauserProgram {\r\n\r\n\texports de.hauserwein;\r\n\r\n\trequires java.sql;\r\n\trequires javafx.base;\r\n\trequires javafx.controls;\r\n\trequires transitive javafx.fxml;\r\n\trequires transitive javafx.graphics;\r\n\trequires java.desktop;\r\n\trequires org.apache.poi.poi;\r\n\r\n\topens de.hauserwein to javafx.fxml, javafx.base, javafx.controls, javafx.graphics;\r\n\t\r\n\r\n}\r\n```\r\n\r\nand my pom.xml:\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n  &lt;artifactId&gt;HauserProgram&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  \r\n  &lt;properties&gt;\r\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n  \r\n  &lt;dependency&gt;\r\n  &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n  &lt;version&gt;8.0.30&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  \r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n    &lt;version&gt;18&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  \r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n    &lt;version&gt;2.19.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n  \r\n  \r\n    \r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.8&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n&lt;mainClass&gt;de.hauserwein/Main.java&lt;/mainClass&gt;\r\n\r\n&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\ni tried to add the javafx sdk to the buildpath, tested some different javafx versions 18/19 in the pom.xml, and wanted to add org.openjfx to the module-info.java file... \r\n\r\nif i start it with &quot;Run As JavaApplication&quot; it will work, only the export to an runable file wont work.","title":"Maven Build Failure (module not found)","body":"<p>i have a question about Mavenbuilds. I wanted to try to make a little javafx testprogram in a mavenbuild in Eclipse IDE, i am using JavaSE 18 and JavaFX 19. so now if i want to run-&gt; Maven build... and set the goal &quot;clean javafx:run&quot; i get this Failure / Error message:</p>\n<pre><code>[[1;34mINFO[m] Scanning for projects...\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m---------------------&lt; [0;36morg.openjfx:HauserProgram[0;1m &gt;----------------------[m\n[[1;34mINFO[m] [1mBuilding HauserProgram 0.0.1-SNAPSHOT[m\n[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m--- [0;32mmaven-clean-plugin:2.5:clean[m [1m(default-clean)[m @ [36mHauserProgram[0;1m ---[m\n[[1;34mINFO[m] Deleting D:\\eclipse-workspace\\javafxmav\\target\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m&gt;&gt;&gt; [0;32mjavafx-maven-plugin:0.0.8:run[m [1m(default-cli)[0;1m &gt; [0;1mprocess-classes[m @ [36mHauserProgram[0;1m &gt;&gt;&gt;[m\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mHauserProgram[0;1m ---[m\n[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.\n[[1;34mINFO[m] Copying 3 resources\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.1:compile[m [1m(default-compile)[m @ [36mHauserProgram[0;1m ---[m\n[[1;34mINFO[m] Changes detected - recompiling the module!\n[[1;34mINFO[m] Compiling 6 source files to D:\\eclipse-workspace\\javafxmav\\target\\classes\n[[1;34mINFO[m] -------------------------------------------------------------\n[[1;31mERROR[m] COMPILATION ERROR : \n[[1;34mINFO[m] -------------------------------------------------------------\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[6,24] module not found: javafx.base\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[7,24] module not found: javafx.controls\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[8,35] module not found: javafx.fxml\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[9,35] module not found: javafx.graphics\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[11,32] module not found: org.apache.poi.poi\n[[1;34mINFO[m] 5 errors \n[[1;34mINFO[m] -------------------------------------------------------------\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] [1;31mBUILD FAILURE[m\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] Total time:  0.683 s\n[[1;34mINFO[m] Finished at: 2022-11-01T12:45:40+01:00\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;31mERROR[m] Failed to execute goal [32morg.apache.maven.plugins:maven-compiler-plugin:3.1:compile[m [1m(default-compile)[m on project [36mHauserProgram[m: [1;31mCompilation failure[m: Compilation failure: \n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[6,24] module not found: javafx.base\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[7,24] module not found: javafx.controls\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[8,35] module not found: javafx.fxml\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[9,35] module not found: javafx.graphics\n[[1;31mERROR[m] /D:/eclipse-workspace/javafxmav/src/main/java/module-info.java:[11,32] module not found: org.apache.poi.poi\n[[1;31mERROR[m] -&gt; [1m[Help 1][m\n[[1;31mERROR[m] \n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n[[1;31mERROR[m] \n[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>here is my module-info.java:</p>\n<pre><code>module HauserProgram {\n\n    exports de.hauserwein;\n\n    requires java.sql;\n    requires javafx.base;\n    requires javafx.controls;\n    requires transitive javafx.fxml;\n    requires transitive javafx.graphics;\n    requires java.desktop;\n    requires org.apache.poi.poi;\n\n    opens de.hauserwein to javafx.fxml, javafx.base, javafx.controls, javafx.graphics;\n    \n\n}\n</code></pre>\n<p>and my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n  &lt;artifactId&gt;HauserProgram&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  \n  &lt;properties&gt;\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n  \n  &lt;dependencies&gt;\n  \n  &lt;dependency&gt;\n  &lt;groupId&gt;mysql&lt;/groupId&gt;\n  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n  &lt;version&gt;8.0.30&lt;/version&gt;\n  &lt;/dependency&gt;\n  \n  &lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n    &lt;version&gt;18&lt;/version&gt;\n  &lt;/dependency&gt;\n  \n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n  \n  \n    \n  &lt;build&gt;\n    &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.0.8&lt;/version&gt;\n        &lt;configuration&gt;\n&lt;mainClass&gt;de.hauserwein/Main.java&lt;/mainClass&gt;\n\n&lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>i tried to add the javafx sdk to the buildpath, tested some different javafx versions 18/19 in the pom.xml, and wanted to add org.openjfx to the module-info.java file...</p>\n<p>if i start it with &quot;Run As JavaApplication&quot; it will work, only the export to an runable file wont work.</p>\n"},{"tags":["java","generics","jaxb"],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1278577298,"creation_date":1278577298,"answer_id":3201782,"question_id":3201748,"body_markdown":"This is a possible solution (if you can change MyClass):\r\n\r\n    public class MyClass&lt;T&gt; {\r\n\r\n       private Class&lt;T&gt; clazz;\r\n       public MyClass (Class&lt;T&gt; clazz) {\r\n         this.clazz = clazz;\r\n       }\r\n\r\n       public String getPackageNameOfGenericClass() {\r\n         return clazz.getPackage().getName(); \r\n       }\r\n\r\n    }","title":"Get Package Name of Generic Type Argument","body":"<p>This is a possible solution (if you can change MyClass):</p>\n\n<pre><code>public class MyClass&lt;T&gt; {\n\n   private Class&lt;T&gt; clazz;\n   public MyClass (Class&lt;T&gt; clazz) {\n     this.clazz = clazz;\n   }\n\n   public String getPackageNameOfGenericClass() {\n     return clazz.getPackage().getName(); \n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":9558,"reputation":12465,"user_id":17713,"accept_rate":86,"display_name":"Matthias Meid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1051,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":3201782,"answer_count":1,"score":1,"last_activity_date":1667308387,"creation_date":1278576999,"question_id":3201748,"body_markdown":"How can I get the package name (in general, the class) of a generic type argument? I have a class similar to this:\r\n\r\n    public class MyClass&lt;T&gt; {}\r\n\r\nWhat I&#39;d like to do is something like this (non-working pseudo-Java):\r\n\r\n    return T.class.getPackage().getName();\r\n\r\nI need this, since JAXB needs this as the context path (`JAXBContext.newInstance(String)` method). Of course I&#39;m open to more elegant ways of working with `JAXBContext`.","title":"Get Package Name of Generic Type Argument","body":"<p>How can I get the package name (in general, the class) of a generic type argument? I have a class similar to this:</p>\n<pre><code>public class MyClass&lt;T&gt; {}\n</code></pre>\n<p>What I'd like to do is something like this (non-working pseudo-Java):</p>\n<pre><code>return T.class.getPackage().getName();\n</code></pre>\n<p>I need this, since JAXB needs this as the context path (<code>JAXBContext.newInstance(String)</code> method). Of course I'm open to more elegant ways of working with <code>JAXBContext</code>.</p>\n"},{"tags":["java","sql"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1667307763,"post_id":74276335,"comment_id":131133166,"body_markdown":"&quot;Is there some way to convert single or double digit data into LocalDate?&quot; &lt;- Only if you define clear rules on what the values for year and day should be set to. Like, you never explained to us why &quot;2&quot; should result in &quot;2022-02-01&quot;. Is the year always 2022 and day always 1 or how did you arrive with that result?","body":"&quot;Is there some way to convert single or double digit data into LocalDate?&quot; &lt;- Only if you define clear rules on what the values for year and day should be set to. Like, you never explained to us why &quot;2&quot; should result in &quot;2022-02-01&quot;. Is the year always 2022 and day always 1 or how did you arrive with that result?"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1667307830,"post_id":74276335,"comment_id":131133186,"body_markdown":"Convert the string into `int` (`Integer.parseInt`) and then construct the date using `LocalDate.of(2022,month,1)`. Isn&#39;t it what you want?","body":"Convert the string into <code>int</code> (<code>Integer.parseInt</code>) and then construct the date using <code>LocalDate.of(2022,month,1)</code>. Isn&#39;t it what you want?"}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667308245,"creation_date":1667308245,"answer_id":74276481,"question_id":74276335,"body_markdown":"&gt; I have an application where the users have been able to select a pre-defined set of months from 1 to 12, which is then passed into a string. \r\n\r\nYou should re-consider this unnecessary int-to-string-to-int conversion.\r\n\r\nAnyhow, to create a new LocalDate with year and day of month fixed, month being a parameter (e.g. `monthAsString`):\r\n\r\n    var localDate = LocalDate.of(2022, Integer.parseInt(monthAsString), 1);\r\n\r\nTo change the Month of an existing LocalDate:\r\n\r\n    var localDate = localDate.withMonth(Integer.parseInt(monthAsString));\r\n\r\nBe aware that you need to check for\r\n\r\n- monthString being null\r\n- monthString being not parseable into an int\r\n- parsed monthString is out-of-range [1,12]\r\n- parsed month string will result in an invalid date like 31.02.2022\r\n\r\n","title":"Converting a single and two digit string into a LocalDate Format","body":"<blockquote>\n<p>I have an application where the users have been able to select a pre-defined set of months from 1 to 12, which is then passed into a string.</p>\n</blockquote>\n<p>You should re-consider this unnecessary int-to-string-to-int conversion.</p>\n<p>Anyhow, to create a new LocalDate with year and day of month fixed, month being a parameter (e.g. <code>monthAsString</code>):</p>\n<pre><code>var localDate = LocalDate.of(2022, Integer.parseInt(monthAsString), 1);\n</code></pre>\n<p>To change the Month of an existing LocalDate:</p>\n<pre><code>var localDate = localDate.withMonth(Integer.parseInt(monthAsString));\n</code></pre>\n<p>Be aware that you need to check for</p>\n<ul>\n<li>monthString being null</li>\n<li>monthString being not parseable into an int</li>\n<li>parsed monthString is out-of-range [1,12]</li>\n<li>parsed month string will result in an invalid date like 31.02.2022</li>\n</ul>\n"}],"owner":{"account_id":20887881,"reputation":85,"user_id":15344037,"display_name":"Cphml444"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667308245,"creation_date":1667307535,"question_id":74276335,"body_markdown":"I have an application where the users have been able to select a pre-defined set of months from 1 to 12, which is then passed into a string.\r\nNow I would like to convert that string into LocalDate, but I don&#39;t want my users to lose the data that has already been saved in the database. Is there some way to convert single or double digit data into LocalDate?\r\n\r\nEg. if the user has previously entered &quot;2&quot;, then that data needs to be changed to 2022-02-01. If the user has previously entered &quot;10&quot; then this will be changed to 2022-10-01 and so on.\r\n\r\nI am familiar with the formatting itself \r\n\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class LocalDateExample1_ISO_LOCAL_DATE {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            DateTimeFormatter formatter = DateTimeFormatter.ISO_LOCAL_DATE;\r\n            String date = &quot;2019-10-12&quot;;\r\n            LocalDate localDate = LocalDate.parse(date, formatter);\r\n    \r\n            System.out.println(date);\r\n            System.out.println(localDate);\r\n            System.out.println(formatter.format(localDate));\r\n        }\r\n    }\r\n\r\n","title":"Converting a single and two digit string into a LocalDate Format","body":"<p>I have an application where the users have been able to select a pre-defined set of months from 1 to 12, which is then passed into a string.\nNow I would like to convert that string into LocalDate, but I don't want my users to lose the data that has already been saved in the database. Is there some way to convert single or double digit data into LocalDate?</p>\n<p>Eg. if the user has previously entered &quot;2&quot;, then that data needs to be changed to 2022-02-01. If the user has previously entered &quot;10&quot; then this will be changed to 2022-10-01 and so on.</p>\n<p>I am familiar with the formatting itself</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\n\npublic class LocalDateExample1_ISO_LOCAL_DATE {\n\n    public static void main(String[] args) {\n\n        DateTimeFormatter formatter = DateTimeFormatter.ISO_LOCAL_DATE;\n        String date = &quot;2019-10-12&quot;;\n        LocalDate localDate = LocalDate.parse(date, formatter);\n\n        System.out.println(date);\n        System.out.println(localDate);\n        System.out.println(formatter.format(localDate));\n    }\n}\n</code></pre>\n"},{"tags":["java","c#"],"answers":[{"tags":[],"owner":{"account_id":20052008,"reputation":126,"user_id":17071165,"display_name":"figgyfarts"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667307950,"creation_date":1667297075,"answer_id":74274246,"question_id":74274196,"body_markdown":"I think what you are looking for is **(int) char value**","title":"How to convert &quot;Convert.ToUInt32(char value)&quot; of C# to Java","body":"<p>I think what you are looking for is <strong>(int) char value</strong></p>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667297655,"creation_date":1667297655,"answer_id":74274379,"question_id":74274196,"body_markdown":"Java doesn&#39;t have a type equivalent to UInt. The C# function `Convert.ToUInt32(char value)` converts the Unicode value of its argument to a `UInt32`. The closest you can get to that in Java is `(int) value`. This will give you the value converted from `char` to `int` and will always be a positive value.","title":"How to convert &quot;Convert.ToUInt32(char value)&quot; of C# to Java","body":"<p>Java doesn't have a type equivalent to UInt. The C# function <code>Convert.ToUInt32(char value)</code> converts the Unicode value of its argument to a <code>UInt32</code>. The closest you can get to that in Java is <code>(int) value</code>. This will give you the value converted from <code>char</code> to <code>int</code> and will always be a positive value.</p>\n"}],"owner":{"account_id":11673334,"reputation":21,"user_id":8547718,"display_name":"Suraj Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74274379,"answer_count":2,"score":0,"last_activity_date":1667307950,"creation_date":1667296815,"question_id":74274196,"body_markdown":"I need to convert **Convert.ToUInt32(char value)** code to java. this function return uint value in C# same implementation i need for java.\r\n\r\nI have done bit google work but didnt get expected output.","title":"How to convert &quot;Convert.ToUInt32(char value)&quot; of C# to Java","body":"<p>I need to convert <strong>Convert.ToUInt32(char value)</strong> code to java. this function return uint value in C# same implementation i need for java.</p>\n<p>I have done bit google work but didnt get expected output.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1480344302,"creation_date":1480344302,"answer_id":40847011,"question_id":40846938,"body_markdown":"&gt; Can any one help me what should i do? \r\n\r\nUninstall the existing app.\r\n\r\n&gt; can i modify the debug.keystore with the old sha1 ?\r\n\r\nNo.\r\n","title":"Android App Not Install. An existing package by the same name","body":"<blockquote>\n  <p>Can any one help me what should i do? </p>\n</blockquote>\n\n<p>Uninstall the existing app.</p>\n\n<blockquote>\n  <p>can i modify the debug.keystore with the old sha1 ?</p>\n</blockquote>\n\n<p>No.</p>\n"},{"tags":[],"owner":{"account_id":321908,"reputation":5944,"user_id":641020,"accept_rate":75,"display_name":"J.G.Sebring"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480344919,"creation_date":1480344919,"answer_id":40847230,"question_id":40846938,"body_markdown":"You will not be able to publish an update on Google Play if the app is signed by a different keystore than the one first published. You&#39;ll need to change the package name, resulting in a new app on Google Play.\r\n\r\nIf the old app isn&#39;t published just go ahead and uninstall the old app to be able to install the new.","title":"Android App Not Install. An existing package by the same name","body":"<p>You will not be able to publish an update on Google Play if the app is signed by a different keystore than the one first published. You'll need to change the package name, resulting in a new app on Google Play.</p>\n\n<p>If the old app isn't published just go ahead and uninstall the old app to be able to install the new.</p>\n"},{"tags":[],"owner":{"account_id":13300081,"reputation":1,"user_id":9601836,"display_name":"Arshad Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667307741,"creation_date":1661246657,"answer_id":73456189,"question_id":40846938,"body_markdown":"Hi I had Shared the steps, It will definitely resolve the issue regarding Unity Android App Not Installed\r\n\r\n 1. UnInstall Existing App\r\n 2. Check is you bundle identifier is same with previous build\r\n 3. PlayerSettings &gt; Enable build il2cpp Armv7 and 64bit build and donot split the build\r\n 4. Assign the keystore and assign password\r\n 5. Set the player setting SDK Card to Automatic\r\n 6. Make Sure your previous build is assigned with same keystore\r\n 7. Target Api Level should be Equal or greater than previous one","title":"Android App Not Install. An existing package by the same name","body":"<p>Hi I had Shared the steps, It will definitely resolve the issue regarding Unity Android App Not Installed</p>\n<ol>\n<li>UnInstall Existing App</li>\n<li>Check is you bundle identifier is same with previous build</li>\n<li>PlayerSettings &gt; Enable build il2cpp Armv7 and 64bit build and donot split the build</li>\n<li>Assign the keystore and assign password</li>\n<li>Set the player setting SDK Card to Automatic</li>\n<li>Make Sure your previous build is assigned with same keystore</li>\n<li>Target Api Level should be Equal or greater than previous one</li>\n</ol>\n"}],"owner":{"account_id":9330186,"reputation":1,"user_id":6926169,"display_name":"SAM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1667307741,"creation_date":1480344107,"question_id":40846938,"body_markdown":"i have lost my old debug.keystore file and i generated a new one, when i build my new apk and i want to update the old one in my phone it show me &quot;Android App Not Install. An existing package by the same name&quot;.\r\n\r\n\r\nCan any one help me what should i do? can i modify the debug.keystore with the old  sha1 ???\r\n","title":"Android App Not Install. An existing package by the same name","body":"<p>i have lost my old debug.keystore file and i generated a new one, when i build my new apk and i want to update the old one in my phone it show me \"Android App Not Install. An existing package by the same name\".</p>\n\n<p>Can any one help me what should i do? can i modify the debug.keystore with the old  sha1 ???</p>\n"},{"tags":["java","java-web-start","java-ws"],"owner":{"account_id":4602931,"reputation":541,"user_id":3733164,"accept_rate":71,"display_name":"user3733164"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667307563,"creation_date":1667307563,"question_id":74276340,"body_markdown":"I&#39;m trying to open a jnlp file, but I have the next error:\r\n\r\n  \r\n\r\n&gt; selected jre: /usr/lib/jvm/default-java WARNING: package javax.jnlp\r\n&gt; not in java.desktop selected jre: /usr/lib/jvm/default-java WARNING:\r\n&gt; package javax.jnlp not in java.desktop java.util.zip.ZipException: zip\r\n&gt; END header not found \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1607) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1497) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1504) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1308) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271) \tat\r\n&gt; java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:733)\r\n&gt; \tat\r\n&gt; java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:850)\r\n&gt; \tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:248) \tat\r\n&gt; java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:177) \tat\r\n&gt; java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:350) \tat\r\n&gt; java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:321) \tat\r\n&gt; java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:274) \tat\r\n&gt; net.sourceforge.jnlp.util.JarFile.&lt;init&gt;(JarFile.java:60) \tat\r\n&gt; net.sourceforge.jnlp.tools.JarCertVerifier.verifyJar(JarCertVerifier.java:275)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.tools.JarCertVerifier.verifyJars(JarCertVerifier.java:245)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.tools.JarCertVerifier.add(JarCertVerifier.java:211)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.initializeResources(JNLPClassLoader.java:732)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.&lt;init&gt;(JNLPClassLoader.java:338)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.createInstance(JNLPClassLoader.java:421)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:495)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:468)\r\n&gt; \tat net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:814)\r\n&gt; \tat net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:531)\r\n&gt; \tat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:945)\r\n&gt; \r\n&gt; java.util.zip.ZipException: zip END header not found \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1607) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1497) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1504) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.&lt;init&gt;(ZipFile.java:1308) \tat\r\n&gt; java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271) \tat\r\n&gt; java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:733)\r\n&gt; \tat\r\n&gt; java.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:850)\r\n&gt; \tat java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:248) \tat\r\n&gt; java.base/java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:177) \tat\r\n&gt; java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:350) \tat\r\n&gt; java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:321) \tat\r\n&gt; java.base/java.util.jar.JarFile.&lt;init&gt;(JarFile.java:274) \tat\r\n&gt; net.sourceforge.jnlp.util.JarFile.&lt;init&gt;(JarFile.java:60) \tat\r\n&gt; net.sourceforge.jnlp.tools.JarCertVerifier.verifyJar(JarCertVerifier.java:275)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.tools.JarCertVerifier.verifyJars(JarCertVerifier.java:245)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.tools.JarCertVerifier.add(JarCertVerifier.java:211)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.initializeResources(JNLPClassLoader.java:732)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.&lt;init&gt;(JNLPClassLoader.java:338)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.createInstance(JNLPClassLoader.java:421)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:495)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:468)\r\n&gt; \tat net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:814)\r\n&gt; \tat net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:531)\r\n&gt; \tat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:945)\r\n&gt; \r\n&gt; netx: Initialization Error: Could not initialize application. (Fatal:\r\n&gt; Initialization Error: A fatal error occurred while trying to verify\r\n&gt; jars. An exception has been thrown in class JarCertVerifier. Being\r\n&gt; unable to read the cacerts or trusted.certs files could be a possible\r\n&gt; cause for this exception.: zip END header not found)\r\n&gt; net.sourceforge.jnlp.LaunchException: Fatal: Initialization Error:\r\n&gt; Could not initialize application. The application has not been\r\n&gt; initialized, for more information execute javaws from the command\r\n&gt; line. \tat\r\n&gt; net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:822) \tat\r\n&gt; net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:531) \tat\r\n&gt; net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:945) Caused\r\n&gt; by: net.sourceforge.jnlp.LaunchException: Fatal: Initialization Error:\r\n&gt; A fatal error occurred while trying to verify jars. An exception has\r\n&gt; been thrown in class JarCertVerifier. Being unable to read the cacerts\r\n&gt; or trusted.certs files could be a possible cause for this exception.:\r\n&gt; zip END header not found \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.initializeResources(JNLPClassLoader.java:739)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.&lt;init&gt;(JNLPClassLoader.java:338)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.createInstance(JNLPClassLoader.java:421)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:495)\r\n&gt; \tat\r\n&gt; net.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:468)\r\n&gt; \tat net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:814)\r\n&gt; \t... 2 more\r\n\r\n\r\n\r\nMy PC is running under Linux Mint 20. \r\nThe ouput of my java version:\r\n\r\n    java --version \r\n    openjdk 11.0.16 2022-07-19\r\n    OpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu120.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu120.04, mixed mode, sharing)\r\n\r\nDoing `javaws --viewer` I have import my CA Certificate","title":"Error: A fatal error occurred while trying to verify jars. An exception has been thrown in class JarCertVerifier. (javaws and jnlp files)","body":"<p>I'm trying to open a jnlp file, but I have the next error:</p>\n<blockquote>\n<p>selected jre: /usr/lib/jvm/default-java WARNING: package javax.jnlp\nnot in java.desktop selected jre: /usr/lib/jvm/default-java WARNING:\npackage javax.jnlp not in java.desktop java.util.zip.ZipException: zip\nEND header not found  at\njava.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1607)  at\njava.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1497)     at\njava.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1504)     at\njava.base/java.util.zip.ZipFile$Source.(ZipFile.java:1308)  at\njava.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271)     at\njava.base/java.util.zip.ZipFile$CleanableResource.(ZipFile.java:733)\nat\njava.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:850)\nat java.base/java.util.zip.ZipFile.(ZipFile.java:248)     at\njava.base/java.util.zip.ZipFile.(ZipFile.java:177)  at\njava.base/java.util.jar.JarFile.(JarFile.java:350)  at\njava.base/java.util.jar.JarFile.(JarFile.java:321)  at\njava.base/java.util.jar.JarFile.(JarFile.java:274)  at\nnet.sourceforge.jnlp.util.JarFile.(JarFile.java:60)     at\nnet.sourceforge.jnlp.tools.JarCertVerifier.verifyJar(JarCertVerifier.java:275)\nat\nnet.sourceforge.jnlp.tools.JarCertVerifier.verifyJars(JarCertVerifier.java:245)\nat\nnet.sourceforge.jnlp.tools.JarCertVerifier.add(JarCertVerifier.java:211)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.initializeResources(JNLPClassLoader.java:732)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.(JNLPClassLoader.java:338)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.createInstance(JNLPClassLoader.java:421)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:495)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:468)\nat net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:814)\nat net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:531)\nat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:945)</p>\n<p>java.util.zip.ZipException: zip END header not found  at\njava.base/java.util.zip.ZipFile$Source.zerror(ZipFile.java:1607)  at\njava.base/java.util.zip.ZipFile$Source.findEND(ZipFile.java:1497)     at\njava.base/java.util.zip.ZipFile$Source.initCEN(ZipFile.java:1504)     at\njava.base/java.util.zip.ZipFile$Source.(ZipFile.java:1308)  at\njava.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1271)     at\njava.base/java.util.zip.ZipFile$CleanableResource.(ZipFile.java:733)\nat\njava.base/java.util.zip.ZipFile$CleanableResource.get(ZipFile.java:850)\nat java.base/java.util.zip.ZipFile.(ZipFile.java:248)     at\njava.base/java.util.zip.ZipFile.(ZipFile.java:177)  at\njava.base/java.util.jar.JarFile.(JarFile.java:350)  at\njava.base/java.util.jar.JarFile.(JarFile.java:321)  at\njava.base/java.util.jar.JarFile.(JarFile.java:274)  at\nnet.sourceforge.jnlp.util.JarFile.(JarFile.java:60)     at\nnet.sourceforge.jnlp.tools.JarCertVerifier.verifyJar(JarCertVerifier.java:275)\nat\nnet.sourceforge.jnlp.tools.JarCertVerifier.verifyJars(JarCertVerifier.java:245)\nat\nnet.sourceforge.jnlp.tools.JarCertVerifier.add(JarCertVerifier.java:211)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.initializeResources(JNLPClassLoader.java:732)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.(JNLPClassLoader.java:338)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.createInstance(JNLPClassLoader.java:421)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:495)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:468)\nat net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:814)\nat net.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:531)\nat net.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:945)</p>\n<p>netx: Initialization Error: Could not initialize application. (Fatal:\nInitialization Error: A fatal error occurred while trying to verify\njars. An exception has been thrown in class JarCertVerifier. Being\nunable to read the cacerts or trusted.certs files could be a possible\ncause for this exception.: zip END header not found)\nnet.sourceforge.jnlp.LaunchException: Fatal: Initialization Error:\nCould not initialize application. The application has not been\ninitialized, for more information execute javaws from the command\nline.     at\nnet.sourceforge.jnlp.Launcher.createApplication(Launcher.java:822)    at\nnet.sourceforge.jnlp.Launcher.launchApplication(Launcher.java:531)    at\nnet.sourceforge.jnlp.Launcher$TgThread.run(Launcher.java:945) Caused\nby: net.sourceforge.jnlp.LaunchException: Fatal: Initialization Error:\nA fatal error occurred while trying to verify jars. An exception has\nbeen thrown in class JarCertVerifier. Being unable to read the cacerts\nor trusted.certs files could be a possible cause for this exception.:\nzip END header not found  at\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.initializeResources(JNLPClassLoader.java:739)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.(JNLPClassLoader.java:338)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.createInstance(JNLPClassLoader.java:421)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:495)\nat\nnet.sourceforge.jnlp.runtime.JNLPClassLoader.getInstance(JNLPClassLoader.java:468)\nat net.sourceforge.jnlp.Launcher.createApplication(Launcher.java:814)\n... 2 more</p>\n</blockquote>\n<p>My PC is running under Linux Mint 20.\nThe ouput of my java version:</p>\n<pre><code>java --version \nopenjdk 11.0.16 2022-07-19\nOpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu120.04)\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu120.04, mixed mode, sharing)\n</code></pre>\n<p>Doing <code>javaws --viewer</code> I have import my CA Certificate</p>\n"},{"tags":["java","intellij-idea","yaml","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651152139,"creation_date":1650980907,"answer_id":72015120,"question_id":72013986,"body_markdown":"I think you are confusing `spring.profiles.active` (which is not deprecated https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.profiles.active) with `spring.profiles` in a yaml document within the yaml file.\r\n\r\n```yaml\r\nspring:\r\n  profiles:\r\n    active: dev\r\n---\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: dev\r\n  kafka:\r\n    template:\r\n      default-topic: devTopic\r\n...\r\n---\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: prod\r\n  kafka:\r\n    template:\r\n      default-topic: prodTopic\r\n...\r\n```\r\n\r\nVs.\r\n\r\n```yaml\r\nspring:\r\n  profiles:\r\n    active: local\r\n---\r\nspring:\r\n  profiles: dev # deprecated\r\n  kafka:\r\n    template:\r\n      default-topic: devTopic\r\n...\r\n---\r\nspring:\r\n  profiles: prod # deprecated\r\n  kafka:\r\n    template:\r\n      default-topic: prodTopic\r\n...\r\n```\r\nIntelliJ IDEA:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FJkNZ.png","title":"Profiles property is deprecated is properties.yml for Spring-Kafka","body":"<p>I think you are confusing <code>spring.profiles.active</code> (which is not deprecated <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.profiles.active\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.core.spring.profiles.active</a>) with <code>spring.profiles</code> in a yaml document within the yaml file.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  profiles:\n    active: dev\n---\nspring:\n  config:\n    activate:\n      on-profile: dev\n  kafka:\n    template:\n      default-topic: devTopic\n...\n---\nspring:\n  config:\n    activate:\n      on-profile: prod\n  kafka:\n    template:\n      default-topic: prodTopic\n...\n</code></pre>\n<p>Vs.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  profiles:\n    active: local\n---\nspring:\n  profiles: dev # deprecated\n  kafka:\n    template:\n      default-topic: devTopic\n...\n---\nspring:\n  profiles: prod # deprecated\n  kafka:\n    template:\n      default-topic: prodTopic\n...\n</code></pre>\n<p>IntelliJ IDEA:</p>\n<p><a href=\"https://i.stack.imgur.com/FJkNZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FJkNZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11179248,"reputation":11890,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651414822,"creation_date":1651414822,"answer_id":72077527,"question_id":72013986,"body_markdown":"This is a false-positive deprecation warning. This will be fixed in 2022.1.1 version of IntelliJ IDEA. See https://youtrack.jetbrains.com/issue/IDEA-291799/Spring-Boot:-false-positive-deprecation-mark-in-YAML-for-&#39;spring","title":"Profiles property is deprecated is properties.yml for Spring-Kafka","body":"<p>This is a false-positive deprecation warning. This will be fixed in 2022.1.1 version of IntelliJ IDEA. See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-291799/Spring-Boot:-false-positive-deprecation-mark-in-YAML-for-%27spring\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-291799/Spring-Boot:-false-positive-deprecation-mark-in-YAML-for-'spring</a></p>\n"},{"tags":[],"owner":{"account_id":19908331,"reputation":23,"user_id":14586857,"display_name":"engineerdavut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667307511,"creation_date":1667307511,"answer_id":74276333,"question_id":72013986,"body_markdown":"You need to change the filename. Edit properties name to application. So,\r\nproperties.yml -&gt;refactor-&gt;rename-&gt;application.yml","title":"Profiles property is deprecated is properties.yml for Spring-Kafka","body":"<p>You need to change the filename. Edit properties name to application. So,\nproperties.yml -&gt;refactor-&gt;rename-&gt;application.yml</p>\n"}],"owner":{"account_id":10763711,"reputation":323,"user_id":7919401,"display_name":"Ilan Miller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4131,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1667307511,"creation_date":1650976151,"question_id":72013986,"body_markdown":"[![enter image description here][1]][1]I&#39;m configuring the application.yml file in my Spring Kafka MS\r\nand I&#39;m getting a notification that the profiles property is deprecated.\r\nThis &#39;profiles&#39; property is deprecated\r\n\r\n    spring:\r\n      profiles:\r\n        active: docker\r\n    ---\r\n\r\nThe suggested solution is to use this syntax:\r\n\r\n    spring:\r\n      config:\r\n        activate:\r\n          on-profile: docker\r\n    ---\r\n\r\nBut in the log, i can see that &#39;No active profile set:\r\n\r\nI&#39;m using Java 11 with Spring 2.6.2\r\nIDEA: IntelliJ 2022.1 (Ultimate Edition)\r\n\r\n\r\n     : No active profile set, falling back to default profiles: default\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LyXEo.png","title":"Profiles property is deprecated is properties.yml for Spring-Kafka","body":"<p><a href=\"https://i.stack.imgur.com/LyXEo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LyXEo.png\" alt=\"enter image description here\" /></a>I'm configuring the application.yml file in my Spring Kafka MS\nand I'm getting a notification that the profiles property is deprecated.\nThis 'profiles' property is deprecated</p>\n<pre><code>spring:\n  profiles:\n    active: docker\n---\n</code></pre>\n<p>The suggested solution is to use this syntax:</p>\n<pre><code>spring:\n  config:\n    activate:\n      on-profile: docker\n---\n</code></pre>\n<p>But in the log, i can see that 'No active profile set:</p>\n<p>I'm using Java 11 with Spring 2.6.2\nIDEA: IntelliJ 2022.1 (Ultimate Edition)</p>\n<pre><code> : No active profile set, falling back to default profiles: default\n</code></pre>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1667306368,"post_id":74275986,"comment_id":131132686,"body_markdown":"And what exactly is your question here?","body":"And what exactly is your question here?"},{"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"score":0,"creation_date":1667306696,"post_id":74275986,"comment_id":131132786,"body_markdown":"I was trying to find if multiple &#39;from&#39; email address is valid when sending emails using java APIs","body":"I was trying to find if multiple &#39;from&#39; email address is valid when sending emails using java APIs"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1667306924,"post_id":74275986,"comment_id":131132864,"body_markdown":"Is there something preventing you from trying it and seeing what happens? [SMTP seems to support it](https://serverfault.com/questions/554520/smtp-allows-for-multiple-from-addresses-in-the-rfc-was-this-ever-useful-why-do)","body":"Is there something preventing you from trying it and seeing what happens? <a href=\"https://serverfault.com/questions/554520/smtp-allows-for-multiple-from-addresses-in-the-rfc-was-this-ever-useful-why-do\">SMTP seems to support it</a>"},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1667307193,"post_id":74275986,"comment_id":131132956,"body_markdown":"It sounds like the concept itself [should be supported](https://serverfault.com/q/554520), though it&#39;s certainly a use case I&#39;ve *never* seen or used.  If you have to rely on it, test it to make sure it works.  Though it sounds like using this in your system was the result of a bug that should be corrected anyway, so this could be a moot point entirely.","body":"It sounds like the concept itself <a href=\"https://serverfault.com/q/554520\">should be supported</a>, though it&#39;s certainly a use case I&#39;ve <i>never</i> seen or used.  If you have to rely on it, test it to make sure it works.  Though it sounds like using this in your system was the result of a bug that should be corrected anyway, so this could be a moot point entirely."},{"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"score":0,"creation_date":1667307221,"post_id":74275986,"comment_id":131132970,"body_markdown":"I do not see any exceptions.  I was trying to find out if multiple &#39;from&#39; email address could cause a problem with the email server sending the email or at the recipient&#39;s end.  I can perhaps write code to verify what happens.","body":"I do not see any exceptions.  I was trying to find out if multiple &#39;from&#39; email address could cause a problem with the email server sending the email or at the recipient&#39;s end.  I can perhaps write code to verify what happens."},{"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"score":0,"creation_date":1667307362,"post_id":74275986,"comment_id":131133023,"body_markdown":"@David It is eventually a bug that is to be corrected but this is deployed to production environment.  I was just trying to find out if this could cause a problem.","body":"@David It is eventually a bug that is to be corrected but this is deployed to production environment.  I was just trying to find out if this could cause a problem."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1667307448,"post_id":74275986,"comment_id":131133058,"body_markdown":"@user2125853 &quot;*I was trying to find out if multiple &#39;from&#39; email address could cause a problem with the email server*&quot; Without knowing the precise vendor and version, no one can answer this. Yours might be non-compliant with the spec.","body":"@user2125853 &quot;<i>I was trying to find out if multiple &#39;from&#39; email address could cause a problem with the email server</i>&quot; Without knowing the precise vendor and version, no one can answer this. Yours might be non-compliant with the spec."},{"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"score":0,"creation_date":1667309675,"post_id":74275986,"comment_id":131133908,"body_markdown":"You are correct the email does not go if the &#39;from&#39; has multiple email addresses.","body":"You are correct the email does not go if the &#39;from&#39; has multiple email addresses."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667307383,"creation_date":1667307383,"answer_id":74276304,"question_id":74275986,"body_markdown":"The constructor `InternetAddress(String)` should throw an exception, if parsing the given string does not precisely return a single, valid email-address. So, I&#39;ll assume that your given &quot;from&quot; parameter is parsed into a single e-mail-address which is wrong in any case.\r\n\r\nAccording to [RFC822][1], the FROM field of an email must only contain a single &quot;identity&quot;\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc822#section-4.4","title":"Is it a problem when sending email where the &#39;from address&#39; has multiple emails?","body":"<p>The constructor <code>InternetAddress(String)</code> should throw an exception, if parsing the given string does not precisely return a single, valid email-address. So, I'll assume that your given &quot;from&quot; parameter is parsed into a single e-mail-address which is wrong in any case.</p>\n<p>According to <a href=\"https://datatracker.ietf.org/doc/html/rfc822#section-4.4\" rel=\"nofollow noreferrer\">RFC822</a>, the FROM field of an email must only contain a single &quot;identity&quot;</p>\n"}],"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74276304,"answer_count":1,"score":0,"last_activity_date":1667307383,"creation_date":1667305832,"question_id":74275986,"body_markdown":"I am sending emails using javax mail APIs in a batch process. Due to an error in configuration the &#39;from&#39; address got set to multiple comma separated email addresses.\r\n\r\nThe code snippet is like the following:\r\n\r\n    MimeMessage msg = new MimeMessage (mailSession);\r\n    ...\r\n    msg.setFrom(new InternetAddress(from));\r\n\r\nI did not get exceptions but I am not sure if the emails were sent correctly; and if they were sent whether they would end up in recipient&#39;s spam.  \r\n\r\nIs it valid to send emails using java APIs where &#39;from&#39; email address has multiple values?\r\n\r\n","title":"Is it a problem when sending email where the &#39;from address&#39; has multiple emails?","body":"<p>I am sending emails using javax mail APIs in a batch process. Due to an error in configuration the 'from' address got set to multiple comma separated email addresses.</p>\n<p>The code snippet is like the following:</p>\n<pre><code>MimeMessage msg = new MimeMessage (mailSession);\n...\nmsg.setFrom(new InternetAddress(from));\n</code></pre>\n<p>I did not get exceptions but I am not sure if the emails were sent correctly; and if they were sent whether they would end up in recipient's spam.</p>\n<p>Is it valid to send emails using java APIs where 'from' email address has multiple values?</p>\n"},{"tags":["java","javafx","properties"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667302894,"post_id":74273015,"comment_id":131131600,"body_markdown":"If you keep the list of neighbors in an `ObservableList`, you can bind your `DoubleProperty` to that list. The binding will be invalidated any time anything is added to or removed from the list. This should essentially avoid the issue (or at least make it clean to solve).","body":"If you keep the list of neighbors in an <code>ObservableList</code>, you can bind your <code>DoubleProperty</code> to that list. The binding will be invalidated any time anything is added to or removed from the list. This should essentially avoid the issue (or at least make it clean to solve)."}],"answers":[{"tags":[],"owner":{"account_id":26746510,"reputation":1,"user_id":20346502,"display_name":"Joel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667307336,"creation_date":1667292104,"answer_id":74273392,"question_id":74273015,"body_markdown":"You could write your own implementation of a DoubleBinding that offers the method and behaviour you want. \r\n\r\n\r\n    class MuatableDependenciesDoubleBinding extends DoubleBinding {\r\n    \r\n      private Callable&lt;Double&gt; func;\r\n      private Observable[] dependencies;\r\n    \r\n      public MuatableDependenciesDoubleBinding (Callable&lt;Double&gt; func, Observable... dependencies) {\r\n        this.func = func;\r\n        this.dependencies = dependencies;\r\n        bind (dependencies);\r\n      }\r\n    \r\n      @Override \r\n      protected double computeValue() {\r\n        try {\r\n          return func.call();\r\n        } catch(Exception e) {\r\n          Logging.getLogger().warning(&quot;Exception while evaluating binding&quot;, e);\r\n          return 0.0;\r\n        }\r\n      }\r\n    \r\n      @Override \r\n      public void dispose() {\r\n        super.unbind(dependencies);\r\n      }\r\n    \r\n      @Override\r\n      public ObeservableList&lt;?&gt; getDependencies() {\r\n          return ((dependencies == null) || (dependencies.length == 0)) ? \r\n            FXCollection.emptyObservableList() : (dependencies.length == 1) ? \r\n            FXCollections.singeltonObservableList(dependencies[0]) \r\n            : new ImmutableObservableList&lt;Observable&gt;(dependencies);\r\n      }\r\n \r\n      public void updateDependencies(Observable... dependencies) {\r\n        dispose();\r\n        this.dependencies = dependencies;\r\n        bind(dependencies);\r\n      }\r\n    \r\n    }\r\n\r\nMaybe something like that. (I have not tested the code)","title":"Is it possible in JavaFX to modify the dependencies of a binding after it&#39;s created?","body":"<p>You could write your own implementation of a DoubleBinding that offers the method and behaviour you want.</p>\n<pre><code>class MuatableDependenciesDoubleBinding extends DoubleBinding {\n\n  private Callable&lt;Double&gt; func;\n  private Observable[] dependencies;\n\n  public MuatableDependenciesDoubleBinding (Callable&lt;Double&gt; func, Observable... dependencies) {\n    this.func = func;\n    this.dependencies = dependencies;\n    bind (dependencies);\n  }\n\n  @Override \n  protected double computeValue() {\n    try {\n      return func.call();\n    } catch(Exception e) {\n      Logging.getLogger().warning(&quot;Exception while evaluating binding&quot;, e);\n      return 0.0;\n    }\n  }\n\n  @Override \n  public void dispose() {\n    super.unbind(dependencies);\n  }\n\n  @Override\n  public ObeservableList&lt;?&gt; getDependencies() {\n      return ((dependencies == null) || (dependencies.length == 0)) ? \n        FXCollection.emptyObservableList() : (dependencies.length == 1) ? \n        FXCollections.singeltonObservableList(dependencies[0]) \n        : new ImmutableObservableList&lt;Observable&gt;(dependencies);\n  }\n\n  public void updateDependencies(Observable... dependencies) {\n    dispose();\n    this.dependencies = dependencies;\n    bind(dependencies);\n  }\n\n}\n</code></pre>\n<p>Maybe something like that. (I have not tested the code)</p>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1667307154,"creation_date":1667303493,"answer_id":74275486,"question_id":74273015,"body_markdown":"You can bind your `DoubleProperty` to an `ObservableList` containing the neighbor nodes. This way the binding will be invalidated if anything is added to or removed from the list. Here&#39;s a very quick demo of the idea:\r\n\r\n    import javafx.beans.binding.Bindings;\r\n    import javafx.beans.property.IntegerProperty;\r\n    import javafx.beans.property.SimpleIntegerProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    \r\n    public class BindingDemo {\r\n    \r\n        public static void main(String[] args) {\r\n            ObservableList&lt;GraphNode&gt; neighbors = FXCollections.observableArrayList();\r\n            IntegerProperty total = new SimpleIntegerProperty();\r\n            total.bind(Bindings.createIntegerBinding(\r\n                    () -&gt; sum(neighbors),\r\n                    neighbors\r\n            ));\r\n            total.addListener((obs, oldTotal, newTotal) -&gt; \r\n                    System.out.println(&quot;Total = &quot;+newTotal));\r\n            for (int i = 1 ; i &lt;= 5 ; i++) {\r\n                System.out.println(&quot;Adding node with value &quot;+i+&quot;:&quot;);\r\n                neighbors.add(new GraphNode(i));\r\n            }\r\n        }\r\n    \r\n        private static int sum(ObservableList&lt;GraphNode&gt; nodes) {\r\n            int total = 0 ;\r\n            for (GraphNode node : nodes) {\r\n                total += node.value();\r\n            }\r\n            return total ;\r\n        }\r\n    \r\n        public static record GraphNode(int value){}\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language:lang-none --&gt;\r\n\r\n    Adding node with value 1:\r\n    Total = 1\r\n    Adding node with value 2:\r\n    Total = 3\r\n    Adding node with value 3:\r\n    Total = 6\r\n    Adding node with value 4:\r\n    Total = 10\r\n    Adding node with value 5:\r\n    Total = 15\r\n\r\nTechnically, this doesn&#39;t really avoid your &quot;without defining my own binding&quot; requirement, but the [`Bindings.createXXXBinding(...)` API](https://openjfx.io/javadoc/19/javafx.base/javafx/beans/binding/Bindings.html#createDoubleBinding(java.util.concurrent.Callable,javafx.beans.Observable...)) makes it pretty clean to do so.","title":"Is it possible in JavaFX to modify the dependencies of a binding after it&#39;s created?","body":"<p>You can bind your <code>DoubleProperty</code> to an <code>ObservableList</code> containing the neighbor nodes. This way the binding will be invalidated if anything is added to or removed from the list. Here's a very quick demo of the idea:</p>\n<pre><code>import javafx.beans.binding.Bindings;\nimport javafx.beans.property.IntegerProperty;\nimport javafx.beans.property.SimpleIntegerProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\n\npublic class BindingDemo {\n\n    public static void main(String[] args) {\n        ObservableList&lt;GraphNode&gt; neighbors = FXCollections.observableArrayList();\n        IntegerProperty total = new SimpleIntegerProperty();\n        total.bind(Bindings.createIntegerBinding(\n                () -&gt; sum(neighbors),\n                neighbors\n        ));\n        total.addListener((obs, oldTotal, newTotal) -&gt; \n                System.out.println(&quot;Total = &quot;+newTotal));\n        for (int i = 1 ; i &lt;= 5 ; i++) {\n            System.out.println(&quot;Adding node with value &quot;+i+&quot;:&quot;);\n            neighbors.add(new GraphNode(i));\n        }\n    }\n\n    private static int sum(ObservableList&lt;GraphNode&gt; nodes) {\n        int total = 0 ;\n        for (GraphNode node : nodes) {\n            total += node.value();\n        }\n        return total ;\n    }\n\n    public static record GraphNode(int value){}\n}\n</code></pre>\n<p>Output:</p>\n\n<pre><code>Adding node with value 1:\nTotal = 1\nAdding node with value 2:\nTotal = 3\nAdding node with value 3:\nTotal = 6\nAdding node with value 4:\nTotal = 10\nAdding node with value 5:\nTotal = 15\n</code></pre>\n<p>Technically, this doesn't really avoid your &quot;without defining my own binding&quot; requirement, but the <a href=\"https://openjfx.io/javadoc/19/javafx.base/javafx/beans/binding/Bindings.html#createDoubleBinding(java.util.concurrent.Callable,javafx.beans.Observable...)\" rel=\"noreferrer\"><code>Bindings.createXXXBinding(...)</code> API</a> makes it pretty clean to do so.</p>\n"}],"owner":{"account_id":19662150,"reputation":55,"user_id":14393370,"display_name":"CirF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74275486,"answer_count":2,"score":4,"last_activity_date":1667307336,"creation_date":1667289577,"question_id":74273015,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\nMy question arose when implementing some sorts of graph visualization with JavaFX. There are 2 classes called `Vertex` and `Edge`, with each edge connecting 2 (possibly the same) vertices. Every vertex that has self-loops (edges having the same start and end vertices) stores a `DoubleProperty` for the preferred angle of its self-loops. This angle is computed from the the positions of this vertex and all its neighbors. However, as the graph is constructed dynamically, neighbors of a vertex may change, resulting in a dynamic list of dependencies, so I have to modify the dependendies of the `DoubleBinding` to which the angle is bound.\r\n\r\nHowever, the `getDependencies` method in the `DoubleBinding` created by `Bindings.createDoubleBinding` only returns an immutable copy:\r\n```\r\n@Override\r\npublic ObservableList&lt;?&gt; getDependencies() {\r\n    return  ((dependencies == null) || (dependencies.length == 0))?\r\n                FXCollections.emptyObservableList()\r\n            : (dependencies.length == 1)?\r\n                FXCollections.singletonObservableList(dependencies[0])\r\n            : new ImmutableObservableList&lt;Observable&gt;(dependencies);\r\n}\r\n```\r\n\r\nAnd although the `DoubleBinding` class has an `bind` method that seems to satisfy my need, it is protected:\r\n```\r\nprotected final void bind(Observable... dependencies) {\r\n    if ((dependencies != null) &amp;&amp; (dependencies.length &gt; 0)) {\r\n        if (observer == null) {\r\n            observer = new BindingHelperObserver(this);\r\n        }\r\n        for (final Observable dep : dependencies) {\r\n            dep.addListener(observer);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo is there any way that I can modify the dependencies at any time without defining my own `DoubleBinding`, or can I solve my problem without touching the dependencies?","title":"Is it possible in JavaFX to modify the dependencies of a binding after it&#39;s created?","body":"\n<p>My question arose when implementing some sorts of graph visualization with JavaFX. There are 2 classes called <code>Vertex</code> and <code>Edge</code>, with each edge connecting 2 (possibly the same) vertices. Every vertex that has self-loops (edges having the same start and end vertices) stores a <code>DoubleProperty</code> for the preferred angle of its self-loops. This angle is computed from the the positions of this vertex and all its neighbors. However, as the graph is constructed dynamically, neighbors of a vertex may change, resulting in a dynamic list of dependencies, so I have to modify the dependendies of the <code>DoubleBinding</code> to which the angle is bound.</p>\n<p>However, the <code>getDependencies</code> method in the <code>DoubleBinding</code> created by <code>Bindings.createDoubleBinding</code> only returns an immutable copy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic ObservableList&lt;?&gt; getDependencies() {\n    return  ((dependencies == null) || (dependencies.length == 0))?\n                FXCollections.emptyObservableList()\n            : (dependencies.length == 1)?\n                FXCollections.singletonObservableList(dependencies[0])\n            : new ImmutableObservableList&lt;Observable&gt;(dependencies);\n}\n</code></pre>\n<p>And although the <code>DoubleBinding</code> class has an <code>bind</code> method that seems to satisfy my need, it is protected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected final void bind(Observable... dependencies) {\n    if ((dependencies != null) &amp;&amp; (dependencies.length &gt; 0)) {\n        if (observer == null) {\n            observer = new BindingHelperObserver(this);\n        }\n        for (final Observable dep : dependencies) {\n            dep.addListener(observer);\n        }\n    }\n}\n</code></pre>\n<p>So is there any way that I can modify the dependencies at any time without defining my own <code>DoubleBinding</code>, or can I solve my problem without touching the dependencies?</p>\n"},{"tags":["java","joptionpane","compiler-version"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1667316469,"post_id":74276273,"comment_id":131136411,"body_markdown":"Is this all components or just JOptionPane. Looks to me like the resolution of your monitor has changed or the scaling factor is different. If it is a scaling issue check out point 1/2 of: https://stackoverflow.com/a/65742492/131872","body":"Is this all components or just JOptionPane. Looks to me like the resolution of your monitor has changed or the scaling factor is different. If it is a scaling issue check out point 1/2 of: <a href=\"https://stackoverflow.com/a/65742492/131872\">stackoverflow.com/a/65742492/131872</a>"},{"owner":{"account_id":26102044,"reputation":1,"user_id":19797326,"display_name":"Matanya Malca"},"score":0,"creation_date":1667552788,"post_id":74276273,"comment_id":131197814,"body_markdown":"This is just a simple JOptionPane (the entire code can be seen in the images). I run the same code using both compilers without changing any other settings or resolution.\nAlso I tried your fix, but it didn&#39;t change the output.","body":"This is just a simple JOptionPane (the entire code can be seen in the images). I run the same code using both compilers without changing any other settings or resolution. Also I tried your fix, but it didn&#39;t change the output."}],"owner":{"account_id":26102044,"reputation":1,"user_id":19797326,"display_name":"Matanya Malca"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667307285,"creation_date":1667307224,"question_id":74276273,"body_markdown":"I created a simple dialog box using JOptionPane but when I run it with Java 8 the dialog box is extremely small, however when running with Java 18 the size is reasonably normal.\r\nWhy is there a differance between those versions and how to fix the program so it would run in Java 8 similar to what I got in Java 18.\r\n\r\nOutput of Java 18:\r\n[![output of Java 18](https://i.stack.imgur.com/9EECd.png)](https://i.stack.imgur.com/9EECd.png)\r\n\r\nOutput of Java 8:\r\n[![output of Java 8](https://i.stack.imgur.com/Lxu4m.png)](https://i.stack.imgur.com/Lxu4m.png)\r\n\r\nI tried to change the text size with method UIManager.put(&quot;OptionPane.messageFont&quot;,...) but that changes only the text and didn&#39;t affect the size of other components (buttons, icons, etc.).\r\nI can&#39;t find the right command to simply &quot;enlarge&quot; the dialog box. Also I read through the API of JOptionPane but didn&#39;t find a reason for that diffarence.\r\n","title":"Size differance of JOptionPane dialog box between java versions","body":"<p>I created a simple dialog box using JOptionPane but when I run it with Java 8 the dialog box is extremely small, however when running with Java 18 the size is reasonably normal.\nWhy is there a differance between those versions and how to fix the program so it would run in Java 8 similar to what I got in Java 18.</p>\n<p>Output of Java 18:\n<a href=\"https://i.stack.imgur.com/9EECd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9EECd.png\" alt=\"output of Java 18\" /></a></p>\n<p>Output of Java 8:\n<a href=\"https://i.stack.imgur.com/Lxu4m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lxu4m.png\" alt=\"output of Java 8\" /></a></p>\n<p>I tried to change the text size with method UIManager.put(&quot;OptionPane.messageFont&quot;,...) but that changes only the text and didn't affect the size of other components (buttons, icons, etc.).\nI can't find the right command to simply &quot;enlarge&quot; the dialog box. Also I read through the API of JOptionPane but didn't find a reason for that diffarence.</p>\n"},{"tags":["java","jackson","mapping","pojo"],"comments":[{"owner":{"account_id":15561237,"reputation":1596,"user_id":11226302,"display_name":"Shivam Puri"},"score":0,"creation_date":1667238767,"post_id":74267249,"comment_id":131118468,"body_markdown":"It would be good to explain in detail what you are trying to achieve this. Please share your code.","body":"It would be good to explain in detail what you are trying to achieve this. Please share your code."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667307265,"creation_date":1667240272,"answer_id":74267579,"question_id":74267249,"body_markdown":"That&#39;s not a job for Jackson&#39;s data-binding annotations.\r\n\r\nIt seems like you rather need to introduce [Bean Validation](https://beanvalidation.org/news/2017/08/07/bean-validation-2-0-is-a-spec/) into your project, which provides various annotations validating values of your POJOs like [`@Min`](https://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/Min.html), [`@Max`](https://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/Max.html), etc.\r\n\r\nUsage example:\r\n\r\n    public class Word {\r\n        private String text;\r\n\r\n        @Min(3)\r\n        private int min;\r\n\r\n        @Max(10)\r\n        private int max;\r\n    }\r\n\r\nIf you&#39;re using Spring Boot, then yyou can add the following Maven starter-dependency :\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAlternativelly you can go to [Spring Initialer](https://start.spring.io/) and generate dependencies for your build-tool (Maven or Gradle), peak the `Validation` dependency.\r\n\r\nOtherwise (if you&#39;re not using Spring), see [here](https://www.baeldung.com/javax-validation) how to Hibernate Validator (which is the reference implementation of the Bean Validation specification) to your project.","title":"Count min max occurrences in array of elements from JSON to POJO","body":"<p>That's not a job for Jackson's data-binding annotations.</p>\n<p>It seems like you rather need to introduce <a href=\"https://beanvalidation.org/news/2017/08/07/bean-validation-2-0-is-a-spec/\" rel=\"nofollow noreferrer\">Bean Validation</a> into your project, which provides various annotations validating values of your POJOs like <a href=\"https://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/Min.html\" rel=\"nofollow noreferrer\"><code>@Min</code></a>, <a href=\"https://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/Max.html\" rel=\"nofollow noreferrer\"><code>@Max</code></a>, etc.</p>\n<p>Usage example:</p>\n<pre><code>public class Word {\n    private String text;\n\n    @Min(3)\n    private int min;\n\n    @Max(10)\n    private int max;\n}\n</code></pre>\n<p>If you're using Spring Boot, then yyou can add the following Maven starter-dependency :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Alternativelly you can go to <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring Initialer</a> and generate dependencies for your build-tool (Maven or Gradle), peak the <code>Validation</code> dependency.</p>\n<p>Otherwise (if you're not using Spring), see <a href=\"https://www.baeldung.com/javax-validation\" rel=\"nofollow noreferrer\">here</a> how to Hibernate Validator (which is the reference implementation of the Bean Validation specification) to your project.</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667273110,"creation_date":1667273110,"answer_id":74271222,"question_id":74267249,"body_markdown":"Use library _Josson_ to transform the JSON first.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    public class Word {\r\n        private String text;\r\n        private Integer min;\r\n        private Integer max;\r\n\r\n        public void setText(String text) {\r\n            this.text = text;\r\n        }\r\n\r\n        public void setMin(Integer min) {\r\n            this.min = min;\r\n        }\r\n\r\n        public void setMax(Integer max) {\r\n            this.max = max;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;text=%s min=%d max=%d&quot;, text, min, max);\r\n        }\r\n    }\r\n\r\n__Deserialize &amp; Transform__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;[&quot; +\r\n        &quot;  [&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;china\\&quot;, \\&quot;count\\&quot;: 0},&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;kids\\&quot;, \\&quot;count\\&quot;: 1},&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;music\\&quot;, \\&quot;count\\&quot;: 0}&quot; +\r\n        &quot;  ],&quot; +\r\n        &quot;  [&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;china\\&quot;, \\&quot;count\\&quot;: 3},&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;kids\\&quot;, \\&quot;count\\&quot;: 0},&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;music\\&quot;, \\&quot;count\\&quot;: 2}&quot; +\r\n        &quot;  ],&quot; +\r\n        &quot;  [&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;china\\&quot;, \\&quot;count\\&quot;: 10},&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;kids\\&quot;, \\&quot;count\\&quot;: 3},&quot; +\r\n        &quot;    {\\&quot;word\\&quot;: \\&quot;music\\&quot;, \\&quot;count\\&quot;: 2}&quot; +\r\n        &quot;  ]&quot; +\r\n        &quot;]&quot;);\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;flatten()&quot; +\r\n        &quot;.group(word)&quot; +\r\n        &quot;.map(text:word, min:elements.min(count), max:elements.max(count))&quot;);\r\n\r\n    List&lt;Word&gt; words = new ObjectMapper().convertValue(node, new TypeReference&lt;List&lt;Word&gt;&gt;() {});\r\n    words.forEach(System.out::println);\r\n\r\n__Output__\r\n\r\n    text=china min=0 max=10\r\n    text=kids min=0 max=3\r\n    text=music min=0 max=2\r\n","title":"Count min max occurrences in array of elements from JSON to POJO","body":"<p>Use library <em>Josson</em> to transform the JSON first.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>public class Word {\n    private String text;\n    private Integer min;\n    private Integer max;\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n    public void setMin(Integer min) {\n        this.min = min;\n    }\n\n    public void setMax(Integer max) {\n        this.max = max;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;text=%s min=%d max=%d&quot;, text, min, max);\n    }\n}\n</code></pre>\n<p><strong>Deserialize &amp; Transform</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;[&quot; +\n    &quot;  [&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;china\\&quot;, \\&quot;count\\&quot;: 0},&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;kids\\&quot;, \\&quot;count\\&quot;: 1},&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;music\\&quot;, \\&quot;count\\&quot;: 0}&quot; +\n    &quot;  ],&quot; +\n    &quot;  [&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;china\\&quot;, \\&quot;count\\&quot;: 3},&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;kids\\&quot;, \\&quot;count\\&quot;: 0},&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;music\\&quot;, \\&quot;count\\&quot;: 2}&quot; +\n    &quot;  ],&quot; +\n    &quot;  [&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;china\\&quot;, \\&quot;count\\&quot;: 10},&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;kids\\&quot;, \\&quot;count\\&quot;: 3},&quot; +\n    &quot;    {\\&quot;word\\&quot;: \\&quot;music\\&quot;, \\&quot;count\\&quot;: 2}&quot; +\n    &quot;  ]&quot; +\n    &quot;]&quot;);\n\nJsonNode node = josson.getNode(\n    &quot;flatten()&quot; +\n    &quot;.group(word)&quot; +\n    &quot;.map(text:word, min:elements.min(count), max:elements.max(count))&quot;);\n\nList&lt;Word&gt; words = new ObjectMapper().convertValue(node, new TypeReference&lt;List&lt;Word&gt;&gt;() {});\nwords.forEach(System.out::println);\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>text=china min=0 max=10\ntext=kids min=0 max=3\ntext=music min=0 max=2\n</code></pre>\n"}],"owner":{"account_id":17363457,"reputation":41,"user_id":12579181,"display_name":"Mattias T&#246;rnqvist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667307265,"creation_date":1667238491,"question_id":74267249,"body_markdown":"I&#39;m having a JSON-structure that looks like this:\r\n``` \r\n[\r\n  [\r\n    {\r\n      &quot;word&quot;: &quot;china&quot;,\r\n      &quot;count&quot;: 0\r\n    },\r\n    {\r\n      &quot;word&quot;: &quot;kids&quot;,\r\n      &quot;count&quot;: 1\r\n    },\r\n    {\r\n      &quot;word&quot;: &quot;music&quot;,\r\n      &quot;count&quot;: 0\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      &quot;word&quot;: &quot;china&quot;,\r\n      &quot;count&quot;: 3\r\n    },\r\n    {\r\n      &quot;word&quot;: &quot;kids&quot;,\r\n      &quot;count&quot;: 0\r\n    },\r\n    {\r\n      &quot;word&quot;: &quot;music&quot;,\r\n      &quot;count&quot;: 2\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      &quot;word&quot;: &quot;china&quot;,\r\n      &quot;count&quot;: 10\r\n    },\r\n    {\r\n      &quot;word&quot;: &quot;kids&quot;,\r\n      &quot;count&quot;: 3\r\n    },\r\n    {\r\n      &quot;word&quot;: &quot;music&quot;,\r\n      &quot;count&quot;: 2\r\n    }\r\n  ]\r\n]\r\n```\r\n\r\nI would like to convert this JSON to a plain old Java object which looks like this:\r\n```\r\npublic class Word {\r\n    private String text;\r\n    private Integer min;\r\n    private Integer max;\r\n}\r\n```\r\n\r\nI would like the &quot;**min**&quot; and &quot;**max**&quot; properties to represent the minimum and maximum occurrences of that specific word in all elements of the array.\r\n\r\nFor example, the maximum counts for the word &quot;china&quot; is 10 and the minimum is 0.\r\n\r\nI would like to accomplish something like this:\r\n```\r\n        word.text = &quot;china&quot;\r\n        word.min = 0;\r\n        word.max = 10;\r\n```\r\n\r\nI&#39;m quite new at Java and this is my first attempt to deserialize something a bit more complex. I&#39;ve been trying out different options using Jackson ObjectMapper, is this the way to go and how would I accomplish this?","title":"Count min max occurrences in array of elements from JSON to POJO","body":"<p>I'm having a JSON-structure that looks like this:</p>\n<pre><code>[\n  [\n    {\n      &quot;word&quot;: &quot;china&quot;,\n      &quot;count&quot;: 0\n    },\n    {\n      &quot;word&quot;: &quot;kids&quot;,\n      &quot;count&quot;: 1\n    },\n    {\n      &quot;word&quot;: &quot;music&quot;,\n      &quot;count&quot;: 0\n    }\n  ],\n  [\n    {\n      &quot;word&quot;: &quot;china&quot;,\n      &quot;count&quot;: 3\n    },\n    {\n      &quot;word&quot;: &quot;kids&quot;,\n      &quot;count&quot;: 0\n    },\n    {\n      &quot;word&quot;: &quot;music&quot;,\n      &quot;count&quot;: 2\n    }\n  ],\n  [\n    {\n      &quot;word&quot;: &quot;china&quot;,\n      &quot;count&quot;: 10\n    },\n    {\n      &quot;word&quot;: &quot;kids&quot;,\n      &quot;count&quot;: 3\n    },\n    {\n      &quot;word&quot;: &quot;music&quot;,\n      &quot;count&quot;: 2\n    }\n  ]\n]\n</code></pre>\n<p>I would like to convert this JSON to a plain old Java object which looks like this:</p>\n<pre><code>public class Word {\n    private String text;\n    private Integer min;\n    private Integer max;\n}\n</code></pre>\n<p>I would like the &quot;<strong>min</strong>&quot; and &quot;<strong>max</strong>&quot; properties to represent the minimum and maximum occurrences of that specific word in all elements of the array.</p>\n<p>For example, the maximum counts for the word &quot;china&quot; is 10 and the minimum is 0.</p>\n<p>I would like to accomplish something like this:</p>\n<pre><code>        word.text = &quot;china&quot;\n        word.min = 0;\n        word.max = 10;\n</code></pre>\n<p>I'm quite new at Java and this is my first attempt to deserialize something a bit more complex. I've been trying out different options using Jackson ObjectMapper, is this the way to go and how would I accomplish this?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667307037,"creation_date":1667307037,"answer_id":74276228,"question_id":74276227,"body_markdown":"We can use the below code for taking screenshots of charts as a bitmap and share them with other social media apps without storing them in storage. \r\n                  \r\n                    Bitmap bitmap = mChart.getChartBitmap();\r\n                    String bitmapPath = MediaStore.Images.Media.insertImage(getContentResolver(), bitmap, &quot;title&quot;, null);\r\n                    Uri bitmapUri = Uri.parse(bitmapPath);\r\n                    Intent intent = new Intent(Intent.ACTION_SEND);\r\n                    intent.setType(&quot;image/jpg&quot;);\r\n                    intent.putExtra(Intent.EXTRA_STREAM, bitmapUri);\r\n                    startActivity(Intent.createChooser(intent, &quot;Share&quot;));","title":"How to capture screenshot and share using Intent for BarChart Using PhilJay / MPAndroidChart","body":"<p>We can use the below code for taking screenshots of charts as a bitmap and share them with other social media apps without storing them in storage.</p>\n<pre><code>                Bitmap bitmap = mChart.getChartBitmap();\n                String bitmapPath = MediaStore.Images.Media.insertImage(getContentResolver(), bitmap, &quot;title&quot;, null);\n                Uri bitmapUri = Uri.parse(bitmapPath);\n                Intent intent = new Intent(Intent.ACTION_SEND);\n                intent.setType(&quot;image/jpg&quot;);\n                intent.putExtra(Intent.EXTRA_STREAM, bitmapUri);\n                startActivity(Intent.createChooser(intent, &quot;Share&quot;));\n</code></pre>\n"}],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667307037,"creation_date":1667307037,"question_id":74276227,"body_markdown":"I want to capture and share screenshots with other social media for BarChart in PhilJay / MPAndroidChart\r\n\r\n            &lt;com.github.mikephil.charting.charts.BarChart\r\n                    android:id=&quot;@+id/chart1&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot; /&gt;","title":"How to capture screenshot and share using Intent for BarChart Using PhilJay / MPAndroidChart","body":"<p>I want to capture and share screenshots with other social media for BarChart in PhilJay / MPAndroidChart</p>\n<pre><code>        &lt;com.github.mikephil.charting.charts.BarChart\n                android:id=&quot;@+id/chart1&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot; /&gt;\n</code></pre>\n"},{"tags":["java","web-services","soap","spring-ws"],"comments":[{"owner":{"account_id":133538,"reputation":9223,"user_id":334966,"accept_rate":89,"display_name":"mattalxndr"},"score":0,"creation_date":1460922794,"post_id":36496163,"comment_id":60952712,"body_markdown":"Did you ever fix this? If so, what was your solution?","body":"Did you ever fix this? If so, what was your solution?"}],"answers":[{"tags":[],"owner":{"account_id":2324143,"reputation":155,"user_id":2039040,"accept_rate":18,"display_name":"Neriyan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1460983573,"creation_date":1460983573,"answer_id":36694424,"question_id":36496163,"body_markdown":"I managed to resolve this issue by doing the following:\r\n\r\nCreate a subclass of HttpUrlConnectionMessageSender as follows:\r\n\r\n    public class WebServiceMessageSenderWithAuth extends HttpUrlConnectionMessageSender {\r\n    \t\r\n    \tString user;\r\n    \tString password;\r\n    \t\r\n    \tpublic WebServiceMessageSenderWithAuth(String user, String password) {\r\n    \t\tthis.user = user;\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \t protected void prepareConnection(HttpURLConnection connection) throws IOException { \r\n    \t\tBASE64Encoder enc = new BASE64Encoder(); \r\n    \t\tString userpassword = user+&quot;:&quot;+password;\r\n    \t\tString encodedAuthorization = enc.encode( userpassword.getBytes() ); \r\n    \t\tconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuthorization); \r\n    \t\tsuper.prepareConnection(connection); \r\n    \t} \r\n    \t\t\r\n    }\r\n\r\nMy client is defines as follows:\r\n\r\n    public class ObieeClient extends WebServiceGatewaySupport {\r\n    \t\r\n    \tprivate static final Logger log = LoggerFactory.getLogger(ObieeClient.class);\r\n    \t\r\n    \tpublic CallProcedureWithResultsResponse callProcedureWithResults(String procedureName, String webServiceURL){\r\n    \t\tCallProcedureWithResults request = new CallProcedureWithResults();\r\n    \t\trequest.setProcedureName(procedureName);\r\n    \t\tlog.info(&quot;Calling procedure &quot; + procedureName);\r\n    \t\t\r\n    \t\tCallProcedureWithResultsResponse response = (CallProcedureWithResultsResponse) ((JAXBElement) getWebServiceTemplate().marshalSendAndReceive(webServiceURL, request)).getValue();\r\n    \t\t\r\n    \t\treturn response;\r\n    \t}\r\n    }\r\n\r\nAnd finally the client is configured to use the credentials by setting the message sender:\r\n\r\n   \r\n\r\n         Jaxb2Marshaller marshaller = new Jaxb2Marshaller();    \t\tmarshaller.setContextPath(&quot;za.co.adaptit.smartdeployment.webservices.wsdl&quot;);\r\n                \t\r\n                \t//set up web service client\r\n                \tObieeClient client = new ObieeClient();\r\n                \tclient.setDefaultUri(host);\r\n                \tclient.setMarshaller(marshaller);\r\n                \tclient.setUnmarshaller(marshaller);\r\n                \tclient.setMessageSender(new WebServiceMessageSenderWithAuth(&quot;user&quot;, &quot;password&quot;));\r\n    \r\n    response = client.callProcedureWithResults(&quot;NQSModifyMetadata(&#39;&quot; + obieeObjectsXML +&quot;&#39;)&quot;, server.getHost());\r\n\r\nHope this helps.","title":"Consuming SOAP WS returns Error 401 unauthorized","body":"<p>I managed to resolve this issue by doing the following:</p>\n\n<p>Create a subclass of HttpUrlConnectionMessageSender as follows:</p>\n\n<pre><code>public class WebServiceMessageSenderWithAuth extends HttpUrlConnectionMessageSender {\n\n    String user;\n    String password;\n\n    public WebServiceMessageSenderWithAuth(String user, String password) {\n        this.user = user;\n        this.password = password;\n    }\n\n    @Override\n     protected void prepareConnection(HttpURLConnection connection) throws IOException { \n        BASE64Encoder enc = new BASE64Encoder(); \n        String userpassword = user+\":\"+password;\n        String encodedAuthorization = enc.encode( userpassword.getBytes() ); \n        connection.setRequestProperty(\"Authorization\", \"Basic \" + encodedAuthorization); \n        super.prepareConnection(connection); \n    } \n\n}\n</code></pre>\n\n<p>My client is defines as follows:</p>\n\n<pre><code>public class ObieeClient extends WebServiceGatewaySupport {\n\n    private static final Logger log = LoggerFactory.getLogger(ObieeClient.class);\n\n    public CallProcedureWithResultsResponse callProcedureWithResults(String procedureName, String webServiceURL){\n        CallProcedureWithResults request = new CallProcedureWithResults();\n        request.setProcedureName(procedureName);\n        log.info(\"Calling procedure \" + procedureName);\n\n        CallProcedureWithResultsResponse response = (CallProcedureWithResultsResponse) ((JAXBElement) getWebServiceTemplate().marshalSendAndReceive(webServiceURL, request)).getValue();\n\n        return response;\n    }\n}\n</code></pre>\n\n<p>And finally the client is configured to use the credentials by setting the message sender:</p>\n\n<pre><code>     Jaxb2Marshaller marshaller = new Jaxb2Marshaller();            marshaller.setContextPath(\"za.co.adaptit.smartdeployment.webservices.wsdl\");\n\n                //set up web service client\n                ObieeClient client = new ObieeClient();\n                client.setDefaultUri(host);\n                client.setMarshaller(marshaller);\n                client.setUnmarshaller(marshaller);\n                client.setMessageSender(new WebServiceMessageSenderWithAuth(\"user\", \"password\"));\n\nresponse = client.callProcedureWithResults(\"NQSModifyMetadata('\" + obieeObjectsXML +\"')\", server.getHost());\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1489310,"reputation":345,"user_id":1396815,"accept_rate":67,"display_name":"aalmero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474466857,"creation_date":1474466857,"answer_id":39618951,"question_id":36496163,"body_markdown":"I run into the same issue and managed to resolved by defining a MessageSender with Credentials and then setting it to the client.  I didn&#39;t have to create a custom MessageSender.\r\n\r\n\t@Bean\r\n\tpublic WebServiceMessageSender messageSender(Credentials credentials) throws Exception{\r\n\t\tHttpComponentsMessageSender messageSender = new HttpComponentsMessageSender();\r\n\t\tmessageSender.setCredentials(credentials);\r\n\t\treturn messageSender;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Credentials credentials(){\r\n\t\tUsernamePasswordCredentials credentials = new UsernamePasswordCredentials(USERNAME, PASSWORD);\r\n\t\treturn credentials;\r\n\t\t\r\n\t}\r\n","title":"Consuming SOAP WS returns Error 401 unauthorized","body":"<p>I run into the same issue and managed to resolved by defining a MessageSender with Credentials and then setting it to the client.  I didn't have to create a custom MessageSender.</p>\n\n<pre><code>@Bean\npublic WebServiceMessageSender messageSender(Credentials credentials) throws Exception{\n    HttpComponentsMessageSender messageSender = new HttpComponentsMessageSender();\n    messageSender.setCredentials(credentials);\n    return messageSender;\n}\n\n@Bean\npublic Credentials credentials(){\n    UsernamePasswordCredentials credentials = new UsernamePasswordCredentials(USERNAME, PASSWORD);\n    return credentials;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5526998,"reputation":59,"user_id":4388199,"display_name":"aditya Goyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520678693,"creation_date":1520678693,"answer_id":49208144,"question_id":36496163,"body_markdown":"use HttpsUrlConnectionMessageSender for secure Https connections. This is part of spring-ws-support dependency. Also, you can bypass various certificate issue by using HttpsUrlConnectonMessageSender, like certificate common name mis-matching.\r\n\r\nDont use BASE64Encoder, it is the class of sun.misc jar which is not much secure. use Base64 of java util present in java 1.8 and Base64 of apache for java version less then java 1.8\r\n\r\n    public class WebServiceMessageSenderWithAuth extends HttpsUrlConnectionMessageSender {\r\n\r\n    String user;\r\n    String password;\r\n\r\n    public WebServiceMessageSenderWithAuth(String user, String password) {\r\n        this.user = user;\r\n        this.password = password;\r\n       }\r\n\r\n    @Override\r\n     protected void prepareConnection(HttpURLConnection connection) throws IOException { \r\n         \r\n        String userpassword = user+&quot;:&quot;+password;\r\n        String encodedAuthorization = Base64.encode( userpassword.getBytes() ); \r\n        connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuthorization); \r\n        //set various properties by using reference of connection according to your requirement\r\n       } \r\n    }","title":"Consuming SOAP WS returns Error 401 unauthorized","body":"<p>use HttpsUrlConnectionMessageSender for secure Https connections. This is part of spring-ws-support dependency. Also, you can bypass various certificate issue by using HttpsUrlConnectonMessageSender, like certificate common name mis-matching.</p>\n\n<p>Dont use BASE64Encoder, it is the class of sun.misc jar which is not much secure. use Base64 of java util present in java 1.8 and Base64 of apache for java version less then java 1.8</p>\n\n<pre><code>public class WebServiceMessageSenderWithAuth extends HttpsUrlConnectionMessageSender {\n\nString user;\nString password;\n\npublic WebServiceMessageSenderWithAuth(String user, String password) {\n    this.user = user;\n    this.password = password;\n   }\n\n@Override\n protected void prepareConnection(HttpURLConnection connection) throws IOException { \n\n    String userpassword = user+\":\"+password;\n    String encodedAuthorization = Base64.encode( userpassword.getBytes() ); \n    connection.setRequestProperty(\"Authorization\", \"Basic \" + encodedAuthorization); \n    //set various properties by using reference of connection according to your requirement\n   } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1190548,"reputation":4725,"user_id":1163457,"accept_rate":91,"display_name":"dtrunk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667306538,"creation_date":1667306538,"answer_id":74276123,"question_id":36496163,"body_markdown":"The MessageSender has to be a bean because it&#39;s setting the credentials to the underlying `HttpClient` in its `afterPropertiesSet` method which only gets automatically called by Spring when it&#39;s a bean. See https://github.com/spring-projects/spring-ws/blob/02cf3b7e2107d5ba728e9210cb705f31931c702a/spring-ws-core/src/main/java/org/springframework/ws/transport/http/HttpComponentsMessageSender.java#L221-L227\r\n\r\nSo in your case this never happens and you end up with a `HttpClient` instance without credentials which results correctly in a 401.\r\n\r\nOther ways would be:\r\n* Manually call that method\r\n* Creating your own `HttpClient` with credentials and set it to the `HttpComponentsMessageSender`\r\n\r\nBut I would just define the message sender as a bean.","title":"Consuming SOAP WS returns Error 401 unauthorized","body":"<p>The MessageSender has to be a bean because it's setting the credentials to the underlying <code>HttpClient</code> in its <code>afterPropertiesSet</code> method which only gets automatically called by Spring when it's a bean. See <a href=\"https://github.com/spring-projects/spring-ws/blob/02cf3b7e2107d5ba728e9210cb705f31931c702a/spring-ws-core/src/main/java/org/springframework/ws/transport/http/HttpComponentsMessageSender.java#L221-L227\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-ws/blob/02cf3b7e2107d5ba728e9210cb705f31931c702a/spring-ws-core/src/main/java/org/springframework/ws/transport/http/HttpComponentsMessageSender.java#L221-L227</a></p>\n<p>So in your case this never happens and you end up with a <code>HttpClient</code> instance without credentials which results correctly in a 401.</p>\n<p>Other ways would be:</p>\n<ul>\n<li>Manually call that method</li>\n<li>Creating your own <code>HttpClient</code> with credentials and set it to the <code>HttpComponentsMessageSender</code></li>\n</ul>\n<p>But I would just define the message sender as a bean.</p>\n"}],"owner":{"account_id":2324143,"reputation":155,"user_id":2039040,"accept_rate":18,"display_name":"Neriyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13033,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1667306538,"creation_date":1460107837,"question_id":36496163,"body_markdown":"I am trying to consume a SOAP webservice using spring-ws. I am able to successfully consume this web service from SOAP UI. However I receive an unauthorized exception:\r\n\r\n    org.springframework.ws.client.WebServiceTransportException: Unauthorized [401]\r\n    \tat org.springframework.ws.client.core.WebServiceTemplate.handleError(WebServiceTemplate.java:699)\r\n\r\nHow do I successfully authenticate? \r\n\r\nMy code is as follows:\r\n\r\n**WebServiceTemplate configuration:**\r\n\r\n    @Bean\r\n    \tpublic WebServiceTemplate webServiceTemplate(Jaxb2Marshaller marshaller){\r\n    \t\tWebServiceTemplate webServiceTemplate = new WebServiceTemplate();\r\n    \t\twebServiceTemplate.setDefaultUri(&quot;http://ultron.illovo.net:9704/AdminService&quot;);\r\n    \t\twebServiceTemplate.setMarshaller(marshaller);\r\n    \t\twebServiceTemplate.setUnmarshaller(marshaller);\r\n    \t\t\r\n    \t\tCredentials credentials = new UsernamePasswordCredentials(&quot;biqa&quot;, &quot;welcome1&quot;);\r\n    \t\t\r\n    \t\tHttpComponentsMessageSender messageSender = new HttpComponentsMessageSender();\r\n    \t\tmessageSender.setCredentials(credentials);\r\n    \t\tmessageSender.setReadTimeout(5000);\r\n    \t\tmessageSender.setConnectionTimeout(5000);\r\n    \t\twebServiceTemplate.setMessageSender(messageSender);\r\n    \t\t\r\n    \t\treturn webServiceTemplate;\r\n    \t}\r\n\r\n**Client:**\r\n\r\n    @Autowired\r\n    \r\n    WebServiceTemplate webServiceTemplate;\r\n    \r\n    public CallProcedureWithResultsResponse callProcedureWithResults(String procedureName){\r\n    \tCallProcedureWithResults request = new CallProcedureWithResults();\r\n    \trequest.setProcedureName(procedureName);\r\n    \tlog.info(&quot;Calling procedure &quot; + procedureName);\r\n    \t\r\n    \tCallProcedureWithResultsResponse response = (CallProcedureWithResultsResponse) webServiceTemplate.marshalSendAndReceive(&quot;http://ultron.illovo.net:9704/AdminService/AdminService&quot;, request);\r\n    \t\r\n    \treturn response;\r\n    }\r\n\r\n\r\n**JUnit Test**\r\n\r\n    @Test\r\n    \tpublic void testWebService(){\r\n    \t\tAnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(ObieeConfiguration.class);\r\n            ObieeClient client = context.getBean(ObieeClient.class);\r\n            CallProcedureWithResultsResponse response = client.callProcedureWithResults(&quot;GetOBISVersion()&quot;);\r\n            client.printResponse(response);\r\n            context.close();\r\n    \t}\r\n\r\n\r\n","title":"Consuming SOAP WS returns Error 401 unauthorized","body":"<p>I am trying to consume a SOAP webservice using spring-ws. I am able to successfully consume this web service from SOAP UI. However I receive an unauthorized exception:</p>\n\n<pre><code>org.springframework.ws.client.WebServiceTransportException: Unauthorized [401]\n    at org.springframework.ws.client.core.WebServiceTemplate.handleError(WebServiceTemplate.java:699)\n</code></pre>\n\n<p>How do I successfully authenticate? </p>\n\n<p>My code is as follows:</p>\n\n<p><strong>WebServiceTemplate configuration:</strong></p>\n\n<pre><code>@Bean\n    public WebServiceTemplate webServiceTemplate(Jaxb2Marshaller marshaller){\n        WebServiceTemplate webServiceTemplate = new WebServiceTemplate();\n        webServiceTemplate.setDefaultUri(\"http://ultron.illovo.net:9704/AdminService\");\n        webServiceTemplate.setMarshaller(marshaller);\n        webServiceTemplate.setUnmarshaller(marshaller);\n\n        Credentials credentials = new UsernamePasswordCredentials(\"biqa\", \"welcome1\");\n\n        HttpComponentsMessageSender messageSender = new HttpComponentsMessageSender();\n        messageSender.setCredentials(credentials);\n        messageSender.setReadTimeout(5000);\n        messageSender.setConnectionTimeout(5000);\n        webServiceTemplate.setMessageSender(messageSender);\n\n        return webServiceTemplate;\n    }\n</code></pre>\n\n<p><strong>Client:</strong></p>\n\n<pre><code>@Autowired\n\nWebServiceTemplate webServiceTemplate;\n\npublic CallProcedureWithResultsResponse callProcedureWithResults(String procedureName){\n    CallProcedureWithResults request = new CallProcedureWithResults();\n    request.setProcedureName(procedureName);\n    log.info(\"Calling procedure \" + procedureName);\n\n    CallProcedureWithResultsResponse response = (CallProcedureWithResultsResponse) webServiceTemplate.marshalSendAndReceive(\"http://ultron.illovo.net:9704/AdminService/AdminService\", request);\n\n    return response;\n}\n</code></pre>\n\n<p><strong>JUnit Test</strong></p>\n\n<pre><code>@Test\n    public void testWebService(){\n        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(ObieeConfiguration.class);\n        ObieeClient client = context.getBean(ObieeClient.class);\n        CallProcedureWithResultsResponse response = client.callProcedureWithResults(\"GetOBISVersion()\");\n        client.printResponse(response);\n        context.close();\n    }\n</code></pre>\n"},{"tags":["java","rounding"],"comments":[{"owner":{"account_id":680,"reputation":960655,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"score":5,"creation_date":1329350850,"post_id":9303604,"comment_id":11734792,"body_markdown":"What&#39;s the code you have for 10 look like? It should be reasonably straightforward to change 10 to 5.","body":"What&#39;s the code you have for 10 look like? It should be reasonably straightforward to change 10 to 5."},{"owner":{"account_id":680,"reputation":960655,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"score":0,"creation_date":1329350957,"post_id":9303604,"comment_id":11734808,"body_markdown":"What&#39;s the type of `len`? Is that an `int` or `double`?","body":"What&#39;s the type of <code>len</code>? Is that an <code>int</code> or <code>double</code>?"},{"owner":{"account_id":1171586,"reputation":1866,"user_id":1148656,"accept_rate":84,"display_name":"Daniel Cook"},"score":0,"creation_date":1329351034,"post_id":9303604,"comment_id":11734822,"body_markdown":"it&#39;s a double. if i didn&#39;t initialize it as a double it would give me an error i think","body":"it&#39;s a double. if i didn&#39;t initialize it as a double it would give me an error i think"},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":2,"creation_date":1329351068,"post_id":9303604,"comment_id":11734829,"body_markdown":"`double number = Math.round((len + 2.5)/ 5.0) * 5.0;` ??","body":"<code>double number = Math.round((len + 2.5)&#47; 5.0) * 5.0;</code> ??"},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1329354403,"post_id":9303604,"comment_id":11735430,"body_markdown":"possible duplicate of [how to always round up to the next integer](http://stackoverflow.com/questions/4846493/how-to-always-round-up-to-the-next-integer)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4846493/how-to-always-round-up-to-the-next-integer\">how to always round up to the next integer</a>"},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":1,"creation_date":1329354825,"post_id":9303604,"comment_id":11735519,"body_markdown":"@bestsss The question doesn&#39;t say to round integers, does it?","body":"@bestsss The question doesn&#39;t say to round integers, does it?"},{"owner":{"account_id":1022648,"reputation":33896,"user_id":1032613,"accept_rate":84,"display_name":"WSBT"},"score":0,"creation_date":1422419977,"post_id":9303604,"comment_id":44738438,"body_markdown":"@JuanMendes exactly, the question literally said `double`, and used 10.0","body":"@JuanMendes exactly, the question literally said <code>double</code>, and used 10.0"},{"owner":{"account_id":1448254,"reputation":32220,"user_id":1366033,"accept_rate":87,"display_name":"KyleMit"},"score":0,"creation_date":1631901389,"post_id":9303604,"comment_id":122357988,"body_markdown":"**See Also**: [Rounding numbers to specific multiples](https://stackoverflow.com/q/10456564/1366033)","body":"<b>See Also</b>: <a href=\"https://stackoverflow.com/q/10456564/1366033\">Rounding numbers to specific multiples</a>"}],"answers":[{"tags":[],"owner":{"account_id":1017211,"reputation":1542,"user_id":1028504,"accept_rate":100,"display_name":"YankeeWhiskey"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1333598911,"creation_date":1329350934,"answer_id":9303640,"question_id":9303604,"body_markdown":"    int round(int num) {\r\n        int temp = num%5;\r\n        if (temp&lt;3)\r\n             return num-temp;\r\n        else\r\n             return num+5-temp;\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>int round(int num) {\n    int temp = num%5;\n    if (temp&lt;3)\n         return num-temp;\n    else\n         return num+5-temp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1329351159,"creation_date":1329351159,"answer_id":9303675,"question_id":9303604,"body_markdown":"    int roundUp(int num) {\r\n        return ((num / 5) + (num % 5 &gt; 0 ? 1 : 0)) * 5;\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>int roundUp(int num) {\n    return ((num / 5) + (num % 5 &gt; 0 ? 1 : 0)) * 5;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6328,"reputation":10132,"user_id":10592,"accept_rate":79,"display_name":"Tim Cooper"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1329351172,"creation_date":1329351172,"answer_id":9303678,"question_id":9303604,"body_markdown":"    int roundUp(int n) {\r\n        return (n + 4) / 5 * 5;\r\n    }\r\n\r\nNote - YankeeWhiskey&#39;s answer is rounding to the closest multiple, this is rounding up. Needs a modification if you need it to work for negative numbers.  Note that integer division followed by integer multiplication of the same number is the way to round down.","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>int roundUp(int n) {\n    return (n + 4) / 5 * 5;\n}\n</code></pre>\n\n<p>Note - YankeeWhiskey's answer is rounding to the closest multiple, this is rounding up. Needs a modification if you need it to work for negative numbers.  Note that integer division followed by integer multiplication of the same number is the way to round down.</p>\n"},{"tags":[],"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1653399541,"creation_date":1329351204,"answer_id":9303684,"question_id":9303604,"body_markdown":"I think I have it, thanks to [Amir][1]\r\n\r\n    double round( double num, int multipleOf) {\r\n      return Math.floor((num + multipleOf/2) / multipleOf) * multipleOf;\r\n    }\r\n\r\n\r\n\r\nHere&#39;s the code I ran\r\n\r\n\r\n    class Round {\r\n        public static void main(String[] args){\r\n            System.out.println(&quot;3.5 round to 5: &quot; + Round.round(3.5, 5));\r\n            System.out.println(&quot;12 round to 6: &quot; + Round.round(12, 6));\r\n            System.out.println(&quot;11 round to 7: &quot;+ Round.round(11, 7));\r\n            System.out.println(&quot;5 round to 2: &quot; + Round.round(5, 2));\r\n            System.out.println(&quot;6.2 round to 2: &quot; + Round.round(6.2, 2));\r\n        }\r\n    \r\n        public static double round(double num, int multipleOf) {\r\n            return Math.floor((num +  (double)multipleOf / 2) / multipleOf) * multipleOf;\r\n        }\r\n    }\r\n\r\nAnd here&#39;s the output\r\n\r\n    3.5 round to 5: 5.0\r\n    12 round to 6: 12.0\r\n    11 round to 7: 14.0\r\n    5 round to 2: 6.0\r\n    6.2 round to 2: 6.0\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/690553/amir-pashazadeh","title":"Rounding up a number to nearest multiple of 5","body":"<p>I think I have it, thanks to <a href=\"https://stackoverflow.com/users/690553/amir-pashazadeh\">Amir</a></p>\n<pre><code>double round( double num, int multipleOf) {\n  return Math.floor((num + multipleOf/2) / multipleOf) * multipleOf;\n}\n</code></pre>\n<p>Here's the code I ran</p>\n<pre><code>class Round {\n    public static void main(String[] args){\n        System.out.println(&quot;3.5 round to 5: &quot; + Round.round(3.5, 5));\n        System.out.println(&quot;12 round to 6: &quot; + Round.round(12, 6));\n        System.out.println(&quot;11 round to 7: &quot;+ Round.round(11, 7));\n        System.out.println(&quot;5 round to 2: &quot; + Round.round(5, 2));\n        System.out.println(&quot;6.2 round to 2: &quot; + Round.round(6.2, 2));\n    }\n\n    public static double round(double num, int multipleOf) {\n        return Math.floor((num +  (double)multipleOf / 2) / multipleOf) * multipleOf;\n    }\n}\n</code></pre>\n<p>And here's the output</p>\n<pre><code>3.5 round to 5: 5.0\n12 round to 6: 12.0\n11 round to 7: 14.0\n5 round to 2: 6.0\n6.2 round to 2: 6.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1329351550,"creation_date":1329351550,"answer_id":9303739,"question_id":9303604,"body_markdown":"    int roundUp(int num) {\r\n        return (int) (Math.ceil(num / 5d) * 5);\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>int roundUp(int num) {\n    return (int) (Math.ceil(num / 5d) * 5);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":169922,"reputation":53254,"user_id":396300,"accept_rate":91,"display_name":"Timmy O&#39;Mahony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329353788,"creation_date":1329352193,"answer_id":9303815,"question_id":9303604,"body_markdown":"Recursive:\r\n\r\n    public static int round(int n){\r\n        return (n%5==0) ? n : round(++n);\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<p>Recursive:</p>\n\n<pre><code>public static int round(int n){\n    return (n%5==0) ? n : round(++n);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1234938,"reputation":1673,"user_id":1198717,"display_name":"Arkia"},"down_vote_count":0,"up_vote_count":148,"is_accepted":false,"score":148,"last_activity_date":1667306200,"creation_date":1329352209,"answer_id":9303816,"question_id":9303604,"body_markdown":"To round to the nearest of any value:\r\n\r\n    int round(double value, int nearest) {\r\n        return (int) Math.round(value / nearest) * nearest;\r\n    }\r\n\r\n\r\nYou can also replace `Math.round()` with either `Math.floor()` or `Math.ceil()` to make it always round down or always round up.","title":"Rounding up a number to nearest multiple of 5","body":"<p>To round to the nearest of any value:</p>\n<pre><code>int round(double value, int nearest) {\n    return (int) Math.round(value / nearest) * nearest;\n}\n</code></pre>\n<p>You can also replace <code>Math.round()</code> with either <code>Math.floor()</code> or <code>Math.ceil()</code> to make it always round down or always round up.</p>\n"},{"tags":[],"owner":{"account_id":2816143,"reputation":1,"user_id":2421168,"display_name":"Alex"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1409734324,"creation_date":1409732542,"answer_id":25639572,"question_id":9303604,"body_markdown":"    if (n % 5 == 1){\r\n       n -= 1;\r\n    } else if (n % 5 == 2) {\r\n       n -= 2;\r\n    } else if (n % 5 == 3) {\r\n       n += 2;\r\n    } else if (n % 5 == 4) {\r\n       n += 1;\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>if (n % 5 == 1){\n   n -= 1;\n} else if (n % 5 == 2) {\n   n -= 2;\n} else if (n % 5 == 3) {\n   n += 2;\n} else if (n % 5 == 4) {\n   n += 1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":68835,"reputation":3,"user_id":200624,"display_name":"michael lowden"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1414802565,"creation_date":1414802565,"answer_id":26685227,"question_id":9303604,"body_markdown":"&lt;b&gt;CODE:&lt;/b&gt;\r\n&lt;pre&gt;\r\n    public class MyMath\r\n    {\r\n        public static void main(String[] args) {\r\n            runTests();\r\n        }\r\n        public static double myFloor(double num, double multipleOf) {\r\n            return ( Math.floor(num / multipleOf) * multipleOf );\r\n        }\r\n        public static double myCeil (double num, double multipleOf) {\r\n            return ( Math.ceil (num / multipleOf) * multipleOf );\r\n        }\r\n\r\n        private static void runTests() {\r\n            System.out.println(&quot;myFloor (57.3,  0.1) : &quot; + myFloor(57.3, 0.1));\r\n            System.out.println(&quot;myCeil  (57.3,  0.1) : &quot; + myCeil (57.3, 0.1));\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;myFloor (57.3,  1.0) : &quot; + myFloor(57.3, 1.0));\r\n            System.out.println(&quot;myCeil  (57.3,  1.0) : &quot; + myCeil (57.3, 1.0));\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;myFloor (57.3,  5.0) : &quot; + myFloor(57.3, 5.0));\r\n            System.out.println(&quot;myCeil  (57.3,  5.0) : &quot; + myCeil (57.3, 5.0));\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;myFloor (57.3, 10.0) : &quot; + myFloor(57.3,10.0));\r\n            System.out.println(&quot;myCeil  (57.3, 10.0) : &quot; + myCeil (57.3,10.0));\r\n        }\r\n    }\r\n&lt;/pre&gt;\r\n&lt;b&gt;OUTPUT:&lt;/b&gt;There is a bug in the myCeil for multiples of 0.1 too ... no idea why.\r\n&lt;pre&gt;\r\n    myFloor (57.3,  0.1) : 57.2\r\n    myCeil  (57.3,  0.1) : 57.300000000000004\r\n\r\n    myFloor (57.3,  1.0) : 57.0\r\n    myCeil  (57.3,  1.0) : 58.0\r\n\r\n    myFloor (57.3,  5.0) : 55.0\r\n    myCeil  (57.3,  5.0) : 60.0\r\n\r\n    myFloor (57.3, 10.0) : 50.0\r\n    myCeil  (57.3, 10.0) : 60.0\r\n&lt;/pre&gt;","title":"Rounding up a number to nearest multiple of 5","body":"<p><b>CODE:</b></p>\n\n<pre>\n    public class MyMath\n    {\n        public static void main(String[] args) {\n            runTests();\n        }\n        public static double myFloor(double num, double multipleOf) {\n            return ( Math.floor(num / multipleOf) * multipleOf );\n        }\n        public static double myCeil (double num, double multipleOf) {\n            return ( Math.ceil (num / multipleOf) * multipleOf );\n        }\n\n        private static void runTests() {\n            System.out.println(\"myFloor (57.3,  0.1) : \" + myFloor(57.3, 0.1));\n            System.out.println(\"myCeil  (57.3,  0.1) : \" + myCeil (57.3, 0.1));\n            System.out.println(\"\");\n            System.out.println(\"myFloor (57.3,  1.0) : \" + myFloor(57.3, 1.0));\n            System.out.println(\"myCeil  (57.3,  1.0) : \" + myCeil (57.3, 1.0));\n            System.out.println(\"\");\n            System.out.println(\"myFloor (57.3,  5.0) : \" + myFloor(57.3, 5.0));\n            System.out.println(\"myCeil  (57.3,  5.0) : \" + myCeil (57.3, 5.0));\n            System.out.println(\"\");\n            System.out.println(\"myFloor (57.3, 10.0) : \" + myFloor(57.3,10.0));\n            System.out.println(\"myCeil  (57.3, 10.0) : \" + myCeil (57.3,10.0));\n        }\n    }\n</pre>\n\n<p><b>OUTPUT:</b>There is a bug in the myCeil for multiples of 0.1 too ... no idea why.</p>\n\n<pre>\n    myFloor (57.3,  0.1) : 57.2\n    myCeil  (57.3,  0.1) : 57.300000000000004\n\n    myFloor (57.3,  1.0) : 57.0\n    myCeil  (57.3,  1.0) : 58.0\n\n    myFloor (57.3,  5.0) : 55.0\n    myCeil  (57.3,  5.0) : 60.0\n\n    myFloor (57.3, 10.0) : 50.0\n    myCeil  (57.3, 10.0) : 60.0\n</pre>\n"},{"tags":[],"owner":{"account_id":5444694,"reputation":93,"user_id":4331659,"display_name":"user1023"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426250943,"creation_date":1426250943,"answer_id":29032683,"question_id":9303604,"body_markdown":"Just pass your number to this function as a double, it will return you rounding the decimal value up to the nearest value of 5;\r\n\r\nif 4.25, Output 4.25\r\n\r\nif 4.20, Output 4.20\r\n\r\nif 4.24, Output 4.20\r\n\r\nif 4.26, Output 4.30\r\n\r\n\r\nif you want to round upto 2 decimal places,then use\r\n\r\n    DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n    roundToMultipleOfFive(Double.valueOf(df.format(number)));\r\n\r\nif up to 3 places, new DecimalFormat(&quot;#.###&quot;) \r\n\r\nif up to n places, new DecimalFormat(&quot;#.**nTimes #**&quot;)\r\n\r\n     public double roundToMultipleOfFive(double x)\r\n                {\r\n                    \r\n                    x=input.nextDouble();\r\n                    String str=String.valueOf(x);\r\n                    int pos=0;\r\n                    for(int i=0;i&lt;str.length();i++)\r\n                    {\r\n                        if(str.charAt(i)==&#39;.&#39;)\r\n                        {\r\n                            pos=i;\r\n                            break;\r\n                        }\r\n                    }\r\n                   \r\n                    int after=Integer.parseInt(str.substring(pos+1,str.length()));\r\n                    int Q=after/5;\r\n                    int R =after%5;\r\n                    \r\n                    if((Q%2)==0)\r\n                    {\r\n                        after=after-R;\r\n                    }\r\n                    else\r\n                    {\r\n                        after=after+(5-R);\r\n                    }\r\n                    \r\n                           return Double.parseDouble(str.substring(0,pos+1).concat(String.valueOf(after))));\r\n                    \r\n                }","title":"Rounding up a number to nearest multiple of 5","body":"<p>Just pass your number to this function as a double, it will return you rounding the decimal value up to the nearest value of 5;</p>\n\n<p>if 4.25, Output 4.25</p>\n\n<p>if 4.20, Output 4.20</p>\n\n<p>if 4.24, Output 4.20</p>\n\n<p>if 4.26, Output 4.30</p>\n\n<p>if you want to round upto 2 decimal places,then use</p>\n\n<pre><code>DecimalFormat df = new DecimalFormat(\"#.##\");\nroundToMultipleOfFive(Double.valueOf(df.format(number)));\n</code></pre>\n\n<p>if up to 3 places, new DecimalFormat(\"#.###\") </p>\n\n<p>if up to n places, new DecimalFormat(\"#.<strong>nTimes #</strong>\")</p>\n\n<pre><code> public double roundToMultipleOfFive(double x)\n            {\n\n                x=input.nextDouble();\n                String str=String.valueOf(x);\n                int pos=0;\n                for(int i=0;i&lt;str.length();i++)\n                {\n                    if(str.charAt(i)=='.')\n                    {\n                        pos=i;\n                        break;\n                    }\n                }\n\n                int after=Integer.parseInt(str.substring(pos+1,str.length()));\n                int Q=after/5;\n                int R =after%5;\n\n                if((Q%2)==0)\n                {\n                    after=after-R;\n                }\n                else\n                {\n                    after=after+(5-R);\n                }\n\n                       return Double.parseDouble(str.substring(0,pos+1).concat(String.valueOf(after))));\n\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":479329,"reputation":8889,"user_id":891945,"accept_rate":73,"display_name":"LukeWaggoner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432672574,"creation_date":1432614259,"answer_id":30449433,"question_id":9303604,"body_markdown":"Here&#39;s what I use for rounding to multiples of a number:\r\n\r\n    private int roundToMultipleOf(int current, int multipleOf, Direction direction){\r\n        if (current % multipleOf == 0){\r\n            return ((current / multipleOf) + (direction == Direction.UP ? 1 : -1)) * multipleOf;\r\n        }\r\n        return (direction == Direction.UP ? (int) Math.ceil((double) current / multipleOf) : (direction == Direction.DOWN ? (int) Math.floor((double) current / multipleOf) : current)) * multipleOf;\r\n    }\r\n\r\nThe variable `current` is the number you&#39;re rounding, `multipleOf` is whatever you&#39;re wanting a multiple of (i.e. round to nearest 20, nearest 10, etc), and `direction` is an enum I made to either round up or down.\r\n\r\nGood luck!","title":"Rounding up a number to nearest multiple of 5","body":"<p>Here's what I use for rounding to multiples of a number:</p>\n\n<pre><code>private int roundToMultipleOf(int current, int multipleOf, Direction direction){\n    if (current % multipleOf == 0){\n        return ((current / multipleOf) + (direction == Direction.UP ? 1 : -1)) * multipleOf;\n    }\n    return (direction == Direction.UP ? (int) Math.ceil((double) current / multipleOf) : (direction == Direction.DOWN ? (int) Math.floor((double) current / multipleOf) : current)) * multipleOf;\n}\n</code></pre>\n\n<p>The variable <code>current</code> is the number you're rounding, <code>multipleOf</code> is whatever you're wanting a multiple of (i.e. round to nearest 20, nearest 10, etc), and <code>direction</code> is an enum I made to either round up or down.</p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":4749302,"reputation":759,"user_id":3839722,"accept_rate":100,"display_name":"Peter Griffin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460112196,"creation_date":1460112196,"answer_id":36497643,"question_id":9303604,"body_markdown":"Some people are saying something like\r\n\r\n    int n = [some number]\r\n    int rounded = (n + 5) / 5 * 5;\r\n\r\nThis will round, say, 5 to 10, as well as 6, 7, 8, and 9 (all to 10).  You don&#39;t want 5 to round to 10 though.  When dealing with just integers, you want to instead add 4 to n instead of 5.  So take that code and replace the 5 with a 4:\r\n\r\n    int n = [some number]\r\n    int rounded = (n + 4) / 5 * 5;\r\n\r\nOf course, when dealing with doubles, just put something like 4.99999, or if you want to account for all cases (if you might be dealing with even more precise doubles), add a condition statement:\r\n\r\n    int n = [some number]\r\n    int rounded = n % 5 == 0 ? n : (n + 4) / 5 * 5;","title":"Rounding up a number to nearest multiple of 5","body":"<p>Some people are saying something like</p>\n\n<pre><code>int n = [some number]\nint rounded = (n + 5) / 5 * 5;\n</code></pre>\n\n<p>This will round, say, 5 to 10, as well as 6, 7, 8, and 9 (all to 10).  You don't want 5 to round to 10 though.  When dealing with just integers, you want to instead add 4 to n instead of 5.  So take that code and replace the 5 with a 4:</p>\n\n<pre><code>int n = [some number]\nint rounded = (n + 4) / 5 * 5;\n</code></pre>\n\n<p>Of course, when dealing with doubles, just put something like 4.99999, or if you want to account for all cases (if you might be dealing with even more precise doubles), add a condition statement:</p>\n\n<pre><code>int n = [some number]\nint rounded = n % 5 == 0 ? n : (n + 4) / 5 * 5;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1247339,"reputation":11852,"user_id":1208510,"accept_rate":98,"display_name":"Rahul Baradia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462956382,"creation_date":1462956382,"answer_id":37157403,"question_id":9303604,"body_markdown":"Another Method or logic to rounding up a number to nearest multiple of 5\r\n\r\n    double num = 18.0;\r\n\t\tif (num % 5 == 0)\r\n\t\t\tSystem.out.println(&quot;No need to roundoff&quot;);\r\n\t\telse if (num % 5 &lt; 2.5)\r\n\t\t\tnum = num - num % 5;\r\n\t\telse\r\n\t\t\tnum = num + (5 - num % 5);\r\n\t\tSystem.out.println(&quot;Rounding up to nearest 5------&quot; + num);\r\n\r\noutput :\r\n\r\n    Rounding up to nearest 5------20.0","title":"Rounding up a number to nearest multiple of 5","body":"<p>Another Method or logic to rounding up a number to nearest multiple of 5</p>\n\n<pre><code>double num = 18.0;\n    if (num % 5 == 0)\n        System.out.println(\"No need to roundoff\");\n    else if (num % 5 &lt; 2.5)\n        num = num - num % 5;\n    else\n        num = num + (5 - num % 5);\n    System.out.println(\"Rounding up to nearest 5------\" + num);\n</code></pre>\n\n<p>output :</p>\n\n<pre><code>Rounding up to nearest 5------20.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5527443,"reputation":1,"user_id":4388531,"display_name":"Supreeth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531447145,"creation_date":1500290785,"answer_id":45143045,"question_id":9303604,"body_markdown":"Round a given number to the nearest multiple of 5.\r\n\r\n    public static int round(int n)\r\n      while (n % 5 != 0) n++;\r\n      return n; \r\n    }\r\n\r\n","title":"Rounding up a number to nearest multiple of 5","body":"<p>Round a given number to the nearest multiple of 5.</p>\n\n<pre><code>public static int round(int n)\n  while (n % 5 != 0) n++;\n  return n; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7020571,"reputation":947,"user_id":5380105,"accept_rate":60,"display_name":"Fima Taf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503578764,"creation_date":1503578764,"answer_id":45862045,"question_id":9303604,"body_markdown":"I&#39;ve created a method that can convert a number to the nearest that will be passed in, maybe it will help to someone, because i saw a lot of ways here and it did not worked for me but this one did:\r\n\r\n    /**\r\n\t * The method is rounding a number per the number and the nearest that will be passed in.\r\n\t * If the nearest is 5 - (63-&gt;65) | 10 - (124-&gt;120).\r\n\t * @param num - The number to round\r\n\t * @param nearest - The nearest number to round to (If the nearest is 5 -&gt; (0 - 2.49 will round down) || (2.5-4.99 will round up))\r\n\t * @return Double - The rounded number\r\n\t */\r\n\tprivate Double round (double num, int nearest) {\r\n\t\tif (num % nearest &gt;= nearest / 2) {\r\n\t\t\tnum = num + ((num % nearest - nearest) * -1);\r\n\t\t} else if (num % nearest &lt; nearest / 2) {\r\n\t\t\tnum = num - (num % nearest);\r\n\t\t}\r\n\t\treturn num;\r\n\t}\r\n\r\n ","title":"Rounding up a number to nearest multiple of 5","body":"<p>I've created a method that can convert a number to the nearest that will be passed in, maybe it will help to someone, because i saw a lot of ways here and it did not worked for me but this one did:</p>\n\n<pre><code>/**\n * The method is rounding a number per the number and the nearest that will be passed in.\n * If the nearest is 5 - (63-&gt;65) | 10 - (124-&gt;120).\n * @param num - The number to round\n * @param nearest - The nearest number to round to (If the nearest is 5 -&gt; (0 - 2.49 will round down) || (2.5-4.99 will round up))\n * @return Double - The rounded number\n */\nprivate Double round (double num, int nearest) {\n    if (num % nearest &gt;= nearest / 2) {\n        num = num + ((num % nearest - nearest) * -1);\n    } else if (num % nearest &lt; nearest / 2) {\n        num = num - (num % nearest);\n    }\n    return num;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6831622,"reputation":1180,"user_id":5255393,"accept_rate":80,"display_name":"Dave_cz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511200617,"creation_date":1511200617,"answer_id":47398268,"question_id":9303604,"body_markdown":"In case you only need to round **whole numbers** you can use this function:\r\n\r\n    public static long roundTo(long value, long roundTo) {\r\n        if (roundTo &lt;= 0) {\r\n            throw new IllegalArgumentException(&quot;Parameter &#39;roundTo&#39; must be larger than 0&quot;);\r\n        }\r\n        long remainder = value % roundTo;\r\n        if (Math.abs(remainder) &lt; (roundTo / 2d)) {\r\n            return value - remainder;\r\n        } else {\r\n            if (value &gt; 0) {\r\n                return value + (roundTo - Math.abs(remainder));\r\n            } else {\r\n                return value - (roundTo - Math.abs(remainder));\r\n            }\r\n        }\r\n    }\r\nThe advantage is that it uses integer arithmetics and works even for large long numbers where the floating point division will cause you problems.","title":"Rounding up a number to nearest multiple of 5","body":"<p>In case you only need to round <strong>whole numbers</strong> you can use this function:</p>\n\n<pre><code>public static long roundTo(long value, long roundTo) {\n    if (roundTo &lt;= 0) {\n        throw new IllegalArgumentException(\"Parameter 'roundTo' must be larger than 0\");\n    }\n    long remainder = value % roundTo;\n    if (Math.abs(remainder) &lt; (roundTo / 2d)) {\n        return value - remainder;\n    } else {\n        if (value &gt; 0) {\n            return value + (roundTo - Math.abs(remainder));\n        } else {\n            return value - (roundTo - Math.abs(remainder));\n        }\n    }\n}\n</code></pre>\n\n<p>The advantage is that it uses integer arithmetics and works even for large long numbers where the floating point division will cause you problems.</p>\n"},{"tags":[],"owner":{"account_id":8325086,"reputation":11,"user_id":6255398,"display_name":"Pratiksha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533555601,"creation_date":1533555601,"answer_id":51706801,"question_id":9303604,"body_markdown":"    int roundUp(int n, int multipleOf)\r\n    {\r\n      int a = (n / multipleOf) * multipleOf;\r\n      int b = a + multipleOf;\r\n      return (n - a &gt; b - n)? b : a;\r\n    }\r\n\r\nsource: https://www.geeksforgeeks.org/round-the-given-number-to-nearest-multiple-of-10/","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>int roundUp(int n, int multipleOf)\n{\n  int a = (n / multipleOf) * multipleOf;\n  int b = a + multipleOf;\n  return (n - a &gt; b - n)? b : a;\n}\n</code></pre>\n\n<p>source: <a href=\"https://www.geeksforgeeks.org/round-the-given-number-to-nearest-multiple-of-10/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/round-the-given-number-to-nearest-multiple-of-10/</a></p>\n"},{"tags":[],"owner":{"account_id":9898768,"reputation":41,"user_id":7329408,"display_name":"mohamed elagamy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545490565,"creation_date":1545488246,"answer_id":53896395,"question_id":9303604,"body_markdown":"    int getNextMultiple(int num , int multipleOf) {\r\n        int nextDiff = multipleOf - (num % multipleOf);\r\n        int total = num + nextDiff;\r\n        return total;\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code>int getNextMultiple(int num , int multipleOf) {\n    int nextDiff = multipleOf - (num % multipleOf);\n    int total = num + nextDiff;\n    return total;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8665140,"reputation":68,"user_id":6485985,"display_name":"Sarath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547713366,"creation_date":1547713366,"answer_id":54231673,"question_id":9303604,"body_markdown":"     int roundToNearestMultiple(int num, int multipleOf){\r\n        \tint floorNearest = ((int) Math.floor(num * 1.0/multipleOf)) * multipleOf;\r\n        \tint ceilNearest = ((int) Math.ceil(num  * 1.0/multipleOf)) * multipleOf;\r\n        \tint floorNearestDiff = Math.abs(floorNearest - num);\r\n        \tint ceilNearestDiff = Math.abs(ceilNearest - num);\r\n        \tif(floorNearestDiff &lt;= ceilNearestDiff) {\r\n        \t\treturn floorNearest;\r\n        \t} else {\r\n        \t\treturn ceilNearest;\r\n        \t} \r\n        }","title":"Rounding up a number to nearest multiple of 5","body":"<pre><code> int roundToNearestMultiple(int num, int multipleOf){\n        int floorNearest = ((int) Math.floor(num * 1.0/multipleOf)) * multipleOf;\n        int ceilNearest = ((int) Math.ceil(num  * 1.0/multipleOf)) * multipleOf;\n        int floorNearestDiff = Math.abs(floorNearest - num);\n        int ceilNearestDiff = Math.abs(ceilNearest - num);\n        if(floorNearestDiff &lt;= ceilNearestDiff) {\n            return floorNearest;\n        } else {\n            return ceilNearest;\n        } \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14261139,"reputation":21,"user_id":10301889,"display_name":"Werner Fouch&#233;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586424463,"creation_date":1586424463,"answer_id":61117951,"question_id":9303604,"body_markdown":"This Kotlin function rounds a given value &#39;x&#39; to the closest multiple of &#39;n&#39;\r\n\r\n    fun roundXN(x: Long, n: Long): Long {\r\n        require(n &gt; 0) { &quot;n(${n}) is not greater than 0.&quot;}\r\n\r\n        return if (x &gt;= 0)\r\n            ((x + (n / 2.0)) / n).toLong() * n\r\n        else\r\n            ((x - (n / 2.0)) / n).toLong() * n\r\n    }\r\n    \r\n    fun main() {\r\n        println(roundXN(121,4))\r\n    }\r\n\r\nOutput:  120\r\n","title":"Rounding up a number to nearest multiple of 5","body":"<p>This Kotlin function rounds a given value 'x' to the closest multiple of 'n'</p>\n\n<pre><code>fun roundXN(x: Long, n: Long): Long {\n    require(n &gt; 0) { \"n(${n}) is not greater than 0.\"}\n\n    return if (x &gt;= 0)\n        ((x + (n / 2.0)) / n).toLong() * n\n    else\n        ((x - (n / 2.0)) / n).toLong() * n\n}\n\nfun main() {\n    println(roundXN(121,4))\n}\n</code></pre>\n\n<p>Output:  120</p>\n"},{"tags":[],"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594584625,"creation_date":1594584625,"answer_id":62865999,"question_id":9303604,"body_markdown":"You can use this method `Math.round(38/5) * 5` to get multiple of 5\r\n\r\nIt can be replace with `Math.ceil` or `Math.floor` based on how you want to round off the number\r\n","title":"Rounding up a number to nearest multiple of 5","body":"<p>You can use this method <code>Math.round(38/5) * 5</code> to get multiple of 5</p>\n<p>It can be replace with <code>Math.ceil</code> or <code>Math.floor</code> based on how you want to round off the number</p>\n"},{"tags":[],"owner":{"account_id":5006676,"reputation":6240,"user_id":4024146,"display_name":"mtrakal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624272051,"creation_date":1624054006,"answer_id":68041900,"question_id":9303604,"body_markdown":"Kotlin with extension function.\r\n\r\nPossible run on [play.kotlinlang.org][1]\r\n\r\n```kotlin\r\nimport kotlin.math.roundToLong\r\n\r\nfun Float.roundTo(roundToNearest: Float): Float = (this / roundToNearest).roundToLong() * roundToNearest\r\n\r\nfun main() {    \r\n    println(1.02F.roundTo(1F)) // 1.0\r\n    println(1.9F.roundTo(1F)) // 2.0\r\n    println(1.5F.roundTo(1F)) // 2.0\r\n\r\n    println(1.02F.roundTo(0.5F)) // 1.0\r\n    println(1.19F.roundTo(0.5F)) // 1.0\r\n    println(1.6F.roundTo(0.5F)) // 1.5\r\n    \r\n    println(1.02F.roundTo(0.1F)) // 1.0\r\n    println(1.19F.roundTo(0.1F)) // 1.2\r\n    println(1.51F.roundTo(0.1F)) // 1.5\r\n}\r\n```\r\n\r\nPossible to use floor/ceil like this:\r\n`fun Float.floorTo(roundToNearest: Float): Float = floor(this / roundToNearest) * roundToNearest`\r\n\r\n  [1]: https://pl.kotl.in/j_quDeGj3","title":"Rounding up a number to nearest multiple of 5","body":"<p>Kotlin with extension function.</p>\n<p>Possible run on <a href=\"https://pl.kotl.in/j_quDeGj3\" rel=\"nofollow noreferrer\">play.kotlinlang.org</a></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import kotlin.math.roundToLong\n\nfun Float.roundTo(roundToNearest: Float): Float = (this / roundToNearest).roundToLong() * roundToNearest\n\nfun main() {    \n    println(1.02F.roundTo(1F)) // 1.0\n    println(1.9F.roundTo(1F)) // 2.0\n    println(1.5F.roundTo(1F)) // 2.0\n\n    println(1.02F.roundTo(0.5F)) // 1.0\n    println(1.19F.roundTo(0.5F)) // 1.0\n    println(1.6F.roundTo(0.5F)) // 1.5\n    \n    println(1.02F.roundTo(0.1F)) // 1.0\n    println(1.19F.roundTo(0.1F)) // 1.2\n    println(1.51F.roundTo(0.1F)) // 1.5\n}\n</code></pre>\n<p>Possible to use floor/ceil like this:\n<code>fun Float.floorTo(roundToNearest: Float): Float = floor(this / roundToNearest) * roundToNearest</code></p>\n"},{"tags":[],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624401784,"creation_date":1624401784,"answer_id":68091475,"question_id":9303604,"body_markdown":"Praveen Kumars question elsewhere in this Thread\r\n\r\n&gt; &quot;Why are we adding 4 to the number?&quot;\r\n\r\nis very relevant. And it is why I prefer to code it like this:\r\n\r\n    int roundUpToMultipleOf5(final int n) {\r\n        return (n + 5 - 1) / 5 * 5;\r\n    }\r\n\r\nor, passing the value as an argument:\r\n\r\n    int roundUpToMultiple(final int n, final int multipleOf) {\r\n        return (n + multipleOf - 1) / multipleOf * multipleOf;\r\n    }\r\n\r\nBy adding 1 less than the multiple you&#39;re looking for, you&#39;ve added *just enough* to make sure that a value of `n` which is an exact multiple will *not* round up, and any value of `n` which is *not* an exact multiple *will* be rounded up to the next multiple.","title":"Rounding up a number to nearest multiple of 5","body":"<p>Praveen Kumars question elsewhere in this Thread</p>\n<blockquote>\n<p>&quot;Why are we adding 4 to the number?&quot;</p>\n</blockquote>\n<p>is very relevant. And it is why I prefer to code it like this:</p>\n<pre><code>int roundUpToMultipleOf5(final int n) {\n    return (n + 5 - 1) / 5 * 5;\n}\n</code></pre>\n<p>or, passing the value as an argument:</p>\n<pre><code>int roundUpToMultiple(final int n, final int multipleOf) {\n    return (n + multipleOf - 1) / multipleOf * multipleOf;\n}\n</code></pre>\n<p>By adding 1 less than the multiple you're looking for, you've added <em>just enough</em> to make sure that a value of <code>n</code> which is an exact multiple will <em>not</em> round up, and any value of <code>n</code> which is <em>not</em> an exact multiple <em>will</em> be rounded up to the next multiple.</p>\n"},{"tags":[],"owner":{"account_id":25694817,"reputation":1,"user_id":19455683,"display_name":"mazhar_898"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656626718,"creation_date":1656626547,"answer_id":72822494,"question_id":9303604,"body_markdown":"Use this method to get nearest multiple of 5.\r\n\r\n    private int giveNearestMul5(int givenValue){\r\n        int roundedNum = 0;\r\n        int prevMul5, nextMul5;\r\n        prevMul5 = givenValue - givenValue%5;\r\n        nextMul5 = prevMul5 + 5;\r\n        if ((givenValue%5!=0)){\r\n            if ( (givenValue-prevMul5) &lt; (nextMul5-givenValue) ){\r\n                roundedNum = prevMul5;\r\n            } else {\r\n                roundedNum = nextMul5;\r\n            }\r\n        } else{\r\n            roundedNum = givenValue;\r\n        }\r\n\r\n        return roundedNum;\r\n    }","title":"Rounding up a number to nearest multiple of 5","body":"<p>Use this method to get nearest multiple of 5.</p>\n<pre><code>private int giveNearestMul5(int givenValue){\n    int roundedNum = 0;\n    int prevMul5, nextMul5;\n    prevMul5 = givenValue - givenValue%5;\n    nextMul5 = prevMul5 + 5;\n    if ((givenValue%5!=0)){\n        if ( (givenValue-prevMul5) &lt; (nextMul5-givenValue) ){\n            roundedNum = prevMul5;\n        } else {\n            roundedNum = nextMul5;\n        }\n    } else{\n        roundedNum = givenValue;\n    }\n\n    return roundedNum;\n}\n</code></pre>\n"}],"owner":{"account_id":1171586,"reputation":1866,"user_id":1148656,"accept_rate":84,"display_name":"Daniel Cook"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110686,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":9303678,"answer_count":24,"score":65,"last_activity_date":1667306200,"creation_date":1329350762,"question_id":9303604,"body_markdown":"Does anyone know how to round up a number to its nearest multiple of 5?  I found an algorithm to round it to the nearest multiple of 10 but I can&#39;t find this one.\r\n\r\nThis does it for ten.\r\n    \r\n    double number = Math.round((len + 5)/ 10.0) * 10.0;","title":"Rounding up a number to nearest multiple of 5","body":"<p>Does anyone know how to round up a number to its nearest multiple of 5?  I found an algorithm to round it to the nearest multiple of 10 but I can't find this one.</p>\n\n<p>This does it for ten.</p>\n\n<pre><code>double number = Math.round((len + 5)/ 10.0) * 10.0;\n</code></pre>\n"},{"tags":["java","macos","swing"],"comments":[{"owner":{"account_id":59464,"reputation":11815,"user_id":177931,"accept_rate":83,"display_name":"ldog"},"score":2,"creation_date":1246430983,"post_id":1065691,"comment_id":879852,"body_markdown":"you are probably going to have to do it C somehow and access the functionally through JNI. I hate macs.","body":"you are probably going to have to do it C somehow and access the functionally through JNI. I hate macs."},{"owner":{"account_id":59464,"reputation":11815,"user_id":177931,"accept_rate":83,"display_name":"ldog"},"score":3,"creation_date":1246431076,"post_id":1065691,"comment_id":879859,"body_markdown":"&quot;Just because your unique doesn&#39;t mean your useful.&quot;","body":"&quot;Just because your unique doesn&#39;t mean your useful.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":44451,"reputation":3976,"user_id":130516,"display_name":"codethulhu"},"down_vote_count":2,"up_vote_count":55,"is_accepted":true,"score":53,"last_activity_date":1246395321,"creation_date":1246395321,"answer_id":1066016,"question_id":1065691,"body_markdown":"Have you tried setting JButton.setOpaque(true)?\r\n        \r\n    JButton button = new JButton(&quot;test&quot;);\r\n    button.setBackground(Color.RED);\r\n    button.setOpaque(true);","title":"How to Set the Background Color of a JButton on the Mac OS","body":"<p>Have you tried setting JButton.setOpaque(true)?</p>\n\n<pre><code>JButton button = new JButton(\"test\");\nbutton.setBackground(Color.RED);\nbutton.setOpaque(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":952583,"reputation":421,"user_id":978440,"display_name":"MrSmileFace"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1317731771,"creation_date":1317731771,"answer_id":7647969,"question_id":1065691,"body_markdown":"Have you tried setting the painted border false?\r\n\r\n    JButton button = new JButton();\r\n    button.setBackground(Color.red);\r\n    button.setOpaque(true);\r\n    button.setBorderPainted(false);\r\n\r\nIt works on my mac :)","title":"How to Set the Background Color of a JButton on the Mac OS","body":"<p>Have you tried setting the painted border false?</p>\n\n<pre><code>JButton button = new JButton();\nbutton.setBackground(Color.red);\nbutton.setOpaque(true);\nbutton.setBorderPainted(false);\n</code></pre>\n\n<p>It works on my mac :)</p>\n"},{"tags":[],"owner":{"account_id":1753158,"reputation":261,"user_id":1601799,"display_name":"JoJo"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1345068239,"creation_date":1345068239,"answer_id":11977997,"question_id":1065691,"body_markdown":"If you are not required to use Apple&#39;s look and feel, a simple fix is to put the following code in your application or applet, before you add any GUI components to your JFrame or JApplet:\r\n\r\n     try {\r\n        UIManager.setLookAndFeel( UIManager.getCrossPlatformLookAndFeelClassName() );\r\n     } catch (Exception e) {\r\n                e.printStackTrace();\r\n     }\r\n\r\nThat will set the look and feel to the cross-platform look and feel, and the setBackground() method will then work to change a JButton&#39;s background color.","title":"How to Set the Background Color of a JButton on the Mac OS","body":"<p>If you are not required to use Apple's look and feel, a simple fix is to put the following code in your application or applet, before you add any GUI components to your JFrame or JApplet:</p>\n\n<pre><code> try {\n    UIManager.setLookAndFeel( UIManager.getCrossPlatformLookAndFeelClassName() );\n } catch (Exception e) {\n            e.printStackTrace();\n }\n</code></pre>\n\n<p>That will set the look and feel to the cross-platform look and feel, and the setBackground() method will then work to change a JButton's background color.</p>\n"},{"tags":[],"owner":{"account_id":6612606,"reputation":29,"user_id":5107094,"display_name":"Lapis Diamond"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1466438615,"creation_date":1466438615,"answer_id":37927029,"question_id":1065691,"body_markdown":"I own a mac too! here is the code that will work:\r\n\r\n    myButton.setBackground(Color.RED);\r\n    myButton.setOpaque(true); //Sets Button Opaque so it works\r\n\r\nbefore doing anything or adding any components set the look and feel so it looks better:\r\n\r\n    try{\r\n       UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName());\r\n     }catch(Exception e){\r\n      e.printStackTrace(); \r\n     }\r\n\r\nThat is Supposed to change the look and feel to the cross platform look and feel, hope i helped! :)\r\n\r\n","title":"How to Set the Background Color of a JButton on the Mac OS","body":"<p>I own a mac too! here is the code that will work:</p>\n\n<pre><code>myButton.setBackground(Color.RED);\nmyButton.setOpaque(true); //Sets Button Opaque so it works\n</code></pre>\n\n<p>before doing anything or adding any components set the look and feel so it looks better:</p>\n\n<pre><code>try{\n   UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName());\n }catch(Exception e){\n  e.printStackTrace(); \n }\n</code></pre>\n\n<p>That is Supposed to change the look and feel to the cross platform look and feel, hope i helped! :)</p>\n"},{"tags":[],"owner":{"account_id":6468900,"reputation":350,"user_id":7533664,"display_name":"htlbydgod"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1505972317,"creation_date":1505972317,"answer_id":46336186,"question_id":1065691,"body_markdown":"Based on your own purposes, you can do that based on setOpaque(true/false) and setBorderPainted(true/false); try and combine them to fit your purpose","title":"How to Set the Background Color of a JButton on the Mac OS","body":"<p>Based on your own purposes, you can do that based on setOpaque(true/false) and setBorderPainted(true/false); try and combine them to fit your purpose</p>\n"}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133836,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":1066016,"answer_count":5,"score":35,"last_activity_date":1667306148,"creation_date":1246391844,"question_id":1065691,"body_markdown":"Normally with Java Swing you can set the background color of a button with:\r\n\r\n    myJButton.setBackground(Color.RED);\r\n\r\nwhich would cause the button to be red. But on the Mac OS, this method seems to be ignored. The button just stays the default color.\r\n\r\nHow can the color of a JButton be set on the Mac OS?","title":"How to Set the Background Color of a JButton on the Mac OS","body":"<p>Normally with Java Swing you can set the background color of a button with:</p>\n\n<pre><code>myJButton.setBackground(Color.RED);\n</code></pre>\n\n<p>which would cause the button to be red. But on the Mac OS, this method seems to be ignored. The button just stays the default color.</p>\n\n<p>How can the color of a JButton be set on the Mac OS?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1609682832,"post_id":65550687,"comment_id":115893175,"body_markdown":"Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a>"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":4,"creation_date":1609683294,"post_id":65550687,"comment_id":115893317,"body_markdown":"`select count` returns an integer, but your typed query is expecting a User instance. Change the typed query to have `&lt;Integer&gt;` and update accordingly, or fix your query to return a User not a number.","body":"<code>select count</code> returns an integer, but your typed query is expecting a User instance. Change the typed query to have <code>&lt;Integer&gt;</code> and update accordingly, or fix your query to return a User not a number."}],"answers":[{"tags":[],"owner":{"account_id":12493684,"reputation":188,"user_id":9094429,"display_name":"Ahmad Qureshi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1667306028,"creation_date":1609683391,"answer_id":65550794,"question_id":65550687,"body_markdown":"    Your query in variable `MY_SQL_COUNT_EMAIL` returns a count instead of User object, Change the data type of variable either to Long or Integer, something like given below\r\n    \r\n        @Override\r\n        public Integer getCountByEmail(String email) {\r\n          Session session = entityManager.unwrap(Session.class);\r\n          \r\n             TypedQuery&lt;Integer&gt; query = session.createQuery(MY_SQL_COUNT_EMAIL,Class.forName(&quot;java.lang.Integer&quot;)); //Try this\r\n             TypedQuery&lt;Integer&gt; query = session.createQuery(MY_SQL_COUNT_EMAIL); // OR Try this\r\n             query.setParameter(&quot;email&quot;, email);    \r\n              return query.executeUpdate();\r\n        }","title":"Java Spring boot web service","body":"<pre><code>Your query in variable `MY_SQL_COUNT_EMAIL` returns a count instead of User object, Change the data type of variable either to Long or Integer, something like given below\n\n    @Override\n    public Integer getCountByEmail(String email) {\n      Session session = entityManager.unwrap(Session.class);\n      \n         TypedQuery&lt;Integer&gt; query = session.createQuery(MY_SQL_COUNT_EMAIL,Class.forName(&quot;java.lang.Integer&quot;)); //Try this\n         TypedQuery&lt;Integer&gt; query = session.createQuery(MY_SQL_COUNT_EMAIL); // OR Try this\n         query.setParameter(&quot;email&quot;, email);    \n          return query.executeUpdate();\n    }\n</code></pre>\n"}],"owner":{"account_id":18292010,"reputation":36,"user_id":13318620,"display_name":"Zaur Farrukhzada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":65550794,"answer_count":1,"score":-1,"last_activity_date":1667306028,"creation_date":1609682785,"question_id":65550687,"body_markdown":"***My class***\r\n\r\n```java\r\n@Repository\r\npublic class UserRepositoryImp implements UserRepository {\r\n\r\n  private EntityManager entityManager;\r\n\r\n  @Autowired\r\n  public UserRepositoryImp(EntityManager entityManager) {\r\n    this.entityManager = entityManager;\r\n  }\r\n\r\n  @Override\r\n  public Integer getCountByEmail(String email) {\r\n    Session session = entityManager.unwrap(Session.class);\r\n\r\n    TypedQuery&lt;User&gt; query = session.createQuery(&quot;SELECT count(e)  FROM User e WHERE e.email=:email&quot;, User.class);\r\n    query.setParameter(&quot;email&quot;, email);\r\n    return query.executeUpdate();\r\n}\r\n```\r\n\r\n\r\n\r\n***My Postman error***\r\n\r\n\r\n &gt; &quot;Type specified for TypedQuery [com.TestMobileAppService.TestMobileAppService.Domain.User] is \r\n   incompatible with query return type [class java.lang.Long]; nested exception is \r\n     java.lang.IllegalArgumentException: Type specified for TypedQuery \r\n   [com.TestMobileAppService.TestMobileAppService.Domain.User] is incompatible with query return type \r\n   [class java.lang.Long]&quot;\r\n\r\n  **Please help me what is it problem ???**","title":"Java Spring boot web service","body":"<p><em><strong>My class</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class UserRepositoryImp implements UserRepository {\n\n  private EntityManager entityManager;\n\n  @Autowired\n  public UserRepositoryImp(EntityManager entityManager) {\n    this.entityManager = entityManager;\n  }\n\n  @Override\n  public Integer getCountByEmail(String email) {\n    Session session = entityManager.unwrap(Session.class);\n\n    TypedQuery&lt;User&gt; query = session.createQuery(&quot;SELECT count(e)  FROM User e WHERE e.email=:email&quot;, User.class);\n    query.setParameter(&quot;email&quot;, email);\n    return query.executeUpdate();\n}\n</code></pre>\n<p><em><strong>My Postman error</strong></em></p>\n<blockquote>\n<p>&quot;Type specified for TypedQuery [com.TestMobileAppService.TestMobileAppService.Domain.User] is\nincompatible with query return type [class java.lang.Long]; nested exception is\njava.lang.IllegalArgumentException: Type specified for TypedQuery\n[com.TestMobileAppService.TestMobileAppService.Domain.User] is incompatible with query return type\n[class java.lang.Long]&quot;</p>\n</blockquote>\n<p><strong>Please help me what is it problem ???</strong></p>\n"},{"tags":["java","spring-boot","inheritance","dto","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":9542406,"reputation":31,"user_id":7089996,"display_name":"Agustin Miani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573020132,"creation_date":1573013650,"answer_id":58722998,"question_id":58704250,"body_markdown":"I finally solved this issue with the help of some friends and another questions on this site.\r\n\r\n***My solution*** \r\n\r\nAnother Dev posted an issue similar to mine [Here][1].\r\n\r\nThis post recomends the use of `typeMap` (but not as I used it) with a &quot;converter&quot; declaring. When a Subclass tries to map to `AbstractClassDTO` it must instantiate a `subclassDTO`.\r\n\r\nLike this:\r\n\r\n```java \r\npublic ModelMapper buildModelMapper() {\r\n    ModelMapper modelMapper = new ModelMapper();\r\n    modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\r\n    mapEntitiesToDTO(modelMapper);\r\n    mapDTOToEntities(modelMapper);\r\n    return modelMapper;\r\n}\r\n\r\nprivate void mapEntitiesToDTO(final ModelMapper modelMapper) {\r\n    modelMapper.createTypeMap(ComboSportField.class, AbstractSportFieldDTO.class)\r\n        .setConverter(converterWithDestinationSupplier(ComboSportFieldDTO::new));\r\n    modelMapper.createTypeMap(SportField.class, AbstractSportFieldDTO.class)\r\n        .setConverter(converterWithDestinationSupplier(SportFieldDTO::new));\r\n}\r\n\r\nprivate void mapDTOToEntities(final ModelMapper modelMapper) {\r\n    modelMapper.createTypeMap(ComboSportFieldDTO.class, AbstractSportField.class)\r\n        .setConverter(converterWithDestinationSupplier(ComboSportField::new));\r\n    modelMapper.createTypeMap(SportFieldDTO.class, AbstractSportField.class)\r\n        .setConverter(converterWithDestinationSupplier(SportField::new));\r\n}\r\n\r\nprivate &lt; S, D &gt; Converter &lt; S, D &gt; converterWithDestinationSupplier(Supplier &lt;&lt; ? extends D &gt; supplier) {\r\n    return ctx - &gt; ctx.getMappingEngine().map(ctx.create(ctx.getSource(), supplier.get()));\r\n}\r\n```\r\n\r\nWhen I tested this configuration it still didn&#39;t work. Then I found that the same dev that posted the last question posted an issue on `modelmapper` GitHub repo [here][2]. And the last comment reports that `typeMap` with inheritance had been released on ModelMapper **1.0.0** and I found that I was using the version **0.7.4**.\r\n\r\nSo I updated the version to the current **(2.3.5)** and this started to work. [Link to maven repo.][3]\r\n\r\nI hope that my description can help someone with the same issue. Thanks!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28111875/modelmapper-mapping-abstract-classes-during-runtime\r\n  [2]: https://github.com/modelmapper/modelmapper/issues/130\r\n  [3]: https://mvnrepository.com/artifact/org.modelmapper/modelmapper","title":"Failed to instantiate instance of destination [subclassDTO]. Ensure that [subclassDTO] has a non-private no-argument constructor","body":"<p>I finally solved this issue with the help of some friends and another questions on this site.</p>\n\n<p><strong><em>My solution</em></strong> </p>\n\n<p>Another Dev posted an issue similar to mine <a href=\"https://stackoverflow.com/questions/28111875/modelmapper-mapping-abstract-classes-during-runtime\">Here</a>.</p>\n\n<p>This post recomends the use of <code>typeMap</code> (but not as I used it) with a \"converter\" declaring. When a Subclass tries to map to <code>AbstractClassDTO</code> it must instantiate a <code>subclassDTO</code>.</p>\n\n<p>Like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public ModelMapper buildModelMapper() {\n    ModelMapper modelMapper = new ModelMapper();\n    modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\n    mapEntitiesToDTO(modelMapper);\n    mapDTOToEntities(modelMapper);\n    return modelMapper;\n}\n\nprivate void mapEntitiesToDTO(final ModelMapper modelMapper) {\n    modelMapper.createTypeMap(ComboSportField.class, AbstractSportFieldDTO.class)\n        .setConverter(converterWithDestinationSupplier(ComboSportFieldDTO::new));\n    modelMapper.createTypeMap(SportField.class, AbstractSportFieldDTO.class)\n        .setConverter(converterWithDestinationSupplier(SportFieldDTO::new));\n}\n\nprivate void mapDTOToEntities(final ModelMapper modelMapper) {\n    modelMapper.createTypeMap(ComboSportFieldDTO.class, AbstractSportField.class)\n        .setConverter(converterWithDestinationSupplier(ComboSportField::new));\n    modelMapper.createTypeMap(SportFieldDTO.class, AbstractSportField.class)\n        .setConverter(converterWithDestinationSupplier(SportField::new));\n}\n\nprivate &lt; S, D &gt; Converter &lt; S, D &gt; converterWithDestinationSupplier(Supplier &lt;&lt; ? extends D &gt; supplier) {\n    return ctx - &gt; ctx.getMappingEngine().map(ctx.create(ctx.getSource(), supplier.get()));\n}\n</code></pre>\n\n<p>When I tested this configuration it still didn't work. Then I found that the same dev that posted the last question posted an issue on <code>modelmapper</code> GitHub repo <a href=\"https://github.com/modelmapper/modelmapper/issues/130\" rel=\"nofollow noreferrer\">here</a>. And the last comment reports that <code>typeMap</code> with inheritance had been released on ModelMapper <strong>1.0.0</strong> and I found that I was using the version <strong>0.7.4</strong>.</p>\n\n<p>So I updated the version to the current <strong>(2.3.5)</strong> and this started to work. <a href=\"https://mvnrepository.com/artifact/org.modelmapper/modelmapper\" rel=\"nofollow noreferrer\">Link to maven repo.</a></p>\n\n<p>I hope that my description can help someone with the same issue. Thanks!</p>\n"},{"tags":[],"owner":{"account_id":1681237,"reputation":1779,"user_id":1545425,"display_name":"Luca Tampellini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630591631,"creation_date":1630591631,"answer_id":69031902,"question_id":58704250,"body_markdown":"Actually i have just experienced the same issue.\r\n\r\nIn my case the class for which modelmapper was complaining of a lack of public constructor was actually referenced as property inside another DTO class, mapped elsewhere, for which the public constructor was effectively not explicitly declared.\r\n\r\nI have added such public constructor and this resolved the issue for me.","title":"Failed to instantiate instance of destination [subclassDTO]. Ensure that [subclassDTO] has a non-private no-argument constructor","body":"<p>Actually i have just experienced the same issue.</p>\n<p>In my case the class for which modelmapper was complaining of a lack of public constructor was actually referenced as property inside another DTO class, mapped elsewhere, for which the public constructor was effectively not explicitly declared.</p>\n<p>I have added such public constructor and this resolved the issue for me.</p>\n"}],"owner":{"account_id":9542406,"reputation":31,"user_id":7089996,"display_name":"Agustin Miani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7272,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667305210,"creation_date":1572925933,"question_id":58704250,"body_markdown":"Im working on a Springboot App exposing some endpoints that do not return the original Entities but they return their DTO. To map all the entities i am working using &quot;org.modelmapper&quot; version: 0.7.4 and project lombok to avoid implement getters, setters and some another utilities.\r\n\r\nEverything worked perfectly until I had to map a list of subclasses on a entity. The source entity is like this (i removed some properties and hibernate annotations because they are not necessary in the example):\r\n\r\n```java\r\npackage com.pfi.repository.entity.sport;\r\n\r\nimport com.pfi.repository.entity.address.Address;\r\nimport lombok.*;\r\n\r\nimport java.util.List;\r\n\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class SportPlace {\r\n\r\n    private Long id;\r\n    private List&lt;AbstractSportField&gt; sportFields;\r\n}\r\n```\r\n\r\nThe destination DTO is:\r\n\r\n```java\r\npackage dto.sport;\r\n\r\nimport lombok.*;\r\n\r\nimport java.util.List;\r\n\r\n@Getter\r\n@NoArgsConstructor\r\n@Setter\r\npublic class SportPlaceDTO {\r\n\r\n    private Long id;\r\n    private List&lt;AbstractSportFieldDTO&gt; sportFields;\r\n}\r\n```\r\n\r\nBoth AbstractSportFieldDTO and AbstractSportField are abstract classes that with two possible subclasses:\r\n\r\n```java\r\npackage dto.sport;\r\n\r\nimport dto.reserve.AbstractReserveDTO;\r\n\r\nimport java.util.List;\r\n\r\npublic abstract class AbstractSportFieldDTO {\r\n\r\n    protected Long id;\r\n    protected List&lt;AbstractReserveDTO&gt; reserves;\r\n    public AbstractSportFieldDTO() {\r\n    }\r\n\r\n    public AbstractSportFieldDTO(Long id, List&lt;AbstractReserveDTO&gt; reserves) {\r\n        this.id = id;\r\n        this.reserves = reserves;\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public AbstractSportFieldDTO setId(Long id) {\r\n        this.id = id;\r\n        return this;\r\n    }\r\n\r\n\r\n    public List&lt;AbstractReserveDTO&gt; getReserves() {\r\n        return reserves;\r\n    }\r\n\r\n    public AbstractSportFieldDTO setReserves(List&lt;AbstractReserveDTO&gt; reserves) {\r\n        this.reserves = reserves;\r\n        return this;\r\n    }\r\n}\r\n```\r\n\r\nThe first DTO subclass is:\r\n\r\n```java\r\npackage dto.sport;\r\n\r\n\r\nimport dto.reserve.AbstractReserveDTO;\r\n\r\nimport java.util.List;\r\n\r\npublic class ComboSportFieldDTO extends AbstractSportFieldDTO {\r\n\r\n    private List&lt;SportFieldDTO&gt; sportFields;\r\n\r\n    public ComboSportFieldDTO(List&lt;SportFieldDTO&gt; sportFields) {\r\n        this.sportFields = sportFields;\r\n    }\r\n\r\n    public ComboSportFieldDTO(Long id, List&lt;AbstractReserveDTO&gt; reserves, List&lt;SportFieldDTO&gt; sportFields) {\r\n        super(id, reserves);\r\n        this.sportFields = sportFields;\r\n    }\r\n\r\n    public ComboSportFieldDTO() {\r\n        super();\r\n    }\r\n\r\n    public List&lt;SportFieldDTO&gt; getSportFields() {\r\n        return sportFields;\r\n    }\r\n\r\n    public void setSportFields(List&lt;SportFieldDTO&gt; sportFields) {\r\n        this.sportFields = sportFields;\r\n    }\r\n}\r\n```\r\n\r\nThe second DTO subclass is:\r\n\r\n```java\r\npackage dto.sport;\r\n\r\nimport dto.reserve.AbstractReserveDTO;\r\n\r\nimport java.util.List;\r\n\r\npublic class SportFieldDTO extends AbstractSportFieldDTO {\r\n\r\n    private Boolean joineable;\r\n\r\n    public SportFieldDTO(Long id, List&lt;AbstractReserveDTO&gt; reserves, Boolean joineable) {\r\n        super(id, reserves);\r\n        this.joineable = joineable;\r\n    }\r\n\r\n    public SportFieldDTO() {\r\n        super();\r\n    }\r\n\r\n    public Boolean getJoineable() {\r\n        return joineable;\r\n    }\r\n\r\n    public void setJoineable(Boolean joineable) {\r\n        this.joineable = joineable;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen the Entities are:\r\n\r\n```java\r\npackage com.pfi.repository.entity.sport;\r\n\r\nimport com.pfi.repository.entity.reserve.AbstractReserve;\r\nimport java.util.List;\r\n\r\npublic abstract class AbstractSportField {\r\n\r\n    protected Long id;\r\n    protected List&lt;AbstractReserve&gt; reserves;\r\n\r\n    public AbstractSportField(Long id, List&lt;AbstractReserve&gt; reserves) {\r\n        this.id = id;\r\n        this.reserves = reserves;\r\n    }\r\n\r\n    public AbstractSportField() {\r\n\r\n    }\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public AbstractSportField setId(Long id) {\r\n        this.id = id;\r\n        return this;\r\n    }\r\n\r\n    public List&lt;AbstractReserve&gt; getReserves() {\r\n        return reserves;\r\n    }\r\n\r\n    public AbstractSportField setReserves(List&lt;AbstractReserve&gt; reserves) {\r\n        this.reserves = reserves;\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThe first subclass is:\r\n\r\n```java\r\npackage com.pfi.repository.entity.sport;\r\n\r\nimport com.pfi.repository.entity.reserve.AbstractReserve;\r\n\r\nimport java.util.List;\r\n\r\npublic class ComboSportField extends AbstractSportField {\r\n\r\n    private List&lt;SportField&gt; sportFields;\r\n\r\n    public ComboSportField(Long id, List&lt;AbstractReserve&gt; reserves, List&lt;SportField&gt; sportFields) {\r\n        super(id, reserves);\r\n        this.sportFields = sportFields;\r\n    }\r\n\r\n    public ComboSportField(){\r\n        super();\r\n    }\r\n\r\n    public List&lt;SportField&gt; getSportFields() {\r\n        return sportFields;\r\n    }\r\n\r\n    public ComboSportField setSportFields(List&lt;SportField&gt; sportFields) {\r\n        this.sportFields = sportFields;\r\n        return this;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd the last subclass is:\r\n\r\n```java\r\npackage com.pfi.repository.entity.sport;\r\n\r\nimport com.pfi.repository.entity.reserve.AbstractReserve;\r\n\r\nimport javax.persistence.Entity;\r\nimport java.util.List;\r\n\r\npublic class SportField extends AbstractSportField {\r\n\r\n    private Boolean joineable;\r\n\r\n    public SportField(Long id, List&lt;AbstractReserve&gt; reserves, Boolean joineable) {\r\n        super(id, reserves);\r\n        this.joineable = joineable;\r\n    }\r\n\r\n    public SportField(){\r\n        super();\r\n    }\r\n\r\n    public Boolean getJoineable() {\r\n        return joineable;\r\n    }\r\n\r\n    public SportField setJoineable(Boolean joineable) {\r\n        this.joineable = joineable;\r\n        return this;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nWhen i try to map an instance of SportPlace to SportPlaceDTO like this:\r\n\r\n```java\r\nmodelMapper.map(sportPlace, SportPlaceDTO.class)\r\n```\r\n\r\nThat de sportPlace contains the given 6 Sportfields that are instances of subclasses. The model mapper throws (on the 6 elements of the list):\r\n\r\nFailed to instantiate instance of destination dto.sport.AbstractSportFieldDTO. Ensure that dto.sport.AbstractSportFieldDTO has a non-private no-argument constructor.\r\n\r\nReading about how can i map subclasses on modelmapper i found setting TypeMap, that can set a specific mapping on a class like this:\r\n\r\nmodelMapper.createTypeMap(ComboSportField.class, ComboSportFieldDTO.class);\r\n\r\nFor that reason i created a builder to config the model mapper like this \r\n\r\n```java\r\npackage com.pfi.repository.builder;\r\n\r\nimport com.pfi.repository.entity.*;;\r\nimport dto.reserve.*;\r\nimport dto.sport.*;\r\nimport org.modelmapper.ModelMapper;\r\nimport org.modelmapper.convention.MatchingStrategies;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class MapperBuilder {\r\n\r\n    public ModelMapper buildModelMapper() {\r\n        ModelMapper modelMapper = new ModelMapper();\r\n        modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\r\n        mapEntitiesToDTO(modelMapper);\r\n        mapDTOToEntities(modelMapper);\r\n        return modelMapper;\r\n    }\r\n\r\n    private void mapEntitiesToDTO(final ModelMapper modelMapper){\r\n        modelMapper.createTypeMap(ComboSportField.class, ComboSportFieldDTO.class);\r\n        modelMapper.createTypeMap(SportField.class, SportFieldDTO.class);\r\n        modelMapper.createTypeMap(Reserve.class, ReserveDTO.class);\r\n        modelMapper.createTypeMap(AppReserve.class, AppReserveDTO.class);\r\n\r\n    }\r\n    private void mapDTOToEntities(final ModelMapper modelMapper){\r\n        modelMapper.createTypeMap(ComboSportFieldDTO.class, ComboSportField.class);\r\n        modelMapper.createTypeMap(SportFieldDTO.class, SportField.class);\r\n        modelMapper.createTypeMap(ReserveDTO.class, Reserve.class);\r\n        modelMapper.createTypeMap(AppReserveDTO.class, AppReserve.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd i use the builder when i create the controller like this:\r\n\r\n```java\r\n@Autowired\r\n    protected MapperBuilder mapperBuilder;\r\n\r\n    BaseController(){\r\n        this.getLogger();\r\n    }\r\n\r\n    @PostConstruct\r\n    public void buildMapper(){\r\n        modelMapper = mapperBuilder.buildModelMapper();\r\n    }\r\n```\r\n\r\nI don&#39;t know what else I can do to be able map the subclasses.\r\n\r\nDoes anyone know how to solve this issue?\r\n\r\nThanks!","title":"Failed to instantiate instance of destination [subclassDTO]. Ensure that [subclassDTO] has a non-private no-argument constructor","body":"<p>Im working on a Springboot App exposing some endpoints that do not return the original Entities but they return their DTO. To map all the entities i am working using \"org.modelmapper\" version: 0.7.4 and project lombok to avoid implement getters, setters and some another utilities.</p>\n\n<p>Everything worked perfectly until I had to map a list of subclasses on a entity. The source entity is like this (i removed some properties and hibernate annotations because they are not necessary in the example):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.pfi.repository.entity.sport;\n\nimport com.pfi.repository.entity.address.Address;\nimport lombok.*;\n\nimport java.util.List;\n\n@Getter\n@Setter\n@EqualsAndHashCode\n@AllArgsConstructor\n@NoArgsConstructor\npublic class SportPlace {\n\n    private Long id;\n    private List&lt;AbstractSportField&gt; sportFields;\n}\n</code></pre>\n\n<p>The destination DTO is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package dto.sport;\n\nimport lombok.*;\n\nimport java.util.List;\n\n@Getter\n@NoArgsConstructor\n@Setter\npublic class SportPlaceDTO {\n\n    private Long id;\n    private List&lt;AbstractSportFieldDTO&gt; sportFields;\n}\n</code></pre>\n\n<p>Both AbstractSportFieldDTO and AbstractSportField are abstract classes that with two possible subclasses:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package dto.sport;\n\nimport dto.reserve.AbstractReserveDTO;\n\nimport java.util.List;\n\npublic abstract class AbstractSportFieldDTO {\n\n    protected Long id;\n    protected List&lt;AbstractReserveDTO&gt; reserves;\n    public AbstractSportFieldDTO() {\n    }\n\n    public AbstractSportFieldDTO(Long id, List&lt;AbstractReserveDTO&gt; reserves) {\n        this.id = id;\n        this.reserves = reserves;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public AbstractSportFieldDTO setId(Long id) {\n        this.id = id;\n        return this;\n    }\n\n\n    public List&lt;AbstractReserveDTO&gt; getReserves() {\n        return reserves;\n    }\n\n    public AbstractSportFieldDTO setReserves(List&lt;AbstractReserveDTO&gt; reserves) {\n        this.reserves = reserves;\n        return this;\n    }\n}\n</code></pre>\n\n<p>The first DTO subclass is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package dto.sport;\n\n\nimport dto.reserve.AbstractReserveDTO;\n\nimport java.util.List;\n\npublic class ComboSportFieldDTO extends AbstractSportFieldDTO {\n\n    private List&lt;SportFieldDTO&gt; sportFields;\n\n    public ComboSportFieldDTO(List&lt;SportFieldDTO&gt; sportFields) {\n        this.sportFields = sportFields;\n    }\n\n    public ComboSportFieldDTO(Long id, List&lt;AbstractReserveDTO&gt; reserves, List&lt;SportFieldDTO&gt; sportFields) {\n        super(id, reserves);\n        this.sportFields = sportFields;\n    }\n\n    public ComboSportFieldDTO() {\n        super();\n    }\n\n    public List&lt;SportFieldDTO&gt; getSportFields() {\n        return sportFields;\n    }\n\n    public void setSportFields(List&lt;SportFieldDTO&gt; sportFields) {\n        this.sportFields = sportFields;\n    }\n}\n</code></pre>\n\n<p>The second DTO subclass is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package dto.sport;\n\nimport dto.reserve.AbstractReserveDTO;\n\nimport java.util.List;\n\npublic class SportFieldDTO extends AbstractSportFieldDTO {\n\n    private Boolean joineable;\n\n    public SportFieldDTO(Long id, List&lt;AbstractReserveDTO&gt; reserves, Boolean joineable) {\n        super(id, reserves);\n        this.joineable = joineable;\n    }\n\n    public SportFieldDTO() {\n        super();\n    }\n\n    public Boolean getJoineable() {\n        return joineable;\n    }\n\n    public void setJoineable(Boolean joineable) {\n        this.joineable = joineable;\n    }\n}\n\n</code></pre>\n\n<p>Then the Entities are:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.pfi.repository.entity.sport;\n\nimport com.pfi.repository.entity.reserve.AbstractReserve;\nimport java.util.List;\n\npublic abstract class AbstractSportField {\n\n    protected Long id;\n    protected List&lt;AbstractReserve&gt; reserves;\n\n    public AbstractSportField(Long id, List&lt;AbstractReserve&gt; reserves) {\n        this.id = id;\n        this.reserves = reserves;\n    }\n\n    public AbstractSportField() {\n\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public AbstractSportField setId(Long id) {\n        this.id = id;\n        return this;\n    }\n\n    public List&lt;AbstractReserve&gt; getReserves() {\n        return reserves;\n    }\n\n    public AbstractSportField setReserves(List&lt;AbstractReserve&gt; reserves) {\n        this.reserves = reserves;\n        return this;\n    }\n\n}\n\n</code></pre>\n\n<p>The first subclass is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.pfi.repository.entity.sport;\n\nimport com.pfi.repository.entity.reserve.AbstractReserve;\n\nimport java.util.List;\n\npublic class ComboSportField extends AbstractSportField {\n\n    private List&lt;SportField&gt; sportFields;\n\n    public ComboSportField(Long id, List&lt;AbstractReserve&gt; reserves, List&lt;SportField&gt; sportFields) {\n        super(id, reserves);\n        this.sportFields = sportFields;\n    }\n\n    public ComboSportField(){\n        super();\n    }\n\n    public List&lt;SportField&gt; getSportFields() {\n        return sportFields;\n    }\n\n    public ComboSportField setSportFields(List&lt;SportField&gt; sportFields) {\n        this.sportFields = sportFields;\n        return this;\n    }\n}\n\n</code></pre>\n\n<p>And the last subclass is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.pfi.repository.entity.sport;\n\nimport com.pfi.repository.entity.reserve.AbstractReserve;\n\nimport javax.persistence.Entity;\nimport java.util.List;\n\npublic class SportField extends AbstractSportField {\n\n    private Boolean joineable;\n\n    public SportField(Long id, List&lt;AbstractReserve&gt; reserves, Boolean joineable) {\n        super(id, reserves);\n        this.joineable = joineable;\n    }\n\n    public SportField(){\n        super();\n    }\n\n    public Boolean getJoineable() {\n        return joineable;\n    }\n\n    public SportField setJoineable(Boolean joineable) {\n        this.joineable = joineable;\n        return this;\n    }\n}\n\n</code></pre>\n\n<p>When i try to map an instance of SportPlace to SportPlaceDTO like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>modelMapper.map(sportPlace, SportPlaceDTO.class)\n</code></pre>\n\n<p>That de sportPlace contains the given 6 Sportfields that are instances of subclasses. The model mapper throws (on the 6 elements of the list):</p>\n\n<p>Failed to instantiate instance of destination dto.sport.AbstractSportFieldDTO. Ensure that dto.sport.AbstractSportFieldDTO has a non-private no-argument constructor.</p>\n\n<p>Reading about how can i map subclasses on modelmapper i found setting TypeMap, that can set a specific mapping on a class like this:</p>\n\n<p>modelMapper.createTypeMap(ComboSportField.class, ComboSportFieldDTO.class);</p>\n\n<p>For that reason i created a builder to config the model mapper like this </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.pfi.repository.builder;\n\nimport com.pfi.repository.entity.*;;\nimport dto.reserve.*;\nimport dto.sport.*;\nimport org.modelmapper.ModelMapper;\nimport org.modelmapper.convention.MatchingStrategies;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class MapperBuilder {\n\n    public ModelMapper buildModelMapper() {\n        ModelMapper modelMapper = new ModelMapper();\n        modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\n        mapEntitiesToDTO(modelMapper);\n        mapDTOToEntities(modelMapper);\n        return modelMapper;\n    }\n\n    private void mapEntitiesToDTO(final ModelMapper modelMapper){\n        modelMapper.createTypeMap(ComboSportField.class, ComboSportFieldDTO.class);\n        modelMapper.createTypeMap(SportField.class, SportFieldDTO.class);\n        modelMapper.createTypeMap(Reserve.class, ReserveDTO.class);\n        modelMapper.createTypeMap(AppReserve.class, AppReserveDTO.class);\n\n    }\n    private void mapDTOToEntities(final ModelMapper modelMapper){\n        modelMapper.createTypeMap(ComboSportFieldDTO.class, ComboSportField.class);\n        modelMapper.createTypeMap(SportFieldDTO.class, SportField.class);\n        modelMapper.createTypeMap(ReserveDTO.class, Reserve.class);\n        modelMapper.createTypeMap(AppReserveDTO.class, AppReserve.class);\n    }\n}\n\n</code></pre>\n\n<p>And i use the builder when i create the controller like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\n    protected MapperBuilder mapperBuilder;\n\n    BaseController(){\n        this.getLogger();\n    }\n\n    @PostConstruct\n    public void buildMapper(){\n        modelMapper = mapperBuilder.buildModelMapper();\n    }\n</code></pre>\n\n<p>I don't know what else I can do to be able map the subclasses.</p>\n\n<p>Does anyone know how to solve this issue?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","flutter"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667304983,"creation_date":1667304983,"answer_id":74275811,"question_id":74272875,"body_markdown":"From the Java code it can be deduced that the AES key `secretKey` and the ciphertext `str` are Base64 encoded. The first 16 bytes of *the Base64 encoded* key (not of the *raw* key!) are used as IV.  \r\nIn the Dart code the key is incorrectly converted and a wrong IV is used. A possible fix is (together with sample data):\r\n\r\n```dart\r\nconst decryptKey = &quot;MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDE=&quot;;\r\nconst encData = &quot;lo0dOoJrHNRuefPXgkEa6jtDUhV5CguF9MHWTJ4Y8eGP8zHaKJEQIuOTZxstyk3X&quot;;\r\nfinal key = en.Key.fromBase64(decryptKey);\r\nfinal iv = en.IV(Uint8List.fromList(utf8.encode(decryptKey).sublist(0, 16)));\r\nfinal encrypter = en.Encrypter(en.AES(key, mode: en.AESMode.cbc));\r\nfinal decrypted = encrypter.decrypt64(encData, iv: iv); // The quick brown fox jumps over the lazy dog\r\n```\r\n\r\nAs test, key and ciphertext can be used in the Java code that returns the same plaintext for them.\r\n\r\n---------\r\n\r\nBe aware that deriving the IV from the key is generally insecure, since encryptions with the same key automatically lead to the reuse of key/IV pairs. Instead, a random IV should be used for each encryption.","title":"how to implement decrypt in flutter like java?","body":"<p>From the Java code it can be deduced that the AES key <code>secretKey</code> and the ciphertext <code>str</code> are Base64 encoded. The first 16 bytes of <em>the Base64 encoded</em> key (not of the <em>raw</em> key!) are used as IV.<br />\nIn the Dart code the key is incorrectly converted and a wrong IV is used. A possible fix is (together with sample data):</p>\n<pre class=\"lang-dart prettyprint-override\"><code>const decryptKey = &quot;MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDE=&quot;;\nconst encData = &quot;lo0dOoJrHNRuefPXgkEa6jtDUhV5CguF9MHWTJ4Y8eGP8zHaKJEQIuOTZxstyk3X&quot;;\nfinal key = en.Key.fromBase64(decryptKey);\nfinal iv = en.IV(Uint8List.fromList(utf8.encode(decryptKey).sublist(0, 16)));\nfinal encrypter = en.Encrypter(en.AES(key, mode: en.AESMode.cbc));\nfinal decrypted = encrypter.decrypt64(encData, iv: iv); // The quick brown fox jumps over the lazy dog\n</code></pre>\n<p>As test, key and ciphertext can be used in the Java code that returns the same plaintext for them.</p>\n<hr />\n<p>Be aware that deriving the IV from the key is generally insecure, since encryptions with the same key automatically lead to the reuse of key/IV pairs. Instead, a random IV should be used for each encryption.</p>\n"}],"owner":{"account_id":22890100,"reputation":125,"user_id":17030358,"display_name":"broheat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74275811,"answer_count":1,"score":0,"last_activity_date":1667304983,"creation_date":1667288639,"question_id":74272875,"body_markdown":"I have to change java code for decrypt to flutter code. I use library &quot;encrypt&quot; for flutter. my flutter code show \r\n\r\n&gt; Key length not 128/192/256 bits.\r\n\r\nmy java spring boot code.\r\n\r\n    public static String decryptAES256(String str, String secretKey) throws java.io.UnsupportedEncodingException,\r\n                    NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException,\r\n                    InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException {\r\n                String AES = &quot;AES&quot;;\r\n                String AES_PADDING = &quot;AES/CBC/PKCS5Padding&quot;;\r\n                byte[] keyData = java.util.Base64.getDecoder().decode(secretKey);\r\n                String iv = secretKey.substring(0, 16);\r\n                SecretKey secureKey = new SecretKeySpec(keyData, AES);\r\n                Cipher c = Cipher.getInstance(AES_PADDING);\r\n                c.init(Cipher.DECRYPT_MODE, secureKey, new IvParameterSpec(iv.getBytes(StandardCharsets.UTF_8)));\r\n                byte[] byteStr = Base64.getDecoder().decode(str.getBytes());\r\n                return new String(c.doFinal(byteStr), StandardCharsets.UTF_8);\r\n            }\r\n\r\nmy flutter code.\r\n\r\n    final encData = codefModel.data!.encData!;\r\n        final key = en.Key.fromUtf8(decryptKey);\r\n        final b64key = en.Key.fromUtf8(base64Url.encode(key.bytes));\r\n        final iv = en.IV.fromLength(16);\r\n        final encrypter = en.Encrypter(en.AES(b64key, mode: en.AESMode.cbc));\r\n        logger.d(encrypter.decrypt64(encData, iv: iv));\r\n","title":"how to implement decrypt in flutter like java?","body":"<p>I have to change java code for decrypt to flutter code. I use library &quot;encrypt&quot; for flutter. my flutter code show</p>\n<blockquote>\n<p>Key length not 128/192/256 bits.</p>\n</blockquote>\n<p>my java spring boot code.</p>\n<pre><code>public static String decryptAES256(String str, String secretKey) throws java.io.UnsupportedEncodingException,\n                NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException,\n                InvalidAlgorithmParameterException, IllegalBlockSizeException, BadPaddingException {\n            String AES = &quot;AES&quot;;\n            String AES_PADDING = &quot;AES/CBC/PKCS5Padding&quot;;\n            byte[] keyData = java.util.Base64.getDecoder().decode(secretKey);\n            String iv = secretKey.substring(0, 16);\n            SecretKey secureKey = new SecretKeySpec(keyData, AES);\n            Cipher c = Cipher.getInstance(AES_PADDING);\n            c.init(Cipher.DECRYPT_MODE, secureKey, new IvParameterSpec(iv.getBytes(StandardCharsets.UTF_8)));\n            byte[] byteStr = Base64.getDecoder().decode(str.getBytes());\n            return new String(c.doFinal(byteStr), StandardCharsets.UTF_8);\n        }\n</code></pre>\n<p>my flutter code.</p>\n<pre><code>final encData = codefModel.data!.encData!;\n    final key = en.Key.fromUtf8(decryptKey);\n    final b64key = en.Key.fromUtf8(base64Url.encode(key.bytes));\n    final iv = en.IV.fromLength(16);\n    final encrypter = en.Encrypter(en.AES(b64key, mode: en.AESMode.cbc));\n    logger.d(encrypter.decrypt64(encData, iv: iv));\n</code></pre>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":4777995,"reputation":1601,"user_id":3860594,"accept_rate":97,"display_name":"john"},"score":0,"creation_date":1667290020,"post_id":74266173,"comment_id":131127906,"body_markdown":"in raw SQL this looks like `update my_table\nset column = replace(column::text, &#39;val&#39;, &#39;value&#39;)::jsonb[]\n `","body":"in raw SQL this looks like <code>update my_table set column = replace(column::text, &#39;val&#39;, &#39;value&#39;)::jsonb[]  </code>"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667304825,"creation_date":1667291133,"answer_id":74273240,"question_id":74266173,"body_markdown":"You can translate a lot of native SQL to jOOQ, in your case, this (from your comments):\r\n\r\n```sql\r\n-- SQL\r\nreplace(column::text, &#39;val&#39;, &#39;value&#39;)::jsonb[]\r\n```\r\n\r\nWould just be\r\n\r\n```java\r\n// jOOQ\r\nreplace(MY_TABLE.COLUMN.cast(CLOB), &quot;val&quot;, &quot;value&quot;).cast(JSONB.getArrayDataType())\r\n\r\n// Starting from jOOQ 3.18, there will be an alias JSONB.array()\r\n```\r\n\r\nBut you don&#39;t have to translate everything to jOOQ API if you feel that something would be simpler to express in native SQL. Just use [plain SQL templating][1], in that case:\r\n\r\n```java\r\nfield(&quot;replace({0}::text, &#39;val&#39;, &#39;value&#39;)::jsonb[]&quot;, \r\n    MY_TABLE.COLUMN.getDataType(), \r\n    MY_TABLE.COLUMN\r\n)\r\n```\r\n\r\nAssuming, as always, the usual static imports:\r\n\r\n```java\r\nimport static org.jooq.impl.DSL.*;\r\nimport static org.jooq.impl.SQLDataType.*;\r\n```\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/","title":"jOOQ update a JSON array field using a String","body":"<p>You can translate a lot of native SQL to jOOQ, in your case, this (from your comments):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- SQL\nreplace(column::text, 'val', 'value')::jsonb[]\n</code></pre>\n<p>Would just be</p>\n<pre class=\"lang-java prettyprint-override\"><code>// jOOQ\nreplace(MY_TABLE.COLUMN.cast(CLOB), &quot;val&quot;, &quot;value&quot;).cast(JSONB.getArrayDataType())\n\n// Starting from jOOQ 3.18, there will be an alias JSONB.array()\n</code></pre>\n<p>But you don't have to translate everything to jOOQ API if you feel that something would be simpler to express in native SQL. Just use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templating</a>, in that case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>field(&quot;replace({0}::text, 'val', 'value')::jsonb[]&quot;, \n    MY_TABLE.COLUMN.getDataType(), \n    MY_TABLE.COLUMN\n)\n</code></pre>\n<p>Assuming, as always, the usual static imports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.jooq.impl.DSL.*;\nimport static org.jooq.impl.SQLDataType.*;\n</code></pre>\n"}],"owner":{"account_id":4777995,"reputation":1601,"user_id":3860594,"accept_rate":97,"display_name":"john"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667304825,"creation_date":1667232902,"question_id":74266173,"body_markdown":"I have a JSON Array field (`Array&lt;JSONB?&gt;`) (in Postgres its a JSONB[]) that contains a value like so:\r\n\r\nBefore: `[{&quot;key1&quot;:&quot;val1&quot;}, {&quot;key2&quot;:&quot;val2&quot;}]`\r\n\r\nI want to perform an update on this array - to do a simple string replace (*val* to *value*). Yes: I want to treat the JSON array as a string, but save back into the DB as a JSON array.\r\n\r\nAfter:\r\n`[{&quot;key1&quot;:&quot;value1&quot;}, {&quot;key2&quot;:&quot;value2&quot;}]`\r\n\r\nI am finding it hard to get the syntax with JOOQ correct. I have the following:\r\n\r\n```kotlin\r\nval jsonArrayAsString = record.getValue(MY_TABLE.ARRAY_FIELD).contentDeepToString().replace(&quot;val&quot;, &quot;value&quot;)))\r\n\r\nconn.update(MY_TABLE).set(MY_TABLE.ARRAY_FIELD, jsonArrayAsString))\r\n","title":"jOOQ update a JSON array field using a String","body":"<p>I have a JSON Array field (<code>Array&lt;JSONB?&gt;</code>) (in Postgres its a JSONB[]) that contains a value like so:</p>\n<p>Before: <code>[{&quot;key1&quot;:&quot;val1&quot;}, {&quot;key2&quot;:&quot;val2&quot;}]</code></p>\n<p>I want to perform an update on this array - to do a simple string replace (<em>val</em> to <em>value</em>). Yes: I want to treat the JSON array as a string, but save back into the DB as a JSON array.</p>\n<p>After:\n<code>[{&quot;key1&quot;:&quot;value1&quot;}, {&quot;key2&quot;:&quot;value2&quot;}]</code></p>\n<p>I am finding it hard to get the syntax with JOOQ correct. I have the following:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val jsonArrayAsString = record.getValue(MY_TABLE.ARRAY_FIELD).contentDeepToString().replace(&quot;val&quot;, &quot;value&quot;)))\n\nconn.update(MY_TABLE).set(MY_TABLE.ARRAY_FIELD, jsonArrayAsString))\n</code></pre>\n"},{"tags":["java","rest","exception","overriding"],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667304604,"creation_date":1667304155,"answer_id":74275646,"question_id":74275500,"body_markdown":"can you extract the common part to a method like this?\r\n\r\n    private ResponseEntity&lt;ErrorDto&gt; conflict(final Throwable exception, HttpStatus status, String scrimType) {\r\n        final var errorDto = new ErrorDto();\r\n        errorDto.setDetail(exception.getMessage());\r\n        errorDto.setStatus(status.toString());\r\n        errorDto.setScimType(scrimType);\r\n        return new ResponseEntity&lt;&gt;(errorDto, status);\r\n    }\r\n\r\nand call it from your methods,\r\n\r\n    @ExceptionHandler(value = {ProhibitedScimTypeException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; policyConflict(final ProhibitedScimTypeException exception) {\r\n        return conflict(exception, HttpStatus.BAD_REQUEST, &quot;prohibited&quot;);\r\n    }\r\n    \r\n    @ExceptionHandler(value = {UserAlreadyExistsException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; userNameExistsConflict(final UserAlreadyExistsException exception) {\r\n        return conflict(exception, HttpStatus.CONFLICT, &quot;uniqueness&quot;);\r\n    }\r\n    \r\n    @ExceptionHandler(value = {UserNotFoundException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; userNameNotFoundConflict(final UserNotFoundException exception) {\r\n        return conflict(exception, HttpStatus.NOT_FOUND, &quot;prohibited&quot;);\r\n    }","title":"How to simplify several methods with similar bodies into one?","body":"<p>can you extract the common part to a method like this?</p>\n<pre><code>private ResponseEntity&lt;ErrorDto&gt; conflict(final Throwable exception, HttpStatus status, String scrimType) {\n    final var errorDto = new ErrorDto();\n    errorDto.setDetail(exception.getMessage());\n    errorDto.setStatus(status.toString());\n    errorDto.setScimType(scrimType);\n    return new ResponseEntity&lt;&gt;(errorDto, status);\n}\n</code></pre>\n<p>and call it from your methods,</p>\n<pre><code>@ExceptionHandler(value = {ProhibitedScimTypeException.class})\npublic ResponseEntity&lt;ErrorDto&gt; policyConflict(final ProhibitedScimTypeException exception) {\n    return conflict(exception, HttpStatus.BAD_REQUEST, &quot;prohibited&quot;);\n}\n\n@ExceptionHandler(value = {UserAlreadyExistsException.class})\npublic ResponseEntity&lt;ErrorDto&gt; userNameExistsConflict(final UserAlreadyExistsException exception) {\n    return conflict(exception, HttpStatus.CONFLICT, &quot;uniqueness&quot;);\n}\n\n@ExceptionHandler(value = {UserNotFoundException.class})\npublic ResponseEntity&lt;ErrorDto&gt; userNameNotFoundConflict(final UserNotFoundException exception) {\n    return conflict(exception, HttpStatus.NOT_FOUND, &quot;prohibited&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667304301,"creation_date":1667304301,"answer_id":74275678,"question_id":74275500,"body_markdown":"Create a method:\r\n\r\n```java\r\n    private ResponseEntity&lt;ErrorDto&gt; conflict(final Throwable exception, final Object status, final String scimType, final HttpStatus httpStatus) {\r\n      final var errorDto = new ErrorDto();\r\n      errorDto.setDetail(exception.getMessage());\r\n      errorDto.setStatus(status.toString());\r\n      errorDto.setScimType(scimType);\r\n      return new ResponseEntity&lt;&gt;(errorDto, httpStatus);\r\n    }\r\n```\r\n\r\n\r\nand use it like\r\n\r\n```java\r\n    @ExceptionHandler(value = {ProhibitedScimTypeException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; policyConflict(final ProhibitedScimTypeException exception) {\r\n      return this.conflict(exception, BAD_REQUEST, &quot;prohibited&quot;, HttpStatus.BAD_REQUEST);\r\n    }\r\n```\r\n\r\n","title":"How to simplify several methods with similar bodies into one?","body":"<p>Create a method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private ResponseEntity&lt;ErrorDto&gt; conflict(final Throwable exception, final Object status, final String scimType, final HttpStatus httpStatus) {\n      final var errorDto = new ErrorDto();\n      errorDto.setDetail(exception.getMessage());\n      errorDto.setStatus(status.toString());\n      errorDto.setScimType(scimType);\n      return new ResponseEntity&lt;&gt;(errorDto, httpStatus);\n    }\n</code></pre>\n<p>and use it like</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ExceptionHandler(value = {ProhibitedScimTypeException.class})\n    public ResponseEntity&lt;ErrorDto&gt; policyConflict(final ProhibitedScimTypeException exception) {\n      return this.conflict(exception, BAD_REQUEST, &quot;prohibited&quot;, HttpStatus.BAD_REQUEST);\n    }\n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74275646,"answer_count":2,"score":0,"last_activity_date":1667304604,"creation_date":1667303555,"question_id":74275500,"body_markdown":"I would like to simplify my code and merge common parts of the several methods into new one. Could you give me the piece of advice - what is the best way to do it?\r\nMy methods are:\r\n\r\n    @ExceptionHandler(value = {ProhibitedScimTypeException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; policyConflict(final ProhibitedScimTypeException exception) {\r\n        final var errorDto = new ErrorDto();\r\n        errorDto.setDetail(exception.getMessage());\r\n        errorDto.setStatus(BAD_REQUEST.toString());\r\n        errorDto.setScimType(&quot;prohibited&quot;);\r\n        return new ResponseEntity&lt;&gt;(errorDto, HttpStatus.BAD_REQUEST);\r\n    }\r\n\r\n    @ExceptionHandler(value = {UserAlreadyExistsException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; userNameExistsConflict(final UserAlreadyExistsException exception) {\r\n        final var errorDto = new ErrorDto();\r\n        errorDto.setDetail(exception.getMessage());\r\n        errorDto.setStatus(CONFLICT.toString());\r\n        errorDto.setScimType(&quot;uniqueness&quot;);\r\n        return new ResponseEntity&lt;&gt;(errorDto, HttpStatus.CONFLICT);\r\n    }\r\n\r\n    @ExceptionHandler(value = {UserNotFoundException.class})\r\n    public ResponseEntity&lt;ErrorDto&gt; userNameNotFoundConflict(final UserNotFoundException exception) {\r\n        final var errorDto = new ErrorDto();\r\n        errorDto.setDetail(exception.getMessage());\r\n        errorDto.setStatus(NOT_FOUND.toString());\r\n        errorDto.setScimType(&quot;prohibited&quot;);\r\n        return new ResponseEntity&lt;&gt;(errorDto, HttpStatus.NOT_FOUND);\r\n    }\r\n\r\nI would like to separate the common part which is:\r\n\r\n    final var errorDto = new ErrorDto();\r\n    errorDto.setDetail(exception.getMessage());\r\n    errorDto.setStatus(MEHTOD.toString());\r\n    errorDto.setScimType(&quot;something&quot;);","title":"How to simplify several methods with similar bodies into one?","body":"<p>I would like to simplify my code and merge common parts of the several methods into new one. Could you give me the piece of advice - what is the best way to do it?\nMy methods are:</p>\n<pre><code>@ExceptionHandler(value = {ProhibitedScimTypeException.class})\npublic ResponseEntity&lt;ErrorDto&gt; policyConflict(final ProhibitedScimTypeException exception) {\n    final var errorDto = new ErrorDto();\n    errorDto.setDetail(exception.getMessage());\n    errorDto.setStatus(BAD_REQUEST.toString());\n    errorDto.setScimType(&quot;prohibited&quot;);\n    return new ResponseEntity&lt;&gt;(errorDto, HttpStatus.BAD_REQUEST);\n}\n\n@ExceptionHandler(value = {UserAlreadyExistsException.class})\npublic ResponseEntity&lt;ErrorDto&gt; userNameExistsConflict(final UserAlreadyExistsException exception) {\n    final var errorDto = new ErrorDto();\n    errorDto.setDetail(exception.getMessage());\n    errorDto.setStatus(CONFLICT.toString());\n    errorDto.setScimType(&quot;uniqueness&quot;);\n    return new ResponseEntity&lt;&gt;(errorDto, HttpStatus.CONFLICT);\n}\n\n@ExceptionHandler(value = {UserNotFoundException.class})\npublic ResponseEntity&lt;ErrorDto&gt; userNameNotFoundConflict(final UserNotFoundException exception) {\n    final var errorDto = new ErrorDto();\n    errorDto.setDetail(exception.getMessage());\n    errorDto.setStatus(NOT_FOUND.toString());\n    errorDto.setScimType(&quot;prohibited&quot;);\n    return new ResponseEntity&lt;&gt;(errorDto, HttpStatus.NOT_FOUND);\n}\n</code></pre>\n<p>I would like to separate the common part which is:</p>\n<pre><code>final var errorDto = new ErrorDto();\nerrorDto.setDetail(exception.getMessage());\nerrorDto.setStatus(MEHTOD.toString());\nerrorDto.setScimType(&quot;something&quot;);\n</code></pre>\n"},{"tags":["java","arrays","kotlin","reflection","annotation-processing"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667304542,"creation_date":1667304542,"answer_id":74275716,"question_id":74275602,"body_markdown":"Kotlin arrays and Java arrays are the same thing at the VM level.  `Array&lt;*&gt;` is Kotlin&#39;s syntax for arrays, but the objects are the same thing.  .isArray should work.\r\n\r\nThe proxy objects are typical for what you get when you call getClass on annotation objects in Java *or* Kotlin.  You likely need to use [`annotationType`](https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Annotation.html#annotationType--) instead of getClass.","title":"In Java, detect if an Object is a Kotlin array","body":"<p>Kotlin arrays and Java arrays are the same thing at the VM level.  <code>Array&lt;*&gt;</code> is Kotlin's syntax for arrays, but the objects are the same thing.  .isArray should work.</p>\n<p>The proxy objects are typical for what you get when you call getClass on annotation objects in Java <em>or</em> Kotlin.  You likely need to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Annotation.html#annotationType--\" rel=\"nofollow noreferrer\"><code>annotationType</code></a> instead of getClass.</p>\n"}],"owner":{"account_id":959704,"reputation":8465,"user_id":984335,"accept_rate":85,"display_name":"Travis Parks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667304542,"creation_date":1667303999,"question_id":74275602,"body_markdown":"Sorry if this is very specific...\r\n\r\nI am looking at [Javapoet](https://github.com/square/javapoet)&#39;s implementation of `AnnotationSpec.get(Annotation)`. It recursively clones an annotation so that you can copy it to another element. In my case, I am trying to copy an `@OpenApi` annotation from one method to another.\r\n\r\nThe issue is caused by the annotations being written in kotlin. Anywhere the annotation needs a class, it is using `KClass&lt;*&gt;`. Javapoet only handles Java types, like `Class&lt;?&gt;`. From Java, I can say `if (o instanceof Class || o instance of KClass)` no problem.\r\n\r\nHowever, there&#39;s also code that says `o.getClass().isArray()` but, from what I can tell, kotlin annotations use `Array&lt;*&gt;` for arrays, so that check is failing. The actual type appears to be `com.sun.proxy.$Proxy54` when I inspect it, but I have no idea what that is.\r\n\r\nHow do you detect if an object is an kotlin array *from Java*? Can this be converted to a Java array? Is there some universal way to make kotlin annotations appear as java annotations using `Class` and built-in arrays and so on?","title":"In Java, detect if an Object is a Kotlin array","body":"<p>Sorry if this is very specific...</p>\n<p>I am looking at <a href=\"https://github.com/square/javapoet\" rel=\"nofollow noreferrer\">Javapoet</a>'s implementation of <code>AnnotationSpec.get(Annotation)</code>. It recursively clones an annotation so that you can copy it to another element. In my case, I am trying to copy an <code>@OpenApi</code> annotation from one method to another.</p>\n<p>The issue is caused by the annotations being written in kotlin. Anywhere the annotation needs a class, it is using <code>KClass&lt;*&gt;</code>. Javapoet only handles Java types, like <code>Class&lt;?&gt;</code>. From Java, I can say <code>if (o instanceof Class || o instance of KClass)</code> no problem.</p>\n<p>However, there's also code that says <code>o.getClass().isArray()</code> but, from what I can tell, kotlin annotations use <code>Array&lt;*&gt;</code> for arrays, so that check is failing. The actual type appears to be <code>com.sun.proxy.$Proxy54</code> when I inspect it, but I have no idea what that is.</p>\n<p>How do you detect if an object is an kotlin array <em>from Java</em>? Can this be converted to a Java array? Is there some universal way to make kotlin annotations appear as java annotations using <code>Class</code> and built-in arrays and so on?</p>\n"},{"tags":["java","linux","geolocation","ip-address"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1667304599,"post_id":74275657,"comment_id":131132129,"body_markdown":"What do you mean &quot;system ip address&quot;? You mean the address of your computer on your own network?","body":"What do you mean &quot;system ip address&quot;? You mean the address of your computer on your own network?"},{"owner":{"account_id":26679962,"reputation":1,"user_id":20290053,"display_name":"Shubham Pandharpote"},"score":0,"creation_date":1667304982,"post_id":74275657,"comment_id":131132265,"body_markdown":"yes i want access my longitude and latitude of my system","body":"yes i want access my longitude and latitude of my system"}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1667304516,"creation_date":1667304516,"answer_id":74275712,"question_id":74275657,"body_markdown":"There is no link between your system&#39;s ip address and a location. imagine your system&#39;s IP address being 192.168.0.1.\r\n\r\nAlso: The coordinates your your public IP address are probably the ones of your ISPs datacenter, not of your device. \r\n\r\nWhat are your actually trying to achieve?\r\n","title":"Get longitude and latitude in java","body":"<p>There is no link between your system's ip address and a location. imagine your system's IP address being 192.168.0.1.</p>\n<p>Also: The coordinates your your public IP address are probably the ones of your ISPs datacenter, not of your device.</p>\n<p>What are your actually trying to achieve?</p>\n"}],"owner":{"account_id":26679962,"reputation":1,"user_id":20290053,"display_name":"Shubham Pandharpote"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1667305884,"answer_count":1,"score":-4,"last_activity_date":1667304516,"creation_date":1667304202,"question_id":74275657,"body_markdown":"I want track my location using longitude and latitude in linux\r\n\r\nI am trying get longitude and latitude using public ip address but i want using system ip address","title":"Get longitude and latitude in java","body":"<p>I want track my location using longitude and latitude in linux</p>\n<p>I am trying get longitude and latitude using public ip address but i want using system ip address</p>\n"},{"tags":["java","spring","docx4j"],"comments":[{"owner":{"account_id":26539115,"reputation":1083,"user_id":20170164,"display_name":"rainbow.gekota"},"score":0,"creation_date":1667328011,"post_id":74275592,"comment_id":131140422,"body_markdown":"Your paste of the exception message is missing the front part that says it&#39;s a ClassCastException. Here&#39;s a [google query for the exception message](https://www.google.com/search?q=java+%22are+in+unnamed+module+of+loader%22&amp;oq=java+%22are+in+unnamed+module+of+loader%22). The code you have showed doesn&#39;t seem to include the classes involved in the cast. Please inspect your full stack trace to try to locate the code doing that cast and share that code.","body":"Your paste of the exception message is missing the front part that says it&#39;s a ClassCastException. Here&#39;s a <a href=\"https://www.google.com/search?q=java+%22are+in+unnamed+module+of+loader%22&amp;oq=java+%22are+in+unnamed+module+of+loader%22\" rel=\"nofollow noreferrer\">google query for the exception message</a>. The code you have showed doesn&#39;t seem to include the classes involved in the cast. Please inspect your full stack trace to try to locate the code doing that cast and share that code."},{"owner":{"account_id":26539115,"reputation":1083,"user_id":20170164,"display_name":"rainbow.gekota"},"score":0,"creation_date":1667328056,"post_id":74275592,"comment_id":131140437,"body_markdown":"Also see the instructions for creating an [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). You have not provided inputs (the file) that reproduce the issue or instructions on how to create such an input file. (Also- I forgot to say- welcome to SO!)","body":"Also see the instructions for creating an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You have not provided inputs (the file) that reproduce the issue or instructions on how to create such an input file. (Also- I forgot to say- welcome to SO!)"},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1667329456,"post_id":74275592,"comment_id":131140806,"body_markdown":"Yes, sample input XHTML please.","body":"Yes, sample input XHTML please."}],"owner":{"account_id":26794763,"reputation":1,"user_id":20387660,"display_name":"Abscondro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667303974,"creation_date":1667303974,"question_id":74275592,"body_markdown":"class org.docx4j.openpackaging.parts.WordprocessingML.BinaryPart cannot be cast to class org.docx4j.openpackaging.parts.WordprocessingML.ObfuscatedFontPart (org.docx4j.openpackaging.parts.WordprocessingML.BinaryPart and org.docx4j.openpackaging.parts.WordprocessingML.ObfuscatedFontPart are in unnamed module of loader &#39;app&#39;\r\n\r\n```\r\npublic String saveFile( RequestDTO saveRequest) throws Docx4JException, IOException {\r\n\r\n    var payload=saveRequest.getDocFile();\r\n     PipedOutputStream osPipe = new PipedOutputStream();\r\n     PipedInputStream isPipe = new PipedInputStream(osPipe);\r\n     DataBufferUtils.write(payload.content(), osPipe)\r\n             .subscribeOn(Schedulers.boundedElastic())\r\n             .doOnComplete(() -&gt; {\r\n                 try {\r\n                     osPipe.close();\r\n                 } catch (IOException ignored) {\r\n                 }\r\n             })\r\n             .subscribe(DataBufferUtils.releaseConsumer());\r\n     byte[] bytes = isPipe.readAllBytes();\r\n   ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(bytes);\r\n         var doc =  WordprocessingMLPackage.load(byteArrayInputStream);\r\n         var updater = new FieldUpdater(doc);\r\n         updater.update(true);\r\n\r\n\r\n     HTMLSettings htmlSettings = Docx4J.createHTMLSettings();\r\n         File images = new File(&quot;/image/&quot;);\r\n         File baseUri = new File(&quot;&quot;);\r\n         htmlSettings.setImageDirPath(images.getAbsolutePath());\r\n         htmlSettings.setImageTargetUri(baseUri.getAbsolutePath());\r\n         htmlSettings.setWmlPackage(doc);\r\n         var mapper =htmlSettings.getFontMapper();\r\n      Docx4jProperties.setProperty(&quot;docx4j.Convert.Out.HTML.OutputMethodXML&quot;, true);\r\n         ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n          Docx4J.toHTML(htmlSettings, os, Docx4J.FLAG_EXPORT_PREFER_XSL);\r\n         var str = new String(os.toByteArray());\r\n        os.close();\r\n         if (doc.getMainDocumentPart().getFontTablePart() != null) {\r\n             doc.getMainDocumentPart().getFontTablePart()\r\n                     .deleteEmbeddedFontTempFiles();\r\n         }\r\n\r\nreturn  str;\r\n\r\n\r\n }\r\n```\r\n\r\nI am expecting the html to be returned as string. It working fine with most of document but give exception with the document I need to convert.","title":"Error Converting .docx to Html using Java Docx4J library","body":"<p>class org.docx4j.openpackaging.parts.WordprocessingML.BinaryPart cannot be cast to class org.docx4j.openpackaging.parts.WordprocessingML.ObfuscatedFontPart (org.docx4j.openpackaging.parts.WordprocessingML.BinaryPart and org.docx4j.openpackaging.parts.WordprocessingML.ObfuscatedFontPart are in unnamed module of loader 'app'</p>\n<pre><code>public String saveFile( RequestDTO saveRequest) throws Docx4JException, IOException {\n\n    var payload=saveRequest.getDocFile();\n     PipedOutputStream osPipe = new PipedOutputStream();\n     PipedInputStream isPipe = new PipedInputStream(osPipe);\n     DataBufferUtils.write(payload.content(), osPipe)\n             .subscribeOn(Schedulers.boundedElastic())\n             .doOnComplete(() -&gt; {\n                 try {\n                     osPipe.close();\n                 } catch (IOException ignored) {\n                 }\n             })\n             .subscribe(DataBufferUtils.releaseConsumer());\n     byte[] bytes = isPipe.readAllBytes();\n   ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(bytes);\n         var doc =  WordprocessingMLPackage.load(byteArrayInputStream);\n         var updater = new FieldUpdater(doc);\n         updater.update(true);\n\n\n     HTMLSettings htmlSettings = Docx4J.createHTMLSettings();\n         File images = new File(&quot;/image/&quot;);\n         File baseUri = new File(&quot;&quot;);\n         htmlSettings.setImageDirPath(images.getAbsolutePath());\n         htmlSettings.setImageTargetUri(baseUri.getAbsolutePath());\n         htmlSettings.setWmlPackage(doc);\n         var mapper =htmlSettings.getFontMapper();\n      Docx4jProperties.setProperty(&quot;docx4j.Convert.Out.HTML.OutputMethodXML&quot;, true);\n         ByteArrayOutputStream os = new ByteArrayOutputStream();\n          Docx4J.toHTML(htmlSettings, os, Docx4J.FLAG_EXPORT_PREFER_XSL);\n         var str = new String(os.toByteArray());\n        os.close();\n         if (doc.getMainDocumentPart().getFontTablePart() != null) {\n             doc.getMainDocumentPart().getFontTablePart()\n                     .deleteEmbeddedFontTempFiles();\n         }\n\nreturn  str;\n\n\n }\n</code></pre>\n<p>I am expecting the html to be returned as string. It working fine with most of document but give exception with the document I need to convert.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1667018991,"post_id":74242871,"comment_id":131076781,"body_markdown":"Garbage collection will free all objects which are not reachable from a &quot;gc root&quot;. In this case you don&#39;t need to set the elements to null -- once root is null all the children are unreachable (assuming there are no other references to them)","body":"Garbage collection will free all objects which are not reachable from a &quot;gc root&quot;. In this case you don&#39;t need to set the elements to null -- once root is null all the children are unreachable (assuming there are no other references to them)"},{"owner":{"account_id":4012552,"reputation":11773,"user_id":3305546,"accept_rate":99,"display_name":"Yves"},"score":0,"creation_date":1667019127,"post_id":74242871,"comment_id":131076794,"body_markdown":"@tgdavies There are no other references to them but they reference themselves as `child1 -&gt; child2 -&gt; ...`. Anyway, so I need only do `root = null;`. Thanks dude.","body":"@tgdavies There are no other references to them but they reference themselves as <code>child1 -&gt; child2 -&gt; ...</code>. Anyway, so I need only do <code>root = null;</code>. Thanks dude."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1667019272,"post_id":74242871,"comment_id":131076803,"body_markdown":"here&#39;s some more information on gc roots: https://www.yourkit.com/docs/java/help/gc_roots.jsp","body":"here&#39;s some more information on gc roots: <a href=\"https://www.yourkit.com/docs/java/help/gc_roots.jsp\" rel=\"nofollow noreferrer\">yourkit.com/docs/java/help/gc_roots.jsp</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1667019823,"post_id":74242871,"comment_id":131076850,"body_markdown":"Yes, I should have said &quot;...no other references to them starting from a GC root&quot;","body":"Yes, I should have said &quot;...no other references to them starting from a GC root&quot;"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667030031,"post_id":74242871,"comment_id":131078060,"body_markdown":"@tgdavies Perhaps you can make an Answer of that useful info?","body":"@tgdavies Perhaps you can make an Answer of that useful info?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667034254,"post_id":74242871,"comment_id":131078642,"body_markdown":"@BasilBourque it actually already mentioned here https://stackoverflow.com/questions/12242904/understanding-memory-leaks-in-java-what-are-the-classes-that-persist-through-o/12242950#12242950 (although the link had rotted, which I&#39;ve just fixed)","body":"@BasilBourque it actually already mentioned here <a href=\"https://stackoverflow.com/questions/12242904/understanding-memory-leaks-in-java-what-are-the-classes-that-persist-through-o/12242950#12242950\" title=\"understanding memory leaks in java what are the classes that persist through o\">stackoverflow.com/questions/12242904/&hellip;</a> (although the link had rotted, which I&#39;ve just fixed)"}],"owner":{"account_id":4012552,"reputation":11773,"user_id":3305546,"accept_rate":99,"display_name":"Yves"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667303783,"answer_count":0,"score":0,"last_activity_date":1667303816,"creation_date":1667018674,"question_id":74242871,"body_markdown":"I&#39;m trying to develop some tree-like data structure with Java.\r\n\r\n    class MyTree {\r\n        private Node root;\r\n    }\r\n\r\n    class Node {\r\n        private HashMap&lt;Character, Node&gt; children;\r\n        private String content;\r\n        // some other data members\r\n    }\r\n\r\nAs you see, each `Node` contains another `Node`, which is its children so that I can build a list like this: `MyTree.root -&gt; child1 -&gt; child2 -&gt; child3`.\r\n\r\nNow, if I want to delete/free this tree, can I simply do `root = null;` or must I loop to set each element to null? I don&#39;t know how gc exactly works in this case...","title":"Must we set null for each element of a list in Java when we want to delete the list","body":"<p>I'm trying to develop some tree-like data structure with Java.</p>\n<pre><code>class MyTree {\n    private Node root;\n}\n\nclass Node {\n    private HashMap&lt;Character, Node&gt; children;\n    private String content;\n    // some other data members\n}\n</code></pre>\n<p>As you see, each <code>Node</code> contains another <code>Node</code>, which is its children so that I can build a list like this: <code>MyTree.root -&gt; child1 -&gt; child2 -&gt; child3</code>.</p>\n<p>Now, if I want to delete/free this tree, can I simply do <code>root = null;</code> or must I loop to set each element to null? I don't know how gc exactly works in this case...</p>\n"},{"tags":["java","spring","spring-boot","logic"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1667301233,"post_id":74274983,"comment_id":131131096,"body_markdown":"`Boolean.FALSE.equals(force)` is unnecessary complicated.  `boolean force` is a primitive boolean, so just using `!force` will give the exact same behavior. Using `Boolean.FALSE.equals` or `Boolean.TRUE.equals` for comparing usually only makes sense when you are dealing with non primitive `Boolean` types and want to avoid NullPointerExceptions.","body":"<code>Boolean.FALSE.equals(force)</code> is unnecessary complicated.  <code>boolean force</code> is a primitive boolean, so just using <code>!force</code> will give the exact same behavior. Using <code>Boolean.FALSE.equals</code> or <code>Boolean.TRUE.equals</code> for comparing usually only makes sense when you are dealing with non primitive <code>Boolean</code> types and want to avoid NullPointerExceptions."},{"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"score":1,"creation_date":1667301654,"post_id":74274983,"comment_id":131131216,"body_markdown":"I would suggest first reviewing your logic as this looks not logically correct\n(Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())","body":"I would suggest first reviewing your logic as this looks not logically correct (Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1667304197,"post_id":74274983,"comment_id":131132003,"body_markdown":"@TsvetoslavTsvetkov `(Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())` could make sense if `item.getContentModificationOnly()` would return a `Boolean`. In that case the statement would resolve to `false` for the case that `item.getContentModificationOnly()` would return `null`.  For a primitive `boolean` this statement of course wouldn&#39;t make sense as the primitive type can&#39;t be `null` and the statement would therefor always resolve to `true`.","body":"@TsvetoslavTsvetkov <code>(Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())</code> could make sense if <code>item.getContentModificationOnly()</code> would return a <code>Boolean</code>. In that case the statement would resolve to <code>false</code> for the case that <code>item.getContentModificationOnly()</code> would return <code>null</code>.  For a primitive <code>boolean</code> this statement of course wouldn&#39;t make sense as the primitive type can&#39;t be <code>null</code> and the statement would therefor always resolve to <code>true</code>."},{"owner":{"account_id":25176430,"reputation":3,"user_id":19018545,"display_name":"emung"},"score":0,"creation_date":1667305081,"post_id":74274983,"comment_id":131132293,"body_markdown":"@OHGODSPIDERS yeah in this case `contentModificationOnly` is declared as Boolean in `ConfigurationItemResource` so I have to use Boolean","body":"@OHGODSPIDERS yeah in this case <code>contentModificationOnly</code> is declared as Boolean in <code>ConfigurationItemResource</code> so I have to use Boolean"}],"answers":[{"tags":[],"owner":{"account_id":26542979,"reputation":31,"user_id":20173434,"display_name":"Thy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667301849,"creation_date":1667301849,"answer_id":74275171,"question_id":74274983,"body_markdown":"First if condition\r\n\r\n     if (item.getContentModificationOnly() &amp;&amp; !force) {\r\n\r\nSecond If condition\r\n\r\n    if ((item.getContentModificationOnly() || !item.getContentModificationOnly()) &amp;&amp; force) {\r\n\r\nThe below code will always return true\r\n\r\n    (item.getContentModificationOnly() || !item.getContentModificationOnly()) \r\n\r\nso modify second if stmnt to just\r\n\r\n `if (force)`{","title":"Is there a better way to write this if statements?","body":"<p>First if condition</p>\n<pre><code> if (item.getContentModificationOnly() &amp;&amp; !force) {\n</code></pre>\n<p>Second If condition</p>\n<pre><code>if ((item.getContentModificationOnly() || !item.getContentModificationOnly()) &amp;&amp; force) {\n</code></pre>\n<p>The below code will always return true</p>\n<pre><code>(item.getContentModificationOnly() || !item.getContentModificationOnly()) \n</code></pre>\n<p>so modify second if stmnt to just</p>\n<p><code>if (force)</code>{</p>\n"},{"tags":[],"owner":{"account_id":24476594,"reputation":16,"user_id":18395563,"display_name":"LiLittleCat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667302117,"creation_date":1667302044,"answer_id":74275203,"question_id":74274983,"body_markdown":"It looks like you don&#39;t care about `item.getContentModificationOnly()` is true or false in the second if-statement since your code is `(Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())`. So if your logic is right I suggest you code like this:\r\n```java\r\n\r\nif (fore) {\r\n    this.assignmentService.deleteAssignmentsByItem(item);\r\n    this.configurationInstanceRepository.deleteByItem(item);\r\n    this.configurationItemRepository.deleteById(itemId);\r\n} else if (Boolean.TRUE.equals(item.getContentModificationOnly()) {\r\n    throw new ContentModificationOnlyException(&quot;Configuration Item cannot be deleted&quot;);\r\n}\r\n\r\n```","title":"Is there a better way to write this if statements?","body":"<p>It looks like you don't care about <code>item.getContentModificationOnly()</code> is true or false in the second if-statement since your code is <code>(Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())</code>. So if your logic is right I suggest you code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nif (fore) {\n    this.assignmentService.deleteAssignmentsByItem(item);\n    this.configurationInstanceRepository.deleteByItem(item);\n    this.configurationItemRepository.deleteById(itemId);\n} else if (Boolean.TRUE.equals(item.getContentModificationOnly()) {\n    throw new ContentModificationOnlyException(&quot;Configuration Item cannot be deleted&quot;);\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667303642,"creation_date":1667303642,"answer_id":74275530,"question_id":74274983,"body_markdown":"Depends on the return type `item.getContentModificationOnly()`. If it&#39;s **B**oolean, than the second statement can be reduced to\r\n\r\n    if(item.getContentModificationOnly() != null &amp;&amp; force)\r\n\r\nIf the return type of `item.getContentModificationOnly()` is **b**oolean, than the statement can be reduced to \r\n\r\n    if(force) \r\n\r\nand the answer of @LiLittleCat above if correct.","title":"Is there a better way to write this if statements?","body":"<p>Depends on the return type <code>item.getContentModificationOnly()</code>. If it's <strong>B</strong>oolean, than the second statement can be reduced to</p>\n<pre><code>if(item.getContentModificationOnly() != null &amp;&amp; force)\n</code></pre>\n<p>If the return type of <code>item.getContentModificationOnly()</code> is <strong>b</strong>oolean, than the statement can be reduced to</p>\n<pre><code>if(force) \n</code></pre>\n<p>and the answer of @LiLittleCat above if correct.</p>\n"}],"owner":{"account_id":25176430,"reputation":3,"user_id":19018545,"display_name":"emung"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74275203,"answer_count":3,"score":-2,"last_activity_date":1667303642,"creation_date":1667301004,"question_id":74274983,"body_markdown":"I started recently as a developer and I am still struggling a bit with the way I write my code.\r\n\r\nIs there a better way to write this two if-statements? How would you write it and why?\r\n\r\nJava code:\r\n\r\n\r\n```\r\n@Override\r\n@Transactional\r\npublic void deleteItem(final ConfigurationType type, final long itemId, final boolean force) {\r\n    this.applicationNameUtils.throwOnInvalidApplication(type.getApplication());\r\n    final ConfigurationItemModel item =\r\n        this.configurationItemRepository.findByApplicationAndTopicAndId(type.getApplication(), type.getTopic(), itemId)\r\n            .orElseThrow(() -&gt; new ResourceNotFoundException(itemId, &quot;Configuration Item&quot;));\r\n    if (Boolean.TRUE.equals(item.getContentModificationOnly()) &amp;&amp; Boolean.FALSE.equals(force)) {\r\n        throw new ContentModificationOnlyException(&quot;Configuration Item cannot be deleted&quot;);\r\n    }\r\n    if ((Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())) &amp;&amp; Boolean.TRUE.equals(force)) {\r\n        this.assignmentService.deleteAssignmentsByItem(item);\r\n        this.configurationInstanceRepository.deleteByItem(item);\r\n        this.configurationItemRepository.deleteById(itemId);\r\n    }\r\n}\r\n\r\n```\r\n\r\n I am not sure if I can somehow combine this two in a if-else.","title":"Is there a better way to write this if statements?","body":"<p>I started recently as a developer and I am still struggling a bit with the way I write my code.</p>\n<p>Is there a better way to write this two if-statements? How would you write it and why?</p>\n<p>Java code:</p>\n<pre><code>@Override\n@Transactional\npublic void deleteItem(final ConfigurationType type, final long itemId, final boolean force) {\n    this.applicationNameUtils.throwOnInvalidApplication(type.getApplication());\n    final ConfigurationItemModel item =\n        this.configurationItemRepository.findByApplicationAndTopicAndId(type.getApplication(), type.getTopic(), itemId)\n            .orElseThrow(() -&gt; new ResourceNotFoundException(itemId, &quot;Configuration Item&quot;));\n    if (Boolean.TRUE.equals(item.getContentModificationOnly()) &amp;&amp; Boolean.FALSE.equals(force)) {\n        throw new ContentModificationOnlyException(&quot;Configuration Item cannot be deleted&quot;);\n    }\n    if ((Boolean.TRUE.equals(item.getContentModificationOnly()) || Boolean.FALSE.equals(item.getContentModificationOnly())) &amp;&amp; Boolean.TRUE.equals(force)) {\n        this.assignmentService.deleteAssignmentsByItem(item);\n        this.configurationInstanceRepository.deleteByItem(item);\n        this.configurationItemRepository.deleteById(itemId);\n    }\n}\n\n</code></pre>\n<p>I am not sure if I can somehow combine this two in a if-else.</p>\n"},{"tags":["java","spring","ejb","rmi","httpinvoker"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1622282701,"post_id":67735258,"comment_id":119751692,"body_markdown":"Err, have you considered Java RMI?","body":"Err, have you considered Java RMI?"}],"answers":[{"tags":[],"owner":{"account_id":18538236,"reputation":990,"user_id":13793329,"display_name":"PeterB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637263455,"creation_date":1637263455,"answer_id":70025585,"question_id":67735258,"body_markdown":"Based on the spring documentation:\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#remoting-web-services\r\n\r\nI can say, that probably these alternatives remain in future versions, but I did not try them:\r\n* Jax-WS\r\n* Spring Web Services\r\n* AMQP\r\n\r\nI feel, that Spring Web Services is Spring&#39;s favorite.\r\nWe will see when the 6.0 documentation is finished.","title":"What&#39;s the alternative for Spring RMI? (since it&#39;s deprecated)","body":"<p>Based on the spring documentation:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#remoting-web-services\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#remoting-web-services</a></p>\n<p>I can say, that probably these alternatives remain in future versions, but I did not try them:</p>\n<ul>\n<li>Jax-WS</li>\n<li>Spring Web Services</li>\n<li>AMQP</li>\n</ul>\n<p>I feel, that Spring Web Services is Spring's favorite.\nWe will see when the 6.0 documentation is finished.</p>\n"},{"tags":[],"owner":{"account_id":10880077,"reputation":1286,"user_id":7999311,"display_name":"Adam Ostrožl&#237;k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667303449,"creation_date":1667303449,"answer_id":74275481,"question_id":67735258,"body_markdown":"I have come across the same problem using Hessian. I think you still can make your own implementation. Spring only deprecates their own integrations to RMI technologies. \r\n\r\nI think there are plenty of other technologies, but the message is clear. Spring will not make any own integrations.\r\n\r\nI can think of these alternatives:\r\n\r\n - Hessian: still usable, but implement your own integration\r\n - gRPC\r\n - messaging (rabbit, pulsar, kafka, ...)\r\n - SOAP\r\n\r\n","title":"What&#39;s the alternative for Spring RMI? (since it&#39;s deprecated)","body":"<p>I have come across the same problem using Hessian. I think you still can make your own implementation. Spring only deprecates their own integrations to RMI technologies.</p>\n<p>I think there are plenty of other technologies, but the message is clear. Spring will not make any own integrations.</p>\n<p>I can think of these alternatives:</p>\n<ul>\n<li>Hessian: still usable, but implement your own integration</li>\n<li>gRPC</li>\n<li>messaging (rabbit, pulsar, kafka, ...)</li>\n<li>SOAP</li>\n</ul>\n"}],"owner":{"account_id":1339045,"reputation":4200,"user_id":1281120,"accept_rate":64,"display_name":"Arturas M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4988,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1667303449,"creation_date":1622189735,"question_id":67735258,"body_markdown":"Spring seems to be deprecating its RMI:\r\n\r\n&gt; As of Spring Framework 5.3, support for several remoting technologies is now deprecated for security reasons and broader industry support. Supporting infrastructure will be removed from Spring Framework for its next major release.\r\n\r\nBut I can&#39;t find any easy equivalent alternative to it. REST would sound like the best choice for simple stuff, but it does not cover solutions where the task is long running and/or a continuous flow of results is needed. So the implementation would be very absurdly painful with REST. Some consider submitting the tasks via REST to queues and then possibly querying for the results separately - but this sounds like an overkill and blows the amount of work needed to sky-high for something really simple that used to be available.\r\n\r\nIs there a good alternative or some framework that uses the non-deprecated technologies and is officially available that deals with the above mentioned problems? When something is deprecated it usually indicates that something better is available that would be the better solution, so can somebody help me on educating me what it is?","title":"What&#39;s the alternative for Spring RMI? (since it&#39;s deprecated)","body":"<p>Spring seems to be deprecating its RMI:</p>\n<blockquote>\n<p>As of Spring Framework 5.3, support for several remoting technologies is now deprecated for security reasons and broader industry support. Supporting infrastructure will be removed from Spring Framework for its next major release.</p>\n</blockquote>\n<p>But I can't find any easy equivalent alternative to it. REST would sound like the best choice for simple stuff, but it does not cover solutions where the task is long running and/or a continuous flow of results is needed. So the implementation would be very absurdly painful with REST. Some consider submitting the tasks via REST to queues and then possibly querying for the results separately - but this sounds like an overkill and blows the amount of work needed to sky-high for something really simple that used to be available.</p>\n<p>Is there a good alternative or some framework that uses the non-deprecated technologies and is officially available that deals with the above mentioned problems? When something is deprecated it usually indicates that something better is available that would be the better solution, so can somebody help me on educating me what it is?</p>\n"},{"tags":["java","json","google-distancematrix-api"],"comments":[{"owner":{"account_id":7051471,"reputation":703,"user_id":5400374,"display_name":"Samir"},"score":0,"creation_date":1517076266,"post_id":48475803,"comment_id":83950707,"body_markdown":"Can you please share problem details about parsing json?","body":"Can you please share problem details about parsing json?"}],"answers":[{"tags":[],"owner":{"account_id":7051471,"reputation":703,"user_id":5400374,"display_name":"Samir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517075455,"creation_date":1517075455,"answer_id":48478720,"question_id":48475803,"body_markdown":"If you want to parse json you can  use json libraries in Java like [Jackson][1],[Gson][2] [Json simple][3].\r\nSecond way(i would recommend) you can create you own Java request and response beans according to json request and response from API and use them in  http requests ,you cand find full example from [here][4]\r\n\r\n    package com.apartmentnotification.client;\r\n\r\n    import com.apartmentnotification.model.DirectionResponse;\r\n    import java.io.IOException;\r\n    import javax.ws.rs.client.Client;\r\n    import javax.ws.rs.client.WebTarget;\r\n\r\n    public class ApartmentClient {\r\n\r\n    private static final String BASE_URI = &quot;https://maps.googleapis.com/maps/api&quot;;\r\n    private static final String API_KEY = &quot;AIzaSyCXnwOwrv_Kt7bkbO5vXtpPelu08yp-3iY&quot;;\r\n\r\n    /**\r\n     * end point for read distanceMatrix\r\n     */\r\n    private WebTarget distanceMatrix;\r\n\r\n    public ApartmentClient() {\r\n        Client client = LazySingleton.getClient();\r\n        distanceMatrix = client.target(BASE_URI + &quot;/distancematrix&quot;);\r\n\r\n    }\r\n\r\n    public DirectionResponse getDirectionInfo(String origins, String destionations) throws IOException {\r\n        return distanceMatrix.path(&quot;/json&quot;)\r\n                .queryParam(&quot;units&quot;, &quot;imperial&quot;)\r\n                .queryParam(&quot;origins&quot;, origins)\r\n                .queryParam(&quot;destinations&quot;, destionations)\r\n                .queryParam(&quot;key&quot;, API_KEY)\r\n                .request()\r\n                .get()\r\n                .readEntity(DirectionResponse.class);\r\n    }\r\n    \r\n    public static void main(String[] args) throws IOException {\r\n        ApartmentClient wc = new ApartmentClient();\r\n        DirectionResponse direction = wc.getDirectionInfo(&quot;Vaidavas 6/3&quot;, &quot;Domina Shopping&quot;);\r\n        System.out.println(&quot;Duration in hours :&quot;+direction.getRows().get(0).getElements().get(0).getDuration().getText());\r\n        System.out.println(&quot;Distance  in metr : &quot;+direction.getRows().get(0).getElements().get(0).getDistance().getValue());\r\n    }\r\n}\r\n\r\n\r\nHope it helps.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: https://github.com/google/gson\r\n  [3]: https://github.com/fangyidong/json-simple\r\n  [4]: https://gitlab.com/samiragayarov/distanceMatrixDemoInJava","title":"How to get distance from google distance matrix Api in Java","body":"<p>If you want to parse json you can  use json libraries in Java like <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>,<a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> <a href=\"https://github.com/fangyidong/json-simple\" rel=\"nofollow noreferrer\">Json simple</a>.\nSecond way(i would recommend) you can create you own Java request and response beans according to json request and response from API and use them in  http requests ,you cand find full example from <a href=\"https://gitlab.com/samiragayarov/distanceMatrixDemoInJava\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>package com.apartmentnotification.client;\n\nimport com.apartmentnotification.model.DirectionResponse;\nimport java.io.IOException;\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.WebTarget;\n\npublic class ApartmentClient {\n\nprivate static final String BASE_URI = \"https://maps.googleapis.com/maps/api\";\nprivate static final String API_KEY = \"AIzaSyCXnwOwrv_Kt7bkbO5vXtpPelu08yp-3iY\";\n\n/**\n * end point for read distanceMatrix\n */\nprivate WebTarget distanceMatrix;\n\npublic ApartmentClient() {\n    Client client = LazySingleton.getClient();\n    distanceMatrix = client.target(BASE_URI + \"/distancematrix\");\n\n}\n\npublic DirectionResponse getDirectionInfo(String origins, String destionations) throws IOException {\n    return distanceMatrix.path(\"/json\")\n            .queryParam(\"units\", \"imperial\")\n            .queryParam(\"origins\", origins)\n            .queryParam(\"destinations\", destionations)\n            .queryParam(\"key\", API_KEY)\n            .request()\n            .get()\n            .readEntity(DirectionResponse.class);\n}\n\npublic static void main(String[] args) throws IOException {\n    ApartmentClient wc = new ApartmentClient();\n    DirectionResponse direction = wc.getDirectionInfo(\"Vaidavas 6/3\", \"Domina Shopping\");\n    System.out.println(\"Duration in hours :\"+direction.getRows().get(0).getElements().get(0).getDuration().getText());\n    System.out.println(\"Distance  in metr : \"+direction.getRows().get(0).getElements().get(0).getDistance().getValue());\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":10661768,"reputation":9318,"user_id":7849549,"accept_rate":44,"display_name":"Shubham Dixit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1547127726,"creation_date":1547127726,"answer_id":54130008,"question_id":48475803,"body_markdown":"Well this is a complete answer of how to calculate distance and time with google distance matrix api between two places.\r\nIf you are not using maven then you have to set these jars in your classpath\r\n\r\npom.xml\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n        &lt;version&gt;3.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n      &lt;!-- https://mvnrepository.com/artifact/com.squareup.okio/okio --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n        &lt;version&gt;1.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n      &lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n      \r\n      &lt;!-- https://mvnrepository.com/artifact/com.google.api-client/google-api-client --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n        &lt;version&gt;1.23.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  This is a class to send http request and get the data in json format\r\n\r\n  \r\n\r\n     package google.distance.api;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import okhttp3.OkHttpClient;\r\n    import okhttp3.Request;\r\n    import okhttp3.Response;\r\n    \r\n    @Component\r\n    public class DistanceTime {\r\n    \r\n    \t\r\n    \t\r\n    \tprivate static final String API_KEY=&quot;YOUR KEY&quot;;\r\n    \tOkHttpClient client = new OkHttpClient();\r\n    \t\r\n    \t\r\n    public String calculate(String source ,String destination) throws IOException {\r\n    String url=&quot;https://maps.googleapis.com/maps/api/distancematrix/json?origins=&quot;+source+&quot;&amp;destinations=&quot;+destination+&quot;&amp;key=&quot;+ API_KEY;\r\n    \t\t    Request request = new Request.Builder()\r\n    \t\t        .url(url)\r\n    \t\t        .build();\r\n    \r\n    \t\t    Response response = client.newCall(request).execute();\r\n    \t\t    return response.body().string();\r\n    \t\t  }\r\n    \r\n    \t\r\n    }\r\n\r\n  As I am using Spring ,so here is my Controller method to get the data \r\n   \r\n   \r\n\r\n    private DistanceTime distance;\r\n    \r\n         @Autowired\r\n    \tpublic void setDistance(DistanceTime distance) {\r\n    \tthis.distance = distance;\r\n    }\r\n    \r\n    \r\n        public ModelAndView Api(@RequestParam(&quot;picking_up&quot;) String source,@RequestParam(&quot;dropping_off&quot;) String destination,@RequestParam(&quot;pick_up_date&quot;) String time) {\r\n        \t\ttry {\r\n        \t\t      //method of DistanceTime Class\r\n        \t\t\tString response=distance.calculate(source,destination);\r\n        \t\t\t\r\n        \t\tSystem.out.println(response);\r\n        \t\t}\r\n        \t\t\r\n        \t\tcatch(Exception e) {\r\n        \t\t\tSystem.out.println(&quot;Exception Occurred&quot;);\r\n        \t\t}\r\n        \t\t\r\n        \t\treturn new ModelAndView(&quot;home&quot;);\r\n        \t\t\r\n        \t}  \r\n\r\n  Now the Tough Part was iterating over JSON data to get the distance and time\r\n  In the  above method I was getting json data in variable  response ,so here is the code to extract distance and time from it\r\nThe response was something Like \r\n     \r\n    {\r\n       &quot;destination_addresses&quot; : [\r\n          &quot;Private&quot;\r\n       ],\r\n       &quot;origin_addresses&quot; : [ &quot;Private&quot; ],\r\n       &quot;rows&quot; : [\r\n          {\r\n             &quot;elements&quot; : [\r\n                {\r\n                   &quot;distance&quot; : {\r\n                      &quot;text&quot; : &quot;1,052 km&quot;,\r\n                      &quot;value&quot; : 1051911\r\n                   },\r\n                   &quot;duration&quot; : {\r\n                      &quot;text&quot; : &quot;17 hours 10 mins&quot;,\r\n                      &quot;value&quot; : 61785\r\n                   },\r\n                   &quot;status&quot; : &quot;OK&quot;\r\n                }\r\n             ]\r\n          }\r\n       ],\r\n       &quot;status&quot; : &quot;OK&quot;\r\n    }\r\n\r\n  \r\n\r\n     JSONParser parser = new JSONParser();\r\n    \t\ttry {\r\n    \t\t\r\n    \t\t Object obj = parser.parse(response);\r\n    \t\t JSONObject jsonobj=(JSONObject)obj;\r\n             \r\n             JSONArray dist=(JSONArray)jsonobj.get(&quot;rows&quot;);\r\n             JSONObject obj2 = (JSONObject)dist.get(0);\r\n             JSONArray disting=(JSONArray)obj2.get(&quot;elements&quot;);\r\n             JSONObject obj3 = (JSONObject)disting.get(0);\r\n             JSONObject obj4=(JSONObject)obj3.get(&quot;distance&quot;);\r\n             JSONObject obj5=(JSONObject)obj3.get(&quot;duration&quot;);\r\n             System.out.println(obj4.get(&quot;text&quot;));\r\n             System.out.println(obj5.get(&quot;text&quot;));\r\n             \r\n    \t}\r\n    catch(Exception e) {\r\n    \te.printStackTrace();\r\n    }\r\n\t\t\r\n\r\n","title":"How to get distance from google distance matrix Api in Java","body":"<p>Well this is a complete answer of how to calculate distance and time with google distance matrix api between two places.\nIf you are not using maven then you have to set these jars in your classpath</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n    &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;version&gt;3.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n  &lt;!-- https://mvnrepository.com/artifact/com.squareup.okio/okio --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n    &lt;artifactId&gt;okio&lt;/artifactId&gt;\n    &lt;version&gt;1.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n  &lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n  &lt;!-- https://mvnrepository.com/artifact/com.google.api-client/google-api-client --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n    &lt;version&gt;1.23.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This is a class to send http request and get the data in json format</p>\n\n<pre><code> package google.distance.api;\n\nimport java.io.IOException;\n\nimport org.springframework.stereotype.Component;\n\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\n\n@Component\npublic class DistanceTime {\n\n\n\n    private static final String API_KEY=\"YOUR KEY\";\n    OkHttpClient client = new OkHttpClient();\n\n\npublic String calculate(String source ,String destination) throws IOException {\nString url=\"https://maps.googleapis.com/maps/api/distancematrix/json?origins=\"+source+\"&amp;destinations=\"+destination+\"&amp;key=\"+ API_KEY;\n            Request request = new Request.Builder()\n                .url(url)\n                .build();\n\n            Response response = client.newCall(request).execute();\n            return response.body().string();\n          }\n\n\n}\n</code></pre>\n\n<p>As I am using Spring ,so here is my Controller method to get the data </p>\n\n<pre><code>private DistanceTime distance;\n\n     @Autowired\n    public void setDistance(DistanceTime distance) {\n    this.distance = distance;\n}\n\n\n    public ModelAndView Api(@RequestParam(\"picking_up\") String source,@RequestParam(\"dropping_off\") String destination,@RequestParam(\"pick_up_date\") String time) {\n            try {\n                  //method of DistanceTime Class\n                String response=distance.calculate(source,destination);\n\n            System.out.println(response);\n            }\n\n            catch(Exception e) {\n                System.out.println(\"Exception Occurred\");\n            }\n\n            return new ModelAndView(\"home\");\n\n        }  \n</code></pre>\n\n<p>Now the Tough Part was iterating over JSON data to get the distance and time\n  In the  above method I was getting json data in variable  response ,so here is the code to extract distance and time from it\nThe response was something Like </p>\n\n<pre><code>{\n   \"destination_addresses\" : [\n      \"Private\"\n   ],\n   \"origin_addresses\" : [ \"Private\" ],\n   \"rows\" : [\n      {\n         \"elements\" : [\n            {\n               \"distance\" : {\n                  \"text\" : \"1,052 km\",\n                  \"value\" : 1051911\n               },\n               \"duration\" : {\n                  \"text\" : \"17 hours 10 mins\",\n                  \"value\" : 61785\n               },\n               \"status\" : \"OK\"\n            }\n         ]\n      }\n   ],\n   \"status\" : \"OK\"\n}\n\n\n\n JSONParser parser = new JSONParser();\n        try {\n\n         Object obj = parser.parse(response);\n         JSONObject jsonobj=(JSONObject)obj;\n\n         JSONArray dist=(JSONArray)jsonobj.get(\"rows\");\n         JSONObject obj2 = (JSONObject)dist.get(0);\n         JSONArray disting=(JSONArray)obj2.get(\"elements\");\n         JSONObject obj3 = (JSONObject)disting.get(0);\n         JSONObject obj4=(JSONObject)obj3.get(\"distance\");\n         JSONObject obj5=(JSONObject)obj3.get(\"duration\");\n         System.out.println(obj4.get(\"text\"));\n         System.out.println(obj5.get(\"text\"));\n\n    }\ncatch(Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26320282,"reputation":11,"user_id":19982382,"display_name":"Pranali Kurumkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667303287,"creation_date":1667303287,"answer_id":74275446,"question_id":48475803,"body_markdown":"\r\nYou can also try using Java client library : \r\n\r\nhttps://github.com/googlemaps/google-maps-services-java","title":"How to get distance from google distance matrix Api in Java","body":"<p>You can also try using Java client library :</p>\n<p><a href=\"https://github.com/googlemaps/google-maps-services-java\" rel=\"nofollow noreferrer\">https://github.com/googlemaps/google-maps-services-java</a></p>\n"}],"owner":{"account_id":10661768,"reputation":9318,"user_id":7849549,"accept_rate":44,"display_name":"Shubham Dixit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54130008,"answer_count":3,"score":0,"last_activity_date":1667303287,"creation_date":1517056087,"question_id":48475803,"body_markdown":"I am trying to find the distance and time between two places using google distance matrix api\r\nEverything was fine until I got this Data\r\n\r\n    {\r\n       &quot;destination_addresses&quot; : [\r\n          &quot;Some Address&quot;\r\n       ],\r\n       &quot;origin_addresses&quot; : [ &quot;Some other address&quot; ],\r\n       &quot;rows&quot; : [\r\n          {\r\n             &quot;elements&quot; : [\r\n                {\r\n                   &quot;distance&quot; : {\r\n                      &quot;text&quot; : &quot;13.1 km&quot;,\r\n                      &quot;value&quot; : 13133\r\n                   },\r\n                   &quot;duration&quot; : {\r\n                      &quot;text&quot; : &quot;33 mins&quot;,\r\n                      &quot;value&quot; : 1961\r\n                   },\r\n                   &quot;status&quot; : &quot;OK&quot;\r\n                }\r\n             ]\r\n          }\r\n       ],\r\n       &quot;status&quot; : &quot;OK&quot;\r\n    }\r\n\r\nI tried to extract distance using Json libraries and tried many answers too,but dint get the expected result ,Any help??","title":"How to get distance from google distance matrix Api in Java","body":"<p>I am trying to find the distance and time between two places using google distance matrix api\nEverything was fine until I got this Data</p>\n\n<pre><code>{\n   \"destination_addresses\" : [\n      \"Some Address\"\n   ],\n   \"origin_addresses\" : [ \"Some other address\" ],\n   \"rows\" : [\n      {\n         \"elements\" : [\n            {\n               \"distance\" : {\n                  \"text\" : \"13.1 km\",\n                  \"value\" : 13133\n               },\n               \"duration\" : {\n                  \"text\" : \"33 mins\",\n                  \"value\" : 1961\n               },\n               \"status\" : \"OK\"\n            }\n         ]\n      }\n   ],\n   \"status\" : \"OK\"\n}\n</code></pre>\n\n<p>I tried to extract distance using Json libraries and tried many answers too,but dint get the expected result ,Any help??</p>\n"},{"tags":["java","format","apache-poi"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1667464407,"post_id":74273409,"comment_id":131174051,"body_markdown":"POI 5.2.0 and above has org.apache.poi.ss.util.CellUtil#copyCell(...) which makes a reasonable attempt to copy the style to the destination cell.","body":"POI 5.2.0 and above has org.apache.poi.ss.util.CellUtil#copyCell(...) which makes a reasonable attempt to copy the style to the destination cell."}],"answers":[{"tags":[],"owner":{"account_id":24196943,"reputation":21,"user_id":18155326,"display_name":"TheSack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667303179,"creation_date":1667303179,"answer_id":74275423,"question_id":74273409,"body_markdown":"I would recommend you to first create a CellStyle with your destination-workbook and add to that one the required parameters from your source-cells. Then apply that CellStyle to your destination-cells.\r\n\r\nIn my experience the CellStyle object can be a little bit tricky, and the safest way is to create a CellStyle at first.\r\n\r\n","title":"Keeping Source Format when copy data using apache poi","body":"<p>I would recommend you to first create a CellStyle with your destination-workbook and add to that one the required parameters from your source-cells. Then apply that CellStyle to your destination-cells.</p>\n<p>In my experience the CellStyle object can be a little bit tricky, and the safest way is to create a CellStyle at first.</p>\n"}],"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667303179,"creation_date":1667292201,"question_id":74273409,"body_markdown":"Using Apache POI,\r\n\r\nI successfully copied all my data, but ive lost all my formatting, eg font, foreground color etc.\r\n\r\nheres what ive tried\r\n\r\n    destCell.getCellStyle().setAlignment(srcCell.getCellStyle().getAlignment());\r\n    destCell.getCellStyle().setFont(srcCell.getCellStyle().getFont());\r\n    destCell.getCellStyle().setFillForegroundColor(srcCell.getCellStyle().getFillForegroundColorColor());\r\n\r\n\r\ntried this for font still not working\r\n\r\n    XSSFFont font = new XSSFFont();\r\n    \t\t\t\t\tfont.setFontName(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getFontName());\r\n    \t\t\t\t\tfont.setFontHeightInPoints(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getFontHeightInPoints());\r\n    \t\t\t\t\tfont.setColor(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getColor());\r\n    \t\t\t\t\tfont.setFamily(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getFamily());\r\n    \t\t\t\t\tdestSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().setFont(font);\r\n\r\nand this gives me an error\r\n\r\n   \r\n\r\n    destSheet.getRow(currentRowIndex).getCell(currCellIndex).setCellStyle(srcSheet.getRow(currentRowIndex).getCell(currentRowIndex).getCellStyle());\r\n        \r\n    This Style does not belong to the supplied Workbook Styles Source. Are you trying to assign a style from one workbook to the cell of a different workbook?\r\n\r\nThis is the source format\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is how it looked after i copied over using apache poi\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/31rBQ.png\r\n  [2]: https://i.stack.imgur.com/6oDDY.png","title":"Keeping Source Format when copy data using apache poi","body":"<p>Using Apache POI,</p>\n<p>I successfully copied all my data, but ive lost all my formatting, eg font, foreground color etc.</p>\n<p>heres what ive tried</p>\n<pre><code>destCell.getCellStyle().setAlignment(srcCell.getCellStyle().getAlignment());\ndestCell.getCellStyle().setFont(srcCell.getCellStyle().getFont());\ndestCell.getCellStyle().setFillForegroundColor(srcCell.getCellStyle().getFillForegroundColorColor());\n</code></pre>\n<p>tried this for font still not working</p>\n<pre><code>XSSFFont font = new XSSFFont();\n                    font.setFontName(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getFontName());\n                    font.setFontHeightInPoints(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getFontHeightInPoints());\n                    font.setColor(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getColor());\n                    font.setFamily(srcSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().getFont().getFamily());\n                    destSheet.getRow(currentRowIndex).getCell(currCellIndex).getCellStyle().setFont(font);\n</code></pre>\n<p>and this gives me an error</p>\n<pre><code>destSheet.getRow(currentRowIndex).getCell(currCellIndex).setCellStyle(srcSheet.getRow(currentRowIndex).getCell(currentRowIndex).getCellStyle());\n    \nThis Style does not belong to the supplied Workbook Styles Source. Are you trying to assign a style from one workbook to the cell of a different workbook?\n</code></pre>\n<p>This is the source format</p>\n<p><a href=\"https://i.stack.imgur.com/31rBQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/31rBQ.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how it looked after i copied over using apache poi</p>\n<p><a href=\"https://i.stack.imgur.com/6oDDY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6oDDY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","docker","mqtt"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":3,"creation_date":1667302656,"post_id":74274380,"comment_id":131131523,"body_markdown":"[Communication between multiple docker-compose projects](https://stackoverflow.com/questions/38088279/communication-between-multiple-docker-compose-projects) discusses setups like these; either you need to run both parts in the same Compose file, or you need to explicitly configure the two projects to use the same Docker network.  Do the answers there help you?","body":"<a href=\"https://stackoverflow.com/questions/38088279/communication-between-multiple-docker-compose-projects\">Communication between multiple docker-compose projects</a> discusses setups like these; either you need to run both parts in the same Compose file, or you need to explicitly configure the two projects to use the same Docker network.  Do the answers there help you?"}],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667303165,"creation_date":1667298047,"answer_id":74274440,"question_id":74274380,"body_markdown":"Yes, You do have to share the network as external.\r\n\r\nyou cab check the networks you have with this command : `docker network ls` \r\n\r\nYou would notice that they each have their own networks.\r\n\r\nadding this to spring boot docker-compose file should fix the issue :\r\n\r\n```\r\nnetworks:\r\n  default:\r\n    name: mynetwork\r\n    external: true\r\n```\r\n\r\nFor more information about [docker compose networks](https://docs.docker.com/compose/networking/)\r\n\r\n\r\n","title":"Connecting spring boot docker container to MQTT docker container","body":"<p>Yes, You do have to share the network as external.</p>\n<p>you cab check the networks you have with this command : <code>docker network ls</code></p>\n<p>You would notice that they each have their own networks.</p>\n<p>adding this to spring boot docker-compose file should fix the issue :</p>\n<pre><code>networks:\n  default:\n    name: mynetwork\n    external: true\n</code></pre>\n<p>For more information about <a href=\"https://docs.docker.com/compose/networking/\" rel=\"nofollow noreferrer\">docker compose networks</a></p>\n"}],"owner":{"account_id":6089760,"reputation":330,"user_id":4752486,"accept_rate":100,"display_name":"Wooopsa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667303165,"creation_date":1667297659,"question_id":74274380,"body_markdown":"I&#39;m trying to connect my containerized spring boot application with another containerized MQTT broker. Both of them are on their own projects as follows:\r\n\r\n```mqtt docker-compose.yml:```\r\n```\r\nversion: &#39;3.9&#39;\r\n\r\nservices:\r\n  mqttbroker:\r\n    container_name: mqttbroker\r\n    restart: always\r\n    volumes:\r\n      - ./config:/mosquitto/config\r\n      - ./data:/mosquitto/data\r\n      - ./log:/mosquitto/log\r\n    ports:\r\n      - 8883:8883\r\n    networks:\r\n      - mynetwork\r\nvolumes:\r\n  config:\r\n  data:\r\n  log:\r\n```\r\n\r\n```mqtt Dockerfile```\r\n```\r\nFROM eclipse-mosquitto\r\nWORKDIR /mosquitto\r\nCOPY . .\r\nEXPOSE 8883\r\n```\r\n\r\nAnd then the spring boot project is like:\r\n\r\n```spring boot docker-compose.yml```\r\n```\r\nversion: &#39;3.8&#39;\r\nservices:\r\n  myapp:\r\n    build: .\r\n    container_name: myapp\r\n    ports:\r\n      - &#39;8082:8082&#39;\r\n    stdin_open: true\r\n    tty: true\r\n    networks:\r\n      - mynetwork\r\n```\r\n\r\nIn my ```application.properties``` I try to connect to the MQTT broker like:\r\n```mosquitto.url=tcp://mqttbroker:8883``` and I get connection refused. However, if I run the spring boot application locally, I can connect to the docker container with ```mosquitto.url=tcp://localhost:8883```.\r\nI would rather have all the configurations in my docker-compose files to decrease manual codes.\r\nI really appreciate your help in advance!","title":"Connecting spring boot docker container to MQTT docker container","body":"<p>I'm trying to connect my containerized spring boot application with another containerized MQTT broker. Both of them are on their own projects as follows:</p>\n<p><code>mqtt docker-compose.yml:</code></p>\n<pre><code>version: '3.9'\n\nservices:\n  mqttbroker:\n    container_name: mqttbroker\n    restart: always\n    volumes:\n      - ./config:/mosquitto/config\n      - ./data:/mosquitto/data\n      - ./log:/mosquitto/log\n    ports:\n      - 8883:8883\n    networks:\n      - mynetwork\nvolumes:\n  config:\n  data:\n  log:\n</code></pre>\n<p><code>mqtt Dockerfile</code></p>\n<pre><code>FROM eclipse-mosquitto\nWORKDIR /mosquitto\nCOPY . .\nEXPOSE 8883\n</code></pre>\n<p>And then the spring boot project is like:</p>\n<p><code>spring boot docker-compose.yml</code></p>\n<pre><code>version: '3.8'\nservices:\n  myapp:\n    build: .\n    container_name: myapp\n    ports:\n      - '8082:8082'\n    stdin_open: true\n    tty: true\n    networks:\n      - mynetwork\n</code></pre>\n<p>In my <code>application.properties</code> I try to connect to the MQTT broker like:\n<code>mosquitto.url=tcp://mqttbroker:8883</code> and I get connection refused. However, if I run the spring boot application locally, I can connect to the docker container with <code>mosquitto.url=tcp://localhost:8883</code>.\nI would rather have all the configurations in my docker-compose files to decrease manual codes.\nI really appreciate your help in advance!</p>\n"},{"tags":["java","spring-boot","teradata","liquibase","preconditions"],"comments":[{"owner":{"account_id":6542,"reputation":8830,"user_id":11051,"accept_rate":67,"display_name":"SteveDonie"},"score":0,"creation_date":1525192989,"post_id":50119018,"comment_id":87258225,"body_markdown":"Why do you want to do a precondition check? In general, you shouldn&#39;t need to do that, because Liquibase will keep track of whether the alter table has been run or not.","body":"Why do you want to do a precondition check? In general, you shouldn&#39;t need to do that, because Liquibase will keep track of whether the alter table has been run or not."}],"answers":[{"tags":[],"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1525954186,"creation_date":1525939652,"answer_id":50268341,"question_id":50119018,"body_markdown":"There&#39;s no built-in `precondition` for column&#39;s `dataType` in `liquibase`.\r\nYou may just check whether the column exists or not. If it&#39;s already of the datatype you need, no error will be thrown.\r\n\r\n**OR**\r\n\r\nYou can use `sqlCheck` in your preconditions and it&#39;ll be something like this:\r\n\r\n    &lt;preConditions onFail=&quot;MARK_RAN&quot;&gt;\r\n        &lt;not&gt;\r\n            &lt;sqlCheck expectedResult=&quot;DECIMAL&quot;&gt;\r\n                SELECT DATA_TYPE\r\n                FROM INFORMATION_SCHEMA.COLUMNS\r\n                WHERE TABLE_NAME = &#39;your_table_name&#39;\r\n                AND COLUMN_NAME = &#39;your_column_name&#39;\r\n            &lt;/sqlCheck&gt;\r\n        &lt;/not&gt;\r\n    &lt;/preConditions&gt;","title":"Liquibase preconditions: How do I check for a column being the correct data type?","body":"<p>There's no built-in <code>precondition</code> for column's <code>dataType</code> in <code>liquibase</code>.\nYou may just check whether the column exists or not. If it's already of the datatype you need, no error will be thrown.</p>\n\n<p><strong>OR</strong></p>\n\n<p>You can use <code>sqlCheck</code> in your preconditions and it'll be something like this:</p>\n\n<pre><code>&lt;preConditions onFail=\"MARK_RAN\"&gt;\n    &lt;not&gt;\n        &lt;sqlCheck expectedResult=\"DECIMAL\"&gt;\n            SELECT DATA_TYPE\n            FROM INFORMATION_SCHEMA.COLUMNS\n            WHERE TABLE_NAME = 'your_table_name'\n            AND COLUMN_NAME = 'your_column_name'\n        &lt;/sqlCheck&gt;\n    &lt;/not&gt;\n&lt;/preConditions&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8549136,"reputation":768,"user_id":6406676,"display_name":"David Cram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525961964,"creation_date":1525961964,"answer_id":50275101,"question_id":50119018,"body_markdown":"Another answer already mentions how to do a sqlcheck.  However, the actual SQL for Teradata would be something different.\r\n\r\nIn Teradata you would use a query similar to the following and expect the columnType=&#39;D&#39; for decimal values\r\n\r\n    Select ColumnType \r\n    From DBC.ColumnsV \r\n    Where databasename=&#39;yourdatabasename&#39; \r\n    and tablename=&#39;yourtablename&#39; \r\n    and columnname=&#39;yourcolumnname&#39;;\r\n\r\nYou could also do something like this if you want a more human readable column type instead of a type code:\r\n\r\n    Select Type(tablename.columnname);","title":"Liquibase preconditions: How do I check for a column being the correct data type?","body":"<p>Another answer already mentions how to do a sqlcheck.  However, the actual SQL for Teradata would be something different.</p>\n\n<p>In Teradata you would use a query similar to the following and expect the columnType='D' for decimal values</p>\n\n<pre><code>Select ColumnType \nFrom DBC.ColumnsV \nWhere databasename='yourdatabasename' \nand tablename='yourtablename' \nand columnname='yourcolumnname';\n</code></pre>\n\n<p>You could also do something like this if you want a more human readable column type instead of a type code:</p>\n\n<pre><code>Select Type(tablename.columnname);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667302913,"creation_date":1667302913,"answer_id":74275364,"question_id":50119018,"body_markdown":"I know the question was for Teradata, but principle is the same.\r\n\r\nI prefer SQL files, so in changelog I have (for **Oracle**), is:\r\n\r\n```xml\r\n&lt;include file=&quot;roles.sql&quot; relativeToChangelogFile=&quot;true&quot; /&gt;\r\n```\r\n\r\nand then in `roles.sql`\r\n\r\nthere is \r\n\r\n```sql\r\n--changeset betlista:2022-01-04_2200-87-insert\r\n--preconditions onFail:MARK_RAN\r\n--precondition-sql-check expectedResult:0 select count(*) from ddh_audit.DDH_USER_ROLE where id = 87;\r\ninsert into ddh_audit.DDH_USER_ROLE(id, role_name, description)\r\nvalues(87, &#39;CONTAINERS_READONLY&#39;, &#39;Can read Containers reference data&#39;);\r\n```\r\n\r\nthe query added by David Cram would make the trick.\r\n\r\nI do not know and I didn&#39;t try if condition could be on multiple lines, I know `--rollback` can.","title":"Liquibase preconditions: How do I check for a column being the correct data type?","body":"<p>I know the question was for Teradata, but principle is the same.</p>\n<p>I prefer SQL files, so in changelog I have (for <strong>Oracle</strong>), is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;include file=&quot;roles.sql&quot; relativeToChangelogFile=&quot;true&quot; /&gt;\n</code></pre>\n<p>and then in <code>roles.sql</code></p>\n<p>there is</p>\n<pre class=\"lang-sql prettyprint-override\"><code>--changeset betlista:2022-01-04_2200-87-insert\n--preconditions onFail:MARK_RAN\n--precondition-sql-check expectedResult:0 select count(*) from ddh_audit.DDH_USER_ROLE where id = 87;\ninsert into ddh_audit.DDH_USER_ROLE(id, role_name, description)\nvalues(87, 'CONTAINERS_READONLY', 'Can read Containers reference data');\n</code></pre>\n<p>the query added by David Cram would make the trick.</p>\n<p>I do not know and I didn't try if condition could be on multiple lines, I know <code>--rollback</code> can.</p>\n"}],"owner":{"account_id":13480781,"reputation":71,"user_id":9726154,"display_name":"Ben"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8193,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1667302913,"creation_date":1525187650,"question_id":50119018,"body_markdown":"I have a db upgrade script to change some datatypes on a few columns. I want to do a `preCondition` check, and call `ALTER TABLE` only when it is a DECIMAL datatype, but I will want it to be changed to INTEGER.\r\n\r\nCouldn&#39;t find a predefined precondition for this, and could not write an `sqlCheck` either.","title":"Liquibase preconditions: How do I check for a column being the correct data type?","body":"<p>I have a db upgrade script to change some datatypes on a few columns. I want to do a <code>preCondition</code> check, and call <code>ALTER TABLE</code> only when it is a DECIMAL datatype, but I will want it to be changed to INTEGER.</p>\n\n<p>Couldn't find a predefined precondition for this, and could not write an <code>sqlCheck</code> either.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1667291966,"post_id":74273198,"comment_id":131128409,"body_markdown":"Does this answer your question? [Arrays.asList() not working as it should?](https://stackoverflow.com/questions/1467913/arrays-aslist-not-working-as-it-should)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1467913/arrays-aslist-not-working-as-it-should\">Arrays.asList() not working as it should?</a>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1667292042,"post_id":74273198,"comment_id":131128428,"body_markdown":"Additionally, please fix question title, it has nothing in common with the actual question you are asking.","body":"Additionally, please fix question title, it has nothing in common with the actual question you are asking."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1667297876,"post_id":74273198,"comment_id":131130005,"body_markdown":"there is no method `asList(int... )` (receiving primitive values), only `asList(T...)` and the generic type  `T` cannot receive primitives, so it is creating a list with a single object, the whole (int) array itself || you can use `Arrays.binarySearch(int[], int)` if the array is sorted; or use `IntStream.of(YEARS).anyMatch(y -&gt; y==1919)`","body":"there is no method <code>asList(int... )</code> (receiving primitive values), only <code>asList(T...)</code> and the generic type  <code>T</code> cannot receive primitives, so it is creating a list with a single object, the whole (int) array itself || you can use <code>Arrays.binarySearch(int[], int)</code> if the array is sorted; or use <code>IntStream.of(YEARS).anyMatch(y -&gt; y==1919)</code>"}],"answers":[{"tags":[],"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667291871,"creation_date":1667291871,"answer_id":74273353,"question_id":74273198,"body_markdown":"that&#39;s because you are using ```int```\r\nin your arraylist when you should be using ```Integer```\r\n\r\n```int``` is a primitive type and doesn&#39;t work with Arraylist which requires a non-primitive type\r\n\r\nchange ```int``` to ```Integer``` and that code should work","title":"java Cannot resolve method &#39;contains(int)&#39;","body":"<p>that's because you are using <code>int</code>\nin your arraylist when you should be using <code>Integer</code></p>\n<p><code>int</code> is a primitive type and doesn't work with Arraylist which requires a non-primitive type</p>\n<p>change <code>int</code> to <code>Integer</code> and that code should work</p>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667302834,"creation_date":1667302834,"answer_id":74275350,"question_id":74273198,"body_markdown":"`Arrays.asList(YEARS)` will result in a `List&lt;int[]&gt;`, you will not find a single `int` in there using the `contains(int)` method of a `List`…\r\n\r\nYou probably expected a `List&lt;Integer&gt;`, which you can get by\r\n\r\n```java\r\nList&lt;Integer&gt; years = Arrays.stream(YEARS).boxed().collect(Collectors.toList());\r\n```\r\n\r\nThe resulting `List&lt;Integer&gt;` can be checked for the presence of a single `int` using the `contains` method because it is a list of integers contrary to the list of arrays of integers produced by `Arrays.asList(YEARS)`.\r\n","title":"java Cannot resolve method &#39;contains(int)&#39;","body":"<p><code>Arrays.asList(YEARS)</code> will result in a <code>List&lt;int[]&gt;</code>, you will not find a single <code>int</code> in there using the <code>contains(int)</code> method of a <code>List</code>…</p>\n<p>You probably expected a <code>List&lt;Integer&gt;</code>, which you can get by</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; years = Arrays.stream(YEARS).boxed().collect(Collectors.toList());\n</code></pre>\n<p>The resulting <code>List&lt;Integer&gt;</code> can be checked for the presence of a single <code>int</code> using the <code>contains</code> method because it is a list of integers contrary to the list of arrays of integers produced by <code>Arrays.asList(YEARS)</code>.</p>\n"}],"owner":{"account_id":8618348,"reputation":23,"user_id":6454302,"display_name":"atılgan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74275350,"answer_count":2,"score":-1,"last_activity_date":1667302834,"creation_date":1667290840,"question_id":74273198,"body_markdown":"This code block prints &quot;not contains&quot; and i don&#39;t know why, can somebody help me ?\r\n\r\n    private static final int[] YEARS = new int[] {\r\n            1881, 1893, 1900, 1910, 1919, 1923, 1930, 1932, 1934, 1938\r\n    };\r\n    \r\n    public static void main(String[] args) {\r\n        int year = 1919;\r\n        System.out.println(YEARS);\r\n\r\n        if (Arrays.asList(YEARS).contains(year))\r\n        {\r\n            System.out.println(&quot;Contains&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Not contains&quot;);\r\n        }\r\n        // Write your code here below\r\n    }\r\n}\r\n\r\n","title":"java Cannot resolve method &#39;contains(int)&#39;","body":"<p>This code block prints &quot;not contains&quot; and i don't know why, can somebody help me ?</p>\n<pre><code>private static final int[] YEARS = new int[] {\n        1881, 1893, 1900, 1910, 1919, 1923, 1930, 1932, 1934, 1938\n};\n\npublic static void main(String[] args) {\n    int year = 1919;\n    System.out.println(YEARS);\n\n    if (Arrays.asList(YEARS).contains(year))\n    {\n        System.out.println(&quot;Contains&quot;);\n    }\n    else {\n        System.out.println(&quot;Not contains&quot;);\n    }\n    // Write your code here below\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","logging","junit","mockito","loggerfactory"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667075985,"post_id":74238573,"comment_id":131086556,"body_markdown":"Your endpoint class is probably loaded before the mock could be set up (new to static mocks, but a static logger is initialized when the class is loaded. That happens on the first reference of the class (e.g. `new Something` or `Something.staticMethod()`). `endpoint` is already assigned before the method is entered).","body":"Your endpoint class is probably loaded before the mock could be set up (new to static mocks, but a static logger is initialized when the class is loaded. That happens on the first reference of the class (e.g. <code>new Something</code> or <code>Something.staticMethod()</code>). <code>endpoint</code> is already assigned before the method is entered)."}],"answers":[{"tags":[],"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667125692,"creation_date":1667125692,"answer_id":74252287,"question_id":74238573,"body_markdown":"Enable the debug logging accordingly for testing configuration. \r\n\r\nYou could consider to run all the tests with all available logging levels for warning-/info-/trace-enabled, etc separately, perhaps as part of extended testing. Then combine all the log-results and coverage for reporting.","title":"UnnecessaryStubbingException when mocking LoggerFactory for isDebugEnabled","body":"<p>Enable the debug logging accordingly for testing configuration.</p>\n<p>You could consider to run all the tests with all available logging levels for warning-/info-/trace-enabled, etc separately, perhaps as part of extended testing. Then combine all the log-results and coverage for reporting.</p>\n"}],"owner":{"account_id":3135892,"reputation":1501,"user_id":2652405,"accept_rate":38,"display_name":"AppleBud"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667302829,"creation_date":1666976114,"question_id":74238573,"body_markdown":"I am trying to improve my branch coverage and mocking Logger to check both cases of &quot;isDebugEnabled&quot;.\r\n\r\n\r\nBelow is my test case:\r\n  \r\n\r\n    @Test\r\n        public void testLogger() {\r\n            try (MockedStatic&lt;LoggerFactory&gt; \r\n                    loggerFactoryMockedStatic = mockStatic(LoggerFactory.class)) {\r\n                Logger logger = mock(Logger.class);\r\n                loggerFactoryMockedStatic.when(() -&gt; LoggerFactory.getLogger(any(Class.class))).thenReturn(logger);\r\n                \r\n                when(logger.isDebugEnabled()).thenReturn(Boolean.FALSE);\r\n                Response res = endpoint.check();\r\n            }\r\n            \r\n        }\r\n\r\nbut it is resulting in &quot;UnnecessaryStubbingException&quot; when i am setting the debug enabled.\r\n\r\nAny idea how can I get it done ?\r\n","title":"UnnecessaryStubbingException when mocking LoggerFactory for isDebugEnabled","body":"<p>I am trying to improve my branch coverage and mocking Logger to check both cases of &quot;isDebugEnabled&quot;.</p>\n<p>Below is my test case:</p>\n<pre><code>@Test\n    public void testLogger() {\n        try (MockedStatic&lt;LoggerFactory&gt; \n                loggerFactoryMockedStatic = mockStatic(LoggerFactory.class)) {\n            Logger logger = mock(Logger.class);\n            loggerFactoryMockedStatic.when(() -&gt; LoggerFactory.getLogger(any(Class.class))).thenReturn(logger);\n            \n            when(logger.isDebugEnabled()).thenReturn(Boolean.FALSE);\n            Response res = endpoint.check();\n        }\n        \n    }\n</code></pre>\n<p>but it is resulting in &quot;UnnecessaryStubbingException&quot; when i am setting the debug enabled.</p>\n<p>Any idea how can I get it done ?</p>\n"},{"tags":["java","html","rtf","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1667304638,"post_id":74275269,"comment_id":131132137,"body_markdown":"I&#39;m not seeing any support in https://github.com/apache/tika/blob/main/tika-parsers/tika-parsers-standard/tika-parsers-standard-modules/tika-parser-microsoft-module/src/main/java/org/apache/tika/parser/microsoft/rtf/TextExtractor.java for those RTF tags, so I think you&#39;re going to have to contribute your first patch to Apache Tika to add the missing support....","body":"I&#39;m not seeing any support in <a href=\"https://github.com/apache/tika/blob/main/tika-parsers/tika-parsers-standard/tika-parsers-standard-modules/tika-parser-microsoft-module/src/main/java/org/apache/tika/parser/microsoft/rtf/TextExtractor.java\" rel=\"nofollow noreferrer\">github.com/apache/tika/blob/main/tika-parsers/&hellip;</a> for those RTF tags, so I think you&#39;re going to have to contribute your first patch to Apache Tika to add the missing support...."},{"owner":{"account_id":26794256,"reputation":1,"user_id":20387226,"display_name":"Pavel Cikota"},"score":0,"creation_date":1668072264,"post_id":74275269,"comment_id":131319904,"body_markdown":"Looks like that =(","body":"Looks like that =("}],"owner":{"account_id":26794256,"reputation":1,"user_id":20387226,"display_name":"Pavel Cikota"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667302406,"creation_date":1667302406,"question_id":74275269,"body_markdown":"G&#39;day!\r\n\r\nI try use *Apache Tika 2.5.0* for convert *RTF-based* content to *HTML *and stuck with convert tables from rtf-content (it was tags as *\\cellx \\clbrdr \\brdr* and so on). Tika convert this tags as a paragraph **&lt;p&gt;&lt;/p&gt;**.\r\n\r\nI try use many SAX handlers (transformers, ToHTMLContentHandler and so on), but it make no positive effects.\r\nI think, it&#39;s possibly to configure RTFParser by metadata, handler or context, but I fount no example.\r\n\r\n\r\nMy convert method code:\r\n\r\n\r\n```\r\npublic static void converterRTF2HTML2(File rtfFile, File htmlFile, Charset cpOut) throws TransformerConfigurationException, TikaException, IOException, SAXException {\r\n    InputStream rtfStream = new FileInputStream(rtfFile);\r\n\r\n    Tika tika = new Tika();\r\n    String rtfDetect = tika.detect(rtfFile); // detect as &#39;application/rtf&#39;\r\n    Metadata metadata = new Metadata();\r\n    metadata.set(Metadata.CONTENT_TYPE, rtfDetect);\r\n\r\n    OutputStream htmlStream = new FileOutputStream(htmlFile);\r\n\r\n    SAXTransformerFactory factory = (SAXTransformerFactory)\r\n            SAXTransformerFactory.newInstance();\r\n    TransformerHandler handler = factory.newTransformerHandler();\r\n\r\n    handler.getTransformer().setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\r\n    handler.getTransformer().setOutputProperty(OutputKeys.INDENT, &quot;no&quot;);\r\n    handler.getTransformer().setOutputProperty(OutputKeys.ENCODING, cpOut.name());\r\n    handler.setResult(new StreamResult(htmlStream));\r\n\r\n    ContentHandler handlerToXML = new ToXMLContentHandler();\r\n\r\n      // handlers that I try\r\n/////////////////\r\n    ExpandedTitleContentHandler handler1 = new ExpandedTitleContentHandler(handler);\r\n    //TaggedContentHandler handler1 = new TaggedContentHandler(handler);\r\n    //TextAndAttributeContentHandler handler2 = new TextAndAttributeContentHandler(handler);\r\n\r\n    ToHTMLContentHandler toHTMLContentHandler = new ToHTMLContentHandler(htmlStream, &quot;UTF-8&quot;);\r\n    //XHTMLContentHandler toXHTMLContentHandler = new XHTMLContentHandler(toHTMLContentHandler, metadata);\r\n\r\n    //RichTextContentHandler handler1 = new RichTextContentHandler(rtfStream);\r\n///////////////////\r\n\r\n    ParseContext context = new ParseContext();\r\n\r\n\r\n    //RTFParser parser = new RTFParser();\r\n    Parser parser = tika.getParser();\r\n    parser.parse(rtfStream, handler1, metadata, context);\r\n\r\n\r\n    htmlStream.flush();\r\n    rtfStream.close();\r\n    htmlStream.close();\r\n\r\n}\r\n```\r\n\r\n\r\ntry different handlers and parsers","title":"Apache Tika and RTF with Tables (cell, border, etc)","body":"<p>G'day!</p>\n<p>I try use <em>Apache Tika 2.5.0</em> for convert <em>RTF-based</em> content to *HTML *and stuck with convert tables from rtf-content (it was tags as <em>\\cellx \\clbrdr \\brdr</em> and so on). Tika convert this tags as a paragraph <strong><p></p></strong>.</p>\n<p>I try use many SAX handlers (transformers, ToHTMLContentHandler and so on), but it make no positive effects.\nI think, it's possibly to configure RTFParser by metadata, handler or context, but I fount no example.</p>\n<p>My convert method code:</p>\n<pre><code>public static void converterRTF2HTML2(File rtfFile, File htmlFile, Charset cpOut) throws TransformerConfigurationException, TikaException, IOException, SAXException {\n    InputStream rtfStream = new FileInputStream(rtfFile);\n\n    Tika tika = new Tika();\n    String rtfDetect = tika.detect(rtfFile); // detect as 'application/rtf'\n    Metadata metadata = new Metadata();\n    metadata.set(Metadata.CONTENT_TYPE, rtfDetect);\n\n    OutputStream htmlStream = new FileOutputStream(htmlFile);\n\n    SAXTransformerFactory factory = (SAXTransformerFactory)\n            SAXTransformerFactory.newInstance();\n    TransformerHandler handler = factory.newTransformerHandler();\n\n    handler.getTransformer().setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\n    handler.getTransformer().setOutputProperty(OutputKeys.INDENT, &quot;no&quot;);\n    handler.getTransformer().setOutputProperty(OutputKeys.ENCODING, cpOut.name());\n    handler.setResult(new StreamResult(htmlStream));\n\n    ContentHandler handlerToXML = new ToXMLContentHandler();\n\n      // handlers that I try\n/////////////////\n    ExpandedTitleContentHandler handler1 = new ExpandedTitleContentHandler(handler);\n    //TaggedContentHandler handler1 = new TaggedContentHandler(handler);\n    //TextAndAttributeContentHandler handler2 = new TextAndAttributeContentHandler(handler);\n\n    ToHTMLContentHandler toHTMLContentHandler = new ToHTMLContentHandler(htmlStream, &quot;UTF-8&quot;);\n    //XHTMLContentHandler toXHTMLContentHandler = new XHTMLContentHandler(toHTMLContentHandler, metadata);\n\n    //RichTextContentHandler handler1 = new RichTextContentHandler(rtfStream);\n///////////////////\n\n    ParseContext context = new ParseContext();\n\n\n    //RTFParser parser = new RTFParser();\n    Parser parser = tika.getParser();\n    parser.parse(rtfStream, handler1, metadata, context);\n\n\n    htmlStream.flush();\n    rtfStream.close();\n    htmlStream.close();\n\n}\n</code></pre>\n<p>try different handlers and parsers</p>\n"},{"tags":["java","spring-boot","sonarqube","drone.io"],"owner":{"account_id":15762693,"reputation":11,"user_id":11373991,"display_name":"Rapha&#235;l GICQUIAUX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667302229,"creation_date":1657705560,"question_id":72964163,"body_markdown":"I am facing a recurrent and yet random problem during the sonarqube analysis step of a Drone CI build.\r\n\r\nHere is the .drone.yaml part:\r\n\r\n    - name: code-analysis\r\n      image: aosapps/drone-sonar-plugin\r\n      settings:\r\n         sonar_host:\r\n           from_secret: sonar_host\r\n         sonar_token:\r\n           from_secret: sonar_token\r\n\r\nAnd sometimes, this analysis fail with this stacktrace, sometimes if I restart the same build it passes, sometimes not (completely random indeed):\r\n\r\n```\r\nINFO: Load active rules\r\n\r\nINFO: Load active rules (done) | time=7329ms\r\n\r\nINFO: Load analysis cache\r\n\r\nINFO: ------------------------------------------------------------------------\r\n\r\nINFO: EXECUTION FAILURE\r\n\r\nINFO: ------------------------------------------------------------------------\r\n\r\nINFO: Total time: 42.448s\r\n\r\nINFO: Final Memory: 17M/241M\r\n\r\nINFO: ------------------------------------------------------------------------\r\n\r\nERROR: Error during SonarScanner execution\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.sonarsource.scanner.api.internal.IsolatedClassloader@7db12bb6-org.sonar.scanner.report.ReportPublisher&#39;: Unsatisfied dependency expressed through constructor parameter 7; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.sonarsource.scanner.api.internal.IsolatedClassloader@7db12bb6-org.sonar.scanner.report.AnalysisCachePublisher&#39;: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;WriteCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Unsatisfied dependency expressed through method &#39;provideWriter&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ReadCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method &#39;provideReader&#39; threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\r\n\tat org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:187)\r\n\r\n\tat org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\r\n\r\n\tat org.sonar.scanner.bootstrap.SpringGlobalContainer.doAfterStart(SpringGlobalContainer.java:135)\r\n\r\n\tat org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:188)\r\n\r\n\tat org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\r\n\r\n\tat org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\r\n\r\n\tat org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\r\n\r\n\tat org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\r\n\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\r\n\tat org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\r\n\r\n\tat com.sun.proxy.$Proxy0.execute(Unknown Source)\r\n\r\n\tat org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\r\n\r\n\tat org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\r\n\r\n\tat org.sonarsource.scanner.cli.Main.execute(Main.java:112)\r\n\r\n\tat org.sonarsource.scanner.cli.Main.execute(Main.java:75)\r\n\r\n\tat org.sonarsource.scanner.cli.Main.main(Main.java:61)\r\n\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.sonarsource.scanner.api.internal.IsolatedClassloader@7db12bb6-org.sonar.scanner.report.AnalysisCachePublisher&#39;: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;WriteCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Unsatisfied dependency expressed through method &#39;provideWriter&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ReadCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method &#39;provideReader&#39; threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1607)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1571)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1437)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1347)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n\r\n\t... 31 more\r\n\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;WriteCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Unsatisfied dependency expressed through method &#39;provideWriter&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ReadCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method &#39;provideReader&#39; threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n\r\n\t... 48 more\r\n\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ReadCache&#39; defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method &#39;provideReader&#39; threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n\r\n\t... 62 more\r\n\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method &#39;provideReader&#39; threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\r\n\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\r\n\t... 76 more\r\n\r\nCaused by: java.lang.IllegalStateException: Failed to download analysis cache\r\n\r\n\tat org.sonar.scanner.cache.DefaultAnalysisCacheLoader.load(DefaultAnalysisCacheLoader.java:92)\r\n\r\n\tat org.sonar.scanner.cache.AnalysisCacheMemoryStorage.load(AnalysisCacheMemoryStorage.java:52)\r\n\r\n\tat org.sonar.scanner.cache.AnalysisCacheProvider.provideReader(AnalysisCacheProvider.java:35)\r\n\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\r\n\t... 77 more\r\n\r\nexit status 1\r\n```\r\n\r\nAs I can&#39;t find anything I&#39;m asking you, does that happen to you ? also, why does it happen and how to fix it?\r\n\r\nMany thanks. :)","title":"Random Sonar analysis fail with &quot;Failed to download analysis cache&quot;","body":"<p>I am facing a recurrent and yet random problem during the sonarqube analysis step of a Drone CI build.</p>\n<p>Here is the .drone.yaml part:</p>\n<pre><code>- name: code-analysis\n  image: aosapps/drone-sonar-plugin\n  settings:\n     sonar_host:\n       from_secret: sonar_host\n     sonar_token:\n       from_secret: sonar_token\n</code></pre>\n<p>And sometimes, this analysis fail with this stacktrace, sometimes if I restart the same build it passes, sometimes not (completely random indeed):</p>\n<pre><code>INFO: Load active rules\n\nINFO: Load active rules (done) | time=7329ms\n\nINFO: Load analysis cache\n\nINFO: ------------------------------------------------------------------------\n\nINFO: EXECUTION FAILURE\n\nINFO: ------------------------------------------------------------------------\n\nINFO: Total time: 42.448s\n\nINFO: Final Memory: 17M/241M\n\nINFO: ------------------------------------------------------------------------\n\nERROR: Error during SonarScanner execution\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.sonarsource.scanner.api.internal.IsolatedClassloader@7db12bb6-org.sonar.scanner.report.ReportPublisher': Unsatisfied dependency expressed through constructor parameter 7; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.sonarsource.scanner.api.internal.IsolatedClassloader@7db12bb6-org.sonar.scanner.report.AnalysisCachePublisher': Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'WriteCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Unsatisfied dependency expressed through method 'provideWriter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ReadCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method 'provideReader' threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n\n    at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:187)\n\n    at org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\n\n    at org.sonar.scanner.bootstrap.SpringGlobalContainer.doAfterStart(SpringGlobalContainer.java:135)\n\n    at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:188)\n\n    at org.sonar.core.platform.SpringComponentContainer.execute(SpringComponentContainer.java:167)\n\n    at org.sonar.batch.bootstrapper.Batch.doExecute(Batch.java:72)\n\n    at org.sonar.batch.bootstrapper.Batch.execute(Batch.java:66)\n\n    at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute(BatchIsolatedLauncher.java:46)\n\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n\n    at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke(IsolatedLauncherProxy.java:60)\n\n    at com.sun.proxy.$Proxy0.execute(Unknown Source)\n\n    at org.sonarsource.scanner.api.EmbeddedScanner.doExecute(EmbeddedScanner.java:189)\n\n    at org.sonarsource.scanner.api.EmbeddedScanner.execute(EmbeddedScanner.java:138)\n\n    at org.sonarsource.scanner.cli.Main.execute(Main.java:112)\n\n    at org.sonarsource.scanner.cli.Main.execute(Main.java:75)\n\n    at org.sonarsource.scanner.cli.Main.main(Main.java:61)\n\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.sonarsource.scanner.api.internal.IsolatedClassloader@7db12bb6-org.sonar.scanner.report.AnalysisCachePublisher': Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'WriteCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Unsatisfied dependency expressed through method 'provideWriter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ReadCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method 'provideReader' threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1607)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1571)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1437)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1347)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n\n    ... 31 more\n\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'WriteCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Unsatisfied dependency expressed through method 'provideWriter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ReadCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method 'provideReader' threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n\n    ... 48 more\n\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ReadCache' defined in org.sonar.scanner.cache.AnalysisCacheProvider: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method 'provideReader' threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\n\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n\n    ... 62 more\n\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.sonar.api.batch.sensor.cache.ReadCache]: Factory method 'provideReader' threw exception; nested exception is java.lang.IllegalStateException: Failed to download analysis cache\n\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n\n    ... 76 more\n\nCaused by: java.lang.IllegalStateException: Failed to download analysis cache\n\n    at org.sonar.scanner.cache.DefaultAnalysisCacheLoader.load(DefaultAnalysisCacheLoader.java:92)\n\n    at org.sonar.scanner.cache.AnalysisCacheMemoryStorage.load(AnalysisCacheMemoryStorage.java:52)\n\n    at org.sonar.scanner.cache.AnalysisCacheProvider.provideReader(AnalysisCacheProvider.java:35)\n\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n\n    ... 77 more\n\nexit status 1\n</code></pre>\n<p>As I can't find anything I'm asking you, does that happen to you ? also, why does it happen and how to fix it?</p>\n<p>Many thanks. :)</p>\n"},{"tags":["java","apache-storm"],"answers":[{"tags":[],"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667199899,"creation_date":1667199899,"answer_id":74259768,"question_id":74259555,"body_markdown":"This is probably just a partial answer. In your terminal, you can see basically 3 processes:\r\n1. The `Supervisor` - this is the overarching storm process that is responsible for the coordinations of `LogWriters` and `Workers.` So it basically starts and kills them and it has an own logfile. You can aso configure, of how many Workers you want to spawn (=slots)\r\n2. The `LogWriter`: This seems to be responsible for generating the log - but I am really not sure why one need a separate JVM for that. \r\n3. The `Worker` - this is executing one operator (bolt or spout) of a topology. So this is created by the supervisor and lives as long as the topology lives. You could run multiple workers in parallel.\r\n\r\nI am also not sure why they designed it that way - so please have a look at my separate [question][1] on that. For the exact time &amp; call of spawning, you&#39;ll need to dig through their implementation - I couldn&#39;t identify the relevant code on a first glimpse - but would be happy if you could share your results. \r\n\r\n  [1]: https://stackoverflow.com/questions/72001598/why-does-apache-storm-instantiate-a-jvm-for-every-slot","title":"Apache storm 2 java process for each worker process","body":"<p>This is probably just a partial answer. In your terminal, you can see basically 3 processes:</p>\n<ol>\n<li>The <code>Supervisor</code> - this is the overarching storm process that is responsible for the coordinations of <code>LogWriters</code> and <code>Workers.</code> So it basically starts and kills them and it has an own logfile. You can aso configure, of how many Workers you want to spawn (=slots)</li>\n<li>The <code>LogWriter</code>: This seems to be responsible for generating the log - but I am really not sure why one need a separate JVM for that.</li>\n<li>The <code>Worker</code> - this is executing one operator (bolt or spout) of a topology. So this is created by the supervisor and lives as long as the topology lives. You could run multiple workers in parallel.</li>\n</ol>\n<p>I am also not sure why they designed it that way - so please have a look at my separate <a href=\"https://stackoverflow.com/questions/72001598/why-does-apache-storm-instantiate-a-jvm-for-every-slot\">question</a> on that. For the exact time &amp; call of spawning, you'll need to dig through their implementation - I couldn't identify the relevant code on a first glimpse - but would be happy if you could share your results.</p>\n"}],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667302026,"creation_date":1667198332,"question_id":74259555,"body_markdown":"When I run `ps aux | grep java` on my machine which is running a storm topology, I can see 2 Java processes running. \r\n```\r\nps -ef | grep java | grep &quot;storm&quot;\r\nUID        PID  PPID  C STIME TTY          TIME CMD\r\ntest-3p-s+ 10857 10661  0 Apr12 ?        1-02:21:25 java -server -Ddaemon.name=supervisor -Dstorm.options= -Dstorm.home=/usr/share/apache-storm -Dstorm.log.dir=/usr/share/apache-storm/logs -Djava.library.path=/usr/local/lib:/opt/local/lib:/usr/lib -Dstorm.conf.file= -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf -Xmx2048m -Dlogfile.name=supervisor.log -DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/cluster.xml org.apache.storm.daemon.supervisor\r\ntest-3p-s+ 16121 10857  0 Oct13 ?        00:11:31 java -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/stormjar.jar -Xmx64m -Dlogfile.name=worker.log -Dstorm.home=/usr/share/apache-storm -Dworkers.artifacts=/usr/share/apache-storm/logs/workers-artifacts -Dstorm.id=TestTopology-97-1665657576 -Dworker.id=3324b1de-e8ce-48e6-b065-3fd1f0659c20 -Dworker.port=6706 -Dstorm.log.dir=/usr/share/apache-storm/logs -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/worker.xml -DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector org.apache.storm.LogWriter java -server -Xmx4g -Xms4g -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=16706 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -XX:+UseG1GC -XX:+AggressiveOpts -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:/var/log/apache-storm/gc.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=1M -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp -Xmx4g -Djava.library.path=/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources/Linux-amd64:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources:/usr/local/lib:/opt/local/lib:/usr/lib -Dlogfile.name=worker.log -Dstorm.home=/usr/share/apache-storm -Dworkers.artifacts=/usr/share/apache-storm/logs/workers-artifacts -Dstorm.conf.file= -Dstorm.options= -Dstorm.log.dir=/usr/share/apache-storm/logs -Djava.io.tmpdir=/var/lib/apache-storm/workers/3324b1de-e8ce-48e6-b065-3fd1f0659c20/tmp -Dlogging.sensitivity=S3 -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/worker.xml -DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector -Dstorm.id=TestTopology-97-1665657576 -Dworker.id=3324b1de-e8ce-48e6-b065-3fd1f0659c20 -Dworker.port=6706 -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/stormjar.jar org.apache.storm.daemon.worker TestTopology-97-1665657576 b64def27-088a-41ae-95a9-b5195c88bbfa 6706 3324b1de-e8ce-48e6-b065-3fd1f0659c20\r\ntest-3p-s+ 16158 16121 87 Oct13 ?        15-13:11:48 java -server -Xmx4g -Xms4g -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=16706 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -XX:+UseG1GC -XX:+AggressiveOpts -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:/var/log/apache-storm/gc.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=1M -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp -Xmx4g -Djava.library.path=/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources/Linux-amd64:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources:/usr/local/lib:/opt/local/lib:/usr/lib -Dlogfile.name=worker.log -Dstorm.home=/usr/share/apache-storm -Dworkers.artifacts=/usr/share/apache-storm/logs/workers-artifacts -Dstorm.conf.file= -Dstorm.options= -Dstorm.log.dir=/usr/share/apache-storm/logs -Djava.io.tmpdir=/var/lib/apache-storm/workers/3324b1de-e8ce-48e6-b065-3fd1f0659c20/tmp -Dlogging.sensitivity=S3 -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/worker.xml -DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector -Dstorm.id=TestTopology-97-1665657576 -Dworker.id=3324b1de-e8ce-48e6-b065-3fd1f0659c20 -Dworker.port=6706 -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/stormjar.jar org.apache.storm.daemon.worker TestTopology-97-1665657576 b64def27-088a-41ae-95a9-b5195c88bbfa 6706 3324b1de-e8ce-48e6-b065-3fd1f0659c20\r\n```\r\n\r\nIt seems all the 3 java process are related as parent client, as PPID of a pid is same as pid of previous java process. But can some please explain: \r\n1. How these processes are spawned? (using `java.lang.Process` API?)\r\n2. Who is monitoring whom?\r\n3. Why do we need the second Java process?\r\n","title":"Apache storm 2 java process for each worker process","body":"<p>When I run <code>ps aux | grep java</code> on my machine which is running a storm topology, I can see 2 Java processes running.</p>\n<pre><code>ps -ef | grep java | grep &quot;storm&quot;\nUID        PID  PPID  C STIME TTY          TIME CMD\ntest-3p-s+ 10857 10661  0 Apr12 ?        1-02:21:25 java -server -Ddaemon.name=supervisor -Dstorm.options= -Dstorm.home=/usr/share/apache-storm -Dstorm.log.dir=/usr/share/apache-storm/logs -Djava.library.path=/usr/local/lib:/opt/local/lib:/usr/lib -Dstorm.conf.file= -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf -Xmx2048m -Dlogfile.name=supervisor.log -DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/cluster.xml org.apache.storm.daemon.supervisor\ntest-3p-s+ 16121 10857  0 Oct13 ?        00:11:31 java -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/stormjar.jar -Xmx64m -Dlogfile.name=worker.log -Dstorm.home=/usr/share/apache-storm -Dworkers.artifacts=/usr/share/apache-storm/logs/workers-artifacts -Dstorm.id=TestTopology-97-1665657576 -Dworker.id=3324b1de-e8ce-48e6-b065-3fd1f0659c20 -Dworker.port=6706 -Dstorm.log.dir=/usr/share/apache-storm/logs -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/worker.xml -DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector org.apache.storm.LogWriter java -server -Xmx4g -Xms4g -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=16706 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -XX:+UseG1GC -XX:+AggressiveOpts -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:/var/log/apache-storm/gc.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=1M -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp -Xmx4g -Djava.library.path=/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources/Linux-amd64:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources:/usr/local/lib:/opt/local/lib:/usr/lib -Dlogfile.name=worker.log -Dstorm.home=/usr/share/apache-storm -Dworkers.artifacts=/usr/share/apache-storm/logs/workers-artifacts -Dstorm.conf.file= -Dstorm.options= -Dstorm.log.dir=/usr/share/apache-storm/logs -Djava.io.tmpdir=/var/lib/apache-storm/workers/3324b1de-e8ce-48e6-b065-3fd1f0659c20/tmp -Dlogging.sensitivity=S3 -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/worker.xml -DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector -Dstorm.id=TestTopology-97-1665657576 -Dworker.id=3324b1de-e8ce-48e6-b065-3fd1f0659c20 -Dworker.port=6706 -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/stormjar.jar org.apache.storm.daemon.worker TestTopology-97-1665657576 b64def27-088a-41ae-95a9-b5195c88bbfa 6706 3324b1de-e8ce-48e6-b065-3fd1f0659c20\ntest-3p-s+ 16158 16121 87 Oct13 ?        15-13:11:48 java -server -Xmx4g -Xms4g -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=16706 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -XX:+UseG1GC -XX:+AggressiveOpts -XX:+PrintGCDetails -XX:+PrintGCDateStamps -Xloggc:/var/log/apache-storm/gc.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=1M -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/tmp -Xmx4g -Djava.library.path=/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources/Linux-amd64:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/resources:/usr/local/lib:/opt/local/lib:/usr/lib -Dlogfile.name=worker.log -Dstorm.home=/usr/share/apache-storm -Dworkers.artifacts=/usr/share/apache-storm/logs/workers-artifacts -Dstorm.conf.file= -Dstorm.options= -Dstorm.log.dir=/usr/share/apache-storm/logs -Djava.io.tmpdir=/var/lib/apache-storm/workers/3324b1de-e8ce-48e6-b065-3fd1f0659c20/tmp -Dlogging.sensitivity=S3 -Dlog4j.configurationFile=/usr/share/apache-storm/log4j2/worker.xml -DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector -Dstorm.id=TestTopology-97-1665657576 -Dworker.id=3324b1de-e8ce-48e6-b065-3fd1f0659c20 -Dworker.port=6706 -cp /usr/share/apache-storm/lib/log4j-slf4j-impl-2.1.jar:/usr/share/apache-storm/lib/reflectasm-1.10.1.jar:/usr/share/apache-storm/lib/kryo-3.0.3.jar:/usr/share/apache-storm/lib/storm-core-1.0.1.jar:/usr/share/apache-storm/lib/servlet-api-2.5.jar:/usr/share/apache-storm/lib/log4j-core-2.1.jar:/usr/share/apache-storm/lib/log4j-api-2.1.jar:/usr/share/apache-storm/lib/objenesis-2.1.jar:/usr/share/apache-storm/lib/disruptor-3.3.2.jar:/usr/share/apache-storm/lib/log4j-over-slf4j-1.6.6.jar:/usr/share/apache-storm/lib/storm-rename-hack-1.0.1.jar:/usr/share/apache-storm/lib/asm-5.0.3.jar:/usr/share/apache-storm/lib/minlog-1.3.0.jar:/usr/share/apache-storm/lib/slf4j-api-1.7.7.jar:/usr/share/apache-storm/lib/clojure-1.7.0.jar:/usr/share/apache-storm/conf:/var/lib/apache-storm/supervisor/stormdist/TestTopology-97-1665657576/stormjar.jar org.apache.storm.daemon.worker TestTopology-97-1665657576 b64def27-088a-41ae-95a9-b5195c88bbfa 6706 3324b1de-e8ce-48e6-b065-3fd1f0659c20\n</code></pre>\n<p>It seems all the 3 java process are related as parent client, as PPID of a pid is same as pid of previous java process. But can some please explain:</p>\n<ol>\n<li>How these processes are spawned? (using <code>java.lang.Process</code> API?)</li>\n<li>Who is monitoring whom?</li>\n<li>Why do we need the second Java process?</li>\n</ol>\n"},{"tags":["java","sorting","java-stream","filtering"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667301070,"creation_date":1667299464,"answer_id":74274703,"question_id":74274542,"body_markdown":"To eliminate the duplicated students (i.e. having the same `id`) from the list we can use an auxiliary Map.\r\n\r\nThis Map should associate a single instance of `Student` (the one with the latest start date) with a particular `id`. The proper Collector for that purpose is a *three-args version* of [`toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)) which expects:\r\n* a *keyMapper*, which generates a *key* from the consumed stream element;\r\n* a *valueMapper* generating a *value*;\r\n* and a *mergeFunction* responsible for resolving duplicates.\r\n\r\nTo implement the *mergeFunction* we can use static method [`BinaryOperator.maxBy`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BinaryOperator.html#maxBy(java.util.Comparator)) which expects a Comparator as an argument. And to define a comparator we can make use of the Java 8 [`Comparator.comparing()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)).\r\n\r\nFinally, to generate a list of students having unique `id` we need to generate a stream over the values of the intermediate Map, apply sorting add collect the elements into a List.\r\n\r\n```\r\nList&lt;Student&gt; students = List.of(\r\n    new Student(&quot;1&quot;, LocalDateTime.now()),\r\n    new Student(&quot;1&quot;, LocalDateTime.of(2000, 02, 01, 01, 01)),\r\n    new Student(&quot;1&quot;, LocalDateTime.of(1990, 02, 01, 01, 01)),\r\n    new Student(&quot;2&quot;, LocalDateTime.of(1990, 02, 01, 01, 01))\r\n);\r\n\r\nList&lt;Student&gt; uniqueStudents = students.stream()\r\n    .collect(Collectors.toMap(\r\n        Student::getId,\r\n        Function.identity(),\r\n        BinaryOperator.maxBy(Comparator.comparing(Student::getStartDatetime))\r\n    ))\r\n    .values().stream()\r\n    .sorted(Comparator.comparing(Student::getStartDatetime))\r\n    .toList(); // for Java 16+ .or collect(Collectors.toList())\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nStudent{id=&#39;2&#39;, startDatetime=1990-02-01T01:01}\r\nStudent{id=&#39;1&#39;, startDatetime=2022-11-01T14:03:17.858753}\r\n```","title":"Remove objects with duplicate id and sorted values","body":"<p>To eliminate the duplicated students (i.e. having the same <code>id</code>) from the list we can use an auxiliary Map.</p>\n<p>This Map should associate a single instance of <code>Student</code> (the one with the latest start date) with a particular <code>id</code>. The proper Collector for that purpose is a <em>three-args version</em> of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a> which expects:</p>\n<ul>\n<li>a <em>keyMapper</em>, which generates a <em>key</em> from the consumed stream element;</li>\n<li>a <em>valueMapper</em> generating a <em>value</em>;</li>\n<li>and a <em>mergeFunction</em> responsible for resolving duplicates.</li>\n</ul>\n<p>To implement the <em>mergeFunction</em> we can use static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BinaryOperator.html#maxBy(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>BinaryOperator.maxBy</code></a> which expects a Comparator as an argument. And to define a comparator we can make use of the Java 8 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Comparator.comparing()</code></a>.</p>\n<p>Finally, to generate a list of students having unique <code>id</code> we need to generate a stream over the values of the intermediate Map, apply sorting add collect the elements into a List.</p>\n<pre><code>List&lt;Student&gt; students = List.of(\n    new Student(&quot;1&quot;, LocalDateTime.now()),\n    new Student(&quot;1&quot;, LocalDateTime.of(2000, 02, 01, 01, 01)),\n    new Student(&quot;1&quot;, LocalDateTime.of(1990, 02, 01, 01, 01)),\n    new Student(&quot;2&quot;, LocalDateTime.of(1990, 02, 01, 01, 01))\n);\n\nList&lt;Student&gt; uniqueStudents = students.stream()\n    .collect(Collectors.toMap(\n        Student::getId,\n        Function.identity(),\n        BinaryOperator.maxBy(Comparator.comparing(Student::getStartDatetime))\n    ))\n    .values().stream()\n    .sorted(Comparator.comparing(Student::getStartDatetime))\n    .toList(); // for Java 16+ .or collect(Collectors.toList())\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Student{id='2', startDatetime=1990-02-01T01:01}\nStudent{id='1', startDatetime=2022-11-01T14:03:17.858753}\n</code></pre>\n"}],"owner":{"account_id":26793956,"reputation":13,"user_id":20386961,"display_name":"hejha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74274703,"answer_count":1,"score":1,"last_activity_date":1667301070,"creation_date":1667298626,"question_id":74274542,"body_markdown":"I have a case where I want to remove objects from a list if there are duplicate ids. The items that should then be removed is the one with the oldest date. How can I do this using Java streams in a clean way? I was thinking it should be possible to like group the objects by id first and then sort them by date and only select the first object or similar but I&#39;m struggling on how to do this.\r\n\r\nExample:\r\n\r\n`\r\n```\r\npackage org.example;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n\r\n  class Student {\r\n    private String id;\r\n    private LocalDateTime startDatetime;\r\n\r\n    public String getId() {\r\n      return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n      this.id = id;\r\n    }\r\n\r\n    public LocalDateTime getStartDatetime() {\r\n      return startDatetime;\r\n    }\r\n\r\n    public void setStartDatetime(LocalDateTime startDatetime) {\r\n      this.startDatetime = startDatetime;\r\n    }\r\n\r\n    public Student(String id, LocalDateTime startDatetime) {\r\n      this.id = id;\r\n      this.startDatetime = startDatetime;\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    new Main();\r\n  }\r\n\r\n  public Main() {\r\n    List&lt;Student&gt; students = new ArrayList&lt;&gt;() {\r\n      {\r\n        add(new Student(&quot;1&quot;, LocalDateTime.now()));\r\n        add(new Student(&quot;1&quot;, LocalDateTime.of(2000, 02, 01, 01, 01)));\r\n        add(new Student(&quot;1&quot;, LocalDateTime.of(1990, 02, 01, 01, 01)));\r\n        add(new Student(&quot;2&quot;, LocalDateTime.of(1990, 02, 01, 01, 01)));\r\n      } };\r\n\r\n    //Now this list should be sorted as the following:\r\n    //If two or more student objects have the same id, remove the ones with the oldest startDateTime.\r\n    //Thus, the result above should only contain 2 objects. The first object with id 1 and the LocalDateTime.now() and the second object should be the one with id 2.\r\n\r\n    Map&lt;String, List&lt;Student&gt;&gt; groupedStudents =\r\n        students.stream().collect(Collectors.groupingBy(Student::getId));\r\n    \r\n  }\r\n}\r\n```\r\n`","title":"Remove objects with duplicate id and sorted values","body":"<p>I have a case where I want to remove objects from a list if there are duplicate ids. The items that should then be removed is the one with the oldest date. How can I do this using Java streams in a clean way? I was thinking it should be possible to like group the objects by id first and then sort them by date and only select the first object or similar but I'm struggling on how to do this.</p>\n<p>Example:</p>\n<p>`</p>\n<pre><code>package org.example;\n\nimport java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n  class Student {\n    private String id;\n    private LocalDateTime startDatetime;\n\n    public String getId() {\n      return id;\n    }\n\n    public void setId(String id) {\n      this.id = id;\n    }\n\n    public LocalDateTime getStartDatetime() {\n      return startDatetime;\n    }\n\n    public void setStartDatetime(LocalDateTime startDatetime) {\n      this.startDatetime = startDatetime;\n    }\n\n    public Student(String id, LocalDateTime startDatetime) {\n      this.id = id;\n      this.startDatetime = startDatetime;\n    }\n  }\n\n  public static void main(String[] args) {\n    new Main();\n  }\n\n  public Main() {\n    List&lt;Student&gt; students = new ArrayList&lt;&gt;() {\n      {\n        add(new Student(&quot;1&quot;, LocalDateTime.now()));\n        add(new Student(&quot;1&quot;, LocalDateTime.of(2000, 02, 01, 01, 01)));\n        add(new Student(&quot;1&quot;, LocalDateTime.of(1990, 02, 01, 01, 01)));\n        add(new Student(&quot;2&quot;, LocalDateTime.of(1990, 02, 01, 01, 01)));\n      } };\n\n    //Now this list should be sorted as the following:\n    //If two or more student objects have the same id, remove the ones with the oldest startDateTime.\n    //Thus, the result above should only contain 2 objects. The first object with id 1 and the LocalDateTime.now() and the second object should be the one with id 2.\n\n    Map&lt;String, List&lt;Student&gt;&gt; groupedStudents =\n        students.stream().collect(Collectors.groupingBy(Student::getId));\n    \n  }\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","eclipse","intellij-idea"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667282461,"post_id":74272059,"comment_id":131126343,"body_markdown":"And what was the error that it was complaining about ... ?","body":"And what was the error that it was complaining about ... ?"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667282517,"post_id":74272059,"comment_id":131126355,"body_markdown":"@StephenC Oh, forgot to mention it&#39;s `Type mismatch: cannot convert from Object to boolean`","body":"@StephenC Oh, forgot to mention it&#39;s <code>Type mismatch: cannot convert from Object to boolean</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667282590,"post_id":74272059,"comment_id":131126368,"body_markdown":"And what type is returned by `row.getValue(...)` ?  (Or ... what is the type of `row`?)","body":"And what type is returned by <code>row.getValue(...)</code> ?  (Or ... what is the type of <code>row</code>?)"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667282647,"post_id":74272059,"comment_id":131126381,"body_markdown":"row.getValue(...) returns `Object`","body":"row.getValue(...) returns <code>Object</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667282709,"post_id":74272059,"comment_id":131126391,"body_markdown":"Well ... that is the cause of your problem!  You can&#39;t use an `Object` as the condition of an `if` statement.","body":"Well ... that is the cause of your problem!  You can&#39;t use an <code>Object</code> as the condition of an <code>if</code> statement."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667282723,"post_id":74272059,"comment_id":131126395,"body_markdown":"`&lt;T&gt; T getValue(IContext context, int columnIndex);` is the definition of  `getValue()`","body":"<code>&lt;T&gt; T getValue(IContext context, int columnIndex);</code> is the definition of  <code>getValue()</code>"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667282796,"post_id":74272059,"comment_id":131126410,"body_markdown":"@StephenC but then why IntelliJ is not complaining about the same? and even in Eclipse if build/run the project then it&#39;s successful.","body":"@StephenC but then why IntelliJ is not complaining about the same? and even in Eclipse if build/run the project then it&#39;s successful."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1667282845,"post_id":74272059,"comment_id":131126417,"body_markdown":"It would appear that there is a difference between the IDEs&#39; compilers.  Could you please write a minimal reproducible example for this.  So that we can try it out with other compilers, and check what the JLS says about it ...","body":"It would appear that there is a difference between the IDEs&#39; compilers.  Could you please write a minimal reproducible example for this.  So that we can try it out with other compilers, and check what the JLS says about it ..."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667284400,"post_id":74272059,"comment_id":131126701,"body_markdown":"@StephenC &quot;there is a difference between the IDEs&#39; compilers.&quot; --&gt; If you mean by JDK/JRE refereed in build path then both are referring to the same JDK folder. About the reproducible example, let try to create it.","body":"@StephenC &quot;there is a difference between the IDEs&#39; compilers.&quot; --&gt; If you mean by JDK/JRE refereed in build path then both are referring to the same JDK folder. About the reproducible example, let try to create it."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1667285919,"post_id":74272059,"comment_id":131126999,"body_markdown":"PLEASE include a [mre] in the question - we have no idea how `row` is declared, we have no idea how `T` is being inferred (or not) as return value of `getValue`, ....","body":"PLEASE include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question - we have no idea how <code>row</code> is declared, we have no idea how <code>T</code> is being inferred (or not) as return value of <code>getValue</code>, ...."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1667286203,"post_id":74272059,"comment_id":131127065,"body_markdown":"The type of `row.getValue(..)` depends on the generics bound determined by the compiler for whatever `roq` might be, which you did not include in your paste. Hence, this question cannot be answered. Intellij binds it to &#39;boolean&#39;, ecj evidently does not. The error is elsewhere and this clause merely triggers it, it is not itself the cause. A full reproducible example is the next step :)","body":"The type of <code>row.getValue(..)</code> depends on the generics bound determined by the compiler for whatever <code>roq</code> might be, which you did not include in your paste. Hence, this question cannot be answered. Intellij binds it to &#39;boolean&#39;, ecj evidently does not. The error is elsewhere and this clause merely triggers it, it is not itself the cause. A full reproducible example is the next step :)"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667290171,"post_id":74272059,"comment_id":131127936,"body_markdown":"@rzwitserloot Yes, I am preparing reproducible example. Though, I don&#39;t have access to see how `getValue()` is implemented, We are creating object of an interface which has this method. But, according to my best knowledge I will create a example.","body":"@rzwitserloot Yes, I am preparing reproducible example. Though, I don&#39;t have access to see how <code>getValue()</code> is implemented, We are creating object of an interface which has this method. But, according to my best knowledge I will create a example."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1667290985,"post_id":74272059,"comment_id":131128149,"body_markdown":"Note: Eclipse uses its own compiler &quot;ecj&quot; rather than &quot;javac&quot;, this can occasionally give different results. We need a full example to be able to tell which compiler is correct.","body":"Note: Eclipse uses its own compiler &quot;ecj&quot; rather than &quot;javac&quot;, this can occasionally give different results. We need a full example to be able to tell which compiler is correct."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667296613,"post_id":74272059,"comment_id":131129610,"body_markdown":"Hello there [here](https://drive.google.com/file/d/1m61RPr6ytENlMBbHulod-5KTAH6VOR9g/view?usp=sharing) is the reproducible example.","body":"Hello there <a href=\"https://drive.google.com/file/d/1m61RPr6ytENlMBbHulod-5KTAH6VOR9g/view?usp=sharing\" rel=\"nofollow noreferrer\">here</a> is the reproducible example."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667296713,"post_id":74272059,"comment_id":131129647,"body_markdown":"As I said already, I don&#39;t have access to see implementation of `getValue()`. In reproducible example, I have just reproduced the error. Because I wanted to understand why and how both IDEs treat the same line of code differently","body":"As I said already, I don&#39;t have access to see implementation of <code>getValue()</code>. In reproducible example, I have just reproduced the error. Because I wanted to understand why and how both IDEs treat the same line of code differently"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667296915,"post_id":74272059,"comment_id":131129702,"body_markdown":"@greg-449 I checked on this point as well. In IntelliJ if I change compiler to `Eclipse` then also IntelliJ does not show error.","body":"@greg-449 I checked on this point as well. In IntelliJ if I change compiler to <code>Eclipse</code> then also IntelliJ does not show error."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667296998,"post_id":74272059,"comment_id":131129729,"body_markdown":"@rzwitserloot reproducible example added. Your help will be appreciated to understand why both IDE treats same line of code differently","body":"@rzwitserloot reproducible example added. Your help will be appreciated to understand why both IDE treats same line of code differently"},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667297020,"post_id":74272059,"comment_id":131129735,"body_markdown":"@StephenC reproducible example added. Your help will be appreciated to understand why both IDE treats same line of code differently  .","body":"@StephenC reproducible example added. Your help will be appreciated to understand why both IDE treats same line of code differently  ."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1667299456,"post_id":74272059,"comment_id":131130513,"body_markdown":"@greg-449 Question updated with example code. Thanks for suggestion :)","body":"@greg-449 Question updated with example code. Thanks for suggestion :)"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667300976,"creation_date":1667300612,"answer_id":74274921,"question_id":74272059,"body_markdown":"Eclipse uses its own compiler, distinct from javac, and this error appears to be the manifestation of a difference in compiler implementation.\r\n\r\nThis is the ticket raised on their issue tracker. https://bugs.eclipse.org/bugs/show_bug.cgi?id=513766\r\n\r\nEclipse compiler devs seem to consider it a bug in javac, rather than the other way around. So perhaps the question should be &quot;why does javac accept it&quot;? This ticket exists for the JDK https://bugs.openjdk.org/browse/JDK-8179483, and was raised by Dan Smith who is a language designer at Oracle. He states that &quot;javac should reject this program&quot;.\r\n\r\nThat said, I&#39;d be quite surprised if they remove this &quot;feature&quot;. Oracle are not in the habit of making backwards-incompatible changes, which this would be for people like you. A more likely solution seems an adjustment to the spec to allow for it, but I&#39;d bet it&#39;s more complex than it seems on the surface, or they might have addressed it by now.\r\n\r\nI think effectively this behaviour is ambiguously defined, and you should ideally avoid relying on it. I&#39;d change your code to \r\n\r\n    if(Boolean.TRUE.equals(row.getValue()))","title":"Why eclipse showing error but not IntelliJ","body":"<p>Eclipse uses its own compiler, distinct from javac, and this error appears to be the manifestation of a difference in compiler implementation.</p>\n<p>This is the ticket raised on their issue tracker. <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=513766\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=513766</a></p>\n<p>Eclipse compiler devs seem to consider it a bug in javac, rather than the other way around. So perhaps the question should be &quot;why does javac accept it&quot;? This ticket exists for the JDK <a href=\"https://bugs.openjdk.org/browse/JDK-8179483\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8179483</a>, and was raised by Dan Smith who is a language designer at Oracle. He states that &quot;javac should reject this program&quot;.</p>\n<p>That said, I'd be quite surprised if they remove this &quot;feature&quot;. Oracle are not in the habit of making backwards-incompatible changes, which this would be for people like you. A more likely solution seems an adjustment to the spec to allow for it, but I'd bet it's more complex than it seems on the surface, or they might have addressed it by now.</p>\n<p>I think effectively this behaviour is ambiguously defined, and you should ideally avoid relying on it. I'd change your code to</p>\n<pre><code>if(Boolean.TRUE.equals(row.getValue()))\n</code></pre>\n"}],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74274921,"answer_count":1,"score":1,"last_activity_date":1667300976,"creation_date":1667282331,"question_id":74272059,"body_markdown":"I usually work with IntelliJ but recently one of my team mate opened project in eclipse and he found eclipse showing error `Type mismatch: cannot convert from Object to boolean` in 2 separate java files. I crossed checked in IntelliJ but no error.  \r\n\r\nBelow are the screenshot from Eclipse and IntelliJ respectively:\r\n\r\nEclipse:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIntelliJ \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI also checked that both the IDEs have same compiler compliance level, i.e. 11\r\n\r\nEclipse:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nIntelliJ\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nEven though Eclipse is showing error, if I run the project in eclipse then build and run is successful.\r\n\r\nAs in above actual code example `row` object is created from an interface, I do not have access to see it&#39;s actual implementation. Hence just to generate the scenario so that I can understand why and how two different IDEs behave differently ? I have created below reproducible example:\r\n\r\nIRow.java:\r\n\r\n    public interface IRow {\r\n        &lt;T&gt; T getValue();\r\n    } \r\n\r\nRowImpl.java\r\n\r\n    public class RowImpl implements IRow {\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n    \t@Override\r\n        public &lt;T&gt; T getValue() {\r\n            return (T) Boolean.TRUE;\r\n        }\r\n    }\r\n\r\nand the main.java\r\n\r\n    public class main {\r\n        public static void main(String args[])\r\n        {\r\n            IRow row = new RowImpl();\r\n            if(row.getValue()) //--&gt; Eclipse shows error but IntelliJ not\r\n                System.out.println(&quot;value is true&quot;);\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/jMFnz.png\r\n  [2]: https://i.stack.imgur.com/XNOUf.png\r\n  [3]: https://i.stack.imgur.com/Wpc45.png\r\n  [4]: https://i.stack.imgur.com/lkrGO.png","title":"Why eclipse showing error but not IntelliJ","body":"<p>I usually work with IntelliJ but recently one of my team mate opened project in eclipse and he found eclipse showing error <code>Type mismatch: cannot convert from Object to boolean</code> in 2 separate java files. I crossed checked in IntelliJ but no error.</p>\n<p>Below are the screenshot from Eclipse and IntelliJ respectively:</p>\n<p>Eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/jMFnz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jMFnz.png\" alt=\"enter image description here\" /></a></p>\n<p>IntelliJ</p>\n<p><a href=\"https://i.stack.imgur.com/XNOUf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XNOUf.png\" alt=\"enter image description here\" /></a></p>\n<p>I also checked that both the IDEs have same compiler compliance level, i.e. 11</p>\n<p>Eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/Wpc45.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wpc45.png\" alt=\"enter image description here\" /></a></p>\n<p>IntelliJ</p>\n<p><a href=\"https://i.stack.imgur.com/lkrGO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lkrGO.png\" alt=\"enter image description here\" /></a></p>\n<p>Even though Eclipse is showing error, if I run the project in eclipse then build and run is successful.</p>\n<p>As in above actual code example <code>row</code> object is created from an interface, I do not have access to see it's actual implementation. Hence just to generate the scenario so that I can understand why and how two different IDEs behave differently ? I have created below reproducible example:</p>\n<p>IRow.java:</p>\n<pre><code>public interface IRow {\n    &lt;T&gt; T getValue();\n} \n</code></pre>\n<p>RowImpl.java</p>\n<pre><code>public class RowImpl implements IRow {\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public &lt;T&gt; T getValue() {\n        return (T) Boolean.TRUE;\n    }\n}\n</code></pre>\n<p>and the main.java</p>\n<pre><code>public class main {\n    public static void main(String args[])\n    {\n        IRow row = new RowImpl();\n        if(row.getValue()) //--&gt; Eclipse shows error but IntelliJ not\n            System.out.println(&quot;value is true&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","testing","jmeter","jvm"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1667299796,"post_id":74274736,"comment_id":131130626,"body_markdown":"Low response time is good. Do you mean high?","body":"Low response time is good. Do you mean high?"},{"owner":{"account_id":8178944,"reputation":103,"user_id":7601678,"display_name":"Evgenii Manko"},"score":0,"creation_date":1667300423,"post_id":74274736,"comment_id":131130822,"body_markdown":"typo, I meant a high response time","body":"typo, I meant a high response time"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667300876,"creation_date":1667300876,"answer_id":74274957,"question_id":74274736,"body_markdown":"I think you need to go for a more comprehensive tool like [JProfiler][1] or [YourKit][2] or an [APM tool][3] if you have an appropriate license (there are free and open source like [Apache Skywalking][4] as  well)\r\n\r\nTheoretically it&#39;s possible to use JVisualVM however it&#39;s better to go for the &quot;snapshot&quot; mode, check out [Profiling With VisualVM][5] article series for instructions.  \r\n\r\nYou can also get some [JMX][6] metrics using [JMeter&#39;s PerfMon Plugin][7] \r\n\r\n\r\n  [1]: https://www.ej-technologies.com/products/jprofiler/overview.html\r\n  [2]: https://www.yourkit.com/java/profiler/features/\r\n  [3]: https://en.wikipedia.org/wiki/Application_performance_management\r\n  [4]: https://skywalking.apache.org/\r\n  [5]: http://web.archive.org/web/20190117031705/https://blogs.oracle.com/nbprofiler/profiling-with-visualvm,-part-1\r\n  [6]: https://www.baeldung.com/java-management-extensions\r\n  [7]: https://www.blazemeter.com/blog/jmeter-performance-metrics","title":"How to look for a problem with low RPS in VisualVM?","body":"<p>I think you need to go for a more comprehensive tool like <a href=\"https://www.ej-technologies.com/products/jprofiler/overview.html\" rel=\"nofollow noreferrer\">JProfiler</a> or <a href=\"https://www.yourkit.com/java/profiler/features/\" rel=\"nofollow noreferrer\">YourKit</a> or an <a href=\"https://en.wikipedia.org/wiki/Application_performance_management\" rel=\"nofollow noreferrer\">APM tool</a> if you have an appropriate license (there are free and open source like <a href=\"https://skywalking.apache.org/\" rel=\"nofollow noreferrer\">Apache Skywalking</a> as  well)</p>\n<p>Theoretically it's possible to use JVisualVM however it's better to go for the &quot;snapshot&quot; mode, check out <a href=\"http://web.archive.org/web/20190117031705/https://blogs.oracle.com/nbprofiler/profiling-with-visualvm,-part-1\" rel=\"nofollow noreferrer\">Profiling With VisualVM</a> article series for instructions.</p>\n<p>You can also get some <a href=\"https://www.baeldung.com/java-management-extensions\" rel=\"nofollow noreferrer\">JMX</a> metrics using <a href=\"https://www.blazemeter.com/blog/jmeter-performance-metrics\" rel=\"nofollow noreferrer\">JMeter's PerfMon Plugin</a></p>\n"}],"owner":{"account_id":8178944,"reputation":103,"user_id":7601678,"display_name":"Evgenii Manko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74274957,"answer_count":1,"score":0,"last_activity_date":1667300876,"creation_date":1667299628,"question_id":74274736,"body_markdown":"There was a problem with the high response time of my Spring application. \r\n\r\nMy colleagues advised me to use VisualVM, simultaneously running the load using Jmeter. I want to check which method takes the most time\r\n\r\n\r\nHowever, in VisualVM I get an uninformative answer - there are no methods of my application.\r\n\r\nCan you tell me if I&#39;m going the right way and how to display information on methods inside the application?\r\n[![enter image description here](https://i.stack.imgur.com/Q8c99.png)](https://i.stack.imgur.com/Q8c99.png)\r\n","title":"How to look for a problem with low RPS in VisualVM?","body":"<p>There was a problem with the high response time of my Spring application.</p>\n<p>My colleagues advised me to use VisualVM, simultaneously running the load using Jmeter. I want to check which method takes the most time</p>\n<p>However, in VisualVM I get an uninformative answer - there are no methods of my application.</p>\n<p>Can you tell me if I'm going the right way and how to display information on methods inside the application?\n<a href=\"https://i.stack.imgur.com/Q8c99.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q8c99.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","for-loop","numbers","line-breaks"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1667298300,"post_id":74274452,"comment_id":131130144,"body_markdown":"Hint: remove the inner loop (just the `for` statement) (option `x % 20`  will be zero every 20th number - if x is divisible by 20)","body":"Hint: remove the inner loop (just the <code>for</code> statement) (option <code>x % 20</code>  will be zero every 20th number - if x is divisible by 20)"},{"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"score":0,"creation_date":1667299702,"post_id":74274452,"comment_id":131130596,"body_markdown":"Thank you for your hint. I used it in creation a satisfying solution.","body":"Thank you for your hint. I used it in creation a satisfying solution."}],"answers":[{"tags":[],"owner":{"account_id":21700457,"reputation":11,"user_id":16013706,"display_name":"Randika Geekiyanage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667299100,"creation_date":1667299100,"answer_id":74274626,"question_id":74274452,"body_markdown":"There is no point in using an inner loop. Instead of that, you can implement a if statement to break into next line.\r\n\r\nLogic =&gt; if the number is a multiple of 20, then break into next line.\r\n\r\nImplementation =&gt;\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        for (int x = 1; x &lt;= 100; x++) {\r\n            System.out.print(x + &quot; &quot;);\r\n            if(x%20==0){\r\n                System.out.println();\r\n            }\r\n        }\r\n\r\nOutput =&gt;\r\n\r\n    1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 \r\n    21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 \r\n    41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 \r\n    61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 \r\n    81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 \r\n\r\n ","title":"Line break after every 20th number in Java (for-loop)","body":"<p>There is no point in using an inner loop. Instead of that, you can implement a if statement to break into next line.</p>\n<p>Logic =&gt; if the number is a multiple of 20, then break into next line.</p>\n<p>Implementation =&gt;</p>\n<pre><code>public static void main(String[] args) {\n\n\n    for (int x = 1; x &lt;= 100; x++) {\n        System.out.print(x + &quot; &quot;);\n        if(x%20==0){\n            System.out.println();\n        }\n    }\n</code></pre>\n<p>Output =&gt;</p>\n<pre><code>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 \n21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 \n41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 \n61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 \n81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":64723,"reputation":411,"user_id":190929,"accept_rate":69,"display_name":"DummyBeginner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667299172,"creation_date":1667299172,"answer_id":74274645,"question_id":74274452,"body_markdown":"\t\t        for (int x = 1; x &lt;= 100; x++) {\r\n\t\t             System.out.print(x + \r\n\t\t            \t\t (x % 20 == 0 ? &quot;\\n&quot; : &quot; &quot;)\r\n\t\t            \t\t\t );\r\n\t\t             \r\n\t\t            }\r\n\r\n\t\t        }\r\n\r\nInside the print, it prints `x` and then checks if the `x` is a multiple of 20 to print a new line; Otherwise prints a space. It&#39;s in `Ternary Operator` format, but could also be written in normal if block format:\r\n\r\n\t\t        for (int x = 1; x &lt;= 100; x++) {\r\n\t\t        \t\r\n\t\t        \tSystem.out.print(x);\r\n\t\t        \t\r\n\t\t            if (x % 20 == 0) \r\n\t\t            \tSystem.out.print(&quot; &quot;);\r\n\t\t            else\r\n\t\t            \tSystem.out.println();\r\n\t\t             \r\n\t\t            }\r\n\r\n\t\t        }","title":"Line break after every 20th number in Java (for-loop)","body":"<pre><code>            for (int x = 1; x &lt;= 100; x++) {\n                 System.out.print(x + \n                         (x % 20 == 0 ? &quot;\\n&quot; : &quot; &quot;)\n                             );\n                 \n                }\n\n            }\n</code></pre>\n<p>Inside the print, it prints <code>x</code> and then checks if the <code>x</code> is a multiple of 20 to print a new line; Otherwise prints a space. It's in <code>Ternary Operator</code> format, but could also be written in normal if block format:</p>\n<pre><code>            for (int x = 1; x &lt;= 100; x++) {\n                \n                System.out.print(x);\n                \n                if (x % 20 == 0) \n                    System.out.print(&quot; &quot;);\n                else\n                    System.out.println();\n                 \n                }\n\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667300496,"creation_date":1667300171,"answer_id":74274825,"question_id":74274452,"body_markdown":"Thank you all for your help! I wanted to create a &quot;unified&quot; look of the output , so I ended up with the following code:\r\n```\r\npublic class zahlen1_bis_100 {\r\n    public static void main(String[] args) {\r\n\r\n\r\n        for (int x = 1; x &lt;= 100; x++) {\r\n\r\n\r\n            if (x &lt; 10) {\r\n                System.out.print(x + &quot;  &quot;);\r\n\r\n            } else {\r\n                System.out.print(x + &quot; &quot;);\r\n            }\r\n            if (x % 20 ==0) {\r\n                System.out.println();\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n}\r\n[Result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/66tXZ.png","title":"Line break after every 20th number in Java (for-loop)","body":"<p>Thank you all for your help! I wanted to create a &quot;unified&quot; look of the output , so I ended up with the following code:</p>\n<pre><code>public class zahlen1_bis_100 {\n    public static void main(String[] args) {\n\n\n        for (int x = 1; x &lt;= 100; x++) {\n\n\n            if (x &lt; 10) {\n                System.out.print(x + &quot;  &quot;);\n\n            } else {\n                System.out.print(x + &quot; &quot;);\n            }\n            if (x % 20 ==0) {\n                System.out.println();\n            }\n\n        }\n\n\n    }\n}\n[Result][1]\n\n\n  [1]: https://i.stack.imgur.com/66tXZ.png\n</code></pre>\n"}],"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74274645,"answer_count":3,"score":0,"last_activity_date":1667300496,"creation_date":1667298133,"question_id":74274452,"body_markdown":"I am trying to write a program, which shows numbers 1 to 100. I would like to have a line break after every 20th number. I have tried using a counterloop, which resets itself after every 20th number, but the program runs infinite. How do I fix this?\r\n\r\n```\r\npublic class zahlen1_bis_100 {\r\n    public static void main(String[] args) {\r\n\r\n\r\n        for (int x = 1; x &lt;= 100; x++) {\r\n            for (int counter = 1;counter &lt;= 20; counter++) {\r\n\r\n                    if (counter == 20) {\r\n\r\n                        System.out.println();\r\n                        counter = 1;\r\n                    }\r\n                }\r\n             System.out.print(x + &quot; &quot;);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n```","title":"Line break after every 20th number in Java (for-loop)","body":"<p>I am trying to write a program, which shows numbers 1 to 100. I would like to have a line break after every 20th number. I have tried using a counterloop, which resets itself after every 20th number, but the program runs infinite. How do I fix this?</p>\n<pre><code>public class zahlen1_bis_100 {\n    public static void main(String[] args) {\n\n\n        for (int x = 1; x &lt;= 100; x++) {\n            for (int counter = 1;counter &lt;= 20; counter++) {\n\n                    if (counter == 20) {\n\n                        System.out.println();\n                        counter = 1;\n                    }\n                }\n             System.out.print(x + &quot; &quot;);\n            }\n\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","linux","process","monitor","socat"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667318693,"post_id":74274860,"comment_id":131137225,"body_markdown":"It might well print to stderr. You&#39;re only processing stdout. I would seriously suggest you use `ProcessBuilder` too as it makes IO much easier for one thing","body":"It might well print to stderr. You&#39;re only processing stdout. I would seriously suggest you use <code>ProcessBuilder</code> too as it makes IO much easier for one thing"},{"owner":{"account_id":10880551,"reputation":397,"user_id":8814924,"display_name":"Nafiul Alam Fuji"},"score":0,"creation_date":1667364352,"post_id":74274860,"comment_id":131147371,"body_markdown":"Thanks, process.getErrorStream() worked for me but can&#39;t think of the logic why the inputStream has been redirected to errorStream. And I didn&#39;t understand the advantage of using ProcessBuilder here?","body":"Thanks, process.getErrorStream() worked for me but can&#39;t think of the logic why the inputStream has been redirected to errorStream. And I didn&#39;t understand the advantage of using ProcessBuilder here?"}],"owner":{"account_id":10880551,"reputation":397,"user_id":8814924,"display_name":"Nafiul Alam Fuji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667300326,"creation_date":1667300326,"question_id":74274860,"body_markdown":"Here is my `runCommand` that takes Linux command input as a string\r\n\r\n        public static ArrayList&lt;String&gt; runCommand(String command) {\r\n        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n\r\n            Process process = Runtime.getRuntime().exec(command);\r\n            BufferedReader reader =\r\n                    new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                arrayList.add(line);\r\n                System.out.println(line);\r\n            }\r\n            int exitCode = process.waitFor();\r\n            System.out.println(&quot;\\nExited with error code : &quot;+exitCode);\r\n            System.out.println();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return arrayList;\r\n    }\r\n\r\nIt is working great with normal command like `ls` or `sudo lsof -t -i:132` or other. Even tailing live log from `ping google.com`. My `socat` command\r\n\r\n    sudo SOCAT_SOCKADDR=192.168.11.131 socat -d -d -T 10 UDP4-LISTEN:132,reuseaddr,fork UDP4:192.168.11.130:130,bind=192.168.11.131:133\r\n\r\n(-d -d for verbose) in terminal creates socat process and tails the logs in terminals like incoming connection or connection status. but if I run this command via my `runCommand()`, this isn&#39;t printing anything in the terminal where the java jar application is running. And it worked fine for other cases of commands.\r\n\r\nI tried placing the `process.waitFor()` before reading the loop but nothing. What is the problem here? my main goal is to parse the live-tailed log and do some other stuff depending on that.","title":"SOCAT command tailing from java app isn&#39;t working","body":"<p>Here is my <code>runCommand</code> that takes Linux command input as a string</p>\n<pre><code>    public static ArrayList&lt;String&gt; runCommand(String command) {\n    ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\n\n    try {\n\n        Process process = Runtime.getRuntime().exec(command);\n        BufferedReader reader =\n                new BufferedReader(new InputStreamReader(process.getInputStream()));\n        String line;\n        while ((line = reader.readLine()) != null) {\n            arrayList.add(line);\n            System.out.println(line);\n        }\n        int exitCode = process.waitFor();\n        System.out.println(&quot;\\nExited with error code : &quot;+exitCode);\n        System.out.println();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    return arrayList;\n}\n</code></pre>\n<p>It is working great with normal command like <code>ls</code> or <code>sudo lsof -t -i:132</code> or other. Even tailing live log from <code>ping google.com</code>. My <code>socat</code> command</p>\n<pre><code>sudo SOCAT_SOCKADDR=192.168.11.131 socat -d -d -T 10 UDP4-LISTEN:132,reuseaddr,fork UDP4:192.168.11.130:130,bind=192.168.11.131:133\n</code></pre>\n<p>(-d -d for verbose) in terminal creates socat process and tails the logs in terminals like incoming connection or connection status. but if I run this command via my <code>runCommand()</code>, this isn't printing anything in the terminal where the java jar application is running. And it worked fine for other cases of commands.</p>\n<p>I tried placing the <code>process.waitFor()</code> before reading the loop but nothing. What is the problem here? my main goal is to parse the live-tailed log and do some other stuff depending on that.</p>\n"},{"tags":["java","mysql","backend"],"comments":[{"owner":{"account_id":20016754,"reputation":17,"user_id":14672567,"display_name":"Gabriel Nunes"},"score":0,"creation_date":1636337894,"post_id":69878029,"comment_id":123521733,"body_markdown":"Ohh I didn&#39;t know that, okay I&#39;ll do it","body":"Ohh I didn&#39;t know that, okay I&#39;ll do it"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636339987,"creation_date":1636338671,"answer_id":69878117,"question_id":69878029,"body_markdown":"This version of your repository should work:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public interface UserRepository extends JpaRepository&lt;UserModel, Integer&gt; {\r\n        @Query(&quot;SELECT id, valueIncome + outcomeValue AS AddedValues FROM money&quot;, nativeQuery=true)\r\n        List&lt;Object[]&gt; findAllByTotal;\r\n    }\r\n\r\nNote that referring to `UserModel` in your JPA query won&#39;t work, because JPA expects the table name.  Also, there is no need for aliases as you are just selecting against a single table/entity.\r\n\r\nAlso, your query must execute as a native query, because it returns computed columns.  You could also define a custom POJO with just the two fields in your select statement.  Going with the former `List&lt;Object[]&gt;` option, your code should look something like:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;Object[]&gt; vals = userRepository.findAllByTotal();\r\n    for (Object[] row : vals) {\r\n        int id = (Integer)row[0];\r\n        double addedValues = (Double)row[1];\r\n    }\r\n\r\nYou may have to play around with the casting in the above for loop to make it work.","title":"How to sum up two columns using Spring Data JPA?","body":"<p>This version of your repository should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRepository extends JpaRepository&lt;UserModel, Integer&gt; {\n    @Query(&quot;SELECT id, valueIncome + outcomeValue AS AddedValues FROM money&quot;, nativeQuery=true)\n    List&lt;Object[]&gt; findAllByTotal;\n}\n</code></pre>\n<p>Note that referring to <code>UserModel</code> in your JPA query won't work, because JPA expects the table name.  Also, there is no need for aliases as you are just selecting against a single table/entity.</p>\n<p>Also, your query must execute as a native query, because it returns computed columns.  You could also define a custom POJO with just the two fields in your select statement.  Going with the former <code>List&lt;Object[]&gt;</code> option, your code should look something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Object[]&gt; vals = userRepository.findAllByTotal();\nfor (Object[] row : vals) {\n    int id = (Integer)row[0];\n    double addedValues = (Double)row[1];\n}\n</code></pre>\n<p>You may have to play around with the casting in the above for loop to make it work.</p>\n"}],"owner":{"account_id":20016754,"reputation":17,"user_id":14672567,"display_name":"Gabriel Nunes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69878117,"answer_count":1,"score":0,"last_activity_date":1667300065,"creation_date":1636337588,"question_id":69878029,"body_markdown":"I want to sum up two columns on my database project, I am using Spring Boot - Java, and I don&#39;t know what I suppose to do\r\n\r\nOn database I have those columns &lt;br/&gt;\r\n`id`, `user`, `value_income`, `outcome_value`, `total` and `income_property`\r\n\r\n\r\nAnd what I&#39;m trying to do is basically retrieving data from `value_income`and `outcome_value` from database and sum up on backend\r\n\r\nMy UserRepository: \r\n```java\r\npackage com.saturnssolutions.TakeMoney.repositories;\r\n\r\nimport com.saturnssolutions.TakeMoney.models.UserModel;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.List;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;UserModel, Integer&gt; {\r\n    @Query(&quot;SELECT UserModel.id, (UserModel.valueIncome + UserModel.outcomeValue) as AddedValues FROM money&quot;)\r\n    List&lt;UserModel&gt; findAllByTotal;\r\n}\r\n```\r\nps: I keeps getting error\r\n\r\n&lt;br/&gt;\r\nMy UserController:\r\n\r\n```java\r\npackage com.saturnssolutions.TakeMoney.controllers;\r\n\r\nimport com.saturnssolutions.TakeMoney.models.UserModel;\r\nimport com.saturnssolutions.TakeMoney.services.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.NoSuchElementException;\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class UserController {\r\n    @Autowired\r\n    UserService userService;\r\n\r\n    @CrossOrigin\r\n    @GetMapping(&quot;/users&quot;)\r\n    public List&lt;UserModel&gt; listAllUsers() {\r\n        return userService.listAllUsers();\r\n    }\r\n\r\n    @CrossOrigin\r\n    @GetMapping(&quot;/users/{id}&quot;)\r\n    public ResponseEntity&lt;UserModel&gt; users(@PathVariable Integer id) {\r\n        try {\r\n            UserModel user = userService.getUser(id);\r\n            return new ResponseEntity&lt;UserModel&gt;(user, HttpStatus.OK);\r\n        } catch (NoSuchElementException e) {\r\n            return new ResponseEntity&lt;UserModel&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n    @CrossOrigin\r\n    @PostMapping(&quot;/users&quot;)\r\n    public void users(@RequestBody UserModel user) {\r\n        userService.saveUser(user);\r\n    }\r\n    @CrossOrigin\r\n    @PutMapping(&quot;/users/{id}&quot;)\r\n    public ResponseEntity&lt;?&gt; update(@RequestBody UserModel user, @PathVariable Integer id) {\r\n        try {\r\n            UserModel existUser = userService.getUser(id);\r\n            user.setId(id);\r\n            userService.saveUser(user);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        } catch (NoSuchElementException e) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n    @CrossOrigin\r\n    @DeleteMapping(&quot;/users/{id}&quot;)\r\n    public void delete(@PathVariable Integer id) {\r\n\r\n        userService.deleteUser(id);\r\n    }\r\n\r\n    @CrossOrigin\r\n    @GetMapping(&quot;/users/total&quot;)\r\n    public Float getTotal(){\r\n        return userService.getTotal();\r\n    }\r\n}\r\n\r\n```\r\n&lt;br/&gt;\r\n\r\nMy service:\r\n```java\r\npackage com.saturnssolutions.TakeMoney.services;\r\n\r\nimport com.saturnssolutions.TakeMoney.models.UserModel;\r\nimport com.saturnssolutions.TakeMoney.repositories.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.transaction.Transactional;\r\n\r\nimport java.math.BigDecimal;\r\nimport java.util.List;\r\n\r\n@Service\r\n@Transactional\r\npublic class UserService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    public List&lt;UserModel&gt; listAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public void saveUser(UserModel user) {\r\n        userRepository.save(user);\r\n    }\r\n\r\n    public UserModel getUser (Integer id) {\r\n        return userRepository.findById(id).get();\r\n    }\r\n\r\n    public void deleteUser (Integer id) {\r\n        userRepository.deleteById(id);\r\n    }\r\n\r\n    public List&lt;UserModel&gt; getTotal() {\r\n        return userRepository.findAllByTotal();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n&lt;br/&gt;\r\nand my model:\r\n\r\n```java\r\npackage com.saturnssolutions.TakeMoney.models;\r\n\r\nimport javax.persistence.*;\r\nimport java.math.BigDecimal;\r\n\r\n@Entity\r\n@Table(name = &quot;money&quot;)\r\npublic class UserModel {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    private String user;\r\n    private Float valueIncome;\r\n    private Float outcomeValue;\r\n    private Float total;\r\n    private Boolean incomeProperty;\r\n\r\n    public Boolean getIncomeProperty() {\r\n        return incomeProperty;\r\n    }\r\n\r\n    public void setIncomeProperty(Boolean incomeProperty) {\r\n        this.incomeProperty = incomeProperty;\r\n    }\r\n\r\n    public String getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(String user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public Float getValueIncome() {\r\n        return valueIncome;\r\n    }\r\n\r\n    public void setValueIncome(Float valueIncome) {\r\n        this.valueIncome = valueIncome;\r\n    }\r\n\r\n    public Float getOutcomeValue() {\r\n        return outcomeValue;\r\n    }\r\n\r\n    public void setOutcomeValue(Float outcomeValue) {\r\n        this.outcomeValue = outcomeValue;\r\n    }\r\n\r\n    public Float getTotal() {\r\n        return total;\r\n    }\r\n\r\n    public Float setTotal(Float total) {\r\n        this.total = total;\r\n        return total;\r\n    }\r\n\r\n    public UserModel() {\r\n    }\r\n\r\n    public UserModel(Integer id, String user, Float valueIncome, Float outcomeValue, Float total) {\r\n        this.id = id;\r\n        this.user = user;\r\n        this.valueIncome = valueIncome;\r\n        this.outcomeValue = outcomeValue;\r\n        this.total = total;\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public Integer setId(Integer id) {\r\n        return this.id = id;\r\n    }\r\n\r\n}\r\n```\r\n","title":"How to sum up two columns using Spring Data JPA?","body":"<p>I want to sum up two columns on my database project, I am using Spring Boot - Java, and I don't know what I suppose to do</p>\n<p>On database I have those columns <br/>\n<code>id</code>, <code>user</code>, <code>value_income</code>, <code>outcome_value</code>, <code>total</code> and <code>income_property</code></p>\n<p>And what I'm trying to do is basically retrieving data from <code>value_income</code>and <code>outcome_value</code> from database and sum up on backend</p>\n<p>My UserRepository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.saturnssolutions.TakeMoney.repositories;\n\nimport com.saturnssolutions.TakeMoney.models.UserModel;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\n\nimport java.math.BigDecimal;\nimport java.util.List;\n\npublic interface UserRepository extends JpaRepository&lt;UserModel, Integer&gt; {\n    @Query(&quot;SELECT UserModel.id, (UserModel.valueIncome + UserModel.outcomeValue) as AddedValues FROM money&quot;)\n    List&lt;UserModel&gt; findAllByTotal;\n}\n</code></pre>\n<p>ps: I keeps getting error</p>\n<br/>\nMy UserController:\n<pre class=\"lang-java prettyprint-override\"><code>package com.saturnssolutions.TakeMoney.controllers;\n\nimport com.saturnssolutions.TakeMoney.models.UserModel;\nimport com.saturnssolutions.TakeMoney.services.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.NoSuchElementException;\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class UserController {\n    @Autowired\n    UserService userService;\n\n    @CrossOrigin\n    @GetMapping(&quot;/users&quot;)\n    public List&lt;UserModel&gt; listAllUsers() {\n        return userService.listAllUsers();\n    }\n\n    @CrossOrigin\n    @GetMapping(&quot;/users/{id}&quot;)\n    public ResponseEntity&lt;UserModel&gt; users(@PathVariable Integer id) {\n        try {\n            UserModel user = userService.getUser(id);\n            return new ResponseEntity&lt;UserModel&gt;(user, HttpStatus.OK);\n        } catch (NoSuchElementException e) {\n            return new ResponseEntity&lt;UserModel&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n    @CrossOrigin\n    @PostMapping(&quot;/users&quot;)\n    public void users(@RequestBody UserModel user) {\n        userService.saveUser(user);\n    }\n    @CrossOrigin\n    @PutMapping(&quot;/users/{id}&quot;)\n    public ResponseEntity&lt;?&gt; update(@RequestBody UserModel user, @PathVariable Integer id) {\n        try {\n            UserModel existUser = userService.getUser(id);\n            user.setId(id);\n            userService.saveUser(user);\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n        } catch (NoSuchElementException e) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n    @CrossOrigin\n    @DeleteMapping(&quot;/users/{id}&quot;)\n    public void delete(@PathVariable Integer id) {\n\n        userService.deleteUser(id);\n    }\n\n    @CrossOrigin\n    @GetMapping(&quot;/users/total&quot;)\n    public Float getTotal(){\n        return userService.getTotal();\n    }\n}\n\n</code></pre>\n<br/>\n<p>My service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.saturnssolutions.TakeMoney.services;\n\nimport com.saturnssolutions.TakeMoney.models.UserModel;\nimport com.saturnssolutions.TakeMoney.repositories.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport javax.transaction.Transactional;\n\nimport java.math.BigDecimal;\nimport java.util.List;\n\n@Service\n@Transactional\npublic class UserService {\n    @Autowired\n    private UserRepository userRepository;\n\n    public List&lt;UserModel&gt; listAllUsers() {\n        return userRepository.findAll();\n    }\n\n    public void saveUser(UserModel user) {\n        userRepository.save(user);\n    }\n\n    public UserModel getUser (Integer id) {\n        return userRepository.findById(id).get();\n    }\n\n    public void deleteUser (Integer id) {\n        userRepository.deleteById(id);\n    }\n\n    public List&lt;UserModel&gt; getTotal() {\n        return userRepository.findAllByTotal();\n    }\n}\n\n\n</code></pre>\n<br/>\nand my model:\n<pre class=\"lang-java prettyprint-override\"><code>package com.saturnssolutions.TakeMoney.models;\n\nimport javax.persistence.*;\nimport java.math.BigDecimal;\n\n@Entity\n@Table(name = &quot;money&quot;)\npublic class UserModel {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    private String user;\n    private Float valueIncome;\n    private Float outcomeValue;\n    private Float total;\n    private Boolean incomeProperty;\n\n    public Boolean getIncomeProperty() {\n        return incomeProperty;\n    }\n\n    public void setIncomeProperty(Boolean incomeProperty) {\n        this.incomeProperty = incomeProperty;\n    }\n\n    public String getUser() {\n        return user;\n    }\n\n    public void setUser(String user) {\n        this.user = user;\n    }\n\n    public Float getValueIncome() {\n        return valueIncome;\n    }\n\n    public void setValueIncome(Float valueIncome) {\n        this.valueIncome = valueIncome;\n    }\n\n    public Float getOutcomeValue() {\n        return outcomeValue;\n    }\n\n    public void setOutcomeValue(Float outcomeValue) {\n        this.outcomeValue = outcomeValue;\n    }\n\n    public Float getTotal() {\n        return total;\n    }\n\n    public Float setTotal(Float total) {\n        this.total = total;\n        return total;\n    }\n\n    public UserModel() {\n    }\n\n    public UserModel(Integer id, String user, Float valueIncome, Float outcomeValue, Float total) {\n        this.id = id;\n        this.user = user;\n        this.valueIncome = valueIncome;\n        this.outcomeValue = outcomeValue;\n        this.total = total;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public Integer setId(Integer id) {\n        return this.id = id;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","immutability"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1297876781,"creation_date":1297876781,"answer_id":5019750,"question_id":5019726,"body_markdown":"I would read *constant* as being the same object (the same reference), whereas *immutable* clearly means to me the fact that the object doesn&#39;t change.\r\n\r\nSince these are two different things, I would perhaps refer to this:\r\n\r\n    private final Immutable i = new Immutable();\r\n\r\nas being a constant immutable object.","title":"Constant Object vs Immutable Object","body":"<p>I would read <em>constant</em> as being the same object (the same reference), whereas <em>immutable</em> clearly means to me the fact that the object doesn't change.</p>\n\n<p>Since these are two different things, I would perhaps refer to this:</p>\n\n<pre><code>private final Immutable i = new Immutable();\n</code></pre>\n\n<p>as being a constant immutable object.</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1297876814,"creation_date":1297876814,"answer_id":5019754,"question_id":5019726,"body_markdown":"They are very close in meaning, with the understanding that an Object contains methods while a Constant is generally considered to only contain data.\r\n\r\nWithin Java, there&#39;s the additional consideration of the keyword `final`, which basically means non-reassignable.  Some people will casually call a final variable a constant (as it&#39;s reference to a particular object is a constant.  This often comes about due to confusion as to the particular roles of the member and the object it refers to, as 95% of the time a person does this to refer to an immutable Object.\r\n\r\nNot every method is to return back data that depends wholly upon the internal members.  For example `System.currentTimeMillis()` returns back a Unix like timestamp, yet there would be no need for the actual &quot;System&quot; object to change.","title":"Constant Object vs Immutable Object","body":"<p>They are very close in meaning, with the understanding that an Object contains methods while a Constant is generally considered to only contain data.</p>\n\n<p>Within Java, there's the additional consideration of the keyword <code>final</code>, which basically means non-reassignable.  Some people will casually call a final variable a constant (as it's reference to a particular object is a constant.  This often comes about due to confusion as to the particular roles of the member and the object it refers to, as 95% of the time a person does this to refer to an immutable Object.</p>\n\n<p>Not every method is to return back data that depends wholly upon the internal members.  For example <code>System.currentTimeMillis()</code> returns back a Unix like timestamp, yet there would be no need for the actual \"System\" object to change.</p>\n"},{"tags":[],"owner":{"account_id":33537,"reputation":4433,"user_id":93963,"accept_rate":92,"display_name":"S M Kamran"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1297877077,"creation_date":1297877077,"answer_id":5019799,"question_id":5019726,"body_markdown":"Immutability of the object means it can&#39;t transform it&#39;s state... i.e. can&#39;t mutate... For examle \r\n\r\n    final class Person {\r\n      private int age = 0;\r\n      \r\n      public Person(int age) { this.age = age; }\r\n    }\r\n\r\nThe object to this type are immutable objects since you can&#39;t change it&#39;s state.... (forget Reflection for a moment)\r\n\r\nConstant at the other hand in Programming means inline... Even the compiler does that they inline the values of the constant variables for primative types... for object types it means the ref variable can&#39;t be reassigned.","title":"Constant Object vs Immutable Object","body":"<p>Immutability of the object means it can't transform it's state... i.e. can't mutate... For examle </p>\n\n<pre><code>final class Person {\n  private int age = 0;\n\n  public Person(int age) { this.age = age; }\n}\n</code></pre>\n\n<p>The object to this type are immutable objects since you can't change it's state.... (forget Reflection for a moment)</p>\n\n<p>Constant at the other hand in Programming means inline... Even the compiler does that they inline the values of the constant variables for primative types... for object types it means the ref variable can't be reassigned.</p>\n"},{"tags":[],"owner":{"account_id":6090,"reputation":31973,"user_id":10098,"accept_rate":80,"display_name":"wds"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297877175,"creation_date":1297877175,"answer_id":5019818,"question_id":5019726,"body_markdown":"Constant often has a very specific meaning in different programming languages. In java, a constant already refers to a constant variable, a variable that cannot be changed after assignment, e.g.:\r\n\r\n    final int FOO = 1;\r\n    FOO = 4; // constant variable cannot be changed.\r\n\r\nAn immutable object is a constant object in the sense that its properties can never be changed, but of course an object pointed to by a constant variable can still be changed. So to avoid confusion, the term immutable (which literally means &quot;unchanging over time&quot;) is used.","title":"Constant Object vs Immutable Object","body":"<p>Constant often has a very specific meaning in different programming languages. In java, a constant already refers to a constant variable, a variable that cannot be changed after assignment, e.g.:</p>\n\n<pre><code>final int FOO = 1;\nFOO = 4; // constant variable cannot be changed.\n</code></pre>\n\n<p>An immutable object is a constant object in the sense that its properties can never be changed, but of course an object pointed to by a constant variable can still be changed. So to avoid confusion, the term immutable (which literally means \"unchanging over time\") is used.</p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1297883908,"creation_date":1297883908,"answer_id":5021053,"question_id":5019726,"body_markdown":"In fact, in Java the term **constant** has no defined meaning. It occurs in the JLS only in the larger term **compile time constant expression**, which is an expression which can (and must) be calculated by the compiler instead of at runtime. (And the keyword `const` is reserved to allow compilers to give better error messages.)\r\n\r\nIn Java, we instead use the term *final* to refer to variables (whether class, object or local ones) who can&#39;t be changed, and *immutable* when we refer to objects who can&#39;t change. Both can be used when speaking about a variable `x` - the first then means the variable itself (meaning it can&#39;t be switched to another object), the second means the object behind the variable. Thus here the two meanings are orthogonal, and are often combined to create a *&quot;true constant&quot;*.","title":"Constant Object vs Immutable Object","body":"<p>In fact, in Java the term <strong>constant</strong> has no defined meaning. It occurs in the JLS only in the larger term <strong>compile time constant expression</strong>, which is an expression which can (and must) be calculated by the compiler instead of at runtime. (And the keyword <code>const</code> is reserved to allow compilers to give better error messages.)</p>\n\n<p>In Java, we instead use the term <em>final</em> to refer to variables (whether class, object or local ones) who can't be changed, and <em>immutable</em> when we refer to objects who can't change. Both can be used when speaking about a variable <code>x</code> - the first then means the variable itself (meaning it can't be switched to another object), the second means the object behind the variable. Thus here the two meanings are orthogonal, and are often combined to create a <em>\"true constant\"</em>.</p>\n"}],"owner":{"account_id":271558,"reputation":3224,"user_id":562155,"accept_rate":69,"display_name":"Karthick S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10208,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":5021053,"answer_count":5,"score":13,"last_activity_date":1667300008,"creation_date":1297876640,"question_id":5019726,"body_markdown":"Can I use the term &quot;Constant Object&quot; in the place of the term &quot;Immutable Object&quot;? Though I get the feeling that Immutable for an Object is what Constant is for a variable, I am not sure if this terminology is accepted. Please help me understand.\r\n","title":"Constant Object vs Immutable Object","body":"<p>Can I use the term &quot;Constant Object&quot; in the place of the term &quot;Immutable Object&quot;? Though I get the feeling that Immutable for an Object is what Constant is for a variable, I am not sure if this terminology is accepted. Please help me understand.</p>\n"},{"tags":["java","mysql","string","type-conversion","integer"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1667113758,"post_id":74251126,"comment_id":131090843,"body_markdown":"I can&#39;t see where you&#39;ve declared `MethodOfPayment`, but if you have it as a `String`, not an `int`, then you  don&#39;t need the `Integer.parseInt` calls after the `switch`.","body":"I can&#39;t see where you&#39;ve declared <code>MethodOfPayment</code>, but if you have it as a <code>String</code>, not an <code>int</code>, then you  don&#39;t need the <code>Integer.parseInt</code> calls after the <code>switch</code>."},{"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"score":0,"creation_date":1667114038,"post_id":74251126,"comment_id":131090877,"body_markdown":"parseInt method don&#39;t convert any string to number. The string should be a number in double quotes. like &quot;123&quot;, Then only it will give convert and give you a number. Don&#39;t parse the string, instead of that based on MethodSelection value assign a integer value to MethodOfPayment. \nOne more question. Are you using simple jdbc with resultset or hibernate to communicate with data base?","body":"parseInt method don&#39;t convert any string to number. The string should be a number in double quotes. like &quot;123&quot;, Then only it will give convert and give you a number. Don&#39;t parse the string, instead of that based on MethodSelection value assign a integer value to MethodOfPayment.  One more question. Are you using simple jdbc with resultset or hibernate to communicate with data base?"},{"owner":{"account_id":24615679,"reputation":13,"user_id":18516724,"display_name":"Sahm"},"score":0,"creation_date":1667114144,"post_id":74251126,"comment_id":131090891,"body_markdown":"Srry i have it as global, ill correct the question with it, but the thing is that I don&#39;t know how to write letters in the int variable, it crashes, I don&#39;t know if its possible to convert it so I can write the word &quot;debit&quot; in the database using that int variable","body":"Srry i have it as global, ill correct the question with it, but the thing is that I don&#39;t know how to write letters in the int variable, it crashes, I don&#39;t know if its possible to convert it so I can write the word &quot;debit&quot; in the database using that int variable"},{"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"score":0,"creation_date":1667114996,"post_id":74251126,"comment_id":131091005,"body_markdown":"@Sahm did your professor mention what values should be passed in query? is it int value like 1 or String like debit ?","body":"@Sahm did your professor mention what values should be passed in query? is it int value like 1 or String like debit ?"},{"owner":{"account_id":24615679,"reputation":13,"user_id":18516724,"display_name":"Sahm"},"score":0,"creation_date":1667115356,"post_id":74251126,"comment_id":131091062,"body_markdown":"he said that the variable in java has to be int, so in the selection, we enter a number, but using that same variable, we write the type of payment in MySQL, the word &quot;debit&quot; for example would appear in the MySQL table if we press 1 using the int variable for both activities, I know is confusing I&#39;m sorry Ive been looking for hours and cant find a solution","body":"he said that the variable in java has to be int, so in the selection, we enter a number, but using that same variable, we write the type of payment in MySQL, the word &quot;debit&quot; for example would appear in the MySQL table if we press 1 using the int variable for both activities, I know is confusing I&#39;m sorry Ive been looking for hours and cant find a solution"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1667118245,"post_id":74251126,"comment_id":131091490,"body_markdown":"I think you need to ask your professor to clarify what they mean, when they ask you to store the word `&quot;Debit&quot;` in an integer.  Integers can only store numbers, not text.","body":"I think you need to ask your professor to clarify what they mean, when they ask you to store the word <code>&quot;Debit&quot;</code> in an integer.  Integers can only store numbers, not text."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1667120332,"post_id":74251126,"comment_id":131091748,"body_markdown":"Your professor did not ask you to store `Debit` or `Credit card` in an `int`  variable. They asked you to store `Credit card` or `Debit card` **in the database** when the variable in Java has value 1, respectively 2.","body":"Your professor did not ask you to store <code>Debit</code> or <code>Credit card</code> in an <code>int</code>  variable. They asked you to store <code>Credit card</code> or <code>Debit card</code> <b>in the database</b> when the variable in Java has value 1, respectively 2."}],"answers":[{"tags":[],"owner":{"account_id":12449483,"reputation":84,"user_id":9064585,"display_name":"Toby Klauder"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1667113541,"creation_date":1667113541,"answer_id":74251144,"question_id":74251126,"body_markdown":"Consider using concatenation (&quot; string &quot; + variable + &quot; string &quot;), or using a StringBuilder. https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html","title":"Is it possible to insert letters into an int?","body":"<p>Consider using concatenation (&quot; string &quot; + variable + &quot; string &quot;), or using a StringBuilder. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html</a></p>\n"},{"tags":[],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667299693,"creation_date":1667114244,"answer_id":74251184,"question_id":74251126,"body_markdown":"I have modified your program. Java naming conventions for variable is lowerCamelCase, happy learning!\r\n\r\n    package test1;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Snippet {\r\n    \tpublic static void PaymentMethod() {\r\n    \t\tint methodSelectionInt;// this is a variable to select the method in the swich and asign the values to\r\n    \t\t\t\t\t\t\t\t// the main variable of the payment\r\n    \t\tString methodOfPayment;// the database variable of the payment\r\n    \t\tBoolean tryAgain = false;\r\n    \t\twhile (tryAgain) { \r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Insert Payment Method&quot;);\r\n    \t\t\tScanner sc = new Scanner(System.in);\r\n    \t\t\tmethodSelectionInt = Integer.parseInt(sc.nextLine());\r\n    \t\t\tswitch (methodSelectionInt) {\r\n    \t\t\tcase 1:\r\n    \t\t\t\tmethodOfPayment = &quot;Debit&quot;;\r\n                    tryAgain = false; \r\n    \t\t\t\tbreak;\r\n    \t\t\tcase 2:\r\n    \t\t\t\tmethodOfPayment = &quot;Credit Card&quot;;\r\n                    tryAgain = false; \r\n    \t\t\t\tbreak;// ...\r\n    \t\t\tdefault:\r\n    \t\t\t\tSystem.out.println(&quot;Invalid Method, Try Again&quot;);\r\n    \t\t\t\ttryAgain = true; // \r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Is it possible to insert letters into an int?","body":"<p>I have modified your program. Java naming conventions for variable is lowerCamelCase, happy learning!</p>\n<pre><code>package test1;\n\nimport java.util.Scanner;\n\npublic class Snippet {\n    public static void PaymentMethod() {\n        int methodSelectionInt;// this is a variable to select the method in the swich and asign the values to\n                                // the main variable of the payment\n        String methodOfPayment;// the database variable of the payment\n        Boolean tryAgain = false;\n        while (tryAgain) { \n            \n            System.out.println(&quot;Insert Payment Method&quot;);\n            Scanner sc = new Scanner(System.in);\n            methodSelectionInt = Integer.parseInt(sc.nextLine());\n            switch (methodSelectionInt) {\n            case 1:\n                methodOfPayment = &quot;Debit&quot;;\n                tryAgain = false; \n                break;\n            case 2:\n                methodOfPayment = &quot;Credit Card&quot;;\n                tryAgain = false; \n                break;// ...\n            default:\n                System.out.println(&quot;Invalid Method, Try Again&quot;);\n                tryAgain = true; // \n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26757151,"reputation":1,"user_id":20355604,"display_name":"Akila Kasun Siriwardana"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667114312,"creation_date":1667114312,"answer_id":74251189,"question_id":74251126,"body_markdown":"If you need to **convert char to int in Java** use one of the methods:\r\n\r\n - Implicit type casting //getting ASCII values\r\n - Character.getNumericValue() \r\n - Integer.parseInt() //in pair with\r\n - Subtracting ‘0’ //works for integer numeric values only\r\n\r\n  \r\n\r\nYou can also do explicit type casting. However, this is a redundant operation: it is not needed, but just works in Java.","title":"Is it possible to insert letters into an int?","body":"<p>If you need to <strong>convert char to int in Java</strong> use one of the methods:</p>\n<ul>\n<li>Implicit type casting //getting ASCII values</li>\n<li>Character.getNumericValue()</li>\n<li>Integer.parseInt() //in pair with</li>\n<li>Subtracting ‘0’ //works for integer numeric values only</li>\n</ul>\n<p>You can also do explicit type casting. However, this is a redundant operation: it is not needed, but just works in Java.</p>\n"},{"tags":[],"owner":{"account_id":26757151,"reputation":1,"user_id":20355604,"display_name":"Akila Kasun Siriwardana"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667120523,"creation_date":1667115528,"answer_id":74251281,"question_id":74251126,"body_markdown":"you can use an Ints method from the **Guava library**, which in combination with Java 8&#39;s Optional, makes for a powerful and concise way to convert a **string into an int**:\r\n\r\n     import com.google.common.primitives.Ints;\r\n\r\n     public static void PaymentMethod() {\r\n\r\n         int MethodSelection;//this is a variable to select the method in the swich and asign the values to the main variable of the payment\r\n\r\n         System.out.println(&quot;Insert Payment Method&quot;);\r\n         Scanner sc = new Scanner(System.in);\r\n \r\n         MethodSelection = Integer.parseInt(sc.nextLine());\r\n         switch (MethodSelection) {\r\n             case 1:\r\n                 MethodOfPayment = Optional.ofNullable(&quot;Debit&quot;).map(Ints::tryParse).orElse(0);\r\n                 break;\r\n\r\n             case 2:\r\n                 MethodOfPayment = Optional.ofNullable(&quot;Credit Card&quot;).map(Ints::tryParse).orElse(0);\r\n                 break;\r\n\r\n             default:\r\n                 System.out.println(&quot;Invalid Method, Try Again&quot;);\r\n                 PaymentMethod();\r\n         }\r\n    }\r\n\r\n\r\n","title":"Is it possible to insert letters into an int?","body":"<p>you can use an Ints method from the <strong>Guava library</strong>, which in combination with Java 8's Optional, makes for a powerful and concise way to convert a <strong>string into an int</strong>:</p>\n<pre><code> import com.google.common.primitives.Ints;\n\n public static void PaymentMethod() {\n\n     int MethodSelection;//this is a variable to select the method in the swich and asign the values to the main variable of the payment\n\n     System.out.println(&quot;Insert Payment Method&quot;);\n     Scanner sc = new Scanner(System.in);\n\n     MethodSelection = Integer.parseInt(sc.nextLine());\n     switch (MethodSelection) {\n         case 1:\n             MethodOfPayment = Optional.ofNullable(&quot;Debit&quot;).map(Ints::tryParse).orElse(0);\n             break;\n\n         case 2:\n             MethodOfPayment = Optional.ofNullable(&quot;Credit Card&quot;).map(Ints::tryParse).orElse(0);\n             break;\n\n         default:\n             System.out.println(&quot;Invalid Method, Try Again&quot;);\n             PaymentMethod();\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15790667,"reputation":90,"user_id":11394009,"display_name":"Praveen kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667120357,"creation_date":1667120192,"answer_id":74251694,"question_id":74251126,"body_markdown":"There are multiple ways to achieve this.\r\n1) if you are using Hibernate you can do it with @Type annotation\r\n2) If you are using JPA then you can do it with convert. It is simpler among all.\r\n3) If you are using simple JDBC and not using entity mapping, then while saving before executing query set parameters as debit, credit based on number entered by user. For example:\r\n    ```\r\n    stmt.setString(3, person.getInt_TypeOfPayment() == 2 ? &quot;debit&quot; : &quot;credit&quot; );\r\n    ```\r\n\r\nWhile retrieving data, iterate over result set and set value as int based on the string which comes from data base. Sample code as follows.\r\n\r\n    ResultSet rs = stmt.executeQuery(QUERY);\r\n    while(rs.next()){\r\n        ....\r\n        int payment = rs.getString(&quot;your column name / index&quot;) == &quot;debit&quot; ? 2 : 1;\r\n        person.setIntTypeOfPayment(payment);\r\n    }\r\n\r\n","title":"Is it possible to insert letters into an int?","body":"<p>There are multiple ways to achieve this.</p>\n<ol>\n<li>if you are using Hibernate you can do it with @Type annotation</li>\n<li>If you are using JPA then you can do it with convert. It is simpler among all.</li>\n<li>If you are using simple JDBC and not using entity mapping, then while saving before executing query set parameters as debit, credit based on number entered by user. For example:\n<pre><code>stmt.setString(3, person.getInt_TypeOfPayment() == 2 ? &quot;debit&quot; : &quot;credit&quot; );\n</code></pre>\n</li>\n</ol>\n<p>While retrieving data, iterate over result set and set value as int based on the string which comes from data base. Sample code as follows.</p>\n<pre><code>ResultSet rs = stmt.executeQuery(QUERY);\nwhile(rs.next()){\n    ....\n    int payment = rs.getString(&quot;your column name / index&quot;) == &quot;debit&quot; ? 2 : 1;\n    person.setIntTypeOfPayment(payment);\n}\n</code></pre>\n"}],"owner":{"account_id":24615679,"reputation":13,"user_id":18516724,"display_name":"Sahm"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1667299693,"creation_date":1667113322,"question_id":74251126,"body_markdown":"I&#39;m confused, I was asked to do a connection from Java into MySQL using OOP and DAO, but my professor asked us to do it in a the following way:\r\n\r\nWe need to make the variable &quot;MethodOfPayment&quot; as an int in Java and as a char in MySQL table, and we need to write the method of payment depending on the number you put in Java. For example:\r\n\r\nJava: MethodOfPayment: (you write) 1 will insert &quot;Credit card&quot; in MySQL  \r\nJava: MethodOfPayment: (you write) 2 will insert &quot;Debit card&quot; in MySQL   \r\nbut using the int MethodOfPayment variable.\r\n\r\nI tried a switch, but it won&#39;t let me convert the int &quot;With&quot; letters to string, I don&#39;t even know if it&#39;s possible.\r\n\r\nThis is the insert I have in the DAO method class\r\n```\r\nprivate static final String SQL_INSERT = &quot;INSERT INTO Client(Name, LastName, MethodOfPayment ) VALUES (?,?,?)&quot;;\r\n```\r\n\r\nI do it with ResultSet, ArrayList, PreparedStatement with a JDBC connection to MySQL.\r\n\r\n```\r\npublic static int = MethodOfPayment; \r\n```\r\nThis is the variable that will write on the database an the one my professor is asking us to keep as an int in java and write the char on MySQL.\r\n\r\nThis is the method I&#39;m trying to convert the int to string, but obviously crashes because the letters inside the int. I don&#39;t know if it&#39;s possible or my professor is wrong.\r\n```java\r\npublic static void PaymentMethod() {\r\n    int MethodSelection; //this is a variable to select the method in the switch and assign the values to the main variable of the payment\r\n\r\n    System.out.println(&quot;Insert Payment Method&quot;);\r\n    Scanner sc = new Scanner(System.in);\r\n\r\n    MethodSelection = Integer.parseInt(sc.nextLine());\r\n    switch (MethodSelection) {\r\n        case 1:\r\n            MethodOfPayment = Integer.parseInt(&quot;Debit&quot;);\r\n            \r\n            break;\r\n        case 2:\r\n            MethodOfPayment = Integer.parseInt(&quot;Credit Card&quot;);\r\n            \r\n            break;//  ...\r\n\r\n        default:\r\n            System.out.println(&quot;Invalid Method, Try Again&quot;);\r\n            PaymentMethod(); // I don&#39;t know a way to restart the switch without restarting the whole method when another value is inserted\r\n    }\r\n}\r\n```\r\nDAOmethod:\r\n\r\nPerson is the father clas with, name and Last name. I get TypeOfPayment from a son class that has get, set and stringbuilder with the super to get the person data\r\n\r\n```\r\npublic int insert(Client person){\r\n    Connection conn =  null;\r\n    PreparedStatement stmt = null;\r\n    \r\n    int registros = 0;\r\n    try {\r\n        conn = getConnection();\r\n        stmt = conn.prepareStatement(SQL_INSERT);\r\n        \r\n        stmt.setString(1, person.getStr_Name());\r\n        stmt.setString(2, person.getStr_Lastname);\r\n        stmt.setInt(3, person.getInt_TypeOfPayment());\r\n        \r\n        \r\n        \r\n        \r\n        archives= stmt.executeUpdate();\r\n    } catch (SQLException ex) {\r\n        ex.printStackTrace(System.out);\r\n    }finally{\r\n        try {\r\n            close(stmt);\r\n            close(conn);\r\n        } catch (SQLException ex) {\r\n        }\r\n    }\r\n    return archives;       \r\n}\r\n```","title":"Is it possible to insert letters into an int?","body":"<p>I'm confused, I was asked to do a connection from Java into MySQL using OOP and DAO, but my professor asked us to do it in a the following way:</p>\n<p>We need to make the variable &quot;MethodOfPayment&quot; as an int in Java and as a char in MySQL table, and we need to write the method of payment depending on the number you put in Java. For example:</p>\n<p>Java: MethodOfPayment: (you write) 1 will insert &quot;Credit card&quot; in MySQL<br />\nJava: MethodOfPayment: (you write) 2 will insert &quot;Debit card&quot; in MySQL<br />\nbut using the int MethodOfPayment variable.</p>\n<p>I tried a switch, but it won't let me convert the int &quot;With&quot; letters to string, I don't even know if it's possible.</p>\n<p>This is the insert I have in the DAO method class</p>\n<pre><code>private static final String SQL_INSERT = &quot;INSERT INTO Client(Name, LastName, MethodOfPayment ) VALUES (?,?,?)&quot;;\n</code></pre>\n<p>I do it with ResultSet, ArrayList, PreparedStatement with a JDBC connection to MySQL.</p>\n<pre><code>public static int = MethodOfPayment; \n</code></pre>\n<p>This is the variable that will write on the database an the one my professor is asking us to keep as an int in java and write the char on MySQL.</p>\n<p>This is the method I'm trying to convert the int to string, but obviously crashes because the letters inside the int. I don't know if it's possible or my professor is wrong.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void PaymentMethod() {\n    int MethodSelection; //this is a variable to select the method in the switch and assign the values to the main variable of the payment\n\n    System.out.println(&quot;Insert Payment Method&quot;);\n    Scanner sc = new Scanner(System.in);\n\n    MethodSelection = Integer.parseInt(sc.nextLine());\n    switch (MethodSelection) {\n        case 1:\n            MethodOfPayment = Integer.parseInt(&quot;Debit&quot;);\n            \n            break;\n        case 2:\n            MethodOfPayment = Integer.parseInt(&quot;Credit Card&quot;);\n            \n            break;//  ...\n\n        default:\n            System.out.println(&quot;Invalid Method, Try Again&quot;);\n            PaymentMethod(); // I don't know a way to restart the switch without restarting the whole method when another value is inserted\n    }\n}\n</code></pre>\n<p>DAOmethod:</p>\n<p>Person is the father clas with, name and Last name. I get TypeOfPayment from a son class that has get, set and stringbuilder with the super to get the person data</p>\n<pre><code>public int insert(Client person){\n    Connection conn =  null;\n    PreparedStatement stmt = null;\n    \n    int registros = 0;\n    try {\n        conn = getConnection();\n        stmt = conn.prepareStatement(SQL_INSERT);\n        \n        stmt.setString(1, person.getStr_Name());\n        stmt.setString(2, person.getStr_Lastname);\n        stmt.setInt(3, person.getInt_TypeOfPayment());\n        \n        \n        \n        \n        archives= stmt.executeUpdate();\n    } catch (SQLException ex) {\n        ex.printStackTrace(System.out);\n    }finally{\n        try {\n            close(stmt);\n            close(conn);\n        } catch (SQLException ex) {\n        }\n    }\n    return archives;       \n}\n</code></pre>\n"},{"tags":["java","sql","sqlplus"],"comments":[{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1667294016,"post_id":74273654,"comment_id":131128877,"body_markdown":"show the complete set of commands you used to reach the output. E.g. any login steps etc.","body":"show the complete set of commands you used to reach the output. E.g. any login steps etc."},{"owner":{"account_id":2168148,"reputation":35,"user_id":1920774,"display_name":"Sarvesh H"},"score":0,"creation_date":1667294172,"post_id":74273654,"comment_id":131128930,"body_markdown":"The below command is used.                                                                                \n sqlplus -s -LOGON &lt;user_name&gt;/&lt;password&gt;@&quot;(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(Host= host1.com)(Port=1725))(ADDRESS=(PROTOCOL=TCP)(Host= host2.com)(Port=1725))(LOAD_BALANCE = ON)(FAILOVER = ON) (CONNECT_DATA = (SERVER = DEDICATED)(SERVICE_NAME=service.com)))&quot; @Load.sql","body":"The below command is used.                                                                                  sqlplus -s -LOGON &lt;user_name&gt;/&lt;password&gt;@&quot;(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)&zwnj;&#8203;(Host= host1.com)(Port=1725))(ADDRESS=(PROTOCOL=TCP)(Host= host2.com)(Port=1725))(LOAD_BALANCE = ON)(FAILOVER = ON) (CONNECT_DATA = (SERVER = DEDICATED)(SERVICE_NAME=service.com)))&quot; @Load.sql"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667299327,"creation_date":1667298859,"answer_id":74274581,"question_id":74273654,"body_markdown":"`Runtime.exec(String)` is deprecated in JDK18 as it isn&#39;t always good at splitting the commands with spaces / quotes. Break up the command line arguments properly so that there is no ambiguity:\r\n\r\n     String[] cmd = new String[] {\r\n         &quot;sqlplus&quot;,&quot;-s&quot;, &quot;-LOGON&quot;,\r\n         &quot;&lt;user_name&gt;/&lt;password&gt;@\\&quot;(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(Host= host1.com)(Port=1725))(ADDRESS=(PROTOCOL=TCP)(Host= host2.com)(Port=1725))(LOAD_BALANCE = ON)(FAILOVER = ON) (CONNECT_DATA = (SERVER = DEDICATED)(SERVICE_NAME=service.com)))\\&quot;&quot;\r\n         &quot;@Load.sql&quot;\r\n     };\r\n\r\nYou have better control over the sub-process if you replace `Runtime.exec(cmd)` by `ProcessBuilder` as you can capture the stdout/stderr to files or redirect stderr to stdout to avoid need to read both streams.","title":"Why sqlplus command execution from Java doesnt return the output same as direct command in shell?","body":"<p><code>Runtime.exec(String)</code> is deprecated in JDK18 as it isn't always good at splitting the commands with spaces / quotes. Break up the command line arguments properly so that there is no ambiguity:</p>\n<pre><code> String[] cmd = new String[] {\n     &quot;sqlplus&quot;,&quot;-s&quot;, &quot;-LOGON&quot;,\n     &quot;&lt;user_name&gt;/&lt;password&gt;@\\&quot;(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(Host= host1.com)(Port=1725))(ADDRESS=(PROTOCOL=TCP)(Host= host2.com)(Port=1725))(LOAD_BALANCE = ON)(FAILOVER = ON) (CONNECT_DATA = (SERVER = DEDICATED)(SERVICE_NAME=service.com)))\\&quot;&quot;\n     &quot;@Load.sql&quot;\n };\n</code></pre>\n<p>You have better control over the sub-process if you replace <code>Runtime.exec(cmd)</code> by <code>ProcessBuilder</code> as you can capture the stdout/stderr to files or redirect stderr to stdout to avoid need to read both streams.</p>\n"}],"owner":{"account_id":2168148,"reputation":35,"user_id":1920774,"display_name":"Sarvesh H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74274581,"answer_count":1,"score":0,"last_activity_date":1667299327,"creation_date":1667293785,"question_id":74273654,"body_markdown":"I am building dynamic sqlplus command and executing the same from Java, It doesnt work as expected. Whereas same command is executed fine when run in command prompt.\r\n\r\nThe output when executed direct command (Expected):\r\n\r\n\r\n```\r\n\tBEGIN\r\n*\r\nERROR at line 1:\r\nORA-20004: Data is not ready, please check control-M v8 jobs\r\nORA-06512: at &quot;GLOBAL_OWNER.PKG_COMMON_UTILS&quot;, line 282\r\nORA-06512: at line 2\r\n```\r\n\r\nThe output when executed Java class : \r\n\r\n\r\n\r\n```\r\nSQL*Plus: Release 12.1.0.2.0 Production\r\n\r\nCopyright (c) 1982, 2014, Oracle.  All rights reserved.\r\n\r\nUse SQL*Plus to execute SQL, PL/SQL and SQL*Plus statements.\r\n\r\nUsage 1: sqlplus -H | -V\r\n\r\n    -H             Displays the SQL*Plus version and the\r\n                   usage help.\r\n    -V             Displays the SQL*Plus version.\r\n\r\nUsage 2: sqlplus [ [&lt;option&gt;] [{logon | /nolog}] [&lt;start&gt;] ]\r\n\r\n  &lt;option&gt; is: [-C &lt;version&gt;] [-L] [-M &quot;&lt;options&gt;&quot;] [-NOLOGINTIME] [-R &lt;level&gt;]\r\n               [-S]\r\n\r\n    -C &lt;version&gt;   Sets the compatibility of affected commands to the\r\n                   version specified by &lt;version&gt;.  The version has\r\n                   the form &quot;x.y[.z]&quot;.  For example, -C 10.2.0\r\n    -L             Attempts to log on just once, instead of\r\n                   reprompting on error.\r\n    -M &quot;&lt;options&gt;&quot; Sets automatic HTML markup of output.  The options\r\n                   have the form:\r\n                   HTML [ON|OFF] [HEAD text] [BODY text] [TABLE text]\r\n                   [ENTMAP {ON|OFF}] [SPOOL {ON|OFF}] [PRE[FORMAT] {ON|OFF}]\r\n    -NOLOGINTIME   Don&#39;t display Last Successful Login Time.\r\n    -R &lt;level&gt;     Sets restricted mode to disable SQL*Plus commands\r\n                   that interact with the file system.  The level can\r\n                   be 1, 2 or 3.  The most restrictive is -R 3 which\r\n                   disables all user commands interacting with the\r\n                   file system.\r\n    -S             Sets silent mode which suppresses the display of\r\n                   the SQL*Plus banner, prompts, and echoing of\r\n                   commands.\r\n\r\n  &lt;logon&gt; is: {&lt;username&gt;[/&lt;password&gt;][@&lt;connect_identifier&gt;] | / }\r\n              [AS {SYSDBA | SYSOPER | SYSASM | SYSBACKUP | SYSDG | SYSKM}] [EDITION=value]\r\n\r\n    Specifies the database account username, password and connect\r\n    identifier for the database connection.  Without a connect\r\n    identifier, SQL*Plus connects to the default database.\r\n\r\n    The AS SYSDBA, AS SYSOPER, AS SYSASM, AS SYSBACKUP, AS SYSDG,\r\n    and AS SYSKM options are database administration privileges.\r\n\r\n    &lt;connect_identifier&gt; can be in the form of Net Service Name\r\n    or Easy Connect.\r\n\r\n      @[&lt;net_service_name&gt; | [//]Host[:Port]/&lt;service_name&gt;]\r\n\r\n        &lt;net_service_name&gt; is a simple name for a service that resolves\r\n        to a connect descriptor.\r\n\r\n        Example: Connect to database using Net Service Name and the\r\n                 database net service name is ORCL.\r\n\r\n           sqlplus myusername/mypassword@ORCL\r\n\r\n        Host specifies the host name or IP address of the database\r\n        server computer.\r\n\r\n        Port specifies the listening port on the database server.\r\n\r\n        &lt;service_name&gt; specifies the service name of the database you\r\n        want to access.\r\n\r\n        Example: Connect to database using Easy Connect and the\r\n                 Service name is ORCL.\r\n\r\n           sqlplus myusername/mypassword@Host/ORCL\r\n\r\n    The /NOLOG option starts SQL*Plus without connecting to a\r\n    database.\r\n\r\n    The EDITION specifies the value for Session Edition.\r\n\r\n\r\n  &lt;start&gt; is: @&lt;URL&gt;|&lt;filename&gt;[.&lt;ext&gt;] [&lt;parameter&gt; ...]\r\n\r\n    Runs the specified SQL*Plus script from a web server (URL) or the\r\n    local file system (filename.ext) with specified parameters that\r\n    will be assigned to substitution variables in the script.\r\n\r\nWhen SQL*Plus starts, and after CONNECT commands, the site profile\r\n(e.g. $ORACLE_HOME/sqlplus/admin/glogin.sql) and the user profile\r\n(e.g. login.sql in the working directory) are run.  The files may\r\ncontain SQL*Plus commands.\r\n\r\n```\r\n\r\n\r\nJava Class used to run sqlplus command.\r\n\r\n\r\n\r\n```\r\npublic class RunSqlPlus {\r\n\r\n    public static void main(String[] args){\r\n        try {\r\n            String cmd = &quot; sqlplus -s -LOGON &lt;user_name&gt;/&lt;password&gt;@\\&quot;(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(Host= host1.com)(Port=1725))(ADDRESS=(PROTOCOL=TCP)(Host= host2.com)(Port=1725))(LOAD_BALANCE = ON)(FAILOVER = ON) (CONNECT_DATA = (SERVER = DEDICATED)(SERVICE_NAME=service.com)))\\&quot; @Load.sql&quot;;\r\n            Process process;\r\n            process = Runtime.getRuntime()\r\n                    .exec(cmd);\r\n\r\n            StreamGobbler streamGobbler =\r\n                    new StreamGobbler(process.getInputStream(), System.out::println);\r\n            Future&lt;?&gt; future = Executors.newSingleThreadExecutor().submit(streamGobbler);\r\n\r\n            int exitCode = process.waitFor();\r\n            assert exitCode == 0;\r\n\r\n            future.get();\r\n        }\r\n        catch(IOException |InterruptedException | ExecutionException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    private static class StreamGobbler implements Runnable {\r\n        private InputStream inputStream;\r\n        private Consumer&lt;String&gt; consumer;\r\n\r\n        public StreamGobbler(InputStream inputStream, Consumer&lt;String&gt; consumer) {\r\n            this.inputStream = inputStream;\r\n            this.consumer = consumer;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            new BufferedReader(new InputStreamReader(inputStream)).lines()\r\n                    .forEach(consumer);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Why sqlplus command execution from Java doesnt return the output same as direct command in shell?","body":"<p>I am building dynamic sqlplus command and executing the same from Java, It doesnt work as expected. Whereas same command is executed fine when run in command prompt.</p>\n<p>The output when executed direct command (Expected):</p>\n<pre><code>    BEGIN\n*\nERROR at line 1:\nORA-20004: Data is not ready, please check control-M v8 jobs\nORA-06512: at &quot;GLOBAL_OWNER.PKG_COMMON_UTILS&quot;, line 282\nORA-06512: at line 2\n</code></pre>\n<p>The output when executed Java class :</p>\n<pre><code>SQL*Plus: Release 12.1.0.2.0 Production\n\nCopyright (c) 1982, 2014, Oracle.  All rights reserved.\n\nUse SQL*Plus to execute SQL, PL/SQL and SQL*Plus statements.\n\nUsage 1: sqlplus -H | -V\n\n    -H             Displays the SQL*Plus version and the\n                   usage help.\n    -V             Displays the SQL*Plus version.\n\nUsage 2: sqlplus [ [&lt;option&gt;] [{logon | /nolog}] [&lt;start&gt;] ]\n\n  &lt;option&gt; is: [-C &lt;version&gt;] [-L] [-M &quot;&lt;options&gt;&quot;] [-NOLOGINTIME] [-R &lt;level&gt;]\n               [-S]\n\n    -C &lt;version&gt;   Sets the compatibility of affected commands to the\n                   version specified by &lt;version&gt;.  The version has\n                   the form &quot;x.y[.z]&quot;.  For example, -C 10.2.0\n    -L             Attempts to log on just once, instead of\n                   reprompting on error.\n    -M &quot;&lt;options&gt;&quot; Sets automatic HTML markup of output.  The options\n                   have the form:\n                   HTML [ON|OFF] [HEAD text] [BODY text] [TABLE text]\n                   [ENTMAP {ON|OFF}] [SPOOL {ON|OFF}] [PRE[FORMAT] {ON|OFF}]\n    -NOLOGINTIME   Don't display Last Successful Login Time.\n    -R &lt;level&gt;     Sets restricted mode to disable SQL*Plus commands\n                   that interact with the file system.  The level can\n                   be 1, 2 or 3.  The most restrictive is -R 3 which\n                   disables all user commands interacting with the\n                   file system.\n    -S             Sets silent mode which suppresses the display of\n                   the SQL*Plus banner, prompts, and echoing of\n                   commands.\n\n  &lt;logon&gt; is: {&lt;username&gt;[/&lt;password&gt;][@&lt;connect_identifier&gt;] | / }\n              [AS {SYSDBA | SYSOPER | SYSASM | SYSBACKUP | SYSDG | SYSKM}] [EDITION=value]\n\n    Specifies the database account username, password and connect\n    identifier for the database connection.  Without a connect\n    identifier, SQL*Plus connects to the default database.\n\n    The AS SYSDBA, AS SYSOPER, AS SYSASM, AS SYSBACKUP, AS SYSDG,\n    and AS SYSKM options are database administration privileges.\n\n    &lt;connect_identifier&gt; can be in the form of Net Service Name\n    or Easy Connect.\n\n      @[&lt;net_service_name&gt; | [//]Host[:Port]/&lt;service_name&gt;]\n\n        &lt;net_service_name&gt; is a simple name for a service that resolves\n        to a connect descriptor.\n\n        Example: Connect to database using Net Service Name and the\n                 database net service name is ORCL.\n\n           sqlplus myusername/mypassword@ORCL\n\n        Host specifies the host name or IP address of the database\n        server computer.\n\n        Port specifies the listening port on the database server.\n\n        &lt;service_name&gt; specifies the service name of the database you\n        want to access.\n\n        Example: Connect to database using Easy Connect and the\n                 Service name is ORCL.\n\n           sqlplus myusername/mypassword@Host/ORCL\n\n    The /NOLOG option starts SQL*Plus without connecting to a\n    database.\n\n    The EDITION specifies the value for Session Edition.\n\n\n  &lt;start&gt; is: @&lt;URL&gt;|&lt;filename&gt;[.&lt;ext&gt;] [&lt;parameter&gt; ...]\n\n    Runs the specified SQL*Plus script from a web server (URL) or the\n    local file system (filename.ext) with specified parameters that\n    will be assigned to substitution variables in the script.\n\nWhen SQL*Plus starts, and after CONNECT commands, the site profile\n(e.g. $ORACLE_HOME/sqlplus/admin/glogin.sql) and the user profile\n(e.g. login.sql in the working directory) are run.  The files may\ncontain SQL*Plus commands.\n\n</code></pre>\n<p>Java Class used to run sqlplus command.</p>\n<pre><code>public class RunSqlPlus {\n\n    public static void main(String[] args){\n        try {\n            String cmd = &quot; sqlplus -s -LOGON &lt;user_name&gt;/&lt;password&gt;@\\&quot;(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(Host= host1.com)(Port=1725))(ADDRESS=(PROTOCOL=TCP)(Host= host2.com)(Port=1725))(LOAD_BALANCE = ON)(FAILOVER = ON) (CONNECT_DATA = (SERVER = DEDICATED)(SERVICE_NAME=service.com)))\\&quot; @Load.sql&quot;;\n            Process process;\n            process = Runtime.getRuntime()\n                    .exec(cmd);\n\n            StreamGobbler streamGobbler =\n                    new StreamGobbler(process.getInputStream(), System.out::println);\n            Future&lt;?&gt; future = Executors.newSingleThreadExecutor().submit(streamGobbler);\n\n            int exitCode = process.waitFor();\n            assert exitCode == 0;\n\n            future.get();\n        }\n        catch(IOException |InterruptedException | ExecutionException e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n\n    private static class StreamGobbler implements Runnable {\n        private InputStream inputStream;\n        private Consumer&lt;String&gt; consumer;\n\n        public StreamGobbler(InputStream inputStream, Consumer&lt;String&gt; consumer) {\n            this.inputStream = inputStream;\n            this.consumer = consumer;\n        }\n\n        @Override\n        public void run() {\n            new BufferedReader(new InputStreamReader(inputStream)).lines()\n                    .forEach(consumer);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1667289295,"post_id":74272904,"comment_id":131127749,"body_markdown":"Don&#39;t do `jdbctemplate.getDataSource().getConnection()`... That code is wrong, if you are doing thingsl ike that, get your hands of the keyboard, take 3 steps back and rethink your design decisions. If you want to call a stored procedure either use a `SimpleJdbcCall` (also from Spring) or at least use the `execute` method that takes a `ConnectionCallback` or the `CallableStatementCreator`/`CallableStatementCallback` to create and set the parameters. But don&#39;t mess around with the connection yourself, that will eventually lead to issues.","body":"Don&#39;t do <code>jdbctemplate.getDataSource().getConnection()</code>... That code is wrong, if you are doing thingsl ike that, get your hands of the keyboard, take 3 steps back and rethink your design decisions. If you want to call a stored procedure either use a <code>SimpleJdbcCall</code> (also from Spring) or at least use the <code>execute</code> method that takes a <code>ConnectionCallback</code> or the <code>CallableStatementCreator</code>/<code>CallableStatementCallback</code> to create and set the parameters. But don&#39;t mess around with the connection yourself, that will eventually lead to issues."}],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667299323,"creation_date":1667288898,"question_id":74272904,"body_markdown":"After some research and looking to similar errors posted in Stack Overflow I figured out this error is due to connection leak issue, usually happens when the connection is not closed and putting the connection obj **inside try block as in my code** resolves connection leak issue. I am wondering how this primary key violation caused the issue. Is there any extra code I should add to handle such exceptions?\r\n\r\nI am getting the below error , this exception is continuously thrown \r\n\r\n    java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30000ms.\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:676) ~[HikariCP-3.2.0.jar!/:?]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:190) ~[HikariCP-3.2.0.jar!/:?]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:155) ~[HikariCP-3.2.0.jar!/:?]\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128) ~[HikariCP-3.2.0.jar!/:?]\r\n\r\nMy code which throws the error\r\n\r\n       public void insertEvent(EventRequest event) throws Exception {\r\n        \t\ttry (Connection connection = this.fenxjdbcTemplate.getDataSource().getConnection();\r\n        \t\t\t\tCallableStatement call = connection.prepareCall(&quot;{call dbo.SPBIF_Insert(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)}&quot;)) {\r\n        \r\n        \t\t\tcall.setString(1, event.getXX());\r\n        \t\t\tcall.setString(2, event.getXXXX());\r\n    //some more call.setString code\r\n                    call.execute();\r\n        \t\t} catch (Exception e) {\r\n        \t\t\tthrow e;\r\n        \t\t}\r\n\r\nThe code was working fine till I got three continues primary key violations error.\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Violation of PRIMARY KEY constraint &#39;PK_T_EVENTS&#39;. Cannot insert duplicate key in object &#39;dbo.T_EVENTS&#39;. The duplicate key value is (8b4450fc-de74-5e91-b59e-fefe3b909667).\r\n\r\nCongiuration:\r\n\r\n     datasource:\r\n               driverClassName: com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n               jdbc-url: jdbc:sqlserver://url\r\n               username: db_username\r\n               password: db_password\r\n               hikari:\r\n                  max-lifetime: 86400000\r\n                  minimum-idle: 10 \r\n                  maximum-pool-size: 50 \r\n                  idle-timeout: 10800000 \r\n                  connection-timeout: 10000\r\n\r\n\r\n","title":"Spring boot Hikari connection pool issue after throwing exception","body":"<p>After some research and looking to similar errors posted in Stack Overflow I figured out this error is due to connection leak issue, usually happens when the connection is not closed and putting the connection obj <strong>inside try block as in my code</strong> resolves connection leak issue. I am wondering how this primary key violation caused the issue. Is there any extra code I should add to handle such exceptions?</p>\n<p>I am getting the below error , this exception is continuously thrown</p>\n<pre><code>java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30000ms.\n    at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:676) ~[HikariCP-3.2.0.jar!/:?]\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:190) ~[HikariCP-3.2.0.jar!/:?]\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:155) ~[HikariCP-3.2.0.jar!/:?]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128) ~[HikariCP-3.2.0.jar!/:?]\n</code></pre>\n<p>My code which throws the error</p>\n<pre><code>   public void insertEvent(EventRequest event) throws Exception {\n            try (Connection connection = this.fenxjdbcTemplate.getDataSource().getConnection();\n                    CallableStatement call = connection.prepareCall(&quot;{call dbo.SPBIF_Insert(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)}&quot;)) {\n    \n                call.setString(1, event.getXX());\n                call.setString(2, event.getXXXX());\n//some more call.setString code\n                call.execute();\n            } catch (Exception e) {\n                throw e;\n            }\n</code></pre>\n<p>The code was working fine till I got three continues primary key violations error.</p>\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: Violation of PRIMARY KEY constraint 'PK_T_EVENTS'. Cannot insert duplicate key in object 'dbo.T_EVENTS'. The duplicate key value is (8b4450fc-de74-5e91-b59e-fefe3b909667).\n</code></pre>\n<p>Congiuration:</p>\n<pre><code> datasource:\n           driverClassName: com.microsoft.sqlserver.jdbc.SQLServerDriver\n           jdbc-url: jdbc:sqlserver://url\n           username: db_username\n           password: db_password\n           hikari:\n              max-lifetime: 86400000\n              minimum-idle: 10 \n              maximum-pool-size: 50 \n              idle-timeout: 10800000 \n              connection-timeout: 10000\n</code></pre>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":544543,"reputation":1693,"user_id":914032,"display_name":"SurfMan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667298060,"creation_date":1667298060,"answer_id":74274443,"question_id":74274406,"body_markdown":"You should check the date before inserting it into the cell:\r\n````\r\nfor(Student student : listOfStudent) {\r\n        Row studentRow = accountSheet.createRow(studentCount);\r\n        studentRow.createCell(0).setCellValue(student.getId());\r\n        studentRow.createCell(1).setCellValue(student.getName());\r\n        if( student.getAdmissionDate() != null) ) {\r\n           studentRow.createCell(2).setCellValue(student.getAdmissionDate());\r\n        }\r\n        studentCount++;     \r\n    }    \r\n````","title":"How to insert a null value in Excel from Java code using ApachePOI","body":"<p>You should check the date before inserting it into the cell:</p>\n<pre><code>for(Student student : listOfStudent) {\n        Row studentRow = accountSheet.createRow(studentCount);\n        studentRow.createCell(0).setCellValue(student.getId());\n        studentRow.createCell(1).setCellValue(student.getName());\n        if( student.getAdmissionDate() != null) ) {\n           studentRow.createCell(2).setCellValue(student.getAdmissionDate());\n        }\n        studentCount++;     \n    }    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667299260,"creation_date":1667299260,"answer_id":74274661,"question_id":74274406,"body_markdown":"You can set blank once you create cell something like below:\r\n\r\n\r\n\r\n    for(Student student : listOfStudent) {\r\n            Row studentRow = accountSheet.createRow(studentCount);\r\n            studentRow.createCell(0).setCellValue(student.getId());\r\n            studentRow.createCell(1).setCellValue(student.getName());\r\n        (student.getAdmissionDate() != null ? \r\n        studentRow.createCell(2).setCellValue(student.getAdmissionDate()) : \r\n        studentRow.createCell(2).setBlank());\r\n    studentCount++;  ","title":"How to insert a null value in Excel from Java code using ApachePOI","body":"<p>You can set blank once you create cell something like below:</p>\n<pre><code>for(Student student : listOfStudent) {\n        Row studentRow = accountSheet.createRow(studentCount);\n        studentRow.createCell(0).setCellValue(student.getId());\n        studentRow.createCell(1).setCellValue(student.getName());\n    (student.getAdmissionDate() != null ? \n    studentRow.createCell(2).setCellValue(student.getAdmissionDate()) : \n    studentRow.createCell(2).setBlank());\nstudentCount++;  \n</code></pre>\n"}],"owner":{"account_id":26430151,"reputation":37,"user_id":20076454,"display_name":"Developer007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74274443,"answer_count":2,"score":1,"last_activity_date":1667299260,"creation_date":1667297793,"question_id":74274406,"body_markdown":"I have a one field with admissionDate in Student object, which is suppose should be null anytime\r\nWhen am inserting that value into the excel using apache poi i am getting NullPointerException. \r\nData type of admissionDate is Date\r\n \r\nBelow is my code\r\n```\t\r\n\tRow studentRow = studentSheet.createRow(0);\r\n\tstudentRow.createCell(0).setCellValue(&quot;Id&quot;);\r\n\tstudentRow.createCell(1).setCellValue(&quot;Name&quot;);\r\n\tstudentRow.createCell(2).setCellValue(&quot;Admission_Date&quot;);\r\n\t\r\n\tint studentCount = 1;\r\n\t\r\n\tfor(Student student : listOfStudent) {\r\n\t\tRow studentRow = accountSheet.createRow(studentCount);\r\n\t\tstudentRow.createCell(0).setCellValue(student.getId());\r\n\t\tstudentRow.createCell(1).setCellValue(student.getName());\r\n\t\tstudentRow.createCell(2).setCellValue(student.getAdmissionDate());\r\n\t\tstudentCount++;\t\t\r\n\t}\t\t\t\r\n```\r\nBut when admission date is null then i have getting below exception\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat java.util.Calendar.setTime(Calendar.java:1770)\r\n\tat org.apache.poi.ss.usermodel.DateUtil.getExcelDate(DateUtil.java:86)\r\n\tat org.apache.poi.xssf.usermodel.XSSFCell.setCellValue(XSSFCell.java:600)\r\n\tat com.wd.classes.CreateExcelFile.generateExcelFile(CreateExcelFile.java:269)\r\n```\r\n\r\nHow can i insert a NULL cell if admissiondate is not available","title":"How to insert a null value in Excel from Java code using ApachePOI","body":"<p>I have a one field with admissionDate in Student object, which is suppose should be null anytime\nWhen am inserting that value into the excel using apache poi i am getting NullPointerException.\nData type of admissionDate is Date</p>\n<p>Below is my code</p>\n<pre><code>    Row studentRow = studentSheet.createRow(0);\n    studentRow.createCell(0).setCellValue(&quot;Id&quot;);\n    studentRow.createCell(1).setCellValue(&quot;Name&quot;);\n    studentRow.createCell(2).setCellValue(&quot;Admission_Date&quot;);\n    \n    int studentCount = 1;\n    \n    for(Student student : listOfStudent) {\n        Row studentRow = accountSheet.createRow(studentCount);\n        studentRow.createCell(0).setCellValue(student.getId());\n        studentRow.createCell(1).setCellValue(student.getName());\n        studentRow.createCell(2).setCellValue(student.getAdmissionDate());\n        studentCount++;     \n    }           \n</code></pre>\n<p>But when admission date is null then i have getting below exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.util.Calendar.setTime(Calendar.java:1770)\n    at org.apache.poi.ss.usermodel.DateUtil.getExcelDate(DateUtil.java:86)\n    at org.apache.poi.xssf.usermodel.XSSFCell.setCellValue(XSSFCell.java:600)\n    at com.wd.classes.CreateExcelFile.generateExcelFile(CreateExcelFile.java:269)\n</code></pre>\n<p>How can i insert a NULL cell if admissiondate is not available</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667229204,"post_id":74265259,"comment_id":131115026,"body_markdown":"So you&#39;re just throwing away the *keys* of the initial map , and flattening the inner maps. What about **uniqueness** of the keys (are you ok with overriding values)?","body":"So you&#39;re just throwing away the <i>keys</i> of the initial map , and flattening the inner maps. What about <b>uniqueness</b> of the keys (are you ok with overriding values)?"},{"owner":{"account_id":17309191,"reputation":69,"user_id":12537240,"display_name":"Marko"},"score":0,"creation_date":1667229282,"post_id":74265259,"comment_id":131115051,"body_markdown":"@AlexanderIvanchenko yes that is what I am trying to do. The keys are all unique.","body":"@AlexanderIvanchenko yes that is what I am trying to do. The keys are all unique."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667230670,"post_id":74265259,"comment_id":131115538,"body_markdown":"In short, if you want to address the problem using a stream, you need to flatten the entries of the nested maps. E.g. `Map&lt;String, String&gt; result = myMap.entrySet().stream()\n    .flatMap(entry -&gt; entry.getValue().entrySet().stream())\n    .collect(Collectors.toMap( Map.Entry::getKey, Map.Entry::getValue ));`","body":"In short, if you want to address the problem using a stream, you need to flatten the entries of the nested maps. E.g. <code>Map&lt;String, String&gt; result = myMap.entrySet().stream()     .flatMap(entry -&gt; entry.getValue().entrySet().stream())     .collect(Collectors.toMap( Map.Entry::getKey, Map.Entry::getValue ));</code>"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667288679,"creation_date":1667285670,"answer_id":74272462,"question_id":74265259,"body_markdown":"If you are certain there are no duplicate keys, you can do it like this.\r\n```\r\nMap&lt;String, String&gt; res = myMap.values()\r\n            .stream()\r\n            .flatMap(value -&gt; value.entrySet().stream())\r\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue);\r\n```\r\nIf there may be duplicate keys between the inner maps, you will have to introduce merge function to resolve conflicts. Simple resolution keeping the value of the second encountered entry may look like this:\r\n```\r\nMap&lt;String, String&gt; res = myMap.values()\r\n            .stream()\r\n            .flatMap(value -&gt; value.entrySet().stream())\r\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (v1, v2) -&gt; v2));\r\n```\r\nBasically, stream the values, which are `Map`s, flatten them to a stream of entries and collect the entries in a new Map.","title":"Mapping map values in Java using streams","body":"<p>If you are certain there are no duplicate keys, you can do it like this.</p>\n<pre><code>Map&lt;String, String&gt; res = myMap.values()\n            .stream()\n            .flatMap(value -&gt; value.entrySet().stream())\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue);\n</code></pre>\n<p>If there may be duplicate keys between the inner maps, you will have to introduce merge function to resolve conflicts. Simple resolution keeping the value of the second encountered entry may look like this:</p>\n<pre><code>Map&lt;String, String&gt; res = myMap.values()\n            .stream()\n            .flatMap(value -&gt; value.entrySet().stream())\n            .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (v1, v2) -&gt; v2));\n</code></pre>\n<p>Basically, stream the values, which are <code>Map</code>s, flatten them to a stream of entries and collect the entries in a new Map.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667298745,"creation_date":1667297270,"answer_id":74274288,"question_id":74265259,"body_markdown":"You need to flatten the entries of the nested maps which can be done using either `flatMap()` or `mapMulty()`.\r\n\r\nAnd then apply `collect()` with the minimalistic *two-args* flavor of Collector [`toMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)) passed as an argument. It would be sufficient since you don&#39;t expect duplicates.\r\n\r\nHere&#39;s an example using [`flatMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)):\r\n\r\n```\r\nMap&lt;String, Map&lt;String, String&gt;&gt; myMap = new HashMap&lt;&gt;();\r\n        \r\nMap&lt;String, String&gt; res = myMap.entrySet().stream()         // stream of maps\r\n    .flatMap(entry -&gt; entry.getValue().entrySet().stream()) // stream of map entries\r\n    .collect(Collectors.toMap(\r\n        Map.Entry::getKey,  // key mapper\r\n        Map.Entry::getValue // value mapper\r\n    ));\r\n```\r\n\r\nExample with Java 16 [`mapMulti()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)) used for flattening the data:\r\n\r\n```\r\nMap&lt;String, Map&lt;String, String&gt;&gt; myMap = new HashMap&lt;&gt;();\r\n        \r\nMap&lt;String, String&gt; res = myMap.entrySet().stream()   // stream of maps\r\n    .&lt;Map.Entry&lt;String, String&gt;&gt;mapMulti((entry, consumer) -&gt; \r\n        entry.getValue().entrySet().forEach(consumer) // stream of map entries\r\n    )\r\n    .collect(Collectors.toMap(\r\n        Map.Entry::getKey,  // key mapper\r\n        Map.Entry::getValue // value mapper\r\n    ));\r\n```","title":"Mapping map values in Java using streams","body":"<p>You need to flatten the entries of the nested maps which can be done using either <code>flatMap()</code> or <code>mapMulty()</code>.</p>\n<p>And then apply <code>collect()</code> with the minimalistic <em>two-args</em> flavor of Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a> passed as an argument. It would be sufficient since you don't expect duplicates.</p>\n<p>Here's an example using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a>:</p>\n<pre><code>Map&lt;String, Map&lt;String, String&gt;&gt; myMap = new HashMap&lt;&gt;();\n        \nMap&lt;String, String&gt; res = myMap.entrySet().stream()         // stream of maps\n    .flatMap(entry -&gt; entry.getValue().entrySet().stream()) // stream of map entries\n    .collect(Collectors.toMap(\n        Map.Entry::getKey,  // key mapper\n        Map.Entry::getValue // value mapper\n    ));\n</code></pre>\n<p>Example with Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a> used for flattening the data:</p>\n<pre><code>Map&lt;String, Map&lt;String, String&gt;&gt; myMap = new HashMap&lt;&gt;();\n        \nMap&lt;String, String&gt; res = myMap.entrySet().stream()   // stream of maps\n    .&lt;Map.Entry&lt;String, String&gt;&gt;mapMulti((entry, consumer) -&gt; \n        entry.getValue().entrySet().forEach(consumer) // stream of map entries\n    )\n    .collect(Collectors.toMap(\n        Map.Entry::getKey,  // key mapper\n        Map.Entry::getValue // value mapper\n    ));\n</code></pre>\n"}],"owner":{"account_id":17309191,"reputation":69,"user_id":12537240,"display_name":"Marko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74272462,"answer_count":2,"score":2,"last_activity_date":1667298745,"creation_date":1667228534,"question_id":74265259,"body_markdown":"I have a map, `Map&lt;String, Map&lt;String, String&gt;&gt; myMap = new HashMap&lt;&gt;();` that I would like to remap to get it&#39;s values, so that I get as a result `Map&lt;String, String&gt;`.\r\n\r\nIs it possible to do the mapping using stream API?\r\n\r\nI have solved the problem using a `for` loop but I&#39;m interested if that could be done using streams.\r\n\r\nMy solution:\r\n\r\n       Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n\r\n        myMap.forEach((k, v) -&gt; {\r\n            result.putAll(v);\r\n        });\r\n\r\nWhat I want is to get all the values from `myMap` and put them in a new Map.","title":"Mapping map values in Java using streams","body":"<p>I have a map, <code>Map&lt;String, Map&lt;String, String&gt;&gt; myMap = new HashMap&lt;&gt;();</code> that I would like to remap to get it's values, so that I get as a result <code>Map&lt;String, String&gt;</code>.</p>\n<p>Is it possible to do the mapping using stream API?</p>\n<p>I have solved the problem using a <code>for</code> loop but I'm interested if that could be done using streams.</p>\n<p>My solution:</p>\n<pre><code>   Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\n\n    myMap.forEach((k, v) -&gt; {\n        result.putAll(v);\n    });\n</code></pre>\n<p>What I want is to get all the values from <code>myMap</code> and put them in a new Map.</p>\n"},{"tags":["java","sql","sql-server","spring-boot"],"comments":[{"owner":{"account_id":26447435,"reputation":2008,"user_id":20091109,"display_name":"Stuck at 1337"},"score":1,"creation_date":1667300201,"post_id":74274530,"comment_id":131130734,"body_markdown":"I don&#39;t know springboot but why doesn&#39;t your second query have `nativeQuery = true`? Did you try `SELECT [Server Name] = @@SERVERNAME;`? Seems your application is trying to parse the SQL before submitting it, and `AS &#39;alias&#39;` is not the best form. Also, `only if current server is primary` -&gt; what are you checking the server name against? Why not just use [`sys.fn_hadr_is_primary_replica`](https://learn.microsoft.com/en-us/sql/relational-databases/system-functions/sys-fn-hadr-is-primary-replica-transact-sql)?","body":"I don&#39;t know springboot but why doesn&#39;t your second query have <code>nativeQuery = true</code>? Did you try <code>SELECT [Server Name] = @@SERVERNAME;</code>? Seems your application is trying to parse the SQL before submitting it, and <code>AS &#39;alias&#39;</code> is not the best form. Also, <code>only if current server is primary</code> -&gt; what are you checking the server name against? Why not just use <a href=\"https://learn.microsoft.com/en-us/sql/relational-databases/system-functions/sys-fn-hadr-is-primary-replica-transact-sql\" rel=\"nofollow noreferrer\"><code>sys.fn_hadr_is_primary_replica</code></a>?"},{"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"score":0,"creation_date":1667309643,"post_id":74274530,"comment_id":131133895,"body_markdown":"yes, I missed adding nativeQuery to second one,","body":"yes, I missed adding nativeQuery to second one,"},{"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"score":1,"creation_date":1667311249,"post_id":74274530,"comment_id":131134465,"body_markdown":"You can just use one batch `IF 0 = ( SELECT role FROM master.sys.geo_replication_links WHERE database_id = DB_ID() ) EXEC sys.sp_wait_for_database_copy_sync  ....`","body":"You can just use one batch <code>IF 0 = ( SELECT role FROM master.sys.geo_replication_links WHERE database_id = DB_ID() ) EXEC sys.sp_wait_for_database_copy_sync  ....</code>"},{"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"score":0,"creation_date":1667316637,"post_id":74274530,"comment_id":131136470,"body_markdown":"yes, I was looking for something like this. Thanks, It worked.","body":"yes, I was looking for something like this. Thanks, It worked."},{"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"score":0,"creation_date":1667327792,"post_id":74274530,"comment_id":131140362,"body_markdown":"but I want to achieve this using spring boot: Wondering what will be the entity for for the sys queries ?","body":"but I want to achieve this using spring boot: Wondering what will be the entity for for the sys queries ?"}],"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667298560,"creation_date":1667298560,"question_id":74274530,"body_markdown":"I want to execute a stored procedure based on the server name in am spring boot application\r\n\r\nBelow is the stored proc.\r\n\r\n  ```  @Modifying\r\n    @Query(nativeQuery = true, value = &quot;EXEC sys.sp_wait_for_database_copy_sync  @target_server = N&#39;sql-secondary&#39;, @target_database = N&#39;sql-primary&#39;&quot;)\r\n    @Transactional\r\n    public void spWaitForDatabaseCopy();\r\n ```\r\nI want to execute this query only if current server is primary. How can I achieve this springboot java ?\r\n\r\nI tried below code to get the server name:\r\n```\r\n  @Query(value = &quot;SELECT  @@SERVERNAME AS &#39;Server Name&#39; &quot;)\r\n    public String getServerName();\r\n```\r\nbut I see error at @. &lt;expression&gt; or DISTINCT expected, got &#39;@&#39;\r\n\r\n\r\nIs there better way to get the server name and then execute stored proc based on the result? \r\n\r\n\r\n\r\n","title":"How to get database server name in springboot","body":"<p>I want to execute a stored procedure based on the server name in am spring boot application</p>\n<p>Below is the stored proc.</p>\n<pre><code>  @Query(nativeQuery = true, value = &quot;EXEC sys.sp_wait_for_database_copy_sync  @target_server = N'sql-secondary', @target_database = N'sql-primary'&quot;)\n  @Transactional\n  public void spWaitForDatabaseCopy();\n</code></pre>\n<p>I want to execute this query only if current server is primary. How can I achieve this springboot java ?</p>\n<p>I tried below code to get the server name:</p>\n<pre><code>  @Query(value = &quot;SELECT  @@SERVERNAME AS 'Server Name' &quot;)\n    public String getServerName();\n</code></pre>\n<p>but I see error at @.  or DISTINCT expected, got '@'</p>\n<p>Is there better way to get the server name and then execute stored proc based on the result?</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1667297757,"post_id":74274012,"comment_id":131129961,"body_markdown":"Please take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/74274012/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667298361,"creation_date":1667298361,"answer_id":74274497,"question_id":74274012,"body_markdown":"Spies and mocks are meant to be used as dependencies to other methods. What your production code is doing is creating its own instance of `GetOptionBidPrice` instead of using the spy you&#39;ve just created in your test.\r\n\r\nTo fix that, use dependency injection. Instead of \r\n\r\n```\r\n    GetOptionBidPrice getOptionBidPrice = new GetOptionBidPrice(. . .);\r\n    double bidPrice = getOptionBidPrice.getBidPrice();\r\n```\r\n\r\nYou should pass `getOptionBidPrice` as an argument to your method:\r\n\r\n```\r\npublic void myMethod(GetOptionBidPrice getOptionBidPrice) {\r\n    double bidPrice = getOptionBidPrice.getBidPrice();\r\n```\r\n\r\nAnd then the caller of your method in production code passes a real instance created with `new GetOptionBidPrice(. . .)` while your test code passes it a spy.","title":"Stubbed method not called when using mockito Spy on Class method","body":"<p>Spies and mocks are meant to be used as dependencies to other methods. What your production code is doing is creating its own instance of <code>GetOptionBidPrice</code> instead of using the spy you've just created in your test.</p>\n<p>To fix that, use dependency injection. Instead of</p>\n<pre><code>    GetOptionBidPrice getOptionBidPrice = new GetOptionBidPrice(. . .);\n    double bidPrice = getOptionBidPrice.getBidPrice();\n</code></pre>\n<p>You should pass <code>getOptionBidPrice</code> as an argument to your method:</p>\n<pre><code>public void myMethod(GetOptionBidPrice getOptionBidPrice) {\n    double bidPrice = getOptionBidPrice.getBidPrice();\n</code></pre>\n<p>And then the caller of your method in production code passes a real instance created with <code>new GetOptionBidPrice(. . .)</code> while your test code passes it a spy.</p>\n"}],"owner":{"account_id":218143,"reputation":119,"user_id":474323,"accept_rate":39,"display_name":"Walking Corpse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667298361,"creation_date":1667295850,"question_id":74274012,"body_markdown":"Source code:\r\n\r\n    GetOptionBidPrice getOptionBidPrice = new GetOptionBidPrice(. . .);\r\n    double bidPrice = getOptionBidPrice.getBidPrice();\r\n\r\nTest code:\r\n\r\n    GetOptionBidPrice spyGetOptionBidPrice = spy(GetOptionBidPrice.class);\r\n    doReturn(100.0).when(spyGetOptionBidPrice).getBidPrice();\r\n    \r\n    .... Tests the source code....\r\n\r\nThe mocked and returned value of 100.0 is not received by the source code, instead if receives 0 which is the field default in the real class GetOptionBidPrice. What am I doing wrong?\r\n\r\n   \r\n","title":"Stubbed method not called when using mockito Spy on Class method","body":"<p>Source code:</p>\n<pre><code>GetOptionBidPrice getOptionBidPrice = new GetOptionBidPrice(. . .);\ndouble bidPrice = getOptionBidPrice.getBidPrice();\n</code></pre>\n<p>Test code:</p>\n<pre><code>GetOptionBidPrice spyGetOptionBidPrice = spy(GetOptionBidPrice.class);\ndoReturn(100.0).when(spyGetOptionBidPrice).getBidPrice();\n\n.... Tests the source code....\n</code></pre>\n<p>The mocked and returned value of 100.0 is not received by the source code, instead if receives 0 which is the field default in the real class GetOptionBidPrice. What am I doing wrong?</p>\n"},{"tags":["java","php"],"comments":[{"owner":{"account_id":174673,"reputation":1534,"user_id":404183,"accept_rate":82,"display_name":"Alex Mathew"},"score":0,"creation_date":1291599338,"post_id":4362364,"comment_id":4748212,"body_markdown":"i like to know why minus?? whats the problem with this question??","body":"i like to know why minus?? whats the problem with this question??"},{"owner":{"account_id":43656,"reputation":96754,"user_id":127724,"accept_rate":94,"display_name":"Artefacto"},"score":0,"creation_date":1291599668,"post_id":4362364,"comment_id":4748243,"body_markdown":"The problem is the question is not an actual, well-defined, question; you have shown no effort trying to resolve the problem yourself. It&#39;s of the &quot;give me teh codez&quot; variety.","body":"The problem is the question is not an actual, well-defined, question; you have shown no effort trying to resolve the problem yourself. It&#39;s of the &quot;give me teh codez&quot; variety."},{"owner":{"account_id":174673,"reputation":1534,"user_id":404183,"accept_rate":82,"display_name":"Alex Mathew"},"score":0,"creation_date":1291600075,"post_id":4362364,"comment_id":4748276,"body_markdown":"who said i wasn&#39;t tried.i tried,i tried many times and failed,its above my knowledge,so i asked help...i think you dont know the answer so you are doing this","body":"who said i wasn&#39;t tried.i tried,i tried many times and failed,its above my knowledge,so i asked help...i think you dont know the answer so you are doing this"},{"owner":{"account_id":45892,"reputation":59838,"user_id":135448,"accept_rate":97,"display_name":"Andreas Wong"},"score":0,"creation_date":1291600879,"post_id":4362364,"comment_id":4748344,"body_markdown":"it&#39;s just one damn vote down, stop arguing, get over it and show your attempt.","body":"it&#39;s just one damn vote down, stop arguing, get over it and show your attempt."},{"owner":{"account_id":6986,"reputation":61140,"user_id":11926,"accept_rate":96,"display_name":"Alfred"},"score":2,"creation_date":1291602370,"post_id":4362364,"comment_id":4748456,"body_markdown":"seriously the down-vote sucks and I am giving it an upvote. It is a valid question which more people might like to know the answer to. That&#39;s what stackoverflow is about right?","body":"seriously the down-vote sucks and I am giving it an upvote. It is a valid question which more people might like to know the answer to. That&#39;s what stackoverflow is about right?"},{"owner":{"account_id":174673,"reputation":1534,"user_id":404183,"accept_rate":82,"display_name":"Alex Mathew"},"score":0,"creation_date":1291602449,"post_id":4362364,"comment_id":4748458,"body_markdown":"@Alfred: that right...thks...","body":"@Alfred: that right...thks..."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1291603311,"post_id":4362364,"comment_id":4748515,"body_markdown":"Related: http://stackoverflow.com/questions/2714296/2-legged-oauth-and-the-gmail-atom-feed","body":"Related: <a href=\"http://stackoverflow.com/questions/2714296/2-legged-oauth-and-the-gmail-atom-feed\" title=\"2 legged oauth and the gmail atom feed\">stackoverflow.com/questions/2714296/&hellip;</a>"},{"owner":{"account_id":174673,"reputation":1534,"user_id":404183,"accept_rate":82,"display_name":"Alex Mathew"},"score":0,"creation_date":1291604296,"post_id":4362364,"comment_id":4748607,"body_markdown":"@BalusC: i am not using OAuth.so i asked how to do this in JAVA?","body":"@BalusC: i am not using OAuth.so i asked how to do this in JAVA?"},{"owner":{"account_id":124130,"reputation":2148,"user_id":319027,"accept_rate":45,"display_name":"Praveen kalal"},"score":0,"creation_date":1291616733,"post_id":4362364,"comment_id":16043243,"body_markdown":"go to this link might be u will get solution\nhttp://loopingrecursion.com/?t=php","body":"go to this link might be u will get solution <a href=\"http://loopingrecursion.com/?t=php\" rel=\"nofollow noreferrer\">loopingrecursion.com/?t=php</a>"}],"answers":[{"tags":[],"owner":{"account_id":253401,"reputation":1583,"user_id":532070,"accept_rate":25,"display_name":"Ratna Dinakar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1291632166,"creation_date":1291632166,"answer_id":4365534,"question_id":4362364,"body_markdown":"Use Commons Http Client library,it supports HttpGet, HttpPost also , you can add Request headers, etc..","title":"How can i convert following code of PHP curl to JAVA HttpURLConnection?","body":"<p>Use Commons Http Client library,it supports HttpGet, HttpPost also , you can add Request headers, etc..</p>\n"}],"owner":{"account_id":174673,"reputation":1534,"user_id":404183,"accept_rate":82,"display_name":"Alex Mathew"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3064,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":1,"score":3,"last_activity_date":1667298347,"creation_date":1291597278,"question_id":4362364,"body_markdown":"How can I convert following code of PHP curl to JAVA HttpURLConnection?\r\n```java\r\n$username = $_POST[&#39;username&#39;]; \r\n    $headers = array( \r\n    &quot;Host: mail.google.com&quot;, \r\n    &quot;User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.0.4) Gecko/20060508 Firefox/1.5.0.4&quot;, \r\n    &quot;Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5&quot;, \r\n    &quot;Accept-Language: en-us,en;q=0.5&quot;, \r\n    &quot;Accept-Encoding: text&quot;, # No gzip, it only clutters your code! \r\n    &quot;Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7&quot;, \r\n    &quot;Date: &quot;.date(DATE_RFC822) \r\n    ); \r\n    $c = curl_init(&#39;https://mail.google.com/mail/feed/atom&#39;); \r\n    curl_setopt($c, CURLOPT_HTTPAUTH, CURLAUTH_ANY); // use authentication \r\n    curl_setopt($c, CURLOPT_HTTPHEADER, $headers); // send the headers \r\n    curl_setopt($c, CURLOPT_RETURNTRANSFER, 1); // We need to fetch something from a string, so no direct output! \r\n    curl_setopt($c, CURLOPT_FOLLOWLOCATION, 1); // we get redirected, so follow \r\n    curl_setopt($c, CURLOPT_SSL_VERIFYPEER, 0); \r\n    curl_setopt($c, CURLOPT_SSL_VERIFYHOST, 1); \r\n    curl_setopt($c, CURLOPT_UNRESTRICTED_AUTH, 1); // always stay authorised \r\n    $wrong = curl_exec($c); // Get it \r\n    curl_close($c); // Close the curl stream \r\n```","title":"How can i convert following code of PHP curl to JAVA HttpURLConnection?","body":"<p>How can I convert following code of PHP curl to JAVA HttpURLConnection?</p>\n<pre class=\"lang-java prettyprint-override\"><code>$username = $_POST['username']; \n    $headers = array( \n    &quot;Host: mail.google.com&quot;, \n    &quot;User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.0.4) Gecko/20060508 Firefox/1.5.0.4&quot;, \n    &quot;Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5&quot;, \n    &quot;Accept-Language: en-us,en;q=0.5&quot;, \n    &quot;Accept-Encoding: text&quot;, # No gzip, it only clutters your code! \n    &quot;Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7&quot;, \n    &quot;Date: &quot;.date(DATE_RFC822) \n    ); \n    $c = curl_init('https://mail.google.com/mail/feed/atom'); \n    curl_setopt($c, CURLOPT_HTTPAUTH, CURLAUTH_ANY); // use authentication \n    curl_setopt($c, CURLOPT_HTTPHEADER, $headers); // send the headers \n    curl_setopt($c, CURLOPT_RETURNTRANSFER, 1); // We need to fetch something from a string, so no direct output! \n    curl_setopt($c, CURLOPT_FOLLOWLOCATION, 1); // we get redirected, so follow \n    curl_setopt($c, CURLOPT_SSL_VERIFYPEER, 0); \n    curl_setopt($c, CURLOPT_SSL_VERIFYHOST, 1); \n    curl_setopt($c, CURLOPT_UNRESTRICTED_AUTH, 1); // always stay authorised \n    $wrong = curl_exec($c); // Get it \n    curl_close($c); // Close the curl stream \n</code></pre>\n"},{"tags":["java","android","exception","fft"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1667249542,"post_id":74268809,"comment_id":131121290,"body_markdown":"For me this looks like your variable / field `fft` is null. Can you share the code where you initialize `fft`?","body":"For me this looks like your variable / field <code>fft</code> is null. Can you share the code where you initialize <code>fft</code>?"},{"owner":{"account_id":26784748,"reputation":27,"user_id":20379107,"display_name":"Orest"},"score":0,"creation_date":1667296226,"post_id":74268809,"comment_id":131129510,"body_markdown":"@ThomasKl&#228;ger oh i forgot byte[] fft;","body":"@ThomasKl&#228;ger oh i forgot byte[] fft;"},{"owner":{"account_id":26784748,"reputation":27,"user_id":20379107,"display_name":"Orest"},"score":0,"creation_date":1667296420,"post_id":74268809,"comment_id":131129562,"body_markdown":"@ThomasKl&#228;ger so probably the problem is in the empty fft but i just want to get the fft from the visualizer how do i initialize this line of code : int a = audioVisualizer.getFft(fft);","body":"@ThomasKl&#228;ger so probably the problem is in the empty fft but i just want to get the fft from the visualizer how do i initialize this line of code : int a = audioVisualizer.getFft(fft);"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667298046,"creation_date":1667298046,"answer_id":74274439,"question_id":74268809,"body_markdown":"`fft` must be an array of bytes where the FFT can be returned. If your class just has a field declaration like `byte[] fft;` then `fft` is null and `audioVisualizer.getFft()` has no place to store the captured FFT.\r\n\r\nYou must provide a byte array that is large enough (`audioVisualizer.getCaptureSize()`).\r\n\r\nYour code must contain these lines:\r\n\r\n    int n = audioVisualizer.getCaptureSize();\r\n    fft = new byte[n];\r\n    int a = audioVisualizer.getFft(fft);","title":"why visualizer.getfft excites java_vm_ext.cc:570] JNI DETECTED ERROR IN APPLICATION: jarray was NULL","body":"<p><code>fft</code> must be an array of bytes where the FFT can be returned. If your class just has a field declaration like <code>byte[] fft;</code> then <code>fft</code> is null and <code>audioVisualizer.getFft()</code> has no place to store the captured FFT.</p>\n<p>You must provide a byte array that is large enough (<code>audioVisualizer.getCaptureSize()</code>).</p>\n<p>Your code must contain these lines:</p>\n<pre><code>int n = audioVisualizer.getCaptureSize();\nfft = new byte[n];\nint a = audioVisualizer.getFft(fft);\n</code></pre>\n"}],"owner":{"account_id":26784748,"reputation":27,"user_id":20379107,"display_name":"Orest"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74274439,"answer_count":1,"score":0,"last_activity_date":1667298046,"creation_date":1667248177,"question_id":74268809,"body_markdown":"I think this is a very difficult question and I need a very experienced specialist, so if you can answer in advance, thank you very much :D\r\n\r\n\r\n```\r\naudioVisualizer = new AudioVisualizer(audioSessionId);\r\naudioVisualizer.setEnabled(true);\r\ntry {\r\n//  Exception ||||||||||||||||||||||||||\r\n    int a = audioVisualizer.getFft(fft);\r\n//  Exception ||||||||||||||||||||||||||\r\n}catch (Exception e){\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nif you need all Exception code :\r\n\r\n```\r\njava_vm_ext.cc:570] JNI DETECTED ERROR IN APPLICATION: jarray was NULL\r\n2022-10-31 22:15:16.153 18560-18560 m.example.musi          com.example.music                    A  java_vm_ext.cc:570]     in call to GetPrimitiveArrayCritical\r\n2022-10-31 22:15:16.153 18560-18560 m.example.musi          com.example.music                    A  java_vm_ext.cc:570]     from int android.media.audiofx.Visualizer.native_getFft(byte[])\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] Runtime aborting...\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] Dumping all threads without mutator lock held\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] All threads:\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] DALVIK THREADS (16):\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] &quot;main&quot; prio=10 tid=1 Runnable\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | group=&quot;&quot; sCount=0 dsCount=0 flags=0 obj=0x72693e78 self=0x7490846c00\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | sysTid=18560 nice=-10 cgrp=default sched=0/0 handle=0x7491fa7ed0\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | state=R schedstat=( 5524140844 782691092 6362 ) utm=512 stm=40 core=3 HZ=100\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | stack=0x7fdcf36000-0x7fdcf38000 stackSize=8192KB\r\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | held mutexes= &quot;abort lock&quot; &quot;mutator lock&quot;(shared held)\r\n```\r\n\r\nI googled and looked at stack overflows to no avail","title":"why visualizer.getfft excites java_vm_ext.cc:570] JNI DETECTED ERROR IN APPLICATION: jarray was NULL","body":"<p>I think this is a very difficult question and I need a very experienced specialist, so if you can answer in advance, thank you very much :D</p>\n<pre><code>audioVisualizer = new AudioVisualizer(audioSessionId);\naudioVisualizer.setEnabled(true);\ntry {\n//  Exception ||||||||||||||||||||||||||\n    int a = audioVisualizer.getFft(fft);\n//  Exception ||||||||||||||||||||||||||\n}catch (Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n<p>if you need all Exception code :</p>\n<pre><code>java_vm_ext.cc:570] JNI DETECTED ERROR IN APPLICATION: jarray was NULL\n2022-10-31 22:15:16.153 18560-18560 m.example.musi          com.example.music                    A  java_vm_ext.cc:570]     in call to GetPrimitiveArrayCritical\n2022-10-31 22:15:16.153 18560-18560 m.example.musi          com.example.music                    A  java_vm_ext.cc:570]     from int android.media.audiofx.Visualizer.native_getFft(byte[])\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] Runtime aborting...\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] Dumping all threads without mutator lock held\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] All threads:\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] DALVIK THREADS (16):\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630] &quot;main&quot; prio=10 tid=1 Runnable\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | group=&quot;&quot; sCount=0 dsCount=0 flags=0 obj=0x72693e78 self=0x7490846c00\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | sysTid=18560 nice=-10 cgrp=default sched=0/0 handle=0x7491fa7ed0\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | state=R schedstat=( 5524140844 782691092 6362 ) utm=512 stm=40 core=3 HZ=100\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | stack=0x7fdcf36000-0x7fdcf38000 stackSize=8192KB\n2022-10-31 22:15:16.595 18560-18560 m.example.musi          com.example.music                    A  runtime.cc:630]   | held mutexes= &quot;abort lock&quot; &quot;mutator lock&quot;(shared held)\n</code></pre>\n<p>I googled and looked at stack overflows to no avail</p>\n"},{"tags":["java","minecraft-forge"],"comments":[{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1667298505,"post_id":74262784,"comment_id":131130207,"body_markdown":"What version of Forge are you using, and for what Minecraft version?","body":"What version of Forge are you using, and for what Minecraft version?"},{"owner":{"account_id":26784472,"reputation":1,"user_id":20378870,"display_name":"Fllllla1"},"score":0,"creation_date":1667310858,"post_id":74262784,"comment_id":131134318,"body_markdown":"Minecraft java 1.8.9 and forge 1.8.9 latest version","body":"Minecraft java 1.8.9 and forge 1.8.9 latest version"},{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1667388355,"post_id":74262784,"comment_id":131154038,"body_markdown":"Okay, and what error are you getting? (edit the question to add it)","body":"Okay, and what error are you getting? (edit the question to add it)"}],"owner":{"account_id":26784472,"reputation":1,"user_id":20378870,"display_name":"Fllllla1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667298009,"creation_date":1667216732,"question_id":74262784,"body_markdown":"Hi I&#39;m a beginner at java I&#39;m having this error idk how to solve it \r\n\r\n```java\r\nif (item.getItem() instanceof net.minecraft.item.ItemBlock) {\r\n    mc.gameSettings.keyBindSneak.pressed = false;\r\n    BlockPos BlockPos = new BlockPos(this.mc.thePlayer.posX, this.mc.thePlayer.posY - 1.0 D, this.mc.thePlayer.posZ);\r\n    if (this.mc.theWorld.getBlockState(BlockPos).getBlock() == Blocks.air) {\r\n        this.mc.gameSettings.keyBindSneak.pressed = true;\r\n    } else if (this.mc.theWorld.getBlockState(BlockPos).getBlock() == Blocks.air) {}\r\n\r\n}\r\n```\r\n\r\n\r\nI&#39;m trying to make the player sneak and not sneaking in specific events ","title":"how to make keybind press and not pressed","body":"<p>Hi I'm a beginner at java I'm having this error idk how to solve it</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (item.getItem() instanceof net.minecraft.item.ItemBlock) {\n    mc.gameSettings.keyBindSneak.pressed = false;\n    BlockPos BlockPos = new BlockPos(this.mc.thePlayer.posX, this.mc.thePlayer.posY - 1.0 D, this.mc.thePlayer.posZ);\n    if (this.mc.theWorld.getBlockState(BlockPos).getBlock() == Blocks.air) {\n        this.mc.gameSettings.keyBindSneak.pressed = true;\n    } else if (this.mc.theWorld.getBlockState(BlockPos).getBlock() == Blocks.air) {}\n\n}\n</code></pre>\n<p>I'm trying to make the player sneak and not sneaking in specific events</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1621171507,"post_id":67557164,"comment_id":119409146,"body_markdown":"It feels like you have some sort of proxy server or something at `161.158.114.70`, and that proxy server is misbehaving.","body":"It feels like you have some sort of proxy server or something at <code>161.158.114.70</code>, and that proxy server is misbehaving."}],"answers":[{"tags":[],"owner":{"account_id":17755589,"reputation":504,"user_id":12892761,"display_name":"RuhrpottDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621175838,"creation_date":1621175838,"answer_id":67557907,"question_id":67557164,"body_markdown":"`jcenter()` is deprecated since end of march as you can see [here][1].\r\n\r\nReplace `jcenter()` with `mavenCentral()`.\r\n\r\n  [1]: https://developer.android.com/studio/build/jcenter-migration","title":"First android studio project not building","body":"<p><code>jcenter()</code> is deprecated since end of march as you can see <a href=\"https://developer.android.com/studio/build/jcenter-migration\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Replace <code>jcenter()</code> with <code>mavenCentral()</code>.</p>\n"}],"owner":{"account_id":21616195,"reputation":1,"user_id":15941971,"display_name":"Anthony Eghwrudje"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667297962,"creation_date":1621171205,"question_id":67557164,"body_markdown":"Good day, I wanted to learn android development so I downloaded android studio. After downloading and installing all the sdk I get an error while the opening build starts.\r\n\r\n    A problem occurred configuring root project &#39;My Application&#39;.\r\n&gt; Could not resolve all artifacts for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:4.1.0.\r\n     Required by:\r\n         project :\r\n      &gt; Could not resolve com.android.tools.build:gradle:4.1.0.\r\n         &gt; Could not get resource &#39;https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom&#39;.\r\n            &gt; Could not GET &#39;https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom&#39;.\r\n               &gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\r\n      &gt; Could not resolve com.android.tools.build:gradle:4.1.0.\r\n         &gt; Could not get resource &#39;https://jcenter.bintray.com/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom&#39;.\r\n            &gt; Could not GET &#39;https://jcenter.bintray.com/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom&#39;.\r\n               &gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\r\n   &gt; Could not resolve com.google.gms:google-services:4.3.5.\r\n     Required by:\r\n         project :\r\n      &gt; Could not resolve com.google.gms:google-services:4.3.5.\r\n         &gt; Could not get resource &#39;https://dl.google.com/dl/android/maven2/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom&#39;.\r\n            &gt; Could not GET &#39;https://dl.google.com/dl/android/maven2/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom&#39;.\r\n               &gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\r\n      &gt; Could not resolve com.google.gms:google-services:4.3.5.\r\n         &gt; Could not get resource &#39;https://jcenter.bintray.com/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom&#39;.\r\n            &gt; Could not GET &#39;https://jcenter.bintray.com/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom&#39;.\r\n               &gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\r\n\r\n\r\nThis is the error I get and I have seen similar issues like this here and tried their solution but it does not seem to work for me. Please I need help\r\n```java\r\nbuildscript {\r\nrepositories {\r\n    google()\r\n    jcenter()\r\n}\r\ndependencies {\r\n    classpath &quot;com.android.tools.build:gradle:4.1.0&quot;\r\n    classpath &#39;com.google.gms:google-services:4.3.5&#39;\r\n\r\n    // NOTE: Do not place your application dependencies here; they belong\r\n    // in the individual module build.gradle files\r\n  }\r\n}\r\n```\r\n","title":"First android studio project not building","body":"<p>Good day, I wanted to learn android development so I downloaded android studio. After downloading and installing all the sdk I get an error while the opening build starts.</p>\n<pre><code>A problem occurred configuring root project 'My Application'.\n</code></pre>\n<blockquote>\n<p>Could not resolve all artifacts for configuration ':classpath'.\nCould not resolve com.android.tools.build:gradle:4.1.0.\nRequired by:\nproject :\n&gt; Could not resolve com.android.tools.build:gradle:4.1.0.\n&gt; Could not get resource 'https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom'.\n&gt; Could not GET 'https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom'.\n&gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\n&gt; Could not resolve com.android.tools.build:gradle:4.1.0.\n&gt; Could not get resource 'https://jcenter.bintray.com/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom'.\n&gt; Could not GET 'https://jcenter.bintray.com/com/android/tools/build/gradle/4.1.0/gradle-4.1.0.pom'.\n&gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\nCould not resolve com.google.gms:google-services:4.3.5.\nRequired by:\nproject :\n&gt; Could not resolve com.google.gms:google-services:4.3.5.\n&gt; Could not get resource 'https://dl.google.com/dl/android/maven2/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom'.\n&gt; Could not GET 'https://dl.google.com/dl/android/maven2/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom'.\n&gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect\n&gt; Could not resolve com.google.gms:google-services:4.3.5.\n&gt; Could not get resource 'https://jcenter.bintray.com/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom'.\n&gt; Could not GET 'https://jcenter.bintray.com/com/google/gms/google-services/4.3.5/google-services-4.3.5.pom'.\n&gt; Connect to 161.158.114.70:8090 [/161.158.114.70] failed: Connection timed out: connect</p>\n</blockquote>\n<p>This is the error I get and I have seen similar issues like this here and tried their solution but it does not seem to work for me. Please I need help</p>\n<pre class=\"lang-java prettyprint-override\"><code>buildscript {\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath &quot;com.android.tools.build:gradle:4.1.0&quot;\n    classpath 'com.google.gms:google-services:4.3.5'\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-aop","spring-annotations"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1666055664,"post_id":74103959,"comment_id":130839833,"body_markdown":"Please don&#39;t use images of text.","body":"Please don&#39;t use images of text."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1667296130,"post_id":74103959,"comment_id":131129490,"body_markdown":"@R.G, the answer you linked to is completely unrelated to this question.","body":"@R.G, the answer you linked to is completely unrelated to this question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667298338,"post_id":74103959,"comment_id":131130160,"body_markdown":"Don&#39;t use an aspect, either use a filte which logs always, or if you really want to have it annotation driven, use an `HandlerInterceptor` and implement the `preHandle` method, check for annotation, if available, log what you need (you now always have the request). If you really want the aspect you can also use the `RequestContextHolder` to obtain the request instead of from the method.","body":"Don&#39;t use an aspect, either use a filte which logs always, or if you really want to have it annotation driven, use an <code>HandlerInterceptor</code> and implement the <code>preHandle</code> method, check for annotation, if available, log what you need (you now always have the request). If you really want the aspect you can also use the <code>RequestContextHolder</code> to obtain the request instead of from the method."},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1667385376,"post_id":74103959,"comment_id":131153015,"body_markdown":"@kriegaex , thanks for pointing out and deleted the same. Apparently I understood the question completely wrong.","body":"@kriegaex , thanks for pointing out and deleted the same. Apparently I understood the question completely wrong."},{"owner":{"account_id":26653555,"reputation":1,"user_id":20267470,"display_name":"martin"},"score":0,"creation_date":1667774379,"post_id":74103959,"comment_id":131241511,"body_markdown":"@m.deinum can you explain why is it bad to use an aspect for this purpose? is it performance? thanks","body":"@m.deinum can you explain why is it bad to use an aspect for this purpose? is it performance? thanks"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667801466,"post_id":74103959,"comment_id":131245235,"body_markdown":"Because the way you have written it now it is putting a requirement on the implementor of the controller method and thus needs to know the aspect (which kind of beats the purpose of an aspect). AOP on controllers can lead to surpsising issue with annotations not being found by the MVC infrastructure. Doing AOP with controllers is generally better suited in either a `Filter` or an `HandlerInterceptor` depending the need.","body":"Because the way you have written it now it is putting a requirement on the implementor of the controller method and thus needs to know the aspect (which kind of beats the purpose of an aspect). AOP on controllers can lead to surpsising issue with annotations not being found by the MVC infrastructure. Doing AOP with controllers is generally better suited in either a <code>Filter</code> or an <code>HandlerInterceptor</code> depending the need."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1667805750,"post_id":74103959,"comment_id":131246237,"body_markdown":"Either way, my answer shows how to print something if the `HttpServletRequest` is **not** found, simply by using `ifPresentOrElse` in your stream operation. That should solve the original problem. I would appreciate a reaction, because I wrote the answer for you, not just for myself.","body":"Either way, my answer shows how to print something if the <code>HttpServletRequest</code> is <b>not</b> found, simply by using <code>ifPresentOrElse</code> in your stream operation. That should solve the original problem. I would appreciate a reaction, because I wrote the answer for you, not just for myself."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667297888,"creation_date":1667297888,"answer_id":74274419,"question_id":74103959,"body_markdown":"```java\r\nimport java.util.Arrays;\r\n\r\nclass Scratch {\r\n  public static void main(String[] args) {\r\n    int[] numbers = new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\r\n    Arrays.stream(numbers)\r\n      .filter(number -&gt; number % 2 == 0)\r\n      .findFirst()\r\n      .ifPresent(System.out::println);\r\n    Arrays.stream(numbers)\r\n      .filter(number -&gt; number % 2 == 11)\r\n      .findFirst()\r\n      .ifPresentOrElse(System.out::println, () -&gt; System.err.println(&quot;oops&quot;));\r\n  }\r\n}\r\n```\r\n\r\nThis will log &quot;2&quot; on stdOut and then &quot;oops&quot; on stdErr. Just adapt it to your situation.","title":"How to throw an error/warning when annotated method doesn&#39;t have a certain parameter","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\nclass Scratch {\n  public static void main(String[] args) {\n    int[] numbers = new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9 };\n    Arrays.stream(numbers)\n      .filter(number -&gt; number % 2 == 0)\n      .findFirst()\n      .ifPresent(System.out::println);\n    Arrays.stream(numbers)\n      .filter(number -&gt; number % 2 == 11)\n      .findFirst()\n      .ifPresentOrElse(System.out::println, () -&gt; System.err.println(&quot;oops&quot;));\n  }\n}\n</code></pre>\n<p>This will log &quot;2&quot; on stdOut and then &quot;oops&quot; on stdErr. Just adapt it to your situation.</p>\n"}],"owner":{"account_id":26653555,"reputation":1,"user_id":20267470,"display_name":"martin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667297888,"creation_date":1666046212,"question_id":74103959,"body_markdown":"I&#39;ve created a custom annotation to log some info when a controller method annotated with it is called. For this, I created a logging aspect class with a method that executes a @before aspect.\r\n  \r\nThe thing is, the aspect method that I wrote relies on that the controller method has a parameter of type HttpServletRequest which has the necessary info that i need to log. \r\n\r\nI&#39;d like to know if there is any way to throw a warning when some method with my annotation doesn&#39;t have the required parameter.\r\n\r\nMy custom annotation:\r\n\r\n  ![](https://i.stack.imgur.com/Sf24U.png)\r\n\r\nController:\r\n\r\n  ![](https://i.stack.imgur.com/3zkqz.png)","title":"How to throw an error/warning when annotated method doesn&#39;t have a certain parameter","body":"<p>I've created a custom annotation to log some info when a controller method annotated with it is called. For this, I created a logging aspect class with a method that executes a @before aspect.</p>\n<p>The thing is, the aspect method that I wrote relies on that the controller method has a parameter of type HttpServletRequest which has the necessary info that i need to log.</p>\n<p>I'd like to know if there is any way to throw a warning when some method with my annotation doesn't have the required parameter.</p>\n<p>My custom annotation:</p>\n<p><img src=\"https://i.stack.imgur.com/Sf24U.png\" alt=\"\" /></p>\n<p>Controller:</p>\n<p><img src=\"https://i.stack.imgur.com/3zkqz.png\" alt=\"\" /></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667299982,"post_id":74274320,"comment_id":131130677,"body_markdown":"Why are you interested in that api particularly?","body":"Why are you interested in that api particularly?"},{"owner":{"account_id":12163361,"reputation":160,"user_id":8880333,"display_name":"Developer"},"score":0,"creation_date":1668539041,"post_id":74274320,"comment_id":131428693,"body_markdown":"To get the work done.","body":"To get the work done."}],"owner":{"account_id":12163361,"reputation":160,"user_id":8880333,"display_name":"Developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667297424,"creation_date":1667297424,"question_id":74274320,"body_markdown":"Can we create multiple file based on column value using super-csv.\r\n\r\nFor example this is my csv file:\r\n\r\n    Name,age,city\r\n    TestA,18,Mumbai\r\n    TestB, 60, Chennai\r\n    TestC,17,Mumbai\r\n\r\nHere I need to create 2 CSV file on is based on Mumbai and other Chennai.\r\nCan we do that using super-csv i checked \r\nhttps://super-csv.github.io/super-csv/writers.html\r\nBut no luck.\r\n\r\nThanks in advance.\r\n","title":"Creating multiple CSV file using Super CSV","body":"<p>Can we create multiple file based on column value using super-csv.</p>\n<p>For example this is my csv file:</p>\n<pre><code>Name,age,city\nTestA,18,Mumbai\nTestB, 60, Chennai\nTestC,17,Mumbai\n</code></pre>\n<p>Here I need to create 2 CSV file on is based on Mumbai and other Chennai.\nCan we do that using super-csv i checked\n<a href=\"https://super-csv.github.io/super-csv/writers.html\" rel=\"nofollow noreferrer\">https://super-csv.github.io/super-csv/writers.html</a>\nBut no luck.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668084739,"post_id":74268757,"comment_id":131324081,"body_markdown":"Side note: if it has a `close()` method, you most probably want it to extend [`AutoCloseable`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html) to support [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)","body":"Side note: if it has a <code>close()</code> method, you most probably want it to extend <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> to support <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>"}],"answers":[{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667249484,"creation_date":1667249484,"answer_id":74268997,"question_id":74268757,"body_markdown":"From your question, I see that you have `Dto1` and `Dto2`. Prefixes `Csv` and `Exl` are part of implementation and should not be part of definition. You would need one interface called:\r\n```\r\ninterface FileReadable {\r\n  void open();\r\n  List&lt;Dto1&gt; get1()\r\n  List&lt;Dto2&gt; get2()\r\n  void close();\r\n}\r\n```\r\nAnd then your clients will not be aware or care if it comes from `Exl` or `Csv`. They will just use `Dto1` or `Dto2`. If you really need to know the origin, you can create property in `Dto` class that can have values like `EXCEL`, `CSV`.","title":"Design pattern for file reader?","body":"<p>From your question, I see that you have <code>Dto1</code> and <code>Dto2</code>. Prefixes <code>Csv</code> and <code>Exl</code> are part of implementation and should not be part of definition. You would need one interface called:</p>\n<pre><code>interface FileReadable {\n  void open();\n  List&lt;Dto1&gt; get1()\n  List&lt;Dto2&gt; get2()\n  void close();\n}\n</code></pre>\n<p>And then your clients will not be aware or care if it comes from <code>Exl</code> or <code>Csv</code>. They will just use <code>Dto1</code> or <code>Dto2</code>. If you really need to know the origin, you can create property in <code>Dto</code> class that can have values like <code>EXCEL</code>, <code>CSV</code>.</p>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667288266,"creation_date":1667288266,"answer_id":74272823,"question_id":74268757,"body_markdown":"You can also use generic interface:\r\n\r\n    interface FileReadable&lt;T&gt; {\r\n      void open();\r\n      List&lt;CsvDto1&gt; get1();\r\n      List&lt;CsvDto2&gt; get2();\r\n      void close();\r\n    }\r\n\r\nAnd just implement this interface in appropriate classes.\r\n\r\n[Read more about generic interface here in this nice post.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1623480/generic-interface","title":"Design pattern for file reader?","body":"<p>You can also use generic interface:</p>\n<pre><code>interface FileReadable&lt;T&gt; {\n  void open();\n  List&lt;CsvDto1&gt; get1();\n  List&lt;CsvDto2&gt; get2();\n  void close();\n}\n</code></pre>\n<p>And just implement this interface in appropriate classes.</p>\n<p><a href=\"https://stackoverflow.com/questions/1623480/generic-interface\">Read more about generic interface here in this nice post.</a></p>\n"},{"tags":[],"owner":{"account_id":23963297,"reputation":56,"user_id":17953108,"display_name":"刷题养家"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667297403,"creation_date":1667297403,"answer_id":74274315,"question_id":74268757,"body_markdown":"Strategy pattern is the best.\r\n\r\ni usually write like this:\r\n\r\n    public interface FileReadable {\r\n        String getFileType();\r\n        void open();\r\n        Reader read();\r\n        void close();\r\n    }\r\n    \r\n    @Service\r\n    public class Csv1File implements FileReadable{\r\n        @Override\r\n        public String getFileType() {\r\n            return &quot;csv1&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public void open() {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public Reader read() {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void close() {\r\n    \r\n        }\r\n    }\r\n\r\n\r\nuse like this\r\n\r\n        @Resource\r\n        List&lt;FileReadable&gt; fileReadable;\r\n    \r\n        String file = &quot;csv1&quot;;\r\n            Optional&lt;FileReadable&gt; first = fileReadable.stream().filter(read -&gt; Objects.equals(file, read.getFileType())).findFirst();\r\n            if (first.isPresent()) {\r\n                first.get().read();\r\n            }\r\n\r\n\r\nyou can also create like Csv2File.class Excel1File.class and use `getFileType()` to mark this class is support which kind of file. \r\n\r\n\r\n  ","title":"Design pattern for file reader?","body":"<p>Strategy pattern is the best.</p>\n<p>i usually write like this:</p>\n<pre><code>public interface FileReadable {\n    String getFileType();\n    void open();\n    Reader read();\n    void close();\n}\n\n@Service\npublic class Csv1File implements FileReadable{\n    @Override\n    public String getFileType() {\n        return &quot;csv1&quot;;\n    }\n\n    @Override\n    public void open() {\n\n    }\n\n    @Override\n    public Reader read() {\n        return null;\n    }\n\n    @Override\n    public void close() {\n\n    }\n}\n</code></pre>\n<p>use like this</p>\n<pre><code>    @Resource\n    List&lt;FileReadable&gt; fileReadable;\n\n    String file = &quot;csv1&quot;;\n        Optional&lt;FileReadable&gt; first = fileReadable.stream().filter(read -&gt; Objects.equals(file, read.getFileType())).findFirst();\n        if (first.isPresent()) {\n            first.get().read();\n        }\n</code></pre>\n<p>you can also create like Csv2File.class Excel1File.class and use <code>getFileType()</code> to mark this class is support which kind of file.</p>\n"}],"owner":{"account_id":22355741,"reputation":115,"user_id":16573073,"display_name":"Hola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1667297403,"creation_date":1667247813,"question_id":74268757,"body_markdown":"I am creating a module that reads CSV and Excel files using Apache POI and Opencsv.\r\n\r\nFor reading CSV files, I am creating 1 class and 2 methods:\r\n\r\n    class CsvReader {\r\n      void open() {//implementation}\r\n      List&lt;CsvDto1&gt; get1() {//implementation}\r\n      List&lt;CsvDto2&gt; get2() {//implementation}\r\n      void close() {//implementation}\r\n    }\r\n\r\nFor reading Excel files, I am also creating 1 class and 2 methods:\r\n\r\n    class ExcelReader {\r\n      void open() {//implementation}\r\n      List&lt;ExlDto1&gt; get3() {//implementation}\r\n      List&lt;ExlDto2&gt; get4() {//implementation}\r\n      void close() {//implementation}\r\n    }\r\n\r\nAll I want is to implement a pattern that will be helped maintainable in the future. So I created an interface called `FileReadable`:\r\n\r\n    interface FileReadable {\r\n      void open();\r\n      List&lt;CsvDto1&gt; get1()\r\n      List&lt;CsvDto2&gt; get2()\r\n      List&lt;ExlDto1&gt; get3()\r\n      List&lt;ExlDto2&gt; get4()\r\n      void close();\r\n    }\r\nthen `CsvReader` and `ExcelReader` will be implemented from `FileRedable`. The issue is `get1()` and `get2()` exist in `CsvReader` but they do not exist in `ExcelReader`, `get3()` and `get4()` exist in `ExcelReader` but they do not exist in `CsvReader`. How do I create a common `read` method for both classes or do we have any design pattern for this case?\r\n\r\n       interface FileReadable {\r\n          void open();\r\n          Reader read();\r\n          void close();\r\n       }\r\n","title":"Design pattern for file reader?","body":"<p>I am creating a module that reads CSV and Excel files using Apache POI and Opencsv.</p>\n<p>For reading CSV files, I am creating 1 class and 2 methods:</p>\n<pre><code>class CsvReader {\n  void open() {//implementation}\n  List&lt;CsvDto1&gt; get1() {//implementation}\n  List&lt;CsvDto2&gt; get2() {//implementation}\n  void close() {//implementation}\n}\n</code></pre>\n<p>For reading Excel files, I am also creating 1 class and 2 methods:</p>\n<pre><code>class ExcelReader {\n  void open() {//implementation}\n  List&lt;ExlDto1&gt; get3() {//implementation}\n  List&lt;ExlDto2&gt; get4() {//implementation}\n  void close() {//implementation}\n}\n</code></pre>\n<p>All I want is to implement a pattern that will be helped maintainable in the future. So I created an interface called <code>FileReadable</code>:</p>\n<pre><code>interface FileReadable {\n  void open();\n  List&lt;CsvDto1&gt; get1()\n  List&lt;CsvDto2&gt; get2()\n  List&lt;ExlDto1&gt; get3()\n  List&lt;ExlDto2&gt; get4()\n  void close();\n}\n</code></pre>\n<p>then <code>CsvReader</code> and <code>ExcelReader</code> will be implemented from <code>FileRedable</code>. The issue is <code>get1()</code> and <code>get2()</code> exist in <code>CsvReader</code> but they do not exist in <code>ExcelReader</code>, <code>get3()</code> and <code>get4()</code> exist in <code>ExcelReader</code> but they do not exist in <code>CsvReader</code>. How do I create a common <code>read</code> method for both classes or do we have any design pattern for this case?</p>\n<pre><code>   interface FileReadable {\n      void open();\n      Reader read();\n      void close();\n   }\n</code></pre>\n"},{"tags":["java","swing","textfield","jformattedtextfield","maskformatter"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1667296842,"post_id":74273434,"comment_id":131129685,"body_markdown":"Note: null layout is __wrong__","body":"Note: null layout is <b>wrong</b>"}],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667296993,"creation_date":1667296386,"answer_id":74274122,"question_id":74273434,"body_markdown":"you are correct. The formatter is adding spaces to the empty characters. you can remove all spaces and check the length.\r\n\r\n    String s = ftf1.getText();\r\n    s = s.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n    System.out.print(s.length());\r\n\r\n\r\nThe expected length after removing spaces is 12 (10 numbers+2 brackets). You can validate if  **s.length() &lt; 12**\r\n\r\nOr you can,\r\n\r\n    s =s.replaceAll(&quot;[^0-9]+&quot;, &quot;&quot;);\r\n\r\nonly keep numbers and validate if length &lt; 10","title":"How to find the length of a JFormattedTextField","body":"<p>you are correct. The formatter is adding spaces to the empty characters. you can remove all spaces and check the length.</p>\n<pre><code>String s = ftf1.getText();\ns = s.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\nSystem.out.print(s.length());\n</code></pre>\n<p>The expected length after removing spaces is 12 (10 numbers+2 brackets). You can validate if  <strong>s.length() &lt; 12</strong></p>\n<p>Or you can,</p>\n<pre><code>s =s.replaceAll(&quot;[^0-9]+&quot;, &quot;&quot;);\n</code></pre>\n<p>only keep numbers and validate if length &lt; 10</p>\n"}],"owner":{"account_id":26793002,"reputation":1,"user_id":20386134,"display_name":"therealslyvegas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667296993,"creation_date":1667292347,"question_id":74273434,"body_markdown":"I&#39;m trying to verify that a user has entered the correct number of integers in the phonebook to complete the contact and if not then I would issue an error message like I do when a name is not entered. Problem I run into is that the field has been formatted with a maskformatter and I believe thats why no matter what I enter variable ftf1 returns 14 as the number of characters. Is there any easy way to check if all 10 numbers have indeed been entered?\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.event.DocumentEvent;\r\nimport javax.swing.event.DocumentListener;\r\nimport javax.swing.text.MaskFormatter;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.beans.PropertyChangeListener;\r\nimport java.text.ParseException;\r\n\r\n\r\npublic class PhoneBook implements ActionListener {\r\n    JFrame frame;\r\n\r\n    JTextField textField, textField1;\r\n\r\n    JButton createButton, deleteButton;\r\n\r\n    JPanel panel;\r\n\r\n    Font pbFont = new Font(&quot;PB&quot;, Font.BOLD, 15);\r\n\r\n    JLabel label, label1, label2;\r\n\r\n    JFormattedTextField ftf1;\r\n    MaskFormatter format1;\r\n\r\n    JTextArea message;\r\n\r\n    char operation;\r\n\r\n    PhoneBook() throws ParseException {\r\n        frame = new JFrame(&quot;Phone Book&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(400, 300);\r\n        frame.setLayout(null);\r\n        frame.setResizable(false);\r\n\r\n        label = new JLabel();\r\n        label.setBounds(150,-35,100,100);\r\n        label.setText(&quot;Contact&quot;);\r\n        label.setFont(pbFont);\r\n\r\n        label1 = new JLabel();\r\n        label1.setBounds(30, 10,100,50);\r\n        label1.setText(&quot;Name:&quot;);\r\n        label1.setFont(pbFont);\r\n\r\n        label2 = new JLabel();\r\n        label2.setBounds(30, 60,100,50);\r\n        label2.setText(&quot;Phone:&quot;);\r\n        label2.setFont(pbFont);\r\n\r\n        textField = new JTextField();\r\n        textField.setBounds(80,25,200,21);\r\n        textField.setFont(pbFont);\r\n        textField.setEditable(true);\r\n\r\n        format1 = new MaskFormatter(&quot;(###) ###-####&quot;);\r\n        ftf1 = new JFormattedTextField(format1);\r\n        ftf1.setBounds(80,75,200,21);\r\n        ftf1.setFont(pbFont);\r\n        ftf1.setEditable(true);\r\n\r\n        message = new JTextArea(10,10);\r\n        message.setFont(pbFont);\r\n        message.setBounds(25,210,200,50);\r\n\r\n\r\n        /* textField1 = new JTextField();\r\n        textField1.setBounds(80,75,200,21);\r\n        textField1.setFont(pbFont);\r\n        textField1.setEditable(true); */\r\n\r\n        panel = new JPanel();\r\n        panel.setBounds(25,110,255,50);\r\n        panel.setLayout(new GridLayout(1,2,125,20));\r\n        ///panel.setBackground(Color.BLUE);\r\n\r\n        createButton = new JButton(&quot;+&quot;);\r\n        deleteButton = new JButton(&quot;-&quot;);\r\n\r\n        createButton.addActionListener(this);\r\n        createButton.setFont(pbFont);\r\n        createButton.setFocusable(false);\r\n        createButton.setOpaque(true);\r\n        createButton.setForeground(Color.GREEN);\r\n\r\n\r\n        deleteButton.addActionListener(this);\r\n        deleteButton.setFont(pbFont);\r\n        deleteButton.setFocusable(false);\r\n        deleteButton.setOpaque(true);\r\n        deleteButton.setForeground(Color.red);\r\n\r\n\r\n        panel.add(createButton);\r\n        panel.add(deleteButton);\r\n\r\n\r\n\r\n\r\n        frame.add(panel);\r\n        frame.add(textField);\r\n        //frame.add(textField1);\r\n        frame.add(ftf1);\r\n        frame.add(label);\r\n        frame.add(label1);\r\n        frame.add(label2);\r\n        frame.add(message);\r\n        frame.setVisible(true);\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) throws ParseException {\r\n        PhoneBook directory = new PhoneBook();\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        TreeMap&lt;String, String&gt; contacts =\r\n                new TreeMap&lt;String, String&gt;();\r\n\r\n        boolean x = false;\r\n\r\n        String s = ftf1.getText();\r\n        System.out.print(s.length());\r\n\r\n\r\n\r\n        if(e.getSource() == createButton) {\r\n            if(textField.getText().isEmpty()) {\r\n                JOptionPane.showMessageDialog(frame, &quot;Enter Name &amp; Phone Number.&quot;,&quot;Contact Creation&quot;, JOptionPane.ERROR_MESSAGE);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to find the length of a JFormattedTextField","body":"<p>I'm trying to verify that a user has entered the correct number of integers in the phonebook to complete the contact and if not then I would issue an error message like I do when a name is not entered. Problem I run into is that the field has been formatted with a maskformatter and I believe thats why no matter what I enter variable ftf1 returns 14 as the number of characters. Is there any easy way to check if all 10 numbers have indeed been entered?</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\nimport javax.swing.text.MaskFormatter;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.beans.PropertyChangeListener;\nimport java.text.ParseException;\n\n\npublic class PhoneBook implements ActionListener {\n    JFrame frame;\n\n    JTextField textField, textField1;\n\n    JButton createButton, deleteButton;\n\n    JPanel panel;\n\n    Font pbFont = new Font(&quot;PB&quot;, Font.BOLD, 15);\n\n    JLabel label, label1, label2;\n\n    JFormattedTextField ftf1;\n    MaskFormatter format1;\n\n    JTextArea message;\n\n    char operation;\n\n    PhoneBook() throws ParseException {\n        frame = new JFrame(&quot;Phone Book&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400, 300);\n        frame.setLayout(null);\n        frame.setResizable(false);\n\n        label = new JLabel();\n        label.setBounds(150,-35,100,100);\n        label.setText(&quot;Contact&quot;);\n        label.setFont(pbFont);\n\n        label1 = new JLabel();\n        label1.setBounds(30, 10,100,50);\n        label1.setText(&quot;Name:&quot;);\n        label1.setFont(pbFont);\n\n        label2 = new JLabel();\n        label2.setBounds(30, 60,100,50);\n        label2.setText(&quot;Phone:&quot;);\n        label2.setFont(pbFont);\n\n        textField = new JTextField();\n        textField.setBounds(80,25,200,21);\n        textField.setFont(pbFont);\n        textField.setEditable(true);\n\n        format1 = new MaskFormatter(&quot;(###) ###-####&quot;);\n        ftf1 = new JFormattedTextField(format1);\n        ftf1.setBounds(80,75,200,21);\n        ftf1.setFont(pbFont);\n        ftf1.setEditable(true);\n\n        message = new JTextArea(10,10);\n        message.setFont(pbFont);\n        message.setBounds(25,210,200,50);\n\n\n        /* textField1 = new JTextField();\n        textField1.setBounds(80,75,200,21);\n        textField1.setFont(pbFont);\n        textField1.setEditable(true); */\n\n        panel = new JPanel();\n        panel.setBounds(25,110,255,50);\n        panel.setLayout(new GridLayout(1,2,125,20));\n        ///panel.setBackground(Color.BLUE);\n\n        createButton = new JButton(&quot;+&quot;);\n        deleteButton = new JButton(&quot;-&quot;);\n\n        createButton.addActionListener(this);\n        createButton.setFont(pbFont);\n        createButton.setFocusable(false);\n        createButton.setOpaque(true);\n        createButton.setForeground(Color.GREEN);\n\n\n        deleteButton.addActionListener(this);\n        deleteButton.setFont(pbFont);\n        deleteButton.setFocusable(false);\n        deleteButton.setOpaque(true);\n        deleteButton.setForeground(Color.red);\n\n\n        panel.add(createButton);\n        panel.add(deleteButton);\n\n\n\n\n        frame.add(panel);\n        frame.add(textField);\n        //frame.add(textField1);\n        frame.add(ftf1);\n        frame.add(label);\n        frame.add(label1);\n        frame.add(label2);\n        frame.add(message);\n        frame.setVisible(true);\n\n\n\n\n    }\n\n\n\n\n    public static void main(String[] args) throws ParseException {\n        PhoneBook directory = new PhoneBook();\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        TreeMap&lt;String, String&gt; contacts =\n                new TreeMap&lt;String, String&gt;();\n\n        boolean x = false;\n\n        String s = ftf1.getText();\n        System.out.print(s.length());\n\n\n\n        if(e.getSource() == createButton) {\n            if(textField.getText().isEmpty()) {\n                JOptionPane.showMessageDialog(frame, &quot;Enter Name &amp; Phone Number.&quot;,&quot;Contact Creation&quot;, JOptionPane.ERROR_MESSAGE);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","jdbi","jdbi3","jdbi3-core"],"comments":[{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":0,"creation_date":1624264764,"post_id":68064837,"comment_id":120301267,"body_markdown":"Why don&#39;t you stick to the [offical docs](https://jdbi.org/#_fluent_api)?","body":"Why don&#39;t you stick to the <a href=\"https://jdbi.org/#_fluent_api\" rel=\"nofollow noreferrer\">offical docs</a>?"},{"owner":{"account_id":21316749,"reputation":111,"user_id":15690479,"display_name":"Igor Vinicius"},"score":0,"creation_date":1624267468,"post_id":68064837,"comment_id":120302322,"body_markdown":"I understood your answer and read it several times, it doesn&#39;t show how to implement my question on a specific mapping like this, and the examples there are not clear, especially for someone starting out, but anyway, I&#39;m testing a lot of things that I see there, if I solve this issue alone, I&#39;ll answer this post to help other people, anyway, thanks for your comment","body":"I understood your answer and read it several times, it doesn&#39;t show how to implement my question on a specific mapping like this, and the examples there are not clear, especially for someone starting out, but anyway, I&#39;m testing a lot of things that I see there, if I solve this issue alone, I&#39;ll answer this post to help other people, anyway, thanks for your comment"}],"answers":[{"tags":[],"owner":{"account_id":21316749,"reputation":111,"user_id":15690479,"display_name":"Igor Vinicius"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624268285,"creation_date":1624268285,"answer_id":68065654,"question_id":68064837,"body_markdown":"I fix this creating this class\r\n\r\n    public class CustomerMapper implements RowMapper&lt;Customer&gt;{\r\n\r\n\t  @Override\r\n\t  public Customer map(ResultSet rs, StatementContext ctx) throws SQLException {\r\n\t\treturn new Customer(rs.getInt(&quot;id&quot;), rs.getString(&quot;uuid&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;email&quot;), rs.getString(&quot;birthDate&quot;), rs.getString(&quot;cpf&quot;), rs.getString(&quot;gender&quot;), rs.getDate(&quot;createdAt&quot;), rs.getDate(&quot;updateAt&quot;));\r\n      }\r\n    }\r\nand where was `.mapTo(Customer.class).list();` i put `.map(new CustomerMapper()).list();` referencing the map I created ","title":"JDBI erro No mapper registered for type","body":"<p>I fix this creating this class</p>\n<pre><code>public class CustomerMapper implements RowMapper&lt;Customer&gt;{\n\n  @Override\n  public Customer map(ResultSet rs, StatementContext ctx) throws SQLException {\n    return new Customer(rs.getInt(&quot;id&quot;), rs.getString(&quot;uuid&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;email&quot;), rs.getString(&quot;birthDate&quot;), rs.getString(&quot;cpf&quot;), rs.getString(&quot;gender&quot;), rs.getDate(&quot;createdAt&quot;), rs.getDate(&quot;updateAt&quot;));\n  }\n}\n</code></pre>\n<p>and where was <code>.mapTo(Customer.class).list();</code> i put <code>.map(new CustomerMapper()).list();</code> referencing the map I created</p>\n"},{"tags":[],"owner":{"account_id":2047736,"reputation":2932,"user_id":1827453,"accept_rate":69,"display_name":"Panu Haaramo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667296908,"creation_date":1667296908,"answer_id":74274215,"question_id":68064837,"body_markdown":"For me this usually happens when running tests with IntelliJ. Everything works fine when running the same tests with Maven.","title":"JDBI erro No mapper registered for type","body":"<p>For me this usually happens when running tests with IntelliJ. Everything works fine when running the same tests with Maven.</p>\n"}],"owner":{"account_id":21316749,"reputation":111,"user_id":15690479,"display_name":"Igor Vinicius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2312,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68065654,"answer_count":2,"score":2,"last_activity_date":1667296908,"creation_date":1624264509,"question_id":68064837,"body_markdown":"I&#39;m trying to create a method that return all users from customer table in my database but this code:\r\n\r\n    \ttry {\r\n\t\t\tList&lt;Customer&gt; customer = jdbi.open().createQuery(&quot;SELECT * FROM customer&quot;)\r\n\t\t\t.mapTo(Customer.class).list();\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\nreturn error:\r\n\r\n    org.jdbi.v3.core.mapper.NoSuchMapperException: No mapper registered for type com.customer.Customer\r\n\r\ni saw another post of this error and they say that this error happened because of the mapping between the class model and the database table, but my app is built in pure java and JDBI 3 I&#39;m not using Spring so how map the result of this code for convert this result in a List of Customer?","title":"JDBI erro No mapper registered for type","body":"<p>I'm trying to create a method that return all users from customer table in my database but this code:</p>\n<pre><code>    try {\n        List&lt;Customer&gt; customer = jdbi.open().createQuery(&quot;SELECT * FROM customer&quot;)\n        .mapTo(Customer.class).list();\n    } catch (Exception e) {\n        System.out.println(e);\n    }\n</code></pre>\n<p>return error:</p>\n<pre><code>org.jdbi.v3.core.mapper.NoSuchMapperException: No mapper registered for type com.customer.Customer\n</code></pre>\n<p>i saw another post of this error and they say that this error happened because of the mapping between the class model and the database table, but my app is built in pure java and JDBI 3 I'm not using Spring so how map the result of this code for convert this result in a List of Customer?</p>\n"},{"tags":["java","oauth","ms-office","exchangewebservices"],"answers":[{"tags":[],"owner":{"account_id":4015817,"reputation":17284,"user_id":3307985,"display_name":"Jason Johnston"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1423578936,"creation_date":1423578936,"answer_id":28434307,"question_id":28424550,"body_markdown":"It is possible. You have to register your app in the same way as you do for REST, but you need to specify the special EWS permission &quot;Have full access via EWS to users&#39; mailboxes&quot;. You&#39;ll need to do the OAuth flow to retrieve the access token, then include that in the Authorization header in your EWS requests. I don&#39;t have a Java sample for you, but those are the basic steps required.","title":"EWS java apis using Oauth2","body":"<p>It is possible. You have to register your app in the same way as you do for REST, but you need to specify the special EWS permission \"Have full access via EWS to users' mailboxes\". You'll need to do the OAuth flow to retrieve the access token, then include that in the Authorization header in your EWS requests. I don't have a Java sample for you, but those are the basic steps required.</p>\n"},{"tags":[],"owner":{"account_id":7019078,"reputation":91,"user_id":5379273,"display_name":"Benjamin Raethlein"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1486562448,"creation_date":1486562448,"answer_id":42115169,"question_id":28424550,"body_markdown":"I know, the question is quite old but the answers &amp; comments still helped me out today. So, I want to briefly wrap it up:\r\n\r\nIn this pull-request: https://github.com/OfficeDev/ews-java-api/pull/321\r\nthe header validation was removed as described in the comments of the accepted answer.\r\n\r\nSo, its enough to set the token via\r\n\r\n    ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\r\n    service.getHttpHeaders().put(&quot;Authorization&quot;, &quot;Bearer &quot; + officeToken);\r\n\r\nDon&#39;t set any additional credentials.\r\n\r\nFor completeness: In my scenario, the `officeToken` is retrieved on client side via the Office JavaScript api\r\n\r\n    Office.initialize = function() {\r\n        $(document).ready(function (){\r\n            Office.context.mailbox.getCallbackTokenAsync(function(result) {\r\n                result.value; // is the officeToken of above\r\n                // do s.th. with the officeToken; e.g. send it to the server\r\n            });\r\n        });\r\n    });\r\n\r\nOn the server, we can now get the content of a mail. In the newest version of the Office JavaScript Api, this is also possible directly in the client. However, your Exchange Api version must be 1.3. So, this solution with retrieving the token and sending it to a server is useful in case your Exchange server runs an older version.\r\n\r\n\r\n","title":"EWS java apis using Oauth2","body":"<p>I know, the question is quite old but the answers &amp; comments still helped me out today. So, I want to briefly wrap it up:</p>\n\n<p>In this pull-request: <a href=\"https://github.com/OfficeDev/ews-java-api/pull/321\" rel=\"noreferrer\">https://github.com/OfficeDev/ews-java-api/pull/321</a>\nthe header validation was removed as described in the comments of the accepted answer.</p>\n\n<p>So, its enough to set the token via</p>\n\n<pre><code>ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\nservice.getHttpHeaders().put(\"Authorization\", \"Bearer \" + officeToken);\n</code></pre>\n\n<p>Don't set any additional credentials.</p>\n\n<p>For completeness: In my scenario, the <code>officeToken</code> is retrieved on client side via the Office JavaScript api</p>\n\n<pre><code>Office.initialize = function() {\n    $(document).ready(function (){\n        Office.context.mailbox.getCallbackTokenAsync(function(result) {\n            result.value; // is the officeToken of above\n            // do s.th. with the officeToken; e.g. send it to the server\n        });\n    });\n});\n</code></pre>\n\n<p>On the server, we can now get the content of a mail. In the newest version of the Office JavaScript Api, this is also possible directly in the client. However, your Exchange Api version must be 1.3. So, this solution with retrieving the token and sending it to a server is useful in case your Exchange server runs an older version.</p>\n"},{"tags":[],"owner":{"account_id":154228,"reputation":399,"user_id":370003,"display_name":"JavaJedi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1587783945,"creation_date":1567131064,"answer_id":57719678,"question_id":28424550,"body_markdown":"Given that using basic auth with EWS will cease to work Oct 2020([source][1]), I went down the path of getting my app to use OAuth token authentication instead.\r\n\r\nAs mentioned by Jason Johnson, you&#39;re required to allow the Azure AD application  &#39;***Full access via EWS to users mailboxes***&#39;. As you can imagine, this creates a security concern since the application can access and modify anyones mailbox in that tenant. Use with great care!\r\n\r\n&gt; **Disclaimer** - adal4j is no longer supported and while this solution works note that the adal4j library has a bug which will incorrectly\r\n&gt; log errors in `AdalCallable.java`. This [fork][2] patches the issue but no public\r\n&gt; artifact is available, so you&#39;ll need to compile it yourself. Another option may be to try the more\r\n&gt; up-to-date [msal4j][3] however I haven&#39;t tested this solution with that\r\n&gt; library.\r\n\r\nHere are the maven dependencies I used, I excluded slf4j since I had a class loader clash in glassfish so the exclusion is optional:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.ews-java-api&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ews-java-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;adal4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.4&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.21&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nHere is the token provider:\r\n\r\n    import java.net.MalformedURLException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.time.Duration;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.Future;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.concurrent.TimeoutException;\r\n    \r\n    import javax.enterprise.concurrent.ManagedExecutorService;\r\n    \r\n    import org.apache.log4j.Logger;\r\n    \r\n    import com.microsoft.aad.adal4j.AuthenticationCallback;\r\n    import com.microsoft.aad.adal4j.AuthenticationContext;\r\n    import com.microsoft.aad.adal4j.AuthenticationResult;\r\n    import com.microsoft.aad.adal4j.ClientCredential;\r\n    \r\n    import microsoft.exchange.webservices.data.core.ExchangeService;\r\n    import microsoft.exchange.webservices.data.core.WebProxy;\r\n    import microsoft.exchange.webservices.data.core.enumeration.misc.ConnectingIdType;\r\n    import microsoft.exchange.webservices.data.core.enumeration.misc.ExchangeVersion;\r\n    import microsoft.exchange.webservices.data.misc.ImpersonatedUserId;\r\n    \r\n    /**\r\n     * Used to obtain an access token for use in an EWS application. Caches the\r\n     * token and refreshes it 5mins prior to expiration.\r\n     * \r\n     * @author Stephen O&#39;Hair\r\n     *\r\n     */\r\n    public final class MsEwsTokenProvider {\r\n    \r\n        private static final Logger log = Logger.getLogger(MsEwsTokenProvider.class);\r\n    \r\n        private static final String EWS_URL = &quot;https://outlook.office365.com/EWS/Exchange.asmx&quot;;\r\n        private static final String RESOUCE = &quot;https://outlook.office365.com&quot;;\r\n        private static final String TENANT_NAME = &quot;enter your tenant name here&quot;;\r\n        private static final String AUTHORITY = &quot;https://login.microsoftonline.com/&quot; + TENANT_NAME;\r\n        private static final long REFRESH_BEFORE_EXPIRY_MS = Duration.ofMinutes(5).toMillis();\r\n    \r\n        private static long expiryTimeMs;\r\n        private static String accessToken;\r\n    \r\n        /**\r\n         * Takes an OAuth2 token and configures an {@link ExchangeService}.\r\n         * \r\n         * @param token\r\n         * @param senderAddr\r\n         * @param traceListener\r\n         * @param mailboxAddr\r\n         * @return a configured and authenticated {@link ExchangeService}\r\n         * @throws URISyntaxException\r\n         * @throws Exception\r\n         */\r\n        public static ExchangeService getAuthenticatedService(String token, String senderAddr, \r\n                TraceListener traceListener) throws URISyntaxException, Exception {\r\n            ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\r\n            service.setTraceListener(traceListener);\r\n            service.getHttpHeaders().put(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n            service.getHttpHeaders().put(&quot;X-AnchorMailbox&quot;, senderAddr);\r\n            //service.setWebProxy(new WebProxy(proxyHost, proxyPort));\r\n            service.setUrl(new URI(EWS_URL));\r\n            service.setImpersonatedUserId(new ImpersonatedUserId(ConnectingIdType.PrincipalName, senderAddr));\r\n            return service;\r\n        }\r\n    \r\n        /**\r\n         * Simple way to get an access token using the Azure Active Directory Library.\r\n         * \r\n         * Authenticates at : https://login.microsoftonline.com/\r\n         * \r\n         * @param clientId\r\n         *            - client id of the AzureAD application\r\n         * @param clientSecret\r\n         *            - client secret of the AzureAD application\r\n         * @param service\r\n         *            - managed executor service\r\n         * \r\n         * @return provisioned access token\r\n         * @throws MalformedURLException\r\n         * @throws InterruptedException\r\n         * @throws ExecutionException\r\n         * @throws TimeoutException\r\n         */\r\n        public static synchronized String getAccesToken(String clientId, String clientSecret, ManagedExecutorService service)\r\n                throws MalformedURLException, InterruptedException, ExecutionException, TimeoutException {\r\n    \r\n            long now = System.currentTimeMillis();\r\n            if (accessToken != null &amp;&amp; now &lt; expiryTimeMs - REFRESH_BEFORE_EXPIRY_MS) {\r\n    \r\n                AuthenticationContext context = new AuthenticationContext(AUTHORITY, false, service);\r\n                AuthenticationCallback&lt;AuthenticationResult&gt; callback = new AuthenticationCallback&lt;AuthenticationResult&gt;() {\r\n    \r\n                    @Override\r\n                    public void onSuccess(AuthenticationResult result) {\r\n                        log.info(&quot;received token&quot;);\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onFailure(Throwable exc) {\r\n                        throw new RuntimeException(exc);\r\n                    }\r\n                };\r\n    \r\n                log.info(&quot;requesting token&quot;);\r\n                Future&lt;AuthenticationResult&gt; future = context.acquireToken(RESOUCE,\r\n                        new ClientCredential(clientId, clientSecret), callback);\r\n    \r\n                // wait for access token\r\n                AuthenticationResult result = future.get(30, TimeUnit.SECONDS);\r\n    \r\n                // cache token and expiration\r\n                accessToken = result.getAccessToken();\r\n                expiryTimeMs = result.getExpiresAfter();\r\n            }\r\n    \r\n            return accessToken;\r\n        }\r\n    }\r\n\r\n\r\nHere is an example using those token provider class above to list messages from an inbox and send an email:\r\n\r\n    import java.net.MalformedURLException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    \r\n    import com.microsoft.aad.adal4j.AuthenticationCallback;\r\n    import com.microsoft.aad.adal4j.AuthenticationContext;\r\n    import com.microsoft.aad.adal4j.AuthenticationResult;\r\n    import com.microsoft.aad.adal4j.ClientCredential;\r\n    \r\n    import microsoft.exchange.webservices.data.core.ExchangeService;\r\n    import microsoft.exchange.webservices.data.core.WebProxy;\r\n    import microsoft.exchange.webservices.data.core.enumeration.misc.ConnectingIdType;\r\n    import microsoft.exchange.webservices.data.core.enumeration.misc.ExchangeVersion;\r\n    import microsoft.exchange.webservices.data.misc.ImpersonatedUserId;\r\n    /**\r\n     * Entry point.\r\n     * \r\n     * @param args\r\n     * @throws Exception\r\n     */\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        // Pro tip: make sure to set your proxy configuration here if needed \r\n        // and exclude outlook.office365.com from proxy SSL inspection.\r\n\r\n        String clientId = &quot;your AzureAD application client id&quot;;\r\n        String clientSecret = &quot;your AzureAD application client secret&quot;;\r\n        String tenantName = &quot;your tenant&quot;;\r\n        String recipientAddr = &quot;recipient@yourdomain.com&quot;;\r\n        String senderAddress = &quot;yourO365@mailbox.com&quot;;\r\n\r\n        TraceListener traceListener = new ITraceListener() {\r\n            \r\n            @Override\r\n            public void trace(String traceType, String traceMessage) {\r\n                // TODO log it, do whatever...\r\n                \r\n            }\r\n        };\r\n\r\n        // I used a ManagedExecutorService provided by glassfish but you can \r\n        // use an ExecutorService and manage it yourself.\r\n        String token = MsEwsTokenProvider.getAccesToken(clientId, clientSecret, service);\r\n        // don&#39;t log this in production!\r\n        System.out.println(&quot;token=&quot; + token);\r\n\r\n        // test mailbox read access\r\n        System.out.println(&quot;geting emails&quot;);\r\n        try (ExchangeService service = MsEwsTokenProvider.getAuthenticatedService(token, senderAddress)) {\r\n           listInboxMessages(service, senderAddress);\r\n        }\r\n\r\n        // send a message\r\n        System.out.println(&quot;sending a message&quot;);\r\n        try (ExchangeService service = getAuthenticatedService(token, senderAddress, traceListener)) {\r\n           sendTestMessage(service, recipientAddr, senderAddress);\r\n        }\r\n\r\n        System.out.println(&quot;finished&quot;);\r\n    }\r\n    \r\n    public static void sendTestMessage(ExchangeService service, String recipientAddr, String senderAddr)\r\n            throws Exception {\r\n        EmailMessage msg = new EmailMessage(service);\r\n        msg.setSubject(&quot;Hello world!&quot;);\r\n        msg.setBody(MessageBody.getMessageBodyFromText(&quot;Sent using the EWS Java API.&quot;));\r\n        msg.getToRecipients().add(recipientAddr);\r\n        msg.send();\r\n        msg.setSender(new EmailAddress(senderAddr));\r\n    }\r\n\r\n    public static void listInboxMessages(ExchangeService service, String mailboxAddr) throws Exception {\r\n        ItemView view = new ItemView(50);\r\n        Mailbox mb = new Mailbox(mailboxAddr);\r\n        FolderId folder = new FolderId(WellKnownFolderName.Inbox, mb);\r\n        FindItemsResults&lt;Item&gt; result = service.findItems(folder, view);\r\n        result.forEach(i -&gt; {\r\n            try {\r\n                System.out.println(&quot;subject=&quot; + i.getSubject());\r\n            } catch (ServiceLocalException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n  [1]: https://developer.microsoft.com/en-us/graph/blogs/upcoming-changes-to-exchange-web-services-ews-api-for-office-365/\r\n  [2]: https://github.com/amsa-code/azure-activedirectory-library-for-java/commit/b3905fc654bf84ab16c55acab19e66682260af59\r\n  [3]: https://github.com/AzureAD/microsoft-authentication-library-for-java/wiki","title":"EWS java apis using Oauth2","body":"<p>Given that using basic auth with EWS will cease to work Oct 2020(<a href=\"https://developer.microsoft.com/en-us/graph/blogs/upcoming-changes-to-exchange-web-services-ews-api-for-office-365/\" rel=\"nofollow noreferrer\">source</a>), I went down the path of getting my app to use OAuth token authentication instead.</p>\n\n<p>As mentioned by Jason Johnson, you're required to allow the Azure AD application  '<strong><em>Full access via EWS to users mailboxes</em></strong>'. As you can imagine, this creates a security concern since the application can access and modify anyones mailbox in that tenant. Use with great care!</p>\n\n<blockquote>\n  <p><strong>Disclaimer</strong> - adal4j is no longer supported and while this solution works note that the adal4j library has a bug which will incorrectly\n  log errors in <code>AdalCallable.java</code>. This <a href=\"https://github.com/amsa-code/azure-activedirectory-library-for-java/commit/b3905fc654bf84ab16c55acab19e66682260af59\" rel=\"nofollow noreferrer\">fork</a> patches the issue but no public\n  artifact is available, so you'll need to compile it yourself. Another option may be to try the more\n  up-to-date <a href=\"https://github.com/AzureAD/microsoft-authentication-library-for-java/wiki\" rel=\"nofollow noreferrer\">msal4j</a> however I haven't tested this solution with that\n  library.</p>\n</blockquote>\n\n<p>Here are the maven dependencies I used, I excluded slf4j since I had a class loader clash in glassfish so the exclusion is optional:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.ews-java-api&lt;/groupId&gt;\n        &lt;artifactId&gt;ews-java-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;adal4j&lt;/artifactId&gt;\n        &lt;version&gt;1.6.4&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.21&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Here is the token provider:</p>\n\n<pre><code>import java.net.MalformedURLException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.time.Duration;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\nimport javax.enterprise.concurrent.ManagedExecutorService;\n\nimport org.apache.log4j.Logger;\n\nimport com.microsoft.aad.adal4j.AuthenticationCallback;\nimport com.microsoft.aad.adal4j.AuthenticationContext;\nimport com.microsoft.aad.adal4j.AuthenticationResult;\nimport com.microsoft.aad.adal4j.ClientCredential;\n\nimport microsoft.exchange.webservices.data.core.ExchangeService;\nimport microsoft.exchange.webservices.data.core.WebProxy;\nimport microsoft.exchange.webservices.data.core.enumeration.misc.ConnectingIdType;\nimport microsoft.exchange.webservices.data.core.enumeration.misc.ExchangeVersion;\nimport microsoft.exchange.webservices.data.misc.ImpersonatedUserId;\n\n/**\n * Used to obtain an access token for use in an EWS application. Caches the\n * token and refreshes it 5mins prior to expiration.\n * \n * @author Stephen O'Hair\n *\n */\npublic final class MsEwsTokenProvider {\n\n    private static final Logger log = Logger.getLogger(MsEwsTokenProvider.class);\n\n    private static final String EWS_URL = \"https://outlook.office365.com/EWS/Exchange.asmx\";\n    private static final String RESOUCE = \"https://outlook.office365.com\";\n    private static final String TENANT_NAME = \"enter your tenant name here\";\n    private static final String AUTHORITY = \"https://login.microsoftonline.com/\" + TENANT_NAME;\n    private static final long REFRESH_BEFORE_EXPIRY_MS = Duration.ofMinutes(5).toMillis();\n\n    private static long expiryTimeMs;\n    private static String accessToken;\n\n    /**\n     * Takes an OAuth2 token and configures an {@link ExchangeService}.\n     * \n     * @param token\n     * @param senderAddr\n     * @param traceListener\n     * @param mailboxAddr\n     * @return a configured and authenticated {@link ExchangeService}\n     * @throws URISyntaxException\n     * @throws Exception\n     */\n    public static ExchangeService getAuthenticatedService(String token, String senderAddr, \n            TraceListener traceListener) throws URISyntaxException, Exception {\n        ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\n        service.setTraceListener(traceListener);\n        service.getHttpHeaders().put(\"Authorization\", \"Bearer \" + token);\n        service.getHttpHeaders().put(\"X-AnchorMailbox\", senderAddr);\n        //service.setWebProxy(new WebProxy(proxyHost, proxyPort));\n        service.setUrl(new URI(EWS_URL));\n        service.setImpersonatedUserId(new ImpersonatedUserId(ConnectingIdType.PrincipalName, senderAddr));\n        return service;\n    }\n\n    /**\n     * Simple way to get an access token using the Azure Active Directory Library.\n     * \n     * Authenticates at : https://login.microsoftonline.com/\n     * \n     * @param clientId\n     *            - client id of the AzureAD application\n     * @param clientSecret\n     *            - client secret of the AzureAD application\n     * @param service\n     *            - managed executor service\n     * \n     * @return provisioned access token\n     * @throws MalformedURLException\n     * @throws InterruptedException\n     * @throws ExecutionException\n     * @throws TimeoutException\n     */\n    public static synchronized String getAccesToken(String clientId, String clientSecret, ManagedExecutorService service)\n            throws MalformedURLException, InterruptedException, ExecutionException, TimeoutException {\n\n        long now = System.currentTimeMillis();\n        if (accessToken != null &amp;&amp; now &lt; expiryTimeMs - REFRESH_BEFORE_EXPIRY_MS) {\n\n            AuthenticationContext context = new AuthenticationContext(AUTHORITY, false, service);\n            AuthenticationCallback&lt;AuthenticationResult&gt; callback = new AuthenticationCallback&lt;AuthenticationResult&gt;() {\n\n                @Override\n                public void onSuccess(AuthenticationResult result) {\n                    log.info(\"received token\");\n                }\n\n                @Override\n                public void onFailure(Throwable exc) {\n                    throw new RuntimeException(exc);\n                }\n            };\n\n            log.info(\"requesting token\");\n            Future&lt;AuthenticationResult&gt; future = context.acquireToken(RESOUCE,\n                    new ClientCredential(clientId, clientSecret), callback);\n\n            // wait for access token\n            AuthenticationResult result = future.get(30, TimeUnit.SECONDS);\n\n            // cache token and expiration\n            accessToken = result.getAccessToken();\n            expiryTimeMs = result.getExpiresAfter();\n        }\n\n        return accessToken;\n    }\n}\n</code></pre>\n\n<p>Here is an example using those token provider class above to list messages from an inbox and send an email:</p>\n\n<pre><code>import java.net.MalformedURLException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\nimport com.microsoft.aad.adal4j.AuthenticationCallback;\nimport com.microsoft.aad.adal4j.AuthenticationContext;\nimport com.microsoft.aad.adal4j.AuthenticationResult;\nimport com.microsoft.aad.adal4j.ClientCredential;\n\nimport microsoft.exchange.webservices.data.core.ExchangeService;\nimport microsoft.exchange.webservices.data.core.WebProxy;\nimport microsoft.exchange.webservices.data.core.enumeration.misc.ConnectingIdType;\nimport microsoft.exchange.webservices.data.core.enumeration.misc.ExchangeVersion;\nimport microsoft.exchange.webservices.data.misc.ImpersonatedUserId;\n/**\n * Entry point.\n * \n * @param args\n * @throws Exception\n */\npublic static void main(String[] args) throws Exception {\n\n    // Pro tip: make sure to set your proxy configuration here if needed \n    // and exclude outlook.office365.com from proxy SSL inspection.\n\n    String clientId = \"your AzureAD application client id\";\n    String clientSecret = \"your AzureAD application client secret\";\n    String tenantName = \"your tenant\";\n    String recipientAddr = \"recipient@yourdomain.com\";\n    String senderAddress = \"yourO365@mailbox.com\";\n\n    TraceListener traceListener = new ITraceListener() {\n\n        @Override\n        public void trace(String traceType, String traceMessage) {\n            // TODO log it, do whatever...\n\n        }\n    };\n\n    // I used a ManagedExecutorService provided by glassfish but you can \n    // use an ExecutorService and manage it yourself.\n    String token = MsEwsTokenProvider.getAccesToken(clientId, clientSecret, service);\n    // don't log this in production!\n    System.out.println(\"token=\" + token);\n\n    // test mailbox read access\n    System.out.println(\"geting emails\");\n    try (ExchangeService service = MsEwsTokenProvider.getAuthenticatedService(token, senderAddress)) {\n       listInboxMessages(service, senderAddress);\n    }\n\n    // send a message\n    System.out.println(\"sending a message\");\n    try (ExchangeService service = getAuthenticatedService(token, senderAddress, traceListener)) {\n       sendTestMessage(service, recipientAddr, senderAddress);\n    }\n\n    System.out.println(\"finished\");\n}\n\npublic static void sendTestMessage(ExchangeService service, String recipientAddr, String senderAddr)\n        throws Exception {\n    EmailMessage msg = new EmailMessage(service);\n    msg.setSubject(\"Hello world!\");\n    msg.setBody(MessageBody.getMessageBodyFromText(\"Sent using the EWS Java API.\"));\n    msg.getToRecipients().add(recipientAddr);\n    msg.send();\n    msg.setSender(new EmailAddress(senderAddr));\n}\n\npublic static void listInboxMessages(ExchangeService service, String mailboxAddr) throws Exception {\n    ItemView view = new ItemView(50);\n    Mailbox mb = new Mailbox(mailboxAddr);\n    FolderId folder = new FolderId(WellKnownFolderName.Inbox, mb);\n    FindItemsResults&lt;Item&gt; result = service.findItems(folder, view);\n    result.forEach(i -&gt; {\n        try {\n            System.out.println(\"subject=\" + i.getSubject());\n        } catch (ServiceLocalException e) {\n            e.printStackTrace();\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":2229557,"reputation":170,"user_id":1967517,"accept_rate":67,"display_name":"pranjaljain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11320,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28434307,"answer_count":3,"score":5,"last_activity_date":1667296863,"creation_date":1423545098,"question_id":28424550,"body_markdown":"I want to use Oauth2 authentication for my app. I want to use EWS Java apis to fetch data from O365. Is it possible?\r\nDocument http://blogs.msdn.com/b/exchangedev/archive/2014/09/24/10510847.aspx\r\ntalks about fetching oauth token for REST apis should I use same document to fetch token to be used with EWS web services also?\r\nCan anyone share any code sample doing this with java.","title":"EWS java apis using Oauth2","body":"<p>I want to use Oauth2 authentication for my app. I want to use EWS Java apis to fetch data from O365. Is it possible?\nDocument <a href=\"http://blogs.msdn.com/b/exchangedev/archive/2014/09/24/10510847.aspx\" rel=\"noreferrer\">http://blogs.msdn.com/b/exchangedev/archive/2014/09/24/10510847.aspx</a>\ntalks about fetching oauth token for REST apis should I use same document to fetch token to be used with EWS web services also?\nCan anyone share any code sample doing this with java.</p>\n"},{"tags":["java","windows","java-8","db2","windows-server-2019"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1582768042,"post_id":60424085,"comment_id":106894315,"body_markdown":"Approximately how many rows is your project updating?","body":"Approximately how many rows is your project updating?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1582775310,"post_id":60424085,"comment_id":106895822,"body_markdown":"may be GC related?","body":"may be GC related?"},{"owner":{"account_id":16116436,"reputation":31,"user_id":11633420,"display_name":"Erick Figueroa"},"score":0,"creation_date":1582825395,"post_id":60424085,"comment_id":106919383,"body_markdown":"@Eugene why would it make a difference which server it&#39;s on if it&#39;s the same jdk?","body":"@Eugene why would it make a difference which server it&#39;s on if it&#39;s the same jdk?"},{"owner":{"account_id":137783,"reputation":269,"user_id":342245,"accept_rate":100,"display_name":"Ling"},"score":0,"creation_date":1587514367,"post_id":60424085,"comment_id":108540577,"body_markdown":"I am also experiencing the same issue when migrating the Windows Server 2008 R2 to Windows Sever 2019 with SSIS packages, it is much slower to load data between Sybase and SQL Server database in Windows Server 2019 with the same server configs :(","body":"I am also experiencing the same issue when migrating the Windows Server 2008 R2 to Windows Sever 2019 with SSIS packages, it is much slower to load data between Sybase and SQL Server database in Windows Server 2019 with the same server configs :("},{"owner":{"account_id":16116436,"reputation":31,"user_id":11633420,"display_name":"Erick Figueroa"},"score":0,"creation_date":1587608743,"post_id":60424085,"comment_id":108580576,"body_markdown":"@Ling out of curiosity, are you running this code on a virtual server? I have a suspicion that it may be an issue with the hypervisor not being supported according the oracle certified system configurations for JDK 8: https://www.oracle.com/java/technologies/javase/jdk-jre-8-cs-config.html","body":"@Ling out of curiosity, are you running this code on a virtual server? I have a suspicion that it may be an issue with the hypervisor not being supported according the oracle certified system configurations for JDK 8: <a href=\"https://www.oracle.com/java/technologies/javase/jdk-jre-8-cs-config.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/jdk-jre-8-cs-config.html</a>"},{"owner":{"account_id":35683,"reputation":7004,"user_id":101151,"accept_rate":43,"display_name":"jla"},"score":0,"creation_date":1648001409,"post_id":60424085,"comment_id":126511571,"body_markdown":"I am seeing something similar, in a method doing lots of queries to a DB2 database in a loop. It takes 4-14 seconds on Win10, Server 2012R2 &amp; Server 2016 systems and 150 seconds on Server 2019. All co-located with Power9, &lt;1ms ping time. Queries run in a few ms on Power9 and it waits 30+ms between queries from the slow systems. On 2019 systems ~50% time consistently spent in ResultSet.getYYY(). On fast systems it ranges from 10-60%. jt400-jdk8-9.6 driver, jdk8 various versions (171, 202, 251, 321)","body":"I am seeing something similar, in a method doing lots of queries to a DB2 database in a loop. It takes 4-14 seconds on Win10, Server 2012R2 &amp; Server 2016 systems and 150 seconds on Server 2019. All co-located with Power9, &lt;1ms ping time. Queries run in a few ms on Power9 and it waits 30+ms between queries from the slow systems. On 2019 systems ~50% time consistently spent in ResultSet.getYYY(). On fast systems it ranges from 10-60%. jt400-jdk8-9.6 driver, jdk8 various versions (171, 202, 251, 321)"},{"owner":{"account_id":15220095,"reputation":113,"user_id":10982231,"display_name":"Abdul Hadee"},"score":0,"creation_date":1697108354,"post_id":60424085,"comment_id":136239518,"body_markdown":"did you find any solutions for the issue mentioned ? if so please update the answer.It will be helpful","body":"did you find any solutions for the issue mentioned ? if so please update the answer.It will be helpful"}],"answers":[{"tags":[],"owner":{"account_id":2328202,"reputation":1,"user_id":2042186,"display_name":"David Mendo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600333778,"creation_date":1600333498,"answer_id":63934743,"question_id":60424085,"body_markdown":"Java support Server 2019 after 1.8.0_201 only.\r\n\r\nhttps://www.oracle.com/java/technologies/javase/products-doc-jdk8-jre8-certconfig.html","title":"Java 8 Performance Issues In Windows Server 2019","body":"<p>Java support Server 2019 after 1.8.0_201 only.</p>\n<p><a href=\"https://www.oracle.com/java/technologies/javase/products-doc-jdk8-jre8-certconfig.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/products-doc-jdk8-jre8-certconfig.html</a></p>\n"},{"tags":[],"owner":{"account_id":2712388,"reputation":41,"user_id":2340523,"display_name":"Woo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667296824,"creation_date":1667296824,"answer_id":74274198,"question_id":60424085,"body_markdown":"Its due to a change in the Windows 2019 network algorithm.\r\nYou can disable this behavior by setting the &quot;TcpNoDelay&quot; property to true.\r\n\r\n\r\nhttps://sourceforge.net/p/jt400/bugs/454/","title":"Java 8 Performance Issues In Windows Server 2019","body":"<p>Its due to a change in the Windows 2019 network algorithm.\nYou can disable this behavior by setting the &quot;TcpNoDelay&quot; property to true.</p>\n<p><a href=\"https://sourceforge.net/p/jt400/bugs/454/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/jt400/bugs/454/</a></p>\n"}],"owner":{"account_id":16116436,"reputation":31,"user_id":11633420,"display_name":"Erick Figueroa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4230,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1667296824,"creation_date":1582759406,"question_id":60424085,"body_markdown":"I have recently migrated some scheduled jobs from a Windows Server 2012 virtual server to a new Windows Server 2019 virtual server, and have noticed some notable performance degradation in certain jobs. Particularly, jobs which communicate with our DB2 database using an AS400 JDBC connection pool data source. The database is hosted on an IBM iSeries AS/400.\r\n\r\nOn Windows Server 2019, using jdk1.8.0_131, I&#39;m running the following command:\r\n\r\n```\r\njava -jar myproject.jar\r\n```\r\n\r\nThis project simply connects to the DB2 database and executes an SQL update command. On other servers, the same command will take ~2.5 minutes, but on Windows Server 2019 it takes anywhere from 15 minutes to over an hour. I have monitored CPU, RAM, and network activity on the server and database while the job is running, and nothing stands out. Below are the results of testing on various operating systems and JDKs:\r\n\r\n&lt;pre&gt;\r\n| Server                              | JDK       | Runtime               |\r\n|-------------------------------------|-----------|-----------------------|\r\n| Windows Server 2012                 | 1.8.0_131 | ~2.5 minutes          |\r\n| Windows Server 2016 (Fresh Install) | 1.8.0_131 | ~2.5 minutes          |\r\n| Windows Server 2019 (Production)    | 1.8.0_131 | 15 minutes to an hour |\r\n| Windows Server 2019 (Fresh Install) | 1.8.0_131 | 15 minutes to an hour |\r\n| Windows Server 2019 (Fresh Install) | 1.8.0_202 | 15 minutes to an hour |\r\n&lt;/pre&gt;\r\n\r\nAs shown above, I tried on a fresh install of server 2016 and did not experience the performance issues, but when I tried on a fresh install of Windows Server 2019, I was able to replicate the performance degradation.\r\n\r\nThese are all virtual servers with the same amount of CPU, RAM, and running on the same host.","title":"Java 8 Performance Issues In Windows Server 2019","body":"<p>I have recently migrated some scheduled jobs from a Windows Server 2012 virtual server to a new Windows Server 2019 virtual server, and have noticed some notable performance degradation in certain jobs. Particularly, jobs which communicate with our DB2 database using an AS400 JDBC connection pool data source. The database is hosted on an IBM iSeries AS/400.</p>\n\n<p>On Windows Server 2019, using jdk1.8.0_131, I'm running the following command:</p>\n\n<pre><code>java -jar myproject.jar\n</code></pre>\n\n<p>This project simply connects to the DB2 database and executes an SQL update command. On other servers, the same command will take ~2.5 minutes, but on Windows Server 2019 it takes anywhere from 15 minutes to over an hour. I have monitored CPU, RAM, and network activity on the server and database while the job is running, and nothing stands out. Below are the results of testing on various operating systems and JDKs:</p>\n\n<pre>\n| Server                              | JDK       | Runtime               |\n|-------------------------------------|-----------|-----------------------|\n| Windows Server 2012                 | 1.8.0_131 | ~2.5 minutes          |\n| Windows Server 2016 (Fresh Install) | 1.8.0_131 | ~2.5 minutes          |\n| Windows Server 2019 (Production)    | 1.8.0_131 | 15 minutes to an hour |\n| Windows Server 2019 (Fresh Install) | 1.8.0_131 | 15 minutes to an hour |\n| Windows Server 2019 (Fresh Install) | 1.8.0_202 | 15 minutes to an hour |\n</pre>\n\n<p>As shown above, I tried on a fresh install of server 2016 and did not experience the performance issues, but when I tried on a fresh install of Windows Server 2019, I was able to replicate the performance degradation.</p>\n\n<p>These are all virtual servers with the same amount of CPU, RAM, and running on the same host.</p>\n"},{"tags":["java","multithreading","threadpool","future","futuretask"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1667298057,"post_id":74262848,"comment_id":131130063,"body_markdown":"Try to not silently swallow all exceptions, as the truth may be hidden there.","body":"Try to not silently swallow all exceptions, as the truth may be hidden there."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667296680,"creation_date":1667220187,"answer_id":74263455,"question_id":74262848,"body_markdown":"Most likely it is that the executor pool has been shutdown or encounted some issue. You&#39;ve not implemented the `RejectedExecutionHandler` very clearly, it just discards errors so you have no idea when they occur.\r\n\r\nYou can get more information on when / how any executor service issue occurs if you drop the last parameter to `new ScheduledThreadPoolExecutor` to remove the pointless handler `(runnable, pool) -&gt; {}`. This will instead use the default abort policy. \r\n\r\nAlternatively change your rejected handler so that it tells you of the problem when there is one:\r\n\r\n    (runnable, pool) -&gt; { \r\n        throw new RejectedExecutionException(&quot;*** FAILED ***&quot;\r\n                   +&quot; isShutdown()=&quot;+pool.isShutdown()\r\n                   +&quot; getActiveCount()=&quot;+pool.getActiveCount()\r\n                   +&quot; queue size=&quot;+pool.getQueue().size());\r\n    }\r\n\r\nWhen running with your original handler `(runnable, pool) -&gt; {}` you will need to check each call as you otherwise will have no indication of when there is an issue:\r\n\r\n    ScheduledFuture&lt;?&gt; future = executor.scheduleAtFixedRate(() -&gt; { ... }, 0, 10, TimeUnit.MINUTES);\r\n    if (future == null)\r\n       throw new RuntimeException(&quot;*** FAILED to add new action ***&quot;);\r\n\r\n  \r\n","title":"ScheduledFuture returns null when a task is submitted or scheduleAtFixedRate","body":"<p>Most likely it is that the executor pool has been shutdown or encounted some issue. You've not implemented the <code>RejectedExecutionHandler</code> very clearly, it just discards errors so you have no idea when they occur.</p>\n<p>You can get more information on when / how any executor service issue occurs if you drop the last parameter to <code>new ScheduledThreadPoolExecutor</code> to remove the pointless handler <code>(runnable, pool) -&gt; {}</code>. This will instead use the default abort policy.</p>\n<p>Alternatively change your rejected handler so that it tells you of the problem when there is one:</p>\n<pre><code>(runnable, pool) -&gt; { \n    throw new RejectedExecutionException(&quot;*** FAILED ***&quot;\n               +&quot; isShutdown()=&quot;+pool.isShutdown()\n               +&quot; getActiveCount()=&quot;+pool.getActiveCount()\n               +&quot; queue size=&quot;+pool.getQueue().size());\n}\n</code></pre>\n<p>When running with your original handler <code>(runnable, pool) -&gt; {}</code> you will need to check each call as you otherwise will have no indication of when there is an issue:</p>\n<pre><code>ScheduledFuture&lt;?&gt; future = executor.scheduleAtFixedRate(() -&gt; { ... }, 0, 10, TimeUnit.MINUTES);\nif (future == null)\n   throw new RuntimeException(&quot;*** FAILED to add new action ***&quot;);\n</code></pre>\n"}],"owner":{"account_id":18449931,"reputation":9,"user_id":14010117,"display_name":"Sart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667296680,"creation_date":1667217064,"question_id":74262848,"body_markdown":"I am trying to schedule a job to run every 10 minutes using ScheduledThreadPoolExecutor. There are 10 threads in the thread pool. \r\nCode looks like:\r\n\r\n```\r\nScheduledThreadPoolExecutor executor = new ScheduledThreadPoolExecutor(10, r -&gt; {\r\n                    Thread t = new Thread(r);\r\n                    t.setName(&quot;thread&quot;);\r\n                    return t;\r\n                }, (runnable, pool) -&gt; {\r\n                });\r\n\r\nList&lt;ScheduledFuture&lt;?&gt;&gt; listOfFutures = new ArrayList&lt;&gt;();\r\n\r\nScheduledFuture&lt;?&gt; future = executor.scheduleAtFixedRate(() -&gt; {\r\n    try {\r\n        System.out.println(&quot;John is a good guy&quot;);\r\n    } catch (Exception e) {\r\n        // eat the exception\r\n    }\r\n}, 0, 10, TimeUnit.MINUTES);\r\n\r\nlistOfFutures.add(future);\r\n```\r\n\r\nNow, if 100 tasks were scheduled and their future were added to a list.\r\nWhen we try to iterate the list and do future.cancel(), out of 100, 2-3 futures turn out to be null.\r\n\r\nWhat is the possible reason here?\r\n\r\nI had to add an initial delay of 2 seconds in order to ensure that the future is not null. But I also have an ExecutorService with the same problem (future is null in few cases). But there is no delay that can be added there.","title":"ScheduledFuture returns null when a task is submitted or scheduleAtFixedRate","body":"<p>I am trying to schedule a job to run every 10 minutes using ScheduledThreadPoolExecutor. There are 10 threads in the thread pool.\nCode looks like:</p>\n<pre><code>ScheduledThreadPoolExecutor executor = new ScheduledThreadPoolExecutor(10, r -&gt; {\n                    Thread t = new Thread(r);\n                    t.setName(&quot;thread&quot;);\n                    return t;\n                }, (runnable, pool) -&gt; {\n                });\n\nList&lt;ScheduledFuture&lt;?&gt;&gt; listOfFutures = new ArrayList&lt;&gt;();\n\nScheduledFuture&lt;?&gt; future = executor.scheduleAtFixedRate(() -&gt; {\n    try {\n        System.out.println(&quot;John is a good guy&quot;);\n    } catch (Exception e) {\n        // eat the exception\n    }\n}, 0, 10, TimeUnit.MINUTES);\n\nlistOfFutures.add(future);\n</code></pre>\n<p>Now, if 100 tasks were scheduled and their future were added to a list.\nWhen we try to iterate the list and do future.cancel(), out of 100, 2-3 futures turn out to be null.</p>\n<p>What is the possible reason here?</p>\n<p>I had to add an initial delay of 2 seconds in order to ensure that the future is not null. But I also have an ExecutorService with the same problem (future is null in few cases). But there is no delay that can be added there.</p>\n"},{"tags":["java","jackson","lombok"],"comments":[{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1667292872,"post_id":74273290,"comment_id":131128610,"body_markdown":"There is not limits in type. Is it an root cause? I understand that there are unit tests and manual testing, but there is a huge system and it is too long to deploy or add such test case.","body":"There is not limits in type. Is it an root cause? I understand that there are unit tests and manual testing, but there is a huge system and it is too long to deploy or add such test case."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667293591,"post_id":74273290,"comment_id":131128780,"body_markdown":"Primitive `boolean` would be initialized to `false` by default (no extra actions required from you). In which forms `negate` property can come in JSON? Can you list all the cases?","body":"Primitive <code>boolean</code> would be initialized to <code>false</code> by default (no extra actions required from you). In which forms <code>negate</code> property can come in JSON? Can you list all the cases?"},{"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"score":0,"creation_date":1667294571,"post_id":74273290,"comment_id":131129038,"body_markdown":"Either `negate` will miss at all, or set to `false` as boolean JSON type","body":"Either <code>negate</code> will miss at all, or set to <code>false</code> as boolean JSON type"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667296665,"creation_date":1667296003,"answer_id":74274042,"question_id":74273290,"body_markdown":"Using `Boolean` as a field type doesn&#39;t buy you anything, wrapper types are useful for storing in a Collection, and other when you need a reference type (you simply can&#39;t use primitive as a generic type in Java, at least for). In all other cases, use a plain primitive `boolean`, it&#39;s much cleaner in the first place because it has only two possible values `false` and `true` (`false` is the default one).\r\n\r\nIf you change the type of `negate` from wrapper-type to primitive `boolean` it would be deserialized as `false` when the property is missing in the incoming JSON without any extra annotations.\r\n\r\nConsider the following simplified class:\r\n\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public static class RelationEntityTypeFilter {\r\n        private boolean negate;\r\n    }\r\n\r\nDeserialization example:\r\n\r\n```\r\nString negateIsMissing = &quot;{ }&quot;;\r\nString negateIsFalse = &quot;&quot;&quot;\r\n    {\r\n        &quot;negate&quot; : &quot;false&quot;\r\n    }\r\n    &quot;&quot;&quot;;\r\n\r\nObjectMapper mapper = new ObjectMapper();\r\n    \r\nSystem.out.println(mapper.readValue(negateIsMissing, RelationEntityTypeFilter.class));\r\nSystem.out.println(mapper.readValue(negateIsFalse, RelationEntityTypeFilter.class));\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nRelationEntityTypeFilter(negate=false)\r\nRelationEntityTypeFilter(negate=false)\r\n```","title":"Default Lombok value for Jackson JsonSubTypes mapping","body":"<p>Using <code>Boolean</code> as a field type doesn't buy you anything, wrapper types are useful for storing in a Collection, and other when you need a reference type (you simply can't use primitive as a generic type in Java, at least for). In all other cases, use a plain primitive <code>boolean</code>, it's much cleaner in the first place because it has only two possible values <code>false</code> and <code>true</code> (<code>false</code> is the default one).</p>\n<p>If you change the type of <code>negate</code> from wrapper-type to primitive <code>boolean</code> it would be deserialized as <code>false</code> when the property is missing in the incoming JSON without any extra annotations.</p>\n<p>Consider the following simplified class:</p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\n@ToString\npublic static class RelationEntityTypeFilter {\n    private boolean negate;\n}\n</code></pre>\n<p>Deserialization example:</p>\n<pre><code>String negateIsMissing = &quot;{ }&quot;;\nString negateIsFalse = &quot;&quot;&quot;\n    {\n        &quot;negate&quot; : &quot;false&quot;\n    }\n    &quot;&quot;&quot;;\n\nObjectMapper mapper = new ObjectMapper();\n    \nSystem.out.println(mapper.readValue(negateIsMissing, RelationEntityTypeFilter.class));\nSystem.out.println(mapper.readValue(negateIsFalse, RelationEntityTypeFilter.class));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>RelationEntityTypeFilter(negate=false)\nRelationEntityTypeFilter(negate=false)\n</code></pre>\n"}],"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74274042,"answer_count":1,"score":0,"last_activity_date":1667296665,"creation_date":1667291423,"question_id":74273290,"body_markdown":"I want to add boolean field called `negate` to this class.\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@ApiModel\r\npublic class RelationEntityTypeFilter {\r\n\r\n    @ApiModelProperty(position = 1, value = &quot;Type of the relation between root entity and other entity (e.g. &#39;Contains&#39; or &#39;Manages&#39;).&quot;, example = &quot;Contains&quot;)\r\n    private String relationType;\r\n\r\n    @ApiModelProperty(position = 2, value = &quot;Array of entity types to filter the related entities (e.g. &#39;DEVICE&#39;, &#39;ASSET&#39;).&quot;)\r\n    private List&lt;EntityType&gt; entityTypes;\r\n\r\n    @ApiModelProperty(position = 3, value = &quot;Negate relation type between root entity and other entity.&quot;)\r\n    private Boolean negate = false;\r\n}\r\n```\r\n\r\n\r\n\r\nBut I got NullPointer on `relationEntityTypeFilter.getNegate()`, when controller receives such JSON as `{ &quot;relationType&quot;: &quot;Contains&quot;, &quot;entityTypes&quot;: []}`. In other words, `negate` field should be set to `false`, but this didn&#39;t happen\r\n\r\nHere is `JsonSubTypes`\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        include = JsonTypeInfo.As.PROPERTY,\r\n        property = &quot;type&quot;)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = SingleEntityFilter.class, name = &quot;singleEntity&quot;),\r\n        @JsonSubTypes.Type(value = EntityListFilter.class, name = &quot;entityList&quot;),\r\n        @JsonSubTypes.Type(value = EntityNameFilter.class, name = &quot;entityName&quot;),\r\n        @JsonSubTypes.Type(value = EntityTypeFilter.class, name = &quot;entityType&quot;),\r\n        @JsonSubTypes.Type(value = AssetTypeFilter.class, name = &quot;assetType&quot;),\r\n        @JsonSubTypes.Type(value = DeviceTypeFilter.class, name = &quot;deviceType&quot;),\r\n        @JsonSubTypes.Type(value = EdgeTypeFilter.class, name = &quot;edgeType&quot;),\r\n        @JsonSubTypes.Type(value = EntityViewTypeFilter.class, name = &quot;entityViewType&quot;),\r\n        @JsonSubTypes.Type(value = ApiUsageStateFilter.class, name = &quot;apiUsageState&quot;),\r\n        @JsonSubTypes.Type(value = RelationsQueryFilter.class, name = &quot;relationsQuery&quot;),\r\n        @JsonSubTypes.Type(value = AssetSearchQueryFilter.class, name = &quot;assetSearchQuery&quot;),\r\n        @JsonSubTypes.Type(value = DeviceSearchQueryFilter.class, name = &quot;deviceSearchQuery&quot;),\r\n        @JsonSubTypes.Type(value = EntityViewSearchQueryFilter.class, name = &quot;entityViewSearchQuery&quot;),\r\n        @JsonSubTypes.Type(value = EdgeSearchQueryFilter.class, name = &quot;edgeSearchQuery&quot;)})\r\npublic interface EntityFilter {\r\n\r\n    @JsonIgnore\r\n    EntityFilterType getType();\r\n}\r\n```\r\n```\r\n@Data\r\npublic class RelationsQueryFilter implements EntityFilter {\r\n\r\n    @Override\r\n    public EntityFilterType getType() {\r\n        return EntityFilterType.RELATIONS_QUERY;\r\n    }\r\n\r\n    private EntityId rootEntity;\r\n    private boolean isMultiRoot;\r\n    private EntityType multiRootEntitiesType;\r\n    private Set&lt;String&gt; multiRootEntityIds;\r\n    private EntitySearchDirection direction;\r\n    private List&lt;RelationEntityTypeFilter&gt; filters;\r\n    private int maxLevel;\r\n    private boolean fetchLastLevelOnly;\r\n\r\n}\r\n```\r\n","title":"Default Lombok value for Jackson JsonSubTypes mapping","body":"<p>I want to add boolean field called <code>negate</code> to this class.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@ApiModel\npublic class RelationEntityTypeFilter {\n\n    @ApiModelProperty(position = 1, value = &quot;Type of the relation between root entity and other entity (e.g. 'Contains' or 'Manages').&quot;, example = &quot;Contains&quot;)\n    private String relationType;\n\n    @ApiModelProperty(position = 2, value = &quot;Array of entity types to filter the related entities (e.g. 'DEVICE', 'ASSET').&quot;)\n    private List&lt;EntityType&gt; entityTypes;\n\n    @ApiModelProperty(position = 3, value = &quot;Negate relation type between root entity and other entity.&quot;)\n    private Boolean negate = false;\n}\n</code></pre>\n<p>But I got NullPointer on <code>relationEntityTypeFilter.getNegate()</code>, when controller receives such JSON as <code>{ &quot;relationType&quot;: &quot;Contains&quot;, &quot;entityTypes&quot;: []}</code>. In other words, <code>negate</code> field should be set to <code>false</code>, but this didn't happen</p>\n<p>Here is <code>JsonSubTypes</code></p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.PROPERTY,\n        property = &quot;type&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = SingleEntityFilter.class, name = &quot;singleEntity&quot;),\n        @JsonSubTypes.Type(value = EntityListFilter.class, name = &quot;entityList&quot;),\n        @JsonSubTypes.Type(value = EntityNameFilter.class, name = &quot;entityName&quot;),\n        @JsonSubTypes.Type(value = EntityTypeFilter.class, name = &quot;entityType&quot;),\n        @JsonSubTypes.Type(value = AssetTypeFilter.class, name = &quot;assetType&quot;),\n        @JsonSubTypes.Type(value = DeviceTypeFilter.class, name = &quot;deviceType&quot;),\n        @JsonSubTypes.Type(value = EdgeTypeFilter.class, name = &quot;edgeType&quot;),\n        @JsonSubTypes.Type(value = EntityViewTypeFilter.class, name = &quot;entityViewType&quot;),\n        @JsonSubTypes.Type(value = ApiUsageStateFilter.class, name = &quot;apiUsageState&quot;),\n        @JsonSubTypes.Type(value = RelationsQueryFilter.class, name = &quot;relationsQuery&quot;),\n        @JsonSubTypes.Type(value = AssetSearchQueryFilter.class, name = &quot;assetSearchQuery&quot;),\n        @JsonSubTypes.Type(value = DeviceSearchQueryFilter.class, name = &quot;deviceSearchQuery&quot;),\n        @JsonSubTypes.Type(value = EntityViewSearchQueryFilter.class, name = &quot;entityViewSearchQuery&quot;),\n        @JsonSubTypes.Type(value = EdgeSearchQueryFilter.class, name = &quot;edgeSearchQuery&quot;)})\npublic interface EntityFilter {\n\n    @JsonIgnore\n    EntityFilterType getType();\n}\n</code></pre>\n<pre><code>@Data\npublic class RelationsQueryFilter implements EntityFilter {\n\n    @Override\n    public EntityFilterType getType() {\n        return EntityFilterType.RELATIONS_QUERY;\n    }\n\n    private EntityId rootEntity;\n    private boolean isMultiRoot;\n    private EntityType multiRootEntitiesType;\n    private Set&lt;String&gt; multiRootEntityIds;\n    private EntitySearchDirection direction;\n    private List&lt;RelationEntityTypeFilter&gt; filters;\n    private int maxLevel;\n    private boolean fetchLastLevelOnly;\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","instrumentation","javaagents"],"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1665434591,"post_id":74020234,"comment_id":130695397,"body_markdown":"You&#39;re trying to unpack an uber jar?","body":"You&#39;re trying to unpack an uber jar?"},{"owner":{"account_id":2512125,"reputation":498,"user_id":2184337,"accept_rate":82,"display_name":"WannabeCoder"},"score":0,"creation_date":1665434954,"post_id":74020234,"comment_id":130695511,"body_markdown":"@Stewart I&#39;m not sure what you mean. All I&#39;m trying to do is reference a packaged dependency (the instrumentation JAR tooling.jar) that is inside the application JAR (packaged by Maven). It&#39;s going to take me a while to set up a test case, so I wanted to see if what I was doing was possible and/or recommended. The lack of information on the subject is usually an indicator that the solution is obvious and I&#39;m missing something.","body":"@Stewart I&#39;m not sure what you mean. All I&#39;m trying to do is reference a packaged dependency (the instrumentation JAR tooling.jar) that is inside the application JAR (packaged by Maven). It&#39;s going to take me a while to set up a test case, so I wanted to see if what I was doing was possible and/or recommended. The lack of information on the subject is usually an indicator that the solution is obvious and I&#39;m missing something."},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1665435510,"post_id":74020234,"comment_id":130695655,"body_markdown":"Does your packaging tool preserve the fully qualified class names, ie, the package names, etc?  If so ... does it work to try `java -javaagent:myapplication.jar -jar myapplication.jar`","body":"Does your packaging tool preserve the fully qualified class names, ie, the package names, etc?  If so ... does it work to try <code>java -javaagent:myapplication.jar -jar myapplication.jar</code>"},{"owner":{"account_id":2512125,"reputation":498,"user_id":2184337,"accept_rate":82,"display_name":"WannabeCoder"},"score":1,"creation_date":1665439301,"post_id":74020234,"comment_id":130696542,"body_markdown":"I am unsure how Maven handles the build process regarding class names. I did manage to find a possible-duplicate that indicates what I want is impossible: https://stackoverflow.com/questions/27424364/specifying-a-javaagent-within-the-jar-file-to-be-run","body":"I am unsure how Maven handles the build process regarding class names. I did manage to find a possible-duplicate that indicates what I want is impossible: <a href=\"https://stackoverflow.com/questions/27424364/specifying-a-javaagent-within-the-jar-file-to-be-run\" title=\"specifying a javaagent within the jar file to be run\">stackoverflow.com/questions/27424364/&hellip;</a>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1668331488,"post_id":74020234,"comment_id":131375310,"body_markdown":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting.","body":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667295121,"creation_date":1667295121,"answer_id":74273884,"question_id":74020234,"body_markdown":"You can attach a Java agent either via `-javaagent:/my/own/agent.jar` like you already do or during runtime. But in both cases, the agent **has** to be a regular file on a file system. Agents cannot be loaded any other way.\r\n\r\nTherefore, either you need to deploy the agent to your target execution environment separately, or you need to bootstrap by extracting it manually from your uber JAR during application start-up and then hot-attach it **before** loading any of the classes you wish to instrument.","title":"How do I reference a runtime Maven dependency in the the java CLI?","body":"<p>You can attach a Java agent either via <code>-javaagent:/my/own/agent.jar</code> like you already do or during runtime. But in both cases, the agent <strong>has</strong> to be a regular file on a file system. Agents cannot be loaded any other way.</p>\n<p>Therefore, either you need to deploy the agent to your target execution environment separately, or you need to bootstrap by extracting it manually from your uber JAR during application start-up and then hot-attach it <strong>before</strong> loading any of the classes you wish to instrument.</p>\n"}],"owner":{"account_id":2512125,"reputation":498,"user_id":2184337,"accept_rate":82,"display_name":"WannabeCoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667295121,"creation_date":1665432672,"question_id":74020234,"body_markdown":"I need to add an instrumentation JAR to my Java command line. If possible, I want to this argument to reference a JAR included in my Maven dependencies. As an example:\r\n\r\n    java -javaagent:tooling.jar -jar myapplication.jar\r\n\r\nThis &quot;tooling.jar&quot; does not exist as an explicit file in the filesystem. Instead, it is listed as a runtime dependency in Maven:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\r\n       &lt;artifactId&gt;tooling&lt;/artifactId&gt;\r\n       &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf it&#39;s relevant, I&#39;m using Java 11 and Spring Boot.\r\n\r\nThe purpose of this is to avoid having to move two separate JAR files to every run environment (for technical reasons I am only able to deploy the application JAR). As far as I can tell there&#39;s nothing technically wrong with this approach, as the JAR does exist - it is just wrapped into the application JAR. However, nowhere that I&#39;ve found has described this process, so I wonder if I&#39;m doing something terribly wrong. I haven&#39;t been able to test this yet. Is this a valid pattern and what is the appropriate syntax for it?","title":"How do I reference a runtime Maven dependency in the the java CLI?","body":"<p>I need to add an instrumentation JAR to my Java command line. If possible, I want to this argument to reference a JAR included in my Maven dependencies. As an example:</p>\n<pre><code>java -javaagent:tooling.jar -jar myapplication.jar\n</code></pre>\n<p>This &quot;tooling.jar&quot; does not exist as an explicit file in the filesystem. Instead, it is listed as a runtime dependency in Maven:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\n   &lt;artifactId&gt;tooling&lt;/artifactId&gt;\n   &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If it's relevant, I'm using Java 11 and Spring Boot.</p>\n<p>The purpose of this is to avoid having to move two separate JAR files to every run environment (for technical reasons I am only able to deploy the application JAR). As far as I can tell there's nothing technically wrong with this approach, as the JAR does exist - it is just wrapped into the application JAR. However, nowhere that I've found has described this process, so I wonder if I'm doing something terribly wrong. I haven't been able to test this yet. Is this a valid pattern and what is the appropriate syntax for it?</p>\n"},{"tags":["java","vue.js","nuxt.js","dwt","dynamsoft"],"comments":[{"owner":{"account_id":12055478,"reputation":41907,"user_id":8816585,"display_name":"kissu"},"score":1,"creation_date":1620750349,"post_id":67490083,"comment_id":119291105,"body_markdown":"Alright, please give us more context and debugging info than just this please. What even is `dwt-resources`?","body":"Alright, please give us more context and debugging info than just this please. What even is <code>dwt-resources</code>?"}],"answers":[{"tags":[],"owner":{"account_id":323781,"reputation":11805,"user_id":644010,"accept_rate":73,"display_name":"yushulx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667295046,"creation_date":1667295046,"answer_id":74273874,"question_id":67490083,"body_markdown":"The resource folder is located at the root directory of the project.\r\n\r\nSo change \r\n\r\n```vue\r\nDynamsoft.DWT.ResourcesPath = &quot;dwt-resources&quot;\r\n```\r\n\r\nto \r\n\r\n```vue\r\nDynamsoft.DWT.ResourcesPath = &quot;/dwt-resources&quot;\r\n```\r\n","title":"i not get dynamsoft ResourcesPath","body":"<p>The resource folder is located at the root directory of the project.</p>\n<p>So change</p>\n<pre><code>Dynamsoft.DWT.ResourcesPath = &quot;dwt-resources&quot;\n</code></pre>\n<p>to</p>\n<pre><code>Dynamsoft.DWT.ResourcesPath = &quot;/dwt-resources&quot;\n</code></pre>\n"}],"owner":{"account_id":8050867,"reputation":1,"user_id":6069444,"display_name":"sorasak menphurk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667295046,"creation_date":1620747723,"question_id":67490083,"body_markdown":"&lt;code&gt;Dynamsoft.DWT.ResourcesPath = &quot;dwt-resources&quot;&lt;/code&gt;\r\n\r\nPackege.json\r\n\r\n```json\r\n&quot;scripts&quot;: {\r\n  &quot;dev&quot;: &quot;ncp node_modules/dwt/dist static/dwt-resources &amp;&amp; nuxt&quot;,\r\n  &quot;build&quot;: &quot;nuxt build&quot;,\r\n  &quot;start&quot;: &quot;nuxt start&quot;,\r\n  &quot;generate&quot;: &quot;nuxt generate &amp;&amp; ncp node_modules/dwt/dist dist/dwt-resources&quot;\r\n}\r\n```\r\n\r\nI use framwork nuxt js but error get path.","title":"i not get dynamsoft ResourcesPath","body":"<p><code>Dynamsoft.DWT.ResourcesPath = &quot;dwt-resources&quot;</code></p>\n<p>Packege.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;scripts&quot;: {\n  &quot;dev&quot;: &quot;ncp node_modules/dwt/dist static/dwt-resources &amp;&amp; nuxt&quot;,\n  &quot;build&quot;: &quot;nuxt build&quot;,\n  &quot;start&quot;: &quot;nuxt start&quot;,\n  &quot;generate&quot;: &quot;nuxt generate &amp;&amp; ncp node_modules/dwt/dist dist/dwt-resources&quot;\n}\n</code></pre>\n<p>I use framwork nuxt js but error get path.</p>\n"},{"tags":["java","linux","uid"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1295974027,"creation_date":1295973492,"answer_id":4796235,"question_id":4796172,"body_markdown":"you can execute `id` command and read result.\r\n\r\nfor example:   \r\n\r\n`$ id -u jigar`\r\n\r\noutput:\r\n\r\n&gt;1000\r\n\r\n\r\n\r\nyou can execute command by\r\n\r\n    try {\r\n        String userName = System.getProperty(&quot;user.name&quot;);\r\n        String command = &quot;id -u &quot;+userName;\r\n        Process child = Runtime.getRuntime().exec(command);\r\n    \r\n        // Get the input stream and read from it\r\n        InputStream in = child.getInputStream();\r\n        int c;\r\n        while ((c = in.read()) != -1) {\r\n            process((char)c);\r\n        }\r\n        in.close();\r\n    } catch (IOException e) {\r\n    }\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: http://www.exampledepot.com/egs/java.lang/ReadFromCommand.html\r\n\r\n","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>you can execute <code>id</code> command and read result.</p>\n\n<p>for example:   </p>\n\n<p><code>$ id -u jigar</code></p>\n\n<p>output:</p>\n\n<blockquote>\n  <p>1000</p>\n</blockquote>\n\n<p>you can execute command by</p>\n\n<pre><code>try {\n    String userName = System.getProperty(\"user.name\");\n    String command = \"id -u \"+userName;\n    Process child = Runtime.getRuntime().exec(command);\n\n    // Get the input stream and read from it\n    InputStream in = child.getInputStream();\n    int c;\n    while ((c = in.read()) != -1) {\n        process((char)c);\n    }\n    in.close();\n} catch (IOException e) {\n}\n</code></pre>\n\n<p><a href=\"http://www.exampledepot.com/egs/java.lang/ReadFromCommand.html\" rel=\"noreferrer\">source</a></p>\n"},{"tags":[],"owner":{"display_name":"user346034"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1295974814,"creation_date":1295974814,"answer_id":4796516,"question_id":4796172,"body_markdown":"If you can influence how the Java VM is started, you could handover the *uid* as a user property:\r\n\r\n    java -Duserid=$(id -u) CoolApp\r\n\r\nIn your CoolApp, you could simply fetch the ID with:\r\n\r\n    System.getProperty(&quot;userid&quot;);\r\n\r\nRegards,\r\n\r\nMartin.","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>If you can influence how the Java VM is started, you could handover the <em>uid</em> as a user property:</p>\n\n<pre><code>java -Duserid=$(id -u) CoolApp\n</code></pre>\n\n<p>In your CoolApp, you could simply fetch the ID with:</p>\n\n<pre><code>System.getProperty(\"userid\");\n</code></pre>\n\n<p>Regards,</p>\n\n<p>Martin.</p>\n"},{"tags":[],"owner":{"account_id":72628,"reputation":32475,"user_id":209629,"accept_rate":58,"display_name":"vz0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295975012,"creation_date":1295975012,"answer_id":4796556,"question_id":4796172,"body_markdown":"Just open the `/etc/passwd` file and search for the line that has a user equal to `System.getProperty(&quot;user.name&quot;)`.","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>Just open the <code>/etc/passwd</code> file and search for the line that has a user equal to <code>System.getProperty(\"user.name\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":23933,"reputation":7284,"user_id":60462,"accept_rate":71,"display_name":"Volker Stolz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295977334,"creation_date":1295977334,"answer_id":4796952,"question_id":4796172,"body_markdown":"Another choice would be calling getuid() using JNI.","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>Another choice would be calling getuid() using JNI.</p>\n"},{"tags":[],"owner":{"account_id":346396,"reputation":4053,"user_id":679892,"display_name":"Erik Martino"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1552289114,"creation_date":1552289114,"answer_id":55096952,"question_id":4796172,"body_markdown":"There is actually an api for this. There is no need to call a shell command or use JNI, just\r\n\r\n    def uid = new com.sun.security.auth.module.UnixSystem().getUid()\r\n\r\n\r\n","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>There is actually an api for this. There is no need to call a shell command or use JNI, just</p>\n\n<pre><code>def uid = new com.sun.security.auth.module.UnixSystem().getUid()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4992892,"reputation":4470,"user_id":4014509,"accept_rate":77,"display_name":"Sebastian S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667294893,"creation_date":1667293777,"answer_id":74273652,"question_id":4796172,"body_markdown":"Just for the sake of completeness, here is a Java-only solution without any need for JNI, child processes or private API.\r\n\r\n**A word of warning**: This relies on the user home directory, which is not at all required to match the owner of the currently running Java process. Be sure about your targeted system environment, before blindly relying on this:\r\n\r\n```java\r\nPath userHome = Paths.get(System.getProperty(&quot;user.home&quot;));\r\nint uid = (Integer)Files.getAttribute(userHome, &quot;unix:uid&quot;)\r\n```","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>Just for the sake of completeness, here is a Java-only solution without any need for JNI, child processes or private API.</p>\n<p><strong>A word of warning</strong>: This relies on the user home directory, which is not at all required to match the owner of the currently running Java process. Be sure about your targeted system environment, before blindly relying on this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path userHome = Paths.get(System.getProperty(&quot;user.home&quot;));\nint uid = (Integer)Files.getAttribute(userHome, &quot;unix:uid&quot;)\n</code></pre>\n"}],"owner":{"account_id":91815,"reputation":7433,"user_id":251931,"accept_rate":75,"display_name":"kofucii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20213,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":4796235,"answer_count":6,"score":19,"last_activity_date":1667294893,"creation_date":1295973198,"question_id":4796172,"body_markdown":"Is there a way to get user&#39;s UID on Linux machine using java? I&#39;m aware of `System.getProperty(&quot;user.name&quot;);` method, but it return&#39;s user name and I&#39;m looking for UID.","title":"Is there a way to get user&#39;s UID on Linux machine using java?","body":"<p>Is there a way to get user's UID on Linux machine using java? I'm aware of <code>System.getProperty(\"user.name\");</code> method, but it return's user name and I'm looking for UID.</p>\n"},{"tags":["java","stream","distinct"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1667203624,"post_id":74260135,"comment_id":131106428,"body_markdown":"I cannot reproduce. What Java version and implementation do you use?","body":"I cannot reproduce. What Java version and implementation do you use?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1667204709,"post_id":74260135,"comment_id":131106679,"body_markdown":"Why are you turning a `Stream&lt;TestBean&gt;` into a `Stream&lt;List&lt;TestBean&gt;&gt;` (with each list having exactly one element), only to turn it back into a `Stream&lt;TestBean&gt;` with the `flatMap` operation?","body":"Why are you turning a <code>Stream&lt;TestBean&gt;</code> into a <code>Stream&lt;List&lt;TestBean&gt;&gt;</code> (with each list having exactly one element), only to turn it back into a <code>Stream&lt;TestBean&gt;</code> with the <code>flatMap</code> operation?"},{"owner":{"account_id":19730585,"reputation":1,"user_id":14446151,"display_name":"imlegend"},"score":0,"creation_date":1667205814,"post_id":74260135,"comment_id":131107025,"body_markdown":"1. java 8 and lombok package should be available for this test","body":"1. java 8 and lombok package should be available for this test"},{"owner":{"account_id":19730585,"reputation":1,"user_id":14446151,"display_name":"imlegend"},"score":0,"creation_date":1667205963,"post_id":74260135,"comment_id":131107067,"body_markdown":"2. In my code logic, Stream&lt;TestBean&gt; may produce a Stream&lt;List&lt;TestBean&gt; (with each list may have more than one element, but in this test, it does not exists).","body":"2. In my code logic, Stream&lt;TestBean&gt; may produce a Stream&lt;List&lt;TestBean&gt; (with each list may have more than one element, but in this test, it does not exists)."},{"owner":{"display_name":"user17233545"},"score":3,"creation_date":1667210079,"post_id":74260135,"comment_id":131108255,"body_markdown":"Don&#39;t modify the elements during intermediate processing of the stream.","body":"Don&#39;t modify the elements during intermediate processing of the stream."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667294430,"creation_date":1667213074,"answer_id":74262082,"question_id":74260135,"body_markdown":"The `distinct()` operation is filtering the set of items in the stream using `Object.equals(Object)`.\r\n\r\nHowever you are mutating the items as they are streamed - **a very bad idea for `Set` operations** - so in theory it is possible in your runs that the first `TestBean(col=bb)` is changed to `TestBean(col=bb_t)` before the final `TestBean(col=bb)` is handled by distinct(). Therefore at that moment there are 3 unique items in the stream seen by the `distinct()` step and the last `.map()` sees all three items.\r\n\r\nYou can verify by re-processing the stream without the &quot;.map()&quot; side effect or add `.distinct()` after `.map()`.\r\n\r\nTakeaway from this: Don&#39;t use distinct() or other set like operations on data structures that change fields used in `equals()` or `hashCode()` as this gives misleading / duplicates into `set.add()` operations. This is where Java records are useful as they cannot be changed and would eliminate errors from these type of side-effects:\r\n\r\n    record TestBean(String col) {}\r\n\r\n**Example**\r\n\r\nThe `@EqualsAndHashCode` tag on `TestBean` is generating the `equals` and `hashCode` calls which are essential for `Set` / `distinct()` operations to work. If the hashcode/equals changes after adding an item, the set won&#39;t work properly as it fails to match up the previous element as being a duplicate of a newly added element. Consider this simpler definition of TestBean which add same instance 5 times:\r\n\r\n    public static void main(String... args) {\r\n        class TestBean {\r\n            String col;\r\n            TestBean(String col) {\r\n                this.col = col;\r\n            }\r\n            // This is bad choice hashCode as it changes if &quot;col&quot; is changed:\r\n            public int hashCode() {\r\n                return col.hashCode();\r\n            }\r\n        }\r\n        Set&lt;TestBean&gt; set = new HashSet&lt;&gt;();\r\n        TestBean x = new TestBean(&quot;bb&quot;);\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            System.out.println(&quot;set.add(x)=&quot;+set.add(x));\r\n            System.out.println(&quot;set.size()=&quot;+set.size());\r\n            // Comment out next line or whole hashCode method:\r\n            x.col += &quot;_t&quot;;\r\n        }\r\n    }\r\n\r\nRun the above which adds same element to a set 5 times. You will see that `set.size()` may be 5 not 1. Comment out the line which causes the hashcode to change - or the `hashCode()` method, and `set.size()=1` as expected.\r\n","title":"Get unexpected result while using Java 8 Lambda Expression","body":"<p>The <code>distinct()</code> operation is filtering the set of items in the stream using <code>Object.equals(Object)</code>.</p>\n<p>However you are mutating the items as they are streamed - <strong>a very bad idea for <code>Set</code> operations</strong> - so in theory it is possible in your runs that the first <code>TestBean(col=bb)</code> is changed to <code>TestBean(col=bb_t)</code> before the final <code>TestBean(col=bb)</code> is handled by distinct(). Therefore at that moment there are 3 unique items in the stream seen by the <code>distinct()</code> step and the last <code>.map()</code> sees all three items.</p>\n<p>You can verify by re-processing the stream without the &quot;.map()&quot; side effect or add <code>.distinct()</code> after <code>.map()</code>.</p>\n<p>Takeaway from this: Don't use distinct() or other set like operations on data structures that change fields used in <code>equals()</code> or <code>hashCode()</code> as this gives misleading / duplicates into <code>set.add()</code> operations. This is where Java records are useful as they cannot be changed and would eliminate errors from these type of side-effects:</p>\n<pre><code>record TestBean(String col) {}\n</code></pre>\n<p><strong>Example</strong></p>\n<p>The <code>@EqualsAndHashCode</code> tag on <code>TestBean</code> is generating the <code>equals</code> and <code>hashCode</code> calls which are essential for <code>Set</code> / <code>distinct()</code> operations to work. If the hashcode/equals changes after adding an item, the set won't work properly as it fails to match up the previous element as being a duplicate of a newly added element. Consider this simpler definition of TestBean which add same instance 5 times:</p>\n<pre><code>public static void main(String... args) {\n    class TestBean {\n        String col;\n        TestBean(String col) {\n            this.col = col;\n        }\n        // This is bad choice hashCode as it changes if &quot;col&quot; is changed:\n        public int hashCode() {\n            return col.hashCode();\n        }\n    }\n    Set&lt;TestBean&gt; set = new HashSet&lt;&gt;();\n    TestBean x = new TestBean(&quot;bb&quot;);\n    for (int i = 0; i &lt; 5; i++) {\n        System.out.println(&quot;set.add(x)=&quot;+set.add(x));\n        System.out.println(&quot;set.size()=&quot;+set.size());\n        // Comment out next line or whole hashCode method:\n        x.col += &quot;_t&quot;;\n    }\n}\n</code></pre>\n<p>Run the above which adds same element to a set 5 times. You will see that <code>set.size()</code> may be 5 not 1. Comment out the line which causes the hashcode to change - or the <code>hashCode()</code> method, and <code>set.size()=1</code> as expected.</p>\n"}],"owner":{"account_id":19730585,"reputation":1,"user_id":14446151,"display_name":"imlegend"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667294430,"creation_date":1667202403,"question_id":74260135,"body_markdown":"I have changed my Test to make it reproduce easier: \r\nMinimize Test\r\n``` java\r\npublic class test {\r\n    public static void main(String[] args) {\r\n        List&lt;TestBean&gt; obj_list = Arrays.asList(new TestBean(&quot;aa&quot;), new TestBean(&quot;bb&quot; ), new TestBean(&quot;bb&quot;)).stream()\r\n                .distinct().map(tt -&gt; {\r\n                    tt.col = tt.col + &quot;_t&quot;;\r\n                    return tt;\r\n                }).collect(Collectors.toList());\r\n        System.out.println(obj_list);\r\n\r\n        List&lt;String&gt; string_obj_list = Arrays.asList(new String(&quot;1&quot;), new String(&quot;2&quot;), new String(&quot;2&quot;)).stream().distinct().map(t -&gt; t + &quot;_t&quot;).collect(Collectors.toList());\r\n        System.out.println(string_obj_list);\r\n\r\n        List&lt;String&gt; string_list = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;2&quot;).stream().distinct().map(t -&gt; t + &quot;_t&quot;).collect(Collectors.toList());\r\n        System.out.println(string_list);\r\n    }\r\n}\r\n@Data\r\n@AllArgsConstructor\r\n@EqualsAndHashCode\r\nclass TestBean {\r\n    String col;\r\n}\r\n```\r\nthe result is below, the line one is abnormal for me to understand:\r\n```\r\n[TestBean(col=aa_t), TestBean(col=bb_t), TestBean(col=bb_t)]\r\n[1_t, 2_t]\r\n[1_t, 2_t]\r\n```\r\n\r\n----------original question is below -------------------------------\r\n\r\nmy logic step:\r\n1. produce a list of stream\r\n2. map each element to list stream\r\n3. collect list stream to one stream\r\n4. distinct element \r\n5. map function apply to each element and collect the result to a list\r\n\r\nhowever , the result does not do distinct logic (step 4) ,which is that i can not understand\r\n\r\n```java\r\npublic class test {\r\n    public static void main(String[] args) {\r\n        List&lt;TestBean&gt; stage1 = Arrays.asList(new TestBean(&quot;aa&quot;, null), new TestBean(&quot;bb&quot;, null), new TestBean(&quot;bb&quot;, null)).stream()\r\n                .map(tt -&gt; {\r\n                    return Arrays.asList(tt);\r\n                })\r\n                .flatMap(Collection::stream).distinct().collect(Collectors.toList());\r\n        List&lt;Object&gt; stage2 = stage1.stream().map(tt -&gt; {\r\n            tt.setCol2(tt.col1);\r\n            return tt;\r\n        }).collect(Collectors.toList());\r\n        System.out.println(stage1);\r\n        System.out.println(stage2);\r\n\r\n        List&lt;TestBean&gt; stage_all = Arrays.asList(new TestBean(&quot;aa&quot;, null), new TestBean(&quot;bb&quot;, null), new TestBean(&quot;bb&quot;, null)).stream()\r\n                .map(tt -&gt; {\r\n                    return Arrays.asList(tt);\r\n                })\r\n                .flatMap(Collection::stream).distinct().map(tt -&gt; {\r\n                    tt.setCol2(tt.col1);\r\n                    return tt;\r\n                }).collect(Collectors.toList());\r\n        System.out.println(stage_all);\r\n    }\r\n}\r\n@Data\r\n@AllArgsConstructor\r\n@EqualsAndHashCode\r\nclass TestBean {\r\n    String col1;\r\n    String col2;\r\n}\r\n```\r\n\r\nthe result is \r\n```txt\r\n[TestBean(col1=aa, col2=aa), TestBean(col1=bb, col2=bb)]\r\n[TestBean(col1=aa, col2=aa), TestBean(col1=bb, col2=bb)]\r\n[TestBean(col1=aa, col2=aa), TestBean(col1=bb, col2=bb), TestBean(col1=bb, col2=bb)]\r\n```\r\nline three is abnormal for me. \r\n\r\n\r\n","title":"Get unexpected result while using Java 8 Lambda Expression","body":"<p>I have changed my Test to make it reproduce easier:\nMinimize Test</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class test {\n    public static void main(String[] args) {\n        List&lt;TestBean&gt; obj_list = Arrays.asList(new TestBean(&quot;aa&quot;), new TestBean(&quot;bb&quot; ), new TestBean(&quot;bb&quot;)).stream()\n                .distinct().map(tt -&gt; {\n                    tt.col = tt.col + &quot;_t&quot;;\n                    return tt;\n                }).collect(Collectors.toList());\n        System.out.println(obj_list);\n\n        List&lt;String&gt; string_obj_list = Arrays.asList(new String(&quot;1&quot;), new String(&quot;2&quot;), new String(&quot;2&quot;)).stream().distinct().map(t -&gt; t + &quot;_t&quot;).collect(Collectors.toList());\n        System.out.println(string_obj_list);\n\n        List&lt;String&gt; string_list = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;2&quot;).stream().distinct().map(t -&gt; t + &quot;_t&quot;).collect(Collectors.toList());\n        System.out.println(string_list);\n    }\n}\n@Data\n@AllArgsConstructor\n@EqualsAndHashCode\nclass TestBean {\n    String col;\n}\n</code></pre>\n<p>the result is below, the line one is abnormal for me to understand:</p>\n<pre><code>[TestBean(col=aa_t), TestBean(col=bb_t), TestBean(col=bb_t)]\n[1_t, 2_t]\n[1_t, 2_t]\n</code></pre>\n<p>----------original question is below -------------------------------</p>\n<p>my logic step:</p>\n<ol>\n<li>produce a list of stream</li>\n<li>map each element to list stream</li>\n<li>collect list stream to one stream</li>\n<li>distinct element</li>\n<li>map function apply to each element and collect the result to a list</li>\n</ol>\n<p>however , the result does not do distinct logic (step 4) ,which is that i can not understand</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class test {\n    public static void main(String[] args) {\n        List&lt;TestBean&gt; stage1 = Arrays.asList(new TestBean(&quot;aa&quot;, null), new TestBean(&quot;bb&quot;, null), new TestBean(&quot;bb&quot;, null)).stream()\n                .map(tt -&gt; {\n                    return Arrays.asList(tt);\n                })\n                .flatMap(Collection::stream).distinct().collect(Collectors.toList());\n        List&lt;Object&gt; stage2 = stage1.stream().map(tt -&gt; {\n            tt.setCol2(tt.col1);\n            return tt;\n        }).collect(Collectors.toList());\n        System.out.println(stage1);\n        System.out.println(stage2);\n\n        List&lt;TestBean&gt; stage_all = Arrays.asList(new TestBean(&quot;aa&quot;, null), new TestBean(&quot;bb&quot;, null), new TestBean(&quot;bb&quot;, null)).stream()\n                .map(tt -&gt; {\n                    return Arrays.asList(tt);\n                })\n                .flatMap(Collection::stream).distinct().map(tt -&gt; {\n                    tt.setCol2(tt.col1);\n                    return tt;\n                }).collect(Collectors.toList());\n        System.out.println(stage_all);\n    }\n}\n@Data\n@AllArgsConstructor\n@EqualsAndHashCode\nclass TestBean {\n    String col1;\n    String col2;\n}\n</code></pre>\n<p>the result is</p>\n<pre><code>[TestBean(col1=aa, col2=aa), TestBean(col1=bb, col2=bb)]\n[TestBean(col1=aa, col2=aa), TestBean(col1=bb, col2=bb)]\n[TestBean(col1=aa, col2=aa), TestBean(col1=bb, col2=bb), TestBean(col1=bb, col2=bb)]\n</code></pre>\n<p>line three is abnormal for me.</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1667271491,"post_id":74270788,"comment_id":131124900,"body_markdown":"I wonder what do you want to achieve? You have set of long-running tasks and you run it in a chane? Why do you use threads here?","body":"I wonder what do you want to achieve? You have set of long-running tasks and you run it in a chane? Why do you use threads here?"},{"owner":{"account_id":25867084,"reputation":33,"user_id":19598568,"display_name":"Suh. Junmin"},"score":0,"creation_date":1667274058,"post_id":74270788,"comment_id":131125217,"body_markdown":"@oleg.cherednik\nthanks for reply. first or all I want chain task1, task2, task3 ... as sequential. so, after task1 finish than run task2. after task2 finished then run task3 so on. finally retrieve all results as list. I just want to archive run multiple completionstage as sequential order. completablefuture.thenCompose or whatever api merge result from previous stage but I don&#39;t want to merge. and completablefuture.allOf API is run all tasks as parallel.","body":"@oleg.cherednik thanks for reply. first or all I want chain task1, task2, task3 ... as sequential. so, after task1 finish than run task2. after task2 finished then run task3 so on. finally retrieve all results as list. I just want to archive run multiple completionstage as sequential order. completablefuture.thenCompose or whatever api merge result from previous stage but I don&#39;t want to merge. and completablefuture.allOf API is run all tasks as parallel."}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667294219,"creation_date":1667292320,"answer_id":74273428,"question_id":74270788,"body_markdown":"This should work:\r\n```\r\nList&lt;Integer&gt; arr = IntStream.range(1, 10).boxed().collect(Collectors.toList());\r\n\r\nCompletionStage&lt;Void&gt; loopStage = CompletableFuture.completedFuture( null );\r\nfinal List&lt;Integer&gt; resultList = new ArrayList&lt;&gt;();\r\nfor (Integer element: arr) {\r\n\tloopStage = loopStage\r\n\t\t\t.thenCompose( v -&gt; process( element ) )\r\n\t\t\t.thenAccept( resultList::add );\r\n}\r\n\r\nloopStage.toCompletableFuture().join();\r\n\r\n// resultList now contains all the results\r\nSystem.out.println(resultList);\r\n```\r\n\r\nor\r\n\r\n```\r\nList&lt;Integer&gt; arr = IntStream.range( 1, 10 ).boxed().collect( Collectors.toList() );\r\nCompletionStage&lt;List&lt;Integer&gt;&gt; listStage = CompletableFuture.completedFuture( new ArrayList&lt;&gt;() );\r\nfor ( Integer element : arr ) {\r\n\tlistStage = listStage\r\n\t\t\t.thenCompose( list -&gt; process( element )\r\n\t\t\t\t\t.thenAccept( list::add )\r\n\t\t\t\t\t.thenApply( v -&gt; list )\r\n            );\r\n}\r\n\r\nList&lt;Integer&gt; resultList = listStage.toCompletableFuture().join();\r\n\r\nSystem.out.println(resultList);\r\n```","title":"chain multiple CompletableFuture as sequential and collect all results as list","body":"<p>This should work:</p>\n<pre><code>List&lt;Integer&gt; arr = IntStream.range(1, 10).boxed().collect(Collectors.toList());\n\nCompletionStage&lt;Void&gt; loopStage = CompletableFuture.completedFuture( null );\nfinal List&lt;Integer&gt; resultList = new ArrayList&lt;&gt;();\nfor (Integer element: arr) {\n    loopStage = loopStage\n            .thenCompose( v -&gt; process( element ) )\n            .thenAccept( resultList::add );\n}\n\nloopStage.toCompletableFuture().join();\n\n// resultList now contains all the results\nSystem.out.println(resultList);\n</code></pre>\n<p>or</p>\n<pre><code>List&lt;Integer&gt; arr = IntStream.range( 1, 10 ).boxed().collect( Collectors.toList() );\nCompletionStage&lt;List&lt;Integer&gt;&gt; listStage = CompletableFuture.completedFuture( new ArrayList&lt;&gt;() );\nfor ( Integer element : arr ) {\n    listStage = listStage\n            .thenCompose( list -&gt; process( element )\n                    .thenAccept( list::add )\n                    .thenApply( v -&gt; list )\n            );\n}\n\nList&lt;Integer&gt; resultList = listStage.toCompletableFuture().join();\n\nSystem.out.println(resultList);\n</code></pre>\n"}],"owner":{"account_id":25867084,"reputation":33,"user_id":19598568,"display_name":"Suh. Junmin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74273428,"answer_count":1,"score":3,"last_activity_date":1667294219,"creation_date":1667268286,"question_id":74270788,"body_markdown":"I have a long running business job with the return type &#39;CompletionStage&#39;.\r\n\r\nAnd I want to run these tasks several times through for loop and I want to retrieve results as a list.\r\n\r\nHowever, this task must be executed sequentially due to the concurrency issue.\r\n\r\nhere is the example process function that return `CompletionStage`\r\n\r\n\r\n```java\r\nprivate CompletionStage&lt;Integer&gt; process(int a) {\r\n    return CompletableFuture.supplyAsync(() -&gt; {\r\n        System.err.printf(&quot;%s dispatch %d\\n&quot;, LocalDateTime.now(), a);\r\n\r\n        // some long running business process\r\n        return a + 10;\r\n    }).whenCompleteAsync((e, t) -&gt; {\r\n        if (t != null)\r\n            System.err.printf(&quot;!!! error processing &#39;%d&#39; !!!\\n&quot;, a);\r\n\r\n        System.err.printf(&quot;%s finish %d\\n&quot;, LocalDateTime.now(), e);\r\n    });\r\n}\r\n```\r\n\r\n\r\nmy first approach was success\r\n\r\n```java\r\n// First approach\r\n\r\nList&lt;Integer&gt; arr = IntStream.range(1, 10).boxed().collect(Collectors.toList());\r\n\r\nCompletionStage&lt;List&lt;Integer&gt;&gt; result = CompletableFuture.completedFuture(new ArrayList&lt;&gt;());\r\nfor (Integer element: arr) {\r\n    result = result.thenApplyAsync((ret) -&gt; {\r\n        Integer a = process(element).toCompletableFuture().join();\r\n\r\n        ret.add(a);\r\n\r\n        return ret;\r\n    });\r\n}\r\n\r\nList&lt;Integer&gt; computeResult = result.toCompletableFuture().join();\r\n```\r\n\r\n```\r\n2022-11-01T10:43:24.571573 dispatch 1\r\n2022-11-01T10:43:24.571999 finish 11\r\n2022-11-01T10:43:24.572414 dispatch 2\r\n2022-11-01T10:43:24.572629 finish 12\r\n2022-11-01T10:43:24.572825 dispatch 3\r\n2022-11-01T10:43:24.572984 finish 13\r\n2022-11-01T10:43:24.573097 dispatch 4\r\n2022-11-01T10:43:24.573227 finish 14\r\n2022-11-01T10:43:24.573354 dispatch 5\r\n2022-11-01T10:43:24.573541 finish 15\r\n2022-11-01T10:43:24.573657 dispatch 6\r\n2022-11-01T10:43:24.573813 finish 16\r\n2022-11-01T10:43:24.573929 dispatch 7\r\n2022-11-01T10:43:24.574055 finish 17\r\n2022-11-01T10:43:24.574168 dispatch 8\r\n2022-11-01T10:43:24.574326 finish 18\r\n2022-11-01T10:43:24.574428 dispatch 9\r\n2022-11-01T10:43:24.574589 finish 19\r\n```\r\n\r\nbut as you can see, wait completablefuture inside completablefuture is bit weird i think.\r\n\r\nbecause one stage consumes two threads.\r\n\r\nso, i decide to refactor it.\r\n\r\nbut the second approach was failed\r\n\r\n```java\r\n\r\n// Second approach\r\nList&lt;Integer&gt; arr = IntStream.range(1, 10).boxed().collect(Collectors.toList());\r\n\r\nCompletionStage&lt;List&lt;Integer&gt;&gt; result = CompletableFuture.completedFuture(new ArrayList&lt;&gt;());\r\nfor (Integer element : arr) {\r\n    result = result.thenCombineAsync(process(element), (array, ret) -&gt; { array.add(ret); return array; });\r\n}\r\n\r\nresult.toCompletableFuture().join();\r\n```\r\n\r\n```\r\n2022-11-01T10:44:36.875930 dispatch 1\r\n2022-11-01T10:44:36.876438 finish 11\r\n2022-11-01T10:44:36.876461 dispatch 2\r\n2022-11-01T10:44:36.876832 dispatch 4\r\n2022-11-01T10:44:36.876847 finish 12\r\n2022-11-01T10:44:36.876908 dispatch 3\r\n2022-11-01T10:44:36.876968 dispatch 5\r\n2022-11-01T10:44:36.877108 dispatch 8\r\n2022-11-01T10:44:36.877042 dispatch 6\r\n2022-11-01T10:44:36.876988 finish 14\r\n2022-11-01T10:44:36.877123 dispatch 9\r\n2022-11-01T10:44:36.877275 finish 18\r\n2022-11-01T10:44:36.877195 finish 15\r\n2022-11-01T10:44:36.877371 finish 19\r\n2022-11-01T10:44:36.877262 dispatch 7\r\n2022-11-01T10:44:36.877316 finish 16\r\n2022-11-01T10:44:36.877191 finish 13\r\n2022-11-01T10:44:36.877553 finish 17\r\n```\r\n\r\nand I don&#39;t have any idea how to chain and retrieve results.\r\n\r\nIs there a better way to retrieve results from multiple CompletionStages?\r\n","title":"chain multiple CompletableFuture as sequential and collect all results as list","body":"<p>I have a long running business job with the return type 'CompletionStage'.</p>\n<p>And I want to run these tasks several times through for loop and I want to retrieve results as a list.</p>\n<p>However, this task must be executed sequentially due to the concurrency issue.</p>\n<p>here is the example process function that return <code>CompletionStage</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>private CompletionStage&lt;Integer&gt; process(int a) {\n    return CompletableFuture.supplyAsync(() -&gt; {\n        System.err.printf(&quot;%s dispatch %d\\n&quot;, LocalDateTime.now(), a);\n\n        // some long running business process\n        return a + 10;\n    }).whenCompleteAsync((e, t) -&gt; {\n        if (t != null)\n            System.err.printf(&quot;!!! error processing '%d' !!!\\n&quot;, a);\n\n        System.err.printf(&quot;%s finish %d\\n&quot;, LocalDateTime.now(), e);\n    });\n}\n</code></pre>\n<p>my first approach was success</p>\n<pre class=\"lang-java prettyprint-override\"><code>// First approach\n\nList&lt;Integer&gt; arr = IntStream.range(1, 10).boxed().collect(Collectors.toList());\n\nCompletionStage&lt;List&lt;Integer&gt;&gt; result = CompletableFuture.completedFuture(new ArrayList&lt;&gt;());\nfor (Integer element: arr) {\n    result = result.thenApplyAsync((ret) -&gt; {\n        Integer a = process(element).toCompletableFuture().join();\n\n        ret.add(a);\n\n        return ret;\n    });\n}\n\nList&lt;Integer&gt; computeResult = result.toCompletableFuture().join();\n</code></pre>\n<pre><code>2022-11-01T10:43:24.571573 dispatch 1\n2022-11-01T10:43:24.571999 finish 11\n2022-11-01T10:43:24.572414 dispatch 2\n2022-11-01T10:43:24.572629 finish 12\n2022-11-01T10:43:24.572825 dispatch 3\n2022-11-01T10:43:24.572984 finish 13\n2022-11-01T10:43:24.573097 dispatch 4\n2022-11-01T10:43:24.573227 finish 14\n2022-11-01T10:43:24.573354 dispatch 5\n2022-11-01T10:43:24.573541 finish 15\n2022-11-01T10:43:24.573657 dispatch 6\n2022-11-01T10:43:24.573813 finish 16\n2022-11-01T10:43:24.573929 dispatch 7\n2022-11-01T10:43:24.574055 finish 17\n2022-11-01T10:43:24.574168 dispatch 8\n2022-11-01T10:43:24.574326 finish 18\n2022-11-01T10:43:24.574428 dispatch 9\n2022-11-01T10:43:24.574589 finish 19\n</code></pre>\n<p>but as you can see, wait completablefuture inside completablefuture is bit weird i think.</p>\n<p>because one stage consumes two threads.</p>\n<p>so, i decide to refactor it.</p>\n<p>but the second approach was failed</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n// Second approach\nList&lt;Integer&gt; arr = IntStream.range(1, 10).boxed().collect(Collectors.toList());\n\nCompletionStage&lt;List&lt;Integer&gt;&gt; result = CompletableFuture.completedFuture(new ArrayList&lt;&gt;());\nfor (Integer element : arr) {\n    result = result.thenCombineAsync(process(element), (array, ret) -&gt; { array.add(ret); return array; });\n}\n\nresult.toCompletableFuture().join();\n</code></pre>\n<pre><code>2022-11-01T10:44:36.875930 dispatch 1\n2022-11-01T10:44:36.876438 finish 11\n2022-11-01T10:44:36.876461 dispatch 2\n2022-11-01T10:44:36.876832 dispatch 4\n2022-11-01T10:44:36.876847 finish 12\n2022-11-01T10:44:36.876908 dispatch 3\n2022-11-01T10:44:36.876968 dispatch 5\n2022-11-01T10:44:36.877108 dispatch 8\n2022-11-01T10:44:36.877042 dispatch 6\n2022-11-01T10:44:36.876988 finish 14\n2022-11-01T10:44:36.877123 dispatch 9\n2022-11-01T10:44:36.877275 finish 18\n2022-11-01T10:44:36.877195 finish 15\n2022-11-01T10:44:36.877371 finish 19\n2022-11-01T10:44:36.877262 dispatch 7\n2022-11-01T10:44:36.877316 finish 16\n2022-11-01T10:44:36.877191 finish 13\n2022-11-01T10:44:36.877553 finish 17\n</code></pre>\n<p>and I don't have any idea how to chain and retrieve results.</p>\n<p>Is there a better way to retrieve results from multiple CompletionStages?</p>\n"},{"tags":["java","sql","spring","spring-boot","h2"],"comments":[{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":0,"creation_date":1667282279,"post_id":74271958,"comment_id":131126313,"body_markdown":"try to clean-compile your project, and invalidate caches/restart your idea.","body":"try to clean-compile your project, and invalidate caches/restart your idea."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667284124,"post_id":74271958,"comment_id":131126658,"body_markdown":"Check your IDE and environment for a `SPRING_DATASOURCE_URL` variable which will always override the one configured in the `application.properties`.","body":"Check your IDE and environment for a <code>SPRING_DATASOURCE_URL</code> variable which will always override the one configured in the <code>application.properties</code>."},{"owner":{"account_id":26791482,"reputation":1,"user_id":20384828,"display_name":"maks_rosenfeld"},"score":0,"creation_date":1667293667,"post_id":74271958,"comment_id":131128805,"body_markdown":"There was such a env var in environmental vars as SPRING_DATASOURCE_URL but have already deleted and no effect and clean-compile also doesn&#39;t help","body":"There was such a env var in environmental vars as SPRING_DATASOURCE_URL but have already deleted and no effect and clean-compile also doesn&#39;t help"}],"answers":[{"tags":[],"owner":{"account_id":26647380,"reputation":28,"user_id":20262142,"display_name":"RedSnack-BCS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667285449,"creation_date":1667285449,"answer_id":74272436,"question_id":74271958,"body_markdown":"This error is attributed to the project have not compile.You use spring-boot-devtools in the project.But the plug-in stops compiling automatically duing running or debugging, at this time need build the project.\r\n\r\nYou can do this:\r\n\r\n 1. Stop the project,delete the target folder and build the project.\r\n 2. Run project and have a try.\r\n\r\nYou also need check idea conifg adout devtools,something might be wrong.\r\nAnd you can use Jrebel instead of devtools.","title":"Driver org.h2.Driver claims to not accept jdbcUrl, jdbc:postgresql://my-previous-db","body":"<p>This error is attributed to the project have not compile.You use spring-boot-devtools in the project.But the plug-in stops compiling automatically duing running or debugging, at this time need build the project.</p>\n<p>You can do this:</p>\n<ol>\n<li>Stop the project,delete the target folder and build the project.</li>\n<li>Run project and have a try.</li>\n</ol>\n<p>You also need check idea conifg adout devtools,something might be wrong.\nAnd you can use Jrebel instead of devtools.</p>\n"}],"owner":{"account_id":26791482,"reputation":1,"user_id":20384828,"display_name":"maks_rosenfeld"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667293819,"creation_date":1667281357,"question_id":74271958,"body_markdown":"I try to use H2 database in my new project, before I used postgres. Wrote all data in application.properties, also there is nothing about postgres driver in pom file, only H2 driver, but during auto-configuration each time it tries to connect to my previous database as a result shows this error. \r\n\r\n`Driver org.h2.Driver claims to not accept jdbcUrl, jdbc:postgresql://{my-previous-db-url}`\r\n\r\nCould anyone help to solve the problem?\r\n\r\napplication.properties\r\n```\r\nspring.datasource.generate-unique-name=false\r\nspring.datasource.name=taco\r\nspring.datasource.url=jdbc:h2:mem:taco\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=user\r\nspring.datasource.password=password\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n```\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;MyProject&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;MyProject&lt;/name&gt;\r\n    &lt;description&gt;TacoExample&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have no idea what to do, tried to find any info about parent pom.file but had no success\r\n\r\n**UPDATE:** also forgtot that if I specify datasource bean in configuration, everything is ok. But I can&#39;t understand where does Spring boot takes the URL to the previos database by Autoconfiguration","title":"Driver org.h2.Driver claims to not accept jdbcUrl, jdbc:postgresql://my-previous-db","body":"<p>I try to use H2 database in my new project, before I used postgres. Wrote all data in application.properties, also there is nothing about postgres driver in pom file, only H2 driver, but during auto-configuration each time it tries to connect to my previous database as a result shows this error.</p>\n<p><code>Driver org.h2.Driver claims to not accept jdbcUrl, jdbc:postgresql://{my-previous-db-url}</code></p>\n<p>Could anyone help to solve the problem?</p>\n<p>application.properties</p>\n<pre><code>spring.datasource.generate-unique-name=false\nspring.datasource.name=taco\nspring.datasource.url=jdbc:h2:mem:taco\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=user\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;MyProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;MyProject&lt;/name&gt;\n    &lt;description&gt;TacoExample&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n</code></pre>\n<p>I have no idea what to do, tried to find any info about parent pom.file but had no success</p>\n<p><strong>UPDATE:</strong> also forgtot that if I specify datasource bean in configuration, everything is ok. But I can't understand where does Spring boot takes the URL to the previos database by Autoconfiguration</p>\n"},{"tags":["java","android","android-layout","navigation-drawer"],"comments":[{"owner":{"account_id":3071381,"reputation":583,"user_id":2601959,"accept_rate":43,"display_name":"Muhammad Umair"},"score":0,"creation_date":1505803144,"post_id":46293481,"comment_id":79549413,"body_markdown":"I am talking about drawer movement.. I want to move screen with drawer as shown in second image","body":"I am talking about drawer movement.. I want to move screen with drawer as shown in second image"},{"owner":{"account_id":11568600,"reputation":1418,"user_id":8476022,"accept_rate":90,"display_name":"Amrutha Saj"},"score":1,"creation_date":1505803189,"post_id":46293481,"comment_id":79549436,"body_markdown":"please refer https://stackoverflow.com/questions/19577630/push-activity-on-the-right-when-open-drawer","body":"please refer <a href=\"https://stackoverflow.com/questions/19577630/push-activity-on-the-right-when-open-drawer\" title=\"push activity on the right when open drawer\">stackoverflow.com/questions/19577630/&hellip;</a>"}],"owner":{"account_id":3071381,"reputation":583,"user_id":2601959,"accept_rate":43,"display_name":"Muhammad Umair"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":870,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1667293784,"creation_date":1505802939,"question_id":46293481,"body_markdown":"I have implemented drawer navigation in android which is visually look like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut I want a navigation drawer like this \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI have tried alot but unable to do so. I have tried the following code:\r\n\r\n     drawer.addDrawerListener(new DrawerLayout.DrawerListener() {\r\n    \r\n                @Override\r\n                public void onDrawerSlide(View drawerView, float slideOffset) {\r\n                    //Called when a drawer&#39;s position changes.\r\n                    drawer.findViewById(R.id.drawer_layout).setTranslationX(drawerView.getWidth() * slideOffset);\r\n                }\r\n    \r\n                @Override\r\n                public void onDrawerOpened(View drawerView) {\r\n                    //Called when a drawer has settled in a completely open state.\r\n                    //The drawer is interactive at this point.\r\n                    // If you have 2 drawers (left and right) you can distinguish\r\n                    // them by using id of the drawerView. int id = drawerView.getId();\r\n                    // id will be your layout&#39;s id: for example R.id.left_drawer\r\n                }\r\n    \r\n                @Override\r\n                public void onDrawerClosed(View drawerView) {\r\n                    // Called when a drawer has settled in a completely closed state.\r\n                }\r\n    \r\n                @Override\r\n                public void onDrawerStateChanged(int newState) {\r\n                    // Called when the drawer motion state changes. The new state will be one of STATE_IDLE, STATE_DRAGGING or STATE_SETTLING.\r\n                }\r\n            });\r\n\r\nI am not getting the correct result. Here is the screen shot:\r\n\r\n[![enter image description here][3]][3]\r\n \r\n\r\n  [1]: https://i.stack.imgur.com/3Wlno.png\r\n  [2]: https://i.stack.imgur.com/zl2am.jpg\r\n  [3]: https://i.stack.imgur.com/IWxfY.png","title":"Move screen with navigation drawer","body":"<p>I have implemented drawer navigation in android which is visually look like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/3Wlno.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Wlno.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I want a navigation drawer like this </p>\n\n<p><a href=\"https://i.stack.imgur.com/zl2am.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zl2am.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried alot but unable to do so. I have tried the following code:</p>\n\n<pre><code> drawer.addDrawerListener(new DrawerLayout.DrawerListener() {\n\n            @Override\n            public void onDrawerSlide(View drawerView, float slideOffset) {\n                //Called when a drawer's position changes.\n                drawer.findViewById(R.id.drawer_layout).setTranslationX(drawerView.getWidth() * slideOffset);\n            }\n\n            @Override\n            public void onDrawerOpened(View drawerView) {\n                //Called when a drawer has settled in a completely open state.\n                //The drawer is interactive at this point.\n                // If you have 2 drawers (left and right) you can distinguish\n                // them by using id of the drawerView. int id = drawerView.getId();\n                // id will be your layout's id: for example R.id.left_drawer\n            }\n\n            @Override\n            public void onDrawerClosed(View drawerView) {\n                // Called when a drawer has settled in a completely closed state.\n            }\n\n            @Override\n            public void onDrawerStateChanged(int newState) {\n                // Called when the drawer motion state changes. The new state will be one of STATE_IDLE, STATE_DRAGGING or STATE_SETTLING.\n            }\n        });\n</code></pre>\n\n<p>I am not getting the correct result. Here is the screen shot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IWxfY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IWxfY.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","swing","javafx","jpanel","flowpane"],"answers":[{"tags":[],"owner":{"account_id":5333022,"reputation":108,"user_id":4253078,"accept_rate":82,"display_name":"Finn von Holten"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1571998024,"creation_date":1571998024,"answer_id":58556444,"question_id":58555982,"body_markdown":"Yes this is possible: Add your JPanel to a SwingNode and then put it into your FlowPane:\r\n\r\n    SwingNode node = new SwingNode()\r\n    node.setContent(pad.startSiganture());\r\n    FlowPane flow = new FlowPane();\r\n    flow.getChildren.addAll(node);","title":"Adding a JPanel to Javafx","body":"<p>Yes this is possible: Add your JPanel to a SwingNode and then put it into your FlowPane:</p>\n\n<pre><code>SwingNode node = new SwingNode()\nnode.setContent(pad.startSiganture());\nFlowPane flow = new FlowPane();\nflow.getChildren.addAll(node);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667293543,"creation_date":1571999181,"answer_id":58556740,"question_id":58555982,"body_markdown":"Yes, that is achievable through a SwingNode which is a JavaFX node that can contain swing content, see what the documentation says :\r\n\r\nThis class is used to embed Swing content into a JavaFX application. The content to be displayed is specified with the setContent(javax.swing.JComponent) method that accepts an instance of Swing JComponent. The hierarchy of components in the JComponent instance should not contain any heavyweight components, otherwise, SwingNode may fail to paint it. The content gets repainted automatically. All the input and focus events are forwarded to the JComponent instance transparently to the developer. \r\n\r\nHere is a typical pattern that demonstrates how SwingNode can be used: \r\n\r\n\r\n    public class SwingFx extends Application {\r\n\r\n         @Override\r\n         public void start(Stage stage) {\r\n             final SwingNode swingNode = new SwingNode();\r\n             createAndSetSwingContent(swingNode);\r\n\r\n             StackPane pane = new StackPane();\r\n             pane.getChildren().add(swingNode);\r\n\r\n             stage.setScene(new Scene(pane, 100, 50));\r\n             stage.show();\r\n         }\r\n\r\n         private void createAndSetSwingContent(final SwingNode swingNode) {\r\n             SwingUtilities.invokeLater(new Runnable() {\r\n                 @Override\r\n                 public void run() {\r\n                     swingNode.setContent(new JButton(&quot;Click me!&quot;));\r\n                 }\r\n             });\r\n         }\r\n \r\n         public static void main(String[] args) {\r\n             launch(args);\r\n         }\r\n     }\r\n","title":"Adding a JPanel to Javafx","body":"<p>Yes, that is achievable through a SwingNode which is a JavaFX node that can contain swing content, see what the documentation says :</p>\n<p>This class is used to embed Swing content into a JavaFX application. The content to be displayed is specified with the setContent(javax.swing.JComponent) method that accepts an instance of Swing JComponent. The hierarchy of components in the JComponent instance should not contain any heavyweight components, otherwise, SwingNode may fail to paint it. The content gets repainted automatically. All the input and focus events are forwarded to the JComponent instance transparently to the developer.</p>\n<p>Here is a typical pattern that demonstrates how SwingNode can be used:</p>\n<pre><code>public class SwingFx extends Application {\n\n     @Override\n     public void start(Stage stage) {\n         final SwingNode swingNode = new SwingNode();\n         createAndSetSwingContent(swingNode);\n\n         StackPane pane = new StackPane();\n         pane.getChildren().add(swingNode);\n\n         stage.setScene(new Scene(pane, 100, 50));\n         stage.show();\n     }\n\n     private void createAndSetSwingContent(final SwingNode swingNode) {\n         SwingUtilities.invokeLater(new Runnable() {\n             @Override\n             public void run() {\n                 swingNode.setContent(new JButton(&quot;Click me!&quot;));\n             }\n         });\n     }\n\n     public static void main(String[] args) {\n         launch(args);\n     }\n }\n</code></pre>\n"}],"owner":{"account_id":16967707,"reputation":23,"user_id":12273143,"display_name":"YXCD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58556444,"answer_count":2,"score":2,"last_activity_date":1667293543,"creation_date":1571996445,"question_id":58555982,"body_markdown":"I&#39;m currently working on a signature solution for digital signatures. I received a signature tablet that came with an API. The API is closed and I can&#39;t change anything in it. The problem is now for me that I can&#39;t handle the reponses of the device. When doing a signature or drawing something, I receive an answer in form of a JPanel. Since I&#39;m programming with JavaFX scenes I now don&#39;t know how to include the JPanel into my scene. I only learned to work with JavaFx, so I don&#39;t really know a lot about JPanels and stuff.\r\n\r\nSo.. I wonder if there is a way to add a Jpanel to a FlowPane. All I found about this topic were threads about the other way around.. When people tried to add javafx-Components to Jpanel. But not this way around.. so Maybe it&#39;s very obvious how to do it but I don&#39;t get it.\r\n\r\n    JPanel x = pad.startSiganture();\r\n    FlowPane flow = new FlowPane();\r\n    flow.getChildren.addAll(x);\r\n\r\nBasically that&#39;s what I would dream of, what of course doesn&#39;t work. So.. Thanks for any reponses, I hope its possible. \r\n\r\nYXCD","title":"Adding a JPanel to Javafx","body":"<p>I'm currently working on a signature solution for digital signatures. I received a signature tablet that came with an API. The API is closed and I can't change anything in it. The problem is now for me that I can't handle the reponses of the device. When doing a signature or drawing something, I receive an answer in form of a JPanel. Since I'm programming with JavaFX scenes I now don't know how to include the JPanel into my scene. I only learned to work with JavaFx, so I don't really know a lot about JPanels and stuff.</p>\n\n<p>So.. I wonder if there is a way to add a Jpanel to a FlowPane. All I found about this topic were threads about the other way around.. When people tried to add javafx-Components to Jpanel. But not this way around.. so Maybe it's very obvious how to do it but I don't get it.</p>\n\n<pre><code>JPanel x = pad.startSiganture();\nFlowPane flow = new FlowPane();\nflow.getChildren.addAll(x);\n</code></pre>\n\n<p>Basically that's what I would dream of, what of course doesn't work. So.. Thanks for any reponses, I hope its possible. </p>\n\n<p>YXCD</p>\n"},{"tags":["java","algorithm","list","recursion","arraylist"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1522517917,"post_id":49590602,"comment_id":86188946,"body_markdown":"_i want_ is a wish not a question. Please read Help Center and ask specific question with your attempts.","body":"<i>i want</i> is a wish not a question. Please read Help Center and ask specific question with your attempts."}],"answers":[{"tags":[],"owner":{"display_name":"user4852164"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667293415,"creation_date":1522525036,"answer_id":49591659,"question_id":49590602,"body_markdown":"Your data structure look like a **Map**, one mapping object to List.\r\n**See Guava MultiMap here**\r\nhttps://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ListMultimap.html\r\n\r\nIf you don&#39;t want a dependency, you can do something like this:\r\n\r\n    int parentIndex = parentList.indexOf(parentObject);\r\n    if(parentIndex != -1){\r\n       List&lt;Object&gt; children = parentList.get(parentIndex);\r\n       if(children != null){\r\n         children.remove(childIndex);\r\n       }\r\n     }\r\n\r\nHowever, I recommend you use a [Map][1] to point to children.\r\n   \r\n\r\n    parentList.indexOf(parentObject);\r\ndoes  a linear search which is O(n), as it may be a problem if your parent list is very large.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html","title":"how to remove child object from the parent object list, java","body":"<p>Your data structure look like a <strong>Map</strong>, one mapping object to List.\n<strong>See Guava MultiMap here</strong>\n<a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ListMultimap.html\" rel=\"nofollow noreferrer\">https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ListMultimap.html</a></p>\n<p>If you don't want a dependency, you can do something like this:</p>\n<pre><code>int parentIndex = parentList.indexOf(parentObject);\nif(parentIndex != -1){\n   List&lt;Object&gt; children = parentList.get(parentIndex);\n   if(children != null){\n     children.remove(childIndex);\n   }\n }\n</code></pre>\n<p>However, I recommend you use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> to point to children.</p>\n<pre><code>parentList.indexOf(parentObject);\n</code></pre>\n<p>does  a linear search which is O(n), as it may be a problem if your parent list is very large.</p>\n"}],"owner":{"account_id":10074989,"reputation":129,"user_id":7447418,"display_name":"hashan gunathilaka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":900,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1667293415,"creation_date":1522517848,"question_id":49590602,"body_markdown":"for examplethere is array list that contain  4 objects. ex:  object 1, object2 , child1_object1 ,child1_object1. Inside the object 1 contain  child1_object1 ,child1_object1 as follows\r\n\r\n\r\n[![enter image description here][1]][1]\r\ninside \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eh2J4.jpg\r\n\r\nNow i want algorithm to remove child object from main list. please help ","title":"how to remove child object from the parent object list, java","body":"<p>for examplethere is array list that contain  4 objects. ex:  object 1, object2 , child1_object1 ,child1_object1. Inside the object 1 contain  child1_object1 ,child1_object1 as follows</p>\n\n<p><a href=\"https://i.stack.imgur.com/eh2J4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eh2J4.jpg\" alt=\"enter image description here\"></a>\ninside </p>\n\n<p>Now i want algorithm to remove child object from main list. please help </p>\n"},{"tags":["java","picocli"],"answers":[{"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1525212352,"creation_date":1525212352,"answer_id":50124506,"question_id":49673880,"body_markdown":"Thanks for [raising this][1] on the picocli issue tracker.\r\n\r\nAs of picocli [3.0.0-alpha-5][2], custom type converters can map the empty String (when the option is present without a value) to a custom default value. This functionality is included in the [picocli 3.0.0][3] GA release that just came out.\r\n\r\n\r\n  [1]: https://github.com/remkop/picocli/issues/325\r\n  [2]: https://github.com/remkop/picocli/releases/tag/v3.0.0-alpha-5\r\n  [3]: https://github.com/remkop/picocli/releases/tag/v3.0.0","title":"Picocli, how to recognise presence of option with optional value and custom type converter","body":"<p>Thanks for <a href=\"https://github.com/remkop/picocli/issues/325\" rel=\"nofollow noreferrer\">raising this</a> on the picocli issue tracker.</p>\n\n<p>As of picocli <a href=\"https://github.com/remkop/picocli/releases/tag/v3.0.0-alpha-5\" rel=\"nofollow noreferrer\">3.0.0-alpha-5</a>, custom type converters can map the empty String (when the option is present without a value) to a custom default value. This functionality is included in the <a href=\"https://github.com/remkop/picocli/releases/tag/v3.0.0\" rel=\"nofollow noreferrer\">picocli 3.0.0</a> GA release that just came out.</p>\n"}],"owner":{"account_id":93179,"reputation":3761,"user_id":255061,"accept_rate":62,"display_name":"Jesse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50124506,"answer_count":1,"score":1,"last_activity_date":1667293279,"creation_date":1522935687,"question_id":49673880,"body_markdown":"Picocli v2.3.0.\r\n\r\n    @CommandLine.Option(names = {&quot;--number-headings&quot;},\r\n                        arity = &quot;0..1&quot;,\r\n                        paramLabel = &quot;levels&quot;,\r\n                        description = {&quot;Adds numbers to headings. Optional parameter to set the heading levels to be numbered.&quot;,\r\n                                       &quot;eg. 2-4&quot;})\r\n    public HeadingNumberingRange numberHeadings;\r\n\r\nCustom type converter is registered and working correctly when a value is provided (`mycommand --number-headings 2-5`). But numberHeadings remains `null` if called like: `mycommand --number-headings`.\r\n\r\nExample at http://picocli.info/man/2.x/#_optional_values suggests that a `String` typed option will receive an empty string when no value is provided. \r\n\r\nSo the empty string is the *default value when option is present but no value is provided*.\r\n\r\nThis allows us to distinguish between 3 situations:\r\n\r\n1. Option not present (we get `null`)\r\n1. Option present with no value (we get empty string)\r\n1. Option present with value (we get value)\r\n\r\nWith a custom `ITypeConverter`, the `convert()` method of the `ITypeConverter` is not called when there is no value provided. So what is the equivalent *default value when option is present but no value is provided* for custom types?","title":"Picocli, how to recognise presence of option with optional value and custom type converter","body":"<p>Picocli v2.3.0.</p>\n<pre><code>@CommandLine.Option(names = {&quot;--number-headings&quot;},\n                    arity = &quot;0..1&quot;,\n                    paramLabel = &quot;levels&quot;,\n                    description = {&quot;Adds numbers to headings. Optional parameter to set the heading levels to be numbered.&quot;,\n                                   &quot;eg. 2-4&quot;})\npublic HeadingNumberingRange numberHeadings;\n</code></pre>\n<p>Custom type converter is registered and working correctly when a value is provided (<code>mycommand --number-headings 2-5</code>). But numberHeadings remains <code>null</code> if called like: <code>mycommand --number-headings</code>.</p>\n<p>Example at <a href=\"http://picocli.info/man/2.x/#_optional_values\" rel=\"nofollow noreferrer\">http://picocli.info/man/2.x/#_optional_values</a> suggests that a <code>String</code> typed option will receive an empty string when no value is provided.</p>\n<p>So the empty string is the <em>default value when option is present but no value is provided</em>.</p>\n<p>This allows us to distinguish between 3 situations:</p>\n<ol>\n<li>Option not present (we get <code>null</code>)</li>\n<li>Option present with no value (we get empty string)</li>\n<li>Option present with value (we get value)</li>\n</ol>\n<p>With a custom <code>ITypeConverter</code>, the <code>convert()</code> method of the <code>ITypeConverter</code> is not called when there is no value provided. So what is the equivalent <em>default value when option is present but no value is provided</em> for custom types?</p>\n"},{"tags":["java","json","api","openweathermap"],"answers":[{"tags":[],"owner":{"account_id":10377490,"reputation":1,"user_id":8172619,"display_name":"Kian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526552186,"creation_date":1526552186,"answer_id":50388940,"question_id":50388823,"body_markdown":"You have to go one step deeper int the JSON Array.\r\n\r\nTry getting the JSONObject(0) and then yourJSONObject.getString(&quot;main&quot;) for example","title":"Java - Get specific json information from weather api","body":"<p>You have to go one step deeper int the JSON Array.</p>\n\n<p>Try getting the JSONObject(0) and then yourJSONObject.getString(\"main\") for example</p>\n"},{"tags":[],"owner":{"account_id":8767936,"reputation":681,"user_id":6555724,"display_name":"C&#233;sar Ferreira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526553479,"creation_date":1526552934,"answer_id":50389193,"question_id":50388823,"body_markdown":"I recommend you using Gson converter. It helps you to convert a JSON to a Java Class. \r\n\r\n**Data conversions**:\r\n\r\n - JSON Object - Java class \r\n - Array - List&lt;&gt;\r\n\r\n**Helpful links**:\r\n\r\n- This is the library you need to **include** (tutorials included) in Java: [GSON Converter Git][1]\r\n\r\n- This is a **weather sample** of a JSON (example by coordinates): [JSON example website][3]\r\n\r\n- This is an JSON to Class online **converter**: [Jsonschema2pojo generator][2]\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: http://www.jsonschema2pojo.org/\r\n  [3]: https://openweathermap.org/current\r\nYou can use jsonschema2pojo to convert the JSON to classes like **this**:\r\n\r\n    -----------------------------------com.example.Clouds.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Clouds {\r\n    \r\n    @SerializedName(&quot;all&quot;)\r\n    @Expose\r\n    private Integer all;\r\n    \r\n    public Integer getAll() {\r\n    return all;\r\n    }\r\n    \r\n    public void setAll(Integer all) {\r\n    this.all = all;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Coord.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Coord {\r\n    \r\n    @SerializedName(&quot;lon&quot;)\r\n    @Expose\r\n    private Integer lon;\r\n    @SerializedName(&quot;lat&quot;)\r\n    @Expose\r\n    private Integer lat;\r\n    \r\n    public Integer getLon() {\r\n    return lon;\r\n    }\r\n    \r\n    public void setLon(Integer lon) {\r\n    this.lon = lon;\r\n    }\r\n    \r\n    public Integer getLat() {\r\n    return lat;\r\n    }\r\n    \r\n    public void setLat(Integer lat) {\r\n    this.lat = lat;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Data.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import java.util.List;\r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Data {\r\n    \r\n    @SerializedName(&quot;coord&quot;)\r\n    @Expose\r\n    private Coord coord;\r\n    @SerializedName(&quot;sys&quot;)\r\n    @Expose\r\n    private Sys sys;\r\n    @SerializedName(&quot;weather&quot;)\r\n    @Expose\r\n    private List&lt;Weather&gt; weather = null;\r\n    @SerializedName(&quot;main&quot;)\r\n    @Expose\r\n    private Main main;\r\n    @SerializedName(&quot;wind&quot;)\r\n    @Expose\r\n    private Wind wind;\r\n    @SerializedName(&quot;rain&quot;)\r\n    @Expose\r\n    private Rain rain;\r\n    @SerializedName(&quot;clouds&quot;)\r\n    @Expose\r\n    private Clouds clouds;\r\n    @SerializedName(&quot;dt&quot;)\r\n    @Expose\r\n    private Integer dt;\r\n    @SerializedName(&quot;id&quot;)\r\n    @Expose\r\n    private Integer id;\r\n    @SerializedName(&quot;name&quot;)\r\n    @Expose\r\n    private String name;\r\n    @SerializedName(&quot;cod&quot;)\r\n    @Expose\r\n    private Integer cod;\r\n    \r\n    public Coord getCoord() {\r\n    return coord;\r\n    }\r\n    \r\n    public void setCoord(Coord coord) {\r\n    this.coord = coord;\r\n    }\r\n    \r\n    public Sys getSys() {\r\n    return sys;\r\n    }\r\n    \r\n    public void setSys(Sys sys) {\r\n    this.sys = sys;\r\n    }\r\n    \r\n    public List&lt;Weather&gt; getWeather() {\r\n    return weather;\r\n    }\r\n    \r\n    public void setWeather(List&lt;Weather&gt; weather) {\r\n    this.weather = weather;\r\n    }\r\n    \r\n    public Main getMain() {\r\n    return main;\r\n    }\r\n    \r\n    public void setMain(Main main) {\r\n    this.main = main;\r\n    }\r\n    \r\n    public Wind getWind() {\r\n    return wind;\r\n    }\r\n    \r\n    public void setWind(Wind wind) {\r\n    this.wind = wind;\r\n    }\r\n    \r\n    public Rain getRain() {\r\n    return rain;\r\n    }\r\n    \r\n    public void setRain(Rain rain) {\r\n    this.rain = rain;\r\n    }\r\n    \r\n    public Clouds getClouds() {\r\n    return clouds;\r\n    }\r\n    \r\n    public void setClouds(Clouds clouds) {\r\n    this.clouds = clouds;\r\n    }\r\n    \r\n    public Integer getDt() {\r\n    return dt;\r\n    }\r\n    \r\n    public void setDt(Integer dt) {\r\n    this.dt = dt;\r\n    }\r\n    \r\n    public Integer getId() {\r\n    return id;\r\n    }\r\n    \r\n    public void setId(Integer id) {\r\n    this.id = id;\r\n    }\r\n    \r\n    public String getName() {\r\n    return name;\r\n    }\r\n    \r\n    public void setName(String name) {\r\n    this.name = name;\r\n    }\r\n    \r\n    public Integer getCod() {\r\n    return cod;\r\n    }\r\n    \r\n    public void setCod(Integer cod) {\r\n    this.cod = cod;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Main.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Main {\r\n    \r\n    @SerializedName(&quot;temp&quot;)\r\n    @Expose\r\n    private Double temp;\r\n    @SerializedName(&quot;humidity&quot;)\r\n    @Expose\r\n    private Integer humidity;\r\n    @SerializedName(&quot;pressure&quot;)\r\n    @Expose\r\n    private Integer pressure;\r\n    @SerializedName(&quot;temp_min&quot;)\r\n    @Expose\r\n    private Double tempMin;\r\n    @SerializedName(&quot;temp_max&quot;)\r\n    @Expose\r\n    private Double tempMax;\r\n    \r\n    public Double getTemp() {\r\n    return temp;\r\n    }\r\n    \r\n    public void setTemp(Double temp) {\r\n    this.temp = temp;\r\n    }\r\n    \r\n    public Integer getHumidity() {\r\n    return humidity;\r\n    }\r\n    \r\n    public void setHumidity(Integer humidity) {\r\n    this.humidity = humidity;\r\n    }\r\n    \r\n    public Integer getPressure() {\r\n    return pressure;\r\n    }\r\n    \r\n    public void setPressure(Integer pressure) {\r\n    this.pressure = pressure;\r\n    }\r\n    \r\n    public Double getTempMin() {\r\n    return tempMin;\r\n    }\r\n    \r\n    public void setTempMin(Double tempMin) {\r\n    this.tempMin = tempMin;\r\n    }\r\n    \r\n    public Double getTempMax() {\r\n    return tempMax;\r\n    }\r\n    \r\n    public void setTempMax(Double tempMax) {\r\n    this.tempMax = tempMax;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Rain.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Rain {\r\n    \r\n    @SerializedName(&quot;3h&quot;)\r\n    @Expose\r\n    private Integer _3h;\r\n    \r\n    public Integer get3h() {\r\n    return _3h;\r\n    }\r\n    \r\n    public void set3h(Integer _3h) {\r\n    this._3h = _3h;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Sys.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Sys {\r\n    \r\n    @SerializedName(&quot;country&quot;)\r\n    @Expose\r\n    private String country;\r\n    @SerializedName(&quot;sunrise&quot;)\r\n    @Expose\r\n    private Integer sunrise;\r\n    @SerializedName(&quot;sunset&quot;)\r\n    @Expose\r\n    private Integer sunset;\r\n    \r\n    public String getCountry() {\r\n    return country;\r\n    }\r\n    \r\n    public void setCountry(String country) {\r\n    this.country = country;\r\n    }\r\n    \r\n    public Integer getSunrise() {\r\n    return sunrise;\r\n    }\r\n    \r\n    public void setSunrise(Integer sunrise) {\r\n    this.sunrise = sunrise;\r\n    }\r\n    \r\n    public Integer getSunset() {\r\n    return sunset;\r\n    }\r\n    \r\n    public void setSunset(Integer sunset) {\r\n    this.sunset = sunset;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Weather.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Weather {\r\n    \r\n    @SerializedName(&quot;id&quot;)\r\n    @Expose\r\n    private Integer id;\r\n    @SerializedName(&quot;main&quot;)\r\n    @Expose\r\n    private String main;\r\n    @SerializedName(&quot;description&quot;)\r\n    @Expose\r\n    private String description;\r\n    @SerializedName(&quot;icon&quot;)\r\n    @Expose\r\n    private String icon;\r\n    \r\n    public Integer getId() {\r\n    return id;\r\n    }\r\n    \r\n    public void setId(Integer id) {\r\n    this.id = id;\r\n    }\r\n    \r\n    public String getMain() {\r\n    return main;\r\n    }\r\n    \r\n    public void setMain(String main) {\r\n    this.main = main;\r\n    }\r\n    \r\n    public String getDescription() {\r\n    return description;\r\n    }\r\n    \r\n    public void setDescription(String description) {\r\n    this.description = description;\r\n    }\r\n    \r\n    public String getIcon() {\r\n    return icon;\r\n    }\r\n    \r\n    public void setIcon(String icon) {\r\n    this.icon = icon;\r\n    }\r\n    \r\n    }\r\n    -----------------------------------com.example.Wind.java-----------------------------------\r\n    \r\n    package com.example;\r\n    \r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    public class Wind {\r\n    \r\n    @SerializedName(&quot;speed&quot;)\r\n    @Expose\r\n    private Double speed;\r\n    @SerializedName(&quot;deg&quot;)\r\n    @Expose\r\n    private Double deg;\r\n    \r\n    public Double getSpeed() {\r\n    return speed;\r\n    }\r\n    \r\n    public void setSpeed(Double speed) {\r\n    this.speed = speed;\r\n    }\r\n    \r\n    public Double getDeg() {\r\n    return deg;\r\n    }\r\n    \r\n    public void setDeg(Double deg) {\r\n    this.deg = deg;\r\n    }\r\n    \r\n    }\r\n\r\n\r\nAfter all is done you can do something like this in Java:\r\n\r\n    String config_settings = &quot;Your JSON String&quot;;\r\n    Gson converter = new Gson();\r\n    ConfigSettings settings = converter.fromJson(config_settings , Data.class);\r\n\r\n","title":"Java - Get specific json information from weather api","body":"<p>I recommend you using Gson converter. It helps you to convert a JSON to a Java Class. </p>\n\n<p><strong>Data conversions</strong>:</p>\n\n<ul>\n<li>JSON Object - Java class </li>\n<li>Array - List&lt;></li>\n</ul>\n\n<p><strong>Helpful links</strong>:</p>\n\n<ul>\n<li><p>This is the library you need to <strong>include</strong> (tutorials included) in Java: <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON Converter Git</a></p></li>\n<li><p>This is a <strong>weather sample</strong> of a JSON (example by coordinates): <a href=\"https://openweathermap.org/current\" rel=\"nofollow noreferrer\">JSON example website</a></p></li>\n<li><p>This is an JSON to Class online <strong>converter</strong>: <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">Jsonschema2pojo generator</a></p></li>\n</ul>\n\n<p>You can use jsonschema2pojo to convert the JSON to classes like <strong>this</strong>:</p>\n\n<pre><code>-----------------------------------com.example.Clouds.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Clouds {\n\n@SerializedName(\"all\")\n@Expose\nprivate Integer all;\n\npublic Integer getAll() {\nreturn all;\n}\n\npublic void setAll(Integer all) {\nthis.all = all;\n}\n\n}\n-----------------------------------com.example.Coord.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Coord {\n\n@SerializedName(\"lon\")\n@Expose\nprivate Integer lon;\n@SerializedName(\"lat\")\n@Expose\nprivate Integer lat;\n\npublic Integer getLon() {\nreturn lon;\n}\n\npublic void setLon(Integer lon) {\nthis.lon = lon;\n}\n\npublic Integer getLat() {\nreturn lat;\n}\n\npublic void setLat(Integer lat) {\nthis.lat = lat;\n}\n\n}\n-----------------------------------com.example.Data.java-----------------------------------\n\npackage com.example;\n\nimport java.util.List;\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Data {\n\n@SerializedName(\"coord\")\n@Expose\nprivate Coord coord;\n@SerializedName(\"sys\")\n@Expose\nprivate Sys sys;\n@SerializedName(\"weather\")\n@Expose\nprivate List&lt;Weather&gt; weather = null;\n@SerializedName(\"main\")\n@Expose\nprivate Main main;\n@SerializedName(\"wind\")\n@Expose\nprivate Wind wind;\n@SerializedName(\"rain\")\n@Expose\nprivate Rain rain;\n@SerializedName(\"clouds\")\n@Expose\nprivate Clouds clouds;\n@SerializedName(\"dt\")\n@Expose\nprivate Integer dt;\n@SerializedName(\"id\")\n@Expose\nprivate Integer id;\n@SerializedName(\"name\")\n@Expose\nprivate String name;\n@SerializedName(\"cod\")\n@Expose\nprivate Integer cod;\n\npublic Coord getCoord() {\nreturn coord;\n}\n\npublic void setCoord(Coord coord) {\nthis.coord = coord;\n}\n\npublic Sys getSys() {\nreturn sys;\n}\n\npublic void setSys(Sys sys) {\nthis.sys = sys;\n}\n\npublic List&lt;Weather&gt; getWeather() {\nreturn weather;\n}\n\npublic void setWeather(List&lt;Weather&gt; weather) {\nthis.weather = weather;\n}\n\npublic Main getMain() {\nreturn main;\n}\n\npublic void setMain(Main main) {\nthis.main = main;\n}\n\npublic Wind getWind() {\nreturn wind;\n}\n\npublic void setWind(Wind wind) {\nthis.wind = wind;\n}\n\npublic Rain getRain() {\nreturn rain;\n}\n\npublic void setRain(Rain rain) {\nthis.rain = rain;\n}\n\npublic Clouds getClouds() {\nreturn clouds;\n}\n\npublic void setClouds(Clouds clouds) {\nthis.clouds = clouds;\n}\n\npublic Integer getDt() {\nreturn dt;\n}\n\npublic void setDt(Integer dt) {\nthis.dt = dt;\n}\n\npublic Integer getId() {\nreturn id;\n}\n\npublic void setId(Integer id) {\nthis.id = id;\n}\n\npublic String getName() {\nreturn name;\n}\n\npublic void setName(String name) {\nthis.name = name;\n}\n\npublic Integer getCod() {\nreturn cod;\n}\n\npublic void setCod(Integer cod) {\nthis.cod = cod;\n}\n\n}\n-----------------------------------com.example.Main.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Main {\n\n@SerializedName(\"temp\")\n@Expose\nprivate Double temp;\n@SerializedName(\"humidity\")\n@Expose\nprivate Integer humidity;\n@SerializedName(\"pressure\")\n@Expose\nprivate Integer pressure;\n@SerializedName(\"temp_min\")\n@Expose\nprivate Double tempMin;\n@SerializedName(\"temp_max\")\n@Expose\nprivate Double tempMax;\n\npublic Double getTemp() {\nreturn temp;\n}\n\npublic void setTemp(Double temp) {\nthis.temp = temp;\n}\n\npublic Integer getHumidity() {\nreturn humidity;\n}\n\npublic void setHumidity(Integer humidity) {\nthis.humidity = humidity;\n}\n\npublic Integer getPressure() {\nreturn pressure;\n}\n\npublic void setPressure(Integer pressure) {\nthis.pressure = pressure;\n}\n\npublic Double getTempMin() {\nreturn tempMin;\n}\n\npublic void setTempMin(Double tempMin) {\nthis.tempMin = tempMin;\n}\n\npublic Double getTempMax() {\nreturn tempMax;\n}\n\npublic void setTempMax(Double tempMax) {\nthis.tempMax = tempMax;\n}\n\n}\n-----------------------------------com.example.Rain.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Rain {\n\n@SerializedName(\"3h\")\n@Expose\nprivate Integer _3h;\n\npublic Integer get3h() {\nreturn _3h;\n}\n\npublic void set3h(Integer _3h) {\nthis._3h = _3h;\n}\n\n}\n-----------------------------------com.example.Sys.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Sys {\n\n@SerializedName(\"country\")\n@Expose\nprivate String country;\n@SerializedName(\"sunrise\")\n@Expose\nprivate Integer sunrise;\n@SerializedName(\"sunset\")\n@Expose\nprivate Integer sunset;\n\npublic String getCountry() {\nreturn country;\n}\n\npublic void setCountry(String country) {\nthis.country = country;\n}\n\npublic Integer getSunrise() {\nreturn sunrise;\n}\n\npublic void setSunrise(Integer sunrise) {\nthis.sunrise = sunrise;\n}\n\npublic Integer getSunset() {\nreturn sunset;\n}\n\npublic void setSunset(Integer sunset) {\nthis.sunset = sunset;\n}\n\n}\n-----------------------------------com.example.Weather.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Weather {\n\n@SerializedName(\"id\")\n@Expose\nprivate Integer id;\n@SerializedName(\"main\")\n@Expose\nprivate String main;\n@SerializedName(\"description\")\n@Expose\nprivate String description;\n@SerializedName(\"icon\")\n@Expose\nprivate String icon;\n\npublic Integer getId() {\nreturn id;\n}\n\npublic void setId(Integer id) {\nthis.id = id;\n}\n\npublic String getMain() {\nreturn main;\n}\n\npublic void setMain(String main) {\nthis.main = main;\n}\n\npublic String getDescription() {\nreturn description;\n}\n\npublic void setDescription(String description) {\nthis.description = description;\n}\n\npublic String getIcon() {\nreturn icon;\n}\n\npublic void setIcon(String icon) {\nthis.icon = icon;\n}\n\n}\n-----------------------------------com.example.Wind.java-----------------------------------\n\npackage com.example;\n\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\npublic class Wind {\n\n@SerializedName(\"speed\")\n@Expose\nprivate Double speed;\n@SerializedName(\"deg\")\n@Expose\nprivate Double deg;\n\npublic Double getSpeed() {\nreturn speed;\n}\n\npublic void setSpeed(Double speed) {\nthis.speed = speed;\n}\n\npublic Double getDeg() {\nreturn deg;\n}\n\npublic void setDeg(Double deg) {\nthis.deg = deg;\n}\n\n}\n</code></pre>\n\n<p>After all is done you can do something like this in Java:</p>\n\n<pre><code>String config_settings = \"Your JSON String\";\nGson converter = new Gson();\nConfigSettings settings = converter.fromJson(config_settings , Data.class);\n</code></pre>\n"}],"owner":{"account_id":12371781,"reputation":43,"user_id":9021773,"display_name":"NeariX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1408,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1667306751,"answer_count":2,"score":-2,"last_activity_date":1667293230,"creation_date":1526551816,"question_id":50388823,"body_markdown":"i want to extract the current weather state as a string (like cloudy, rain...) from the [openweather][2] API. The Problem is, that the information is located in weather:0:main: [(See here)][1]\r\nI just cant get the information because there is a &quot;0:&quot;. I&#39;m new to JSON in java and just need your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wgBK3.png\n [2]: https://openweathermap.org/api","title":"Java - Get specific json information from weather api","body":"<p>i want to extract the current weather state as a string (like cloudy, rain...) from the <a href=\"https://openweathermap.org/api\" rel=\"nofollow noreferrer\">openweather</a> API. The Problem is, that the information is located in weather:0:main: <a href=\"https://i.stack.imgur.com/wgBK3.png\" rel=\"nofollow noreferrer\">(See here)</a>\nI just cant get the information because there is a &quot;0:&quot;. I'm new to JSON in java and just need your help.</p>\n"},{"tags":["java","aspectj"],"comments":[{"owner":{"account_id":21043012,"reputation":43,"user_id":15464968,"display_name":"Harper2021"},"score":0,"creation_date":1666484517,"post_id":74160093,"comment_id":130948422,"body_markdown":"If there was a public Intellij project with a working AspectJ example, that would be a great help","body":"If there was a public Intellij project with a working AspectJ example, that would be a great help"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1667231833,"post_id":74160093,"comment_id":131115970,"body_markdown":"You do not need an IntelliJ project, because if you activate AspectJ support for IntelliJ, it will automatically configure the project correctly when auto-importing a correct Maven project.","body":"You do not need an IntelliJ project, because if you activate AspectJ support for IntelliJ, it will automatically configure the project correctly when auto-importing a correct Maven project."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1668331522,"post_id":74160093,"comment_id":131375316,"body_markdown":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting.","body":"How about some feedback to my answer? I think it is rather impolite to ask for help in public and then keep your helpers waiting."},{"owner":{"account_id":21043012,"reputation":43,"user_id":15464968,"display_name":"Harper2021"},"score":0,"creation_date":1669330447,"post_id":74160093,"comment_id":131624695,"body_markdown":"I very much appreciate the help @kriegaex. Client work as bumped this problem, so I will be trying again after that problem is solved. Certainly I will give feedback then.","body":"I very much appreciate the help @kriegaex. Client work as bumped this problem, so I will be trying again after that problem is solved. Certainly I will give feedback then."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667293043,"creation_date":1667232052,"answer_id":74265983,"question_id":74160093,"body_markdown":"Have you tried without Lombok in order to avoid [this problem](https://stackoverflow.com/a/26157868/1082681)? Try doing manually in your test class what the Lombok annotation does instead.\r\n\r\nAfter we have established that this solves the problem, we can start looking into [possible workarounds](https://stackoverflow.com/a/56999300/1082681). If this really is your first AspectJ problem, you should not start with a difficult mix like AspectJ + Lombok.\r\n\r\nBesides, if your `@Data` class is immutable, you might not need Lombok at all and could use a recent Java version and native Java records for that.","title":"AspectJ configuration / setup - pointcuts not firing","body":"<p>Have you tried without Lombok in order to avoid <a href=\"https://stackoverflow.com/a/26157868/1082681\">this problem</a>? Try doing manually in your test class what the Lombok annotation does instead.</p>\n<p>After we have established that this solves the problem, we can start looking into <a href=\"https://stackoverflow.com/a/56999300/1082681\">possible workarounds</a>. If this really is your first AspectJ problem, you should not start with a difficult mix like AspectJ + Lombok.</p>\n<p>Besides, if your <code>@Data</code> class is immutable, you might not need Lombok at all and could use a recent Java version and native Java records for that.</p>\n"}],"owner":{"account_id":21043012,"reputation":43,"user_id":15464968,"display_name":"Harper2021"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74265983,"answer_count":1,"score":0,"last_activity_date":1667293043,"creation_date":1666395780,"question_id":74160093,"body_markdown":"I am trying to get my first AspectJ aspect running. Setup looks ok to me, following the documentation I can find. e.g.\r\n\r\n * developers site: https://github.com/kriegaex/org.aspectj\r\n * set up instructions: https://github.com/eclipse/org.aspectj/blob/master/docs/developer/IDE.md\r\n * join point examples: https://www.eclipse.org/aspectj/doc/released/progguide/language-joinPoints.html\r\n\r\nBut no aspect will fire, no matter what options I have tried during all today.\r\n\r\nI believe the pointcuts is correctly pointing to my method call because I was getting the error about pointcuts not being used when I changed it. (Thats not happening now - dont know what I did :-())\r\n\r\nSo is the problem in the setup? The pointcuts? How do you go about de-bugging such a situation? Am I missing something in the docs?\r\n\r\n\r\n\r\nPOM\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n                &lt;!--\r\n                &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.13.2-SNAPSHOT&lt;/version&gt;\r\n                --&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;       &lt;!-- use this goal to weave all your main classes --&gt;\r\n                            &lt;goal&gt;test-compile&lt;/goal&gt;  &lt;!-- use this goal to weave all your test classes --&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.9.7&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                    &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt;\r\n                    &lt;sources/&gt;\r\n                    &lt;weaveDirectories&gt;\r\n                        &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\r\n                    &lt;/weaveDirectories&gt;\r\n                    &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;Xlint&gt;warning&lt;/Xlint&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n       \r\n    \r\n    &lt;dependencies&gt;\r\n    .....\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;22.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/dev.aspectj/aspectj-maven-plugin --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.13.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.7&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.7&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjtools --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    &lt;/dependencies&gt;\r\n\r\nASPECT\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public aspect   MdDOMAINChildAspect {\r\n    \r\n        pointcut myExceptionHandlerPointcut(): execution(void mdDOMAIN.MdDOMAINInstance.testCall() );\r\n    \r\n        before(): myExceptionHandlerPointcut() {\r\n            System.out.println(&quot;-------------- Aspect Advice Logic ---------------&quot;);\r\n        }\r\n\r\nCLASS\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Data\r\n    public class MdDOMAINInstance {\r\n    \r\n    \r\n        @MdDOMAINChildAnnotation(selectName = &quot;Indicators&quot;)\r\n        public MdDOMAINInstance selectFilingIndicators() throws NoSuchMethodException {\r\n    \r\n            testCall();\r\n    \r\n            Method m=this.getClass().getMethod(&quot;selectFilingIndicators&quot;);\r\n            MdDOMAINChildAnnotation metaidAnnotation=m.getAnnotation(MdDOMAINChildAnnotation.class);\r\n            System.out.println(&quot;Annotation: &quot; + metaidAnnotation.selectName());\r\n    \r\n            return this;\r\n        }\r\n    \r\n        public void testCall()\r\n        {\r\n            System.out.println(&quot;In testCall()&quot;);\r\n            return ;\r\n        }\r\n    }\r\n\r\nTEST\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    class MdDOMAINInstanceTest {\r\n    \r\n        @Test\r\n        void selectFilingIndicatorsTest() throws NoSuchMethodException {\r\n            MdDOMAINInstance mdDOMAINInstance = new MdDOMAINInstance().selectFilingIndicators();\r\n        }\r\n    }\r\n\r\n\r\nMAVEN TEST RUN\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    clean test -Dtest=MdDOMAINInstanceTest -f pom.xml\r\n\r\nMAVEN TEST RUN OUTCOME\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-11.0.12\\bin\\java.exe&quot; -Dmaven.multiModuleProjectDirectory=....IdeaProjects\\us-MYROOT-DOMAIN-004 &quot;-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3&quot; &quot;-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3\\bin\\m2.conf&quot; &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\lib\\idea_rt.jar=52349:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.6.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds.license&quot; org.codehaus.classworlds.Launcher -Didea.version=2021.3.2 clean test -Dtest=MdDOMAINInstanceTest\r\n    [INFO] Scanning for projects...\r\n    [WARNING] \r\n    [WARNING] Some problems were encountered while building the effective model for us-MYROOT:us-MYROOT-DOMAIN-004:jar:1.0-SNAPSHOT\r\n    [WARNING] &#39;dependencies.dependency.version&#39; for org.junit.jupiter:junit-jupiter:jar is either LATEST or RELEASE (both of them are being deprecated) @ line 117, column 22\r\n    [WARNING] &#39;build.plugins.plugin.version&#39; for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 20, column 21\r\n    [WARNING] \r\n    [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n    [WARNING] \r\n    [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n    [WARNING] \r\n    [INFO] \r\n    [INFO] --------------&lt; us-MYROOT:us-MYROOT-DOMAIN-004 &gt;--------------\r\n    [INFO] Building us-MYROOT-DOMAIN-004 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Deleting .....IdeaProjects\\us-MYROOT-DOMAIN-004\\target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 3 source files to .....IdeaProjects\\us-MYROOT-DOMAIN-004\\target\\classes\r\n    [INFO] \r\n    [INFO] --- aspectj-maven-plugin:1.14.0:compile (default) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Showing AJC message detail for messages of types: [error, warning, fail]\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 0 resource\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to .....IdeaProjects\\us-MYROOT-DOMAIN-004\\target\\test-classes\r\n    [INFO] \r\n    [INFO] --- aspectj-maven-plugin:1.14.0:test-compile (default) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] Showing AJC message detail for messages of types: [error, warning, fail]\r\n    [WARNING] You aren&#39;t using a compiler supported by lombok, so lombok will not work and has been disabled.\r\n    Your processor is: org.aspectj.org.eclipse.jdt.internal.compiler.apt.dispatch.BatchProcessingEnvImpl\r\n    Lombok supports: OpenJDK javac, ECJ\r\n    \t&lt;unknown source file&gt;:&lt;no line information&gt;\r\n    \r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.22.1:test (default-test) @ us-MYROOT-DOMAIN-004 ---\r\n    [INFO] \r\n    [INFO] -------------------------------------------------------\r\n    [INFO]  T E S T S\r\n    [INFO] -------------------------------------------------------\r\n    [INFO] Running mdDOMAIN.MdDOMAINInstanceTest\r\n    In testCall()\r\n    Annotation: Indicators\r\n    [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.065 s - in mdDOMAIN.MdDOMAINInstanceTest\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n    [INFO] \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  22.238 s\r\n    [INFO] Finished at: 2022-10-21T20:14:46+11:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    \r\n    Process finished with exit code 0\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"AspectJ configuration / setup - pointcuts not firing","body":"<p>I am trying to get my first AspectJ aspect running. Setup looks ok to me, following the documentation I can find. e.g.</p>\n<ul>\n<li>developers site: <a href=\"https://github.com/kriegaex/org.aspectj\" rel=\"nofollow noreferrer\">https://github.com/kriegaex/org.aspectj</a></li>\n<li>set up instructions: <a href=\"https://github.com/eclipse/org.aspectj/blob/master/docs/developer/IDE.md\" rel=\"nofollow noreferrer\">https://github.com/eclipse/org.aspectj/blob/master/docs/developer/IDE.md</a></li>\n<li>join point examples: <a href=\"https://www.eclipse.org/aspectj/doc/released/progguide/language-joinPoints.html\" rel=\"nofollow noreferrer\">https://www.eclipse.org/aspectj/doc/released/progguide/language-joinPoints.html</a></li>\n</ul>\n<p>But no aspect will fire, no matter what options I have tried during all today.</p>\n<p>I believe the pointcuts is correctly pointing to my method call because I was getting the error about pointcuts not being used when I changed it. (Thats not happening now - dont know what I did :-())</p>\n<p>So is the problem in the setup? The pointcuts? How do you go about de-bugging such a situation? Am I missing something in the docs?</p>\n<p>POM</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.14.0&lt;/version&gt;\n            &lt;!--\n            &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.13.2-SNAPSHOT&lt;/version&gt;\n            --&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;       &lt;!-- use this goal to weave all your main classes --&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;  &lt;!-- use this goal to weave all your test classes --&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                    &lt;version&gt;1.9.7&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;configuration&gt;\n                &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt;\n                &lt;sources/&gt;\n                &lt;weaveDirectories&gt;\n                    &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\n                &lt;/weaveDirectories&gt;\n                &lt;complianceLevel&gt;11&lt;/complianceLevel&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;Xlint&gt;warning&lt;/Xlint&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n   \n\n&lt;dependencies&gt;\n.....\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;RELEASE&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.22&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.6.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n        &lt;version&gt;5.6.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n        &lt;version&gt;22.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/dev.aspectj/aspectj-maven-plugin --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;dev.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;1.9.7&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.9.7&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjtools --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n        &lt;version&gt;1.9.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>ASPECT</p>\n<pre class=\"lang-java prettyprint-override\"><code>public aspect   MdDOMAINChildAspect {\n\n    pointcut myExceptionHandlerPointcut(): execution(void mdDOMAIN.MdDOMAINInstance.testCall() );\n\n    before(): myExceptionHandlerPointcut() {\n        System.out.println(&quot;-------------- Aspect Advice Logic ---------------&quot;);\n    }\n</code></pre>\n<p>CLASS</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class MdDOMAINInstance {\n\n\n    @MdDOMAINChildAnnotation(selectName = &quot;Indicators&quot;)\n    public MdDOMAINInstance selectFilingIndicators() throws NoSuchMethodException {\n\n        testCall();\n\n        Method m=this.getClass().getMethod(&quot;selectFilingIndicators&quot;);\n        MdDOMAINChildAnnotation metaidAnnotation=m.getAnnotation(MdDOMAINChildAnnotation.class);\n        System.out.println(&quot;Annotation: &quot; + metaidAnnotation.selectName());\n\n        return this;\n    }\n\n    public void testCall()\n    {\n        System.out.println(&quot;In testCall()&quot;);\n        return ;\n    }\n}\n</code></pre>\n<p>TEST</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MdDOMAINInstanceTest {\n\n    @Test\n    void selectFilingIndicatorsTest() throws NoSuchMethodException {\n        MdDOMAINInstance mdDOMAINInstance = new MdDOMAINInstance().selectFilingIndicators();\n    }\n}\n</code></pre>\n<p>MAVEN TEST RUN</p>\n<pre class=\"lang-none prettyprint-override\"><code>clean test -Dtest=MdDOMAINInstanceTest -f pom.xml\n</code></pre>\n<p>MAVEN TEST RUN OUTCOME</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;C:\\Program Files\\Java\\jdk-11.0.12\\bin\\java.exe&quot; -Dmaven.multiModuleProjectDirectory=....IdeaProjects\\us-MYROOT-DOMAIN-004 &quot;-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3&quot; &quot;-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3\\bin\\m2.conf&quot; &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\lib\\idea_rt.jar=52349:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.6.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds.license&quot; org.codehaus.classworlds.Launcher -Didea.version=2021.3.2 clean test -Dtest=MdDOMAINInstanceTest\n[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for us-MYROOT:us-MYROOT-DOMAIN-004:jar:1.0-SNAPSHOT\n[WARNING] 'dependencies.dependency.version' for org.junit.jupiter:junit-jupiter:jar is either LATEST or RELEASE (both of them are being deprecated) @ line 117, column 22\n[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 20, column 21\n[WARNING] \n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] \n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING] \n[INFO] \n[INFO] --------------&lt; us-MYROOT:us-MYROOT-DOMAIN-004 &gt;--------------\n[INFO] Building us-MYROOT-DOMAIN-004 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Deleting .....IdeaProjects\\us-MYROOT-DOMAIN-004\\target\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 3 source files to .....IdeaProjects\\us-MYROOT-DOMAIN-004\\target\\classes\n[INFO] \n[INFO] --- aspectj-maven-plugin:1.14.0:compile (default) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Showing AJC message detail for messages of types: [error, warning, fail]\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to .....IdeaProjects\\us-MYROOT-DOMAIN-004\\target\\test-classes\n[INFO] \n[INFO] --- aspectj-maven-plugin:1.14.0:test-compile (default) @ us-MYROOT-DOMAIN-004 ---\n[INFO] Showing AJC message detail for messages of types: [error, warning, fail]\n[WARNING] You aren't using a compiler supported by lombok, so lombok will not work and has been disabled.\nYour processor is: org.aspectj.org.eclipse.jdt.internal.compiler.apt.dispatch.BatchProcessingEnvImpl\nLombok supports: OpenJDK javac, ECJ\n    &lt;unknown source file&gt;:&lt;no line information&gt;\n\n[INFO] \n[INFO] --- maven-surefire-plugin:2.22.1:test (default-test) @ us-MYROOT-DOMAIN-004 ---\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running mdDOMAIN.MdDOMAINInstanceTest\nIn testCall()\nAnnotation: Indicators\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.065 s - in mdDOMAIN.MdDOMAINInstanceTest\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  22.238 s\n[INFO] Finished at: 2022-10-21T20:14:46+11:00\n[INFO] ------------------------------------------------------------------------\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","aop","micronaut"],"answers":[{"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666116180,"creation_date":1666116180,"answer_id":74115516,"question_id":74115237,"body_markdown":"It might need to be annotated with `@Inherited`.","title":"@Around advice is not working with package level annotations","body":"<p>It might need to be annotated with <code>@Inherited</code>.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667292263,"creation_date":1667292263,"answer_id":74273418,"question_id":74115237,"body_markdown":"The simple answer is: Neither native AspectJ nor simpler AOP frameworks such as Spring AOP provide any means to intercept package-level annotations.\r\n\r\nWhat you could do is use native **AspectJ&#39;s annotation processing support** in order to generate annotations for all classes or methods you wish to target during your build and then intercept them using an aspect. Here are some of my old answers showing examples of how to use the feature:\r\n\r\n* https://stackoverflow.com/a/29877757/1082681\r\n* https://stackoverflow.com/a/40449796/1082681\r\n* https://stackoverflow.com/a/29437129/1082681","title":"@Around advice is not working with package level annotations","body":"<p>The simple answer is: Neither native AspectJ nor simpler AOP frameworks such as Spring AOP provide any means to intercept package-level annotations.</p>\n<p>What you could do is use native <strong>AspectJ's annotation processing support</strong> in order to generate annotations for all classes or methods you wish to target during your build and then intercept them using an aspect. Here are some of my old answers showing examples of how to use the feature:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/29877757/1082681\">https://stackoverflow.com/a/29877757/1082681</a></li>\n<li><a href=\"https://stackoverflow.com/a/40449796/1082681\">https://stackoverflow.com/a/40449796/1082681</a></li>\n<li><a href=\"https://stackoverflow.com/a/29437129/1082681\">https://stackoverflow.com/a/29437129/1082681</a></li>\n</ul>\n"}],"owner":{"account_id":3723586,"reputation":644,"user_id":4186437,"display_name":"goutham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74273418,"answer_count":2,"score":0,"last_activity_date":1667292263,"creation_date":1666114856,"question_id":74115237,"body_markdown":"I want to add API versions across all log statements. To achieve that, I have created a custom annotation and its corresponding interceptor.\r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.METHOD, ElementType.TYPE, ElementType.PACKAGE})\r\n@Around\r\n@Documented\r\npublic @interface LogAPIVersion {\r\n    String apiVersion() default &quot;&quot;;\r\n}\r\n```\r\n\r\nThings are working fine if I place annotation on a method or a class.\r\n\r\nBut, I want to apply this annotation at a package level (for all classes and their methods). I&#39;ve created a `package-info.java` file and decorated my custom annotation onthe package name.\r\n```\r\n@LogAPIVersion(apiVersion = &quot;v1&quot;)\r\npackage com.example.controllers.v1;\r\n```\r\nUnfortunately, my logging interceptor is not getting invoked. How do I make this work?","title":"@Around advice is not working with package level annotations","body":"<p>I want to add API versions across all log statements. To achieve that, I have created a custom annotation and its corresponding interceptor.</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD, ElementType.TYPE, ElementType.PACKAGE})\n@Around\n@Documented\npublic @interface LogAPIVersion {\n    String apiVersion() default &quot;&quot;;\n}\n</code></pre>\n<p>Things are working fine if I place annotation on a method or a class.</p>\n<p>But, I want to apply this annotation at a package level (for all classes and their methods). I've created a <code>package-info.java</code> file and decorated my custom annotation onthe package name.</p>\n<pre><code>@LogAPIVersion(apiVersion = &quot;v1&quot;)\npackage com.example.controllers.v1;\n</code></pre>\n<p>Unfortunately, my logging interceptor is not getting invoked. How do I make this work?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9075,"page":917,"page_size":100}
