{"items":[{"tags":["java","spring-boot","azure","azure-functions","azure-eventgrid"],"answers":[{"comments":[{"owner":{"account_id":3691464,"reputation":123,"user_id":3073960,"display_name":"Manjunath"},"score":0,"creation_date":1667996528,"post_id":74277292,"comment_id":131299908,"body_markdown":"Please debug your Azure Function App using Function App--&gt; Application Insight --&gt; Failures Section, it would help you to debug detailed errors.","body":"Please debug your Azure Function App using Function App--&gt; Application Insight --&gt; Failures Section, it would help you to debug detailed errors."}],"tags":[],"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667358593,"creation_date":1667312099,"answer_id":74277292,"question_id":73921311,"body_markdown":"Thanks to @[Raymond](https://kontext.tech/article/806/azure-functions-timeout-value-of-000500-exceeded-by-function), I found the below solution to fix the timeout error.\r\n\r\nThere are few things when a function timeout occurs or fails:\r\n\r\n\r\nRetry policy should be configured for the Failures of Functions:\r\n\r\n```java\r\n{\r\n&quot;version&quot;: &quot;2.0&quot;,\r\n&quot;retry&quot;: {\r\n&quot;strategy&quot;: &quot;fixedDelay&quot;,\r\n&quot;maxRetryCount&quot;: 10,\r\n&quot;delayInterval&quot;: &quot;00:00:10&quot;\r\n},\r\n&quot;logging&quot;: {\r\n&quot;applicationInsights&quot;: {\r\n&quot;samplingSettings&quot;: {\r\n&quot;isEnabled&quot;: true,\r\n&quot;excludedTypes&quot;: &quot;Request&quot;\r\n     }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n- In `host.json`, change the function timeout value:\r\n\r\n`&quot;functionTimeout&quot;: &quot;00:10:00&quot;`\r\n\r\nIf you are using the consumption plan, we can increase up to 10 Minutes.\r\n\r\n- If you have specified the function timeout inside the `extensionBundle`, change function timeout to outside the `extensionBundle`. \r\n\r\n- If even after changing to 10 minutes gives error, try using the &quot;Durable Functions&quot; framework, this helps to split up the jobs into smaller junks.","title":"time out value exceeded initiating cancellation azure function in java","body":"<p>Thanks to @<a href=\"https://kontext.tech/article/806/azure-functions-timeout-value-of-000500-exceeded-by-function\" rel=\"nofollow noreferrer\">Raymond</a>, I found the below solution to fix the timeout error.</p>\n<p>There are few things when a function timeout occurs or fails:</p>\n<p>Retry policy should be configured for the Failures of Functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{\n&quot;version&quot;: &quot;2.0&quot;,\n&quot;retry&quot;: {\n&quot;strategy&quot;: &quot;fixedDelay&quot;,\n&quot;maxRetryCount&quot;: 10,\n&quot;delayInterval&quot;: &quot;00:00:10&quot;\n},\n&quot;logging&quot;: {\n&quot;applicationInsights&quot;: {\n&quot;samplingSettings&quot;: {\n&quot;isEnabled&quot;: true,\n&quot;excludedTypes&quot;: &quot;Request&quot;\n     }\n    }\n  }\n}\n</code></pre>\n<ul>\n<li>In <code>host.json</code>, change the function timeout value:</li>\n</ul>\n<p><code>&quot;functionTimeout&quot;: &quot;00:10:00&quot;</code></p>\n<p>If you are using the consumption plan, we can increase up to 10 Minutes.</p>\n<ul>\n<li><p>If you have specified the function timeout inside the <code>extensionBundle</code>, change function timeout to outside the <code>extensionBundle</code>.</p>\n</li>\n<li><p>If even after changing to 10 minutes gives error, try using the &quot;Durable Functions&quot; framework, this helps to split up the jobs into smaller junks.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74277292,"answer_count":1,"score":0,"last_activity_date":1667358593,"creation_date":1664654035,"question_id":73921311,"body_markdown":"Steps I am following:\r\n\r\n1. I have created an event grid topic and created a functiona app of type &quot;cloud event schema&quot;.\r\n\r\n2. Created a subscription of type &quot;cloud event schema 1.0&quot; to consume the events.\r\n\r\nMy error is: I am getting time out value exceeded initiating cancellation azure function error. I tried to increase the timeout value to 10 minutes from 5 minutes, but I think this error is not regarding the time limit it is regarding the network configuration but not sure how to fix it. Any leads would really appreciated.\r\n\r\n\r\n**Error:**\r\n\r\n2021-09-17T08:13:47.525 [Error] Timeout value of 00:10:00 exceeded by function &#39;Functions.***Func&#39; (Id: &#39;32daf701-18de-467c-b36e-b0b7********&#39;). Initiating cancellation.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ixDw7.png","title":"time out value exceeded initiating cancellation azure function in java","body":"<p>Steps I am following:</p>\n<ol>\n<li><p>I have created an event grid topic and created a functiona app of type &quot;cloud event schema&quot;.</p>\n</li>\n<li><p>Created a subscription of type &quot;cloud event schema 1.0&quot; to consume the events.</p>\n</li>\n</ol>\n<p>My error is: I am getting time out value exceeded initiating cancellation azure function error. I tried to increase the timeout value to 10 minutes from 5 minutes, but I think this error is not regarding the time limit it is regarding the network configuration but not sure how to fix it. Any leads would really appreciated.</p>\n<p><strong>Error:</strong></p>\n<p>2021-09-17T08:13:47.525 [Error] Timeout value of 00:10:00 exceeded by function 'Functions.<em><strong>Func' (Id: '32daf701-18de-467c-b36e-b0b7</strong></em>*****'). Initiating cancellation.</p>\n<p><a href=\"https://i.stack.imgur.com/ixDw7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ixDw7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","arrays","loops","jakarta-mail"],"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1345010189,"post_id":11964622,"comment_id":15945973,"body_markdown":"You don&#39;t need a loop to *create* an int array ;) `int[] array = new int[11];`","body":"You don&#39;t need a loop to <i>create</i> an int array ;) <code>int[] array = new int[11];</code>"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":3,"creation_date":1345010321,"post_id":11964622,"comment_id":15946002,"body_markdown":"Don&#39;t care about efficiency if you just want to store 11 int values in a simple array. Really. Use a loop.","body":"Don&#39;t care about efficiency if you just want to store 11 int values in a simple array. Really. Use a loop."}],"answers":[{"comments":[{"owner":{"account_id":1735943,"reputation":219,"user_id":1588516,"accept_rate":86,"display_name":"user1000232"},"score":0,"creation_date":1345009799,"post_id":11964650,"comment_id":15945901,"body_markdown":"Is there no other way instead of explicitly stating all indices?","body":"Is there no other way instead of explicitly stating all indices?"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345009716,"creation_date":1345009716,"answer_id":11964650,"question_id":11964622,"body_markdown":"\r\n    int[] myArray = new int[] {x, x-1, x-2, x-3, x-4, x-5, x-6, x-7, x-8, x-9, x-10, x-11};\r\n","title":"Creating an array of numbers without looping?","body":"<pre><code>int[] myArray = new int[] {x, x-1, x-2, x-3, x-4, x-5, x-6, x-7, x-8, x-9, x-10, x-11};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1735943,"reputation":219,"user_id":1588516,"accept_rate":86,"display_name":"user1000232"},"score":2,"creation_date":1345010668,"post_id":11964719,"comment_id":15946075,"body_markdown":"JavaMail has an option `Folder.getMessages(int [] array)` and it has an option to fetch a single message. Now which one would be more efficient?\n1. Looping through and getting each single message \n2.Looping through, making an array of  message numebrs you want to fetch and then calling getMessages(). Thanks for the help!","body":"JavaMail has an option <code>Folder.getMessages(int [] array)</code> and it has an option to fetch a single message. Now which one would be more efficient? 1. Looping through and getting each single message  2.Looping through, making an array of  message numebrs you want to fetch and then calling getMessages(). Thanks for the help!"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":1,"creation_date":1345011142,"post_id":11964719,"comment_id":15946169,"body_markdown":"If an API offers a bulk fetch as well as an item-by-item fetch than the first is almost always the more efficient call. Imagine a database behind the scenes: It&#39;s faster get 11 items in one select then in 11 select operations.","body":"If an API offers a bulk fetch as well as an item-by-item fetch than the first is almost always the more efficient call. Imagine a database behind the scenes: It&#39;s faster get 11 items in one select then in 11 select operations."},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":1,"creation_date":1345011237,"post_id":11964719,"comment_id":15946186,"body_markdown":"There&#39;s also a getMessages method that takes a start and end message number and returns an array of Message objects.  If the message numbers you&#39;re fetching are not contiguous, you might as well fetch a single message as a time since that&#39;s what the other methods do internally.","body":"There&#39;s also a getMessages method that takes a start and end message number and returns an array of Message objects.  If the message numbers you&#39;re fetching are not contiguous, you might as well fetch a single message as a time since that&#39;s what the other methods do internally."}],"tags":[],"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1345010300,"creation_date":1345010300,"answer_id":11964719,"question_id":11964622,"body_markdown":"If you want to create and populate an array, you have basically three options:\r\n\r\n 1. Write the values explicitly: `int[] nums = new int[] { 0, 1, 2, 3, 4, ... }`\r\n\r\n 2. Use some form of for-loop: `for (int i = 0; i &lt; 10; i++) { nums[i] = i; }`\r\n\r\n 3. Create it recursively:\r\n\r\n&lt;pre&gt;\r\nint[] nums = new int[12];\r\nnums = populate(0, x, nums);\r\n\r\nprivate int[] populate(int index, int x, int[] nums) {\r\n    if (nums.length &gt;= index) {\r\n        return nums;\r\n    } else {\r\n        nums[index] = x - index; // x-0 through x-11\r\n        return populate(index+1, x, nums);\r\n    }\r\n}\r\n&lt;/pre&gt;\r\n\r\nVanilla Java, without extra libraries and whatnot, doesn&#39;t support a map function which would allow you to specify a function that would somehow auto-generate your values.\r\n\r\nThough, I really don&#39;t understand why you don&#39;t want to use a loop, especially for something trivial like this.","title":"Creating an array of numbers without looping?","body":"<p>If you want to create and populate an array, you have basically three options:</p>\n\n<ol>\n<li><p>Write the values explicitly: <code>int[] nums = new int[] { 0, 1, 2, 3, 4, ... }</code></p></li>\n<li><p>Use some form of for-loop: <code>for (int i = 0; i &lt; 10; i++) { nums[i] = i; }</code></p></li>\n<li><p>Create it recursively:</p></li>\n</ol>\n\n<pre>\nint[] nums = new int[12];\nnums = populate(0, x, nums);\n\nprivate int[] populate(int index, int x, int[] nums) {\n    if (nums.length >= index) {\n        return nums;\n    } else {\n        nums[index] = x - index; // x-0 through x-11\n        return populate(index+1, x, nums);\n    }\n}\n</pre>\n\n<p>Vanilla Java, without extra libraries and whatnot, doesn't support a map function which would allow you to specify a function that would somehow auto-generate your values.</p>\n\n<p>Though, I really don't understand why you don't want to use a loop, especially for something trivial like this.</p>\n"},{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667358026,"creation_date":1667358026,"answer_id":74283900,"question_id":11964622,"body_markdown":"Since JDK 8 it&#39;s possible to populate an array using streams instead of for loops.\r\n\r\nFor example, an array of numbers x through x-11 can be generated using [IntStream.iterate()][1] which applies the specified function to every previous element to obtain the next one, in this case decrement. \r\n\r\n    int x = 55;\r\n    int[] arrayOfNumbers = IntStream\r\n           .iterate(x, previousNumber -&gt; --previousNumber)\r\n           .limit(11)\r\n           .toArray();\r\n\r\n    // Creates an array containing: [55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45]\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#iterate-int-java.util.function.IntUnaryOperator-","title":"Creating an array of numbers without looping?","body":"<p>Since JDK 8 it's possible to populate an array using streams instead of for loops.</p>\n<p>For example, an array of numbers x through x-11 can be generated using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#iterate-int-java.util.function.IntUnaryOperator-\" rel=\"nofollow noreferrer\">IntStream.iterate()</a> which applies the specified function to every previous element to obtain the next one, in this case decrement.</p>\n<pre><code>int x = 55;\nint[] arrayOfNumbers = IntStream\n       .iterate(x, previousNumber -&gt; --previousNumber)\n       .limit(11)\n       .toArray();\n\n// Creates an array containing: [55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45]\n</code></pre>\n"}],"owner":{"account_id":1735943,"reputation":219,"user_id":1588516,"accept_rate":86,"display_name":"user1000232"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7128,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":11964719,"answer_count":3,"score":2,"last_activity_date":1667358026,"creation_date":1345009449,"question_id":11964622,"body_markdown":"Okay so I am using the JavaMail library and I am trying to fetch certain message numbers. I want to do it efficiently and not have to loop twice over something… Anyways my question to you is: How can I create an array that starts at index `x` and ends at index `x - 11` without looping?","title":"Creating an array of numbers without looping?","body":"<p>Okay so I am using the JavaMail library and I am trying to fetch certain message numbers. I want to do it efficiently and not have to loop twice over something… Anyways my question to you is: How can I create an array that starts at index <code>x</code> and ends at index <code>x - 11</code> without looping?</p>\n"},{"tags":["java","validation"],"comments":[{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1667354025,"post_id":74283534,"comment_id":131146125,"body_markdown":"It&#39;s not possible if you&#39;re required to use annotations; annotation parameters must be compile-time constants. You could do it in other ways, such as creating a Map of Field objects (obtained by reflection) with a Map of dynamic validation functions.","body":"It&#39;s not possible if you&#39;re required to use annotations; annotation parameters must be compile-time constants. You could do it in other ways, such as creating a Map of Field objects (obtained by reflection) with a Map of dynamic validation functions."},{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1667354836,"post_id":74283534,"comment_id":131146241,"body_markdown":"Thank you for your answer. I kind of &quot;hoped&quot; that you could add parameters to the ConstraintValidationContext from outside or provide your own.","body":"Thank you for your answer. I kind of &quot;hoped&quot; that you could add parameters to the ConstraintValidationContext from outside or provide your own."}],"answers":[{"comments":[{"owner":{"account_id":23963297,"reputation":56,"user_id":17953108,"display_name":"刷题养家"},"score":0,"creation_date":1667357153,"post_id":74283834,"comment_id":131146515,"body_markdown":"@AssertTrue\n\n import javax.validation.constraints.AssertTrue;","body":"@AssertTrue   import javax.validation.constraints.AssertTrue;"},{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1667357669,"post_id":74283834,"comment_id":131146572,"body_markdown":"sure, that&#39;s a kind of workaround I MIGHT be using, but if the &quot;value&quot; that is relevant for the validation belongs to a parent of a parent of the object I&#39;m validating, it would be ugly to pass it down to the very object. Although not completely impossible:D","body":"sure, that&#39;s a kind of workaround I MIGHT be using, but if the &quot;value&quot; that is relevant for the validation belongs to a parent of a parent of the object I&#39;m validating, it would be ugly to pass it down to the very object. Although not completely impossible:D"}],"tags":[],"owner":{"account_id":23963297,"reputation":56,"user_id":17953108,"display_name":"刷题养家"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667357004,"creation_date":1667357004,"answer_id":74283834,"question_id":74283534,"body_markdown":"i have anothor way, hope can help you.\r\n\r\n    public class User {\r\n    String name;\r\n    int age;\r\n\r\n    // just for validate\r\n    String value;\r\n\r\n    @AssertTrue(message = &quot;name not equal value&quot;)\r\n    private boolean isNameEquals() {\r\n        return Objects.equals(name, value);\r\n    }\r\n}\r\n\r\nyou can test like this:\r\n \r\n\r\n    User user = new User();\r\n    user.setName(&quot;name1&quot;);\r\n    user.setValue(&quot;name2&quot;);\r\n    Set&lt;ConstraintViolation&lt;User&gt;&gt; validate = Validation.buildDefaultValidatorFactory().getValidator().validate(user);\r\n    System.out.println(validate);","title":"Is it possible to provide dynamic parameters for Java validation?","body":"<p>i have anothor way, hope can help you.</p>\n<pre><code>public class User {\nString name;\nint age;\n\n// just for validate\nString value;\n\n@AssertTrue(message = &quot;name not equal value&quot;)\nprivate boolean isNameEquals() {\n    return Objects.equals(name, value);\n}\n</code></pre>\n<p>}</p>\n<p>you can test like this:</p>\n<pre><code>User user = new User();\nuser.setName(&quot;name1&quot;);\nuser.setValue(&quot;name2&quot;);\nSet&lt;ConstraintViolation&lt;User&gt;&gt; validate = Validation.buildDefaultValidatorFactory().getValidator().validate(user);\nSystem.out.println(validate);\n</code></pre>\n"}],"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667357004,"creation_date":1667353342,"question_id":74283534,"body_markdown":"For this class:\r\n\r\n    class ClassA {\r\n      @FancyValidation\r\n      String value;\r\n    }\r\n\r\nI provide a Validator:\r\n\r\n\r\n    public class FancyValidator implements ConstraintValidator&lt;FancyValidation, String&gt; {\r\n    \r\n        @Override\r\n        public boolean isValid(String value, ConstraintValidatorContext context) {\r\n            return doSomeFancyThingsWithValue(value);\r\n        }\r\n    }\r\n\r\nIs there any way of providing **_dynamically_** some parameters for the validation?\r\n\r\nI can add a parameter in the declaration of the constraint, like:\r\n\r\n    @FancyValidation(param1 = &quot;value1&quot;) \r\n\r\nBut this is not dynamic.\r\n\r\nI could maybe use groups, but as far as I understand I can only &quot;turn on and off&quot; the whole constraints depending on what groups I use.\r\n\r\nIs there a way of doing something like this?\r\n\r\n    int parameter1 = 15;\r\n    validator.validate(instanceOfClassA, parameter1);\r\n\r\nthat would lead to:\r\n\r\n\r\n    public class FancyValidator implements ConstraintValidator&lt;FancyValidation, String&gt; {\r\n    \r\n        @Override\r\n        public boolean isValid(String value, ConstraintValidatorContext context) {\r\n            //retrieve somehow the value of parameter1;\r\n            return doSomeFancyThingsWithValue(value, parameter1Value);\r\n        }\r\n    }\r\n","title":"Is it possible to provide dynamic parameters for Java validation?","body":"<p>For this class:</p>\n<pre><code>class ClassA {\n  @FancyValidation\n  String value;\n}\n</code></pre>\n<p>I provide a Validator:</p>\n<pre><code>public class FancyValidator implements ConstraintValidator&lt;FancyValidation, String&gt; {\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        return doSomeFancyThingsWithValue(value);\n    }\n}\n</code></pre>\n<p>Is there any way of providing <strong><em>dynamically</em></strong> some parameters for the validation?</p>\n<p>I can add a parameter in the declaration of the constraint, like:</p>\n<pre><code>@FancyValidation(param1 = &quot;value1&quot;) \n</code></pre>\n<p>But this is not dynamic.</p>\n<p>I could maybe use groups, but as far as I understand I can only &quot;turn on and off&quot; the whole constraints depending on what groups I use.</p>\n<p>Is there a way of doing something like this?</p>\n<pre><code>int parameter1 = 15;\nvalidator.validate(instanceOfClassA, parameter1);\n</code></pre>\n<p>that would lead to:</p>\n<pre><code>public class FancyValidator implements ConstraintValidator&lt;FancyValidation, String&gt; {\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        //retrieve somehow the value of parameter1;\n        return doSomeFancyThingsWithValue(value, parameter1Value);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","parallel-processing","java-stream","java-threads"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1667335021,"post_id":74281070,"comment_id":131142392,"body_markdown":"You could simply catch exceptions in the loop. If you catch them, are you thinking execution would stop?","body":"You could simply catch exceptions in the loop. If you catch them, are you thinking execution would stop?"},{"owner":{"account_id":11090186,"reputation":77,"user_id":8142371,"display_name":"SaurabhVS"},"score":0,"creation_date":1667366885,"post_id":74281070,"comment_id":131147724,"body_markdown":"Thanks for the reply Chris. I was actually doubtful on this. Pl refer to the top upvoted answer on - https://stackoverflow.com/questions/43032904/catch-exception-from-parallel-stream . Please let me know your views on this.","body":"Thanks for the reply Chris. I was actually doubtful on this. Pl refer to the top upvoted answer on - <a href=\"https://stackoverflow.com/questions/43032904/catch-exception-from-parallel-stream\" title=\"catch exception from parallel stream\">stackoverflow.com/questions/43032904/&hellip;</a> . Please let me know your views on this."},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":1,"creation_date":1667393173,"post_id":74281070,"comment_id":131155593,"body_markdown":"A quote from that: _If there is at least one exception **thrown** in a thread_. If you catch an exception it doesn&#39;t have to be re-thrown. You can still catch it and continue execution with the rest of the stream.","body":"A quote from that: <i>If there is at least one exception <b>thrown</b> in a thread</i>. If you catch an exception it doesn&#39;t have to be re-thrown. You can still catch it and continue execution with the rest of the stream."},{"owner":{"account_id":11090186,"reputation":77,"user_id":8142371,"display_name":"SaurabhVS"},"score":0,"creation_date":1668699250,"post_id":74281070,"comment_id":131474339,"body_markdown":"Hey Chris, we know that multiple threads will be spun by Stream.of(columns).parallel() provided the collection is very large. In my usecase, I need to revert the changes made by a thread if exception occurs in any of the threads spun up kind of Transactional rollback. \n\nI&#39;m using parallel streams to make api more performant as for each processing it has db and service to service calls. Can this be achieved by parallel streams or maybe can you please suggest an efficient approach for this?","body":"Hey Chris, we know that multiple threads will be spun by Stream.of(columns).parallel() provided the collection is very large. In my usecase, I need to revert the changes made by a thread if exception occurs in any of the threads spun up kind of Transactional rollback.   I&#39;m using parallel streams to make api more performant as for each processing it has db and service to service calls. Can this be achieved by parallel streams or maybe can you please suggest an efficient approach for this?"}],"answers":[{"comments":[{"owner":{"account_id":11090186,"reputation":77,"user_id":8142371,"display_name":"SaurabhVS"},"score":0,"creation_date":1667366195,"post_id":74283646,"comment_id":131147621,"body_markdown":"Thanks for the reply Jesse. But does that guarantee, if an exception is thrown during processing task in any one of the forEach iteration won&#39;t abort remaining threads(forEach iterations)? Pl refer to the top upvoted answer on - https://stackoverflow.com/questions/43032904/catch-exception-from-parallel-stream and let me know your views on this.","body":"Thanks for the reply Jesse. But does that guarantee, if an exception is thrown during processing task in any one of the forEach iteration won&#39;t abort remaining threads(forEach iterations)? Pl refer to the top upvoted answer on - <a href=\"https://stackoverflow.com/questions/43032904/catch-exception-from-parallel-stream\" title=\"catch exception from parallel stream\">stackoverflow.com/questions/43032904/&hellip;</a> and let me know your views on this."},{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1667395045,"post_id":74283646,"comment_id":131156281,"body_markdown":"Yes, it does, because you would be catching the exception and not throwing it within the loop.","body":"Yes, it does, because you would be catching the exception and not throwing it within the loop."},{"owner":{"account_id":11090186,"reputation":77,"user_id":8142371,"display_name":"SaurabhVS"},"score":0,"creation_date":1668699219,"post_id":74283646,"comment_id":131474323,"body_markdown":"Hey Jesse, we know that multiple threads will be spun by Stream.of(columns).parallel() provided the collection is very large. In my usecase, I need to revert the changes made by a thread if exception occurs in any of the threads spun up kind of Transactional rollback. I&#39;m using parallel streams to make api more performant as for each processing it has db and service to service calls. Can this be achieved by parallel streams or maybe can you please suggest an efficient approach for this?","body":"Hey Jesse, we know that multiple threads will be spun by Stream.of(columns).parallel() provided the collection is very large. In my usecase, I need to revert the changes made by a thread if exception occurs in any of the threads spun up kind of Transactional rollback. I&#39;m using parallel streams to make api more performant as for each processing it has db and service to service calls. Can this be achieved by parallel streams or maybe can you please suggest an efficient approach for this?"},{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1668796931,"post_id":74283646,"comment_id":131501554,"body_markdown":"Just iterate through the error[] array after you finish processing; any non-null value in the array means that at least one thread had an error. If that happens, rollback your transaction.","body":"Just iterate through the error[] array after you finish processing; any non-null value in the array means that at least one thread had an error. If that happens, rollback your transaction."}],"tags":[],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667354751,"creation_date":1667354751,"answer_id":74283646,"question_id":74281070,"body_markdown":"You&#39;ve got a result[] array for storing results, just create an error[] array for storing exceptions. In your catch statement, store the exception into the error[] array and don&#39;t call thrownException.complete(e).","title":"Execute parallel method calls in java without aborting entire processing for any exception in a one or multiple method calls","body":"<p>You've got a result[] array for storing results, just create an error[] array for storing exceptions. In your catch statement, store the exception into the error[] array and don't call thrownException.complete(e).</p>\n"}],"owner":{"account_id":11090186,"reputation":77,"user_id":8142371,"display_name":"SaurabhVS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74283646,"answer_count":1,"score":0,"last_activity_date":1667354751,"creation_date":1667331949,"question_id":74281070,"body_markdown":"I&#39;ve a method\r\n\r\n    private void disableXYZ(Long rId, List&lt;Long&gt; disableIds, String requestedBy) {\r\n            for (Long disableId : disableIds) {\r\n                try {\r\n                    disablePackXYZ(UnSubscribeRequest.unsubscriptionRequest()\r\n                            .requestedBy(requestedBy)\r\n                            .cancellationReason(&quot;system&quot;)\r\n                            .id(disableId)\r\n                            .build());\r\n                } catch (Exception e) {\r\n                    log.error(&quot;Failed to disable pack. id: {}, rId: {}. Error: {}&quot;, disableId, rId, e.getMessage());\r\n                }\r\n            }\r\n        }\r\n\r\n\r\nI want to make parallel method calls to disablePackXYZ with ids in disableIds list instead of an iterative for loop. But doing so I don&#39;t want to abort all the parallel calls if exception is thrown by any one or more disablePackXYZ calls. I can catch or suppress the exception but it should not abort processing of all the other threads or of the same thread for further tasks. Please suggest the approach for the same.\r\n\r\nI went through java streams approach over the web - \r\n\r\n    final CompletableFuture&lt;ParseException&gt; thrownException = new CompletableFuture&lt;&gt;();\r\n    Stream.of(columns).parallel().forEach(column -&gt; {\r\n        try {\r\n            result[column.index] = parseColumn(valueCache[column.index], column.type);\r\n        } catch (ParseException e) {\r\n            thrownException.complete(e);\r\n        }});\r\n\r\nFor above approach, I found over web that if there is at least one exception thrown in a thread, the forEach invocation will propagate it (or one of them) to the caller. Hence, the current implementation doesn’t wait for the completion of all threads when it encounters an exception.","title":"Execute parallel method calls in java without aborting entire processing for any exception in a one or multiple method calls","body":"<p>I've a method</p>\n<pre><code>private void disableXYZ(Long rId, List&lt;Long&gt; disableIds, String requestedBy) {\n        for (Long disableId : disableIds) {\n            try {\n                disablePackXYZ(UnSubscribeRequest.unsubscriptionRequest()\n                        .requestedBy(requestedBy)\n                        .cancellationReason(&quot;system&quot;)\n                        .id(disableId)\n                        .build());\n            } catch (Exception e) {\n                log.error(&quot;Failed to disable pack. id: {}, rId: {}. Error: {}&quot;, disableId, rId, e.getMessage());\n            }\n        }\n    }\n</code></pre>\n<p>I want to make parallel method calls to disablePackXYZ with ids in disableIds list instead of an iterative for loop. But doing so I don't want to abort all the parallel calls if exception is thrown by any one or more disablePackXYZ calls. I can catch or suppress the exception but it should not abort processing of all the other threads or of the same thread for further tasks. Please suggest the approach for the same.</p>\n<p>I went through java streams approach over the web -</p>\n<pre><code>final CompletableFuture&lt;ParseException&gt; thrownException = new CompletableFuture&lt;&gt;();\nStream.of(columns).parallel().forEach(column -&gt; {\n    try {\n        result[column.index] = parseColumn(valueCache[column.index], column.type);\n    } catch (ParseException e) {\n        thrownException.complete(e);\n    }});\n</code></pre>\n<p>For above approach, I found over web that if there is at least one exception thrown in a thread, the forEach invocation will propagate it (or one of them) to the caller. Hence, the current implementation doesn’t wait for the completion of all threads when it encounters an exception.</p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667342549,"post_id":74282477,"comment_id":131144154,"body_markdown":"It&#39;s running a gui?  You could &quot;redirect&quot; the `System.out` and capture it, then print it to some other window","body":"It&#39;s running a gui?  You could &quot;redirect&quot; the <code>System.out</code> and capture it, then print it to some other window"}],"answers":[{"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1667342592,"post_id":74282519,"comment_id":131144160,"body_markdown":"More specifically, the IDE also provides the terminal that is utilized for input/output. When you doubleclick a jar file in windows, the jar is executed using `java -jar`, but no terminal is shown, which is the actual issue here.","body":"More specifically, the IDE also provides the terminal that is utilized for input/output. When you doubleclick a jar file in windows, the jar is executed using <code>java -jar</code>, but no terminal is shown, which is the actual issue here."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1667347040,"post_id":74282519,"comment_id":131145038,"body_markdown":"[Java SE has a perfectly good logging system.](https://docs.oracle.com/en/java/javase/19/docs/api/java.logging/java/util/logging/package-summary.html)  No need to rely on a shoddy dependency like Log4J.","body":"<a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.logging/java/util/logging/package-summary.html\" rel=\"nofollow noreferrer\">Java SE has a perfectly good logging system.</a>  No need to rely on a shoddy dependency like Log4J."}],"tags":[],"owner":{"account_id":20385645,"reputation":1,"user_id":14954718,"display_name":"Szymon Wałachowski"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667342524,"creation_date":1667342175,"answer_id":74282519,"question_id":74282477,"body_markdown":"Try running with java cli. This is basically what your IDE does when you run your project.\r\n\r\n    java -jar yourjar.jar\r\n\r\nIf you don&#39;t want to keep your console open and still persist logs, I would suggest using log4j or just simply [redirect output of System.out to file][1]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/redirecting-system-out-println-output-to-a-file-in-java","title":"How to open terminal, print to it, and close it in .jar application","body":"<p>Try running with java cli. This is basically what your IDE does when you run your project.</p>\n<pre><code>java -jar yourjar.jar\n</code></pre>\n<p>If you don't want to keep your console open and still persist logs, I would suggest using log4j or just simply <a href=\"https://www.tutorialspoint.com/redirecting-system-out-println-output-to-a-file-in-java\" rel=\"nofollow noreferrer\">redirect output of System.out to file</a></p>\n"},{"tags":[],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667354432,"creation_date":1667354432,"answer_id":74283622,"question_id":74282477,"body_markdown":"You can easily change where stderr and stdout go:\r\n\r\n    public class RedirectStdStreams {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tSystem.setOut( new PrintStream( &quot;/tmp/stdout&quot; ) );\r\n    \t\tSystem.setErr( new PrintStream( &quot;/tmp/stderr&quot; ) );\r\n    \r\n    \t\tSystem.out.println( &quot;Look ma, watch me juggle this chainsaw!&quot; );\r\n    \t\tSystem.err.println( &quot;Uh oh, that didn&#39;t go well at all...&quot;);\r\n    \t}\r\n    }","title":"How to open terminal, print to it, and close it in .jar application","body":"<p>You can easily change where stderr and stdout go:</p>\n<pre><code>public class RedirectStdStreams {\n    public static void main(String[] args) throws Exception {\n        System.setOut( new PrintStream( &quot;/tmp/stdout&quot; ) );\n        System.setErr( new PrintStream( &quot;/tmp/stderr&quot; ) );\n\n        System.out.println( &quot;Look ma, watch me juggle this chainsaw!&quot; );\n        System.err.println( &quot;Uh oh, that didn't go well at all...&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25422116,"reputation":3,"user_id":19227905,"display_name":"Ryan Huynh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667354432,"creation_date":1667341883,"question_id":74282477,"body_markdown":"I have a program where, during a long task, I use System.out to print messages to indicate its progress. However, this can only be seen in the terminal in Visual Studio Code.\r\n\r\nWhen I export the program to a jar file and double-click it, it doesn&#39;t print out any System.out messages, although it is still able to do its tasks.\r\n\r\nSo, how do I make my program open a terminal upon double-clicking its jar file so that it can print messages to it in a similar manner as using System.out?","title":"How to open terminal, print to it, and close it in .jar application","body":"<p>I have a program where, during a long task, I use System.out to print messages to indicate its progress. However, this can only be seen in the terminal in Visual Studio Code.</p>\n<p>When I export the program to a jar file and double-click it, it doesn't print out any System.out messages, although it is still able to do its tasks.</p>\n<p>So, how do I make my program open a terminal upon double-clicking its jar file so that it can print messages to it in a similar manner as using System.out?</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":12270,"reputation":4865,"user_id":24069,"accept_rate":89,"display_name":"Anthony Dahanne"},"score":0,"creation_date":1433176623,"post_id":30539991,"comment_id":49227456,"body_markdown":"right, thanks for your answer, that was it ! I would also add that for Spring Boot, you need to mark the class holding the RequestMapperHandling to to be annotated with `@Configuration` (not `@Bean`)","body":"right, thanks for your answer, that was it ! I would also add that for Spring Boot, you need to mark the class holding the RequestMapperHandling to to be annotated with <code>@Configuration</code> (not <code>@Bean</code>)"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1433177073,"post_id":30539991,"comment_id":49227709,"body_markdown":"@AnthonyDahanne I&#39;m saying the method needs to be annotated with `@Bean`.","body":"@AnthonyDahanne I&#39;m saying the method needs to be annotated with <code>@Bean</code>."},{"owner":{"account_id":12270,"reputation":4865,"user_id":24069,"accept_rate":89,"display_name":"Anthony Dahanne"},"score":0,"creation_date":1433177528,"post_id":30539991,"comment_id":49227988,"body_markdown":"I did not need to add this `@Bean` annotation to the method. Just the method you provided, in a class annotated with `@Configuration` was necessary with Spring boot 1.2.3 - this is what I&#39;m using : https://gist.github.com/anthonydahanne/82915d8123eea9ff60b7 and it&#39;s working great","body":"I did not need to add this <code>@Bean</code> annotation to the method. Just the method you provided, in a class annotated with <code>@Configuration</code> was necessary with Spring boot 1.2.3 - this is what I&#39;m using : <a href=\"https://gist.github.com/anthonydahanne/82915d8123eea9ff60b7\" rel=\"nofollow noreferrer\">gist.github.com/anthonydahanne/82915d8123eea9ff60b7</a> and it&#39;s working great"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1433177641,"post_id":30539991,"comment_id":49228056,"body_markdown":"@AnthonyDahanne Oh, because you&#39;re overriding `WebMvcConfigurationSupport#requestMappingHandlerMapping` which is the typical solution I suggested. In Spring boot, I don&#39;t believe it&#39;s necessary. You can simply provide a `@Bean` method in a registered `@Configuration` class.","body":"@AnthonyDahanne Oh, because you&#39;re overriding <code>WebMvcConfigurationSupport#requestMappingHandlerMapping</code> which is the typical solution I suggested. In Spring boot, I don&#39;t believe it&#39;s necessary. You can simply provide a <code>@Bean</code> method in a registered <code>@Configuration</code> class."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1432938779,"creation_date":1432938321,"answer_id":30539991,"question_id":30539783,"body_markdown":"As the documentation you linked to states,\r\n\r\n&gt; Note that to enable the use of matrix variables, you must set the\r\n&gt; `removeSemicolonContent` property of `RequestMappingHandlerMapping` to\r\n&gt; `false`. By default it is set to `true` with the exception of the MVC\r\n&gt; namespace and the MVC Java config both of which automatically enable\r\n&gt; the use of matrix variables.\r\n\r\nIf you&#39;re configuring your application by extending `WebMvcConfigurationSupport`, then override the `requestMappingHandlerMapping` method which prepares the `RequestMappingHandlerMapping` and set its appropriate property.\r\n\r\n    @Override\r\n    public RequestMappingHandlerMapping requestMappingHandlerMapping() {\r\n        final RequestMappingHandlerMapping requestMappingHandlerMapping = super.requestMappingHandlerMapping();\r\n        requestMappingHandlerMapping.setRemoveSemicolonContent(false); // &lt;&lt;&lt; this\r\n        return requestMappingHandlerMapping;\r\n    }\r\n\r\nYou&#39;ll then be all set.\r\n\r\n\r\n----------\r\n\r\nWith Spring Boot, I think all you need is to declare a `@Bean` method with the above, ie. that returns a `RequestMappingHandlerMapping` instance.","title":"Spring MVC Missing matrix variable","body":"<p>As the documentation you linked to states,</p>\n\n<blockquote>\n  <p>Note that to enable the use of matrix variables, you must set the\n  <code>removeSemicolonContent</code> property of <code>RequestMappingHandlerMapping</code> to\n  <code>false</code>. By default it is set to <code>true</code> with the exception of the MVC\n  namespace and the MVC Java config both of which automatically enable\n  the use of matrix variables.</p>\n</blockquote>\n\n<p>If you're configuring your application by extending <code>WebMvcConfigurationSupport</code>, then override the <code>requestMappingHandlerMapping</code> method which prepares the <code>RequestMappingHandlerMapping</code> and set its appropriate property.</p>\n\n<pre><code>@Override\npublic RequestMappingHandlerMapping requestMappingHandlerMapping() {\n    final RequestMappingHandlerMapping requestMappingHandlerMapping = super.requestMappingHandlerMapping();\n    requestMappingHandlerMapping.setRemoveSemicolonContent(false); // &lt;&lt;&lt; this\n    return requestMappingHandlerMapping;\n}\n</code></pre>\n\n<p>You'll then be all set.</p>\n\n<hr>\n\n<p>With Spring Boot, I think all you need is to declare a <code>@Bean</code> method with the above, ie. that returns a <code>RequestMappingHandlerMapping</code> instance.</p>\n"},{"tags":[],"owner":{"account_id":7291708,"reputation":3515,"user_id":5557885,"accept_rate":54,"display_name":"rajadilipkolli"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487267904,"creation_date":1487267904,"answer_id":42281410,"question_id":30539783,"body_markdown":"In SpringBoot Application In order to enable Matrix variables you need to define below override code\r\n\r\n    @Configuration\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n     \r\n        @Override\r\n        public void configurePathMatch(PathMatchConfigurer configurer) {\r\n            UrlPathHelper urlPathHelper = new UrlPathHelper();\r\n            urlPathHelper.setRemoveSemicolonContent(false);\r\n            configurer.setUrlPathHelper(urlPathHelper);\r\n        }\r\n    }\r\n\r\nOtherwise, they’re disabled by default","title":"Spring MVC Missing matrix variable","body":"<p>In SpringBoot Application In order to enable Matrix variables you need to define below override code</p>\n\n<pre><code>@Configuration\npublic class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        UrlPathHelper urlPathHelper = new UrlPathHelper();\n        urlPathHelper.setRemoveSemicolonContent(false);\n        configurer.setUrlPathHelper(urlPathHelper);\n    }\n}\n</code></pre>\n\n<p>Otherwise, they’re disabled by default</p>\n"},{"tags":[],"owner":{"account_id":953817,"reputation":493,"user_id":979478,"display_name":"Pawel Zieminski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667353909,"creation_date":1667353909,"answer_id":74283580,"question_id":30539783,"body_markdown":"If you are using Spring Data and its controller mapping, try something like this also\r\n\r\n    @Configuration\r\n    public class DataMvcConfig extends RepositoryRestMvcConfiguration {\r\n    \r\n        @Override\r\n        public DelegatingHandlerMapping restHandlerMapping() {\r\n            final DelegatingHandlerMapping delegatingHandlerMapping = super.restHandlerMapping();\r\n            for (HandlerMapping delegate : delegatingHandlerMapping.getDelegates()) {\r\n                if (delegate instanceof AbstractHandlerMapping) {\r\n                    ((AbstractHandlerMapping)delegate).setRemoveSemicolonContent(false);\r\n                }\r\n            }\r\n            return delegatingHandlerMapping;\r\n        }\r\n    }\r\n","title":"Spring MVC Missing matrix variable","body":"<p>If you are using Spring Data and its controller mapping, try something like this also</p>\n<pre><code>@Configuration\npublic class DataMvcConfig extends RepositoryRestMvcConfiguration {\n\n    @Override\n    public DelegatingHandlerMapping restHandlerMapping() {\n        final DelegatingHandlerMapping delegatingHandlerMapping = super.restHandlerMapping();\n        for (HandlerMapping delegate : delegatingHandlerMapping.getDelegates()) {\n            if (delegate instanceof AbstractHandlerMapping) {\n                ((AbstractHandlerMapping)delegate).setRemoveSemicolonContent(false);\n            }\n        }\n        return delegatingHandlerMapping;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12270,"reputation":4865,"user_id":24069,"accept_rate":89,"display_name":"Anthony Dahanne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6740,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30539991,"answer_count":3,"score":2,"last_activity_date":1667353909,"creation_date":1432937093,"question_id":30539783,"body_markdown":"I&#39;m trying to add a matrix parameter (or matrix variable) to my Rest Controller using SpringMVC (from Spring boot 1.2.3.RELEASE)\r\nHere is my code :\r\n\r\n    @RestController\r\n    public class SubAgentsController {\r\n\r\n        @RequestMapping(value = &quot;/{subagents}&quot;, method = RequestMethod.GET)\r\n        public SubAgent subAgents(@MatrixVariable(value=&quot;agentName&quot;, pathVar=&quot;subagents&quot;) String agentName) {\r\n            System.out.println(agentName);\r\n        }\r\n    }\r\n\r\nUnfortunately, when I try to get :\r\nhttp://localhost:8080/subagents;agentName=hello\r\n\r\nthat is the answer I receive :\r\n\r\n&gt; There was an unexpected error (type=Bad Request, status=400).\r\n\r\n&gt; Missing matrix variable &#39;agentName&#39; for method parameter of type String\r\n\r\nWhat did I do wrong ? According to http://docs.spring.io/spring-framework/docs/3.2.0.M2/reference/html/mvc.html that should work :-(\r\n\r\nThanks for your answers!","title":"Spring MVC Missing matrix variable","body":"<p>I'm trying to add a matrix parameter (or matrix variable) to my Rest Controller using SpringMVC (from Spring boot 1.2.3.RELEASE)\nHere is my code :</p>\n\n<pre><code>@RestController\npublic class SubAgentsController {\n\n    @RequestMapping(value = \"/{subagents}\", method = RequestMethod.GET)\n    public SubAgent subAgents(@MatrixVariable(value=\"agentName\", pathVar=\"subagents\") String agentName) {\n        System.out.println(agentName);\n    }\n}\n</code></pre>\n\n<p>Unfortunately, when I try to get :\n<a href=\"http://localhost:8080/subagents;agentName=hello\" rel=\"nofollow\">http://localhost:8080/subagents;agentName=hello</a></p>\n\n<p>that is the answer I receive :</p>\n\n<blockquote>\n  <p>There was an unexpected error (type=Bad Request, status=400).</p>\n  \n  <p>Missing matrix variable 'agentName' for method parameter of type String</p>\n</blockquote>\n\n<p>What did I do wrong ? According to <a href=\"http://docs.spring.io/spring-framework/docs/3.2.0.M2/reference/html/mvc.html\" rel=\"nofollow\">http://docs.spring.io/spring-framework/docs/3.2.0.M2/reference/html/mvc.html</a> that should work :-(</p>\n\n<p>Thanks for your answers!</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"score":0,"creation_date":1603830945,"post_id":64562508,"comment_id":114160364,"body_markdown":"Can you show the program you&#39;re running?","body":"Can you show the program you&#39;re running?"},{"owner":{"account_id":15532490,"reputation":485,"user_id":12826055,"display_name":"str1ng"},"score":0,"creation_date":1603831092,"post_id":64562508,"comment_id":114160439,"body_markdown":"@CodingNinja https://imgur.com/a/HtFiwv3\n\nSorry if image is too small I&#39;m on RDP connected to person&#39;s TeamViewer","body":"@CodingNinja <a href=\"https://imgur.com/a/HtFiwv3\" rel=\"nofollow noreferrer\">imgur.com/a/HtFiwv3</a>  Sorry if image is too small I&#39;m on RDP connected to person&#39;s TeamViewer"},{"owner":{"account_id":15532490,"reputation":485,"user_id":12826055,"display_name":"str1ng"},"score":0,"creation_date":1603831241,"post_id":64562508,"comment_id":114160506,"body_markdown":"@CodingNinja I was following this peron&#39;s tutorial on youtube https://www.youtube.com/watch?v=QcM1acdAUjw \nFirst time I got it running, and there was problem with --release thing I couldn&#39;t select it, after that I changed something and then I got --release thing selectable and checkable, but then this error started to occure... That something was showed me as an error to be configured rightly and I simply clicked on paths and edited things in those paths... Can&#39;t remember what exactly did I touched...","body":"@CodingNinja I was following this peron&#39;s tutorial on youtube <a href=\"https://www.youtube.com/watch?v=QcM1acdAUjw\" rel=\"nofollow noreferrer\">youtube.com/watch?v=QcM1acdAUjw</a>  First time I got it running, and there was problem with --release thing I couldn&#39;t select it, after that I changed something and then I got --release thing selectable and checkable, but then this error started to occure... That something was showed me as an error to be configured rightly and I simply clicked on paths and edited things in those paths... Can&#39;t remember what exactly did I touched..."},{"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"score":0,"creation_date":1603831478,"post_id":64562508,"comment_id":114160606,"body_markdown":"Does this help? https://stackoverflow.com/questions/55447687/how-to-fix-java-lang-unsupportedclassversionerror-test-class-file-version-52-6","body":"Does this help? <a href=\"https://stackoverflow.com/questions/55447687/how-to-fix-java-lang-unsupportedclassversionerror-test-class-file-version-52-6\" title=\"how to fix java lang unsupportedclassversionerror test class file version 52 6\">stackoverflow.com/questions/55447687/&hellip;</a>"},{"owner":{"account_id":15532490,"reputation":485,"user_id":12826055,"display_name":"str1ng"},"score":0,"creation_date":1603831946,"post_id":64562508,"comment_id":114160771,"body_markdown":"@CodingNinja That wouldn&#39;t help. I guess I am just going to do clean reinstallation and seting up of Eclipse IDE over again...\nRather that then spending 3 hours more and breaking my head through the wall","body":"@CodingNinja That wouldn&#39;t help. I guess I am just going to do clean reinstallation and seting up of Eclipse IDE over again... Rather that then spending 3 hours more and breaking my head through the wall"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1603832854,"post_id":64562508,"comment_id":114161124,"body_markdown":"Java 15 requires Eclipse 2020-09 with [this plugin](https://marketplace.eclipse.org/content/java-15-support-eclipse-2020-09-417). Can you confirm that you have this?","body":"Java 15 requires Eclipse 2020-09 with <a href=\"https://marketplace.eclipse.org/content/java-15-support-eclipse-2020-09-417\" rel=\"nofollow noreferrer\">this plugin</a>. Can you confirm that you have this?"},{"owner":{"account_id":15532490,"reputation":485,"user_id":12826055,"display_name":"str1ng"},"score":0,"creation_date":1603833253,"post_id":64562508,"comment_id":114161275,"body_markdown":"Yes I have that one @howlger \nBtw. Still after full reinstalling I get same error","body":"Yes I have that one @howlger  Btw. Still after full reinstalling I get same error"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1603833521,"post_id":64562508,"comment_id":114161375,"body_markdown":"Which versions exactly of Eclipse, of the plugin and of Java? Does it work with Java 11 or 14?","body":"Which versions exactly of Eclipse, of the plugin and of Java? Does it work with Java 11 or 14?"},{"owner":{"account_id":15532490,"reputation":485,"user_id":12826055,"display_name":"str1ng"},"score":0,"creation_date":1603833629,"post_id":64562508,"comment_id":114161400,"body_markdown":"Eclipse version 2020-09 (4.17.0)\nJava SE 15\n\nBtw. Can you check on my post up here I did UPDATE:","body":"Eclipse version 2020-09 (4.17.0) Java SE 15  Btw. Can you check on my post up here I did UPDATE:"}],"answers":[{"tags":[],"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603831520,"creation_date":1603831520,"answer_id":64562639,"question_id":64562508,"body_markdown":"I think the issue is that you&#39;re compiling the program in 1 version of java and running it in another. I would recommend uninstalling java altogether and reinstalling the latest version.\r\n\r\nPress windows key, type in add or remove programs. search for java and uninstall it. Then go to oracle to reinstall java and follow the directions there. You may find more info here: https://stackoverflow.com/questions/55447687/how-to-fix-java-lang-unsupportedclassversionerror-test-class-file-version-52-6\r\n","title":"How to fix launch LinkageError in Eclipse when trying to build and run the simple program?","body":"<p>I think the issue is that you're compiling the program in 1 version of java and running it in another. I would recommend uninstalling java altogether and reinstalling the latest version.</p>\n<p>Press windows key, type in add or remove programs. search for java and uninstall it. Then go to oracle to reinstall java and follow the directions there. You may find more info here: <a href=\"https://stackoverflow.com/questions/55447687/how-to-fix-java-lang-unsupportedclassversionerror-test-class-file-version-52-6\">How to fix java.lang.UnsupportedClassVersionError: test (class file version 52.65535) was compiled with preview features that are unsupported?</a></p>\n"},{"comments":[{"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"score":0,"creation_date":1603850825,"post_id":64563310,"comment_id":114165544,"body_markdown":"I suspected it was a problem with the download as i eluded to in my answer ;)","body":"I suspected it was a problem with the download as i eluded to in my answer ;)"}],"tags":[],"owner":{"account_id":15532490,"reputation":485,"user_id":12826055,"display_name":"str1ng"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1603834993,"creation_date":1603834993,"answer_id":64563310,"question_id":64562508,"body_markdown":"So, the problem was the most stupid thing in the world actually! And thing I would never suspect.\r\nSomehow Java SE 15 got problem, it &quot;wasn&#39;t&quot; installed on computer, even though I had directory in Program files which included all Java files(even the java wasn&#39;t installed)... \r\n\r\nSo you can check this actually by going into command prompt and typing: `java -info` and if you get: \r\n\r\n    &#39;java&#39; is not recognized as an internal or external command,\r\n    operable program or batch file\r\n\r\nthan the problem is your Java file isn&#39;t installed. \r\n\r\nAlso there&#39;s command `javac -info` and if you get same thing printed out in console still you don&#39;t have java se installed. \r\n\r\n","title":"How to fix launch LinkageError in Eclipse when trying to build and run the simple program?","body":"<p>So, the problem was the most stupid thing in the world actually! And thing I would never suspect.\nSomehow Java SE 15 got problem, it &quot;wasn't&quot; installed on computer, even though I had directory in Program files which included all Java files(even the java wasn't installed)...</p>\n<p>So you can check this actually by going into command prompt and typing: <code>java -info</code> and if you get:</p>\n<pre><code>'java' is not recognized as an internal or external command,\noperable program or batch file\n</code></pre>\n<p>than the problem is your Java file isn't installed.</p>\n<p>Also there's command <code>javac -info</code> and if you get same thing printed out in console still you don't have java se installed.</p>\n"}],"owner":{"account_id":15532490,"reputation":485,"user_id":12826055,"display_name":"str1ng"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64563310,"answer_count":2,"score":2,"last_activity_date":1667353370,"creation_date":1603830870,"question_id":64562508,"body_markdown":"I&#39;ve been trying for the past couple of hours to configure Eclipse IDE and get it work, but I am not able to find out what is wrong.\r\n\r\nI&#39;ve been trying to change many settings inside of IDE but I was still unable to make it work and compile the program.\r\nMy wanted Java version to install is Java SE 15.\r\n \r\nHow can I resolve this?\r\n\r\nWhile trying to build simple console program I am getting following error: \r\n\r\n    Error: LinkageError occurred while loading main class org.sun.dem15\r\n    \tjava.lang.UnsupportedClassVersionError: Preview features are not enabled for org/sun/dem15 (class file version 59.65535). Try running with &#39;--enable-preview&#39;\r\n\r\n\r\n\r\nUPDATE OF THE QUESTION:\r\n\r\nAfter making changes to: \r\n\r\nProject ---&gt; Properties ----&gt; Java Compiler and using --release option and enabling preview feature for Java 15 I got next error:\r\n\r\n    Errors occurred during the build.\r\n    Errors running builder &#39;Java Builder&#39; on project &#39;demo&#39;.\r\n    Provider &quot;jar&quot; not found\r\n\r\n","title":"How to fix launch LinkageError in Eclipse when trying to build and run the simple program?","body":"<p>I've been trying for the past couple of hours to configure Eclipse IDE and get it work, but I am not able to find out what is wrong.</p>\n<p>I've been trying to change many settings inside of IDE but I was still unable to make it work and compile the program.\nMy wanted Java version to install is Java SE 15.</p>\n<p>How can I resolve this?</p>\n<p>While trying to build simple console program I am getting following error:</p>\n<pre><code>Error: LinkageError occurred while loading main class org.sun.dem15\n    java.lang.UnsupportedClassVersionError: Preview features are not enabled for org/sun/dem15 (class file version 59.65535). Try running with '--enable-preview'\n</code></pre>\n<p>UPDATE OF THE QUESTION:</p>\n<p>After making changes to:</p>\n<p>Project ---&gt; Properties ----&gt; Java Compiler and using --release option and enabling preview feature for Java 15 I got next error:</p>\n<pre><code>Errors occurred during the build.\nErrors running builder 'Java Builder' on project 'demo'.\nProvider &quot;jar&quot; not found\n</code></pre>\n"},{"tags":["java","data-structures","linked-list","recursive-datastructures"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1666259764,"post_id":74137868,"comment_id":130895966,"body_markdown":"What&#39;s `Payment` and `Ledger`? Do those classes have any relationship to another? You declare `Payment curr` and then later `curr=curr.next` where `next` seems to be a `Ledger`. Is `Ledger` a Subclass of `Payment` or how is that assignment even supposed to work?","body":"What&#39;s <code>Payment</code> and <code>Ledger</code>? Do those classes have any relationship to another? You declare <code>Payment curr</code> and then later <code>curr=curr.next</code> where <code>next</code> seems to be a <code>Ledger</code>. Is <code>Ledger</code> a Subclass of <code>Payment</code> or how is that assignment even supposed to work?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1666260745,"post_id":74137868,"comment_id":130896305,"body_markdown":"&quot;it wouldn&#39;t pass the test case for some reason&quot; Be more specific. What was the test case? What was the error given? Your size method looks fine.","body":"&quot;it wouldn&#39;t pass the test case for some reason&quot; Be more specific. What was the test case? What was the error given? Your size method looks fine."},{"owner":{"display_name":"user18588015"},"score":0,"creation_date":1666268312,"post_id":74137868,"comment_id":130899123,"body_markdown":"So payment class representing a bank transfer or payment is also a node in a Ledger Linked List","body":"So payment class representing a bank transfer or payment is also a node in a Ledger Linked List"}],"answers":[{"comments":[{"owner":{"account_id":23265029,"reputation":128,"user_id":17350710,"display_name":"Ahmad Mtera"},"score":0,"creation_date":1666282850,"post_id":74138160,"comment_id":130905277,"body_markdown":"@ZIHENGWANG Can you show the &#39;addPayment()&#39; method implementation? I believe the issue is in there.","body":"@ZIHENGWANG Can you show the &#39;addPayment()&#39; method implementation? I believe the issue is in there."}],"tags":[],"owner":{"account_id":23265029,"reputation":128,"user_id":17350710,"display_name":"Ahmad Mtera"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666261561,"creation_date":1666260816,"answer_id":74138160,"question_id":74137868,"body_markdown":"You have the attributes part mixed up. In a [LinkedList][1], you need a class for the LinkedList (called Ledger in your case), and this class has to contain a pointer of the node type (called Payment in your case). The required classes will look like this:\r\n\r\n 1. Ledger class (LinkedList):\r\n\r\n        public class Ledger {\r\n            public Payment head;\r\n            public int id;\r\n\r\n            /**\r\n             * Default constructor\r\n             * &lt;p&gt;\r\n             * You may modify this constructor if you need to (e.g.\r\n             * if you want to initialise extra attributes in the class)\r\n             */\r\n            public Ledger() {\r\n            head = null;\r\n            id = 0;\r\n            // add initialisation of added attributes, if needed\r\n            }\r\n    \r\n            // Assign an id to the current Ledger\r\n            public void setId(int id) {\r\n                this.id = id;\r\n            }\r\n    \r\n            /**\r\n             * @return the number of payments in the Ledger\r\n             */\r\n            public int size() {\r\n                Payment curr = head;\r\n                int count = 0;\r\n                while (curr != null) {\r\n                    curr = curr.next;\r\n                    count++;\r\n                }\r\n                return count;\r\n            }\r\n        }\r\n\r\n\r\n 2. Payment class (Node) (PS: I wrote this since you didn&#39;t include\r\n    it in your post – but it should work well as a skeleton to yours):\r\n\r\n        public class Payment &lt;T&gt; {\r\n            private T data;\r\n            private Payment&lt;T&gt; next;\r\n    \r\n            public Payment(T data) {\r\n                this.data = data;\r\n            }\r\n    \r\n            public T getData() {\r\n                return data;\r\n            }\r\n    \r\n            public void setData(T data) {\r\n                this.data = data;\r\n            }\r\n    \r\n            public Payment&lt;T&gt; getNext() {\r\n                return next;\r\n            }\r\n    \r\n            public void setNext(Payment&lt;T&gt; next) {\r\n                this.next = next;\r\n            }\r\n    \r\n        }\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/implementing-a-linked-list-in-java-using-class/","title":"size of Linkedlist Java","body":"<p>You have the attributes part mixed up. In a <a href=\"https://www.geeksforgeeks.org/implementing-a-linked-list-in-java-using-class/\" rel=\"nofollow noreferrer\">LinkedList</a>, you need a class for the LinkedList (called Ledger in your case), and this class has to contain a pointer of the node type (called Payment in your case). The required classes will look like this:</p>\n<ol>\n<li><p>Ledger class (LinkedList):</p>\n<pre><code>public class Ledger {\n    public Payment head;\n    public int id;\n\n    /**\n     * Default constructor\n     * &lt;p&gt;\n     * You may modify this constructor if you need to (e.g.\n     * if you want to initialise extra attributes in the class)\n     */\n    public Ledger() {\n    head = null;\n    id = 0;\n    // add initialisation of added attributes, if needed\n    }\n\n    // Assign an id to the current Ledger\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    /**\n     * @return the number of payments in the Ledger\n     */\n    public int size() {\n        Payment curr = head;\n        int count = 0;\n        while (curr != null) {\n            curr = curr.next;\n            count++;\n        }\n        return count;\n    }\n}\n</code></pre>\n</li>\n<li><p>Payment class (Node) (PS: I wrote this since you didn't include\nit in your post – but it should work well as a skeleton to yours):</p>\n<pre><code>public class Payment &lt;T&gt; {\n    private T data;\n    private Payment&lt;T&gt; next;\n\n    public Payment(T data) {\n        this.data = data;\n    }\n\n    public T getData() {\n        return data;\n    }\n\n    public void setData(T data) {\n        this.data = data;\n    }\n\n    public Payment&lt;T&gt; getNext() {\n        return next;\n    }\n\n    public void setNext(Payment&lt;T&gt; next) {\n        this.next = next;\n    }\n\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"display_name":"user18588015"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1667353211,"creation_date":1666259532,"question_id":74137868,"body_markdown":"        public class Ledger {\r\n        \r\n          public Payment head;\r\n          public int id;\r\n          public Ledger next;    \r\n          /**\r\n           * Default constructor\r\n           * \r\n           * You may modify this constructor if you need to (e.g.\r\n           * if you want to initialise extra attributes in the class)\r\n           */\r\n         \r\n          public Ledger() {\r\n            head = null;\r\n            id = 0;\r\n            next = null;      \r\n            // add initialisation of added attributes, if needed\r\n            \r\n          }\r\n           // Assign an id to the current Ledger\r\n          public void setId(int id) {\r\n            this.id = id;\r\n          }\r\n        \r\n          /**\r\n           * \r\n           * @return the number of payments in the Ledger\r\n           */\r\n          public int size() {\r\n            Payment curr =head;\r\n            int count=0;\r\n             while(curr!=null) {\r\n               curr=curr.next;\r\n               count++;\r\n            \r\n             }\r\n             return count;\r\n          }\r\n  public void addPayment(Payment payment) {\r\n\r\n    // if Payment is null, do nothing\r\n    Payment head=payment ;\r\n    Payment temp=head;\r\n    if(head!=null) {\r\n    while(temp.next!=null) {  \r\n      temp=temp.next;\r\n    }\r\n    temp.next= new Payment();\r\n    }\r\n  }\r\n\r\n\r\nHi I just learnt Linkedlist recently and trying to figure out the size of the linkedlist, \r\nsomehow it wouldn&#39;t pass the test case for some reason. Can anyone point out what I did wrong in the size() method?\r\n\r\nI have put up the addPayment method as well.\r\nIs it maybe I need to edit the constructor? This is where I am getting confused at.\r\n\r\n\r\nPlease see below for the test case.\r\n\r\n    public void testLedgerSize() {\r\n    \r\n        assertTimeoutPreemptively(Duration.ofMillis(1000), () -&gt; {\r\n    \r\n          String[] fromPerson = { &quot;Eren&quot;, &quot;Mikasa&quot;, &quot;a&quot;, &quot;c&quot;, &quot;Armin&quot;, &quot;Jean&quot;, &quot;Levi&quot;, &quot;Sakura&quot;, &quot;Naruto&quot;, &quot;Erwin&quot;,\r\n              &quot;Thomas&quot;,\r\n              &quot;Sasuke&quot;, &quot;Ichigo&quot;, &quot;Luffy&quot;, &quot;Scarlet&quot;\r\n          };\r\n    \r\n          String[] toPerson = { &quot;Levi&quot;, &quot;a&quot;, &quot;Mikasa&quot;, &quot;c&quot;, &quot;Jean&quot;, &quot;Armin&quot;, &quot;Sakura&quot;, &quot;Levi&quot;, &quot;Sasuke&quot;, &quot;Erwin&quot;, &quot;Scarlet&quot;,\r\n              &quot;Naruto&quot;, &quot;Rukia&quot;, &quot;Ichigo&quot;, &quot;Thomas&quot;\r\n          };\r\n    \r\n          double[] payment = { 10.0, 100.1, 21.0, 55.5, 29.9, 99.9, 100.0, 29.99, 30.0, 24.95, 35.0, 34.49, 99.95, 50,\r\n              400 };\r\n    \r\n          // String[] registeredPeople = {&quot;Eren&quot;, &quot;Levi&quot;, &quot;Mikasa&quot;, &quot;Armin&quot;, &quot;Erwin&quot;,\r\n          // &quot;Jean&quot;, &quot;Annie&quot;, &quot;Reiner&quot;, &quot;Hanji&quot;, &quot;Sasha&quot;};\r\n    \r\n          // Case 1: empty Ledger\r\n          Ledger empty = new Ledger();\r\n          assertEquals(0, empty.size());\r\n    \r\n          // Case 2: Non empty Ledger size computed accurately\r\n          Ledger nonEmpty = new Ledger();\r\n          for (int i = 0; i &lt; fromPerson.length; i++) {\r\n            nonEmpty.addPayment(new Payment(fromPerson[i], toPerson[i], payment[i], null));\r\n          }\r\n    \r\n          assertEquals(toPerson.length, nonEmpty.size());\r\n    \r\n          // Case 3: Ledger with one Payment only\r\n          Ledger singlePayment = new Ledger();\r\n          singlePayment.addPayment(new Payment(&quot;Eren&quot;, &quot;Levi&quot;, 100, null));\r\n    \r\n          assertEquals(1, singlePayment.size());\r\n    \r\n        });\r\n        currentMethodName = new Throwable().getStackTrace()[0].getMethodName();\r\n      }","title":"size of Linkedlist Java","body":"<pre><code>    public class Ledger {\n    \n      public Payment head;\n      public int id;\n      public Ledger next;    \n      /**\n       * Default constructor\n       * \n       * You may modify this constructor if you need to (e.g.\n       * if you want to initialise extra attributes in the class)\n       */\n     \n      public Ledger() {\n        head = null;\n        id = 0;\n        next = null;      \n        // add initialisation of added attributes, if needed\n        \n      }\n       // Assign an id to the current Ledger\n      public void setId(int id) {\n        this.id = id;\n      }\n    \n      /**\n       * \n       * @return the number of payments in the Ledger\n       */\n      public int size() {\n        Payment curr =head;\n        int count=0;\n         while(curr!=null) {\n           curr=curr.next;\n           count++;\n        \n         }\n         return count;\n      }\n</code></pre>\n<p>public void addPayment(Payment payment) {</p>\n<pre><code>// if Payment is null, do nothing\nPayment head=payment ;\nPayment temp=head;\nif(head!=null) {\nwhile(temp.next!=null) {  \n  temp=temp.next;\n}\ntemp.next= new Payment();\n}\n</code></pre>\n<p>}</p>\n<p>Hi I just learnt Linkedlist recently and trying to figure out the size of the linkedlist,\nsomehow it wouldn't pass the test case for some reason. Can anyone point out what I did wrong in the size() method?</p>\n<p>I have put up the addPayment method as well.\nIs it maybe I need to edit the constructor? This is where I am getting confused at.</p>\n<p>Please see below for the test case.</p>\n<pre><code>public void testLedgerSize() {\n\n    assertTimeoutPreemptively(Duration.ofMillis(1000), () -&gt; {\n\n      String[] fromPerson = { &quot;Eren&quot;, &quot;Mikasa&quot;, &quot;a&quot;, &quot;c&quot;, &quot;Armin&quot;, &quot;Jean&quot;, &quot;Levi&quot;, &quot;Sakura&quot;, &quot;Naruto&quot;, &quot;Erwin&quot;,\n          &quot;Thomas&quot;,\n          &quot;Sasuke&quot;, &quot;Ichigo&quot;, &quot;Luffy&quot;, &quot;Scarlet&quot;\n      };\n\n      String[] toPerson = { &quot;Levi&quot;, &quot;a&quot;, &quot;Mikasa&quot;, &quot;c&quot;, &quot;Jean&quot;, &quot;Armin&quot;, &quot;Sakura&quot;, &quot;Levi&quot;, &quot;Sasuke&quot;, &quot;Erwin&quot;, &quot;Scarlet&quot;,\n          &quot;Naruto&quot;, &quot;Rukia&quot;, &quot;Ichigo&quot;, &quot;Thomas&quot;\n      };\n\n      double[] payment = { 10.0, 100.1, 21.0, 55.5, 29.9, 99.9, 100.0, 29.99, 30.0, 24.95, 35.0, 34.49, 99.95, 50,\n          400 };\n\n      // String[] registeredPeople = {&quot;Eren&quot;, &quot;Levi&quot;, &quot;Mikasa&quot;, &quot;Armin&quot;, &quot;Erwin&quot;,\n      // &quot;Jean&quot;, &quot;Annie&quot;, &quot;Reiner&quot;, &quot;Hanji&quot;, &quot;Sasha&quot;};\n\n      // Case 1: empty Ledger\n      Ledger empty = new Ledger();\n      assertEquals(0, empty.size());\n\n      // Case 2: Non empty Ledger size computed accurately\n      Ledger nonEmpty = new Ledger();\n      for (int i = 0; i &lt; fromPerson.length; i++) {\n        nonEmpty.addPayment(new Payment(fromPerson[i], toPerson[i], payment[i], null));\n      }\n\n      assertEquals(toPerson.length, nonEmpty.size());\n\n      // Case 3: Ledger with one Payment only\n      Ledger singlePayment = new Ledger();\n      singlePayment.addPayment(new Payment(&quot;Eren&quot;, &quot;Levi&quot;, 100, null));\n\n      assertEquals(1, singlePayment.size());\n\n    });\n    currentMethodName = new Throwable().getStackTrace()[0].getMethodName();\n  }\n</code></pre>\n"},{"tags":["java","field","transient"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687861743,"post_id":910374,"comment_id":134992755,"body_markdown":"So That They Won&#39;t Be Serialized.","body":"So That They Won&#39;t Be Serialized."}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":0,"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1550157837,"creation_date":1243340030,"answer_id":910380,"question_id":910374,"body_markdown":"To allow you to define variables that you don&#39;t want to serialize. \r\n\r\nIn an object you may have information that you don&#39;t want to serialize/persist (perhaps a reference to a parent factory object), or perhaps it doesn&#39;t make sense to serialize. Marking these as &#39;transient&#39; means the serialization mechanism will ignore these fields.","title":"Why does Java have transient fields?","body":"<p>To allow you to define variables that you don't want to serialize. </p>\n\n<p>In an object you may have information that you don't want to serialize/persist (perhaps a reference to a parent factory object), or perhaps it doesn't make sense to serialize. Marking these as 'transient' means the serialization mechanism will ignore these fields.</p>\n"},{"comments":[{"owner":{"account_id":1311677,"reputation":2627,"user_id":1259558,"accept_rate":53,"display_name":"Danny Gloudemans"},"score":57,"creation_date":1395847842,"post_id":910382,"comment_id":34525886,"body_markdown":"Please provide more information when you give an answer.","body":"Please provide more information when you give an answer."}],"tags":[],"owner":{"account_id":22260,"reputation":28542,"user_id":54736,"accept_rate":59,"display_name":"Silfverstrom"},"comment_count":1,"down_vote_count":18,"up_vote_count":25,"is_accepted":false,"score":7,"last_activity_date":1243340138,"creation_date":1243340138,"answer_id":910382,"question_id":910374,"body_markdown":"Because not all variables are of a serializable nature","title":"Why does Java have transient fields?","body":"<p>Because not all variables are of a serializable nature</p>\n"},{"comments":[{"owner":{"account_id":3802879,"reputation":1641,"user_id":3156006,"accept_rate":86,"display_name":"Mateen"},"score":0,"creation_date":1550659889,"post_id":910383,"comment_id":96347529,"body_markdown":"yeah, some thing like &quot;password or crediCardPin&quot; field members of a class.","body":"yeah, some thing like &quot;password or crediCardPin&quot; field members of a class."}],"tags":[],"owner":{"account_id":23618,"reputation":33082,"user_id":59301,"accept_rate":83,"display_name":"Adrian Grigore"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1623839638,"creation_date":1243340143,"answer_id":910383,"question_id":910374,"body_markdown":"A `transient` variable is a variable that isn&#39;t included when the class is serialized. \r\n\r\nOne example of when this might be useful that comes to mind is, variables that make only sense in the context of a specific object instance and which become invalid once you have serialized and deserialized the object. In that case it is useful to have those variables become `null` instead so that you can re-initialize them with useful data when needed. ","title":"Why does Java have transient fields?","body":"<p>A <code>transient</code> variable is a variable that isn't included when the class is serialized.</p>\n<p>One example of when this might be useful that comes to mind is, variables that make only sense in the context of a specific object instance and which become invalid once you have serialized and deserialized the object. In that case it is useful to have those variables become <code>null</code> instead so that you can re-initialize them with useful data when needed.</p>\n"},{"comments":[{"owner":{"account_id":1205683,"reputation":693,"user_id":1175406,"display_name":"glen3b"},"score":9,"creation_date":1399659868,"post_id":910395,"comment_id":36172578,"body_markdown":"There are use cases other than sensitive data in which you may not want to serialize a field. For example, you probably would never want to serialize a `Thread` (credit to @A.H. for example), in which case you would mark it as transient. However, a thread is not sensitive data in and of itself, it just makes no logical sense to serialize it (and it is not serializable).","body":"There are use cases other than sensitive data in which you may not want to serialize a field. For example, you probably would never want to serialize a <code>Thread</code> (credit to @A.H. for example), in which case you would mark it as transient. However, a thread is not sensitive data in and of itself, it just makes no logical sense to serialize it (and it is not serializable)."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1435757520,"post_id":910395,"comment_id":50334061,"body_markdown":"@glen3b That case isn&#39;t excluded by this answer. It certainly is needed as things stand in the case the poster mentioned.","body":"@glen3b That case isn&#39;t excluded by this answer. It certainly is needed as things stand in the case the poster mentioned."}],"tags":[],"owner":{"account_id":34192,"reputation":3560,"user_id":96389,"accept_rate":75,"display_name":"setzamora"},"comment_count":2,"down_vote_count":8,"up_vote_count":13,"is_accepted":false,"score":5,"last_activity_date":1243340371,"creation_date":1243340371,"answer_id":910395,"question_id":910374,"body_markdown":"It&#39;s needed when you don&#39;t want to share some sensitive data that go with serialization.","title":"Why does Java have transient fields?","body":"<p>It's needed when you don't want to share some sensitive data that go with serialization.</p>\n"},{"comments":[{"owner":{"account_id":22376,"reputation":33015,"user_id":55094,"accept_rate":85,"display_name":"Elazar Leibovich"},"score":264,"creation_date":1301176008,"post_id":910522,"comment_id":6168516,"body_markdown":"But why is it a keyword, and not an annotation `@DoNotSerialize`?","body":"But why is it a keyword, and not an annotation <code>@DoNotSerialize</code>?"},{"owner":{"account_id":65930,"reputation":4225,"user_id":193705,"accept_rate":81,"display_name":"Peter Wippermann"},"score":384,"creation_date":1301924895,"post_id":910522,"comment_id":6295622,"body_markdown":"I guess, this is owned to a time when there were no annotations in Java.","body":"I guess, this is owned to a time when there were no annotations in Java."},{"owner":{"account_id":1218912,"reputation":1599,"user_id":1185960,"display_name":"caleb"},"score":61,"creation_date":1329507027,"post_id":910522,"comment_id":11779737,"body_markdown":"I find it odd that serializable is internal to Java. It can be implemented as an interface or abstract class that requires users to override the read and write methods.","body":"I find it odd that serializable is internal to Java. It can be implemented as an interface or abstract class that requires users to override the read and write methods."},{"owner":{"account_id":2042701,"reputation":4102,"user_id":1823497,"accept_rate":92,"display_name":"Mohammad Jafar Mashhadi"},"score":1,"creation_date":1373005001,"post_id":910522,"comment_id":25407144,"body_markdown":"`readObject` method is called automatically or we should call it?","body":"<code>readObject</code> method is called automatically or we should call it?"},{"owner":{"account_id":998783,"reputation":1199,"user_id":1014091,"accept_rate":83,"display_name":"Mike Adler"},"score":9,"creation_date":1375947371,"post_id":910522,"comment_id":26531736,"body_markdown":"@MJafar: readObject is usually chained into deserialization mechanisms and thus called automatically. Furthermore, in many cases you do not need to override it - the default implementation does the trick.","body":"@MJafar: readObject is usually chained into deserialization mechanisms and thus called automatically. Furthermore, in many cases you do not need to override it - the default implementation does the trick."},{"owner":{"display_name":"user1804599"},"score":19,"creation_date":1390083570,"post_id":910522,"comment_id":31942576,"body_markdown":"@caleb probably because dealing with binary formats yourself is incredibly painful in Java due to the lack of unsigned integers.","body":"@caleb probably because dealing with binary formats yourself is incredibly painful in Java due to the lack of unsigned integers."},{"owner":{"account_id":26510,"reputation":6294,"user_id":69041,"accept_rate":84,"display_name":"Hugo"},"score":5,"creation_date":1396331409,"post_id":910522,"comment_id":34727539,"body_markdown":"@ElazarLeibovich I think is because this keyword is older than the annotations: http://en.wikipedia.org/wiki/Java_annotation#History","body":"@ElazarLeibovich I think is because this keyword is older than the annotations: <a href=\"http://en.wikipedia.org/wiki/Java_annotation#History\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_annotation#History</a>"},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1410954459,"post_id":910522,"comment_id":40518150,"body_markdown":"Note that XML serialization in Java ignores this keyword for some reason.","body":"Note that XML serialization in Java ignores this keyword for some reason."},{"owner":{"account_id":2460660,"reputation":347,"user_id":2144905,"display_name":"zatenzu"},"score":2,"creation_date":1420120036,"post_id":910522,"comment_id":43874043,"body_markdown":"Why I can set transient on an instance variable of a class when this class doesn&#39;t implement the Serializable interface? This makes no sense...","body":"Why I can set transient on an instance variable of a class when this class doesn&#39;t implement the Serializable interface? This makes no sense..."},{"owner":{"account_id":1435086,"reputation":4492,"user_id":2323964,"accept_rate":87,"display_name":"Novaterata"},"score":5,"creation_date":1462457419,"post_id":910522,"comment_id":61652826,"body_markdown":"@zatenzu A child class could implement Serializable","body":"@zatenzu A child class could implement Serializable"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1462816118,"post_id":910522,"comment_id":61785298,"body_markdown":"@novaterata: when a `Serializable` child class extends a non-`Serializable` class, the child class becomes responsible for storing and restoring all relevant state of its superclass(es) (and the superclass must have an accessible no-arg constructor). Therefore, `transient` modifiers on the non-`Serializable` superclass’ fields still have no relevance then. But the language specification doesn’t forbid using `transient` for storage mechanisms other  than Serialization.","body":"@novaterata: when a <code>Serializable</code> child class extends a non-<code>Serializable</code> class, the child class becomes responsible for storing and restoring all relevant state of its superclass(es) (and the superclass must have an accessible no-arg constructor). Therefore, <code>transient</code> modifiers on the non-<code>Serializable</code> superclass’ fields still have no relevance then. But the language specification doesn’t forbid using <code>transient</code> for storage mechanisms other  than Serialization."},{"owner":{"account_id":2255489,"reputation":1281,"user_id":1986767,"accept_rate":47,"display_name":"Sarkhan"},"score":1,"creation_date":1488829404,"post_id":910522,"comment_id":72396075,"body_markdown":"why Serializable interface is market don&#39;t include readResolve,writeObject etc. because sub class and also super class&#39;s readResolve,writeObject etc. methods must be invoked by jvm.If it were overridable then super class&#39;s readResolve method could not be invoked","body":"why Serializable interface is market don&#39;t include readResolve,writeObject etc. because sub class and also super class&#39;s readResolve,writeObject etc. methods must be invoked by jvm.If it were overridable then super class&#39;s readResolve method could not be invoked"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1499303994,"post_id":910522,"comment_id":76852937,"body_markdown":"@caleb It isn&#39;t &#39;internal to Java&#39;, it is part of an API, and it *is* implemented as an interface. Your point escapes me.","body":"@caleb It isn&#39;t &#39;internal to Java&#39;, it is part of an API, and it <i>is</i> implemented as an interface. Your point escapes me."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1500983488,"post_id":910522,"comment_id":77566140,"body_markdown":"The default serializer can access parent classes using unsafe operations/ using native code. So the transient keyword is used when you use the default java serialization. Useful to send class state in RMI or in a custom binary over REST/http implementation. Faster than json/ xml transformers.","body":"The default serializer can access parent classes using unsafe operations/ using native code. So the transient keyword is used when you use the default java serialization. Useful to send class state in RMI or in a custom binary over REST/http implementation. Faster than json/ xml transformers."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":3,"creation_date":1528988026,"post_id":910522,"comment_id":88723265,"body_markdown":"@caleb: After many years, Oracle agrees with you - they want to drop serialization: https://www.infoworld.com/article/3275924/java/oracle-plans-to-dump-risky-java-serialization.html","body":"@caleb: After many years, Oracle agrees with you - they want to drop serialization: <a href=\"https://www.infoworld.com/article/3275924/java/oracle-plans-to-dump-risky-java-serialization.html\" rel=\"nofollow noreferrer\">infoworld.com/article/3275924/java/&hellip;</a>"}],"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":15,"down_vote_count":1,"up_vote_count":1820,"is_accepted":true,"score":1819,"last_activity_date":1623838749,"creation_date":1243342402,"answer_id":910522,"question_id":910374,"body_markdown":"The `transient` keyword in Java is used to indicate that a field should not be  part of the serialization (which means saved, like to a file) process.\r\n\r\nFrom the [Java Language Specification, Java SE 7 Edition][1], [Section 8.3.1.3. `transient` Fields][2]:\r\n\r\n&gt; Variables may be marked `transient` to\r\n&gt; indicate that they are not part of the\r\n&gt; persistent state of an object.\r\n\r\nFor example, you may have fields that are derived from other fields, and should only be done so programmatically, rather than having the state be persisted via serialization. \r\n\r\nHere&#39;s a `GalleryImage` class which contains an image and a thumbnail derived from the image:\r\n\r\n    class GalleryImage implements Serializable\r\n    {\r\n        private Image image;\r\n        private transient Image thumbnailImage;\r\n    \r\n        private void generateThumbnail()\r\n        {\r\n            // Generate thumbnail.\r\n        }\r\n\r\n        private void readObject(ObjectInputStream inputStream)\r\n                throws IOException, ClassNotFoundException\r\n        {\r\n            inputStream.defaultReadObject();\r\n            generateThumbnail();\r\n        }    \r\n    }\r\n\r\nIn this example, the `thumbnailImage` is a thumbnail image that is generated by invoking the `generateThumbnail` method.\r\n\r\nThe `thumbnailImage` field is marked as `transient`, so only the original `image` is serialized rather than persisting both the original image and the thumbnail image. This means that less storage would be needed to save the serialized object. (Of course, this may or may not be desirable depending on the requirements of the system -- this is just an example.)\r\n\r\nAt the time of deserialization, the [`readObject`][3] method is called to perform any operations necessary to restore the state of the object back to the state at which the serialization occurred. Here, the thumbnail needs to be generated, so the `readObject` method is overridden so that the thumbnail will be generated by calling the `generateThumbnail` method.\r\n\r\nFor additional information, the article [Discover the secrets of the Java Serialization API][4] (which was originally available on the Sun Developer Network) has a section which discusses the use of and presents a scenario where the `transient` keyword is used to prevent serialization of certain fields.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/index.html\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.1.3\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/io/ObjectInputStream.html#readObject()\r\n  [4]: http://www.oracle.com/technetwork/articles/java/javaserial-1536170.html","title":"Why does Java have transient fields?","body":"<p>The <code>transient</code> keyword in Java is used to indicate that a field should not be  part of the serialization (which means saved, like to a file) process.</p>\n<p>From the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/index.html\" rel=\"noreferrer\">Java Language Specification, Java SE 7 Edition</a>, <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.1.3\" rel=\"noreferrer\">Section 8.3.1.3. <code>transient</code> Fields</a>:</p>\n<blockquote>\n<p>Variables may be marked <code>transient</code> to\nindicate that they are not part of the\npersistent state of an object.</p>\n</blockquote>\n<p>For example, you may have fields that are derived from other fields, and should only be done so programmatically, rather than having the state be persisted via serialization.</p>\n<p>Here's a <code>GalleryImage</code> class which contains an image and a thumbnail derived from the image:</p>\n<pre><code>class GalleryImage implements Serializable\n{\n    private Image image;\n    private transient Image thumbnailImage;\n\n    private void generateThumbnail()\n    {\n        // Generate thumbnail.\n    }\n\n    private void readObject(ObjectInputStream inputStream)\n            throws IOException, ClassNotFoundException\n    {\n        inputStream.defaultReadObject();\n        generateThumbnail();\n    }    \n}\n</code></pre>\n<p>In this example, the <code>thumbnailImage</code> is a thumbnail image that is generated by invoking the <code>generateThumbnail</code> method.</p>\n<p>The <code>thumbnailImage</code> field is marked as <code>transient</code>, so only the original <code>image</code> is serialized rather than persisting both the original image and the thumbnail image. This means that less storage would be needed to save the serialized object. (Of course, this may or may not be desirable depending on the requirements of the system -- this is just an example.)</p>\n<p>At the time of deserialization, the <a href=\"http://java.sun.com/javase/6/docs/api/java/io/ObjectInputStream.html#readObject()\" rel=\"noreferrer\"><code>readObject</code></a> method is called to perform any operations necessary to restore the state of the object back to the state at which the serialization occurred. Here, the thumbnail needs to be generated, so the <code>readObject</code> method is overridden so that the thumbnail will be generated by calling the <code>generateThumbnail</code> method.</p>\n<p>For additional information, the article <a href=\"http://www.oracle.com/technetwork/articles/java/javaserial-1536170.html\" rel=\"noreferrer\">Discover the secrets of the Java Serialization API</a> (which was originally available on the Sun Developer Network) has a section which discusses the use of and presents a scenario where the <code>transient</code> keyword is used to prevent serialization of certain fields.</p>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":16,"creation_date":1269612833,"post_id":918924,"comment_id":2521368,"body_markdown":"I think that `transient` wouldn&#39;t be a keyword if it were designed at this time. They&#39;d probably use an annotation.","body":"I think that <code>transient</code> wouldn&#39;t be a keyword if it were designed at this time. They&#39;d probably use an annotation."}],"tags":[],"owner":{"account_id":33191,"reputation":4675,"user_id":92694,"accept_rate":86,"display_name":"DragonFax"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1243477246,"creation_date":1243477246,"answer_id":918924,"question_id":910374,"body_markdown":"Serialization systems other than the native java one can also use this modifier. Hibernate, for instance, will not persist fields marked with either **@Transient** or the **transient** modifier. Terracotta as well respects this modifier.\r\n\r\nI believe the figurative meaning of the modifier is &quot;this field is for in-memory use only. don&#39;t persist or move it outside of this particular VM in any way. Its non-portable&quot;. i.e. you can&#39;t rely on its value in another VM memory space. Much like **volatile** means you can&#39;t rely on certain memory and thread semantics.","title":"Why does Java have transient fields?","body":"<p>Serialization systems other than the native java one can also use this modifier. Hibernate, for instance, will not persist fields marked with either <strong>@Transient</strong> or the <strong>transient</strong> modifier. Terracotta as well respects this modifier.</p>\n\n<p>I believe the figurative meaning of the modifier is \"this field is for in-memory use only. don't persist or move it outside of this particular VM in any way. Its non-portable\". i.e. you can't rely on its value in another VM memory space. Much like <strong>volatile</strong> means you can't rely on certain memory and thread semantics.</p>\n"},{"comments":[{"owner":{"account_id":153324,"reputation":1393,"user_id":368497,"accept_rate":70,"display_name":"TFennis"},"score":0,"creation_date":1374576865,"post_id":2523882,"comment_id":25983549,"body_markdown":"Correct me if I&#39;m wrong, but Thread is not serializable so it will be skipped anyways?","body":"Correct me if I&#39;m wrong, but Thread is not serializable so it will be skipped anyways?"},{"owner":{"account_id":911998,"reputation":64395,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"score":4,"creation_date":1385505921,"post_id":2523882,"comment_id":30169240,"body_markdown":"@TFennis: If a serializable class `A` references a not serializable class `B` (like `Thread` in your example), then `A` must either mark the reference as `transient` XOR must override the default serialization process in order to do something reasonable with `B` XOR assume that only serializable subclasses of `B` are actually referenced (so the actual subclass must take care for their &quot;bad&quot; parent `B`) XOR accept that the serialization will fail. In only one case (marked as transient) `B` is automatically and silently skipped.","body":"@TFennis: If a serializable class <code>A</code> references a not serializable class <code>B</code> (like <code>Thread</code> in your example), then <code>A</code> must either mark the reference as <code>transient</code> XOR must override the default serialization process in order to do something reasonable with <code>B</code> XOR assume that only serializable subclasses of <code>B</code> are actually referenced (so the actual subclass must take care for their &quot;bad&quot; parent <code>B</code>) XOR accept that the serialization will fail. In only one case (marked as transient) <code>B</code> is automatically and silently skipped."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1435757444,"post_id":2523882,"comment_id":50333999,"body_markdown":"@TFennis No, it will cause an exception.","body":"@TFennis No, it will cause an exception."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":1,"creation_date":1494690462,"post_id":2523882,"comment_id":74941275,"body_markdown":"@A.H.: Why XOR?  I would think code that did any combination of those things would work, and some combinations might be useful (e.g. overriding the default serialization process may be useful even if only serializable subclasses of B are referenced, and vice versa).","body":"@A.H.: Why XOR?  I would think code that did any combination of those things would work, and some combinations might be useful (e.g. overriding the default serialization process may be useful even if only serializable subclasses of B are referenced, and vice versa)."}],"tags":[],"owner":{"account_id":73540,"reputation":12600,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1385506432,"creation_date":1269612989,"answer_id":2523882,"question_id":910374,"body_markdown":"`transient` is used to indicate that a class field doesn&#39;t need to be serialized.\r\nProbably the best example is a `Thread` field. There&#39;s usually no reason to serialize a `Thread`, as its state is very &#39;flow specific&#39;. ","title":"Why does Java have transient fields?","body":"<p><code>transient</code> is used to indicate that a class field doesn't need to be serialized.\nProbably the best example is a <code>Thread</code> field. There's usually no reason to serialize a <code>Thread</code>, as its state is very 'flow specific'. </p>\n"},{"comments":[{"owner":{"account_id":185198,"reputation":7184,"user_id":421753,"accept_rate":78,"display_name":"Krishna"},"score":30,"creation_date":1353408201,"post_id":12551077,"comment_id":18428373,"body_markdown":"This example is taken from this code, you can read it here:http://www.javabeat.net/2009/02/what-is-transient-keyword-in-java/","body":"This example is taken from this code, you can read it here:<a href=\"http://www.javabeat.net/2009/02/what-is-transient-keyword-in-java/\" rel=\"nofollow noreferrer\">javabeat.net/2009/02/what-is-transient-keyword-in-java</a>"},{"owner":{"account_id":135087,"reputation":962,"user_id":4051639,"display_name":"Garcia Hurtado"},"score":14,"creation_date":1416795082,"post_id":12551077,"comment_id":42699115,"body_markdown":"This part strikes me as odd and possibly confusing: &quot;That means the state of the object is converted into a stream of bytes and *stored in a file*&quot;. It seems to me that most of the time serialization does not involve writing to a file (case in point: the networking examples that follow)","body":"This part strikes me as odd and possibly confusing: &quot;That means the state of the object is converted into a stream of bytes and <i>stored in a file</i>&quot;. It seems to me that most of the time serialization does not involve writing to a file (case in point: the networking examples that follow)"},{"owner":{"account_id":257842,"reputation":9939,"user_id":539599,"accept_rate":86,"display_name":"Raphael"},"score":9,"creation_date":1515420744,"post_id":12551077,"comment_id":83282460,"body_markdown":"The example is a bad one, since the middle name is clearly *not* a transient property.","body":"The example is a bad one, since the middle name is clearly <i>not</i> a transient property."},{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":4,"creation_date":1541413631,"post_id":12551077,"comment_id":93195328,"body_markdown":"@Raphael For me, the example is helpful and at least explains the concept. Would you provide any better example if you are aware off?","body":"@Raphael For me, the example is helpful and at least explains the concept. Would you provide any better example if you are aware off?"},{"owner":{"account_id":257842,"reputation":9939,"user_id":539599,"accept_rate":86,"display_name":"Raphael"},"score":0,"creation_date":1541413826,"post_id":12551077,"comment_id":93195468,"body_markdown":"@Yoda We could have a reference to a `NameFormatter` used to drive `toString()`. Or anything else related to configuration, or viewing, or business logic, ... as opposed to data.","body":"@Yoda We could have a reference to a <code>NameFormatter</code> used to drive <code>toString()</code>. Or anything else related to configuration, or viewing, or business logic, ... as opposed to data."},{"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"score":1,"creation_date":1547804106,"post_id":12551077,"comment_id":95326337,"body_markdown":"@Raphael - A practical example would be In a LinkedList size could be a transient variable as it could be recalculated by after deserializing the object.","body":"@Raphael - A practical example would be In a LinkedList size could be a transient variable as it could be recalculated by after deserializing the object."},{"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"score":0,"creation_date":1658996560,"post_id":12551077,"comment_id":129191961,"body_markdown":"Thank you for the clear explanation with example, appreciate!","body":"Thank you for the clear explanation with example, appreciate!"}],"tags":[],"owner":{"account_id":1857728,"reputation":697,"user_id":1682964,"display_name":"Rahul Saxena"},"comment_count":7,"down_vote_count":3,"up_vote_count":493,"is_accepted":false,"score":490,"last_activity_date":1623839861,"creation_date":1348391538,"answer_id":12551077,"question_id":910374,"body_markdown":"Before understanding the `transient` keyword, one has to understand the concept of serialization. If the reader knows about serialization, please skip the first point.\r\n\r\n### What is serialization?\r\n\r\nSerialization is the process of making the object&#39;s state persistent. That means the state of the object is converted into a stream of bytes to be used for persisting (e.g. storing bytes in a file) or transferring (e.g. sending bytes across a network). In the same way, we can use the deserialization to bring back the object&#39;s state from bytes. This is one of the important concepts in Java programming because serialization is mostly used in networking programming. The objects that need to be transmitted through the network have to be converted into bytes. For that purpose, every class or interface must implement the [`Serializable`][1] interface. It is a marker interface without any methods.\r\n\r\n### Now what is the `transient` keyword and its purpose?\r\n\r\nBy default, all of object&#39;s variables get converted into a persistent state. In some cases, you may want to avoid persisting some variables because you don&#39;t have the need to persist those variables. So you can declare those variables as `transient`. If the variable is declared as `transient`, then it will not be persisted. That is the main purpose of the `transient` keyword.\r\n\r\nI want to explain the above two points with the following example (borrowed from [this article][example-source]):\r\n\r\n&gt;     package javabeat.samples;\r\n&gt;      \r\n&gt;     import java.io.FileInputStream;\r\n&gt;     import java.io.FileOutputStream;\r\n&gt;     import java.io.IOException;\r\n&gt;     import java.io.ObjectInputStream;\r\n&gt;     import java.io.ObjectOutputStream;\r\n&gt;     import java.io.Serializable;\r\n&gt;      \r\n&gt;     class NameStore implements Serializable{\r\n&gt;         private String firstName;\r\n&gt;         private transient String middleName;\r\n&gt;         private String lastName;\r\n&gt; \r\n&gt;         public NameStore (String fName, String mName, String lName){\r\n&gt;             this.firstName = fName;\r\n&gt;             this.middleName = mName;\r\n&gt;             this.lastName = lName;\r\n&gt;         }\r\n&gt; \r\n&gt;         public String toString(){\r\n&gt;             StringBuffer sb = new StringBuffer(40);\r\n&gt;             sb.append(&quot;First Name : &quot;);\r\n&gt;             sb.append(this.firstName);\r\n&gt;             sb.append(&quot;Middle Name : &quot;);\r\n&gt;             sb.append(this.middleName);\r\n&gt;             sb.append(&quot;Last Name : &quot;);\r\n&gt;             sb.append(this.lastName);\r\n&gt;             return sb.toString();\r\n&gt;         }\r\n&gt;     }\r\n&gt;     \r\n&gt;     public class TransientExample{\r\n&gt;         public static void main(String args[]) throws Exception {\r\n&gt;             NameStore nameStore = new NameStore(&quot;Steve&quot;, &quot;Middle&quot;,&quot;Jobs&quot;);\r\n&gt;             ObjectOutputStream o = new ObjectOutputStream(new FileOutputStream(&quot;nameStore&quot;));\r\n&gt;             // writing to object\r\n&gt;             o.writeObject(nameStore);\r\n&gt;             o.close();\r\n&gt;      \r\n&gt;             // reading from object\r\n&gt;             ObjectInputStream in = new ObjectInputStream(new FileInputStream(&quot;nameStore&quot;));\r\n&gt;             NameStore nameStore1 = (NameStore)in.readObject();\r\n&gt;             System.out.println(nameStore1);\r\n&gt;         }\r\n&gt;     }\r\n\r\n    \r\nAnd the output will be the following:\r\n\r\n&gt; &lt;!-- language: lang-none --&gt;\r\n&gt; \r\n&gt;     First Name : Steve\r\n&gt;     Middle Name : null\r\n&gt;     Last Name : Jobs\r\n\r\n    \r\n*Middle Name* is declared as `transient`, so it will not be stored in the persistent storage.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html\r\n  [example-source]: http://www.javabeat.net/what-is-transient-keyword-in-java/","title":"Why does Java have transient fields?","body":"<p>Before understanding the <code>transient</code> keyword, one has to understand the concept of serialization. If the reader knows about serialization, please skip the first point.</p>\n<h3>What is serialization?</h3>\n<p>Serialization is the process of making the object's state persistent. That means the state of the object is converted into a stream of bytes to be used for persisting (e.g. storing bytes in a file) or transferring (e.g. sending bytes across a network). In the same way, we can use the deserialization to bring back the object's state from bytes. This is one of the important concepts in Java programming because serialization is mostly used in networking programming. The objects that need to be transmitted through the network have to be converted into bytes. For that purpose, every class or interface must implement the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html\" rel=\"noreferrer\"><code>Serializable</code></a> interface. It is a marker interface without any methods.</p>\n<h3>Now what is the <code>transient</code> keyword and its purpose?</h3>\n<p>By default, all of object's variables get converted into a persistent state. In some cases, you may want to avoid persisting some variables because you don't have the need to persist those variables. So you can declare those variables as <code>transient</code>. If the variable is declared as <code>transient</code>, then it will not be persisted. That is the main purpose of the <code>transient</code> keyword.</p>\n<p>I want to explain the above two points with the following example (borrowed from <a href=\"http://www.javabeat.net/what-is-transient-keyword-in-java/\" rel=\"noreferrer\">this article</a>):</p>\n<blockquote>\n<pre><code>package javabeat.samples;\n \nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.Serializable;\n \nclass NameStore implements Serializable{\n    private String firstName;\n    private transient String middleName;\n    private String lastName;\n\n    public NameStore (String fName, String mName, String lName){\n        this.firstName = fName;\n        this.middleName = mName;\n        this.lastName = lName;\n    }\n\n    public String toString(){\n        StringBuffer sb = new StringBuffer(40);\n        sb.append(&quot;First Name : &quot;);\n        sb.append(this.firstName);\n        sb.append(&quot;Middle Name : &quot;);\n        sb.append(this.middleName);\n        sb.append(&quot;Last Name : &quot;);\n        sb.append(this.lastName);\n        return sb.toString();\n    }\n}\n\npublic class TransientExample{\n    public static void main(String args[]) throws Exception {\n        NameStore nameStore = new NameStore(&quot;Steve&quot;, &quot;Middle&quot;,&quot;Jobs&quot;);\n        ObjectOutputStream o = new ObjectOutputStream(new FileOutputStream(&quot;nameStore&quot;));\n        // writing to object\n        o.writeObject(nameStore);\n        o.close();\n \n        // reading from object\n        ObjectInputStream in = new ObjectInputStream(new FileInputStream(&quot;nameStore&quot;));\n        NameStore nameStore1 = (NameStore)in.readObject();\n        System.out.println(nameStore1);\n    }\n}\n</code></pre>\n</blockquote>\n<p>And the output will be the following:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>First Name : Steve\nMiddle Name : null\nLast Name : Jobs\n</code></pre>\n</blockquote>\n<p><em>Middle Name</em> is declared as <code>transient</code>, so it will not be stored in the persistent storage.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":69,"creation_date":1435757403,"post_id":22491999,"comment_id":50333964,"body_markdown":"Your &#39;simple sentence&#39; is merely a tautology. It explains nothing. You&#39;d be better off without it.","body":"Your &#39;simple sentence&#39; is merely a tautology. It explains nothing. You&#39;d be better off without it."},{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":1,"creation_date":1541413839,"post_id":22491999,"comment_id":93195474,"body_markdown":"This is a good explanation where the field should be `transient`","body":"This is a good explanation where the field should be <code>transient</code>"},{"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"score":1,"creation_date":1547804247,"post_id":22491999,"comment_id":95326400,"body_markdown":"interest field and word counts are good examples of transient fields.","body":"interest field and word counts are good examples of transient fields."},{"owner":{"account_id":7376373,"reputation":497,"user_id":5614823,"accept_rate":20,"display_name":"Mohammed Siddiq"},"score":1,"creation_date":1550184911,"post_id":22491999,"comment_id":96187475,"body_markdown":"Another good use case: If your object has components like sockets and if you would want to serialize then what happens to the socket? If would persist, after you deserialize what would the socket be holding? It makes sense to make that socket object as `transient`","body":"Another good use case: If your object has components like sockets and if you would want to serialize then what happens to the socket? If would persist, after you deserialize what would the socket be holding? It makes sense to make that socket object as <code>transient</code>"},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1623839246,"post_id":22491999,"comment_id":120190461,"body_markdown":"The only thing left out of which fields should be marked transient is classes that literally can&#39;t be serialized, for any reason. As already mentioned, it may be a Socket, or some other type of session storage, or simply a class that doesn&#39;t allow serialization - the point being, aside times where it&#39;s not _necessary_ to serialize a field, there&#39;s times where it&#39;s actively disallowed, and `transient` becomes a requirement for the class of interest to be serialized. Also, `Logger` instances tend to be static, and therefore don&#39;t need to be `transient` in the first place","body":"The only thing left out of which fields should be marked transient is classes that literally can&#39;t be serialized, for any reason. As already mentioned, it may be a Socket, or some other type of session storage, or simply a class that doesn&#39;t allow serialization - the point being, aside times where it&#39;s not <i>necessary</i> to serialize a field, there&#39;s times where it&#39;s actively disallowed, and <code>transient</code> becomes a requirement for the class of interest to be serialized. Also, <code>Logger</code> instances tend to be static, and therefore don&#39;t need to be <code>transient</code> in the first place"}],"tags":[],"owner":{"account_id":446042,"reputation":12428,"user_id":838841,"accept_rate":100,"display_name":"Shreyos Adikari"},"comment_count":5,"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1623839061,"creation_date":1395180268,"answer_id":22491999,"question_id":910374,"body_markdown":"\r\n\r\n**Why are transient fields needed in Java?**\r\n\r\nThe `transient` keyword gives you some control over the serialization process and allows you to exclude some object properties from this process. The serialization process is used to persist Java objects, mostly so that their states can be preserved while they are transferred or inactive. Sometimes, it makes sense not to serialize certain attributes of an object.\r\n\r\n**Which fields should you mark transient?**\r\n\r\nNow that we know the purpose of the `transient` keyword and transient fields, it&#39;s important to know which fields to mark transient. Static fields aren&#39;t serialized either, so the corresponding keyword would also do the trick. But this might ruin your class design; this is where the `transient` keyword comes to the rescue. I try not to allow fields whose values can be derived from others to be serialized, so I mark them transient. If you have a field called `interest` whose value can be calculated from other fields (`principal`, `rate` &amp; `time`), there is no need to serialize it.\r\n\r\nAnother good example is with article word counts. If you are saving an entire article, there&#39;s really no need to save the word count, because it can be computed when article gets &quot;deserialized.&quot; Or think about loggers; `Logger` instances almost never need to be serialized, so they can be made transient.","title":"Why does Java have transient fields?","body":"<p><strong>Why are transient fields needed in Java?</strong></p>\n<p>The <code>transient</code> keyword gives you some control over the serialization process and allows you to exclude some object properties from this process. The serialization process is used to persist Java objects, mostly so that their states can be preserved while they are transferred or inactive. Sometimes, it makes sense not to serialize certain attributes of an object.</p>\n<p><strong>Which fields should you mark transient?</strong></p>\n<p>Now that we know the purpose of the <code>transient</code> keyword and transient fields, it's important to know which fields to mark transient. Static fields aren't serialized either, so the corresponding keyword would also do the trick. But this might ruin your class design; this is where the <code>transient</code> keyword comes to the rescue. I try not to allow fields whose values can be derived from others to be serialized, so I mark them transient. If you have a field called <code>interest</code> whose value can be calculated from other fields (<code>principal</code>, <code>rate</code> &amp; <code>time</code>), there is no need to serialize it.</p>\n<p>Another good example is with article word counts. If you are saving an entire article, there's really no need to save the word count, because it can be computed when article gets &quot;deserialized.&quot; Or think about loggers; <code>Logger</code> instances almost never need to be serialized, so they can be made transient.</p>\n"},{"tags":[],"owner":{"account_id":3802879,"reputation":1641,"user_id":3156006,"accept_rate":86,"display_name":"Mateen"},"comment_count":0,"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1550312330,"creation_date":1414918599,"answer_id":26697638,"question_id":910374,"body_markdown":"As per google\r\ntransient meaning ==  lasting only for a short time; impermanent.\r\n\r\nNow if you want to make anything transient in java use transient keyword.\r\n\r\n\r\n**Q: where to use transient?** \r\n\r\n**A:** Generally in java we can save data to files by acquiring them in variables and writing those variables to files, this process is known as Serialization. Now if we want to avoid variable data to be written to file, we would make that variable as transient.\r\n\r\n    transient int result=10;\r\n\r\n&lt;b&gt;Note:&lt;/b&gt; transient variables cannot be local.","title":"Why does Java have transient fields?","body":"<p>As per google\ntransient meaning ==  lasting only for a short time; impermanent.</p>\n\n<p>Now if you want to make anything transient in java use transient keyword.</p>\n\n<p><strong>Q: where to use transient?</strong> </p>\n\n<p><strong>A:</strong> Generally in java we can save data to files by acquiring them in variables and writing those variables to files, this process is known as Serialization. Now if we want to avoid variable data to be written to file, we would make that variable as transient.</p>\n\n<pre><code>transient int result=10;\n</code></pre>\n\n<p><b>Note:</b> transient variables cannot be local.</p>\n"},{"comments":[{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":0,"creation_date":1631413630,"post_id":31162376,"comment_id":122214001,"body_markdown":"Why would an object be transferred through the network? Can you give an example?","body":"Why would an object be transferred through the network? Can you give an example?"}],"tags":[],"owner":{"account_id":2659819,"reputation":6153,"user_id":2299789,"accept_rate":62,"display_name":"BERGUIGA Mohamed Amine"},"comment_count":1,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1623839426,"creation_date":1435756347,"answer_id":31162376,"question_id":910374,"body_markdown":"Before I respond to this question, I need to explain serialization, because if you understand what it means serialization in science computer you can easily understand this keyword.\r\n\r\nWhen an object is transferred through the network / saved on physical media(file,...), the object must be &quot;serialized&quot;. Serialization converts byte status object series. These bytes are sent on the network/saved and the object is re-created from these bytes.\r\n\r\nExample:\r\n\r\n    public class Foo implements Serializable \r\n    {\r\n     private String attr1;\r\n     private String attr2;\r\n     ...\r\n    }\r\n\r\nNow, if there&#39;s a field in this class you don&#39;t want to transfer or save, you can use the `transient` keyword\r\n\r\n    private transient attr2;\r\n\r\nThis prevents the field form being included when the class is serialized.","title":"Why does Java have transient fields?","body":"<p>Before I respond to this question, I need to explain serialization, because if you understand what it means serialization in science computer you can easily understand this keyword.</p>\n<p>When an object is transferred through the network / saved on physical media(file,...), the object must be &quot;serialized&quot;. Serialization converts byte status object series. These bytes are sent on the network/saved and the object is re-created from these bytes.</p>\n<p>Example:</p>\n<pre><code>public class Foo implements Serializable \n{\n private String attr1;\n private String attr2;\n ...\n}\n</code></pre>\n<p>Now, if there's a field in this class you don't want to transfer or save, you can use the <code>transient</code> keyword</p>\n<pre><code>private transient attr2;\n</code></pre>\n<p>This prevents the field form being included when the class is serialized.</p>\n"},{"tags":[],"owner":{"account_id":11354522,"reputation":311,"user_id":8324502,"display_name":"nyulan"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1510666827,"creation_date":1510666827,"answer_id":47287321,"question_id":910374,"body_markdown":"Simply put, the transient java keyword protect fields from the been Serialize as their non-transient fields counter parts.\r\n\r\nIn this code snippet our abstract class BaseJob implement Serializable interface, we extends from BaseJob but we need not serialize the remote and local data sources; serialize only organizationName and isSynced fields.\r\n\r\n    public abstract class BaseJob implements Serializable{\r\n       public void ShouldRetryRun(){}\r\n    }\r\n\r\n    public class SyncOrganizationJob extends BaseJob {\r\n\r\n       public String organizationName;\r\n       public Boolean isSynced\r\n\r\n       @Inject transient RemoteDataSource remoteDataSource;\r\n       @Inject transient LocalDaoSource localDataSource;\r\n\r\n       public SyncOrganizationJob(String organizationName) {\r\n         super(new \r\n             Params(BACKGROUND).groupBy(GROUP).requireNetwork().persist());\r\n\r\n          this.organizationName = organizationName;\r\n          this.isSynced=isSynced;\r\n\r\n       }\r\n    }","title":"Why does Java have transient fields?","body":"<p>Simply put, the transient java keyword protect fields from the been Serialize as their non-transient fields counter parts.</p>\n\n<p>In this code snippet our abstract class BaseJob implement Serializable interface, we extends from BaseJob but we need not serialize the remote and local data sources; serialize only organizationName and isSynced fields.</p>\n\n<pre><code>public abstract class BaseJob implements Serializable{\n   public void ShouldRetryRun(){}\n}\n\npublic class SyncOrganizationJob extends BaseJob {\n\n   public String organizationName;\n   public Boolean isSynced\n\n   @Inject transient RemoteDataSource remoteDataSource;\n   @Inject transient LocalDaoSource localDataSource;\n\n   public SyncOrganizationJob(String organizationName) {\n     super(new \n         Params(BACKGROUND).groupBy(GROUP).requireNetwork().persist());\n\n      this.organizationName = organizationName;\n      this.isSynced=isSynced;\n\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":383465,"reputation":6910,"user_id":739331,"accept_rate":81,"display_name":"Mohammed H"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559704176,"creation_date":1559704176,"answer_id":56453809,"question_id":910374,"body_markdown":"Simplified example code for transient-keyword. \r\n  \r\n    import java.io.*;\r\n    \r\n    class NameStore implements Serializable {\r\n        private String firstName, lastName;\r\n        private transient String fullName;\r\n    \r\n        public NameStore (String fName, String lName){\r\n            this.firstName = fName;\r\n            this.lastName = lName;\r\n            buildFullName();\r\n        }\r\n    \r\n        private void buildFullName() {\r\n            // assume building fullName is compuational/memory intensive!\r\n            this.fullName = this.firstName + &quot; &quot; + this.lastName;\r\n        }\r\n    \r\n        public String toString(){\r\n            return &quot;First Name : &quot; + this.firstName\r\n                + &quot;\\nLast Name : &quot; + this.lastName\r\n                + &quot;\\nFull Name : &quot; + this.fullName;\r\n        }\r\n        \r\n        private void readObject(ObjectInputStream inputStream)\r\n                throws IOException, ClassNotFoundException\r\n        {\r\n            inputStream.defaultReadObject();\r\n            buildFullName();\r\n        }\r\n    }\r\n    \r\n    public class TransientExample{\r\n        public static void main(String args[]) throws Exception {\r\n            ObjectOutputStream o = new ObjectOutputStream(new FileOutputStream(&quot;ns&quot;));\r\n            o.writeObject(new NameStore(&quot;Steve&quot;, &quot;Jobs&quot;));\r\n            o.close();\r\n    \r\n            ObjectInputStream in = new ObjectInputStream(new FileInputStream(&quot;ns&quot;));\r\n            NameStore ns = (NameStore)in.readObject();\r\n            System.out.println(ns);\r\n        }\r\n    }","title":"Why does Java have transient fields?","body":"<p>Simplified example code for transient-keyword. </p>\n\n<pre><code>import java.io.*;\n\nclass NameStore implements Serializable {\n    private String firstName, lastName;\n    private transient String fullName;\n\n    public NameStore (String fName, String lName){\n        this.firstName = fName;\n        this.lastName = lName;\n        buildFullName();\n    }\n\n    private void buildFullName() {\n        // assume building fullName is compuational/memory intensive!\n        this.fullName = this.firstName + \" \" + this.lastName;\n    }\n\n    public String toString(){\n        return \"First Name : \" + this.firstName\n            + \"\\nLast Name : \" + this.lastName\n            + \"\\nFull Name : \" + this.fullName;\n    }\n\n    private void readObject(ObjectInputStream inputStream)\n            throws IOException, ClassNotFoundException\n    {\n        inputStream.defaultReadObject();\n        buildFullName();\n    }\n}\n\npublic class TransientExample{\n    public static void main(String args[]) throws Exception {\n        ObjectOutputStream o = new ObjectOutputStream(new FileOutputStream(\"ns\"));\n        o.writeObject(new NameStore(\"Steve\", \"Jobs\"));\n        o.close();\n\n        ObjectInputStream in = new ObjectInputStream(new FileInputStream(\"ns\"));\n        NameStore ns = (NameStore)in.readObject();\n        System.out.println(ns);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8203380,"reputation":161,"user_id":6173984,"display_name":"Vishal Sheth"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1579857142,"creation_date":1579857142,"answer_id":59893343,"question_id":910374,"body_markdown":"A field which is declare with transient modifier it will not take part in serialized process.\r\nWhen an object is serialized(saved in any state), the values of its transient fields are ignored in the serial representation, while the field other than transient fields will take part in serialization process. That is the main purpose of the transient keyword.","title":"Why does Java have transient fields?","body":"<p>A field which is declare with transient modifier it will not take part in serialized process.\nWhen an object is serialized(saved in any state), the values of its transient fields are ignored in the serial representation, while the field other than transient fields will take part in serialization process. That is the main purpose of the transient keyword.</p>\n"},{"tags":[],"owner":{"account_id":1604214,"reputation":4524,"user_id":1484621,"accept_rate":70,"display_name":"Yu Jiaao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667353147,"creation_date":1593833334,"answer_id":62724956,"question_id":910374,"body_markdown":"Because not all variables are of a serializable nature.\r\n\r\n\r\n1. Serialization and Deserialization are symmetry processes, if not, then you can&#39;t expect the result to be determined, in most cases, undetermined values are meaningless;\r\n2. Serialization and Deserialization are idempotent, it means you can do  serialization as many time as you want, and the result is the same.\r\n\r\nSo if the Object can exists on memory but not on disk, then the Object can&#39;t be serializable, because the machine can&#39;t restore the memory map when deserialization.\r\nFor example, you can&#39;t serialize a `Stream` object. \r\n\r\nYou can not serialize a `Connection` object, because it&#39;s state also dependent on the remote machine. \r\n","title":"Why does Java have transient fields?","body":"<p>Because not all variables are of a serializable nature.</p>\n<ol>\n<li>Serialization and Deserialization are symmetry processes, if not, then you can't expect the result to be determined, in most cases, undetermined values are meaningless;</li>\n<li>Serialization and Deserialization are idempotent, it means you can do  serialization as many time as you want, and the result is the same.</li>\n</ol>\n<p>So if the Object can exists on memory but not on disk, then the Object can't be serializable, because the machine can't restore the memory map when deserialization.\nFor example, you can't serialize a <code>Stream</code> object.</p>\n<p>You can not serialize a <code>Connection</code> object, because it's state also dependent on the remote machine.</p>\n"}],"owner":{"account_id":39046,"reputation":16708,"user_id":112532,"display_name":"Animesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":783013,"favorite_count":0,"down_vote_count":15,"up_vote_count":1657,"accepted_answer_id":910522,"answer_count":15,"score":1642,"last_activity_date":1667353147,"creation_date":1243339896,"question_id":910374,"body_markdown":"Why does Java have **transient** fields?","title":"Why does Java have transient fields?","body":"<p>Why does Java have <strong>transient</strong> fields?</p>\n"},{"tags":["java","apache-flink","apache-beam","dynamodb-queries"],"answers":[{"comments":[{"owner":{"account_id":11996741,"reputation":95,"user_id":8778025,"display_name":"Prasad"},"score":0,"creation_date":1667358160,"post_id":74283480,"comment_id":131146642,"body_markdown":"Declaring the hashmap inside the lambda expression solved the problem. Thanks!","body":"Declaring the hashmap inside the lambda expression solved the problem. Thanks!"}],"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667352720,"creation_date":1667352720,"answer_id":74283480,"question_id":74279951,"body_markdown":"I believe the problem here is that you are trying to use outside members inside a lambda, and for that to happen, the  parent instance needs to be serialized, but there are members that do not implement Serializable (similar to https://stackoverflow.com/questions/74133147/apache-beam-unable-to-serialize-dofnwithexecutioninformation-because-of-pipelin). \r\n\r\nMaybe  `expressionAttributeValues` itself is causing the issue, I am not sure what refers to `DefaultSdkAutoConstructList` from your post.\r\n\r\nTry to replace lambda with a well-scoped static class, or if possible, initialize `expressionAttributeValues` inside the lambda itself instead of having to carry through DoFn.\r\n\r\nThis documentation will help in understanding the underlying issue here: https://beam.apache.org/documentation/programming-guide/#user-code-serializability.\r\n","title":"Read specific record(s) from Dynamo using Apache Beam DynamoDBIO","body":"<p>I believe the problem here is that you are trying to use outside members inside a lambda, and for that to happen, the  parent instance needs to be serialized, but there are members that do not implement Serializable (similar to <a href=\"https://stackoverflow.com/questions/74133147/apache-beam-unable-to-serialize-dofnwithexecutioninformation-because-of-pipelin\">Apache Beam: Unable to serialize DoFnWithExecutionInformation because of PipelineOptions not serializable</a>).</p>\n<p>Maybe  <code>expressionAttributeValues</code> itself is causing the issue, I am not sure what refers to <code>DefaultSdkAutoConstructList</code> from your post.</p>\n<p>Try to replace lambda with a well-scoped static class, or if possible, initialize <code>expressionAttributeValues</code> inside the lambda itself instead of having to carry through DoFn.</p>\n<p>This documentation will help in understanding the underlying issue here: <a href=\"https://beam.apache.org/documentation/programming-guide/#user-code-serializability\" rel=\"nofollow noreferrer\">https://beam.apache.org/documentation/programming-guide/#user-code-serializability</a>.</p>\n"}],"owner":{"account_id":11996741,"reputation":95,"user_id":8778025,"display_name":"Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667352720,"creation_date":1667325408,"question_id":74279951,"body_markdown":"I have an Apache Beam pipeline that reads data from DynamoDB. To read the data I use the Apache Beam DynamoDBIO SDK. I need to read specific/filter data in my use case, meaning I have to use ```filterExpression``` in DynamoDBIO. My current code is as follows,\r\n\r\n    Map&lt;String, AttributeValue&gt; expressionAttributeValues = new HashMap&lt;&gt;();\r\n    expressionAttributeValues.put(&quot;:message&quot;, AttributeValue.builder().s(&quot;Ping&quot;).build());\r\n    \r\n    pipeline\r\n    .apply(DynamoDBIO.&lt;List&lt;Map&lt;String, AttributeValue&gt;&gt;&gt;read()\r\n                    .withClientConfiguration(DynamoDBConfig.CLIENT_CONFIGURATION)\r\n                    .withScanRequestFn(input -&gt; ScanRequest.builder().tableName(&quot;SiteProductCache&quot;).totalSegments(1)\r\n                            .filterExpression(&quot;KafkaEventMessage = :message&quot;)\r\n                            .expressionAttributeValues(expressionAttributeValues)\r\n                            .projectionExpression(&quot;key, KafkaEventMessage&quot;)\r\n                            .build())\r\n                    .withScanResponseMapperFn(new ResponseMapper())\r\n                    .withCoder(ListCoder.of(MapCoder.of(StringUtf8Coder.of(), AttributeValueCoder.of())))\r\n                    )\r\n    .apply(...)\r\n    \r\n    ----\r\n    \r\n    static final class ResponseMapper implements SerializableFunction&lt;ScanResponse, List&lt;Map&lt;String, AttributeValue&gt;&gt;&gt; {\r\n            @Override\r\n            public List&lt;Map&lt;String, AttributeValue&gt;&gt; apply(ScanResponse input) {\r\n                if (input == null) {\r\n                    return Collections.emptyList();\r\n                }\r\n                return input.items();\r\n            }\r\n    }\r\n\r\n\r\n\r\nWhen executing the code, am getting the below error,\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Forbidden IOException when writing to OutputStream\r\n    \tat org.apache.beam.sdk.util.CoderUtils.encodeToSafeStream(CoderUtils.java:89)\r\n    \tat org.apache.beam.sdk.util.CoderUtils.encodeToByteArray(CoderUtils.java:70)\r\n    \tat org.apache.beam.sdk.util.CoderUtils.encodeToByteArray(CoderUtils.java:55)\r\n    \tat org.apache.beam.sdk.transforms.Create$Values$CreateSource.fromIterable(Create.java:413)\r\n    \tat org.apache.beam.sdk.transforms.Create$Values.expand(Create.java:370)\r\n    \tat org.apache.beam.sdk.transforms.Create$Values.expand(Create.java:277)\r\n    \tat org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\r\n    \tat org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:499)\r\n    \tat org.apache.beam.sdk.values.PBegin.apply(PBegin.java:56)\r\n    \tat org.apache.beam.sdk.io.aws2.dynamodb.DynamoDBIO$Read.expand(DynamoDBIO.java:301)\r\n    \tat org.apache.beam.sdk.io.aws2.dynamodb.DynamoDBIO$Read.expand(DynamoDBIO.java:172)\r\n    \tat org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\r\n    \tat org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:482)\r\n    \tat org.apache.beam.sdk.values.PBegin.apply(PBegin.java:44)\r\n    \tat org.apache.beam.sdk.Pipeline.apply(Pipeline.java:177)\r\n    \tat some_package.beam_state_storage.dynamodb.DynamoDBPipelineDefinition.run(DynamoDBPipelineDefinition.java:40)\r\n    \tat some_package.beam_state_storage.dynamodb.DynamoDBPipelineDefinition.main(DynamoDBPipelineDefinition.java:28)\r\n    Caused by: java.io.NotSerializableException: software.amazon.awssdk.core.util.DefaultSdkAutoConstructList\r\n    \tat java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1197)\r\n    \tat java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\r\n    \tat java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\r\n    \tat java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\r\n    Caused by: java.io.NotSerializableException: software.amazon.awssdk.core.util.DefaultSdkAutoConstructList\r\n\r\nDoes anyone have an idea how to solve this or the correct way to read and filter data, am a bit new to this Apache Beam stuff and appreciate any guidance.","title":"Read specific record(s) from Dynamo using Apache Beam DynamoDBIO","body":"<p>I have an Apache Beam pipeline that reads data from DynamoDB. To read the data I use the Apache Beam DynamoDBIO SDK. I need to read specific/filter data in my use case, meaning I have to use <code>filterExpression</code> in DynamoDBIO. My current code is as follows,</p>\n<pre><code>Map&lt;String, AttributeValue&gt; expressionAttributeValues = new HashMap&lt;&gt;();\nexpressionAttributeValues.put(&quot;:message&quot;, AttributeValue.builder().s(&quot;Ping&quot;).build());\n\npipeline\n.apply(DynamoDBIO.&lt;List&lt;Map&lt;String, AttributeValue&gt;&gt;&gt;read()\n                .withClientConfiguration(DynamoDBConfig.CLIENT_CONFIGURATION)\n                .withScanRequestFn(input -&gt; ScanRequest.builder().tableName(&quot;SiteProductCache&quot;).totalSegments(1)\n                        .filterExpression(&quot;KafkaEventMessage = :message&quot;)\n                        .expressionAttributeValues(expressionAttributeValues)\n                        .projectionExpression(&quot;key, KafkaEventMessage&quot;)\n                        .build())\n                .withScanResponseMapperFn(new ResponseMapper())\n                .withCoder(ListCoder.of(MapCoder.of(StringUtf8Coder.of(), AttributeValueCoder.of())))\n                )\n.apply(...)\n\n----\n\nstatic final class ResponseMapper implements SerializableFunction&lt;ScanResponse, List&lt;Map&lt;String, AttributeValue&gt;&gt;&gt; {\n        @Override\n        public List&lt;Map&lt;String, AttributeValue&gt;&gt; apply(ScanResponse input) {\n            if (input == null) {\n                return Collections.emptyList();\n            }\n            return input.items();\n        }\n}\n</code></pre>\n<p>When executing the code, am getting the below error,</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Forbidden IOException when writing to OutputStream\n    at org.apache.beam.sdk.util.CoderUtils.encodeToSafeStream(CoderUtils.java:89)\n    at org.apache.beam.sdk.util.CoderUtils.encodeToByteArray(CoderUtils.java:70)\n    at org.apache.beam.sdk.util.CoderUtils.encodeToByteArray(CoderUtils.java:55)\n    at org.apache.beam.sdk.transforms.Create$Values$CreateSource.fromIterable(Create.java:413)\n    at org.apache.beam.sdk.transforms.Create$Values.expand(Create.java:370)\n    at org.apache.beam.sdk.transforms.Create$Values.expand(Create.java:277)\n    at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\n    at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:499)\n    at org.apache.beam.sdk.values.PBegin.apply(PBegin.java:56)\n    at org.apache.beam.sdk.io.aws2.dynamodb.DynamoDBIO$Read.expand(DynamoDBIO.java:301)\n    at org.apache.beam.sdk.io.aws2.dynamodb.DynamoDBIO$Read.expand(DynamoDBIO.java:172)\n    at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\n    at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:482)\n    at org.apache.beam.sdk.values.PBegin.apply(PBegin.java:44)\n    at org.apache.beam.sdk.Pipeline.apply(Pipeline.java:177)\n    at some_package.beam_state_storage.dynamodb.DynamoDBPipelineDefinition.run(DynamoDBPipelineDefinition.java:40)\n    at some_package.beam_state_storage.dynamodb.DynamoDBPipelineDefinition.main(DynamoDBPipelineDefinition.java:28)\nCaused by: java.io.NotSerializableException: software.amazon.awssdk.core.util.DefaultSdkAutoConstructList\n    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1197)\n    at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1582)\n    at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1539)\n    at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1448)\nCaused by: java.io.NotSerializableException: software.amazon.awssdk.core.util.DefaultSdkAutoConstructList\n</code></pre>\n<p>Does anyone have an idea how to solve this or the correct way to read and filter data, am a bit new to this Apache Beam stuff and appreciate any guidance.</p>\n"},{"tags":["java","maven","intellij-idea","config"],"answers":[{"comments":[{"owner":{"account_id":21422058,"reputation":55,"user_id":15780106,"display_name":"Parker H Gordon"},"score":0,"creation_date":1663802766,"post_id":73724371,"comment_id":130327755,"body_markdown":"It looks like the Lombok plugin is to blame, thanks!","body":"It looks like the Lombok plugin is to blame, thanks!"}],"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663201382,"creation_date":1663201382,"answer_id":73724371,"question_id":73710485,"body_markdown":"If the `.mvn/jvm.config` exists in the project, IDE will use it and override the Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Importing | **VM options for importer** options (if defined).\r\n\r\nThe parsing error is most likely reported by some 3rd plugin for the .config files. It will not influence the IDE Maven import behaviour. Check if you have custom plugins installed and try disabling them.","title":"IntelliJ - maven jvm.config file listing error &quot;&lt;operation&gt; expected&quot;, but otherwise works fine","body":"<p>If the <code>.mvn/jvm.config</code> exists in the project, IDE will use it and override the Settings (Preferences on macOS) | Build, Execution, Deployment | Build Tools | Maven | Importing | <strong>VM options for importer</strong> options (if defined).</p>\n<p>The parsing error is most likely reported by some 3rd plugin for the .config files. It will not influence the IDE Maven import behaviour. Check if you have custom plugins installed and try disabling them.</p>\n"},{"tags":[],"owner":{"account_id":21422058,"reputation":55,"user_id":15780106,"display_name":"Parker H Gordon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667352035,"creation_date":1667352035,"answer_id":74283416,"question_id":73710485,"body_markdown":"So as I mentioned in the comment of Andrey&#39;s post, Lombok was to blame. But rather than just uninstalling Lombok or ignoring the problem, there&#39;s actually a way to get IntelliJ Idea to view the file as a Maven config file instead.\r\n\r\nRight-click the file -&gt; override file type -&gt; Maven config. \r\n\r\nNow IntelliJ won&#39;t treat it as a lombok config file!","title":"IntelliJ - maven jvm.config file listing error &quot;&lt;operation&gt; expected&quot;, but otherwise works fine","body":"<p>So as I mentioned in the comment of Andrey's post, Lombok was to blame. But rather than just uninstalling Lombok or ignoring the problem, there's actually a way to get IntelliJ Idea to view the file as a Maven config file instead.</p>\n<p>Right-click the file -&gt; override file type -&gt; Maven config.</p>\n<p>Now IntelliJ won't treat it as a lombok config file!</p>\n"}],"owner":{"account_id":21422058,"reputation":55,"user_id":15780106,"display_name":"Parker H Gordon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73724371,"answer_count":2,"score":1,"last_activity_date":1667352035,"creation_date":1663118032,"question_id":73710485,"body_markdown":"hopefully this question is appropriate for StackOverFlow\r\n\r\nWhile upgrading a project to java 17, we discovered that we&#39;d need to add a .mvn/jvm.config file for maven with the following line:\r\n\r\n    --add-exports jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED --add-exports jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\r\n\r\nThis solution works great for us (for now), and the project passes all tests using java 17 now. However, IntelliJ highlights &quot;jdk.compiler/com.sun.tools.javac.api&quot; with the following error: \r\n\r\n    &lt;operation&gt; expected, got &#39;j&#39; :1\r\n\r\nIt seems to me that IntelliJ is seeing that this is a config file and expects it to follow some different rules than maven&#39;s jvm.config follow. According to [this][1] , jvm.config is supported by IntelliJ. Is there some setting in IntelliJ I can change to stop it from seeing this as an error, or at least ignore it for now? Or is this unavoidable for now? Thanks!\r\n\r\n\r\n  [1]: https://blog.jetbrains.com/idea/2021/07/intellij-idea-2021-2/","title":"IntelliJ - maven jvm.config file listing error &quot;&lt;operation&gt; expected&quot;, but otherwise works fine","body":"<p>hopefully this question is appropriate for StackOverFlow</p>\n<p>While upgrading a project to java 17, we discovered that we'd need to add a .mvn/jvm.config file for maven with the following line:</p>\n<pre><code>--add-exports jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED --add-exports jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\n</code></pre>\n<p>This solution works great for us (for now), and the project passes all tests using java 17 now. However, IntelliJ highlights &quot;jdk.compiler/com.sun.tools.javac.api&quot; with the following error:</p>\n<pre><code>&lt;operation&gt; expected, got 'j' :1\n</code></pre>\n<p>It seems to me that IntelliJ is seeing that this is a config file and expects it to follow some different rules than maven's jvm.config follow. According to <a href=\"https://blog.jetbrains.com/idea/2021/07/intellij-idea-2021-2/\" rel=\"nofollow noreferrer\">this</a> , jvm.config is supported by IntelliJ. Is there some setting in IntelliJ I can change to stop it from seeing this as an error, or at least ignore it for now? Or is this unavoidable for now? Thanks!</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1356279562,"creation_date":1356279562,"answer_id":14012543,"question_id":14012494,"body_markdown":"&gt; Ealier Department has the attribute mappedBy and now both entities have joinColumn both entities are the owner of the relationship right?\r\n\r\nNot right. Now, instead of having a OneToMany bidirectional association, you have two distinct unidirectional associations, that Hibernate tries to map using the same column, leading to unpredictable behavior.\r\n\r\nYou should use the `mappedBy` attribute on the one side.","title":"Hibernate @JoinColumn in both entities for 1-m relationship","body":"<blockquote>\n  <p>Ealier Department has the attribute mappedBy and now both entities have joinColumn both entities are the owner of the relationship right?</p>\n</blockquote>\n\n<p>Not right. Now, instead of having a OneToMany bidirectional association, you have two distinct unidirectional associations, that Hibernate tries to map using the same column, leading to unpredictable behavior.</p>\n\n<p>You should use the <code>mappedBy</code> attribute on the one side.</p>\n"},{"comments":[{"owner":{"account_id":1761249,"reputation":869,"user_id":1608306,"accept_rate":28,"display_name":"FrankD"},"score":0,"creation_date":1357010486,"post_id":14012575,"comment_id":19520692,"body_markdown":"thanks but the author of below article did so. thats why i confused. any particular reason which you can see, http://viralpatel.net/blogs/hibernate-one-to-many-annotation-tutorial/","body":"thanks but the author of below article did so. thats why i confused. any particular reason which you can see, <a href=\"http://viralpatel.net/blogs/hibernate-one-to-many-annotation-tutorial/\" rel=\"nofollow noreferrer\">viralpatel.net/blogs/hibernate-one-to-many-annotation-tutori&zwnj;&#8203;al</a>"}],"tags":[],"owner":{"account_id":9148,"reputation":16366,"user_id":16784,"accept_rate":82,"display_name":"Confusion"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356279774,"creation_date":1356279774,"answer_id":14012575,"question_id":14012494,"body_markdown":"From http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/: \r\n\r\n&gt; 2.2.5.3.1.1. Bidirectional\r\n&gt; \r\n&gt; Since many to one are (almost) always the owner side of a\r\n&gt; bidirectional relationship in the JPA spec, the one to many\r\n&gt; association is annotated by @OneToMany(mappedBy=...)\r\n\r\nFollowed by an example, followed by:\r\n\r\n&gt; Troop has a bidirectional one to many relationship with Soldier\r\n&gt; through the troop property. You don&#39;t have to (must not) define any\r\n&gt; physical mapping in the mappedBy side.\r\n&gt; \r\n&gt; To map a bidirectional one to many, with the one-to-many side as the\r\n&gt; owning side, you have to remove the mappedBy element and set the many\r\n&gt; to one @JoinColumn as insertable and updatable to false.\r\n\r\nNote that there is always only one &#39;owning&#39; side.","title":"Hibernate @JoinColumn in both entities for 1-m relationship","body":"<p>From <a href=\"http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/\" rel=\"nofollow\">http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/</a>: </p>\n\n<blockquote>\n  <p>2.2.5.3.1.1. Bidirectional</p>\n  \n  <p>Since many to one are (almost) always the owner side of a\n  bidirectional relationship in the JPA spec, the one to many\n  association is annotated by @OneToMany(mappedBy=...)</p>\n</blockquote>\n\n<p>Followed by an example, followed by:</p>\n\n<blockquote>\n  <p>Troop has a bidirectional one to many relationship with Soldier\n  through the troop property. You don't have to (must not) define any\n  physical mapping in the mappedBy side.</p>\n  \n  <p>To map a bidirectional one to many, with the one-to-many side as the\n  owning side, you have to remove the mappedBy element and set the many\n  to one @JoinColumn as insertable and updatable to false.</p>\n</blockquote>\n\n<p>Note that there is always only one 'owning' side.</p>\n"},{"tags":[],"owner":{"account_id":13511121,"reputation":1,"user_id":9747357,"display_name":"brfel.2018"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667351993,"creation_date":1667351993,"answer_id":74283412,"question_id":14012494,"body_markdown":"Simply you can cascade the add operation , the final result is\r\n    \r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;deptId&quot;)\r\n    private Department dept;","title":"Hibernate @JoinColumn in both entities for 1-m relationship","body":"<p>Simply you can cascade the add operation , the final result is</p>\n<pre><code>@ManyToOne(cascade = CascadeType.PERSIST)\n@JoinColumn(name = &quot;deptId&quot;)\nprivate Department dept;\n</code></pre>\n"}],"owner":{"account_id":1761249,"reputation":869,"user_id":1608306,"accept_rate":28,"display_name":"FrankD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3794,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1667351993,"creation_date":1356279203,"question_id":14012494,"body_markdown":"Suppose there is a 1-m relationship between Department and Employee which department can have many employees and one employee can be in only one department. I have depId as a foreign key in the Employee table. Below is how Entities looks like with setters and getters,\r\n\r\n    @Entity\r\n    public class Employee {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate Long empId;\r\n    \tprivate String name;\r\n    \r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;deptId&quot;)\r\n    \tprivate Department dept;\r\n    \r\n    \tpublic Long getEmpId() {\r\n    \t\treturn empId;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n    @Entity\r\n    public class Department {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate Long deptId;\r\n    \tprivate String name;\r\n    \r\n    \t@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;deptId&quot;)\r\n    \t@IndexColumn(name = &quot;idx&quot;)\r\n    \tprivate Set&lt;Employee&gt; listEmp;\r\n    }\r\n\r\nEalier Department has the attribute mappedBy and now both entities have joinColumn both entities are the owner of the relationship right?\r\n\r\nMy doubt is when i create Department first and then create a set of Employees and set the department i created and save the department object it works fine. But then i just try to Create a department and Create a Employee and set the department there and save the Employee object it gives me below exception.\r\n\r\n&gt; Hibernate: insert into Employee (deptId, name) values (?, ?) Exception\r\n&gt; in thread &quot;main&quot; org.hibernate.TransientObjectException: object\r\n&gt; references an unsaved transient instance - save the transient instance\r\n&gt; before flushing: hello.domain.Department\r\n\r\nShouldn&#39;t it work both ways?","title":"Hibernate @JoinColumn in both entities for 1-m relationship","body":"<p>Suppose there is a 1-m relationship between Department and Employee which department can have many employees and one employee can be in only one department. I have depId as a foreign key in the Employee table. Below is how Entities looks like with setters and getters,</p>\n\n<pre><code>@Entity\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long empId;\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = \"deptId\")\n    private Department dept;\n\n    public Long getEmpId() {\n        return empId;\n    }\n}\n\n\n\n@Entity\npublic class Department {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long deptId;\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = \"deptId\")\n    @IndexColumn(name = \"idx\")\n    private Set&lt;Employee&gt; listEmp;\n}\n</code></pre>\n\n<p>Ealier Department has the attribute mappedBy and now both entities have joinColumn both entities are the owner of the relationship right?</p>\n\n<p>My doubt is when i create Department first and then create a set of Employees and set the department i created and save the department object it works fine. But then i just try to Create a department and Create a Employee and set the department there and save the Employee object it gives me below exception.</p>\n\n<blockquote>\n  <p>Hibernate: insert into Employee (deptId, name) values (?, ?) Exception\n  in thread \"main\" org.hibernate.TransientObjectException: object\n  references an unsaved transient instance - save the transient instance\n  before flushing: hello.domain.Department</p>\n</blockquote>\n\n<p>Shouldn't it work both ways?</p>\n"},{"tags":["java","spring-boot","testing","spring-boot-test"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1620304233,"post_id":67418154,"comment_id":119164805,"body_markdown":"`tempList` is a list which doesn&#39;t support the `remove` operation.","body":"<code>tempList</code> is a list which doesn&#39;t support the <code>remove</code> operation."},{"owner":{"account_id":15505860,"reputation":47,"user_id":11186053,"display_name":"Lili"},"score":0,"creation_date":1620304619,"post_id":67418154,"comment_id":119164993,"body_markdown":"@AndyTurner the strange thing is that when It&#39;s not in the test (when I write the URL in my browser) everything works fine. It&#39;s just in the test class that I get the error.","body":"@AndyTurner the strange thing is that when It&#39;s not in the test (when I write the URL in my browser) everything works fine. It&#39;s just in the test class that I get the error."}],"answers":[{"comments":[{"owner":{"account_id":15505860,"reputation":47,"user_id":11186053,"display_name":"Lili"},"score":0,"creation_date":1620305890,"post_id":67418480,"comment_id":119165608,"body_markdown":"Yeah. How can i return it to a modifiable list?","body":"Yeah. How can i return it to a modifiable list?"},{"owner":{"account_id":15505860,"reputation":47,"user_id":11186053,"display_name":"Lili"},"score":0,"creation_date":1620306223,"post_id":67418480,"comment_id":119165780,"body_markdown":"Nvm I fixed it! Thank you all for the help!","body":"Nvm I fixed it! Thank you all for the help!"}],"tags":[],"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1620305972,"creation_date":1620305270,"answer_id":67418480,"question_id":67418154,"body_markdown":"`List.of(b1)` that you return in mock returns unmodifiable list.\r\nBtw `Arrays.asList` doesn&#39;t support remove too.\r\nYou should change return of your mock to something like if you need removal from collection\r\n```\r\nnew ArrayList&lt;&gt;(List.of(b1));\r\nnew ArrayList&lt;&gt;(Arrays.asList(b2));\r\n```\r\nSo the complete code should look like this:\r\n```\r\nwhen(mockRepo.findByValue(1000)).thenReturn(new ArrayList&lt;&gt;(List.of(b1)));\r\nwhen(mockRepo.findByValue(500)).thenReturn(new ArrayList&lt;&gt;(Arrays.asList(b2)));\r\nwhen(mockRepo.findByValue(100)).thenReturn(new ArrayList&lt;&gt;(Arrays.asList(b3)));\r\nwhen(mockRepo.findAll()).thenReturn(new ArrayList&lt;&gt;(Arrays.asList(b1, b2, b3)));\r\n```","title":"java.lang.UnsupportedOperationException: remove","body":"<p><code>List.of(b1)</code> that you return in mock returns unmodifiable list.\nBtw <code>Arrays.asList</code> doesn't support remove too.\nYou should change return of your mock to something like if you need removal from collection</p>\n<pre><code>new ArrayList&lt;&gt;(List.of(b1));\nnew ArrayList&lt;&gt;(Arrays.asList(b2));\n</code></pre>\n<p>So the complete code should look like this:</p>\n<pre><code>when(mockRepo.findByValue(1000)).thenReturn(new ArrayList&lt;&gt;(List.of(b1)));\nwhen(mockRepo.findByValue(500)).thenReturn(new ArrayList&lt;&gt;(Arrays.asList(b2)));\nwhen(mockRepo.findByValue(100)).thenReturn(new ArrayList&lt;&gt;(Arrays.asList(b3)));\nwhen(mockRepo.findAll()).thenReturn(new ArrayList&lt;&gt;(Arrays.asList(b1, b2, b3)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5770243,"reputation":111,"user_id":4553875,"display_name":"Ankush"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667351495,"creation_date":1667351495,"answer_id":74283379,"question_id":67418154,"body_markdown":"I was setting default roles with Arrays.asList but this is causing issue for me\r\n```\r\n@ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_role&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;,referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;,referencedColumnName = &quot;id&quot;))\r\n    private List&lt;Role&gt; roles=Arrays.asList(new Role(3,&quot;ROLE_CSR&quot;,&quot;Customer Service Representative&quot;));\r\n```\r\n it worked for me, After removing the default List value .\r\n```\r\n@ManyToMany(fetch = FetchType.EAGER)\r\n    @JoinTable(name = &quot;user_role&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;,referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;,referencedColumnName = &quot;id&quot;))\r\n    private List&lt;Role&gt; roles;\r\n```","title":"java.lang.UnsupportedOperationException: remove","body":"<p>I was setting default roles with Arrays.asList but this is causing issue for me</p>\n<pre><code>@ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;user_role&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;,referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;,referencedColumnName = &quot;id&quot;))\n    private List&lt;Role&gt; roles=Arrays.asList(new Role(3,&quot;ROLE_CSR&quot;,&quot;Customer Service Representative&quot;));\n</code></pre>\n<p>it worked for me, After removing the default List value .</p>\n<pre><code>@ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;user_role&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;,referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;,referencedColumnName = &quot;id&quot;))\n    private List&lt;Role&gt; roles;\n</code></pre>\n"}],"owner":{"account_id":15505860,"reputation":47,"user_id":11186053,"display_name":"Lili"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67418480,"answer_count":2,"score":0,"last_activity_date":1667351495,"creation_date":1620304150,"question_id":67418154,"body_markdown":"I&#39;m building an ATM with spring boot and I&#39;m trying to include some tests with a mock repository.\r\nBut when I try to use one of my test methods I get the &quot;java.lang.UnsupportedOperationException: remove&quot; error.\r\nI&#39;m new to this so I really don&#39;t understand why this is happening. \r\n\r\nIt is the withdrawOneThousand() test method that isn&#39;t working. The getAllBills() test method works fine.\r\n\r\nBefore I made a mock repository in the test class I tried the test method directly on the database and It worked fine.\r\n\r\n\r\nMy controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/bills&quot;)\r\n    public class BillController {\r\n    \r\n        private int calculate;\r\n    \r\n        @Autowired\r\n        private BillRepository billRepository;\r\n    \r\n    \r\n    \r\n        @GetMapping(path = &quot;/withdraw2/{value}&quot;)\r\n        public String withdraw2(@PathVariable int value){\r\n            List&lt;Bill&gt; billsToWithdraw = new ArrayList&lt;&gt;();\r\n            List&lt;Bill&gt; dbCopy = (List&lt;Bill&gt;) billRepository.findAll();\r\n            calculate = value;\r\n            System.out.println(&quot;calc start &quot; + calculate);\r\n    \r\n            try {\r\n                while (calculate != 0) {\r\n    \r\n                    if (calculate &gt;= 1000 &amp;&amp; searchBillList(1000, dbCopy)) {\r\n                        billTransfer(1000, billsToWithdraw, dbCopy);\r\n    \r\n                    } else if (calculate &gt;= 500 &amp;&amp; searchBillList(500, dbCopy)) {\r\n                        billTransfer(500, billsToWithdraw, dbCopy);\r\n    \r\n                    } else if (calculate &gt;= 100 &amp;&amp; searchBillList(100, dbCopy)) {\r\n                        billTransfer(100, billsToWithdraw, dbCopy);\r\n    \r\n                    }\r\n                    else {\r\n                        return &quot;No bills left&quot;;\r\n                    }\r\n                }\r\n    \r\n                deleteFromDB(billsToWithdraw);\r\n    \r\n                System.out.println(&quot;returning&quot;);\r\n                return &quot;Bills: &quot; + billsToWithdraw;\r\n    \r\n            } catch (NullPointerException e) {\r\n                System.out.println(e);\r\n                return &quot;Not enough bills&quot;;\r\n            } catch (Exception e){\r\n                return e.toString();\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        public void deleteFromDB(List&lt;Bill&gt; billsToWithdraw){\r\n            billsToWithdraw.forEach((bill) -&gt; billRepository.delete(bill));\r\n        }\r\n    \r\n        public Boolean searchBillList(int valueToCheck, List&lt;Bill&gt; tempList) {\r\n            return tempList.stream().anyMatch((bill -&gt; bill.getValue() == valueToCheck));\r\n        }\r\n    \r\n        public void billTransfer(int value, List&lt;Bill&gt; billsToWithdraw, List&lt;Bill&gt; tempList){\r\n            Bill bill = tempList.stream().filter((currentBill) -&gt; currentBill.getValue() == value).findFirst().get();\r\n            calculate = calculate - bill.getValue();\r\n            billsToWithdraw.add(bill);\r\n            tempList.remove(bill);\r\n        }\r\n\r\n\r\nMy repository:\r\n\r\n    public interface BillRepository extends CrudRepository&lt;Bill, Long&gt; {\r\n        Iterable&lt;Bill&gt; findByValue(int value);\r\n    }\r\n\r\nMy test:\r\n\r\n  \r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    public class BillControllerTest2 {\r\n    \r\n        @Autowired\r\n        private MockMvc mvc;\r\n    \r\n        @MockBean\r\n        private BillRepository mockRepo;\r\n    \r\n        @BeforeEach\r\n        public void init(){\r\n            Bill b1 = new Bill(1000, 1L);\r\n            Bill b2 = new Bill(500, 2L);\r\n            Bill b3 = new Bill(100, 3L);\r\n            when(mockRepo.findByValue(1000)).thenReturn(List.of(b1));\r\n            when(mockRepo.findByValue(500)).thenReturn(Arrays.asList(b2));\r\n            when(mockRepo.findByValue(100)).thenReturn(Arrays.asList(b3));\r\n            when(mockRepo.findAll()).thenReturn(Arrays.asList(b1, b2, b3));\r\n        }\r\n    \r\n        @Test\r\n        public void withdrawOneThousand() throws Exception {\r\n    \r\n            mvc.perform(MockMvcRequestBuilders.get(&quot;/bills/withdraw2/1000&quot;).accept(MediaType.APPLICATION_JSON))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(content().string(&quot;Bills: [Bill{id=1, number=1000}]&quot;));\r\n        }\r\n    \r\n        @Test\r\n        public void getAllBills() throws Exception {\r\n            mvc.perform(MockMvcRequestBuilders.get(&quot;/bills/all&quot;).accept(MediaType.APPLICATION_JSON))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(content().json(&quot;[{\\&quot;id\\&quot;: 1, \\&quot;value\\&quot;: 1000}, &quot; +\r\n                            &quot;{\\&quot;id\\&quot;: 2, \\&quot;value\\&quot;: 500 }, &quot; +\r\n                            &quot;{\\&quot;id\\&quot;: 3, \\&quot;value\\&quot;: 100}]&quot;));\r\n        }\r\n\r\nThe error I&#39;m getting:\r\n\r\n    java.lang.AssertionError: Response content expected:&lt;Bills: [Bill{id=1, number=1000}]&gt; but was:&lt;java.lang.UnsupportedOperationException: remove&gt;\r\n    Expected :Bills: [Bill{id=1, number=1000}]\r\n    Actual   :java.lang.UnsupportedOperationException: remove\r\n    &lt;Click to see difference&gt;\r\n    \r\n    \r\n    \tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\r\n    \tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\r\n    \tat org.springframework.test.web.servlet.result.ContentResultMatchers.lambda$string$4(ContentResultMatchers.java:136)\r\n    \tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:196)\r\n    \tat com.example.demo.controllers.BillControllerTest2.withdrawOneThousand(BillControllerTest2.java:51)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\n","title":"java.lang.UnsupportedOperationException: remove","body":"<p>I'm building an ATM with spring boot and I'm trying to include some tests with a mock repository.\nBut when I try to use one of my test methods I get the &quot;java.lang.UnsupportedOperationException: remove&quot; error.\nI'm new to this so I really don't understand why this is happening.</p>\n<p>It is the withdrawOneThousand() test method that isn't working. The getAllBills() test method works fine.</p>\n<p>Before I made a mock repository in the test class I tried the test method directly on the database and It worked fine.</p>\n<p>My controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/bills&quot;)\npublic class BillController {\n\n    private int calculate;\n\n    @Autowired\n    private BillRepository billRepository;\n\n\n\n    @GetMapping(path = &quot;/withdraw2/{value}&quot;)\n    public String withdraw2(@PathVariable int value){\n        List&lt;Bill&gt; billsToWithdraw = new ArrayList&lt;&gt;();\n        List&lt;Bill&gt; dbCopy = (List&lt;Bill&gt;) billRepository.findAll();\n        calculate = value;\n        System.out.println(&quot;calc start &quot; + calculate);\n\n        try {\n            while (calculate != 0) {\n\n                if (calculate &gt;= 1000 &amp;&amp; searchBillList(1000, dbCopy)) {\n                    billTransfer(1000, billsToWithdraw, dbCopy);\n\n                } else if (calculate &gt;= 500 &amp;&amp; searchBillList(500, dbCopy)) {\n                    billTransfer(500, billsToWithdraw, dbCopy);\n\n                } else if (calculate &gt;= 100 &amp;&amp; searchBillList(100, dbCopy)) {\n                    billTransfer(100, billsToWithdraw, dbCopy);\n\n                }\n                else {\n                    return &quot;No bills left&quot;;\n                }\n            }\n\n            deleteFromDB(billsToWithdraw);\n\n            System.out.println(&quot;returning&quot;);\n            return &quot;Bills: &quot; + billsToWithdraw;\n\n        } catch (NullPointerException e) {\n            System.out.println(e);\n            return &quot;Not enough bills&quot;;\n        } catch (Exception e){\n            return e.toString();\n        }\n\n    }\n\n\n    public void deleteFromDB(List&lt;Bill&gt; billsToWithdraw){\n        billsToWithdraw.forEach((bill) -&gt; billRepository.delete(bill));\n    }\n\n    public Boolean searchBillList(int valueToCheck, List&lt;Bill&gt; tempList) {\n        return tempList.stream().anyMatch((bill -&gt; bill.getValue() == valueToCheck));\n    }\n\n    public void billTransfer(int value, List&lt;Bill&gt; billsToWithdraw, List&lt;Bill&gt; tempList){\n        Bill bill = tempList.stream().filter((currentBill) -&gt; currentBill.getValue() == value).findFirst().get();\n        calculate = calculate - bill.getValue();\n        billsToWithdraw.add(bill);\n        tempList.remove(bill);\n    }\n</code></pre>\n<p>My repository:</p>\n<pre><code>public interface BillRepository extends CrudRepository&lt;Bill, Long&gt; {\n    Iterable&lt;Bill&gt; findByValue(int value);\n}\n</code></pre>\n<p>My test:</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic class BillControllerTest2 {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @MockBean\n    private BillRepository mockRepo;\n\n    @BeforeEach\n    public void init(){\n        Bill b1 = new Bill(1000, 1L);\n        Bill b2 = new Bill(500, 2L);\n        Bill b3 = new Bill(100, 3L);\n        when(mockRepo.findByValue(1000)).thenReturn(List.of(b1));\n        when(mockRepo.findByValue(500)).thenReturn(Arrays.asList(b2));\n        when(mockRepo.findByValue(100)).thenReturn(Arrays.asList(b3));\n        when(mockRepo.findAll()).thenReturn(Arrays.asList(b1, b2, b3));\n    }\n\n    @Test\n    public void withdrawOneThousand() throws Exception {\n\n        mvc.perform(MockMvcRequestBuilders.get(&quot;/bills/withdraw2/1000&quot;).accept(MediaType.APPLICATION_JSON))\n                .andExpect(status().isOk())\n                .andExpect(content().string(&quot;Bills: [Bill{id=1, number=1000}]&quot;));\n    }\n\n    @Test\n    public void getAllBills() throws Exception {\n        mvc.perform(MockMvcRequestBuilders.get(&quot;/bills/all&quot;).accept(MediaType.APPLICATION_JSON))\n                .andExpect(status().isOk())\n                .andExpect(content().json(&quot;[{\\&quot;id\\&quot;: 1, \\&quot;value\\&quot;: 1000}, &quot; +\n                        &quot;{\\&quot;id\\&quot;: 2, \\&quot;value\\&quot;: 500 }, &quot; +\n                        &quot;{\\&quot;id\\&quot;: 3, \\&quot;value\\&quot;: 100}]&quot;));\n    }\n</code></pre>\n<p>The error I'm getting:</p>\n<pre><code>java.lang.AssertionError: Response content expected:&lt;Bills: [Bill{id=1, number=1000}]&gt; but was:&lt;java.lang.UnsupportedOperationException: remove&gt;\nExpected :Bills: [Bill{id=1, number=1000}]\nActual   :java.lang.UnsupportedOperationException: remove\n&lt;Click to see difference&gt;\n\n\n    at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\n    at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\n    at org.springframework.test.web.servlet.result.ContentResultMatchers.lambda$string$4(ContentResultMatchers.java:136)\n    at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:196)\n    at com.example.demo.controllers.BillControllerTest2.withdrawOneThousand(BillControllerTest2.java:51)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1667159619,"post_id":74244531,"comment_id":131099580,"body_markdown":"The error does not seem related to JavaFX, at least not directly. `ClassNotFoundException: ?jar` means that it tried to load a class named `?jar` as the main class, but that class could not be found (to be expected given that very odd name). My _guess_ is that somehow you have `Main-Class: ?jar` in the JAR&#39;s manifest file (though the `?` may simply be a character your console couldn&#39;t print). It should be something like `Main-Class: infixToPostfix.App`. I&#39;ve never created a JAR file via VS Code, so I don&#39;t know what configuration you need to change.","body":"The error does not seem related to JavaFX, at least not directly. <code>ClassNotFoundException: ?jar</code> means that it tried to load a class named <code>?jar</code> as the main class, but that class could not be found (to be expected given that very odd name). My <i>guess</i> is that somehow you have <code>Main-Class: ?jar</code> in the JAR&#39;s manifest file (though the <code>?</code> may simply be a character your console couldn&#39;t print). It should be something like <code>Main-Class: infixToPostfix.App</code>. I&#39;ve never created a JAR file via VS Code, so I don&#39;t know what configuration you need to change."},{"owner":{"account_id":21572271,"reputation":1,"user_id":15904997,"display_name":"AceBurgundy"},"score":0,"creation_date":1667283375,"post_id":74244531,"comment_id":131126509,"body_markdown":"Yes. Just as what I said, the problem came when I try to run the .exe which I got from exporting to jar and converting it to .exe using launch4j. Since, the .exe wouldn&#39;t run, I then tried to run the .jar file using command java -jar InfixtoPostfix.jar which well, resulted in the error I&#39;m currently trying to fix. Also I&#39;ll try checking the `?` I just started learning JavaFX 4 days ago so maybe I just missed something. Thank you.","body":"Yes. Just as what I said, the problem came when I try to run the .exe which I got from exporting to jar and converting it to .exe using launch4j. Since, the .exe wouldn&#39;t run, I then tried to run the .jar file using command java -jar InfixtoPostfix.jar which well, resulted in the error I&#39;m currently trying to fix. Also I&#39;ll try checking the <code>?</code> I just started learning JavaFX 4 days ago so maybe I just missed something. Thank you."},{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":0,"creation_date":1667349870,"post_id":74244531,"comment_id":131145531,"body_markdown":"I have some experience with Java and JavaFX. I just finished programming a basic application for my study of software engineering. However, we were advised to use Jetbrains IntelliJ IDEA and Maven. With Maven it&#39;s really easy to get an executable .jar file. I wouldn&#39;t recommend using VSCode for any Java developer. VSCode is not really a full-fletch IDE and IntelliJ IDEA with extensive debugging tools built into it tailer specifically for Java.","body":"I have some experience with Java and JavaFX. I just finished programming a basic application for my study of software engineering. However, we were advised to use Jetbrains IntelliJ IDEA and Maven. With Maven it&#39;s really easy to get an executable .jar file. I wouldn&#39;t recommend using VSCode for any Java developer. VSCode is not really a full-fletch IDE and IntelliJ IDEA with extensive debugging tools built into it tailer specifically for Java."},{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":0,"creation_date":1667349927,"post_id":74244531,"comment_id":131145539,"body_markdown":"However, if you provide some code maybe I could copy-paste it into my IDE and check it out if maybe I can get it running. I&#39;m willing to put some time in.","body":"However, if you provide some code maybe I could copy-paste it into my IDE and check it out if maybe I can get it running. I&#39;m willing to put some time in."},{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":0,"creation_date":1667350254,"post_id":74244531,"comment_id":131145591,"body_markdown":"I understand your issue. With Maeven we need to assign the Main class in the config file, like this: &lt;mainClass&gt;${project.mainClass}&lt;/mainClass&gt; I don&#39;t know where you need to do it. Maybe in settings.json or launch.json. You need to check the Java VSCode plugin which provides you with the export function. Check the documentation and it will tell you where you need to put the Main class in the configuration file. I will also post this as an answer so you can thank me with points &#128517;&#128521;","body":"I understand your issue. With Maeven we need to assign the Main class in the config file, like this: &lt;mainClass&gt;${project.mainClass}&lt;/mainClass&gt; I don&#39;t know where you need to do it. Maybe in settings.json or launch.json. You need to check the Java VSCode plugin which provides you with the export function. Check the documentation and it will tell you where you need to put the Main class in the configuration file. I will also post this as an answer so you can thank me with points 😅😉"}],"answers":[{"tags":[],"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667351415,"creation_date":1667350613,"answer_id":74283300,"question_id":74244531,"body_markdown":"# Config file\r\nThe error you got is a very similar one I got months ago when I first started to develop a JavaFX application. I needed to tell Maven what class my Main class was so that Maven could compile a .jar file for me\r\n\r\nI understand your issue. With Maven we need to assign the Main class in the config file, like this: &lt;mainClass&gt;${project.mainClass}&lt;/mainClass&gt; I don&#39;t know where you need to do it. Maybe in settings.json or launch.json. You need to check the Java VSCode plugin which provides you with the export function. Check the documentation and it will tell you where you need to put the Main class in the configuration file.\r\n\r\n## Example pom.xml file (Maven config file)\r\nThis is a Maven example and you need to do something similar. It&#39;s important that you also compile and tell the Java plugin to compile a single fat JAR with dependencies, otherwise, it won&#39;t run.  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;name&gt;My example project&lt;/name&gt;\r\n        &lt;groupId&gt;nl.hva&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my_example_artifact&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0.&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;javafx.version&gt;19&lt;/javafx.version&gt;\r\n            &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n            &lt;project.mainClass&gt;my_example_package_name.Main&lt;/project.mainClass&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.2&lt;/version&gt;\r\n                &lt;type&gt;maven-plugin&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n                &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;23.0.0&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addClasspath/&gt;\r\n                                &lt;addDefaultImplementationEntries/&gt;\r\n                                &lt;addDefaultSpecificationEntries/&gt;\r\n                                &lt;addExtensions/&gt;\r\n                                &lt;classpathLayoutType/&gt;\r\n                                &lt;classpathPrefix/&gt;\r\n                                &lt;customClasspathLayout/&gt;\r\n                                &lt;mainClass&gt;${project.mainClass}&lt;/mainClass&gt;\r\n                                &lt;packageName/&gt;\r\n                                &lt;useUniqueVersions/&gt;\r\n                            &lt;/manifest&gt;\r\n                            &lt;manifestEntries&gt;\r\n                                &lt;mode&gt;development&lt;/mode&gt;\r\n                                &lt;url&gt;${project.url}&lt;/url&gt;\r\n                                &lt;key&gt;value&lt;/key&gt;\r\n                            &lt;/manifestEntries&gt;\r\n                        &lt;/archive&gt;\r\n                        &lt;descriptorRefs&gt;\r\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                        &lt;/descriptorRefs&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;make-assembly&lt;/id&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;single&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n## VS Code docs\r\nVS Code docs also mention using Maven! So it&#39;s easy for me to help you because I have workable JavaFX 19 applications (in another IDE, but Maven is the same everywhere). See vscode docs: https://code.visualstudio.com/docs/java/java-project","title":"JavaFX Application won&#39;t run when converted to executable","body":"<h1>Config file</h1>\n<p>The error you got is a very similar one I got months ago when I first started to develop a JavaFX application. I needed to tell Maven what class my Main class was so that Maven could compile a .jar file for me</p>\n<p>I understand your issue. With Maven we need to assign the Main class in the config file, like this: ${project.mainClass} I don't know where you need to do it. Maybe in settings.json or launch.json. You need to check the Java VSCode plugin which provides you with the export function. Check the documentation and it will tell you where you need to put the Main class in the configuration file.</p>\n<h2>Example pom.xml file (Maven config file)</h2>\n<p>This is a Maven example and you need to do something similar. It's important that you also compile and tell the Java plugin to compile a single fat JAR with dependencies, otherwise, it won't run.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;name&gt;My example project&lt;/name&gt;\n    &lt;groupId&gt;nl.hva&lt;/groupId&gt;\n    &lt;artifactId&gt;my_example_artifact&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;javafx.version&gt;19&lt;/javafx.version&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n        &lt;project.mainClass&gt;my_example_package_name.Main&lt;/project.mainClass&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.2&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;23.0.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath/&gt;\n                            &lt;addDefaultImplementationEntries/&gt;\n                            &lt;addDefaultSpecificationEntries/&gt;\n                            &lt;addExtensions/&gt;\n                            &lt;classpathLayoutType/&gt;\n                            &lt;classpathPrefix/&gt;\n                            &lt;customClasspathLayout/&gt;\n                            &lt;mainClass&gt;${project.mainClass}&lt;/mainClass&gt;\n                            &lt;packageName/&gt;\n                            &lt;useUniqueVersions/&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;mode&gt;development&lt;/mode&gt;\n                            &lt;url&gt;${project.url}&lt;/url&gt;\n                            &lt;key&gt;value&lt;/key&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>VS Code docs</h2>\n<p>VS Code docs also mention using Maven! So it's easy for me to help you because I have workable JavaFX 19 applications (in another IDE, but Maven is the same everywhere). See vscode docs: <a href=\"https://code.visualstudio.com/docs/java/java-project\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-project</a></p>\n"}],"owner":{"account_id":21572271,"reputation":1,"user_id":15904997,"display_name":"AceBurgundy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667351415,"creation_date":1667039527,"question_id":74244531,"body_markdown":"I&#39;ve created a JavaFX GUI and it worked fine until I exported it as a JAR file and converted it to an Executable file.\r\n\r\nRunning it using VS Code `Run and Debug` works fine but, whenever I open the executable, which I exported from\r\n\r\n[![VSCode export jar button](https://i.stack.imgur.com/SCnMg.jpg)](https://i.stack.imgur.com/SCnMg.jpg)\r\n\r\nand converted using Launch4j, nothing happens. \r\n\r\nBut when I try to run it on the Terminal using \r\n`Java -jar &lt;filename&gt;.jar`\r\n\r\nIt shows the error \r\n\r\n`Error: Could not find or load main class ?jar`\r\n`Caused by: java.lang.ClassNotFoundException: ?jar`\r\n\r\n\r\nbelow is my launch.json\r\n\r\n```\r\n{\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch App&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;infixToPostfix.App&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path D:/Programming/Projects/School/javafx-sdk-19/lib --add-modules javafx.controls,javafx.fxml&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n\r\nand bellow is my folder structure\r\n\r\n[![Folder Structure](https://i.stack.imgur.com/sHLvR.png)](https://i.stack.imgur.com/sHLvR.png)\r\n\r\nI&#39;ve seen a few post that is related to the one I currently have but nothing helped. I&#39;m new to JavaFX and i&#39;ve been trying different solutions for hours. Maybe I just missed something important. Thank you in advance.\r\n\r\nI&#39;ve checked similar post but most of them are using IntelliJ or Eclipse. I&#39;ve also seen some which uses VS Code and when I tried them, still nothing worked.","title":"JavaFX Application won&#39;t run when converted to executable","body":"<p>I've created a JavaFX GUI and it worked fine until I exported it as a JAR file and converted it to an Executable file.</p>\n<p>Running it using VS Code <code>Run and Debug</code> works fine but, whenever I open the executable, which I exported from</p>\n<p><a href=\"https://i.stack.imgur.com/SCnMg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SCnMg.jpg\" alt=\"VSCode export jar button\" /></a></p>\n<p>and converted using Launch4j, nothing happens.</p>\n<p>But when I try to run it on the Terminal using\n<code>Java -jar &lt;filename&gt;.jar</code></p>\n<p>It shows the error</p>\n<p><code>Error: Could not find or load main class ?jar</code>\n<code>Caused by: java.lang.ClassNotFoundException: ?jar</code></p>\n<p>below is my launch.json</p>\n<pre><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch App&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;infixToPostfix.App&quot;,\n            &quot;vmArgs&quot;: &quot;--module-path D:/Programming/Projects/School/javafx-sdk-19/lib --add-modules javafx.controls,javafx.fxml&quot;\n        }\n    ]\n}\n</code></pre>\n<p>and bellow is my folder structure</p>\n<p><a href=\"https://i.stack.imgur.com/sHLvR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sHLvR.png\" alt=\"Folder Structure\" /></a></p>\n<p>I've seen a few post that is related to the one I currently have but nothing helped. I'm new to JavaFX and i've been trying different solutions for hours. Maybe I just missed something important. Thank you in advance.</p>\n<p>I've checked similar post but most of them are using IntelliJ or Eclipse. I've also seen some which uses VS Code and when I tried them, still nothing worked.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2208460,"reputation":263,"user_id":1951045,"accept_rate":100,"display_name":"Elie M"},"score":0,"creation_date":1667327745,"post_id":74279334,"comment_id":131140347,"body_markdown":"Your login endpoint is expecting &quot;Post&quot; method however once you call &quot;http://localhost:8080/login&quot; you&#39;re using &quot;Get&quot; method. Try to use postman to simulate &quot;/login&quot; using &quot;Post&quot; method instead","body":"Your login endpoint is expecting &quot;Post&quot; method however once you call &quot;<a href=\"http://localhost:8080/login\" rel=\"nofollow noreferrer\">localhost:8080/login</a>&quot; you&#39;re using &quot;Get&quot; method. Try to use postman to simulate &quot;/login&quot; using &quot;Post&quot; method instead"},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1667329012,"post_id":74279334,"comment_id":131140678,"body_markdown":"@Phoenician I have tried the same with Postman using the POST method. The body is `{\n    &quot;username&quot;: &quot;linda&quot;,\n    &quot;password&quot;: &quot;pass&quot;\n}` but I still get the 405 status.","body":"@Phoenician I have tried the same with Postman using the POST method. The body is <code>{     &quot;username&quot;: &quot;linda&quot;,     &quot;password&quot;: &quot;pass&quot; }</code> but I still get the 405 status."}],"answers":[{"tags":[],"owner":{"account_id":2208460,"reputation":263,"user_id":1951045,"accept_rate":100,"display_name":"Elie M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667350766,"creation_date":1667329804,"answer_id":74280726,"question_id":74279334,"body_markdown":"There&#39;s 2 things that should be updated in your login endpoint :\r\n\r\n 1. `@PostMapping(&quot;login&quot;)` should be `@PostMapping(&quot;/login&quot;)`\r\n 2. You should either define a class containing username and password as fields and update your endpoint parameters to the below : \r\n\r\n    `public ResponseEntity&lt;String&gt; login(@RequestBody CustomUser customUser) {`\r\n\r\n    \r\n    or you could use it as follow :\r\n`public ResponseEntity&lt;String&gt; login(@RequestParam(value = &quot;username&quot;) String username, @RequestParam(value = &quot;password&quot;) String password) {`\r\n\r\n**UPDATE :** \r\n\r\n    Following your update, i&#39;ve resimulate your scenario and the configuration is wrong as you&#39;ve already mentioned.\r\n\r\nConfiguration should be as follow and there&#39;s no need to create a login endpoint : \r\n\r\n    @Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder(10);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf().disable().authorizeRequests().antMatchers(&quot;/login&quot;, &quot;/loginFailed&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/welcome&quot;).hasAnyRole(&quot;ADMIN&quot;).anyRequest()\r\n\t\t\t\t.authenticated().and()\r\n\t\t\t\t.formLogin(form -&gt; form.loginPage(&quot;/login&quot;)\r\n\t\t\t\t\t\t.usernameParameter(&quot;username&quot;)\r\n\t\t\t\t\t\t.passwordParameter(&quot;password&quot;)\r\n\t\t\t\t\t\t.defaultSuccessUrl(&quot;/welcome&quot;)\r\n\t\t\t\t\t\t.failureUrl(&quot;/loginFailed&quot;));\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic InMemoryUserDetailsManager userDetailsManager() {\r\n\t\tUserDetails linda = User.builder().username(&quot;linda&quot;)\r\n\t\t\t\t.password(passwordEncoder().encode(&quot;pass&quot;)).roles(&quot;ADMIN&quot;)\r\n\t\t\t\t.build();\r\n\t\treturn new InMemoryUserDetailsManager(linda);\r\n\t}\r\n\r\nHowever username and password should be submitted in the query param as per the default configuration in &quot;UsernamePasswordAuthenticationFilter&quot;. You could change the default behavior by implementing your Custom UsernamePasswordAuthenticationFilter. (Check [this][1])\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://insource.io/blog/articles/custom-authentication-with-spring-boot.html\r\n  [2]: https://i.stack.imgur.com/eKnab.png\r\n\r\nEndpoints : \r\n\r\n    @GetMapping(&quot;/welcome&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; welcome(Authentication authentication) {\r\n\t\treturn ResponseEntity.ok(&quot;Weclome [&quot; + authentication.getName() + &quot;]&quot;);\r\n\t}\r\n\r\n\t@GetMapping(&quot;/loginFailed&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; login() {\r\n\t\treturn ResponseEntity.ok(&quot;Failed to login&quot;);\r\n\t}\r\n\r\n Hope it helps","title":"Permit page, if login form custom form was successful","body":"<p>There's 2 things that should be updated in your login endpoint :</p>\n<ol>\n<li><p><code>@PostMapping(&quot;login&quot;)</code> should be <code>@PostMapping(&quot;/login&quot;)</code></p>\n</li>\n<li><p>You should either define a class containing username and password as fields and update your endpoint parameters to the below :</p>\n<p><code>public ResponseEntity&lt;String&gt; login(@RequestBody CustomUser customUser) {</code></p>\n<p>or you could use it as follow :\n<code>public ResponseEntity&lt;String&gt; login(@RequestParam(value = &quot;username&quot;) String username, @RequestParam(value = &quot;password&quot;) String password) {</code></p>\n</li>\n</ol>\n<p><strong>UPDATE :</strong></p>\n<pre><code>Following your update, i've resimulate your scenario and the configuration is wrong as you've already mentioned.\n</code></pre>\n<p>Configuration should be as follow and there's no need to create a login endpoint :</p>\n<pre><code>@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder(10);\n}\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf().disable().authorizeRequests().antMatchers(&quot;/login&quot;, &quot;/loginFailed&quot;).permitAll()\n            .antMatchers(&quot;/welcome&quot;).hasAnyRole(&quot;ADMIN&quot;).anyRequest()\n            .authenticated().and()\n            .formLogin(form -&gt; form.loginPage(&quot;/login&quot;)\n                    .usernameParameter(&quot;username&quot;)\n                    .passwordParameter(&quot;password&quot;)\n                    .defaultSuccessUrl(&quot;/welcome&quot;)\n                    .failureUrl(&quot;/loginFailed&quot;));\n    return http.build();\n}\n\n@Bean\npublic InMemoryUserDetailsManager userDetailsManager() {\n    UserDetails linda = User.builder().username(&quot;linda&quot;)\n            .password(passwordEncoder().encode(&quot;pass&quot;)).roles(&quot;ADMIN&quot;)\n            .build();\n    return new InMemoryUserDetailsManager(linda);\n}\n</code></pre>\n<p>However username and password should be submitted in the query param as per the default configuration in &quot;UsernamePasswordAuthenticationFilter&quot;. You could change the default behavior by implementing your Custom UsernamePasswordAuthenticationFilter. (Check <a href=\"https://insource.io/blog/articles/custom-authentication-with-spring-boot.html\" rel=\"nofollow noreferrer\">this</a>)</p>\n<p><a href=\"https://i.stack.imgur.com/eKnab.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eKnab.png\" alt=\"enter image description here\" /></a></p>\n<p>Endpoints :</p>\n<pre><code>@GetMapping(&quot;/welcome&quot;)\npublic ResponseEntity&lt;String&gt; welcome(Authentication authentication) {\n    return ResponseEntity.ok(&quot;Weclome [&quot; + authentication.getName() + &quot;]&quot;);\n}\n\n@GetMapping(&quot;/loginFailed&quot;)\npublic ResponseEntity&lt;String&gt; login() {\n    return ResponseEntity.ok(&quot;Failed to login&quot;);\n}\n</code></pre>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74280726,"answer_count":1,"score":-1,"last_activity_date":1667350766,"creation_date":1667322106,"question_id":74279334,"body_markdown":"I am very new to Spring Security. In Angular I have a custom form that sends a post to this controller:\r\n\r\n```java\r\n@RestController\r\npublic class LoginController {\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;String&gt; login(@RequestBody User user) {\r\n        if (user.getUsername().equals(&quot;linda&quot;) &amp;&amp; user.getPassword().equals(&quot;pass&quot;)) {\r\n            return ResponseEntity.ok(&quot;Access granted&quot;);\r\n        }\r\n        return ResponseEntity.badRequest().body(&quot;Access denied&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIf the login was successful, the user should have access to the page `/welcome`, otherwise this page should be forbidden.\r\n\r\nThis is what I have tried:\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class Config {\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder(10);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/login&quot;).permitAll()\r\n                .antMatchers(&quot;/welcome&quot;).hasAnyRole(&quot;ADMIN&quot;)\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .formLogin(form -&gt; form.loginPage(&quot;/login&quot;).permitAll());\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager userDetailsManager() {\r\n        var linda = User.builder()\r\n                .username(&quot;linda&quot;)\r\n                .password(passwordEncoder().encode(&quot;pass&quot;))\r\n                .roles(&quot;ADMIN&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(linda);\r\n    }\r\n}\r\n```\r\n\r\nWhen I call */login*, I get the status _405 - Method Not Allowed_.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nProbably I am doing everything wrong. How can this be done correctly?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cuyyU.png","title":"Permit page, if login form custom form was successful","body":"<p>I am very new to Spring Security. In Angular I have a custom form that sends a post to this controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class LoginController {\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;String&gt; login(@RequestBody User user) {\n        if (user.getUsername().equals(&quot;linda&quot;) &amp;&amp; user.getPassword().equals(&quot;pass&quot;)) {\n            return ResponseEntity.ok(&quot;Access granted&quot;);\n        }\n        return ResponseEntity.badRequest().body(&quot;Access denied&quot;);\n    }\n}\n</code></pre>\n<p>If the login was successful, the user should have access to the page <code>/welcome</code>, otherwise this page should be forbidden.</p>\n<p>This is what I have tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class Config {\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(10);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/login&quot;).permitAll()\n                .antMatchers(&quot;/welcome&quot;).hasAnyRole(&quot;ADMIN&quot;)\n                .anyRequest()\n                .authenticated()\n                .and()\n                .formLogin(form -&gt; form.loginPage(&quot;/login&quot;).permitAll());\n        return http.build();\n    }\n\n    @Bean\n    public InMemoryUserDetailsManager userDetailsManager() {\n        var linda = User.builder()\n                .username(&quot;linda&quot;)\n                .password(passwordEncoder().encode(&quot;pass&quot;))\n                .roles(&quot;ADMIN&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(linda);\n    }\n}\n</code></pre>\n<p>When I call <em>/login</em>, I get the status <em>405 - Method Not Allowed</em>.</p>\n<p><a href=\"https://i.stack.imgur.com/cuyyU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cuyyU.png\" alt=\"enter image description here\" /></a></p>\n<p>Probably I am doing everything wrong. How can this be done correctly?</p>\n"},{"tags":["java","vim"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1667350889,"post_id":74283237,"comment_id":131145669,"body_markdown":"`I am wondering if there is any way to change the file contents synchronously when I change the directory of file in Vim.` Java requires that the &quot;directory&quot; of a file match the package name in most cases.  If a class `MyClass` is in `package com.example;` then the directory structure has to be `com/example/MyClass.java`.  Anything else will break most of the tools that ship with the JDK.  I assume that with enough work you could go around that but I also assume it won&#39;t be worth the effort.","body":"<code>I am wondering if there is any way to change the file contents synchronously when I change the directory of file in Vim.</code> Java requires that the &quot;directory&quot; of a file match the package name in most cases.  If a class <code>MyClass</code> is in <code>package com.example;</code> then the directory structure has to be <code>com&#47;example&#47;MyClass.java</code>.  Anything else will break most of the tools that ship with the JDK.  I assume that with enough work you could go around that but I also assume it won&#39;t be worth the effort."},{"owner":{"account_id":19301190,"reputation":21,"user_id":14109036,"display_name":"Serin Heo"},"score":0,"creation_date":1667353947,"post_id":74283237,"comment_id":131146119,"body_markdown":"@markspace Thanks for the comment. I used to use Intellij and other IDE and when I changed the file name or directory, I remember that IDE always asked me back if I want to change following file contents itself and others which import that file. That was why I had this question. I found that Vi is really useful except for this question.","body":"@markspace Thanks for the comment. I used to use Intellij and other IDE and when I changed the file name or directory, I remember that IDE always asked me back if I want to change following file contents itself and others which import that file. That was why I had this question. I found that Vi is really useful except for this question."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1667355275,"post_id":74283237,"comment_id":131146292,"body_markdown":"I don&#39;t use Vim. But my guess is you&#39;d probably have to find some extensions that provide refactoring support for Java. I have no idea if such extensions exist.","body":"I don&#39;t use Vim. But my guess is you&#39;d probably have to find some extensions that provide refactoring support for Java. I have no idea if such extensions exist."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1667359942,"post_id":74283237,"comment_id":131146829,"body_markdown":"Yes, this is the reason to use an IDE and not a text editor.  I used vi a lot back in the day but modern IDEs are just so much more productive with features a text editor can&#39;t match that it&#39;s no longer even a contest.  IDEs are always better.","body":"Yes, this is the reason to use an IDE and not a text editor.  I used vi a lot back in the day but modern IDEs are just so much more productive with features a text editor can&#39;t match that it&#39;s no longer even a contest.  IDEs are always better."},{"owner":{"account_id":19301190,"reputation":21,"user_id":14109036,"display_name":"Serin Heo"},"score":0,"creation_date":1667362497,"post_id":74283237,"comment_id":131147119,"body_markdown":"@Slaw Yes that is why I wrote this question. I hope there really is.","body":"@Slaw Yes that is why I wrote this question. I hope there really is."},{"owner":{"account_id":19301190,"reputation":21,"user_id":14109036,"display_name":"Serin Heo"},"score":0,"creation_date":1667362678,"post_id":74283237,"comment_id":131147146,"body_markdown":"@markspace I see. That is sad. \nI just wanted to understand some hardcore developers who still using Vim to develop. And I found myself that once I used to IDE, without IDE I cannot even run jar file in terminal.","body":"@markspace I see. That is sad.  I just wanted to understand some hardcore developers who still using Vim to develop. And I found myself that once I used to IDE, without IDE I cannot even run jar file in terminal."},{"owner":{"account_id":262175,"reputation":188547,"user_id":546861,"display_name":"romainl"},"score":0,"creation_date":1667373758,"post_id":74283237,"comment_id":131149129,"body_markdown":"Vim is a general purpose text editor that happens to provide minimal-to-quite-good support for hundreds of programming languages but it still is a text editor. It has never been, is not, and will never be a convincing alternative for those who need or desire the full power of an IDE. If you don&#39;t need or desire all that power, then Vim is amazing, but if you do—and you appear to do—then there is no point even contemplating a switch. Just use the best tool for the job.","body":"Vim is a general purpose text editor that happens to provide minimal-to-quite-good support for hundreds of programming languages but it still is a text editor. It has never been, is not, and will never be a convincing alternative for those who need or desire the full power of an IDE. If you don&#39;t need or desire all that power, then Vim is amazing, but if you do—and you appear to do—then there is no point even contemplating a switch. Just use the best tool for the job."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1667417095,"post_id":74283237,"comment_id":131164823,"body_markdown":"Right, using the best tool is a thing.  I keep up on vi in case I have to do some quick edits on a Unix command line.  But most of the time I use a full IDE to do my work.  And I think I could edit a Java file, compile it and run it on the command line, but if I forget then I just look up how to do it on the web.  Google is your friend.  It doesn&#39;t happen frequently enough to be something I actually need to know how to do.","body":"Right, using the best tool is a thing.  I keep up on vi in case I have to do some quick edits on a Unix command line.  But most of the time I use a full IDE to do my work.  And I think I could edit a Java file, compile it and run it on the command line, but if I forget then I just look up how to do it on the web.  Google is your friend.  It doesn&#39;t happen frequently enough to be something I actually need to know how to do."},{"owner":{"account_id":19301190,"reputation":21,"user_id":14109036,"display_name":"Serin Heo"},"score":0,"creation_date":1667438113,"post_id":74283237,"comment_id":131169577,"body_markdown":"@markspace Alright. Thanks for those comments and have a great day :)","body":"@markspace Alright. Thanks for those comments and have a great day :)"},{"owner":{"account_id":19301190,"reputation":21,"user_id":14109036,"display_name":"Serin Heo"},"score":0,"creation_date":1667438172,"post_id":74283237,"comment_id":131169589,"body_markdown":"@romainl Alright. Thanks! Good day.","body":"@romainl Alright. Thanks! Good day."}],"owner":{"account_id":19301190,"reputation":21,"user_id":14109036,"display_name":"Serin Heo"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667349832,"creation_date":1667349780,"question_id":74283237,"body_markdown":"These days, I am practicing myself to develop Java(Spring Boot) using Vim.\r\nAnd I just wonder if I have to rewrite package directory in Java file one by one when I change it.\r\nFor example, in Java file we should write package directory on top of the file like below.\r\n\r\n```\r\npackage com.example.demo.controller;\r\n\r\npublic class TestController {\r\n...\r\n}\r\n```\r\n\r\nI am wondering if there is any way to change the file contents synchronously when I change the directory of file in Vim.\r\nThank you in advance.\r\n\r\nWhen I changed the directory of file by m + m(move the current node), I realized in the package directory in the file and also in files which imported that file, the directory has changed.","title":"Do I have to rewrite package directory one by one when I change directory of java file on vim?","body":"<p>These days, I am practicing myself to develop Java(Spring Boot) using Vim.\nAnd I just wonder if I have to rewrite package directory in Java file one by one when I change it.\nFor example, in Java file we should write package directory on top of the file like below.</p>\n<pre><code>package com.example.demo.controller;\n\npublic class TestController {\n...\n}\n</code></pre>\n<p>I am wondering if there is any way to change the file contents synchronously when I change the directory of file in Vim.\nThank you in advance.</p>\n<p>When I changed the directory of file by m + m(move the current node), I realized in the package directory in the file and also in files which imported that file, the directory has changed.</p>\n"},{"tags":["java","simulation","anylogic"],"comments":[{"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"score":0,"creation_date":1667322193,"post_id":74278961,"comment_id":131138475,"body_markdown":"are you sure that it stops always after 127.33 days? How many times this event occured?","body":"are you sure that it stops always after 127.33 days? How many times this event occured?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1667322779,"post_id":74278961,"comment_id":131138687,"body_markdown":"Seems like a logic issue : if the order amount &gt; `products` then you have an infinite loop.","body":"Seems like a logic issue : if the order amount &gt; <code>products</code> then you have an infinite loop."},{"owner":{"account_id":25486423,"reputation":23,"user_id":19282006,"display_name":"Souhail MNASRI"},"score":0,"creation_date":1667324987,"post_id":74278961,"comment_id":131139433,"body_markdown":"Yes I&#39;m sure, it&#39;s stack always at this time","body":"Yes I&#39;m sure, it&#39;s stack always at this time"}],"answers":[{"tags":[],"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667349261,"creation_date":1667349261,"answer_id":74283195,"question_id":74278961,"body_markdown":"use this code:\r\n\r\n    LinkedList &lt;Order&gt; tempOrders=new LinkedList();\r\n    for(Order o : collection){\r\n        tempOrders.add(o);\r\n    }\r\n    \r\n    for(Order o : tempOrders){\r\n    \tif(products&gt;0){\r\n                 if(order.amounts&lt;=products){\r\n                      order.retailer.products+=order.amount;\r\n                      collection.remove(o);\r\n                 }else{\r\n    \t\t\ttraceln(&quot;nothing happens because order.amounts is bigger than products... if i had used a while loop it would be stuck&quot;);\r\n                 }\r\n          }else{\r\n    \t\ttraceln(&quot;another opportunity for my while loop to get stuck... nothing happens because products are equal to &quot;+products);\r\n          }\r\n    }\r\n    \r\n    if(collection.size()&gt;0){\r\n        traceln(&quot;if i had used a while loop, it would be stuck right now&quot;);\r\n    }","title":"Anylogic model ceases execution at a specified time","body":"<p>use this code:</p>\n<pre><code>LinkedList &lt;Order&gt; tempOrders=new LinkedList();\nfor(Order o : collection){\n    tempOrders.add(o);\n}\n\nfor(Order o : tempOrders){\n    if(products&gt;0){\n             if(order.amounts&lt;=products){\n                  order.retailer.products+=order.amount;\n                  collection.remove(o);\n             }else{\n            traceln(&quot;nothing happens because order.amounts is bigger than products... if i had used a while loop it would be stuck&quot;);\n             }\n      }else{\n        traceln(&quot;another opportunity for my while loop to get stuck... nothing happens because products are equal to &quot;+products);\n      }\n}\n\nif(collection.size()&gt;0){\n    traceln(&quot;if i had used a while loop, it would be stuck right now&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":25486423,"reputation":23,"user_id":19282006,"display_name":"Souhail MNASRI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74283195,"answer_count":1,"score":0,"last_activity_date":1667349261,"creation_date":1667320261,"question_id":74278961,"body_markdown":"I don&#39;t know why the models stop working at this time of 127.33 days.\r\nThe model typically runs when I remove this code from the flowcharts, but when I added it, the model halted at the specified time.\r\n\r\nCode:\r\n\r\n    while ( !collection.isEmpty() )\r\n    {\r\n    Order order = collection.getFirst();\r\n    if ( products &gt; 0 )\r\n    {\r\n    if ( order.amount &lt;= products )\r\n    {\r\n    order.retailer.products += order.amount;\r\n    traceln(&quot;order.amount fel backorder: &quot; +order.amount + &quot; for : &quot; +order.retailer);\r\n    // remove the demand from the queue\r\n    collection.removeFirst();\r\n    }\r\n    }\r\n    }\r\n\r\n[![Problem Screenshot](https://i.stack.imgur.com/jWp0a.png)](https://i.stack.imgur.com/jWp0a.png)\r\n\r\nI&#39;ve attempted to add code using an event that checks the inventory level is greater than 0 every day, but I&#39;ve encountered the same issue.\r\n","title":"Anylogic model ceases execution at a specified time","body":"<p>I don't know why the models stop working at this time of 127.33 days.\nThe model typically runs when I remove this code from the flowcharts, but when I added it, the model halted at the specified time.</p>\n<p>Code:</p>\n<pre><code>while ( !collection.isEmpty() )\n{\nOrder order = collection.getFirst();\nif ( products &gt; 0 )\n{\nif ( order.amount &lt;= products )\n{\norder.retailer.products += order.amount;\ntraceln(&quot;order.amount fel backorder: &quot; +order.amount + &quot; for : &quot; +order.retailer);\n// remove the demand from the queue\ncollection.removeFirst();\n}\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jWp0a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jWp0a.png\" alt=\"Problem Screenshot\" /></a></p>\n<p>I've attempted to add code using an event that checks the inventory level is greater than 0 every day, but I've encountered the same issue.</p>\n"},{"tags":["java","javafx","colors"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667081978,"creation_date":1667081978,"answer_id":74249258,"question_id":74248917,"body_markdown":"Because [`Color`][1] implements `Interpolatable`, you can use it directly as a `KeyValue` in a `Timeline`, without the need for a custom interpolator.\r\n\r\n[![image][2]][2]\r\n\r\n```\r\nimport javafx.animation.Interpolator;\r\nimport javafx.animation.KeyFrame;\r\nimport javafx.animation.KeyValue;\r\nimport javafx.animation.Timeline;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.text.Text;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\n\r\n/**\r\n * @see https://stackoverflow.com/a/74249258/230513\r\n */\r\npublic class FillAnimation extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        stage.setTitle(&quot;FillAnimation&quot;);\r\n        var color1 = Color.RED;\r\n        var color2 = Color.BLUE;\r\n        var text = new Text(&quot;Hello, StackOverflow!&quot;);\r\n        text.setFill(color1);\r\n        text.setStyle(&quot;-fx-font-family: serif; -fx-font-size: 42;&quot;\r\n            + &quot;-fx-font-style: oblique; -fx-font-weight: bold&quot;);\r\n        var timeline = new Timeline();\r\n        var c = new KeyValue(text.fillProperty(), color2, Interpolator.EASE_BOTH);\r\n        var k = new KeyFrame(new Duration(1000), c);\r\n        timeline.getKeyFrames().add(k);\r\n        timeline.setCycleCount(Timeline.INDEFINITE);\r\n        timeline.setAutoReverse(true);\r\n        var root = new StackPane(text);\r\n        root.setPadding(new Insets(16));\r\n        var scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        timeline.play();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/paint/Color.html\r\n  [2]: https://i.stack.imgur.com/mEIA5.png","title":"How to make a text color transition without CSS?","body":"<p>Because <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/paint/Color.html\" rel=\"nofollow noreferrer\"><code>Color</code></a> implements <code>Interpolatable</code>, you can use it directly as a <code>KeyValue</code> in a <code>Timeline</code>, without the need for a custom interpolator.</p>\n<p><a href=\"https://i.stack.imgur.com/mEIA5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mEIA5.png\" alt=\"image\" /></a></p>\n<pre><code>import javafx.animation.Interpolator;\nimport javafx.animation.KeyFrame;\nimport javafx.animation.KeyValue;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\n/**\n * @see https://stackoverflow.com/a/74249258/230513\n */\npublic class FillAnimation extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        stage.setTitle(&quot;FillAnimation&quot;);\n        var color1 = Color.RED;\n        var color2 = Color.BLUE;\n        var text = new Text(&quot;Hello, StackOverflow!&quot;);\n        text.setFill(color1);\n        text.setStyle(&quot;-fx-font-family: serif; -fx-font-size: 42;&quot;\n            + &quot;-fx-font-style: oblique; -fx-font-weight: bold&quot;);\n        var timeline = new Timeline();\n        var c = new KeyValue(text.fillProperty(), color2, Interpolator.EASE_BOTH);\n        var k = new KeyFrame(new Duration(1000), c);\n        timeline.getKeyFrames().add(k);\n        timeline.setCycleCount(Timeline.INDEFINITE);\n        timeline.setAutoReverse(true);\n        var root = new StackPane(text);\n        root.setPadding(new Insets(16));\n        var scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n        timeline.play();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25060162,"reputation":59,"user_id":18969521,"display_name":"Providence"},"score":0,"creation_date":1667466175,"post_id":74283063,"comment_id":131174599,"body_markdown":"I see, so there&#39;s two different ways of doing it. Didn&#39;t realize you just had to put the values of the colors along with the text afterwards. This is good to know, Thank you @jewelsea!","body":"I see, so there&#39;s two different ways of doing it. Didn&#39;t realize you just had to put the values of the colors along with the text afterwards. This is good to know, Thank you @jewelsea!"}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667348144,"creation_date":1667347803,"answer_id":74283063,"question_id":74248917,"body_markdown":"[`Text`](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/text/Text.html) is a shape, so [`FillTransition`](https://openjfx.io/javadoc/19/javafx.graphics/javafx/animation/FillTransition.html) works on text, because it operates on any kind of shape.\r\n\r\nThis effect demonstrated in this answer is the same as that demonstrated in [trashgod&#39;s](https://stackoverflow.com/a/74249258/1155209) answer, (the code is based on trashgod&#39;s code), it just uses a transition rather than a timeline.\r\n\r\nThe example uses the default [interpolator](https://openjfx.io/javadoc/19/javafx.graphics/javafx/animation/Transition.html#interpolatorProperty), [`EASE_BOTH`](https://openjfx.io/javadoc/19/javafx.graphics/javafx/animation/Interpolator.html#EASE_BOTH), to interpolate between the interpolatable `Color` values, but you can set a custom interpolator if desired.\r\n\r\n    import javafx.animation.*;\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.text.Text;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class TextFillTransitionApp extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            var text = new Text(&quot;Hello, StackOverflow!&quot;);\r\n            text.getStyleClass().add(&quot;styled-text&quot;);\r\n    \r\n            FillTransition textFillTransition = new FillTransition(\r\n                    Duration.seconds(1),\r\n                    text,\r\n                    Color.RED,\r\n                    Color.BLUE\r\n            );\r\n    \r\n            textFillTransition.setCycleCount(Timeline.INDEFINITE);\r\n            textFillTransition.setAutoReverse(true);\r\n    \r\n            var layout = new StackPane(text);\r\n            layout.setPadding(new Insets(16));\r\n            layout.getStylesheets().add(CSS);\r\n    \r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n    \r\n            textFillTransition.play();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        private static final String CSS_DATA = &quot;data:text/css,&quot;;\r\n        private static final String CSS = CSS_DATA + // language=CSS\r\n                &quot;&quot;&quot;\r\n                .styled-text {\r\n                    -fx-font-family: serif;\r\n                    -fx-font-size: 42;\r\n                    -fx-font-style: oblique;\r\n                    -fx-font-weight: bold\r\n                }\r\n                &quot;&quot;&quot;;\r\n    }","title":"How to make a text color transition without CSS?","body":"<p><a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/text/Text.html\" rel=\"nofollow noreferrer\"><code>Text</code></a> is a shape, so <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/animation/FillTransition.html\" rel=\"nofollow noreferrer\"><code>FillTransition</code></a> works on text, because it operates on any kind of shape.</p>\n<p>This effect demonstrated in this answer is the same as that demonstrated in <a href=\"https://stackoverflow.com/a/74249258/1155209\">trashgod's</a> answer, (the code is based on trashgod's code), it just uses a transition rather than a timeline.</p>\n<p>The example uses the default <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/animation/Transition.html#interpolatorProperty\" rel=\"nofollow noreferrer\">interpolator</a>, <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/animation/Interpolator.html#EASE_BOTH\" rel=\"nofollow noreferrer\"><code>EASE_BOTH</code></a>, to interpolate between the interpolatable <code>Color</code> values, but you can set a custom interpolator if desired.</p>\n<pre><code>import javafx.animation.*;\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class TextFillTransitionApp extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        var text = new Text(&quot;Hello, StackOverflow!&quot;);\n        text.getStyleClass().add(&quot;styled-text&quot;);\n\n        FillTransition textFillTransition = new FillTransition(\n                Duration.seconds(1),\n                text,\n                Color.RED,\n                Color.BLUE\n        );\n\n        textFillTransition.setCycleCount(Timeline.INDEFINITE);\n        textFillTransition.setAutoReverse(true);\n\n        var layout = new StackPane(text);\n        layout.setPadding(new Insets(16));\n        layout.getStylesheets().add(CSS);\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n\n        textFillTransition.play();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    private static final String CSS_DATA = &quot;data:text/css,&quot;;\n    private static final String CSS = CSS_DATA + // language=CSS\n            &quot;&quot;&quot;\n            .styled-text {\n                -fx-font-family: serif;\n                -fx-font-size: 42;\n                -fx-font-style: oblique;\n                -fx-font-weight: bold\n            }\n            &quot;&quot;&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":25060162,"reputation":59,"user_id":18969521,"display_name":"Providence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74249258,"answer_count":2,"score":4,"last_activity_date":1667348144,"creation_date":1667078445,"question_id":74248917,"body_markdown":"I&#39;ve made a dummy project just to show what is trying to be made. I&#39;m going for a transition on color for text without CSS (as I just can&#39;t wrap my head around CSS). In the dummy project, the text starts from red \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthen goes to blue\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qKma0.png\r\n  [2]: https://i.stack.imgur.com/Ib6Vg.png\r\n\r\nFound out about ```FillTransition``` though that only works with shapes, so this would be a similar function. My other attempt was trying to get the RGB values of both colors then stick them in a ```do while``` with a new ```Color``` just to test it out though the transition is almost instant as the application starts so it changes the color but without transitioning effect. I&#39;m thinking of making an ```Timeline``` for this similar to the ```do while``` but I haven&#39;t tried that yet. \r\n\r\nBefore going into this what are some ways to make this effect?\r\n\r\n\r\nHere&#39;s the dummy code:\r\n\r\n    package application;\r\n    \t\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.text.Font;\r\n    import javafx.scene.text.Text;\r\n    import javafx.stage.Stage;\r\n\r\n\r\n    public class Main extends Application {\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\ttry {\r\n    \t\t\tBorderPane root = new BorderPane();\r\n\r\n    \t\t\tScene scene = new Scene(root,400,400);\r\n\r\n    \t\t\tStackPane stack = new StackPane();\r\n    \t\t\t\r\n    \t\t\tText text = new Text(&quot;Hello there StackOverflow, how are you? (:&quot;);\r\n    \t\t\t\r\n    \t\t\tColor color1 = Color.RED;\r\n    \t\t\tColor color2 = Color.BLUE;\r\n    \t\t\t\r\n    \t\t\tdouble r1 = color1.getRed();\r\n    \t\t\tdouble g1 = color1.getGreen();\r\n    \t\t\tdouble b1 = color1.getBlue();\r\n    \t\t\t\r\n    \t\t\tdouble r2 = color2.getRed();\r\n    \t\t\tdouble g2 = color2.getGreen();\r\n    \t\t\tdouble b2 = color2.getBlue();\r\n    \t\t\t\r\n    \t\t\tColor colorEffect = new Color(r1, g1, b1, 1.0);\r\n    \t\t\t\r\n    \t\t\tstack.setLayoutX(200);\r\n    \t\t\tstack.setLayoutY(200);\r\n    \t\t\t\r\n    \t\t\ttext.setFont(Font.font(16));\r\n    \t\t\ttext.setFill(colorEffect);\r\n    \t\t\t\r\n    \t\t\tstack.getChildren().add(text);\r\n    \t\t\troot.getChildren().add(stack);\r\n    \t\t\t\r\n    \t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n    \t\t\tprimaryStage.setScene(scene);\r\n    \t\t\tprimaryStage.show();\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\n","title":"How to make a text color transition without CSS?","body":"<p>I've made a dummy project just to show what is trying to be made. I'm going for a transition on color for text without CSS (as I just can't wrap my head around CSS). In the dummy project, the text starts from red</p>\n<p><a href=\"https://i.stack.imgur.com/qKma0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qKma0.png\" alt=\"enter image description here\" /></a></p>\n<p>then goes to blue</p>\n<p><a href=\"https://i.stack.imgur.com/Ib6Vg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ib6Vg.png\" alt=\"enter image description here\" /></a></p>\n<p>Found out about <code>FillTransition</code> though that only works with shapes, so this would be a similar function. My other attempt was trying to get the RGB values of both colors then stick them in a <code>do while</code> with a new <code>Color</code> just to test it out though the transition is almost instant as the application starts so it changes the color but without transitioning effect. I'm thinking of making an <code>Timeline</code> for this similar to the <code>do while</code> but I haven't tried that yet.</p>\n<p>Before going into this what are some ways to make this effect?</p>\n<p>Here's the dummy code:</p>\n<pre><code>package application;\n    \nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            BorderPane root = new BorderPane();\n\n            Scene scene = new Scene(root,400,400);\n\n            StackPane stack = new StackPane();\n            \n            Text text = new Text(&quot;Hello there StackOverflow, how are you? (:&quot;);\n            \n            Color color1 = Color.RED;\n            Color color2 = Color.BLUE;\n            \n            double r1 = color1.getRed();\n            double g1 = color1.getGreen();\n            double b1 = color1.getBlue();\n            \n            double r2 = color2.getRed();\n            double g2 = color2.getGreen();\n            double b2 = color2.getBlue();\n            \n            Color colorEffect = new Color(r1, g1, b1, 1.0);\n            \n            stack.setLayoutX(200);\n            stack.setLayoutY(200);\n            \n            text.setFont(Font.font(16));\n            text.setFill(colorEffect);\n            \n            stack.getChildren().add(text);\n            root.getChildren().add(stack);\n            \n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","jenkins","gradle","jenkins-pipeline","pitest"],"comments":[{"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"score":0,"creation_date":1667389917,"post_id":74282764,"comment_id":131154532,"body_markdown":"How does the task fail? Does pitest start or does the task fail before then? What error does it give? Do the unit tests run succesfully from your jenkins file? Are the jenkins nodes windows or unix?","body":"How does the task fail? Does pitest start or does the task fail before then? What error does it give? Do the unit tests run succesfully from your jenkins file? Are the jenkins nodes windows or unix?"},{"owner":{"account_id":20798953,"reputation":57,"user_id":15275428,"display_name":"Diana Barros"},"score":0,"creation_date":1667393040,"post_id":74282764,"comment_id":131155544,"body_markdown":"The task fails with the error: Process &#39;command &#39;C:\\Program Files\\Java\\jdk-11.0.9\\bin\\java.exe&#39;&#39; finished with exit value -1 (state: FAILED)\n\nThe unit tests are running successsfully and windows jenkins nodes are being used. \n\nI cannot understand the error message and I tried to run it in debug executing gradle pitest --debug and did not fin any usefull information. Do you have any ideas?","body":"The task fails with the error: Process &#39;command &#39;C:\\Program Files\\Java\\jdk-11.0.9\\bin\\java.exe&#39;&#39; finished with exit value -1 (state: FAILED)  The unit tests are running successsfully and windows jenkins nodes are being used.   I cannot understand the error message and I tried to run it in debug executing gradle pitest --debug and did not fin any usefull information. Do you have any ideas?"}],"owner":{"account_id":20798953,"reputation":57,"user_id":15275428,"display_name":"Diana Barros"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667346747,"creation_date":1667344579,"question_id":74282764,"body_markdown":"I have a gradle script that goes along these lines (some parts were ommited).\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        mavenCentral()\r\n        maven { setUrl(&quot;https://maven.vaadin.com/vaadin-prereleases&quot;) }\r\n        maven { setUrl(&quot;https://maven.vaadin.com/vaadin-addons&quot;) }\r\n    }\r\n    dependencies {\r\n        classpath &#39;info.solidsoft.gradle.pitest:gradle-pitest-plugin:1.7.4&#39;\r\n    }\r\n}\r\n\r\n\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &quot;$springBootVersion&quot;\r\n    id &#39;io.spring.dependency-management&#39; version &quot;1.0.14.RELEASE&quot;\r\n    id &#39;java&#39;\r\n    id &#39;com.vaadin&#39; version &quot;23.2.4&quot;\r\n    id &#39;jacoco&#39;\r\n    id &#39;info.solidsoft.pitest&#39; version &#39;1.7.4&#39;\r\n}\r\n\r\ndefaultTasks(&quot;clean&quot;, &quot;build&quot;)\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { setUrl(&quot;https://maven.vaadin.com/vaadin-prereleases&quot;) }\r\n    maven { setUrl(&quot;https://maven.vaadin.com/vaadin-addons&quot;) }\r\n}\r\n\r\nconfigurations {\r\n    developmentOnly\r\n    runtimeClasspath {\r\n        extendsFrom developmentOnly\r\n    }\r\n}\r\n\r\ndependencies {\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39; //faster reloas\r\n    implementation &quot;com.vaadin:vaadin-core:$vaadinVersion&quot;\r\n    implementation &quot;com.vaadin:vaadin:$vaadinVersion&quot;\r\n    implementation group: &#39;com.vaadin&#39;, name: &#39;vaadin-spring-boot-starter&#39;, version: &quot;$vaadinVersion&quot;\r\n    //implementation &quot;com.vaadin:vaadin-spring-boot-starter:$vaadinVersion&quot;\r\n    implementation &#39;org.vaadin.artur.exampledata:exampledata:3.4.0&#39;\r\n    implementation(&#39;com.vaadin:vaadin-spring-boot-starter&#39;)\r\n\r\n    implementation &#39;com.h2database:h2:2.1.214&#39;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-jpa:$springBootVersion&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-validation:$springBootVersion&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-security:$springBootVersion&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-devtools:$springBootVersion&quot;\r\n    implementation enforcedPlatform(&quot;com.vaadin:vaadin-bom:$vaadinVersion&quot;)\r\n\r\n    testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter&#39;, version: &quot;$junitVersion&quot;\r\n    testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-api&#39;, version: &quot;$junitVersion&quot;\r\n    testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-engine&#39;, version: &quot;$junitVersion&quot;\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n        exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        //implementation &quot;org.springframework.boot:spring-boot-starter-security:$springBootVersion&quot;\r\n    }\r\n    testImplementation &quot;org.springframework.boot:spring-boot-starter-test:$springBootVersion&quot;\r\n    //testImplementation &quot;io.github.bonigarcia:webdrivermanager:3.8.1&quot;\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &quot;com.vaadin:vaadin-bom:$vaadinVersion&quot;\r\n    }\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n    include &quot;**/**/*Test.class&quot;\r\n    finalizedBy jacocoTestReport\r\n}\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.deprecation = true\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\npitest {\r\n    println(&quot;Running mutation tests...&quot;)\r\n    junit5PluginVersion = &#39;0.15&#39;\r\n    targetClasses = [&#39;com.example.*&#39;]  //by default &quot;${project.group}.*&quot;\r\n    pitestVersion = &#39;1.7.4&#39;\r\n    threads = 4\r\n    outputFormats = [&#39;HTML&#39;]\r\n    timestampedReports = false\r\n}\r\n\r\n\r\nconfigurations {\r\n    developmentOnly\r\n    runtimeClasspath {\r\n        extendsFrom developmentOnly\r\n    }\r\n}\r\n```\r\n\r\nWhen I run gradle pitest from the cmd, I have no problem and the mutation tests are successfully executed.\r\n\r\nWhen I run it from Jenkins, using the following Jenkinsfile, the task fails:\r\n\r\n```\r\n#!/usr/bin/env groovy\r\n\r\npipeline {\r\n    agent any\r\n\r\n        stage(&#39;Unit Tests&#39;) {\r\n            steps {\r\n                script {\r\n                    if (isUnix()) {\r\n                        //Linux Environment\r\n                        sh &#39;./gradlew test&#39;\r\n                    }\r\n                    else {\r\n                        //Windows Environment\r\n                        bat &#39;./gradlew test&#39;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        stage(&#39;Run mutation tests&#39;) {\r\n            steps {\r\n                script {\r\n                    if (isUnix()) {\r\n                        //Linux Environment\r\n                        sh &#39;./gradlew pitest&#39;\r\n                    }\r\n                    else {\r\n                        //Windows Environment\r\n                        bat &#39;./gradlew pitest&#39;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI cannot find anything related to the error and I cannot understand what the problem might be: \r\n\r\n```\r\n2022-11-01T22:58:48.439+0000 [DEBUG] [org.gradle.process.internal.DefaultExecHandle] Changing state to: FAILED\r\n2022-11-01T22:58:48.439+0000 [DEBUG] [org.gradle.process.internal.DefaultExecHandle] Process &#39;command &#39;C:\\Program Files\\Java\\jdk-11.0.9\\bin\\java.exe&#39;&#39; finished with exit value -1 (state: FAILED)\r\n```\r\n\r\nMy Java Version is &quot;11.0.9&quot;. \r\n\r\nWhat might be failing in order for this error to happen.","title":"Gradle Pitest task works from cmd but fails in Jenkins","body":"<p>I have a gradle script that goes along these lines (some parts were ommited).</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n        maven { setUrl(&quot;https://maven.vaadin.com/vaadin-prereleases&quot;) }\n        maven { setUrl(&quot;https://maven.vaadin.com/vaadin-addons&quot;) }\n    }\n    dependencies {\n        classpath 'info.solidsoft.gradle.pitest:gradle-pitest-plugin:1.7.4'\n    }\n}\n\n\nplugins {\n    id 'org.springframework.boot' version &quot;$springBootVersion&quot;\n    id 'io.spring.dependency-management' version &quot;1.0.14.RELEASE&quot;\n    id 'java'\n    id 'com.vaadin' version &quot;23.2.4&quot;\n    id 'jacoco'\n    id 'info.solidsoft.pitest' version '1.7.4'\n}\n\ndefaultTasks(&quot;clean&quot;, &quot;build&quot;)\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n    maven { setUrl(&quot;https://maven.vaadin.com/vaadin-prereleases&quot;) }\n    maven { setUrl(&quot;https://maven.vaadin.com/vaadin-addons&quot;) }\n}\n\nconfigurations {\n    developmentOnly\n    runtimeClasspath {\n        extendsFrom developmentOnly\n    }\n}\n\ndependencies {\n    developmentOnly 'org.springframework.boot:spring-boot-devtools' //faster reloas\n    implementation &quot;com.vaadin:vaadin-core:$vaadinVersion&quot;\n    implementation &quot;com.vaadin:vaadin:$vaadinVersion&quot;\n    implementation group: 'com.vaadin', name: 'vaadin-spring-boot-starter', version: &quot;$vaadinVersion&quot;\n    //implementation &quot;com.vaadin:vaadin-spring-boot-starter:$vaadinVersion&quot;\n    implementation 'org.vaadin.artur.exampledata:exampledata:3.4.0'\n    implementation('com.vaadin:vaadin-spring-boot-starter')\n\n    implementation 'com.h2database:h2:2.1.214'\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-jpa:$springBootVersion&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-validation:$springBootVersion&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-security:$springBootVersion&quot;\n    implementation &quot;org.springframework.boot:spring-boot-devtools:$springBootVersion&quot;\n    implementation enforcedPlatform(&quot;com.vaadin:vaadin-bom:$vaadinVersion&quot;)\n\n    testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter', version: &quot;$junitVersion&quot;\n    testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: &quot;$junitVersion&quot;\n    testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-engine', version: &quot;$junitVersion&quot;\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n        //implementation &quot;org.springframework.boot:spring-boot-starter-security:$springBootVersion&quot;\n    }\n    testImplementation &quot;org.springframework.boot:spring-boot-starter-test:$springBootVersion&quot;\n    //testImplementation &quot;io.github.bonigarcia:webdrivermanager:3.8.1&quot;\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;com.vaadin:vaadin-bom:$vaadinVersion&quot;\n    }\n}\n\ntest {\n    useJUnitPlatform()\n    include &quot;**/**/*Test.class&quot;\n    finalizedBy jacocoTestReport\n}\n\ntasks.withType(JavaCompile) {\n    options.deprecation = true\n    options.encoding = 'UTF-8'\n}\n\npitest {\n    println(&quot;Running mutation tests...&quot;)\n    junit5PluginVersion = '0.15'\n    targetClasses = ['com.example.*']  //by default &quot;${project.group}.*&quot;\n    pitestVersion = '1.7.4'\n    threads = 4\n    outputFormats = ['HTML']\n    timestampedReports = false\n}\n\n\nconfigurations {\n    developmentOnly\n    runtimeClasspath {\n        extendsFrom developmentOnly\n    }\n}\n</code></pre>\n<p>When I run gradle pitest from the cmd, I have no problem and the mutation tests are successfully executed.</p>\n<p>When I run it from Jenkins, using the following Jenkinsfile, the task fails:</p>\n<pre><code>#!/usr/bin/env groovy\n\npipeline {\n    agent any\n\n        stage('Unit Tests') {\n            steps {\n                script {\n                    if (isUnix()) {\n                        //Linux Environment\n                        sh './gradlew test'\n                    }\n                    else {\n                        //Windows Environment\n                        bat './gradlew test'\n                    }\n                }\n            }\n        }\n\n        stage('Run mutation tests') {\n            steps {\n                script {\n                    if (isUnix()) {\n                        //Linux Environment\n                        sh './gradlew pitest'\n                    }\n                    else {\n                        //Windows Environment\n                        bat './gradlew pitest'\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I cannot find anything related to the error and I cannot understand what the problem might be:</p>\n<pre><code>2022-11-01T22:58:48.439+0000 [DEBUG] [org.gradle.process.internal.DefaultExecHandle] Changing state to: FAILED\n2022-11-01T22:58:48.439+0000 [DEBUG] [org.gradle.process.internal.DefaultExecHandle] Process 'command 'C:\\Program Files\\Java\\jdk-11.0.9\\bin\\java.exe'' finished with exit value -1 (state: FAILED)\n</code></pre>\n<p>My Java Version is &quot;11.0.9&quot;.</p>\n<p>What might be failing in order for this error to happen.</p>\n"},{"tags":["java","codenameone"],"comments":[{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1667360873,"post_id":74282844,"comment_id":131146936,"body_markdown":"Is this a problem with the simulator or the device? Notice you can debug the CEF `BrowserComponent` in Chrome by navigating to http://localhost:8088/","body":"Is this a problem with the simulator or the device? Notice you can debug the CEF <code>BrowserComponent</code> in Chrome by navigating to <a href=\"http://localhost:8088/\" rel=\"nofollow noreferrer\">localhost:8088</a>"},{"owner":{"account_id":3009606,"reputation":61,"user_id":2553403,"display_name":"IfeFromKolopay"},"score":0,"creation_date":1667377476,"post_id":74282844,"comment_id":131150213,"body_markdown":"CEF doesn&#39;t work on my simulator I keep getting Failed to create CEF browser on my mac os  so it makes it harder for me to debug since I have to build to test my app","body":"CEF doesn&#39;t work on my simulator I keep getting Failed to create CEF browser on my mac os  so it makes it harder for me to debug since I have to build to test my app"},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1667445788,"post_id":74282844,"comment_id":131170627,"body_markdown":"Are you using Maven or Ant? Is this an M1 Mac or an Intel Mac?","body":"Are you using Maven or Ant? Is this an M1 Mac or an Intel Mac?"},{"owner":{"account_id":3009606,"reputation":61,"user_id":2553403,"display_name":"IfeFromKolopay"},"score":0,"creation_date":1667477505,"post_id":74282844,"comment_id":131178560,"body_markdown":"M1 mac, I am using Maven","body":"M1 mac, I am using Maven"},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1667534177,"post_id":74282844,"comment_id":131194072,"body_markdown":"CEF isn&#39;t supported on M1 yet. We&#39;re working on that. Try downloading an Intel JDK as a workaround. We&#39;re working on addressing this.","body":"CEF isn&#39;t supported on M1 yet. We&#39;re working on that. Try downloading an Intel JDK as a workaround. We&#39;re working on addressing this."}],"owner":{"account_id":3009606,"reputation":61,"user_id":2553403,"display_name":"IfeFromKolopay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667345545,"creation_date":1667345545,"question_id":74282844,"body_markdown":"How do i set the cross origin policy for my browser component. I believe that is the reason https://accounts.google.com/gsi/client is not loading my google sign in button on my codenameone browsercomponent","title":"Codenameone Browercomponent Google Sign in","body":"<p>How do i set the cross origin policy for my browser component. I believe that is the reason <a href=\"https://accounts.google.com/gsi/client\" rel=\"nofollow noreferrer\">https://accounts.google.com/gsi/client</a> is not loading my google sign in button on my codenameone browsercomponent</p>\n"},{"tags":["java","sql","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":2,"creation_date":1585562097,"post_id":60928001,"comment_id":107793437,"body_markdown":"You probably have to to next value before you can do current value.","body":"You probably have to to next value before you can do current value."},{"owner":{"account_id":5209814,"reputation":31,"user_id":4166607,"accept_rate":0,"display_name":"Klapek"},"score":1,"creation_date":1585562276,"post_id":60928001,"comment_id":107793530,"body_markdown":"But why hibernate doesn&#39;t handle this?","body":"But why hibernate doesn&#39;t handle this?"},{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1585571208,"post_id":60928001,"comment_id":107797930,"body_markdown":"@Klapek Look at [this](https://stackoverflow.com/questions/60488292/why-does-hibernate-execute-select-currval-in-persist-occasionally)","body":"@Klapek Look at <a href=\"https://stackoverflow.com/questions/60488292/why-does-hibernate-execute-select-currval-in-persist-occasionally\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":13230107,"reputation":503,"user_id":9554004,"display_name":"L&#225;szl&#243; T&#243;th"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667345387,"creation_date":1667345387,"answer_id":74282826,"question_id":60928001,"body_markdown":"If you use BIGSERIAL, than you shouldn&#39;t create sequence. Postgres create one.","title":"Current value of sequence &quot;PUBLIC.TEST_ID_SEQ&quot; is not yet defined in this session; SQL statement: select currval(&#39;test_id_seq&#39;)","body":"<p>If you use BIGSERIAL, than you shouldn't create sequence. Postgres create one.</p>\n"}],"owner":{"account_id":5209814,"reputation":31,"user_id":4166607,"accept_rate":0,"display_name":"Klapek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667345387,"creation_date":1585562020,"question_id":60928001,"body_markdown":"I have problem with Postgres and Hibernate, it works perfectly fine in production code, but when I try to write integration tests, i get following error during entity save:\r\n\r\n     Current value of sequence &quot;PUBLIC.TEST_ID_SEQ&quot; is not yet defined in this session; SQL statement: select currval(&#39;test_id_seq&#39;)\r\n\r\nschema.sql:\r\n\r\n \r\n\r\n       CREATE TABLE public.test\r\n    (\r\n        id        bigserial NOT NULL,\r\n        description      varchar   NULL,\r\n        CONSTRAINT test_pk PRIMARY KEY (id)\r\n    );\r\n    CREATE SEQUENCE public.test_id_seq MINVALUE 1;\r\n\r\nEntity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;test&quot;)\r\n    public class Test {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;description&quot;)\r\n        private String description;\r\n    }\r\n\r\nI am saving new entity with standard CrudRepository.save() method. What is wrong? Why in production code it works fine?\r\n","title":"Current value of sequence &quot;PUBLIC.TEST_ID_SEQ&quot; is not yet defined in this session; SQL statement: select currval(&#39;test_id_seq&#39;)","body":"<p>I have problem with Postgres and Hibernate, it works perfectly fine in production code, but when I try to write integration tests, i get following error during entity save:</p>\n\n<pre><code> Current value of sequence \"PUBLIC.TEST_ID_SEQ\" is not yet defined in this session; SQL statement: select currval('test_id_seq')\n</code></pre>\n\n<p>schema.sql:</p>\n\n<pre><code>   CREATE TABLE public.test\n(\n    id        bigserial NOT NULL,\n    description      varchar   NULL,\n    CONSTRAINT test_pk PRIMARY KEY (id)\n);\nCREATE SEQUENCE public.test_id_seq MINVALUE 1;\n</code></pre>\n\n<p>Entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"test\")\npublic class Test {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\", nullable = false)\n    private Long id;\n\n    @Column(name = \"description\")\n    private String description;\n}\n</code></pre>\n\n<p>I am saving new entity with standard CrudRepository.save() method. What is wrong? Why in production code it works fine?</p>\n"},{"tags":["java","sql","spring","postgresql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":13230107,"reputation":503,"user_id":9554004,"display_name":"L&#225;szl&#243; T&#243;th"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667345120,"creation_date":1667345120,"answer_id":74282805,"question_id":70215686,"body_markdown":"Yes hibernate default way cache seq values.\r\n\r\nDefault cached values are 50. But I didn&#39;t think it run one seq query twice.\r\n\r\npersistence.xml:\r\nthis settings said old style or new style seq usage\r\n\r\n    &lt;property name=&quot;hibernate.id.new_generator_mappings&quot; value=&quot;false&quot;/&gt;\r\n\r\nIf you use GenericGenerator, then it works without cache, so all persist fetch a seq value!\r\n\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;some_seq_generator&quot;)\r\n    \t@GenericGenerator(name = &quot;some_seq_generator&quot;, strategy = &quot;sequence&quot;, parameters = { @Parameter(name = &quot;sequence&quot;, value = &quot;some_seq&quot;) })\r\n\r\n","title":"Hibernate Sequence Generator requests 2 values","body":"<p>Yes hibernate default way cache seq values.</p>\n<p>Default cached values are 50. But I didn't think it run one seq query twice.</p>\n<p>persistence.xml:\nthis settings said old style or new style seq usage</p>\n<pre><code>&lt;property name=&quot;hibernate.id.new_generator_mappings&quot; value=&quot;false&quot;/&gt;\n</code></pre>\n<p>If you use GenericGenerator, then it works without cache, so all persist fetch a seq value!</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;some_seq_generator&quot;)\n    @GenericGenerator(name = &quot;some_seq_generator&quot;, strategy = &quot;sequence&quot;, parameters = { @Parameter(name = &quot;sequence&quot;, value = &quot;some_seq&quot;) })\n</code></pre>\n"}],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74282805,"answer_count":1,"score":0,"last_activity_date":1667345120,"creation_date":1638540723,"question_id":70215686,"body_markdown":"I have found a strange case about Hibernate Sequence Generator. When I save the entity with repository Hibernate performs two queries.\r\n\r\n```sql\r\nselect nextval (&#39;some_sequence&#39;)\r\nselect nextval (&#39;some_sequence&#39;)\r\n```\r\n\r\nIs is some Hibernate pre-caching behavior? Can it be tuned?\r\n\r\nHere is the entity:\r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;host_black_list&quot;)\r\npublic class RestrictedHost {\r\n    @Id\r\n    @GeneratedValue(\r\n        strategy = SEQUENCE,\r\n        generator = &quot;restricted_host_generator&quot;\r\n    )\r\n    @SequenceGenerator(\r\n        name = &quot;restricted_host_generator&quot;,\r\n        sequenceName = &quot;some_sequence&quot;\r\n    )\r\n    @Column(name = &quot;host_black_list_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;host_name&quot;)\r\n    @NotNull\r\n    private String name;\r\n\r\n    @Column(name = &quot;msisdn_count&quot;)\r\n    @NotNull\r\n    private long msisdnCount;\r\n}\r\n```\r\n\r\nAnd here is the test code:\r\n\r\n```java\r\nfinal var id = transactionTemplate.execute(status -&gt; {\r\n    RestrictedHost restrictedHost = new RestrictedHost();\r\n    restrictedHost.setName(&quot;some_name&quot;);\r\n    restrictedHost.setMsisdnCount(156);\r\n    final var host = restrictedHostRepository.saveAndFlush(restrictedHost);\r\n    return host.getId();\r\n});\r\n```\r\n\r\nI use Testcontainers + PostgreSQL 9.6.8","title":"Hibernate Sequence Generator requests 2 values","body":"<p>I have found a strange case about Hibernate Sequence Generator. When I save the entity with repository Hibernate performs two queries.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select nextval ('some_sequence')\nselect nextval ('some_sequence')\n</code></pre>\n<p>Is is some Hibernate pre-caching behavior? Can it be tuned?</p>\n<p>Here is the entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@Table(name = &quot;host_black_list&quot;)\npublic class RestrictedHost {\n    @Id\n    @GeneratedValue(\n        strategy = SEQUENCE,\n        generator = &quot;restricted_host_generator&quot;\n    )\n    @SequenceGenerator(\n        name = &quot;restricted_host_generator&quot;,\n        sequenceName = &quot;some_sequence&quot;\n    )\n    @Column(name = &quot;host_black_list_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;host_name&quot;)\n    @NotNull\n    private String name;\n\n    @Column(name = &quot;msisdn_count&quot;)\n    @NotNull\n    private long msisdnCount;\n}\n</code></pre>\n<p>And here is the test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var id = transactionTemplate.execute(status -&gt; {\n    RestrictedHost restrictedHost = new RestrictedHost();\n    restrictedHost.setName(&quot;some_name&quot;);\n    restrictedHost.setMsisdnCount(156);\n    final var host = restrictedHostRepository.saveAndFlush(restrictedHost);\n    return host.getId();\n});\n</code></pre>\n<p>I use Testcontainers + PostgreSQL 9.6.8</p>\n"},{"tags":["java","spring","microservices","spring-cloud-netflix"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1466068932,"post_id":37854185,"comment_id":63168203,"body_markdown":"Don&#39;t secure those services, or allow access to everyone from a certain IP address. Just write the correct security rules.","body":"Don&#39;t secure those services, or allow access to everyone from a certain IP address. Just write the correct security rules."},{"owner":{"account_id":2986621,"reputation":434,"user_id":2535261,"accept_rate":82,"display_name":"Art"},"score":1,"creation_date":1466069166,"post_id":37854185,"comment_id":63168363,"body_markdown":"@M.Deinum... these services need to be secured as they will be called from external clients as well like mobiles/REST.","body":"@M.Deinum... these services need to be secured as they will be called from external clients as well like mobiles/REST."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1466069193,"post_id":37854185,"comment_id":63168386,"body_markdown":"As I mentioned just write the proper security rules, if internal (or specific IP range) allow access, else a token is needed. So it all comes down to proper security rules, instead of trying to work around it.","body":"As I mentioned just write the proper security rules, if internal (or specific IP range) allow access, else a token is needed. So it all comes down to proper security rules, instead of trying to work around it."},{"owner":{"account_id":2986621,"reputation":434,"user_id":2535261,"accept_rate":82,"display_name":"Art"},"score":0,"creation_date":1466069308,"post_id":37854185,"comment_id":63168471,"body_markdown":"@M.Deinum so are you saying to write a rule like if Ip is localhost then just dont authenticate and authorize everything?","body":"@M.Deinum so are you saying to write a rule like if Ip is localhost then just dont authenticate and authorize everything?"},{"owner":{"account_id":2986621,"reputation":434,"user_id":2535261,"accept_rate":82,"display_name":"Art"},"score":0,"creation_date":1466069349,"post_id":37854185,"comment_id":63168502,"body_markdown":"@M.Deinum ohh yeas..i forgot this point in spring security. Looks correct let me try this one. Thanks!!!","body":"@M.Deinum ohh yeas..i forgot this point in spring security. Looks correct let me try this one. Thanks!!!"},{"owner":{"account_id":2986621,"reputation":434,"user_id":2535261,"accept_rate":82,"display_name":"Art"},"score":0,"creation_date":1466157875,"post_id":37854185,"comment_id":63212437,"body_markdown":"@M.Deinum I found that I can use IP for this..but now if I am using a proxy then it will be always localIP, in that case I can use X-forwarded-for, so can you tellme how good and bullet proof is to use X-Forwarded-For to check for localhost. If someone has included tht header in the request than those request will be authenticated, so only if X-forwarded-For contain localhost then it will not be authenticated. Wht u say?","body":"@M.Deinum I found that I can use IP for this..but now if I am using a proxy then it will be always localIP, in that case I can use X-forwarded-for, so can you tellme how good and bullet proof is to use X-Forwarded-For to check for localhost. If someone has included tht header in the request than those request will be authenticated, so only if X-forwarded-For contain localhost then it will not be authenticated. Wht u say?"},{"owner":{"account_id":222716,"reputation":2264,"user_id":2461073,"display_name":"Sean Farmar"},"score":1,"creation_date":1466168757,"post_id":37854185,"comment_id":63219529,"body_markdown":"I would recommend not allowing microservices to use synchronous communication at all (between microservices, ok for UI/Client to use an api) (use messaging and pub/sub instead).","body":"I would recommend not allowing microservices to use synchronous communication at all (between microservices, ok for UI/Client to use an api) (use messaging and pub/sub instead)."},{"owner":{"account_id":2986621,"reputation":434,"user_id":2535261,"accept_rate":82,"display_name":"Art"},"score":0,"creation_date":1466195441,"post_id":37854185,"comment_id":63234296,"body_markdown":"@SeanFarmar I agree with you, we need to go with Async way. But that will require a lot of change and due to other constraints I cant go with that, so need to do REST only between services.","body":"@SeanFarmar I agree with you, we need to go with Async way. But that will require a lot of change and due to other constraints I cant go with that, so need to do REST only between services."},{"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"score":0,"creation_date":1518702132,"post_id":37854185,"comment_id":84620361,"body_markdown":"RaghavTandon,  @M.Deinum I have the same scenario. Can you please guide me how can I implement the IP rule?","body":"RaghavTandon,  @M.Deinum I have the same scenario. Can you please guide me how can I implement the IP rule?"},{"owner":{"account_id":2986621,"reputation":434,"user_id":2535261,"accept_rate":82,"display_name":"Art"},"score":1,"creation_date":1519072004,"post_id":37854185,"comment_id":84751181,"body_markdown":"@mav3n Can you trust your services internally? If yes, then no need to add any security filters else you need to pass some sort of token generated to downstream service which will again be authenticated and forms the Auth principal.","body":"@mav3n Can you trust your services internally? If yes, then no need to add any security filters else you need to pass some sort of token generated to downstream service which will again be authenticated and forms the Auth principal."},{"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"score":0,"creation_date":1519103038,"post_id":37854185,"comment_id":84760306,"body_markdown":"@RaghavTandon Thanks for your reply. Yes, I am doing the same, passing the auth token to downstream service. Figured out that IP whitelisting won&#39;t be a solution to this as UI will also be on the same IP and I don&#39;t want it to bypass auth for UI.","body":"@RaghavTandon Thanks for your reply. Yes, I am doing the same, passing the auth token to downstream service. Figured out that IP whitelisting won&#39;t be a solution to this as UI will also be on the same IP and I don&#39;t want it to bypass auth for UI."}],"answers":[{"comments":[{"owner":{"account_id":2986621,"reputation":434,"user_id":2535261,"accept_rate":82,"display_name":"Art"},"score":0,"creation_date":1466157757,"post_id":37857198,"comment_id":63212353,"body_markdown":"right now i am not using OAuth. But I think the above comments where i can bypass security for IP address can be a good thing to do.","body":"right now i am not using OAuth. But I think the above comments where i can bypass security for IP address can be a good thing to do."}],"tags":[],"owner":{"account_id":7805062,"reputation":840,"user_id":5903220,"display_name":"cdelmas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1466074650,"creation_date":1466074650,"answer_id":37857198,"question_id":37854185,"body_markdown":"In OAuth2, there is a flow dedicated to server-to-server authorization (Client Credentials Grant Flow). The calling service is a regular client for the second (the resource server), so it must get a token and use it.\r\n\r\nIn a nutshell, the client tells the authorization server who is he (using its client id / app id), the authorization server gives it a token, which can be used to query the resource server.\r\n\r\nI have a resource in french [here][1], the sequence diagram is in english and should be helpful. You can find more information about this flow easily.\r\n\r\nFor the Spring Security specific stuff, see the [spring-security-oauth2 doc][2].\r\n\r\n\r\n  [1]: http://www.bubblecode.net/fr/2016/01/22/comprendre-oauth2/#Lrsquoautorisation_serveur_serveur_Client_Credentials_Grant\r\n  [2]: http://projects.spring.io/spring-security-oauth/docs/oauth2.html","title":"Server to Server communication in microservices","body":"<p>In OAuth2, there is a flow dedicated to server-to-server authorization (Client Credentials Grant Flow). The calling service is a regular client for the second (the resource server), so it must get a token and use it.</p>\n\n<p>In a nutshell, the client tells the authorization server who is he (using its client id / app id), the authorization server gives it a token, which can be used to query the resource server.</p>\n\n<p>I have a resource in french <a href=\"http://www.bubblecode.net/fr/2016/01/22/comprendre-oauth2/#Lrsquoautorisation_serveur_serveur_Client_Credentials_Grant\" rel=\"nofollow\">here</a>, the sequence diagram is in english and should be helpful. You can find more information about this flow easily.</p>\n\n<p>For the Spring Security specific stuff, see the <a href=\"http://projects.spring.io/spring-security-oauth/docs/oauth2.html\" rel=\"nofollow\">spring-security-oauth2 doc</a>.</p>\n"},{"tags":[],"owner":{"account_id":1575780,"reputation":10830,"user_id":1462282,"accept_rate":100,"display_name":"Sahil Chhabra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519103421,"creation_date":1519103421,"answer_id":48878242,"question_id":37854185,"body_markdown":"Ideally, in the Microservices architecture we should not call the other services within a service. We should instead use the **Publisher/Subscriber** approach for server to server communication.\r\n\r\nEven though if you wish to do it, just **pass the Auth-Token as a Header used for authenticating the service to the downstream service**, where the token will again be authenticated and thus will give response once authenticated.","title":"Server to Server communication in microservices","body":"<p>Ideally, in the Microservices architecture we should not call the other services within a service. We should instead use the <strong>Publisher/Subscriber</strong> approach for server to server communication.</p>\n\n<p>Even though if you wish to do it, just <strong>pass the Auth-Token as a Header used for authenticating the service to the downstream service</strong>, where the token will again be authenticated and thus will give response once authenticated.</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667343845,"creation_date":1667343845,"answer_id":74282689,"question_id":37854185,"body_markdown":"There are several approuch:\r\n - [Key Authentication Security Patterns In Microservice Architecture](https://www.talentica.com/blogs/key-authentication-security-patterns-in-microservice-architecture/)\r\n - [Authentication between microservices: Is it really that hard?](https://www.doit.com/authentication-between-microservices-is-it-really-that-hard/)\r\n\r\nThe more security You need, the more complicated solution.\r\nForm direct authentication with the trusted subsystem to Publisher/Subscriber approach or Mutual TLS (mTLS).","title":"Server to Server communication in microservices","body":"<p>There are several approuch:</p>\n<ul>\n<li><a href=\"https://www.talentica.com/blogs/key-authentication-security-patterns-in-microservice-architecture/\" rel=\"nofollow noreferrer\">Key Authentication Security Patterns In Microservice Architecture</a></li>\n<li><a href=\"https://www.doit.com/authentication-between-microservices-is-it-really-that-hard/\" rel=\"nofollow noreferrer\">Authentication between microservices: Is it really that hard?</a></li>\n</ul>\n<p>The more security You need, the more complicated solution.\nForm direct authentication with the trusted subsystem to Publisher/Subscriber approach or Mutual TLS (mTLS).</p>\n"}],"owner":{"account_id":2986621,"reputation":434,"user_id":2535261,"accept_rate":82,"display_name":"Art"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3562,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":37857198,"answer_count":3,"score":5,"last_activity_date":1667343845,"creation_date":1466066764,"question_id":37854185,"body_markdown":"I am working on microservice architecture, but I am facing some challenges in that.\r\n\r\nFirst let me give you a brief about the architecture.\r\n\r\n0. User logs in and get a signed token which will be used to call all REST APIS.\r\n\r\n1. There will be lot of API server where APIs are secured using Spring security and Authorized as per the user roles.\r\n\r\n2. Services have to interact with each other to get/update information.\r\n\r\n3. Every service will have the power to validate a token issue by auth server.\r\n\r\nProblem:-\r\n\r\n1. Everything works fine if User logs in and the same token is used and passsed to every service which is validated across.So, services dont need to trust each other as the token is passed.\r\n\r\n2. Now, the problem is there are some services which needs to be called from server itself without logging in. Lets say a server to server call. How will a service authenticate and authorize the call from other services.\r\n\r\nI read about spring Microservices but Zuul is also not the saviour here as every API server has spring security embedded and not just the API gateway.\r\n\r\nOne solution can be that every service has its own default user with certaing roles which is used to Login-&gt;Fetch a token-&gt;call other server api with token.\r\n\r\nCan you please give me some pointers in server to server calls where each server is authenticated and authorized using spring security.\r\n\r\nThanks. ","title":"Server to Server communication in microservices","body":"<p>I am working on microservice architecture, but I am facing some challenges in that.</p>\n\n<p>First let me give you a brief about the architecture.</p>\n\n<ol>\n<li><p>User logs in and get a signed token which will be used to call all REST APIS.</p></li>\n<li><p>There will be lot of API server where APIs are secured using Spring security and Authorized as per the user roles.</p></li>\n<li><p>Services have to interact with each other to get/update information.</p></li>\n<li><p>Every service will have the power to validate a token issue by auth server.</p></li>\n</ol>\n\n<p>Problem:-</p>\n\n<ol>\n<li><p>Everything works fine if User logs in and the same token is used and passsed to every service which is validated across.So, services dont need to trust each other as the token is passed.</p></li>\n<li><p>Now, the problem is there are some services which needs to be called from server itself without logging in. Lets say a server to server call. How will a service authenticate and authorize the call from other services.</p></li>\n</ol>\n\n<p>I read about spring Microservices but Zuul is also not the saviour here as every API server has spring security embedded and not just the API gateway.</p>\n\n<p>One solution can be that every service has its own default user with certaing roles which is used to Login->Fetch a token->call other server api with token.</p>\n\n<p>Can you please give me some pointers in server to server calls where each server is authenticated and authorized using spring security.</p>\n\n<p>Thanks. </p>\n"},{"tags":["java","properties"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1667343325,"post_id":74282630,"comment_id":131144283,"body_markdown":"How do you load the properties file? Using `java.util.Properties`?","body":"How do you load the properties file? Using <code>java.util.Properties</code>?"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667343436,"creation_date":1667343436,"answer_id":74282646,"question_id":74282630,"body_markdown":"Assuming you use `java.util.Properties` to load that file, you can use the [stringPropertyNames][1] method to iterate over all keys to find the one you want:\r\n\r\n\r\n    Properties p = ...\r\n    for(String a:p.stringPropertyNames()) {\r\n        if(a.contains(&quot;1234&quot;)) {\r\n            //do a thing\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#stringPropertyNames()","title":"is there a way to skip half of key in the properties file?","body":"<p>Assuming you use <code>java.util.Properties</code> to load that file, you can use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#stringPropertyNames()\" rel=\"nofollow noreferrer\">stringPropertyNames</a> method to iterate over all keys to find the one you want:</p>\n<pre><code>Properties p = ...\nfor(String a:p.stringPropertyNames()) {\n    if(a.contains(&quot;1234&quot;)) {\n        //do a thing\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26800384,"reputation":1,"user_id":20392415,"display_name":"Alex Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667343436,"creation_date":1667343268,"question_id":74282630,"body_markdown":"Here is the sample of properties file\r\n\r\nVN1234:1234 = A\r\n\r\nRight now, we need to verify two keys (VN1234:1234) are exactly same to get value A;\r\n\r\nBut new requirement is we only need to check 1234 to get value A.\r\n\r\nAny help will be much appreciated.\r\n\r\n\r\nI tried to delete the first part of the key, but it is not allowed....","title":"is there a way to skip half of key in the properties file?","body":"<p>Here is the sample of properties file</p>\n<p>VN1234:1234 = A</p>\n<p>Right now, we need to verify two keys (VN1234:1234) are exactly same to get value A;</p>\n<p>But new requirement is we only need to check 1234 to get value A.</p>\n<p>Any help will be much appreciated.</p>\n<p>I tried to delete the first part of the key, but it is not allowed....</p>\n"},{"tags":["java","memory","interface"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667342002,"post_id":74282459,"comment_id":131144034,"body_markdown":"The memory requirements will not change because you reference the object as a less specified class. That&#39;s because the object does not change. `Alpha object = new Delta();` vs `Delta object = new Delta();` would create the same object. As would `Object object = new Delta();` The object doesn&#39;t change.","body":"The memory requirements will not change because you reference the object as a less specified class. That&#39;s because the object does not change. <code>Alpha object = new Delta();</code> vs <code>Delta object = new Delta();</code> would create the same object. As would <code>Object object = new Delta();</code> The object doesn&#39;t change."},{"owner":{"account_id":20707182,"reputation":11,"user_id":15204753,"display_name":"Jeffrey Kjelstrom"},"score":0,"creation_date":1667342407,"post_id":74282459,"comment_id":131144124,"body_markdown":"So, the method d wouldn&#39;t be able to be accessed, but it&#39;s still defined with the rest of the object?","body":"So, the method d wouldn&#39;t be able to be accessed, but it&#39;s still defined with the rest of the object?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1667343126,"post_id":74282459,"comment_id":131144250,"body_markdown":"imagine you overwrite method `c` in Delta as `void c(){ d(); }` - that is totally possible. Thus, `d` is present in memory.","body":"imagine you overwrite method <code>c</code> in Delta as <code>void c(){ d(); }</code> - that is totally possible. Thus, <code>d</code> is present in memory."}],"answers":[{"tags":[],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1667342177,"creation_date":1667342177,"answer_id":74282520,"question_id":74282459,"body_markdown":"Yes, the memory will be allocated for the method &#39;d&#39;. It won&#39;t be &#39;visible&#39; if you try to access it via Alpha reference without casting. But because you are creating an object of type Delta the method &#39;d&#39; is there. ","title":"Java interfaces and memory accolcation","body":"<p>Yes, the memory will be allocated for the method 'd'. It won't be 'visible' if you try to access it via Alpha reference without casting. But because you are creating an object of type Delta the method 'd' is there.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667343142,"creation_date":1667343142,"answer_id":74282611,"question_id":74282459,"body_markdown":"&gt; will the compiler allocate memory for the method d even though the reference will not be able to access it?\r\n\r\nNo, but this has nothing to do with the reference.  The compiler does not allocate memory for methods for each object, period.  Objects on the heap consume a constant amount of memory plus the memory for their _fields_.  You can see more details e.g. here: https://github.com/openjdk/jol.\r\n\r\nEach method is loaded into memory once for the entire class; each individual object (e.g. `new Delta()`) does not load the method again.","title":"Java interfaces and memory accolcation","body":"<blockquote>\n<p>will the compiler allocate memory for the method d even though the reference will not be able to access it?</p>\n</blockquote>\n<p>No, but this has nothing to do with the reference.  The compiler does not allocate memory for methods for each object, period.  Objects on the heap consume a constant amount of memory plus the memory for their <em>fields</em>.  You can see more details e.g. here: <a href=\"https://github.com/openjdk/jol\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jol</a>.</p>\n<p>Each method is loaded into memory once for the entire class; each individual object (e.g. <code>new Delta()</code>) does not load the method again.</p>\n"}],"owner":{"account_id":20707182,"reputation":11,"user_id":15204753,"display_name":"Jeffrey Kjelstrom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74282520,"answer_count":2,"score":-2,"last_activity_date":1667343142,"creation_date":1667341684,"question_id":74282459,"body_markdown":"Suppose you have a class Delta that implements interface Alpha. Alpha has methods a, b, and c, and Delta defines an additional method d. If the line &quot;Alpha object = new Delta()&quot; is written, will the compiler allocate memory for the method d even though the reference will not be able to access it?","title":"Java interfaces and memory accolcation","body":"<p>Suppose you have a class Delta that implements interface Alpha. Alpha has methods a, b, and c, and Delta defines an additional method d. If the line &quot;Alpha object = new Delta()&quot; is written, will the compiler allocate memory for the method d even though the reference will not be able to access it?</p>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1667337103,"post_id":74281746,"comment_id":131142978,"body_markdown":"See [here](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value): the code initializes `array` to a new instance, **which is local to the method**, so whatever called this function is now referring to a different instance.  When the method returns the local `array` goes out of scope and is discarded.","body":"See <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">here</a>: the code initializes <code>array</code> to a new instance, <b>which is local to the method</b>, so whatever called this function is now referring to a different instance.  When the method returns the local <code>array</code> goes out of scope and is discarded."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667339007,"post_id":74281746,"comment_id":131143447,"body_markdown":"By the way, don&#39;t close a Scanner you&#39;ve created with System.in, you won&#39;t be able to read any more characters even with another Scanner as System.in itself will be closed.","body":"By the way, don&#39;t close a Scanner you&#39;ve created with System.in, you won&#39;t be able to read any more characters even with another Scanner as System.in itself will be closed."}],"answers":[{"tags":[],"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667337605,"creation_date":1667337605,"answer_id":74281911,"question_id":74281746,"body_markdown":"You could change your method signature and return the array you build from the method:\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n        double[] arrayFromMethod = MyClass.buildArray();\r\n        System.out.println(Arrays.toString(arrayFromMethod));\r\n    }\r\n    \r\n    public static double[] buildArray() {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Array size: &quot;);\r\n        int arraySize = input.nextInt();\r\n        double[] array = new double[arraySize];\r\n        for(int i=0; i&lt;arraySize; i++) {\r\n            array[i]= input.nextInt();\r\n        }\r\n        input.close();\r\n        \r\n        return array;\r\n    }\r\n}\r\n```","title":"loosing data when exiting a method","body":"<p>You could change your method signature and return the array you build from the method:</p>\n<pre><code>import java.util.*;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        double[] arrayFromMethod = MyClass.buildArray();\n        System.out.println(Arrays.toString(arrayFromMethod));\n    }\n    \n    public static double[] buildArray() {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Array size: &quot;);\n        int arraySize = input.nextInt();\n        double[] array = new double[arraySize];\n        for(int i=0; i&lt;arraySize; i++) {\n            array[i]= input.nextInt();\n        }\n        input.close();\n        \n        return array;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667342736,"creation_date":1667342736,"answer_id":74282574,"question_id":74281746,"body_markdown":"If you want the Array to be class global then declare it as a class member (instance) variable, for example:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class MyClass {\r\n\r\n    private final Scanner input = new Scanner(System.in);\r\n    double[] array;\r\n\r\n    public static void main(String[] args) {\r\n        // Started this way to avoid the need for statics.\r\n        new MyClass().startApp(args);\r\n    }\r\n\r\n    private void startApp(String[] args) {\r\n        fillArray();\r\n        \r\n        // Display Array In Console Window...\r\n        System.out.println(Arrays.toString(this.array));\r\n    }\r\n\r\n    public void fillArray() {\r\n        int arraySize = 0;\r\n        while (arraySize &lt; 1) {\r\n            System.out.print(&quot;Enter an Array size: -&gt; &quot;);\r\n            try {\r\n                arraySize = input.nextInt();\r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;Invalid Entry! Try again...&quot;);\r\n                arraySize = 0;\r\n                input.nextLine();  // consume ENTER key hit.\r\n            }\r\n        } \r\n    \r\n        array = new double[arraySize];\r\n        \r\n        for(int i = 0; i &lt; arraySize; i++) {\r\n            double val = 0d;\r\n            while (val == 0d) {\r\n                val = 0d; \r\n                System.out.print(&quot;Enter Array Element #&quot; + (i+1) + &quot;: -&gt; &quot;);\r\n                try {\r\n                    val = input.nextDouble();\r\n                } catch (Exception ex) {\r\n                    System.out.println(&quot;Invalid Entry! Try again...&quot; \r\n                                       + System.lineSeparator());\r\n                    val = 0d;\r\n                    input.nextLine();  // consume ENTER key hit.\r\n                }  \r\n            }\r\n            array[i] = val;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd don&#39;t use `nextInt()` to fill a double array, use `nextDouble()`. Also don&#39;t close the `System.in` stream unless you know for sure your application wont need it any more. If you do, you will need to restart the application in order to get User input again. The JVM will close the `System.in` Stream when the application closes. ","title":"loosing data when exiting a method","body":"<p>If you want the Array to be class global then declare it as a class member (instance) variable, for example:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class MyClass {\n\n    private final Scanner input = new Scanner(System.in);\n    double[] array;\n\n    public static void main(String[] args) {\n        // Started this way to avoid the need for statics.\n        new MyClass().startApp(args);\n    }\n\n    private void startApp(String[] args) {\n        fillArray();\n        \n        // Display Array In Console Window...\n        System.out.println(Arrays.toString(this.array));\n    }\n\n    public void fillArray() {\n        int arraySize = 0;\n        while (arraySize &lt; 1) {\n            System.out.print(&quot;Enter an Array size: -&gt; &quot;);\n            try {\n                arraySize = input.nextInt();\n            } catch (Exception ex) {\n                System.out.println(&quot;Invalid Entry! Try again...&quot;);\n                arraySize = 0;\n                input.nextLine();  // consume ENTER key hit.\n            }\n        } \n    \n        array = new double[arraySize];\n        \n        for(int i = 0; i &lt; arraySize; i++) {\n            double val = 0d;\n            while (val == 0d) {\n                val = 0d; \n                System.out.print(&quot;Enter Array Element #&quot; + (i+1) + &quot;: -&gt; &quot;);\n                try {\n                    val = input.nextDouble();\n                } catch (Exception ex) {\n                    System.out.println(&quot;Invalid Entry! Try again...&quot; \n                                       + System.lineSeparator());\n                    val = 0d;\n                    input.nextLine();  // consume ENTER key hit.\n                }  \n            }\n            array[i] = val;\n        }\n    }\n}\n</code></pre>\n<p>And don't use <code>nextInt()</code> to fill a double array, use <code>nextDouble()</code>. Also don't close the <code>System.in</code> stream unless you know for sure your application wont need it any more. If you do, you will need to restart the application in order to get User input again. The JVM will close the <code>System.in</code> Stream when the application closes.</p>\n"}],"owner":{"account_id":26799762,"reputation":1,"user_id":20391904,"display_name":"Miguel De Lara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667342736,"creation_date":1667336488,"question_id":74281746,"body_markdown":"I&#39;m self learning programming and practicing my skills as I move forward.\r\nI&#39;ve been consistently encountering a bug, and fixing it by trial and error but haven&#39;t really learned my actual mistake so far, if it is syntax or logic and how to avoid encountering it in the future.\r\n\r\nmy problem is as follows:\r\nI build a method that uses certain data or inputs certain data, and after the program successfully runs through the method and exits it, the data that was created/sorted/input within the method is lost for the rest of the program. \r\nIf anyone would help me understand what I am missing every time, I&#39;d really appreciate it.\r\n\r\n \r\n\r\n```\r\npublic static void EnterArray(double[] array, int arraySize) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Array size: &quot;);\r\n\t\tarraySize = input.nextInt();\r\n\t\tarray = new double[arraySize];\r\n\t\tfor(int i=0; i&lt;arraySize; i++) {\r\n\t\t\tarray[i]= input.nextInt();\r\n\t\t}\r\n\t\tinput.close();\r\n\t}\r\n```\r\n\r\nThis method will create an array from the users input. Within the method, the data is stored correctly, but once it exits the method, the array created is gone. I would like to use that array within my next steps and methods in my program\r\n\r\nThank you!\r\n```\r\n","title":"loosing data when exiting a method","body":"<p>I'm self learning programming and practicing my skills as I move forward.\nI've been consistently encountering a bug, and fixing it by trial and error but haven't really learned my actual mistake so far, if it is syntax or logic and how to avoid encountering it in the future.</p>\n<p>my problem is as follows:\nI build a method that uses certain data or inputs certain data, and after the program successfully runs through the method and exits it, the data that was created/sorted/input within the method is lost for the rest of the program.\nIf anyone would help me understand what I am missing every time, I'd really appreciate it.</p>\n<pre><code>public static void EnterArray(double[] array, int arraySize) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Array size: &quot;);\n        arraySize = input.nextInt();\n        array = new double[arraySize];\n        for(int i=0; i&lt;arraySize; i++) {\n            array[i]= input.nextInt();\n        }\n        input.close();\n    }\n</code></pre>\n<p>This method will create an array from the users input. Within the method, the data is stored correctly, but once it exits the method, the array created is gone. I would like to use that array within my next steps and methods in my program</p>\n<p>Thank you!</p>\n<pre><code></code></pre>\n"},{"tags":["java","io","filenotfoundexception","yahoo-finance"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667344750,"post_id":74282467,"comment_id":131144606,"body_markdown":"That URL works for me.","body":"That URL works for me."},{"owner":{"account_id":3428881,"reputation":11,"user_id":2873900,"display_name":"markke"},"score":0,"creation_date":1667371782,"post_id":74282467,"comment_id":131148616,"body_markdown":"The URL works for me either, but only if I open it directly from the web browser. However, within the code it does not work.","body":"The URL works for me either, but only if I open it directly from the web browser. However, within the code it does not work."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1667391595,"post_id":74282467,"comment_id":131155061,"body_markdown":"You may be using a version of Java which doesn’t respect Windows proxy settings.  Try using Java 19.  See https://bugs.openjdk.org/browse/JDK-8262442.","body":"You may be using a version of Java which doesn’t respect Windows proxy settings.  Try using Java 19.  See <a href=\"https://bugs.openjdk.org/browse/JDK-8262442\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8262442</a>."},{"owner":{"account_id":3428881,"reputation":11,"user_id":2873900,"display_name":"markke"},"score":0,"creation_date":1667573805,"post_id":74282467,"comment_id":131205421,"body_markdown":"I have changed to Open JDK 19.0.1 in the gradle settings of android studio. I still has the same exception. Nothing changed. Any suggestions?","body":"I have changed to Open JDK 19.0.1 in the gradle settings of android studio. I still has the same exception. Nothing changed. Any suggestions?"},{"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"score":0,"creation_date":1673808026,"post_id":74282467,"comment_id":132575228,"body_markdown":"@markke Did you find the solution for this? Thank you.","body":"@markke Did you find the solution for this? Thank you."}],"owner":{"account_id":3428881,"reputation":11,"user_id":2873900,"display_name":"markke"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667341769,"creation_date":1667341769,"question_id":74282467,"body_markdown":"I have tried to execute the following java code from my android studio.\r\n\r\n```\r\nString companyName = &quot;DIS&quot;;\r\nDouble companyCurrentPrice = getStockCurrentPrice(companyName);\r\n```\r\n\r\n```\r\npublic static double getStockCurrentPrice(String stock_symbol)\r\n{\r\n    Stock stock;\r\n    BigDecimal price = null;\r\n    try {\r\n        stock = YahooFinance.get(stock_symbol);\r\n        price = stock.getQuote().getPrice();\r\n    }\r\n    catch (IOException e) {\r\n        System.err.println(&quot;Symbol Name: &quot; + stock_symbol);\r\n        e.printStackTrace();\r\n    }\r\n    catch (NullPointerException e) {\r\n        System.err.println(&quot;Symbol Name: &quot; + stock_symbol);\r\n        e.printStackTrace();\r\n    }\r\n    Double curr_price = price.doubleValue();\r\n    return curr_price;\r\n}\r\n```\r\n\r\nThe code worked fine until now, and today I get the following exception:\r\n\r\n```\r\nSymbol Name: DIS\r\njava.io.FileNotFoundException: https://query1.finance.yahoo.com/v7/finance/quote?symbols=DIS\r\nat com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:255)\r\nat com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\r\nat com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\r\nat yahoofinance.quotes.query1v7.QuotesRequest.getResult(QuotesRequest.java:74)\r\nat yahoofinance.YahooFinance.getQuotes(YahooFinance.java:381)\r\nat yahoofinance.YahooFinance.get(YahooFinance.java:98)\r\nat yahoofinance.YahooFinance.get(YahooFinance.java:82)\r\nat com.markke.stocksinfo.YahooFinanceConnection.getStockCurrentPrice(YahooFinanceConnection.java:25)\r\nat com.markke.stocksinfo.ThreadOfMethod4.perform_method_4(ThreadOfMethod4.java:265)\r\nat com.markke.stocksinfo.ThreadOfMethod4.call(ThreadOfMethod4.java:31)\r\nat com.markke.stocksinfo.ThreadOfMethod4.call(ThreadOfMethod4.java:13)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\nat java.lang.Thread.run(Thread.java:923)\r\n```\r\n\r\nAny alternative to this case?","title":"java.io.FileNotFoundException while trying to execute YahooFinance.get operation","body":"<p>I have tried to execute the following java code from my android studio.</p>\n<pre><code>String companyName = &quot;DIS&quot;;\nDouble companyCurrentPrice = getStockCurrentPrice(companyName);\n</code></pre>\n<pre><code>public static double getStockCurrentPrice(String stock_symbol)\n{\n    Stock stock;\n    BigDecimal price = null;\n    try {\n        stock = YahooFinance.get(stock_symbol);\n        price = stock.getQuote().getPrice();\n    }\n    catch (IOException e) {\n        System.err.println(&quot;Symbol Name: &quot; + stock_symbol);\n        e.printStackTrace();\n    }\n    catch (NullPointerException e) {\n        System.err.println(&quot;Symbol Name: &quot; + stock_symbol);\n        e.printStackTrace();\n    }\n    Double curr_price = price.doubleValue();\n    return curr_price;\n}\n</code></pre>\n<p>The code worked fine until now, and today I get the following exception:</p>\n<pre><code>Symbol Name: DIS\njava.io.FileNotFoundException: https://query1.finance.yahoo.com/v7/finance/quote?symbols=DIS\nat com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:255)\nat com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.getInputStream(DelegatingHttpsURLConnection.java:211)\nat com.android.okhttp.internal.huc.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:30)\nat yahoofinance.quotes.query1v7.QuotesRequest.getResult(QuotesRequest.java:74)\nat yahoofinance.YahooFinance.getQuotes(YahooFinance.java:381)\nat yahoofinance.YahooFinance.get(YahooFinance.java:98)\nat yahoofinance.YahooFinance.get(YahooFinance.java:82)\nat com.markke.stocksinfo.YahooFinanceConnection.getStockCurrentPrice(YahooFinanceConnection.java:25)\nat com.markke.stocksinfo.ThreadOfMethod4.perform_method_4(ThreadOfMethod4.java:265)\nat com.markke.stocksinfo.ThreadOfMethod4.call(ThreadOfMethod4.java:31)\nat com.markke.stocksinfo.ThreadOfMethod4.call(ThreadOfMethod4.java:13)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\nat java.lang.Thread.run(Thread.java:923)\n</code></pre>\n<p>Any alternative to this case?</p>\n"},{"tags":["java","eclipse","selenium","google-chrome","selenium-webdriver"],"comments":[{"owner":{"account_id":9080386,"reputation":915,"user_id":6760424,"display_name":"QualityMatters"},"score":0,"creation_date":1659273889,"post_id":73183493,"comment_id":129250738,"body_markdown":"Your code is correct, but you are missing selenium dependency in your [project. Better to create a maven project and add selenium web driver dependency in it.","body":"Your code is correct, but you are missing selenium dependency in your [project. Better to create a maven project and add selenium web driver dependency in it."},{"owner":{"account_id":25902985,"reputation":3,"user_id":19628545,"display_name":"zach "},"score":0,"creation_date":1659292126,"post_id":73183493,"comment_id":129254870,"body_markdown":"What do you mean? can you explain this a little further? And how would I do this?","body":"What do you mean? can you explain this a little further? And how would I do this?"},{"owner":{"account_id":15279664,"reputation":73,"user_id":11024443,"display_name":"Thiru"},"score":0,"creation_date":1659619201,"post_id":73183493,"comment_id":129341269,"body_markdown":"try this - https://www.edureka.co/blog/create-selenium-maven-project/  and add Selenium 4.x and WebDriverManager dependencies, so you don&#39;t need to download exe files manually","body":"try this - <a href=\"https://www.edureka.co/blog/create-selenium-maven-project/\" rel=\"nofollow noreferrer\">edureka.co/blog/create-selenium-maven-project</a>  and add Selenium 4.x and WebDriverManager dependencies, so you don&#39;t need to download exe files manually"}],"owner":{"account_id":25902985,"reputation":3,"user_id":19628545,"display_name":"zach "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667341600,"creation_date":1659272400,"question_id":73183493,"body_markdown":"I am getting a complilation error when I try to run Selenium Webdriver.\r\n\r\nI am using Eclipse and Java inside Eclipse.\r\n\r\nI:\r\n\r\nWent ahead and downloaded Selenium Server (4.3.0), the language-specific client drivers Java (4.3.0), and the stable release of the latest chrome drivers (got it from here - https://chromedriver.storage.googleapis.com/index.html?path=103.0.5060.134/). I had to download the 32 bit version even though my computer is 64 bit, but I only saw a 64 bit version for Windows.\r\n\r\nConfigured build path and added external jars to build path from the Selenium server file I downloaded.\r\n\r\nThe code:\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class FirstSeleniumTest {\r\n    \r\n        WebDriver driver; \r\n        public void launchBrowser() {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\zachw\\\\Desktop\\\\Selenium\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n            driver = new ChromeDriver();\r\n            driver.get(&quot;https://www.amazon.in/&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n        \r\n            FirstSeleniumTest obj = new FirstSeleniumTest ();\r\n            obj.launchBrowser();\r\n    \r\n        } \r\n    \r\n    }\r\n    }\r\n\r\nand keep getting this error:\r\n\r\nError: Unable to initialize main class FirstSeleniumTest\r\nCaused by: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\r\nCan anyone tell me why I am getting this compilation error and how to fix it?","title":"I keep getting this error: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver using Selenium trying to open Chrome","body":"<p>I am getting a complilation error when I try to run Selenium Webdriver.</p>\n<p>I am using Eclipse and Java inside Eclipse.</p>\n<p>I:</p>\n<p>Went ahead and downloaded Selenium Server (4.3.0), the language-specific client drivers Java (4.3.0), and the stable release of the latest chrome drivers (got it from here - <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=103.0.5060.134/\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/index.html?path=103.0.5060.134/</a>). I had to download the 32 bit version even though my computer is 64 bit, but I only saw a 64 bit version for Windows.</p>\n<p>Configured build path and added external jars to build path from the Selenium server file I downloaded.</p>\n<p>The code:</p>\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class FirstSeleniumTest {\n\n    WebDriver driver; \n    public void launchBrowser() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\zachw\\\\Desktop\\\\Selenium\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        driver = new ChromeDriver();\n        driver.get(&quot;https://www.amazon.in/&quot;);\n    }\n\n    public static void main(String[] args) {\n    \n        FirstSeleniumTest obj = new FirstSeleniumTest ();\n        obj.launchBrowser();\n\n    } \n\n}\n}\n</code></pre>\n<p>and keep getting this error:</p>\n<p>Error: Unable to initialize main class FirstSeleniumTest\nCaused by: java.lang.NoClassDefFoundError: org/openqa/selenium/WebDriver\nCan anyone tell me why I am getting this compilation error and how to fix it?</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667229051,"post_id":74265286,"comment_id":131114958,"body_markdown":"Where is your code?","body":"Where is your code?"},{"owner":{"account_id":23715374,"reputation":13,"user_id":17736600,"display_name":"kadouri zakariae"},"score":0,"creation_date":1667229221,"post_id":74265286,"comment_id":131115030,"body_markdown":"Proxy proxy = new Proxy();\n        proxy.setHttpProxy(&quot;http://&quot; + proxyy);\n        proxy.setSslProxy(&quot;http://&quot; + proxyy);\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;start-maximized&quot;);\n        options.setCapability(&quot;proxy&quot;, proxy);\n        driver = new ChromeDriver(options);\n        randomSleep();\n        driver.get(JDD.url);\n        driver.manage().window().maximize();","body":"Proxy proxy = new Proxy();         proxy.setHttpProxy(&quot;http://&quot; + proxyy);         proxy.setSslProxy(&quot;http://&quot; + proxyy);         ChromeOptions options = new ChromeOptions();         options.addArguments(&quot;start-maximized&quot;);         options.setCapability(&quot;proxy&quot;, proxy);         driver = new ChromeDriver(options);         randomSleep();         driver.get(JDD.url);         driver.manage().window().maximize();"},{"owner":{"account_id":23715374,"reputation":13,"user_id":17736600,"display_name":"kadouri zakariae"},"score":0,"creation_date":1667229246,"post_id":74265286,"comment_id":131115037,"body_markdown":"and for the second driver","body":"and for the second driver"},{"owner":{"account_id":23715374,"reputation":13,"user_id":17736600,"display_name":"kadouri zakariae"},"score":0,"creation_date":1667229284,"post_id":74265286,"comment_id":131115052,"body_markdown":"Proxy proxy = new Proxy();\n            proxy.setHttpProxy(&quot;http://&quot; + &quot;104.227.100.66:8147&quot;);\n            proxy.setSslProxy(&quot;http://&quot; + &quot;104.227.100.66:8147&quot;);\n            ChromeOptions options = new ChromeOptions();\n            options.addArguments(&quot;start-maximized&quot;);\n            options.setCapability(&quot;proxy&quot;, proxy);\n            driver2 = new ChromeDriver(options);\n            randomSleep();\n            driver2.get(JDD.url);\n            driver2.manage().window().maximize();\n            profil(&quot;djfbadhz&quot;, &quot;s9djq1ri28fz&quot;);\n            driver2.getWindowHandle();","body":"Proxy proxy = new Proxy();             proxy.setHttpProxy(&quot;http://&quot; + &quot;104.227.100.66:8147&quot;);             proxy.setSslProxy(&quot;http://&quot; + &quot;104.227.100.66:8147&quot;);             ChromeOptions options = new ChromeOptions();             options.addArguments(&quot;start-maximized&quot;);             options.setCapability(&quot;proxy&quot;, proxy);             driver2 = new ChromeDriver(options);             randomSleep();             driver2.get(JDD.url);             driver2.manage().window().maximize();             profil(&quot;djfbadhz&quot;, &quot;s9djq1ri28fz&quot;);             driver2.getWindowHandle();"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667231799,"post_id":74265286,"comment_id":131115955,"body_markdown":"I added your code to your original question. It might not be enough to be reproducible.","body":"I added your code to your original question. It might not be enough to be reproducible."}],"answers":[{"comments":[{"owner":{"account_id":23715374,"reputation":13,"user_id":17736600,"display_name":"kadouri zakariae"},"score":0,"creation_date":1667298542,"post_id":74266999,"comment_id":131130211,"body_markdown":"I need to switch between windows not tabs and to change proxy also. Thank you for your reply","body":"I need to switch between windows not tabs and to change proxy also. Thank you for your reply"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667306164,"post_id":74266999,"comment_id":131132602,"body_markdown":"@kadourizakariae To switch windows, simply change `WindowType`. I don&#39;t believe &quot;proxy&quot; will affect the code. Have you tried this? Also, when you troubleshoot problems, you start by removing all unnecessary things. You can then integrate them later one by one. And since your code is incomplete and not reproducible, this is the best I can offer you.","body":"@kadourizakariae To switch windows, simply change <code>WindowType</code>. I don&#39;t believe &quot;proxy&quot; will affect the code. Have you tried this? Also, when you troubleshoot problems, you start by removing all unnecessary things. You can then integrate them later one by one. And since your code is incomplete and not reproducible, this is the best I can offer you."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667306319,"post_id":74266999,"comment_id":131132669,"body_markdown":"@kadourizakariae If you try this and it works, you can modify your question and we could work on the proxy part.","body":"@kadourizakariae If you try this and it works, you can modify your question and we could work on the proxy part."},{"owner":{"account_id":23715374,"reputation":13,"user_id":17736600,"display_name":"kadouri zakariae"},"score":0,"creation_date":1667312649,"post_id":74266999,"comment_id":131134990,"body_markdown":"how to change the proxy of the second window?","body":"how to change the proxy of the second window?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667312885,"post_id":74266999,"comment_id":131135079,"body_markdown":"@kadourizakariae Did the rest of the code work?","body":"@kadourizakariae Did the rest of the code work?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667318634,"post_id":74266999,"comment_id":131137205,"body_markdown":"Maybe you can provide me with both proxies if they are public. To be honest, I don&#39;t see an issue with proxies as the two are completely independent sessions. Any problem might be proxy related and not browser window related. But I could be wrong.","body":"Maybe you can provide me with both proxies if they are public. To be honest, I don&#39;t see an issue with proxies as the two are completely independent sessions. Any problem might be proxy related and not browser window related. But I could be wrong."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667321604,"post_id":74266999,"comment_id":131138282,"body_markdown":"@kadourizakariae We can chat in LinkedIn if you would like. One thing I would like to bring to your attention just in case: if you are trying to use the `windowHandle` of one window to tell the driver controlling the other window to switch to it, this is impossible. Window handles are unique to a browser session. Therefore, the window handles for driver1 will not exist in the session controlled by driver2 and vice versa. In fact, I cannot see a valid use case where you would allow a second driver to take over a browser session controlled by another driver. Selenium was not designed that way.","body":"@kadourizakariae We can chat in LinkedIn if you would like. One thing I would like to bring to your attention just in case: if you are trying to use the <code>windowHandle</code> of one window to tell the driver controlling the other window to switch to it, this is impossible. Window handles are unique to a browser session. Therefore, the window handles for driver1 will not exist in the session controlled by driver2 and vice versa. In fact, I cannot see a valid use case where you would allow a second driver to take over a browser session controlled by another driver. Selenium was not designed that way."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667322115,"post_id":74266999,"comment_id":131138447,"body_markdown":"@kadourizakariae I know this may not be the answer you were looking for, but if the correct answer for what _I think_ you are trying to do. Still, I would appreciate if you would select this as the best answer (by clicking the checkmark) once you are convinced what I am stating here is correct.","body":"@kadourizakariae I know this may not be the answer you were looking for, but if the correct answer for what <i>I think</i> you are trying to do. Still, I would appreciate if you would select this as the best answer (by clicking the checkmark) once you are convinced what I am stating here is correct."}],"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667340581,"creation_date":1667237100,"answer_id":74266999,"question_id":74265286,"body_markdown":"Since you haven&#39;t provided reproducible code, I am just going to provide a simple example on how to switch tabs using Selenium 4 (and JUnit 5). If you are using Selenium 3, the way to do it is almost the same. I can provide an appropriate example if you require it.\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertNotEquals;\r\n\r\nimport java.time.Duration;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WindowType;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\npublic class ChromeTest {\r\n\t\r\n\t@Test\r\n\tvoid helloWorldTest () {\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n\t\t\t&quot;F:/drivers/chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://www.google.com&quot;);\r\n\t\tdriver.manage().window().maximize();\r\n\t\tString firstTabHandle = driver.getWindowHandle(); // save the first tab handle\r\n\r\n\t\t// Open a new tab in the same browser session\r\n\t\tWebDriver newTab = driver.switchTo().newWindow(WindowType.TAB);\r\n\t\tnewTab.get(&quot;https://www.msn.com/&quot;);\r\n\t\tString secondTabHandle = driver.getWindowHandle(); // save the new tab handle\r\n\r\n\t\tassertNotEquals(firstTabHandle, secondTabHandle); // not needed.. test the handles are different if you would like\r\n\t\tsleep(driver);\r\n\t\tdriver.switchTo().window(firstTabHandle); // switch back to first tab\r\n\t\tsleep(driver);\r\n\t\tdriver.switchTo().window(secondTabHandle); // switch back to new tab\r\n\t\tsleep(driver);\r\n\t\tdriver.quit(); // end your browser session\r\n\t}\r\n\t\r\n\tprivate void sleep (WebDriver driver) {\r\n\t\tnew WebDriverWait(driver, Duration.ofSeconds(3))\r\n\t\t\t.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//body&quot;)));\r\n\t}\r\n}\r\n```\r\n\r\n\r\n----------\r\n## Can a web driver gain access to a window controlled by another web driver? ##\r\n\r\nTo my knowledge, the only way to do this is by using a driver created from the same session. You cannot start two independent sessions and hand off control to the other driver (to the best of my knowledge).\r\n\r\nWhen invoking `driver.switchTo().window(String windowHandle)`, a web driver is returned that has focus on the newly created window. HOWEVER, this is the same instance as the &quot;driver&quot; used to call `switchTo().window()`. Therefore, whether you used the returned driver or the original driver is immaterial, since they the same. Honestly, I don&#39;t know why this method returns an object at all. That said, when I ran this test using the returned driver, the test was more stable. When I used the same original instance, it tended to fail more for `NoSuchElement` during the second iteration. I know this could be fixed with the appropriate `WebDriverWait`, but I found this interesting.\r\n\r\nTo simulate the fact that this driver can interact with either window, I created the test below. The test passes three inputs to iterate over, and uses these strings to search on both Yahoo (original window) and Google (new window); all of which is done with the second (new) driver. This course of action is not necessary. Of course, each driver can interact with whichever window they created. However, in order to interact with a page, it needs to contain focus. \r\n\r\nWhat does this mean related to using proxies? I do not know. All I know is that\r\n\r\n 1. A browser session can be interacted with by one and only one driver\r\n 2. Proxies (along with other options) are set before the session starts and cannot be changed after the session has begun.\r\n\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\nimport static org.junit.jupiter.api.Assertions.assertNotEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.fail;\r\n\r\nimport java.time.Duration;\r\n\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.ValueSource;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.Keys;\r\nimport org.openqa.selenium.Proxy;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.WindowType;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.interactions.Actions;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\npublic class ChromeTest {\r\n\tprivate static WebDriver driver;\r\n\t\r\n\t@BeforeAll\r\n\tstatic void setup () {\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n\t\t\t&quot;F:/drivers/chromedriver.exe&quot;);\r\n\t\tdriver = new ChromeDriver();\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\r\n\t}\r\n\t\r\n\t@AfterAll\r\n\tstatic void teardown () {\r\n\t\tif (driver != null) {\r\n\t\t\tdriver.quit();\r\n\t\t}\r\n\t}\r\n\t\r\n\t@ParameterizedTest\r\n\t@ValueSource(strings = {&quot;dog&quot;, &quot;cat&quot;, &quot;birds&quot;})\r\n\tvoid simulateCodeTest (String input) {\r\n\t\tdriver.get(&quot;https://www.yahoo.com&quot;);\r\n\t\tdriver.manage().window().maximize();\r\n\t\t\r\n\t\tString originalWindow = driver.getWindowHandle();\r\n\t\tWebDriver newWindowDriver = driver.switchTo().newWindow(WindowType.WINDOW);\r\n\t\tnewWindowDriver.get(&quot;https://www.google.com&quot;);\r\n\t\tString newWindowHandle = newWindowDriver.getWindowHandle();\r\n\t\tnewWindowDriver.switchTo().window(originalWindow);\r\n\t\tassertTrue(originalWindow.equals(newWindowDriver.getWindowHandle()));\r\n\t\t\r\n\t\tnewWindowDriver.switchTo().window(newWindowHandle);\r\n\t\tWebElement searchField = new WebDriverWait(newWindowDriver,\r\n\t\t\tDuration.ofSeconds(5), Duration.ofMillis(10))\r\n\t\t\t\t.until(ExpectedConditions\r\n\t\t\t\t\t.elementToBeClickable(By.xpath(&quot;//input[@title=&#39;Search&#39;]&quot;)));\r\n\t\tnew Actions(newWindowDriver).sendKeys(searchField, input)\r\n\t\t\t.sendKeys(Keys.ENTER).perform();\r\n\t\t\r\n\t\tnewWindowDriver.switchTo().window(originalWindow);\r\n\t\tsearchField = new WebDriverWait(newWindowDriver, Duration.ofSeconds(5),\r\n\t\t\tDuration.ofMillis(10))\r\n\t\t\t\t.until(ExpectedConditions\r\n\t\t\t\t\t.elementToBeClickable(By.xpath(&quot;//input[@name=&#39;p&#39;]&quot;)));\r\n\t\tnew Actions(newWindowDriver).sendKeys(searchField, input)\r\n\t\t\t.sendKeys(Keys.ENTER).perform();\r\n\t\tWebElement searchButton =\r\n\t\t\tnewWindowDriver.findElement(By.xpath(&quot;//button[@type=&#39;submit&#39;]&quot;));\r\n\t\tsearchButton.click();\r\n\t}\r\n}\r\n```","title":"Problem in doing action on new window using Selenium Webdriver with java","body":"<p>Since you haven't provided reproducible code, I am just going to provide a simple example on how to switch tabs using Selenium 4 (and JUnit 5). If you are using Selenium 3, the way to do it is almost the same. I can provide an appropriate example if you require it.</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertNotEquals;\n\nimport java.time.Duration;\n\nimport org.junit.jupiter.api.Test;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WindowType;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class ChromeTest {\n    \n    @Test\n    void helloWorldTest () {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,\n            &quot;F:/drivers/chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.google.com&quot;);\n        driver.manage().window().maximize();\n        String firstTabHandle = driver.getWindowHandle(); // save the first tab handle\n\n        // Open a new tab in the same browser session\n        WebDriver newTab = driver.switchTo().newWindow(WindowType.TAB);\n        newTab.get(&quot;https://www.msn.com/&quot;);\n        String secondTabHandle = driver.getWindowHandle(); // save the new tab handle\n\n        assertNotEquals(firstTabHandle, secondTabHandle); // not needed.. test the handles are different if you would like\n        sleep(driver);\n        driver.switchTo().window(firstTabHandle); // switch back to first tab\n        sleep(driver);\n        driver.switchTo().window(secondTabHandle); // switch back to new tab\n        sleep(driver);\n        driver.quit(); // end your browser session\n    }\n    \n    private void sleep (WebDriver driver) {\n        new WebDriverWait(driver, Duration.ofSeconds(3))\n            .until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//body&quot;)));\n    }\n}\n</code></pre>\n<hr />\n<h2>Can a web driver gain access to a window controlled by another web driver?</h2>\n<p>To my knowledge, the only way to do this is by using a driver created from the same session. You cannot start two independent sessions and hand off control to the other driver (to the best of my knowledge).</p>\n<p>When invoking <code>driver.switchTo().window(String windowHandle)</code>, a web driver is returned that has focus on the newly created window. HOWEVER, this is the same instance as the &quot;driver&quot; used to call <code>switchTo().window()</code>. Therefore, whether you used the returned driver or the original driver is immaterial, since they the same. Honestly, I don't know why this method returns an object at all. That said, when I ran this test using the returned driver, the test was more stable. When I used the same original instance, it tended to fail more for <code>NoSuchElement</code> during the second iteration. I know this could be fixed with the appropriate <code>WebDriverWait</code>, but I found this interesting.</p>\n<p>To simulate the fact that this driver can interact with either window, I created the test below. The test passes three inputs to iterate over, and uses these strings to search on both Yahoo (original window) and Google (new window); all of which is done with the second (new) driver. This course of action is not necessary. Of course, each driver can interact with whichever window they created. However, in order to interact with a page, it needs to contain focus.</p>\n<p>What does this mean related to using proxies? I do not know. All I know is that</p>\n<ol>\n<li>A browser session can be interacted with by one and only one driver</li>\n<li>Proxies (along with other options) are set before the session starts and cannot be changed after the session has begun.</li>\n</ol>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertTrue;\nimport static org.junit.jupiter.api.Assertions.assertNotEquals;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.fail;\n\nimport java.time.Duration;\n\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.ValueSource;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport org.openqa.selenium.Proxy;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.WindowType;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class ChromeTest {\n    private static WebDriver driver;\n    \n    @BeforeAll\n    static void setup () {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,\n            &quot;F:/drivers/chromedriver.exe&quot;);\n        driver = new ChromeDriver();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\n    }\n    \n    @AfterAll\n    static void teardown () {\n        if (driver != null) {\n            driver.quit();\n        }\n    }\n    \n    @ParameterizedTest\n    @ValueSource(strings = {&quot;dog&quot;, &quot;cat&quot;, &quot;birds&quot;})\n    void simulateCodeTest (String input) {\n        driver.get(&quot;https://www.yahoo.com&quot;);\n        driver.manage().window().maximize();\n        \n        String originalWindow = driver.getWindowHandle();\n        WebDriver newWindowDriver = driver.switchTo().newWindow(WindowType.WINDOW);\n        newWindowDriver.get(&quot;https://www.google.com&quot;);\n        String newWindowHandle = newWindowDriver.getWindowHandle();\n        newWindowDriver.switchTo().window(originalWindow);\n        assertTrue(originalWindow.equals(newWindowDriver.getWindowHandle()));\n        \n        newWindowDriver.switchTo().window(newWindowHandle);\n        WebElement searchField = new WebDriverWait(newWindowDriver,\n            Duration.ofSeconds(5), Duration.ofMillis(10))\n                .until(ExpectedConditions\n                    .elementToBeClickable(By.xpath(&quot;//input[@title='Search']&quot;)));\n        new Actions(newWindowDriver).sendKeys(searchField, input)\n            .sendKeys(Keys.ENTER).perform();\n        \n        newWindowDriver.switchTo().window(originalWindow);\n        searchField = new WebDriverWait(newWindowDriver, Duration.ofSeconds(5),\n            Duration.ofMillis(10))\n                .until(ExpectedConditions\n                    .elementToBeClickable(By.xpath(&quot;//input[@name='p']&quot;)));\n        new Actions(newWindowDriver).sendKeys(searchField, input)\n            .sendKeys(Keys.ENTER).perform();\n        WebElement searchButton =\n            newWindowDriver.findElement(By.xpath(&quot;//button[@type='submit']&quot;));\n        searchButton.click();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23715374,"reputation":13,"user_id":17736600,"display_name":"kadouri zakariae"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74266999,"answer_count":1,"score":1,"last_activity_date":1667340581,"creation_date":1667228736,"question_id":74265286,"body_markdown":"I am working on Selenium with java, I open a driver change its proxy and do some actions, when I tried to switch to another window and change its proxy the actions don&#39;t happened, it showed this error\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\r\n```\r\n\r\nif their is someone who has already worked with switching to windows and change proxy please help\r\n\r\nI tried to use the method swith().to but I couldn&#39;t change the proxy so I tried to use another driver.\r\n\r\nThe code, First driver:\r\n```\r\nProxy proxy = new Proxy();\r\nproxy.setHttpProxy(&quot;http://&quot; + proxyy);\r\nproxy.setSslProxy(&quot;http://&quot; + proxyy);\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;start-maximized&quot;);\r\noptions.setCapability(&quot;proxy&quot;, proxy);\r\ndriver = new ChromeDriver(options);\r\nrandomSleep();\r\ndriver.get(JDD.url);\r\ndriver.manage().window().maximize();\r\n```\r\n----------\r\nSecond driver:\r\n```\r\nProxy proxy = new Proxy();\r\nproxy.setHttpProxy(&quot;http://&quot; + &quot;104.227.100.66:8147&quot;);\r\nproxy.setSslProxy(&quot;http://&quot; + &quot;104.227.100.66:8147&quot;);\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;start-maximized&quot;);\r\noptions.setCapability(&quot;proxy&quot;, proxy);\r\ndriver2 = new ChromeDriver(options);\r\nrandomSleep();\r\ndriver2.get(JDD.url);\r\ndriver2.manage().window().maximize();\r\nprofil(&quot;djfbadhz&quot;, &quot;s9djq1ri28fz&quot;);\r\ndriver2.getWindowHandle(); \r\n```","title":"Problem in doing action on new window using Selenium Webdriver with java","body":"<p>I am working on Selenium with java, I open a driver change its proxy and do some actions, when I tried to switch to another window and change its proxy the actions don't happened, it showed this error</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\n</code></pre>\n<p>if their is someone who has already worked with switching to windows and change proxy please help</p>\n<p>I tried to use the method swith().to but I couldn't change the proxy so I tried to use another driver.</p>\n<p>The code, First driver:</p>\n<pre><code>Proxy proxy = new Proxy();\nproxy.setHttpProxy(&quot;http://&quot; + proxyy);\nproxy.setSslProxy(&quot;http://&quot; + proxyy);\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;start-maximized&quot;);\noptions.setCapability(&quot;proxy&quot;, proxy);\ndriver = new ChromeDriver(options);\nrandomSleep();\ndriver.get(JDD.url);\ndriver.manage().window().maximize();\n</code></pre>\n<hr />\n<p>Second driver:</p>\n<pre><code>Proxy proxy = new Proxy();\nproxy.setHttpProxy(&quot;http://&quot; + &quot;104.227.100.66:8147&quot;);\nproxy.setSslProxy(&quot;http://&quot; + &quot;104.227.100.66:8147&quot;);\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;start-maximized&quot;);\noptions.setCapability(&quot;proxy&quot;, proxy);\ndriver2 = new ChromeDriver(options);\nrandomSleep();\ndriver2.get(JDD.url);\ndriver2.manage().window().maximize();\nprofil(&quot;djfbadhz&quot;, &quot;s9djq1ri28fz&quot;);\ndriver2.getWindowHandle(); \n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":8198765,"reputation":1668,"user_id":6170711,"accept_rate":92,"display_name":"xMilos"},"score":2,"creation_date":1667310478,"post_id":74276872,"comment_id":131134195,"body_markdown":"What is not working, put expected output. Btw this code is so wrong. As you don&#39;t use the hashmap as you should, and you iterate it for some reason. Also the if is wrong.","body":"What is not working, put expected output. Btw this code is so wrong. As you don&#39;t use the hashmap as you should, and you iterate it for some reason. Also the if is wrong."},{"owner":{"account_id":17597311,"reputation":1,"user_id":12768004,"display_name":"Ashprit Mehra"},"score":0,"creation_date":1667310975,"post_id":74276872,"comment_id":131134363,"body_markdown":"the expected output for inputting 40 would be You got a Third Class","body":"the expected output for inputting 40 would be You got a Third Class"}],"answers":[{"tags":[],"owner":{"account_id":8198765,"reputation":1668,"user_id":6170711,"accept_rate":92,"display_name":"xMilos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667311015,"creation_date":1667311015,"answer_id":74277049,"question_id":74276872,"body_markdown":"I assume you want something like this:\r\n\r\n            LinkedHashMap&lt;String, Integer&gt; score = new LinkedHashMap&lt;String,Integer&gt;();\r\n            score.put(&quot;Fail&quot;,39);\r\n            score.put(&quot;Third Class&quot;, 49);\r\n            score.put(&quot;Second Class, Division 2&quot;,59);\r\n            score.put(&quot;Second Class, Division 1&quot;,69);\r\n            score.put(&quot;First Class&quot;,70);\r\n        \r\n        \r\n            Scanner scan = new Scanner(System.in);\r\n        \r\n            System.out.println(&quot;What was your mark?&quot;);\r\n        \r\n            String keyScore = scan.nextString();\r\n        \r\n            System.out.println(score.getOrDefault(keyScore, &quot;Invalid Input: key not in map&quot;));\r\n\r\nwhere on input you put one of the keys from the map, and not the value.","title":"Hashmap iteration for a grading system","body":"<p>I assume you want something like this:</p>\n<pre><code>        LinkedHashMap&lt;String, Integer&gt; score = new LinkedHashMap&lt;String,Integer&gt;();\n        score.put(&quot;Fail&quot;,39);\n        score.put(&quot;Third Class&quot;, 49);\n        score.put(&quot;Second Class, Division 2&quot;,59);\n        score.put(&quot;Second Class, Division 1&quot;,69);\n        score.put(&quot;First Class&quot;,70);\n    \n    \n        Scanner scan = new Scanner(System.in);\n    \n        System.out.println(&quot;What was your mark?&quot;);\n    \n        String keyScore = scan.nextString();\n    \n        System.out.println(score.getOrDefault(keyScore, &quot;Invalid Input: key not in map&quot;));\n</code></pre>\n<p>where on input you put one of the keys from the map, and not the value.</p>\n"},{"tags":[],"owner":{"account_id":21503075,"reputation":15,"user_id":15846928,"display_name":"Sanskar Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667311910,"creation_date":1667311910,"answer_id":74277252,"question_id":74276872,"body_markdown":"Replace \r\n\r\n    score.put(&quot;First Class&quot;,70);\r\n\r\nwith\r\n\r\n    score.put(&quot;First Class&quot;,100);\r\n\r\nand also replace\r\n\r\n    if(mark&lt; score.get(i)) {\r\n\r\nwith\r\n\r\n    if(mark&lt;= score.get(i)) {","title":"Hashmap iteration for a grading system","body":"<p>Replace</p>\n<pre><code>score.put(&quot;First Class&quot;,70);\n</code></pre>\n<p>with</p>\n<pre><code>score.put(&quot;First Class&quot;,100);\n</code></pre>\n<p>and also replace</p>\n<pre><code>if(mark&lt; score.get(i)) {\n</code></pre>\n<p>with</p>\n<pre><code>if(mark&lt;= score.get(i)) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17597311,"reputation":1,"user_id":12768004,"display_name":"Ashprit Mehra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667340517,"creation_date":1667323233,"answer_id":74279563,"question_id":74276872,"body_markdown":"    import java.util.*;\r\n    \r\n    \r\n    public class fff {\r\n    \r\n    \tpublic static void main(String[] args) throws NullPointerException{\r\n    \t\ttry {\r\n    \t\t\tLinkedHashMap&lt;Integer, String&gt; score = new LinkedHashMap&lt;Integer,String&gt;();\r\n    \t\t\tscore.put(70, &quot;First class&quot;);\r\n    \t\t\tscore.put(59, &quot;Second Class, Division 1&quot;);\r\n    \t\t\tscore.put(49, &quot;Second Class, Divison 2&quot;);\r\n    \t\t\tscore.put(39, &quot;Third Class&quot;);\r\n    \t\t\t\r\n    \t\t\tScanner scan = new Scanner(System.in);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;What was your mark?&quot;);\r\n    \t\t\t\r\n    \t\t\tint mark = scan.nextInt();\r\n    \t\t\t\r\n    \t\t\tif(mark &gt;100 &amp;&amp; mark &lt; 0) {\r\n    \t\t\t\tSystem.out.println(&quot;Invalid Input: out of range.&quot;);\r\n    \t\t\t}\r\n    \t\t\tfor(Integer i: score.keySet()) {\r\n    \t\t\t\tif(mark &lt;= 39) {\r\n    \t\t\t\t\tSystem.out.println(&quot;You got a Fail&quot;);\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t}\r\n    \t\t\t\tif(mark&gt;=i) {\r\n    \t\t\t\t\tSystem.out.println(&quot;You got a &quot;+score.get(i));\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t}\r\n    \t\t\tcatch(InputMismatchException e) {\r\n    \t\t\t\tSystem.out.println(&quot;Invalid Input, program terminating&quot;);\r\n    \t\t\t\t\r\n    \t\t\t\r\n    \t\t}\r\n    \t\r\n    \t}\t\r\n    }\r\nThis is my final code and it now works.","title":"Hashmap iteration for a grading system","body":"<pre><code>import java.util.*;\n\n\npublic class fff {\n\n    public static void main(String[] args) throws NullPointerException{\n        try {\n            LinkedHashMap&lt;Integer, String&gt; score = new LinkedHashMap&lt;Integer,String&gt;();\n            score.put(70, &quot;First class&quot;);\n            score.put(59, &quot;Second Class, Division 1&quot;);\n            score.put(49, &quot;Second Class, Divison 2&quot;);\n            score.put(39, &quot;Third Class&quot;);\n            \n            Scanner scan = new Scanner(System.in);\n            \n            \n            System.out.println(&quot;What was your mark?&quot;);\n            \n            int mark = scan.nextInt();\n            \n            if(mark &gt;100 &amp;&amp; mark &lt; 0) {\n                System.out.println(&quot;Invalid Input: out of range.&quot;);\n            }\n            for(Integer i: score.keySet()) {\n                if(mark &lt;= 39) {\n                    System.out.println(&quot;You got a Fail&quot;);\n                    System.exit(0);\n                }\n                if(mark&gt;=i) {\n                    System.out.println(&quot;You got a &quot;+score.get(i));\n                    break;\n                }\n\n                    \n                }\n                \n                \n        }\n            catch(InputMismatchException e) {\n                System.out.println(&quot;Invalid Input, program terminating&quot;);\n                \n            \n        }\n    \n    }   \n}\n</code></pre>\n<p>This is my final code and it now works.</p>\n"}],"owner":{"account_id":17597311,"reputation":1,"user_id":12768004,"display_name":"Ashprit Mehra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1667366428,"accepted_answer_id":74279563,"answer_count":3,"score":-4,"last_activity_date":1667340517,"creation_date":1667310136,"question_id":74276872,"body_markdown":"    import java.util.*;\r\n    import java.util.Map.Entry;\r\n\r\n\r\n    public class fff2 {\r\n\r\n    \tpublic static void main(String[] args) throws NullPointerException{\r\n\t    \ttry {\r\n\t\t    \tLinkedHashMap&lt;String, Integer&gt; score = new LinkedHashMap&lt;String,Integer&gt;();\r\n\t\t\t    score.put(&quot;Fail&quot;,39);\r\n\t\t\t    score.put(&quot;Third Class&quot;, 49);\r\n   \t\t\t    score.put(&quot;Second Class, Division 2&quot;,59);\r\n\t\t\t    score.put(&quot;Second Class, Division 1&quot;,69);\r\n\t\t\t    score.put(&quot;First Class&quot;,70);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t    Scanner scan = new Scanner(System.in);\r\n\t\t\t\r\n\t\t\t    System.out.println(&quot;What was your mark?&quot;);\r\n\t\t\t\r\n\t\t\t    int mark = scan.nextInt();\r\n\t\t\t\r\n\t\t\t    if(mark &gt;100 &amp;&amp; mark &lt; 0) {\r\n\t\t\t\t    System.out.println(&quot;Invalid Input: out of range.&quot;);\r\n\t\t\t    }\r\n\t\t\t    for(String i: score.keySet()) {\r\n\t\t\t\t    if(mark&lt; score.get(i)) {\r\n\t\t\t\t\t    System.out.println(&quot;You got a &quot;+i);\r\n\t\t\t\t\t    break;\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t\t}\r\n\t\t\r\n\t\t\tcatch(InputMismatchException e) {\r\n\t\t\t\tSystem.out.println(&quot;Invalid Input, program terminating&quot;);\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t}\r\n    }\r\n\r\nSo I am trying to make a grading system but it isn&#39;t working can i have some help please? I am trying to make it so that a mark of 40 is a pass as a third class but i want to use a hashmap to challenge myself as opposed to the switch case.","title":"Hashmap iteration for a grading system","body":"<pre><code>import java.util.*;\nimport java.util.Map.Entry;\n\n\npublic class fff2 {\n\n    public static void main(String[] args) throws NullPointerException{\n        try {\n            LinkedHashMap&lt;String, Integer&gt; score = new LinkedHashMap&lt;String,Integer&gt;();\n            score.put(&quot;Fail&quot;,39);\n            score.put(&quot;Third Class&quot;, 49);\n            score.put(&quot;Second Class, Division 2&quot;,59);\n            score.put(&quot;Second Class, Division 1&quot;,69);\n            score.put(&quot;First Class&quot;,70);\n        \n        \n            Scanner scan = new Scanner(System.in);\n        \n            System.out.println(&quot;What was your mark?&quot;);\n        \n            int mark = scan.nextInt();\n        \n            if(mark &gt;100 &amp;&amp; mark &lt; 0) {\n                System.out.println(&quot;Invalid Input: out of range.&quot;);\n            }\n            for(String i: score.keySet()) {\n                if(mark&lt; score.get(i)) {\n                    System.out.println(&quot;You got a &quot;+i);\n                    break;\n                }\n            }\n        }\n    \n        catch(InputMismatchException e) {\n            System.out.println(&quot;Invalid Input, program terminating&quot;);\n            \n        \n    }\n}\n</code></pre>\n<p>So I am trying to make a grading system but it isn't working can i have some help please? I am trying to make it so that a mark of 40 is a pass as a third class but i want to use a hashmap to challenge myself as opposed to the switch case.</p>\n"},{"tags":["java","log4j2","threadcontext"],"answers":[{"comments":[{"owner":{"account_id":5215849,"reputation":76,"user_id":4170834,"accept_rate":60,"display_name":"Travis"},"score":0,"creation_date":1667346477,"post_id":74282310,"comment_id":131144936,"body_markdown":"Ah the old &quot;RFTM fool&quot;... I&#39;ve been on that page a dozen times today and I don&#39;t know how missed the &quot;copies&quot; every time. Thanks! I&#39;ll also check out the ContextDataProvider, it looks like exactly what I need!","body":"Ah the old &quot;RFTM fool&quot;... I&#39;ve been on that page a dozen times today and I don&#39;t know how missed the &quot;copies&quot; every time. Thanks! I&#39;ll also check out the ContextDataProvider, it looks like exactly what I need!"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667340390,"creation_date":1667340390,"answer_id":74282310,"question_id":74281799,"body_markdown":"The documentation for [`ThreadContext`](https://logging.apache.org/log4j/log4j-2.19.0/log4j-api/apidocs/org/apache/logging/log4j/ThreadContext.html) explicitly states:\r\n\r\n&gt; **The MDC is managed on a per thread basis**. To enable automatic inheritance of *copies* of the MDC to newly created threads, enable the &quot;isThreadContextMapInheritable&quot; Log4j system property.\r\n\r\nEven when you enable isThreadContextMapInheritable the `ThreadContext` is not shared - the child thread receives a copy, if you change either the parents `ThreadContext` or the childs `ThreadContext` they will diverge.\r\n\r\n---\r\nThe log4j2 manual has the following hints that may help you in implementing your required functionality:\r\n\r\n[Custom context data injectors](https://logging.apache.org/log4j/2.x/manual/thread-context.html#Custom_context_data_injectors_for_non_thread-local_context_data)\r\n\r\n&gt; Log4j 2.7 adds a flexible mechanism to tag logging statements with context data coming from other sources than the ThreadContext. See the manual page on extending Log4j for details.\r\n\r\nThe manual page on [extending Log4j](https://logging.apache.org/log4j/2.x/manual/extending.html#ContextDataProvider) contains some hints that you can implement the `org.apache.logging.log4j.core.util.ContextDataProvider` and register it as additional context data provider.\r\n\r\nI myself have no experience in implementing such a `ContextDataProvider`.","title":"Log4j ThreadContext from child thread","body":"<p>The documentation for <a href=\"https://logging.apache.org/log4j/log4j-2.19.0/log4j-api/apidocs/org/apache/logging/log4j/ThreadContext.html\" rel=\"nofollow noreferrer\"><code>ThreadContext</code></a> explicitly states:</p>\n<blockquote>\n<p><strong>The MDC is managed on a per thread basis</strong>. To enable automatic inheritance of <em>copies</em> of the MDC to newly created threads, enable the &quot;isThreadContextMapInheritable&quot; Log4j system property.</p>\n</blockquote>\n<p>Even when you enable isThreadContextMapInheritable the <code>ThreadContext</code> is not shared - the child thread receives a copy, if you change either the parents <code>ThreadContext</code> or the childs <code>ThreadContext</code> they will diverge.</p>\n<hr />\n<p>The log4j2 manual has the following hints that may help you in implementing your required functionality:</p>\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/thread-context.html#Custom_context_data_injectors_for_non_thread-local_context_data\" rel=\"nofollow noreferrer\">Custom context data injectors</a></p>\n<blockquote>\n<p>Log4j 2.7 adds a flexible mechanism to tag logging statements with context data coming from other sources than the ThreadContext. See the manual page on extending Log4j for details.</p>\n</blockquote>\n<p>The manual page on <a href=\"https://logging.apache.org/log4j/2.x/manual/extending.html#ContextDataProvider\" rel=\"nofollow noreferrer\">extending Log4j</a> contains some hints that you can implement the <code>org.apache.logging.log4j.core.util.ContextDataProvider</code> and register it as additional context data provider.</p>\n<p>I myself have no experience in implementing such a <code>ContextDataProvider</code>.</p>\n"}],"owner":{"account_id":5215849,"reputation":76,"user_id":4170834,"accept_rate":60,"display_name":"Travis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74282310,"answer_count":1,"score":0,"last_activity_date":1667340390,"creation_date":1667336818,"question_id":74281799,"body_markdown":"I&#39;m using with Log4J2 and ThreadContext and basically, I want the ThreadContext shared across all threads (or an alternative to ThreadContext, as the name seems to imply it should be thread-specific).\r\n\r\nRight now I have both of these flags set in my programs arguments (added both, although I think the 2nd legacy):\r\n\r\n```\r\n-Dlog4j2.isThreadContextMapInheritable=true\r\n-DisThreadContextMapInheritable=true\r\n```\r\n\r\n\r\nIf, when my application first starts up, I do:\r\n\r\n```\r\nThreadContext.put(&quot;key&quot;, &quot;value&quot;);\r\n```\r\n\r\nThe logs both in my parent thread and child thread will both output &quot;value&quot;, so I am assuming the ThreadContext is successfully shared between the threads.\r\n\r\nHowever, if I update that message just before my child runs with:\r\n\r\n```\r\nThreadContext.put(&quot;key&quot;, &quot;anotherValue&quot;);\r\n```\r\n\r\nMy child thread still has the original &quot;value&quot;, but the next message on the parent thread will be &quot;anotherValue&quot;.\r\n\r\nSame thing happens if I update the value in my child thread. The child thread will output &quot;anotherValue&quot; but the parent thread will still output &quot;value&quot;.\r\n\r\n\r\nI&#39;m assuming I am missing something crucial about how the ThreadContext works, as what is happening makes no sense to me.\r\n","title":"Log4j ThreadContext from child thread","body":"<p>I'm using with Log4J2 and ThreadContext and basically, I want the ThreadContext shared across all threads (or an alternative to ThreadContext, as the name seems to imply it should be thread-specific).</p>\n<p>Right now I have both of these flags set in my programs arguments (added both, although I think the 2nd legacy):</p>\n<pre><code>-Dlog4j2.isThreadContextMapInheritable=true\n-DisThreadContextMapInheritable=true\n</code></pre>\n<p>If, when my application first starts up, I do:</p>\n<pre><code>ThreadContext.put(&quot;key&quot;, &quot;value&quot;);\n</code></pre>\n<p>The logs both in my parent thread and child thread will both output &quot;value&quot;, so I am assuming the ThreadContext is successfully shared between the threads.</p>\n<p>However, if I update that message just before my child runs with:</p>\n<pre><code>ThreadContext.put(&quot;key&quot;, &quot;anotherValue&quot;);\n</code></pre>\n<p>My child thread still has the original &quot;value&quot;, but the next message on the parent thread will be &quot;anotherValue&quot;.</p>\n<p>Same thing happens if I update the value in my child thread. The child thread will output &quot;anotherValue&quot; but the parent thread will still output &quot;value&quot;.</p>\n<p>I'm assuming I am missing something crucial about how the ThreadContext works, as what is happening makes no sense to me.</p>\n"},{"tags":["java","multithreading","future","executorservice","java-threads"],"comments":[{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":4,"creation_date":1666246769,"post_id":74135025,"comment_id":130891301,"body_markdown":"There&#39;s no (sane) way for stopping a thread in Java without relying on cooperative mechanisms (i.e. flags, exceptions, ...). See also https://stackoverflow.com/a/671052/402428","body":"There&#39;s no (sane) way for stopping a thread in Java without relying on cooperative mechanisms (i.e. flags, exceptions, ...). See also <a href=\"https://stackoverflow.com/a/671052/402428\">stackoverflow.com/a/671052/402428</a>"},{"owner":{"account_id":415134,"reputation":12351,"user_id":789750,"accept_rate":87,"display_name":"Dan"},"score":0,"creation_date":1666307861,"post_id":74135025,"comment_id":130912445,"body_markdown":"@michid: I know, but I was hoping that there was a cooperative mechanism from *within* the thread that worked. That or something like &quot;create process, get PID and SIGKILL&quot; but with java interfaces instead of OS-specific ones.","body":"@michid: I know, but I was hoping that there was a cooperative mechanism from <i>within</i> the thread that worked. That or something like &quot;create process, get PID and SIGKILL&quot; but with java interfaces instead of OS-specific ones."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1667341480,"post_id":74135025,"comment_id":131143944,"body_markdown":"Are you saying, `.doStuff` throws and logs an exception? If that&#39;s the case, there isn&#39;t anything you can do.","body":"Are you saying, <code>.doStuff</code> throws and logs an exception? If that&#39;s the case, there isn&#39;t anything you can do."}],"answers":[{"tags":[],"owner":{"account_id":26789322,"reputation":71,"user_id":20382988,"display_name":"Ahmet M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667340156,"creation_date":1667340156,"answer_id":74282282,"question_id":74135025,"body_markdown":"1. You can choose to run the task user wants to cancel by wrapping the future into another object which implements cancel() request and do not delegate the user given cancel request to the underlying future instance. In this case, the task will run as normal. (Trick user that the task cancelled but run in background and do not care the result of the task -- If the task has side-effect, this might not be desirable) -- will use computing resources.\r\n\r\n2. If you want the task to be responsive to interruption, then you should use the regular way of cancelling a task, namely notify the task that it should no longer continue by future.cancel() and the task you are notifying should be coded in a way that detects interruptions and clears any state required and return. (return something like an empty result, a special result etc.)\r\n\r\nNOTE: future.cancel() sets a specific boolean field in Thread class. Some blocking library functions throws InterruptedException in the entry before doing something. For instance, Thread.sleep function might look to see if the boolean flag is set and throw InterruptedException without waiting, or it might wait and somehow detect the cancellation request before waiting to the end and throw InterruptedException. Or it might not detect at all. In this case, you should check regulary through out the task that if the task cancelled. [ using Thread.currentThread().isInterrupted()]  \r\n","title":"How can I gracefully end execution in a java executor without returning or using an exception?","body":"<ol>\n<li><p>You can choose to run the task user wants to cancel by wrapping the future into another object which implements cancel() request and do not delegate the user given cancel request to the underlying future instance. In this case, the task will run as normal. (Trick user that the task cancelled but run in background and do not care the result of the task -- If the task has side-effect, this might not be desirable) -- will use computing resources.</p>\n</li>\n<li><p>If you want the task to be responsive to interruption, then you should use the regular way of cancelling a task, namely notify the task that it should no longer continue by future.cancel() and the task you are notifying should be coded in a way that detects interruptions and clears any state required and return. (return something like an empty result, a special result etc.)</p>\n</li>\n</ol>\n<p>NOTE: future.cancel() sets a specific boolean field in Thread class. Some blocking library functions throws InterruptedException in the entry before doing something. For instance, Thread.sleep function might look to see if the boolean flag is set and throw InterruptedException without waiting, or it might wait and somehow detect the cancellation request before waiting to the end and throw InterruptedException. Or it might not detect at all. In this case, you should check regulary through out the task that if the task cancelled. [ using Thread.currentThread().isInterrupted()]</p>\n"}],"owner":{"account_id":415134,"reputation":12351,"user_id":789750,"accept_rate":87,"display_name":"Dan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1667340156,"creation_date":1666245302,"question_id":74135025,"body_markdown":"I have codebase that calls a black box, that in turn calls other code I have control of, call it `thing.innerMethod()`. The code in the black box needs to execute in a different thread than the code that calls it, so I have decided to use an executor:\r\n\r\n    Future&lt;String&gt; bbFuture = executorService.submit(() -&gt; {\r\n      return blackBox.doStuff(thing);});\r\n\r\nIf the execution takes too long, the user might call another endpoint that ultimately calls `bbFuture.cancel()`, triggering a `CancellationException` in the thread with the future and an `InterruptedException` in the thread running inside the executor.\r\n\r\nThe problem is that when the `InterruptedException` propagates into the black box, it catches it and logs it a stack trace, and raises false alarms. I don&#39;t need to catch *every* `InterruptedException`, but I know a place I could put a `catch` that would get probably 90% of them. The problem is I don&#39;t really have a good way to stop execution without returning from the function, and any partial or dummy result would probably trigger another exception. I know I could use `Thread.currentThread().stop()`, but `stop()` is deprecated.\r\n\r\n**How can I stop execution inside a java executor without returning or throwing an exception?**\r\n\r\n","title":"How can I gracefully end execution in a java executor without returning or using an exception?","body":"<p>I have codebase that calls a black box, that in turn calls other code I have control of, call it <code>thing.innerMethod()</code>. The code in the black box needs to execute in a different thread than the code that calls it, so I have decided to use an executor:</p>\n<pre><code>Future&lt;String&gt; bbFuture = executorService.submit(() -&gt; {\n  return blackBox.doStuff(thing);});\n</code></pre>\n<p>If the execution takes too long, the user might call another endpoint that ultimately calls <code>bbFuture.cancel()</code>, triggering a <code>CancellationException</code> in the thread with the future and an <code>InterruptedException</code> in the thread running inside the executor.</p>\n<p>The problem is that when the <code>InterruptedException</code> propagates into the black box, it catches it and logs it a stack trace, and raises false alarms. I don't need to catch <em>every</em> <code>InterruptedException</code>, but I know a place I could put a <code>catch</code> that would get probably 90% of them. The problem is I don't really have a good way to stop execution without returning from the function, and any partial or dummy result would probably trigger another exception. I know I could use <code>Thread.currentThread().stop()</code>, but <code>stop()</code> is deprecated.</p>\n<p><strong>How can I stop execution inside a java executor without returning or throwing an exception?</strong></p>\n"},{"tags":["java","unicode","codepoint","surrogate-pairs","supplementary"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1372410925,"post_id":17361210,"comment_id":25194399,"body_markdown":"There is no need to add the major tag in the title.","body":"There is no need to add the major tag in the title."},{"owner":{"account_id":1089467,"reputation":196757,"user_id":1084437,"display_name":"Jukka K. Korpela"},"score":3,"creation_date":1372412037,"post_id":17361210,"comment_id":25195010,"body_markdown":"possible duplicate of [Java reading in character streams with supplementary unicode characters](http://stackoverflow.com/questions/7721293/java-reading-in-character-streams-with-supplementary-unicode-characters)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7721293/java-reading-in-character-streams-with-supplementary-unicode-characters\">Java reading in character streams with supplementary unicode characters</a>"},{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":2,"creation_date":1372413555,"post_id":17361210,"comment_id":25195813,"body_markdown":"The possible duplicate does not contain an answer.","body":"The possible duplicate does not contain an answer."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":1,"creation_date":1372457856,"post_id":17361210,"comment_id":25219207,"body_markdown":"both of your answers are &quot;correct&quot; (although the first doesn&#39;t handle end of stream).  nothing about your casts is unsafe.","body":"both of your answers are &quot;correct&quot; (although the first doesn&#39;t handle end of stream).  nothing about your casts is unsafe."},{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":0,"creation_date":1667422061,"post_id":17361210,"comment_id":131166371,"body_markdown":"Read [*The WTF-8 encoding*](https://simonsapin.github.io/wtf-8/) decode from potentially ill-formed `UTF-16` to code points and vice versa…","body":"Read <a href=\"https://simonsapin.github.io/wtf-8/\" rel=\"nofollow noreferrer\"><i>The WTF-8 encoding</i></a> decode from potentially ill-formed <code>UTF-16</code> to code points and vice versa…"}],"answers":[{"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1372415619,"post_id":17361919,"comment_id":25196897,"body_markdown":"Detailed it more; here I read from a file, a FileInputStream. Maybe the confusion is that Unicode in itself is not a format, but standard numbering of symbols. UTF-8, UTF-16LE, UTF-16BE, UTF-16 are the actual binary formats. In effect Java uses Unicode in 2 formats: though `char` is UTF-16, in .class String constants are stored as UTF-8. **UTF-8 covers full Unicode.** In the code above the array `codePoints` uses the Unicode numbers.","body":"Detailed it more; here I read from a file, a FileInputStream. Maybe the confusion is that Unicode in itself is not a format, but standard numbering of symbols. UTF-8, UTF-16LE, UTF-16BE, UTF-16 are the actual binary formats. In effect Java uses Unicode in 2 formats: though <code>char</code> is UTF-16, in .class String constants are stored as UTF-8. <b>UTF-8 covers full Unicode.</b> In the code above the array <code>codePoints</code> uses the Unicode numbers."},{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":1,"creation_date":1372415656,"post_id":17361919,"comment_id":25196912,"body_markdown":"It question asked for a single symbol not a full line. Using `readline` makes it necessary to unread the rest of the line.","body":"It question asked for a single symbol not a full line. Using <code>readline</code> makes it necessary to unread the rest of the line."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1372415743,"post_id":17361919,"comment_id":25196950,"body_markdown":"Ahah, will add it to the answer.","body":"Ahah, will add it to the answer."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1372415837,"creation_date":1372413154,"answer_id":17361919,"question_id":17361210,"body_markdown":"Full Unicode can be represented in both UTF-8 and UTF-16, by sequences of bytes resp. byte pairs (&quot;java chars&quot;). From String a full Unicode _code point_ can be extracted with:\r\n\r\n    int[] codePoints = { 0x1d11e };\r\n    String s = new String(codePoints, 0, codePoints.length);\r\n\r\n    for (int i = 0; i &lt; s.length(); ) {\r\n        int cp = s.codePointAt(i);\r\n        i += Character.charCount(cp);\r\n    }\r\n\r\nFor a file with basically latin characters, UTF-8 would seem fine.\r\n\r\nTho following reads a full standard Unicode file (in UTF-8):\r\n\r\n    try (BufferedReader in = new BufferedReader(\r\n            new InputStreamReader(new FileInputStream(file), &quot;UTF-8&quot;))) {\r\n        for (;;) {\r\n            String line = in.readLine();\r\n            if (line == null) {\r\n                break;\r\n            }\r\n            ... do some thing with a Unicode line ...\r\n        }\r\n    } catch (FileNotFoundException e) {\r\n        System.err.println(&quot;No file: &quot; + file.getPath());\r\n    } catch (IOException e) {\r\n        ...\r\n    }\r\n\r\n-------\r\n\r\nA function that delivers a Java String of one (or more Unicode codes):\r\n\r\n    String s = unicodeToString(0x1d11e);\r\n    String s = unicodeToString(0x68, 0x65, 0x6c, 0x6c, 0x6f, 0x1d11e);\r\n\r\n    public static String unicodeToString(int... codepoints) {\r\n        return new String(codePoints, 0, codePoints.length);\r\n    }\r\n","title":"How to read non-BMP (astral) Unicode supplementary characters (code points)","body":"<p>Full Unicode can be represented in both UTF-8 and UTF-16, by sequences of bytes resp. byte pairs (\"java chars\"). From String a full Unicode <em>code point</em> can be extracted with:</p>\n\n<pre><code>int[] codePoints = { 0x1d11e };\nString s = new String(codePoints, 0, codePoints.length);\n\nfor (int i = 0; i &lt; s.length(); ) {\n    int cp = s.codePointAt(i);\n    i += Character.charCount(cp);\n}\n</code></pre>\n\n<p>For a file with basically latin characters, UTF-8 would seem fine.</p>\n\n<p>Tho following reads a full standard Unicode file (in UTF-8):</p>\n\n<pre><code>try (BufferedReader in = new BufferedReader(\n        new InputStreamReader(new FileInputStream(file), \"UTF-8\"))) {\n    for (;;) {\n        String line = in.readLine();\n        if (line == null) {\n            break;\n        }\n        ... do some thing with a Unicode line ...\n    }\n} catch (FileNotFoundException e) {\n    System.err.println(\"No file: \" + file.getPath());\n} catch (IOException e) {\n    ...\n}\n</code></pre>\n\n<hr>\n\n<p>A function that delivers a Java String of one (or more Unicode codes):</p>\n\n<pre><code>String s = unicodeToString(0x1d11e);\nString s = unicodeToString(0x68, 0x65, 0x6c, 0x6c, 0x6f, 0x1d11e);\n\npublic static String unicodeToString(int... codepoints) {\n    return new String(codePoints, 0, codePoints.length);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1372455377,"post_id":17364444,"comment_id":25218371,"body_markdown":"what does converting this to a codepoint gain?  if you want to do anything useful, you most likely want the data in a String.","body":"what does converting this to a codepoint gain?  if you want to do anything useful, you most likely want the data in a String."},{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":0,"creation_date":1406277029,"post_id":17364444,"comment_id":38779041,"body_markdown":"@jtahlborn Every parser needs the next character and not the next string. Would you say parsers are not useful?","body":"@jtahlborn Every parser needs the next character and not the next string. Would you say parsers are not useful?"}],"tags":[],"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1372422425,"creation_date":1372421388,"answer_id":17364444,"question_id":17361210,"body_markdown":"&gt; My best work around so far is this but it still contains unsafe casts\r\n\r\nThe only unsafe thing about the code you&#39;ve presented is that `ch16` might be -1 if `input` has reached EOF.  If you check for this condition first then you can guarantee that the other `(char)` casts are safe as `Reader.read()` [is specified][1] to return either -1 or a value that is within the range of `char` (0 - 0xFFFF).\r\n\r\n    public int read_code_point (Reader input) throws java.io.IOException\r\n    {\r\n      int ch16 = input.read();\r\n      if (ch16 &lt; 0 || !Character.isHighSurrogate((char)ch16))\r\n        return ch16;\r\n      else {\r\n        int loSurr = input.read();\r\n        if(loSurr &lt; 0 || !Character.isLowSurrogate((char)loSurr)) \r\n          return ch16; // or possibly throw an exception\r\n        else \r\n          return Character.toCodePoint((char)ch16, (char)loSurr);\r\n      }\r\n    }\r\n\r\nThis still isn&#39;t ideal, really you need to handle the edge case where the first `char` read is a high surrogate but the second one isn&#39;t a matching low surrogate, in which case you probably want to return the first `char` as-is _and backup the reader_ so that the next read gives you the next character.  But that only works if `input.markSupported() == true`.  If you _can_ guarantee that then how about\r\n\r\n    public int read_code_point (Reader input) throws java.io.IOException\r\n    {\r\n      int firstChar = input.read();\r\n      if (firstChar &lt; 0 || !Character.isHighSurrogate((char)firstChar)) {\r\n        return firstChar;\r\n      } else {\r\n        input.mark(1);\r\n        int secondChar = input.read();\r\n        if(secondChar &lt; 0) {\r\n          // reached EOF\r\n          return firstChar;\r\n        } else if(!Character.isLowSurrogate((char)secondChar)) {\r\n          // unpaired surrogates, un-read the second char\r\n          input.reset();\r\n          return firstChar;\r\n        }\r\n        else {\r\n          return Character.toCodePoint((char)firstChar, (char)secondChar);\r\n        }\r\n      }\r\n    }\r\n\r\nOr you could wrap the original reader in a `PushbackReader` and use `unread(secondChar)`\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/Reader.html#read%28%29","title":"How to read non-BMP (astral) Unicode supplementary characters (code points)","body":"<blockquote>\n  <p>My best work around so far is this but it still contains unsafe casts</p>\n</blockquote>\n\n<p>The only unsafe thing about the code you've presented is that <code>ch16</code> might be -1 if <code>input</code> has reached EOF.  If you check for this condition first then you can guarantee that the other <code>(char)</code> casts are safe as <code>Reader.read()</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Reader.html#read%28%29\" rel=\"nofollow\">is specified</a> to return either -1 or a value that is within the range of <code>char</code> (0 - 0xFFFF).</p>\n\n<pre><code>public int read_code_point (Reader input) throws java.io.IOException\n{\n  int ch16 = input.read();\n  if (ch16 &lt; 0 || !Character.isHighSurrogate((char)ch16))\n    return ch16;\n  else {\n    int loSurr = input.read();\n    if(loSurr &lt; 0 || !Character.isLowSurrogate((char)loSurr)) \n      return ch16; // or possibly throw an exception\n    else \n      return Character.toCodePoint((char)ch16, (char)loSurr);\n  }\n}\n</code></pre>\n\n<p>This still isn't ideal, really you need to handle the edge case where the first <code>char</code> read is a high surrogate but the second one isn't a matching low surrogate, in which case you probably want to return the first <code>char</code> as-is <em>and backup the reader</em> so that the next read gives you the next character.  But that only works if <code>input.markSupported() == true</code>.  If you <em>can</em> guarantee that then how about</p>\n\n<pre><code>public int read_code_point (Reader input) throws java.io.IOException\n{\n  int firstChar = input.read();\n  if (firstChar &lt; 0 || !Character.isHighSurrogate((char)firstChar)) {\n    return firstChar;\n  } else {\n    input.mark(1);\n    int secondChar = input.read();\n    if(secondChar &lt; 0) {\n      // reached EOF\n      return firstChar;\n    } else if(!Character.isLowSurrogate((char)secondChar)) {\n      // unpaired surrogates, un-read the second char\n      input.reset();\n      return firstChar;\n    }\n    else {\n      return Character.toCodePoint((char)firstChar, (char)secondChar);\n    }\n  }\n}\n</code></pre>\n\n<p>Or you could wrap the original reader in a <code>PushbackReader</code> and use <code>unread(secondChar)</code></p>\n"}],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":17364444,"answer_count":2,"score":8,"last_activity_date":1667339635,"creation_date":1372410857,"question_id":17361210,"body_markdown":"The G-Clef (U+1D11E) is not part of the [Basic Multilingual Plane][1] (BMP), which means that it requires more than 16 bit. Almost all of Java&#39;s read functions return only a `char` or a `int` containing also [only 16 bit][2]. Which function reads complete Unicode symbols including SMP, SIP, TIP, SSP and PUA?\r\n\r\n**Update**\r\n\r\nI have asked how to read a single Unicode symbol (or code point) from a input stream. I neither have any integer array nor do I want to read a line.\r\n\r\nIt is possible to build a code point with `Character.toCodePoint()` but this function requires a `char`. On the other side reading a `char` is not possible because `read()` returns an `int`.  My best work around so far is this but it still contains unsafe casts:\r\n\r\n    public int read_code_point (Reader input) throws java.io.IOException\r\n    {\r\n      int ch16 = input.read();\r\n      if (Character.isHighSurrogate((char)ch16))\r\n        return Character.toCodePoint((char)ch16, (char)input.read());\r\n      else \r\n        return (int)ch16;\r\n    }\r\n\r\nHow to do it better?\r\n\r\n**Update 2**\r\n\r\nAnother version returning a String but still using casts:\r\n\r\n    public String readchar (Reader input) throws java.io.IOException\r\n    {\r\n      int i16 = input.read(); // UTF-16 as int\r\n      if (i16 == -1) return null;\r\n      char c16 = (char)i16; // UTF-16\r\n      if (Character.isHighSurrogate(c16)) {\r\n        int low_i16 = input.read(); // low surrogate UTF-16 as int\r\n        if (low_i16 == -1)\r\n          throw new java.io.IOException (&quot;Can not read low surrogate&quot;);\r\n        char low_c16 = (char)low_i16;\r\n        int codepoint = Character.toCodePoint(c16, low_c16);\r\n        return new String (Character.toChars(codepoint));\r\n      }\r\n      else \r\n        return Character.toString(c16);\r\n    }\r\n\r\nThe remaining question: are the casts safe or how to avoid them?\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Unicode_plane#Basic_Multilingual_Plane\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/io/Reader.html#read%28%29","title":"How to read non-BMP (astral) Unicode supplementary characters (code points)","body":"<p>The G-Clef (U+1D11E) is not part of the <a href=\"http://en.wikipedia.org/wiki/Unicode_plane#Basic_Multilingual_Plane\" rel=\"nofollow\">Basic Multilingual Plane</a> (BMP), which means that it requires more than 16 bit. Almost all of Java's read functions return only a <code>char</code> or a <code>int</code> containing also <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Reader.html#read%28%29\" rel=\"nofollow\">only 16 bit</a>. Which function reads complete Unicode symbols including SMP, SIP, TIP, SSP and PUA?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I have asked how to read a single Unicode symbol (or code point) from a input stream. I neither have any integer array nor do I want to read a line.</p>\n\n<p>It is possible to build a code point with <code>Character.toCodePoint()</code> but this function requires a <code>char</code>. On the other side reading a <code>char</code> is not possible because <code>read()</code> returns an <code>int</code>.  My best work around so far is this but it still contains unsafe casts:</p>\n\n<pre><code>public int read_code_point (Reader input) throws java.io.IOException\n{\n  int ch16 = input.read();\n  if (Character.isHighSurrogate((char)ch16))\n    return Character.toCodePoint((char)ch16, (char)input.read());\n  else \n    return (int)ch16;\n}\n</code></pre>\n\n<p>How to do it better?</p>\n\n<p><strong>Update 2</strong></p>\n\n<p>Another version returning a String but still using casts:</p>\n\n<pre><code>public String readchar (Reader input) throws java.io.IOException\n{\n  int i16 = input.read(); // UTF-16 as int\n  if (i16 == -1) return null;\n  char c16 = (char)i16; // UTF-16\n  if (Character.isHighSurrogate(c16)) {\n    int low_i16 = input.read(); // low surrogate UTF-16 as int\n    if (low_i16 == -1)\n      throw new java.io.IOException (\"Can not read low surrogate\");\n    char low_c16 = (char)low_i16;\n    int codepoint = Character.toCodePoint(c16, low_c16);\n    return new String (Character.toChars(codepoint));\n  }\n  else \n    return Character.toString(c16);\n}\n</code></pre>\n\n<p>The remaining question: are the casts safe or how to avoid them?</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":3,"creation_date":1430646307,"post_id":30012295,"comment_id":48142687,"body_markdown":"Your code won&#39;t compile; a `User` is not a `Client`, unless `User` inherits `Client`.","body":"Your code won&#39;t compile; a <code>User</code> is not a <code>Client</code>, unless <code>User</code> inherits <code>Client</code>."}],"answers":[{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1430646846,"post_id":30012467,"comment_id":48142847,"body_markdown":"We are not comparing objects by their `equals` method here. Please reread the question.","body":"We are not comparing objects by their <code>equals</code> method here. Please reread the question."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1430647136,"post_id":30012467,"comment_id":48142926,"body_markdown":"I see you corrected approach in your answer but there are still minor problems with it. Please don&#39;t post answer if you didn&#39;t test it first. There is no shame in deleting it to avoid farther downvoting and confusion, correcting it *in the shadows* and undeleting it when it is correct.","body":"I see you corrected approach in your answer but there are still minor problems with it. Please don&#39;t post answer if you didn&#39;t test it first. There is no shame in deleting it to avoid farther downvoting and confusion, correcting it <i>in the shadows</i> and undeleting it when it is correct."}],"tags":[],"owner":{"account_id":29375,"reputation":9332,"user_id":79332,"accept_rate":72,"display_name":"daphshez"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1430647250,"creation_date":1430646759,"answer_id":30012467,"question_id":30012295,"body_markdown":"Something like:\r\n\r\n    clients.stream.filter(c-&gt;{\r\n       users.stream.filter(u-&gt;u.getName().equals(c.getName()).count()&gt;0\r\n    }).collect(Collectors.toList());\r\n\r\n\r\nThis is however not an awfully efficient way to do it. Unless the collections are very small, you will be better of building a set of user names and using that in the condition. ","title":"Java 8 Lambda filter by Lists","body":"<p>Something like:</p>\n\n<pre><code>clients.stream.filter(c-&gt;{\n   users.stream.filter(u-&gt;u.getName().equals(c.getName()).count()&gt;0\n}).collect(Collectors.toList());\n</code></pre>\n\n<p>This is however not an awfully efficient way to do it. Unless the collections are very small, you will be better of building a set of user names and using that in the condition. </p>\n"},{"comments":[{"owner":{"account_id":407917,"reputation":568,"user_id":778262,"accept_rate":64,"display_name":"Jeremy G"},"score":0,"creation_date":1468453274,"post_id":30012511,"comment_id":64139080,"body_markdown":"I&#39;m curious how the second implementation is more efficient?  It looks likei it is still O(m * n) to me.  When we do acceptableNames.contains(...) we are traversing that set.  Is the idea that the Set will weed out duplicates so it is a slightly better O(m * n)?","body":"I&#39;m curious how the second implementation is more efficient?  It looks likei it is still O(m * n) to me.  When we do acceptableNames.contains(...) we are traversing that set.  Is the idea that the Set will weed out duplicates so it is a slightly better O(m * n)?"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1468476228,"post_id":30012511,"comment_id":64144595,"body_markdown":"No. Calling contains() on a List does traverse the list. But calling contains on a HashSet just computes the hashCode and traverses the bucket corresponding to that hashCode, which typically contains 0 or 1 element. A HashSet contains lookup is O(1).","body":"No. Calling contains() on a List does traverse the list. But calling contains on a HashSet just computes the hashCode and traverses the bucket corresponding to that hashCode, which typically contains 0 or 1 element. A HashSet contains lookup is O(1)."},{"owner":{"account_id":407917,"reputation":568,"user_id":778262,"accept_rate":64,"display_name":"Jeremy G"},"score":2,"creation_date":1468515497,"post_id":30012511,"comment_id":64169981,"body_markdown":"Ah, I understand.  Calling .contains() on a list would be O(n), but O(1) on HashSet.  Thanks for the clarification!","body":"Ah, I understand.  Calling .contains() on a list would be O(n), but O(1) on HashSet.  Thanks for the clarification!"}],"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":3,"down_vote_count":0,"up_vote_count":100,"is_accepted":true,"score":100,"last_activity_date":1430647461,"creation_date":1430647125,"answer_id":30012511,"question_id":30012295,"body_markdown":"    Predicate&lt;Client&gt; hasSameNameAsOneUser = \r\n        c -&gt; users.stream().anyMatch(u -&gt; u.getName().equals(c.getName()));\r\n    \r\n    return clients.stream()\r\n                  .filter(hasSameNameAsOneUser)\r\n                  .collect(Collectors.toList());\r\n\r\nBut this is quite inefficient, because it&#39;s O(m * n). You&#39;d better create a Set of acceptable names:\r\n\r\n    Set&lt;String&gt; acceptableNames = \r\n        users.stream()\r\n             .map(User::getName)\r\n             .collect(Collectors.toSet());\r\n\r\n    return clients.stream()\r\n                  .filter(c -&gt; acceptableNames.contains(c.getName()))\r\n                  .collect(Collectors.toList());\r\n\r\nAlso note that it&#39;s not strictly equivalent to the code you have (if it compiled), which adds the same client twice to the list if several users have the same name as the client.","title":"Java 8 Lambda filter by Lists","body":"<pre><code>Predicate&lt;Client&gt; hasSameNameAsOneUser = \n    c -&gt; users.stream().anyMatch(u -&gt; u.getName().equals(c.getName()));\n\nreturn clients.stream()\n              .filter(hasSameNameAsOneUser)\n              .collect(Collectors.toList());\n</code></pre>\n\n<p>But this is quite inefficient, because it's O(m * n). You'd better create a Set of acceptable names:</p>\n\n<pre><code>Set&lt;String&gt; acceptableNames = \n    users.stream()\n         .map(User::getName)\n         .collect(Collectors.toSet());\n\nreturn clients.stream()\n              .filter(c -&gt; acceptableNames.contains(c.getName()))\n              .collect(Collectors.toList());\n</code></pre>\n\n<p>Also note that it's not strictly equivalent to the code you have (if it compiled), which adds the same client twice to the list if several users have the same name as the client.</p>\n"},{"comments":[{"owner":{"account_id":311725,"reputation":809,"user_id":4894473,"display_name":"Lam Le"},"score":0,"creation_date":1457147462,"post_id":33874301,"comment_id":59288152,"body_markdown":"`users.stream().map(User::getName).collect(Collectors.toList())`\n\nIt is more efficient if you use Collectors.toSet() for users to distinct user.name","body":"<code>users.stream().map(User::getName).collect(Collectors.toList(&zwnj;&#8203;))</code>  It is more efficient if you use Collectors.toSet() for users to distinct user.name"}],"tags":[],"owner":{"account_id":4800889,"reputation":99,"user_id":3877552,"display_name":"LeoMandrak"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1448291321,"creation_date":1448291321,"answer_id":33874301,"question_id":30012295,"body_markdown":"Look this:\r\n\r\n\r\n    List&lt;Client&gt; result = clients\r\n\t\t.stream()\r\n\t\t.filter(c -&gt; \r\n\t\t\t(users.stream().map(User::getName).collect(Collectors.toList())).contains(c.getName()))\r\n\t\t\t.collect(Collectors.toList());","title":"Java 8 Lambda filter by Lists","body":"<p>Look this:</p>\n\n<pre><code>List&lt;Client&gt; result = clients\n    .stream()\n    .filter(c -&gt; \n        (users.stream().map(User::getName).collect(Collectors.toList())).contains(c.getName()))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12178797,"reputation":163,"user_id":8891016,"display_name":"Eswaran Venkatesan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1510411984,"creation_date":1510411679,"answer_id":47239165,"question_id":30012295,"body_markdown":"I would like share an example to understand the usage of stream().filter\r\n\r\n**Code Snippet**: Sample program to identify even number.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n\r\n    public void fetchEvenNumber(){\r\n            List&lt;Integer&gt; numberList = new ArrayList&lt;&gt;();\r\n    \t\tnumberList.add(10);\r\n    \t\tnumberList.add(11);\r\n    \t\tnumberList.add(12);\r\n    \t\tnumberList.add(13);\r\n    \t\tnumberList.add(14);\r\n    \t\tnumberList.add(15);\r\n    \r\n            List&lt;Integer&gt; evenNumberListObj = numberList.stream().filter(i -&gt; i%2 == 0).collect(Collectors.toList());\r\n    \t\tSystem.out.println(evenNumberListObj);\r\n    }\r\n\r\nOutput will be : [10, 12, 14]\r\n \r\nList&lt;Integer&gt; evenNumberListObj = numberList.stream().filter(i -&gt; i%2 == 0).collect(Collectors.toList());\r\n\r\n***numberList***: it is an ArrayList&lt;Integer&gt; object contains list of numbers.\r\n\r\n***java.util.Collection.stream()*** : stream() will get the stream of collection, which will return the Stream of Integer.\r\n\r\n***filter***:  Returns a stream that match the given predicate. i.e based on given condition (i -&gt; i%2 != 0) returns the matching stream.\r\n\r\n***collect***: whatever the stream of Integer filter based in the filter condition, those integer will be put in a list.  \r\n\t\t","title":"Java 8 Lambda filter by Lists","body":"<p>I would like share an example to understand the usage of stream().filter</p>\n\n<p><strong>Code Snippet</strong>: Sample program to identify even number.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic void fetchEvenNumber(){\n        List&lt;Integer&gt; numberList = new ArrayList&lt;&gt;();\n        numberList.add(10);\n        numberList.add(11);\n        numberList.add(12);\n        numberList.add(13);\n        numberList.add(14);\n        numberList.add(15);\n\n        List&lt;Integer&gt; evenNumberListObj = numberList.stream().filter(i -&gt; i%2 == 0).collect(Collectors.toList());\n        System.out.println(evenNumberListObj);\n}\n</code></pre>\n\n<p>Output will be : [10, 12, 14]</p>\n\n<p>List evenNumberListObj = numberList.stream().filter(i -> i%2 == 0).collect(Collectors.toList());</p>\n\n<p><strong><em>numberList</em></strong>: it is an ArrayList object contains list of numbers.</p>\n\n<p><strong><em>java.util.Collection.stream()</em></strong> : stream() will get the stream of collection, which will return the Stream of Integer.</p>\n\n<p><strong><em>filter</em></strong>:  Returns a stream that match the given predicate. i.e based on given condition (i -> i%2 != 0) returns the matching stream.</p>\n\n<p><strong><em>collect</em></strong>: whatever the stream of Integer filter based in the filter condition, those integer will be put in a list.  </p>\n"}],"owner":{"account_id":4555377,"reputation":1729,"user_id":3699261,"accept_rate":81,"display_name":"eszik.k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174702,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":30012511,"answer_count":4,"score":51,"last_activity_date":1667338701,"creation_date":1430645616,"question_id":30012295,"body_markdown":"I have two list and i want filter thoose elements which are both list contains. And i want to do this with lambda expression.\r\n\r\nUsers getName and Clients getUserName both are return with String.\r\n\r\nHere is my sample code:\r\n\r\n    List&lt;Client&gt; clients = new ArrayList&lt;&gt;();\r\n    List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n    List&lt;Client&gt; results = new ArrayList&lt;&gt;();\r\n\r\n    for (Client user : users) {\r\n        for(Client client: clients){\r\n            if(user.getName().equals(client.getUserName())){\r\n                result.add(client);\r\n            }\r\n        }\r\n    }","title":"Java 8 Lambda filter by Lists","body":"<p>I have two list and i want filter thoose elements which are both list contains. And i want to do this with lambda expression.</p>\n\n<p>Users getName and Clients getUserName both are return with String.</p>\n\n<p>Here is my sample code:</p>\n\n<pre><code>List&lt;Client&gt; clients = new ArrayList&lt;&gt;();\nList&lt;User&gt; users = new ArrayList&lt;&gt;();\nList&lt;Client&gt; results = new ArrayList&lt;&gt;();\n\nfor (Client user : users) {\n    for(Client client: clients){\n        if(user.getName().equals(client.getUserName())){\n            result.add(client);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":2501854,"reputation":790,"user_id":5392825,"display_name":"Yasir Tahir"},"score":0,"creation_date":1462359623,"post_id":37025789,"comment_id":61601687,"body_markdown":"Why there is linearlayout?","body":"Why there is linearlayout?"},{"owner":{"account_id":2501854,"reputation":790,"user_id":5392825,"display_name":"Yasir Tahir"},"score":0,"creation_date":1462359684,"post_id":37025789,"comment_id":61601736,"body_markdown":"Remove that linearlayout and change the height of ScrollView to match parent","body":"Remove that linearlayout and change the height of ScrollView to match parent"}],"answers":[{"tags":[],"owner":{"account_id":8091186,"reputation":1841,"user_id":6097062,"display_name":"Saurabh Vardani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462359624,"creation_date":1462359624,"answer_id":37025863,"question_id":37025789,"body_markdown":"Add one more Relative layout in Linear Layout like this\r\n\r\n    &lt;RelativeLayout\r\n            android:id=&quot;@+id/footer&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:gravity=&quot;center&quot;&gt;\r\n            &lt;Button\r\n        android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;45dp&quot;\r\n        android:background=&quot;@drawable/btnbg&quot;\r\n        android:textColor=&quot;#ffffff&quot;\r\n        android:textSize=&quot;25sp&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:id=&quot;@+id/btncalendar&quot;\r\n        android:text=&quot;POST CALENDAR&quot;\r\n       /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n\r\n","title":"my scrollview does not show the last item (Button)","body":"<p>Add one more Relative layout in Linear Layout like this</p>\n\n<pre><code>&lt;RelativeLayout\n        android:id=\"@+id/footer\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:gravity=\"center\"&gt;\n        &lt;Button\n    android:layout_width=\"match_parent\"\n        android:layout_height=\"45dp\"\n    android:background=\"@drawable/btnbg\"\n    android:textColor=\"#ffffff\"\n    android:textSize=\"25sp\"\n    android:layout_marginTop=\"25dp\"\n    android:id=\"@+id/btncalendar\"\n    android:text=\"POST CALENDAR\"\n   /&gt;\n    &lt;/RelativeLayout&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2501854,"reputation":790,"user_id":5392825,"display_name":"Yasir Tahir"},"score":0,"creation_date":1462361747,"post_id":37026230,"comment_id":61603242,"body_markdown":"Did you made any changes in your answer while referring to the question? I am unable to find any change. If yes, then this is not an answer!","body":"Did you made any changes in your answer while referring to the question? I am unable to find any change. If yes, then this is not an answer!"},{"owner":{"account_id":8199717,"reputation":3,"user_id":6171431,"display_name":"Subdue"},"score":0,"creation_date":1462364284,"post_id":37026230,"comment_id":61605019,"body_markdown":"thanx a lot i appreciate","body":"thanx a lot i appreciate"}],"tags":[],"owner":{"account_id":4103438,"reputation":1830,"user_id":3368273,"display_name":"Mahesh Giri"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1462360536,"creation_date":1462360536,"answer_id":37026230,"question_id":37025789,"body_markdown":"Just do like this May be there is no need for ScrollView\r\n\r\n\r\n        &lt;ScrollView\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fillViewport=&quot;true&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot; &gt;\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                tools:context=&quot;com.msu.admin.subdueandroid.Calendering&quot;\r\n                android:id=&quot;@+id/rel1&quot;&gt;\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;SEMESTER CALENDAR&quot;\r\n                    android:typeface=&quot;sans&quot;\r\n                    android:textSize=&quot;35sp&quot;\r\n                    android:textColor=&quot;#ffffffff&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:background=&quot;@drawable/btnbg&quot;\r\n                    android:id=&quot;@+id/textView5&quot;\r\n                    android:layout_alignParentTop=&quot;true&quot;\r\n                    android:layout_alignParentLeft=&quot;true&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/grestarts&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:textColor=&quot;#002b1b&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:hint=&quot;Online Registration Starts(returning)&quot;\r\n                    android:layout_below=&quot;@+id/textView5&quot;\r\n                    android:layout_alignParentLeft=&quot;true&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:inputType=&quot;none&quot;/&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/gorstart&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:textColor=&quot;#002b1b&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:hint=&quot;Orientation and Registration (new students)&quot;\r\n                    android:layout_below=&quot;@+id/grestarts&quot;\r\n                    android:layout_alignParentLeft=&quot;true&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:inputType=&quot;none&quot;/&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/gstart&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:textColor=&quot;#002b1b&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:hint=&quot;Semester Starts&quot;\r\n                    android:layout_below=&quot;@+id/gorstart&quot;\r\n                    android:layout_alignParentLeft=&quot;true&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:inputType=&quot;none&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/semstart&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:textColor=&quot;#002b1b&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:hint=&quot;Semester Break Starts&quot;\r\n                    android:layout_below=&quot;@+id/gstart&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:inputType=&quot;none&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/semend&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:textColor=&quot;#002b1b&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:hint=&quot;Semester Break Ends&quot;\r\n                    android:layout_below=&quot;@+id/semstart&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:inputType=&quot;none&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/exstart&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:textColor=&quot;#002b1b&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:hint=&quot;Semester Exam Start&quot;\r\n                    android:layout_below=&quot;@+id/semend&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:inputType=&quot;none&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/exend&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:textColor=&quot;#002b1b&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:hint=&quot;Semester Exam End&quot;\r\n                    android:layout_below=&quot;@+id/exstart&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:inputType=&quot;none&quot;/&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/semsend&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:textColor=&quot;#002b1b&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:hint=&quot;Semester Ends&quot;\r\n                    android:layout_below=&quot;@+id/exend&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:inputType=&quot;none&quot;/&gt;\r\n                &lt;Button\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:background=&quot;@drawable/btnbg&quot;\r\n                    android:textColor=&quot;#ffffff&quot;\r\n                    android:textSize=&quot;25sp&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:id=&quot;@+id/btncalendar&quot;\r\n                    android:text=&quot;POST CALENDAR&quot;\r\n                    android:layout_below=&quot;@+id/semsend&quot; /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;","title":"my scrollview does not show the last item (Button)","body":"<p>Just do like this May be there is no need for ScrollView</p>\n\n<pre><code>    &lt;ScrollView\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:fillViewport=\"true\"&gt;\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\" &gt;\n        &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            tools:context=\"com.msu.admin.subdueandroid.Calendering\"\n            android:id=\"@+id/rel1\"&gt;\n            &lt;TextView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"SEMESTER CALENDAR\"\n                android:typeface=\"sans\"\n                android:textSize=\"35sp\"\n                android:textColor=\"#ffffffff\"\n                android:textStyle=\"bold\"\n                android:gravity=\"center\"\n                android:background=\"@drawable/btnbg\"\n                android:id=\"@+id/textView5\"\n                android:layout_alignParentTop=\"true\"\n                android:layout_alignParentLeft=\"true\"\n                android:layout_alignParentStart=\"true\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/grestarts\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_weight=\"0.08\"\n                android:textColor=\"#002b1b\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:hint=\"Online Registration Starts(returning)\"\n                android:layout_below=\"@+id/textView5\"\n                android:layout_alignParentLeft=\"true\"\n                android:layout_alignParentStart=\"true\"\n                android:layout_marginTop=\"25dp\"\n                android:inputType=\"none\"/&gt;\n\n            &lt;TextView\n                android:id=\"@+id/gorstart\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_weight=\"0.08\"\n                android:textColor=\"#002b1b\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:hint=\"Orientation and Registration (new students)\"\n                android:layout_below=\"@+id/grestarts\"\n                android:layout_alignParentLeft=\"true\"\n                android:layout_alignParentStart=\"true\"\n                android:layout_marginTop=\"25dp\"\n                android:cursorVisible=\"false\"\n                android:inputType=\"none\"/&gt;\n\n            &lt;TextView\n                android:id=\"@+id/gstart\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_weight=\"0.08\"\n                android:textColor=\"#002b1b\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:hint=\"Semester Starts\"\n                android:layout_below=\"@+id/gorstart\"\n                android:layout_alignParentLeft=\"true\"\n                android:layout_alignParentStart=\"true\"\n                android:layout_marginTop=\"25dp\"\n                android:cursorVisible=\"false\"\n                android:inputType=\"none\"/&gt;\n            &lt;TextView\n                android:id=\"@+id/semstart\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_weight=\"0.08\"\n                android:textColor=\"#002b1b\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:hint=\"Semester Break Starts\"\n                android:layout_below=\"@+id/gstart\"\n                android:layout_centerHorizontal=\"true\"\n                android:layout_marginTop=\"25dp\"\n                android:cursorVisible=\"false\"\n                android:inputType=\"none\"/&gt;\n            &lt;TextView\n                android:id=\"@+id/semend\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_weight=\"0.08\"\n                android:textColor=\"#002b1b\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:hint=\"Semester Break Ends\"\n                android:layout_below=\"@+id/semstart\"\n                android:layout_centerHorizontal=\"true\"\n                android:layout_marginTop=\"25dp\"\n                android:cursorVisible=\"false\"\n                android:inputType=\"none\"/&gt;\n            &lt;TextView\n                android:id=\"@+id/exstart\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_weight=\"0.08\"\n                android:textColor=\"#002b1b\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:hint=\"Semester Exam Start\"\n                android:layout_below=\"@+id/semend\"\n                android:layout_centerHorizontal=\"true\"\n                android:layout_marginTop=\"25dp\"\n                android:cursorVisible=\"false\"\n                android:inputType=\"none\"/&gt;\n            &lt;TextView\n                android:id=\"@+id/exend\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_weight=\"0.08\"\n                android:textColor=\"#002b1b\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:hint=\"Semester Exam End\"\n                android:layout_below=\"@+id/exstart\"\n                android:layout_marginTop=\"25dp\"\n                android:cursorVisible=\"false\"\n                android:inputType=\"none\"/&gt;\n            &lt;TextView\n                android:id=\"@+id/semsend\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_weight=\"0.08\"\n                android:textColor=\"#002b1b\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:hint=\"Semester Ends\"\n                android:layout_below=\"@+id/exend\"\n                android:layout_centerHorizontal=\"true\"\n                android:layout_marginTop=\"25dp\"\n                android:cursorVisible=\"false\"\n                android:inputType=\"none\"/&gt;\n            &lt;Button\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:background=\"@drawable/btnbg\"\n                android:textColor=\"#ffffff\"\n                android:textSize=\"25sp\"\n                android:layout_marginTop=\"25dp\"\n                android:id=\"@+id/btncalendar\"\n                android:text=\"POST CALENDAR\"\n                android:layout_below=\"@+id/semsend\" /&gt;\n        &lt;/RelativeLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2501854,"reputation":790,"user_id":5392825,"display_name":"Yasir Tahir"},"score":0,"creation_date":1462361256,"post_id":37026236,"comment_id":61602880,"body_markdown":"In the code, ScrollView is still hosting only one child. Although, there is no need for two level view hierarchy. So, either LinearLayout or RelativeLayout can be removed.","body":"In the code, ScrollView is still hosting only one child. Although, there is no need for two level view hierarchy. So, either LinearLayout or RelativeLayout can be removed."}],"tags":[],"owner":{"account_id":7507805,"reputation":671,"user_id":5703820,"accept_rate":50,"display_name":"Infinite Loops"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462360551,"creation_date":1462360551,"answer_id":37026236,"question_id":37025789,"body_markdown":"ScrollView can only have one child, so remove either the `Linear Layout` or `Relative Layout` in your code.\r\nSort all the code properly so that all of the code is `INSIDE` ScrollView, not `UNDER` it.","title":"my scrollview does not show the last item (Button)","body":"<p>ScrollView can only have one child, so remove either the <code>Linear Layout</code> or <code>Relative Layout</code> in your code.\nSort all the code properly so that all of the code is <code>INSIDE</code> ScrollView, not <code>UNDER</code> it.</p>\n"},{"tags":[],"owner":{"account_id":4681378,"reputation":2067,"user_id":3789993,"accept_rate":74,"display_name":"AbhayBohra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462363132,"creation_date":1462363132,"answer_id":37027156,"question_id":37025789,"body_markdown":"Add some padding bottom on your parent LinearLayout like:\r\n\r\n    android:paddingBottom=&quot;15dp&quot;","title":"my scrollview does not show the last item (Button)","body":"<p>Add some padding bottom on your parent LinearLayout like:</p>\n\n<pre><code>android:paddingBottom=\"15dp\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6825586,"reputation":2117,"user_id":5251407,"accept_rate":57,"display_name":"Akhil Soman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462363695,"creation_date":1462363695,"answer_id":37027372,"question_id":37025789,"body_markdown":"Your button could be behind the navigation bar. To check if this is the case. Just add another button under the btncalendar, with visibility=&quot;invisible&quot;. OR just add paddingBottom=&quot;40dp&quot; to your Relative layout. And check if the btncalendar is visible or not.","title":"my scrollview does not show the last item (Button)","body":"<p>Your button could be behind the navigation bar. To check if this is the case. Just add another button under the btncalendar, with visibility=\"invisible\". OR just add paddingBottom=\"40dp\" to your Relative layout. And check if the btncalendar is visible or not.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667579133,"post_id":74282071,"comment_id":131207454,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74282071/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":6429179,"reputation":1985,"user_id":4983082,"accept_rate":59,"display_name":"GAVD"},"score":0,"creation_date":1667803575,"post_id":74282071,"comment_id":131245713,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/33082958)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/33082958\">From Review</a>"}],"tags":[],"owner":{"account_id":2832790,"reputation":1,"user_id":2434011,"display_name":"Y. Cruz"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667338669,"creation_date":1667338669,"answer_id":74282071,"question_id":37025789,"body_markdown":"Quick Fix: Add margin or padding at the bottom of the last item. It will do the trick.","title":"my scrollview does not show the last item (Button)","body":"<p>Quick Fix: Add margin or padding at the bottom of the last item. It will do the trick.</p>\n"}],"owner":{"account_id":8199717,"reputation":3,"user_id":6171431,"display_name":"Subdue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37026230,"answer_count":6,"score":0,"last_activity_date":1667338669,"creation_date":1462359463,"question_id":37025789,"body_markdown":"i am new to android and i have this xml page and when i am running the app , the last item is not showing.i have tried changing the last item to an edittext but the problem remains the same.This xml page is inflated in a fragment.Can someone help.\r\n       \r\n    &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fillViewport=&quot;true&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/rel1&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                tools:context=&quot;com.msu.admin.subdueandroid.Calendering&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView5&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_alignParentLeft=&quot;true&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;\r\n                    android:layout_alignParentTop=&quot;true&quot;\r\n                    android:background=&quot;@drawable/btnbg&quot;\r\n                    android:gravity=&quot;center&quot;\r\n                    android:text=&quot;SEMESTER CALENDAR&quot;\r\n                    android:textColor=&quot;#ffffffff&quot;\r\n                    android:textSize=&quot;35sp&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:typeface=&quot;sans&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/grestarts&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_alignParentLeft=&quot;true&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;\r\n                    android:layout_below=&quot;@+id/textView5&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:hint=&quot;Online Registration Starts(returning)&quot;\r\n                    android:inputType=&quot;none&quot;\r\n                    android:textColor=&quot;#002b1b&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/gorstart&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_alignParentLeft=&quot;true&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;\r\n                    android:layout_below=&quot;@+id/grestarts&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:hint=&quot;Orientation and Registration (new students)&quot;\r\n                    android:inputType=&quot;none&quot;\r\n                    android:textColor=&quot;#002b1b&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/gstart&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_alignParentLeft=&quot;true&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;\r\n                    android:layout_below=&quot;@+id/gorstart&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:hint=&quot;Semester Starts&quot;\r\n                    android:inputType=&quot;none&quot;\r\n                    android:textColor=&quot;#002b1b&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/semstart&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_below=&quot;@+id/gstart&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:hint=&quot;Semester Break Starts&quot;\r\n                    android:inputType=&quot;none&quot;\r\n                    android:textColor=&quot;#002b1b&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/semend&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_below=&quot;@+id/semstart&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:hint=&quot;Semester Break Ends&quot;\r\n                    android:inputType=&quot;none&quot;\r\n                    android:textColor=&quot;#002b1b&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/exstart&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_below=&quot;@+id/semend&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:hint=&quot;Semester Exam Start&quot;\r\n                    android:inputType=&quot;none&quot;\r\n                    android:textColor=&quot;#002b1b&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/exend&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_below=&quot;@+id/exstart&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:hint=&quot;Semester Exam End&quot;\r\n                    android:inputType=&quot;none&quot;\r\n                    android:textColor=&quot;#002b1b&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/semsend&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_below=&quot;@+id/exend&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:layout_weight=&quot;0.08&quot;\r\n                    android:background=&quot;@drawable/roundedtextfield&quot;\r\n                    android:cursorVisible=&quot;false&quot;\r\n                    android:hint=&quot;Semester Ends&quot;\r\n                    android:inputType=&quot;none&quot;\r\n                    android:textColor=&quot;#002b1b&quot; /&gt;\r\n    \r\n                &lt;Button\r\n                    android:id=&quot;@+id/btncalendar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_below=&quot;@+id/semsend&quot;\r\n                    android:layout_marginTop=&quot;25dp&quot;\r\n                    android:background=&quot;@drawable/btnbg&quot;\r\n                    android:text=&quot;POST CALENDAR&quot;\r\n                    android:textColor=&quot;#ffffff&quot;\r\n                    android:textSize=&quot;25sp&quot; /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;","title":"my scrollview does not show the last item (Button)","body":"<p>i am new to android and i have this xml page and when i am running the app , the last item is not showing.i have tried changing the last item to an edittext but the problem remains the same.This xml page is inflated in a fragment.Can someone help.</p>\n\n<pre><code>&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:fillViewport=\"true\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;RelativeLayout\n            android:id=\"@+id/rel1\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            tools:context=\"com.msu.admin.subdueandroid.Calendering\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textView5\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentLeft=\"true\"\n                android:layout_alignParentStart=\"true\"\n                android:layout_alignParentTop=\"true\"\n                android:background=\"@drawable/btnbg\"\n                android:gravity=\"center\"\n                android:text=\"SEMESTER CALENDAR\"\n                android:textColor=\"#ffffffff\"\n                android:textSize=\"35sp\"\n                android:textStyle=\"bold\"\n                android:typeface=\"sans\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/grestarts\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_alignParentLeft=\"true\"\n                android:layout_alignParentStart=\"true\"\n                android:layout_below=\"@+id/textView5\"\n                android:layout_marginTop=\"25dp\"\n                android:layout_weight=\"0.08\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:hint=\"Online Registration Starts(returning)\"\n                android:inputType=\"none\"\n                android:textColor=\"#002b1b\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/gorstart\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_alignParentLeft=\"true\"\n                android:layout_alignParentStart=\"true\"\n                android:layout_below=\"@+id/grestarts\"\n                android:layout_marginTop=\"25dp\"\n                android:layout_weight=\"0.08\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:cursorVisible=\"false\"\n                android:hint=\"Orientation and Registration (new students)\"\n                android:inputType=\"none\"\n                android:textColor=\"#002b1b\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/gstart\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_alignParentLeft=\"true\"\n                android:layout_alignParentStart=\"true\"\n                android:layout_below=\"@+id/gorstart\"\n                android:layout_marginTop=\"25dp\"\n                android:layout_weight=\"0.08\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:cursorVisible=\"false\"\n                android:hint=\"Semester Starts\"\n                android:inputType=\"none\"\n                android:textColor=\"#002b1b\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/semstart\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_below=\"@+id/gstart\"\n                android:layout_centerHorizontal=\"true\"\n                android:layout_marginTop=\"25dp\"\n                android:layout_weight=\"0.08\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:cursorVisible=\"false\"\n                android:hint=\"Semester Break Starts\"\n                android:inputType=\"none\"\n                android:textColor=\"#002b1b\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/semend\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_below=\"@+id/semstart\"\n                android:layout_centerHorizontal=\"true\"\n                android:layout_marginTop=\"25dp\"\n                android:layout_weight=\"0.08\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:cursorVisible=\"false\"\n                android:hint=\"Semester Break Ends\"\n                android:inputType=\"none\"\n                android:textColor=\"#002b1b\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/exstart\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_below=\"@+id/semend\"\n                android:layout_centerHorizontal=\"true\"\n                android:layout_marginTop=\"25dp\"\n                android:layout_weight=\"0.08\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:cursorVisible=\"false\"\n                android:hint=\"Semester Exam Start\"\n                android:inputType=\"none\"\n                android:textColor=\"#002b1b\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/exend\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_below=\"@+id/exstart\"\n                android:layout_marginTop=\"25dp\"\n                android:layout_weight=\"0.08\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:cursorVisible=\"false\"\n                android:hint=\"Semester Exam End\"\n                android:inputType=\"none\"\n                android:textColor=\"#002b1b\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/semsend\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_below=\"@+id/exend\"\n                android:layout_centerHorizontal=\"true\"\n                android:layout_marginTop=\"25dp\"\n                android:layout_weight=\"0.08\"\n                android:background=\"@drawable/roundedtextfield\"\n                android:cursorVisible=\"false\"\n                android:hint=\"Semester Ends\"\n                android:inputType=\"none\"\n                android:textColor=\"#002b1b\" /&gt;\n\n            &lt;Button\n                android:id=\"@+id/btncalendar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"45dp\"\n                android:layout_below=\"@+id/semsend\"\n                android:layout_marginTop=\"25dp\"\n                android:background=\"@drawable/btnbg\"\n                android:text=\"POST CALENDAR\"\n                android:textColor=\"#ffffff\"\n                android:textSize=\"25sp\" /&gt;\n        &lt;/RelativeLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1488542646,"post_id":42578210,"comment_id":72289326,"body_markdown":"Shouldn&#39;t the &quot;negative predicate&quot; be `!d.equals(Integer.valueOf(f));`?","body":"Shouldn&#39;t the &quot;negative predicate&quot; be <code>!d.equals(Integer.valueOf(f));</code>?"},{"owner":{"account_id":5286625,"reputation":647,"user_id":4932655,"accept_rate":100,"display_name":"Display name"},"score":0,"creation_date":1488542747,"post_id":42578210,"comment_id":72289382,"body_markdown":"Yeah sorry that was my typo there.","body":"Yeah sorry that was my typo there."},{"owner":{"account_id":1752871,"reputation":7935,"user_id":1601571,"display_name":"&#214;mer Erden"},"score":0,"creation_date":1488544155,"post_id":42578210,"comment_id":72290292,"body_markdown":"I guess you need to clarify, what do you want at the end? , do you want to seperate positive and negative resulted predict&#39;s arguments to different Stack ? With a single stream? . If this is your purpose, you need to use grouping (or &quot;partitioningBy&quot;) not filter*","body":"I guess you need to clarify, what do you want at the end? , do you want to seperate positive and negative resulted predict&#39;s arguments to different Stack ? With a single stream? . If this is your purpose, you need to use grouping (or &quot;partitioningBy&quot;) not filter*"},{"owner":{"account_id":5286625,"reputation":647,"user_id":4932655,"accept_rate":100,"display_name":"Display name"},"score":0,"creation_date":1488547687,"post_id":42578210,"comment_id":72292789,"body_markdown":"No, I have a single predicate. The problem is that when I use &#39;negative&#39; predicates, my solution bleeds and I can&#39;t find the reason why. Added some clarification with samples.","body":"No, I have a single predicate. The problem is that when I use &#39;negative&#39; predicates, my solution bleeds and I can&#39;t find the reason why. Added some clarification with samples."},{"owner":{"account_id":1752871,"reputation":7935,"user_id":1601571,"display_name":"&#214;mer Erden"},"score":0,"creation_date":1488550454,"post_id":42578210,"comment_id":72294659,"body_markdown":"@Displayname the reason is obvious, your negative prediction returns true at least 1 time.How ?  your 1st collection has at least 1 element that doesn&#39;t equal to any value in 2nd collection,  consider the current element as (int) 1 from 1st collection, then dive into the filter check for negative prediction. 2nd collection has &quot;any&quot; element as &quot;1&quot; ?  no ! so your negative prediction will return true, and any anymatch will be obtained. then filter is not going to work because your all anymatch calls will return true. it would only work for 2 collection have single and same element","body":"@Displayname the reason is obvious, your negative prediction returns true at least 1 time.How ?  your 1st collection has at least 1 element that doesn&#39;t equal to any value in 2nd collection,  consider the current element as (int) 1 from 1st collection, then dive into the filter check for negative prediction. 2nd collection has &quot;any&quot; element as &quot;1&quot; ?  no ! so your negative prediction will return true, and any anymatch will be obtained. then filter is not going to work because your all anymatch calls will return true. it would only work for 2 collection have single and same element"}],"answers":[{"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1488543070,"post_id":42578562,"comment_id":72289586,"body_markdown":"The problem was finding a single piece of code that would handle both cases correctly.","body":"The problem was finding a single piece of code that would handle both cases correctly."},{"owner":{"account_id":1281306,"reputation":1486,"user_id":1235354,"display_name":"utkusonmez"},"score":0,"creation_date":1488544410,"post_id":42578562,"comment_id":72290487,"body_markdown":"Thanks, i edited my answer but i couldnt see that in question","body":"Thanks, i edited my answer but i couldnt see that in question"},{"owner":{"account_id":5286625,"reputation":647,"user_id":4932655,"accept_rate":100,"display_name":"Display name"},"score":0,"creation_date":1488547813,"post_id":42578562,"comment_id":72292879,"body_markdown":"Looks promising but I have a Stack in the collector. I don&#39;t want to have every element, I only need the filtered ones. I can&#39;t really use this appproach for my needs I&#39;m afraid.","body":"Looks promising but I have a Stack in the collector. I don&#39;t want to have every element, I only need the filtered ones. I can&#39;t really use this appproach for my needs I&#39;m afraid."},{"owner":{"account_id":1281306,"reputation":1486,"user_id":1235354,"display_name":"utkusonmez"},"score":0,"creation_date":1488548308,"post_id":42578562,"comment_id":72293220,"body_markdown":"You can convert, what you want! What do you have in your stack? how do you reproduce that an item is in positive case or negative case?","body":"You can convert, what you want! What do you have in your stack? how do you reproduce that an item is in positive case or negative case?"}],"tags":[],"owner":{"account_id":1281306,"reputation":1486,"user_id":1235354,"display_name":"utkusonmez"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488544344,"creation_date":1488543014,"answer_id":42578562,"question_id":42578210,"body_markdown":"This is what you what i think\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; sample = Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);\r\n        List&lt;String&gt; values = Arrays.asList(&quot;4&quot;, &quot;5&quot;, &quot;6&quot;);\r\n\r\n        BiPredicate&lt;Integer, String&gt; predicate = (d, f) -&gt; {\r\n            return d.equals(Integer.valueOf(f));\r\n        };\r\n\r\n        Function&lt;Integer, Integer&gt; converter = Function.identity();\r\n\r\n        Map&lt;Integer, Boolean&gt; filtered =\r\n                sample.parallelStream()\r\n                        .collect(Collectors.toMap(intVal -&gt; converter.apply(intVal), intVal -&gt; values.parallelStream().noneMatch(stringVal -&gt; predicate.test(intVal, stringVal))));\r\n\r\n        System.out.println(&quot;filtered:&quot;);\r\n        filtered.forEach((k,v) -&gt; {\r\n            System.out.println(&quot;positive:&quot; + k + &quot; val: &quot; + v);\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\nresult: \r\n\r\n    positive:0 val: true\r\n    positive:1 val: true\r\n    positive:2 val: true\r\n    positive:3 val: true\r\n    positive:4 val: false\r\n    positive:5 val: false\r\n    positive:6 val: false\r\n    positive:7 val: true\r\n    positive:8 val: true\r\n    positive:9 val: true\r\n\r\n","title":"Filter stream with values from another stream","body":"<p>This is what you what i think</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; sample = Arrays.asList(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);\n    List&lt;String&gt; values = Arrays.asList(\"4\", \"5\", \"6\");\n\n    BiPredicate&lt;Integer, String&gt; predicate = (d, f) -&gt; {\n        return d.equals(Integer.valueOf(f));\n    };\n\n    Function&lt;Integer, Integer&gt; converter = Function.identity();\n\n    Map&lt;Integer, Boolean&gt; filtered =\n            sample.parallelStream()\n                    .collect(Collectors.toMap(intVal -&gt; converter.apply(intVal), intVal -&gt; values.parallelStream().noneMatch(stringVal -&gt; predicate.test(intVal, stringVal))));\n\n    System.out.println(\"filtered:\");\n    filtered.forEach((k,v) -&gt; {\n        System.out.println(\"positive:\" + k + \" val: \" + v);\n    });\n\n}\n</code></pre>\n\n<p>result: </p>\n\n<pre><code>positive:0 val: true\npositive:1 val: true\npositive:2 val: true\npositive:3 val: true\npositive:4 val: false\npositive:5 val: false\npositive:6 val: false\npositive:7 val: true\npositive:8 val: true\npositive:9 val: true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1488543858,"post_id":42578679,"comment_id":72290095,"body_markdown":"But he&#39;s not using `Lists`, he&#39;s using `Streams`.","body":"But he&#39;s not using <code>Lists</code>, he&#39;s using <code>Streams</code>."},{"owner":{"account_id":5286625,"reputation":647,"user_id":4932655,"accept_rate":100,"display_name":"Display name"},"score":0,"creation_date":1488547965,"post_id":42578679,"comment_id":72292976,"body_markdown":"And I stated that sample contains a !Complex! data structure. Also filter might contain yet again another complex data structure. With List contains we assume that those values are exactly same same. Then how about if I have a regular expression and in the BiPredicate I use that to match. This solution is not flexible enough. Predicate is there to solve this issue, I just don&#39;t know why the negative predicates cause my solution to stop working.","body":"And I stated that sample contains a !Complex! data structure. Also filter might contain yet again another complex data structure. With List contains we assume that those values are exactly same same. Then how about if I have a regular expression and in the BiPredicate I use that to match. This solution is not flexible enough. Predicate is there to solve this issue, I just don&#39;t know why the negative predicates cause my solution to stop working."}],"tags":[],"owner":{"account_id":9779820,"reputation":9719,"user_id":7248342,"display_name":"Thomas Fritsch"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488543857,"creation_date":1488543384,"answer_id":42578679,"question_id":42578210,"body_markdown":"You can do this more easily with `List.contains`:\r\n    \r\n    Collection&lt;Integer&gt; filtered = sample.parallelStream()\r\n                                         .filter(f -&gt; values.contains(String.valueOf(f)))\r\n                                         .collect(Collectors.toCollection(Stack::new));\r\n    \r\ngives result `[4, 5, 6]`. And\r\n    \r\n    Collection&lt;Integer&gt; filtered = sample.parallelStream()\r\n                                         .filter(f -&gt; !values.contains(String.valueOf(f)))\r\n                                         .collect(Collectors.toCollection(Stack::new));\r\n    \r\ngives result `[0, 1, 2, 3, 7, 8, 9]`.     \r\nOr did I miss something?                                ","title":"Filter stream with values from another stream","body":"<p>You can do this more easily with <code>List.contains</code>:</p>\n\n<pre><code>Collection&lt;Integer&gt; filtered = sample.parallelStream()\n                                     .filter(f -&gt; values.contains(String.valueOf(f)))\n                                     .collect(Collectors.toCollection(Stack::new));\n</code></pre>\n\n<p>gives result <code>[4, 5, 6]</code>. And</p>\n\n<pre><code>Collection&lt;Integer&gt; filtered = sample.parallelStream()\n                                     .filter(f -&gt; !values.contains(String.valueOf(f)))\n                                     .collect(Collectors.toCollection(Stack::new));\n</code></pre>\n\n<p>gives result <code>[0, 1, 2, 3, 7, 8, 9]</code>.<br>\nOr did I miss something?                                </p>\n"},{"comments":[{"owner":{"account_id":5286625,"reputation":647,"user_id":4932655,"accept_rate":100,"display_name":"Display name"},"score":0,"creation_date":1488546531,"post_id":42578793,"comment_id":72291920,"body_markdown":"It would be fine if it wasn&#39;t the complex data structure. I&#39;ll update my post as it seems it wasn&#39;t emphasized enough. I just made the problem simple with having Integers in the list.","body":"It would be fine if it wasn&#39;t the complex data structure. I&#39;ll update my post as it seems it wasn&#39;t emphasized enough. I just made the problem simple with having Integers in the list."}],"tags":[],"owner":{"account_id":9906407,"reputation":1254,"user_id":7334796,"display_name":"J&#233;r&#244;me"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488544109,"creation_date":1488543726,"answer_id":42578793,"question_id":42578210,"body_markdown":"Regarding to the [answer of Thomas Fritsch](https://stackoverflow.com/a/42578679/7334796) you can do it in one line by just changing the `Predicate`. You don&#39;t need the  `BiPredicate` any more.\r\n\r\n    Predicate&lt;Integer&gt; predicate = (f) -&gt; !values.contains(String.valueOf(f));\r\n    Predicate&lt;Integer&gt; predicatePositive = (f) -&gt; values.contains(String.valueOf(f));\r\n    Function&lt;Integer, Integer&gt; converter = Function.identity();\r\n\r\n    Collection&lt;Integer&gt; filtered = sample.parallelStream()\r\n                                        .filter(d -&gt; values.parallelStream()\r\n                                        .anyMatch(f -&gt; predicate.test(d)))\r\n                                        .map(converter)\r\n                                        .collect(Collectors.toCollection(Stack::new));","title":"Filter stream with values from another stream","body":"<p>Regarding to the <a href=\"https://stackoverflow.com/a/42578679/7334796\">answer of Thomas Fritsch</a> you can do it in one line by just changing the <code>Predicate</code>. You don't need the  <code>BiPredicate</code> any more.</p>\n\n<pre><code>Predicate&lt;Integer&gt; predicate = (f) -&gt; !values.contains(String.valueOf(f));\nPredicate&lt;Integer&gt; predicatePositive = (f) -&gt; values.contains(String.valueOf(f));\nFunction&lt;Integer, Integer&gt; converter = Function.identity();\n\nCollection&lt;Integer&gt; filtered = sample.parallelStream()\n                                    .filter(d -&gt; values.parallelStream()\n                                    .anyMatch(f -&gt; predicate.test(d)))\n                                    .map(converter)\n                                    .collect(Collectors.toCollection(Stack::new));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5286625,"reputation":647,"user_id":4932655,"accept_rate":100,"display_name":"Display name"},"score":0,"creation_date":1488553646,"post_id":42582080,"comment_id":72296944,"body_markdown":"Yeah basically IN vs NOT_IN are two completely different algorithms in this case and I can&#39;t have a single statement for them both.","body":"Yeah basically IN vs NOT_IN are two completely different algorithms in this case and I can&#39;t have a single statement for them both."}],"tags":[],"owner":{"account_id":9779820,"reputation":9719,"user_id":7248342,"display_name":"Thomas Fritsch"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1488556831,"creation_date":1488553043,"answer_id":42582080,"question_id":42578210,"body_markdown":"The boolean complement of\r\n    \r\n    anyMatch(s -&gt; predicate.test(p, s))\r\n    \r\nis (according to [De Morgan&#39;s laws](https://en.wikipedia.org/wiki/De_Morgan&#39;s_laws))\r\n    \r\n    allMatch(s -&gt; !predicate.test(p, s))\r\n    \r\nbut not (as you were seemingly thinking in your post)\r\n    \r\n    anyMatch(s -&gt; !predicate.test(p, s))\r\n    \r\nApplied to your case:\r\n     \r\n    Collection&lt;Person&gt; filtered = persons\r\n                .parallelStream()\r\n                .filter(p -&gt; selectors.parallelStream().anyMatch(s -&gt; predicate.test(p, s)))\r\n                .collect(Collectors.toCollection(Stack::new));\r\n\r\nwill give a collection of Persons. And\r\n     \r\n    Collection&lt;Person&gt; filtered = persons\r\n                .parallelStream()\r\n                .filter(p -&gt; selectors.parallelStream().allMatch(s -&gt; !predicate.test(p, s)))\r\n                .collect(Collectors.toCollection(Stack::new));\r\n\r\nwill give the correct complementary collection of Persons.","title":"Filter stream with values from another stream","body":"<p>The boolean complement of</p>\n\n<pre><code>anyMatch(s -&gt; predicate.test(p, s))\n</code></pre>\n\n<p>is (according to <a href=\"https://en.wikipedia.org/wiki/De_Morgan&#39;s_laws\" rel=\"nofollow noreferrer\">De Morgan's laws</a>)</p>\n\n<pre><code>allMatch(s -&gt; !predicate.test(p, s))\n</code></pre>\n\n<p>but not (as you were seemingly thinking in your post)</p>\n\n<pre><code>anyMatch(s -&gt; !predicate.test(p, s))\n</code></pre>\n\n<p>Applied to your case:</p>\n\n<pre><code>Collection&lt;Person&gt; filtered = persons\n            .parallelStream()\n            .filter(p -&gt; selectors.parallelStream().anyMatch(s -&gt; predicate.test(p, s)))\n            .collect(Collectors.toCollection(Stack::new));\n</code></pre>\n\n<p>will give a collection of Persons. And</p>\n\n<pre><code>Collection&lt;Person&gt; filtered = persons\n            .parallelStream()\n            .filter(p -&gt; selectors.parallelStream().allMatch(s -&gt; !predicate.test(p, s)))\n            .collect(Collectors.toCollection(Stack::new));\n</code></pre>\n\n<p>will give the correct complementary collection of Persons.</p>\n"},{"comments":[{"owner":{"account_id":11574194,"reputation":4445,"user_id":8480069,"display_name":"Tasnuva Tavasum oshin"},"score":1,"creation_date":1667449278,"post_id":74282064,"comment_id":131171103,"body_markdown":"While this may answer of this question, it is better to include the essential parts of the answer here and provide the details  for acceptance. please provide more details","body":"While this may answer of this question, it is better to include the essential parts of the answer here and provide the details  for acceptance. please provide more details"}],"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667338605,"creation_date":1667338605,"answer_id":74282064,"question_id":42578210,"body_markdown":"    List&lt;MyModel&gt; MyModelAccountList = MyModelAccountList1.stream().filter(mymodel -&gt; customerAcctList.stream().anyMatch(customerAccounts -&gt; doesCustomerAccountMatch(customerAccounts, mymodel))\r\n                    ).collect(Collectors.toList());","title":"Filter stream with values from another stream","body":"<pre><code>List&lt;MyModel&gt; MyModelAccountList = MyModelAccountList1.stream().filter(mymodel -&gt; customerAcctList.stream().anyMatch(customerAccounts -&gt; doesCustomerAccountMatch(customerAccounts, mymodel))\n                ).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":5286625,"reputation":647,"user_id":4932655,"accept_rate":100,"display_name":"Display name"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4737,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":42582080,"answer_count":5,"score":3,"last_activity_date":1667338605,"creation_date":1488541975,"question_id":42578210,"body_markdown":"I have a hard time coming up with a universal solution to my problem. Let&#39;s suppose I have a complex data structure D. I want to find all elements in D that satisfies a predicate P with given filter values F and store the result in a Stack.\r\nI came up with two distinct solutions for positive and negative predicates.\r\n\r\n    List&lt;Integer&gt; sample = Arrays.asList(0,1,2,3,4,5,6,7,8,9);\r\n    List&lt;String&gt; values = Arrays.asList(&quot;4&quot;,&quot;5&quot;,&quot;6&quot;);\r\n    \r\n    BiPredicate&lt;Integer, String&gt; predicate = (d,f) -&gt; d.equals(Integer.valueOf(f));\r\n    Function&lt;Integer, Integer&gt; converter = Function.identity();\r\n    \r\n    Collection&lt;Integer&gt; filtered = sample.parallelStream()\r\n                                         .filter(d -&gt; values.parallelStream()\r\n                                                            .anyMatch(f -&gt; predicate.test(d, f)))\r\n                                         .map(converter::apply)\r\n                                         .collect(Collectors.toCollection(Stack::new));\r\n\r\nThe problem:\r\nThe above approach works as long as my predicate is negative. In the upper case the result is [4, 5, 6]. However, if I change the predicate to *!d.equals(Integer.valueOf(f))* the result becomes [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]. In order to solve negative predicates, I have to change the filter to:\r\n\r\n    .filter(d -&gt; values.parallelStream()\r\n                       .distinct()\r\n                       .allMatch(f -&gt; predicate.test(d, f))\r\n\r\nBut doing so destroys the positive predicates. The problem is a bit more complicated because the sample contains objects with more than one properties of different types. The BiPredicate is used to define the criteria the fulfills the filtering using values as Filter. The example above has just been simplified but correctly shows the problem I&#39;m facing for 2 days now...\r\n\r\nAnyone can give me a tip how I could write this lambda to work for both cases?\r\n\r\n\r\n@Clarification:\r\nSeeming that I failed to make one important point clear enough allow me to elaborate. That in the example I have given, I have a Collection of simple Integers doesn&#39;t mean that I&#39;m facing this problem. Let&#39;s dive deeper...\r\n\r\n    class SampleDataStructure {\r\n        PropertyType_0 property_0;\r\n        PropertyType_1 property_1;\r\n        ...\r\n        PropertyType_N property_n;\r\n    \r\n        // getters defined.\r\n    }\r\n\r\n    Collection&lt;SampleDataStructure&gt; sample = ...; // Let&#39;s assume it has been initialized.\r\n\r\nNow, Let&#39;s take an arbitrary property of SampleDataStructure (PropertyType_I property_i). That will be the key for filtering my collection. I have another collection of type PropertyType_I:\r\n\r\n    Collection&lt;PropertyType_I&gt; values = ...; //A set of values that will be used by the predicate.\r\n\r\nI also have a predicate, for simplicity&#39;s sake:\r\n\r\n    BiPredicate&lt;SampleDataStructure, PropertyType_I&gt; predicateA = (data, value) -&gt; data.getPropertyI().equals(value);\r\n    BiPredicate&lt;SampleDataStructure, PropertyType_I&gt; predicateB = (data, value) -&gt; !data.getPropertyI().equals(value);\r\n\r\nI want to find all SampleDataStructures that match a predicate. It can either be predicateA or predicateB. I don&#39;t know what it&#39;s going to be so use imagination. I provided these two because there&#39;re problems with my approach (see the first part of my post). Then I want to use the given converter on those SampleDataStructures and map them to something completely different and return the result in a Collection, currently Stack.\r\n\r\nExamples:\r\n\r\n    sample = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n    values = [4, 5, 6]\r\n    \r\n    Predicate_1 = (s, v) -&gt; s == v       Result = [4, 5, 6]\r\n    Predicate_2 = (s, v) -&gt; s != v       Result = [0, 1, 2, 3, 7, 8, 9]\r\n    \r\n    values = []\r\n    \r\n    Predicate_1 = (s, v) -&gt; s == v       Result = []\r\n    Predicate_2 = (s, v) -&gt; s != v       Result = []\r\n    \r\n    values = [99]\r\n    \r\n    Predicate_1 = (s, v) -&gt; s == v       Result = []\r\n    Predicate_2 = (s, v) -&gt; s != v       Result = []\r\n\r\nAll this means that those proposed solutions, assuming that sample or values are only simple types are wrong. They both can be arbitrarily complex data structures and the BiPredicate is telling how the sample data should be filtered against the values. I hope that clears it up.\r\n\r\nHere&#39;s another example:\r\n\r\n    class Person {\r\n        private long id;\r\n        String name;\r\n        public Person(long id, String name) { this.id = id; this.name = name; }\r\n        public long getId() { return id; }\r\n        public Strin getName() { return name; }\r\n    }\r\n    \r\n    Collection&lt;Person&gt; persons = Arrays.asList(new Person(1, &quot;Jane&quot;), new Person(2, &quot;Doe&quot;), new Person(3, &quot;Jane Doe&quot;), new Person(4, &quot;John&quot;), new Person(5, &quot;whatever John&quot;), ...);\r\n    BiPredicate&lt;Person, String&gt; predicate = (p, f) -&gt; p.getName().matches(f);\r\n    Function&lt;Person, String&gt; personToName = Person::getName;\r\n    List&lt;String&gt; selectors = Arrays.asList(&quot;^Jane$&quot;, &quot;John$&quot;);\r\n\r\nAs a result I want to get [ Jane, John, whatever John ]\r\n\r\nThe problem with the approach I&#39;ve provided however is if I have: \r\n\r\n    BiPredicate&lt;Person, String&gt; predicate = (p, f) -&gt; !p.getName().matches(f);\r\n\r\nI&#39;m not getting [Jane Doe, and the ... section]. I get every single item. I don&#39;t have both predicates, I showed the negative one because that doesn&#39;t work.","title":"Filter stream with values from another stream","body":"<p>I have a hard time coming up with a universal solution to my problem. Let's suppose I have a complex data structure D. I want to find all elements in D that satisfies a predicate P with given filter values F and store the result in a Stack.\nI came up with two distinct solutions for positive and negative predicates.</p>\n\n<pre><code>List&lt;Integer&gt; sample = Arrays.asList(0,1,2,3,4,5,6,7,8,9);\nList&lt;String&gt; values = Arrays.asList(\"4\",\"5\",\"6\");\n\nBiPredicate&lt;Integer, String&gt; predicate = (d,f) -&gt; d.equals(Integer.valueOf(f));\nFunction&lt;Integer, Integer&gt; converter = Function.identity();\n\nCollection&lt;Integer&gt; filtered = sample.parallelStream()\n                                     .filter(d -&gt; values.parallelStream()\n                                                        .anyMatch(f -&gt; predicate.test(d, f)))\n                                     .map(converter::apply)\n                                     .collect(Collectors.toCollection(Stack::new));\n</code></pre>\n\n<p>The problem:\nThe above approach works as long as my predicate is negative. In the upper case the result is [4, 5, 6]. However, if I change the predicate to <em>!d.equals(Integer.valueOf(f))</em> the result becomes [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]. In order to solve negative predicates, I have to change the filter to:</p>\n\n<pre><code>.filter(d -&gt; values.parallelStream()\n                   .distinct()\n                   .allMatch(f -&gt; predicate.test(d, f))\n</code></pre>\n\n<p>But doing so destroys the positive predicates. The problem is a bit more complicated because the sample contains objects with more than one properties of different types. The BiPredicate is used to define the criteria the fulfills the filtering using values as Filter. The example above has just been simplified but correctly shows the problem I'm facing for 2 days now...</p>\n\n<p>Anyone can give me a tip how I could write this lambda to work for both cases?</p>\n\n<p>@Clarification:\nSeeming that I failed to make one important point clear enough allow me to elaborate. That in the example I have given, I have a Collection of simple Integers doesn't mean that I'm facing this problem. Let's dive deeper...</p>\n\n<pre><code>class SampleDataStructure {\n    PropertyType_0 property_0;\n    PropertyType_1 property_1;\n    ...\n    PropertyType_N property_n;\n\n    // getters defined.\n}\n\nCollection&lt;SampleDataStructure&gt; sample = ...; // Let's assume it has been initialized.\n</code></pre>\n\n<p>Now, Let's take an arbitrary property of SampleDataStructure (PropertyType_I property_i). That will be the key for filtering my collection. I have another collection of type PropertyType_I:</p>\n\n<pre><code>Collection&lt;PropertyType_I&gt; values = ...; //A set of values that will be used by the predicate.\n</code></pre>\n\n<p>I also have a predicate, for simplicity's sake:</p>\n\n<pre><code>BiPredicate&lt;SampleDataStructure, PropertyType_I&gt; predicateA = (data, value) -&gt; data.getPropertyI().equals(value);\nBiPredicate&lt;SampleDataStructure, PropertyType_I&gt; predicateB = (data, value) -&gt; !data.getPropertyI().equals(value);\n</code></pre>\n\n<p>I want to find all SampleDataStructures that match a predicate. It can either be predicateA or predicateB. I don't know what it's going to be so use imagination. I provided these two because there're problems with my approach (see the first part of my post). Then I want to use the given converter on those SampleDataStructures and map them to something completely different and return the result in a Collection, currently Stack.</p>\n\n<p>Examples:</p>\n\n<pre><code>sample = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nvalues = [4, 5, 6]\n\nPredicate_1 = (s, v) -&gt; s == v       Result = [4, 5, 6]\nPredicate_2 = (s, v) -&gt; s != v       Result = [0, 1, 2, 3, 7, 8, 9]\n\nvalues = []\n\nPredicate_1 = (s, v) -&gt; s == v       Result = []\nPredicate_2 = (s, v) -&gt; s != v       Result = []\n\nvalues = [99]\n\nPredicate_1 = (s, v) -&gt; s == v       Result = []\nPredicate_2 = (s, v) -&gt; s != v       Result = []\n</code></pre>\n\n<p>All this means that those proposed solutions, assuming that sample or values are only simple types are wrong. They both can be arbitrarily complex data structures and the BiPredicate is telling how the sample data should be filtered against the values. I hope that clears it up.</p>\n\n<p>Here's another example:</p>\n\n<pre><code>class Person {\n    private long id;\n    String name;\n    public Person(long id, String name) { this.id = id; this.name = name; }\n    public long getId() { return id; }\n    public Strin getName() { return name; }\n}\n\nCollection&lt;Person&gt; persons = Arrays.asList(new Person(1, \"Jane\"), new Person(2, \"Doe\"), new Person(3, \"Jane Doe\"), new Person(4, \"John\"), new Person(5, \"whatever John\"), ...);\nBiPredicate&lt;Person, String&gt; predicate = (p, f) -&gt; p.getName().matches(f);\nFunction&lt;Person, String&gt; personToName = Person::getName;\nList&lt;String&gt; selectors = Arrays.asList(\"^Jane$\", \"John$\");\n</code></pre>\n\n<p>As a result I want to get [ Jane, John, whatever John ]</p>\n\n<p>The problem with the approach I've provided however is if I have: </p>\n\n<pre><code>BiPredicate&lt;Person, String&gt; predicate = (p, f) -&gt; !p.getName().matches(f);\n</code></pre>\n\n<p>I'm not getting [Jane Doe, and the ... section]. I get every single item. I don't have both predicates, I showed the negative one because that doesn't work.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":0,"creation_date":1667314548,"post_id":74277684,"comment_id":131135750,"body_markdown":"Would have been also a good idea to add the tag: `swing` to your question. I&#39;m experienced in Java and JavaFX and didn&#39;t understand the question before realizing you were talking about Swing. I would recommend always mentioning which programming language and which framework/library/etc you use so others can quickly help you. Also, add as many relevant tags as necessary (there are people who watch specific tags - you could have been helped faster this way).","body":"Would have been also a good idea to add the tag: <code>swing</code> to your question. I&#39;m experienced in Java and JavaFX and didn&#39;t understand the question before realizing you were talking about Swing. I would recommend always mentioning which programming language and which framework/library/etc you use so others can quickly help you. Also, add as many relevant tags as necessary (there are people who watch specific tags - you could have been helped faster this way)."},{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":0,"creation_date":1667314783,"post_id":74277684,"comment_id":131135830,"body_markdown":"Another piece of advice would be to start using JavaFX since JavaFX is the successor of Swing and AWT. JavaFX is not so difficult to learn, it&#39;s very easy. See https://openjfx.io (there are easy install guides on the website - I would recommend JetBrains IntelliJ idea community to start with which has maven built into it and from there it&#39;s easy to use OpenJFX/JavaFX).","body":"Another piece of advice would be to start using JavaFX since JavaFX is the successor of Swing and AWT. JavaFX is not so difficult to learn, it&#39;s very easy. See <a href=\"https://openjfx.io\" rel=\"nofollow noreferrer\">openjfx.io</a> (there are easy install guides on the website - I would recommend JetBrains IntelliJ idea community to start with which has maven built into it and from there it&#39;s easy to use OpenJFX/JavaFX)."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1667315281,"post_id":74277684,"comment_id":131136002,"body_markdown":"1) `Don&#39;t use a null layout!` Don&#39;t use setBounds(). 2) Post a proper [mre] with every question demonstrating the problem. We have no idea how those lines of code are used in the context of your code. We don&#39;t even see where you add the buttons to the panel. 3) Variable names should NOT start with upper case characters. Learn and follow Java naming conventions when posting code for other to read.","body":"1) <code>Don&#39;t use a null layout!</code> Don&#39;t use setBounds(). 2) Post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with every question demonstrating the problem. We have no idea how those lines of code are used in the context of your code. We don&#39;t even see where you add the buttons to the panel. 3) Variable names should NOT start with upper case characters. Learn and follow Java naming conventions when posting code for other to read."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1667354082,"post_id":74277684,"comment_id":131146133,"body_markdown":"(1-) 3) this is not an [mre]. Game logic is not relevant to the stated question. 2) Even if the game logic was relevant it is still not an MRE because we can not copy/paste/compile/test the posted code. There is no class. The &quot;owins&quot; logic is not included. 3) The answer to your question is given in comments 1/2 above which you choose to ignore because someone posted complete code. However that answer doesn&#39;t tell you what is wrong with your code, so you don&#39;t learn anything about debugging your class. I suggest you first understand the comments and fix your code, then use the code below.","body":"(1-) 3) this is not an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Game logic is not relevant to the stated question. 2) Even if the game logic was relevant it is still not an MRE because we can not copy/paste/compile/test the posted code. There is no class. The &quot;owins&quot; logic is not included. 3) The answer to your question is given in comments 1/2 above which you choose to ignore because someone posted complete code. However that answer doesn&#39;t tell you what is wrong with your code, so you don&#39;t learn anything about debugging your class. I suggest you first understand the comments and fix your code, then use the code below."}],"answers":[{"comments":[{"owner":{"account_id":26739943,"reputation":1,"user_id":20340896,"display_name":"Mustafa"},"score":0,"creation_date":1667331109,"post_id":74278877,"comment_id":131141322,"body_markdown":"Yo bro, It did not actually work, I just posted all of my codes above, if you pleaes konw how I would be able to do it, Please help me with that.","body":"Yo bro, It did not actually work, I just posted all of my codes above, if you pleaes konw how I would be able to do it, Please help me with that."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1667331818,"post_id":74278877,"comment_id":131141510,"body_markdown":"@Mustafa: What didn&#39;t work?  There&#39;s no functionality.  I just created the GUI.  If no button disappears, then I answered the question you asked.","body":"@Mustafa: What didn&#39;t work?  There&#39;s no functionality.  I just created the GUI.  If no button disappears, then I answered the question you asked."},{"owner":{"account_id":26739943,"reputation":1,"user_id":20340896,"display_name":"Mustafa"},"score":0,"creation_date":1667332243,"post_id":74278877,"comment_id":131141620,"body_markdown":"Yea you&#39;re right, but actually when I added your code to mine and checked it the things you had in your code and I didn&#39;t, after running it, it actually did not work. I mean I posted the whole code above, you can now see how everything is set up, mybe I added it incorrectly, but I tried and added some of the things you had in your code and I did not, it did not work brother.","body":"Yea you&#39;re right, but actually when I added your code to mine and checked it the things you had in your code and I didn&#39;t, after running it, it actually did not work. I mean I posted the whole code above, you can now see how everything is set up, mybe I added it incorrectly, but I tried and added some of the things you had in your code and I did not, it did not work brother."},{"owner":{"account_id":26739943,"reputation":1,"user_id":20340896,"display_name":"Mustafa"},"score":0,"creation_date":1667357247,"post_id":74278877,"comment_id":131146528,"body_markdown":"Gilbert Le Blanc, You don&#39;t know how much all the effort you put to help me means to me, I really really really apreciate you in advacne, Thanks a lot Brother.","body":"Gilbert Le Blanc, You don&#39;t know how much all the effort you put to help me means to me, I really really really apreciate you in advacne, Thanks a lot Brother."},{"owner":{"account_id":26739943,"reputation":1,"user_id":20340896,"display_name":"Mustafa"},"score":0,"creation_date":1667419868,"post_id":74278877,"comment_id":131165709,"body_markdown":"Hello Gilbert, I appreciate your work and everything. But as you can see in my own code, how do you think I can add the 2 buttons Replay and the Quit Button in my own code? Because Honestly, your code is really hard to understand because it&#39;s written so professionally, and I don&#39;t understand much of it, would you please please help me to add the functionality of both buttons in my own code?","body":"Hello Gilbert, I appreciate your work and everything. But as you can see in my own code, how do you think I can add the 2 buttons Replay and the Quit Button in my own code? Because Honestly, your code is really hard to understand because it&#39;s written so professionally, and I don&#39;t understand much of it, would you please please help me to add the functionality of both buttons in my own code?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1667425401,"post_id":74278877,"comment_id":131167342,"body_markdown":"@Mustafa: The reason I wrote the code the way I did is because my version is correct and your version is confusing, verbose, and hard for me to understand.  If you have specific questions, you can ask a new Stack Overflow question and post my code as an example of code you don&#39;t understand.","body":"@Mustafa: The reason I wrote the code the way I did is because my version is correct and your version is confusing, verbose, and hard for me to understand.  If you have specific questions, you can ask a new Stack Overflow question and post my code as an example of code you don&#39;t understand."},{"owner":{"account_id":26739943,"reputation":1,"user_id":20340896,"display_name":"Mustafa"},"score":0,"creation_date":1667434698,"post_id":74278877,"comment_id":131169142,"body_markdown":"Thank you Gilbert, You&#39;re right about that. I&#39;m basically creating a new question in regards of How I can play the tik-tak-toe game against computer. I&#39;d be happy if you help me with that as well.","body":"Thank you Gilbert, You&#39;re right about that. I&#39;m basically creating a new question in regards of How I can play the tik-tak-toe game against computer. I&#39;d be happy if you help me with that as well."}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667338441,"creation_date":1667319810,"answer_id":74278877,"question_id":74277684,"body_markdown":"# Introduction\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section. Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.\r\n\r\nI created the following GUI.\r\n\r\n[![Example][1]][1]\r\n\r\nI used Swing layout managers to create a button `JPanel` and a tic-tac-toe grid `JPanel`.  You can press any button you want, and all the buttons remain visible on the `JFrame`.\r\n\r\nI left all the coloring and fonts for you to add.\r\n\r\n# Explanation\r\n\r\nWhen I create a Swing GUI, I use the [model-view-controller][2] (MVC) pattern. This pattern allows me to separate my concerns and focus on one small part of the application at a time.\r\n\r\nFor a Swing GUI, the MVC pattern is defined as:\r\n\r\n1. The view reads information from the model.\r\n2. The view does not update the model.\r\n3. The controller updates the model and repaints / revalidates the view.\r\n\r\nA Swing GUI can have many controller classes. I created three controller classes for this tic-tac-toe game.  Two of the three controller classes are expressed as lambda expressions because they are simple.\r\n\r\nI created 5 different classes. One class makes up the application model, one class defines the view, and three controller classes manage the application.\r\n\r\n## Model\r\n\r\nThe `GameModel` class is a plain Java getter/setter class that creates a logical tic-tac-toe board and keeps track of whose turn it is.\r\n\r\n## View\r\n\r\nEvery Swing application must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and updated on the [Event Dispatch Thread][3]. \r\n\r\nI use a `JFrame` and create a button `JPanel` and a grid `JPanel`.  The JFrame has a default `BorderLayout`.  I put the button `JPanel` at NORTH and the grid `JPanel` in the CENTER.\r\n\r\nThe button `JPanel` uses a `FlowLayout` and the grid `JPanel` uses, you guessed it, a `GridLayout`.  I added an empty border around both `JPanels` to add some whitespace to the GUI.\r\n\r\nI used a `Box` `createHorizontalStrut` method to add some whitespace to the button `JPanel`.\r\n\r\n## Controller\r\n\r\nThe reset button and quit button controllers are simple lambda expressions.\r\n\r\nI made nine instances of the `MoveListener` class, one for each button in the tic-tac-toe grid.  This makes the `actionPerformed` code rather simple.  The only logic is to check to make sure the square is empty before making the move.\r\n\r\nFor some reason, checking for spaces didn&#39;t work, so I check for the absence of an &#39;X&#39; or an &#39;O&#39;.\r\n\r\n# Code\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I could post this code as one block.\r\n\r\nI tested this code and it works.  Save it somewhere safe before you make lots of changes and then gripe that it doesn&#39;t work.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.Box;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class SimpleTicTacToeGUI implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new SimpleTicTacToeGUI());\r\n    \t}\r\n    \r\n    \tprivate final GameModel model;\r\n    \t\r\n    \tprivate JButton[] gridButtons;\r\n    \t\r\n    \tprivate JFrame frame;\r\n    \r\n    \tprivate JLabel turnLabel;\r\n    \t\r\n    \tpublic SimpleTicTacToeGUI() {\r\n    \t\tthis.model = new GameModel();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tframe = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createButtonPanel(), BorderLayout.NORTH);\r\n    \t\tframe.add(createGrid(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\tFont font = panel.getFont().deriveFont(16f);\r\n    \t\t\r\n    \t\tJButton resetButton = new JButton(&quot;Replay?&quot;);\r\n    \t\tresetButton.setFont(font);\r\n    \t\tresetButton.addActionListener(event -&gt; {\r\n    \t\t\tmodel.resetModel();\r\n    \t\t\tupdateGUI();\r\n    \t\t\tenableButtons();\r\n    \t\t});\r\n    \t\tpanel.add(resetButton);\r\n    \t\t\r\n    \t\tpanel.add(Box.createHorizontalStrut(30));\r\n    \r\n    \t\tturnLabel = new JLabel(model.getTurn() + &quot;&#39;s turn&quot;);\r\n    \t\tturnLabel.setFont(font);\r\n    \t\tpanel.add(turnLabel);\r\n    \t\t\r\n    \t\tpanel.add(Box.createHorizontalStrut(30));\r\n    \r\n    \t\tJButton quitButton = new JButton(&quot;Quit!&quot;);\r\n    \t\tquitButton.setFont(font);\r\n    \t\tquitButton.addActionListener(event -&gt; {\r\n    \t\t\tframe.dispose();\r\n    \t\t\tSystem.exit(0);\r\n    \t\t});\r\n    \t\tpanel.add(quitButton);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createGrid() {\r\n    \t\tJPanel panel = new JPanel(new GridLayout(0, 3));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\tFont font = panel.getFont().deriveFont(Font.BOLD, 72f);\r\n    \t\t\r\n    \t\tgridButtons = new JButton[model.getBoard().length];\r\n    \t\tfor (int index = 0; index &lt; gridButtons.length; index++) {\r\n    \t\t\tgridButtons[index] = new JButton(&quot; &quot;);\r\n    \t\t\tMoveListener listener = new MoveListener(this, model, index);\r\n    \t\t\tgridButtons[index].addActionListener(listener);\r\n    \t\t\tgridButtons[index].setFont(font);\r\n    \t\t\tgridButtons[index].setPreferredSize(new Dimension(96, 96));\r\n    \t\t\tpanel.add(gridButtons[index]);\r\n    \t\t}\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tpublic void updateGUI() {\r\n    \t\tchar[] board = model.getBoard();\r\n    \t\tfor (int index = 0; index &lt; gridButtons.length; index++) {\r\n    \t\t\tString s = Character.toString(board[index]);\r\n    \t\t\tgridButtons[index].setText(s);\r\n    \t\t}\r\n    \t\tturnLabel.setText(model.getTurn() + &quot;&#39;s turn&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic void disableButtons() {\r\n    \t\tfor (int index = 0; index &lt; gridButtons.length; index++) {\r\n    \t\t\tgridButtons[index].setEnabled(false);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate void enableButtons() {\r\n    \t\tfor (int index = 0; index &lt; gridButtons.length; index++) {\r\n    \t\t\tgridButtons[index].setEnabled(true);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic JButton getButton(int index) {\r\n    \t\treturn gridButtons[index];\r\n    \t}\r\n    \t\r\n    \tpublic class MoveListener implements ActionListener {\r\n    \t\t\r\n    \t\tprivate final int index;\r\n    \t\t\r\n    \t\tprivate final SimpleTicTacToeGUI view;\r\n    \t\t\r\n    \t\tprivate final GameModel model;\r\n    \r\n    \t\tpublic MoveListener(SimpleTicTacToeGUI view, GameModel model,\r\n    \t\t\t\tint index) {\r\n    \t\t\tthis.view = view;\r\n    \t\t\tthis.model = model;\r\n    \t\t\tthis.index = index;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\tString s = view.getButton(index).getText();\r\n    \t\t\tif (!(s.equals(&quot;X&quot;) || s.equals(&quot;O&quot;))) {\r\n    \t\t\t\tmodel.makeMove(index);\r\n    \t\t\t\tview.updateGUI();\r\n    \t\t\t\tif (model.isGameOver()) {\r\n    \t\t\t\t\tview.disableButtons();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic class GameModel {\r\n    \t\t\r\n    \t\tprivate char[] board;\r\n    \t\tprivate char turn;\r\n    \t\t\r\n    \t\tpublic GameModel() {\r\n    \t\t\tresetModel();\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void resetModel() {\r\n    \t\t\tthis.board = new char[9];\r\n    \t\t\tthis.turn = &#39;X&#39;;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void makeMove(int index) {\r\n    \t\t\tboard[index] = turn;\r\n    \t\t\tturn = (turn == &#39;X&#39;) ? &#39;O&#39; : &#39;X&#39;;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic boolean isGameOver() {\r\n    \t\t\tint[][] indexes = { { 0, 1, 2 }, { 3, 4, 5 }, { 6, 7, 8 },\r\n    \t\t\t\t\t{ 0, 3, 6 }, { 1, 4, 7 }, { 2, 5, 8 }, { 0, 4, 8 },\r\n    \t\t\t\t\t{ 2, 4, 6 } };\r\n    \t\t\tfor (int index = 0; index &lt; indexes.length; index++) {\r\n    \t\t\t\tif (checkRow(&#39;X&#39;, indexes[index])\r\n    \t\t\t\t\t\t|| checkRow(&#39;O&#39;, indexes[index])) {\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t\r\n    \t\tprivate boolean checkRow(char player, int[] indexes) {\r\n    \t\t\tfor (int index = 0; index &lt; indexes.length; index++) {\r\n    \t\t\t\tif (board[indexes[index]] != player) {\r\n    \t\t\t\t\treturn false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\tpublic char getTurn() {\r\n    \t\t\treturn turn;\r\n    \t\t}\r\n    \r\n    \t\tpublic char[] getBoard() {\r\n    \t\t\treturn board;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fhdYj.png\r\n  [2]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\r\n","title":"How to keep a button visible when clicking on other buttons?","body":"<h1>Introduction</h1>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section. Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section.</p>\n<p>I created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/fhdYj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fhdYj.png\" alt=\"Example\" /></a></p>\n<p>I used Swing layout managers to create a button <code>JPanel</code> and a tic-tac-toe grid <code>JPanel</code>.  You can press any button you want, and all the buttons remain visible on the <code>JFrame</code>.</p>\n<p>I left all the coloring and fonts for you to add.</p>\n<h1>Explanation</h1>\n<p>When I create a Swing GUI, I use the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model-view-controller</a> (MVC) pattern. This pattern allows me to separate my concerns and focus on one small part of the application at a time.</p>\n<p>For a Swing GUI, the MVC pattern is defined as:</p>\n<ol>\n<li>The view reads information from the model.</li>\n<li>The view does not update the model.</li>\n<li>The controller updates the model and repaints / revalidates the view.</li>\n</ol>\n<p>A Swing GUI can have many controller classes. I created three controller classes for this tic-tac-toe game.  Two of the three controller classes are expressed as lambda expressions because they are simple.</p>\n<p>I created 5 different classes. One class makes up the application model, one class defines the view, and three controller classes manage the application.</p>\n<h2>Model</h2>\n<p>The <code>GameModel</code> class is a plain Java getter/setter class that creates a logical tic-tac-toe board and keeps track of whose turn it is.</p>\n<h2>View</h2>\n<p>Every Swing application must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and updated on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>I use a <code>JFrame</code> and create a button <code>JPanel</code> and a grid <code>JPanel</code>.  The JFrame has a default <code>BorderLayout</code>.  I put the button <code>JPanel</code> at NORTH and the grid <code>JPanel</code> in the CENTER.</p>\n<p>The button <code>JPanel</code> uses a <code>FlowLayout</code> and the grid <code>JPanel</code> uses, you guessed it, a <code>GridLayout</code>.  I added an empty border around both <code>JPanels</code> to add some whitespace to the GUI.</p>\n<p>I used a <code>Box</code> <code>createHorizontalStrut</code> method to add some whitespace to the button <code>JPanel</code>.</p>\n<h2>Controller</h2>\n<p>The reset button and quit button controllers are simple lambda expressions.</p>\n<p>I made nine instances of the <code>MoveListener</code> class, one for each button in the tic-tac-toe grid.  This makes the <code>actionPerformed</code> code rather simple.  The only logic is to check to make sure the square is empty before making the move.</p>\n<p>For some reason, checking for spaces didn't work, so I check for the absence of an 'X' or an 'O'.</p>\n<h1>Code</h1>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I could post this code as one block.</p>\n<p>I tested this code and it works.  Save it somewhere safe before you make lots of changes and then gripe that it doesn't work.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.Box;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class SimpleTicTacToeGUI implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new SimpleTicTacToeGUI());\n    }\n\n    private final GameModel model;\n    \n    private JButton[] gridButtons;\n    \n    private JFrame frame;\n\n    private JLabel turnLabel;\n    \n    public SimpleTicTacToeGUI() {\n        this.model = new GameModel();\n    }\n\n    @Override\n    public void run() {\n        frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createButtonPanel(), BorderLayout.NORTH);\n        frame.add(createGrid(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButtonPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        Font font = panel.getFont().deriveFont(16f);\n        \n        JButton resetButton = new JButton(&quot;Replay?&quot;);\n        resetButton.setFont(font);\n        resetButton.addActionListener(event -&gt; {\n            model.resetModel();\n            updateGUI();\n            enableButtons();\n        });\n        panel.add(resetButton);\n        \n        panel.add(Box.createHorizontalStrut(30));\n\n        turnLabel = new JLabel(model.getTurn() + &quot;'s turn&quot;);\n        turnLabel.setFont(font);\n        panel.add(turnLabel);\n        \n        panel.add(Box.createHorizontalStrut(30));\n\n        JButton quitButton = new JButton(&quot;Quit!&quot;);\n        quitButton.setFont(font);\n        quitButton.addActionListener(event -&gt; {\n            frame.dispose();\n            System.exit(0);\n        });\n        panel.add(quitButton);\n\n        return panel;\n    }\n\n    private JPanel createGrid() {\n        JPanel panel = new JPanel(new GridLayout(0, 3));\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        Font font = panel.getFont().deriveFont(Font.BOLD, 72f);\n        \n        gridButtons = new JButton[model.getBoard().length];\n        for (int index = 0; index &lt; gridButtons.length; index++) {\n            gridButtons[index] = new JButton(&quot; &quot;);\n            MoveListener listener = new MoveListener(this, model, index);\n            gridButtons[index].addActionListener(listener);\n            gridButtons[index].setFont(font);\n            gridButtons[index].setPreferredSize(new Dimension(96, 96));\n            panel.add(gridButtons[index]);\n        }\n\n        return panel;\n    }\n    \n    public void updateGUI() {\n        char[] board = model.getBoard();\n        for (int index = 0; index &lt; gridButtons.length; index++) {\n            String s = Character.toString(board[index]);\n            gridButtons[index].setText(s);\n        }\n        turnLabel.setText(model.getTurn() + &quot;'s turn&quot;);\n    }\n    \n    public void disableButtons() {\n        for (int index = 0; index &lt; gridButtons.length; index++) {\n            gridButtons[index].setEnabled(false);\n        }\n    }\n    \n    private void enableButtons() {\n        for (int index = 0; index &lt; gridButtons.length; index++) {\n            gridButtons[index].setEnabled(true);\n        }\n    }\n    \n    public JButton getButton(int index) {\n        return gridButtons[index];\n    }\n    \n    public class MoveListener implements ActionListener {\n        \n        private final int index;\n        \n        private final SimpleTicTacToeGUI view;\n        \n        private final GameModel model;\n\n        public MoveListener(SimpleTicTacToeGUI view, GameModel model,\n                int index) {\n            this.view = view;\n            this.model = model;\n            this.index = index;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            String s = view.getButton(index).getText();\n            if (!(s.equals(&quot;X&quot;) || s.equals(&quot;O&quot;))) {\n                model.makeMove(index);\n                view.updateGUI();\n                if (model.isGameOver()) {\n                    view.disableButtons();\n                }\n            }\n        }\n        \n    }\n    \n    public class GameModel {\n        \n        private char[] board;\n        private char turn;\n        \n        public GameModel() {\n            resetModel();\n        }\n        \n        public void resetModel() {\n            this.board = new char[9];\n            this.turn = 'X';\n        }\n        \n        public void makeMove(int index) {\n            board[index] = turn;\n            turn = (turn == 'X') ? 'O' : 'X';\n        }\n        \n        public boolean isGameOver() {\n            int[][] indexes = { { 0, 1, 2 }, { 3, 4, 5 }, { 6, 7, 8 },\n                    { 0, 3, 6 }, { 1, 4, 7 }, { 2, 5, 8 }, { 0, 4, 8 },\n                    { 2, 4, 6 } };\n            for (int index = 0; index &lt; indexes.length; index++) {\n                if (checkRow('X', indexes[index])\n                        || checkRow('O', indexes[index])) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        \n        private boolean checkRow(char player, int[] indexes) {\n            for (int index = 0; index &lt; indexes.length; index++) {\n                if (board[indexes[index]] != player) {\n                    return false;\n                }\n            }\n            \n            return true;\n        }\n\n        public char getTurn() {\n            return turn;\n        }\n\n        public char[] getBoard() {\n            return board;\n        }\n        \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26739943,"reputation":1,"user_id":20340896,"display_name":"Mustafa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":74278877,"answer_count":1,"score":-4,"last_activity_date":1667338441,"creation_date":1667313941,"question_id":74277684,"body_markdown":"I&#39;m creating a tic tac toe game, and I have created 2 buttons &quot;Quit&quot; and &quot;Replay&quot;. When I click on any other buttons, those 2 buttons disappear. I&#39;d be happy if you tell what I can do to have them visible when I click on any other buttons.  \r\n\r\nAs you can see in both screenshots, before I click on any buttons, both are visible, but when I click on any button, both disappear, and I have to hover my mouse over them for them appear again.\r\n\r\n[![Click here for the image][2]][2]\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    Below is all of code\r\n    \r\n   \r\n\r\n    public static void main(String[] args) {\r\n        TickTacToe tik = new TickTacToe();\r\n    }\r\n     \r\n        Random random = new Random();\r\n        JFrame frame = new JFrame();\r\n        JPanel title_panel = new JPanel();\r\n        JPanel button_panel = new JPanel();\r\n        JLabel textfield = new JLabel();\r\n        JButton[] buttons_array = new JButton[9];\r\n        int i =0;\r\n        JPanel panel;\r\n         \r\n        JButton Replaybutton,Quitbutton;\r\n        boolean player1_turn;\r\n    \r\n     \r\n        TickTacToe(){\r\n            JButton Replay,Quit;\r\n            Replay = new JButton();\r\n             \r\n            Replay.setText(&quot;Replay?&quot;);\r\n            Replay.setForeground(Color.cyan);\r\n            Replay.setFont(new Font(&quot;Courgette&quot;,Font.BOLD,17));\r\n            Replay.setBackground(new Color(25,60,80));\r\n            Replay.setBounds(70,10, 100,45);\r\n             \r\n            Quit = new JButton();\r\n             \r\n            Quit.setText(&quot;Quit!&quot;);\r\n            Quit.setForeground(Color.black);\r\n            Quit.setFont(new Font(&quot;Courgette&quot;,Font.BOLD,19));\r\n            Quit.setBackground(new Color(145,80,120));\r\n            Quit.setBounds(620, 10, 100, 45);\r\n         \r\n            ////////////////////////////////////////////////////////\r\n             \r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(800,800);\r\n            frame.getContentPane().setBackground(new Color(50,50,50));\r\n            frame.setLayout(new BorderLayout());\r\n            frame.setVisible(true);\r\n            //Below line is for centring our frame in the middle.\r\n            frame.setLocationRelativeTo(null);\r\n             \r\n             \r\n         \r\n            textfield.setBackground(Color.black);\r\n            textfield.setForeground(new Color(80,170,20));\r\n            textfield.setFont(new Font(&quot;Courgette&quot;,Font.PLAIN,50));\r\n            //The below method is for centering our text in the center.\r\n            textfield.setHorizontalAlignment(JLabel.CENTER);\r\n            textfield.setText(&quot;Tik-Tac-Toe&quot;);\r\n            textfield.setOpaque(true);\r\n             \r\n             \r\n             \r\n            title_panel.setLayout(new BorderLayout());\r\n            title_panel.setBounds(0, 0, 800, 100);\r\n             \r\n            button_panel.setLayout(new GridLayout(3,3));\r\n            button_panel.setBackground(new Color(150,150,150));\r\n             \r\n             \r\n         \r\n            for(int i = 0; i &lt;9;i++) {\r\n                buttons_array[i] = new JButton();\r\n                button_panel.add(buttons_array[i]);\r\n                buttons_array[i].setFont(new Font(&quot;InkFree&quot;,Font.BOLD,120));\r\n                buttons_array[i].setFocusable(false);\r\n                buttons_array[i].addActionListener(this);\r\n                 \r\n             \r\n            }\r\n             \r\n         \r\n             \r\n         \r\n            frame.add(Replay);\r\n            frame.add(Quit);\r\n            frame.setResizable(false);\r\n            title_panel.add(textfield);\r\n            frame.add(title_panel,BorderLayout.NORTH);\r\n            frame.add(button_panel);\r\n             \r\n            firstTurn();\r\n        }\r\n         \r\n         \r\n         \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n             \r\n            for(int i=0;i&lt;9;i++) {\r\n                if(e.getSource()==buttons_array[i]) {\r\n                     \r\n                    if(player1_turn) {\r\n                        if(buttons_array[i].getText()==&quot;&quot;) {\r\n                            buttons_array[i].setForeground(Color.red);\r\n                            buttons_array[i].setText(&quot;X&quot;);\r\n                            player1_turn =false;\r\n                            textfield.setText(&quot;O Turn&quot;);\r\n                            check();\r\n                             \r\n                        }\r\n                    }\r\n                     \r\n                    else {\r\n                        if(buttons_array[i].getText()==&quot;&quot;) {\r\n                            buttons_array[i].setForeground(Color.blue);\r\n                            buttons_array[i].setText(&quot;O&quot;);\r\n                            player1_turn =true;\r\n                            textfield.setText(&quot;X Turn&quot;);\r\n                            check();\r\n                             \r\n                        }\r\n                    }\r\n                }\r\n                 \r\n            }\r\n             \r\n        }\r\n         \r\n        public void firstTurn() {\r\n             \r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                 \r\n                e.printStackTrace();\r\n            }\r\n             \r\n            if(random.nextInt(2)==0) {\r\n                player1_turn = true;\r\n                textfield.setText(&quot;X Turn&quot;);\r\n                 \r\n            }else if(random.nextInt(2) == 1) {\r\n                 \r\n                player1_turn = false;\r\n                textfield.setText(&quot;O Turn&quot;);\r\n                 \r\n            }\r\n        }\r\n         \r\n        public void check() {\r\n             \r\n            // Checking for x win Conditiotns.\r\n            if(\r\n                    (buttons_array[0].getText() == &quot;X&quot;) &amp;&amp;\r\n                    buttons_array[1].getText() ==  &quot;X&quot; &amp;&amp;\r\n                    buttons_array[2].getText() ==  &quot;X&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                xWins(0,1,2);\r\n            }\r\n             \r\n            if(\r\n                    (buttons_array[3].getText() == &quot;X&quot;) &amp;&amp;\r\n                    buttons_array[4].getText() ==  &quot;X&quot; &amp;&amp;\r\n                    buttons_array[5].getText() ==  &quot;X&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                xWins(3,4,5);\r\n            }\r\n             \r\n            if(\r\n                    (buttons_array[6].getText() == &quot;X&quot;) &amp;&amp;\r\n                    buttons_array[7].getText() == &quot;X&quot; &amp;&amp;\r\n                    buttons_array[8].getText() == &quot;X&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                xWins(6,7,8);\r\n            }\r\n         \r\n            if(\r\n                    (buttons_array[0].getText() == &quot;X&quot;) &amp;&amp;\r\n                    buttons_array[3].getText() ==  &quot;X&quot; &amp;&amp;\r\n                    buttons_array[6].getText() ==  &quot;X&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                xWins(0,3,6);\r\n            }\r\n             \r\n            if(\r\n                    (buttons_array[1].getText() == &quot;X&quot;) &amp;&amp;\r\n                    buttons_array[4].getText() ==  &quot;X&quot; &amp;&amp;\r\n                    buttons_array[7].getText() ==  &quot;X&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                xWins(1,4,7);\r\n            }\r\n             \r\n            if(\r\n                    (buttons_array[2].getText() == &quot;X&quot;) &amp;&amp;\r\n                    buttons_array[5].getText() ==  &quot;X&quot; &amp;&amp;\r\n                    buttons_array[8].getText() ==  &quot;X&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                xWins(2,5,8);\r\n            }\r\n             \r\n            if(\r\n                    (buttons_array[0].getText() == &quot;X&quot;) &amp;&amp;\r\n                    buttons_array[4].getText() == &quot;X&quot; &amp;&amp;\r\n                    buttons_array[8].getText() ==  &quot;X&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                xWins(0,4,8);\r\n            }\r\n             \r\n             \r\n            if(\r\n                    (buttons_array[2].getText() == &quot;X&quot;) &amp;&amp;\r\n                    buttons_array[4].getText() ==  &quot;X&quot; &amp;&amp;\r\n                    buttons_array[6].getText() ==  &quot;X&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                xWins(2,4,6);\r\n            }\r\n             \r\n             \r\n            if(\r\n                    (buttons_array[0].getText() == &quot;O&quot;) &amp;&amp;\r\n                    buttons_array[1].getText() ==  &quot;O&quot;  &amp;&amp;\r\n                    buttons_array[2].getText() ==  &quot;O&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                 \r\n                oWins(0,1,2);\r\n                 \r\n            }\r\n             \r\n            if(\r\n                    (buttons_array[3].getText() == &quot;O&quot;) &amp;&amp;\r\n                    buttons_array[4].getText() ==  &quot;O&quot; &amp;&amp;\r\n                    buttons_array[5].getText() ==  &quot;O&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                oWins(3,4,5);\r\n            }\r\n             \r\n            if(\r\n                    (buttons_array[6].getText() == &quot;O&quot;) &amp;&amp;\r\n                    buttons_array[7].getText() ==  &quot;O&quot; &amp;&amp;\r\n                    buttons_array[8].getText() ==  &quot;O&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                oWins(6,7,8);\r\n            }\r\n             \r\n            if(\r\n                    (buttons_array[0].getText() == &quot;O&quot;) &amp;&amp;\r\n                    buttons_array[3].getText() ==  &quot;O&quot; &amp;&amp;\r\n                    buttons_array[6].getText() ==  &quot;O&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                oWins(0,3,6);\r\n            }\r\n             \r\n            if(\r\n                    (buttons_array[1].getText() == &quot;O&quot;) &amp;&amp;\r\n                    buttons_array[4].getText() ==  &quot;O&quot; &amp;&amp;\r\n                    buttons_array[7].getText() ==  &quot;O&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                oWins(1,4,7);\r\n            }\r\n             \r\n            if(\r\n                    (buttons_array[2].getText() == &quot;O&quot;) &amp;&amp;\r\n                    buttons_array[5].getText() ==  &quot;O&quot; &amp;&amp;\r\n                    buttons_array[8].getText() ==  &quot;O&quot;\r\n                     \r\n                     \r\n                    ) {\r\n                 \r\n                oWins(2,5,8);\r\n            }\r\n             \r\n             \r\n            if(\r\n                    (buttons_array[0].getText() == &quot;O&quot;) &amp;&amp;\r\n                    buttons_array[4].getText() ==  &quot;O&quot; &amp;&amp;\r\n                    buttons_array[8].getText() ==  &quot;O&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                oWins(0,4,8);\r\n            }\r\n             \r\n             \r\n            if(\r\n                    (buttons_array[2].getText() == &quot;O&quot;) &amp;&amp;\r\n                    buttons_array[4].getText() ==  &quot;O&quot; &amp;&amp;\r\n                    buttons_array[6].getText() ==  &quot;O&quot;\r\n                     \r\n                    ) {\r\n                 \r\n                oWins(2,4,6);\r\n             \r\n                 \r\n            }\r\n             \r\n        }\r\n            //////////////////////////////////////////////////////////////////////////////////\r\n                 \r\n               \r\n         \r\n             \r\n         \r\n         \r\n        public void xWins(int a, int b, int c) {\r\n             \r\n            buttons_array[a].setBackground(new Color(50,15,80));\r\n            buttons_array[b].setBackground(new Color(150,15,80));\r\n            buttons_array[c].setBackground(Color.BLACK);\r\n             \r\n            for(int i=0;i&lt;9;i++) {\r\n                buttons_array[i].setEnabled(false);\r\n            }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hbaFE.png\r\n  [2]: https://i.stack.imgur.com/EGobg.png","title":"How to keep a button visible when clicking on other buttons?","body":"<p>I'm creating a tic tac toe game, and I have created 2 buttons &quot;Quit&quot; and &quot;Replay&quot;. When I click on any other buttons, those 2 buttons disappear. I'd be happy if you tell what I can do to have them visible when I click on any other buttons.</p>\n<p>As you can see in both screenshots, before I click on any buttons, both are visible, but when I click on any button, both disappear, and I have to hover my mouse over them for them appear again.</p>\n<p><a href=\"https://i.stack.imgur.com/EGobg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EGobg.png\" alt=\"Click here for the image\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hbaFE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hbaFE.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Below is all of code\n\n\n\npublic static void main(String[] args) {\n    TickTacToe tik = new TickTacToe();\n}\n \n    Random random = new Random();\n    JFrame frame = new JFrame();\n    JPanel title_panel = new JPanel();\n    JPanel button_panel = new JPanel();\n    JLabel textfield = new JLabel();\n    JButton[] buttons_array = new JButton[9];\n    int i =0;\n    JPanel panel;\n     \n    JButton Replaybutton,Quitbutton;\n    boolean player1_turn;\n\n \n    TickTacToe(){\n        JButton Replay,Quit;\n        Replay = new JButton();\n         \n        Replay.setText(&quot;Replay?&quot;);\n        Replay.setForeground(Color.cyan);\n        Replay.setFont(new Font(&quot;Courgette&quot;,Font.BOLD,17));\n        Replay.setBackground(new Color(25,60,80));\n        Replay.setBounds(70,10, 100,45);\n         \n        Quit = new JButton();\n         \n        Quit.setText(&quot;Quit!&quot;);\n        Quit.setForeground(Color.black);\n        Quit.setFont(new Font(&quot;Courgette&quot;,Font.BOLD,19));\n        Quit.setBackground(new Color(145,80,120));\n        Quit.setBounds(620, 10, 100, 45);\n     \n        ////////////////////////////////////////////////////////\n         \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(800,800);\n        frame.getContentPane().setBackground(new Color(50,50,50));\n        frame.setLayout(new BorderLayout());\n        frame.setVisible(true);\n        //Below line is for centring our frame in the middle.\n        frame.setLocationRelativeTo(null);\n         \n         \n     \n        textfield.setBackground(Color.black);\n        textfield.setForeground(new Color(80,170,20));\n        textfield.setFont(new Font(&quot;Courgette&quot;,Font.PLAIN,50));\n        //The below method is for centering our text in the center.\n        textfield.setHorizontalAlignment(JLabel.CENTER);\n        textfield.setText(&quot;Tik-Tac-Toe&quot;);\n        textfield.setOpaque(true);\n         \n         \n         \n        title_panel.setLayout(new BorderLayout());\n        title_panel.setBounds(0, 0, 800, 100);\n         \n        button_panel.setLayout(new GridLayout(3,3));\n        button_panel.setBackground(new Color(150,150,150));\n         \n         \n     \n        for(int i = 0; i &lt;9;i++) {\n            buttons_array[i] = new JButton();\n            button_panel.add(buttons_array[i]);\n            buttons_array[i].setFont(new Font(&quot;InkFree&quot;,Font.BOLD,120));\n            buttons_array[i].setFocusable(false);\n            buttons_array[i].addActionListener(this);\n             \n         \n        }\n         \n     \n         \n     \n        frame.add(Replay);\n        frame.add(Quit);\n        frame.setResizable(false);\n        title_panel.add(textfield);\n        frame.add(title_panel,BorderLayout.NORTH);\n        frame.add(button_panel);\n         \n        firstTurn();\n    }\n     \n     \n     \n    @Override\n    public void actionPerformed(ActionEvent e) {\n         \n        for(int i=0;i&lt;9;i++) {\n            if(e.getSource()==buttons_array[i]) {\n                 \n                if(player1_turn) {\n                    if(buttons_array[i].getText()==&quot;&quot;) {\n                        buttons_array[i].setForeground(Color.red);\n                        buttons_array[i].setText(&quot;X&quot;);\n                        player1_turn =false;\n                        textfield.setText(&quot;O Turn&quot;);\n                        check();\n                         \n                    }\n                }\n                 \n                else {\n                    if(buttons_array[i].getText()==&quot;&quot;) {\n                        buttons_array[i].setForeground(Color.blue);\n                        buttons_array[i].setText(&quot;O&quot;);\n                        player1_turn =true;\n                        textfield.setText(&quot;X Turn&quot;);\n                        check();\n                         \n                    }\n                }\n            }\n             \n        }\n         \n    }\n     \n    public void firstTurn() {\n         \n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n             \n            e.printStackTrace();\n        }\n         \n        if(random.nextInt(2)==0) {\n            player1_turn = true;\n            textfield.setText(&quot;X Turn&quot;);\n             \n        }else if(random.nextInt(2) == 1) {\n             \n            player1_turn = false;\n            textfield.setText(&quot;O Turn&quot;);\n             \n        }\n    }\n     \n    public void check() {\n         \n        // Checking for x win Conditiotns.\n        if(\n                (buttons_array[0].getText() == &quot;X&quot;) &amp;&amp;\n                buttons_array[1].getText() ==  &quot;X&quot; &amp;&amp;\n                buttons_array[2].getText() ==  &quot;X&quot;\n                 \n                ) {\n             \n            xWins(0,1,2);\n        }\n         \n        if(\n                (buttons_array[3].getText() == &quot;X&quot;) &amp;&amp;\n                buttons_array[4].getText() ==  &quot;X&quot; &amp;&amp;\n                buttons_array[5].getText() ==  &quot;X&quot;\n                 \n                ) {\n             \n            xWins(3,4,5);\n        }\n         \n        if(\n                (buttons_array[6].getText() == &quot;X&quot;) &amp;&amp;\n                buttons_array[7].getText() == &quot;X&quot; &amp;&amp;\n                buttons_array[8].getText() == &quot;X&quot;\n                 \n                ) {\n             \n            xWins(6,7,8);\n        }\n     \n        if(\n                (buttons_array[0].getText() == &quot;X&quot;) &amp;&amp;\n                buttons_array[3].getText() ==  &quot;X&quot; &amp;&amp;\n                buttons_array[6].getText() ==  &quot;X&quot;\n                 \n                ) {\n             \n            xWins(0,3,6);\n        }\n         \n        if(\n                (buttons_array[1].getText() == &quot;X&quot;) &amp;&amp;\n                buttons_array[4].getText() ==  &quot;X&quot; &amp;&amp;\n                buttons_array[7].getText() ==  &quot;X&quot;\n                 \n                ) {\n             \n            xWins(1,4,7);\n        }\n         \n        if(\n                (buttons_array[2].getText() == &quot;X&quot;) &amp;&amp;\n                buttons_array[5].getText() ==  &quot;X&quot; &amp;&amp;\n                buttons_array[8].getText() ==  &quot;X&quot;\n                 \n                ) {\n             \n            xWins(2,5,8);\n        }\n         \n        if(\n                (buttons_array[0].getText() == &quot;X&quot;) &amp;&amp;\n                buttons_array[4].getText() == &quot;X&quot; &amp;&amp;\n                buttons_array[8].getText() ==  &quot;X&quot;\n                 \n                ) {\n             \n            xWins(0,4,8);\n        }\n         \n         \n        if(\n                (buttons_array[2].getText() == &quot;X&quot;) &amp;&amp;\n                buttons_array[4].getText() ==  &quot;X&quot; &amp;&amp;\n                buttons_array[6].getText() ==  &quot;X&quot;\n                 \n                ) {\n             \n            xWins(2,4,6);\n        }\n         \n         \n        if(\n                (buttons_array[0].getText() == &quot;O&quot;) &amp;&amp;\n                buttons_array[1].getText() ==  &quot;O&quot;  &amp;&amp;\n                buttons_array[2].getText() ==  &quot;O&quot;\n                 \n                ) {\n             \n             \n            oWins(0,1,2);\n             \n        }\n         \n        if(\n                (buttons_array[3].getText() == &quot;O&quot;) &amp;&amp;\n                buttons_array[4].getText() ==  &quot;O&quot; &amp;&amp;\n                buttons_array[5].getText() ==  &quot;O&quot;\n                 \n                ) {\n             \n            oWins(3,4,5);\n        }\n         \n        if(\n                (buttons_array[6].getText() == &quot;O&quot;) &amp;&amp;\n                buttons_array[7].getText() ==  &quot;O&quot; &amp;&amp;\n                buttons_array[8].getText() ==  &quot;O&quot;\n                 \n                ) {\n             \n            oWins(6,7,8);\n        }\n         \n        if(\n                (buttons_array[0].getText() == &quot;O&quot;) &amp;&amp;\n                buttons_array[3].getText() ==  &quot;O&quot; &amp;&amp;\n                buttons_array[6].getText() ==  &quot;O&quot;\n                 \n                ) {\n             \n            oWins(0,3,6);\n        }\n         \n        if(\n                (buttons_array[1].getText() == &quot;O&quot;) &amp;&amp;\n                buttons_array[4].getText() ==  &quot;O&quot; &amp;&amp;\n                buttons_array[7].getText() ==  &quot;O&quot;\n                 \n                ) {\n             \n            oWins(1,4,7);\n        }\n         \n        if(\n                (buttons_array[2].getText() == &quot;O&quot;) &amp;&amp;\n                buttons_array[5].getText() ==  &quot;O&quot; &amp;&amp;\n                buttons_array[8].getText() ==  &quot;O&quot;\n                 \n                 \n                ) {\n             \n            oWins(2,5,8);\n        }\n         \n         \n        if(\n                (buttons_array[0].getText() == &quot;O&quot;) &amp;&amp;\n                buttons_array[4].getText() ==  &quot;O&quot; &amp;&amp;\n                buttons_array[8].getText() ==  &quot;O&quot;\n                 \n                ) {\n             \n            oWins(0,4,8);\n        }\n         \n         \n        if(\n                (buttons_array[2].getText() == &quot;O&quot;) &amp;&amp;\n                buttons_array[4].getText() ==  &quot;O&quot; &amp;&amp;\n                buttons_array[6].getText() ==  &quot;O&quot;\n                 \n                ) {\n             \n            oWins(2,4,6);\n         \n             \n        }\n         \n    }\n        //////////////////////////////////////////////////////////////////////////////////\n             \n           \n     \n         \n     \n     \n    public void xWins(int a, int b, int c) {\n         \n        buttons_array[a].setBackground(new Color(50,15,80));\n        buttons_array[b].setBackground(new Color(150,15,80));\n        buttons_array[c].setBackground(Color.BLACK);\n         \n        for(int i=0;i&lt;9;i++) {\n            buttons_array[i].setEnabled(false);\n        }\n</code></pre>\n"},{"tags":["java","ubuntu","raspberry-pi","raspberry-pi4","java-19"],"comments":[{"owner":{"account_id":16016658,"reputation":64,"user_id":11559187,"display_name":"Volzy"},"score":0,"creation_date":1667338504,"post_id":74281825,"comment_id":131143333,"body_markdown":"Did you try with javaFX mediaplayer? It is just one line of code and it is works much better with the default config","body":"Did you try with javaFX mediaplayer? It is just one line of code and it is works much better with the default config"},{"owner":{"account_id":10877744,"reputation":1088,"user_id":7997683,"display_name":"Roy Ash"},"score":0,"creation_date":1667339506,"post_id":74281825,"comment_id":131143564,"body_markdown":"@Volzy correct me if I wrong, but JavaFX doesn&#39;t included in JRE anymore, correct?\ncan you give an example?","body":"@Volzy correct me if I wrong, but JavaFX doesn&#39;t included in JRE anymore, correct? can you give an example?"},{"owner":{"account_id":16016658,"reputation":64,"user_id":11559187,"display_name":"Volzy"},"score":1,"creation_date":1667340065,"post_id":74281825,"comment_id":131143695,"body_markdown":"it&#39;s correct but you said you are using maven. You can add it as maven dependency","body":"it&#39;s correct but you said you are using maven. You can add it as maven dependency"},{"owner":{"account_id":10877744,"reputation":1088,"user_id":7997683,"display_name":"Roy Ash"},"score":0,"creation_date":1667340238,"post_id":74281825,"comment_id":131143726,"body_markdown":"now I&#39;m trying to figure out how to open the WAV file from resources directory, (`Media` constructor only recieves String of the location of the file)","body":"now I&#39;m trying to figure out how to open the WAV file from resources directory, (<code>Media</code> constructor only recieves String of the location of the file)"},{"owner":{"account_id":10877744,"reputation":1088,"user_id":7997683,"display_name":"Roy Ash"},"score":0,"creation_date":1667341327,"post_id":74281825,"comment_id":131143914,"body_markdown":"@Volzy as I can see, it guides me toward a GUI application, I want my application to be a CLI app.\n\nI keep getting errors like `Error: JavaFX runtime components are missing, and are required to run this application` after I extended my class to be type of `Application` even after I wrote `primaryStage.show();` inside the `start` method.","body":"@Volzy as I can see, it guides me toward a GUI application, I want my application to be a CLI app.  I keep getting errors like <code>Error: JavaFX runtime components are missing, and are required to run this application</code> after I extended my class to be type of <code>Application</code> even after I wrote <code>primaryStage.show();</code> inside the <code>start</code> method."},{"owner":{"account_id":10877744,"reputation":1088,"user_id":7997683,"display_name":"Roy Ash"},"score":0,"creation_date":1667344040,"post_id":74281825,"comment_id":131144452,"body_markdown":"In addition, it seems that it make me dependent on `javafx-maven-plugin` and I can only run it via `mvn javafx:run` instead of `java -jar &lt;my jar&gt;.jar` and it&#39;s not acceptable","body":"In addition, it seems that it make me dependent on <code>javafx-maven-plugin</code> and I can only run it via <code>mvn javafx:run</code> instead of <code>java -jar &lt;my jar&gt;.jar</code> and it&#39;s not acceptable"},{"owner":{"account_id":16016658,"reputation":64,"user_id":11559187,"display_name":"Volzy"},"score":0,"creation_date":1667377412,"post_id":74281825,"comment_id":131150187,"body_markdown":"Yes javaFx include GUI and cli components like mediaplayer. You get those errors because you must download the javaFX runtime and add it to the classpath as vm argument","body":"Yes javaFx include GUI and cli components like mediaplayer. You get those errors because you must download the javaFX runtime and add it to the classpath as vm argument"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667387850,"post_id":74281825,"comment_id":131153885,"body_markdown":"You can not read an input stream multiple times. It’s a bad idea to use the same input stream for multiple playback attempts when you don’t know whether the previous attempt(s) have read data from it (or how much).","body":"You can not read an input stream multiple times. It’s a bad idea to use the same input stream for multiple playback attempts when you don’t know whether the previous attempt(s) have read data from it (or how much)."},{"owner":{"account_id":10877744,"reputation":1088,"user_id":7997683,"display_name":"Roy Ash"},"score":0,"creation_date":1667390557,"post_id":74281825,"comment_id":131154717,"body_markdown":"@Holger playing the clip multiple times works, this is not the problem, the problem is about the mixers only.","body":"@Holger playing the clip multiple times works, this is not the problem, the problem is about the mixers only."},{"owner":{"account_id":10877744,"reputation":1088,"user_id":7997683,"display_name":"Roy Ash"},"score":0,"creation_date":1667390927,"post_id":74281825,"comment_id":131154833,"body_markdown":"@Volzy I&#39;m building a standalone jar that need to work on any (main) OS, in addition I&#39;m already creating jar with dependencies so I can&#39;t demand that the users will need to install additional runtimes and play with classpath parameters. if you want to see what I&#39;m already doing, the project is in https://github.com/ashr123/red-alert-listener","body":"@Volzy I&#39;m building a standalone jar that need to work on any (main) OS, in addition I&#39;m already creating jar with dependencies so I can&#39;t demand that the users will need to install additional runtimes and play with classpath parameters. if you want to see what I&#39;m already doing, the project is in <a href=\"https://github.com/ashr123/red-alert-listener\" rel=\"nofollow noreferrer\">github.com/ashr123/red-alert-listener</a>"},{"owner":{"account_id":16016658,"reputation":64,"user_id":11559187,"display_name":"Volzy"},"score":0,"creation_date":1667392192,"post_id":74281825,"comment_id":131155253,"body_markdown":"Well i don&#39;t see the problem with dependency if it&#39;s not a malware you can still create an application easy to launch to launch the complex application. Java it&#39;s not &quot;plug and play&quot; it&#39;s an old language if you want plug and play support you should go for a modern language","body":"Well i don&#39;t see the problem with dependency if it&#39;s not a malware you can still create an application easy to launch to launch the complex application. Java it&#39;s not &quot;plug and play&quot; it&#39;s an old language if you want plug and play support you should go for a modern language"},{"owner":{"account_id":10877744,"reputation":1088,"user_id":7997683,"display_name":"Roy Ash"},"score":0,"creation_date":1667394994,"post_id":74281825,"comment_id":131156256,"body_markdown":"I know it&#39;s not a malware, I just want to keep it simple for people to download the jar-with-dependencies jar and run it via `java -jar`, it worked so far.. it still works on my MacOS and on Windows 10, I don&#39;t have Ubuntu installed on &quot;regular&quot; computer so I didn&#39;t check that case","body":"I know it&#39;s not a malware, I just want to keep it simple for people to download the jar-with-dependencies jar and run it via <code>java -jar</code>, it worked so far.. it still works on my MacOS and on Windows 10, I don&#39;t have Ubuntu installed on &quot;regular&quot; computer so I didn&#39;t check that case"},{"owner":{"account_id":16016658,"reputation":64,"user_id":11559187,"display_name":"Volzy"},"score":0,"creation_date":1667408143,"post_id":74281825,"comment_id":131161741,"body_markdown":"I repeat. Try if it&#39;s a raspberry issue, trying on normal pc. Otherwise consider using mediaplayer. I don&#39;t see usually people that use Clip. I see everyone that use the javafx mediaplayer. Or you if you don&#39;t like javafx then find another player. There are many library to play music. If you need to run on linux you can launch a music process with ProcessBuilder","body":"I repeat. Try if it&#39;s a raspberry issue, trying on normal pc. Otherwise consider using mediaplayer. I don&#39;t see usually people that use Clip. I see everyone that use the javafx mediaplayer. Or you if you don&#39;t like javafx then find another player. There are many library to play music. If you need to run on linux you can launch a music process with ProcessBuilder"},{"owner":{"account_id":10877744,"reputation":1088,"user_id":7997683,"display_name":"Roy Ash"},"score":0,"creation_date":1667410857,"post_id":74281825,"comment_id":131162758,"body_markdown":"This is indeed seems to be a raspberry pi issue (on Ubuntu 22.10 at least), on other computers it works just fine, the goal is to find more long-term and **stable** lightweight solution that doesn&#39;t needed to be run with extra flags and parameters or tinkering with environment variables and packages outside the jar with dependencies.","body":"This is indeed seems to be a raspberry pi issue (on Ubuntu 22.10 at least), on other computers it works just fine, the goal is to find more long-term and <b>stable</b> lightweight solution that doesn&#39;t needed to be run with extra flags and parameters or tinkering with environment variables and packages outside the jar with dependencies."}],"owner":{"account_id":10877744,"reputation":1088,"user_id":7997683,"display_name":"Roy Ash"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667338339,"creation_date":1667337003,"question_id":74281825,"body_markdown":"I&#39;m using Raspberry Pi with Ubuntu 22.10 and Java 19.\r\n\r\nI&#39;m trying to play a sound with the following code:\r\n\r\n```java\r\nprivate static void testMixers() throws IOException, UnsupportedAudioFileException\r\n{\r\n\ttry (AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(new BufferedInputStream(Objects.requireNonNull(Listener.class.getResourceAsStream(&quot;/alarmSound.wav&quot;)))))\r\n\t{\r\n\t\tfinal Scanner scanner = new Scanner(System.in);\r\n\t\tfor (Mixer.Info info : AudioSystem.getMixerInfo())\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Testing sound for mixer \\&quot;&quot; + info + &quot;\\&quot;...&quot;);\r\n\t\t\ttry (Clip clip = AudioSystem.getClip(info))\r\n\t\t\t{\r\n\t\t\t\tclip.open(audioInputStream);\r\n\t\t\t\tclip.setFramePosition(0);\r\n\t\t\t\tclip.start();\r\n\t\t\t\tSystem.out.println(&quot;Did you hear any sound? (true|false)&quot;);\r\n\t\t\t\tif (Boolean.parseBoolean(scanner.nextLine()))\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(&quot;Mixer not found!&quot;);\r\n}\r\n```\r\n\r\n`alarmSound.wav` is under `src/main/resources` (this is a Maven project).\r\n\r\n`AudioSystem.getMixerInfo()` gives me the following `Mixer.Info[]`:\r\n\r\n - `Port Headphones [hw:0], version 5.19.0-1006-raspi`\r\n - `Port vc4hdmi0 [hw:1], version 5.19.0-1006-raspi`\r\n - `Port vc4hdmi1 [hw:2], version 5.19.0-1006-raspi`\r\n - `Headphones [default], version 5.19.0-1006-raspi`\r\n - `Headphones [plughw:0,0], version 5.19.0-1006-raspi`\r\n - `vc4hdmi0 [plughw:1,0], version 5.19.0-1006-raspi`\r\n - `vc4hdmi1 [plughw:2,0], version 5.19.0-1006-raspi`\r\n\r\nOnly the `Headphones` Mixers don&#39;t give the error:\r\n\r\n&gt; java.lang.IllegalArgumentException: Line unsupported: interface Clip supporting format PCM_SIGNED unknown sample rate, 16 bit, stereo, 4 bytes/frame, big-endian\r\n\r\nI didn&#39;t tested the headphone jack.\r\n\r\nThis is completely different from Ubuntu 22.04 which gave more `Mixer.Info`s.\r\n\r\nIs there any workaround? it seems that every Ubuntu version requires different workaround for being able to play a sound that can be heard not through the headphones (but from bluetooth speakers or via HDMI for example).","title":"Can&#39;t hear sound from bluetooth speaker","body":"<p>I'm using Raspberry Pi with Ubuntu 22.10 and Java 19.</p>\n<p>I'm trying to play a sound with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void testMixers() throws IOException, UnsupportedAudioFileException\n{\n    try (AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(new BufferedInputStream(Objects.requireNonNull(Listener.class.getResourceAsStream(&quot;/alarmSound.wav&quot;)))))\n    {\n        final Scanner scanner = new Scanner(System.in);\n        for (Mixer.Info info : AudioSystem.getMixerInfo())\n        {\n            System.out.println(&quot;Testing sound for mixer \\&quot;&quot; + info + &quot;\\&quot;...&quot;);\n            try (Clip clip = AudioSystem.getClip(info))\n            {\n                clip.open(audioInputStream);\n                clip.setFramePosition(0);\n                clip.start();\n                System.out.println(&quot;Did you hear any sound? (true|false)&quot;);\n                if (Boolean.parseBoolean(scanner.nextLine()))\n                    return;\n            }\n            catch (Exception e)\n            {\n                System.out.println(e);\n            }\n        }\n    }\n    System.out.println(&quot;Mixer not found!&quot;);\n}\n</code></pre>\n<p><code>alarmSound.wav</code> is under <code>src/main/resources</code> (this is a Maven project).</p>\n<p><code>AudioSystem.getMixerInfo()</code> gives me the following <code>Mixer.Info[]</code>:</p>\n<ul>\n<li><code>Port Headphones [hw:0], version 5.19.0-1006-raspi</code></li>\n<li><code>Port vc4hdmi0 [hw:1], version 5.19.0-1006-raspi</code></li>\n<li><code>Port vc4hdmi1 [hw:2], version 5.19.0-1006-raspi</code></li>\n<li><code>Headphones [default], version 5.19.0-1006-raspi</code></li>\n<li><code>Headphones [plughw:0,0], version 5.19.0-1006-raspi</code></li>\n<li><code>vc4hdmi0 [plughw:1,0], version 5.19.0-1006-raspi</code></li>\n<li><code>vc4hdmi1 [plughw:2,0], version 5.19.0-1006-raspi</code></li>\n</ul>\n<p>Only the <code>Headphones</code> Mixers don't give the error:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Line unsupported: interface Clip supporting format PCM_SIGNED unknown sample rate, 16 bit, stereo, 4 bytes/frame, big-endian</p>\n</blockquote>\n<p>I didn't tested the headphone jack.</p>\n<p>This is completely different from Ubuntu 22.04 which gave more <code>Mixer.Info</code>s.</p>\n<p>Is there any workaround? it seems that every Ubuntu version requires different workaround for being able to play a sound that can be heard not through the headphones (but from bluetooth speakers or via HDMI for example).</p>\n"},{"tags":["java","recursion","hashmap"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667327163,"post_id":74280095,"comment_id":131140167,"body_markdown":"Hello and Welcome! Please, you English in the code you&#39;re exposing. And the code you&#39;ve posted is incomplete (for instance, where `result` comes from?). Can you provide a [Minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"Hello and Welcome! Please, you English in the code you&#39;re exposing. And the code you&#39;ve posted is incomplete (for instance, where <code>result</code> comes from?). Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal reproducible example</a>?"},{"owner":{"account_id":26798208,"reputation":1,"user_id":20390596,"display_name":"Mad_Programmer"},"score":0,"creation_date":1667327852,"post_id":74280095,"comment_id":131140384,"body_markdown":"Result is a global variable which is empty when the method is called. The method is called with a list of all keys: doit((HashMap&lt;String, List&lt;ZeugnisNoteMitAa&gt;&gt;) e.getValue(), keyList, 0, 0);","body":"Result is a global variable which is empty when the method is called. The method is called with a list of all keys: doit((HashMap&lt;String, List&lt;ZeugnisNoteMitAa&gt;&gt;) e.getValue(), keyList, 0, 0);"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1667328217,"post_id":74280095,"comment_id":131140489,"body_markdown":"I guess you mean an *instance* variable or maybe even a class variable, since there are no global variables in Java.  Leaving aside the fact that using such a variable for the apparent purpose is terrible form, we need to know the *type* of that variable to understand the behavior of your method.  And if `loesugGefunden()` modifies its argument or any instance or class state then we need to know about that, too.","body":"I guess you mean an <i>instance</i> variable or maybe even a class variable, since there are no global variables in Java.  Leaving aside the fact that using such a variable for the apparent purpose is terrible form, we need to know the <i>type</i> of that variable to understand the behavior of your method.  And if <code>loesugGefunden()</code> modifies its argument or any instance or class state then we need to know about that, too."},{"owner":{"account_id":26798208,"reputation":1,"user_id":20390596,"display_name":"Mad_Programmer"},"score":0,"creation_date":1667328870,"post_id":74280095,"comment_id":131140650,"body_markdown":"private HashMap&lt;String, ZeugnisNoteMitAa&gt; result;                        \n private void loesungGefunden(HashMap&lt;String, ZeugnisNoteMitAa&gt;map)\n    {\n        for (Map.Entry e : map.entrySet())\n        {\n            ZeugnisNoteMitAa note = (ZeugnisNoteMitAa) e.getValue();\n            System.out.println(e.getKey()+&quot; &quot;+ note.getZeugnisNote().getSchuleFach().getUnterrichtsfach().getAnzeigeform()+&quot; &quot;\n                    + note.getZeugnisNote().getNote()+ &quot;\\n&quot;);\n        }\n    }","body":"private HashMap&lt;String, ZeugnisNoteMitAa&gt; result;                          private void loesungGefunden(HashMap&lt;String, ZeugnisNoteMitAa&gt;map)     {         for (Map.Entry e : map.entrySet())         {             ZeugnisNoteMitAa note = (ZeugnisNoteMitAa) e.getValue();             System.out.println(e.getKey()+&quot; &quot;+ note.getZeugnisNote().getSchuleFach().getUnterrichtsfach().g&zwnj;&#8203;etAnzeigeform()+&quot; &quot;                     + note.getZeugnisNote().getNote()+ &quot;\\n&quot;);         }     }"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1667329690,"post_id":74280095,"comment_id":131140872,"body_markdown":"Please, use the *edit* button or this [link](https://stackoverflow.com/posts/74280095/edit) to update the question. **Don&#39;t** post the code, or other clarifications that are crucial to the problem in the comments - update the question (and then you can use comments to notify users that have commented the question earlier that it has been updated).","body":"Please, use the <i>edit</i> button or this <a href=\"https://stackoverflow.com/posts/74280095/edit\">link</a> to update the question. <b>Don&#39;t</b> post the code, or other clarifications that are crucial to the problem in the comments - update the question (and then you can use comments to notify users that have commented the question earlier that it has been updated)."},{"owner":{"account_id":26798208,"reputation":1,"user_id":20390596,"display_name":"Mad_Programmer"},"score":0,"creation_date":1667331413,"post_id":74280095,"comment_id":131141406,"body_markdown":"Added method loesunggefunden, member variable result and constructor","body":"Added method loesunggefunden, member variable result and constructor"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1667334681,"post_id":74280095,"comment_id":131142310,"body_markdown":"Can you share ZeugnisNoteMitAa ?","body":"Can you share ZeugnisNoteMitAa ?"},{"owner":{"account_id":26798208,"reputation":1,"user_id":20390596,"display_name":"Mad_Programmer"},"score":0,"creation_date":1667337934,"post_id":74280095,"comment_id":131143188,"body_markdown":"Shared ZeugnisNoteMitAa. For copyright reasons I can&#39;t share classes used inside this class.","body":"Shared ZeugnisNoteMitAa. For copyright reasons I can&#39;t share classes used inside this class."},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1667386674,"post_id":74280095,"comment_id":131153467,"body_markdown":"I wrote an example to see if this is what you want to achieve: https://shrib.com/#Frederick6zMddZY \nLet me know if I understand it well.","body":"I wrote an example to see if this is what you want to achieve: <a href=\"https://shrib.com/#Frederick6zMddZY\" rel=\"nofollow noreferrer\">shrib.com/#Frederick6zMddZY</a>  Let me know if I understand it well."},{"owner":{"account_id":9124873,"reputation":170,"user_id":6789045,"accept_rate":25,"display_name":"Michael Konz"},"score":0,"creation_date":1667473975,"post_id":74280095,"comment_id":131177435,"body_markdown":"Not exactly, there must be one x and one y in each solution. The difficulty is that x1 y1 is the same as y1 x1 and should only appear once","body":"Not exactly, there must be one x and one y in each solution. The difficulty is that x1 y1 is the same as y1 x1 and should only appear once"}],"owner":{"account_id":26798208,"reputation":1,"user_id":20390596,"display_name":"Mad_Programmer"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667337863,"creation_date":1667326206,"question_id":74280095,"body_markdown":"I have a Java Hashmap which contains Strings as key and a list of complex elements as value for each key.\r\nI want to find all possible combinations of values, if exactly one value must be chosen for each key.\r\nThe following code gives me all possible combinations. Unfortunately, some combinations are returned more than once.\r\n\r\nFor the key /value combinations\r\n\r\n\r\nW – w1, w2 \r\n\r\n\r\nX – x1, x2\r\n\r\n\r\nY – y1, y2\r\n\r\n\r\nZ – z1,z2\r\n\r\nThe code returns:\r\nw1\r\n\r\n\r\nw1, x1\r\n\r\n\r\nw1, x1, y1\r\n\r\n\r\nw1, x1, y1, z1\r\n\r\n\r\nw1, x1, y1, z2\r\n\r\n\r\nw1, x1, y2, z2\r\n\r\n\r\nw1, x1, y2, z1\r\n\r\n\r\nw1, x1, y2, z2 (already found before)\r\n\r\nAny hints how I can avoid getting combinations more than once?\r\n\r\n \r\n\r\n    private HashMap&lt;String, ZeugnisNoteMitAa&gt; result;\r\n\r\n \r\n\r\n    public DeutschCheck(final String bezeichner, final List&lt;String&gt; schulartenList) {\r\n            super(bezeichner, schulartenList);\r\n            mloesungGefunden =false;\r\n            mbeste = new HashMap&lt;&gt;();\r\n            result = new HashMap&lt;&gt;();\r\n            mbearbeitet = new HashMap&lt;&gt;();\r\n    \r\n        }\r\n    private void loesungGefunden(HashMap&lt;String, ZeugnisNoteMitAa&gt;map)\r\n        {\r\n            for (Map.Entry e : map.entrySet())\r\n            {\r\n                ZeugnisNoteMitAa note = (ZeugnisNoteMitAa) e.getValue();\r\n                System.out.println(e.getKey()+&quot; &quot;+ note.getZeugnisNote().getSchuleFach().getUnterrichtsfach().getAnzeigeform()+&quot; &quot;\r\n                        + note.getZeugnisNote().getNote()+ &quot;\\n&quot;);\r\n            }\r\n        }\r\n\r\n    private void doit(HashMap &lt; String, List &lt; ZeugnisNoteMitAa &gt;&gt; map, List &lt; String &gt; keys, int currentKey, int currentValue) {\r\n      if (currentKey &gt;= keys.size()) {\r\n        return;\r\n      } else {\r\n        List &lt; ZeugnisNoteMitAa &gt; currentValues = map.get(keys.get(currentKey));\r\n        if (currentValue &lt; currentValues.size()) {\r\n          result.put(keys.get(currentKey), currentValues.get(currentValue));\r\n          boolean found = true;\r\n          for (String current: keys) {\r\n            if (result.get(current) == null) {\r\n              found = false;\r\n            }\r\n          }\r\n          if (found) {\r\n            //Print the current selection\r\n            loesungGefunden(result);\r\n          }\r\n    \r\n          doit(map, keys, currentKey + 1, 0);\r\n          doit(map, keys, currentKey, currentValue + 1);\r\n    \r\n        }\r\n      }\r\n    }\r\n\r\n    public class ZeugnisNoteMitAa {\r\n    \r\n    \tprivate final ZeugnisNote mZeugnisNote;\r\n    \tprivate final SchuelerFachwahlFachAa mAa;\r\n    \t\r\n    \tpublic ZeugnisNoteMitAa(final ZeugnisNote zn, final SchuelerFachwahlFachAa aa) {\r\n    \t\tmZeugnisNote = zn;\r\n    \t\tmAa = aa;\r\n    \t}\r\n    \t\r\n    \tpublic ZeugnisNote getZeugnisNote() {\r\n    \t\treturn mZeugnisNote;\r\n    \t}\r\n    \t\r\n    \tpublic SchuelerFachwahlFachAa getAa() {\r\n    \t\treturn mAa;\r\n    \t}\r\n    \t\r\n    \tpublic SchuelerOberstufe getSchuelerOberstufe() {\r\n    \t\treturn mAa.getSchuelerFachwahlFach().getSchuelerFachwahl().getSchuelerOberstufe();\r\n    \t}\r\n\t\r\n\r\nI tried to find out how the machine steps through the Hashmap (noted above). I can’t find out, how to do the recursive method call that each combination only occurs once.\r\n\r\n","title":"Java recursive iteration through hashmap returns values multiple times","body":"<p>I have a Java Hashmap which contains Strings as key and a list of complex elements as value for each key.\nI want to find all possible combinations of values, if exactly one value must be chosen for each key.\nThe following code gives me all possible combinations. Unfortunately, some combinations are returned more than once.</p>\n<p>For the key /value combinations</p>\n<p>W – w1, w2</p>\n<p>X – x1, x2</p>\n<p>Y – y1, y2</p>\n<p>Z – z1,z2</p>\n<p>The code returns:\nw1</p>\n<p>w1, x1</p>\n<p>w1, x1, y1</p>\n<p>w1, x1, y1, z1</p>\n<p>w1, x1, y1, z2</p>\n<p>w1, x1, y2, z2</p>\n<p>w1, x1, y2, z1</p>\n<p>w1, x1, y2, z2 (already found before)</p>\n<p>Any hints how I can avoid getting combinations more than once?</p>\n<pre><code>private HashMap&lt;String, ZeugnisNoteMitAa&gt; result;\n\n\n\npublic DeutschCheck(final String bezeichner, final List&lt;String&gt; schulartenList) {\n        super(bezeichner, schulartenList);\n        mloesungGefunden =false;\n        mbeste = new HashMap&lt;&gt;();\n        result = new HashMap&lt;&gt;();\n        mbearbeitet = new HashMap&lt;&gt;();\n\n    }\nprivate void loesungGefunden(HashMap&lt;String, ZeugnisNoteMitAa&gt;map)\n    {\n        for (Map.Entry e : map.entrySet())\n        {\n            ZeugnisNoteMitAa note = (ZeugnisNoteMitAa) e.getValue();\n            System.out.println(e.getKey()+&quot; &quot;+ note.getZeugnisNote().getSchuleFach().getUnterrichtsfach().getAnzeigeform()+&quot; &quot;\n                    + note.getZeugnisNote().getNote()+ &quot;\\n&quot;);\n        }\n    }\n\nprivate void doit(HashMap &lt; String, List &lt; ZeugnisNoteMitAa &gt;&gt; map, List &lt; String &gt; keys, int currentKey, int currentValue) {\n  if (currentKey &gt;= keys.size()) {\n    return;\n  } else {\n    List &lt; ZeugnisNoteMitAa &gt; currentValues = map.get(keys.get(currentKey));\n    if (currentValue &lt; currentValues.size()) {\n      result.put(keys.get(currentKey), currentValues.get(currentValue));\n      boolean found = true;\n      for (String current: keys) {\n        if (result.get(current) == null) {\n          found = false;\n        }\n      }\n      if (found) {\n        //Print the current selection\n        loesungGefunden(result);\n      }\n\n      doit(map, keys, currentKey + 1, 0);\n      doit(map, keys, currentKey, currentValue + 1);\n\n    }\n  }\n}\n\npublic class ZeugnisNoteMitAa {\n\n    private final ZeugnisNote mZeugnisNote;\n    private final SchuelerFachwahlFachAa mAa;\n    \n    public ZeugnisNoteMitAa(final ZeugnisNote zn, final SchuelerFachwahlFachAa aa) {\n        mZeugnisNote = zn;\n        mAa = aa;\n    }\n    \n    public ZeugnisNote getZeugnisNote() {\n        return mZeugnisNote;\n    }\n    \n    public SchuelerFachwahlFachAa getAa() {\n        return mAa;\n    }\n    \n    public SchuelerOberstufe getSchuelerOberstufe() {\n        return mAa.getSchuelerFachwahlFach().getSchuelerFachwahl().getSchuelerOberstufe();\n    }\n</code></pre>\n<p>I tried to find out how the machine steps through the Hashmap (noted above). I can’t find out, how to do the recursive method call that each combination only occurs once.</p>\n"},{"tags":["java","angular","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667306136,"post_id":74275399,"comment_id":131132593,"body_markdown":"Make sure that the cookies get sent as well, if not there is no session.","body":"Make sure that the cookies get sent as well, if not there is no session."},{"owner":{"account_id":13842381,"reputation":1,"user_id":9992311,"display_name":"Subarb"},"score":0,"creation_date":1667337465,"post_id":74275399,"comment_id":131143078,"body_markdown":"@M.Deinum I have debugged a little more and noticed that the cookies are indeed not set. Something is going on when I use ng serve which doesn&#39;t set the cookies","body":"@M.Deinum I have debugged a little more and noticed that the cookies are indeed not set. Something is going on when I use ng serve which doesn&#39;t set the cookies"},{"owner":{"account_id":12329207,"reputation":1050,"user_id":8995812,"display_name":"Jakob Em"},"score":0,"creation_date":1668181673,"post_id":74275399,"comment_id":131350785,"body_markdown":"Maybe this helps: https://stackoverflow.com/questions/47045716/angular-ng-serve-with-proxy-config-doesnt-set-cookies-from-laravel-api","body":"Maybe this helps: <a href=\"https://stackoverflow.com/questions/47045716/angular-ng-serve-with-proxy-config-doesnt-set-cookies-from-laravel-api\" title=\"angular ng serve with proxy config doesnt set cookies from laravel api\">stackoverflow.com/questions/47045716/&hellip;</a>"}],"owner":{"account_id":13842381,"reputation":1,"user_id":9992311,"display_name":"Subarb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667337564,"creation_date":1667303060,"question_id":74275399,"body_markdown":"Using spring boot and using scoped session:\r\n\r\n\r\n```\r\n@Service\r\n@Scope(value=&quot;session&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n\r\n```\r\n\r\nI have setters and getters on this class and when the web service is run via 8081 the rest apis are scoped correctly in that the session is maintained and the data is cached.\r\n\r\nHowever when I run the front end angular using ng serve via a proxy to the rest api, I noticed that the session is never maintained. ie the fields that have been initialized seems to be always reset back to null on subsequent calls from the ng serve.\r\n\r\n\r\nthe proxy config is:\r\n\r\n\r\n```\r\n{\r\n  &quot;/&quot;: {\r\n    &quot;target&quot;: &quot;http://localhost:8081/app&quot;,\r\n    &quot;secure&quot;: false,\r\n    &quot;changeOrigin&quot;: true,\r\n    &quot;logLevel&quot;: &quot;debug&quot;\r\n  }\r\n}\r\n\r\n```\r\n\r\nand running it via:\r\n\r\n\r\n```\r\nng serve --port 4201 --proxy-config proxy.conf.json\r\n\r\n```\r\nAlso the http requests I am using is this:\r\n    this.options = {\r\n      withCredentials: true,\r\n      headers:\r\n        new HttpHeaders({\r\n          &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n          &#39;Access-Control-Allow-Credentials&#39;: &#39;true&#39;,\r\n          &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39;,\r\n          &#39;Cache-Control&#39;: &#39;no-cache&#39;\r\n        })\r\n    };\r\n\r\n","title":"Spring boot scope session not working when using ng serve proxy","body":"<p>Using spring boot and using scoped session:</p>\n<pre><code>@Service\n@Scope(value=&quot;session&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)\n\n</code></pre>\n<p>I have setters and getters on this class and when the web service is run via 8081 the rest apis are scoped correctly in that the session is maintained and the data is cached.</p>\n<p>However when I run the front end angular using ng serve via a proxy to the rest api, I noticed that the session is never maintained. ie the fields that have been initialized seems to be always reset back to null on subsequent calls from the ng serve.</p>\n<p>the proxy config is:</p>\n<pre><code>{\n  &quot;/&quot;: {\n    &quot;target&quot;: &quot;http://localhost:8081/app&quot;,\n    &quot;secure&quot;: false,\n    &quot;changeOrigin&quot;: true,\n    &quot;logLevel&quot;: &quot;debug&quot;\n  }\n}\n\n</code></pre>\n<p>and running it via:</p>\n<pre><code>ng serve --port 4201 --proxy-config proxy.conf.json\n\n</code></pre>\n<p>Also the http requests I am using is this:\nthis.options = {\nwithCredentials: true,\nheaders:\nnew HttpHeaders({\n'Content-Type': 'application/json',\n'Access-Control-Allow-Credentials': 'true',\n'Access-Control-Allow-Origin': '*',\n'Cache-Control': 'no-cache'\n})\n};</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667337317,"creation_date":1667336860,"answer_id":74281806,"question_id":74281663,"body_markdown":"There is a `getBeansOfType()` method in the `ApplicationContext` which can return all beans of a given type. The beans will be retuned as a map which the key is the name of the bean while the value is the bean instance.\r\n\r\n``` java\r\nMap&lt;String, Person&gt; beans = applicationContext.getBeansOfType(Person.class);\r\n\r\nPerson person1 = beans.get(&quot;1&quot;); \r\nPerson person2 = beans.get(&quot;2&quot;);\r\n\r\nList&lt;Person&gt; allPersons = new ArrayList&lt;&gt;(beans.values());\r\n\r\n```","title":"Get every bean from bean.xml file","body":"<p>There is a <code>getBeansOfType()</code> method in the <code>ApplicationContext</code> which can return all beans of a given type. The beans will be retuned as a map which the key is the name of the bean while the value is the bean instance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Person&gt; beans = applicationContext.getBeansOfType(Person.class);\n\nPerson person1 = beans.get(&quot;1&quot;); \nPerson person2 = beans.get(&quot;2&quot;);\n\nList&lt;Person&gt; allPersons = new ArrayList&lt;&gt;(beans.values());\n\n</code></pre>\n"}],"owner":{"account_id":23875795,"reputation":173,"user_id":17885211,"display_name":"user346206"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74281806,"answer_count":1,"score":0,"last_activity_date":1667337317,"creation_date":1667335952,"question_id":74281663,"body_markdown":"I have an xml file with beans  which look like this:\r\n\r\n    &lt;bean class=&quot;org.example.domain.Person&quot; id=&quot;1&quot;&gt;\r\n            &lt;property name=&quot;first_name&quot; value=&quot;Jillian&quot;/&gt;\r\n            &lt;property name=&quot;last_name&quot; value=&quot;Palethorpe&quot;/&gt;\r\n            &lt;property name=&quot;email&quot; value=&quot;jpalethorpe0@accuweather.com&quot;/&gt;\r\n            &lt;property name=&quot;company_name&quot; value=&quot;Layo&quot;/&gt;\r\n    &lt;/bean&gt;\r\nIt has up to 30 beans with class person and id from 1 to 30.\r\n\r\nNow i want to print them\r\nI know that I could do this like that:\r\n\r\n    @SpringBootApplication\r\n    @ImportResource(&quot;classpath:beans.xml&quot;)\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        \r\n        ApplicationContext applicationContext = SpringApplication.run(Main.class, args);\r\n        Person first = applicationContext.getBean(&quot;1&quot;, Person.class);\r\n        Person second = applicationContext.getBean(&quot;2&quot;, Person.class);\r\n        System.out.println(first);\r\n        System.out.println(second);\r\n    }\r\n\r\n    }\r\n\r\nBut is there a better way to get all of the &quot;beans&quot; or persons from this xml file?\r\n","title":"Get every bean from bean.xml file","body":"<p>I have an xml file with beans  which look like this:</p>\n<pre><code>&lt;bean class=&quot;org.example.domain.Person&quot; id=&quot;1&quot;&gt;\n        &lt;property name=&quot;first_name&quot; value=&quot;Jillian&quot;/&gt;\n        &lt;property name=&quot;last_name&quot; value=&quot;Palethorpe&quot;/&gt;\n        &lt;property name=&quot;email&quot; value=&quot;jpalethorpe0@accuweather.com&quot;/&gt;\n        &lt;property name=&quot;company_name&quot; value=&quot;Layo&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>It has up to 30 beans with class person and id from 1 to 30.</p>\n<p>Now i want to print them\nI know that I could do this like that:</p>\n<pre><code>@SpringBootApplication\n@ImportResource(&quot;classpath:beans.xml&quot;)\npublic class Main {\npublic static void main(String[] args) {\n    \n    ApplicationContext applicationContext = SpringApplication.run(Main.class, args);\n    Person first = applicationContext.getBean(&quot;1&quot;, Person.class);\n    Person second = applicationContext.getBean(&quot;2&quot;, Person.class);\n    System.out.println(first);\n    System.out.println(second);\n}\n\n}\n</code></pre>\n<p>But is there a better way to get all of the &quot;beans&quot; or persons from this xml file?</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","aws-java-sdk-2.x"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":2,"creation_date":1646325225,"post_id":71340402,"comment_id":126100498,"body_markdown":"You cannot specify conditions on individual put and delete requests with [BatchWriteItem](https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_BatchWriteItem.html). You would have to use individual PutItem request(s).","body":"You cannot specify conditions on individual put and delete requests with <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_BatchWriteItem.html\" rel=\"nofollow noreferrer\">BatchWriteItem</a>. You would have to use individual PutItem request(s)."},{"owner":{"account_id":11741517,"reputation":4117,"user_id":8593689,"display_name":"Shane Bishop"},"score":0,"creation_date":1646327028,"post_id":71340402,"comment_id":126101228,"body_markdown":"Right that makes sense, as it wouldn&#39;t make sense to write multiple items in a batch, where each item in the batch has a different condition. At least, that is how I understand it, please correct me if I am wrong.","body":"Right that makes sense, as it wouldn&#39;t make sense to write multiple items in a batch, where each item in the batch has a different condition. At least, that is how I understand it, please correct me if I am wrong."}],"owner":{"account_id":11741517,"reputation":4117,"user_id":8593689,"display_name":"Shane Bishop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1964,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667337006,"creation_date":1646324435,"question_id":71340402,"body_markdown":"I am trying to conditionally write an item to a DynamoDB table.\r\n\r\nI am using [AWS SDK for Java 2.x](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html). Below is my code:\r\n\r\n```java\r\nPutItemEnhancedRequest&lt;AssessmentBean&gt; putItemRequest =\r\n    PutItemEnhancedRequest.builder(AssessmentBean.class)\r\n        .conditionExpression(sqsMsgIdNoMatch)\r\n        .item(assessment)\r\n        .build();\r\nWriteBatch batch =\r\n    WriteBatch.builder(AssessmentBean.class)\r\n        .addPutItem(putItemRequest)\r\n        .mappedTableResource(table)\r\n        .build(); // This line throws the IllegalArgumentException\r\nBatchWriteItemEnhancedRequest batchWriteRequest =\r\n    BatchWriteItemEnhancedRequest.builder().addWriteBatch(batch).build();\r\n\r\neDDBClient\r\n    .batchWriteItem(batchWriteRequest)\r\n    .whenCompleteAsync(/* not important to this question */);\r\n```\r\n\r\nAs indicated by the comment in the code above, my code throws an `IllegalArgumentException`:\r\n&gt; java.lang.IllegalArgumentException: A mapper extension inserted a conditionExpression in a PutItem request as part of a BatchWriteItemRequest. This is not supported by DynamoDb. An extension known to do this is the VersionedRecordExtension which is loaded by default unless overridden. To fix this use a table schema that does not have a versioned attribute in it or do not load the offending extension.\r\n\r\nBelow is some type information:\r\n* `putItemRequest` is a `software.amazon.awssdk.enhanced.dynamodb.model.PutItemEnhancedRequest` object\r\n* `batch` is a `software.amazon.awssdk.enhanced.dynamodb.model.WriteBatch` object\r\n* `batchWriteRequest` is a `software.amazon.awssdk.enhanced.dynamodb.model.BatchWriteItemEnhancedRequest` object\r\n* `eDDBClient` is a `software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedAsyncClient` object\r\n\r\nHow do correctly conditionally write an item to DynamoDB?","title":"Condition expression in a PutItem request is not supported by DynamoDB","body":"<p>I am trying to conditionally write an item to a DynamoDB table.</p>\n<p>I am using <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">AWS SDK for Java 2.x</a>. Below is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PutItemEnhancedRequest&lt;AssessmentBean&gt; putItemRequest =\n    PutItemEnhancedRequest.builder(AssessmentBean.class)\n        .conditionExpression(sqsMsgIdNoMatch)\n        .item(assessment)\n        .build();\nWriteBatch batch =\n    WriteBatch.builder(AssessmentBean.class)\n        .addPutItem(putItemRequest)\n        .mappedTableResource(table)\n        .build(); // This line throws the IllegalArgumentException\nBatchWriteItemEnhancedRequest batchWriteRequest =\n    BatchWriteItemEnhancedRequest.builder().addWriteBatch(batch).build();\n\neDDBClient\n    .batchWriteItem(batchWriteRequest)\n    .whenCompleteAsync(/* not important to this question */);\n</code></pre>\n<p>As indicated by the comment in the code above, my code throws an <code>IllegalArgumentException</code>:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: A mapper extension inserted a conditionExpression in a PutItem request as part of a BatchWriteItemRequest. This is not supported by DynamoDb. An extension known to do this is the VersionedRecordExtension which is loaded by default unless overridden. To fix this use a table schema that does not have a versioned attribute in it or do not load the offending extension.</p>\n</blockquote>\n<p>Below is some type information:</p>\n<ul>\n<li><code>putItemRequest</code> is a <code>software.amazon.awssdk.enhanced.dynamodb.model.PutItemEnhancedRequest</code> object</li>\n<li><code>batch</code> is a <code>software.amazon.awssdk.enhanced.dynamodb.model.WriteBatch</code> object</li>\n<li><code>batchWriteRequest</code> is a <code>software.amazon.awssdk.enhanced.dynamodb.model.BatchWriteItemEnhancedRequest</code> object</li>\n<li><code>eDDBClient</code> is a <code>software.amazon.awssdk.enhanced.dynamodb.DynamoDbEnhancedAsyncClient</code> object</li>\n</ul>\n<p>How do correctly conditionally write an item to DynamoDB?</p>\n"},{"tags":["java","inner-classes"],"answers":[{"comments":[{"owner":{"account_id":45413,"reputation":28777,"user_id":133830,"accept_rate":87,"display_name":"peakit"},"score":0,"creation_date":1259522571,"post_id":1816462,"comment_id":1706292,"body_markdown":"Thanks Jon ! But what if I don&#39;t have control to modify the inner class (check my edit).","body":"Thanks Jon ! But what if I don&#39;t have control to modify the inner class (check my edit)."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":8,"creation_date":1259522948,"post_id":1816462,"comment_id":1706317,"body_markdown":"@peakit: Then as far as I know, you&#39;re out of luck unless you use reflection. It feels like it&#39;s a violation of encapsulation though really - if the inner class doesn&#39;t want to tell you what its outer instance is, you should respect that and try to design such that you don&#39;t need it.","body":"@peakit: Then as far as I know, you&#39;re out of luck unless you use reflection. It feels like it&#39;s a violation of encapsulation though really - if the inner class doesn&#39;t want to tell you what its outer instance is, you should respect that and try to design such that you don&#39;t need it."},{"owner":{"account_id":5408602,"reputation":123,"user_id":4306242,"accept_rate":91,"display_name":"misty"},"score":1,"creation_date":1475081143,"post_id":1816462,"comment_id":66802668,"body_markdown":"Is this still valid in Java 8?","body":"Is this still valid in Java 8?"},{"owner":{"account_id":6006523,"reputation":3456,"user_id":4718288,"accept_rate":79,"display_name":"Hatefiend"},"score":1,"creation_date":1565577692,"post_id":1816462,"comment_id":101384401,"body_markdown":"@misty Yes, it is.","body":"@misty Yes, it is."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":4,"down_vote_count":0,"up_vote_count":375,"is_accepted":true,"score":375,"last_activity_date":1518302080,"creation_date":1259521864,"answer_id":1816462,"question_id":1816458,"body_markdown":"Within the inner class itself, you can use `OuterClass.this`. This expression, which allows to refer to any lexically enclosing instance, is described in the JLS as [Qualified `this`] [1].\r\n\r\nI don&#39;t *think* there&#39;s a way to get the instance from outside the code of the inner class though. Of course, you can always introduce your own property:\r\n\r\n    public OuterClass getOuter() {\r\n        return OuterClass.this;\r\n    }\r\n\r\nEDIT: By experimentation, it looks like the field holding the reference to the outer class has package level access - at least with the JDK I&#39;m using. \r\n\r\nEDIT: The name used (`this$0`) *is* actually valid in Java, although the [JLS][2] discourages its use:\r\n\r\n&gt; The `$` character should be used only in\r\n&gt; mechanically generated source code or,\r\n&gt; rarely, to access pre-existing names on\r\n&gt; legacy systems.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.8.4\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.8","title":"Getting hold of the outer class object from the inner class object","body":"<p>Within the inner class itself, you can use <code>OuterClass.this</code>. This expression, which allows to refer to any lexically enclosing instance, is described in the JLS as <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.8.4\" rel=\"noreferrer\">Qualified <code>this</code></a>.</p>\n\n<p>I don't <em>think</em> there's a way to get the instance from outside the code of the inner class though. Of course, you can always introduce your own property:</p>\n\n<pre><code>public OuterClass getOuter() {\n    return OuterClass.this;\n}\n</code></pre>\n\n<p>EDIT: By experimentation, it looks like the field holding the reference to the outer class has package level access - at least with the JDK I'm using. </p>\n\n<p>EDIT: The name used (<code>this$0</code>) <em>is</em> actually valid in Java, although the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.8\" rel=\"noreferrer\">JLS</a> discourages its use:</p>\n\n<blockquote>\n  <p>The <code>$</code> character should be used only in\n  mechanically generated source code or,\n  rarely, to access pre-existing names on\n  legacy systems.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":12,"creation_date":1265102285,"post_id":1816468,"comment_id":2130301,"body_markdown":"But only in/within the source of the OuterClass.  And I don&#39;t think that is what the OP wants.","body":"But only in/within the source of the OuterClass.  And I don&#39;t think that is what the OP wants."},{"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"score":2,"creation_date":1667730826,"post_id":1816468,"comment_id":131232138,"body_markdown":"This does not answer the question","body":"This does not answer the question"}],"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"comment_count":2,"down_vote_count":5,"up_vote_count":46,"is_accepted":false,"score":41,"last_activity_date":1259522074,"creation_date":1259521939,"answer_id":1816468,"question_id":1816458,"body_markdown":"`OuterClass.this` references the outer class.\r\n\r\n","title":"Getting hold of the outer class object from the inner class object","body":"<p><code>OuterClass.this</code> references the outer class.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1362642986,"creation_date":1362642986,"answer_id":15265900,"question_id":1816458,"body_markdown":"You could (but you shouldn&#39;t) use reflection for the job:\r\n\r\n    import java.lang.reflect.Field;\r\n\r\n    public class Outer {\r\n        public class Inner {\r\n        }\r\n    \t\r\n        public static void main(String[] args) throws Exception {\r\n\r\n            // Create the inner instance\r\n    \t    Inner inner = new Outer().new Inner();\r\n\r\n            // Get the implicit reference from the inner to the outer instance\r\n            // ... make it accessible, as it has default visibility\r\n    \t    Field field = Inner.class.getDeclaredField(&quot;this$0&quot;);\r\n    \t    field.setAccessible(true);\r\n\r\n            // Dereference and cast it\r\n    \t    Outer outer = (Outer) field.get(inner);\r\n    \t    System.out.println(outer);\r\n        }\r\n    }\r\n\r\nOf course, the name of the implicit reference is utterly unreliable, so as I said, you shouldn&#39;t :-)","title":"Getting hold of the outer class object from the inner class object","body":"<p>You could (but you shouldn't) use reflection for the job:</p>\n\n<pre><code>import java.lang.reflect.Field;\n\npublic class Outer {\n    public class Inner {\n    }\n\n    public static void main(String[] args) throws Exception {\n\n        // Create the inner instance\n        Inner inner = new Outer().new Inner();\n\n        // Get the implicit reference from the inner to the outer instance\n        // ... make it accessible, as it has default visibility\n        Field field = Inner.class.getDeclaredField(\"this$0\");\n        field.setAccessible(true);\n\n        // Dereference and cast it\n        Outer outer = (Outer) field.get(inner);\n        System.out.println(outer);\n    }\n}\n</code></pre>\n\n<p>Of course, the name of the implicit reference is utterly unreliable, so as I said, you shouldn't :-)</p>\n"},{"tags":[],"owner":{"account_id":2389614,"reputation":3413,"user_id":2092405,"accept_rate":93,"display_name":"Ashish Rawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462718402,"creation_date":1462718402,"answer_id":37101016,"question_id":1816458,"body_markdown":"Here&#39;s the example:\r\n\r\n    // Test\r\n    public void foo() {\r\n\t\tC c = new C();\r\n\t\tA s;\r\n\t\ts = ((A.B)c).get();\r\n\t\tSystem.out.println(s.getR());\r\n\t}\r\n\r\n    // classes\r\n    class C {}\r\n\r\n    class A {\r\n\t   public class B extends C{\r\n\t\t A get() {return A.this;}\r\n\t   }\r\n\t   public String getR() {\r\n\t\t return &quot;This is string&quot;;\r\n\t   }\r\n    }","title":"Getting hold of the outer class object from the inner class object","body":"<p>Here's the example:</p>\n\n<pre><code>// Test\npublic void foo() {\n    C c = new C();\n    A s;\n    s = ((A.B)c).get();\n    System.out.println(s.getR());\n}\n\n// classes\nclass C {}\n\nclass A {\n   public class B extends C{\n     A get() {return A.this;}\n   }\n   public String getR() {\n     return \"This is string\";\n   }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":893830,"reputation":169,"user_id":931570,"display_name":"sb4"},"score":2,"creation_date":1591292218,"post_id":38925649,"comment_id":110008100,"body_markdown":"Not sure that example proves the point best because &quot;Test.this.x&quot; is same as &quot;Test.x&quot; because it is static, doesn&#39;t really belong to the enclosing class object.  I think would be better example if the code was in the constructor of class Test and Test.x not static.","body":"Not sure that example proves the point best because &quot;Test.this.x&quot; is same as &quot;Test.x&quot; because it is static, doesn&#39;t really belong to the enclosing class object.  I think would be better example if the code was in the constructor of class Test and Test.x not static."}],"tags":[],"owner":{"account_id":1680813,"reputation":687,"user_id":1545084,"accept_rate":83,"display_name":"Gladclef"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1508268649,"creation_date":1471032009,"answer_id":38925649,"question_id":1816458,"body_markdown":"The more general answer to this question involves shadowed variables and how they are accessed.\r\n\r\nIn the following example (from Oracle), the variable **x** in **main()** is shadowing **Test.x**:\r\n\r\n    class Test {\r\n        static int x = 1;\r\n        public static void main(String[] args) {\r\n            InnerClass innerClassInstance = new InnerClass()\r\n            {\r\n                public void printX()\r\n                {\r\n                    System.out.print(&quot;x=&quot; + x);\r\n                    System.out.println(&quot;, Test.this.x=&quot; + Test.this.x);\r\n                }\r\n            }\r\n            innerClassInstance.printX();\r\n        }\r\n        \r\n        public abstract static class InnerClass\r\n        {\r\n            int x = 0;\r\n\r\n            public InnerClass() { }\r\n\r\n            public abstract void printX();\r\n        }\r\n    }\r\n\r\nRunning this program will print:\r\n\r\n    x=0, Test.this.x=1\r\n\r\nMore at: http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6","title":"Getting hold of the outer class object from the inner class object","body":"<p>The more general answer to this question involves shadowed variables and how they are accessed.</p>\n\n<p>In the following example (from Oracle), the variable <strong>x</strong> in <strong>main()</strong> is shadowing <strong>Test.x</strong>:</p>\n\n<pre><code>class Test {\n    static int x = 1;\n    public static void main(String[] args) {\n        InnerClass innerClassInstance = new InnerClass()\n        {\n            public void printX()\n            {\n                System.out.print(\"x=\" + x);\n                System.out.println(\", Test.this.x=\" + Test.this.x);\n            }\n        }\n        innerClassInstance.printX();\n    }\n\n    public abstract static class InnerClass\n    {\n        int x = 0;\n\n        public InnerClass() { }\n\n        public abstract void printX();\n    }\n}\n</code></pre>\n\n<p>Running this program will print:</p>\n\n<pre><code>x=0, Test.this.x=1\n</code></pre>\n\n<p>More at: <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/specs/jls/se7/html/jls-6.html#jls-6.6</a></p>\n"},{"tags":[],"owner":{"account_id":8800824,"reputation":1,"user_id":6577041,"display_name":"曹建发"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493303061,"creation_date":1493303061,"answer_id":43660586,"question_id":1816458,"body_markdown":"if you don&#39;t have control to modify the inner class, the refection may help you (but not recommend). this$0 is reference in Inner class which tells which instance of Outer class was used to create current instance of Inner class.","title":"Getting hold of the outer class object from the inner class object","body":"<p>if you don't have control to modify the inner class, the refection may help you (but not recommend). this$0 is reference in Inner class which tells which instance of Outer class was used to create current instance of Inner class.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1565505236,"post_id":51604567,"comment_id":101371302,"body_markdown":"&#39;Static inner&#39; is a contradiction in terms.","body":"&#39;Static inner&#39; is a contradiction in terms."}],"tags":[],"owner":{"account_id":11106649,"reputation":27,"user_id":8153640,"display_name":"Vali Zhao"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1533003359,"creation_date":1533003359,"answer_id":51604567,"question_id":1816458,"body_markdown":"\r\n\r\n    /**\r\n     * Not applicable to Static Inner Class (nested class)\r\n     */\r\n    public static Object getDeclaringTopLevelClassObject(Object object) {\r\n        if (object == null) {\r\n            return null;\r\n        }\r\n        Class cls = object.getClass();\r\n        if (cls == null) {\r\n            return object;\r\n        }\r\n        Class outerCls = cls.getEnclosingClass();\r\n        if (outerCls == null) {\r\n            // this is top-level class\r\n            return object;\r\n        }\r\n        // get outer class object\r\n        Object outerObj = null;\r\n        try {\r\n            Field[] fields = cls.getDeclaredFields();\r\n            for (Field field : fields) {\r\n                if (field != null &amp;&amp; field.getType() == outerCls\r\n                        &amp;&amp; field.getName() != null &amp;&amp; field.getName().startsWith(&quot;this$&quot;)) {\r\n                    field.setAccessible(true);\r\n                    outerObj = field.get(object);\r\n                    break;\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return getDeclaringTopLevelClassObject(outerObj);\r\n    }\r\n\r\n\r\nOf course, the name of the implicit reference is unreliable, so you shouldn&#39;t use reflection for the job.\r\n","title":"Getting hold of the outer class object from the inner class object","body":"<pre><code>/**\n * Not applicable to Static Inner Class (nested class)\n */\npublic static Object getDeclaringTopLevelClassObject(Object object) {\n    if (object == null) {\n        return null;\n    }\n    Class cls = object.getClass();\n    if (cls == null) {\n        return object;\n    }\n    Class outerCls = cls.getEnclosingClass();\n    if (outerCls == null) {\n        // this is top-level class\n        return object;\n    }\n    // get outer class object\n    Object outerObj = null;\n    try {\n        Field[] fields = cls.getDeclaredFields();\n        for (Field field : fields) {\n            if (field != null &amp;&amp; field.getType() == outerCls\n                    &amp;&amp; field.getName() != null &amp;&amp; field.getName().startsWith(\"this$\")) {\n                field.setAccessible(true);\n                outerObj = field.get(object);\n                break;\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return getDeclaringTopLevelClassObject(outerObj);\n}\n</code></pre>\n\n<p>Of course, the name of the implicit reference is unreliable, so you shouldn't use reflection for the job.</p>\n"}],"owner":{"account_id":45413,"reputation":28777,"user_id":133830,"accept_rate":87,"display_name":"peakit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173569,"favorite_count":0,"down_vote_count":0,"up_vote_count":285,"accepted_answer_id":1816462,"answer_count":7,"score":285,"last_activity_date":1667336122,"creation_date":1259521817,"question_id":1816458,"body_markdown":"I have the following code. I want to get hold of the outer class object using which I created the inner class object `inner`. How can I do it?\r\n\r\n    public class OuterClass {\r\n    \r\n    \tpublic class InnerClass {\r\n    \t\tprivate String name = &quot;Peakit&quot;;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tOuterClass outer = new OuterClass();\r\n    \t\tInnerClass inner = outer.new InnerClass();\r\n           // How to get the same outer object which created the inner object back?\r\n    \t\tOuterClass anotherOuter = ?? ;\r\n                \r\n            if(anotherOuter == outer) {\r\n                 System.out.println(&quot;Was able to reach out to the outer object via inner !!&quot;);\r\n            } else {\r\n                 System.out.println(&quot;No luck :-( &quot;);\r\n            }\r\n    \t}\r\n    }\r\n\r\n\r\n**EDIT:** Well, some of you guys suggested of modifying the inner class by adding a method:\r\n\r\n    public OuterClass outer() {\r\n       return OuterClass.this;\r\n    }\r\n\r\nBut what if I don&#39;t have control to modify the inner class, then (just to confirm) do we have some other way of getting the corresponding outer class object from the inner class object?","title":"Getting hold of the outer class object from the inner class object","body":"<p>I have the following code. I want to get hold of the outer class object using which I created the inner class object <code>inner</code>. How can I do it?</p>\n\n<pre><code>public class OuterClass {\n\n    public class InnerClass {\n        private String name = \"Peakit\";\n    }\n\n    public static void main(String[] args) {\n        OuterClass outer = new OuterClass();\n        InnerClass inner = outer.new InnerClass();\n       // How to get the same outer object which created the inner object back?\n        OuterClass anotherOuter = ?? ;\n\n        if(anotherOuter == outer) {\n             System.out.println(\"Was able to reach out to the outer object via inner !!\");\n        } else {\n             System.out.println(\"No luck :-( \");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> Well, some of you guys suggested of modifying the inner class by adding a method:</p>\n\n<pre><code>public OuterClass outer() {\n   return OuterClass.this;\n}\n</code></pre>\n\n<p>But what if I don't have control to modify the inner class, then (just to confirm) do we have some other way of getting the corresponding outer class object from the inner class object?</p>\n"},{"tags":["java","jvm","jit","jstat"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667335980,"creation_date":1667335980,"answer_id":74281668,"question_id":74279300,"body_markdown":"The value in `Type` column corresponds to [this](https://github.com/openjdk/jdk/blob/d17bf51f91371072a758e775136af946192e771b/src/hotspot/share/compiler/compileBroker.hpp#L149-L150) enum:\r\n```\r\n1 = normal_compile  // Regular JIT compilation\r\n2 = osr_compile     // On-stack replacement\r\n3 = native_compile  // Compiled wrapper for a native method\r\n```\r\nHowever, the values other than `normal_compile` are available only in debug builds of the JVM when `-XX:+CICountOSR` or `-XX:+CICountNative` option is [set](https://github.com/openjdk/jdk/blob/d17bf51f91371072a758e775136af946192e771b/src/hotspot/share/compiler/compileBroker.cpp#L2415-L2420):\r\n```\r\n  int last_compile_type = normal_compile;\r\n  if (CICountOSR &amp;&amp; is_osr) {\r\n    last_compile_type = osr_compile;\r\n  } else if (CICountNative &amp;&amp; method-&gt;is_native()) {\r\n    last_compile_type = native_compile;\r\n  }\r\n```\r\nIn practice this means that `Type` is always `1` with a regular JDK.","title":"How to understand jstat -printcompilation output","body":"<p>The value in <code>Type</code> column corresponds to <a href=\"https://github.com/openjdk/jdk/blob/d17bf51f91371072a758e775136af946192e771b/src/hotspot/share/compiler/compileBroker.hpp#L149-L150\" rel=\"nofollow noreferrer\">this</a> enum:</p>\n<pre><code>1 = normal_compile  // Regular JIT compilation\n2 = osr_compile     // On-stack replacement\n3 = native_compile  // Compiled wrapper for a native method\n</code></pre>\n<p>However, the values other than <code>normal_compile</code> are available only in debug builds of the JVM when <code>-XX:+CICountOSR</code> or <code>-XX:+CICountNative</code> option is <a href=\"https://github.com/openjdk/jdk/blob/d17bf51f91371072a758e775136af946192e771b/src/hotspot/share/compiler/compileBroker.cpp#L2415-L2420\" rel=\"nofollow noreferrer\">set</a>:</p>\n<pre><code>  int last_compile_type = normal_compile;\n  if (CICountOSR &amp;&amp; is_osr) {\n    last_compile_type = osr_compile;\n  } else if (CICountNative &amp;&amp; method-&gt;is_native()) {\n    last_compile_type = native_compile;\n  }\n</code></pre>\n<p>In practice this means that <code>Type</code> is always <code>1</code> with a regular JDK.</p>\n"}],"owner":{"account_id":17549428,"reputation":15,"user_id":12730122,"display_name":"user12730122"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74281668,"answer_count":1,"score":1,"last_activity_date":1667335980,"creation_date":1667321901,"question_id":74279300,"body_markdown":"```\r\njstat -printcompilation pid \r\n```\r\n\r\ncan get information about the last method that is compiled, like:\r\n\r\n```\r\nCompiled  Size  Type Method\r\n     207     64    1 java/lang/CharacterDataLatin1 toUpperCase\r\n     208      5    1 java/math/BigDecimal$StringBuilderHelper getCharArray\r\n```\r\nWhat&#39;s the third column mean? \r\nI can&#39;t find detail info about &#39;Type&#39;. How many types inclued?\r\n\r\nhttps://docs.oracle.com/javase/9/tools/jstat.htm#JSWOR734\r\n\r\noracle document dont&#39; have enough info yet","title":"How to understand jstat -printcompilation output","body":"<pre><code>jstat -printcompilation pid \n</code></pre>\n<p>can get information about the last method that is compiled, like:</p>\n<pre><code>Compiled  Size  Type Method\n     207     64    1 java/lang/CharacterDataLatin1 toUpperCase\n     208      5    1 java/math/BigDecimal$StringBuilderHelper getCharArray\n</code></pre>\n<p>What's the third column mean?\nI can't find detail info about 'Type'. How many types inclued?</p>\n<p><a href=\"https://docs.oracle.com/javase/9/tools/jstat.htm#JSWOR734\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/tools/jstat.htm#JSWOR734</a></p>\n<p>oracle document dont' have enough info yet</p>\n"},{"tags":["java","string","integer"],"answers":[{"comments":[{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1529097703,"post_id":43156135,"comment_id":88767814,"body_markdown":"The regex suggested as a solution is not valid. It does not accept negative sign, and it accepts weird strings like `3.` or even just `.`","body":"The regex suggested as a solution is not valid. It does not accept negative sign, and it accepts weird strings like <code>3.</code> or even just <code>.</code>"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1529098248,"post_id":43156135,"comment_id":88767968,"body_markdown":"@jbx this is correct and this was from a long time when I start learning regex I fix my mistake hope this can help more","body":"@jbx this is correct and this was from a long time when I start learning regex I fix my mistake hope this can help more"},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1529396653,"post_id":43156135,"comment_id":88846771,"body_markdown":"Yes the new one looks good. `\\\\d` can still work instead of `[0-9]` but maybe in this case the intent is clearer (since it is parsing a number).","body":"Yes the new one looks good. <code>\\\\d</code> can still work instead of <code>[0-9]</code> but maybe in this case the intent is clearer (since it is parsing a number)."},{"owner":{"account_id":14107418,"reputation":482,"user_id":10191125,"display_name":"91StarSky"},"score":0,"creation_date":1621646897,"post_id":43156135,"comment_id":119566405,"body_markdown":"both `Integer.parseInt(&quot;1&quot;)` and `Float.parseFloat(&quot;1&quot;)` will not throw exception","body":"both <code>Integer.parseInt(&quot;1&quot;)</code> and <code>Float.parseFloat(&quot;1&quot;)</code> will not throw exception"}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":4,"down_vote_count":2,"up_vote_count":24,"is_accepted":true,"score":22,"last_activity_date":1667335422,"creation_date":1491045400,"answer_id":43156135,"question_id":43156077,"body_markdown":"There are many ways to solve your problem. For example, you can use `try{}catch(){}`:\r\n\r\n**Solution 1**\r\n\r\n    public static void main(String[] args) {\r\n        String str = &quot;5588&quot;;\r\n\r\n        // Check if int\r\n        try {\r\n            Integer.parseInt(str);\r\n        } catch(NumberFormatException e) {\r\n            // Not int\r\n        }\r\n\r\n        // Check if float\r\n        try {\r\n            Float.parseFloat(str);\r\n        } catch(NumberFormatException e) {\r\n            // Not float\r\n        }\r\n    }\r\n\r\n**Solution 2**\r\n\r\nOr you can use regex `[-+]?[0-9]*\\.?[0-9]+`:\r\n\r\n    boolean correct = str.matches(&quot;[-+]?[0-9]*\\\\.?[0-9]+&quot;);\r\n\r\nFor more details, take a look at *[Matching Floating Point Numbers with a Regular Expression][1]*.\r\n\r\n  [1]: https://www.regular-expressions.info/floatingpoint.html\r\n\r\n\r\n","title":"How to check if a string is &#39;float&#39; or &#39;int&#39;","body":"<p>There are many ways to solve your problem. For example, you can use <code>try{}catch(){}</code>:</p>\n<p><strong>Solution 1</strong></p>\n<pre><code>public static void main(String[] args) {\n    String str = &quot;5588&quot;;\n\n    // Check if int\n    try {\n        Integer.parseInt(str);\n    } catch(NumberFormatException e) {\n        // Not int\n    }\n\n    // Check if float\n    try {\n        Float.parseFloat(str);\n    } catch(NumberFormatException e) {\n        // Not float\n    }\n}\n</code></pre>\n<p><strong>Solution 2</strong></p>\n<p>Or you can use regex <code>[-+]?[0-9]*\\.?[0-9]+</code>:</p>\n<pre><code>boolean correct = str.matches(&quot;[-+]?[0-9]*\\\\.?[0-9]+&quot;);\n</code></pre>\n<p>For more details, take a look at <em><a href=\"https://www.regular-expressions.info/floatingpoint.html\" rel=\"nofollow noreferrer\">Matching Floating Point Numbers with a Regular Expression</a></em>.</p>\n"},{"comments":[{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":1,"creation_date":1631805360,"post_id":63532212,"comment_id":122327480,"body_markdown":"But this will not inform whether the String is `Int` or `Float` right? It will return `true` irrespective of it, right? This will inform only if its some sort of number. We need a another check to confirm if its Int or Float.","body":"But this will not inform whether the String is <code>Int</code> or <code>Float</code> right? It will return <code>true</code> irrespective of it, right? This will inform only if its some sort of number. We need a another check to confirm if its Int or Float."}],"tags":[],"owner":{"account_id":4413830,"reputation":461,"user_id":3595995,"accept_rate":75,"display_name":"PremKumarR"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667335536,"creation_date":1598065801,"answer_id":63532212,"question_id":43156077,"body_markdown":"In the [Apache Commons][1] *NumberUtils* class.\r\n\r\nNumberUtils.isCreatable(String) which checks whether a String is a valid Java number or not.\r\n\r\n        log.info(&quot;false {} &quot;, NumberUtils.isCreatable(&quot;NA.A&quot;));\r\n        log.info(&quot;true {} &quot;, NumberUtils.isCreatable(&quot;1223.589889890&quot;));\r\n        log.info(&quot;true {} &quot;, NumberUtils.isCreatable(&quot;1223&quot;));\r\n        log.info(&quot;true {} &quot;, NumberUtils.isCreatable(&quot;2.99e+8&quot;));\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Commons\r\n","title":"How to check if a string is &#39;float&#39; or &#39;int&#39;","body":"<p>In the <a href=\"https://en.wikipedia.org/wiki/Apache_Commons\" rel=\"nofollow noreferrer\">Apache Commons</a> <em>NumberUtils</em> class.</p>\n<p>NumberUtils.isCreatable(String) which checks whether a String is a valid Java number or not.</p>\n<pre><code>    log.info(&quot;false {} &quot;, NumberUtils.isCreatable(&quot;NA.A&quot;));\n    log.info(&quot;true {} &quot;, NumberUtils.isCreatable(&quot;1223.589889890&quot;));\n    log.info(&quot;true {} &quot;, NumberUtils.isCreatable(&quot;1223&quot;));\n    log.info(&quot;true {} &quot;, NumberUtils.isCreatable(&quot;2.99e+8&quot;));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1646339665,"post_id":71342990,"comment_id":126105423,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71342990/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24444184,"reputation":1,"user_id":18367417,"display_name":"Saquib Islam"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646336977,"creation_date":1646336977,"answer_id":71342990,"question_id":43156077,"body_markdown":"    public static String getPrimitiveDataTypeForNumberString(String str) {\r\n        try {\r\n            if (str.matches(&quot;^[\\\\p{Nd}]+[Ll]$&quot;)) {\r\n                str = str.substring(0, str.length() - 1);\r\n                long l = Long.parseLong(str);\r\n                if (l &lt;= Long.MAX_VALUE) {\r\n                    return &quot;Long&quot;;\r\n                }\r\n            } else if (str.matches(&quot;^[\\\\p{Nd}]+[.][\\\\p{Nd}Ee]+[Ff]$&quot;)) {\r\n                str = str.substring(0, str.length() - 1);\r\n                float f = Float.parseFloat(str);\r\n                if (f &lt;= Float.MAX_VALUE) {\r\n                    return &quot;Float&quot;;\r\n                }\r\n            } else if (str.matches(&quot;^[\\\\p{Nd}]+[.][\\\\p{Nd}Ee]+[Dd]$&quot;)) {\r\n                str = str.substring(0, str.length() - 1);\r\n                double d = Double.parseDouble(str);\r\n                if (d &lt;= Double.MAX_VALUE) {\r\n                    return &quot;Double&quot;;\r\n                }\r\n            } else if (str.matches(&quot;^[\\\\p{Nd}]+$&quot;)) {\r\n                double d = Double.parseDouble(str);\r\n                if (d &lt;= Integer.MAX_VALUE) {\r\n                    return &quot;Integer&quot;;\r\n                } else if (d &lt;= Long.MAX_VALUE) {\r\n                    return &quot;Long&quot;;\r\n                } else if(d &lt;= Float.MAX_VALUE) {\r\n                    return &quot;Float&quot;;\r\n                } else if(d &lt;= Double.MAX_VALUE) {\r\n                    return &quot;Double&quot;;\r\n                }\r\n            } else if (str.matches(&quot;^[\\\\p{Nd}]+[.][\\\\p{Nd}Ee]+$&quot;)) {\r\n                double d = Double.parseDouble(str);\r\n                if (d &gt; Float.MAX_VALUE) {\r\n                    return &quot;Double&quot;;\r\n                }\r\n                return &quot;Float&quot;;\r\n            }\r\n        } catch (NumberFormatException e) {\r\n        }\r\n    \r\n        return &quot;Unknown&quot;;\r\n    }","title":"How to check if a string is &#39;float&#39; or &#39;int&#39;","body":"<pre><code>public static String getPrimitiveDataTypeForNumberString(String str) {\n    try {\n        if (str.matches(&quot;^[\\\\p{Nd}]+[Ll]$&quot;)) {\n            str = str.substring(0, str.length() - 1);\n            long l = Long.parseLong(str);\n            if (l &lt;= Long.MAX_VALUE) {\n                return &quot;Long&quot;;\n            }\n        } else if (str.matches(&quot;^[\\\\p{Nd}]+[.][\\\\p{Nd}Ee]+[Ff]$&quot;)) {\n            str = str.substring(0, str.length() - 1);\n            float f = Float.parseFloat(str);\n            if (f &lt;= Float.MAX_VALUE) {\n                return &quot;Float&quot;;\n            }\n        } else if (str.matches(&quot;^[\\\\p{Nd}]+[.][\\\\p{Nd}Ee]+[Dd]$&quot;)) {\n            str = str.substring(0, str.length() - 1);\n            double d = Double.parseDouble(str);\n            if (d &lt;= Double.MAX_VALUE) {\n                return &quot;Double&quot;;\n            }\n        } else if (str.matches(&quot;^[\\\\p{Nd}]+$&quot;)) {\n            double d = Double.parseDouble(str);\n            if (d &lt;= Integer.MAX_VALUE) {\n                return &quot;Integer&quot;;\n            } else if (d &lt;= Long.MAX_VALUE) {\n                return &quot;Long&quot;;\n            } else if(d &lt;= Float.MAX_VALUE) {\n                return &quot;Float&quot;;\n            } else if(d &lt;= Double.MAX_VALUE) {\n                return &quot;Double&quot;;\n            }\n        } else if (str.matches(&quot;^[\\\\p{Nd}]+[.][\\\\p{Nd}Ee]+$&quot;)) {\n            double d = Double.parseDouble(str);\n            if (d &gt; Float.MAX_VALUE) {\n                return &quot;Double&quot;;\n            }\n            return &quot;Float&quot;;\n        }\n    } catch (NumberFormatException e) {\n    }\n\n    return &quot;Unknown&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":9945013,"reputation":145,"user_id":7360068,"accept_rate":75,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33771,"favorite_count":0,"down_vote_count":6,"up_vote_count":12,"accepted_answer_id":43156135,"answer_count":3,"score":6,"last_activity_date":1667335536,"creation_date":1491044984,"question_id":43156077,"body_markdown":"I have a string, and I know that it only contains a number.\r\n\r\nHow can I check if this number is int or float?\r\n\r\n","title":"How to check if a string is &#39;float&#39; or &#39;int&#39;","body":"<p>I have a string, and I know that it only contains a number.</p>\n<p>How can I check if this number is int or float?</p>\n"},{"tags":["java","generics","interface","multiple-inheritance"],"comments":[{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":2,"creation_date":1358876068,"post_id":14464226,"comment_id":20147556,"body_markdown":"&quot;I would like to have a pointer like this&quot; - you can&#39;t. Variables have to be of a known (possibly erased) type, and a type constraint isn&#39;t a type","body":"&quot;I would like to have a pointer like this&quot; - you can&#39;t. Variables have to be of a known (possibly erased) type, and a type constraint isn&#39;t a type"},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":5,"creation_date":1358876546,"post_id":14464226,"comment_id":20147812,"body_markdown":"Also, you can&#39;t actually return anything from `getFooBar()` without casting it to (T), which should give you a hint that you&#39;re doing something wrong.","body":"Also, you can&#39;t actually return anything from <code>getFooBar()</code> without casting it to (T), which should give you a hint that you&#39;re doing something wrong."},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":2,"creation_date":1358876850,"post_id":14464226,"comment_id":20147971,"body_markdown":"(Oddly enough, this discovered a bug in IntelliJ&#39;s code analysis engine, it only recognizes methods of `Foo` as valid.)","body":"(Oddly enough, this discovered a bug in IntelliJ&#39;s code analysis engine, it only recognizes methods of <code>Foo</code> as valid.)"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":3,"creation_date":1358879048,"post_id":14464226,"comment_id":20149048,"body_markdown":"Could the downvoter please explain? This is an understandable and relatively well-written question.","body":"Could the downvoter please explain? This is an understandable and relatively well-written question."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1359573748,"post_id":14464226,"comment_id":20403918,"body_markdown":"Just to clarify the bounty message, I&#39;m specifically looking for a use case for a syntax like `Foo&amp;Bar bothFooAndBar = ...` - that is using `Foo&amp;Bar` as the type of a variable (like the question is asking for) or a return type.","body":"Just to clarify the bounty message, I&#39;m specifically looking for a use case for a syntax like <code>Foo&amp;Bar bothFooAndBar = ...</code> - that is using <code>Foo&amp;Bar</code> as the type of a variable (like the question is asking for) or a return type."}],"answers":[{"comments":[{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":1,"creation_date":1358876500,"post_id":14464560,"comment_id":20147786,"body_markdown":"-1: It won&#39;t compile because you broke it more. This works: http://ideone.com/Sdo0en (It&#39;s still broken in other ways but it can be made to compile without changing much.)","body":"-1: It won&#39;t compile because you broke it more. This works: <a href=\"http://ideone.com/Sdo0en\" rel=\"nofollow noreferrer\">ideone.com/Sdo0en</a> (It&#39;s still broken in other ways but it can be made to compile without changing much.)"},{"owner":{"account_id":308278,"reputation":15431,"user_id":620053,"accept_rate":93,"display_name":"Rafael T"},"score":1,"creation_date":1358896873,"post_id":14464560,"comment_id":20157445,"body_markdown":"Right, i just wrote down example classes, which should show my problem better. The changes Paul made should compile better.","body":"Right, i just wrote down example classes, which should show my problem better. The changes Paul made should compile better."}],"tags":[],"owner":{"account_id":2065125,"reputation":535,"user_id":1840775,"display_name":"jco.owens"},"comment_count":2,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1358875853,"creation_date":1358875853,"answer_id":14464560,"question_id":14464226,"body_markdown":"Not sure what Eclipse is doing for you, but most of the code above does not come close to compiling....\r\n\r\nI made the appropriate changes to get it to compile as much as possible and here is what I get:\r\n\r\n    public class Foo\r\n    {\r\n      public String getFoo() { return &quot;&quot;; }  // must have a body\r\n    }\r\n    public interface Bar // no ()\r\n    {\r\n      public void setBar(String bar);\r\n    }\r\n    public class FooBar&lt;T&gt;\r\n    {\r\n      public static &lt;T extends Foo &amp; Bar&gt; T getFooBar()\r\n      {\r\n        return null;\r\n      }\r\n    }\r\n    public class FB\r\n    {\r\n      private FooBar&lt;Object&gt; fb = new FooBar&lt;Object&gt;();\r\n    \r\n      public static void main(String args[])\r\n      {\r\n        new FB();\r\n      }\r\n    \r\n      public FB()\r\n      {\r\n        System.out.println(fb.getFooBar());\r\n      }\r\n    }\r\n    \r\n    FB.java:12: type parameters of &lt;T&gt;T cannot be determined; no unique maximal instance exists for type variable T with upper bounds java.lang.Object,Foo,Bar\r\n        System.out.println(fb.getFooBar());\r\n                                       ^\r\n    1 error\r\n\r\n","title":"How to reference a generic return type with multiple bounds","body":"<p>Not sure what Eclipse is doing for you, but most of the code above does not come close to compiling....</p>\n\n<p>I made the appropriate changes to get it to compile as much as possible and here is what I get:</p>\n\n<pre><code>public class Foo\n{\n  public String getFoo() { return \"\"; }  // must have a body\n}\npublic interface Bar // no ()\n{\n  public void setBar(String bar);\n}\npublic class FooBar&lt;T&gt;\n{\n  public static &lt;T extends Foo &amp; Bar&gt; T getFooBar()\n  {\n    return null;\n  }\n}\npublic class FB\n{\n  private FooBar&lt;Object&gt; fb = new FooBar&lt;Object&gt;();\n\n  public static void main(String args[])\n  {\n    new FB();\n  }\n\n  public FB()\n  {\n    System.out.println(fb.getFooBar());\n  }\n}\n\nFB.java:12: type parameters of &lt;T&gt;T cannot be determined; no unique maximal instance exists for type variable T with upper bounds java.lang.Object,Foo,Bar\n    System.out.println(fb.getFooBar());\n                                   ^\n1 error\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1359076477,"post_id":14469627,"comment_id":20233991,"body_markdown":"The wikipedia link link has a horrible (IMHO) explanation of heap pollution. Perhaps you can explain?","body":"The wikipedia link link has a horrible (IMHO) explanation of heap pollution. Perhaps you can explain?"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":1,"creation_date":1359076537,"post_id":14469627,"comment_id":20234008,"body_markdown":"Yeah that is a terrible article actually, let me try to find a better link, otherwise I&#39;ll edit in a quick example.","body":"Yeah that is a terrible article actually, let me try to find a better link, otherwise I&#39;ll edit in a quick example."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1359078035,"post_id":14469627,"comment_id":20234398,"body_markdown":"If there is another `static &lt;U extends Foo &amp; Bar&gt; processFooBar(U u)` I call it directly as `processFooBar(getFooBar())`. I haven&#39;t tried but I suspect the get can return a proxy that implements both `Foo` and `Bar` (I recoded the OP&#39;s example slightly) which means there may not actually be a named type that satisfies both constraints. So I don&#39;t understand why you say the caller must know what T is","body":"If there is another <code>static &lt;U extends Foo &amp; Bar&gt; processFooBar(U u)</code> I call it directly as <code>processFooBar(getFooBar())</code>. I haven&#39;t tried but I suspect the get can return a proxy that implements both <code>Foo</code> and <code>Bar</code> (I recoded the OP&#39;s example slightly) which means there may not actually be a named type that satisfies both constraints. So I don&#39;t understand why you say the caller must know what T is"},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":1,"creation_date":1359078605,"post_id":14469627,"comment_id":20234510,"body_markdown":"See http://pastebin.com/UGNvgjEZ. I realize this is not very difficult from your examples, but my point is that the client doesn&#39;t need to know the actual type `T`. It can call another method on the returned value and can assign it to either a `Foo` or `Bar` reference but not both. Doesn&#39;t that seem a syntax hole?","body":"See <a href=\"http://pastebin.com/UGNvgjEZ\" rel=\"nofollow noreferrer\">pastebin.com/UGNvgjEZ</a>. I realize this is not very difficult from your examples, but my point is that the client doesn&#39;t need to know the actual type <code>T</code>. It can call another method on the returned value and can assign it to either a <code>Foo</code> or <code>Bar</code> reference but not both. Doesn&#39;t that seem a syntax hole?"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":1,"creation_date":1359080654,"post_id":14469627,"comment_id":20235013,"body_markdown":"@MiserableVariable Very interesting. Your example compiles with javac, but not eclipse compiler. Eclipse says (hilariously): &quot;Bound mismatch: The generic method `getFooBar()` of type `FooBar` is not applicable for the arguments `()`. The inferred type `Foo` is not a valid substitute for the bounded parameter `&lt;T extends Foo &amp; Bar&gt;`&quot;. So without any context like this Eclipse is inferring the erasure of `T` for `T`. Can&#39;t tell what javac is inferring for `T` if anything - can&#39;t figure out how to get NetBeans to tell me.","body":"@MiserableVariable Very interesting. Your example compiles with javac, but not eclipse compiler. Eclipse says (hilariously): &quot;Bound mismatch: The generic method <code>getFooBar()</code> of type <code>FooBar</code> is not applicable for the arguments <code>()</code>. The inferred type <code>Foo</code> is not a valid substitute for the bounded parameter <code>&lt;T extends Foo &amp; Bar&gt;</code>&quot;. So without any context like this Eclipse is inferring the erasure of <code>T</code> for <code>T</code>. Can&#39;t tell what javac is inferring for <code>T</code> if anything - can&#39;t figure out how to get NetBeans to tell me."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1359081378,"post_id":14469627,"comment_id":20235204,"body_markdown":"@MiserableVariable Actually even with javac on ideone (sun-jdk-1.6.0.31) I&#39;m getting the &quot;T cannot be determined; no unique maximal instance exists&quot; compile error: http://ideone.com/3CqrAJ Not sure why it worked with my jdk 1.6.0. I think &quot;T cannot be determined&quot; is more to my point.","body":"@MiserableVariable Actually even with javac on ideone (sun-jdk-1.6.0.31) I&#39;m getting the &quot;T cannot be determined; no unique maximal instance exists&quot; compile error: <a href=\"http://ideone.com/3CqrAJ\" rel=\"nofollow noreferrer\">ideone.com/3CqrAJ</a> Not sure why it worked with my jdk 1.6.0. I think &quot;T cannot be determined&quot; is more to my point."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1359081712,"post_id":14469627,"comment_id":20235278,"body_markdown":"@MiserableVariable And then again with sun-jdk-1.7.0_03 it passes: http://ideone.com/YuKQLq :S","body":"@MiserableVariable And then again with sun-jdk-1.7.0_03 it passes: <a href=\"http://ideone.com/YuKQLq\" rel=\"nofollow noreferrer\">ideone.com/YuKQLq</a> :S"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1359090110,"post_id":14469627,"comment_id":20237081,"body_markdown":"@MiserableVariable RE: heap pollution, updated link and added my own explanation. Lemme know if it makes sense.","body":"@MiserableVariable RE: heap pollution, updated link and added my own explanation. Lemme know if it makes sense."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1359134949,"post_id":14469627,"comment_id":20256490,"body_markdown":"Good explanation and link. But do  you think this is syntax hole? Why does Eclipse infer the type to be Foo? I don&#39;t understand the jdk6 error. My test was on 1.7.0","body":"Good explanation and link. But do  you think this is syntax hole? Why does Eclipse infer the type to be Foo? I don&#39;t understand the jdk6 error. My test was on 1.7.0"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1359135810,"post_id":14469627,"comment_id":20256934,"body_markdown":"@MiserableVariable It&#39;s hard to comment without combing the JLS. I think it&#39;s a bug for it to compile, because as far as I know `T` should default to its erasure `Foo` when it can&#39;t be inferred from the arguments or assignment (this often happens with nested generic calls) - in other words I&#39;m siding with Eclipse, which is known to be more strictly correct than javac in some generics situations. It shouldn&#39;t be possible for `T` to be unknown, since you can&#39;t call a generic method with wildcard type arguments, e.g. `FooBar.&lt;?&gt;getFooBar()`.","body":"@MiserableVariable It&#39;s hard to comment without combing the JLS. I think it&#39;s a bug for it to compile, because as far as I know <code>T</code> should default to its erasure <code>Foo</code> when it can&#39;t be inferred from the arguments or assignment (this often happens with nested generic calls) - in other words I&#39;m siding with Eclipse, which is known to be more strictly correct than javac in some generics situations. It shouldn&#39;t be possible for <code>T</code> to be unknown, since you can&#39;t call a generic method with wildcard type arguments, e.g. <code>FooBar.&lt;?&gt;getFooBar()</code>."},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1359137381,"post_id":14469627,"comment_id":20257636,"body_markdown":"I think I understand what you saying about calling with wildcard type but I don&#39;t understand why the erasure is `Foo` when the constraint is `extends Foo &amp; Bar`. FWIW Eclipse compiles and runs it for me with 1.6 compliance just fine except for the unchecked warnings.","body":"I think I understand what you saying about calling with wildcard type but I don&#39;t understand why the erasure is <code>Foo</code> when the constraint is <code>extends Foo &amp; Bar</code>. FWIW Eclipse compiles and runs it for me with 1.6 compliance just fine except for the unchecked warnings."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":3,"creation_date":1359138152,"post_id":14469627,"comment_id":20257986,"body_markdown":"@MiserableVariable The erasure of a type parameter with multiple bounds is always (the erasure of) the first bound. See this post: http://stackoverflow.com/a/8055497/697449","body":"@MiserableVariable The erasure of a type parameter with multiple bounds is always (the erasure of) the first bound. See this post: <a href=\"http://stackoverflow.com/a/8055497/697449\">stackoverflow.com/a/8055497/697449</a>"},{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1359362062,"post_id":14469627,"comment_id":20310994,"body_markdown":"Is there a way to get around the heap pollution without having to use Class&lt;T&gt;? Wildcards &lt;? extends Foo &amp; Bar&gt; shouldn&#39;t work because then the caller needs to perform an unchecked cast.","body":"Is there a way to get around the heap pollution without having to use Class&lt;T&gt;? Wildcards &lt;? extends Foo &amp; Bar&gt; shouldn&#39;t work because then the caller needs to perform an unchecked cast."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1359379971,"post_id":14469627,"comment_id":20319418,"body_markdown":"@kutschkem What this boils down to is not being able to do `new T()` in Java. So `getFooBar` must take some *producer* of `T`. `Class&lt;T&gt;` is just a common example - it has the `newInstance` shortcut and `cast` also lets you do a checked cast. Not sure what you&#39;re saying about wildcards though.","body":"@kutschkem What this boils down to is not being able to do <code>new T()</code> in Java. So <code>getFooBar</code> must take some <i>producer</i> of <code>T</code>. <code>Class&lt;T&gt;</code> is just a common example - it has the <code>newInstance</code> shortcut and <code>cast</code> also lets you do a checked cast. Not sure what you&#39;re saying about wildcards though."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1359380654,"post_id":14469627,"comment_id":20319757,"body_markdown":"@kutschkem Actually IIRC multiple bounds aren&#39;t allowed in wildcards for some reason, just type parameters - not sure if that changes what you were getting at.","body":"@kutschkem Actually IIRC multiple bounds aren&#39;t allowed in wildcards for some reason, just type parameters - not sure if that changes what you were getting at."},{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1359471817,"post_id":14469627,"comment_id":20358511,"body_markdown":"@Paul ah ok, i didn&#39;t know wildcards with multiple bounds aren&#39;t allowed. But as i said, and you correctly explained, wildcards with mutliple bounds wouldn&#39;t help either.","body":"@Paul ah ok, i didn&#39;t know wildcards with multiple bounds aren&#39;t allowed. But as i said, and you correctly explained, wildcards with mutliple bounds wouldn&#39;t help either."},{"owner":{"account_id":18250,"reputation":39312,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1359509944,"post_id":14469627,"comment_id":20375646,"body_markdown":"@kutschkem The reason `Class&lt;T&gt;` tokens help you get around type pollution is the `Class.cast()` method. You&#39;re basically replacing the compile-time cast to `T` which is unsafe (and can&#39;t be made safe) with a runtime check. This moves verifying type consistency to the call site where the compiler can make sure the type parameter of the method and the `Class` match. The question &quot;how to get around heap pollution without `Class&lt;T&gt;`?&quot; doesn&#39;t really make sense, because that&#39;s the intended way of avoiding it. (The method is new in 1.5) It&#39;s like asking &quot;how to declare variables without keywords?&quot;.","body":"@kutschkem The reason <code>Class&lt;T&gt;</code> tokens help you get around type pollution is the <code>Class.cast()</code> method. You&#39;re basically replacing the compile-time cast to <code>T</code> which is unsafe (and can&#39;t be made safe) with a runtime check. This moves verifying type consistency to the call site where the compiler can make sure the type parameter of the method and the <code>Class</code> match. The question &quot;how to get around heap pollution without <code>Class&lt;T&gt;</code>?&quot; doesn&#39;t really make sense, because that&#39;s the intended way of avoiding it. (The method is new in 1.5) It&#39;s like asking &quot;how to declare variables without keywords?&quot;."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1359651403,"post_id":14469627,"comment_id":20436649,"body_markdown":"@MiserableVariable Hey it turns out you were right about the caller not having to know what `T` is - check out this example I put together based on the code you shared: http://ideone.com/V1VED9. I think the earlier `getFooBar` example was a weird corner case because it didn&#39;t have any arguments to infer from, so some compilers were choking on it and that threw me off. The new example clearly shows that `?` can be inferred (but not specified). As demonstrated this provides a nice use case for the hypothetical `Foo&amp;Bar fooBar = ...` syntax.","body":"@MiserableVariable Hey it turns out you were right about the caller not having to know what <code>T</code> is - check out this example I put together based on the code you shared: <a href=\"http://ideone.com/V1VED9\" rel=\"nofollow noreferrer\">ideone.com/V1VED9</a>. I think the earlier <code>getFooBar</code> example was a weird corner case because it didn&#39;t have any arguments to infer from, so some compilers were choking on it and that threw me off. The new example clearly shows that <code>?</code> can be inferred (but not specified). As demonstrated this provides a nice use case for the hypothetical <code>Foo&amp;Bar fooBar = ...</code> syntax."},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1359651483,"post_id":14469627,"comment_id":20436711,"body_markdown":"@MiserableVariable Anyway I&#39;d appreciate if you posted what we came up with together as an answer and I can give it the bounty :D","body":"@MiserableVariable Anyway I&#39;d appreciate if you posted what we came up with together as an answer and I can give it the bounty :D"}],"tags":[],"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"comment_count":19,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1648222772,"creation_date":1358895511,"answer_id":14469627,"question_id":14464226,"body_markdown":"While the type parameters of a generic method can be restricted by bounds, such as `extends Foo &amp; Bar`, they are ultimately decided by the caller. When you call `getFooBar()`, the call site already knows what `T` is being resolved to. Often, these type parameters will be *inferred* by the compiler, which is why you don&#39;t usually need to specify them, like this:\r\n\r\n    FooBar.&lt;FooAndBar&gt;getFooBar();\r\n\r\nBut even when `T` is inferred to be `FooAndBar`, that&#39;s really whats happening behind the scenes.\r\n\r\nSo, to answer your question, such a syntax like this:\r\n\r\n    Foo&amp;Bar bothFooAndBar = FooBar.getFooBar();\r\n\r\nWould never be useful in practice. The reason is that the caller *must already know* what `T` is. Either `T` is some concrete type:\r\n\r\n    FooAndBar bothFooAndBar = FooBar.&lt;FooAndBar&gt;getFooBar(); // T is FooAndBar\r\n\r\nOr, `T` is an unresolved type parameter, and we&#39;re in its scope:\r\n\r\n    &lt;U extends Foo &amp; Bar&gt; void someGenericMethod() {\r\n        U bothFooAndBar = FooBar.&lt;U&gt;getFooBar(); // T is U\r\n    }\r\n\r\nAnother example of that:\r\n\r\n    class SomeGenericClass&lt;V extends Foo &amp; Bar&gt; {\r\n        void someMethod() {\r\n            V bothFooAndBar = FooBar.&lt;V&gt;getFooBar(); // T is V\r\n        }\r\n    }\r\n\r\nTechnically, that wraps up the answer. But I&#39;d also like to point out that your example method `getFooBar` is inherently unsafe. Remember that the caller decides what `T` gets to be, not the method. Since `getFooBar` doesn&#39;t take any parameters related to `T`, and because of [type erasure][1], its only options would be to return `null` or to &quot;lie&quot; by making an unchecked cast, risking [heap pollution][2]. A typical workaround would be for `getFooBar` to take a `Class&lt;T&gt;` argument, or else a `FooFactory&lt;T&gt;` for example.\r\n\r\n## Update ##\r\n\r\nIt turns out I was wrong when I asserted that the caller of `getFooBar` must always know what `T` is. As @MiserableVariable points out, there are some situations where the type argument of a generic method is inferred to be a *wildcard capture*, rather than a concrete type or type variable. **See [his answer][3] for a great example of a `getFooBar` implementation that uses a proxy to drive home his point that `T` is unknown.**\r\n\r\nAs we discussed in the comments, [an example using `getFooBar`][4] created confusion because it takes no arguments to infer `T` from. Certain compilers [throw an error][5] on a contextless call to `getFooBar()` while others [are fine with it][6]. I *thought* that the inconsistent compile errors - along with the fact that calling `FooBar.&lt;?&gt;getFooBar()` is illegal - validated my point, but these turned out to be red herrings.\r\n\r\nBased on @MiserableVariable&#39;s answer, I put together [an new example][7] that uses a generic method with an argument, to remove the confusion. Assume we have interfaces `Foo` and `Bar` and an implementation `FooBarImpl`:\r\n\r\n    interface Foo { }\r\n    interface Bar { }\r\n    static class FooBarImpl implements Foo, Bar { }\r\n\r\nWe also have a simple container class that wraps an instance of some type implementing `Foo` and `Bar`. It declares a silly static method `unwrap` that takes a `FooBarContainer` and returns its referent:\r\n\r\n    static class FooBarContainer&lt;T extends Foo &amp; Bar&gt; {\r\n\r\n        private final T fooBar;\r\n        \r\n        public FooBarContainer(T fooBar) {\r\n            this.fooBar = fooBar;\r\n        }\r\n        \r\n        public T get() {\r\n            return fooBar;\r\n        }\r\n        \r\n        static &lt;T extends Foo &amp; Bar&gt; T unwrap(FooBarContainer&lt;T&gt; fooBarContainer) {\r\n            return fooBarContainer.get();\r\n        }\r\n    }\r\n\r\nNow let&#39;s say we have a wildcard parameterized type of `FooBarContainer`:\r\n\r\n    FooBarContainer&lt;?&gt; unknownFooBarContainer = ...;\r\n\r\nWe&#39;re allowed to pass `unknownFooBarContainer` into `unwrap`. This shows my earlier assertion was wrong, because the call site doesn&#39;t know what `T` is - only that it is some type within the bounds `extends Foo &amp; Bar`.\r\n\r\n    FooBarContainer.unwrap(unknownFooBarContainer); // T is a wildcard capture, ?\r\n\r\nAs I noted, calling `unwrap` with a wildcard is illegal:\r\n\r\n    FooBarContainer.&lt;?&gt;unwrap(unknownFooBarContainer); // compiler error\r\n\r\nI can only guess that this is because wildcard captures can never match each other - the `?` argument provided at the call site is ambiguous, with no way of saying that it should specifically match the wildcard in the type of `unknownFooBarContainer`.\r\n\r\nSo, here&#39;s the use case for the syntax the OP is asking about. Calling `unwrap` on `unknownFooBarContainer` returns a reference of type `? extends Foo &amp; Bar`. We can assign that reference to `Foo` or `Bar`, but not both:\r\n\r\n    Foo foo = FooBarContainer.unwrap(unknownFooBarContainer);\r\n    Bar bar = FooBarContainer.unwrap(unknownFooBarContainer);\r\n\r\nIf for some reason `unwrap` were expensive and we only wanted to call it once, we would be forced to cast:\r\n\r\n    Foo foo = FooBarContainer.unwrap(unknownFooBarContainer);\r\n    Bar bar = (Bar)foo;\r\n\r\nSo this is where the hypothetical syntax would come in handy:\r\n\r\n    Foo&amp;Bar fooBar = FooBarContainer.unwrap(unknownFooBarContainer);\r\n\r\nThis is just one fairly obscure use case. There would be pretty far-ranging implications for allowing such a syntax, both good and bad. It would open up room for abuse where it wasn&#39;t needed, and it&#39;s completely understandable why the language designers didn&#39;t implement such a thing. But I still think it&#39;s interesting to think about.\r\n\r\n*Note* - Since JDK 10 there is the `var` reserved type name, which makes this possible:\r\n\r\n    var fooBar = FooBarContainer.unwrap(unknownFooBarContainer);\r\n\r\nThe variable `fooBar` is inferred to have a type that implements both `Foo` and `Bar` and that cannot be denoted explicitly in source code.\r\n\r\n---\r\n\r\nA note about heap pollution\r\n---------------------------\r\n\r\n([Mostly for @MiserableVariable][8]) Here&#39;s a walkthrough of how an unsafe method like `getFooBar` causes heap pollution, and its implications. Given the following interface and implementations:\r\n\r\n    interface Foo { }\r\n    \r\n    static class Foo1 implements Foo {\r\n        public void foo1Method() { }\r\n    }\r\n    \r\n    static class Foo2 implements Foo { }\r\n\r\nLet&#39;s implement an unsafe method `getFoo`, similar to `getFooBar` but simplified for this example:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    static &lt;T extends Foo&gt; T getFoo() {\r\n        //unchecked cast - ClassCastException is not thrown here if T is wrong\r\n        return (T)new Foo2();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Foo1 foo1 = getFoo(); //ClassCastException is thrown here\r\n    }\r\n\r\nHere, when the new `Foo2` is cast to `T`, it is &quot;unchecked&quot;, meaning because of type erasure the runtime doesn&#39;t know it should fail, even though it should in this case since `T` was `Foo1`. Instead, the heap is &quot;polluted&quot;, meaning references are pointing to objects they shouldn&#39;t have been allowed to.\r\n\r\nThe failure happens after the method returns, when the `Foo2` instance tries to get assigned to the `foo1` reference, which has the reifiable type `Foo1`.\r\n\r\nYou&#39;re probably thinking, &quot;Okay so it blew up at the call site instead of the method, big deal.&quot; But it can easily get more complicated when more generics are involved. For example:\r\n\r\n    static &lt;T extends Foo&gt; List&lt;T&gt; getFooList(int size) {\r\n        List&lt;T&gt; fooList = new ArrayList&lt;T&gt;(size);\r\n        for (int i = 0; i &lt; size; i++) {\r\n            T foo = getFoo();\r\n            fooList.add(foo);\r\n        }\r\n        return fooList;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        List&lt;Foo1&gt; foo1List = getFooList(5);\r\n        \r\n        // a bunch of things happen\r\n        \r\n        //sometime later maybe, depending on state\r\n        foo1List.get(0).foo1Method(); //ClassCastException is thrown here\r\n    }\r\n\r\nNow it doesn&#39;t blow up at the call site. It blows up sometime later when the contents of `foo1List` get used. This is how heap pollution gets harder to debug, because the exception stacktrace doesn&#39;t point you to the actual problem.\r\n\r\nIt gets even more complicated when the caller is in generic scope itself. Imagine instead of getting a `List&lt;Foo1&gt;` we&#39;re getting a `List&lt;T&gt;`, putting it in a `Map&lt;K, List&lt;T&gt;&gt;` and returning it to yet another method. You get the idea I hope.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\r\n  [2]: https://softwareengineering.stackexchange.com/a/156008/33756\r\n  [3]: https://stackoverflow.com/a/14632995/697449\r\n  [4]: http://pastebin.com/UGNvgjEZ\r\n  [5]: http://ideone.com/3CqrAJ\r\n  [6]: http://ideone.com/YuKQLq\r\n  [7]: http://ideone.com/V1VED9\r\n  [8]: https://stackoverflow.com/questions/14464226/how-to-reference-a-generic-return-type-with-multiple-bounds#comment20233991_14469627","title":"How to reference a generic return type with multiple bounds","body":"<p>While the type parameters of a generic method can be restricted by bounds, such as <code>extends Foo &amp; Bar</code>, they are ultimately decided by the caller. When you call <code>getFooBar()</code>, the call site already knows what <code>T</code> is being resolved to. Often, these type parameters will be <em>inferred</em> by the compiler, which is why you don't usually need to specify them, like this:</p>\n<pre><code>FooBar.&lt;FooAndBar&gt;getFooBar();\n</code></pre>\n<p>But even when <code>T</code> is inferred to be <code>FooAndBar</code>, that's really whats happening behind the scenes.</p>\n<p>So, to answer your question, such a syntax like this:</p>\n<pre><code>Foo&amp;Bar bothFooAndBar = FooBar.getFooBar();\n</code></pre>\n<p>Would never be useful in practice. The reason is that the caller <em>must already know</em> what <code>T</code> is. Either <code>T</code> is some concrete type:</p>\n<pre><code>FooAndBar bothFooAndBar = FooBar.&lt;FooAndBar&gt;getFooBar(); // T is FooAndBar\n</code></pre>\n<p>Or, <code>T</code> is an unresolved type parameter, and we're in its scope:</p>\n<pre><code>&lt;U extends Foo &amp; Bar&gt; void someGenericMethod() {\n    U bothFooAndBar = FooBar.&lt;U&gt;getFooBar(); // T is U\n}\n</code></pre>\n<p>Another example of that:</p>\n<pre><code>class SomeGenericClass&lt;V extends Foo &amp; Bar&gt; {\n    void someMethod() {\n        V bothFooAndBar = FooBar.&lt;V&gt;getFooBar(); // T is V\n    }\n}\n</code></pre>\n<p>Technically, that wraps up the answer. But I'd also like to point out that your example method <code>getFooBar</code> is inherently unsafe. Remember that the caller decides what <code>T</code> gets to be, not the method. Since <code>getFooBar</code> doesn't take any parameters related to <code>T</code>, and because of <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a>, its only options would be to return <code>null</code> or to &quot;lie&quot; by making an unchecked cast, risking <a href=\"https://softwareengineering.stackexchange.com/a/156008/33756\">heap pollution</a>. A typical workaround would be for <code>getFooBar</code> to take a <code>Class&lt;T&gt;</code> argument, or else a <code>FooFactory&lt;T&gt;</code> for example.</p>\n<h2>Update</h2>\n<p>It turns out I was wrong when I asserted that the caller of <code>getFooBar</code> must always know what <code>T</code> is. As @MiserableVariable points out, there are some situations where the type argument of a generic method is inferred to be a <em>wildcard capture</em>, rather than a concrete type or type variable. <strong>See <a href=\"https://stackoverflow.com/a/14632995/697449\">his answer</a> for a great example of a <code>getFooBar</code> implementation that uses a proxy to drive home his point that <code>T</code> is unknown.</strong></p>\n<p>As we discussed in the comments, <a href=\"http://pastebin.com/UGNvgjEZ\" rel=\"nofollow noreferrer\">an example using <code>getFooBar</code></a> created confusion because it takes no arguments to infer <code>T</code> from. Certain compilers <a href=\"http://ideone.com/3CqrAJ\" rel=\"nofollow noreferrer\">throw an error</a> on a contextless call to <code>getFooBar()</code> while others <a href=\"http://ideone.com/YuKQLq\" rel=\"nofollow noreferrer\">are fine with it</a>. I <em>thought</em> that the inconsistent compile errors - along with the fact that calling <code>FooBar.&lt;?&gt;getFooBar()</code> is illegal - validated my point, but these turned out to be red herrings.</p>\n<p>Based on @MiserableVariable's answer, I put together <a href=\"http://ideone.com/V1VED9\" rel=\"nofollow noreferrer\">an new example</a> that uses a generic method with an argument, to remove the confusion. Assume we have interfaces <code>Foo</code> and <code>Bar</code> and an implementation <code>FooBarImpl</code>:</p>\n<pre><code>interface Foo { }\ninterface Bar { }\nstatic class FooBarImpl implements Foo, Bar { }\n</code></pre>\n<p>We also have a simple container class that wraps an instance of some type implementing <code>Foo</code> and <code>Bar</code>. It declares a silly static method <code>unwrap</code> that takes a <code>FooBarContainer</code> and returns its referent:</p>\n<pre><code>static class FooBarContainer&lt;T extends Foo &amp; Bar&gt; {\n\n    private final T fooBar;\n    \n    public FooBarContainer(T fooBar) {\n        this.fooBar = fooBar;\n    }\n    \n    public T get() {\n        return fooBar;\n    }\n    \n    static &lt;T extends Foo &amp; Bar&gt; T unwrap(FooBarContainer&lt;T&gt; fooBarContainer) {\n        return fooBarContainer.get();\n    }\n}\n</code></pre>\n<p>Now let's say we have a wildcard parameterized type of <code>FooBarContainer</code>:</p>\n<pre><code>FooBarContainer&lt;?&gt; unknownFooBarContainer = ...;\n</code></pre>\n<p>We're allowed to pass <code>unknownFooBarContainer</code> into <code>unwrap</code>. This shows my earlier assertion was wrong, because the call site doesn't know what <code>T</code> is - only that it is some type within the bounds <code>extends Foo &amp; Bar</code>.</p>\n<pre><code>FooBarContainer.unwrap(unknownFooBarContainer); // T is a wildcard capture, ?\n</code></pre>\n<p>As I noted, calling <code>unwrap</code> with a wildcard is illegal:</p>\n<pre><code>FooBarContainer.&lt;?&gt;unwrap(unknownFooBarContainer); // compiler error\n</code></pre>\n<p>I can only guess that this is because wildcard captures can never match each other - the <code>?</code> argument provided at the call site is ambiguous, with no way of saying that it should specifically match the wildcard in the type of <code>unknownFooBarContainer</code>.</p>\n<p>So, here's the use case for the syntax the OP is asking about. Calling <code>unwrap</code> on <code>unknownFooBarContainer</code> returns a reference of type <code>? extends Foo &amp; Bar</code>. We can assign that reference to <code>Foo</code> or <code>Bar</code>, but not both:</p>\n<pre><code>Foo foo = FooBarContainer.unwrap(unknownFooBarContainer);\nBar bar = FooBarContainer.unwrap(unknownFooBarContainer);\n</code></pre>\n<p>If for some reason <code>unwrap</code> were expensive and we only wanted to call it once, we would be forced to cast:</p>\n<pre><code>Foo foo = FooBarContainer.unwrap(unknownFooBarContainer);\nBar bar = (Bar)foo;\n</code></pre>\n<p>So this is where the hypothetical syntax would come in handy:</p>\n<pre><code>Foo&amp;Bar fooBar = FooBarContainer.unwrap(unknownFooBarContainer);\n</code></pre>\n<p>This is just one fairly obscure use case. There would be pretty far-ranging implications for allowing such a syntax, both good and bad. It would open up room for abuse where it wasn't needed, and it's completely understandable why the language designers didn't implement such a thing. But I still think it's interesting to think about.</p>\n<p><em>Note</em> - Since JDK 10 there is the <code>var</code> reserved type name, which makes this possible:</p>\n<pre><code>var fooBar = FooBarContainer.unwrap(unknownFooBarContainer);\n</code></pre>\n<p>The variable <code>fooBar</code> is inferred to have a type that implements both <code>Foo</code> and <code>Bar</code> and that cannot be denoted explicitly in source code.</p>\n<hr />\n<h2>A note about heap pollution</h2>\n<p>(<a href=\"https://stackoverflow.com/questions/14464226/how-to-reference-a-generic-return-type-with-multiple-bounds#comment20233991_14469627\">Mostly for @MiserableVariable</a>) Here's a walkthrough of how an unsafe method like <code>getFooBar</code> causes heap pollution, and its implications. Given the following interface and implementations:</p>\n<pre><code>interface Foo { }\n\nstatic class Foo1 implements Foo {\n    public void foo1Method() { }\n}\n\nstatic class Foo2 implements Foo { }\n</code></pre>\n<p>Let's implement an unsafe method <code>getFoo</code>, similar to <code>getFooBar</code> but simplified for this example:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\nstatic &lt;T extends Foo&gt; T getFoo() {\n    //unchecked cast - ClassCastException is not thrown here if T is wrong\n    return (T)new Foo2();\n}\n\npublic static void main(String[] args) {\n    Foo1 foo1 = getFoo(); //ClassCastException is thrown here\n}\n</code></pre>\n<p>Here, when the new <code>Foo2</code> is cast to <code>T</code>, it is &quot;unchecked&quot;, meaning because of type erasure the runtime doesn't know it should fail, even though it should in this case since <code>T</code> was <code>Foo1</code>. Instead, the heap is &quot;polluted&quot;, meaning references are pointing to objects they shouldn't have been allowed to.</p>\n<p>The failure happens after the method returns, when the <code>Foo2</code> instance tries to get assigned to the <code>foo1</code> reference, which has the reifiable type <code>Foo1</code>.</p>\n<p>You're probably thinking, &quot;Okay so it blew up at the call site instead of the method, big deal.&quot; But it can easily get more complicated when more generics are involved. For example:</p>\n<pre><code>static &lt;T extends Foo&gt; List&lt;T&gt; getFooList(int size) {\n    List&lt;T&gt; fooList = new ArrayList&lt;T&gt;(size);\n    for (int i = 0; i &lt; size; i++) {\n        T foo = getFoo();\n        fooList.add(foo);\n    }\n    return fooList;\n}\n\npublic static void main(String[] args) {\n    \n    List&lt;Foo1&gt; foo1List = getFooList(5);\n    \n    // a bunch of things happen\n    \n    //sometime later maybe, depending on state\n    foo1List.get(0).foo1Method(); //ClassCastException is thrown here\n}\n</code></pre>\n<p>Now it doesn't blow up at the call site. It blows up sometime later when the contents of <code>foo1List</code> get used. This is how heap pollution gets harder to debug, because the exception stacktrace doesn't point you to the actual problem.</p>\n<p>It gets even more complicated when the caller is in generic scope itself. Imagine instead of getting a <code>List&lt;Foo1&gt;</code> we're getting a <code>List&lt;T&gt;</code>, putting it in a <code>Map&lt;K, List&lt;T&gt;&gt;</code> and returning it to yet another method. You get the idea I hope.</p>\n"},{"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":1,"creation_date":1359572991,"post_id":14611127,"comment_id":20403514,"body_markdown":"Ooooh, my bounty message must not have been clear. Sorry, but I specifically meant a use case for a syntax like `Foo&amp;Bar bothFooAndBar = ...`, as in using `Foo&amp;Bar` as the type of a variable (like the question is asking for) rather than generic bounds. Sorry, I should have made that more clear. +1 for a great example of using multiple generic bounds though.","body":"Ooooh, my bounty message must not have been clear. Sorry, but I specifically meant a use case for a syntax like <code>Foo&amp;Bar bothFooAndBar = ...</code>, as in using <code>Foo&amp;Bar</code> as the type of a variable (like the question is asking for) rather than generic bounds. Sorry, I should have made that more clear. +1 for a great example of using multiple generic bounds though."},{"owner":{"account_id":317594,"reputation":2093,"user_id":634368,"accept_rate":100,"display_name":"Sednus"},"score":0,"creation_date":1359573736,"post_id":14611127,"comment_id":20403913,"body_markdown":"Oh, I&#39;m sorry I didn&#39;t actually answered the question. I thought you meant the syntax in a more general case.","body":"Oh, I&#39;m sorry I didn&#39;t actually answered the question. I thought you meant the syntax in a more general case."},{"owner":{"account_id":317594,"reputation":2093,"user_id":634368,"accept_rate":100,"display_name":"Sednus"},"score":0,"creation_date":1359573796,"post_id":14611127,"comment_id":20403944,"body_markdown":"If the bounty gets awarded automatically, I can always return it ;)","body":"If the bounty gets awarded automatically, I can always return it ;)"},{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":2,"creation_date":1359574076,"post_id":14611127,"comment_id":20404082,"body_markdown":"Haha, you better or thugs are going to be knocking on your door demanding my points back :)","body":"Haha, you better or thugs are going to be knocking on your door demanding my points back :)"}],"tags":[],"owner":{"account_id":317594,"reputation":2093,"user_id":634368,"accept_rate":100,"display_name":"Sednus"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550074456,"creation_date":1359570492,"answer_id":14611127,"question_id":14464226,"body_markdown":"  Like @Paul Bellora mentioned in his answer, the type get resolved by the caller, since essentially it will now what it is calling. I would just like to add to his answer with an use case where I think the usage of the syntax could be of benefit.\r\n\r\n   There are always alternatives that avoid using such syntax. I cannot think of a single example that this is utterly necessary. However I can think of a use case of a particular situation that this syntax could be used conveniently, although I didn&#39;t even used it myself. I know its not the best example out there but it can get to the point. \r\n \r\n&lt;h2&gt;Case&lt;/h2&gt;\r\n\r\n  Recently I&#39;ve been working in the development of an user interface. In this application I use a library to manage my GUI elements. In addition to the features of the library, I created a custom interface that defines a View in my application that has inputs for a specific type of data, lets say, input of coordinates. That interface would look like:\r\n\r\n    public interface CoordinateView extends View\r\n    {\r\n        Coordinate getCoordinate();\r\n        //Maybe more stuff\r\n    } \r\n\r\n&lt;br/&gt;\r\n\r\n  I have several windows across my application that implement this interface. Now lets say that for some reason I want to store in a model the last coordinate submitted in a window and close the window right after. For this I can attach a handler to the window button that submits the form, the handler will get triggered when the user closes the Window. I could achieve that by simply adding the handler anonymously in every window, like:\r\n\r\n\r\n    public MyWindow extends Window implements CoordinateView, OtherInterface\r\n    {\r\n        private Button submitButton;\r\n \r\n        public MyWindow()\r\n        {\r\n            super();\r\n            //Create all the elements\r\n          \r\n            submitButton.addClickHandler(\r\n                new ClickHandler()\r\n                {\r\n                    @Override\r\n                    onCLick(ClickEvent e)\r\n                    {\r\n                        getModel().add(getCoordinate());\r\n                        destroy();\r\n                    }\r\n                });  \r\n       }\r\n    }\r\n\r\n However, this design is not desirable for me, it is not modular enough. Considering I have a decent amount of windows  with this behavior, changing it could get rather tedious. So I rather extract the anonymous method in a class so that it would be easier to change and maintain. But the problem is that the destroy() method is not defined in any interface, is just part of window and the getCoordinate() method is defined in the interface I defined.\r\n\r\n&lt;h2&gt;Usage&lt;/h2&gt;\r\n\r\nIn this case I could use multiple bounds like the following:\r\n\r\n\r\n    public class MyController &lt;T extends Window &amp; CoordinateView&gt; implements ClickHandler\r\n    {\r\n        private T windowWithCoordinates;\r\n\r\n        public MyController (T window)\r\n        {\r\n            windowWithCoordinates = window;\r\n        }\r\n\r\n        @Override\r\n        onClick(ClickEvent e)\r\n        {\r\n            getModel().add(windowWithCoordinates.getCoordinate());\r\n            windowWithCoordinate.destroy();\r\n        }\r\n    }\r\n\r\n\r\nThen the code in the windows will now be:\r\n\r\n    public MyWindow extends Window implements CoordinateView, OtherInterface\r\n    {\r\n        private Button submitButton;\r\n \r\n        public MyWindow()\r\n        {\r\n            super();\r\n            //Create all the elements\r\n              \r\n            submitButton.addClickHandler(new MyController&lt;MyWindow&gt;(this));\r\n                  \r\n        }\r\n    }\r\n\r\n\r\nNotice that the behaviour will remain the same, the code is just a cohesive as it used to be. Its only more modular, but it didn&#39;t required the creation of an additional interface to be able to extract it properly.\r\n\r\n   &lt;h2&gt;Alternative&lt;/h2&gt;\r\n \r\nAlternatively, I could have defined an additional interface extending `CoordinateView` and define a method to close the window.\r\n\r\n    public interface CoordinateWindow extends CoordinateView\r\n    {\r\n        void destroy();\r\n    }\r\n\r\nHaving the window implement this more specific interface instead of making unnecessary use of generic parameters in the extracted controller:\r\n\r\n    public class MyController implements ClickHandler\r\n    {\r\n        private CoordinateWindow windowWithCoordinates;\r\n\r\n        public MyController (CoordinateWindow window)\r\n        {\r\n            windowWithCoordinates = window;\r\n        }\r\n\r\n        @Override\r\n        onClick(ClickEvent e)\r\n        {\r\n            getModel().add(windowWithCoordinates.getCoordinate());\r\n            windowWithCoordinate.destroy();\r\n        }\r\n    }\r\n\r\n      \r\n    public MyWindow extends Window implements CoordinateWindow\r\n    {\r\n        private Button submitButton;\r\n \r\n        public MyWindow()\r\n        {\r\n            super();\r\n            //Create all the elements  \r\n            submitButton.addClickHandler(new MyController(this));                  \r\n        }\r\n\r\n        @Override\r\n        void destroy()\r\n        {\r\n            this.destroy();\r\n        }\r\n    }\r\n\r\n\r\n   This approach for some can be seen as much cleaner than the previous and even more reusable since now it could be added to other &quot;windows&quot; outside of the specified hierarchy. Personally, I prefer this approach as well. However, it may result in a little more coding since a new interface has to be defined just for the sake of getting a access to a desired method.\r\n\r\n\r\nIn conclusion, although I personally don&#39;t recommend it I think using generic types with multiple bounds could help in coupling definitions while reducing the amount of code.","title":"How to reference a generic return type with multiple bounds","body":"<p>Like @Paul Bellora mentioned in his answer, the type get resolved by the caller, since essentially it will now what it is calling. I would just like to add to his answer with an use case where I think the usage of the syntax could be of benefit.</p>\n\n<p>There are always alternatives that avoid using such syntax. I cannot think of a single example that this is utterly necessary. However I can think of a use case of a particular situation that this syntax could be used conveniently, although I didn't even used it myself. I know its not the best example out there but it can get to the point. </p>\n\n<h2>Case</h2>\n\n<p>Recently I've been working in the development of an user interface. In this application I use a library to manage my GUI elements. In addition to the features of the library, I created a custom interface that defines a View in my application that has inputs for a specific type of data, lets say, input of coordinates. That interface would look like:</p>\n\n<pre><code>public interface CoordinateView extends View\n{\n    Coordinate getCoordinate();\n    //Maybe more stuff\n} \n</code></pre>\n\n<p><br/></p>\n\n<p>I have several windows across my application that implement this interface. Now lets say that for some reason I want to store in a model the last coordinate submitted in a window and close the window right after. For this I can attach a handler to the window button that submits the form, the handler will get triggered when the user closes the Window. I could achieve that by simply adding the handler anonymously in every window, like:</p>\n\n<pre><code>public MyWindow extends Window implements CoordinateView, OtherInterface\n{\n    private Button submitButton;\n\n    public MyWindow()\n    {\n        super();\n        //Create all the elements\n\n        submitButton.addClickHandler(\n            new ClickHandler()\n            {\n                @Override\n                onCLick(ClickEvent e)\n                {\n                    getModel().add(getCoordinate());\n                    destroy();\n                }\n            });  \n   }\n}\n</code></pre>\n\n<p>However, this design is not desirable for me, it is not modular enough. Considering I have a decent amount of windows  with this behavior, changing it could get rather tedious. So I rather extract the anonymous method in a class so that it would be easier to change and maintain. But the problem is that the destroy() method is not defined in any interface, is just part of window and the getCoordinate() method is defined in the interface I defined.</p>\n\n<h2>Usage</h2>\n\n<p>In this case I could use multiple bounds like the following:</p>\n\n<pre><code>public class MyController &lt;T extends Window &amp; CoordinateView&gt; implements ClickHandler\n{\n    private T windowWithCoordinates;\n\n    public MyController (T window)\n    {\n        windowWithCoordinates = window;\n    }\n\n    @Override\n    onClick(ClickEvent e)\n    {\n        getModel().add(windowWithCoordinates.getCoordinate());\n        windowWithCoordinate.destroy();\n    }\n}\n</code></pre>\n\n<p>Then the code in the windows will now be:</p>\n\n<pre><code>public MyWindow extends Window implements CoordinateView, OtherInterface\n{\n    private Button submitButton;\n\n    public MyWindow()\n    {\n        super();\n        //Create all the elements\n\n        submitButton.addClickHandler(new MyController&lt;MyWindow&gt;(this));\n\n    }\n}\n</code></pre>\n\n<p>Notice that the behaviour will remain the same, the code is just a cohesive as it used to be. Its only more modular, but it didn't required the creation of an additional interface to be able to extract it properly.</p>\n\n<p><h2>Alternative</h2></p>\n\n<p>Alternatively, I could have defined an additional interface extending <code>CoordinateView</code> and define a method to close the window.</p>\n\n<pre><code>public interface CoordinateWindow extends CoordinateView\n{\n    void destroy();\n}\n</code></pre>\n\n<p>Having the window implement this more specific interface instead of making unnecessary use of generic parameters in the extracted controller:</p>\n\n<pre><code>public class MyController implements ClickHandler\n{\n    private CoordinateWindow windowWithCoordinates;\n\n    public MyController (CoordinateWindow window)\n    {\n        windowWithCoordinates = window;\n    }\n\n    @Override\n    onClick(ClickEvent e)\n    {\n        getModel().add(windowWithCoordinates.getCoordinate());\n        windowWithCoordinate.destroy();\n    }\n}\n\n\npublic MyWindow extends Window implements CoordinateWindow\n{\n    private Button submitButton;\n\n    public MyWindow()\n    {\n        super();\n        //Create all the elements  \n        submitButton.addClickHandler(new MyController(this));                  \n    }\n\n    @Override\n    void destroy()\n    {\n        this.destroy();\n    }\n}\n</code></pre>\n\n<p>This approach for some can be seen as much cleaner than the previous and even more reusable since now it could be added to other \"windows\" outside of the specified hierarchy. Personally, I prefer this approach as well. However, it may result in a little more coding since a new interface has to be defined just for the sake of getting a access to a desired method.</p>\n\n<p>In conclusion, although I personally don't recommend it I think using generic types with multiple bounds could help in coupling definitions while reducing the amount of code.</p>\n"},{"tags":[],"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1550074515,"creation_date":1359658274,"answer_id":14632995,"question_id":14464226,"body_markdown":"There are cases where a called method returning a value can be used by the caller *without* knowing the concrete type. It is even likely that such a type does not exist at all, it is only a proxy: \r\n\r\n    import java.lang.reflect.*;\r\n    \r\n    interface Foo {}\r\n    interface Bar {}\r\n    \r\n    class FooBar1 implements Foo, Bar {public String toString() { return &quot;FooBar1&quot;; }}\r\n    class FooBar2 implements Foo, Bar {public String toString() { return &quot;FooBar2&quot;; }}   \r\n \r\n    class FooBar {\r\n    \tstatic &lt;T extends Foo &amp; Bar&gt; T getFooBar1() { return (T) new FooBar1(); }\r\n    \tstatic &lt;T extends Foo &amp; Bar&gt; T getFooBar2() { return (T) new FooBar2(); }\r\n    \tstatic &lt;T extends Foo &amp; Bar&gt; T getFooBar() { \r\n    \t\treturn (T) \r\n    \t\tProxy.newProxyInstance(\r\n    \t\t\tFoo.class.getClassLoader(),\r\n    \t\t\tnew Class[] { Foo.class, Bar.class },\r\n    \t\t\tnew InvocationHandler() {\r\n    \t\t\t    public Object invoke(Object proxy, Method method, Object[] args) {\r\n    \t\t\t\t\treturn &quot;PROXY!!!&quot;;}});\r\n    \t}\r\n    \r\n    \tstatic &lt;U extends Foo &amp; Bar&gt; void show(U u) { System.out.println(u); }\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tshow(getFooBar1());\r\n    \t\tshow(getFooBar2());\r\n    \t\tshow(getFooBar());\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nBoth `FooBar1` and `FooBar2` implement `Foo` and `Bar`. In `main`, the calls to `getFooBar1` and `getFooBar2` can be assigned to a variable, though there isn&#39;t a strong reason for it to know IMHO.  \r\n\r\n**But `getFooBar` is the interesting case**, which uses a proxy. In practice, it may be the *only* instance of a an object that implements the two interfaces. A different method (`show` here) can be used with a temporary in a type-safer manner, but it cannot be assigned to a variable without the `FooBarWrapper` hack described in the question. It is not even possible to create a generic wrapper, `class Wrapper&lt;T extends U &amp; V&gt;` is not allowed.\r\n\r\nThe only trouble seems be defining a syntax, other type checking mechanisms seem to be in place, at least in Oracle javac 1.7.0.\r\n\r\n","title":"How to reference a generic return type with multiple bounds","body":"<p>There are cases where a called method returning a value can be used by the caller <em>without</em> knowing the concrete type. It is even likely that such a type does not exist at all, it is only a proxy: </p>\n\n<pre><code>import java.lang.reflect.*;\n\ninterface Foo {}\ninterface Bar {}\n\nclass FooBar1 implements Foo, Bar {public String toString() { return \"FooBar1\"; }}\nclass FooBar2 implements Foo, Bar {public String toString() { return \"FooBar2\"; }}   \n\nclass FooBar {\n    static &lt;T extends Foo &amp; Bar&gt; T getFooBar1() { return (T) new FooBar1(); }\n    static &lt;T extends Foo &amp; Bar&gt; T getFooBar2() { return (T) new FooBar2(); }\n    static &lt;T extends Foo &amp; Bar&gt; T getFooBar() { \n        return (T) \n        Proxy.newProxyInstance(\n            Foo.class.getClassLoader(),\n            new Class[] { Foo.class, Bar.class },\n            new InvocationHandler() {\n                public Object invoke(Object proxy, Method method, Object[] args) {\n                    return \"PROXY!!!\";}});\n    }\n\n    static &lt;U extends Foo &amp; Bar&gt; void show(U u) { System.out.println(u); }\n\n    public static void main(String[] args) {\n        show(getFooBar1());\n        show(getFooBar2());\n        show(getFooBar());      \n    }\n\n}\n</code></pre>\n\n<p>Both <code>FooBar1</code> and <code>FooBar2</code> implement <code>Foo</code> and <code>Bar</code>. In <code>main</code>, the calls to <code>getFooBar1</code> and <code>getFooBar2</code> can be assigned to a variable, though there isn't a strong reason for it to know IMHO.  </p>\n\n<p><strong>But <code>getFooBar</code> is the interesting case</strong>, which uses a proxy. In practice, it may be the <em>only</em> instance of a an object that implements the two interfaces. A different method (<code>show</code> here) can be used with a temporary in a type-safer manner, but it cannot be assigned to a variable without the <code>FooBarWrapper</code> hack described in the question. It is not even possible to create a generic wrapper, <code>class Wrapper&lt;T extends U &amp; V&gt;</code> is not allowed.</p>\n\n<p>The only trouble seems be defining a syntax, other type checking mechanisms seem to be in place, at least in Oracle javac 1.7.0.</p>\n"}],"owner":{"account_id":308278,"reputation":15431,"user_id":620053,"accept_rate":93,"display_name":"Rafael T"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21092,"favorite_count":0,"down_vote_count":2,"up_vote_count":47,"accepted_answer_id":14469627,"answer_count":4,"score":45,"last_activity_date":1667333804,"creation_date":1358874883,"question_id":14464226,"body_markdown":"I have recently seen that one can declare a return type that is also bounded by an interface. Consider the following class and interface:\r\n\r\n    public class Foo {\r\n        public String getFoo() { ... }\r\n    }\r\n    \r\n    public interface Bar {\r\n        public void setBar(String bar);\r\n    }\r\n\r\nI can declare a return type like this:\r\n\r\n    public class FooBar {\r\n        public static &lt;T extends Foo &amp; Bar&gt; T getFooBar() {\r\n            //some implementation that returns a Foo object,\r\n            //which is forced to implement Bar\r\n        }\r\n    }\r\n\r\nIf I call that method from somewhere, my IDE is telling me that the return type has the method `String getFoo()` as well as `setBar(String)`, but only If I point a dot behind the *Function* like this:\r\n\r\n    FooBar.getFooBar(). // here the IDE is showing the available methods.\r\n\r\nIs there a way to get a reference to such an Object? I mean, if I would do something like this:\r\n\r\n    //bar only has the method setBar(String)\r\n    Bar bar = FooBar.getFooBar();\r\n    //foo only has the getFoo():String method\r\n    Foo foo = FooBar.getFooBar();\r\n\r\nI would like to have a reference like this (pseudo code):\r\n\r\n    &lt;T extents Foo &amp; Bar&gt; fooBar = FooBar.getFooBar();\r\n    //or maybe\r\n    $1Bar bar = FooBar.getFooBar();\r\n    //or else maybe\r\n    Foo&amp;Bar bar = FooBar.getFooBar();\r\n\r\nIs this possible somehow in Java, or am I only able to declare return types like this? I think Java has to type it also, somehow. I&#39;d prefer not to resort to a wrapper like this, as it feels like cheating:\r\n\r\n    public class FooBarWrapper&lt;T extends Foo&amp;Bar&gt; extends Foo implements Bar {\r\n        public T foobar;\r\n    \r\n        public FooBarWrapper(T val){\r\n            foobar = val;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void setBar(String bar) {\r\n            foobar.setBar(bar);\r\n        }\r\n    \r\n        @Override\r\n        public String getFoo() {\r\n            return foobar.getFoo();\r\n        }\r\n    }\r\n\r\nDid Java really invent such a nice feature, but forget that one would like to have a reference to it?\r\n","title":"How to reference a generic return type with multiple bounds","body":"<p>I have recently seen that one can declare a return type that is also bounded by an interface. Consider the following class and interface:</p>\n<pre><code>public class Foo {\n    public String getFoo() { ... }\n}\n\npublic interface Bar {\n    public void setBar(String bar);\n}\n</code></pre>\n<p>I can declare a return type like this:</p>\n<pre><code>public class FooBar {\n    public static &lt;T extends Foo &amp; Bar&gt; T getFooBar() {\n        //some implementation that returns a Foo object,\n        //which is forced to implement Bar\n    }\n}\n</code></pre>\n<p>If I call that method from somewhere, my IDE is telling me that the return type has the method <code>String getFoo()</code> as well as <code>setBar(String)</code>, but only If I point a dot behind the <em>Function</em> like this:</p>\n<pre><code>FooBar.getFooBar(). // here the IDE is showing the available methods.\n</code></pre>\n<p>Is there a way to get a reference to such an Object? I mean, if I would do something like this:</p>\n<pre><code>//bar only has the method setBar(String)\nBar bar = FooBar.getFooBar();\n//foo only has the getFoo():String method\nFoo foo = FooBar.getFooBar();\n</code></pre>\n<p>I would like to have a reference like this (pseudo code):</p>\n<pre><code>&lt;T extents Foo &amp; Bar&gt; fooBar = FooBar.getFooBar();\n//or maybe\n$1Bar bar = FooBar.getFooBar();\n//or else maybe\nFoo&amp;Bar bar = FooBar.getFooBar();\n</code></pre>\n<p>Is this possible somehow in Java, or am I only able to declare return types like this? I think Java has to type it also, somehow. I'd prefer not to resort to a wrapper like this, as it feels like cheating:</p>\n<pre><code>public class FooBarWrapper&lt;T extends Foo&amp;Bar&gt; extends Foo implements Bar {\n    public T foobar;\n\n    public FooBarWrapper(T val){\n        foobar = val;\n    }\n\n\n    @Override\n    public void setBar(String bar) {\n        foobar.setBar(bar);\n    }\n\n    @Override\n    public String getFoo() {\n        return foobar.getFoo();\n    }\n}\n</code></pre>\n<p>Did Java really invent such a nice feature, but forget that one would like to have a reference to it?</p>\n"},{"tags":["java","memory-management","jvm"],"answers":[{"comments":[{"owner":{"account_id":5612189,"reputation":171,"user_id":4444561,"display_name":"coder.chenzhi"},"score":0,"creation_date":1576217181,"post_id":59314953,"comment_id":104834827,"body_markdown":"Great explanation! I have reproduced the flame graph at my laptop. But I can&#39;t see there are 13 Java objects were allocated. Can you give more explanation about this? Thanks!","body":"Great explanation! I have reproduced the flame graph at my laptop. But I can&#39;t see there are 13 Java objects were allocated. Can you give more explanation about this? Thanks!"},{"owner":{"account_id":5612189,"reputation":171,"user_id":4444561,"display_name":"coder.chenzhi"},"score":0,"creation_date":1576217906,"post_id":59314953,"comment_id":104835069,"body_markdown":"Besides, what does the `_ZN13SharedRuntime19dtrace_object_allocEP7oopDesci` mean?","body":"Besides, what does the <code>_ZN13SharedRuntime19dtrace_object_allocEP7oopDesci</code> mean?"}],"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667333803,"creation_date":1576200619,"answer_id":59314953,"question_id":59310446,"body_markdown":"The first invocation of `new Long(0)` causes the resolution of the constant pool entry referenced by `new` bytecode. While resolving `CONSTANT_Class_info` for the first time, JVM loads the referenced class - `java.lang.Long`.\r\n\r\n[`ClassLoader.loadClass`](http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/78d2004f65eb/src/share/classes/java/lang/ClassLoader.java#l395) is implemented in Java, and it can certainly allocate Java objects. For instance, [`getClassLoadingLock`](http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/78d2004f65eb/src/share/classes/java/lang/ClassLoader.java#l453) method creates a new lock object and a new entry in `parallelLockMap`:\r\n```\r\n    protected Object getClassLoadingLock(String className) {\r\n        Object lock = this;\r\n        if (parallelLockMap != null) {\r\n            Object newLock = new Object();\r\n            lock = parallelLockMap.putIfAbsent(className, newLock);\r\n            if (lock == null) {\r\n                lock = newLock;\r\n            }\r\n        }\r\n        return lock;\r\n    }\r\n```\r\n\r\nAlso, when doing a class name lookup in the system dictionary, JVM creates a new String object.\r\n\r\nI used [async-profiler](https://github.com/jvm-profiling-tools/async-profiler) to record all heap allocations JVM does when loading `java.lang.Long` class. Here is the clickable interactive Flame Graph:\r\n\r\n[![Allocation Flame Graph][1]](https://profiler.tools/misc/load-class-alloc.svg)\r\n\r\nThe graph includes 13 samples - one per each allocated object. The type of an allocated object is not shown, but it can be easily guessed from the context (stack trace).\r\n\r\n - Green color denotes Java stack trace;\r\n - Yellow means VM stack trace.\r\n\r\nNote that each `java_lang_String::basic_create()` (and similar) allocates two objects: an instance of `java.lang.String` and its backing `char[]` array.\r\n\r\nThe graph is produced by the following test program:\r\n```\r\nimport one.profiler.AsyncProfiler;\r\n\r\npublic class ProfileHeapAlloc {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        AsyncProfiler profiler = AsyncProfiler.getInstance();\r\n\r\n        // Dry run to skip allocations caused by AsyncProfiler initialization\r\n        profiler.start(&quot;_ZN13SharedRuntime19dtrace_object_allocEP7oopDesci&quot;, 0);\r\n        profiler.stop();\r\n\r\n        // Real profiling session\r\n        profiler.start(&quot;_ZN13SharedRuntime19dtrace_object_allocEP7oopDesci&quot;, 0);\r\n\r\n        new Long(0);\r\n\r\n        profiler.stop();\r\n        profiler.execute(&quot;file=alloc.svg&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHow to run:\r\n```\r\njava -Djava.library.path=/path/to/async-profiler -XX:+DTraceAllocProbes ProfileHeapAlloc\r\n```\r\n\r\nHere `_ZN13SharedRuntime19dtrace_object_allocEP7oopDesci` is the [mangled name](https://en.wikipedia.org/wiki/Name_mangling) for `SharedRuntime::dtrace_object_alloc()` function, which is called by JVM for every heap allocation whenever `DTraceAllocProbes` flag is on.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gsZzN.png","title":"What JVM runtime data area are included in ThreadMXBean.getThreadAllocatedBytes(long id)","body":"<p>The first invocation of <code>new Long(0)</code> causes the resolution of the constant pool entry referenced by <code>new</code> bytecode. While resolving <code>CONSTANT_Class_info</code> for the first time, JVM loads the referenced class - <code>java.lang.Long</code>.</p>\n<p><a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/78d2004f65eb/src/share/classes/java/lang/ClassLoader.java#l395\" rel=\"nofollow noreferrer\"><code>ClassLoader.loadClass</code></a> is implemented in Java, and it can certainly allocate Java objects. For instance, <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/78d2004f65eb/src/share/classes/java/lang/ClassLoader.java#l453\" rel=\"nofollow noreferrer\"><code>getClassLoadingLock</code></a> method creates a new lock object and a new entry in <code>parallelLockMap</code>:</p>\n<pre><code>    protected Object getClassLoadingLock(String className) {\n        Object lock = this;\n        if (parallelLockMap != null) {\n            Object newLock = new Object();\n            lock = parallelLockMap.putIfAbsent(className, newLock);\n            if (lock == null) {\n                lock = newLock;\n            }\n        }\n        return lock;\n    }\n</code></pre>\n<p>Also, when doing a class name lookup in the system dictionary, JVM creates a new String object.</p>\n<p>I used <a href=\"https://github.com/jvm-profiling-tools/async-profiler\" rel=\"nofollow noreferrer\">async-profiler</a> to record all heap allocations JVM does when loading <code>java.lang.Long</code> class. Here is the clickable interactive Flame Graph:</p>\n<p><a href=\"https://profiler.tools/misc/load-class-alloc.svg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gsZzN.png\" alt=\"Allocation Flame Graph\" /></a></p>\n<p>The graph includes 13 samples - one per each allocated object. The type of an allocated object is not shown, but it can be easily guessed from the context (stack trace).</p>\n<ul>\n<li>Green color denotes Java stack trace;</li>\n<li>Yellow means VM stack trace.</li>\n</ul>\n<p>Note that each <code>java_lang_String::basic_create()</code> (and similar) allocates two objects: an instance of <code>java.lang.String</code> and its backing <code>char[]</code> array.</p>\n<p>The graph is produced by the following test program:</p>\n<pre><code>import one.profiler.AsyncProfiler;\n\npublic class ProfileHeapAlloc {\n\n    public static void main(String[] args) throws Exception {\n        AsyncProfiler profiler = AsyncProfiler.getInstance();\n\n        // Dry run to skip allocations caused by AsyncProfiler initialization\n        profiler.start(&quot;_ZN13SharedRuntime19dtrace_object_allocEP7oopDesci&quot;, 0);\n        profiler.stop();\n\n        // Real profiling session\n        profiler.start(&quot;_ZN13SharedRuntime19dtrace_object_allocEP7oopDesci&quot;, 0);\n\n        new Long(0);\n\n        profiler.stop();\n        profiler.execute(&quot;file=alloc.svg&quot;);\n    }\n}\n</code></pre>\n<p>How to run:</p>\n<pre><code>java -Djava.library.path=/path/to/async-profiler -XX:+DTraceAllocProbes ProfileHeapAlloc\n</code></pre>\n<p>Here <code>_ZN13SharedRuntime19dtrace_object_allocEP7oopDesci</code> is the <a href=\"https://en.wikipedia.org/wiki/Name_mangling\" rel=\"nofollow noreferrer\">mangled name</a> for <code>SharedRuntime::dtrace_object_alloc()</code> function, which is called by JVM for every heap allocation whenever <code>DTraceAllocProbes</code> flag is on.</p>\n"}],"owner":{"account_id":5612189,"reputation":171,"user_id":4444561,"display_name":"coder.chenzhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59314953,"answer_count":1,"score":1,"last_activity_date":1667333803,"creation_date":1576173980,"question_id":59310446,"body_markdown":"I was trying to get the memory consumption of some code snippets. After some search, I realized that `ThreadMXBean.getThreadAllocatedBytes(long id)` can be used to achieve this. So I tested this method with the following code:\r\n```\r\n    ThreadMXBean threadMXBean = (ThreadMXBean) ManagementFactory.getThreadMXBean();\r\n    long id = Thread.currentThread().getId();\r\n//      new Long(0);\r\n    long beforeMemUsage = threadMXBean.getThreadAllocatedBytes(id);\r\n    long afterMemUsage = 0;\r\n\r\n    {\r\n        // put the code you want to measure here\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            new Long(i);\r\n        }\r\n    }\r\n\r\n    afterMemUsage = threadMXBean.getThreadAllocatedBytes(id);\r\n    System.out.println(afterMemUsage - beforeMemUsage);\r\n```\r\nI run this code with different iteration times in for loop (0, 1, 10, 20, and 30). And the result as follows:\r\n```\r\n0 Long:\t48 bytes\r\n1 Long:\t456 bytes\r\n10 Long:\t672 bytes\r\n20 Long:\t912 bytes\r\n30 Long:\t1152 bytes\r\n```\r\nThe differences between 1 and 10, 10 and 20, as well as 20 and 30 are easy to explain, because the size of Long object is 24 bytes. But I was confused by the huge difference between 0 and 1.\r\nActually, I guessed this is caused by the class loading. So I uncommented the 3rd line code and the result as follows:\r\n```\r\n0 Long:\t48 bytes\r\n1 Long:\t72 bytes\r\n10 Long:\t288 bytes\r\n20 Long:\t528 bytes\r\n30 Long:\t768 bytes\r\n``` \r\nIt seems that my guess is confirmed by the result. However, in my opinion, the information of class structure is stored in Method Area, which is not a part of heap memory. As the Javadoc of [ThreadMXBean.getThreadAllocatedBytes(long id)](https://docs.oracle.com/javase/8/docs/jre/api/management/extension/com/sun/management/ThreadMXBean.html#getThreadAllocatedBytes-long-) indicates, it returns `the total amount of memory allocated in heap memory`. Have I missed something?\r\n\r\nThe tested JVM version is:\r\n```\r\njava version &quot;1.8.0_131&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n```\r\n\r\nThanks!  \r\n","title":"What JVM runtime data area are included in ThreadMXBean.getThreadAllocatedBytes(long id)","body":"<p>I was trying to get the memory consumption of some code snippets. After some search, I realized that <code>ThreadMXBean.getThreadAllocatedBytes(long id)</code> can be used to achieve this. So I tested this method with the following code:</p>\n\n<pre><code>    ThreadMXBean threadMXBean = (ThreadMXBean) ManagementFactory.getThreadMXBean();\n    long id = Thread.currentThread().getId();\n//      new Long(0);\n    long beforeMemUsage = threadMXBean.getThreadAllocatedBytes(id);\n    long afterMemUsage = 0;\n\n    {\n        // put the code you want to measure here\n        for (int i = 0; i &lt; 10; i++) {\n            new Long(i);\n        }\n    }\n\n    afterMemUsage = threadMXBean.getThreadAllocatedBytes(id);\n    System.out.println(afterMemUsage - beforeMemUsage);\n</code></pre>\n\n<p>I run this code with different iteration times in for loop (0, 1, 10, 20, and 30). And the result as follows:</p>\n\n<pre><code>0 Long: 48 bytes\n1 Long: 456 bytes\n10 Long:    672 bytes\n20 Long:    912 bytes\n30 Long:    1152 bytes\n</code></pre>\n\n<p>The differences between 1 and 10, 10 and 20, as well as 20 and 30 are easy to explain, because the size of Long object is 24 bytes. But I was confused by the huge difference between 0 and 1.\nActually, I guessed this is caused by the class loading. So I uncommented the 3rd line code and the result as follows:</p>\n\n<pre><code>0 Long: 48 bytes\n1 Long: 72 bytes\n10 Long:    288 bytes\n20 Long:    528 bytes\n30 Long:    768 bytes\n</code></pre>\n\n<p>It seems that my guess is confirmed by the result. However, in my opinion, the information of class structure is stored in Method Area, which is not a part of heap memory. As the Javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/jre/api/management/extension/com/sun/management/ThreadMXBean.html#getThreadAllocatedBytes-long-\" rel=\"nofollow noreferrer\">ThreadMXBean.getThreadAllocatedBytes(long id)</a> indicates, it returns <code>the total amount of memory allocated in heap memory</code>. Have I missed something?</p>\n\n<p>The tested JVM version is:</p>\n\n<pre><code>java version \"1.8.0_131\"\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\n</code></pre>\n\n<p>Thanks!  </p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"score":0,"creation_date":1496425026,"post_id":44333286,"comment_id":75672902,"body_markdown":"A java.lang.Class has java.lang.Fields, so why wouldn&#39;t there be Field instances? Hashtable is used a lot internally in places you wouldn&#39;t inutitively expect it. Since the program is so simple, the garbage collector probably hasn&#39;t even run once, so you see *every* single object created during VM startup.","body":"A java.lang.Class has java.lang.Fields, so why wouldn&#39;t there be Field instances? Hashtable is used a lot internally in places you wouldn&#39;t inutitively expect it. Since the program is so simple, the garbage collector probably hasn&#39;t even run once, so you see <i>every</i> single object created during VM startup."}],"answers":[{"comments":[{"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":0,"creation_date":1496426985,"post_id":44334945,"comment_id":75673924,"body_markdown":"Thanks. Isn&#39;t Hashtable outdated dozens of years ago :)? I wonder why it is still used?","body":"Thanks. Isn&#39;t Hashtable outdated dozens of years ago :)? I wonder why it is still used?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1496427894,"post_id":44334945,"comment_id":75674350,"body_markdown":"That’s compatibility. `System.getProperties()` has been declared with a return type of `java.util.Properties`, which is a subclass of `java.util.Hashtable`. Neither, the return type nor the class hierarchy, can be changed without breaking backwards compatibility. It’s not the only place with such a legacy.","body":"That’s compatibility. <code>System.getProperties()</code> has been declared with a return type of <code>java.util.Properties</code>, which is a subclass of <code>java.util.Hashtable</code>. Neither, the return type nor the class hierarchy, can be changed without breaking backwards compatibility. It’s not the only place with such a legacy."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1496450964,"post_id":44334945,"comment_id":75682053,"body_markdown":"Your point about `jmap` is strange. Only client side of `jmap` is implemented in Java - it runs in a different process and does not affect classes loaded in the target JVM. On the target side it uses AttachListener / DiagnosticCommand APIs of HotSpot JVM. The code which collects and prints the class histogram is written in C++ and does not create a single Java object.","body":"Your point about <code>jmap</code> is strange. Only client side of <code>jmap</code> is implemented in Java - it runs in a different process and does not affect classes loaded in the target JVM. On the target side it uses AttachListener / DiagnosticCommand APIs of HotSpot JVM. The code which collects and prints the class histogram is written in C++ and does not create a single Java object."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1496463094,"post_id":44334945,"comment_id":75683740,"body_markdown":"The attach machinery starts an RMI thread to trigger the heapdump. But instead of causing a OOM you can also use local JMX into the HotSpot management bean to avoid the attach. Or you can run jmap on a system core file if you want to even avoid that.","body":"The attach machinery starts an RMI thread to trigger the heapdump. But instead of causing a OOM you can also use local JMX into the HotSpot management bean to avoid the attach. Or you can run jmap on a system core file if you want to even avoid that."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1496464611,"post_id":44334945,"comment_id":75683984,"body_markdown":"@eckes [Dynamic Attach Mechanism](https://stackoverflow.com/questions/26140182/running-jmap-getting-unable-to-open-socket-file/35963059#35963059) is a built-in JVM feature, it has nothing to do with RMI.","body":"@eckes <a href=\"https://stackoverflow.com/questions/26140182/running-jmap-getting-unable-to-open-socket-file/35963059#35963059\">Dynamic Attach Mechanism</a> is a built-in JVM feature, it has nothing to do with RMI."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1496478164,"post_id":44334945,"comment_id":75686790,"body_markdown":"Yes attach API is VM native, but it can be used to load Java agents (and start the JMX RMIConnector like `jcmd &lt;pid&gt; ManagementAgent.start_local`). But you are right `jstack` does not do that. (Must have confused it with `jvisualvm` which does it for displaying the stats). BTW when `jstack -F` or mixed stacks with `-m` are requested `jstack` will use the SA service agent not the VM method (but that does not load classes either).","body":"Yes attach API is VM native, but it can be used to load Java agents (and start the JMX RMIConnector like <code>jcmd &lt;pid&gt; ManagementAgent.start_local</code>). But you are right <code>jstack</code> does not do that. (Must have confused it with <code>jvisualvm</code> which does it for displaying the stats). BTW when <code>jstack -F</code> or mixed stacks with <code>-m</code> are requested <code>jstack</code> will use the SA service agent not the VM method (but that does not load classes either)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1496738699,"post_id":44334945,"comment_id":75770466,"body_markdown":"@apangin: I used JVisualVM for getting a heap dump and know for sure that it loads a JMX agent on the target side. Since the dump stats looked identical, I assumed that `jmap` does similar. But I also mentioned the possible side effect of a garbage collection on the result, e.g. that the many `Field` instances are gone. Your graphic is great, but it doesn’t help me much finding out where these &gt;8000 `Field` instances came from…","body":"@apangin: I used JVisualVM for getting a heap dump and know for sure that it loads a JMX agent on the target side. Since the dump stats looked identical, I assumed that <code>jmap</code> does similar. But I also mentioned the possible side effect of a garbage collection on the result, e.g. that the many <code>Field</code> instances are gone. Your graphic is great, but it doesn’t help me much finding out where these &gt;8000 <code>Field</code> instances came from…"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1496738834,"post_id":44334945,"comment_id":75770554,"body_markdown":"@eckes: I can avoid the attach by using a local JMX bean, but that may still load JMX related classes which weren’t loaded in an ordinary startup. By the way, you’re mixing up `jmap` and `jstack`.","body":"@eckes: I can avoid the attach by using a local JMX bean, but that may still load JMX related classes which weren’t loaded in an ordinary startup. By the way, you’re mixing up <code>jmap</code> and <code>jstack</code>."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1496879471,"post_id":44334945,"comment_id":75847459,"body_markdown":"@Holger &gt;8000 bytes, not instances. There are only ~100 instances of `Field`, and all their origins do present in the flamegraph (look for `java.lang.Class.privateGetDeclaredFields`). Here is a [text source](https://gist.githubusercontent.com/apangin/543f365dde05df0085083e82a3284866/raw/acc8ab3bc4d64a96999f80bf85e9216ae2550f99/SampleFlamegraph.txt) of the flamegraph for convenience.","body":"@Holger &gt;8000 bytes, not instances. There are only ~100 instances of <code>Field</code>, and all their origins do present in the flamegraph (look for <code>java.lang.Class.privateGetDeclaredFields</code>). Here is a <a href=\"https://gist.githubusercontent.com/apangin/543f365dde05df0085083e82a3284866/raw/acc8ab3bc4d64a96999f80bf85e9216ae2550f99/SampleFlamegraph.txt\" rel=\"nofollow noreferrer\">text source</a> of the flamegraph for convenience."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1496913676,"post_id":44334945,"comment_id":75860785,"body_markdown":"@apangin: right, &gt;100, not &gt;8000 instance. I knew that before I wrote the comment, but got confused while writing. Thanks for the correction and for the text source.","body":"@apangin: right, &gt;100, not &gt;8000 instance. I knew that before I wrote the comment, but got confused while writing. Thanks for the correction and for the text source."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":10,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496739854,"creation_date":1496426595,"answer_id":44334945,"question_id":44333286,"body_markdown":"There are a lot of maintenance data structures. E.g. every initialized JVM has these [system properties](https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getProperties--), which is a subtype of `Hashtable`, hence, explains the `Hashtable.Entry` instances.\r\n\r\nAlso, core classes like `java.lang.Character` know the Unicode properties of all characters, also, you see `Locale`-specific classes in you stats, as these have to be properly initialized at startup. What makes these examples so interesting, is, that they are loading these information from files or embedded resources, so their initialization involves I/O and caching mechanisms, whose artifacts you see in your output.\r\n\r\nAlso, other objects created during the startup process might not have been garbage collected yet. There are a lot of operations, like processing the class path and the jar files specified by it or parsing the command line options, which are more complex than the “Hello&#160;World” program that will be executed at the end. Mind that you can create a heap dump instead of just a histogram, so you can see who is holding a reference to the existing objects.\r\n","title":"Why does my Oracle JVM create all these objects for a simple &#39;Hello World&#39; program?","body":"<p>There are a lot of maintenance data structures. E.g. every initialized JVM has these <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getProperties--\" rel=\"nofollow noreferrer\">system properties</a>, which is a subtype of <code>Hashtable</code>, hence, explains the <code>Hashtable.Entry</code> instances.</p>\n\n<p>Also, core classes like <code>java.lang.Character</code> know the Unicode properties of all characters, also, you see <code>Locale</code>-specific classes in you stats, as these have to be properly initialized at startup. What makes these examples so interesting, is, that they are loading these information from files or embedded resources, so their initialization involves I/O and caching mechanisms, whose artifacts you see in your output.</p>\n\n<p>Also, other objects created during the startup process might not have been garbage collected yet. There are a lot of operations, like processing the class path and the jar files specified by it or parsing the command line options, which are more complex than the “Hello World” program that will be executed at the end. Mind that you can create a heap dump instead of just a histogram, so you can see who is holding a reference to the existing objects.</p>\n"},{"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":2,"creation_date":1496478265,"post_id":44340119,"comment_id":75686817,"body_markdown":"Wow this is a cool histogram. A bit less informative (but still gives some glue about cause by observing order) is to use `-verbose:class`.","body":"Wow this is a cool histogram. A bit less informative (but still gives some glue about cause by observing order) is to use <code>-verbose:class</code>."},{"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":0,"creation_date":1496479436,"post_id":44340119,"comment_id":75687089,"body_markdown":"Thanks again! This answer is much better.","body":"Thanks again! This answer is much better."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":1,"creation_date":1497455255,"post_id":44340119,"comment_id":76089267,"body_markdown":"BTW: I think one reason why the Field constructor does not show up in the ByteCode traces is because they are generated in native code by Class#getDeclaredFields0().","body":"BTW: I think one reason why the Field constructor does not show up in the ByteCode traces is because they are generated in native code by Class#getDeclaredFields0()."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1497455514,"post_id":44340119,"comment_id":76089431,"body_markdown":"@eckes This is true. Objects allocated internally by JVM can be traced using JVM TI  [VMObjectAlloc](http://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html#VMObjectAlloc) event. I&#39;ve omitted this for simplicity, since `getDeclaredFields0` already gives an idea where those objects come from.","body":"@eckes This is true. Objects allocated internally by JVM can be traced using JVM TI  <a href=\"http://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html#VMObjectAlloc\" rel=\"nofollow noreferrer\">VMObjectAlloc</a> event. I&#39;ve omitted this for simplicity, since <code>getDeclaredFields0</code> already gives an idea where those objects come from."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1497455626,"post_id":44340119,"comment_id":76089521,"body_markdown":"I&#39;ve summarized the ways to trace object allocation in [this answer](https://stackoverflow.com/questions/35924300/how-to-intercept-object-creation-in-java-lower-than-user-class-level/35927613#35927613).","body":"I&#39;ve summarized the ways to trace object allocation in <a href=\"https://stackoverflow.com/questions/35924300/how-to-intercept-object-creation-in-java-lower-than-user-class-level/35927613#35927613\">this answer</a>."}],"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":5,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1667333423,"creation_date":1496462656,"answer_id":44340119,"question_id":44333286,"body_markdown":"You can find the answer yourself by running the application with `-XX:+TraceBytecodes` flag.  \r\nThis flag is available in [debug builds of HotSpot JVM](https://stackoverflow.com/questions/40257504/trace-java-bytecode-stream/40296353#40296353).\r\n\r\nHere is the detailed Flame Graph (clickable SVG) showing the stack traces where the allocated objects come from.\r\n\r\n[![JDK start-up allocation](https://i.stack.imgur.com/c9wHy.png)](https://profiler.tools/misc/jdk-startup-alloc.svg)\r\n\r\nIn my case the main sources of start-up allocations were\r\n\r\n - URLClassLoader and Extension ClassLoader\r\n - Locale cache\r\n - UsageTrackerClient\r\n - [MetaIndex registry](http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/5b86f66575b7/src/share/classes/sun/misc/MetaIndex.java#l38)\r\n - System Properties\r\n - Charset initialization\r\n\r\nP.S. [The script](https://gist.github.com/apangin/543f365dde05df0085083e82a3284866) used to generate the [Flame Graph](https://github.com/brendangregg/FlameGraph) from TraceBytecodes output.","title":"Why does my Oracle JVM create all these objects for a simple &#39;Hello World&#39; program?","body":"<p>You can find the answer yourself by running the application with <code>-XX:+TraceBytecodes</code> flag.<br />\nThis flag is available in <a href=\"https://stackoverflow.com/questions/40257504/trace-java-bytecode-stream/40296353#40296353\">debug builds of HotSpot JVM</a>.</p>\n<p>Here is the detailed Flame Graph (clickable SVG) showing the stack traces where the allocated objects come from.</p>\n<p><a href=\"https://profiler.tools/misc/jdk-startup-alloc.svg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c9wHy.png\" alt=\"JDK start-up allocation\" /></a></p>\n<p>In my case the main sources of start-up allocations were</p>\n<ul>\n<li>URLClassLoader and Extension ClassLoader</li>\n<li>Locale cache</li>\n<li>UsageTrackerClient</li>\n<li><a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/5b86f66575b7/src/share/classes/sun/misc/MetaIndex.java#l38\" rel=\"nofollow noreferrer\">MetaIndex registry</a></li>\n<li>System Properties</li>\n<li>Charset initialization</li>\n</ul>\n<p>P.S. <a href=\"https://gist.github.com/apangin/543f365dde05df0085083e82a3284866\" rel=\"nofollow noreferrer\">The script</a> used to generate the <a href=\"https://github.com/brendangregg/FlameGraph\" rel=\"nofollow noreferrer\">Flame Graph</a> from TraceBytecodes output.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1496913928,"post_id":44397441,"comment_id":75860966,"body_markdown":"That’s indeed very interesting. Perhaps, it is connected to the fact that it only reports 32 `java.lang.Class` instances instead of &gt;400…","body":"That’s indeed very interesting. Perhaps, it is connected to the fact that it only reports 32 <code>java.lang.Class</code> instances instead of &gt;400…"},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1497454987,"post_id":44397441,"comment_id":76089077,"body_markdown":"Started Thread here: http://mail.openjdk.java.net/pipermail/serviceability-dev/2017-June/021413.html","body":"Started Thread here: <a href=\"http://mail.openjdk.java.net/pipermail/serviceability-dev/2017-June/021413.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/serviceability-dev/2017-June&zwnj;&#8203;/&hellip;</a>"}],"tags":[],"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497455232,"creation_date":1496774113,"answer_id":44397441,"question_id":44333286,"body_markdown":"**Checking if tools load additional classes**\r\n\r\nI tried the following program:\r\n\r\n    package test;\r\n    public class MainSleep {\r\n        public static void main(String[] args) throws InterruptedException {\r\n            synchronized (MainSleep.class) {\r\n                MainSleep.class.wait(5*1000);\r\n            }\r\n        }\r\n    }\r\n\r\nWhen I run it with:\r\n\r\n    &quot;c:\\Program Files\\Java\\jdk1.8.0_131\\bin\\java&quot; \\\r\n      -verbose:class -cp target\\classes test.MainSleep\r\n\r\nI get verbose class loading messages, then a 5 sec pause and then the shutdown does load even more classes:\r\n\r\n    ...\r\n    [Loaded sun.misc.PerfCounter from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded sun.misc.Perf$GetPerfAction from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded sun.misc.Perf from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded sun.misc.PerfCounter$CoreCounters from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded sun.nio.ch.DirectBuffer from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.nio.MappedByteBuffer from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.nio.DirectByteBuffer from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.nio.LongBuffer from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.nio.DirectLongBufferU from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.security.PermissionCollection from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.security.Permissions from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.net.URLConnection from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded sun.net.www.URLConnection from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded sun.net.www.protocol.file.FileURLConnection from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded sun.net.www.MessageHeader from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.io.FilePermission from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.io.FilePermission$1 from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.io.FilePermissionCollection from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.security.AllPermission from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.security.UnresolvedPermission from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.security.BasicPermissionCollection from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded test.MainSleep from file:/D:/ws/BIS65/test-java8/target/classes/]\r\n    [Loaded sun.launcher.LauncherHelper$FXHelper from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.lang.Class$MethodArray from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.lang.Void from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    ...\r\n    [Loaded java.lang.Shutdown from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n    [Loaded java.lang.Shutdown$Lock from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\r\n\r\nSo this would be the baseline. When I now use `jstack` or `jmap` on that file and check for verbose class loading messages I can see if it introduces new classes (not sure about instances of course).\r\n\r\nWith `jstack -l` and `jstack`, the following additional one class is loaded:\r\n\r\n    [Loaded java.lang.Class$MethodArray from\r\n    [Loaded java.lang.Void from\r\n    [Loaded java.util.concurrent.locks.AbstractOwnableSynchronizer ...\r\n    [Loaded java.lang.Shutdown from\r\n    [Loaded java.lang.Shutdown$Lock from\r\n\r\nWith `jstack -F` or `jstack -m` no(!) additional class is loaded:\r\n\r\n    [Loaded java.lang.Class$MethodArray from\r\n    [Loaded java.lang.Void from\r\n    [Loaded java.lang.Shutdown from\r\n    [Loaded java.lang.Shutdown$Lock from\r\n\r\nNone of `jmap` `-clstat`,`-finalizerinfo`,`-heap`, `-histo` or `-histo:live` loaded additional classes:\r\n\r\n    [Loaded java.lang.Class$MethodArray from\r\n    [Loaded java.lang.Void from\r\n    [Loaded java.lang.Shutdown from\r\n    [Loaded java.lang.Shutdown$Lock from\r\n\r\nThe same is true for `jmap -dump:format=b,file=ignore.hprof` with and without the -F option as well as with and without the `live` flag.\r\n\r\nJust for completeness, if I use *jvisualvm* or *jconsole* it will always trigger a lot of JMX class loads for thread, heap and application snapshots. Most likely because it always opens the dashboard for the process.\r\n\r\n**Exploring Heap Content**\r\n\r\nSo now that we have established this I took a look at the `jmap -dump:format=b` (non-live, non-forced) heap dump with MAT, looking for the Fields you have been interested in:\r\n\r\nThe MAT **unreachable objects histogram** (which shows instances found in the heap but not connected to any GC root, which is basically all not-yet collected garbage) has 3038 objects, and the top 10:\r\n\r\n    Class Name                               | Objects | Shallow Heap\r\n    ------------------------------------------------------------------\r\n    char[]                                   |   1.026 |      113.848\r\n    java.lang.String                         |     599 |       14.376\r\n    int[]                                    |     423 |        7.664\r\n    java.lang.Object[]                       |     220 |       14.192\r\n    java.lang.StringBuilder                  |     137 |        3.288\r\n    java.lang.reflect.Field                  |     115 |        8.280\r\n    java.lang.ProcessEnvironment$CheckedEntry|      66 |        1.056\r\n    java.io.File                             |      59 |        1.888\r\n    java.lang.Class                          |      32 |            0\r\n    java.lang.StringBuffer                   |      30 |          720\r\n\r\nThere is currently no single live `Field` instance visible with MAT and only very limited of `Class` instances. This looks much like a .hprof or MAT problem: the Class instances seems to not show any of their fields in the heap dump. I think they should be softly(!) referenced by `Class#reflectionData : SoftReference&lt;ReflectionData&lt;T&gt;&gt;`, but I think this should be visible in the heap dump and not losing 115 fields. (There is no `Class$ReflectionData` in the live heap and 14 `Class$ReflectionData` in the unreachable histo. That can fit well with 115 Fields.\r\n\r\n*(I guess I will check back with Serviceability-dev@openjdk on that. This does not fit in a comment, so this is an incomplete answer but I intend to enhance it).*","title":"Why does my Oracle JVM create all these objects for a simple &#39;Hello World&#39; program?","body":"<p><strong>Checking if tools load additional classes</strong></p>\n\n<p>I tried the following program:</p>\n\n<pre><code>package test;\npublic class MainSleep {\n    public static void main(String[] args) throws InterruptedException {\n        synchronized (MainSleep.class) {\n            MainSleep.class.wait(5*1000);\n        }\n    }\n}\n</code></pre>\n\n<p>When I run it with:</p>\n\n<pre><code>\"c:\\Program Files\\Java\\jdk1.8.0_131\\bin\\java\" \\\n  -verbose:class -cp target\\classes test.MainSleep\n</code></pre>\n\n<p>I get verbose class loading messages, then a 5 sec pause and then the shutdown does load even more classes:</p>\n\n<pre><code>...\n[Loaded sun.misc.PerfCounter from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded sun.misc.Perf$GetPerfAction from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded sun.misc.Perf from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded sun.misc.PerfCounter$CoreCounters from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded sun.nio.ch.DirectBuffer from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.nio.MappedByteBuffer from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.nio.DirectByteBuffer from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.nio.LongBuffer from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.nio.DirectLongBufferU from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.security.PermissionCollection from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.security.Permissions from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.net.URLConnection from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded sun.net.www.URLConnection from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded sun.net.www.protocol.file.FileURLConnection from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded sun.net.www.MessageHeader from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.io.FilePermission from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.io.FilePermission$1 from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.io.FilePermissionCollection from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.security.AllPermission from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.security.UnresolvedPermission from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.security.BasicPermissionCollection from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded test.MainSleep from file:/D:/ws/BIS65/test-java8/target/classes/]\n[Loaded sun.launcher.LauncherHelper$FXHelper from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.lang.Class$MethodArray from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.lang.Void from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n...\n[Loaded java.lang.Shutdown from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n[Loaded java.lang.Shutdown$Lock from c:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar]\n</code></pre>\n\n<p>So this would be the baseline. When I now use <code>jstack</code> or <code>jmap</code> on that file and check for verbose class loading messages I can see if it introduces new classes (not sure about instances of course).</p>\n\n<p>With <code>jstack -l</code> and <code>jstack</code>, the following additional one class is loaded:</p>\n\n<pre><code>[Loaded java.lang.Class$MethodArray from\n[Loaded java.lang.Void from\n[Loaded java.util.concurrent.locks.AbstractOwnableSynchronizer ...\n[Loaded java.lang.Shutdown from\n[Loaded java.lang.Shutdown$Lock from\n</code></pre>\n\n<p>With <code>jstack -F</code> or <code>jstack -m</code> no(!) additional class is loaded:</p>\n\n<pre><code>[Loaded java.lang.Class$MethodArray from\n[Loaded java.lang.Void from\n[Loaded java.lang.Shutdown from\n[Loaded java.lang.Shutdown$Lock from\n</code></pre>\n\n<p>None of <code>jmap</code> <code>-clstat</code>,<code>-finalizerinfo</code>,<code>-heap</code>, <code>-histo</code> or <code>-histo:live</code> loaded additional classes:</p>\n\n<pre><code>[Loaded java.lang.Class$MethodArray from\n[Loaded java.lang.Void from\n[Loaded java.lang.Shutdown from\n[Loaded java.lang.Shutdown$Lock from\n</code></pre>\n\n<p>The same is true for <code>jmap -dump:format=b,file=ignore.hprof</code> with and without the -F option as well as with and without the <code>live</code> flag.</p>\n\n<p>Just for completeness, if I use <em>jvisualvm</em> or <em>jconsole</em> it will always trigger a lot of JMX class loads for thread, heap and application snapshots. Most likely because it always opens the dashboard for the process.</p>\n\n<p><strong>Exploring Heap Content</strong></p>\n\n<p>So now that we have established this I took a look at the <code>jmap -dump:format=b</code> (non-live, non-forced) heap dump with MAT, looking for the Fields you have been interested in:</p>\n\n<p>The MAT <strong>unreachable objects histogram</strong> (which shows instances found in the heap but not connected to any GC root, which is basically all not-yet collected garbage) has 3038 objects, and the top 10:</p>\n\n<pre><code>Class Name                               | Objects | Shallow Heap\n------------------------------------------------------------------\nchar[]                                   |   1.026 |      113.848\njava.lang.String                         |     599 |       14.376\nint[]                                    |     423 |        7.664\njava.lang.Object[]                       |     220 |       14.192\njava.lang.StringBuilder                  |     137 |        3.288\njava.lang.reflect.Field                  |     115 |        8.280\njava.lang.ProcessEnvironment$CheckedEntry|      66 |        1.056\njava.io.File                             |      59 |        1.888\njava.lang.Class                          |      32 |            0\njava.lang.StringBuffer                   |      30 |          720\n</code></pre>\n\n<p>There is currently no single live <code>Field</code> instance visible with MAT and only very limited of <code>Class</code> instances. This looks much like a .hprof or MAT problem: the Class instances seems to not show any of their fields in the heap dump. I think they should be softly(!) referenced by <code>Class#reflectionData : SoftReference&lt;ReflectionData&lt;T&gt;&gt;</code>, but I think this should be visible in the heap dump and not losing 115 fields. (There is no <code>Class$ReflectionData</code> in the live heap and 14 <code>Class$ReflectionData</code> in the unreachable histo. That can fit well with 115 Fields.</p>\n\n<p><em>(I guess I will check back with Serviceability-dev@openjdk on that. This does not fit in a comment, so this is an incomplete answer but I intend to enhance it).</em></p>\n"}],"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1113,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"accepted_answer_id":44340119,"answer_count":3,"score":9,"last_activity_date":1667333423,"creation_date":1496419971,"question_id":44333286,"body_markdown":"I was playing around with `jmap` and found that simple &quot;Hello World&quot; Java program creates thousands of objects. Here is truncated list of objects **Oracle JVM update 131** creates on startup: \r\n\r\n     num     #instances         #bytes  class name\r\n    ----------------------------------------------\r\n       1:           402        4903520  [I\r\n       2:          1621         158344  [C\r\n       3:           455          52056  java.lang.Class\r\n       4:           194          49728  [B\r\n       5:          1263          30312  java.lang.String\r\n       6:           515          26088  [Ljava.lang.Object;\r\n       7:           115           8280  java.lang.reflect.Field\r\n       8:           258           4128  java.lang.Integer\r\n       9:            94           3760  java.lang.ref.SoftReference\r\n      10:           116           3712  java.util.Hashtable$Entry\r\n      11:           126           3024  java.lang.StringBuilder\r\n      12:             8           3008  java.lang.Thread\r\n      13:            74           2576  [Ljava.lang.String;\r\n      14:            61           1952  java.io.File\r\n      15:            38           1824  sun.util.locale.LocaleObjectCache$CacheEntry\r\n      16:            12           1760  [Ljava.util.Hashtable$Entry;\r\n      17:            53           1696  java.util.concurrent.ConcurrentHashMap$Node\r\n      18:            23           1472  java.net.URL\r\n      19:            14           1120  [S\r\n      20:             2           1064  [Ljava.lang.invoke.MethodHandle;\r\n      21:             1           1040  [Ljava.lang.Integer;\r\n      22:            26           1040  java.io.ObjectStreamField\r\n      23:            12           1024  [Ljava.util.HashMap$Node;\r\n      24:            30            960  java.util.HashMap$Node\r\n      25:            20            800  sun.util.locale.BaseLocale$Key\r\n\r\nI know that the JVM loads classes from JAR files and expect to see `java.lang.Class`, `java.lang.String` and `[Ljava.lang.Object`. 258 `java.lang.Integer` objects are clear tp me too: this is the `Integer` cache.\r\n\r\nBut `java.lang.reflect.Field`? `Hashtable`? Many `StringBuilder`s? `java.util.concurrent.ConcurrentHashMap`? Where does this come from?\r\n\r\nThe program is pretty simple: \r\n\r\n    public class Test {\r\n        public static void main(String[] args) throws IOException {\r\n            System.out.println(&quot;Hello world&quot;);\r\n            System.in.read();\r\n        }\r\n    }\r\n\r\n\r\nJVM details:\r\n\r\n    java version &quot;1.8.0_131&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n\r\nUbuntu 16.04.\r\n\r\n","title":"Why does my Oracle JVM create all these objects for a simple &#39;Hello World&#39; program?","body":"<p>I was playing around with <code>jmap</code> and found that simple \"Hello World\" Java program creates thousands of objects. Here is truncated list of objects <strong>Oracle JVM update 131</strong> creates on startup: </p>\n\n<pre><code> num     #instances         #bytes  class name\n----------------------------------------------\n   1:           402        4903520  [I\n   2:          1621         158344  [C\n   3:           455          52056  java.lang.Class\n   4:           194          49728  [B\n   5:          1263          30312  java.lang.String\n   6:           515          26088  [Ljava.lang.Object;\n   7:           115           8280  java.lang.reflect.Field\n   8:           258           4128  java.lang.Integer\n   9:            94           3760  java.lang.ref.SoftReference\n  10:           116           3712  java.util.Hashtable$Entry\n  11:           126           3024  java.lang.StringBuilder\n  12:             8           3008  java.lang.Thread\n  13:            74           2576  [Ljava.lang.String;\n  14:            61           1952  java.io.File\n  15:            38           1824  sun.util.locale.LocaleObjectCache$CacheEntry\n  16:            12           1760  [Ljava.util.Hashtable$Entry;\n  17:            53           1696  java.util.concurrent.ConcurrentHashMap$Node\n  18:            23           1472  java.net.URL\n  19:            14           1120  [S\n  20:             2           1064  [Ljava.lang.invoke.MethodHandle;\n  21:             1           1040  [Ljava.lang.Integer;\n  22:            26           1040  java.io.ObjectStreamField\n  23:            12           1024  [Ljava.util.HashMap$Node;\n  24:            30            960  java.util.HashMap$Node\n  25:            20            800  sun.util.locale.BaseLocale$Key\n</code></pre>\n\n<p>I know that the JVM loads classes from JAR files and expect to see <code>java.lang.Class</code>, <code>java.lang.String</code> and <code>[Ljava.lang.Object</code>. 258 <code>java.lang.Integer</code> objects are clear tp me too: this is the <code>Integer</code> cache.</p>\n\n<p>But <code>java.lang.reflect.Field</code>? <code>Hashtable</code>? Many <code>StringBuilder</code>s? <code>java.util.concurrent.ConcurrentHashMap</code>? Where does this come from?</p>\n\n<p>The program is pretty simple: </p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) throws IOException {\n        System.out.println(\"Hello world\");\n        System.in.read();\n    }\n}\n</code></pre>\n\n<p>JVM details:</p>\n\n<pre><code>java version \"1.8.0_131\"\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\n</code></pre>\n\n<p>Ubuntu 16.04.</p>\n"},{"tags":["javascript","java","base64","filereader"],"comments":[{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":1,"creation_date":1547338186,"post_id":54164988,"comment_id":95159674,"body_markdown":"Why are you doing `bytes.split(&quot;,&quot;)[1]`? Add what is the value of `bytes` and `type` when received in Java.","body":"Why are you doing <code>bytes.split(&quot;,&quot;)[1]</code>? Add what is the value of <code>bytes</code> and <code>type</code> when received in Java."},{"owner":{"account_id":218795,"reputation":1412,"user_id":8327733,"display_name":"duc mai"},"score":0,"creation_date":1547338233,"post_id":54164988,"comment_id":95159686,"body_markdown":"how do you know that your uploading files are base64 format?","body":"how do you know that your uploading files are base64 format?"},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1547338518,"post_id":54164988,"comment_id":95159739,"body_markdown":"@KarolDowbecki the `split()` is done to separate the `data:image/png;base64` part from the rest od the data, like seen in this image: https://imgur.com/a/aO9PMBz (also include the value for `type`).","body":"@KarolDowbecki the <code>split()</code> is done to separate the <code>data:image&#47;png;base64</code> part from the rest od the data, like seen in this image: <a href=\"https://imgur.com/a/aO9PMBz\" rel=\"nofollow noreferrer\">imgur.com/a/aO9PMBz</a> (also include the value for <code>type</code>)."},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1547338618,"post_id":54164988,"comment_id":95159751,"body_markdown":"@ducmai It is what `reader.readAsDataURL(file);` sends to the server, at least according to what I read about it.","body":"@ducmai It is what <code>reader.readAsDataURL(file);</code> sends to the server, at least according to what I read about it."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1547338620,"post_id":54164988,"comment_id":95159752,"body_markdown":"`x-www-form-urlencoded` sounds wrong (for binary data) ...and url- is *not* base encoded.","body":"<code>x-www-form-urlencoded</code> sounds wrong (for binary data) ...and url- is <i>not</i> base encoded."},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1547340616,"post_id":54164988,"comment_id":95160027,"body_markdown":"@xerx593 if I remove the `x-www-form-urlencoded`, the error changes to missing required parameter `bytes`. And what you mean about url is not encoded? url is currently set up to `/imagem/upload` mapped in my controller to receive POST requests with 2 parameters (bytes and type). Only bytes is Base64 encoded.","body":"@xerx593 if I remove the <code>x-www-form-urlencoded</code>, the error changes to missing required parameter <code>bytes</code>. And what you mean about url is not encoded? url is currently set up to <code>&#47;imagem&#47;upload</code> mapped in my controller to receive POST requests with 2 parameters (bytes and type). Only bytes is Base64 encoded."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1547375700,"post_id":54164988,"comment_id":95165102,"body_markdown":"no, removing is not an option! :) (I thought about replacing with something more suitable...)...but the key point is, that your data leaves the client [&quot;url encoded&quot;](https://en.wikipedia.org/wiki/Percent-encoding) (whichever encoding the original data had) ... to restore the original data you have to &quot;url decode&quot; before (....you can base64-decode)","body":"no, removing is not an option! :) (I thought about replacing with something more suitable...)...but the key point is, that your data leaves the client <a href=\"https://en.wikipedia.org/wiki/Percent-encoding\" rel=\"nofollow noreferrer\">&quot;url encoded&quot;</a> (whichever encoding the original data had) ... to restore the original data you have to &quot;url decode&quot; before (....you can base64-decode)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1548080531,"post_id":54164988,"comment_id":95404381,"body_markdown":"`application/octet-stream` would be &quot;appropriate&quot; (content type) for a &quot;pure byte body&quot;, with `application/multipart` you can compose modular (multiple type) and more complex &quot;bodies&quot; (like email or fileupload ...or so..).","body":"<code>application&#47;octet-stream</code> would be &quot;appropriate&quot; (content type) for a &quot;pure byte body&quot;, with <code>application&#47;multipart</code> you can compose modular (multiple type) and more complex &quot;bodies&quot; (like email or fileupload ...or so..)."}],"answers":[{"comments":[{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1547338908,"post_id":54165051,"comment_id":95159784,"body_markdown":"This suppose to happen when `reader.readAsDataURL(file);` is called? Using `trim` or something is enough here?","body":"This suppose to happen when <code>reader.readAsDataURL(file);</code> is called? Using <code>trim</code> or something is enough here?"},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1547339052,"post_id":54165051,"comment_id":95159809,"body_markdown":"@KleberMota I think not, I don&#39;t know why there are spaces on your screenshot. Can you confirm using Developer Console or `console.log` that there are spaces there? You can try `bytes.split(&quot;,&quot;)[1].replaceAll(&quot; &quot;, &quot;&quot;)` to remove spaces in Java.","body":"@KleberMota I think not, I don&#39;t know why there are spaces on your screenshot. Can you confirm using Developer Console or <code>console.log</code> that there are spaces there? You can try <code>bytes.split(&quot;,&quot;)[1].replaceAll(&quot; &quot;, &quot;&quot;)</code> to remove spaces in Java."},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1547382782,"post_id":54165051,"comment_id":95166686,"body_markdown":"yes, there are spaces on the string. I already tried remove them in the javascript code (with `bytes.trim()`) and in the java code (with the way you described and with `bytes.split(&quot;,&quot;)[1].trim()`) and do not work. i think something is going wrong with the file reader process in the client side?","body":"yes, there are spaces on the string. I already tried remove them in the javascript code (with <code>bytes.trim()</code>) and in the java code (with the way you described and with <code>bytes.split(&quot;,&quot;)[1].trim()</code>) and do not work. i think something is going wrong with the file reader process in the client side?"}],"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1547339198,"creation_date":1547338384,"answer_id":54165051,"question_id":54164988,"body_markdown":"`Illegal base64 character 20` means that received value contained an invalid character not present in the [Base64 alphabet][1]. `20` is a space, because error message uses hex format. The data on your screenshot shows that there are spaces in the sent `bytes` value.\r\n\r\nAs per [this answer][2] you can use `reader.readAsBinaryString` and then `btoa` to convert file content to Base64 yourself.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Base64#Base64_table\r\n  [2]: https://stackoverflow.com/a/32531292/1602555","title":"Illegal base64 character","body":"<p><code>Illegal base64 character 20</code> means that received value contained an invalid character not present in the <a href=\"https://en.wikipedia.org/wiki/Base64#Base64_table\" rel=\"noreferrer\">Base64 alphabet</a>. <code>20</code> is a space, because error message uses hex format. The data on your screenshot shows that there are spaces in the sent <code>bytes</code> value.</p>\n\n<p>As per <a href=\"https://stackoverflow.com/a/32531292/1602555\">this answer</a> you can use <code>reader.readAsBinaryString</code> and then <code>btoa</code> to convert file content to Base64 yourself.</p>\n"},{"tags":[],"owner":{"account_id":7154506,"reputation":189,"user_id":5467450,"display_name":"kami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547339044,"creation_date":1547339044,"answer_id":54165101,"question_id":54164988,"body_markdown":"You can check working example of Base64 upload [here](https://github.com/mvkvl/image-uploader/blob/master/code/test-client/js_client.html) and [here](https://github.com/mvkvl/image-uploader/blob/master/code/upload-service/src/main/java/ws/slink/test/controllers/UploadController.java)\r\n\r\n**JS** (sends a list of files in Base64 encoding)\r\n```\r\n&lt;form id=&quot;jsonForm&quot;\r\n      class=&quot;form-inline&quot;\r\n      role=&quot;form&quot;&gt;\r\n        &lt;input id=&quot;jsonFiles&quot;\r\n               width=&quot;400px&quot;\r\n               type=&quot;file&quot;\r\n               class=&quot;form-control-file border&quot;\r\n               name=&quot;file&quot;\r\n               accept=&quot;image/gif, image/jpeg, image/png&quot;\r\n               multiple&gt;\r\n        &amp;nbsp;&lt;button type=&quot;button&quot; onclick=&quot;processJsonForm()&quot; class=&quot;btn-sm btn-outline-primary&quot;&gt;отправить&lt;/button&gt;\r\n&lt;/form&gt;\r\n\r\n\r\nfunction processJsonForm() {\r\n  if (window.File &amp;&amp; window.FileList &amp;&amp; window.FileReader) {\r\n    readJsonFiles(document.getElementById(&#39;jsonFiles&#39;).files, submitJsonForm);\r\n  } else {\r\n    alret(&quot;Your browser does not support File API&quot;);\r\n  }\r\n}\r\n\r\nfunction readJsonFiles(files, callback) {\r\n  var count = files.length;\r\n  var result = [];\r\n  for (i = 0; i &lt; files.length; i++) {\r\n    var file = files[i];\r\n    var picReader = new FileReader();\r\n    picReader.onload = (function(f) {\r\n      return function(event) {\r\n          var item = {};\r\n          item.name   = f.name;\r\n          item.type   = f.type;\r\n          item.base64 = event.target.result;\r\n          result.push(item);\r\n          if (!--count) callback(result);\r\n      }\r\n    })(file);\r\n    picReader.readAsDataURL(file);\r\n  }\r\n}\r\n\r\nfunction submitJsonForm(data) {\r\n  $.ajax({\r\n     url: baseURL,\r\n     type: &#39;POST&#39;,\r\n     data: JSON.stringify(data),\r\n     contentType: &#39;application/json; charset=UTF-8&#39;,\r\n     crossDomain: true,\r\n     headers: { &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39; },\r\n     success: function(data, status) {\r\n       $.alert(&quot;Sent URLs to server&lt;br&gt;&quot;  +\r\n               &quot;Response code: &quot; + status + &quot;&lt;br&gt;&quot; +\r\n               &quot;Server response: &quot; + data, {\r\n         autoClose: true,\r\n         closeTime: 10000,\r\n         type: &#39;success&#39;,\r\n         title: false,\r\n       });\r\n       // console.log(data);\r\n     },\r\n     error: function(data, status){\r\n       $.alert(data, &quot;error&quot;);\r\n       // console.log(data);\r\n     }\r\n  });\r\n}\r\n```\r\n\r\n**Java controller**\r\n```\r\n\r\n// here input arguments Base64EncodedImageJson have Base64 string in &#39;base64&#39; field\r\n\r\n\t@PostMapping(path = &quot;/upload&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\r\n\tpublic DeferredResult&lt;Collection&lt;ProcessingResult&gt;&gt; processJSON(@RequestBody Base64EncodedImageJson [] imagesEncoded) {\r\n\t\tlogger.debug(&quot;processing application/json request&quot;);\r\n\t\tDeferredResult&lt;Collection&lt;ProcessingResult&gt;&gt; deferredResult = new DeferredResult&lt;&gt;();\r\n\t\tCompletableFuture.supplyAsync( () -&gt; base64Uploader.upload(imagesEncoded))\r\n\t\t                 .whenComplete( (result, error) -&gt; {\r\n\t\t                \t deferredResult.setResult(result);\r\n\t\t                \t if (null != error) {\r\n\t\t                \t\t logger.error(&quot;ERROR: &quot; + error.getMessage());\r\n\t\t                \t }\r\n\t\t                 });\r\n\t\treturn deferredResult;\r\n\t}\r\n```","title":"Illegal base64 character","body":"<p>You can check working example of Base64 upload <a href=\"https://github.com/mvkvl/image-uploader/blob/master/code/test-client/js_client.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/mvkvl/image-uploader/blob/master/code/upload-service/src/main/java/ws/slink/test/controllers/UploadController.java\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p><strong>JS</strong> (sends a list of files in Base64 encoding)</p>\n\n<pre><code>&lt;form id=\"jsonForm\"\n      class=\"form-inline\"\n      role=\"form\"&gt;\n        &lt;input id=\"jsonFiles\"\n               width=\"400px\"\n               type=\"file\"\n               class=\"form-control-file border\"\n               name=\"file\"\n               accept=\"image/gif, image/jpeg, image/png\"\n               multiple&gt;\n        &amp;nbsp;&lt;button type=\"button\" onclick=\"processJsonForm()\" class=\"btn-sm btn-outline-primary\"&gt;отправить&lt;/button&gt;\n&lt;/form&gt;\n\n\nfunction processJsonForm() {\n  if (window.File &amp;&amp; window.FileList &amp;&amp; window.FileReader) {\n    readJsonFiles(document.getElementById('jsonFiles').files, submitJsonForm);\n  } else {\n    alret(\"Your browser does not support File API\");\n  }\n}\n\nfunction readJsonFiles(files, callback) {\n  var count = files.length;\n  var result = [];\n  for (i = 0; i &lt; files.length; i++) {\n    var file = files[i];\n    var picReader = new FileReader();\n    picReader.onload = (function(f) {\n      return function(event) {\n          var item = {};\n          item.name   = f.name;\n          item.type   = f.type;\n          item.base64 = event.target.result;\n          result.push(item);\n          if (!--count) callback(result);\n      }\n    })(file);\n    picReader.readAsDataURL(file);\n  }\n}\n\nfunction submitJsonForm(data) {\n  $.ajax({\n     url: baseURL,\n     type: 'POST',\n     data: JSON.stringify(data),\n     contentType: 'application/json; charset=UTF-8',\n     crossDomain: true,\n     headers: { 'Access-Control-Allow-Origin': '*' },\n     success: function(data, status) {\n       $.alert(\"Sent URLs to server&lt;br&gt;\"  +\n               \"Response code: \" + status + \"&lt;br&gt;\" +\n               \"Server response: \" + data, {\n         autoClose: true,\n         closeTime: 10000,\n         type: 'success',\n         title: false,\n       });\n       // console.log(data);\n     },\n     error: function(data, status){\n       $.alert(data, \"error\");\n       // console.log(data);\n     }\n  });\n}\n</code></pre>\n\n<p><strong>Java controller</strong></p>\n\n<pre><code>\n// here input arguments Base64EncodedImageJson have Base64 string in 'base64' field\n\n    @PostMapping(path = \"/upload\", consumes = \"application/json\", produces = \"application/json\")\n    public DeferredResult&lt;Collection&lt;ProcessingResult&gt;&gt; processJSON(@RequestBody Base64EncodedImageJson [] imagesEncoded) {\n        logger.debug(\"processing application/json request\");\n        DeferredResult&lt;Collection&lt;ProcessingResult&gt;&gt; deferredResult = new DeferredResult&lt;&gt;();\n        CompletableFuture.supplyAsync( () -&gt; base64Uploader.upload(imagesEncoded))\n                         .whenComplete( (result, error) -&gt; {\n                             deferredResult.setResult(result);\n                             if (null != error) {\n                                 logger.error(\"ERROR: \" + error.getMessage());\n                             }\n                         });\n        return deferredResult;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1547813170,"post_id":54249051,"comment_id":95331273,"body_markdown":"With the suggested code, I am getting the error &quot;required parameter &#39;bytes&#39; not present&quot;. I tried change `formData.append(&quot;image&quot;, file, name)` to `formData.append(&quot;bytes&quot;, file, name)` but i got the same error. Any idea how to fix that?","body":"With the suggested code, I am getting the error &quot;required parameter &#39;bytes&#39; not present&quot;. I tried change <code>formData.append(&quot;image&quot;, file, name)</code> to <code>formData.append(&quot;bytes&quot;, file, name)</code> but i got the same error. Any idea how to fix that?"},{"owner":{"account_id":6658383,"reputation":8312,"user_id":5138198,"display_name":"Alex Nikulin"},"score":0,"creation_date":1547813740,"post_id":54249051,"comment_id":95331536,"body_markdown":"at client or server side?","body":"at client or server side?"},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1547819749,"post_id":54249051,"comment_id":95334770,"body_markdown":"I am not sure. The client is not send the right parameter to the server, therefore the server is unable to execute the controller method which should handle this request from the client;","body":"I am not sure. The client is not send the right parameter to the server, therefore the server is unable to execute the controller method which should handle this request from the client;"},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1547819828,"post_id":54249051,"comment_id":95334820,"body_markdown":"But I think the message is triggered by the server, but due some failure on client in build the right request.","body":"But I think the message is triggered by the server, but due some failure on client in build the right request."},{"owner":{"account_id":6658383,"reputation":8312,"user_id":5138198,"display_name":"Alex Nikulin"},"score":0,"creation_date":1547819967,"post_id":54249051,"comment_id":95334912,"body_markdown":"You should server side controller definition, now you will receive file frim form, not base64.","body":"You should server side controller definition, now you will receive file frim form, not base64."},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1547858360,"post_id":54249051,"comment_id":95350342,"body_markdown":"When you mentioned server side controller definition, what do you mean? Use MultipartFile class?","body":"When you mentioned server side controller definition, what do you mean? Use MultipartFile class?"},{"owner":{"account_id":6658383,"reputation":8312,"user_id":5138198,"display_name":"Alex Nikulin"},"score":1,"creation_date":1547870813,"post_id":54249051,"comment_id":95351907,"body_markdown":"@KleberMota i mean change definition for receive file from form. You can see here https://stackoverflow.com/q/2422468/5138198","body":"@KleberMota i mean change definition for receive file from form. You can see here <a href=\"https://stackoverflow.com/q/2422468/5138198\">stackoverflow.com/q/2422468/5138198</a>"}],"tags":[],"owner":{"account_id":6658383,"reputation":8312,"user_id":5138198,"display_name":"Alex Nikulin"},"comment_count":7,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1667331825,"creation_date":1547794497,"answer_id":54249051,"question_id":54164988,"body_markdown":"Your code is strange. Why are you not doing it this way?: \r\n\r\n    function image_upload() {\r\n      var file_input = this;\r\n      var name = file_input.getAttribute(&quot;id&quot;);\r\n      var url = file_input.dataset.url;\r\n    \r\n      for(var i = 0; i&lt;this.files.length; i++) {\r\n        var file =  this.files[i];\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open(&quot;POST&quot;, url, true);\r\n        xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n        xhr.onreadystatechange = function() {\r\n            if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) {\r\n                var id = xhr.responseText;\r\n                var input = createElement(&quot;input&quot;);\r\n                input.setAttribute(&quot;type&quot;, &quot;hidden&quot;);\r\n                input.setAttribute(&quot;name&quot;, name);\r\n                input.setAttribute(&quot;value&quot;, id);\r\n                file_input.after(input);\r\n            }\r\n        };\r\n        var formData = new FormData();\r\n        formData.append(&quot;image&quot;, file, name) \r\n        xhr.send(formData)\r\n      }\r\n    }\r\n\r\n??\r\n\r\nAnd you don&#39;t need any base64\r\n\r\nOr more modern, this variant:\r\n\r\n       function image_upload() {\r\n    \t  let file_input = this;\r\n          let name = file_input.getAttribute(&quot;id&quot;);\r\n          let url = file_input.dataset.url;\r\n    \t  let uploads = Array.from(this.files).map((file) =&gt; {\r\n    \t\tvar formData  = new FormData();\r\n    \t\tformData.append(name, file, file.name);\r\n    \t\treturn fetch(url, {method: &#39;POST&#39;, body: formData}).then((response) =&gt; response.text()).then((id)=&gt;{  \r\n                   let input = document.createElement(&quot;input&quot;);\r\n                    input.setAttribute(&quot;type&quot;, &quot;hidden&quot;);\r\n                    input.setAttribute(&quot;name&quot;, name);\r\n                    input.setAttribute(&quot;value&quot;, id);\r\n                    file_input.after(input);\r\n              });\r\n    \t   });\r\n    \t   return uploads;\r\n    \t  }));\r\n    \t}\r\n\r\n","title":"Illegal base64 character","body":"<p>Your code is strange. Why are you not doing it this way?:</p>\n<pre><code>function image_upload() {\n  var file_input = this;\n  var name = file_input.getAttribute(&quot;id&quot;);\n  var url = file_input.dataset.url;\n\n  for(var i = 0; i&lt;this.files.length; i++) {\n    var file =  this.files[i];\n    var xhr = new XMLHttpRequest();\n    xhr.open(&quot;POST&quot;, url, true);\n    xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n    xhr.onreadystatechange = function() {\n        if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) {\n            var id = xhr.responseText;\n            var input = createElement(&quot;input&quot;);\n            input.setAttribute(&quot;type&quot;, &quot;hidden&quot;);\n            input.setAttribute(&quot;name&quot;, name);\n            input.setAttribute(&quot;value&quot;, id);\n            file_input.after(input);\n        }\n    };\n    var formData = new FormData();\n    formData.append(&quot;image&quot;, file, name) \n    xhr.send(formData)\n  }\n}\n</code></pre>\n<p>??</p>\n<p>And you don't need any base64</p>\n<p>Or more modern, this variant:</p>\n<pre><code>   function image_upload() {\n      let file_input = this;\n      let name = file_input.getAttribute(&quot;id&quot;);\n      let url = file_input.dataset.url;\n      let uploads = Array.from(this.files).map((file) =&gt; {\n        var formData  = new FormData();\n        formData.append(name, file, file.name);\n        return fetch(url, {method: 'POST', body: formData}).then((response) =&gt; response.text()).then((id)=&gt;{  \n               let input = document.createElement(&quot;input&quot;);\n                input.setAttribute(&quot;type&quot;, &quot;hidden&quot;);\n                input.setAttribute(&quot;name&quot;, name);\n                input.setAttribute(&quot;value&quot;, id);\n                file_input.after(input);\n          });\n       });\n       return uploads;\n      }));\n    }\n</code></pre>\n"}],"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29362,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1667331825,"creation_date":1547337665,"question_id":54164988,"body_markdown":"I am trying uploading an image with this javascript code:\r\n\r\n    var reader  = new FileReader();\r\n    reader.onloadend = function() {\r\n      var bytes = window.btoa(reader.result);\r\n      var ext = file.name.split(&quot;.&quot;).pop();\r\n      xhr.send(&quot;bytes=&quot;+bytes+&quot;&amp;type=&quot;+ext);\r\n    }\r\n    reader.readAsBinaryString(file);\r\n\r\nwhere `bytes` is passed to this java code on the server side:\r\n\r\n    public Integer upload(String bytes, String type) throws IOException {\r\n        byte[] bytes_final = Base64.getDecoder().decode(bytes.split(&quot;,&quot;)[1]);\r\n        BufferedImage src = ImageIO.read(new ByteArrayInputStream(bytes_final));\r\n        ...\r\n    }\r\n\r\nbut I am getting the error:\r\n\r\n    java.lang.IllegalArgumentException: Illegal base64 character 20\r\n    \tat java.base/java.util.Base64$Decoder.decode0(Base64.java:743) ~[na:na]\r\n    \tat java.base/java.util.Base64$Decoder.decode(Base64.java:535) ~[na:na]\r\n    \tat java.base/java.util.Base64$Decoder.decode(Base64.java:558) ~[na:na]\r\n    \tat org.loja.model.imagem.ImagemService.upload(ImagemService.java:25) ~[classes/:1.0-SNAPSHOT]\r\n    \tat org.loja.model.imagem.ImagemController.upload(ImagemController.java:25) ~[classes/:1.0-SNAPSHOT]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[servlet-api.jar:na]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[servlet-api.jar:na]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-websocket.jar:9.0.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\r\n    \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:130) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:66) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:105) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:123) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[catalina.jar:9.0.14]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-coyote.jar:9.0.14]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-coyote.jar:9.0.14]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) ~[tomcat-coyote.jar:9.0.14]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) ~[tomcat-coyote.jar:9.0.14]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.14]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.14]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n\r\n\r\nanyone can give me a hint of what&#39;s wrong here?\r\n\r\nps.:\r\n\r\ncomplete javascript function:\r\n\r\n    function image_upload() {\r\n      var file_input = this;\r\n      var name = file_input.getAttribute(&quot;id&quot;);\r\n      var url = file_input.dataset.url;\r\n    \r\n      for(var i = 0; i&lt;this.files.length; i++) {\r\n        var file =  this.files[i];\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open(&quot;POST&quot;, url, true);\r\n        xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n        xhr.onreadystatechange = function() {\r\n            if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) {\r\n                var id = xhr.responseText;\r\n                var input = createElement(&quot;input&quot;);\r\n                input.setAttribute(&quot;type&quot;, &quot;hidden&quot;);\r\n                input.setAttribute(&quot;name&quot;, name);\r\n                input.setAttribute(&quot;value&quot;, id);\r\n                file_input.after(input);\r\n            }\r\n        };\r\n        var reader  = new FileReader();\r\n        reader.onloadend = function() {\r\n          var bytes = reader.result;\r\n          var ext = file.name.split(&quot;.&quot;).pop();\r\n          xhr.send(&quot;bytes=&quot;+bytes+&quot;&amp;type=&quot;+ext);\r\n        }\r\n        reader.readAsDataURL(file);\r\n      }\r\n    }\r\n\r\ncomplete java function:\r\n\r\n      public Integer upload(String bytes, String type) throws IOException {\r\n        byte[] bytes_final = Base64.getDecoder().decode(bytes.split(&quot;,&quot;)[1]);\r\n        BufferedImage src = ImageIO.read(new ByteArrayInputStream(bytes_final));\r\n    \r\n        String file_name = file_path + File.separator + fileName();\r\n        File arquivo = new File(file_name);\r\n    \t\tif(!arquivo.exists())\r\n    \t\t\tif(arquivo.mkdirs())\r\n    \t\t\t\tarquivo.createNewFile();\r\n    \r\n        ImageIO.write(src, type, arquivo);\r\n    \r\n        Imagem imagem = new Imagem();\r\n        imagem.setFileName(file_name);\r\n        this.dao.insert(imagem);\r\n    \r\n        return imagem.getId();\r\n      }\r\n\r\n\r\n","title":"Illegal base64 character","body":"<p>I am trying uploading an image with this javascript code:</p>\n\n<pre><code>var reader  = new FileReader();\nreader.onloadend = function() {\n  var bytes = window.btoa(reader.result);\n  var ext = file.name.split(\".\").pop();\n  xhr.send(\"bytes=\"+bytes+\"&amp;type=\"+ext);\n}\nreader.readAsBinaryString(file);\n</code></pre>\n\n<p>where <code>bytes</code> is passed to this java code on the server side:</p>\n\n<pre><code>public Integer upload(String bytes, String type) throws IOException {\n    byte[] bytes_final = Base64.getDecoder().decode(bytes.split(\",\")[1]);\n    BufferedImage src = ImageIO.read(new ByteArrayInputStream(bytes_final));\n    ...\n}\n</code></pre>\n\n<p>but I am getting the error:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Illegal base64 character 20\n    at java.base/java.util.Base64$Decoder.decode0(Base64.java:743) ~[na:na]\n    at java.base/java.util.Base64$Decoder.decode(Base64.java:535) ~[na:na]\n    at java.base/java.util.Base64$Decoder.decode(Base64.java:558) ~[na:na]\n    at org.loja.model.imagem.ImagemService.upload(ImagemService.java:25) ~[classes/:1.0-SNAPSHOT]\n    at org.loja.model.imagem.ImagemController.upload(ImagemController.java:25) ~[classes/:1.0-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[servlet-api.jar:na]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851) ~[spring-webmvc-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[servlet-api.jar:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-websocket.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:130) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.access$000(ErrorPageFilter.java:66) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:105) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:123) ~[spring-boot-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.0.9.RELEASE.jar:5.0.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[catalina.jar:9.0.14]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[catalina.jar:9.0.14]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-coyote.jar:9.0.14]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-coyote.jar:9.0.14]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) ~[tomcat-coyote.jar:9.0.14]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417) ~[tomcat-coyote.jar:9.0.14]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-coyote.jar:9.0.14]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:9.0.14]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n\n<p>anyone can give me a hint of what's wrong here?</p>\n\n<p>ps.:</p>\n\n<p>complete javascript function:</p>\n\n<pre><code>function image_upload() {\n  var file_input = this;\n  var name = file_input.getAttribute(\"id\");\n  var url = file_input.dataset.url;\n\n  for(var i = 0; i&lt;this.files.length; i++) {\n    var file =  this.files[i];\n    var xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", url, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n    xhr.onreadystatechange = function() {\n        if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) {\n            var id = xhr.responseText;\n            var input = createElement(\"input\");\n            input.setAttribute(\"type\", \"hidden\");\n            input.setAttribute(\"name\", name);\n            input.setAttribute(\"value\", id);\n            file_input.after(input);\n        }\n    };\n    var reader  = new FileReader();\n    reader.onloadend = function() {\n      var bytes = reader.result;\n      var ext = file.name.split(\".\").pop();\n      xhr.send(\"bytes=\"+bytes+\"&amp;type=\"+ext);\n    }\n    reader.readAsDataURL(file);\n  }\n}\n</code></pre>\n\n<p>complete java function:</p>\n\n<pre><code>  public Integer upload(String bytes, String type) throws IOException {\n    byte[] bytes_final = Base64.getDecoder().decode(bytes.split(\",\")[1]);\n    BufferedImage src = ImageIO.read(new ByteArrayInputStream(bytes_final));\n\n    String file_name = file_path + File.separator + fileName();\n    File arquivo = new File(file_name);\n        if(!arquivo.exists())\n            if(arquivo.mkdirs())\n                arquivo.createNewFile();\n\n    ImageIO.write(src, type, arquivo);\n\n    Imagem imagem = new Imagem();\n    imagem.setFileName(file_name);\n    this.dao.insert(imagem);\n\n    return imagem.getId();\n  }\n</code></pre>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1530300667,"post_id":51107933,"comment_id":89203625,"body_markdown":"You missed to initialize ```mBluetoothAdapter``` before trying to use it","body":"You missed to initialize <code>mBluetoothAdapter</code> before trying to use it"},{"owner":{"account_id":4656983,"reputation":41,"user_id":3772327,"display_name":"thunderbootyclap"},"score":0,"creation_date":1530628482,"post_id":51107933,"comment_id":89297768,"body_markdown":"What do you mean? I setup `mBluetoothAdapter` and then used `mBluetoothAdapter.getDefaultAdapter()` in the onCreate method","body":"What do you mean? I setup <code>mBluetoothAdapter</code> and then used <code>mBluetoothAdapter.getDefaultAdapter()</code> in the onCreate method"},{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1530642434,"post_id":51107933,"comment_id":89305231,"body_markdown":"You missed something like ```mBluetoothAdapter = instance creation```, check answer","body":"You missed something like <code>mBluetoothAdapter = instance creation</code>, check answer"}],"answers":[{"comments":[{"owner":{"account_id":4656983,"reputation":41,"user_id":3772327,"display_name":"thunderbootyclap"},"score":0,"creation_date":1530811508,"post_id":51160896,"comment_id":89375542,"body_markdown":"Thank you, I did this and nothing broke which is good but which question is this answering? I assume its the getRemoteDevice part because everything else is the same. In my debug log i still get that there is null UUID for the device and there are no services. I used the nRF UART app to check and it did have those things. Can you help guide me?","body":"Thank you, I did this and nothing broke which is good but which question is this answering? I assume its the getRemoteDevice part because everything else is the same. In my debug log i still get that there is null UUID for the device and there are no services. I used the nRF UART app to check and it did have those things. Can you help guide me?"},{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1530812625,"post_id":51160896,"comment_id":89376093,"body_markdown":"This answer the 4th one, that unabled you to execute the other codes... now you have to check the other parts","body":"This answer the 4th one, that unabled you to execute the other codes... now you have to check the other parts"}],"tags":[],"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530812693,"creation_date":1530642402,"answer_id":51160896,"question_id":51107933,"body_markdown":"You missed to initialize ```mBluetoothAdapter```\r\n\r\nAs of (at oncreate):\r\n\r\n    BluetoothManager manager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\r\n    mBluetoothAdapter = manager.getAdapter();\r\n\r\ninstead of:\r\n\r\n    mBluetoothAdapter.getDefaultAdapter();\r\n\r\nAfter that your variable is initialized and ready to use, just check if you need RuntimePermissions for using bluetooth.","title":"BLE connection issues","body":"<p>You missed to initialize <code>mBluetoothAdapter</code></p>\n\n<p>As of (at oncreate):</p>\n\n<pre><code>BluetoothManager manager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\nmBluetoothAdapter = manager.getAdapter();\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>mBluetoothAdapter.getDefaultAdapter();\n</code></pre>\n\n<p>After that your variable is initialized and ready to use, just check if you need RuntimePermissions for using bluetooth.</p>\n"},{"comments":[{"owner":{"account_id":4656983,"reputation":41,"user_id":3772327,"display_name":"thunderbootyclap"},"score":0,"creation_date":1530816240,"post_id":51197493,"comment_id":89377722,"body_markdown":"So what I understand from this is that `Device.connectGatt()` should be the last thing in my &quot;onItemClick&quot;, that being the case, where would I put the stuff that comes after so that it still runs? Im not too sure how a callback works but the way its described it doesnt go back to where it left off? Also by thread do you mean activity? Ive seen that terminology used but wast sure if thats what it meant. This has been the most in depth response ive had since Ive started this project a few months ago so Thank you.","body":"So what I understand from this is that <code>Device.connectGatt()</code> should be the last thing in my &quot;onItemClick&quot;, that being the case, where would I put the stuff that comes after so that it still runs? Im not too sure how a callback works but the way its described it doesnt go back to where it left off? Also by thread do you mean activity? Ive seen that terminology used but wast sure if thats what it meant. This has been the most in depth response ive had since Ive started this project a few months ago so Thank you."},{"owner":{"account_id":1184171,"reputation":1796,"user_id":1158478,"accept_rate":60,"display_name":"ArtHare"},"score":0,"creation_date":1530824307,"post_id":51197493,"comment_id":89381251,"body_markdown":"I&#39;ll edit my answer to give some example code of how I did it, which I&#39;m still not very happy with.","body":"I&#39;ll edit my answer to give some example code of how I did it, which I&#39;m still not very happy with."},{"owner":{"account_id":1184171,"reputation":1796,"user_id":1158478,"accept_rate":60,"display_name":"ArtHare"},"score":0,"creation_date":1530825044,"post_id":51197493,"comment_id":89381558,"body_markdown":"Answer edited.  This seems like an alright intro to threading: https://katyscode.wordpress.com/2013/05/17/introduction-to-multi-threaded-multi-core-and-parallel-programming-concepts/ .  For threading concepts specific to android, try this out: https://developer.android.com/guide/components/processes-and-threads","body":"Answer edited.  This seems like an alright intro to threading: <a href=\"https://katyscode.wordpress.com/2013/05/17/introduction-to-multi-threaded-multi-core-and-parallel-programming-concepts/\" rel=\"nofollow noreferrer\">katyscode.wordpress.com/2013/05/17/&hellip;</a> .  For threading concepts specific to android, try this out: <a href=\"https://developer.android.com/guide/components/processes-and-threads\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/processes-and-threads</a>"},{"owner":{"account_id":1184171,"reputation":1796,"user_id":1158478,"accept_rate":60,"display_name":"ArtHare"},"score":0,"creation_date":1530825122,"post_id":51197493,"comment_id":89381584,"body_markdown":"A really hacky and gross but quick way to &quot;wait until connection complete&quot; is to just put a Thread.sleep(5000) after your connectGatt() call.  The connection thread should have completed by the time the Thread.sleep(5000) has returned, and you might get your service list back.  Note that if the connection takes _longer_ than that, then your program will randomly fail.","body":"A really hacky and gross but quick way to &quot;wait until connection complete&quot; is to just put a Thread.sleep(5000) after your connectGatt() call.  The connection thread should have completed by the time the Thread.sleep(5000) has returned, and you might get your service list back.  Note that if the connection takes <i>longer</i> than that, then your program will randomly fail."},{"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"score":0,"creation_date":1530882161,"post_id":51197493,"comment_id":89402810,"body_markdown":"There are no requirements for BLE calls to be performed from the main thread. Most BLE callbacks are called from a thread in the Binder threadpool, and only one callback at a time is guaranteed to be processed. Therefore you should not, in a callback, have a loop waiting for another callback to be called.","body":"There are no requirements for BLE calls to be performed from the main thread. Most BLE callbacks are called from a thread in the Binder threadpool, and only one callback at a time is guaranteed to be processed. Therefore you should not, in a callback, have a loop waiting for another callback to be called."},{"owner":{"account_id":4656983,"reputation":41,"user_id":3772327,"display_name":"thunderbootyclap"},"score":0,"creation_date":1530902724,"post_id":51197493,"comment_id":89413369,"body_markdown":"Is there any obvious way to improve this code without changing it too much? I commented everything after connectGatt and i think it connects now but Im trying to just be able to receive the information before starting major changes like adding threading. From my logs I can now enter onConnectionStateChange and onServicesDiscovered but I dont receive any data and get: Attempt to invoke virtual method &#39;boolean android.bluetooth.BluetoothGattDescriptor.setValue(byte[])&#39; on a null object reference. When I comment out the three descriptor lines of code I dont get that &quot;unhandled exception&quot;","body":"Is there any obvious way to improve this code without changing it too much? I commented everything after connectGatt and i think it connects now but Im trying to just be able to receive the information before starting major changes like adding threading. From my logs I can now enter onConnectionStateChange and onServicesDiscovered but I dont receive any data and get: Attempt to invoke virtual method &#39;boolean android.bluetooth.BluetoothGattDescriptor.setValue(byte[])&#39; on a null object reference. When I comment out the three descriptor lines of code I dont get that &quot;unhandled exception&quot;"},{"owner":{"account_id":1184171,"reputation":1796,"user_id":1158478,"accept_rate":60,"display_name":"ArtHare"},"score":0,"creation_date":1530904896,"post_id":51197493,"comment_id":89414246,"body_markdown":"From @Emil&#39;s comment, it sounds like you may be able to do a lot of your work in the callbacks themselves, which makes for a simpler system than I was proposing.  So in onConnectionStateChanged(...), do your service discovery. \n  Then in onServicesDiscovered(...), query the value of a characteristic.  Another useful trick to debug is to use the nRF Connect app to poke around at your device just to make sure the device is operating in the way you expect.","body":"From @Emil&#39;s comment, it sounds like you may be able to do a lot of your work in the callbacks themselves, which makes for a simpler system than I was proposing.  So in onConnectionStateChanged(...), do your service discovery.    Then in onServicesDiscovered(...), query the value of a characteristic.  Another useful trick to debug is to use the nRF Connect app to poke around at your device just to make sure the device is operating in the way you expect."},{"owner":{"account_id":4656983,"reputation":41,"user_id":3772327,"display_name":"thunderbootyclap"},"score":0,"creation_date":1531417360,"post_id":51197493,"comment_id":89599863,"body_markdown":"Thanks I have since done what youve suggested with the callback and have been using that app to figure out the correct UUIDs to use and it receives the data that im looking for but my app must still have some flaw with how im grabbing the data because i keep getting the runtime error from my comment above. I think the error must be in the `onCharacteristicChanged` method or `onCharacteristicRead` method but I dont know what it could be.","body":"Thanks I have since done what youve suggested with the callback and have been using that app to figure out the correct UUIDs to use and it receives the data that im looking for but my app must still have some flaw with how im grabbing the data because i keep getting the runtime error from my comment above. I think the error must be in the <code>onCharacteristicChanged</code> method or <code>onCharacteristicRead</code> method but I dont know what it could be."},{"owner":{"account_id":1184171,"reputation":1796,"user_id":1158478,"accept_rate":60,"display_name":"ArtHare"},"score":0,"creation_date":1531424070,"post_id":51197493,"comment_id":89603116,"body_markdown":"The `null object reference` just means that you&#39;re trying to call setValue on a BluetoothGattDescriptor that is null.  Perhaps you need to retrieve it first?","body":"The <code>null object reference</code> just means that you&#39;re trying to call setValue on a BluetoothGattDescriptor that is null.  Perhaps you need to retrieve it first?"},{"owner":{"account_id":4656983,"reputation":41,"user_id":3772327,"display_name":"thunderbootyclap"},"score":0,"creation_date":1531834387,"post_id":51197493,"comment_id":89737288,"body_markdown":"Is it not being done correctly in my code? Ive tried different UUIDs and `BluetoothGattDescriptor descriptor = characteristic.getDescriptor(describeMe.get(0).getUuid());` and am still getting the error","body":"Is it not being done correctly in my code? Ive tried different UUIDs and <code>BluetoothGattDescriptor descriptor = characteristic.getDescriptor(describeMe.get(0).getUuid());</code> and am still getting the error"}],"tags":[],"owner":{"account_id":1184171,"reputation":1796,"user_id":1158478,"accept_rate":60,"display_name":"ArtHare"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530882428,"creation_date":1530813919,"answer_id":51197493,"question_id":51107933,"body_markdown":"Much of the stuff in android BLE communication is asynchronous.\r\n\r\nSo when you call Device.connectGatt(), you need to wait for the onConnectionStateChange callback before doing the next thing.  Your attempts to enumerate the services will fail (probably quietly) because your connection state hasn&#39;t gone from 0 to 2 at that point.  In your log you can see that you do the getServices() call before it has called you back to say the connection state has gone to connected.\r\n\r\nMaking things trickier, in my experience you should only be doing your BluetoothDevice interaction from the main thread. (Edit: Only sending requests from the main thread is apparently not a requirement)\r\n\r\nSo each command you do (connecting, reading characteristic values, writing, disconnecting, enumerating services, etc) needs to look like:\r\n\r\n 1. Main Thread: Call the (connect|read|write|enumerate) function\r\n 2. Callback thread: Java calls your BluetoothGattCallback, and you should find a way (Handler?) to signal the main thread to do your next thing.\r\n 3. Main thread: process the result from BluetoothGattCallback and trigger the next thing you&#39;ll be doing.\r\n\r\nMild aside: This is a lot easier in objective-c and react-native-ble-plx, because they handle the threading for you.  If you design a good way to get the results from the callback thread to the main thread from the beginning, you will save yourself a lot of pain.\r\n\r\nExample code for getting stuff back to the UI thread:\r\n\r\n    Handler m_handler;\r\n    public void onResume() {\r\n      m_handler = new Handler(); // creates a Handler bound to the UI thread, which lets us fire messages back and forth between threads.\r\n    }\r\n\r\n    // ... other stuff ... \r\n\r\n    public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\r\n            super.onConnectionStateChange(gatt, status, newState);\r\n\r\n            Log.i(&quot;onConnectionStateChange&quot;, &quot;State Changed from: &quot; + status + &quot; to &quot; + newState);\r\n\r\n            if (newState == BluetoothProfile.STATE_CONNECTED){\r\n                // oh boy, we&#39;re connected.  Let&#39;s try to discover services!\r\n                // m_handler.post() is a good way to make sure the thing you pass runs on the UI thread.\r\n                m_handler.post(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                      gatt.discoverServices();\r\n                    }\r\n                })\r\n            }\r\n        }","title":"BLE connection issues","body":"<p>Much of the stuff in android BLE communication is asynchronous.</p>\n\n<p>So when you call Device.connectGatt(), you need to wait for the onConnectionStateChange callback before doing the next thing.  Your attempts to enumerate the services will fail (probably quietly) because your connection state hasn't gone from 0 to 2 at that point.  In your log you can see that you do the getServices() call before it has called you back to say the connection state has gone to connected.</p>\n\n<p>Making things trickier, in my experience you should only be doing your BluetoothDevice interaction from the main thread. (Edit: Only sending requests from the main thread is apparently not a requirement)</p>\n\n<p>So each command you do (connecting, reading characteristic values, writing, disconnecting, enumerating services, etc) needs to look like:</p>\n\n<ol>\n<li>Main Thread: Call the (connect|read|write|enumerate) function</li>\n<li>Callback thread: Java calls your BluetoothGattCallback, and you should find a way (Handler?) to signal the main thread to do your next thing.</li>\n<li>Main thread: process the result from BluetoothGattCallback and trigger the next thing you'll be doing.</li>\n</ol>\n\n<p>Mild aside: This is a lot easier in objective-c and react-native-ble-plx, because they handle the threading for you.  If you design a good way to get the results from the callback thread to the main thread from the beginning, you will save yourself a lot of pain.</p>\n\n<p>Example code for getting stuff back to the UI thread:</p>\n\n<pre><code>Handler m_handler;\npublic void onResume() {\n  m_handler = new Handler(); // creates a Handler bound to the UI thread, which lets us fire messages back and forth between threads.\n}\n\n// ... other stuff ... \n\npublic void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\n        super.onConnectionStateChange(gatt, status, newState);\n\n        Log.i(\"onConnectionStateChange\", \"State Changed from: \" + status + \" to \" + newState);\n\n        if (newState == BluetoothProfile.STATE_CONNECTED){\n            // oh boy, we're connected.  Let's try to discover services!\n            // m_handler.post() is a good way to make sure the thing you pass runs on the UI thread.\n            m_handler.post(new Runnable() {\n                @Override\n                public void run() {\n                  gatt.discoverServices();\n                }\n            })\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4656983,"reputation":41,"user_id":3772327,"display_name":"thunderbootyclap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533047229,"creation_date":1533047229,"answer_id":51615767,"question_id":51107933,"body_markdown":"For anyone looking this up in the future: If you receive a message similar to D/BluetoothGatt: onConnectionUpdated() - Device=xx:xx:xx:xx:xx:xx interval=6 latency=0 timeout=500 status=0 you are connecting to the device but not &quot;enough&quot; to recieve info. For me it turned out i had to click the device to connect to a second time to actually recieve the data. I dont know why yet","title":"BLE connection issues","body":"<p>For anyone looking this up in the future: If you receive a message similar to D/BluetoothGatt: onConnectionUpdated() - Device=xx:xx:xx:xx:xx:xx interval=6 latency=0 timeout=500 status=0 you are connecting to the device but not \"enough\" to recieve info. For me it turned out i had to click the device to connect to a second time to actually recieve the data. I dont know why yet</p>\n"},{"comments":[{"owner":{"account_id":4656983,"reputation":41,"user_id":3772327,"display_name":"thunderbootyclap"},"score":0,"creation_date":1576039398,"post_id":58916162,"comment_id":104764656,"body_markdown":"For me it was having to click the device I was trying to connect to a second time","body":"For me it was having to click the device I was trying to connect to a second time"}],"tags":[],"owner":{"account_id":13368178,"reputation":11,"user_id":9853696,"display_name":"syjsyj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667331644,"creation_date":1574085223,"answer_id":58916162,"question_id":51107933,"body_markdown":"in your answer\r\n\r\n\r\n&gt; For anyone looking this up in the future: If you receive a message\r\n&gt; similar to D/BluetoothGatt: onConnectionUpdated() -\r\n&gt; Device=xx:xx:xx:xx:xx:xx interval=6 latency=0 timeout=500 status=0 you\r\n&gt; are connecting to the device but not &quot;enough&quot; to recieve info. For me\r\n&gt; it turned out i had to click the device to connect to a second time to\r\n&gt; actually recieve the data. I dont know why yet\r\n\r\nI Unfortunately got this problem, you can see in my question\r\nhttps://stackoverflow.com/questions/58555820/ble-ondescriptorwrite-is-not-trigger-when-writedescriptor-receive-true\r\nAnd What do you say is the second click device, your app or other ble device.\r\nThanks a lot.","title":"BLE connection issues","body":"<p>in your answer</p>\n<blockquote>\n<p>For anyone looking this up in the future: If you receive a message\nsimilar to D/BluetoothGatt: onConnectionUpdated() -\nDevice=xx:xx:xx:xx:xx:xx interval=6 latency=0 timeout=500 status=0 you\nare connecting to the device but not &quot;enough&quot; to recieve info. For me\nit turned out i had to click the device to connect to a second time to\nactually recieve the data. I dont know why yet</p>\n</blockquote>\n<p>I Unfortunately got this problem, you can see in my question\n<a href=\"https://stackoverflow.com/questions/58555820/ble-ondescriptorwrite-is-not-trigger-when-writedescriptor-receive-true\">BLE onDescriptorWrite is not trigger when writeDescriptor receive true</a>\nAnd What do you say is the second click device, your app or other ble device.\nThanks a lot.</p>\n"}],"owner":{"account_id":4656983,"reputation":41,"user_id":3772327,"display_name":"thunderbootyclap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1831,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1667331644,"creation_date":1530298963,"question_id":51107933,"body_markdown":"I am working on an app that can connect to an adafruit flora BLE device to receive information from it. I want the app to display the list of found devices and when an item in the list view is clicked the connection is made and data can be received. Ultimately I want to take said data over to another activity to graph in realtime (if possible). There are a few things going on that i dont understand and I hope someone can shed light on.\r\n\r\n 1. When it is scanning for devices the list view shows them but there are multiples of each.\r\n 2. For some reason the `onPause` and `onResume` make the list view glitchy (displays devices and then removes them)\r\n 3. How do I know when there is a connection?\r\n 4. When I have getRemoteDevice in my code I get a runtime error ( Attempt to invoke virtual method &#39;android.bluetooth.BluetoothDevice android.bluetooth.BluetoothAdapter.getRemoteDevice(java.lang.String)&#39; on a null object reference)\r\n 5. When I try and use filters and settings in the startScan method I get nothing in my list, I have also tried null filters w/ settings and still nothing.\r\n\r\n----------\r\n\r\n\r\n    import android.annotation.SuppressLint;\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.bluetooth.BluetoothGatt;\r\n    import android.bluetooth.BluetoothGattCallback;\r\n    import android.bluetooth.BluetoothGattCharacteristic;\r\n    import android.bluetooth.BluetoothGattDescriptor;\r\n    import android.bluetooth.BluetoothProfile;\r\n    import android.bluetooth.le.BluetoothLeScanner;\r\n    import android.bluetooth.le.ScanCallback;\r\n    import android.content.Intent;\r\n    import android.os.Build;\r\n    import android.os.ParcelUuid;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.Button;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.UUID;\r\n    \r\n    import no.nordicsemi.android.support.v18.scanner.BluetoothLeScannerCompat;\r\n    import no.nordicsemi.android.support.v18.scanner.ScanFilter;\r\n    import no.nordicsemi.android.support.v18.scanner.ScanResult;\r\n    import no.nordicsemi.android.support.v18.scanner.ScanSettings;\r\n    \r\n    public class BluetoothDiscovery extends AppCompatActivity {\r\n    \r\n        private String TAG = &quot;Bluetooth Device&quot;;\r\n        private int REQUEST_ENABLE_BT = 5;\r\n    \r\n        private BluetoothAdapter mBluetoothAdapter;\r\n        private BluetoothLeScannerCompat scanner;\r\n        private ScanSettings settings;\r\n        private UUID baseUUID = UUID.fromString(&quot;6e400001-b5a3-f393-e0a9-e50e24dcca9e&quot;); // service UUID\r\n        private UUID txUUID = UUID.fromString(&quot;6e400002-b5a3-f393-e0a9-e50e24dcca9e&quot;); // TX UUID characteristic\r\n        private UUID rxUUID = UUID.fromString(&quot;6e400003-b5a3-f393-e0a9-e50e24dcca9e&quot;); // RX UUID characteristic\r\n        private ScanFilter scanFilter;\r\n        private BluetoothDevice device, mdevice;\r\n        private BluetoothGatt mGatt;\r\n        private boolean mScanning = false;\r\n        private ArrayList&lt;deviceShowFormat&gt; foundDevices = new ArrayList&lt;&gt;();\r\n        formattingAdapter BTadapter;\r\n    \r\n        Button scanButton;\r\n        TextView fancyWords;\r\n        ListView deviceList;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_bluetooth_discovery);\r\n    \r\n            mBluetoothAdapter.getDefaultAdapter();\r\n    \r\n            scanButton = findViewById(R.id.scanButt);\r\n            scanButton.setText(getString(R.string.notScanning));\r\n    \r\n            fancyWords = findViewById(R.id.discoverText);\r\n            fancyWords.setText(getString(R.string.nonScanTitle));\r\n    \r\n            deviceList = findViewById(R.id.deviceList);\r\n            BTadapter = new formattingAdapter(BluetoothDiscovery.this, foundDevices);\r\n            deviceList.setAdapter(BTadapter);\r\n    \r\n    \r\n            scanner = BluetoothLeScannerCompat.getScanner();\r\n    \r\n            settings = new ScanSettings.Builder().setScanMode(ScanSettings.SCAN_MODE_BALANCED).setReportDelay(500).build();\r\n    \r\n            scanFilter = new ScanFilter.Builder().setServiceUuid(new ParcelUuid(baseUUID)).build();\r\n    \r\n            //scanner.startScan(Arrays.asList(scanFilter), settings, mScanCallback);\r\n    \r\n            deviceList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @SuppressLint(&quot;LongLogTag&quot;)\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                    deviceShowFormat mBTDevice = foundDevices.get(i);\r\n    \r\n                    BluetoothDevice Device = mBTDevice.get_device();\r\n                    String deviceName = mBTDevice.get_device_name();\r\n                    String deviceAddress = mBTDevice.get_device_address();\r\n    \r\n                    Log.d(TAG, &quot;Selected device: &quot; + Device.toString());\r\n                    Log.d(TAG, &quot;Selected device name: &quot; + deviceName);\r\n                    Log.d(TAG, &quot;Selected device address: &quot; + deviceAddress);\r\n    \r\n    \r\n    \r\n                    //BluetoothDevice deviceConnect = mBluetoothAdapter.getRemoteDevice(deviceAddress);\r\n                    //deviceConnect.createBond();\r\n                    mGatt = Device.connectGatt(BluetoothDiscovery.this, false, mGattCallback);\r\n                    Toast.makeText(BluetoothDiscovery.this, &quot;Selected device: &quot; + deviceName, Toast.LENGTH_SHORT).show();\r\n    \r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n                        Device.createBond();\r\n                    }\r\n    \r\n                    Log.d(TAG, &quot;&quot; + Device.getBondState());\r\n                    if(Device.getBondState() == BluetoothDevice.BOND_BONDED){\r\n                        Toast.makeText(BluetoothDiscovery.this, &quot;Bluetooth device connected successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                    mGatt.getServices();\r\n                    mGatt.getConnectedDevices();\r\n    \r\n                    Log.d(&quot;THIS IS THE DEVICES UUID&quot;, String.valueOf(Device.getUuids()));\r\n                    Log.d(&quot;DEVICE SERVICES&quot;, String.valueOf(mGatt.getServices()));\r\n                }\r\n            });\r\n        }\r\n    \r\n        private final no.nordicsemi.android.support.v18.scanner.ScanCallback mScanCallback = new no.nordicsemi.android.support.v18.scanner.ScanCallback() {\r\n            @Override\r\n            public void onScanResult(int callbackType, ScanResult result) {\r\n                super.onScanResult(callbackType, result);\r\n    \r\n                Log.i(&quot;onScanResult&quot;, &quot;device detected&quot;);\r\n    \r\n                    device = result.getDevice();\r\n                    String deviceName = device.getName();\r\n                    String deviceAddress = device.getAddress();\r\n    \r\n                    Log.d(TAG, &quot;Scanned device: &quot; + device.toString());\r\n                    Log.d(TAG, &quot;Scanned device name: &quot; + deviceName);\r\n                    Log.d(TAG, &quot;Scanned device address: &quot; + deviceAddress);\r\n    \r\n                    foundDevices.add(new deviceShowFormat(device, deviceName, deviceAddress));\r\n                    BTadapter.notifyDataSetChanged();\r\n            }\r\n        };\r\n    \r\n        private final BluetoothGattCallback mGattCallback = new BluetoothGattCallback() {\r\n            @Override\r\n            public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\r\n                super.onConnectionStateChange(gatt, status, newState);\r\n    \r\n                Log.i(&quot;onConnectionStateChange&quot;, &quot;State Changed from: &quot; + status + &quot; to &quot; + newState);\r\n    \r\n                if (newState == BluetoothProfile.STATE_CONNECTED){\r\n                    Toast.makeText(BluetoothDiscovery.this, &quot;Attempting service discovery&quot;, Toast.LENGTH_SHORT).show();\r\n                    Log.i(&quot;onConnectionStateChange&quot;, &quot;Attempting service discovery: &quot; + gatt.discoverServices());\r\n                    gatt.discoverServices();\r\n                } else if (newState == BluetoothProfile.STATE_DISCONNECTED){\r\n                    Toast.makeText(BluetoothDiscovery.this, &quot;Connection has been terminated&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onServicesDiscovered(BluetoothGatt gatt, int status){\r\n                super.onServicesDiscovered(gatt, status);\r\n    \r\n                Log.i(&quot;onServicesDiscovered&quot;, &quot;Hey, we found a service&quot;);\r\n    \r\n                if (status != BluetoothGatt.GATT_SUCCESS){\r\n                    // Handle error\r\n                    Log.d(&quot;onServicesDiscovered&quot; , &quot;&quot; + status);\r\n                    return;\r\n                }\r\n    \r\n                BluetoothGattCharacteristic characteristic = gatt.getService(baseUUID).getCharacteristic(rxUUID);\r\n    \r\n                gatt.setCharacteristicNotification(characteristic, true);\r\n    \r\n                BluetoothGattDescriptor descriptor = characteristic.getDescriptor(txUUID);\r\n                descriptor.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\r\n                gatt.writeDescriptor(descriptor);\r\n            }\r\n    \r\n            @Override\r\n            public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status){\r\n    \r\n                Log.i(&quot;onCharacteristicRead&quot;, &quot;Characteristic has been read&quot;);\r\n    \r\n                readCounterCharacteristic(characteristic);\r\n            }\r\n    \r\n            @Override\r\n            public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\r\n                if (mGatt.writeCharacteristic(characteristic)){\r\n                    Log.d(&quot;Characteristic changed&quot;, &quot;Possibly looking for a write&quot;);\r\n                }\r\n    \r\n                if (mGatt.readCharacteristic(characteristic)){\r\n                    readCounterCharacteristic(characteristic);\r\n                }\r\n            }\r\n    \r\n            private void readCounterCharacteristic(BluetoothGattCharacteristic characteristic){\r\n    \r\n                if (mGatt.readCharacteristic(characteristic)){\r\n                    byte[] data = characteristic.getValue();\r\n    \r\n                    Log.d(&quot;READ DATA&quot;, data.toString());\r\n                }\r\n    \r\n    //            if (rxUUID.equals(characteristic.getUuid())){\r\n    //                //byte[] data = characteristic.getValue();\r\n    //                byte[] data = mGatt.readCharacteristic(characteristic);\r\n    //                //int value = Ints.fromByteArray(data);\r\n    //                Log.d(&quot;READ DATA&quot;, data.toString());\r\n    //            }\r\n            }\r\n        };\r\n    \r\n        public void toggleScan(View view){\r\n            mScanning = !mScanning;\r\n    \r\n            if(mScanning){\r\n                scanner.startScan(mScanCallback); //Arrays.asList(scanFilter) null, settings,\r\n                scanButton.setText(getString(R.string.scanInProgress));\r\n                fancyWords.setText(getString(R.string.ScanTitle));\r\n    \r\n            } else {\r\n                scanner.stopScan(mScanCallback);\r\n                scanButton.setText(getString(R.string.notScanning));\r\n            }\r\n        }\r\n    \r\n    //    @Override\r\n    //    public void onPause(){\r\n    //        super.onPause();\r\n    //\r\n    ////        if(mScanning){\r\n    ////            mScanning = !mScanning;\r\n    //            scanner.stopScan(mScanCallback);\r\n    ////        }\r\n    //\r\n    //        //Empty Adapter\r\n    //        //BTadapter.clear();\r\n    //        //BTadapter.notifyDataSetChanged();\r\n    //\r\n    //        //mdevice = device;\r\n    //\r\n    //    }\r\n    //\r\n    //    @Override\r\n    //    public void onResume(){\r\n    //        super.onResume();\r\n    //\r\n    //        if (mBluetoothAdapter == null || !mBluetoothAdapter.isEnabled()) {\r\n    //            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n    //            startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\r\n    //        }\r\n    //\r\n    //        //device = mdevice;\r\n    //    }\r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nThe code is the second activity in my app, in the first bluetooth is initialized and what-not. The above code works but I dont receive any data from the device and am not sure its truly connected. from the logs shown in the code I get:\r\n\r\n[Logcat][1]\r\n[Logcat2][2]\r\n\r\n\r\nResources im using:\r\n\r\nhttps://github.com/NordicSemiconductor/Android-Scanner-Compat-Library\r\n\r\nhttps://learn.adafruit.com/introducing-the-adafruit-bluefruit-le-uart-friend/uart-service\r\n\r\nhttp://nilhcem.com/android-things/bluetooth-low-energy\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lKPQh.png\r\n  [2]: https://i.stack.imgur.com/M3EsZ.png","title":"BLE connection issues","body":"<p>I am working on an app that can connect to an adafruit flora BLE device to receive information from it. I want the app to display the list of found devices and when an item in the list view is clicked the connection is made and data can be received. Ultimately I want to take said data over to another activity to graph in realtime (if possible). There are a few things going on that i dont understand and I hope someone can shed light on.</p>\n\n<ol>\n<li>When it is scanning for devices the list view shows them but there are multiples of each.</li>\n<li>For some reason the <code>onPause</code> and <code>onResume</code> make the list view glitchy (displays devices and then removes them)</li>\n<li>How do I know when there is a connection?</li>\n<li>When I have getRemoteDevice in my code I get a runtime error ( Attempt to invoke virtual method 'android.bluetooth.BluetoothDevice android.bluetooth.BluetoothAdapter.getRemoteDevice(java.lang.String)' on a null object reference)</li>\n<li>When I try and use filters and settings in the startScan method I get nothing in my list, I have also tried null filters w/ settings and still nothing.</li>\n</ol>\n\n<hr>\n\n<pre><code>import android.annotation.SuppressLint;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothGatt;\nimport android.bluetooth.BluetoothGattCallback;\nimport android.bluetooth.BluetoothGattCharacteristic;\nimport android.bluetooth.BluetoothGattDescriptor;\nimport android.bluetooth.BluetoothProfile;\nimport android.bluetooth.le.BluetoothLeScanner;\nimport android.bluetooth.le.ScanCallback;\nimport android.content.Intent;\nimport android.os.Build;\nimport android.os.ParcelUuid;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.Button;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.UUID;\n\nimport no.nordicsemi.android.support.v18.scanner.BluetoothLeScannerCompat;\nimport no.nordicsemi.android.support.v18.scanner.ScanFilter;\nimport no.nordicsemi.android.support.v18.scanner.ScanResult;\nimport no.nordicsemi.android.support.v18.scanner.ScanSettings;\n\npublic class BluetoothDiscovery extends AppCompatActivity {\n\n    private String TAG = \"Bluetooth Device\";\n    private int REQUEST_ENABLE_BT = 5;\n\n    private BluetoothAdapter mBluetoothAdapter;\n    private BluetoothLeScannerCompat scanner;\n    private ScanSettings settings;\n    private UUID baseUUID = UUID.fromString(\"6e400001-b5a3-f393-e0a9-e50e24dcca9e\"); // service UUID\n    private UUID txUUID = UUID.fromString(\"6e400002-b5a3-f393-e0a9-e50e24dcca9e\"); // TX UUID characteristic\n    private UUID rxUUID = UUID.fromString(\"6e400003-b5a3-f393-e0a9-e50e24dcca9e\"); // RX UUID characteristic\n    private ScanFilter scanFilter;\n    private BluetoothDevice device, mdevice;\n    private BluetoothGatt mGatt;\n    private boolean mScanning = false;\n    private ArrayList&lt;deviceShowFormat&gt; foundDevices = new ArrayList&lt;&gt;();\n    formattingAdapter BTadapter;\n\n    Button scanButton;\n    TextView fancyWords;\n    ListView deviceList;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_bluetooth_discovery);\n\n        mBluetoothAdapter.getDefaultAdapter();\n\n        scanButton = findViewById(R.id.scanButt);\n        scanButton.setText(getString(R.string.notScanning));\n\n        fancyWords = findViewById(R.id.discoverText);\n        fancyWords.setText(getString(R.string.nonScanTitle));\n\n        deviceList = findViewById(R.id.deviceList);\n        BTadapter = new formattingAdapter(BluetoothDiscovery.this, foundDevices);\n        deviceList.setAdapter(BTadapter);\n\n\n        scanner = BluetoothLeScannerCompat.getScanner();\n\n        settings = new ScanSettings.Builder().setScanMode(ScanSettings.SCAN_MODE_BALANCED).setReportDelay(500).build();\n\n        scanFilter = new ScanFilter.Builder().setServiceUuid(new ParcelUuid(baseUUID)).build();\n\n        //scanner.startScan(Arrays.asList(scanFilter), settings, mScanCallback);\n\n        deviceList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @SuppressLint(\"LongLogTag\")\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                deviceShowFormat mBTDevice = foundDevices.get(i);\n\n                BluetoothDevice Device = mBTDevice.get_device();\n                String deviceName = mBTDevice.get_device_name();\n                String deviceAddress = mBTDevice.get_device_address();\n\n                Log.d(TAG, \"Selected device: \" + Device.toString());\n                Log.d(TAG, \"Selected device name: \" + deviceName);\n                Log.d(TAG, \"Selected device address: \" + deviceAddress);\n\n\n\n                //BluetoothDevice deviceConnect = mBluetoothAdapter.getRemoteDevice(deviceAddress);\n                //deviceConnect.createBond();\n                mGatt = Device.connectGatt(BluetoothDiscovery.this, false, mGattCallback);\n                Toast.makeText(BluetoothDiscovery.this, \"Selected device: \" + deviceName, Toast.LENGTH_SHORT).show();\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n                    Device.createBond();\n                }\n\n                Log.d(TAG, \"\" + Device.getBondState());\n                if(Device.getBondState() == BluetoothDevice.BOND_BONDED){\n                    Toast.makeText(BluetoothDiscovery.this, \"Bluetooth device connected successfully\", Toast.LENGTH_SHORT).show();\n                }\n\n                mGatt.getServices();\n                mGatt.getConnectedDevices();\n\n                Log.d(\"THIS IS THE DEVICES UUID\", String.valueOf(Device.getUuids()));\n                Log.d(\"DEVICE SERVICES\", String.valueOf(mGatt.getServices()));\n            }\n        });\n    }\n\n    private final no.nordicsemi.android.support.v18.scanner.ScanCallback mScanCallback = new no.nordicsemi.android.support.v18.scanner.ScanCallback() {\n        @Override\n        public void onScanResult(int callbackType, ScanResult result) {\n            super.onScanResult(callbackType, result);\n\n            Log.i(\"onScanResult\", \"device detected\");\n\n                device = result.getDevice();\n                String deviceName = device.getName();\n                String deviceAddress = device.getAddress();\n\n                Log.d(TAG, \"Scanned device: \" + device.toString());\n                Log.d(TAG, \"Scanned device name: \" + deviceName);\n                Log.d(TAG, \"Scanned device address: \" + deviceAddress);\n\n                foundDevices.add(new deviceShowFormat(device, deviceName, deviceAddress));\n                BTadapter.notifyDataSetChanged();\n        }\n    };\n\n    private final BluetoothGattCallback mGattCallback = new BluetoothGattCallback() {\n        @Override\n        public void onConnectionStateChange(BluetoothGatt gatt, int status, int newState) {\n            super.onConnectionStateChange(gatt, status, newState);\n\n            Log.i(\"onConnectionStateChange\", \"State Changed from: \" + status + \" to \" + newState);\n\n            if (newState == BluetoothProfile.STATE_CONNECTED){\n                Toast.makeText(BluetoothDiscovery.this, \"Attempting service discovery\", Toast.LENGTH_SHORT).show();\n                Log.i(\"onConnectionStateChange\", \"Attempting service discovery: \" + gatt.discoverServices());\n                gatt.discoverServices();\n            } else if (newState == BluetoothProfile.STATE_DISCONNECTED){\n                Toast.makeText(BluetoothDiscovery.this, \"Connection has been terminated\", Toast.LENGTH_SHORT).show();\n            }\n        }\n\n        @Override\n        public void onServicesDiscovered(BluetoothGatt gatt, int status){\n            super.onServicesDiscovered(gatt, status);\n\n            Log.i(\"onServicesDiscovered\", \"Hey, we found a service\");\n\n            if (status != BluetoothGatt.GATT_SUCCESS){\n                // Handle error\n                Log.d(\"onServicesDiscovered\" , \"\" + status);\n                return;\n            }\n\n            BluetoothGattCharacteristic characteristic = gatt.getService(baseUUID).getCharacteristic(rxUUID);\n\n            gatt.setCharacteristicNotification(characteristic, true);\n\n            BluetoothGattDescriptor descriptor = characteristic.getDescriptor(txUUID);\n            descriptor.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\n            gatt.writeDescriptor(descriptor);\n        }\n\n        @Override\n        public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status){\n\n            Log.i(\"onCharacteristicRead\", \"Characteristic has been read\");\n\n            readCounterCharacteristic(characteristic);\n        }\n\n        @Override\n        public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\n            if (mGatt.writeCharacteristic(characteristic)){\n                Log.d(\"Characteristic changed\", \"Possibly looking for a write\");\n            }\n\n            if (mGatt.readCharacteristic(characteristic)){\n                readCounterCharacteristic(characteristic);\n            }\n        }\n\n        private void readCounterCharacteristic(BluetoothGattCharacteristic characteristic){\n\n            if (mGatt.readCharacteristic(characteristic)){\n                byte[] data = characteristic.getValue();\n\n                Log.d(\"READ DATA\", data.toString());\n            }\n\n//            if (rxUUID.equals(characteristic.getUuid())){\n//                //byte[] data = characteristic.getValue();\n//                byte[] data = mGatt.readCharacteristic(characteristic);\n//                //int value = Ints.fromByteArray(data);\n//                Log.d(\"READ DATA\", data.toString());\n//            }\n        }\n    };\n\n    public void toggleScan(View view){\n        mScanning = !mScanning;\n\n        if(mScanning){\n            scanner.startScan(mScanCallback); //Arrays.asList(scanFilter) null, settings,\n            scanButton.setText(getString(R.string.scanInProgress));\n            fancyWords.setText(getString(R.string.ScanTitle));\n\n        } else {\n            scanner.stopScan(mScanCallback);\n            scanButton.setText(getString(R.string.notScanning));\n        }\n    }\n\n//    @Override\n//    public void onPause(){\n//        super.onPause();\n//\n////        if(mScanning){\n////            mScanning = !mScanning;\n//            scanner.stopScan(mScanCallback);\n////        }\n//\n//        //Empty Adapter\n//        //BTadapter.clear();\n//        //BTadapter.notifyDataSetChanged();\n//\n//        //mdevice = device;\n//\n//    }\n//\n//    @Override\n//    public void onResume(){\n//        super.onResume();\n//\n//        if (mBluetoothAdapter == null || !mBluetoothAdapter.isEnabled()) {\n//            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n//            startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\n//        }\n//\n//        //device = mdevice;\n//    }\n\n\n}\n</code></pre>\n\n<p>The code is the second activity in my app, in the first bluetooth is initialized and what-not. The above code works but I dont receive any data from the device and am not sure its truly connected. from the logs shown in the code I get:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lKPQh.png\" rel=\"nofollow noreferrer\">Logcat</a>\n<a href=\"https://i.stack.imgur.com/M3EsZ.png\" rel=\"nofollow noreferrer\">Logcat2</a></p>\n\n<p>Resources im using:</p>\n\n<p><a href=\"https://github.com/NordicSemiconductor/Android-Scanner-Compat-Library\" rel=\"nofollow noreferrer\">https://github.com/NordicSemiconductor/Android-Scanner-Compat-Library</a></p>\n\n<p><a href=\"https://learn.adafruit.com/introducing-the-adafruit-bluefruit-le-uart-friend/uart-service\" rel=\"nofollow noreferrer\">https://learn.adafruit.com/introducing-the-adafruit-bluefruit-le-uart-friend/uart-service</a></p>\n\n<p><a href=\"http://nilhcem.com/android-things/bluetooth-low-energy\" rel=\"nofollow noreferrer\">http://nilhcem.com/android-things/bluetooth-low-energy</a></p>\n"},{"tags":["java","log4j","log4j2","properties-file","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":10122987,"reputation":541,"user_id":7479307,"display_name":"Sunil Sunny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639997920,"creation_date":1639997920,"answer_id":70420782,"question_id":70394366,"body_markdown":"After deep Research I have found one Jar as my solution\r\n\r\nLog4j-jcl-2.16 jar.\r\n\r\nAfter adding this to my build path I am getting all Logs printed in my file","title":"Not Every log is printing in Log files using LOG4j2 Properties file","body":"<p>After deep Research I have found one Jar as my solution</p>\n<p>Log4j-jcl-2.16 jar.</p>\n<p>After adding this to my build path I am getting all Logs printed in my file</p>\n"},{"tags":[],"owner":{"account_id":13640230,"reputation":1,"user_id":20391386,"display_name":"Saurabh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667331401,"creation_date":1667331401,"answer_id":74280985,"question_id":70394366,"body_markdown":"-Dlog4j.configurationFile=/src/main/resources/log4j2.xml in setEnv.bat file solved my problem.\r\n","title":"Not Every log is printing in Log files using LOG4j2 Properties file","body":"<p>-Dlog4j.configurationFile=/src/main/resources/log4j2.xml in setEnv.bat file solved my problem.</p>\n"}],"owner":{"account_id":10122987,"reputation":541,"user_id":7479307,"display_name":"Sunil Sunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70420782,"answer_count":2,"score":1,"last_activity_date":1667331401,"creation_date":1639749799,"question_id":70394366,"body_markdown":"I have configured my webapp in java using log4j2 for logs using properties file.\r\n\r\nWhen I am starting tomcat ,there are so many logs printing in console but in my file only few lines are printing.\r\n\r\nWhat should I do in order to print every line which is present in console to my Log File.\r\n\r\nRecently I have migrated from log 1.x to log 2.16\r\n\r\nWhen I am using log1.x everything is printed in log files which are in console but in log2 its not printing.\r\n\r\nFor Example when I am staring tomcat ,I am getting only my app related logs in the file but not anything related to tomcat startup logs or any other jar related logs\r\n\r\nCan anyone help me on this\r\n\r\nbelow is my config file\r\n\r\nlog4j2 properties:\r\n\r\n    status = all\r\n    \r\n    \r\n    \r\n    appender.console.type = Console\r\n    appender.console.name = LogToConsole\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern = [%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\r\n    \r\n    \r\n    \r\n    #appender.file.type = File\r\n    #appender.file.name = LogToFile\r\n    #appender.file.fileName=logs/app.log\r\n    #appender.file.layout.type=PatternLayout\r\n    #appender.file.layout.pattern=[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\r\n    \r\n    \r\n    \r\n    # Rotate log file\r\n    appender.rolling.type = RollingFile\r\n    appender.rolling.name = LogToRollingFile\r\n    appender.rolling.fileName = ${catalina.home}/logs/SunnyLogs.log\r\n    appender.rolling.filePattern = ${catalina.home}/logs/$${date:yyyy-MM}/SunnyLogs-%d{MM-dd-yyyy}-%i.log.gz\r\n    appender.rolling.layout.type = PatternLayout\r\n    appender.rolling.layout.pattern = %d %p %C{1.} [%t] %m%n\r\n    appender.rolling.policies.type = Policies\r\n    appender.rolling.policies.time.type = TimeBasedTriggeringPolicy\r\n    appender.rolling.policies.size.type = SizeBasedTriggeringPolicy\r\n    appender.rolling.policies.size.size=10MB\r\n    appender.rolling.strategy.type = DefaultRolloverStrategy\r\n    appender.rolling.strategy.max = 10\r\n    \r\n    \r\n    \r\n    # Log to console and rolling file\r\n    logger.app.name = com.sunny.common\r\n    logger.app.level = all\r\n    logger.app.additivity = false\r\n    logger.app.appenderRef.rolling.ref = LogToRollingFile\r\n    logger.app.appenderRef.console.ref = LogToConsole\r\n    \r\n    \r\n    \r\n    rootLogger.level = all\r\n    rootLogger.appenderRef.stdout.ref = LogToConsole\r\n\r\n\r\n\r\n\r\n\r\n","title":"Not Every log is printing in Log files using LOG4j2 Properties file","body":"<p>I have configured my webapp in java using log4j2 for logs using properties file.</p>\n<p>When I am starting tomcat ,there are so many logs printing in console but in my file only few lines are printing.</p>\n<p>What should I do in order to print every line which is present in console to my Log File.</p>\n<p>Recently I have migrated from log 1.x to log 2.16</p>\n<p>When I am using log1.x everything is printed in log files which are in console but in log2 its not printing.</p>\n<p>For Example when I am staring tomcat ,I am getting only my app related logs in the file but not anything related to tomcat startup logs or any other jar related logs</p>\n<p>Can anyone help me on this</p>\n<p>below is my config file</p>\n<p>log4j2 properties:</p>\n<pre><code>status = all\n\n\n\nappender.console.type = Console\nappender.console.name = LogToConsole\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = [%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\n\n\n\n#appender.file.type = File\n#appender.file.name = LogToFile\n#appender.file.fileName=logs/app.log\n#appender.file.layout.type=PatternLayout\n#appender.file.layout.pattern=[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\n\n\n\n# Rotate log file\nappender.rolling.type = RollingFile\nappender.rolling.name = LogToRollingFile\nappender.rolling.fileName = ${catalina.home}/logs/SunnyLogs.log\nappender.rolling.filePattern = ${catalina.home}/logs/$${date:yyyy-MM}/SunnyLogs-%d{MM-dd-yyyy}-%i.log.gz\nappender.rolling.layout.type = PatternLayout\nappender.rolling.layout.pattern = %d %p %C{1.} [%t] %m%n\nappender.rolling.policies.type = Policies\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\nappender.rolling.policies.size.type = SizeBasedTriggeringPolicy\nappender.rolling.policies.size.size=10MB\nappender.rolling.strategy.type = DefaultRolloverStrategy\nappender.rolling.strategy.max = 10\n\n\n\n# Log to console and rolling file\nlogger.app.name = com.sunny.common\nlogger.app.level = all\nlogger.app.additivity = false\nlogger.app.appenderRef.rolling.ref = LogToRollingFile\nlogger.app.appenderRef.console.ref = LogToConsole\n\n\n\nrootLogger.level = all\nrootLogger.appenderRef.stdout.ref = LogToConsole\n</code></pre>\n"},{"tags":["java","grid","vaadin"],"comments":[{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":0,"creation_date":1667293275,"post_id":74252596,"comment_id":131128710,"body_markdown":"Where do you set the grid content? Usually when you do this in a background thread it load async.","body":"Where do you set the grid content? Usually when you do this in a background thread it load async."},{"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"score":0,"creation_date":1667320670,"post_id":74252596,"comment_id":131137962,"body_markdown":"I call the `setupGrid()` method in the view constructor.","body":"I call the <code>setupGrid()</code> method in the view constructor."}],"answers":[{"tags":[],"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667331349,"creation_date":1667331349,"answer_id":74280973,"question_id":74252596,"body_markdown":"I have found a solution to my problem on the [Vaadin documentantion][1] page for Server Push. What I needed to add, was that in the `getIconColumn()` method the `asyncLoadIcon()` action with callback is started in a separate `Thread` each time. This has resulted in me getting the grid outline instantly, along with the easily generated content and some empty image icons. The image icons are then gradually filled in when the async method finishes. Here is the update code:\r\n\r\n  \r\n\r\n      private Image getIconColumn(MangaEntity entity) {\r\n        Image image = new Image(&quot;&quot;, &quot;&quot;);\r\n        image.setHeight(&quot;150px&quot;);\r\n        image.setWidth(&quot;100px&quot;);\r\n    \r\n        UI ui = UI.getCurrent();\r\n        new Thread(() -&gt; rsCrawler.asyncLoadIcon(entity.getUrlName())\r\n            .addCallback(\r\n                result -&gt; ui.access(() -&gt; image.setSrc(result)),\r\n                err -&gt; ui.access(() -&gt; Notification.show(&quot;Failed to parse icon for &quot; + entity.getName()))\r\n            )).start();\r\n    \r\n        return image;\r\n      }\r\n\r\n\r\n  [1]: https://vaadin.com/docs/latest/advanced/server-push","title":"Grid content loads &quot;synchronously&quot; when it should not","body":"<p>I have found a solution to my problem on the <a href=\"https://vaadin.com/docs/latest/advanced/server-push\" rel=\"nofollow noreferrer\">Vaadin documentantion</a> page for Server Push. What I needed to add, was that in the <code>getIconColumn()</code> method the <code>asyncLoadIcon()</code> action with callback is started in a separate <code>Thread</code> each time. This has resulted in me getting the grid outline instantly, along with the easily generated content and some empty image icons. The image icons are then gradually filled in when the async method finishes. Here is the update code:</p>\n<pre><code>  private Image getIconColumn(MangaEntity entity) {\n    Image image = new Image(&quot;&quot;, &quot;&quot;);\n    image.setHeight(&quot;150px&quot;);\n    image.setWidth(&quot;100px&quot;);\n\n    UI ui = UI.getCurrent();\n    new Thread(() -&gt; rsCrawler.asyncLoadIcon(entity.getUrlName())\n        .addCallback(\n            result -&gt; ui.access(() -&gt; image.setSrc(result)),\n            err -&gt; ui.access(() -&gt; Notification.show(&quot;Failed to parse icon for &quot; + entity.getName()))\n        )).start();\n\n    return image;\n  }\n</code></pre>\n"}],"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74280973,"answer_count":1,"score":0,"last_activity_date":1667331349,"creation_date":1667128846,"question_id":74252596,"body_markdown":"I am using vaadin grid with push enabled and an asynchronous method to fetch some data. What I would expect is that the data that is already present in the entity is loaded instantly and the data that is loaded using an asynchronous method is loaded using callback. What currently happens is that the outer grid structure is loaded but the content is loaded after a longer period of time all at once. Here is sample code:\r\n\r\n    private void setupGrid() {\r\n      // String grid for illustration\r\n      Grid&lt;String&gt; grid = new Grid&lt;&gt;();\r\n      grid.addComponentColumn(this::getIconColumn).setHeader(&quot;Name&quot;);\r\n\r\n      // other entity items would be displayed here\r\n      // grid.addComponentColumn(this::getMainColumn).setHeader(&quot;Other&quot;);\r\n\r\n      grid.setItems(&quot;2800-player-who-returned-10000-years-later&quot;,\r\n        &quot;2633-duke-pendragon&quot;, &quot;8713-dungeon-reset&quot;);\r\n\r\n      // this allows the outer grid structure to be displayed while not blocking UI\r\n      // but content is still loaded &quot;synchronously&quot; - all at once, not one by one\r\n      grid.getDataCommunicator().enablePushUpdates(Executors.newCachedThreadPool());\r\n\r\n      add(grid);\r\n    }\r\n    \r\n    private Image getIconColumn(String entityName) {\r\n      Image image = new Image(&quot;&quot;, &quot;&quot;);\r\n      image.setHeight(&quot;150px&quot;);\r\n      image.setWidth(&quot;100px&quot;);\r\n\r\n      UI ui = UI.getCurrent();\r\n      asyncLoadIcon(entityName)\r\n          .addCallback(\r\n              result -&gt; ui.access(() -&gt; image.setSrc(result)),\r\n              err -&gt; ui.access(() -&gt; Notification.show(&quot;Failed to parse icon for &quot; + entityName))\r\n          );\r\n    \r\n      return image;\r\n    }\r\n\r\nAnd finally the async method with `Thread.sleep(3000)` for illustration purposes.\r\n  \r\n\r\n    @Async\r\n    public ListenableFuture&lt;String&gt; asyncLoadIcon(String entityName) {\r\n      try {\r\n        // some real code\r\n    \r\n        Thread.sleep(3000);\r\n        return AsyncResult.forValue(entityname);\r\n    \r\n      } catch (IOException | InterruptedException e) {\r\n        log.error(e);\r\n      }\r\n      return AsyncResult.forExecutionException(new RuntimeException(&quot;Error&quot;));\r\n    }","title":"Grid content loads &quot;synchronously&quot; when it should not","body":"<p>I am using vaadin grid with push enabled and an asynchronous method to fetch some data. What I would expect is that the data that is already present in the entity is loaded instantly and the data that is loaded using an asynchronous method is loaded using callback. What currently happens is that the outer grid structure is loaded but the content is loaded after a longer period of time all at once. Here is sample code:</p>\n<pre><code>private void setupGrid() {\n  // String grid for illustration\n  Grid&lt;String&gt; grid = new Grid&lt;&gt;();\n  grid.addComponentColumn(this::getIconColumn).setHeader(&quot;Name&quot;);\n\n  // other entity items would be displayed here\n  // grid.addComponentColumn(this::getMainColumn).setHeader(&quot;Other&quot;);\n\n  grid.setItems(&quot;2800-player-who-returned-10000-years-later&quot;,\n    &quot;2633-duke-pendragon&quot;, &quot;8713-dungeon-reset&quot;);\n\n  // this allows the outer grid structure to be displayed while not blocking UI\n  // but content is still loaded &quot;synchronously&quot; - all at once, not one by one\n  grid.getDataCommunicator().enablePushUpdates(Executors.newCachedThreadPool());\n\n  add(grid);\n}\n\nprivate Image getIconColumn(String entityName) {\n  Image image = new Image(&quot;&quot;, &quot;&quot;);\n  image.setHeight(&quot;150px&quot;);\n  image.setWidth(&quot;100px&quot;);\n\n  UI ui = UI.getCurrent();\n  asyncLoadIcon(entityName)\n      .addCallback(\n          result -&gt; ui.access(() -&gt; image.setSrc(result)),\n          err -&gt; ui.access(() -&gt; Notification.show(&quot;Failed to parse icon for &quot; + entityName))\n      );\n\n  return image;\n}\n</code></pre>\n<p>And finally the async method with <code>Thread.sleep(3000)</code> for illustration purposes.</p>\n<pre><code>@Async\npublic ListenableFuture&lt;String&gt; asyncLoadIcon(String entityName) {\n  try {\n    // some real code\n\n    Thread.sleep(3000);\n    return AsyncResult.forValue(entityname);\n\n  } catch (IOException | InterruptedException e) {\n    log.error(e);\n  }\n  return AsyncResult.forExecutionException(new RuntimeException(&quot;Error&quot;));\n}\n</code></pre>\n"},{"tags":["java","arraylist","static"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1667318814,"post_id":74278551,"comment_id":131137261,"body_markdown":"`readFile()` is instance method. Why exactly are you trying to invoke it as a static one?","body":"<code>readFile()</code> is instance method. Why exactly are you trying to invoke it as a static one?"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1667318861,"post_id":74278551,"comment_id":131137278,"body_markdown":"So long as InputFileFactory,getInstance() works and returns an instance of a concrete subclass, it looks like `List&lt;Request&gt; requests = AbstractInputFile.readFile();` should be `List&lt;Request&gt; requests = fact.readFile();`","body":"So long as InputFileFactory,getInstance() works and returns an instance of a concrete subclass, it looks like <code>List&lt;Request&gt; requests = AbstractInputFile.readFile();</code> should be <code>List&lt;Request&gt; requests = fact.readFile();</code>"}],"answers":[{"tags":[],"owner":{"account_id":26798077,"reputation":16,"user_id":20390488,"display_name":"Emily Sub"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667331150,"creation_date":1667331150,"answer_id":74280949,"question_id":74278551,"body_markdown":"First things first, AbstractInputFile.readFile() can&#39;t be called for 2 reasons:  readFile() in the AbstractInputFile class is abstract, and it is an instance method. \r\n\r\nFrom what you wrote here, you implement the readFile() method in the subclass, CSVInputFileImpl. Therefore, in this case, your readFile() calls should be based on THIS class, not AbstractInputFile. However, this is still classified as an instance method, meaning you need to first create an instance of CSVInputFileImpl before you can call readFile(). I would correct the code like this (I&#39;m making assumptions that the CSVInputFileImpl class is structured the same as AbstractInputFile, but make sure the file instance var is set):\r\n\r\n\r\n    CSVInputFileImpl csvInputFileImpl = new CSVInputFileImpl();\r\n    csvInputFileImpl.setFile(file);\r\n    List&lt;Request&gt; requests = csvInputFileImpl.readFile();\r\n    return requests;\r\n","title":"How to access value of an abstract method in a different class?","body":"<p>First things first, AbstractInputFile.readFile() can't be called for 2 reasons:  readFile() in the AbstractInputFile class is abstract, and it is an instance method.</p>\n<p>From what you wrote here, you implement the readFile() method in the subclass, CSVInputFileImpl. Therefore, in this case, your readFile() calls should be based on THIS class, not AbstractInputFile. However, this is still classified as an instance method, meaning you need to first create an instance of CSVInputFileImpl before you can call readFile(). I would correct the code like this (I'm making assumptions that the CSVInputFileImpl class is structured the same as AbstractInputFile, but make sure the file instance var is set):</p>\n<pre><code>CSVInputFileImpl csvInputFileImpl = new CSVInputFileImpl();\ncsvInputFileImpl.setFile(file);\nList&lt;Request&gt; requests = csvInputFileImpl.readFile();\nreturn requests;\n</code></pre>\n"}],"owner":{"account_id":21505789,"reputation":29,"user_id":15849197,"display_name":"jessa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74280949,"answer_count":1,"score":0,"last_activity_date":1667331150,"creation_date":1667318215,"question_id":74278551,"body_markdown":"`AbstractInputFile` is an abstract class and has the following code below:\r\n\r\n```\r\npublic abstract class AbstractInputFile {\r\n\r\n    static final public int MIN_BILLING_CYCLE = 1;\r\n    static final public int MAX_BILLING_CYCLE = 12;\r\n\r\n    private File file;\r\n\r\n    public AbstractInputFile() {\r\n\r\n    }\r\n\r\n    public abstract List&lt;Request&gt; readFile() throws IOException, BarsException;\r\n\r\n    public File getFile() {\r\n\r\n        return file;\r\n    }\r\n\r\n    public void setFile(File file) {\r\n        this.file = file;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n`CSVInputFileImpl` is a subclass of `AbstractInputFile`, thus inheriting the readFile() method. What it does is it reads the contents of a csv file using a buffered reader, stores it in an arraylist, and returns it.\r\n\r\n```\r\n    public List&lt;Request&gt; readFile() throws IOException, BarsException {\r\n        List&lt;Request&gt; requests = new ArrayList&lt;&gt;();\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\r\n        \r\n        String line = &quot;&quot;;\r\n\r\n        //READ CSV FILE\r\n        try {\r\n            BufferedReader br = new BufferedReader(new FileReader(getFile()));\r\n            int row = 1;\r\n            int index = 0;\r\n\r\n            while ((line = br.readLine()) != null) {\r\n                String[] data = line.split(&quot;,&quot;, 3);\r\n\r\n                //Validate if billing cycle ranges 1-12\r\n                try {\r\n                    int billingCycle = Integer.parseInt(data[0]);\r\n\r\n                    if(billingCycle &lt;= MAX_BILLING_CYCLE &amp;&amp; billingCycle &gt;= MIN_BILLING_CYCLE) {\r\n                        request.setBillingCycle(billingCycle);\r\n\r\n                    } else {\r\n                        log.error(BILLING_CYCLE_NOT_ON_RANGE +  row);\r\n                        throw new BarsException(BILLING_CYCLE_NOT_ON_RANGE +  row);\r\n                    }\r\n\r\n                } catch (BarsException e) {\r\n                    log.error(INVALID_BILLING_CYCLE + row);\r\n                    throw new BarsException(INVALID_BILLING_CYCLE + row);\r\n                }\r\n\r\n\r\n                //Validate start date\r\n                try {\r\n                    LocalDate startDate = LocalDate.parse(data[1], formatter);\r\n                    request.setStartDate(startDate);\r\n\r\n                } catch (DateTimeParseException e) {\r\n                    log.error(INVALID_START_DATE_FORMAT + row);\r\n                    throw new BarsException(INVALID_START_DATE_FORMAT + row);\r\n                }\r\n\r\n\r\n                //Validate end date\r\n                try {\r\n                    LocalDate endDate = LocalDate.parse(data[2], formatter);\r\n                    request.setStartDate(endDate);\r\n\r\n                } catch (DateTimeParseException e) {\r\n                    log.error(INVALID_END_DATE_FORMAT + row);\r\n                    throw new BarsException(INVALID_END_DATE_FORMAT + row);\r\n                }\r\n\r\n                row++;\r\n\r\n\r\n                //Add the requests to array list created previously\r\n                requests.add(index,new Request(request.getBillingCycle(), request.getStartDate(), request.getEndDate()));\r\n                index++;\r\n\r\n           }\r\n\r\n        //Validate if file exists\r\n        } catch (FileNotFoundException e) {\r\n            throw new BarsException(NO_SUPPORTED_FILE);\r\n\r\n\r\n        } catch (IOException e) {\r\n            throw new IOException(PATH_DOES_NOT_EXIST);\r\n        }\r\n\r\n        return requests;\r\n    }\r\n```\r\nIn another public class `FileProcessor`, I am instructed to get the array list using `List&lt;Request&gt; requests = abstractInputFile.readFile();` but is unable to do so because I am getting the error `Non-static method &#39;readFile()&#39; cannot be referenced from a static context`.\r\n```\r\n    public List&lt;Request&gt; execute(File file) throws BarsException {\r\n\r\n        InputFileFactory fact = InputFileFactory.getInstance();\r\n\r\n        try {\r\n            fact.getInputFile(file);\r\n        } catch (BarsException e) {\r\n            throw new BarsException(NO_SUPPORTED_FILE);\r\n        }\r\n\r\n        List&lt;Request&gt; requests = AbstractInputFile.readFile();\r\n\r\n        return requests;\r\n\r\n    }\r\n```\r\nMy question is: How will I be able to retrieve the arraylist and return it in the `execute(file)` method? There might be a lot more errors in other areas of the code and logic but I&#39;d appreciate any help and suggestions.","title":"How to access value of an abstract method in a different class?","body":"<p><code>AbstractInputFile</code> is an abstract class and has the following code below:</p>\n<pre><code>public abstract class AbstractInputFile {\n\n    static final public int MIN_BILLING_CYCLE = 1;\n    static final public int MAX_BILLING_CYCLE = 12;\n\n    private File file;\n\n    public AbstractInputFile() {\n\n    }\n\n    public abstract List&lt;Request&gt; readFile() throws IOException, BarsException;\n\n    public File getFile() {\n\n        return file;\n    }\n\n    public void setFile(File file) {\n        this.file = file;\n    }\n\n}\n</code></pre>\n<p><code>CSVInputFileImpl</code> is a subclass of <code>AbstractInputFile</code>, thus inheriting the readFile() method. What it does is it reads the contents of a csv file using a buffered reader, stores it in an arraylist, and returns it.</p>\n<pre><code>    public List&lt;Request&gt; readFile() throws IOException, BarsException {\n        List&lt;Request&gt; requests = new ArrayList&lt;&gt;();\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;);\n        \n        String line = &quot;&quot;;\n\n        //READ CSV FILE\n        try {\n            BufferedReader br = new BufferedReader(new FileReader(getFile()));\n            int row = 1;\n            int index = 0;\n\n            while ((line = br.readLine()) != null) {\n                String[] data = line.split(&quot;,&quot;, 3);\n\n                //Validate if billing cycle ranges 1-12\n                try {\n                    int billingCycle = Integer.parseInt(data[0]);\n\n                    if(billingCycle &lt;= MAX_BILLING_CYCLE &amp;&amp; billingCycle &gt;= MIN_BILLING_CYCLE) {\n                        request.setBillingCycle(billingCycle);\n\n                    } else {\n                        log.error(BILLING_CYCLE_NOT_ON_RANGE +  row);\n                        throw new BarsException(BILLING_CYCLE_NOT_ON_RANGE +  row);\n                    }\n\n                } catch (BarsException e) {\n                    log.error(INVALID_BILLING_CYCLE + row);\n                    throw new BarsException(INVALID_BILLING_CYCLE + row);\n                }\n\n\n                //Validate start date\n                try {\n                    LocalDate startDate = LocalDate.parse(data[1], formatter);\n                    request.setStartDate(startDate);\n\n                } catch (DateTimeParseException e) {\n                    log.error(INVALID_START_DATE_FORMAT + row);\n                    throw new BarsException(INVALID_START_DATE_FORMAT + row);\n                }\n\n\n                //Validate end date\n                try {\n                    LocalDate endDate = LocalDate.parse(data[2], formatter);\n                    request.setStartDate(endDate);\n\n                } catch (DateTimeParseException e) {\n                    log.error(INVALID_END_DATE_FORMAT + row);\n                    throw new BarsException(INVALID_END_DATE_FORMAT + row);\n                }\n\n                row++;\n\n\n                //Add the requests to array list created previously\n                requests.add(index,new Request(request.getBillingCycle(), request.getStartDate(), request.getEndDate()));\n                index++;\n\n           }\n\n        //Validate if file exists\n        } catch (FileNotFoundException e) {\n            throw new BarsException(NO_SUPPORTED_FILE);\n\n\n        } catch (IOException e) {\n            throw new IOException(PATH_DOES_NOT_EXIST);\n        }\n\n        return requests;\n    }\n</code></pre>\n<p>In another public class <code>FileProcessor</code>, I am instructed to get the array list using <code>List&lt;Request&gt; requests = abstractInputFile.readFile();</code> but is unable to do so because I am getting the error <code>Non-static method 'readFile()' cannot be referenced from a static context</code>.</p>\n<pre><code>    public List&lt;Request&gt; execute(File file) throws BarsException {\n\n        InputFileFactory fact = InputFileFactory.getInstance();\n\n        try {\n            fact.getInputFile(file);\n        } catch (BarsException e) {\n            throw new BarsException(NO_SUPPORTED_FILE);\n        }\n\n        List&lt;Request&gt; requests = AbstractInputFile.readFile();\n\n        return requests;\n\n    }\n</code></pre>\n<p>My question is: How will I be able to retrieve the arraylist and return it in the <code>execute(file)</code> method? There might be a lot more errors in other areas of the code and logic but I'd appreciate any help and suggestions.</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"answers":[{"comments":[{"owner":{"account_id":14975877,"reputation":516,"user_id":10811334,"display_name":"xiaoyu2006"},"score":0,"creation_date":1667579185,"post_id":74280865,"comment_id":131207477,"body_markdown":"Put this into the comment section.","body":"Put this into the comment section."}],"tags":[],"owner":{"account_id":26770511,"reputation":1,"user_id":20366969,"display_name":"Greenlight Shadow"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667330636,"creation_date":1667330636,"answer_id":74280865,"question_id":74247127,"body_markdown":"Well, I didn&#39;t get an answer after searching this code, but I accidently found that golem is trying to replace bean with dropped ones. That technicaly solved my problem by half. `this.theWorld.func_147465_d(this.xx, this.yy, this.zz, ConfigBlocks.blockManaPod, 0, 3);`  This line is telling me about this, but it has no clue about specific aspect, random only","title":"Thaumcraft4 - Golem Core &quot;Harvest&quot; - Bug with magic beans","body":"<p>Well, I didn't get an answer after searching this code, but I accidently found that golem is trying to replace bean with dropped ones. That technicaly solved my problem by half. <code>this.theWorld.func_147465_d(this.xx, this.yy, this.zz, ConfigBlocks.blockManaPod, 0, 3);</code>  This line is telling me about this, but it has no clue about specific aspect, random only</p>\n"}],"owner":{"account_id":26770511,"reputation":1,"user_id":20366969,"display_name":"Greenlight Shadow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1667687954,"accepted_answer_id":74280865,"answer_count":1,"score":-1,"last_activity_date":1667330636,"creation_date":1667062418,"question_id":74247127,"body_markdown":"I&#39;ve got a mana bean farm with different segments according of bean type each. There are golems with &quot;Harvest&quot; core and Ordo upgrade are harvesting them. They cannot reach the segments they are not bellongs. But sometimes I saw that in a neighbour segment is growing bean(s) with wrong aspect. In my case there are Vitium and Spiritus, but that is not important. Later I had an investigation of code and found something in it.\r\n\r\n`\r\n```\r\n void harvest() {\r\n        this.count = 200;\r\n        final int md = this.blockMd;\r\n        final FakePlayer fp = FakePlayerFactory.get((WorldServer)this.theWorld, new GameProfile((UUID)null, &quot;FakeThaumcraftGolem&quot;));\r\n        fp.func_70107_b(this.theGolem.field_70165_t, this.theGolem.field_70163_u, this.theGolem.field_70161_v);\r\n        if (CropUtils.clickableCrops.contains(this.block.func_149739_a() + md)) {\r\n            this.block.func_149727_a(this.theWorld, this.xx, this.yy, this.zz, (EntityPlayer)fp, 0, 0.0f, 0.0f, 0.0f);\r\n        }\r\n        else {\r\n            this.theWorld.func_147480_a(this.xx, this.yy, this.zz, true);\r\n            if (this.theGolem.getUpgradeAmount(4) &gt; 0) {\r\n                final ArrayList&lt;ItemStack&gt; items = new ArrayList&lt;ItemStack&gt;();\r\n                final ArrayList&lt;Entity&gt; drops = (ArrayList&lt;Entity&gt;)EntityUtils.getEntitiesInRange(this.theWorld, this.theGolem.field_70165_t, this.theGolem.field_70163_u, this.theGolem.field_70161_v, (Entity)this.theGolem, (Class)EntityItem.class, 6.0);\r\n                if (drops.size() &gt; 0) {\r\n                    for (final Entity e : drops) {\r\n                        if (e instanceof EntityItem) {\r\n                            if (e.field_70173_aa &lt; 2) {\r\n                                Vec3 v = Vec3.func_72443_a(e.field_70165_t - this.theGolem.field_70165_t, e.field_70163_u - this.theGolem.field_70163_u, e.field_70161_v - this.theGolem.field_70161_v);\r\n                                v = v.func_72432_b();\r\n                                e.field_70159_w = -v.field_72450_a / 4.0;\r\n                                e.field_70181_x = 0.075;\r\n                                e.field_70179_y = -v.field_72449_c / 4.0;\r\n                            }\r\n                            boolean done = false;\r\n                            final EntityItem item = (EntityItem)e;\r\n                            final ItemStack st = item.func_92059_d();\r\n                            if (st.func_77973_b() != null &amp;&amp; st.func_77973_b() == Items.field_151100_aR &amp;&amp; st.func_77960_j() == 3) {\r\n                                final int var5 = BlockDirectional.func_149895_l(this.blockMd);\r\n                                final int par2 = this.xx + Direction.field_71583_a[var5];\r\n                                final int par3 = this.zz + Direction.field_71581_b[var5];\r\n                                final Block var6 = this.theWorld.func_147439_a(par2, this.yy, par3);\r\n                                if (var6 == Blocks.field_150364_r &amp;&amp; BlockLog.func_150165_c(this.theWorld.func_72805_g(par2, this.yy, par3)) == 3) {\r\n                                    final ItemStack itemStack = st;\r\n                                    --itemStack.field_77994_a;\r\n                                    this.theWorld.func_147465_d(this.xx, this.yy, this.zz, Blocks.field_150375_by, BlockDirectional.func_149895_l(this.blockMd), 3);\r\n                                }\r\n                                done = true;\r\n                            }\r\n                            else if (st.func_77973_b() != null &amp;&amp; st.func_77973_b() == ConfigItems.itemManaBean) {\r\n                                if (this.block.func_149707_d(this.theWorld, this.xx, this.yy, this.zz, 0)) {\r\n                                    final ItemStack itemStack2 = st;\r\n                                    --itemStack2.field_77994_a;\r\n                                    if (!st.func_77973_b().func_77648_a(st.func_77946_l(), (EntityPlayer)fp, this.theWorld, this.xx, this.yy + 1, this.zz, 0, 0.5f, 0.5f, 0.5f)) {\r\n                                        this.theWorld.func_147465_d(this.xx, this.yy, this.zz, ConfigBlocks.blockManaPod, 0, 3);\r\n                                    }\r\n                                }\r\n                                done = true;\r\n                            }\r\n                            else {\r\n                                final int[] xm = { 0, 0, 1, 1, -1, 0, -1, -1, 1 };\r\n                                final int[] zm = { 0, 1, 0, 1, 0, -1, -1, 1, -1 };\r\n                                for (int count = 0; st != null &amp;&amp; st.field_77994_a &gt; 0 &amp;&amp; count &lt; 9; ++count) {\r\n                                    if (st.func_77973_b() != null &amp;&amp; (st.func_77973_b() instanceof IPlantable || st.func_77973_b() instanceof ItemSeedFood) &amp;&amp; st.func_77973_b().func_77648_a(st.func_77946_l(), (EntityPlayer)fp, this.theWorld, this.xx + xm[count], this.yy - 1, this.zz + zm[count], ForgeDirection.UP.ordinal(), 0.5f, 0.5f, 0.5f)) {\r\n                                        final ItemStack itemStack3 = st;\r\n                                        --itemStack3.field_77994_a;\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (st.field_77994_a &lt;= 0) {\r\n                                item.func_70106_y();\r\n                            }\r\n                            else {\r\n                                item.func_92058_a(st);\r\n                            }\r\n                            if (done) {\r\n                                break;\r\n                            }\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        fp.func_70106_y();\r\n        this.theGolem.startActionTimer();\r\n    }\r\n```\r\n`\r\n\r\nThe key is in first &#39;else&#39; is starts with condition &quot;this.theGolem.getUpgradeAmount(4) &gt; 0&quot;. I&#39;ve seen in the different file that upgrade with 4 ID is exactly an Ordo upgrade, but I&#39;m not familiar with Java and I can&#39;t see what&#39;s going on here and how to fix my problem with &quot;beans shuffle&quot;. Is anybody have any clue how to override this logic or where actually in code is caused a problem? Preventively thanks for any answer","title":"Thaumcraft4 - Golem Core &quot;Harvest&quot; - Bug with magic beans","body":"<p>I've got a mana bean farm with different segments according of bean type each. There are golems with &quot;Harvest&quot; core and Ordo upgrade are harvesting them. They cannot reach the segments they are not bellongs. But sometimes I saw that in a neighbour segment is growing bean(s) with wrong aspect. In my case there are Vitium and Spiritus, but that is not important. Later I had an investigation of code and found something in it.</p>\n<p>`</p>\n<pre><code> void harvest() {\n        this.count = 200;\n        final int md = this.blockMd;\n        final FakePlayer fp = FakePlayerFactory.get((WorldServer)this.theWorld, new GameProfile((UUID)null, &quot;FakeThaumcraftGolem&quot;));\n        fp.func_70107_b(this.theGolem.field_70165_t, this.theGolem.field_70163_u, this.theGolem.field_70161_v);\n        if (CropUtils.clickableCrops.contains(this.block.func_149739_a() + md)) {\n            this.block.func_149727_a(this.theWorld, this.xx, this.yy, this.zz, (EntityPlayer)fp, 0, 0.0f, 0.0f, 0.0f);\n        }\n        else {\n            this.theWorld.func_147480_a(this.xx, this.yy, this.zz, true);\n            if (this.theGolem.getUpgradeAmount(4) &gt; 0) {\n                final ArrayList&lt;ItemStack&gt; items = new ArrayList&lt;ItemStack&gt;();\n                final ArrayList&lt;Entity&gt; drops = (ArrayList&lt;Entity&gt;)EntityUtils.getEntitiesInRange(this.theWorld, this.theGolem.field_70165_t, this.theGolem.field_70163_u, this.theGolem.field_70161_v, (Entity)this.theGolem, (Class)EntityItem.class, 6.0);\n                if (drops.size() &gt; 0) {\n                    for (final Entity e : drops) {\n                        if (e instanceof EntityItem) {\n                            if (e.field_70173_aa &lt; 2) {\n                                Vec3 v = Vec3.func_72443_a(e.field_70165_t - this.theGolem.field_70165_t, e.field_70163_u - this.theGolem.field_70163_u, e.field_70161_v - this.theGolem.field_70161_v);\n                                v = v.func_72432_b();\n                                e.field_70159_w = -v.field_72450_a / 4.0;\n                                e.field_70181_x = 0.075;\n                                e.field_70179_y = -v.field_72449_c / 4.0;\n                            }\n                            boolean done = false;\n                            final EntityItem item = (EntityItem)e;\n                            final ItemStack st = item.func_92059_d();\n                            if (st.func_77973_b() != null &amp;&amp; st.func_77973_b() == Items.field_151100_aR &amp;&amp; st.func_77960_j() == 3) {\n                                final int var5 = BlockDirectional.func_149895_l(this.blockMd);\n                                final int par2 = this.xx + Direction.field_71583_a[var5];\n                                final int par3 = this.zz + Direction.field_71581_b[var5];\n                                final Block var6 = this.theWorld.func_147439_a(par2, this.yy, par3);\n                                if (var6 == Blocks.field_150364_r &amp;&amp; BlockLog.func_150165_c(this.theWorld.func_72805_g(par2, this.yy, par3)) == 3) {\n                                    final ItemStack itemStack = st;\n                                    --itemStack.field_77994_a;\n                                    this.theWorld.func_147465_d(this.xx, this.yy, this.zz, Blocks.field_150375_by, BlockDirectional.func_149895_l(this.blockMd), 3);\n                                }\n                                done = true;\n                            }\n                            else if (st.func_77973_b() != null &amp;&amp; st.func_77973_b() == ConfigItems.itemManaBean) {\n                                if (this.block.func_149707_d(this.theWorld, this.xx, this.yy, this.zz, 0)) {\n                                    final ItemStack itemStack2 = st;\n                                    --itemStack2.field_77994_a;\n                                    if (!st.func_77973_b().func_77648_a(st.func_77946_l(), (EntityPlayer)fp, this.theWorld, this.xx, this.yy + 1, this.zz, 0, 0.5f, 0.5f, 0.5f)) {\n                                        this.theWorld.func_147465_d(this.xx, this.yy, this.zz, ConfigBlocks.blockManaPod, 0, 3);\n                                    }\n                                }\n                                done = true;\n                            }\n                            else {\n                                final int[] xm = { 0, 0, 1, 1, -1, 0, -1, -1, 1 };\n                                final int[] zm = { 0, 1, 0, 1, 0, -1, -1, 1, -1 };\n                                for (int count = 0; st != null &amp;&amp; st.field_77994_a &gt; 0 &amp;&amp; count &lt; 9; ++count) {\n                                    if (st.func_77973_b() != null &amp;&amp; (st.func_77973_b() instanceof IPlantable || st.func_77973_b() instanceof ItemSeedFood) &amp;&amp; st.func_77973_b().func_77648_a(st.func_77946_l(), (EntityPlayer)fp, this.theWorld, this.xx + xm[count], this.yy - 1, this.zz + zm[count], ForgeDirection.UP.ordinal(), 0.5f, 0.5f, 0.5f)) {\n                                        final ItemStack itemStack3 = st;\n                                        --itemStack3.field_77994_a;\n                                    }\n                                }\n                            }\n                            if (st.field_77994_a &lt;= 0) {\n                                item.func_70106_y();\n                            }\n                            else {\n                                item.func_92058_a(st);\n                            }\n                            if (done) {\n                                break;\n                            }\n                            continue;\n                        }\n                    }\n                }\n            }\n        }\n        fp.func_70106_y();\n        this.theGolem.startActionTimer();\n    }\n</code></pre>\n<p>`</p>\n<p>The key is in first 'else' is starts with condition &quot;this.theGolem.getUpgradeAmount(4) &gt; 0&quot;. I've seen in the different file that upgrade with 4 ID is exactly an Ordo upgrade, but I'm not familiar with Java and I can't see what's going on here and how to fix my problem with &quot;beans shuffle&quot;. Is anybody have any clue how to override this logic or where actually in code is caused a problem? Preventively thanks for any answer</p>\n"},{"tags":["java","json","aws-sdk","amazon-dynamodb-streams"],"comments":[{"owner":{"account_id":3833354,"reputation":1068,"user_id":3178342,"accept_rate":68,"display_name":"Asanga Dewaguru"},"score":0,"creation_date":1466657721,"post_id":37655755,"comment_id":63410310,"body_markdown":"My real intention here was to send the data from Dynamodb to elastic search server when an item is inserted / updated /Deleted in Dynamodb . I&#39;ve managed to achieve that using the python lambda code template which is available on AWS user console (create new lambda function section). So without any concern about getting the pure json string out of the Dynamodb stream event, I&#39;ve been managed to send data directly from Dynamodb stream to Amazon Elastic search service using the above mentioned code template. Hope this helps for someone.","body":"My real intention here was to send the data from Dynamodb to elastic search server when an item is inserted / updated /Deleted in Dynamodb . I&#39;ve managed to achieve that using the python lambda code template which is available on AWS user console (create new lambda function section). So without any concern about getting the pure json string out of the Dynamodb stream event, I&#39;ve been managed to send data directly from Dynamodb stream to Amazon Elastic search service using the above mentioned code template. Hope this helps for someone."}],"answers":[{"comments":[{"owner":{"account_id":1392562,"reputation":7482,"user_id":1323014,"accept_rate":81,"display_name":"Marckaraujo"},"score":0,"creation_date":1487792479,"post_id":38822308,"comment_id":71948560,"body_markdown":"can you bring more detail about this?","body":"can you bring more detail about this?"},{"owner":{"account_id":5537960,"reputation":31,"user_id":4395605,"display_name":"shailender arya"},"score":0,"creation_date":1489481949,"post_id":38822308,"comment_id":72677199,"body_markdown":"Didnt understand the comment. What details do you want ?","body":"Didnt understand the comment. What details do you want ?"},{"owner":{"account_id":1615057,"reputation":7079,"user_id":1492999,"accept_rate":70,"display_name":"EagleBeak"},"score":2,"creation_date":1489595508,"post_id":38822308,"comment_id":72743334,"body_markdown":"Where does `Utils.mapO2Object` come from? Is that your own implementation?","body":"Where does <code>Utils.mapO2Object</code> come from? Is that your own implementation?"},{"owner":{"account_id":5537960,"reputation":31,"user_id":4395605,"display_name":"shailender arya"},"score":0,"creation_date":1489644140,"post_id":38822308,"comment_id":72763415,"body_markdown":"Utils.map2Object is our utility function which is a wrapper around jackson convertValue function. Find the function below\n\n`public static &lt;T&gt; T map2Object(Map&lt;String, String&gt; map, Class&lt;T&gt; clazz) {\n    Object t = null;\n    t = OBJECT_MAPPER.convertValue(map, clazz);\n    return (T) t;\n  }`","body":"Utils.map2Object is our utility function which is a wrapper around jackson convertValue function. Find the function below  <code>public static &lt;T&gt; T map2Object(Map&lt;String, String&gt; map, Class&lt;T&gt; clazz) {     Object t = null;     t = OBJECT_MAPPER.convertValue(map, clazz);     return (T) t;   }</code>"}],"tags":[],"owner":{"account_id":5537960,"reputation":31,"user_id":4395605,"display_name":"shailender arya"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470636699,"creation_date":1470636699,"answer_id":38822308,"question_id":37655755,"body_markdown":"Found a way of doing it cleanly. Using InternalUtils from aws-java-sdk-dynamodb-1.11.15.jar\r\n\r\n\r\n\tcom.amazonaws.services.dynamodbv2.model.Record streamRecord = ((RecordAdapter) record).getInternalObject();\r\n\t\t\t\t// get order ready //\r\n\t\t\t\tOrderFinal order = Utils.mapO2Object(\r\n\t\t\t\t\t\tInternalUtils.toSimpleMapValue(streamRecord.getDynamodb().getNewImage().get(&quot;document&quot;).getM()), \r\n\t\t\t\t\t\tOrderFinal.class );","title":"How to get the pure Json string from DynamoDB stream new image?","body":"<p>Found a way of doing it cleanly. Using InternalUtils from aws-java-sdk-dynamodb-1.11.15.jar</p>\n\n<pre><code>com.amazonaws.services.dynamodbv2.model.Record streamRecord = ((RecordAdapter) record).getInternalObject();\n            // get order ready //\n            OrderFinal order = Utils.mapO2Object(\n                    InternalUtils.toSimpleMapValue(streamRecord.getDynamodb().getNewImage().get(\"document\").getM()), \n                    OrderFinal.class );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1392562,"reputation":7482,"user_id":1323014,"accept_rate":81,"display_name":"Marckaraujo"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1487795574,"creation_date":1487795574,"answer_id":42401695,"question_id":37655755,"body_markdown":"This library do the job: [dynamoDb-marshaler][1]\r\n\r\n    var unmarshalJson = require(&#39;dynamodb-marshaler&#39;).unmarshalJson;\r\n                    \r\n    console.log(&#39;jsonItem Record: %j&#39;, unmarshalJson(record.dynamodb.NewImage));\r\n\r\n\r\n  [1]: https://github.com/CascadeEnergy/dynamoDb-marshaler","title":"How to get the pure Json string from DynamoDB stream new image?","body":"<p>This library do the job: <a href=\"https://github.com/CascadeEnergy/dynamoDb-marshaler\" rel=\"nofollow noreferrer\">dynamoDb-marshaler</a></p>\n\n<pre><code>var unmarshalJson = require('dynamodb-marshaler').unmarshalJson;\n\nconsole.log('jsonItem Record: %j', unmarshalJson(record.dynamodb.NewImage));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4762589,"reputation":201,"user_id":3849619,"accept_rate":50,"display_name":"anuj"},"score":0,"creation_date":1616202266,"post_id":43918963,"comment_id":117937336,"body_markdown":"I am getting error as DynamodbEvent is returning com.amazonaws.services.lambda.runtime.events.models.dynamodb.AttributeValue where as the util is expecting com.amazonaws.services.dynamodbv2.model.AttributeValue. I am using aws-lambda-java-events:jar:3.7.0 and aws-java-sdk-dynamodb:jar:1.11.978. Any idea what versions are compatible @Himanshu Parmar","body":"I am getting error as DynamodbEvent is returning com.amazonaws.services.lambda.runtime.events.models.dynamodb&zwnj;&#8203;.AttributeValue where as the util is expecting com.amazonaws.services.dynamodbv2.model.AttributeValue. I am using aws-lambda-java-events:jar:3.7.0 and aws-java-sdk-dynamodb:jar:1.11.978. Any idea what versions are compatible @Himanshu Parmar"}],"tags":[],"owner":{"account_id":7276753,"reputation":427,"user_id":5547938,"accept_rate":17,"display_name":"Himanshu Parmar"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1494514804,"creation_date":1494514494,"answer_id":43918963,"question_id":37655755,"body_markdown":"Below is the complete code for converting from Dynamo JSON to Standard JSON:\r\n\r\n    import com.amazonaws.services.dynamodbv2.document.Item;\r\n    import com.amazonaws.services.dynamodbv2.document.internal.InternalUtils;\r\n    import com.amazonaws.services.dynamodbv2.model.AttributeValue;\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestHandler;\r\n    import com.amazonaws.services.lambda.runtime.events.DynamodbEvent;\r\n    import com.amazonaws.services.lambda.runtime.events.DynamodbEvent.DynamodbStreamRecord;\r\n    import com.google.gson.Gson;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    /**\r\n     * Main Lambda class to receive event stream, parse it to Survey\r\n     * and process them.\r\n     */\r\n    public class SurveyEventProcessor implements\r\n            RequestHandler&lt;DynamodbEvent, String&gt; {\r\n    \r\n        private static final String INSERT = &quot;INSERT&quot;;\r\n    \r\n        private static final String MODIFY = &quot;MODIFY&quot;;\r\n    \r\n        public String handleRequest(DynamodbEvent ddbEvent, Context context) {\r\n    \r\n            List&lt;Item&gt; listOfItem = new ArrayList&lt;&gt;();\r\n            List&lt;Map&lt;String, AttributeValue&gt;&gt; listOfMaps = null;\r\n            for (DynamodbStreamRecord record : ddbEvent.getRecords()) {\r\n    \r\n                if (INSERT.equals(record.getEventName()) || MODIFY.equals(record.getEventName())) {\r\n                    listOfMaps = new ArrayList&lt;Map&lt;String, AttributeValue&gt;&gt;();\r\n                    listOfMaps.add(record.getDynamodb().getNewImage());\r\n                    listOfItem = InternalUtils.toItemList(listOfMaps);\r\n                }\r\n    \r\n                System.out.println(listOfItem);\r\n                try {\r\n                   // String json = new ObjectMapper().writeValueAsString(listOfItem.get(0));\r\n                    Gson gson = new Gson();\r\n                    Item item = listOfItem.get(0);\r\n    \r\n                    String json = gson.toJson(item.asMap());\r\n                    System.out.println(&quot;JSON is &quot;);\r\n                    System.out.println(json);\r\n                }catch (Exception e){\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n    \r\n            return &quot;Successfully processed &quot; + ddbEvent.getRecords().size() + &quot; records.&quot;;\r\n        }\r\n    } \r\n    \r\n       \r\n    \r\n     \r\n\r\n","title":"How to get the pure Json string from DynamoDB stream new image?","body":"<p>Below is the complete code for converting from Dynamo JSON to Standard JSON:</p>\n\n<pre><code>import com.amazonaws.services.dynamodbv2.document.Item;\nimport com.amazonaws.services.dynamodbv2.document.internal.InternalUtils;\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\nimport com.amazonaws.services.lambda.runtime.events.DynamodbEvent;\nimport com.amazonaws.services.lambda.runtime.events.DynamodbEvent.DynamodbStreamRecord;\nimport com.google.gson.Gson;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * Main Lambda class to receive event stream, parse it to Survey\n * and process them.\n */\npublic class SurveyEventProcessor implements\n        RequestHandler&lt;DynamodbEvent, String&gt; {\n\n    private static final String INSERT = \"INSERT\";\n\n    private static final String MODIFY = \"MODIFY\";\n\n    public String handleRequest(DynamodbEvent ddbEvent, Context context) {\n\n        List&lt;Item&gt; listOfItem = new ArrayList&lt;&gt;();\n        List&lt;Map&lt;String, AttributeValue&gt;&gt; listOfMaps = null;\n        for (DynamodbStreamRecord record : ddbEvent.getRecords()) {\n\n            if (INSERT.equals(record.getEventName()) || MODIFY.equals(record.getEventName())) {\n                listOfMaps = new ArrayList&lt;Map&lt;String, AttributeValue&gt;&gt;();\n                listOfMaps.add(record.getDynamodb().getNewImage());\n                listOfItem = InternalUtils.toItemList(listOfMaps);\n            }\n\n            System.out.println(listOfItem);\n            try {\n               // String json = new ObjectMapper().writeValueAsString(listOfItem.get(0));\n                Gson gson = new Gson();\n                Item item = listOfItem.get(0);\n\n                String json = gson.toJson(item.asMap());\n                System.out.println(\"JSON is \");\n                System.out.println(json);\n            }catch (Exception e){\n                e.printStackTrace();\n            }\n        }\n\n\n        return \"Successfully processed \" + ddbEvent.getRecords().size() + \" records.\";\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2936879,"reputation":552,"user_id":2515587,"accept_rate":60,"display_name":"lost in binary"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1548256263,"creation_date":1496322414,"answer_id":44308410,"question_id":37655755,"body_markdown":"Just summarizing the answer of Himanshu Parmar:\r\n\r\n    Map&lt;String, AttributeValue&gt; newImage = record.getDynamodb().getNewImage();\r\n    List&lt;Map&lt;String, AttributeValue&gt;&gt; listOfMaps = new ArrayList&lt;Map&lt;String, AttributeValue&gt;&gt;();\r\n\tlistOfMaps.add(newImage);\r\n\tList&lt;Item&gt; itemList = ItemUtils.toItemList(listOfMaps);\r\n\tfor (Item item : itemList) {\r\n        String json = item.toJSON();\r\n\t}","title":"How to get the pure Json string from DynamoDB stream new image?","body":"<p>Just summarizing the answer of Himanshu Parmar:</p>\n\n<pre><code>Map&lt;String, AttributeValue&gt; newImage = record.getDynamodb().getNewImage();\nList&lt;Map&lt;String, AttributeValue&gt;&gt; listOfMaps = new ArrayList&lt;Map&lt;String, AttributeValue&gt;&gt;();\nlistOfMaps.add(newImage);\nList&lt;Item&gt; itemList = ItemUtils.toItemList(listOfMaps);\nfor (Item item : itemList) {\n    String json = item.toJSON();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2737229,"reputation":6899,"user_id":2359643,"accept_rate":77,"display_name":"JNYRanger"},"score":3,"creation_date":1552686489,"post_id":51975009,"comment_id":97120571,"body_markdown":"This is a Java tagged question, so this C# answer is irrelevant in this case.","body":"This is a Java tagged question, so this C# answer is irrelevant in this case."}],"tags":[],"owner":{"account_id":10052349,"reputation":155,"user_id":7431757,"display_name":"Guru"},"comment_count":1,"down_vote_count":5,"up_vote_count":9,"is_accepted":false,"score":4,"last_activity_date":1534971720,"creation_date":1534971408,"answer_id":51975009,"question_id":37655755,"body_markdown":"In c# you can convert newImage to pure json by use of DynamoDB Document class\r\n\r\nusing Amazon.DynamoDBv2.DocumentModel;\r\n\r\n\r\nvar streamRecord = dynamoEvent.Records.First();\r\n\r\nvar  jsonResult=Document.FromAttributeMap(streamRecord.Dynamodb.NewImage).ToJson();\r\n\r\n-------\r\n\r\nand if you want to go further ahead to convert json to object you can use  Newtonsoft\r\n\r\nusing Newtonsoft.Json;\r\n\r\nTModel model = JsonConvert.DeserializeObject&lt;TModel&gt;(jsonResult);\r\n","title":"How to get the pure Json string from DynamoDB stream new image?","body":"<p>In c# you can convert newImage to pure json by use of DynamoDB Document class</p>\n\n<p>using Amazon.DynamoDBv2.DocumentModel;</p>\n\n<p>var streamRecord = dynamoEvent.Records.First();</p>\n\n<p>var  jsonResult=Document.FromAttributeMap(streamRecord.Dynamodb.NewImage).ToJson();</p>\n\n<hr>\n\n<p>and if you want to go further ahead to convert json to object you can use  Newtonsoft</p>\n\n<p>using Newtonsoft.Json;</p>\n\n<p>TModel model = JsonConvert.DeserializeObject(jsonResult);</p>\n"},{"tags":[],"owner":{"account_id":1546528,"reputation":2209,"user_id":1439964,"accept_rate":64,"display_name":"blacelle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627755026,"creation_date":1627755026,"answer_id":68604696,"question_id":37655755,"body_markdown":"For those stuck with a Map&lt;String, ?&gt; where objects are plain Map, but not Attributes value, you can do the following:\r\n\r\n    Map&lt;String, AttributeValue&gt; dynamoDbAttributes = \r\n        objectMapper.convertValue(dynamoDbMap, new TypeReference&lt;Map&lt;String, AttributeValue&gt;&gt;() {});\r\n\r\nand then convert this DynamoDB Map into a plain Map (equivalent to the json originally pushed into DynamoDb):\r\n\r\n    asMap = InternalUtils.toSimpleMapValue(dynamoDbAttributes);","title":"How to get the pure Json string from DynamoDB stream new image?","body":"<p>For those stuck with a Map&lt;String, ?&gt; where objects are plain Map, but not Attributes value, you can do the following:</p>\n<pre><code>Map&lt;String, AttributeValue&gt; dynamoDbAttributes = \n    objectMapper.convertValue(dynamoDbMap, new TypeReference&lt;Map&lt;String, AttributeValue&gt;&gt;() {});\n</code></pre>\n<p>and then convert this DynamoDB Map into a plain Map (equivalent to the json originally pushed into DynamoDb):</p>\n<pre><code>asMap = InternalUtils.toSimpleMapValue(dynamoDbAttributes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24514530,"reputation":11,"user_id":18428473,"display_name":"jthreja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646910896,"creation_date":1646910896,"answer_id":71423183,"question_id":37655755,"body_markdown":"For the ones facing issues with AttributeValue conversion refer the below code:\r\nhttps://github.com/aws/aws-lambda-java-libs/blob/master/aws-lambda-java-events-sdk-transformer/README.md\r\n\r\n    Map&lt;String, AttributeValue&gt; stringAttributeValueMap = DynamodbAttributeValueTransformer.toAttributeValueMapV1(dynamodb.getNewImage());\r\n\r\n                List stringAttributeValueMapList = new ArrayList();\r\n                stringAttributeValueMapList.add(stringAttributeValueMap);\r\n                List&lt;Item&gt; listOfItem = InternalUtils.toItemList(stringAttributeValueMapList);\r\n                Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n                String updatedJSON = gson.toJson(listOfItem.get(0).asMap());","title":"How to get the pure Json string from DynamoDB stream new image?","body":"<p>For the ones facing issues with AttributeValue conversion refer the below code:\n<a href=\"https://github.com/aws/aws-lambda-java-libs/blob/master/aws-lambda-java-events-sdk-transformer/README.md\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-lambda-java-libs/blob/master/aws-lambda-java-events-sdk-transformer/README.md</a></p>\n<pre><code>Map&lt;String, AttributeValue&gt; stringAttributeValueMap = DynamodbAttributeValueTransformer.toAttributeValueMapV1(dynamodb.getNewImage());\n\n            List stringAttributeValueMapList = new ArrayList();\n            stringAttributeValueMapList.add(stringAttributeValueMap);\n            List&lt;Item&gt; listOfItem = InternalUtils.toItemList(stringAttributeValueMapList);\n            Gson gson = new GsonBuilder().setPrettyPrinting().create();\n            String updatedJSON = gson.toJson(listOfItem.get(0).asMap());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26798901,"reputation":1,"user_id":20391176,"display_name":"saiyam jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667330111,"creation_date":1667330111,"answer_id":74280774,"question_id":37655755,"body_markdown":"Below is the Method which converts DynamoDB JSON to normal JSON\r\n\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n/**\r\n * Converts DynamoDB JSON to normal JSON.\r\n *\r\n * @param map Input map of String to AttributeValue.\r\n * @return Returns an ObjectNode containing the normal JSON.\r\n */\r\n\r\n    public JsonObject toJsonObject(final Map&lt;String, AttributeValue&gt; map) {\r\n            final JsonNode result = mapToJsonObject(map);\r\n            final ObjectNode objectNode = (ObjectNode) result;\r\n            final ObjectMapper objectMapper = new ObjectMapper();\r\n            String recordObjectString;\r\n            try {\r\n                recordObjectString = objectMapper.writeValueAsString(objectNode);\r\n            } catch (JsonProcessingException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            final JsonParser jsonParser = new JsonParser();\r\n            final JsonObject jsonObject = jsonParser.parse(recordObjectString)\r\n                                                    .getAsJsonObject();\r\n            return jsonObject;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSo in your Case simple call below method like this\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n// here record is of type DynamodbStreamRecord\r\n\r\n    toJsonObject(record.getDynamodb().getNewImage());\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to get the pure Json string from DynamoDB stream new image?","body":"<p>Below is the Method which converts DynamoDB JSON to normal JSON</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>/**\n * Converts DynamoDB JSON to normal JSON.\n *\n * @param map Input map of String to AttributeValue.\n * @return Returns an ObjectNode containing the normal JSON.\n */\n\npublic JsonObject toJsonObject(final Map&lt;String, AttributeValue&gt; map) {\n        final JsonNode result = mapToJsonObject(map);\n        final ObjectNode objectNode = (ObjectNode) result;\n        final ObjectMapper objectMapper = new ObjectMapper();\n        String recordObjectString;\n        try {\n            recordObjectString = objectMapper.writeValueAsString(objectNode);\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        }\n        final JsonParser jsonParser = new JsonParser();\n        final JsonObject jsonObject = jsonParser.parse(recordObjectString)\n                                                .getAsJsonObject();\n        return jsonObject;\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>So in your Case simple call below method like this</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>// here record is of type DynamodbStreamRecord\n\ntoJsonObject(record.getDynamodb().getNewImage());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":3833354,"reputation":1068,"user_id":3178342,"accept_rate":68,"display_name":"Asanga Dewaguru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19868,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":8,"score":17,"last_activity_date":1667330111,"creation_date":1465210975,"question_id":37655755,"body_markdown":"I&#39;ve a Dynamodb table with streaming enabled. Also I&#39;ve created a trigger for this table which calls an AWS Lambda function. Within this lambda function, I&#39;m trying read the new image (Dynamodb item after the modification) from the Dynamodb stream and trying to get the pure json string out of it. My Question is how can i get the pure json string of the DynamoDB item that&#39;s been sent over the stream? I&#39;m using the code snippet given below to get the new Image, but I&#39;ve no clue how to get the json string out of it. Appreciate your help.\r\n\r\n    public class LambdaFunctionHandler implements RequestHandler&lt;DynamodbEvent, Object&gt; {\r\n\r\n    @Override\r\n    public Object handleRequest(DynamodbEvent input, Context context) {\r\n        context.getLogger().log(&quot;Input: &quot; + input);\r\n\r\n        for (DynamodbStreamRecord record : input.getRecords()){\r\n        \t\r\n        \tcontext.getLogger().log(record.getEventID());\r\n        \tcontext.getLogger().log(record.getEventName());\r\n        \tcontext.getLogger().log(record.getDynamodb().toString());\r\n        \tMap&lt;String,AttributeValue&gt; currentRecord = record.getDynamodb().getNewImage();\r\n\r\n            //how to get the pure json string of the new image\r\n            //..............................................\r\n         }\r\n         return &quot;Successfully processed &quot; + input.getRecords().size() + &quot; records.&quot;;\r\n    }\r\n\r\n}","title":"How to get the pure Json string from DynamoDB stream new image?","body":"<p>I've a Dynamodb table with streaming enabled. Also I've created a trigger for this table which calls an AWS Lambda function. Within this lambda function, I'm trying read the new image (Dynamodb item after the modification) from the Dynamodb stream and trying to get the pure json string out of it. My Question is how can i get the pure json string of the DynamoDB item that's been sent over the stream? I'm using the code snippet given below to get the new Image, but I've no clue how to get the json string out of it. Appreciate your help.</p>\n\n<pre><code>public class LambdaFunctionHandler implements RequestHandler&lt;DynamodbEvent, Object&gt; {\n\n@Override\npublic Object handleRequest(DynamodbEvent input, Context context) {\n    context.getLogger().log(\"Input: \" + input);\n\n    for (DynamodbStreamRecord record : input.getRecords()){\n\n        context.getLogger().log(record.getEventID());\n        context.getLogger().log(record.getEventName());\n        context.getLogger().log(record.getDynamodb().toString());\n        Map&lt;String,AttributeValue&gt; currentRecord = record.getDynamodb().getNewImage();\n\n        //how to get the pure json string of the new image\n        //..............................................\n     }\n     return \"Successfully processed \" + input.getRecords().size() + \" records.\";\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","authentication","jsp","servlets","jboss"],"answers":[{"comments":[{"owner":{"account_id":18862,"reputation":7557,"user_id":43671,"accept_rate":69,"display_name":"AlfaTeK"},"score":2,"creation_date":1228492030,"post_id":344153,"comment_id":178645,"body_markdown":"It returns class org.jboss.security.SimplePrincipal and that class doesn&#39;t have getRoles()... which is very stupid...\n\nSorry, I should have mentioned: I&#39;m using JBoss 4.2.3GA AS","body":"It returns class org.jboss.security.SimplePrincipal and that class doesn&#39;t have getRoles()... which is very stupid...  Sorry, I should have mentioned: I&#39;m using JBoss 4.2.3GA AS"}],"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1228490578,"creation_date":1228490578,"answer_id":344153,"question_id":344117,"body_markdown":"The answer is messy.\r\n\r\nFirst you need to find out what type request.getUserPrincipal() returns in your webapp.\r\n\r\n        System.out.println(&quot;type = &quot; + request.getUserPrincipal().getClass());\r\n\r\nLet&#39;s say that returns org.apache.catalina.realm.GenericPrincipal.\r\n\r\nThen cast the result of getUserPrincipal() to that type and use the methods it provides.\r\n\r\n        final Principal userPrincipal = request.getUserPrincipal();\r\n        GenericPrincipal genericPrincipal = (GenericPrincipal) userPrincipal;\r\n        final String[] roles = genericPrincipal.getRoles();\r\n\r\nI said it was going to be messy. It&#39;s not very portable either.\r\n\r\n","title":"How to get user roles in a JSP / Servlet","body":"<p>The answer is messy.</p>\n\n<p>First you need to find out what type request.getUserPrincipal() returns in your webapp.</p>\n\n<pre><code>    System.out.println(\"type = \" + request.getUserPrincipal().getClass());\n</code></pre>\n\n<p>Let's say that returns org.apache.catalina.realm.GenericPrincipal.</p>\n\n<p>Then cast the result of getUserPrincipal() to that type and use the methods it provides.</p>\n\n<pre><code>    final Principal userPrincipal = request.getUserPrincipal();\n    GenericPrincipal genericPrincipal = (GenericPrincipal) userPrincipal;\n    final String[] roles = genericPrincipal.getRoles();\n</code></pre>\n\n<p>I said it was going to be messy. It's not very portable either.</p>\n"},{"comments":[{"owner":{"account_id":18862,"reputation":7557,"user_id":43671,"accept_rate":69,"display_name":"AlfaTeK"},"score":0,"creation_date":1228492569,"post_id":344223,"comment_id":178674,"body_markdown":"Yes, I can do this when the user does the login... That&#39;s a nice hack.\n\nBut still, is this impossible to do in JBoss like userPrincipal.getRoles(); ?","body":"Yes, I can do this when the user does the login... That&#39;s a nice hack.  But still, is this impossible to do in JBoss like userPrincipal.getRoles(); ?"},{"owner":{"account_id":9538,"reputation":18044,"user_id":2204759,"accept_rate":91,"display_name":"Josh"},"score":0,"creation_date":1229471890,"post_id":344223,"comment_id":201751,"body_markdown":"When it comes to writing webapps, I always avoid any of the server-specific code. You want to maintain portability across servers like Tomcat and Resin and Jetty. So you would need to see if there is something in the spec, or a way to retrieve the list from the context.","body":"When it comes to writing webapps, I always avoid any of the server-specific code. You want to maintain portability across servers like Tomcat and Resin and Jetty. So you would need to see if there is something in the spec, or a way to retrieve the list from the context."}],"tags":[],"owner":{"account_id":9538,"reputation":18044,"user_id":2204759,"accept_rate":91,"display_name":"Josh"},"comment_count":2,"down_vote_count":2,"up_vote_count":9,"is_accepted":true,"score":7,"last_activity_date":1228491709,"creation_date":1228491709,"answer_id":344223,"question_id":344117,"body_markdown":"Read in all the possible roles, or hardcode a list. Then iterate over it running the isUserInRole and build a list of roles the user is in and then convert the list to an array.\r\n\r\n    String[] allRoles = {&quot;1&quot;,&quot;2&quot;,&quot;3&quot;};\r\n    HttpServletRequest request = ... (or from method argument)\r\n    List userRoles = new ArrayList(allRoles.length);\r\n    for(String role : allRoles) {\r\n     if(request.isUserInRole(role)) { \r\n      userRoles.add(role);\r\n     }\r\n    }\r\n    \r\n    // I forgot the exact syntax for list.toArray so this is prob wrong here\r\n    return userRoles.toArray(String[].class);\r\n\r\n","title":"How to get user roles in a JSP / Servlet","body":"<p>Read in all the possible roles, or hardcode a list. Then iterate over it running the isUserInRole and build a list of roles the user is in and then convert the list to an array.</p>\n\n<pre><code>String[] allRoles = {\"1\",\"2\",\"3\"};\nHttpServletRequest request = ... (or from method argument)\nList userRoles = new ArrayList(allRoles.length);\nfor(String role : allRoles) {\n if(request.isUserInRole(role)) { \n  userRoles.add(role);\n }\n}\n\n// I forgot the exact syntax for list.toArray so this is prob wrong here\nreturn userRoles.toArray(String[].class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":373060,"reputation":2543,"user_id":722466,"accept_rate":52,"display_name":"Abbadon"},"score":0,"creation_date":1494415366,"post_id":37298248,"comment_id":74815918,"body_markdown":"I tested this and in works in the context of a Servlet. Does it work also in context of JAX-WS?","body":"I tested this and in works in the context of a Servlet. Does it work also in context of JAX-WS?"}],"tags":[],"owner":{"account_id":8466707,"reputation":41,"user_id":6350660,"display_name":"SuperPiski"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1463570854,"creation_date":1463570854,"answer_id":37298248,"question_id":344117,"body_markdown":"In WebLogic you can do it with:\r\n \r\n    import weblogic.security.Security;\r\n    import weblogic.security.SubjectUtils;\r\n    ...\r\n    private List&lt;String&gt; getUserRoles()  {\r\n        return Arrays.asList(SubjectUtils.getPrincipalNames(Security.getCurrentSubject()).split(&quot;/&quot;));\r\n    }\r\n    \r\n\r\nNote that the first element on the list is the user name.","title":"How to get user roles in a JSP / Servlet","body":"<p>In WebLogic you can do it with:</p>\n\n<pre><code>import weblogic.security.Security;\nimport weblogic.security.SubjectUtils;\n...\nprivate List&lt;String&gt; getUserRoles()  {\n    return Arrays.asList(SubjectUtils.getPrincipalNames(Security.getCurrentSubject()).split(\"/\"));\n}\n</code></pre>\n\n<p>Note that the first element on the list is the user name.</p>\n"},{"tags":[],"owner":{"account_id":4952964,"reputation":1218,"user_id":3986374,"display_name":"Uux"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527864519,"creation_date":1517224040,"answer_id":48499806,"question_id":344117,"body_markdown":"On JACC-compliant application servers -- in theory every Full Java EE Platform implementation -- the Java SE `Policy` can be interrogated for (almost) portable evaluation of any type of declarative security constraint specified by Servlet and EJB. I say *almost* because neither JACC nor the Javadoc spec of `Policy#getPermissions(ProtectionDomain)` actually requires that the implementation compute all permissions on the fly, presumably due to performance considerations, as well as to accommodate for providers whose rendering of authorization statements depends on additional context (remote address, value of a certain HTTP GET parameter, etc.). Nonetheless, `getPermissions` should normally be safe to use with the typical pre-installed JACC provider.\r\n\r\nThe following example demonstrates Servlet role assignment testing:\r\n\r\n    package com.example;\r\n    \r\n    import java.security.CodeSource;\r\n    import java.security.Permission;\r\n    import java.security.PermissionCollection;\r\n    import java.security.Policy;\r\n    import java.security.Principal;\r\n    import java.security.ProtectionDomain;\r\n    import java.security.cert.Certificate;\r\n    import java.util.Collections;\r\n    import java.util.Enumeration;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import javax.security.auth.Subject;\r\n    import javax.security.jacc.PolicyContext;\r\n    import javax.security.jacc.PolicyContextException;\r\n    import javax.security.jacc.WebRoleRefPermission;\r\n    \r\n    public final class Util {\r\n    \r\n    \r\n        private static final Set&lt;String&gt; NO_ROLES = Collections.emptySet();\r\n        private static final Permission DUMMY_WEB_ROLE_REF_PERM = new WebRoleRefPermission(&quot;&quot;, &quot;dummy&quot;);\r\n    \r\n        /**\r\n         * Retrieves the declared Servlet security roles that have been mapped to the {@code Principal}s of\r\n         * the currently authenticated {@code Subject}, optionally limited to the scope of the Servlet\r\n         * referenced by {@code servletName}.\r\n         * \r\n         * @param servletName\r\n         *            The scope; {@code null} indicates Servlet-context-wide matching.\r\n         * @return the roles; empty {@code Set} iff:\r\n         *         &lt;ul&gt;\r\n         *         &lt;li&gt;the remote user is unauthenticated&lt;/li&gt;\r\n         *         &lt;li&gt;the remote user has not been associated with any roles declared within the search\r\n         *         scope&lt;/li&gt;\r\n         *         &lt;li&gt;the method has not been called within a Servlet invocation context&lt;/li&gt;\r\n         *         &lt;/ul&gt;\r\n         */\r\n        public static Set&lt;String&gt; getCallerWebRoles(String servletName) {\r\n            // get current subject\r\n            Subject subject = getSubject();\r\n            if (subject == null) {\r\n                // unauthenticated\r\n                return NO_ROLES;\r\n            }\r\n            Set&lt;Principal&gt; principals = subject.getPrincipals();\r\n            if (principals.isEmpty()) {\r\n                // unauthenticated?\r\n                return NO_ROLES;\r\n            }\r\n            // construct a domain for querying the policy; the code source shouldn&#39;t matter, as far as\r\n            // JACC permissions are concerned\r\n            ProtectionDomain domain = new ProtectionDomain(new CodeSource(null, (Certificate[]) null), null, null,\r\n                    principals.toArray(new Principal[principals.size()]));\r\n            // get all permissions accorded to those principals\r\n            PermissionCollection pc = Policy.getPolicy().getPermissions(domain);\r\n            // cause resolution of WebRoleRefPermissions, if any, in the collection, if still unresolved\r\n            pc.implies(DUMMY_WEB_ROLE_REF_PERM);\r\n            Enumeration&lt;Permission&gt; e = pc.elements();\r\n            if (!e.hasMoreElements()) {\r\n                // nothing granted, hence no roles\r\n                return NO_ROLES;\r\n            }\r\n            Set&lt;String&gt; roleNames = NO_ROLES;\r\n            // iterate over the collection and eliminate duplicates\r\n            while (e.hasMoreElements()) {\r\n                Permission p = e.nextElement();\r\n                // only interested in Servlet container security-role(-ref) permissions\r\n                if (p instanceof WebRoleRefPermission) {\r\n                    String candidateRoleName = p.getActions();\r\n                    // - ignore the &quot;any-authenticated-user&quot; role (only collect it if your\r\n                    // application has actually declared a role named &quot;**&quot;)\r\n                    // - also restrict to the scope of the Servlet identified by the servletName\r\n                    // argument, unless null\r\n                    if (!&quot;**&quot;.equals(candidateRoleName) &amp;&amp; ((servletName == null) || servletName.equals(p.getName()))\r\n                            &amp;&amp; ((roleNames == NO_ROLES) || !roleNames.contains(candidateRoleName))) {\r\n                        if (roleNames == NO_ROLES) {\r\n                            roleNames = new HashSet&lt;&gt;();\r\n                        }\r\n                        roleNames.add(candidateRoleName);\r\n                    }\r\n                }\r\n            }\r\n            return roleNames;\r\n        }\r\n    \r\n        private static Subject getSubject() {\r\n            return getFromJaccPolicyContext(&quot;javax.security.auth.Subject.container&quot;);\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private static &lt;T&gt; T getFromJaccPolicyContext(String key) {\r\n            try {\r\n                return (T) PolicyContext.getContext(key);\r\n            }\r\n            catch (PolicyContextException | IllegalArgumentException e) {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private Util() {\r\n        }\r\n    \r\n    }\r\n\r\n-----\r\n\r\nReferences:\r\n\r\n- [JSR-115 / JACC specification](https://jcp.org/en/jsr/detail?id=115)\r\n- [Using JACC to determine a caller&#39;s roles](https://web.archive.org/web/20140620021252/https://blogs.oracle.com/monzillo/entry/using_jacc_to_determine_a)\r\n- [How Java EE translates web.xml constraints to Permission instances](http://arjan-tijms.omnifaces.org/2015/04/how-java-ee-translates-webxml.html)\r\n","title":"How to get user roles in a JSP / Servlet","body":"<p>On JACC-compliant application servers -- in theory every Full Java EE Platform implementation -- the Java SE <code>Policy</code> can be interrogated for (almost) portable evaluation of any type of declarative security constraint specified by Servlet and EJB. I say <em>almost</em> because neither JACC nor the Javadoc spec of <code>Policy#getPermissions(ProtectionDomain)</code> actually requires that the implementation compute all permissions on the fly, presumably due to performance considerations, as well as to accommodate for providers whose rendering of authorization statements depends on additional context (remote address, value of a certain HTTP GET parameter, etc.). Nonetheless, <code>getPermissions</code> should normally be safe to use with the typical pre-installed JACC provider.</p>\n\n<p>The following example demonstrates Servlet role assignment testing:</p>\n\n<pre><code>package com.example;\n\nimport java.security.CodeSource;\nimport java.security.Permission;\nimport java.security.PermissionCollection;\nimport java.security.Policy;\nimport java.security.Principal;\nimport java.security.ProtectionDomain;\nimport java.security.cert.Certificate;\nimport java.util.Collections;\nimport java.util.Enumeration;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.security.auth.Subject;\nimport javax.security.jacc.PolicyContext;\nimport javax.security.jacc.PolicyContextException;\nimport javax.security.jacc.WebRoleRefPermission;\n\npublic final class Util {\n\n\n    private static final Set&lt;String&gt; NO_ROLES = Collections.emptySet();\n    private static final Permission DUMMY_WEB_ROLE_REF_PERM = new WebRoleRefPermission(\"\", \"dummy\");\n\n    /**\n     * Retrieves the declared Servlet security roles that have been mapped to the {@code Principal}s of\n     * the currently authenticated {@code Subject}, optionally limited to the scope of the Servlet\n     * referenced by {@code servletName}.\n     * \n     * @param servletName\n     *            The scope; {@code null} indicates Servlet-context-wide matching.\n     * @return the roles; empty {@code Set} iff:\n     *         &lt;ul&gt;\n     *         &lt;li&gt;the remote user is unauthenticated&lt;/li&gt;\n     *         &lt;li&gt;the remote user has not been associated with any roles declared within the search\n     *         scope&lt;/li&gt;\n     *         &lt;li&gt;the method has not been called within a Servlet invocation context&lt;/li&gt;\n     *         &lt;/ul&gt;\n     */\n    public static Set&lt;String&gt; getCallerWebRoles(String servletName) {\n        // get current subject\n        Subject subject = getSubject();\n        if (subject == null) {\n            // unauthenticated\n            return NO_ROLES;\n        }\n        Set&lt;Principal&gt; principals = subject.getPrincipals();\n        if (principals.isEmpty()) {\n            // unauthenticated?\n            return NO_ROLES;\n        }\n        // construct a domain for querying the policy; the code source shouldn't matter, as far as\n        // JACC permissions are concerned\n        ProtectionDomain domain = new ProtectionDomain(new CodeSource(null, (Certificate[]) null), null, null,\n                principals.toArray(new Principal[principals.size()]));\n        // get all permissions accorded to those principals\n        PermissionCollection pc = Policy.getPolicy().getPermissions(domain);\n        // cause resolution of WebRoleRefPermissions, if any, in the collection, if still unresolved\n        pc.implies(DUMMY_WEB_ROLE_REF_PERM);\n        Enumeration&lt;Permission&gt; e = pc.elements();\n        if (!e.hasMoreElements()) {\n            // nothing granted, hence no roles\n            return NO_ROLES;\n        }\n        Set&lt;String&gt; roleNames = NO_ROLES;\n        // iterate over the collection and eliminate duplicates\n        while (e.hasMoreElements()) {\n            Permission p = e.nextElement();\n            // only interested in Servlet container security-role(-ref) permissions\n            if (p instanceof WebRoleRefPermission) {\n                String candidateRoleName = p.getActions();\n                // - ignore the \"any-authenticated-user\" role (only collect it if your\n                // application has actually declared a role named \"**\")\n                // - also restrict to the scope of the Servlet identified by the servletName\n                // argument, unless null\n                if (!\"**\".equals(candidateRoleName) &amp;&amp; ((servletName == null) || servletName.equals(p.getName()))\n                        &amp;&amp; ((roleNames == NO_ROLES) || !roleNames.contains(candidateRoleName))) {\n                    if (roleNames == NO_ROLES) {\n                        roleNames = new HashSet&lt;&gt;();\n                    }\n                    roleNames.add(candidateRoleName);\n                }\n            }\n        }\n        return roleNames;\n    }\n\n    private static Subject getSubject() {\n        return getFromJaccPolicyContext(\"javax.security.auth.Subject.container\");\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    private static &lt;T&gt; T getFromJaccPolicyContext(String key) {\n        try {\n            return (T) PolicyContext.getContext(key);\n        }\n        catch (PolicyContextException | IllegalArgumentException e) {\n            return null;\n        }\n    }\n\n    private Util() {\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=115\" rel=\"nofollow noreferrer\">JSR-115 / JACC specification</a></li>\n<li><a href=\"https://web.archive.org/web/20140620021252/https://blogs.oracle.com/monzillo/entry/using_jacc_to_determine_a\" rel=\"nofollow noreferrer\">Using JACC to determine a caller's roles</a></li>\n<li><a href=\"http://arjan-tijms.omnifaces.org/2015/04/how-java-ee-translates-webxml.html\" rel=\"nofollow noreferrer\">How Java EE translates web.xml constraints to Permission instances</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13295192,"reputation":144,"user_id":9598447,"display_name":"Brian Akumah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667330110,"creation_date":1667330110,"answer_id":74280772,"question_id":344117,"body_markdown":"    import org.springframework.security.core.context.SecurityContextHolder;    \r\n        \r\n        \r\n    @GetMapping(&quot;/&quot;)\r\n    public String someEndpoint() {\r\n       System.out.println(SecurityContextHolder.getContext().getAuthentication().getAuthorities());\r\n    }","title":"How to get user roles in a JSP / Servlet","body":"<pre><code>import org.springframework.security.core.context.SecurityContextHolder;    \n    \n    \n@GetMapping(&quot;/&quot;)\npublic String someEndpoint() {\n   System.out.println(SecurityContextHolder.getContext().getAuthentication().getAuthorities());\n}\n</code></pre>\n"}],"owner":{"account_id":18862,"reputation":7557,"user_id":43671,"accept_rate":69,"display_name":"AlfaTeK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62674,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":344223,"answer_count":5,"score":11,"last_activity_date":1667330110,"creation_date":1228490072,"question_id":344117,"body_markdown":"Is there any way to get a String[] with the roles a user has in the JSP or Servlet?\r\n\r\nI know about request.isUserInRole(&quot;role1&quot;) but I also want to know all the roles of the user.\r\n\r\nI searched the servlet source and it seems this is not possible, but this seems odd to me.\r\n\r\n\r\nSo... any ideas?","title":"How to get user roles in a JSP / Servlet","body":"<p>Is there any way to get a String[] with the roles a user has in the JSP or Servlet?</p>\n\n<p>I know about request.isUserInRole(\"role1\") but I also want to know all the roles of the user.</p>\n\n<p>I searched the servlet source and it seems this is not possible, but this seems odd to me.</p>\n\n<p>So... any ideas?</p>\n"},{"tags":["java","apache-camel","camel-ftp"],"comments":[{"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"score":1,"creation_date":1667314223,"post_id":74274171,"comment_id":131135637,"body_markdown":"Does this answer your question? [Apache Camel pollEnrich is not copying all the files](https://stackoverflow.com/questions/38103035/apache-camel-pollenrich-is-not-copying-all-the-files)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/38103035/apache-camel-pollenrich-is-not-copying-all-the-files\">Apache Camel pollEnrich is not copying all the files</a>"},{"owner":{"account_id":1832,"reputation":11572,"user_id":2517,"accept_rate":82,"display_name":"Jeremy Ross"},"score":0,"creation_date":1667314315,"post_id":74274171,"comment_id":131135665,"body_markdown":"completionFromBatchConsumer won&#39;t work because you&#39;re not using the file component as the consumer. The solution is to repeat the pollEnrich call until it returns a null body. See comment above with link to this question and answer.","body":"completionFromBatchConsumer won&#39;t work because you&#39;re not using the file component as the consumer. The solution is to repeat the pollEnrich call until it returns a null body. See comment above with link to this question and answer."}],"owner":{"account_id":16706565,"reputation":23,"user_id":12074940,"display_name":"Mahendranath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667329539,"creation_date":1667296661,"question_id":74274171,"body_markdown":"Is there any way or property in `pollEnrich` which helps us to consume all files at once? I can&#39;t use `from` because it&#39;s already being used for timer. 2 `from` are not allowed in a single route.\r\n\r\nHere is my code:\r\n\r\n\r\n```\r\nfrom(&quot;timer://foo&quot;)\r\n.pollEnrich(&quot;file:src&quot;)\r\n.aggregate(new ZipAggregationStrategy()).constant(false)\r\n.completionFromBatchConsumer().eagerCheckCompletion()\r\n.setHeader(Exchange.FILE_NAME, simple(&quot;file&quot;+&quot;.zip&quot;))\r\n.to(&quot;file:src/test/java/out&quot;);\r\n```\r\n\r\nI want the all files in src to be zipped in a folder. But `pollEnrich` is consuming file one at a time, which is causing problem.","title":"consume all files in Apache Camel pollEnrich","body":"<p>Is there any way or property in <code>pollEnrich</code> which helps us to consume all files at once? I can't use <code>from</code> because it's already being used for timer. 2 <code>from</code> are not allowed in a single route.</p>\n<p>Here is my code:</p>\n<pre><code>from(&quot;timer://foo&quot;)\n.pollEnrich(&quot;file:src&quot;)\n.aggregate(new ZipAggregationStrategy()).constant(false)\n.completionFromBatchConsumer().eagerCheckCompletion()\n.setHeader(Exchange.FILE_NAME, simple(&quot;file&quot;+&quot;.zip&quot;))\n.to(&quot;file:src/test/java/out&quot;);\n</code></pre>\n<p>I want the all files in src to be zipped in a folder. But <code>pollEnrich</code> is consuming file one at a time, which is causing problem.</p>\n"},{"tags":["java","android","android-overlay"],"comments":[{"owner":{"account_id":11873112,"reputation":1083,"user_id":8688810,"display_name":"Dan Baruch"},"score":0,"creation_date":1667326227,"post_id":74280026,"comment_id":131139875,"body_markdown":"How do you make it a system app? Are you working on your own Android source? There&#39;s no way to put your app as system unless you either root your device or building your own Android","body":"How do you make it a system app? Are you working on your own Android source? There&#39;s no way to put your app as system unless you either root your device or building your own Android"},{"owner":{"account_id":20605709,"reputation":97,"user_id":15126019,"display_name":"S. Ber Rosenberg"},"score":1,"creation_date":1667328828,"post_id":74280026,"comment_id":131140639,"body_markdown":"I have root access and its possible to build it with a system signature as well","body":"I have root access and its possible to build it with a system signature as well"}],"answers":[{"tags":[],"owner":{"account_id":11873112,"reputation":1083,"user_id":8688810,"display_name":"Dan Baruch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667329486,"creation_date":1667329486,"answer_id":74280670,"question_id":74280026,"body_markdown":"https://developer.android.com/reference/android/view/WindowManager.LayoutParams#TYPE_APPLICATION_OVERLAY\r\n\r\nYour TYPE_APPLICATION_OVERLAY requires \r\n\r\n&gt; Requires Manifest.permission.SYSTEM_ALERT_WINDOW permission.\r\n\r\nData can be found https://developer.android.com/reference/android/Manifest.permission#SYSTEM_ALERT_WINDOW\r\n\r\nDid you request that specific permission and did you grant it? (Even though if you are system app it&#39;s probably granted","title":"TYPE APPLICATION OVERLAY in android 11 permission denied","body":"<p><a href=\"https://developer.android.com/reference/android/view/WindowManager.LayoutParams#TYPE_APPLICATION_OVERLAY\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/WindowManager.LayoutParams#TYPE_APPLICATION_OVERLAY</a></p>\n<p>Your TYPE_APPLICATION_OVERLAY requires</p>\n<blockquote>\n<p>Requires Manifest.permission.SYSTEM_ALERT_WINDOW permission.</p>\n</blockquote>\n<p>Data can be found <a href=\"https://developer.android.com/reference/android/Manifest.permission#SYSTEM_ALERT_WINDOW\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/Manifest.permission#SYSTEM_ALERT_WINDOW</a></p>\n<p>Did you request that specific permission and did you grant it? (Even though if you are system app it's probably granted</p>\n"}],"owner":{"account_id":20605709,"reputation":97,"user_id":15126019,"display_name":"S. Ber Rosenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667329486,"creation_date":1667325804,"question_id":74280026,"body_markdown":"I tried to create a overlay app for android 11 and I see that I can&#39;t use the \r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.TYPE_APPLICATION_OVERLAY&quot; /&gt;\r\nin android 11 only if this is a system app \r\nso I make it for a system app and I still not able to preform a system overlay \r\nI get this error\r\n\r\n         Caused by: android.view.WindowManager$BadTokenException: Unable to add window android.view.ViewRootImpl$W@10f390 -- permission denied for window type 2006\r\n","title":"TYPE APPLICATION OVERLAY in android 11 permission denied","body":"<p>I tried to create a overlay app for android 11 and I see that I can't use the</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.TYPE_APPLICATION_OVERLAY&quot; /&gt;\n</code></pre>\n<p>in android 11 only if this is a system app\nso I make it for a system app and I still not able to preform a system overlay\nI get this error</p>\n<pre><code>     Caused by: android.view.WindowManager$BadTokenException: Unable to add window android.view.ViewRootImpl$W@10f390 -- permission denied for window type 2006\n</code></pre>\n"},{"tags":["java","spring-boot","annotations","spring-annotations"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1662656625,"post_id":73652633,"comment_id":130062185,"body_markdown":"Some of those annotations are lombok, and lombok wouldn&#39;t support this. Not that any of the others do, either. There are plans to add meta annotation systems to lombok, though they won&#39;t be able to do anything other than what the lombok annotations do, and that feature is still in the &#39;design&#39; phase.","body":"Some of those annotations are lombok, and lombok wouldn&#39;t support this. Not that any of the others do, either. There are plans to add meta annotation systems to lombok, though they won&#39;t be able to do anything other than what the lombok annotations do, and that feature is still in the &#39;design&#39; phase."},{"owner":{"account_id":14501361,"reputation":103,"user_id":10474434,"display_name":"MuCh"},"score":0,"creation_date":1662661589,"post_id":73652633,"comment_id":130063700,"body_markdown":"@rzwitserloot Thanks. Yes, I also realized `@Data` and `@Slf4j` won&#39;t work. `@Configuration` works though.  However, I am more concerned about the `@PropertySource` and `@ConfigurationProperties` annotations as they are more annoying to type again and again. Any idea on these ? Especially getting the values out and setting it is something I am not able to do.","body":"@rzwitserloot Thanks. Yes, I also realized <code>@Data</code> and <code>@Slf4j</code> won&#39;t work. <code>@Configuration</code> works though.  However, I am more concerned about the <code>@PropertySource</code> and <code>@ConfigurationProperties</code> annotations as they are more annoying to type again and again. Any idea on these ? Especially getting the values out and setting it is something I am not able to do."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1662669102,"post_id":73652633,"comment_id":130065821,"body_markdown":"Does this answer your question? [Is there something like Annotation Inheritance in java?](https://stackoverflow.com/questions/7761513/is-there-something-like-annotation-inheritance-in-java) (especially [this answer](https://stackoverflow.com/a/18585833/639520))","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7761513/is-there-something-like-annotation-inheritance-in-java\">Is there something like Annotation Inheritance in java?</a> (especially <a href=\"https://stackoverflow.com/a/18585833/639520\">this answer</a>)"}],"answers":[{"tags":[],"owner":{"account_id":15539213,"reputation":346,"user_id":11210547,"display_name":"P&#233;ter Bar&#225;th"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667329224,"creation_date":1667329224,"answer_id":74280626,"question_id":73652633,"body_markdown":"I faced similar problem and this solution works for me:\r\n\r\n**This is the case:**\r\n\r\n    package com.something.something;\r\n    \r\n    import org.springframework.context.annotation.Lazy;\r\n    import org.springframework.context.annotation.Primary;\r\n    import org.springframework.context.annotation.Scope;\r\n    import org.springframework.core.annotation.AliasFor;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    import static org.springframework.beans.factory.config.BeanDefinition.SCOPE_PROTOTYPE;\r\n    \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    @Primary\r\n    @Scope\r\n    @Component\r\n    @Lazy\r\n    public @interface CustomComponent{\r\n    \r\n            /**\r\n             * Setting the scope of the beans\r\n             * Means: @Scope(value = &quot;scope&quot;)\r\n             * @return\r\n             */\r\n            @AliasFor(\r\n                annotation = Scope.class,\r\n                attribute = &quot;value&quot;\r\n            )\r\n            String scope() default SCOPE_PROTOTYPE;\r\n    \r\n            /**\r\n             * Setting the name of the beans.\r\n             * I don&#39;t know why but if I renamed this, it didn&#39;t work. I could rename the others. \r\n             * Means: @Component(value = &quot;name&quot;)\r\n             * @return\r\n             */\r\n            @AliasFor(\r\n                annotation = Component.class,\r\n                attribute = &quot;value&quot;\r\n            )\r\n            String value() default &quot;&quot;;\r\n    \r\n            /**\r\n             * Setting the bean is lazy or not\r\n             * Means: @Lazy(value = true)\r\n             * @return\r\n             */\r\n            @AliasFor(\r\n                annotation = Lazy.class,\r\n                attribute = &quot;value&quot;\r\n            )\r\n            boolean isLazy() default false;\r\n    \r\n    \r\n    }\r\n\r\n\r\n**How to use:**\r\n\r\n    @CustomComponent( scope = &quot;SCOPE_SINGLETON&quot;, value = &quot;bean-name&quot;, isLazy = true);\r\n\r\nI hope you can transform it to your case. ","title":"Create a custom annotation to set a bunch of other annotation","body":"<p>I faced similar problem and this solution works for me:</p>\n<p><strong>This is the case:</strong></p>\n<pre><code>package com.something.something;\n\nimport org.springframework.context.annotation.Lazy;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.context.annotation.Scope;\nimport org.springframework.core.annotation.AliasFor;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.stereotype.Service;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport static org.springframework.beans.factory.config.BeanDefinition.SCOPE_PROTOTYPE;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@Primary\n@Scope\n@Component\n@Lazy\npublic @interface CustomComponent{\n\n        /**\n         * Setting the scope of the beans\n         * Means: @Scope(value = &quot;scope&quot;)\n         * @return\n         */\n        @AliasFor(\n            annotation = Scope.class,\n            attribute = &quot;value&quot;\n        )\n        String scope() default SCOPE_PROTOTYPE;\n\n        /**\n         * Setting the name of the beans.\n         * I don't know why but if I renamed this, it didn't work. I could rename the others. \n         * Means: @Component(value = &quot;name&quot;)\n         * @return\n         */\n        @AliasFor(\n            annotation = Component.class,\n            attribute = &quot;value&quot;\n        )\n        String value() default &quot;&quot;;\n\n        /**\n         * Setting the bean is lazy or not\n         * Means: @Lazy(value = true)\n         * @return\n         */\n        @AliasFor(\n            annotation = Lazy.class,\n            attribute = &quot;value&quot;\n        )\n        boolean isLazy() default false;\n\n\n}\n</code></pre>\n<p><strong>How to use:</strong></p>\n<pre><code>@CustomComponent( scope = &quot;SCOPE_SINGLETON&quot;, value = &quot;bean-name&quot;, isLazy = true);\n</code></pre>\n<p>I hope you can transform it to your case.</p>\n"}],"owner":{"account_id":14501361,"reputation":103,"user_id":10474434,"display_name":"MuCh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667329224,"creation_date":1662656106,"question_id":73652633,"body_markdown":"I have some repeated annotations in multiple classes. It looks like this -\r\n\r\n\r\n    @Configuration\r\n    @Data\r\n    @Slf4j\r\n    @ConfigurationProperties(prefix = &quot;hello&quot;)\r\n    @PropertySource(value = &quot;classpath:hello.yml&quot;, factory = YamlSourceFactory.class)`\r\n    \r\nI would like to combine and make a single Annotation class out of it.\r\nI want to write something like this -\r\n    \r\n    @Configuration\r\n    @Data\r\n    @Documented\r\n    @Target({ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @PropertySource(value = this.value, factory = this.factory)\r\n    @ConfigurationProperties(prefix = this.key)\r\n    public @interface CustomAnnotation {\r\n        String name() default &quot;&quot;;\r\n        String[] key();\r\n        String[] value();\r\n        Class&lt;? extends PropertySourceFactory&gt; factory() default YamlSourceFactory.class;\r\n    }\r\n\r\nso that in all my other files I can write only one line and it is taken care of by my Custom Annotation -\r\n`@CustomAnnotation(key = &quot;hello&quot;, value = &quot;classpath:hello.yml&quot;)`\r\n\r\nIs this something possible to achieve ? ","title":"Create a custom annotation to set a bunch of other annotation","body":"<p>I have some repeated annotations in multiple classes. It looks like this -</p>\n<pre><code>@Configuration\n@Data\n@Slf4j\n@ConfigurationProperties(prefix = &quot;hello&quot;)\n@PropertySource(value = &quot;classpath:hello.yml&quot;, factory = YamlSourceFactory.class)`\n</code></pre>\n<p>I would like to combine and make a single Annotation class out of it.\nI want to write something like this -</p>\n<pre><code>@Configuration\n@Data\n@Documented\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@PropertySource(value = this.value, factory = this.factory)\n@ConfigurationProperties(prefix = this.key)\npublic @interface CustomAnnotation {\n    String name() default &quot;&quot;;\n    String[] key();\n    String[] value();\n    Class&lt;? extends PropertySourceFactory&gt; factory() default YamlSourceFactory.class;\n}\n</code></pre>\n<p>so that in all my other files I can write only one line and it is taken care of by my Custom Annotation -\n<code>@CustomAnnotation(key = &quot;hello&quot;, value = &quot;classpath:hello.yml&quot;)</code></p>\n<p>Is this something possible to achieve ?</p>\n"},{"tags":["java","spring","intellij-idea","backend","updates"],"comments":[{"owner":{"account_id":5745621,"reputation":699,"user_id":4536931,"display_name":"Vincent C."},"score":2,"creation_date":1630933044,"post_id":69074895,"comment_id":122082033,"body_markdown":"What you are looking for is called &quot;hot swapping&quot;: https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.running-your-application.hot-swapping, _and_ `LiveReload` in Spring Boot: https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools.livereload.","body":"What you are looking for is called &quot;hot swapping&quot;: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.running-your-application.hot-swapping\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>, <i>and</i> <code>LiveReload</code> in Spring Boot: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.devtools.livereload\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>."},{"owner":{"account_id":20633524,"reputation":11,"user_id":15147814,"display_name":"mdara"},"score":0,"creation_date":1630934340,"post_id":69074895,"comment_id":122082591,"body_markdown":"Perfect - Thank you","body":"Perfect - Thank you"}],"answers":[{"tags":[],"owner":{"account_id":8383036,"reputation":641,"user_id":6294316,"display_name":"mkkabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667329145,"creation_date":1667329145,"answer_id":74280611,"question_id":69074895,"body_markdown":"If you&#39;re working in Inellij, adding spring-boot-devtools dependency is not enough. You also need to change the settings. Go to File-&gt;settings-&gt;Build, execution, deployment-&gt;Compiler and check Build project automatically\r\nthen go to Anvanced Settings and check Allow auto-make to start even if developed application is currently running","title":"Spring Boot - backend update without restarting the application","body":"<p>If you're working in Inellij, adding spring-boot-devtools dependency is not enough. You also need to change the settings. Go to File-&gt;settings-&gt;Build, execution, deployment-&gt;Compiler and check Build project automatically\nthen go to Anvanced Settings and check Allow auto-make to start even if developed application is currently running</p>\n"}],"owner":{"account_id":20633524,"reputation":11,"user_id":15147814,"display_name":"mdara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667329145,"creation_date":1630932857,"question_id":69074895,"body_markdown":"Is there a way to update changes (backend) automatically on the website without restarting the application? I&#39;m doing my first project in Spring Boot, some things are not working and to check if the problem was fixed I need to restart the application everytime I change the code.","title":"Spring Boot - backend update without restarting the application","body":"<p>Is there a way to update changes (backend) automatically on the website without restarting the application? I'm doing my first project in Spring Boot, some things are not working and to check if the problem was fixed I need to restart the application everytime I change the code.</p>\n"},{"tags":["java","spring","lambda","javac","method-reference"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1667328916,"post_id":74280524,"comment_id":131140657,"body_markdown":"What do you mean _is methodReference and they don&#39;t match_? Do you understand how method references are compiled? `FeignException errorStatus(String methodKey, Response response)` very much matches `ErrorDecoder`&#39;s single abstract method, `decode`.","body":"What do you mean <i>is methodReference and they don&#39;t match</i>? Do you understand how method references are compiled? <code>FeignException errorStatus(String methodKey, Response response)</code> very much matches <code>ErrorDecoder</code>&#39;s single abstract method, <code>decode</code>."}],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667329115,"creation_date":1667329115,"answer_id":74280607,"question_id":74280524,"body_markdown":"`FeignException::errorStatus`\r\n\r\nis essentially equivalent to the lambda\r\n\r\n`(s, r) -&gt; FeignException.errorStatus(s, r)`\r\n\r\nWhere `s` is type `String` and `r` is type `Response`.  Because this lambda method matches the only method that needs to be implemented in the `ErrorDecoder` interface\r\n\r\n```\r\npublic Exception decode(String methodKey, Response response);\r\n```\r\n\r\nThe compiler is able to turn the statement `FeignException::errorStatus` into an object of an anonymous class that implements `ErrorDecoder` which can be returned successfully in the `streamHubErrorDecoder` method","title":"Return type mismatch and Java compiles","body":"<p><code>FeignException::errorStatus</code></p>\n<p>is essentially equivalent to the lambda</p>\n<p><code>(s, r) -&gt; FeignException.errorStatus(s, r)</code></p>\n<p>Where <code>s</code> is type <code>String</code> and <code>r</code> is type <code>Response</code>.  Because this lambda method matches the only method that needs to be implemented in the <code>ErrorDecoder</code> interface</p>\n<pre><code>public Exception decode(String methodKey, Response response);\n</code></pre>\n<p>The compiler is able to turn the statement <code>FeignException::errorStatus</code> into an object of an anonymous class that implements <code>ErrorDecoder</code> which can be returned successfully in the <code>streamHubErrorDecoder</code> method</p>\n"}],"owner":{"account_id":340612,"reputation":839,"user_id":670731,"accept_rate":46,"display_name":"Veeraraghavan N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1667329115,"creation_date":1667328645,"question_id":74280524,"body_markdown":"I am curious as to how the below code compiles  \r\n   \r\n    @Bean(name = &quot;ErrorDecoder&quot;)\r\n    public ErrorDecoder streamHubErrorDecoder() {\r\n        return FeignException::errorStatus;\r\n    }\r\nThe type of ErrorDecoder https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/codec/ErrorDecoder.java    \r\nFeignException is https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/FeignException.java \r\n\r\nThe bean expect a type of ErrorDecoder and returnType is methodReference and they don&#39;t match . How is there no compile error?","title":"Return type mismatch and Java compiles","body":"<p>I am curious as to how the below code compiles</p>\n<pre><code>@Bean(name = &quot;ErrorDecoder&quot;)\npublic ErrorDecoder streamHubErrorDecoder() {\n    return FeignException::errorStatus;\n}\n</code></pre>\n<p>The type of ErrorDecoder <a href=\"https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/codec/ErrorDecoder.java\" rel=\"nofollow noreferrer\">https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/codec/ErrorDecoder.java</a><br />\nFeignException is <a href=\"https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/FeignException.java\" rel=\"nofollow noreferrer\">https://github.com/OpenFeign/feign/blob/master/core/src/main/java/feign/FeignException.java</a></p>\n<p>The bean expect a type of ErrorDecoder and returnType is methodReference and they don't match . How is there no compile error?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1435567929,"post_id":31111263,"comment_id":50236713,"body_markdown":"Your question is not clear. Do you mean that A is actually some.package.A; and you want to use the fully qualified name within your source code? If so, I am sure that eclipse can be configured somewhere to do that; but probably it will then do that for all classes. You see, eclipse is trying to create syntactically correct java source code; and I don&#39;t see how you would want to use A and A.B without importing those class names upfront.","body":"Your question is not clear. Do you mean that A is actually some.package.A; and you want to use the fully qualified name within your source code? If so, I am sure that eclipse can be configured somewhere to do that; but probably it will then do that for all classes. You see, eclipse is trying to create syntactically correct java source code; and I don&#39;t see how you would want to use A and A.B without importing those class names upfront."},{"owner":{"account_id":106015,"reputation":13720,"user_id":282614,"accept_rate":85,"display_name":"Dacav"},"score":0,"creation_date":1435568269,"post_id":31111263,"comment_id":50236923,"body_markdown":"@J&#228;germeister, thanks for your comment. I fixed the question.","body":"@J&#228;germeister, thanks for your comment. I fixed the question."}],"answers":[{"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1435568290,"post_id":31111547,"comment_id":50236937,"body_markdown":"I guess you misunderstood the question. OP doesn&#39;t want an import for class `B`. He wants to use the outer class name instead: `A.B`.","body":"I guess you misunderstood the question. OP doesn&#39;t want an import for class <code>B</code>. He wants to use the outer class name instead: <code>A.B</code>."}],"tags":[],"owner":{"account_id":6189920,"reputation":2014,"user_id":4822884,"accept_rate":60,"display_name":"francesco foresti"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435568436,"creation_date":1435568212,"answer_id":31111547,"question_id":31111263,"body_markdown":"try with\r\n\r\n    package my.pack;\r\n\r\n    public class A {\r\n\r\n      public static class B {}\r\n    }\r\n\r\n\r\nand then\r\n\r\n    package my.other.pack;\r\n\r\n    public class C {\r\n\r\n      my.pack.A.B myB = new my.pack.A.B();\r\n\r\n    }\r\n\r\nbut keep an eye on Eclipse, I think it will try to optimize your imports (I think you can disable it, but I don&#39;t know how).","title":"Eclipse, completion of inner classes","body":"<p>try with</p>\n\n<pre><code>package my.pack;\n\npublic class A {\n\n  public static class B {}\n}\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>package my.other.pack;\n\npublic class C {\n\n  my.pack.A.B myB = new my.pack.A.B();\n\n}\n</code></pre>\n\n<p>but keep an eye on Eclipse, I think it will try to optimize your imports (I think you can disable it, but I don't know how).</p>\n"},{"tags":[],"owner":{"account_id":9098886,"reputation":499,"user_id":6771814,"display_name":"Hartmut Schorrig"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667328886,"creation_date":1667328886,"answer_id":74280564,"question_id":31111263,"body_markdown":"I was also angry about that: I write in comment\r\n\r\n    see Outerclass.In\r\npress autocompletion, and then eclipse removes the &quot;Outerclass.&quot;, completes the inner class, make the link well \r\n\r\n    ... see {@link Innerclass}\r\n\r\nand adds automatically an import\r\n\r\n    import package.path.OuterClass.Innerclass;\r\n\r\nThat is against well code styles, as also many other people has written! I have to do the work, remove the dirty import, write again the &quot;Outerclass.&quot; manually without code completion. It is stupid, a helper will help me stupidly and I have do the work to remove. I have searched for a solution in eclipse and found https://bugs.eclipse.org/bugs/show_bug.cgi?id=305205 with last entry in 2018, nothing is done.\r\n\r\nThere may be a help: \r\nPreferences - Java - Editor - Content Assist: Uncheck the check box &quot;Add import instead of qualified names&quot;. But I guess, now, also on the autocompleted classes the import is not written automatically. But this may be a lesser disadvantage. The import is fast written manually by copying the &quot;packge.path&quot;, to to top, write &quot;import &quot; and paste. In the moment for me: get experience with. \r\n","title":"Eclipse, completion of inner classes","body":"<p>I was also angry about that: I write in comment</p>\n<pre><code>see Outerclass.In\n</code></pre>\n<p>press autocompletion, and then eclipse removes the &quot;Outerclass.&quot;, completes the inner class, make the link well</p>\n<pre><code>... see {@link Innerclass}\n</code></pre>\n<p>and adds automatically an import</p>\n<pre><code>import package.path.OuterClass.Innerclass;\n</code></pre>\n<p>That is against well code styles, as also many other people has written! I have to do the work, remove the dirty import, write again the &quot;Outerclass.&quot; manually without code completion. It is stupid, a helper will help me stupidly and I have do the work to remove. I have searched for a solution in eclipse and found <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=305205\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=305205</a> with last entry in 2018, nothing is done.</p>\n<p>There may be a help:\nPreferences - Java - Editor - Content Assist: Uncheck the check box &quot;Add import instead of qualified names&quot;. But I guess, now, also on the autocompleted classes the import is not written automatically. But this may be a lesser disadvantage. The import is fast written manually by copying the &quot;packge.path&quot;, to to top, write &quot;import &quot; and paste. In the moment for me: get experience with.</p>\n"}],"owner":{"account_id":106015,"reputation":13720,"user_id":282614,"accept_rate":85,"display_name":"Dacav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":829,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1667328886,"creation_date":1435567272,"question_id":31111263,"body_markdown":"I&#39;ve got a class `B` defined as inner class for `A`\r\n\r\n    package hello;\r\n\r\n    class A {\r\n        static class B {\r\n           // ...\r\n        }\r\n        // ...\r\n    }\r\n\r\nI&#39;m editing a third class `C`, and I need to declare a `A.B` object:\r\n\r\n    A.B something = new A.B(...);\r\n\r\nIf I use Eclipse&#39;s code completion, and I let Eclipse infer the type of the expression, I get something like this:\r\n\r\n    import hello.A;\r\n    import hello.A.B;\r\n    // ...\r\n    class C {\r\n        // ...\r\n        void foo() {\r\n            B something = new A.B(...);\r\n        }\r\n    }\r\n\r\nIs there a way to avoid this behavior and have eclipse using `A.B` instead of importing it?\r\n\r\nWhat I would like is this:\r\n\r\n    import hello.A;\r\n\r\n    class C {\r\n        void foo() {\r\n            A.B something = new A.B(...);\r\n        }\r\n    }","title":"Eclipse, completion of inner classes","body":"<p>I've got a class <code>B</code> defined as inner class for <code>A</code></p>\n\n<pre><code>package hello;\n\nclass A {\n    static class B {\n       // ...\n    }\n    // ...\n}\n</code></pre>\n\n<p>I'm editing a third class <code>C</code>, and I need to declare a <code>A.B</code> object:</p>\n\n<pre><code>A.B something = new A.B(...);\n</code></pre>\n\n<p>If I use Eclipse's code completion, and I let Eclipse infer the type of the expression, I get something like this:</p>\n\n<pre><code>import hello.A;\nimport hello.A.B;\n// ...\nclass C {\n    // ...\n    void foo() {\n        B something = new A.B(...);\n    }\n}\n</code></pre>\n\n<p>Is there a way to avoid this behavior and have eclipse using <code>A.B</code> instead of importing it?</p>\n\n<p>What I would like is this:</p>\n\n<pre><code>import hello.A;\n\nclass C {\n    void foo() {\n        A.B something = new A.B(...);\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1667328854,"post_id":74280497,"comment_id":131140646,"body_markdown":"`@OneToMany(mappedBy = &quot;address&quot;)` must be `@OneToMany(mappedBy = &quot;customer&quot;)`. You referenced the property in the Fk class","body":"<code>@OneToMany(mappedBy = &quot;address&quot;)</code> must be <code>@OneToMany(mappedBy = &quot;customer&quot;)</code>. You referenced the property in the Fk class"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":1,"creation_date":1667334386,"post_id":74280497,"comment_id":131142233,"body_markdown":"Guide on how to map One To Many (Vlad Mihalcea is a Java Champion and one of the top Hibernate ORM committers): https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/","body":"Guide on how to map One To Many (Vlad Mihalcea is a Java Champion and one of the top Hibernate ORM committers): <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"owner":{"account_id":14556289,"reputation":97,"user_id":10513727,"display_name":"devCodePro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667328547,"creation_date":1667328547,"question_id":74280497,"body_markdown":"Firstly, I have gone through multiple links to fix the problem, but still couldn&#39;t.\r\nI have 3 classes: Customer, Address and Subscription\r\nA customer can have multiple addresses.\r\nA customer can have multiple subscriptions.\r\n\r\n```\r\npackage com.ms.example.model;\r\n\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.*;\r\nimport java.util.*;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;customer&quot;)\r\npublic class Customer {\r\n    @Id\r\n    @Column(name = &quot;customer_id&quot;)\r\n    private String customerId;\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n    @Column(name = &quot;email_id&quot;)\r\n    private String emailId;\r\n    @Column(name = &quot;phone_number&quot;)\r\n    private Long phoneNumber;\r\n    @Column(name = &quot;creation_date&quot;)\r\n    private LocalDate creationDate;\r\n    @OneToMany(mappedBy = &quot;address&quot;)\r\n    private List&lt;Address&gt; addresses;\r\n    @OneToMany(mappedBy = &quot;subscription&quot;)\r\n    private List&lt;Subscription&gt; subscriptions;\r\n\r\n\r\n}\r\npackage com.ms.example.model;\r\n\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.*;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;address&quot;)\r\npublic class Address {\r\n    @Id\r\n    @Column(name = &quot;address_id&quot;)\r\n    private String addressId;\r\n    @Column(name = &quot;address1&quot;)\r\n    private String address1;\r\n    @Column(name = &quot;address2&quot;)\r\n    private String address2;\r\n    @Column(name = &quot;city&quot;)\r\n    private String city;\r\n    @Column(name = &quot;state&quot;)\r\n    private String state;\r\n    @Column(name = &quot;postal_code&quot;)\r\n    private String postalCode;\r\n    @Column(name = &quot;last_update_date&quot;)\r\n    private LocalDate lastUpdateDate;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private Customer customer;\r\n\r\n}\r\n\r\npackage com.ms.example.model;\r\n\r\nimport lombok.*;\r\n\r\nimport javax.persistence.*;\r\nimport java.math.*;\r\nimport java.time.*;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;subscription&quot;)\r\npublic class Subscription {\r\n    @Id\r\n    @Column(name = &quot;subscription_id&quot;)\r\n    private String subscriptionId;\r\n    @Column(name = &quot;subscription_on_date&quot;)\r\n    private LocalDate subscriptionOnDate;\r\n    @Column(name = &quot;subscription_off_date&quot;)\r\n    private LocalDate subscriptionOffDate;\r\n    @Column(name = &quot;balance_pending&quot;)\r\n    private BigDecimal balancePending;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private Customer customer;\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nWhile running I am getting this error:\r\n\r\nCan someone please help what am I missing or doing wrong?\r\n\r\n\r\n\r\n\r\n    Caused by: org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.ms.example.customerdataservice.model.Address.address in com.ms.example.customerdataservice.model.Customer.addresses\r\n\tat org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:875) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:826) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:54) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1653) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1629) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 21 common frames omitted","title":"mappedBy reference an unknown target entity property: com.ms.example.model.Address.address in com.ms.example.model.Customer.addresses","body":"<p>Firstly, I have gone through multiple links to fix the problem, but still couldn't.\nI have 3 classes: Customer, Address and Subscription\nA customer can have multiple addresses.\nA customer can have multiple subscriptions.</p>\n<pre><code>package com.ms.example.model;\n\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.time.*;\nimport java.util.*;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;customer&quot;)\npublic class Customer {\n    @Id\n    @Column(name = &quot;customer_id&quot;)\n    private String customerId;\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n    @Column(name = &quot;email_id&quot;)\n    private String emailId;\n    @Column(name = &quot;phone_number&quot;)\n    private Long phoneNumber;\n    @Column(name = &quot;creation_date&quot;)\n    private LocalDate creationDate;\n    @OneToMany(mappedBy = &quot;address&quot;)\n    private List&lt;Address&gt; addresses;\n    @OneToMany(mappedBy = &quot;subscription&quot;)\n    private List&lt;Subscription&gt; subscriptions;\n\n\n}\npackage com.ms.example.model;\n\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.time.*;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;address&quot;)\npublic class Address {\n    @Id\n    @Column(name = &quot;address_id&quot;)\n    private String addressId;\n    @Column(name = &quot;address1&quot;)\n    private String address1;\n    @Column(name = &quot;address2&quot;)\n    private String address2;\n    @Column(name = &quot;city&quot;)\n    private String city;\n    @Column(name = &quot;state&quot;)\n    private String state;\n    @Column(name = &quot;postal_code&quot;)\n    private String postalCode;\n    @Column(name = &quot;last_update_date&quot;)\n    private LocalDate lastUpdateDate;\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private Customer customer;\n\n}\n\npackage com.ms.example.model;\n\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.math.*;\nimport java.time.*;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;subscription&quot;)\npublic class Subscription {\n    @Id\n    @Column(name = &quot;subscription_id&quot;)\n    private String subscriptionId;\n    @Column(name = &quot;subscription_on_date&quot;)\n    private LocalDate subscriptionOnDate;\n    @Column(name = &quot;subscription_off_date&quot;)\n    private LocalDate subscriptionOffDate;\n    @Column(name = &quot;balance_pending&quot;)\n    private BigDecimal balancePending;\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private Customer customer;\n}\n\n\n</code></pre>\n<p>While running I am getting this error:</p>\n<p>Can someone please help what am I missing or doing wrong?</p>\n<pre><code>Caused by: org.hibernate.AnnotationException: mappedBy reference an unknown target entity property: com.ms.example.customerdataservice.model.Address.address in com.ms.example.customerdataservice.model.Customer.addresses\nat org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:875) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:826) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:54) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1653) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1629) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\n... 21 common frames omitted\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1595454197,"post_id":63043585,"comment_id":111484233,"body_markdown":"You would start by getting rid of all the config pointing to java 8, surely?","body":"You would start by getting rid of all the config pointing to java 8, surely?"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":3,"creation_date":1595454863,"post_id":63043585,"comment_id":111484449,"body_markdown":"Please see [this post](https://devblogs.microsoft.com/java/java-on-visual-studio-code-update-june-2020/) - Java 11 is now a requirement.  It looks like you simply have to move everything about *running* VSCode to Java 11.  Note that you can still code for a lower version of Java.","body":"Please see <a href=\"https://devblogs.microsoft.com/java/java-on-visual-studio-code-update-june-2020/\" rel=\"nofollow noreferrer\">this post</a> - Java 11 is now a requirement.  It looks like you simply have to move everything about <i>running</i> VSCode to Java 11.  Note that you can still code for a lower version of Java."},{"owner":{"account_id":4526521,"reputation":3569,"user_id":3678157,"accept_rate":62,"display_name":"Chanaka Amarasinghe"},"score":1,"creation_date":1595651653,"post_id":63043585,"comment_id":111555186,"body_markdown":"How to open workspace settings on VSCode ??","body":"How to open workspace settings on VSCode ??"},{"owner":{"display_name":"user4987870"},"score":0,"creation_date":1597078955,"post_id":63043585,"comment_id":112010282,"body_markdown":"For people who do not want to install Java-11 and keep using java-8. You will have to install previous version of &#39;Language Support for Java(TM) by Red Hat\nredhat.java&quot; . \nhttps://stackoverflow.com/a/63287737/4987870","body":"For people who do not want to install Java-11 and keep using java-8. You will have to install previous version of &#39;Language Support for Java(TM) by Red Hat redhat.java&quot; .  <a href=\"https://stackoverflow.com/a/63287737/4987870\">stackoverflow.com/a/63287737/4987870</a>"}],"answers":[{"comments":[{"owner":{"account_id":4779872,"reputation":2056,"user_id":3861965,"accept_rate":47,"display_name":"mcansado"},"score":5,"creation_date":1595500398,"post_id":63043935,"comment_id":111499220,"body_markdown":"This is correct. By changing `java.home` to point to JDK 11 and keeping the rest of my workspace config as is (namely `java.configuration.runtimes` with the default to `JavaSE-1.8`) it worked.","body":"This is correct. By changing <code>java.home</code> to point to JDK 11 and keeping the rest of my workspace config as is (namely <code>java.configuration.runtimes</code> with the default to <code>JavaSE-1.8</code>) it worked."},{"owner":{"account_id":6269881,"reputation":577,"user_id":4874431,"accept_rate":76,"display_name":"Pallavi Prasad"},"score":0,"creation_date":1601375252,"post_id":63043935,"comment_id":113381921,"body_markdown":"This helped me a lot. I was facing the same issue with Oracle JDK in VS Code. It worked!","body":"This helped me a lot. I was facing the same issue with Oracle JDK in VS Code. It worked!"},{"owner":{"account_id":4178685,"reputation":4554,"user_id":3424423,"accept_rate":47,"display_name":"Nearoo"},"score":0,"creation_date":1664461092,"post_id":63043935,"comment_id":130481466,"body_markdown":"!!! This doesn&#39;t cause the extension to use Java 8 to build, even if it is specified as runtime. It will use Java 11 to build. So if you turn on auto build, which is turned on by default, VSCode will continously build your project using java 11. It might happen that both your build toolchain &amp; vscode wll build your project at the same time, into the same target directories, which causes your toolchain to mistankingly thinkg that parts of the project were built using jdk8 - which can cause very weird and unpredicable linking failures. Cost me an afternoon to figure this out.","body":"!!! This doesn&#39;t cause the extension to use Java 8 to build, even if it is specified as runtime. It will use Java 11 to build. So if you turn on auto build, which is turned on by default, VSCode will continously build your project using java 11. It might happen that both your build toolchain &amp; vscode wll build your project at the same time, into the same target directories, which causes your toolchain to mistankingly thinkg that parts of the project were built using jdk8 - which can cause very weird and unpredicable linking failures. Cost me an afternoon to figure this out."}],"tags":[],"owner":{"account_id":16594769,"reputation":1401,"user_id":11991921,"display_name":"Xavier"},"comment_count":3,"down_vote_count":1,"up_vote_count":60,"is_accepted":true,"score":59,"last_activity_date":1595512623,"creation_date":1595456003,"answer_id":63043935,"question_id":63043585,"body_markdown":"Change from\r\n\r\n\r\n   `&quot;java.home&quot;: &quot;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home&quot;`\r\n\r\nto \r\n\r\n   `&quot;java.home&quot;: &quot;/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home&quot;`\r\n\r\nand keep the rest of the settings as is.","title":"Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;","body":"<p>Change from</p>\n<p><code>&quot;java.home&quot;: &quot;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home&quot;</code></p>\n<p>to</p>\n<p><code>&quot;java.home&quot;: &quot;/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home&quot;</code></p>\n<p>and keep the rest of the settings as is.</p>\n"},{"comments":[{"owner":{"account_id":2450111,"reputation":412,"user_id":2136619,"accept_rate":70,"display_name":"Mateusz Moroz"},"score":1,"creation_date":1595494467,"post_id":63045780,"comment_id":111496101,"body_markdown":"Installing java 14 helped. Thanks for explaination.","body":"Installing java 14 helped. Thanks for explaination."}],"tags":[],"owner":{"account_id":19027296,"reputation":81,"user_id":13890094,"display_name":"Lzx4627"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598469978,"creation_date":1595470026,"answer_id":63045780,"question_id":63043585,"body_markdown":"About the Java 11 requirement:\r\n\r\nThe Eclipse platform has decided to require Java 11 as the minimum requirement for its September 2020 release. See *[Upgrading the Eclipse SDK target environment for the *September* Eclipse release...][1]*.\r\n\r\nBecause *vscode-java* depends on the Eclipse JDT.LS server, that same requirement to *vscode-java*. But the timeline is be more aggressive: Indeed, *vscode-java* usually consumes JDT.LS builds that depend on bleeding edge JDT features, so effectively shipping pre-release versions of Eclipse Platform/JDT. As of July 22nd, 2020, Java 11 is now required for running *vscode-java*.\r\n\r\nThis is from：https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements#java.configuration.runtimes\r\n\r\n  [1]: https://www.eclipse.org/lists/eclipse-pmc/msg03821.html\r\n","title":"Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;","body":"<p>About the Java 11 requirement:</p>\n<p>The Eclipse platform has decided to require Java 11 as the minimum requirement for its September 2020 release. See <em><a href=\"https://www.eclipse.org/lists/eclipse-pmc/msg03821.html\" rel=\"nofollow noreferrer\">Upgrading the Eclipse SDK target environment for the <em>September</em> Eclipse release...</a></em>.</p>\n<p>Because <em>vscode-java</em> depends on the Eclipse JDT.LS server, that same requirement to <em>vscode-java</em>. But the timeline is be more aggressive: Indeed, <em>vscode-java</em> usually consumes JDT.LS builds that depend on bleeding edge JDT features, so effectively shipping pre-release versions of Eclipse Platform/JDT. As of July 22nd, 2020, Java 11 is now required for running <em>vscode-java</em>.</p>\n<p>This is from：https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements#java.configuration.runtimes</p>\n"},{"tags":[],"owner":{"account_id":8988706,"reputation":29,"user_id":6701415,"display_name":"Ayush Pratap"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1598470519,"creation_date":1595842925,"answer_id":63112617,"question_id":63043585,"body_markdown":" 1. Just uninstall all previous JDKs, i.e., less than or equal to JDK 11.\r\n\r\n 2. Re-install JDK 11 from https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\r\n\r\n 3. Make sure your system variable JAVA_HOME points to the latest installed JDK like &quot;C:\\Program Files\\Java\\jdk-11.0.8&quot; (for Windows)\r\n\r\n 4. Restart Visual Studio Code\r\n\r\n 5. Go to *Workspace settings* &amp;rarr; *Java: Home*\r\n\r\n 6. Select &quot;Edit in settings.json&quot;\r\n\r\n 7. Your settings.json should look like:\r\n\r\n    [settings.json_image][1]\r\n\r\n        {\r\n            &quot;java.completion.favoriteStaticMembers&quot;: [\r\n        \r\n                &quot;org.junit.Assert.*&quot;,\r\n                &quot;org.junit.Assume.*&quot;,\r\n                &quot;org.junit.jupiter.api.Assertions.*&quot;,\r\n                &quot;org.junit.jupiter.api.Assumptions.*&quot;,\r\n                &quot;org.junit.jupiter.api.DynamicContainer.*&quot;,\r\n                &quot;org.junit.jupiter.api.DynamicTest.*&quot;,\r\n                &quot;org.mockito.Mockito.*&quot;,\r\n                &quot;org.mockito.ArgumentMatchers.*&quot;,\r\n                &quot;org.mockito.Answers.*&quot;\r\n            ],\r\n            &quot;java.home&quot;: &quot;C://Program Files//Java//jdk-11.0.8&quot;\r\n        }\r\n\r\n  [1]: https://i.stack.imgur.com/MS4BC.png\r\n\r\n","title":"Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;","body":"<ol>\n<li><p>Just uninstall all previous JDKs, i.e., less than or equal to JDK 11.</p>\n</li>\n<li><p>Re-install JDK 11 from <a href=\"https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase-jdk11-downloads.html</a></p>\n</li>\n<li><p>Make sure your system variable JAVA_HOME points to the latest installed JDK like &quot;C:\\Program Files\\Java\\jdk-11.0.8&quot; (for Windows)</p>\n</li>\n<li><p>Restart Visual Studio Code</p>\n</li>\n<li><p>Go to <em>Workspace settings</em> → <em>Java: Home</em></p>\n</li>\n<li><p>Select &quot;Edit in settings.json&quot;</p>\n</li>\n<li><p>Your settings.json should look like:</p>\n<p><a href=\"https://i.stack.imgur.com/MS4BC.png\" rel=\"nofollow noreferrer\">settings.json_image</a></p>\n<pre><code>{\n    &quot;java.completion.favoriteStaticMembers&quot;: [\n\n        &quot;org.junit.Assert.*&quot;,\n        &quot;org.junit.Assume.*&quot;,\n        &quot;org.junit.jupiter.api.Assertions.*&quot;,\n        &quot;org.junit.jupiter.api.Assumptions.*&quot;,\n        &quot;org.junit.jupiter.api.DynamicContainer.*&quot;,\n        &quot;org.junit.jupiter.api.DynamicTest.*&quot;,\n        &quot;org.mockito.Mockito.*&quot;,\n        &quot;org.mockito.ArgumentMatchers.*&quot;,\n        &quot;org.mockito.Answers.*&quot;\n    ],\n    &quot;java.home&quot;: &quot;C://Program Files//Java//jdk-11.0.8&quot;\n}\n</code></pre>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":8162772,"reputation":777,"user_id":6146234,"display_name":"penny chan"},"score":0,"creation_date":1598675022,"post_id":63287737,"comment_id":112542617,"body_markdown":"this works for me. don&#39;t know how to fix the java 11 stuff","body":"this works for me. don&#39;t know how to fix the java 11 stuff"},{"owner":{"account_id":15462527,"reputation":7563,"user_id":11154841,"display_name":"questionto42"},"score":1,"creation_date":1598684138,"post_id":63287737,"comment_id":112544256,"body_markdown":"@pennychan It is not recommended by the extension developers, and yet it is possible. It is actually the usual case to let the users decide whether they want to upgrade on a breaking change. The upgrade was thus strongly criticised (though you can also switch off automatic updates of course, but that is not the standard in vscode), see https://github.com/redhat-developer/vscode-java/issues/1543#issuecomment-672014274.","body":"@pennychan It is not recommended by the extension developers, and yet it is possible. It is actually the usual case to let the users decide whether they want to upgrade on a breaking change. The upgrade was thus strongly criticised (though you can also switch off automatic updates of course, but that is not the standard in vscode), see <a href=\"https://github.com/redhat-developer/vscode-java/issues/1543#issuecomment-672014274\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues/&hellip;</a>."},{"owner":{"account_id":8202909,"reputation":587,"user_id":6173665,"display_name":"A Kareem"},"score":1,"creation_date":1601198960,"post_id":63287737,"comment_id":113326553,"body_markdown":"Thank you, this works perfectly for users who for some reason that out of their hands cannot install Java 11","body":"Thank you, this works perfectly for users who for some reason that out of their hands cannot install Java 11"},{"owner":{"account_id":7252394,"reputation":1132,"user_id":5532169,"accept_rate":50,"display_name":"zypA13510"},"score":1,"creation_date":1606887661,"post_id":63287737,"comment_id":115096071,"body_markdown":"After downgrading, the message still appears on &quot;Java: Configure Java Runtime&quot; page. The message disappeared when I downgraded Java Extension Pack (vscjava.vscode-java-pack) to 0.10.0 too.","body":"After downgrading, the message still appears on &quot;Java: Configure Java Runtime&quot; page. The message disappeared when I downgraded Java Extension Pack (vscjava.vscode-java-pack) to 0.10.0 too."}],"tags":[],"owner":{"account_id":15462527,"reputation":7563,"user_id":11154841,"display_name":"questionto42"},"comment_count":4,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1622886351,"creation_date":1596730393,"answer_id":63287737,"question_id":63043585,"body_markdown":"## Not recommended workaround (not future-proof):\r\n\r\nOne workaround is to downgrade the extension &quot;Language Support for Java(TM) by Red Hat&quot; from the most recent version 0.65.0. back to\r\n\r\n**vscode-java version 0.64.1**.\r\n\r\n*(This is not recommended unless you have restrictions on the JDK version, it is just possible, see the remarks at the bottom. If you can, use the accepted answer of this thread instead.).*\r\n\r\nTaken from *[Java 11 or more recent is required to run. Please download and install a recent JDK&quot; #1543][1]*, this is how to install the earlier extension version (thanks go to the GitHub user who posted this):\r\n\r\n[![Enter image description here][2]][2]\r\n\r\nPlease mind:\r\n\r\nThis should be relevant only for those who cannot install JDK 11 or higher:\r\n\r\n- Due to a 32-bit system (and who by the same time are forced to use an Oracle JDK 8 as their last Oracle version for 32 bit, so that they are not allowed to use the recommended OpenJDK 14 - see *[JDK Requirements][3]* &amp;rarr; click at the top at the `Java Development Kit` link &amp;rarr; jump to https://adoptopenjdk.net/)\r\n- Due to restrictions on a 64-bit system:\r\n  - One plausible reason is that you are not allowed to update Gradle and you have a Gradle version below 4.7, see the [github discussion](https://github.com/redhat-developer/vscode-java/issues/1543#issuecomment-765448476) again.\r\n  - One &quot;not that plausible&quot; restriction could be some efficient laziness. You might simply not want to install a new JDK and change the Visual Studio Code settings back to your old JDK only because of a version change of the Java extension :).\r\n\r\nYou should not do this if you have no important restrictions. The most plausible restriction is that you use Windows 32 bit, which should be relevant only for those who have an old netbook lying around.\r\n\r\nIn the usual case: upgrade, and then you can still go back to using an older Java version by changing the settings according to *[JDK Requirements][3]*:\r\n\r\n&gt; Do I need to migrate my projects to Java 11?\r\n&gt;\r\n&gt; &quot;NO, you don&#39;t! Well, you should, be we&#39;re not here to judge. It is\r\n&gt; still possible to compile/run Java applications from Java 1.5 to 14,\r\n&gt; provided the proper java.configuration.runtimes are configured in the\r\n&gt; user&#39;s settings.json.&quot;\r\n\r\n--&gt; This means you can upgrade the extension, install at least Java 11 (JDK 11), and use the Java runtime of your choice &lt;= your installed Java version.\r\n\r\nSee detailed instructions for Windows 64bit at *[&quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot; #1543][4]*.\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java/issues/1543#issuecomment-669895753\r\n  [2]: https://i.stack.imgur.com/uvMmo.png\r\n  [3]: https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements#jdk11.requirement\r\n  [4]: https://github.com/redhat-developer/vscode-java/issues/1543#issuecomment-671106893\r\n\r\n","title":"Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;","body":"<h2>Not recommended workaround (not future-proof):</h2>\n<p>One workaround is to downgrade the extension &quot;Language Support for Java(TM) by Red Hat&quot; from the most recent version 0.65.0. back to</p>\n<p><strong>vscode-java version 0.64.1</strong>.</p>\n<p><em>(This is not recommended unless you have restrictions on the JDK version, it is just possible, see the remarks at the bottom. If you can, use the accepted answer of this thread instead.).</em></p>\n<p>Taken from <em><a href=\"https://github.com/redhat-developer/vscode-java/issues/1543#issuecomment-669895753\" rel=\"nofollow noreferrer\">Java 11 or more recent is required to run. Please download and install a recent JDK&quot; #1543</a></em>, this is how to install the earlier extension version (thanks go to the GitHub user who posted this):</p>\n<p><a href=\"https://i.stack.imgur.com/uvMmo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uvMmo.png\" alt=\"Enter image description here\" /></a></p>\n<p>Please mind:</p>\n<p>This should be relevant only for those who cannot install JDK 11 or higher:</p>\n<ul>\n<li>Due to a 32-bit system (and who by the same time are forced to use an Oracle JDK 8 as their last Oracle version for 32 bit, so that they are not allowed to use the recommended OpenJDK 14 - see <em><a href=\"https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements#jdk11.requirement\" rel=\"nofollow noreferrer\">JDK Requirements</a></em> → click at the top at the <code>Java Development Kit</code> link → jump to <a href=\"https://adoptopenjdk.net/\" rel=\"nofollow noreferrer\">https://adoptopenjdk.net/</a>)</li>\n<li>Due to restrictions on a 64-bit system:\n<ul>\n<li>One plausible reason is that you are not allowed to update Gradle and you have a Gradle version below 4.7, see the <a href=\"https://github.com/redhat-developer/vscode-java/issues/1543#issuecomment-765448476\" rel=\"nofollow noreferrer\">github discussion</a> again.</li>\n<li>One &quot;not that plausible&quot; restriction could be some efficient laziness. You might simply not want to install a new JDK and change the Visual Studio Code settings back to your old JDK only because of a version change of the Java extension :).</li>\n</ul>\n</li>\n</ul>\n<p>You should not do this if you have no important restrictions. The most plausible restriction is that you use Windows 32 bit, which should be relevant only for those who have an old netbook lying around.</p>\n<p>In the usual case: upgrade, and then you can still go back to using an older Java version by changing the settings according to <em><a href=\"https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements#jdk11.requirement\" rel=\"nofollow noreferrer\">JDK Requirements</a></em>:</p>\n<blockquote>\n<p>Do I need to migrate my projects to Java 11?</p>\n<p>&quot;NO, you don't! Well, you should, be we're not here to judge. It is\nstill possible to compile/run Java applications from Java 1.5 to 14,\nprovided the proper java.configuration.runtimes are configured in the\nuser's settings.json.&quot;</p>\n</blockquote>\n<p>--&gt; This means you can upgrade the extension, install at least Java 11 (JDK 11), and use the Java runtime of your choice &lt;= your installed Java version.</p>\n<p>See detailed instructions for Windows 64bit at <em><a href=\"https://github.com/redhat-developer/vscode-java/issues/1543#issuecomment-671106893\" rel=\"nofollow noreferrer\">&quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot; #1543</a></em>.</p>\n"},{"comments":[{"owner":{"account_id":7465632,"reputation":14579,"user_id":5675325,"accept_rate":85,"display_name":"Tiago Martins Peres"},"score":0,"creation_date":1600080073,"post_id":63344772,"comment_id":112965138,"body_markdown":"You can still compile your projects with Java 8. JDK11 is only required to run vscode-java.","body":"You can still compile your projects with Java 8. JDK11 is only required to run vscode-java."}],"tags":[],"owner":{"display_name":"user4987870"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598471056,"creation_date":1597079162,"answer_id":63344772,"question_id":63043585,"body_markdown":"For people who do not want to install [Java&amp;nbsp;11][1] and keep using [Java&amp;nbsp;8][2]. You will have to install previous version of extension &#39;Language Support for Java(TM) by Red Hat\r\nredhat.java&quot;. The extension version should be 0.64.1 for Java&amp;nbsp;8.\r\n\r\nPlease refer the answer in the post below - \r\n\r\n   *https://stackoverflow.com/questions/63043585/visual-studio-code-showing-java-11-or-more-recent-is-required-to-run-please-do/63287737#63287737*\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\r\n  [2]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\r\n\r\n","title":"Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;","body":"<p>For people who do not want to install <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\">Java 11</a> and keep using <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\">Java 8</a>. You will have to install previous version of extension 'Language Support for Java(TM) by Red Hat\nredhat.java&quot;. The extension version should be 0.64.1 for Java 8.</p>\n<p>Please refer the answer in the post below -</p>\n<p><em><a href=\"https://stackoverflow.com/questions/63043585/visual-studio-code-showing-java-11-or-more-recent-is-required-to-run-please-do/63287737#63287737\">Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;</a></em></p>\n"},{"tags":[],"owner":{"account_id":3128339,"reputation":41,"user_id":2646801,"display_name":"Warren Clough"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598471127,"creation_date":1598399267,"answer_id":63588613,"question_id":63043585,"body_markdown":"I was experiencing the same issue and the following change to my *setting.json* file resolved the issue. Big thanks to [this comment on patch notes][1].\r\n\r\n    &quot;java.home&quot;: &quot;C:/Program Files/AdoptOpenJDK/jdk-11.0.8.10-hotspot&quot;,\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;C:/Program Files/Java/jdk1.8.0_211&quot;,\r\n            &quot;default&quot;: true\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n            &quot;path&quot;: &quot;C:/Program Files/AdoptOpenJDK/jdk-11.0.8.10-hotspot&quot;,\r\n        }\r\n    ]\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java/pull/1524#issuecomment-663730482\r\n\r\n\r\n\r\n\r\n","title":"Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;","body":"<p>I was experiencing the same issue and the following change to my <em>setting.json</em> file resolved the issue. Big thanks to <a href=\"https://github.com/redhat-developer/vscode-java/pull/1524#issuecomment-663730482\" rel=\"nofollow noreferrer\">this comment on patch notes</a>.</p>\n<pre><code>&quot;java.home&quot;: &quot;C:/Program Files/AdoptOpenJDK/jdk-11.0.8.10-hotspot&quot;,\n&quot;java.configuration.runtimes&quot;: [\n    {\n        &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n        &quot;path&quot;: &quot;C:/Program Files/Java/jdk1.8.0_211&quot;,\n        &quot;default&quot;: true\n    },\n    {\n        &quot;name&quot;: &quot;JavaSE-11&quot;,\n        &quot;path&quot;: &quot;C:/Program Files/AdoptOpenJDK/jdk-11.0.8.10-hotspot&quot;,\n    }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7465632,"reputation":14579,"user_id":5675325,"accept_rate":85,"display_name":"Tiago Martins Peres"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1600077880,"creation_date":1600077555,"answer_id":63882102,"question_id":63043585,"body_markdown":"In Windows,\r\n\r\n1. Download and install JDK 11.\r\n\r\n[![Download and install JDK 11][1]][1]\r\n\r\n2. Once the installation is complete, in `C:\\Program Files\\Java` you&#39;ll see something like this\r\n\r\n[![C:\\Program Files\\Java][2]][2]\r\n\r\nAs you can see, we have JDK 11 in `C:/Program Files/Java/jdk-11.0.8`.\r\n\r\n3. Open VSC and go to Settings (CTRL + , or Manage icon (bottom left) &gt; Settings) and search for `javahome`\r\n\r\n[![VSC Settings Java Home][3]][3]\r\n\r\n4. Click in &quot;Edit in settings.json&quot;, add `C://Program Files//Java//jdk-11.0.8` to java.home and save the file. You should have something like this\r\n\r\n[![Java Home VS Code Settings][4]][4]\r\n\r\n    {\r\n        &quot;java.home&quot;: &quot;C://Program Files//Java//jdk-11.0.8&quot;\r\n    }\r\n\r\n5. Restart VS Code and you&#39;ll see something like this\r\n\r\n[![Security Warning][6]][6]\r\n\r\n&gt; Security Warning! Do you allow this workspace to set the java.home\r\n&gt; variable?   java.home: C://Program Files//Java//jdk-11.0.8\r\n\r\nClick allow and you&#39;re good to go.\r\n\r\n----------\r\n\r\n\r\n*Note*: If you get this error and are reliant on Java 8, [fbricon][5] mentions,\r\n\r\n&gt; you can still compile your projects with Java 8. JDK11 is only\r\n&gt; required to run vscode-java.\r\n\r\n  [1]: https://i.stack.imgur.com/Ejdbt.png\r\n  [2]: https://i.stack.imgur.com/FOcvo.png\r\n  [3]: https://i.stack.imgur.com/CKT5T.png\r\n  [4]: https://i.stack.imgur.com/eZ4Hs.png\r\n  [5]: https://github.com/redhat-developer/vscode-java/issues/1543#issuecomment-662582525\r\n  [6]: https://i.stack.imgur.com/ffgIt.png","title":"Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;","body":"<p>In Windows,</p>\n<ol>\n<li>Download and install JDK 11.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Ejdbt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ejdbt.png\" alt=\"Download and install JDK 11\" /></a></p>\n<ol start=\"2\">\n<li>Once the installation is complete, in <code>C:\\Program Files\\Java</code> you'll see something like this</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/FOcvo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FOcvo.png\" alt=\"C:\\Program Files\\Java\" /></a></p>\n<p>As you can see, we have JDK 11 in <code>C:/Program Files/Java/jdk-11.0.8</code>.</p>\n<ol start=\"3\">\n<li>Open VSC and go to Settings (CTRL + , or Manage icon (bottom left) &gt; Settings) and search for <code>javahome</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/CKT5T.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CKT5T.png\" alt=\"VSC Settings Java Home\" /></a></p>\n<ol start=\"4\">\n<li>Click in &quot;Edit in settings.json&quot;, add <code>C://Program Files//Java//jdk-11.0.8</code> to java.home and save the file. You should have something like this</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/eZ4Hs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eZ4Hs.png\" alt=\"Java Home VS Code Settings\" /></a></p>\n<pre><code>{\n    &quot;java.home&quot;: &quot;C://Program Files//Java//jdk-11.0.8&quot;\n}\n</code></pre>\n<ol start=\"5\">\n<li>Restart VS Code and you'll see something like this</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ffgIt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ffgIt.png\" alt=\"Security Warning\" /></a></p>\n<blockquote>\n<p>Security Warning! Do you allow this workspace to set the java.home\nvariable?   java.home: C://Program Files//Java//jdk-11.0.8</p>\n</blockquote>\n<p>Click allow and you're good to go.</p>\n<hr />\n<p><em>Note</em>: If you get this error and are reliant on Java 8, <a href=\"https://github.com/redhat-developer/vscode-java/issues/1543#issuecomment-662582525\" rel=\"noreferrer\">fbricon</a> mentions,</p>\n<blockquote>\n<p>you can still compile your projects with Java 8. JDK11 is only\nrequired to run vscode-java.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":925639,"reputation":431,"user_id":5779647,"display_name":"Roc King"},"score":1,"creation_date":1628215721,"post_id":67079837,"comment_id":121367192,"body_markdown":"&quot;java.home&quot; and env &quot;JAVA_HOME&quot; settings were ignored by boot tool. &quot;spring-boot.ls.java.home&quot; setting works.","body":"&quot;java.home&quot; and env &quot;JAVA_HOME&quot; settings were ignored by boot tool. &quot;spring-boot.ls.java.home&quot; setting works."},{"owner":{"account_id":9223337,"reputation":2550,"user_id":6851904,"display_name":"dontknowhy"},"score":1,"creation_date":1633695038,"post_id":67079837,"comment_id":122834668,"body_markdown":"this is called answer thanks man. and hi how did you know this solution? I want to have kind of this sight too","body":"this is called answer thanks man. and hi how did you know this solution? I want to have kind of this sight too"}],"tags":[],"owner":{"account_id":19380804,"reputation":311,"user_id":14172111,"display_name":"Victor Ramos"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1618335637,"creation_date":1618335637,"answer_id":67079837,"question_id":63043585,"body_markdown":"For future readers. If you are using the extension &quot;Spring Boot Tools&quot; you may get a similar error to this. I had my JAVA_HOME set to java 8 but required java 11 to use the Spring Boot Tools Language Server. It seems that Spring Boot Tools uses whatever your JAVA_HOME environment variable is or in the PATH environment variable, [Spring Project Issue][1]. To override your JAVA_HOME variable you&#39;ll need to modify the `spring-boot.ls.java.home` setting.\r\n\r\n 1. Open Visual Studio Code\r\n 2. `CRTL + ,` to open the settings\r\n 3. Search `spring-boot.ls.java.home`\r\n 4. Select &#39;Edit in settings.json&#39;\r\n 5. Your Java 11 installation → `&quot;spring-boot.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-11.0.10&quot;`\r\n 6. Save and restart VS Code\r\n\r\nPrereq: Have a Java 11 installation\r\n\r\n  [1]: https://github.com/spring-projects/sts4/issues/612#issuecomment-807575359","title":"Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;","body":"<p>For future readers. If you are using the extension &quot;Spring Boot Tools&quot; you may get a similar error to this. I had my JAVA_HOME set to java 8 but required java 11 to use the Spring Boot Tools Language Server. It seems that Spring Boot Tools uses whatever your JAVA_HOME environment variable is or in the PATH environment variable, <a href=\"https://github.com/spring-projects/sts4/issues/612#issuecomment-807575359\" rel=\"noreferrer\">Spring Project Issue</a>. To override your JAVA_HOME variable you'll need to modify the <code>spring-boot.ls.java.home</code> setting.</p>\n<ol>\n<li>Open Visual Studio Code</li>\n<li><code>CRTL + ,</code> to open the settings</li>\n<li>Search <code>spring-boot.ls.java.home</code></li>\n<li>Select 'Edit in settings.json'</li>\n<li>Your Java 11 installation → <code>&quot;spring-boot.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-11.0.10&quot;</code></li>\n<li>Save and restart VS Code</li>\n</ol>\n<p>Prereq: Have a Java 11 installation</p>\n"},{"tags":[],"owner":{"account_id":19178400,"reputation":155,"user_id":14574982,"display_name":"Neail"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639069029,"creation_date":1639068662,"answer_id":70293690,"question_id":63043585,"body_markdown":"I have been using Adopt open JDK (Eclipse Temurin) for my Gradle builds and switching to VS Code from Android studio encountered with &#39;There is no valid JAVA_HOME setting to launch Gradle Language Server. Please check your &quot;java.home&quot; setting.&#39;.\r\n\r\nDelving into that issue I found **some JDK Installers don&#39;t even install Java_Home** by default.\r\n\r\nJust reinstalling with fields checked, solved the issue.\r\nDon&#39;t forget to restart VS Code. (no need to edit environment variables at least I didn&#39;t have to)\r\n\r\n[![error][1]][1]\r\n[![fixed][2]][2]\r\n\r\nhope it helped.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h2ii7.png\r\n  [2]: https://i.stack.imgur.com/2IfeP.png","title":"Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;","body":"<p>I have been using Adopt open JDK (Eclipse Temurin) for my Gradle builds and switching to VS Code from Android studio encountered with 'There is no valid JAVA_HOME setting to launch Gradle Language Server. Please check your &quot;java.home&quot; setting.'.</p>\n<p>Delving into that issue I found <strong>some JDK Installers don't even install Java_Home</strong> by default.</p>\n<p>Just reinstalling with fields checked, solved the issue.\nDon't forget to restart VS Code. (no need to edit environment variables at least I didn't have to)</p>\n<p><a href=\"https://i.stack.imgur.com/h2ii7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h2ii7.png\" alt=\"error\" /></a>\n<a href=\"https://i.stack.imgur.com/2IfeP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2IfeP.png\" alt=\"fixed\" /></a></p>\n<p>hope it helped.</p>\n"},{"tags":[],"owner":{"account_id":13306419,"reputation":11,"user_id":9607027,"display_name":"Manjunath Asundi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644663004,"creation_date":1644646304,"answer_id":71089420,"question_id":63043585,"body_markdown":"Add this variable in your `settings.json` file.\r\n```\r\n&quot;sonarlint.ls.javaHome&quot;: &quot;/Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home&quot;\r\n```","title":"Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;","body":"<p>Add this variable in your <code>settings.json</code> file.</p>\n<pre><code>&quot;sonarlint.ls.javaHome&quot;: &quot;/Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297683,"reputation":551,"user_id":603324,"display_name":"Natta Wang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647995492,"creation_date":1647995492,"answer_id":71580496,"question_id":63043585,"body_markdown":"In 2022 March,\r\n\r\nI found the `java.home` was changed to be recommended to use `java.jdt.ls.java.home`, then just change it.\r\n\r\nAnd one another setting I did to get rid off that message, re-check the environment variables on your machine, does it set to proper Java 11 or above?\r\n\r\nAfter made those settings, restart VS Code and then go on your work.","title":"Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;","body":"<p>In 2022 March,</p>\n<p>I found the <code>java.home</code> was changed to be recommended to use <code>java.jdt.ls.java.home</code>, then just change it.</p>\n<p>And one another setting I did to get rid off that message, re-check the environment variables on your machine, does it set to proper Java 11 or above?</p>\n<p>After made those settings, restart VS Code and then go on your work.</p>\n"},{"tags":[],"owner":{"account_id":16670396,"reputation":714,"user_id":12048003,"display_name":"nativelectronic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667327846,"creation_date":1667327846,"answer_id":74280385,"question_id":63043585,"body_markdown":"If VisualSudioCode suggested to install **OpenJDK17U-jdk_x64_windows_hotspot_xxxx**, later You should select local folder where eEclipse Adptium was already installed.\r\nfor example in mine was in &quot;**C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.5.8-hotspot**&quot;\r\nand re start VSC","title":"Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;","body":"<p>If VisualSudioCode suggested to install <strong>OpenJDK17U-jdk_x64_windows_hotspot_xxxx</strong>, later You should select local folder where eEclipse Adptium was already installed.\nfor example in mine was in &quot;<strong>C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.5.8-hotspot</strong>&quot;\nand re start VSC</p>\n"}],"owner":{"account_id":4779872,"reputation":2056,"user_id":3861965,"accept_rate":47,"display_name":"mcansado"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127059,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":63043935,"answer_count":12,"score":76,"last_activity_date":1667327846,"creation_date":1595453892,"question_id":63043585,"body_markdown":"Today Visual Studio Code started showing me a pop-up saying:\r\n\r\n&gt; Java 11 or more recent is required to run. Please download and install a recent JDK.\r\n\r\n**I need to use the JDK 8** (working on Apache Beam and that&#39;s the last supported version). I have been working on that and haven&#39;t had any issues until this came up.\r\n\r\nI have read through [this article][1] and implemented the points mentioned there.\r\n\r\nHere is my workspace settings on Visual Studio Code (I have double-checked the paths)\r\n\r\n    {\r\n        &quot;java.configuration.updateBuildConfiguration&quot;: &quot;disabled&quot;,\r\n        &quot;java.home&quot;: &quot;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home&quot;,\r\n        &quot;java.configuration.runtimes&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n              &quot;path&quot;: &quot;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home&quot;,\r\n              &quot;default&quot;: true\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n              &quot;path&quot;: &quot;/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home&quot;,\r\n            }\r\n          ]\r\n    }\r\n\r\nOther helpful information:\r\n\r\n    ➜ echo $JAVA_HOME\r\n    /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\r\n\r\nand\r\n\r\n    ➜ which java\r\n    /usr/bin/java\r\n\r\nThis started happening today even though I have been running JDK 8 on Visual Studio Code successfully for a while now. I don&#39;t remember updating Visual Studio Code, so I&#39;m not sure as to why this is being displayed now since apparently the pop-up has been displayed since mid-April (asked on the *vscode-java* Gitter channel).\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements#setting-the-jdk\r\n\r\n","title":"Visual Studio Code showing &quot;Java 11 or more recent is required to run. Please download and install a recent JDK&quot;","body":"<p>Today Visual Studio Code started showing me a pop-up saying:</p>\n<blockquote>\n<p>Java 11 or more recent is required to run. Please download and install a recent JDK.</p>\n</blockquote>\n<p><strong>I need to use the JDK 8</strong> (working on Apache Beam and that's the last supported version). I have been working on that and haven't had any issues until this came up.</p>\n<p>I have read through <a href=\"https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements#setting-the-jdk\" rel=\"noreferrer\">this article</a> and implemented the points mentioned there.</p>\n<p>Here is my workspace settings on Visual Studio Code (I have double-checked the paths)</p>\n<pre><code>{\n    &quot;java.configuration.updateBuildConfiguration&quot;: &quot;disabled&quot;,\n    &quot;java.home&quot;: &quot;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home&quot;,\n    &quot;java.configuration.runtimes&quot;: [\n        {\n          &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n          &quot;path&quot;: &quot;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home&quot;,\n          &quot;default&quot;: true\n        },\n        {\n          &quot;name&quot;: &quot;JavaSE-11&quot;,\n          &quot;path&quot;: &quot;/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home&quot;,\n        }\n      ]\n}\n</code></pre>\n<p>Other helpful information:</p>\n<pre><code>➜ echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\n</code></pre>\n<p>and</p>\n<pre><code>➜ which java\n/usr/bin/java\n</code></pre>\n<p>This started happening today even though I have been running JDK 8 on Visual Studio Code successfully for a while now. I don't remember updating Visual Studio Code, so I'm not sure as to why this is being displayed now since apparently the pop-up has been displayed since mid-April (asked on the <em>vscode-java</em> Gitter channel).</p>\n"},{"tags":["java","for-loop","memory-management","heap-memory","stack-memory"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666889865,"post_id":74225014,"comment_id":131047578,"body_markdown":"&quot;for objects from previous iterations there are no references and these objects should be removed from heap.&quot;  `orderItemList` has references to those previous items.","body":"&quot;for objects from previous iterations there are no references and these objects should be removed from heap.&quot;  <code>orderItemList</code> has references to those previous items."},{"owner":{"account_id":14280312,"reputation":35,"user_id":11580012,"display_name":"Дмитрий Каспорский"},"score":0,"creation_date":1666900976,"post_id":74225014,"comment_id":131050969,"body_markdown":"@Louis Wasserman So there is no difference where to declare object reference?","body":"@Louis Wasserman So there is no difference where to declare object reference?"}],"answers":[{"comments":[{"owner":{"account_id":14280312,"reputation":35,"user_id":11580012,"display_name":"Дмитрий Каспорский"},"score":0,"creation_date":1666900741,"post_id":74225335,"comment_id":131050903,"body_markdown":"So there is no difference where to declare object reference?","body":"So there is no difference where to declare object reference?"},{"owner":{"account_id":26749788,"reputation":611,"user_id":20349343,"display_name":"radof"},"score":0,"creation_date":1666960630,"post_id":74225335,"comment_id":131064011,"body_markdown":"There is only a minor difference. If you define `OrderItem item` outside of the loop, the variable `item` containing the pointer to the last created `OrderItem()` will be still accessible after leaving the for loop within its scope.","body":"There is only a minor difference. If you define <code>OrderItem item</code> outside of the loop, the variable <code>item</code> containing the pointer to the last created <code>OrderItem()</code> will be still accessible after leaving the for loop within its scope."}],"tags":[],"owner":{"account_id":26749788,"reputation":611,"user_id":20349343,"display_name":"radof"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666889095,"creation_date":1666888003,"answer_id":74225335,"question_id":74225014,"body_markdown":"&gt; Will Java remove these objects from heap or keep them alive before\r\n&gt; method end because of there are (in stack area) will be several local\r\n&gt; variables of OrderItem type?\r\n\r\nI assume that your `orderItemList` is `ArrayList&lt;OrderItem&gt;` in which case adding an `OrderItem` to `orderItemList` should only add a reference pointing to the currently created `item` to your list rather than copying the whole object (as discussed in the linked post). \r\nThen as long as `orderItemList` is around its `OrderItem`s should stay in the heap.\r\n\r\nhttps://stackoverflow.com/questions/7080546/add-an-object-to-an-arraylist-and-modify-it-later#:~:text=The%20reference%20you%20added%20will,the%20reference%20to%20the%20object.\r\n\r\n&gt; After this loop i never used these objects again.\r\n\r\n \r\nIf you are using  `orderItemList` again, which I assume you do, since otherwise it is not clear why the list would be created in the first place, you should be using also `OrderItem`s added to it again. ","title":"Does Java remove objects from the heap after a for loop in which that object was created and never used again","body":"<blockquote>\n<p>Will Java remove these objects from heap or keep them alive before\nmethod end because of there are (in stack area) will be several local\nvariables of OrderItem type?</p>\n</blockquote>\n<p>I assume that your <code>orderItemList</code> is <code>ArrayList&lt;OrderItem&gt;</code> in which case adding an <code>OrderItem</code> to <code>orderItemList</code> should only add a reference pointing to the currently created <code>item</code> to your list rather than copying the whole object (as discussed in the linked post).\nThen as long as <code>orderItemList</code> is around its <code>OrderItem</code>s should stay in the heap.</p>\n<p><a href=\"https://stackoverflow.com/questions/7080546/add-an-object-to-an-arraylist-and-modify-it-later#:%7E:text=The%20reference%20you%20added%20will,the%20reference%20to%20the%20object\">https://stackoverflow.com/questions/7080546/add-an-object-to-an-arraylist-and-modify-it-later#:~:text=The%20reference%20you%20added%20will,the%20reference%20to%20the%20object</a>.</p>\n<blockquote>\n<p>After this loop i never used these objects again.</p>\n</blockquote>\n<p>If you are using  <code>orderItemList</code> again, which I assume you do, since otherwise it is not clear why the list would be created in the first place, you should be using also <code>OrderItem</code>s added to it again.</p>\n"}],"owner":{"account_id":14280312,"reputation":35,"user_id":11580012,"display_name":"Дмитрий Каспорский"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74225335,"answer_count":1,"score":0,"last_activity_date":1667326206,"creation_date":1666886579,"question_id":74225014,"body_markdown":"I have a simple for loop in which I create new objects and save to list. After this loop I never used these objects again. Will Java remove these objects from heap or keep them alive before method end because of there are (in stack area) will be several local variables of OrderItem type?\r\n```\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n            OrderItem item = new OrderItem();\r\n            item.setProduct(product);\r\n            item.setQuantity(entry.getValue());\r\n            orderItemList.add(item);\r\n        }\r\n```\r\nOr these objects will live in heap until end of a method (method frame).\r\nBut what if move declaration of ```OrderItem item``` outside the loop.\r\n```\r\nOrderItem item;\r\nfor (int i = 0; i &lt; arr.length; i++) {\r\n            item = new OrderItem();\r\n            item.setProduct(someValue);\r\n            item.setQuantity(someValue);\r\n            orderItemList.add(item);\r\n        }\r\n```\r\nAs I understand correctly, in this case in stack area there is only one local variable of OrderItem type and on each loop iteration this variable will reference to new object. And for  objects from previous iterations there are no references and these objects should be removed from heap.","title":"Does Java remove objects from the heap after a for loop in which that object was created and never used again","body":"<p>I have a simple for loop in which I create new objects and save to list. After this loop I never used these objects again. Will Java remove these objects from heap or keep them alive before method end because of there are (in stack area) will be several local variables of OrderItem type?</p>\n<pre><code>for (int i = 0; i &lt; arr.length; i++) {\n            OrderItem item = new OrderItem();\n            item.setProduct(product);\n            item.setQuantity(entry.getValue());\n            orderItemList.add(item);\n        }\n</code></pre>\n<p>Or these objects will live in heap until end of a method (method frame).\nBut what if move declaration of <code>OrderItem item</code> outside the loop.</p>\n<pre><code>OrderItem item;\nfor (int i = 0; i &lt; arr.length; i++) {\n            item = new OrderItem();\n            item.setProduct(someValue);\n            item.setQuantity(someValue);\n            orderItemList.add(item);\n        }\n</code></pre>\n<p>As I understand correctly, in this case in stack area there is only one local variable of OrderItem type and on each loop iteration this variable will reference to new object. And for  objects from previous iterations there are no references and these objects should be removed from heap.</p>\n"},{"tags":["java","spring","spring-boot","messagebox"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667311950,"post_id":74276772,"comment_id":131134719,"body_markdown":"Most of the time with log.level=INFO we got the exact error. If log.level=TRACE then you will definitely get lot of logs.","body":"Most of the time with log.level=INFO we got the exact error. If log.level=TRACE then you will definitely get lot of logs."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667311988,"post_id":74276772,"comment_id":131134733,"body_markdown":"Can you try once with INFO and see if that helps","body":"Can you try once with INFO and see if that helps"},{"owner":{"account_id":3411006,"reputation":853,"user_id":2864877,"display_name":"Techniquab"},"score":0,"creation_date":1667312962,"post_id":74276772,"comment_id":131135109,"body_markdown":"Yes, changing the log level can help a bit....I added some notes about running from shortcut and why I need a better mechanism than logging.","body":"Yes, changing the log level can help a bit....I added some notes about running from shortcut and why I need a better mechanism than logging."}],"answers":[{"tags":[],"owner":{"account_id":2861986,"reputation":365,"user_id":2457058,"display_name":"artild"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667326073,"creation_date":1667326073,"answer_id":74280070,"question_id":74276772,"body_markdown":"Spring Boot app [is headless by default][1] - it means there is no GUI supposed.\r\nJOptionPane.showMessageDialog - is part of GUI Java Swing framework.\r\n\r\nSo to use this GUI feature, you need to make you Spring Boot not headless.\r\n\r\nExample (short version of code from [here][2]):\r\n\r\n    @SpringBootApplication\r\n    public class DemoSbSwingApplication extends JFrame {\r\n        public static void main(String[] args) {\r\n            var ctx = new SpringApplicationBuilder(DemoSbSwingApplication.class)\r\n                    .headless(false)\r\n                    .run(args);\r\n            EventQueue.invokeLater(() -&gt; {\r\n                var ex = ctx.getBean(DemoSbSwingApplication.class);\r\n                ex.setVisible(true);\r\n            });\r\n        }\r\n    \r\n        public DemoSbSwingApplication() {\r\n            var pane = getContentPane();\r\n    \r\n            JOptionPane.showMessageDialog(pane, &quot;TEST TEST TEST&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/builder/SpringApplicationBuilder.html#headless-boolean-\r\n  [2]: https://zetcode.com/articles/springbootswing/","title":"Reporting Errors In Spring Boot Startup","body":"<p>Spring Boot app <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/builder/SpringApplicationBuilder.html#headless-boolean-\" rel=\"nofollow noreferrer\">is headless by default</a> - it means there is no GUI supposed.\nJOptionPane.showMessageDialog - is part of GUI Java Swing framework.</p>\n<p>So to use this GUI feature, you need to make you Spring Boot not headless.</p>\n<p>Example (short version of code from <a href=\"https://zetcode.com/articles/springbootswing/\" rel=\"nofollow noreferrer\">here</a>):</p>\n<pre><code>@SpringBootApplication\npublic class DemoSbSwingApplication extends JFrame {\n    public static void main(String[] args) {\n        var ctx = new SpringApplicationBuilder(DemoSbSwingApplication.class)\n                .headless(false)\n                .run(args);\n        EventQueue.invokeLater(() -&gt; {\n            var ex = ctx.getBean(DemoSbSwingApplication.class);\n            ex.setVisible(true);\n        });\n    }\n\n    public DemoSbSwingApplication() {\n        var pane = getContentPane();\n\n        JOptionPane.showMessageDialog(pane, &quot;TEST TEST TEST&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3411006,"reputation":853,"user_id":2864877,"display_name":"Techniquab"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74280070,"answer_count":1,"score":0,"last_activity_date":1667326073,"creation_date":1667309647,"question_id":74276772,"body_markdown":"When my application.yml does not match the database schema properly in my springboot application it will fail to start with a very verbose exception trace.\r\n\r\nThis trace is very difficult for a user to parse, even if I log the failure reason, it will be lost in a barrage of logs.\r\n\r\nWorse yet, if the user launcher the program from a shortcut it will disappear and they will need to dig up the log or run it from the command line.\r\n\r\nI would like to popup a message box right when I encounter the problem.\r\n\r\nI tried adding a ```JOptionPane.showMessageDialog``` but this throws a  java.awt.HeadlessException.\r\n\r\nIs there a more canonical way to provide user feedback when a spring boot application fails to start?","title":"Reporting Errors In Spring Boot Startup","body":"<p>When my application.yml does not match the database schema properly in my springboot application it will fail to start with a very verbose exception trace.</p>\n<p>This trace is very difficult for a user to parse, even if I log the failure reason, it will be lost in a barrage of logs.</p>\n<p>Worse yet, if the user launcher the program from a shortcut it will disappear and they will need to dig up the log or run it from the command line.</p>\n<p>I would like to popup a message box right when I encounter the problem.</p>\n<p>I tried adding a <code>JOptionPane.showMessageDialog</code> but this throws a  java.awt.HeadlessException.</p>\n<p>Is there a more canonical way to provide user feedback when a spring boot application fails to start?</p>\n"},{"tags":["java","javafx","datepicker","tableview","scenebuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1667325014,"post_id":74279769,"comment_id":131139448,"body_markdown":"You should be getting data from the model, not from the table columns. Create and post a [mre].","body":"You should be getting data from the model, not from the table columns. Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1667325090,"post_id":74279769,"comment_id":131139493,"body_markdown":"Surely `tableColDate` should be a `TableColumn&lt;Booking, LocalDate&gt;`?","body":"Surely <code>tableColDate</code> should be a <code>TableColumn&lt;Booking, LocalDate&gt;</code>?"},{"owner":{"account_id":21733462,"reputation":5,"user_id":16041815,"display_name":"Cicada3301"},"score":0,"creation_date":1667326147,"post_id":74279769,"comment_id":131139841,"body_markdown":"No, for some other reason I convert LocalDate to String when I send my Datepicker Value to the TableView","body":"No, for some other reason I convert LocalDate to String when I send my Datepicker Value to the TableView"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1667326961,"post_id":74279769,"comment_id":131140116,"body_markdown":"Why? That makes no sense. If it&#39;s a date, store it as a `LocalDate`.","body":"Why? That makes no sense. If it&#39;s a date, store it as a <code>LocalDate</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1667327372,"post_id":74279769,"comment_id":131140219,"body_markdown":"This is just wrong. You create a model class, `Booking`, specifically to store the data for the rows in the table. It makes no sense at all to store the date as a string in a class specifically designed only for storing data.. You have no way of checking in that class that valid dates are stored, and as you&#39;re discovering here, you then have to parse them to use them as dates. What is the point of all this wasteful and error-prone parsing?","body":"This is just wrong. You create a model class, <code>Booking</code>, specifically to store the data for the rows in the table. It makes no sense at all to store the date as a string in a class specifically designed only for storing data.. You have no way of checking in that class that valid dates are stored, and as you&#39;re discovering here, you then have to parse them to use them as dates. What is the point of all this wasteful and error-prone parsing?"},{"owner":{"account_id":21733462,"reputation":5,"user_id":16041815,"display_name":"Cicada3301"},"score":0,"creation_date":1667329947,"post_id":74279769,"comment_id":131140943,"body_markdown":"it gives me this error  java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @1d76e064. It has to something with my code that connect to the db. Right here \tBooking booking = gson.fromJson(responseObject.toString(), Booking.class); its the toString again. But its a whole another issue. I probably should figure it out but its a whole another problem","body":"it gives me this error  java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.time.LocalDate.year accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @1d76e064. It has to something with my code that connect to the db. Right here \tBooking booking = gson.fromJson(responseObject.toString(), Booking.class); its the toString again. But its a whole another issue. I probably should figure it out but its a whole another problem"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1667330699,"post_id":74279769,"comment_id":131141177,"body_markdown":"See if the ideas from [this](https://stackoverflow.com/questions/70302119/show-json-in-tableview/70302970#70302970) can help you solve your `gson` issue.","body":"See if the ideas from <a href=\"https://stackoverflow.com/questions/70302119/show-json-in-tableview/70302970#70302970\">this</a> can help you solve your <code>gson</code> issue."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1667331136,"post_id":74279769,"comment_id":131141332,"body_markdown":"Don&#39;t pollute your data model because you can&#39;t be bothered to make it work with your persistence engine. There are lots of resources on making GSON work with `LocalDate`, e.g. https://www.javaguides.net/2019/11/gson-localdatetime-localdate.html. (Generally I favor Jackson over GSON as I think it understands the whole concept of encapsulation better, but that is just a preference, I suppose.)","body":"Don&#39;t pollute your data model because you can&#39;t be bothered to make it work with your persistence engine. There are lots of resources on making GSON work with <code>LocalDate</code>, e.g. <a href=\"https://www.javaguides.net/2019/11/gson-localdatetime-localdate.html\" rel=\"nofollow noreferrer\">javaguides.net/2019/11/gson-localdatetime-localdate.html</a>. (Generally I favor Jackson over GSON as I think it understands the whole concept of encapsulation better, but that is just a preference, I suppose.)"},{"owner":{"account_id":21733462,"reputation":5,"user_id":16041815,"display_name":"Cicada3301"},"score":0,"creation_date":1667333348,"post_id":74279769,"comment_id":131141935,"body_markdown":"merci!! let me try :)","body":"merci!! let me try :)"}],"answers":[{"comments":[{"owner":{"account_id":21733462,"reputation":5,"user_id":16041815,"display_name":"Cicada3301"},"score":0,"creation_date":1667326668,"post_id":74280037,"comment_id":131140026,"body_markdown":"thankyou parsing the date works","body":"thankyou parsing the date works"},{"owner":{"account_id":14367834,"reputation":226,"user_id":10378322,"display_name":"Maran23"},"score":2,"creation_date":1667328932,"post_id":74280037,"comment_id":131140663,"body_markdown":"Just as a little side note here, you still should lookup and learn more about types and especially how to handle them. \nJames_D is right here, the better solution in the long run would be to adjust the column so it fits the model. :)","body":"Just as a little side note here, you still should lookup and learn more about types and especially how to handle them.  James_D is right here, the better solution in the long run would be to adjust the column so it fits the model. :)"}],"tags":[],"owner":{"account_id":14367834,"reputation":226,"user_id":10378322,"display_name":"Maran23"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1667325885,"creation_date":1667325885,"answer_id":74280037,"question_id":74279769,"body_markdown":"You should either make the `tableColDate` be `TableColumn&lt;Booking, LocalDate&gt;`. Then you can remove the `toString()` call and everything works.\r\nThe reason is that `setValue()` expects a `LocalDate`, not a `String`.\r\n\r\nOr you parse the date when you are setting the `DatePicker`: `beginDate.setValue(LocalDate.parse(tableColDate.getCellData(index)))`.","title":"How to retrieve Datepicker Value from a selected cell in TableView","body":"<p>You should either make the <code>tableColDate</code> be <code>TableColumn&lt;Booking, LocalDate&gt;</code>. Then you can remove the <code>toString()</code> call and everything works.\nThe reason is that <code>setValue()</code> expects a <code>LocalDate</code>, not a <code>String</code>.</p>\n<p>Or you parse the date when you are setting the <code>DatePicker</code>: <code>beginDate.setValue(LocalDate.parse(tableColDate.getCellData(index)))</code>.</p>\n"}],"owner":{"account_id":21733462,"reputation":5,"user_id":16041815,"display_name":"Cicada3301"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74280037,"answer_count":1,"score":-1,"last_activity_date":1667325885,"creation_date":1667324390,"question_id":74279769,"body_markdown":"Basically I have tableview and a FORM. I enter value in the form and they are displayed inside the table view via a database. It looks like this:  [FORM and TableView][1]\r\n\r\nWhen I click on the row to select it , I want to retrieve the DatePicker value from the column **Begin Datum** back to the Datepicker field.\r\n\r\nI have a onMouseClicked method like this to retrieve the text/vlaues from the selected row back to the FORM\r\n\r\n    @FXML\r\n    void getSelected(MouseEvent event) {\r\n\t\r\n\tindex = tableViewBooking.getSelectionModel().getSelectedIndex();\r\n\t\r\n\tif (index &lt;= -1) {\r\n\t\t\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tbeginTime.setText(tableColSTime.getCellData(index).toString());\r\n\tendTime.setText(tableColETime.getCellData(index).toString());\r\n\tbeginDate.setValue(tableColDate.getCellData(index).toString()); // problem has somewith with `toString()?`\r\n\treminderDesc.setText(tableColName.getCellData(index).toString());\r\n\t\r\n\t\r\n    }\r\n\r\n Relevant primaryController code:\r\n\r\n    public class PrimaryController {\r\n        \r\n        ObservableList&lt;String&gt;  intervalList = \r\n\r\n    FXCollections.observableArrayList(&quot;T&#228;glich&quot;,&quot;Wochelich&quot;,&quot;Monatlich&quot;);\r\n            ObservableList&lt;String&gt;  projectTypeList = FXCollections.observableArrayList(&quot;ProjeKt Iot&quot;,&quot;Projekt Data &amp; Analytics&quot;,&quot;Projekt SAP Intelligent Enterprise&quot;,\r\n            \t\t&quot;Projekt Prozess &amp; Betrieb&quot;,&quot; Projekt Moderne Software Architekturen &quot;);\r\n            \r\n       \r\n    \r\n        @FXML\r\n        private DatePicker beginDate;\r\n    \r\n        @FXML\r\n        private TextField beginTime;\r\n    \r\n        @FXML\r\n        private Button clearButton;\r\n        \r\n        @FXML\r\n        private DatePicker endDate;\r\n    \r\n        @FXML\r\n        private TextField endTime;\r\n        \r\n        @FXML\r\n        private TextField reminderDesc;\r\n    \r\n        @FXML\r\n        private Button saveButton;\r\n        \r\n        @FXML\r\n        private ComboBox cycleComboBox;\r\n        \r\n        @FXML\r\n        private ComboBox projectComboBox;\r\n        \r\n        @FXML\r\n        private JFXListView&lt;String&gt; listofdata;\r\n        \r\n        @FXML\r\n        private Button modifyButton;\r\n        \r\n        @FXML\r\n        private ResourceBundle resources;\r\n    \r\n        @FXML\r\n        private URL url;\r\n        \r\n        // Table View\r\n        @FXML\r\n        public TableView&lt;Booking&gt; tableViewBooking;\r\n        \r\n        @FXML\r\n        public TableColumn&lt;Booking, String&gt; tableColName;\r\n        \r\n        @FXML\r\n        public TableColumn&lt;Booking, Double&gt; tableColHours;\r\n        \r\n        @FXML\r\n        public TableColumn&lt;Booking, String&gt; tableColType;\r\n        \r\n    //    @FXML\r\n    //    public TableColumn&lt;Booking, String&gt; tableColProj;\r\n        \r\n        @FXML\r\n        public TableColumn&lt;Booking, String&gt; tableColDate;\r\n        \r\n        @FXML\r\n        public TableColumn&lt;Booking, String&gt; tableColSTime;\r\n        \r\n        @FXML\r\n        public TableColumn&lt;Booking, String&gt; tableColETime;\r\n        \r\n        \r\n        \r\n        \r\n        int index = -1 ;\r\n        \r\n    \r\n        \r\n        \r\n        @FXML\r\n        public void initialize() throws IOException, ParseException {\r\n            cycleComboBox.setValue(&quot;T&#228;glich&quot;);\r\n            cycleComboBox.setItems(intervalList);\r\n            projectComboBox.setValue(&quot;Projekt Moderne Software Architekturen &quot;);\r\n            projectComboBox.setItems(projectTypeList);\r\n    \r\n           \r\n            \r\n            System.out.println(&quot;Inside initialize&quot;);\r\n            \r\n            tableColName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Name&quot;));\r\n            tableColDate.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Date&quot;));\r\n            tableColSTime.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;startTime&quot;));\r\n            tableColETime.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;endTime&quot;));\r\n            tableColHours.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Hours&quot;));\r\n            tableColType.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Type&quot;));\r\n    \r\n            tableViewBooking.setItems(getTableBookings());\r\n            \r\n          \r\n            \r\n            \r\n        }\r\n\r\n\r\nthe problem here is that String is undefined type for Datepicker, it is LocalDate . So what to use here instead of .toString()?\r\n\r\n    beginDate.setValue(tableColDate.getCellData(index).toString());\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N3WAk.png","title":"How to retrieve Datepicker Value from a selected cell in TableView","body":"<p>Basically I have tableview and a FORM. I enter value in the form and they are displayed inside the table view via a database. It looks like this:  <a href=\"https://i.stack.imgur.com/N3WAk.png\" rel=\"nofollow noreferrer\">FORM and TableView</a></p>\n<p>When I click on the row to select it , I want to retrieve the DatePicker value from the column <strong>Begin Datum</strong> back to the Datepicker field.</p>\n<p>I have a onMouseClicked method like this to retrieve the text/vlaues from the selected row back to the FORM</p>\n<pre><code>@FXML\nvoid getSelected(MouseEvent event) {\n\nindex = tableViewBooking.getSelectionModel().getSelectedIndex();\n\nif (index &lt;= -1) {\n    \n    return;\n}\n\nbeginTime.setText(tableColSTime.getCellData(index).toString());\nendTime.setText(tableColETime.getCellData(index).toString());\nbeginDate.setValue(tableColDate.getCellData(index).toString()); // problem has somewith with `toString()?`\nreminderDesc.setText(tableColName.getCellData(index).toString());\n\n\n}\n</code></pre>\n<p>Relevant primaryController code:</p>\n<pre><code>public class PrimaryController {\n    \n    ObservableList&lt;String&gt;  intervalList = \n\nFXCollections.observableArrayList(&quot;Täglich&quot;,&quot;Wochelich&quot;,&quot;Monatlich&quot;);\n        ObservableList&lt;String&gt;  projectTypeList = FXCollections.observableArrayList(&quot;ProjeKt Iot&quot;,&quot;Projekt Data &amp; Analytics&quot;,&quot;Projekt SAP Intelligent Enterprise&quot;,\n                &quot;Projekt Prozess &amp; Betrieb&quot;,&quot; Projekt Moderne Software Architekturen &quot;);\n        \n   \n\n    @FXML\n    private DatePicker beginDate;\n\n    @FXML\n    private TextField beginTime;\n\n    @FXML\n    private Button clearButton;\n    \n    @FXML\n    private DatePicker endDate;\n\n    @FXML\n    private TextField endTime;\n    \n    @FXML\n    private TextField reminderDesc;\n\n    @FXML\n    private Button saveButton;\n    \n    @FXML\n    private ComboBox cycleComboBox;\n    \n    @FXML\n    private ComboBox projectComboBox;\n    \n    @FXML\n    private JFXListView&lt;String&gt; listofdata;\n    \n    @FXML\n    private Button modifyButton;\n    \n    @FXML\n    private ResourceBundle resources;\n\n    @FXML\n    private URL url;\n    \n    // Table View\n    @FXML\n    public TableView&lt;Booking&gt; tableViewBooking;\n    \n    @FXML\n    public TableColumn&lt;Booking, String&gt; tableColName;\n    \n    @FXML\n    public TableColumn&lt;Booking, Double&gt; tableColHours;\n    \n    @FXML\n    public TableColumn&lt;Booking, String&gt; tableColType;\n    \n//    @FXML\n//    public TableColumn&lt;Booking, String&gt; tableColProj;\n    \n    @FXML\n    public TableColumn&lt;Booking, String&gt; tableColDate;\n    \n    @FXML\n    public TableColumn&lt;Booking, String&gt; tableColSTime;\n    \n    @FXML\n    public TableColumn&lt;Booking, String&gt; tableColETime;\n    \n    \n    \n    \n    int index = -1 ;\n    \n\n    \n    \n    @FXML\n    public void initialize() throws IOException, ParseException {\n        cycleComboBox.setValue(&quot;Täglich&quot;);\n        cycleComboBox.setItems(intervalList);\n        projectComboBox.setValue(&quot;Projekt Moderne Software Architekturen &quot;);\n        projectComboBox.setItems(projectTypeList);\n\n       \n        \n        System.out.println(&quot;Inside initialize&quot;);\n        \n        tableColName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Name&quot;));\n        tableColDate.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Date&quot;));\n        tableColSTime.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;startTime&quot;));\n        tableColETime.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;endTime&quot;));\n        tableColHours.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Hours&quot;));\n        tableColType.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;Type&quot;));\n\n        tableViewBooking.setItems(getTableBookings());\n        \n      \n        \n        \n    }\n</code></pre>\n<p>the problem here is that String is undefined type for Datepicker, it is LocalDate . So what to use here instead of .toString()?</p>\n<pre><code>beginDate.setValue(tableColDate.getCellData(index).toString());\n</code></pre>\n"},{"tags":["java","arrays","class"],"comments":[{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":3,"creation_date":1667325239,"post_id":74279850,"comment_id":131139555,"body_markdown":"add some example of code with details what have you tried and what is expected result","body":"add some example of code with details what have you tried and what is expected result"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667325829,"creation_date":1667325829,"answer_id":74280029,"question_id":74279850,"body_markdown":"Just creating and populating an Array of Shape should not be too difficult.\r\nBe aware that Shape itself is abstract, so you need to populate the Array with concrete subclasses.\r\n\r\n    java.awt.Shape[] shapes = new java.awt.Shape[3];\r\n    shapes[0] =  new java.awt.Rectangle(0, 0, -1, -1);\r\n    shapes[1] = new java.awt.geom.Ellipse2D.Double(5, 3, 11, 11);\r\n    shapes[2] = new java.awt.geom.Line2D.Float(11, 5, 3, 7);","title":"create and fill an Shape type array in Java","body":"<p>Just creating and populating an Array of Shape should not be too difficult.\nBe aware that Shape itself is abstract, so you need to populate the Array with concrete subclasses.</p>\n<pre><code>java.awt.Shape[] shapes = new java.awt.Shape[3];\nshapes[0] =  new java.awt.Rectangle(0, 0, -1, -1);\nshapes[1] = new java.awt.geom.Ellipse2D.Double(5, 3, 11, 11);\nshapes[2] = new java.awt.geom.Line2D.Float(11, 5, 3, 7);\n</code></pre>\n"}],"owner":{"account_id":26798117,"reputation":21,"user_id":20390525,"display_name":"Alexandros Fourtounis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667325829,"creation_date":1667324869,"question_id":74279850,"body_markdown":"I want to create a Shape type array in a different class and fill the array with Shape objects\r\n\r\n\r\ntried to create a Sphere type of Shape but i cannot use the methods of the Sphere and Shape class","title":"create and fill an Shape type array in Java","body":"<p>I want to create a Shape type array in a different class and fill the array with Shape objects</p>\n<p>tried to create a Sphere type of Shape but i cannot use the methods of the Sphere and Shape class</p>\n"},{"tags":["java","groovy","cucumber","cucumber-java","cucumber-junit"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660680797,"creation_date":1660680450,"answer_id":73379758,"question_id":73375212,"body_markdown":"Unfortunately what you&#39;re trying to do is not possible with JUnit 4. You can however use Cucumbers main method. The example below use the `maven-antrun-plugin`, but any other way to run a main method works.\r\n\r\nNote that the main method is a CLI application, so if you pass `--help` as an argument it will explain what it&#39;s options are.\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/blob/main/examples/calculator-java-cli/pom.xml#L53\r\n\r\n```\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;cli-test&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;target unless=&quot;maven.test.skip&quot;&gt;\r\n                                &lt;echo message=&quot;Running Cucumber through the CLI&quot; /&gt;\r\n                                &lt;java classname=&quot;io.cucumber.core.cli.Main&quot; fork=&quot;true&quot; failonerror=&quot;true&quot; newenvironment=&quot;true&quot; maxmemory=&quot;512m&quot; classpathref=&quot;maven.test.classpath&quot;&gt;\r\n                                    &lt;arg value=&quot;--plugin&quot; /&gt;\r\n                                    &lt;arg value=&quot;pretty&quot; /&gt;\r\n                                    &lt;arg value=&quot;--plugin&quot; /&gt;\r\n                                    &lt;arg value=&quot;html:target/results.html&quot; /&gt;\r\n                                    &lt;arg value=&quot;--plugin&quot; /&gt;\r\n                                    &lt;arg value=&quot;message:target/results.ndjson&quot; /&gt;\r\n                                &lt;/java&gt;\r\n                            &lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```","title":"How to dynamically set cucumberOptions?","body":"<p>Unfortunately what you're trying to do is not possible with JUnit 4. You can however use Cucumbers main method. The example below use the <code>maven-antrun-plugin</code>, but any other way to run a main method works.</p>\n<p>Note that the main method is a CLI application, so if you pass <code>--help</code> as an argument it will explain what it's options are.</p>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/blob/main/examples/calculator-java-cli/pom.xml#L53\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/blob/main/examples/calculator-java-cli/pom.xml#L53</a></p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;cli-test&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;target unless=&quot;maven.test.skip&quot;&gt;\n                                &lt;echo message=&quot;Running Cucumber through the CLI&quot; /&gt;\n                                &lt;java classname=&quot;io.cucumber.core.cli.Main&quot; fork=&quot;true&quot; failonerror=&quot;true&quot; newenvironment=&quot;true&quot; maxmemory=&quot;512m&quot; classpathref=&quot;maven.test.classpath&quot;&gt;\n                                    &lt;arg value=&quot;--plugin&quot; /&gt;\n                                    &lt;arg value=&quot;pretty&quot; /&gt;\n                                    &lt;arg value=&quot;--plugin&quot; /&gt;\n                                    &lt;arg value=&quot;html:target/results.html&quot; /&gt;\n                                    &lt;arg value=&quot;--plugin&quot; /&gt;\n                                    &lt;arg value=&quot;message:target/results.ndjson&quot; /&gt;\n                                &lt;/java&gt;\n                            &lt;/target&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14259806,"reputation":129,"user_id":10300966,"display_name":"Sachin G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667325804,"creation_date":1667325804,"answer_id":74280025,"question_id":73375212,"body_markdown":"You can remove the tags from your cucumber runner file and instead pass the tag from the command line `mvn clean test -Dcucumber.filter.tags=@myTest`. \r\n\r\nYou can find the examples here: \r\nhttps://cucumber.io/docs/cucumber/api/?lang=java#running-a-subset-of-scenarios\r\n","title":"How to dynamically set cucumberOptions?","body":"<p>You can remove the tags from your cucumber runner file and instead pass the tag from the command line <code>mvn clean test -Dcucumber.filter.tags=@myTest</code>.</p>\n<p>You can find the examples here:\n<a href=\"https://cucumber.io/docs/cucumber/api/?lang=java#running-a-subset-of-scenarios\" rel=\"nofollow noreferrer\">https://cucumber.io/docs/cucumber/api/?lang=java#running-a-subset-of-scenarios</a></p>\n"}],"owner":{"account_id":25898952,"reputation":21,"user_id":19625157,"display_name":"sb1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":482,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1667325804,"creation_date":1660658126,"question_id":73375212,"body_markdown":"I am trying to dynamically set the tags and the report locations so that I only need one testRunner. Note both are written in groovy, and I can only use up to JUnit 4.8 due to project constraints.\r\nThank you for any help in advance :)\r\n\r\n    //CucumberTestRunner\r\n        package cucumber\r\n        import io.cucumber.junit.Cucumber\r\n        import io.cucumber.junit.CucumberOptions\r\n        import org.junit.runner.RunWith\r\n        \r\n        @RunWith(Cucumber.class)\r\n        @CucumberOptions(\r\n                features = &quot;src/main/groovy/customFramework/dummyTests/cucumberTests/addDeal/&quot;,\r\n                glue = &quot;src/main/groovy/customFramework/testsPackage/cucumber/StepDefinitions/&quot;,\r\n                publish = false,\r\n                monochrome = true,\r\n                tags = &quot;${CucumberTestMaster.tag}&quot;,\r\n                plugin = [&quot;pretty&quot;, &quot;junit:target/JUNITReports/report.xml&quot;, &quot;html:target/HTMLReports/report.html&quot;,\r\n                        &quot;json:target/JSONReports/report.json&quot;]\r\n        )\r\n        class CucumberTestRunner {\r\n        }\r\n\r\n    //CucumberTestMasster\r\n    \r\n        package cucumber\r\n    \r\n    class CucumberTestMaster {\r\n        String tag=&quot;@Daily&quot;\r\n        static void main(String[] args) {\r\n            new CucumberTestRunner()\r\n        }\r\n    }\r\n\r\n","title":"How to dynamically set cucumberOptions?","body":"<p>I am trying to dynamically set the tags and the report locations so that I only need one testRunner. Note both are written in groovy, and I can only use up to JUnit 4.8 due to project constraints.\nThank you for any help in advance :)</p>\n<pre><code>//CucumberTestRunner\n    package cucumber\n    import io.cucumber.junit.Cucumber\n    import io.cucumber.junit.CucumberOptions\n    import org.junit.runner.RunWith\n    \n    @RunWith(Cucumber.class)\n    @CucumberOptions(\n            features = &quot;src/main/groovy/customFramework/dummyTests/cucumberTests/addDeal/&quot;,\n            glue = &quot;src/main/groovy/customFramework/testsPackage/cucumber/StepDefinitions/&quot;,\n            publish = false,\n            monochrome = true,\n            tags = &quot;${CucumberTestMaster.tag}&quot;,\n            plugin = [&quot;pretty&quot;, &quot;junit:target/JUNITReports/report.xml&quot;, &quot;html:target/HTMLReports/report.html&quot;,\n                    &quot;json:target/JSONReports/report.json&quot;]\n    )\n    class CucumberTestRunner {\n    }\n\n//CucumberTestMasster\n\n    package cucumber\n\nclass CucumberTestMaster {\n    String tag=&quot;@Daily&quot;\n    static void main(String[] args) {\n        new CucumberTestRunner()\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","google-cloud-platform","google-cloud-logging"],"answers":[{"tags":[],"owner":{"account_id":9456016,"reputation":3926,"user_id":7031308,"display_name":"Donnald Cucharo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615430041,"creation_date":1615340934,"answer_id":66557274,"question_id":66555735,"body_markdown":"Configure Spring Cloud GCP Starter on your pom.xml:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n...\r\n\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.1&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\n\r\nThen you can set your credentials on **application.properties** using:\r\n```\r\nspring.cloud.gcp.project-id=[YOUR_GCP_PROJECT_ID]\r\nspring.cloud.gcp.credentials.location=file:[LOCAL_PRIVATE_KEY_FILE]\r\nspring.cloud.gcp.credentials.scopes=[SCOPE_1],[SCOPE_2],[SCOPE_3]\r\n```\r\n\r\n\r\n----------\r\nReference:\r\n\r\nhttps://github.com/GoogleCloudPlatform/spring-cloud-gcp","title":"Java Spring Boot don&#39;t connect with Google Cloud Logging, requires project ID","body":"<p>Configure Spring Cloud GCP Starter on your pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n...\n\n&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n      &lt;version&gt;2.0.1&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>Then you can set your credentials on <strong>application.properties</strong> using:</p>\n<pre><code>spring.cloud.gcp.project-id=[YOUR_GCP_PROJECT_ID]\nspring.cloud.gcp.credentials.location=file:[LOCAL_PRIVATE_KEY_FILE]\nspring.cloud.gcp.credentials.scopes=[SCOPE_1],[SCOPE_2],[SCOPE_3]\n</code></pre>\n<hr />\n<p>Reference:</p>\n<p><a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/spring-cloud-gcp</a></p>\n"},{"tags":[],"owner":{"account_id":9754126,"reputation":1805,"user_id":7231449,"display_name":"acarlstein"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667325650,"creation_date":1667325650,"answer_id":74280001,"question_id":66555735,"body_markdown":"I found an alternative solution that worked for me:\r\n\r\nFirst, make sure that the environment variable GOOGLE_CLOUD_PROJECT is setup, if it hasn&#39;t being setup.\r\n\r\nFor Spring Boot, you can do this by adding the line below, before `runApplication` is called:\r\n```kotlin\r\n System.setProperty(&quot;GOOGLE_CLOUD_PROJECT&quot;, &quot;your-project-id-goes-here&quot;)\r\n```\r\n\r\nThen, in the file `logback-spring.xml` you should add into your spring profile the following line:\r\n```xml\r\n&lt;property name=&quot;projectId&quot; value=&quot;${projectId:-${GOOGLE_CLOUD_PROJECT}}&quot;/&gt;\r\n```\r\n\r\nExample\r\n```xml\r\n&lt;configuration&gt;\r\n    &lt;springProfile name=&quot;cloud&quot;&gt;\r\n        &lt;property name=&quot;projectId&quot; value=&quot;${projectId:-${GOOGLE_CLOUD_PROJECT}}&quot;/&gt;\r\n        &lt;appender name=&quot;cloud&quot; class=&quot;com.google.cloud.logging.logback.LoggingAppender&quot;&gt;\r\n            &lt;redirectToStdout&gt;true&lt;/redirectToStdout&gt;\r\n        &lt;/appender&gt;\r\n        &lt;root level=&quot;debug&quot;&gt;\r\n            &lt;appender-ref ref=&quot;cloud&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/springProfile&gt;\r\n    &lt;springProfile name=&quot;!cloud&quot;&gt;\r\n        &lt;!--- more configuration for non cloud profiles ---&gt;\r\n    &lt;/springProfile&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nIn this case, we use different profiles depending where our micro-service will run. So, I&#39;m only showing the cloud profile","title":"Java Spring Boot don&#39;t connect with Google Cloud Logging, requires project ID","body":"<p>I found an alternative solution that worked for me:</p>\n<p>First, make sure that the environment variable GOOGLE_CLOUD_PROJECT is setup, if it hasn't being setup.</p>\n<p>For Spring Boot, you can do this by adding the line below, before <code>runApplication</code> is called:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> System.setProperty(&quot;GOOGLE_CLOUD_PROJECT&quot;, &quot;your-project-id-goes-here&quot;)\n</code></pre>\n<p>Then, in the file <code>logback-spring.xml</code> you should add into your spring profile the following line:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;projectId&quot; value=&quot;${projectId:-${GOOGLE_CLOUD_PROJECT}}&quot;/&gt;\n</code></pre>\n<p>Example</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;springProfile name=&quot;cloud&quot;&gt;\n        &lt;property name=&quot;projectId&quot; value=&quot;${projectId:-${GOOGLE_CLOUD_PROJECT}}&quot;/&gt;\n        &lt;appender name=&quot;cloud&quot; class=&quot;com.google.cloud.logging.logback.LoggingAppender&quot;&gt;\n            &lt;redirectToStdout&gt;true&lt;/redirectToStdout&gt;\n        &lt;/appender&gt;\n        &lt;root level=&quot;debug&quot;&gt;\n            &lt;appender-ref ref=&quot;cloud&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n    &lt;springProfile name=&quot;!cloud&quot;&gt;\n        &lt;!--- more configuration for non cloud profiles ---&gt;\n    &lt;/springProfile&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>In this case, we use different profiles depending where our micro-service will run. So, I'm only showing the cloud profile</p>\n"}],"owner":{"account_id":20113567,"reputation":1,"user_id":14749501,"display_name":"Pablo Lievano Torres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667325650,"creation_date":1615329057,"question_id":66555735,"body_markdown":"I try use Google Cloud Logging in my Spring Boot Java Project.\r\n\r\nI Include in the pom this dependencies:\r\n```\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n        &lt;version&gt;${google.protobuf.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;google-cloud-logging-logback&lt;/artifactId&gt;\r\n        &lt;version&gt;${google.cloud.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${logback.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n```\r\n\r\nWhen my project run, it obtain this error:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.spi.Interpreter@12:16 - RuntimeException in Action for tag [appender] java.lang.IllegalArgumentException: A project ID is required for this service but could not be determined from the builder or the environment.  Please set a project ID using the builder.\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:169)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.reinitialize(LogbackLoggingSystem.java:222)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:73)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:118)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:313)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:288)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)\r\n\tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n\tat \r\n```\r\n\r\nI need to know how configure the Google credentials using the application.properties file.\r\n\r\nThanks.","title":"Java Spring Boot don&#39;t connect with Google Cloud Logging, requires project ID","body":"<p>I try use Google Cloud Logging in my Spring Boot Java Project.</p>\n<p>I Include in the pom this dependencies:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n        &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n        &lt;version&gt;${google.protobuf.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-logging-logback&lt;/artifactId&gt;\n        &lt;version&gt;${google.cloud.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n        &lt;version&gt;${logback.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>When my project run, it obtain this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.spi.Interpreter@12:16 - RuntimeException in Action for tag [appender] java.lang.IllegalArgumentException: A project ID is required for this service but could not be determined from the builder or the environment.  Please set a project ID using the builder.\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:169)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.reinitialize(LogbackLoggingSystem.java:222)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:73)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:118)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:313)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:288)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\n    at \n</code></pre>\n<p>I need to know how configure the Google credentials using the application.properties file.</p>\n<p>Thanks.</p>\n"},{"tags":["java","resourcebundle"],"answers":[{"comments":[{"owner":{"account_id":6739787,"reputation":1338,"user_id":5193370,"display_name":"Mostafa Vatanpour"},"score":0,"creation_date":1517665455,"post_id":17569639,"comment_id":84192486,"body_markdown":"Is there any other method to do format like this but not converting single quote to double single quote?  because it is annoying.","body":"Is there any other method to do format like this but not converting single quote to double single quote?  because it is annoying."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1550505511,"post_id":17569639,"comment_id":96284269,"body_markdown":"Why in C # I do not need to do this?","body":"Why in C # I do not need to do this?"}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":2,"down_vote_count":0,"up_vote_count":156,"is_accepted":true,"score":156,"last_activity_date":1448137187,"creation_date":1373456161,"answer_id":17569639,"question_id":17569608,"body_markdown":"Add an extra apostrophe `&#39;` to the `MessageFormat` pattern `String` to ensure the `&#39;` character is displayed\r\n\r\n    String text = \r\n         java.text.MessageFormat.format(&quot;You&#39;&#39;re about to delete {0} rows.&quot;, 5);\r\n                                             ^\r\n\r\nAn apostrophe (aka _single quote_) in a MessageFormat pattern starts a quoted string and is not interpreted on its own. From the [javadoc][1]\r\n\r\n&gt;  A single quote itself must be represented by doubled single quotes &#39;&#39; throughout a String.\r\n\r\nThe `String` `You\\\\&#39;re` is equivalent to adding a backslash character to the `String` so the only difference will be that `You\\re` will be produced rather than `Youre`. (before double quote solution `&#39;&#39;` applied)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html","title":"Format a message using MessageFormat.format() in Java","body":"<p>Add an extra apostrophe <code>'</code> to the <code>MessageFormat</code> pattern <code>String</code> to ensure the <code>'</code> character is displayed</p>\n\n<pre><code>String text = \n     java.text.MessageFormat.format(\"You''re about to delete {0} rows.\", 5);\n                                         ^\n</code></pre>\n\n<p>An apostrophe (aka <em>single quote</em>) in a MessageFormat pattern starts a quoted string and is not interpreted on its own. From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\">javadoc</a></p>\n\n<blockquote>\n  <p>A single quote itself must be represented by doubled single quotes '' throughout a String.</p>\n</blockquote>\n\n<p>The <code>String</code> <code>You\\\\'re</code> is equivalent to adding a backslash character to the <code>String</code> so the only difference will be that <code>You\\re</code> will be produced rather than <code>Youre</code>. (before double quote solution <code>''</code> applied)</p>\n"},{"tags":[],"owner":{"account_id":42643,"reputation":426,"user_id":124288,"accept_rate":67,"display_name":"FOOM"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1373456713,"creation_date":1373456282,"answer_id":17569670,"question_id":17569608,"body_markdown":"You need to use double apostrophe instead of single in the &quot;You&#39;&#39;re&quot;, eg:\r\n\r\n    String text = java.text.MessageFormat.format(&quot;You&#39;&#39;re about to delete {0} rows.&quot;, 5);\r\n    System.out.println(text);","title":"Format a message using MessageFormat.format() in Java","body":"<p>You need to use double apostrophe instead of single in the \"You''re\", eg:</p>\n\n<pre><code>String text = java.text.MessageFormat.format(\"You''re about to delete {0} rows.\", 5);\nSystem.out.println(text);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2933165,"reputation":345,"user_id":2512788,"display_name":"Adhikari"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1373459980,"creation_date":1373457729,"answer_id":17570164,"question_id":17569608,"body_markdown":"Just be sure you have used double apostrophe  (&#39;&#39;)\r\n\r\n    String text = java.text.MessageFormat.format(&quot;You&#39;&#39;re about to delete {0} rows.&quot;, 5);\r\n    System.out.println(text);\r\n\r\n**Edit:**\r\n&gt; Within a String, a pair of single quotes can be used to quote any arbitrary characters except single quotes. For example, pattern string &quot;&#39;{0}&#39;&quot; represents string &quot;{0}&quot;, not a FormatElement.\r\n...\r\n\r\n&gt; Any unmatched quote is treated as closed at the end of the given pattern. For example, pattern string &quot;**&#39;**{0}&quot; is treated as pattern &quot;**&#39;**{0}**&#39;**&quot;.\r\n\r\nSource [http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html","title":"Format a message using MessageFormat.format() in Java","body":"<p>Just be sure you have used double apostrophe  ('')</p>\n\n<pre><code>String text = java.text.MessageFormat.format(\"You''re about to delete {0} rows.\", 5);\nSystem.out.println(text);\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<blockquote>\n  <p>Within a String, a pair of single quotes can be used to quote any arbitrary characters except single quotes. For example, pattern string \"'{0}'\" represents string \"{0}\", not a FormatElement.\n  ...</p>\n  \n  <p>Any unmatched quote is treated as closed at the end of the given pattern. For example, pattern string \"<strong>'</strong>{0}\" is treated as pattern \"<strong>'</strong>{0}<strong>'</strong>\".</p>\n</blockquote>\n\n<p>Source <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html</a></p>\n"},{"tags":[],"owner":{"account_id":288238,"reputation":14443,"user_id":588532,"accept_rate":88,"display_name":"Uriel Frankel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1406713780,"creation_date":1406713780,"answer_id":25033725,"question_id":17569608,"body_markdown":"For everyone that has Android problems in the string.xml, use \\&#39;\\&#39; instead of single quote.","title":"Format a message using MessageFormat.format() in Java","body":"<p>For everyone that has Android problems in the string.xml, use \\'\\' instead of single quote.</p>\n"},{"tags":[],"owner":{"account_id":11176031,"reputation":51,"user_id":8201596,"display_name":"T Efron"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1513271274,"creation_date":1513270050,"answer_id":47818383,"question_id":17569608,"body_markdown":"Using an apostrophe `’` (Unicode: `\\u2019`) instead of a single quote `&#39;` fixed the issue without doubling the `\\&#39;`.\r\n","title":"Format a message using MessageFormat.format() in Java","body":"<p>Using an apostrophe <code>’</code> (Unicode: <code>\\u2019</code>) instead of a single quote <code>'</code> fixed the issue without doubling the <code>\\'</code>.</p>\n"},{"comments":[{"owner":{"account_id":5256191,"reputation":433,"user_id":4279074,"display_name":"Marcus Voltolim"},"score":0,"creation_date":1633641546,"post_id":64383463,"comment_id":122821471,"body_markdown":"Why replaceAll if it&#39;s not a regex? Can only use replace","body":"Why replaceAll if it&#39;s not a regex? Can only use replace"}],"tags":[],"owner":{"account_id":5843862,"reputation":21,"user_id":5914293,"display_name":"Viktor Wellboy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602826760,"creation_date":1602826760,"answer_id":64383463,"question_id":17569608,"body_markdown":"Here is a method that does not require editing the code and works regardless of the number of characters.\r\n\r\n    String text = \r\n      java.text.MessageFormat.format(\r\n        &quot;You&#39;re about to delete {0} rows.&quot;.replaceAll(&quot;&#39;&quot;, &quot;&#39;&#39;&quot;), 5);","title":"Format a message using MessageFormat.format() in Java","body":"<p>Here is a method that does not require editing the code and works regardless of the number of characters.</p>\n<pre><code>String text = \n  java.text.MessageFormat.format(\n    &quot;You're about to delete {0} rows.&quot;.replaceAll(&quot;'&quot;, &quot;''&quot;), 5);\n</code></pre>\n"}],"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163747,"favorite_count":0,"down_vote_count":1,"up_vote_count":98,"accepted_answer_id":17569639,"answer_count":6,"score":97,"last_activity_date":1667325552,"creation_date":1373456050,"question_id":17569608,"body_markdown":"I have stored some messages in a resource bundle. I&#39;m trying to format these messages as follows.\r\n\r\n    import java.text.MessageFormat;\r\n\r\n    String text = MessageFormat.format(&quot;You&#39;re about to delete {0} rows.&quot;, 5);\r\n    System.out.println(text);\r\n\r\nAssume that the first parameter i.e the actual message is stored in a property file which is somehow retrieved.\r\n\r\nThe second parameter i.e 5 is a dynamic value and should be placed in the placeholder `{0}` which doesn&#39;t happen. The next line prints,\r\n\r\n&gt; Youre about to delete {0} rows.\r\n\r\nThe placeholder is not replaced with the actual parameter.\r\n\r\n----------\r\n\r\nIt is the apostrophe here - `You&#39;re`. I have tried to escape it as usual like `You\\\\&#39;re` though it didn&#39;t work. What changes are needed to make it work? ","title":"Format a message using MessageFormat.format() in Java","body":"<p>I have stored some messages in a resource bundle. I'm trying to format these messages as follows.</p>\n\n<pre><code>import java.text.MessageFormat;\n\nString text = MessageFormat.format(\"You're about to delete {0} rows.\", 5);\nSystem.out.println(text);\n</code></pre>\n\n<p>Assume that the first parameter i.e the actual message is stored in a property file which is somehow retrieved.</p>\n\n<p>The second parameter i.e 5 is a dynamic value and should be placed in the placeholder <code>{0}</code> which doesn't happen. The next line prints,</p>\n\n<blockquote>\n  <p>Youre about to delete {0} rows.</p>\n</blockquote>\n\n<p>The placeholder is not replaced with the actual parameter.</p>\n\n<hr>\n\n<p>It is the apostrophe here - <code>You're</code>. I have tried to escape it as usual like <code>You\\\\'re</code> though it didn't work. What changes are needed to make it work? </p>\n"},{"tags":["java","automated-tests","cucumber","cucumber-junit"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":2,"creation_date":1662232063,"post_id":73584758,"comment_id":129960533,"body_markdown":"Short answer: This isn&#39;t possible.","body":"Short answer: This isn&#39;t possible."},{"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"score":0,"creation_date":1662468854,"post_id":73584758,"comment_id":130008248,"body_markdown":"Darn, I was worried that would be the case","body":"Darn, I was worried that would be the case"}],"answers":[{"tags":[],"owner":{"account_id":14259806,"reputation":129,"user_id":10300966,"display_name":"Sachin G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667325437,"creation_date":1667325437,"answer_id":74279958,"question_id":73584758,"body_markdown":"I have a similar scenario where I intercept the Before and After calls to setup pre-requisites or to clean up the test environment. \r\nE.g. \r\n\r\n 1. If the cucumber scenario has @needsOktaUser tag, then before the test executes, the &#39;before hook&#39; creates an Okta user.\r\n 2. If the cucumber scenario has @deleteTenant tag, then after the test executes, the &#39;after hook&#39; deletes the newly created tenant.\r\n\r\nI hope this helps!\r\n\r\n    import io.cucumber.java.After;\r\n    import io.cucumber.java.Before;\r\n    \r\n    @Before(&quot;@needsOktaUser&quot;)\r\n        public void createUser() {\r\n            log.info(&quot;Creating user&quot;);\r\n            oktaAPISteps.createOktaUser(driver);\r\n        }\r\n    \r\n     @After(&quot;@deleteTenant&quot;)\r\n        public void deleteTenant() {\r\n            HaasAPICalls haasAPICalls = new HaasAPICalls();\r\n            haasAPICalls.deleteTenant(&quot;CreatedTenantId&quot;);\r\n        }","title":"Skip BeforeAll, Before, After Steps in Cucumber Conditionally","body":"<p>I have a similar scenario where I intercept the Before and After calls to setup pre-requisites or to clean up the test environment.\nE.g.</p>\n<ol>\n<li>If the cucumber scenario has @needsOktaUser tag, then before the test executes, the 'before hook' creates an Okta user.</li>\n<li>If the cucumber scenario has @deleteTenant tag, then after the test executes, the 'after hook' deletes the newly created tenant.</li>\n</ol>\n<p>I hope this helps!</p>\n<pre><code>import io.cucumber.java.After;\nimport io.cucumber.java.Before;\n\n@Before(&quot;@needsOktaUser&quot;)\n    public void createUser() {\n        log.info(&quot;Creating user&quot;);\n        oktaAPISteps.createOktaUser(driver);\n    }\n\n @After(&quot;@deleteTenant&quot;)\n    public void deleteTenant() {\n        HaasAPICalls haasAPICalls = new HaasAPICalls();\n        haasAPICalls.deleteTenant(&quot;CreatedTenantId&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667325437,"creation_date":1662131772,"question_id":73584758,"body_markdown":"I have a Cucumber feature that uses @BeforeAll, @Before, and @After Steps to connect and post data to a URL client. This is not necessary for the tests to actually run, just some book keeping on our end.\r\n\r\nRight now I have some try-catch blocks to make sure the client is running(it has a tendency to shutdown when we don&#39;t want it) and if an exception is thrown it just marks the Steps as PASSED and moves on to actually running the Scenarios.\r\n\r\nI would like to have the Step Status set to Skip instead of Passed and log a message so we can make note of the client being down again without failing the entire test suite, which is what it was doing before I added the try-catch to ignore the client failure.\r\n\r\nAnyway is this a really wordy way to ask.\r\nHow do I skip an @BeforeAll, @Before, and @After step based on a condition?\r\n\r\nStepDefs.java\r\n```java\r\nboolean isConnected = true;\r\n\r\n@BeforeAll()\r\npublic static void connectToClient(){\r\n    try{\r\n        client.Connect();\r\n    }\r\n    catch(Exception e){\r\n        isConnected = false;\r\n        System.out.println(e.getMessage());\r\n        //Skip @BeforeAll Step\r\n}\r\n\r\n@Before(order = 0)\r\npublic static void getBeforeData(Scenario scenario){\r\n    if(isConnected){ client.sendData(scenario); }\r\n    else { //Skip @Before Step }\r\n}\r\n\r\n@After(order = 0)\r\npublic static void legAfterData(Scenario scenario){\r\n    if(isConnected){ client.sendData(scenario) };\r\n    else { //Skip @After Step }\r\n\r\n}\r\n```","title":"Skip BeforeAll, Before, After Steps in Cucumber Conditionally","body":"<p>I have a Cucumber feature that uses @BeforeAll, @Before, and @After Steps to connect and post data to a URL client. This is not necessary for the tests to actually run, just some book keeping on our end.</p>\n<p>Right now I have some try-catch blocks to make sure the client is running(it has a tendency to shutdown when we don't want it) and if an exception is thrown it just marks the Steps as PASSED and moves on to actually running the Scenarios.</p>\n<p>I would like to have the Step Status set to Skip instead of Passed and log a message so we can make note of the client being down again without failing the entire test suite, which is what it was doing before I added the try-catch to ignore the client failure.</p>\n<p>Anyway is this a really wordy way to ask.\nHow do I skip an @BeforeAll, @Before, and @After step based on a condition?</p>\n<p>StepDefs.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isConnected = true;\n\n@BeforeAll()\npublic static void connectToClient(){\n    try{\n        client.Connect();\n    }\n    catch(Exception e){\n        isConnected = false;\n        System.out.println(e.getMessage());\n        //Skip @BeforeAll Step\n}\n\n@Before(order = 0)\npublic static void getBeforeData(Scenario scenario){\n    if(isConnected){ client.sendData(scenario); }\n    else { //Skip @Before Step }\n}\n\n@After(order = 0)\npublic static void legAfterData(Scenario scenario){\n    if(isConnected){ client.sendData(scenario) };\n    else { //Skip @After Step }\n\n}\n</code></pre>\n"},{"tags":["java","apache-spark","apache-sedona"],"comments":[{"owner":{"account_id":4711512,"reputation":1278,"user_id":3811895,"display_name":"vinsce"},"score":0,"creation_date":1667323402,"post_id":74277710,"comment_id":131138900,"body_markdown":"Can you include the `StSafeUnionAggregator` class declaration and the exact error message?","body":"Can you include the <code>StSafeUnionAggregator</code> class declaration and the exact error message?"},{"owner":{"account_id":25345675,"reputation":33,"user_id":19589355,"display_name":"Glauber Dantas"},"score":0,"creation_date":1667325201,"post_id":74277710,"comment_id":131139539,"body_markdown":"I added the requested info; by the way, I created another question with more details but it got no comments or answers yet: https://stackoverflow.com/questions/74183571/how-to-register-a-new-user-defined-aggregate-function-with-custom-type-encoder-t","body":"I added the requested info; by the way, I created another question with more details but it got no comments or answers yet: <a href=\"https://stackoverflow.com/questions/74183571/how-to-register-a-new-user-defined-aggregate-function-with-custom-type-encoder-t\" title=\"how to register a new user defined aggregate function with custom type encoder t\">stackoverflow.com/questions/74183571/&hellip;</a>"}],"owner":{"account_id":25345675,"reputation":33,"user_id":19589355,"display_name":"Glauber Dantas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667325141,"creation_date":1667314077,"question_id":74277710,"body_markdown":"**I&#39;m using Java** and can register an UDF function, and it works:\r\n\r\n```\r\nUDF1&lt;Geometry, String&gt; stGetUTMZone = new StGetUTMZone();\r\nsparkSession.udf().register(&quot;ST_GetUTMZone&quot;, stGetUTMZone, DataTypes.StringType);\r\n```\r\n\r\nHowever, when I try registering an UDAF function, besides no compilation error is found, I get a runtime error due to datatype mismatch:\r\n\r\n```\r\nimport org.locationtech.jts.geom.Geometry;\r\nimport org.apache.spark.sql.Encoders;\r\n\r\nsparkSession.udf().register(&quot;ST_Safe_Union_Aggr&quot;,\r\n        functions.udaf(new StSafeUnionAggregator(), Encoders.javaSerialization(Geometry.class)));\r\n```\r\n\r\nI tried also using `Encoders.kryo()` and `Encoders.bean()` with no success.\r\n\r\nIs this the correct way for registering an UDAF function? I know Spark is written in Scala however I&#39;d like to avoid rewriting our jobs in Scala.\r\n\r\n\r\nI need to register an UDAF function in Java and tried using the `functions.udaf()` (Scala API) but it doesn&#39;t work as in Scala.\r\nIn Scala I would register the UDAF function using `functions.udaf(myFunc)` but in Java I cannot call it without passing 2 parameters.\r\n\r\nThis is the `StSafeUnionAggregator` definition:\r\n\r\n```\r\nimport org.apache.spark.sql.Encoder;\r\nimport org.apache.spark.sql.Encoders;\r\nimport org.apache.spark.sql.expressions.Aggregator;\r\nimport org.locationtech.jts.geom.Coordinate;\r\nimport org.locationtech.jts.geom.Geometry;\r\nimport org.locationtech.jts.geom.GeometryFactory;\r\n\r\n// An example of my UDAF (using Aggregator, not the deprecated UserDefinedFunction)\r\npublic class StSafeUnionAggregator extends Aggregator&lt;Geometry, Geometry, Geometry&gt; {\r\n    ...\r\n\r\n    // Specifies the Encoder for the intermediate value type\r\n    @Override\r\n    public Encoder&lt;Geometry&gt; bufferEncoder() {\r\n        return Encoders.javaSerialization(Geometry.class);\r\n    }\r\n\r\n    // Specifies the Encoder for the final output value type\r\n    @Override\r\n    public Encoder&lt;Geometry&gt; outputEncoder() {\r\n        return Encoders.javaSerialization(Geometry.class);\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\n\r\nAnd this is the error message:\r\n\r\n```\r\nError: \r\ncannot resolve &#39;ST_Safe_Union_Aggr(geom_field)&#39; due to data type mismatch: \r\nargument 1 requires binary type, however, &#39;tmptableincomingdata.geom_field&#39; \r\nis of array&lt;tinyint&gt; type.; line 1 pos 79;\r\n```","title":"Spark Java: how to register a UDAF function using the new Aggregator&lt;IN, BUF, OUT&gt;","body":"<p><strong>I'm using Java</strong> and can register an UDF function, and it works:</p>\n<pre><code>UDF1&lt;Geometry, String&gt; stGetUTMZone = new StGetUTMZone();\nsparkSession.udf().register(&quot;ST_GetUTMZone&quot;, stGetUTMZone, DataTypes.StringType);\n</code></pre>\n<p>However, when I try registering an UDAF function, besides no compilation error is found, I get a runtime error due to datatype mismatch:</p>\n<pre><code>import org.locationtech.jts.geom.Geometry;\nimport org.apache.spark.sql.Encoders;\n\nsparkSession.udf().register(&quot;ST_Safe_Union_Aggr&quot;,\n        functions.udaf(new StSafeUnionAggregator(), Encoders.javaSerialization(Geometry.class)));\n</code></pre>\n<p>I tried also using <code>Encoders.kryo()</code> and <code>Encoders.bean()</code> with no success.</p>\n<p>Is this the correct way for registering an UDAF function? I know Spark is written in Scala however I'd like to avoid rewriting our jobs in Scala.</p>\n<p>I need to register an UDAF function in Java and tried using the <code>functions.udaf()</code> (Scala API) but it doesn't work as in Scala.\nIn Scala I would register the UDAF function using <code>functions.udaf(myFunc)</code> but in Java I cannot call it without passing 2 parameters.</p>\n<p>This is the <code>StSafeUnionAggregator</code> definition:</p>\n<pre><code>import org.apache.spark.sql.Encoder;\nimport org.apache.spark.sql.Encoders;\nimport org.apache.spark.sql.expressions.Aggregator;\nimport org.locationtech.jts.geom.Coordinate;\nimport org.locationtech.jts.geom.Geometry;\nimport org.locationtech.jts.geom.GeometryFactory;\n\n// An example of my UDAF (using Aggregator, not the deprecated UserDefinedFunction)\npublic class StSafeUnionAggregator extends Aggregator&lt;Geometry, Geometry, Geometry&gt; {\n    ...\n\n    // Specifies the Encoder for the intermediate value type\n    @Override\n    public Encoder&lt;Geometry&gt; bufferEncoder() {\n        return Encoders.javaSerialization(Geometry.class);\n    }\n\n    // Specifies the Encoder for the final output value type\n    @Override\n    public Encoder&lt;Geometry&gt; outputEncoder() {\n        return Encoders.javaSerialization(Geometry.class);\n    }\n\n    ...\n}\n</code></pre>\n<p>And this is the error message:</p>\n<pre><code>Error: \ncannot resolve 'ST_Safe_Union_Aggr(geom_field)' due to data type mismatch: \nargument 1 requires binary type, however, 'tmptableincomingdata.geom_field' \nis of array&lt;tinyint&gt; type.; line 1 pos 79;\n</code></pre>\n"},{"tags":["java","mongodb","reactor"],"answers":[{"tags":[],"owner":{"account_id":10010360,"reputation":21,"user_id":7403378,"display_name":"podolinsky.e"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667325137,"creation_date":1667325137,"answer_id":74279892,"question_id":73907379,"body_markdown":"Finally, achieved right behaviour just with swap operators and use of Mono.defer:\r\n\r\n    return repo.findOneAndUpdateNotificationDate(moduleId, notificationFrequency)\r\n    .flatMap(module -&gt; notificationService.sendAlertEmail(module, moduleState))\r\n    .switchIfEmpty(Mono.defer(() -&gt; Mono.just(true)));\r\n\r\n","title":"should we use exceptions in reactor mono flow to match result typings?","body":"<p>Finally, achieved right behaviour just with swap operators and use of Mono.defer:</p>\n<pre><code>return repo.findOneAndUpdateNotificationDate(moduleId, notificationFrequency)\n.flatMap(module -&gt; notificationService.sendAlertEmail(module, moduleState))\n.switchIfEmpty(Mono.defer(() -&gt; Mono.just(true)));\n</code></pre>\n"}],"owner":{"account_id":10010360,"reputation":21,"user_id":7403378,"display_name":"podolinsky.e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667325137,"creation_date":1664533969,"question_id":73907379,"body_markdown":"I have a situation with strange(?) approach with mongo findOneAndUpdate:\r\nif filter matched - then update, if not - well ok:\r\n```\r\npublic Mono&lt;Module&gt; findOneAndUpdateNotificationDate(String moduleId, Duration frequency) {\r\n  Bson filter = and(\r\n    eq(ID, new ObjectId(moduleId)),\r\n    or(\r\n       exists(LAST_NOTIFICATION_DATE, false),\r\n       lt(LAST_NOTIFICATION_DATE, now.minus(frequency))\r\n    )\r\n  );\r\n  Bson updates = combine(\r\n    set(LAST_NOTIFICATION_DATE, now)\r\n  );\r\n  return Mono.from(collection.findOneAndUpdate(filter, updates));\r\n}\r\n```\r\nand service using it:\r\n```\r\nprivate Mono&lt;Boolean&gt; maybeSendNotification(String moduleId, ModuleState state) {\r\n  return repo.findOneAndUpdateNotificationDate(moduleId, notificationFrequency)\r\n    .switchIfEmpty(Mono.error(new NotFoundException()))\r\n    .flatMap(module -&gt; notificationService.sendAlertEmail(module, moduleState))\r\n    .onErrorResume(NotFoundException.class, e -&gt; Mono.just(true));\r\n  }\r\n```\r\nThe goal is to send email notification with some [frequency].\r\n\r\nWonder if the right way to use exceptions here? and how to do it correctly and not to break typings?","title":"should we use exceptions in reactor mono flow to match result typings?","body":"<p>I have a situation with strange(?) approach with mongo findOneAndUpdate:\nif filter matched - then update, if not - well ok:</p>\n<pre><code>public Mono&lt;Module&gt; findOneAndUpdateNotificationDate(String moduleId, Duration frequency) {\n  Bson filter = and(\n    eq(ID, new ObjectId(moduleId)),\n    or(\n       exists(LAST_NOTIFICATION_DATE, false),\n       lt(LAST_NOTIFICATION_DATE, now.minus(frequency))\n    )\n  );\n  Bson updates = combine(\n    set(LAST_NOTIFICATION_DATE, now)\n  );\n  return Mono.from(collection.findOneAndUpdate(filter, updates));\n}\n</code></pre>\n<p>and service using it:</p>\n<pre><code>private Mono&lt;Boolean&gt; maybeSendNotification(String moduleId, ModuleState state) {\n  return repo.findOneAndUpdateNotificationDate(moduleId, notificationFrequency)\n    .switchIfEmpty(Mono.error(new NotFoundException()))\n    .flatMap(module -&gt; notificationService.sendAlertEmail(module, moduleState))\n    .onErrorResume(NotFoundException.class, e -&gt; Mono.just(true));\n  }\n</code></pre>\n<p>The goal is to send email notification with some [frequency].</p>\n<p>Wonder if the right way to use exceptions here? and how to do it correctly and not to break typings?</p>\n"},{"tags":["java","algorithm"],"answers":[{"comments":[{"owner":{"account_id":18370213,"reputation":25,"user_id":13380450,"display_name":"Евгений Малюков"},"score":0,"creation_date":1667325953,"post_id":74279887,"comment_id":131139789,"body_markdown":"OMG thanks dude. my brain is already off, I spent 2 evenings on this code...","body":"OMG thanks dude. my brain is already off, I spent 2 evenings on this code..."}],"tags":[],"owner":{"account_id":26548593,"reputation":156,"user_id":20178298,"display_name":"kmeh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667325105,"creation_date":1667325105,"answer_id":74279887,"question_id":74279703,"body_markdown":"Why can&#39;t you subtract the first number from the total, and decrease count by 1?\r\n\r\n```\r\nimport java.util.*;\r\nimport java.math.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        var count = 5;\r\n        var first = 50;\r\n        System.out.println(calc(first, count)); // [6.7, 13.3, 20.0, 26.7, 33.3]\r\n    }\r\n    private static List&lt;BigDecimal&gt; calc(double first, double count) {\r\n        double total = 100 - first; // Decrease total by first\r\n        count--; // Decrement\r\n        int multiplier = 0;\r\n        for (int i = 1; i &lt;= count; i++) {\r\n            multiplier+=i;\r\n        }\r\n        BigDecimal a = BigDecimal.valueOf(total / multiplier);\r\n        List&lt;BigDecimal&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(BigDecimal.valueOf(first)); // Add first to list\r\n        BigDecimal b = BigDecimal.ZERO;\r\n        for (int i = 0; i &lt; count; i++) {\r\n            b = b.add(a);\r\n            list.add(b.setScale(1, RoundingMode.HALF_UP));\r\n        }\r\n        return list;\r\n    }\r\n}\r\n```","title":"Algorithm that shows n numbers whose sum is 100 with regression","body":"<p>Why can't you subtract the first number from the total, and decrease count by 1?</p>\n<pre><code>import java.util.*;\nimport java.math.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        var count = 5;\n        var first = 50;\n        System.out.println(calc(first, count)); // [6.7, 13.3, 20.0, 26.7, 33.3]\n    }\n    private static List&lt;BigDecimal&gt; calc(double first, double count) {\n        double total = 100 - first; // Decrease total by first\n        count--; // Decrement\n        int multiplier = 0;\n        for (int i = 1; i &lt;= count; i++) {\n            multiplier+=i;\n        }\n        BigDecimal a = BigDecimal.valueOf(total / multiplier);\n        List&lt;BigDecimal&gt; list = new ArrayList&lt;&gt;();\n        list.add(BigDecimal.valueOf(first)); // Add first to list\n        BigDecimal b = BigDecimal.ZERO;\n        for (int i = 0; i &lt; count; i++) {\n            b = b.add(a);\n            list.add(b.setScale(1, RoundingMode.HALF_UP));\n        }\n        return list;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18370213,"reputation":25,"user_id":13380450,"display_name":"Евгений Малюков"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74279887,"answer_count":1,"score":0,"last_activity_date":1667325105,"creation_date":1667323978,"question_id":74279703,"body_markdown":"I need an algorithm that accepts the total numbers count and the first number as input, where the sum of these numbers must be 100.\r\n\r\nExamples:\r\n\r\nInput:\r\ncount = 5,\r\nfirst = 50\r\n\r\nOutput must be something LIKE that:\r\n50, 30, 15, 3.5, 1.5\r\n\r\nInput:\r\ncount = 7,\r\nfirst = 30\r\n\r\nOutput must be something LIKE that:\r\n30, 25, 20, 10, 7.5, 5, 2.5\r\n\r\nit is not very important for me that the output is as I indicated it in the examples, it&#39;s all about\r\n\r\n\r\n\r\nI just do this code, and I can&#39;t figure out how to integrate the &quot;first&quot; variable to it:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        var count = 5;\r\n        var first = 50;\r\n        System.out.println(calc(first, count)); // [6.7, 13.3, 20.0, 26.7, 33.3]\r\n    }\r\n    private static List&lt;BigDecimal&gt; calc(double first, double count) {\r\n        double total = 100;\r\n        int multiplier = 0;\r\n        for (int i = 1; i &lt;= count; i++) {\r\n            multiplier+=i;\r\n        }\r\n        BigDecimal a = BigDecimal.valueOf(total / multiplier);\r\n        List&lt;BigDecimal&gt; list = new ArrayList&lt;&gt;();\r\n        BigDecimal b = BigDecimal.ZERO;\r\n        for (int i = 0; i &lt; count; i++) {\r\n            b = b.add(a);\r\n            list.add(b.setScale(1, RoundingMode.HALF_UP));\r\n        }\r\n        return list;\r\n    }\r\n}\r\n```\r\n","title":"Algorithm that shows n numbers whose sum is 100 with regression","body":"<p>I need an algorithm that accepts the total numbers count and the first number as input, where the sum of these numbers must be 100.</p>\n<p>Examples:</p>\n<p>Input:\ncount = 5,\nfirst = 50</p>\n<p>Output must be something LIKE that:\n50, 30, 15, 3.5, 1.5</p>\n<p>Input:\ncount = 7,\nfirst = 30</p>\n<p>Output must be something LIKE that:\n30, 25, 20, 10, 7.5, 5, 2.5</p>\n<p>it is not very important for me that the output is as I indicated it in the examples, it's all about</p>\n<p>I just do this code, and I can't figure out how to integrate the &quot;first&quot; variable to it:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        var count = 5;\n        var first = 50;\n        System.out.println(calc(first, count)); // [6.7, 13.3, 20.0, 26.7, 33.3]\n    }\n    private static List&lt;BigDecimal&gt; calc(double first, double count) {\n        double total = 100;\n        int multiplier = 0;\n        for (int i = 1; i &lt;= count; i++) {\n            multiplier+=i;\n        }\n        BigDecimal a = BigDecimal.valueOf(total / multiplier);\n        List&lt;BigDecimal&gt; list = new ArrayList&lt;&gt;();\n        BigDecimal b = BigDecimal.ZERO;\n        for (int i = 0; i &lt; count; i++) {\n            b = b.add(a);\n            list.add(b.setScale(1, RoundingMode.HALF_UP));\n        }\n        return list;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","2d","render","libgdx"],"comments":[{"owner":{"account_id":930575,"reputation":24689,"user_id":960524,"accept_rate":89,"display_name":"P.T."},"score":0,"creation_date":1343758283,"post_id":11737426,"comment_id":15591675,"body_markdown":"I&#39;ve seen a similar exception when I have messed up my mesh definitions (either forgetting to load verticies or setting the length to zero).  So, most likely something is incorrect with your tile map definition.  Check to see if there are size/scale requirements (like power of 2 or minimum of X, or something like that) that you are not meeting.","body":"I&#39;ve seen a similar exception when I have messed up my mesh definitions (either forgetting to load verticies or setting the length to zero).  So, most likely something is incorrect with your tile map definition.  Check to see if there are size/scale requirements (like power of 2 or minimum of X, or something like that) that you are not meeting."},{"owner":{"account_id":1332839,"reputation":9052,"user_id":1276306,"accept_rate":91,"display_name":"Mick&#228;el A."},"score":0,"creation_date":1343760705,"post_id":11737426,"comment_id":15592711,"body_markdown":"Thanks for your answer. I just checked and everything if a power of 2: the viewport of the camera, the size of every tile and the size of my level.png containing all the tiles packed in one image. Only the map size didn&#39;t fit, but changing it didn&#39;t solve my problem, anyway the tutorial use a map of 60*15 so the map which displays doesn&#39;t either.","body":"Thanks for your answer. I just checked and everything if a power of 2: the viewport of the camera, the size of every tile and the size of my level.png containing all the tiles packed in one image. Only the map size didn&#39;t fit, but changing it didn&#39;t solve my problem, anyway the tutorial use a map of 60*15 so the map which displays doesn&#39;t either."}],"answers":[{"comments":[{"owner":{"account_id":1931763,"reputation":1205,"user_id":1741011,"accept_rate":64,"display_name":"Jente Rosseel"},"score":0,"creation_date":1359458582,"post_id":11747244,"comment_id":20351382,"body_markdown":"I also used the &quot;TexturePacker GUI&quot; and encountered the same problem. Thanks for providing the alternative!","body":"I also used the &quot;TexturePacker GUI&quot; and encountered the same problem. Thanks for providing the alternative!"},{"owner":{"account_id":1332839,"reputation":9052,"user_id":1276306,"accept_rate":91,"display_name":"Mick&#228;el A."},"score":1,"creation_date":1384439881,"post_id":11747244,"comment_id":29744247,"body_markdown":"@tsukimi I uploaded the link by posting a zip of mine. I&#39;m not sure if this is the good one because I have several packers, so let me know if this doesn&#39;t work as said in my post.","body":"@tsukimi I uploaded the link by posting a zip of mine. I&#39;m not sure if this is the good one because I have several packers, so let me know if this doesn&#39;t work as said in my post."},{"owner":{"account_id":426528,"reputation":1605,"user_id":807786,"accept_rate":82,"display_name":"tsukimi"},"score":0,"creation_date":1384467209,"post_id":11747244,"comment_id":29760619,"body_markdown":"@miNde thanks for uploading. This is same as program as i use now. The problem is the way it packs, it packs starting bottom left and going up, where as tiled editor needs the images packed top left going left to right, have you used tiled on your packed file? Now in tiled the indexes from the pack files dont match","body":"@miNde thanks for uploading. This is same as program as i use now. The problem is the way it packs, it packs starting bottom left and going up, where as tiled editor needs the images packed top left going left to right, have you used tiled on your packed file? Now in tiled the indexes from the pack files dont match"},{"owner":{"account_id":1332839,"reputation":9052,"user_id":1276306,"accept_rate":91,"display_name":"Mick&#228;el A."},"score":0,"creation_date":1384521412,"post_id":11747244,"comment_id":29780898,"body_markdown":"I did only poor tests and yes it worked. But the problem is that since I wrote this post I have been very busy with other stuff so I didn&#39;t had the opportunity to use it a lot. Anyway I found another tile packer in my HD, so I can upload it if you want.","body":"I did only poor tests and yes it worked. But the problem is that since I wrote this post I have been very busy with other stuff so I didn&#39;t had the opportunity to use it a lot. Anyway I found another tile packer in my HD, so I can upload it if you want."},{"owner":{"account_id":426528,"reputation":1605,"user_id":807786,"accept_rate":82,"display_name":"tsukimi"},"score":0,"creation_date":1384696799,"post_id":11747244,"comment_id":29830945,"body_markdown":"@miNde OK please upload","body":"@miNde OK please upload"},{"owner":{"account_id":1332839,"reputation":9052,"user_id":1276306,"accept_rate":91,"display_name":"Mick&#228;el A."},"score":1,"creation_date":1384699529,"post_id":11747244,"comment_id":29831794,"body_markdown":"@tsukimi I added the link in my answer.","body":"@tsukimi I added the link in my answer."},{"owner":{"account_id":426528,"reputation":1605,"user_id":807786,"accept_rate":82,"display_name":"tsukimi"},"score":0,"creation_date":1384729093,"post_id":11747244,"comment_id":29841266,"body_markdown":"@miNde thanks again for uploading, i tried the tool , didn&#39;t pack how i needed.","body":"@miNde thanks again for uploading, i tried the tool , didn&#39;t pack how i needed."},{"owner":{"account_id":426528,"reputation":1605,"user_id":807786,"accept_rate":82,"display_name":"tsukimi"},"score":0,"creation_date":1384729519,"post_id":11747244,"comment_id":29841391,"body_markdown":"Basically i getting around it by using 2 tilesets which works but i think could hurt performance because of the texture switching.I was going to use a larger width texture 2048 but this is not supported on all phones.","body":"Basically i getting around it by using 2 tilesets which works but i think could hurt performance because of the texture switching.I was going to use a larger width texture 2048 but this is not supported on all phones."}],"tags":[],"owner":{"account_id":1332839,"reputation":9052,"user_id":1276306,"accept_rate":91,"display_name":"Mick&#228;el A."},"comment_count":8,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1667324781,"creation_date":1343761752,"answer_id":11747244,"question_id":11737426,"body_markdown":"I found what caused the error :&lt;br /&gt;\r\n1) all the tiles in my &quot;packfile&quot; had -1 as their index&lt;br /&gt;\r\n2) all the tiles in my &quot;packfile&quot; had the same name as their original tile file name, but not the same name as the .png file containing all the tiles packed.&lt;br /&gt;\r\n\r\nCurrently my screen is black so I think no tile is draw (probably because I gave random indexes to the tiles in the packfile - **fixed, see the end of the post**) but no exceptions are thrown and that&#39;s the point.\r\n\r\nThose mistakes are due to the program I used to pack the tiles that was supposed to make me win time lol. So I will try different options or use something else.&lt;br /&gt;\r\nIf you want to know the program was &quot;TexturePacker GUI&quot; v3.1.0.&lt;br /&gt;\r\n\r\nIf you know what options I should/not use to avoid errors please let me know.&lt;br /&gt;\r\n\r\n**EDIT :** Found a usefull and working tool for packing tiles, here it is : &lt;s&gt;http://freigabe.philweb.de/bubblr/texturepacker_edited.jar&lt;/s&gt;  \r\n(link is dead ; use [this one][1] instead. or [another packing tool][2])\r\n\r\nTo use it open cmd and go to the directory where your downloaded the .jar file and then : \r\n\r\n    //You should create, in the same directory of the .jar file, two additionnal folders\r\n    //Call the first folder &#39;input&#39; and put in all your tiles (rename them &quot;level_1.png&quot;, &quot;level_..&quot;)\r\n    //Call the 2nd folder &#39;output&#39; and leave it empty\r\n    //Then just type in the command prompt : java -jar nameOfDownloadedJarFile.jar input output level\r\n    //Then rename the &quot;input1.png&quot; into &quot;level.png&quot;, and &quot;level.pack&quot; into &quot;level packfile&quot;\r\n    //Open &quot;level packfile&quot; with notepad and change &quot;input1.png&quot; into &quot;level.png&quot;\r\n    //Then draw your map using &quot;level.png&quot; in TiledMapEditor\r\n    //Then just follow dpk&#39; tutorial for rendering the map and it should work\r\n\r\nHere is dpk&#39;s tutorial I mentioned, just follow from here : http://dpk.net/2011/05/01/libgdx-box2d-tiled-maps-full-working-example-part-1/#p4\r\n\r\nIf application doesn&#39;t crashes but the screen is black, just increase camera&#39;s viewport&#39;s width &amp; height.\r\n\r\nHappy mapping :) !\r\n\r\n\r\n  [1]: https://dl.dropboxusercontent.com/u/69374102/texturepacker-gui-3.1.0.zip\r\n  [2]: https://dl.dropboxusercontent.com/u/69374102/TilePacker.jar","title":"LibGDX - Application crashes when call TiledMapRenderer.render()","body":"<p>I found what caused the error :<br /></p>\n<ol>\n<li>all the tiles in my &quot;packfile&quot; had -1 as their index<br /></li>\n<li>all the tiles in my &quot;packfile&quot; had the same name as their original tile file name, but not the same name as the .png file containing all the tiles packed.<br /></li>\n</ol>\n<p>Currently my screen is black so I think no tile is draw (probably because I gave random indexes to the tiles in the packfile - <strong>fixed, see the end of the post</strong>) but no exceptions are thrown and that's the point.</p>\n<p>Those mistakes are due to the program I used to pack the tiles that was supposed to make me win time lol. So I will try different options or use something else.<br />\nIf you want to know the program was &quot;TexturePacker GUI&quot; v3.1.0.<br /></p>\n<p>If you know what options I should/not use to avoid errors please let me know.<br /></p>\n<p><strong>EDIT :</strong> Found a usefull and working tool for packing tiles, here it is : <s>http://freigabe.philweb.de/bubblr/texturepacker_edited.jar</s><br />\n(link is dead ; use <a href=\"https://dl.dropboxusercontent.com/u/69374102/texturepacker-gui-3.1.0.zip\" rel=\"nofollow noreferrer\">this one</a> instead. or <a href=\"https://dl.dropboxusercontent.com/u/69374102/TilePacker.jar\" rel=\"nofollow noreferrer\">another packing tool</a>)</p>\n<p>To use it open cmd and go to the directory where your downloaded the .jar file and then :</p>\n<pre><code>//You should create, in the same directory of the .jar file, two additionnal folders\n//Call the first folder 'input' and put in all your tiles (rename them &quot;level_1.png&quot;, &quot;level_..&quot;)\n//Call the 2nd folder 'output' and leave it empty\n//Then just type in the command prompt : java -jar nameOfDownloadedJarFile.jar input output level\n//Then rename the &quot;input1.png&quot; into &quot;level.png&quot;, and &quot;level.pack&quot; into &quot;level packfile&quot;\n//Open &quot;level packfile&quot; with notepad and change &quot;input1.png&quot; into &quot;level.png&quot;\n//Then draw your map using &quot;level.png&quot; in TiledMapEditor\n//Then just follow dpk' tutorial for rendering the map and it should work\n</code></pre>\n<p>Here is dpk's tutorial I mentioned, just follow from here : <a href=\"http://dpk.net/2011/05/01/libgdx-box2d-tiled-maps-full-working-example-part-1/#p4\" rel=\"nofollow noreferrer\">http://dpk.net/2011/05/01/libgdx-box2d-tiled-maps-full-working-example-part-1/#p4</a></p>\n<p>If application doesn't crashes but the screen is black, just increase camera's viewport's width &amp; height.</p>\n<p>Happy mapping :) !</p>\n"}],"owner":{"account_id":1332839,"reputation":9052,"user_id":1276306,"accept_rate":91,"display_name":"Mick&#228;el A."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4283,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":11747244,"answer_count":1,"score":7,"last_activity_date":1667324781,"creation_date":1343728291,"question_id":11737426,"body_markdown":"    @Override\r\n    public void render(float delta) {\r\n        Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);\r\n\r\n        camera.update();\r\n        sprite.setProjectionMatrix(camera.combined);\r\n\t\t\r\n        mLevel.getTiledMapRenderer().getProjectionMatrix().set(camera.combined);\r\n        Vector3 tmp = new Vector3();\r\n        tmp.set(0, 0, 0);\r\n        camera.unproject(tmp);\r\n        mLevel.getTiledMapRenderer().render(tmp.x, tmp.y, camera.viewportWidth, camera.viewportHeight);\r\n\r\n        sprite.begin();\r\n        ...\r\n        sprite.end();\r\n    }\r\n\r\nHere is what I get when launching the desktop version :\r\n\r\n    Exception in thread &quot;LWJGL Application&quot; java.lang.IllegalArgumentException: Number of remaining buffer elements is 0, must be at least 1. Because at most 1 elements can be returned, a buffer with at least 1 elements is required, regardless of actual returned element count\r\n    \tat org.lwjgl.BufferChecks.throwBufferSizeException(BufferChecks.java:162)\r\n    \tat org.lwjgl.BufferChecks.checkBufferSize(BufferChecks.java:189)\r\n    \tat org.lwjgl.BufferChecks.checkBuffer(BufferChecks.java:230)\r\n    \tat org.lwjgl.opengl.GL15.glBufferData(GL15.java:141)\r\n    \tat com.badlogic.gdx.backends.lwjgl.LwjglGL20.glBufferData(LwjglGL20.java:93)\r\n    \tat com.badlogic.gdx.graphics.glutils.VertexBufferObject.bind(VertexBufferObject.java:208)\r\n    \tat com.badlogic.gdx.graphics.Mesh.bind(Mesh.java:268)\r\n    \tat com.badlogic.gdx.graphics.g2d.SpriteCache.begin(SpriteCache.java:868)\r\n    \tat com.badlogic.gdx.graphics.g2d.tiled.TileMapRenderer.render(TileMapRenderer.java:336)\r\n    \tat com.badlogic.gdx.graphics.g2d.tiled.TileMapRenderer.render(TileMapRenderer.java:286)\r\n    \tat com.crunsh.libgdx.screens.GameScreen.render(GameScreen.java:102)\r\n    \tat com.badlogic.gdx.Game.render(Game.java:46)\r\n    \tat com.badlogic.gdx.backends.lwjgl.LwjglApplication.mainLoop(LwjglApplication.java:202)\r\n    \tat com.badlogic.gdx.backends.lwjgl.LwjglApplication$1.run(LwjglApplication.java:131)\r\n\r\nI&#39;ve tried both [this tuto][1] and [this one][2], and I get the same error at the same line `mLevel.getTiledMapRenderer().render(tmp.x, tmp.y, camera.viewportWidth, camera.viewportHeight);`.\r\n\r\n\r\n  [1]: http://code.google.com/p/libgdx-users/wiki/Tiles#Render\r\n  [2]: http://dpk.net/2011/05/01/libgdx-box2d-tiled-maps-full-working-example-part-1/#p5\r\n\r\n**EDIT :** I just noticed that the data of my .tmx file was automatically encoded by Tiled Map Editor, so I just desactivated it, but still get the same error.&lt;br /&gt;\r\nIf I copy/paste [this project][2] (I mean the whole project, not only the render() method) it works but when I try to load my own map in my own project it just crashes ...&lt;br /&gt;\r\n\r\nSo after that I decided to simplify my `render()` method by just doing like the link I gave before and by using the `TiledMapHelper class` the author provide, so there is my `render()` method now:\r\n\r\n    mHelper.getCamera().update();\r\n    mHelper.render();\r\n\r\nStill crashiiiiiiiiiiiiiingg.....&lt;br /&gt;\r\nIf someone can please provide some help it would be greatly appreciated because atm i&#39;m really going mad !","title":"LibGDX - Application crashes when call TiledMapRenderer.render()","body":"<pre><code>@Override\npublic void render(float delta) {\n    Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);\n\n    camera.update();\n    sprite.setProjectionMatrix(camera.combined);\n\n    mLevel.getTiledMapRenderer().getProjectionMatrix().set(camera.combined);\n    Vector3 tmp = new Vector3();\n    tmp.set(0, 0, 0);\n    camera.unproject(tmp);\n    mLevel.getTiledMapRenderer().render(tmp.x, tmp.y, camera.viewportWidth, camera.viewportHeight);\n\n    sprite.begin();\n    ...\n    sprite.end();\n}\n</code></pre>\n\n<p>Here is what I get when launching the desktop version :</p>\n\n<pre><code>Exception in thread \"LWJGL Application\" java.lang.IllegalArgumentException: Number of remaining buffer elements is 0, must be at least 1. Because at most 1 elements can be returned, a buffer with at least 1 elements is required, regardless of actual returned element count\n    at org.lwjgl.BufferChecks.throwBufferSizeException(BufferChecks.java:162)\n    at org.lwjgl.BufferChecks.checkBufferSize(BufferChecks.java:189)\n    at org.lwjgl.BufferChecks.checkBuffer(BufferChecks.java:230)\n    at org.lwjgl.opengl.GL15.glBufferData(GL15.java:141)\n    at com.badlogic.gdx.backends.lwjgl.LwjglGL20.glBufferData(LwjglGL20.java:93)\n    at com.badlogic.gdx.graphics.glutils.VertexBufferObject.bind(VertexBufferObject.java:208)\n    at com.badlogic.gdx.graphics.Mesh.bind(Mesh.java:268)\n    at com.badlogic.gdx.graphics.g2d.SpriteCache.begin(SpriteCache.java:868)\n    at com.badlogic.gdx.graphics.g2d.tiled.TileMapRenderer.render(TileMapRenderer.java:336)\n    at com.badlogic.gdx.graphics.g2d.tiled.TileMapRenderer.render(TileMapRenderer.java:286)\n    at com.crunsh.libgdx.screens.GameScreen.render(GameScreen.java:102)\n    at com.badlogic.gdx.Game.render(Game.java:46)\n    at com.badlogic.gdx.backends.lwjgl.LwjglApplication.mainLoop(LwjglApplication.java:202)\n    at com.badlogic.gdx.backends.lwjgl.LwjglApplication$1.run(LwjglApplication.java:131)\n</code></pre>\n\n<p>I've tried both <a href=\"http://code.google.com/p/libgdx-users/wiki/Tiles#Render\" rel=\"noreferrer\">this tuto</a> and <a href=\"http://dpk.net/2011/05/01/libgdx-box2d-tiled-maps-full-working-example-part-1/#p5\" rel=\"noreferrer\">this one</a>, and I get the same error at the same line <code>mLevel.getTiledMapRenderer().render(tmp.x, tmp.y, camera.viewportWidth, camera.viewportHeight);</code>.</p>\n\n<p><strong>EDIT :</strong> I just noticed that the data of my .tmx file was automatically encoded by Tiled Map Editor, so I just desactivated it, but still get the same error.<br />\nIf I copy/paste <a href=\"http://dpk.net/2011/05/01/libgdx-box2d-tiled-maps-full-working-example-part-1/#p5\" rel=\"noreferrer\">this project</a> (I mean the whole project, not only the render() method) it works but when I try to load my own map in my own project it just crashes ...<br /></p>\n\n<p>So after that I decided to simplify my <code>render()</code> method by just doing like the link I gave before and by using the <code>TiledMapHelper class</code> the author provide, so there is my <code>render()</code> method now:</p>\n\n<pre><code>mHelper.getCamera().update();\nmHelper.render();\n</code></pre>\n\n<p>Still crashiiiiiiiiiiiiiingg.....<br />\nIf someone can please provide some help it would be greatly appreciated because atm i'm really going mad !</p>\n"},{"tags":["java","arrays","object","inheritance","polymorphism"],"answers":[{"comments":[{"owner":{"account_id":23243157,"reputation":17,"user_id":17332091,"display_name":"Aymane Aaquil"},"score":0,"creation_date":1667323501,"post_id":74277591,"comment_id":131138932,"body_markdown":"Not sure to follow...\nHow would you fix it?","body":"Not sure to follow... How would you fix it?"},{"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"score":1,"creation_date":1667324634,"post_id":74277591,"comment_id":131139296,"body_markdown":"I have edited my answer to hopefully make it more clear.  I don&#39;t want to rewrite your method in my answer because I found it more helpful to learn to edit my code myself (rather than copy and paste others&#39; code) when I was learning to code","body":"I have edited my answer to hopefully make it more clear.  I don&#39;t want to rewrite your method in my answer because I found it more helpful to learn to edit my code myself (rather than copy and paste others&#39; code) when I was learning to code"},{"owner":{"account_id":23243157,"reputation":17,"user_id":17332091,"display_name":"Aymane Aaquil"},"score":0,"creation_date":1667325632,"post_id":74277591,"comment_id":131139689,"body_markdown":"Thank you so much, I figured it out thanks to you, have a wonderful day:)","body":"Thank you so much, I figured it out thanks to you, have a wonderful day:)"}],"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667324484,"creation_date":1667313499,"answer_id":74277591,"question_id":74277485,"body_markdown":"Your `mostExpensive` and `leastExpensive` variables seem to be representing both the index of your max and min priced `Uav` objects in the array and the price of the max and min price of all `Uav` objects.\r\n\r\nYou should track the min/max price (type `double`) and index of min/max priced `Uav` object (type `int`) separately, perhaps in variables that look like these:\r\n\r\n```\r\nint maxPricedUavIndex;\r\nint minPricedUavIndex;\r\ndouble maxPrice = 0d;\r\ndouble minPrice = Double.MAX_VALUE;\r\n```\r\n\r\nYou would assign `maxPricedUavIndex` and `minPricedUavIndex` to the value of the index `i` where appropriate, and you would assign `maxPrice` and `minPrice` to `a.getPrice()` where appropriate","title":"How to display least and most expensive from array in Java","body":"<p>Your <code>mostExpensive</code> and <code>leastExpensive</code> variables seem to be representing both the index of your max and min priced <code>Uav</code> objects in the array and the price of the max and min price of all <code>Uav</code> objects.</p>\n<p>You should track the min/max price (type <code>double</code>) and index of min/max priced <code>Uav</code> object (type <code>int</code>) separately, perhaps in variables that look like these:</p>\n<pre><code>int maxPricedUavIndex;\nint minPricedUavIndex;\ndouble maxPrice = 0d;\ndouble minPrice = Double.MAX_VALUE;\n</code></pre>\n<p>You would assign <code>maxPricedUavIndex</code> and <code>minPricedUavIndex</code> to the value of the index <code>i</code> where appropriate, and you would assign <code>maxPrice</code> and <code>minPrice</code> to <code>a.getPrice()</code> where appropriate</p>\n"},{"comments":[{"owner":{"account_id":23243157,"reputation":17,"user_id":17332091,"display_name":"Aymane Aaquil"},"score":0,"creation_date":1667323554,"post_id":74277993,"comment_id":131138947,"body_markdown":"that&#39;s an interesting way, but I&#39;m not allowed to use this method in the assignment.\nThank you tho !","body":"that&#39;s an interesting way, but I&#39;m not allowed to use this method in the assignment. Thank you tho !"}],"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667315424,"creation_date":1667315424,"answer_id":74277993,"question_id":74277485,"body_markdown":"Another way using StreamAPI:\r\n\r\n```\r\nvar stat = Arrays.stream(flyingObjects)\r\n                .filter(o -&gt; o instanceof UAV)\r\n                .collect(Collectors.teeing(\r\n                        Collectors.minBy(Comparator.comparingDouble(FlyingObject::getPrice)),\r\n                        Collectors.maxBy(Comparator.comparingDouble(FlyingObject::getPrice)),\r\n                        (min, max) -&gt; new MinMaxStatistic&lt;&gt;(min.orElse(null), max.orElse(null))));\r\n\r\nFlyingObject min = stat.min;\r\nFlyingObject max = stat.max;\r\n```\r\nand you&#39;ll need a class to collect statistics\r\n```\r\nclass MinMaxStatistic&lt;T&gt; {\r\n    T min;\r\n    T max;\r\n\r\n    public MinMaxStatistic(T min, T max) {\r\n        this.min = min;\r\n        this.max = max;\r\n    }\r\n}\r\n```","title":"How to display least and most expensive from array in Java","body":"<p>Another way using StreamAPI:</p>\n<pre><code>var stat = Arrays.stream(flyingObjects)\n                .filter(o -&gt; o instanceof UAV)\n                .collect(Collectors.teeing(\n                        Collectors.minBy(Comparator.comparingDouble(FlyingObject::getPrice)),\n                        Collectors.maxBy(Comparator.comparingDouble(FlyingObject::getPrice)),\n                        (min, max) -&gt; new MinMaxStatistic&lt;&gt;(min.orElse(null), max.orElse(null))));\n\nFlyingObject min = stat.min;\nFlyingObject max = stat.max;\n</code></pre>\n<p>and you'll need a class to collect statistics</p>\n<pre><code>class MinMaxStatistic&lt;T&gt; {\n    T min;\n    T max;\n\n    public MinMaxStatistic(T min, T max) {\n        this.min = min;\n        this.max = max;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23243157,"reputation":17,"user_id":17332091,"display_name":"Aymane Aaquil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74277591,"answer_count":2,"score":1,"last_activity_date":1667324484,"creation_date":1667313027,"question_id":74277485,"body_markdown":"So I have an array of 15 Flying Objects, The flyingObjects class consists of 1 variable (Price: Double) with its getters and setters.\r\nI also have an airplane class that extends FlyingObjects, a helicopter class that extends Airplane and quadrotor and multirotor class that extends helicopter. On the other side of the tree I have a UAV class that extends FlyingObjects, a MAV class that extends UAV and a AD class that extends UAV.\r\n\r\nHere is the array: \r\n\r\n        FlyingObjects [] test = new FlyingObjects[7];\r\n\t\ttest[0] = new Uav(10,43);\r\n\t\ttest[1] = new AgriculturalDrone(8000,780000,&quot;Chase&quot;,2400);\r\n\t\ttest[2] = new Uav(10,5);\r\n\t\ttest[3] = new Mav(0.5,140000,&quot;trooper&quot;,10);\r\n\t\ttest[4] = new Multirotor(&quot;Hexa&quot;,140000,200,185,2021,1,4);\r\n\t\ttest[5] = new Helicopter(&quot;Robinson&quot;,199000,250,100,2018,7);\r\n\t\ttest[6] = new Airplane(&quot;Boeing&quot;,350000,450);\r\n\r\nNow I need to write a method that will get me the most expensive and least expensive UAV in my array (note that the price is always the second attribute in the UAV&#39;s constructors).\r\nfor some reason my method always return the first UAV in the array as the least expensive and the last UAV in the array as the most expensive.\r\nAny tip on how to fix this issue? \r\n\r\n        public static void findLeastAndMostExpensiveUAV(FlyingObjects[] flyingObjects) {\r\n\t\tint mostExpensive = -1;\r\n\t\tint leastExpensive =1000000000;\r\n\t\tboolean hasUav = false;\r\n\t\t\r\n\t\tif(flyingObjects == null) {\r\n\t\t\tSystem.out.println(&quot;There is no UAV&quot;);\r\n\t\t}\r\n\t\tfor(int i = 0;i&lt;flyingObjects.length;i++) {\r\n\t\t\tif (flyingObjects[i] instanceof Uav) {\r\n\t\t\t  Uav a = (Uav) flyingObjects[i];\r\n\t\t\t  if (a.getPrice() &gt;= mostExpensive) {\r\n\t\t\t\t  mostExpensive = i;\r\n\t\t\t  }if (a.getPrice() &lt;= leastExpensive){\r\n\t\t\t\t  leastExpensive = i;\r\n\t\r\n\t\t\t  }\r\n\t\t\t  if(!hasUav) {\r\n\t\t\t\t  hasUav = true;\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(!hasUav) {\r\n\t\t\tSystem.out.println(&quot;There is no UAV&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;\\nInformation about the most expensive UAV: \\n&quot;+ flyingObjects[mostExpensive]+&quot;\\n&quot;);\r\n\t\t\tSystem.out.println(&quot;Information about the least expensive UAV: \\n&quot;+flyingObjects[leastExpensive]);\r\n\t\t}\r\n\t}\r\n","title":"How to display least and most expensive from array in Java","body":"<p>So I have an array of 15 Flying Objects, The flyingObjects class consists of 1 variable (Price: Double) with its getters and setters.\nI also have an airplane class that extends FlyingObjects, a helicopter class that extends Airplane and quadrotor and multirotor class that extends helicopter. On the other side of the tree I have a UAV class that extends FlyingObjects, a MAV class that extends UAV and a AD class that extends UAV.</p>\n<p>Here is the array:</p>\n<pre><code>    FlyingObjects [] test = new FlyingObjects[7];\n    test[0] = new Uav(10,43);\n    test[1] = new AgriculturalDrone(8000,780000,&quot;Chase&quot;,2400);\n    test[2] = new Uav(10,5);\n    test[3] = new Mav(0.5,140000,&quot;trooper&quot;,10);\n    test[4] = new Multirotor(&quot;Hexa&quot;,140000,200,185,2021,1,4);\n    test[5] = new Helicopter(&quot;Robinson&quot;,199000,250,100,2018,7);\n    test[6] = new Airplane(&quot;Boeing&quot;,350000,450);\n</code></pre>\n<p>Now I need to write a method that will get me the most expensive and least expensive UAV in my array (note that the price is always the second attribute in the UAV's constructors).\nfor some reason my method always return the first UAV in the array as the least expensive and the last UAV in the array as the most expensive.\nAny tip on how to fix this issue?</p>\n<pre><code>    public static void findLeastAndMostExpensiveUAV(FlyingObjects[] flyingObjects) {\n    int mostExpensive = -1;\n    int leastExpensive =1000000000;\n    boolean hasUav = false;\n    \n    if(flyingObjects == null) {\n        System.out.println(&quot;There is no UAV&quot;);\n    }\n    for(int i = 0;i&lt;flyingObjects.length;i++) {\n        if (flyingObjects[i] instanceof Uav) {\n          Uav a = (Uav) flyingObjects[i];\n          if (a.getPrice() &gt;= mostExpensive) {\n              mostExpensive = i;\n          }if (a.getPrice() &lt;= leastExpensive){\n              leastExpensive = i;\n\n          }\n          if(!hasUav) {\n              hasUav = true;\n          }\n        }\n    }\n    if(!hasUav) {\n        System.out.println(&quot;There is no UAV&quot;);\n    }\n    else {\n        System.out.println(&quot;\\nInformation about the most expensive UAV: \\n&quot;+ flyingObjects[mostExpensive]+&quot;\\n&quot;);\n        System.out.println(&quot;Information about the least expensive UAV: \\n&quot;+flyingObjects[leastExpensive]);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","cucumber","junit5","cucumber-junit"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1667009499,"post_id":74241695,"comment_id":131076013,"body_markdown":"Read carefully and rename your test class to follow the conventions https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html#","body":"Read carefully and rename your test class to follow the conventions <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html#\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14259806,"reputation":129,"user_id":10300966,"display_name":"Sachin G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667324173,"creation_date":1667324173,"answer_id":74279741,"question_id":74241695,"body_markdown":"You don&#39;t need the `/` in @SelectClasspathResource annotation, the correct value should be `@SelectClasspathResource(&quot;pirate&quot;)`. \r\n\r\nRest all looks good in your runner file.","title":"Cucumber how to run cucumber tests via mvn test command Junit 5","body":"<p>You don't need the <code>/</code> in @SelectClasspathResource annotation, the correct value should be <code>@SelectClasspathResource(&quot;pirate&quot;)</code>.</p>\n<p>Rest all looks good in your runner file.</p>\n"}],"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667324173,"creation_date":1666998686,"question_id":74241695,"body_markdown":"I&#39;m developing a simple cucumber testing program in Intellij IDE, with Junit 5. &lt;br&gt;&lt;br&gt;\r\nI followed the steps, and installed the dependency as recommended in [cucumber-jvm](https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine)&lt;br&gt;\r\nBut When I run ```mvn clean test```, the cucumber test cases are skipped\r\n```\r\n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ xxx ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] \r\n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ xxx ---\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  1.052 s\r\n[INFO] Finished at: 2022-10-28T18:58:48-04:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nBut if I run the runner class directly through ```Run Runner.java``` (click run button on top-right), the tests are executed. &lt;br&gt;\r\nThis is my runner class:\r\n```\r\npackage pirate;\r\nimport org.junit.platform.suite.api.ConfigurationParameter;\r\nimport org.junit.platform.suite.api.IncludeEngines;\r\nimport org.junit.platform.suite.api.SelectClasspathResource;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\r\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PROPERTY_NAME;\r\n\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;/pirate&quot;)\r\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;pirate&quot;)\r\n@ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;pretty, html:target/cucumber-report/cucumber.html&quot;)\r\npublic class Runner {\r\n}\r\n```\r\n\r\nAnd this is my pom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;xxx&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;xxx&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n  &lt;build&gt;\r\n    &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;properties&gt;\r\n            &lt;configurationParameters&gt;\r\n              cucumber.junit-platform.naming-strategy=long\r\n            &lt;/configurationParameters&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n      &lt;version&gt;5.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n      &lt;version&gt;7.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;7.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n      &lt;version&gt;1.9.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nAnd this is my project test structure:\r\n[![enter image description here][1]][1]\r\nI want to execute all cucumber tests via ```mvn test``` or something similiar &lt;br&gt;\r\nWhat am I missing here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gNaNr.png","title":"Cucumber how to run cucumber tests via mvn test command Junit 5","body":"<p>I'm developing a simple cucumber testing program in Intellij IDE, with Junit 5. <br><br>\nI followed the steps, and installed the dependency as recommended in <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine\" rel=\"nofollow noreferrer\">cucumber-jvm</a><br>\nBut When I run <code>mvn clean test</code>, the cucumber test cases are skipped</p>\n<pre><code>[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ xxx ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-surefire-plugin:3.0.0-M5:test (default-test) @ xxx ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.052 s\n[INFO] Finished at: 2022-10-28T18:58:48-04:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>But if I run the runner class directly through <code>Run Runner.java</code> (click run button on top-right), the tests are executed. <br>\nThis is my runner class:</p>\n<pre><code>package pirate;\nimport org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;/pirate&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;pirate&quot;)\n@ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;pretty, html:target/cucumber-report/cucumber.html&quot;)\npublic class Runner {\n}\n</code></pre>\n<p>And this is my pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;xxx&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;xxx&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n  &lt;build&gt;\n    &lt;testSourceDirectory&gt;src/test/java&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;properties&gt;\n            &lt;configurationParameters&gt;\n              cucumber.junit-platform.naming-strategy=long\n            &lt;/configurationParameters&gt;\n          &lt;/properties&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;5.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n      &lt;version&gt;7.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n      &lt;version&gt;7.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n      &lt;version&gt;1.9.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>And this is my project test structure:\n<a href=\"https://i.stack.imgur.com/gNaNr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gNaNr.png\" alt=\"enter image description here\" /></a>\nI want to execute all cucumber tests via <code>mvn test</code> or something similiar <br>\nWhat am I missing here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1667324255,"post_id":74279734,"comment_id":131139165,"body_markdown":"&quot;*...it doesn&#39;t work of course...*&quot; - Why not?","body":"&quot;<i>...it doesn&#39;t work of course...</i>&quot; - Why not?"},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":1,"creation_date":1667326078,"post_id":74279734,"comment_id":131139820,"body_markdown":"Include more code.  The code you currently have is not java and may not compile.","body":"Include more code.  The code you currently have is not java and may not compile."}],"owner":{"account_id":26797888,"reputation":1,"user_id":20390333,"display_name":"Thomas DENEUX"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667324144,"creation_date":1667324144,"question_id":74279734,"body_markdown":"Hello I&#39;m learning scocket and I have a small problem. I can create a socket and close them one by one. Then I put in an Arrylist. For the moment no problem, everything works correctly. But now I&#39;d like to close a socket and all the others will close as well (possibly with a 10 seconds delay but that&#39;s secondary).\r\n\r\n```\r\nif(sc.isClosed()){\r\n    System.out.println(&quot;Deconnexion all socket&quot;);\r\n    for(int i = 0; i&lt;tabsc.size();i++)\r\n        tabsc(i).close();\r\n    break;\r\n}\r\n```\r\n\r\nSomething like this (it doesn&#39;t work of course)\r\n\r\nif you have an idea I&#39;m interested. Thanks\r\n","title":"Close all socket into an arraylist","body":"<p>Hello I'm learning scocket and I have a small problem. I can create a socket and close them one by one. Then I put in an Arrylist. For the moment no problem, everything works correctly. But now I'd like to close a socket and all the others will close as well (possibly with a 10 seconds delay but that's secondary).</p>\n<pre><code>if(sc.isClosed()){\n    System.out.println(&quot;Deconnexion all socket&quot;);\n    for(int i = 0; i&lt;tabsc.size();i++)\n        tabsc(i).close();\n    break;\n}\n</code></pre>\n<p>Something like this (it doesn't work of course)</p>\n<p>if you have an idea I'm interested. Thanks</p>\n"},{"tags":["java","spring-boot","validation","http-request-parameters"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667324036,"post_id":74279685,"comment_id":131139091,"body_markdown":"Do you have a path parameter or request parameter as those are different things. Just write 2 handler methods each with a different parameter name and a `param` in the `@RequestMapping` annotation.","body":"Do you have a path parameter or request parameter as those are different things. Just write 2 handler methods each with a different parameter name and a <code>param</code> in the <code>@RequestMapping</code> annotation."},{"owner":{"account_id":5500627,"reputation":113,"user_id":4370074,"accept_rate":100,"display_name":"Amjad Aziz"},"score":0,"creation_date":1667324990,"post_id":74279685,"comment_id":131139434,"body_markdown":"@M.Deinum I am dealing with request parameter so I think I can not add two different handler methods as path is not changing.","body":"@M.Deinum I am dealing with request parameter so I think I can not add two different handler methods as path is not changing."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667325037,"post_id":74279685,"comment_id":131139462,"body_markdown":"Yes you can, read my comment add the `param` argument to the `@RequestMapping` annotation.","body":"Yes you can, read my comment add the <code>param</code> argument to the <code>@RequestMapping</code> annotation."},{"owner":{"account_id":5500627,"reputation":113,"user_id":4370074,"accept_rate":100,"display_name":"Amjad Aziz"},"score":0,"creation_date":1667326246,"post_id":74279685,"comment_id":131139883,"body_markdown":"@M.Deinum I have added a different handlers for both parameters using `params` and it worked perfectly. It might be a noob question for you but I was not aware of this :) Thanks man!","body":"@M.Deinum I have added a different handlers for both parameters using <code>params</code> and it worked perfectly. It might be a noob question for you but I was not aware of this :) Thanks man!"},{"owner":{"account_id":5500627,"reputation":113,"user_id":4370074,"accept_rate":100,"display_name":"Amjad Aziz"},"score":0,"creation_date":1667326959,"post_id":74279685,"comment_id":131140112,"body_markdown":"@M.Deinum I have another case, I can receive both parameters. In this case I am getting an exception :) Ambiguous handler methods mapped","body":"@M.Deinum I have another case, I can receive both parameters. In this case I am getting an exception :) Ambiguous handler methods mapped"},{"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"score":0,"creation_date":1667328800,"post_id":74279685,"comment_id":131140635,"body_markdown":"Hey @AmjadAziz can you share a code snippet of your solution to have an overview? Will be helpful","body":"Hey @AmjadAziz can you share a code snippet of your solution to have an overview? Will be helpful"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667372955,"post_id":74279685,"comment_id":131148906,"body_markdown":"If you do both parameters that won&#39;t be possible as, as you noticed, Spring cannot determine which method to call. Instead of using `@RequestParam` you can also manually extract the parameters from the `HttpServletRequest` and do the handling in the method.","body":"If you do both parameters that won&#39;t be possible as, as you noticed, Spring cannot determine which method to call. Instead of using <code>@RequestParam</code> you can also manually extract the parameters from the <code>HttpServletRequest</code> and do the handling in the method."}],"owner":{"account_id":5500627,"reputation":113,"user_id":4370074,"accept_rate":100,"display_name":"Amjad Aziz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667323883,"creation_date":1667323883,"question_id":74279685,"body_markdown":"I have a scenario where I have to rename one required request param. My application is already live. I want to deprecate the existing request param and want to add new request parameter. So my existing applications will be sending me the old request parameter and new application will start to send the new param. \r\nNow I want to add validation, either I can mark both params as required or optional. But my business logic is either of param is required. \r\n\r\nFor example I already have a path parameter `group` and now I want to rename it to `pageGroup`. So either `page` or `pageGroup` is required. \r\n\r\nHow can I achieve it in Spring Boot? Any suggestions are welcome :) ","title":"Dependent RequestParam validation in Spring boot","body":"<p>I have a scenario where I have to rename one required request param. My application is already live. I want to deprecate the existing request param and want to add new request parameter. So my existing applications will be sending me the old request parameter and new application will start to send the new param.\nNow I want to add validation, either I can mark both params as required or optional. But my business logic is either of param is required.</p>\n<p>For example I already have a path parameter <code>group</code> and now I want to rename it to <code>pageGroup</code>. So either <code>page</code> or <code>pageGroup</code> is required.</p>\n<p>How can I achieve it in Spring Boot? Any suggestions are welcome :)</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1667325162,"post_id":74279163,"comment_id":131139526,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":26787481,"reputation":9,"user_id":20381450,"display_name":"disarm9"},"score":0,"creation_date":1667374301,"post_id":74279677,"comment_id":131149265,"body_markdown":"I&#39;ve applied your suggestion, but Toast message says that the new object reads some other value.\n\n(https://drive.google.com/file/d/1d724X1i3LhVN5CPKWBBNew3L1K0oA_Md/view?usp=share_link)","body":"I&#39;ve applied your suggestion, but Toast message says that the new object reads some other value.  (<a href=\"https://drive.google.com/file/d/1d724X1i3LhVN5CPKWBBNew3L1K0oA_Md/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1d724X1i3LhVN5CPKWBBNew3L1K0oA_Md/&hellip;</a>&zwnj;&#8203;)"}],"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667323841,"creation_date":1667323841,"answer_id":74279677,"question_id":74279163,"body_markdown":"I don&#39;t know why you have them scoped to the class instead of scoped to the listener.\r\nI have cleaned up your code and added them as local variables to the listener.\r\n\r\n            shirtBTN.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Chip chip = findViewById(colorCG.getCheckedChipId());\r\n                    String color = chip.getText().toString();\r\n                    int quantity = Integer.parseInt( quantityCOUNTER.getText().toString());\r\n                    float cost = quantity * 150;\r\n                    String type = &quot;SHIRT&quot;;\r\n\r\n                    checkoutSTRUCT.add(new listitem(quantity, color, type, cost));\r\n                    shirtCOUNTER.setText( String.valueOf( getQuantity_Sum(checkoutSTRUCT, type)));\r\n                }\r\n            });\r\n\r\nThis creates new local variables for every click instead of using the same one every time.\r\n\r\nAlso please refer to the java naming conventions, standardized code is very important. For example: &quot;quantityCOUNTER&quot;, &quot;item_cost&quot; &quot;listitem&quot; do not follow the convention.\r\n","title":"How can I reset variables to their default values?","body":"<p>I don't know why you have them scoped to the class instead of scoped to the listener.\nI have cleaned up your code and added them as local variables to the listener.</p>\n<pre><code>        shirtBTN.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Chip chip = findViewById(colorCG.getCheckedChipId());\n                String color = chip.getText().toString();\n                int quantity = Integer.parseInt( quantityCOUNTER.getText().toString());\n                float cost = quantity * 150;\n                String type = &quot;SHIRT&quot;;\n\n                checkoutSTRUCT.add(new listitem(quantity, color, type, cost));\n                shirtCOUNTER.setText( String.valueOf( getQuantity_Sum(checkoutSTRUCT, type)));\n            }\n        });\n</code></pre>\n<p>This creates new local variables for every click instead of using the same one every time.</p>\n<p>Also please refer to the java naming conventions, standardized code is very important. For example: &quot;quantityCOUNTER&quot;, &quot;item_cost&quot; &quot;listitem&quot; do not follow the convention.</p>\n"}],"owner":{"account_id":26787481,"reputation":9,"user_id":20381450,"display_name":"disarm9"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667323841,"creation_date":1667321229,"question_id":74279163,"body_markdown":"I am an IT student in 2nd year. I am making a wholesale app.\r\n\r\nHow it works:\r\n\r\n&gt; First the user browses for an item in the store. The data of a selected item is used to create an object. The object is added to an ArrayList that acts as the user&#39;s cart. This ArrayList and its contemporary data can be seen in a Cart activity and a Receipt/Checkout activity.\r\n&gt;\r\n&gt; Pressing the OK button in the Receipt activity duplicates the arraylist, stores the duplicate in the Order History, finally it clears the original arraylist and goes back to the main menu.\r\n\r\n***Shopping Activity***\r\n\r\n```\r\npackage com.example.wearhouse;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\n\r\nimport java.text.DecimalFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Locale;\r\n\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\n\r\nimport com.google.android.material.chip.Chip;\r\nimport com.google.android.material.chip.ChipGroup;\r\n\r\npublic class encodeActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\r\n    // set defaults\r\n    private String empty_STR = &quot;&quot;;\r\n    private int empty_INT = 0;\r\n    private final static String DEFAULT_STR = null;\r\n    private final static int DEFAULT_INT = 0;\r\n\r\n    /*  For individual orders: These data will be passed to the listitem class  */\r\n    private volatile int item_quantity;\r\n    private volatile String item_type;\r\n    private volatile String item_color;\r\n    /*                                                    */\r\n\r\n\r\n    // represents items in bill\r\n    protected static ArrayList&lt;listitem&gt; checkoutSTRUCT = new ArrayList&lt;&gt;();\r\n\r\n    /* START */\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.layout_encode);\r\n\r\n        TextView shirtCOUNTER, shortsCOUNTER;\r\n        EditText notesENTRY, paymentENTRY, quantityCOUNTER;\r\n        ImageButton shirtBTN, shortsBTN;\r\n        Button decBTN, incBTN, billBTN;\r\n        ChipGroup colorCG;\r\n        RadioGroup sex, sizing;\r\n        Spinner paymodeSPIN, discountSPIN;\r\n\r\n        shirtCOUNTER = (TextView) findViewById(R.id.shirtCOUNTER);\r\n        shortsCOUNTER = (TextView) findViewById(R.id.shortsCOUNTER);\r\n        quantityCOUNTER = (EditText) findViewById(R.id.quantityENTRY);\r\n\r\n        paymentENTRY = (EditText) findViewById(R.id.received_paymentENTRY);\r\n\r\n        try {\r\n            this.getSupportActionBar().hide(); // hide Action bar\r\n            Integer.parseInt(quantityCOUNTER.getText().toString());\r\n\r\n        } catch (NullPointerException e) {\r\n        } catch (NumberFormatException e) {\r\n            quantityCOUNTER.setText(&quot;1&quot;); // set default quantity multiplier\r\n            paymentENTRY.setText( String.valueOf(DEFAULT_INT) );\r\n\r\n        }\r\n\r\n        // widgets\r\n        notesENTRY = (EditText) findViewById(R.id.notesENTRY);\r\n\r\n        decBTN = (Button) findViewById(R.id.decBTN);\r\n        incBTN = (Button) findViewById(R.id.incBTN);\r\n        billBTN = (Button) findViewById(R.id.billBTN);\r\n\r\n        shirtBTN = (ImageButton) findViewById(R.id.shirtBTN);\r\n        shortsBTN = (ImageButton) findViewById(R.id.shortsBTN);\r\n\r\n        sex = (RadioGroup) findViewById(R.id.sexRG);\r\n        sizing = (RadioGroup) findViewById(R.id.sizeRG);\r\n\r\n        colorCG = (ChipGroup) findViewById(R.id.colorCG);\r\n\r\n        paymodeSPIN = (Spinner) findViewById(R.id.paymode);\r\n        discountSPIN = (Spinner) findViewById(R.id.discountSPIN);\r\n\r\n        // mode of payment\r\n        ArrayAdapter&lt;CharSequence&gt; adapterPM = ArrayAdapter.createFromResource(this, R.array.payMode, android.R.layout.simple_spinner_dropdown_item);\r\n        adapterPM.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        paymodeSPIN.setAdapter(adapterPM);\r\n\r\n        // discount\r\n        ArrayAdapter&lt;CharSequence&gt; adapterDS = ArrayAdapter.createFromResource(this, R.array.discountMode, android.R.layout.simple_spinner_dropdown_item);\r\n        adapterDS.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        discountSPIN.setAdapter(adapterDS);\r\n\r\n        // listeners\r\n        {\r\n            sex.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup radioGroup, int checkedR) {\r\n                    checkedR = sex.getCheckedRadioButtonId();\r\n                    RadioButton temp = findViewById(checkedR);\r\n\r\n                    Toast.makeText(getApplicationContext(), &quot;Selected &quot; + temp.getText(), Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            });\r\n\r\n            sizing.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(RadioGroup radioGroup, int checkedR) {\r\n                    checkedR = sizing.getCheckedRadioButtonId();\r\n                    RadioButton temp = findViewById(checkedR);\r\n\r\n                    Toast.makeText(getApplicationContext(), &quot;Size &quot; + temp.getText(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n            shirtBTN.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    final Chip tempCHIP;\r\n                    final int tempCOLOR;\r\n                    final float item_cost;\r\n\r\n                    // get selected color\r\n                    tempCOLOR = colorCG.getCheckedChipId();\r\n                    tempCHIP = findViewById(tempCOLOR);\r\n                    item_color = (String) tempCHIP.getText();\r\n\r\n                    // get selected quantity\r\n                    item_quantity = Integer.parseInt( quantityCOUNTER.getText().toString() );\r\n                    System.out.println(&quot;item_quantity: &quot; + item_quantity);\r\n\r\n                    // get cost based on quantity\r\n                    item_cost = item_quantity * 150;\r\n\r\n                    item_type = &quot;SHIRT&quot;;\r\n                    System.out.println(&quot;item_type: &quot; + item_type);\r\n\r\n                    // add to cart\r\n                    checkoutSTRUCT.add(new listitem(item_quantity, item_color, item_type, item_cost));\r\n                    Toast.makeText(getApplicationContext(), getCount(checkoutSTRUCT, item_type) + &quot; &quot; + item_type, Toast.LENGTH_SHORT).show();\r\n\r\n                    // update counter\r\n                    shirtCOUNTER.setText( String.valueOf( getQuantity_Sum(checkoutSTRUCT, item_type) ) );\r\n\r\n                    // reset values\r\n                    // FIXME this does not work; find another way to clear @item_quantity, @item_color, and @item_type\r\n                    item_quantity = empty_INT;\r\n                    item_color = empty_STR;\r\n                    item_type = empty_STR;\r\n                }\r\n            });\r\n\r\n            shortsBTN.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    final Chip tempCHIP;\r\n                    final int tempCOLOR;\r\n                    final float item_cost;\r\n\r\n\r\n                    System.out.println(&quot;item_color&quot; + item_color);\r\n\r\n                    // get selected color\r\n                    tempCOLOR = colorCG.getCheckedChipId();\r\n                    tempCHIP = findViewById(tempCOLOR);\r\n                    item_color = (String) tempCHIP.getText();\r\n\r\n                    // get selected quantity\r\n                    System.out.println(&quot;item_quantity: &quot; + item_quantity);\r\n                    item_quantity = Integer.parseInt( quantityCOUNTER.getText().toString() );\r\n\r\n                    // get cost based on quantity\r\n                    item_cost = item_quantity * 150;\r\n\r\n                    System.out.println(&quot;item_type: &quot; + item_type);\r\n                    item_type = &quot;SHORTS&quot;;\r\n\r\n                    // add to cart\r\n                    checkoutSTRUCT.add(new listitem(item_quantity, item_color, item_type, item_cost));\r\n                    System.out.println(&quot;expected: &quot;);\r\n                    System.out.println(&quot;item_color&quot; + item_color);\r\n                    System.out.println(&quot;item_quantity: &quot; + item_quantity);\r\n                    System.out.println(&quot;item_type: &quot; + item_type);\r\n\r\n                    Toast.makeText(getApplicationContext(), getCount(checkoutSTRUCT, item_type) + &quot; &quot; + item_type, Toast.LENGTH_SHORT).show();\r\n\r\n                    shortsCOUNTER.setText(String.valueOf( getQuantity_Sum(checkoutSTRUCT, item_type) ));\r\n\r\n                    // reset values\r\n                    item_quantity = empty_INT;\r\n                    item_color = empty_STR;\r\n                    item_type = empty_STR;\r\n                }\r\n            });\r\n\r\n            decBTN.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    try {\r\n\r\n                        String x = String.valueOf(quantityCOUNTER.getText());\r\n\r\n\r\n                        int value = Integer.parseInt(x);\r\n                        if (value &gt; 1)\r\n                            value--;\r\n\r\n                        String valueSTR = String.valueOf(value);\r\n                        quantityCOUNTER.setText(valueSTR);\r\n\r\n                    } catch (NumberFormatException e) {\r\n                        quantityCOUNTER.setText(&quot;1&quot;);\r\n                        decBTN.setEnabled(false);\r\n                    }\r\n                }\r\n            });\r\n\r\n            incBTN.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    try {\r\n                        String x = String.valueOf(quantityCOUNTER.getText());\r\n\r\n                        int value = Integer.parseInt(x);\r\n                        value++;\r\n\r\n                        String valueSTR = String.valueOf(value);\r\n                        quantityCOUNTER.setText(valueSTR);\r\n\r\n                    } catch (NumberFormatException e) {\r\n                        quantityCOUNTER.setText(&quot;1&quot;);\r\n                        decBTN.setEnabled(false);\r\n                    }\r\n                }\r\n            });\r\n\r\n            billBTN.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String payment_mode = String.valueOf(paymodeSPIN.getSelectedItem());\r\n\r\n                    // open gcash app if GCash is selected\r\n                    if (payment_mode.equals(&quot;GCash&quot;)) {\r\n                        makeGCASH();\r\n                    }\r\n\r\n                    if (payment_mode.equals(&quot;In-person&quot;)) {\r\n                        makeBill();\r\n                    }\r\n                }\r\n            });\r\n\r\n            paymodeSPIN.setOnItemSelectedListener(this);\r\n\r\n            discountSPIN.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                // save and pass spinner ITEM SELECTED data\r\n                private final SharedPreferences dataLOCAL = getSharedPreferences(&quot;MySavedData&quot;, MODE_PRIVATE);\r\n                private final SharedPreferences.Editor dataEDIT = dataLOCAL.edit();\r\n\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\r\n                    String discountSELECTED = String.valueOf(discountSPIN.getSelectedItem());\r\n                    float discountPERCENT;\r\n                    double toPERCENT = 0.01f;\r\n\r\n\r\n                    switch (discountSELECTED) {\r\n                        case &quot;SENIOR CITIZEN/PWD&quot;:\r\n                        case &quot;STUDENT&quot;:\r\n                            Toast.makeText(encodeActivity.this, &quot;20% OFF&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                            discountPERCENT = (float) (20 * toPERCENT);\r\n\r\n                            dataEDIT.putFloat(&quot;data_discount&quot;, discountPERCENT);\r\n                            dataEDIT.commit();\r\n\r\n                            break;\r\n\r\n                        case &quot;OFW/BALIKBAYAN&quot;:\r\n                            Toast.makeText(encodeActivity.this, &quot;10% OFF&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                            discountPERCENT = (float) (10 * toPERCENT);\r\n\r\n                            dataEDIT.putFloat(&quot;data_discount&quot;, discountPERCENT);\r\n                            dataEDIT.commit();\r\n\r\n                            break;\r\n\r\n                        case &quot;NONE&quot;:\r\n                            discountPERCENT = (0);\r\n                            dataEDIT.putFloat(&quot;data_discount&quot;, discountPERCENT);\r\n                            dataEDIT.commit();\r\n\r\n                            break;\r\n\r\n                        default:\r\n                            Toast.makeText(encodeActivity.this, &quot;!! discount NOT FOUND&quot;, Toast.LENGTH_SHORT).show();\r\n                            break;\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    /* Generic Listeners */\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int i, long l) {\r\n        String text = parent.getItemAtPosition(i).toString();\r\n        //Toast.makeText(parent.getContext(), text + &quot;DISCOUNT&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    public void onRadioButtonClicked(View v) {\r\n        // generic radiobutton listener\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n    }\r\n\r\n    /* Custom Methods */\r\n\r\n    // open another app to make cashless payment\r\n    private void makeGCASH() {\r\n        Toast.makeText(getApplicationContext(), &quot;Paying GCash&quot;, Toast.LENGTH_SHORT).show();\r\n        // com.globe.gcash.android\r\n        Intent my_intent = getPackageManager().getLaunchIntentForPackage(&quot;com.globe.gcash.android&quot;);\r\n        startActivity(my_intent);\r\n    }\r\n\r\n    // go to the bill\r\n    private void makeBill() {\r\n        float amt_received;\r\n        EditText paymentENTRY;\r\n\r\n        paymentENTRY = findViewById(R.id.received_paymentENTRY);\r\n        amt_received = Float.parseFloat(paymentENTRY.getText().toString());\r\n\r\n        Intent my_intent = new Intent(this, billActivity.class);\r\n        my_intent.putExtra(&quot;received_amt&quot;, amt_received);\r\n        startActivity(my_intent);\r\n    }\r\n\r\n    // get instances of object types\r\n    private int getCount(ArrayList&lt;listitem&gt; cart, String type){\r\n\r\n        int count = 0;\r\n        for (int i = 0; i &lt; cart.size(); i++) {\r\n            if ( cart.get(i).GETtype_listitem().equals( type ) )\r\n            { count++; }\r\n        }\r\n\r\n        return count;\r\n    }\r\n\r\n    private int getQuantity_Sum(ArrayList&lt;listitem&gt; cart, String type){\r\n\r\n        int tempSum= 0;\r\n        for (int i = 0;\r\n\r\n             i &lt; cart.size()\r\n             &amp;&amp;\r\n             cart.get(i).GETtype_listitem().equals( type );\r\n\r\n             i++\r\n        )\r\n        { tempSum = tempSum + cart.get(i).GETqty_listitem(); }\r\n\r\n        return tempSum;\r\n    }\r\n    \r\n}\r\n```\r\n\r\n----------\r\n\r\n[![enter image description here](https://i.stack.imgur.com/7IiAP.png)](https://i.stack.imgur.com/7IiAP.png)\r\n\r\nIn my first attempt, the onclick event will create duplicate orders if I change the color.\r\n\r\n![This was my first attempt at implementing functionality](https://i.stack.imgur.com/wMYaS.png &quot;Attempt #1&quot;)\r\n\r\nThe second attempt failed because it adds an item with 0 quantity attribute, and I need to click on the item button more than once to actually change its respective counter\r\n\r\nThis is what happens when I click once\r\n\r\n![This is what happens when I click once](https://i.stack.imgur.com/qwyf3.png &quot;Attempt #2 (1/3)&quot;)\r\n\r\nThis is what happen when I click 3 times.\r\n\r\n![This is what happen when I click 3 times.](https://i.stack.imgur.com/2d77R.png &quot;Attempt #2 (2/3)&quot;)\r\n\r\nResult:\r\n\r\n![This is the end result](https://i.stack.imgur.com/MRDgA.png &quot;Attempt #2 (3/3)&quot;)\r\n\r\nHow can I reset the `item_quantity`, `item_color`, and `item_type` variables so that a new object does not read the attributes of a previous object?","title":"How can I reset variables to their default values?","body":"<p>I am an IT student in 2nd year. I am making a wholesale app.</p>\n<p>How it works:</p>\n<blockquote>\n<p>First the user browses for an item in the store. The data of a selected item is used to create an object. The object is added to an ArrayList that acts as the user's cart. This ArrayList and its contemporary data can be seen in a Cart activity and a Receipt/Checkout activity.</p>\n<p>Pressing the OK button in the Receipt activity duplicates the arraylist, stores the duplicate in the Order History, finally it clears the original arraylist and goes back to the main menu.</p>\n</blockquote>\n<p><em><strong>Shopping Activity</strong></em></p>\n<pre><code>package com.example.wearhouse;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.navigation.ui.AppBarConfiguration;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\n\nimport java.text.DecimalFormat;\nimport java.util.ArrayList;\nimport java.util.Locale;\n\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n\nimport com.google.android.material.chip.Chip;\nimport com.google.android.material.chip.ChipGroup;\n\npublic class encodeActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\n    // set defaults\n    private String empty_STR = &quot;&quot;;\n    private int empty_INT = 0;\n    private final static String DEFAULT_STR = null;\n    private final static int DEFAULT_INT = 0;\n\n    /*  For individual orders: These data will be passed to the listitem class  */\n    private volatile int item_quantity;\n    private volatile String item_type;\n    private volatile String item_color;\n    /*                                                    */\n\n\n    // represents items in bill\n    protected static ArrayList&lt;listitem&gt; checkoutSTRUCT = new ArrayList&lt;&gt;();\n\n    /* START */\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.layout_encode);\n\n        TextView shirtCOUNTER, shortsCOUNTER;\n        EditText notesENTRY, paymentENTRY, quantityCOUNTER;\n        ImageButton shirtBTN, shortsBTN;\n        Button decBTN, incBTN, billBTN;\n        ChipGroup colorCG;\n        RadioGroup sex, sizing;\n        Spinner paymodeSPIN, discountSPIN;\n\n        shirtCOUNTER = (TextView) findViewById(R.id.shirtCOUNTER);\n        shortsCOUNTER = (TextView) findViewById(R.id.shortsCOUNTER);\n        quantityCOUNTER = (EditText) findViewById(R.id.quantityENTRY);\n\n        paymentENTRY = (EditText) findViewById(R.id.received_paymentENTRY);\n\n        try {\n            this.getSupportActionBar().hide(); // hide Action bar\n            Integer.parseInt(quantityCOUNTER.getText().toString());\n\n        } catch (NullPointerException e) {\n        } catch (NumberFormatException e) {\n            quantityCOUNTER.setText(&quot;1&quot;); // set default quantity multiplier\n            paymentENTRY.setText( String.valueOf(DEFAULT_INT) );\n\n        }\n\n        // widgets\n        notesENTRY = (EditText) findViewById(R.id.notesENTRY);\n\n        decBTN = (Button) findViewById(R.id.decBTN);\n        incBTN = (Button) findViewById(R.id.incBTN);\n        billBTN = (Button) findViewById(R.id.billBTN);\n\n        shirtBTN = (ImageButton) findViewById(R.id.shirtBTN);\n        shortsBTN = (ImageButton) findViewById(R.id.shortsBTN);\n\n        sex = (RadioGroup) findViewById(R.id.sexRG);\n        sizing = (RadioGroup) findViewById(R.id.sizeRG);\n\n        colorCG = (ChipGroup) findViewById(R.id.colorCG);\n\n        paymodeSPIN = (Spinner) findViewById(R.id.paymode);\n        discountSPIN = (Spinner) findViewById(R.id.discountSPIN);\n\n        // mode of payment\n        ArrayAdapter&lt;CharSequence&gt; adapterPM = ArrayAdapter.createFromResource(this, R.array.payMode, android.R.layout.simple_spinner_dropdown_item);\n        adapterPM.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        paymodeSPIN.setAdapter(adapterPM);\n\n        // discount\n        ArrayAdapter&lt;CharSequence&gt; adapterDS = ArrayAdapter.createFromResource(this, R.array.discountMode, android.R.layout.simple_spinner_dropdown_item);\n        adapterDS.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        discountSPIN.setAdapter(adapterDS);\n\n        // listeners\n        {\n            sex.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n                @Override\n                public void onCheckedChanged(RadioGroup radioGroup, int checkedR) {\n                    checkedR = sex.getCheckedRadioButtonId();\n                    RadioButton temp = findViewById(checkedR);\n\n                    Toast.makeText(getApplicationContext(), &quot;Selected &quot; + temp.getText(), Toast.LENGTH_SHORT).show();\n\n                }\n            });\n\n            sizing.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n                @Override\n                public void onCheckedChanged(RadioGroup radioGroup, int checkedR) {\n                    checkedR = sizing.getCheckedRadioButtonId();\n                    RadioButton temp = findViewById(checkedR);\n\n                    Toast.makeText(getApplicationContext(), &quot;Size &quot; + temp.getText(), Toast.LENGTH_SHORT).show();\n                }\n            });\n\n            shirtBTN.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    final Chip tempCHIP;\n                    final int tempCOLOR;\n                    final float item_cost;\n\n                    // get selected color\n                    tempCOLOR = colorCG.getCheckedChipId();\n                    tempCHIP = findViewById(tempCOLOR);\n                    item_color = (String) tempCHIP.getText();\n\n                    // get selected quantity\n                    item_quantity = Integer.parseInt( quantityCOUNTER.getText().toString() );\n                    System.out.println(&quot;item_quantity: &quot; + item_quantity);\n\n                    // get cost based on quantity\n                    item_cost = item_quantity * 150;\n\n                    item_type = &quot;SHIRT&quot;;\n                    System.out.println(&quot;item_type: &quot; + item_type);\n\n                    // add to cart\n                    checkoutSTRUCT.add(new listitem(item_quantity, item_color, item_type, item_cost));\n                    Toast.makeText(getApplicationContext(), getCount(checkoutSTRUCT, item_type) + &quot; &quot; + item_type, Toast.LENGTH_SHORT).show();\n\n                    // update counter\n                    shirtCOUNTER.setText( String.valueOf( getQuantity_Sum(checkoutSTRUCT, item_type) ) );\n\n                    // reset values\n                    // FIXME this does not work; find another way to clear @item_quantity, @item_color, and @item_type\n                    item_quantity = empty_INT;\n                    item_color = empty_STR;\n                    item_type = empty_STR;\n                }\n            });\n\n            shortsBTN.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    final Chip tempCHIP;\n                    final int tempCOLOR;\n                    final float item_cost;\n\n\n                    System.out.println(&quot;item_color&quot; + item_color);\n\n                    // get selected color\n                    tempCOLOR = colorCG.getCheckedChipId();\n                    tempCHIP = findViewById(tempCOLOR);\n                    item_color = (String) tempCHIP.getText();\n\n                    // get selected quantity\n                    System.out.println(&quot;item_quantity: &quot; + item_quantity);\n                    item_quantity = Integer.parseInt( quantityCOUNTER.getText().toString() );\n\n                    // get cost based on quantity\n                    item_cost = item_quantity * 150;\n\n                    System.out.println(&quot;item_type: &quot; + item_type);\n                    item_type = &quot;SHORTS&quot;;\n\n                    // add to cart\n                    checkoutSTRUCT.add(new listitem(item_quantity, item_color, item_type, item_cost));\n                    System.out.println(&quot;expected: &quot;);\n                    System.out.println(&quot;item_color&quot; + item_color);\n                    System.out.println(&quot;item_quantity: &quot; + item_quantity);\n                    System.out.println(&quot;item_type: &quot; + item_type);\n\n                    Toast.makeText(getApplicationContext(), getCount(checkoutSTRUCT, item_type) + &quot; &quot; + item_type, Toast.LENGTH_SHORT).show();\n\n                    shortsCOUNTER.setText(String.valueOf( getQuantity_Sum(checkoutSTRUCT, item_type) ));\n\n                    // reset values\n                    item_quantity = empty_INT;\n                    item_color = empty_STR;\n                    item_type = empty_STR;\n                }\n            });\n\n            decBTN.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    try {\n\n                        String x = String.valueOf(quantityCOUNTER.getText());\n\n\n                        int value = Integer.parseInt(x);\n                        if (value &gt; 1)\n                            value--;\n\n                        String valueSTR = String.valueOf(value);\n                        quantityCOUNTER.setText(valueSTR);\n\n                    } catch (NumberFormatException e) {\n                        quantityCOUNTER.setText(&quot;1&quot;);\n                        decBTN.setEnabled(false);\n                    }\n                }\n            });\n\n            incBTN.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    try {\n                        String x = String.valueOf(quantityCOUNTER.getText());\n\n                        int value = Integer.parseInt(x);\n                        value++;\n\n                        String valueSTR = String.valueOf(value);\n                        quantityCOUNTER.setText(valueSTR);\n\n                    } catch (NumberFormatException e) {\n                        quantityCOUNTER.setText(&quot;1&quot;);\n                        decBTN.setEnabled(false);\n                    }\n                }\n            });\n\n            billBTN.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    String payment_mode = String.valueOf(paymodeSPIN.getSelectedItem());\n\n                    // open gcash app if GCash is selected\n                    if (payment_mode.equals(&quot;GCash&quot;)) {\n                        makeGCASH();\n                    }\n\n                    if (payment_mode.equals(&quot;In-person&quot;)) {\n                        makeBill();\n                    }\n                }\n            });\n\n            paymodeSPIN.setOnItemSelectedListener(this);\n\n            discountSPIN.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n                // save and pass spinner ITEM SELECTED data\n                private final SharedPreferences dataLOCAL = getSharedPreferences(&quot;MySavedData&quot;, MODE_PRIVATE);\n                private final SharedPreferences.Editor dataEDIT = dataLOCAL.edit();\n\n                @Override\n                public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n                    String discountSELECTED = String.valueOf(discountSPIN.getSelectedItem());\n                    float discountPERCENT;\n                    double toPERCENT = 0.01f;\n\n\n                    switch (discountSELECTED) {\n                        case &quot;SENIOR CITIZEN/PWD&quot;:\n                        case &quot;STUDENT&quot;:\n                            Toast.makeText(encodeActivity.this, &quot;20% OFF&quot;, Toast.LENGTH_SHORT).show();\n\n                            discountPERCENT = (float) (20 * toPERCENT);\n\n                            dataEDIT.putFloat(&quot;data_discount&quot;, discountPERCENT);\n                            dataEDIT.commit();\n\n                            break;\n\n                        case &quot;OFW/BALIKBAYAN&quot;:\n                            Toast.makeText(encodeActivity.this, &quot;10% OFF&quot;, Toast.LENGTH_SHORT).show();\n\n                            discountPERCENT = (float) (10 * toPERCENT);\n\n                            dataEDIT.putFloat(&quot;data_discount&quot;, discountPERCENT);\n                            dataEDIT.commit();\n\n                            break;\n\n                        case &quot;NONE&quot;:\n                            discountPERCENT = (0);\n                            dataEDIT.putFloat(&quot;data_discount&quot;, discountPERCENT);\n                            dataEDIT.commit();\n\n                            break;\n\n                        default:\n                            Toast.makeText(encodeActivity.this, &quot;!! discount NOT FOUND&quot;, Toast.LENGTH_SHORT).show();\n                            break;\n                    }\n                }\n\n                @Override\n                public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n                }\n            });\n        }\n\n    }\n\n    /* Generic Listeners */\n    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int i, long l) {\n        String text = parent.getItemAtPosition(i).toString();\n        //Toast.makeText(parent.getContext(), text + &quot;DISCOUNT&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    public void onRadioButtonClicked(View v) {\n        // generic radiobutton listener\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n    }\n\n    /* Custom Methods */\n\n    // open another app to make cashless payment\n    private void makeGCASH() {\n        Toast.makeText(getApplicationContext(), &quot;Paying GCash&quot;, Toast.LENGTH_SHORT).show();\n        // com.globe.gcash.android\n        Intent my_intent = getPackageManager().getLaunchIntentForPackage(&quot;com.globe.gcash.android&quot;);\n        startActivity(my_intent);\n    }\n\n    // go to the bill\n    private void makeBill() {\n        float amt_received;\n        EditText paymentENTRY;\n\n        paymentENTRY = findViewById(R.id.received_paymentENTRY);\n        amt_received = Float.parseFloat(paymentENTRY.getText().toString());\n\n        Intent my_intent = new Intent(this, billActivity.class);\n        my_intent.putExtra(&quot;received_amt&quot;, amt_received);\n        startActivity(my_intent);\n    }\n\n    // get instances of object types\n    private int getCount(ArrayList&lt;listitem&gt; cart, String type){\n\n        int count = 0;\n        for (int i = 0; i &lt; cart.size(); i++) {\n            if ( cart.get(i).GETtype_listitem().equals( type ) )\n            { count++; }\n        }\n\n        return count;\n    }\n\n    private int getQuantity_Sum(ArrayList&lt;listitem&gt; cart, String type){\n\n        int tempSum= 0;\n        for (int i = 0;\n\n             i &lt; cart.size()\n             &amp;&amp;\n             cart.get(i).GETtype_listitem().equals( type );\n\n             i++\n        )\n        { tempSum = tempSum + cart.get(i).GETqty_listitem(); }\n\n        return tempSum;\n    }\n    \n}\n</code></pre>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/7IiAP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7IiAP.png\" alt=\"enter image description here\" /></a></p>\n<p>In my first attempt, the onclick event will create duplicate orders if I change the color.</p>\n<p><img src=\"https://i.stack.imgur.com/wMYaS.png\" alt=\"This was my first attempt at implementing functionality\" title=\"Attempt #1\" /></p>\n<p>The second attempt failed because it adds an item with 0 quantity attribute, and I need to click on the item button more than once to actually change its respective counter</p>\n<p>This is what happens when I click once</p>\n<p><img src=\"https://i.stack.imgur.com/qwyf3.png\" alt=\"This is what happens when I click once\" title=\"Attempt #2 (1/3)\" /></p>\n<p>This is what happen when I click 3 times.</p>\n<p><img src=\"https://i.stack.imgur.com/2d77R.png\" alt=\"This is what happen when I click 3 times.\" title=\"Attempt #2 (2/3)\" /></p>\n<p>Result:</p>\n<p><img src=\"https://i.stack.imgur.com/MRDgA.png\" alt=\"This is the end result\" title=\"Attempt #2 (3/3)\" /></p>\n<p>How can I reset the <code>item_quantity</code>, <code>item_color</code>, and <code>item_type</code> variables so that a new object does not read the attributes of a previous object?</p>\n"},{"tags":["java","oauth-2.0"],"answers":[{"comments":[{"owner":{"account_id":11080845,"reputation":11,"user_id":8136055,"display_name":"Dario"},"score":0,"creation_date":1667461165,"post_id":74279642,"comment_id":131173090,"body_markdown":"Thank you for the prompt answer. I need to authorize for Microsoft O365 mail. Is there maybe any example for such setup?","body":"Thank you for the prompt answer. I need to authorize for Microsoft O365 mail. Is there maybe any example for such setup?"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667323648,"creation_date":1667323648,"answer_id":74279642,"question_id":74276984,"body_markdown":"Why not using one of Spring REST clients which can handle OAuth2 out of the box?\r\n\r\nAll of `@FeignClient`, `RestTemplate` and `WebClient` expose configuration properties for acquiring access-token from OAuth2 authorization-server using client-credentials (or directly set authorization header if you are processing an authorized request and want to forward incoming access-token).\r\n\r\nChoose one of existing clients and read its manual. ","title":"O365 Modern authentication with Java Spring Context","body":"<p>Why not using one of Spring REST clients which can handle OAuth2 out of the box?</p>\n<p>All of <code>@FeignClient</code>, <code>RestTemplate</code> and <code>WebClient</code> expose configuration properties for acquiring access-token from OAuth2 authorization-server using client-credentials (or directly set authorization header if you are processing an authorized request and want to forward incoming access-token).</p>\n<p>Choose one of existing clients and read its manual.</p>\n"}],"owner":{"account_id":11080845,"reputation":11,"user_id":8136055,"display_name":"Dario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667323648,"creation_date":1667310714,"question_id":74276984,"body_markdown":"I have to use oAuth2 &quot;modern authentication&quot; in Java Spring Context and found [here](https://stackoverflow.com/questions/28424550/ews-java-apis-using-oauth2). Java code I could use.\r\n\r\nThe getAccessToken() method has however a parameter of type ```ManagedExecutorService``` and I don&#39;t have any idea, what kind of value it should be.\r\n\r\nHere is the code:\r\n\r\n```\r\n@Override\r\npublic String getAccessToken(final String clientId, final String clientSecret, final ManagedExecutorService service)\r\n        throws MalformedURLException, ExecutionException, InterruptedException, TimeoutException {\r\n    final long now = System.currentTimeMillis();\r\n    if (accessToken != null &amp;&amp; now &lt; expiryTimeMs - REFRESH_BEFORE_EXPIRY_MS) {\r\n\r\n        final AuthenticationContext context = new AuthenticationContext(AUTHORITY, false, service);\r\n        final AuthenticationCallback&lt;AuthenticationResult&gt; callback = new AuthenticationCallback&lt;&gt;() {\r\n\r\n            @Override\r\n            public void onSuccess(final AuthenticationResult result) {\r\n                log.info(&quot;received token&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(final Throwable exc) {\r\n                throw new RuntimeException(exc);\r\n            }\r\n        };\r\n\r\n        log.info(&quot;requesting token&quot;);\r\n        final Future&lt;AuthenticationResult&gt; future = context.acquireToken(RESOUCE,\r\n                new ClientCredential(clientId, clientSecret), callback);\r\n\r\n        // wait for access token\r\n        final AuthenticationResult result = future.get(30, TimeUnit.SECONDS);\r\n\r\n        // cache token and expiration\r\n        accessToken = result.getAccessToken();\r\n        expiryTimeMs = result.getExpiresAfter();\r\n    }\r\n\r\n    return accessToken;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI put already all necessary dependencies into the project but can&#39;t test the method until I know what ```ManagedExecutorService```is and where do I get the parameter from.","title":"O365 Modern authentication with Java Spring Context","body":"<p>I have to use oAuth2 &quot;modern authentication&quot; in Java Spring Context and found <a href=\"https://stackoverflow.com/questions/28424550/ews-java-apis-using-oauth2\">here</a>. Java code I could use.</p>\n<p>The getAccessToken() method has however a parameter of type <code>ManagedExecutorService</code> and I don't have any idea, what kind of value it should be.</p>\n<p>Here is the code:</p>\n<pre><code>@Override\npublic String getAccessToken(final String clientId, final String clientSecret, final ManagedExecutorService service)\n        throws MalformedURLException, ExecutionException, InterruptedException, TimeoutException {\n    final long now = System.currentTimeMillis();\n    if (accessToken != null &amp;&amp; now &lt; expiryTimeMs - REFRESH_BEFORE_EXPIRY_MS) {\n\n        final AuthenticationContext context = new AuthenticationContext(AUTHORITY, false, service);\n        final AuthenticationCallback&lt;AuthenticationResult&gt; callback = new AuthenticationCallback&lt;&gt;() {\n\n            @Override\n            public void onSuccess(final AuthenticationResult result) {\n                log.info(&quot;received token&quot;);\n            }\n\n            @Override\n            public void onFailure(final Throwable exc) {\n                throw new RuntimeException(exc);\n            }\n        };\n\n        log.info(&quot;requesting token&quot;);\n        final Future&lt;AuthenticationResult&gt; future = context.acquireToken(RESOUCE,\n                new ClientCredential(clientId, clientSecret), callback);\n\n        // wait for access token\n        final AuthenticationResult result = future.get(30, TimeUnit.SECONDS);\n\n        // cache token and expiration\n        accessToken = result.getAccessToken();\n        expiryTimeMs = result.getExpiresAfter();\n    }\n\n    return accessToken;\n}\n</code></pre>\n<p>I put already all necessary dependencies into the project but can't test the method until I know what <code>ManagedExecutorService</code>is and where do I get the parameter from.</p>\n"},{"tags":["java","json","jackson","objectmapper"],"comments":[{"owner":{"account_id":2545112,"reputation":1873,"user_id":2210064,"accept_rate":80,"display_name":"Rajesh Hatwar"},"score":0,"creation_date":1477379466,"post_id":40233275,"comment_id":67729492,"body_markdown":"Have a look http://stackoverflow.com/questions/12583638/when-is-the-jsonproperty-property-used-and-what-is-it-used-for","body":"Have a look <a href=\"http://stackoverflow.com/questions/12583638/when-is-the-jsonproperty-property-used-and-what-is-it-used-for\" title=\"when is the jsonproperty property used and what is it used for\">stackoverflow.com/questions/12583638/&hellip;</a>"},{"owner":{"account_id":2545112,"reputation":1873,"user_id":2210064,"accept_rate":80,"display_name":"Rajesh Hatwar"},"score":0,"creation_date":1477379661,"post_id":40233275,"comment_id":67729603,"body_markdown":"this link might help you http://websystique.com/java/json/jackson-json-annotations-example/","body":"this link might help you <a href=\"http://websystique.com/java/json/jackson-json-annotations-example/\" rel=\"nofollow noreferrer\">websystique.com/java/json/jackson-json-annotations-example</a>"},{"owner":{"account_id":3963644,"reputation":589,"user_id":3270198,"accept_rate":67,"display_name":"Swaraj"},"score":0,"creation_date":1477379971,"post_id":40233275,"comment_id":67729763,"body_markdown":"The problem is that json can vary call to call so snakecase can be camelcase format","body":"The problem is that json can vary call to call so snakecase can be camelcase format"}],"answers":[{"comments":[{"owner":{"account_id":3963644,"reputation":589,"user_id":3270198,"accept_rate":67,"display_name":"Swaraj"},"score":0,"creation_date":1477380057,"post_id":40233582,"comment_id":67729818,"body_markdown":"Thanks, but i have different requirement, I have edited the question.","body":"Thanks, but i have different requirement, I have edited the question."},{"owner":{"account_id":3920628,"reputation":1259,"user_id":3247467,"display_name":"kjsebastian"},"score":0,"creation_date":1477380270,"post_id":40233582,"comment_id":67729937,"body_markdown":"In that case, you would either have to 1) map to two different classes and combine manually, or 2) fix the schema of your json. I don&#39;t think changing/inconsistent property names could be mapped effortlessly","body":"In that case, you would either have to 1) map to two different classes and combine manually, or 2) fix the schema of your json. I don&#39;t think changing/inconsistent property names could be mapped effortlessly"},{"owner":{"account_id":3963644,"reputation":589,"user_id":3270198,"accept_rate":67,"display_name":"Swaraj"},"score":0,"creation_date":1477380409,"post_id":40233582,"comment_id":67730011,"body_markdown":"Is there any class which is used during readValue method where I can modify property name to camelcase usinng my class","body":"Is there any class which is used during readValue method where I can modify property name to camelcase usinng my class"}],"tags":[],"owner":{"account_id":3920628,"reputation":1259,"user_id":3247467,"display_name":"kjsebastian"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477379565,"creation_date":1477379565,"answer_id":40233582,"question_id":40233275,"body_markdown":"Use jackson-annotations library and add `@JsonProperty` as below.\r\n\r\n    class MyClass {\r\n      public String tableKey;\r\n      @JsonProperty(&quot;not_allowed_pwd&quot;)\r\n      public Integer notAllowedPwd;\r\n    }","title":"How to deserialize multiple cases with Jackson","body":"<p>Use jackson-annotations library and add <code>@JsonProperty</code> as below.</p>\n\n<pre><code>class MyClass {\n  public String tableKey;\n  @JsonProperty(\"not_allowed_pwd\")\n  public Integer notAllowedPwd;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4030439,"reputation":647,"user_id":3316764,"display_name":"Franjavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477382000,"creation_date":1477382000,"answer_id":40234331,"question_id":40233275,"body_markdown":"You can have a second setter with a `@JsonProperty` annotation for the second field name:\r\n\r\n    class MyClass {\r\n        private String tableKey;\r\n        private Integer notAllowedPwd;\r\n\r\n        public String getTableKey() {\r\n            return tableKey;\r\n        }\r\n\r\n        public void setTableKey(String tableKey) {\r\n            this.tableKey = tableKey;\r\n        }\r\n\r\n        public Integer getNotAllowedPwd() {\r\n            return notAllowedPwd;\r\n        }\r\n\r\n        public void setNotAllowedPwd(Integer notAllowedPwd) {\r\n            this.notAllowedPwd = notAllowedPwd;\r\n        }\r\n\r\n        @JsonProperty(&quot;not_allowed_pwd&quot;)\r\n        public void setNotAllowedPwd2(Integer notAllowedPwd) {\r\n            this.notAllowedPwd = notAllowedPwd;\r\n        }\r\n    }\r\n\r\nTake into consideration that if the two properties are present in the json, they will be overwritten.","title":"How to deserialize multiple cases with Jackson","body":"<p>You can have a second setter with a <code>@JsonProperty</code> annotation for the second field name:</p>\n\n<pre><code>class MyClass {\n    private String tableKey;\n    private Integer notAllowedPwd;\n\n    public String getTableKey() {\n        return tableKey;\n    }\n\n    public void setTableKey(String tableKey) {\n        this.tableKey = tableKey;\n    }\n\n    public Integer getNotAllowedPwd() {\n        return notAllowedPwd;\n    }\n\n    public void setNotAllowedPwd(Integer notAllowedPwd) {\n        this.notAllowedPwd = notAllowedPwd;\n    }\n\n    @JsonProperty(\"not_allowed_pwd\")\n    public void setNotAllowedPwd2(Integer notAllowedPwd) {\n        this.notAllowedPwd = notAllowedPwd;\n    }\n}\n</code></pre>\n\n<p>Take into consideration that if the two properties are present in the json, they will be overwritten.</p>\n"},{"tags":[],"owner":{"account_id":13715019,"reputation":1,"user_id":9896324,"display_name":"Дмитрий Дедов"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667323450,"creation_date":1667323450,"answer_id":74279610,"question_id":40233275,"body_markdown":"Use these annotations on field:\r\n```\r\n@JsonProperty(&quot;not_allowed_pwd&quot;)\r\n@JsonAlias(&quot;notAllowedPwd&quot;)\r\npublic Integer notAllowedPwd;\r\n```","title":"How to deserialize multiple cases with Jackson","body":"<p>Use these annotations on field:</p>\n<pre><code>@JsonProperty(&quot;not_allowed_pwd&quot;)\n@JsonAlias(&quot;notAllowedPwd&quot;)\npublic Integer notAllowedPwd;\n</code></pre>\n"}],"owner":{"account_id":3963644,"reputation":589,"user_id":3270198,"accept_rate":67,"display_name":"Swaraj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1667323450,"creation_date":1477378512,"question_id":40233275,"body_markdown":"I am working with jackson-core-2.8.3 and I have a json which has element provided in multiple cases. I want to map it to my class but I am not able to do so because I can have only one type of PropertyNamingStratergy in my class.\r\n\r\nExample Json:- \r\n\r\n    {&quot;tableKey&quot;: &quot;1&quot;,&quot;not_allowed_pwd&quot;: 10}\r\n\r\nThere can be another json like \r\n\r\n    {&quot;tableKey&quot;: &quot;1&quot;,&quot;notAllowedPwd&quot;: 10}\r\n\r\nClassToMap :-\r\n\r\n    class MyClass {\r\n    public String tableKey;\r\n    public Integer notAllowedPwd;\r\n    }\r\n\r\nObjectMapper code :-\r\n\r\n    ObjectMapperobjectMapper=new ObjectMapper();\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,false);\r\n    objectMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES,true);\r\n    objectMapper.setSerializationInclusion(Include.NON_NULL);\r\n    objectMapper.setVisibility(PropertyAccessor.ALL,Visibility.NONE);\r\n    objectMapper.setVisibility(PropertyAccessor.FIELD,Visibility.ANY);\r\n    MyClass obj = objectMapper.readValue(s, MyClass.class);\r\n\r\n\r\nI am not finding any solution anywhere. It will be good if anyone can help how to proceed.","title":"How to deserialize multiple cases with Jackson","body":"<p>I am working with jackson-core-2.8.3 and I have a json which has element provided in multiple cases. I want to map it to my class but I am not able to do so because I can have only one type of PropertyNamingStratergy in my class.</p>\n\n<p>Example Json:- </p>\n\n<pre><code>{\"tableKey\": \"1\",\"not_allowed_pwd\": 10}\n</code></pre>\n\n<p>There can be another json like </p>\n\n<pre><code>{\"tableKey\": \"1\",\"notAllowedPwd\": 10}\n</code></pre>\n\n<p>ClassToMap :-</p>\n\n<pre><code>class MyClass {\npublic String tableKey;\npublic Integer notAllowedPwd;\n}\n</code></pre>\n\n<p>ObjectMapper code :-</p>\n\n<pre><code>ObjectMapperobjectMapper=new ObjectMapper();\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,false);\nobjectMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES,true);\nobjectMapper.setSerializationInclusion(Include.NON_NULL);\nobjectMapper.setVisibility(PropertyAccessor.ALL,Visibility.NONE);\nobjectMapper.setVisibility(PropertyAccessor.FIELD,Visibility.ANY);\nMyClass obj = objectMapper.readValue(s, MyClass.class);\n</code></pre>\n\n<p>I am not finding any solution anywhere. It will be good if anyone can help how to proceed.</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1667202642,"post_id":74260132,"comment_id":131106190,"body_markdown":"[`@Builder`](https://projectlombok.org/features/Builder) can&#39;t be used to modify an existing instance as the builder is a different class than what it is building.","body":"<a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\"><code>@Builder</code></a> can&#39;t be used to modify an existing instance as the builder is a different class than what it is building."}],"answers":[{"tags":[],"owner":{"account_id":2150391,"reputation":435,"user_id":1906940,"display_name":"Gleb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667215541,"creation_date":1667215541,"answer_id":74262558,"question_id":74260132,"body_markdown":"Not exactly modify, but you can use it as sort of copy constructor, which creates a new object builder out of old one. Then you can modify only the specific fields. Annotate your object with `@Builder(toBuilder=true)` and then call `.toBuilder()` on the object instance.\r\n\r\nVery handy when dealing with immutable objects.\r\n\r\nExample:\r\n\r\n    @Value\r\n    @Builder(toBuilder = true)\r\n    public class A {\r\n        String name;\r\n        long value;\r\n    }\r\n\r\nThen code like this:\r\n\r\n    var a = A.builder().name(&quot;test-name&quot;).value(1234L).build();\r\n    System.out.println(a);\r\n    var b = a.toBuilder().value(4321L).build();\r\n    System.out.println(b);\r\n\r\nPrints out this:\r\n\r\n    A(name=test-name, value=1234)\r\n    A(name=test-name, value=4321)\r\n\r\n\r\nReferences:\r\n\r\nhttps://projectlombok.org/features/Builder\r\n\r\nhttps://projectlombok.org/features/Value","title":"Can @Builder be used for object creation as well as object modification?","body":"<p>Not exactly modify, but you can use it as sort of copy constructor, which creates a new object builder out of old one. Then you can modify only the specific fields. Annotate your object with <code>@Builder(toBuilder=true)</code> and then call <code>.toBuilder()</code> on the object instance.</p>\n<p>Very handy when dealing with immutable objects.</p>\n<p>Example:</p>\n<pre><code>@Value\n@Builder(toBuilder = true)\npublic class A {\n    String name;\n    long value;\n}\n</code></pre>\n<p>Then code like this:</p>\n<pre><code>var a = A.builder().name(&quot;test-name&quot;).value(1234L).build();\nSystem.out.println(a);\nvar b = a.toBuilder().value(4321L).build();\nSystem.out.println(b);\n</code></pre>\n<p>Prints out this:</p>\n<pre><code>A(name=test-name, value=1234)\nA(name=test-name, value=4321)\n</code></pre>\n<p>References:</p>\n<p><a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/Builder</a></p>\n<p><a href=\"https://projectlombok.org/features/Value\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/Value</a></p>\n"}],"owner":{"account_id":26714564,"reputation":3,"user_id":20319343,"display_name":"you88"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74262558,"answer_count":1,"score":0,"last_activity_date":1667323355,"creation_date":1667202387,"question_id":74260132,"body_markdown":"I recently learned about object creation using @builder. But suddenly, I wonder if @Builder can be used to modify an object that has already been created.\r\n\r\nWhen I try to modify an object using @setter, the advantage of creating a constructor with @builder seems to disappear. So I tried to modify only some variables using @builder, but it seems to create a new object altogether.\r\n\r\nIs there a way to modify an object using @Builder?  \r\nOr should I just use a setter or create a separate function when modifying an object?","title":"Can @Builder be used for object creation as well as object modification?","body":"<p>I recently learned about object creation using @builder. But suddenly, I wonder if @Builder can be used to modify an object that has already been created.</p>\n<p>When I try to modify an object using @setter, the advantage of creating a constructor with @builder seems to disappear. So I tried to modify only some variables using @builder, but it seems to create a new object altogether.</p>\n<p>Is there a way to modify an object using @Builder?<br />\nOr should I just use a setter or create a separate function when modifying an object?</p>\n"},{"tags":["java","spring","spring-boot","maven","drools"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1666878999,"post_id":74217937,"comment_id":131043455,"body_markdown":"Your problem is not in how you fire the rules, it&#39;s in how you&#39;re creating your KieContainer bean. Instead of your &#39;fire rules&#39; method, can you share how you instantiate the KieContainer, and an example simple DRL that causes this issue when you try and load it?","body":"Your problem is not in how you fire the rules, it&#39;s in how you&#39;re creating your KieContainer bean. Instead of your &#39;fire rules&#39; method, can you share how you instantiate the KieContainer, and an example simple DRL that causes this issue when you try and load it?"},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1666879030,"post_id":74217937,"comment_id":131043471,"body_markdown":"Also if you could include the stack trace of the UnsupportedOperationException you mentioned in the comments on Esteban&#39;s answer, that would help.","body":"Also if you could include the stack trace of the UnsupportedOperationException you mentioned in the comments on Esteban&#39;s answer, that would help."}],"answers":[{"comments":[{"owner":{"account_id":14123264,"reputation":101,"user_id":10203261,"display_name":"Akhil"},"score":0,"creation_date":1666862852,"post_id":74219303,"comment_id":131037727,"body_markdown":"no.. not using eval() anywhere. I tried commenting drl file still getting the error. It seems like spring+drools unable to create the kieContainer bean due to some changes that happened in drools version upgrade","body":"no.. not using eval() anywhere. I tried commenting drl file still getting the error. It seems like spring+drools unable to create the kieContainer bean due to some changes that happened in drools version upgrade"},{"owner":{"account_id":14123264,"reputation":101,"user_id":10203261,"display_name":"Akhil"},"score":0,"creation_date":1666866612,"post_id":74219303,"comment_id":131039054,"body_markdown":"Also got the below exception when kept only one simple case, (using java as dialect) Factory method &#39;kieContainer&#39; threw exception; nested exception is java.lang.UnsupportedOperationException","body":"Also got the below exception when kept only one simple case, (using java as dialect) Factory method &#39;kieContainer&#39; threw exception; nested exception is java.lang.UnsupportedOperationException"},{"owner":{"account_id":1197384,"reputation":6314,"user_id":1168802,"display_name":"Esteban Aliverti"},"score":0,"creation_date":1666890473,"post_id":74219303,"comment_id":131047783,"body_markdown":"could you create a simple app reproducing this problem?","body":"could you create a simple app reproducing this problem?"}],"tags":[],"owner":{"account_id":1197384,"reputation":6314,"user_id":1168802,"display_name":"Esteban Aliverti"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666860980,"creation_date":1666860980,"answer_id":74219303,"question_id":74217937,"body_markdown":"Hard to tell. It seems that one of your rules is using something inside an `eval()` that is no longer supported in `8.29.0`.\r\n\r\nYou will need to start removing DRLs from your KieBase or commenting out rules containing `eval()` until you find the problematic one.\r\n\r\nFrom the code, it could also be related to the `dialect` you are using. Are you specifying an explicit dialect for your rules?","title":"Spring boot drools integration not woking after drools updated from version 7.73.0.Final to 8.29.0.Final","body":"<p>Hard to tell. It seems that one of your rules is using something inside an <code>eval()</code> that is no longer supported in <code>8.29.0</code>.</p>\n<p>You will need to start removing DRLs from your KieBase or commenting out rules containing <code>eval()</code> until you find the problematic one.</p>\n<p>From the code, it could also be related to the <code>dialect</code> you are using. Are you specifying an explicit dialect for your rules?</p>\n"}],"owner":{"account_id":14123264,"reputation":101,"user_id":10203261,"display_name":"Akhil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667323280,"creation_date":1666853969,"question_id":74217937,"body_markdown":"We were using spring boot+ drools maven dependency+drl files for implementing certain business rules in our spring boot application.We used the following drools dependencies(drools-core, drools-compiler, drools-decisiontables) with the version 7.73.0.The integration is not woking after drools updated from version 7.73.0.Final  to 8.29.0.Final.Please find the implementation and error trace below.Can someone help to resolve the same\r\n\r\n\r\nMy Config Class\r\n\r\n    @Configuration\r\n    public class DroolsConfig {\r\n    \r\n        private static final String RULES_DRL = &quot;rules/rule-impl.drl&quot;;\r\n        private static final KieServices kieServices = KieServices.Factory.get();\r\n    \r\n        @Bean\r\n        public KieContainer kieContainer() {\r\n            KieFileSystem kieFileSystem = kieServices.newKieFileSystem();\r\n            kieFileSystem.write(ResourceFactory.newClassPathResource(RULES_DRL));\r\n            KieBuilder kb = kieServices.newKieBuilder(kieFileSystem);\r\n            kb.buildAll();\r\n            KieModule kieModule = kb.getKieModule();\r\n            return kieServices.newKieContainer(kieModule.getReleaseId());\r\n        }\r\n    \r\n    }\r\n\r\nCalling class\r\n\r\n   \r\n\r\n     @Autowired\r\n        private KieContainer kieContainer;\r\n    \r\n        public String applyCleansingRules(String name) {\r\n             /////////\r\n            KieSession kieSession = kieContainer.newKieSession();\r\n            /////\r\n            kieSession.insert(name);\r\n            kieSession.fireAllRules(1);\r\n            kieSession.dispose();\r\n            return /////\r\n        }\r\n\r\nError Message :\r\n\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat com.rule.engine.RuleEngineApplication.main(RuleEngineApplication.java:10) ~[classes/:na]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;kieContainer&#39; defined in class path resource [com/rule/engine/config/DroolsConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method &#39;kieContainer&#39; threw exception; nested exception is java.lang.NullPointerException\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \t... 20 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method &#39;kieContainer&#39; threw exception; nested exception is java.lang.NullPointerException\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \t... 33 common frames omitted\r\n    Caused by: java.lang.NullPointerException: null\r\n    \tat org.drools.compiler.rule.builder.PatternBuilder.buildAnalysis(PatternBuilder.java:1597) ~[drools-compiler-8.29.0.Final.jar:8.29.0.Final]\r\n    \tat org.drools.compiler.rule.builder.PatternBuilder.buildEval(PatternBuilder.java:1499) ~[drools-compiler-8.29.0.Final.jar:8.29.0.Final]\r\n\r\n\r\nTrace Junit Test :\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;******Service&#39;: Unsatisfied dependency expressed through field &#39;kieContainer&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;kieContainer&#39; defined in class path resource [com/rule/engine/config/DroolsConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method &#39;kieContainer&#39; threw exception; nested exception is java.lang.NullPointerException\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;kieContainer&#39; defined in class path resource [com/rule/engine/config/DroolsConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method &#39;kieContainer&#39; threw exception; nested exception is java.lang.NullPointerException\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method &#39;kieContainer&#39; threw exception; nested exception is java.lang.NullPointerException\r\n    Caused by: java.lang.NullPointerException\r\n\r\n","title":"Spring boot drools integration not woking after drools updated from version 7.73.0.Final to 8.29.0.Final","body":"<p>We were using spring boot+ drools maven dependency+drl files for implementing certain business rules in our spring boot application.We used the following drools dependencies(drools-core, drools-compiler, drools-decisiontables) with the version 7.73.0.The integration is not woking after drools updated from version 7.73.0.Final  to 8.29.0.Final.Please find the implementation and error trace below.Can someone help to resolve the same</p>\n<p>My Config Class</p>\n<pre><code>@Configuration\npublic class DroolsConfig {\n\n    private static final String RULES_DRL = &quot;rules/rule-impl.drl&quot;;\n    private static final KieServices kieServices = KieServices.Factory.get();\n\n    @Bean\n    public KieContainer kieContainer() {\n        KieFileSystem kieFileSystem = kieServices.newKieFileSystem();\n        kieFileSystem.write(ResourceFactory.newClassPathResource(RULES_DRL));\n        KieBuilder kb = kieServices.newKieBuilder(kieFileSystem);\n        kb.buildAll();\n        KieModule kieModule = kb.getKieModule();\n        return kieServices.newKieContainer(kieModule.getReleaseId());\n    }\n\n}\n</code></pre>\n<p>Calling class</p>\n<pre><code> @Autowired\n    private KieContainer kieContainer;\n\n    public String applyCleansingRules(String name) {\n         /////////\n        KieSession kieSession = kieContainer.newKieSession();\n        /////\n        kieSession.insert(name);\n        kieSession.fireAllRules(1);\n        kieSession.dispose();\n        return /////\n    }\n</code></pre>\n<p>Error Message :</p>\n<pre><code>at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\n    at com.rule.engine.RuleEngineApplication.main(RuleEngineApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'kieContainer' defined in class path resource [com/rule/engine/config/DroolsConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method 'kieContainer' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 20 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method 'kieContainer' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 33 common frames omitted\nCaused by: java.lang.NullPointerException: null\n    at org.drools.compiler.rule.builder.PatternBuilder.buildAnalysis(PatternBuilder.java:1597) ~[drools-compiler-8.29.0.Final.jar:8.29.0.Final]\n    at org.drools.compiler.rule.builder.PatternBuilder.buildEval(PatternBuilder.java:1499) ~[drools-compiler-8.29.0.Final.jar:8.29.0.Final]\n</code></pre>\n<p>Trace Junit Test :</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name '******Service': Unsatisfied dependency expressed through field 'kieContainer'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'kieContainer' defined in class path resource [com/rule/engine/config/DroolsConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method 'kieContainer' threw exception; nested exception is java.lang.NullPointerException\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'kieContainer' defined in class path resource [com/rule/engine/config/DroolsConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method 'kieContainer' threw exception; nested exception is java.lang.NullPointerException\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method 'kieContainer' threw exception; nested exception is java.lang.NullPointerException\nCaused by: java.lang.NullPointerException\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1666800473,"post_id":74206186,"comment_id":131023102,"body_markdown":"Did you tried manually defining `spring.jpa.database-platform`?","body":"Did you tried manually defining <code>spring.jpa.database-platform</code>?"}],"answers":[{"comments":[{"owner":{"account_id":5006112,"reputation":881,"user_id":4023726,"accept_rate":92,"display_name":"James Hutchinson"},"score":0,"creation_date":1667322955,"post_id":74211901,"comment_id":131138762,"body_markdown":"Side note was useful","body":"Side note was useful"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666831269,"creation_date":1666805390,"answer_id":74211901,"question_id":74206186,"body_markdown":"In the properties file you provide, datasource is configured for Postgres, but according to pom file, H2 should be configured during tests (the Postgres driver and url should be in `src/main/resources/application.yaml` only).\r\n\r\nMaybe, you just need to override datasource properties in **test resources** (`src/test/resources/application.yaml`):\r\n```yaml\r\nspring:\r\n  datasource:\r\n    driver-class-name=org.h2.Driver\r\n    url=jdbc:h2:mem:sample;DB_CLOSE_DELAY=-1\r\n    username=sa\r\n    password=password\r\n```\r\n\r\n### Side note\r\n[Keycloak adapters for Spring are very deprecated][1]. Do not use it.\r\n\r\nSee [those tutorials][2] for alternatives to configure resource-servers.\r\n\r\nFor consuming admin API, just use one of Spring REST clients (`@FeignClient`, `RestTemplate` or `WebClient`)\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/discussions/10187\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"Should Spring Boot Data JPA automatically create EntityManagerFactory bean?","body":"<p>In the properties file you provide, datasource is configured for Postgres, but according to pom file, H2 should be configured during tests (the Postgres driver and url should be in <code>src/main/resources/application.yaml</code> only).</p>\n<p>Maybe, you just need to override datasource properties in <strong>test resources</strong> (<code>src/test/resources/application.yaml</code>):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    driver-class-name=org.h2.Driver\n    url=jdbc:h2:mem:sample;DB_CLOSE_DELAY=-1\n    username=sa\n    password=password\n</code></pre>\n<h3>Side note</h3>\n<p><a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"nofollow noreferrer\">Keycloak adapters for Spring are very deprecated</a>. Do not use it.</p>\n<p>See <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">those tutorials</a> for alternatives to configure resource-servers.</p>\n<p>For consuming admin API, just use one of Spring REST clients (<code>@FeignClient</code>, <code>RestTemplate</code> or <code>WebClient</code>)</p>\n"},{"tags":[],"owner":{"account_id":5006112,"reputation":881,"user_id":4023726,"accept_rate":92,"display_name":"James Hutchinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667323110,"creation_date":1667323110,"answer_id":74279537,"question_id":74206186,"body_markdown":"It turns out I was missing the hibernate jars in my pom.\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nAlso worth pointing out that hibernate 6 requires spring boot 3 and doesn&#39;t work with spring boot 2.","title":"Should Spring Boot Data JPA automatically create EntityManagerFactory bean?","body":"<p>It turns out I was missing the hibernate jars in my pom.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Also worth pointing out that hibernate 6 requires spring boot 3 and doesn't work with spring boot 2.</p>\n"}],"owner":{"account_id":5006112,"reputation":881,"user_id":4023726,"accept_rate":92,"display_name":"James Hutchinson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74279537,"answer_count":2,"score":0,"last_activity_date":1667323110,"creation_date":1666779843,"question_id":74206186,"body_markdown":"Should Spring Boot Data JPA automatically create EntityManagerFactory bean?\r\n\r\n\r\nI have added a table using Liquibase called Fred to my code, and now I wish to add JPA support for this.\r\n\r\nUpon adding:\r\n```\r\npublic interface FredRepository extends JpaRepository&lt;Fred, Long&gt; {\r\n}\r\n```\r\n\r\nI get\r\n```\r\norg.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n```\r\n\r\nI understood that this bean should be created by spring. Can anyone explain when spring creates this bean for me? If it doesn&#39;t, why not?\r\n\r\nSpringBoot TRACE logs containing EntityManager\r\n```\r\no.s.b.a.condition.OnClassCondition       : Condition OnClassCondition on org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration$CacheManagerEntityManagerFactoryDependsOnPostProcessor matched due to @ConditionalOnClass found required class &#39;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&#39;\r\nConfiguration$BootstrapExecutorCondition : Condition JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition on org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration#entityManagerFactoryBootstrapExecutorCustomizer did not match due to AnyNestedCondition 0 matched 2 did not; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.LazyBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=lazy) did not find property &#39;bootstrap-mode&#39;; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.DeferredBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=deferred) did not find property &#39;bootstrap-mode&#39;\r\no.s.beans.CachedIntrospectionResults     : Found bean property &#39;entityManager&#39; of type [javax.persistence.EntityManager]\r\no.s.b.f.s.DefaultListableBeanFactory     : No bean named &#39;entityManagerFactory&#39; found in org.springframework.beans.factory.support.DefaultListableBeanFactory@4ba89729: defining beans (shortened for brevity)\r\nWARN 43335 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;fredRepository&#39; defined in org.xxx.jpa.FredRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean &#39;(inner bean)#492d38a2&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#492d38a2&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n   CacheAutoConfiguration.CacheManagerEntityManagerFactoryDependsOnPostProcessor:\r\n      Did not match:\r\n         - Ancestor org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration did not match (ConditionEvaluationReport.AncestorsMatchedCondition)\r\n      Matched:\r\n         - @ConditionalOnClass found required class &#39;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&#39; (OnClassCondition)\r\n   JpaRepositoriesAutoConfiguration#entityManagerFactoryBootstrapExecutorCustomizer:\r\n      Did not match:\r\n         - AnyNestedCondition 0 matched 2 did not; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.LazyBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=lazy) did not find property &#39;bootstrap-mode&#39;; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.DeferredBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=deferred) did not find property &#39;bootstrap-mode&#39; (JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition)\r\n\r\n```\r\n\r\nEntity class:\r\n```\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\n@Entity\r\npublic class Fred {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @NotNull\r\n    private String integrationkey;\r\n}\r\n```\r\npom.xml (recently added spring-boot-starter-data-jpa)\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.company&lt;/groupId&gt;\r\n        &lt;artifactId&gt;company-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\t&lt;groupId&gt;org.company&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;component&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;company :: component&lt;/name&gt;\r\n\t&lt;description&gt;component&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;company.shared.lib.version&gt;0.1.0-SNAPSHOT&lt;/company.shared.lib.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-kafka.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${liquibaseVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-kafka.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.company.shared&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dto-model&lt;/artifactId&gt;\r\n            &lt;version&gt;${company.shared.lib.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.212&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-adapter-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.13.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nversion numbers from parent\r\n```\r\n    &lt;properties&gt;\r\n        &lt;dropwizard.metrics.version&gt;4.2.10&lt;/dropwizard.metrics.version&gt;\r\n        &lt;activemq.version&gt;5.17.1&lt;/activemq.version&gt;\r\n        &lt;aries.jax.rs.whiteboard.version&gt;2.0.1&lt;/aries.jax.rs.whiteboard.version&gt;\r\n        &lt;aries.jpa.api.version&gt;2.7.3&lt;/aries.jpa.api.version&gt;\r\n        &lt;bsf.version&gt;2.4.0&lt;/bsf.version&gt;\r\n        &lt;eclipselink.version&gt;2.5.1&lt;/eclipselink.version&gt;\r\n        &lt;camel.version&gt;3.15.0&lt;/camel.version&gt;\r\n        &lt;commons.io.version&gt;2.11.0&lt;/commons.io.version&gt;\r\n        &lt;commons.lang.version&gt;2.6&lt;/commons.lang.version&gt;\r\n        &lt;cucumber.version&gt;7.1.0&lt;/cucumber.version&gt;\r\n        &lt;cxf.version&gt;3.5.1&lt;/cxf.version&gt;\r\n        &lt;dhcp4java.version&gt;1.1.0&lt;/dhcp4java.version&gt;\r\n        &lt;drools.version&gt;7.31.0.Final&lt;/drools.version&gt;\r\n        &lt;geohash.version&gt;1.4.0&lt;/geohash.version&gt;\r\n        &lt;glassfish.jaxb.version&gt;2.3.2&lt;/glassfish.jaxb.version&gt;\r\n        &lt;grpc.version&gt;1.43.2&lt;/grpc.version&gt;\r\n        &lt;gson.version&gt;2.8.6&lt;/gson.version&gt;\r\n        &lt;guava.version&gt;31.0.1-jre&lt;/guava.version&gt;\r\n        &lt;hamcrest.version&gt;1.3&lt;/hamcrest.version&gt;\r\n        &lt;hibernate.version&gt;6.1.4.Final&lt;/hibernate.version&gt;\r\n        &lt;httpcore.version&gt;4.4.4&lt;/httpcore.version&gt;\r\n        &lt;httpclient.version&gt;4.5.13&lt;/httpclient.version&gt;\r\n        &lt;ignite.version&gt;2.14.0&lt;/ignite.version&gt;\r\n        &lt;jackson.version&gt;2.13.1&lt;/jackson.version&gt;\r\n        &lt;jaeger.version&gt;0.34.0&lt;/jaeger.version&gt;\r\n        &lt;jakarta.annotation.version&gt;1.3.5&lt;/jakarta.annotation.version&gt;\r\n        &lt;jakarta.xml.version&gt;2.3.3&lt;/jakarta.xml.version&gt;\r\n        &lt;jakarta.mail.version&gt;1.6.7&lt;/jakarta.mail.version&gt;\r\n        &lt;javax.validation.version&gt;2.0.1.Final&lt;/javax.validation.version&gt;\r\n        &lt;jaxrs.version&gt;2.1&lt;/jaxrs.version&gt;\r\n        &lt;jboss-logging.version&gt;3.4.1.Final&lt;/jboss-logging.version&gt;\r\n        &lt;jcifs.version&gt;2.1.6&lt;/jcifs.version&gt;\r\n        &lt;jexl.version&gt;2.1.1&lt;/jexl.version&gt;\r\n        &lt;jicmp.version&gt;3.0.0&lt;/jicmp.version&gt;\r\n        &lt;jicmp6.version&gt;2.0.1&lt;/jicmp6.version&gt;\r\n        &lt;jna.version&gt;4.4.0&lt;/jna.version&gt;\r\n        &lt;joda.time.version&gt;2.1&lt;/joda.time.version&gt;\r\n        &lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\r\n        &lt;jsonPatch.version&gt;1.13&lt;/jsonPatch.version&gt;\r\n        &lt;jacksonCoreUtils.version&gt;2.0&lt;/jacksonCoreUtils.version&gt;\r\n        &lt;fgeMsgSimple.version&gt;1.2&lt;/fgeMsgSimple.version&gt;\r\n        &lt;fgeBtf.version&gt;1.3&lt;/fgeBtf.version&gt;\r\n        &lt;json.version&gt;20171018&lt;/json.version&gt;\r\n        &lt;jsr250.version&gt;1.0&lt;/jsr250.version&gt;\r\n        &lt;jsr305.version&gt;3.0.2&lt;/jsr305.version&gt;\r\n        &lt;karaf.version&gt;4.3.6&lt;/karaf.version&gt;\r\n        &lt;keycloak.version&gt;18.0.0&lt;/keycloak.version&gt;\r\n        &lt;liquibaseVersion&gt;4.17.0&lt;/liquibaseVersion&gt;\r\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n        &lt;mapstruct.version&gt;1.4.1.Final&lt;/mapstruct.version&gt;\r\n        &lt;mina.version&gt;2.1.5&lt;/mina.version&gt;\r\n        &lt;netty3.version&gt;3.10.6.Final&lt;/netty3.version&gt;\r\n        &lt;netty4.version&gt;4.1.78.Final&lt;/netty4.version&gt;\r\n        &lt;xxx.tracker.version&gt;0.7&lt;/xxx.tracker.version&gt;\r\n        &lt;opentracing.version&gt;0.31.0&lt;/opentracing.version&gt;\r\n        &lt;org.osgi.service.jdbc.version&gt;1.0.0&lt;/org.osgi.service.jdbc.version&gt;\r\n        &lt;osgi.version&gt;7.0.0&lt;/osgi.version&gt;\r\n        &lt;pax.jdbc.version&gt;1.5.2&lt;/pax.jdbc.version&gt;\r\n        &lt;postgresql.version&gt;42.5.0&lt;/postgresql.version&gt;\r\n        &lt;testcontainers.version&gt;1.17.4&lt;/testcontainers.version&gt;\r\n        &lt;prometheus.version&gt;0.16.0&lt;/prometheus.version&gt;\r\n        &lt;protobuf.version&gt;3.17.3&lt;/protobuf.version&gt;   &lt;!-- WARNING: this also controls the version of the protobuf compiler, change at your risk!--&gt;\r\n        &lt;rate.limitted.logger.version&gt;2.0.2&lt;/rate.limitted.logger.version&gt;\r\n        &lt;rest-assured.version&gt;4.3.3&lt;/rest-assured.version&gt;\r\n        &lt;slf4j.version&gt;1.7.33&lt;/slf4j.version&gt;\r\n        &lt;snmp4j.version&gt;2.5.5&lt;/snmp4j.version&gt;\r\n        &lt;snmp4j.agent.version&gt;2.5.3&lt;/snmp4j.agent.version&gt;\r\n        &lt;spring.version&gt;5.3.23&lt;/spring.version&gt;\r\n        &lt;spring-boot.version&gt;2.7.4&lt;/spring-boot.version&gt;\r\n        &lt;spring-security.version&gt;5.7.3&lt;/spring-security.version&gt;\r\n        &lt;spring-kafka.version&gt;2.8.6&lt;/spring-kafka.version&gt;\r\n        &lt;swagger.version&gt;2.1.1&lt;/swagger.version&gt;\r\n        &lt;xxx.shared.lib.version&gt;0.1.0-SNAPSHOT&lt;/xxx.shared.lib.version&gt;\r\n        &lt;testcontainers.version&gt;1.16.3&lt;/testcontainers.version&gt;\r\n        &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\r\n        &lt;lombok.binding.version&gt;0.2.0&lt;/lombok.binding.version&gt;\r\n        &lt;mockito.version&gt;4.8.0&lt;/mockito.version&gt;\r\n        &lt;jupiter.version&gt;5.9.0&lt;/jupiter.version&gt;\r\n        &lt;jib.version&gt;3.2.1&lt;/jib.version&gt;\r\n        &lt;surefire.version&gt;3.0.0-M5&lt;/surefire.version&gt;\r\n        &lt;failsafe.version&gt;3.0.0-M5&lt;/failsafe.version&gt;\r\n    &lt;/properties&gt;\r\n```\r\nstack trace\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;fredRepository&#39; defined in org.xxx.jpa.FredRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean &#39;(inner bean)#4c57ca10&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#4c57ca10&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:936)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\r\n\t... 72 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#4c57ca10&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)\r\n\t... 91 more\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:874)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)\r\n\t... 99 more\r\n\r\n```\r\napplication.yml\r\n```\r\nspring:\r\n  application:\r\n    name: xxx\r\n\r\n  datasource:\r\n    driver-class-name: org.postgresql.Driver\r\n    url: jdbc:postgresql://postgres:5432/xxx\r\n    username: xxx\r\n    password: xxx\r\n\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: validate\r\n\r\n  liquibase:\r\n    change-log: db/changelog/changelog.xml\r\n\r\n```\r\n\r\n","title":"Should Spring Boot Data JPA automatically create EntityManagerFactory bean?","body":"<p>Should Spring Boot Data JPA automatically create EntityManagerFactory bean?</p>\n<p>I have added a table using Liquibase called Fred to my code, and now I wish to add JPA support for this.</p>\n<p>Upon adding:</p>\n<pre><code>public interface FredRepository extends JpaRepository&lt;Fred, Long&gt; {\n}\n</code></pre>\n<p>I get</p>\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n</code></pre>\n<p>I understood that this bean should be created by spring. Can anyone explain when spring creates this bean for me? If it doesn't, why not?</p>\n<p>SpringBoot TRACE logs containing EntityManager</p>\n<pre><code>o.s.b.a.condition.OnClassCondition       : Condition OnClassCondition on org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration$CacheManagerEntityManagerFactoryDependsOnPostProcessor matched due to @ConditionalOnClass found required class 'org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean'\nConfiguration$BootstrapExecutorCondition : Condition JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition on org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration#entityManagerFactoryBootstrapExecutorCustomizer did not match due to AnyNestedCondition 0 matched 2 did not; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.LazyBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=lazy) did not find property 'bootstrap-mode'; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.DeferredBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=deferred) did not find property 'bootstrap-mode'\no.s.beans.CachedIntrospectionResults     : Found bean property 'entityManager' of type [javax.persistence.EntityManager]\no.s.b.f.s.DefaultListableBeanFactory     : No bean named 'entityManagerFactory' found in org.springframework.beans.factory.support.DefaultListableBeanFactory@4ba89729: defining beans (shortened for brevity)\nWARN 43335 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fredRepository' defined in org.xxx.jpa.FredRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#492d38a2' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#492d38a2': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n   CacheAutoConfiguration.CacheManagerEntityManagerFactoryDependsOnPostProcessor:\n      Did not match:\n         - Ancestor org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration did not match (ConditionEvaluationReport.AncestorsMatchedCondition)\n      Matched:\n         - @ConditionalOnClass found required class 'org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean' (OnClassCondition)\n   JpaRepositoriesAutoConfiguration#entityManagerFactoryBootstrapExecutorCustomizer:\n      Did not match:\n         - AnyNestedCondition 0 matched 2 did not; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.LazyBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=lazy) did not find property 'bootstrap-mode'; NestedCondition on JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition.DeferredBootstrapMode @ConditionalOnProperty (spring.data.jpa.repositories.bootstrap-mode=deferred) did not find property 'bootstrap-mode' (JpaRepositoriesAutoConfiguration.BootstrapExecutorCondition)\n\n</code></pre>\n<p>Entity class:</p>\n<pre><code>@Getter\n@Setter\n@RequiredArgsConstructor\n@Entity\npublic class Fred {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @NotNull\n    private String integrationkey;\n}\n</code></pre>\n<p>pom.xml (recently added spring-boot-starter-data-jpa)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.company&lt;/groupId&gt;\n        &lt;artifactId&gt;company-parent&lt;/artifactId&gt;\n        &lt;version&gt;0.1.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.company&lt;/groupId&gt;\n    &lt;artifactId&gt;component&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;company :: component&lt;/name&gt;\n    &lt;description&gt;component&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;company.shared.lib.version&gt;0.1.0-SNAPSHOT&lt;/company.shared.lib.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n            &lt;version&gt;${spring-kafka.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;${liquibaseVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring-security.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring-kafka.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.company.shared&lt;/groupId&gt;\n            &lt;artifactId&gt;dto-model&lt;/artifactId&gt;\n            &lt;version&gt;${company.shared.lib.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.1.212&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-adapter-core&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n            &lt;version&gt;3.13.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>version numbers from parent</p>\n<pre><code>    &lt;properties&gt;\n        &lt;dropwizard.metrics.version&gt;4.2.10&lt;/dropwizard.metrics.version&gt;\n        &lt;activemq.version&gt;5.17.1&lt;/activemq.version&gt;\n        &lt;aries.jax.rs.whiteboard.version&gt;2.0.1&lt;/aries.jax.rs.whiteboard.version&gt;\n        &lt;aries.jpa.api.version&gt;2.7.3&lt;/aries.jpa.api.version&gt;\n        &lt;bsf.version&gt;2.4.0&lt;/bsf.version&gt;\n        &lt;eclipselink.version&gt;2.5.1&lt;/eclipselink.version&gt;\n        &lt;camel.version&gt;3.15.0&lt;/camel.version&gt;\n        &lt;commons.io.version&gt;2.11.0&lt;/commons.io.version&gt;\n        &lt;commons.lang.version&gt;2.6&lt;/commons.lang.version&gt;\n        &lt;cucumber.version&gt;7.1.0&lt;/cucumber.version&gt;\n        &lt;cxf.version&gt;3.5.1&lt;/cxf.version&gt;\n        &lt;dhcp4java.version&gt;1.1.0&lt;/dhcp4java.version&gt;\n        &lt;drools.version&gt;7.31.0.Final&lt;/drools.version&gt;\n        &lt;geohash.version&gt;1.4.0&lt;/geohash.version&gt;\n        &lt;glassfish.jaxb.version&gt;2.3.2&lt;/glassfish.jaxb.version&gt;\n        &lt;grpc.version&gt;1.43.2&lt;/grpc.version&gt;\n        &lt;gson.version&gt;2.8.6&lt;/gson.version&gt;\n        &lt;guava.version&gt;31.0.1-jre&lt;/guava.version&gt;\n        &lt;hamcrest.version&gt;1.3&lt;/hamcrest.version&gt;\n        &lt;hibernate.version&gt;6.1.4.Final&lt;/hibernate.version&gt;\n        &lt;httpcore.version&gt;4.4.4&lt;/httpcore.version&gt;\n        &lt;httpclient.version&gt;4.5.13&lt;/httpclient.version&gt;\n        &lt;ignite.version&gt;2.14.0&lt;/ignite.version&gt;\n        &lt;jackson.version&gt;2.13.1&lt;/jackson.version&gt;\n        &lt;jaeger.version&gt;0.34.0&lt;/jaeger.version&gt;\n        &lt;jakarta.annotation.version&gt;1.3.5&lt;/jakarta.annotation.version&gt;\n        &lt;jakarta.xml.version&gt;2.3.3&lt;/jakarta.xml.version&gt;\n        &lt;jakarta.mail.version&gt;1.6.7&lt;/jakarta.mail.version&gt;\n        &lt;javax.validation.version&gt;2.0.1.Final&lt;/javax.validation.version&gt;\n        &lt;jaxrs.version&gt;2.1&lt;/jaxrs.version&gt;\n        &lt;jboss-logging.version&gt;3.4.1.Final&lt;/jboss-logging.version&gt;\n        &lt;jcifs.version&gt;2.1.6&lt;/jcifs.version&gt;\n        &lt;jexl.version&gt;2.1.1&lt;/jexl.version&gt;\n        &lt;jicmp.version&gt;3.0.0&lt;/jicmp.version&gt;\n        &lt;jicmp6.version&gt;2.0.1&lt;/jicmp6.version&gt;\n        &lt;jna.version&gt;4.4.0&lt;/jna.version&gt;\n        &lt;joda.time.version&gt;2.1&lt;/joda.time.version&gt;\n        &lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\n        &lt;jsonPatch.version&gt;1.13&lt;/jsonPatch.version&gt;\n        &lt;jacksonCoreUtils.version&gt;2.0&lt;/jacksonCoreUtils.version&gt;\n        &lt;fgeMsgSimple.version&gt;1.2&lt;/fgeMsgSimple.version&gt;\n        &lt;fgeBtf.version&gt;1.3&lt;/fgeBtf.version&gt;\n        &lt;json.version&gt;20171018&lt;/json.version&gt;\n        &lt;jsr250.version&gt;1.0&lt;/jsr250.version&gt;\n        &lt;jsr305.version&gt;3.0.2&lt;/jsr305.version&gt;\n        &lt;karaf.version&gt;4.3.6&lt;/karaf.version&gt;\n        &lt;keycloak.version&gt;18.0.0&lt;/keycloak.version&gt;\n        &lt;liquibaseVersion&gt;4.17.0&lt;/liquibaseVersion&gt;\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n        &lt;mapstruct.version&gt;1.4.1.Final&lt;/mapstruct.version&gt;\n        &lt;mina.version&gt;2.1.5&lt;/mina.version&gt;\n        &lt;netty3.version&gt;3.10.6.Final&lt;/netty3.version&gt;\n        &lt;netty4.version&gt;4.1.78.Final&lt;/netty4.version&gt;\n        &lt;xxx.tracker.version&gt;0.7&lt;/xxx.tracker.version&gt;\n        &lt;opentracing.version&gt;0.31.0&lt;/opentracing.version&gt;\n        &lt;org.osgi.service.jdbc.version&gt;1.0.0&lt;/org.osgi.service.jdbc.version&gt;\n        &lt;osgi.version&gt;7.0.0&lt;/osgi.version&gt;\n        &lt;pax.jdbc.version&gt;1.5.2&lt;/pax.jdbc.version&gt;\n        &lt;postgresql.version&gt;42.5.0&lt;/postgresql.version&gt;\n        &lt;testcontainers.version&gt;1.17.4&lt;/testcontainers.version&gt;\n        &lt;prometheus.version&gt;0.16.0&lt;/prometheus.version&gt;\n        &lt;protobuf.version&gt;3.17.3&lt;/protobuf.version&gt;   &lt;!-- WARNING: this also controls the version of the protobuf compiler, change at your risk!--&gt;\n        &lt;rate.limitted.logger.version&gt;2.0.2&lt;/rate.limitted.logger.version&gt;\n        &lt;rest-assured.version&gt;4.3.3&lt;/rest-assured.version&gt;\n        &lt;slf4j.version&gt;1.7.33&lt;/slf4j.version&gt;\n        &lt;snmp4j.version&gt;2.5.5&lt;/snmp4j.version&gt;\n        &lt;snmp4j.agent.version&gt;2.5.3&lt;/snmp4j.agent.version&gt;\n        &lt;spring.version&gt;5.3.23&lt;/spring.version&gt;\n        &lt;spring-boot.version&gt;2.7.4&lt;/spring-boot.version&gt;\n        &lt;spring-security.version&gt;5.7.3&lt;/spring-security.version&gt;\n        &lt;spring-kafka.version&gt;2.8.6&lt;/spring-kafka.version&gt;\n        &lt;swagger.version&gt;2.1.1&lt;/swagger.version&gt;\n        &lt;xxx.shared.lib.version&gt;0.1.0-SNAPSHOT&lt;/xxx.shared.lib.version&gt;\n        &lt;testcontainers.version&gt;1.16.3&lt;/testcontainers.version&gt;\n        &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\n        &lt;lombok.binding.version&gt;0.2.0&lt;/lombok.binding.version&gt;\n        &lt;mockito.version&gt;4.8.0&lt;/mockito.version&gt;\n        &lt;jupiter.version&gt;5.9.0&lt;/jupiter.version&gt;\n        &lt;jib.version&gt;3.2.1&lt;/jib.version&gt;\n        &lt;surefire.version&gt;3.0.0-M5&lt;/surefire.version&gt;\n        &lt;failsafe.version&gt;3.0.0-M5&lt;/failsafe.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>stack trace</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fredRepository' defined in org.xxx.jpa.FredRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot create inner bean '(inner bean)#4c57ca10' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#4c57ca10': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:936)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\n    ... 72 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#4c57ca10': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)\n    ... 91 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:874)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)\n    ... 99 more\n\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  application:\n    name: xxx\n\n  datasource:\n    driver-class-name: org.postgresql.Driver\n    url: jdbc:postgresql://postgres:5432/xxx\n    username: xxx\n    password: xxx\n\n  jpa:\n    hibernate:\n      ddl-auto: validate\n\n  liquibase:\n    change-log: db/changelog/changelog.xml\n\n</code></pre>\n"},{"tags":["java","android","random"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":7,"creation_date":1529307099,"post_id":50904587,"comment_id":88808926,"body_markdown":"Numbers are numbers. Just generate them within the needed range and do the conversion when you display them.","body":"Numbers are numbers. Just generate them within the needed range and do the conversion when you display them."},{"owner":{"account_id":6446950,"reputation":476,"user_id":4995187,"display_name":"Grenther"},"score":0,"creation_date":1529307300,"post_id":50904587,"comment_id":88809011,"body_markdown":"Possible duplicate of [this](https://stackoverflow.com/questions/11094823/java-how-to-generate-a-random-hexadecimal-value-within-specified-range-of-value)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/11094823/java-how-to-generate-a-random-hexadecimal-value-within-specified-range-of-value\">this</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1529307303,"post_id":50904587,"comment_id":88809014,"body_markdown":"Combine [How do I generate random integers within a specific range in Java?](https://stackoverflow.com/q/363681) with `Integer.toHexString(int)`","body":"Combine <a href=\"https://stackoverflow.com/q/363681\">How do I generate random integers within a specific range in Java?</a> with <code>Integer.toHexString(int)</code>"},{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":1,"creation_date":1529307486,"post_id":50904587,"comment_id":88809109,"body_markdown":"6 digit hexademical number is 3 bytes. 3 bytes is 0..16777215 integer. Just generate integer in that range, and then show it as hex.","body":"6 digit hexademical number is 3 bytes. 3 bytes is 0..16777215 integer. Just generate integer in that range, and then show it as hex."},{"owner":{"account_id":2444604,"reputation":897,"user_id":2132294,"display_name":"Eugen"},"score":0,"creation_date":1529307499,"post_id":50904587,"comment_id":88809114,"body_markdown":"Random rnd = new Random();\nint n = rnd.nextInt(999999);\nInteger.valueOf(String.valueOf(n), 16);","body":"Random rnd = new Random(); int n = rnd.nextInt(999999); Integer.valueOf(String.valueOf(n), 16);"}],"answers":[{"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1529307789,"post_id":50904683,"comment_id":88809270,"body_markdown":"Also, just to make this more useful and complete, you should prepend `0x` and assign the result to a String. Icing on the cake would be to also show how to pad.","body":"Also, just to make this more useful and complete, you should prepend <code>0x</code> and assign the result to a String. Icing on the cake would be to also show how to pad."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":4,"creation_date":1529307903,"post_id":50904683,"comment_id":88809319,"body_markdown":"Use `String.format(&quot;%06x&quot;, rnd.nextInt(0x1000000))` to get zero-padding.","body":"Use <code>String.format(&quot;%06x&quot;, rnd.nextInt(0x1000000))</code> to get zero-padding."},{"owner":{"account_id":2486673,"reputation":2184,"user_id":2164981,"accept_rate":36,"display_name":"kavie"},"score":0,"creation_date":1529318034,"post_id":50904683,"comment_id":88814823,"body_markdown":"For secure application,we can go with SecureRandom class","body":"For secure application,we can go with SecureRandom class"}],"tags":[],"owner":{"account_id":11382286,"reputation":1591,"user_id":8344882,"display_name":"gagan singh"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1529308111,"creation_date":1529307448,"answer_id":50904683,"question_id":50904587,"body_markdown":"        String zeros = &quot;000000&quot;;\r\n        Random rnd = new Random();\r\n        String s = Integer.toString(rnd.nextInt(0X1000000), 16);\r\n        s = zeros.substring(s.length()) + s;\r\n        System.out.println(&quot;s = &quot; + s);\r\n","title":"java- how to generate a 6 digit random hexadecimal value","body":"<pre><code>    String zeros = \"000000\";\n    Random rnd = new Random();\n    String s = Integer.toString(rnd.nextInt(0X1000000), 16);\n    s = zeros.substring(s.length()) + s;\n    System.out.println(\"s = \" + s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5863496,"reputation":8458,"user_id":4618331,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1529307784,"creation_date":1529307784,"answer_id":50904752,"question_id":50904587,"body_markdown":"You can use hex literals in your program the same way as decimal literals. A hex literal is prefixed with `0x`. Your max value is `FFFFFF`, so in your program you can write\r\n\r\n    int maxValue = 0xFFFFFF;\r\n\r\nThen you need to generate random numbers in that range. Use the `Random` class as you normally would.\r\n\r\n    Random r = new Random();\r\n    int myValue = r.nextInt(maxValue + 1);\r\n\r\nNote the use of `maxValue + 1`, because the upper bound for `nextInt()` is exclusive.\r\n\r\nThe final step is to print out your hex value.\r\n\r\n    System.out.printf(&quot;%06X&quot;, myValue);\r\n\r\n","title":"java- how to generate a 6 digit random hexadecimal value","body":"<p>You can use hex literals in your program the same way as decimal literals. A hex literal is prefixed with <code>0x</code>. Your max value is <code>FFFFFF</code>, so in your program you can write</p>\n\n<pre><code>int maxValue = 0xFFFFFF;\n</code></pre>\n\n<p>Then you need to generate random numbers in that range. Use the <code>Random</code> class as you normally would.</p>\n\n<pre><code>Random r = new Random();\nint myValue = r.nextInt(maxValue + 1);\n</code></pre>\n\n<p>Note the use of <code>maxValue + 1</code>, because the upper bound for <code>nextInt()</code> is exclusive.</p>\n\n<p>The final step is to print out your hex value.</p>\n\n<pre><code>System.out.printf(\"%06X\", myValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13785918,"reputation":309,"user_id":9949857,"display_name":"Ravi Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619827782,"creation_date":1529308601,"answer_id":50904957,"question_id":50904587,"body_markdown":"    SecureRandom random = new SecureRandom();\r\n    int num = random.nextInt(0x1000000);\r\n    String formatted = String.format(&quot;%06x&quot;, num); \r\n    System.out.println(formatted);\r\n\r\n**Code Explain**\r\n\r\n 1. this random object use SecureRandom Class method. this class use for generate random number.\r\n\r\n        SecureRandom random = new SecureRandom();\r\n\r\n 2. next int num object store 6 hexadecimal digit random number\r\n\r\n        int num = random.nextInt(0x1000000);\r\n\r\n 3. then output num as 6 digit hexadecimal number\r\n\r\n        String formatted = String.format(&quot;%06x&quot;, num); ","title":"java- how to generate a 6 digit random hexadecimal value","body":"<pre><code>SecureRandom random = new SecureRandom();\nint num = random.nextInt(0x1000000);\nString formatted = String.format(&quot;%06x&quot;, num); \nSystem.out.println(formatted);\n</code></pre>\n<p><strong>Code Explain</strong></p>\n<ol>\n<li><p>this random object use SecureRandom Class method. this class use for generate random number.</p>\n<pre><code>SecureRandom random = new SecureRandom();\n</code></pre>\n</li>\n<li><p>next int num object store 6 hexadecimal digit random number</p>\n<pre><code>int num = random.nextInt(0x1000000);\n</code></pre>\n</li>\n<li><p>then output num as 6 digit hexadecimal number</p>\n<pre><code>String formatted = String.format(&quot;%06x&quot;, num); \n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7433,"reputation":24739,"user_id":12916,"accept_rate":23,"display_name":"Jesse Glick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667322941,"creation_date":1667322941,"answer_id":74279501,"question_id":50904587,"body_markdown":"More generally:\r\n\r\n```\r\nint digits = 6;\r\nString hex = String.format(&quot;%0&quot; + digits + &quot;x&quot;, new BigInteger(digits * 4, new SecureRandom()));\r\n```","title":"java- how to generate a 6 digit random hexadecimal value","body":"<p>More generally:</p>\n<pre><code>int digits = 6;\nString hex = String.format(&quot;%0&quot; + digits + &quot;x&quot;, new BigInteger(digits * 4, new SecureRandom()));\n</code></pre>\n"}],"owner":{"account_id":2486673,"reputation":2184,"user_id":2164981,"accept_rate":36,"display_name":"kavie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9235,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":50904683,"answer_count":4,"score":2,"last_activity_date":1667322941,"creation_date":1529307066,"question_id":50904587,"body_markdown":"\r\nI have a scenario in a Android app, where a random hexadecimal value has to be generated with 6 digits.  (The range of values can be hexadecimal or integer values).\r\n\r\nWhat is the most efficient way to do this?\r\nDo I have to generate a random decimal number, and then convert it to hexadecimal? Or\r\n can a value be directly generated?","title":"java- how to generate a 6 digit random hexadecimal value","body":"<p>I have a scenario in a Android app, where a random hexadecimal value has to be generated with 6 digits.  (The range of values can be hexadecimal or integer values).</p>\n\n<p>What is the most efficient way to do this?\nDo I have to generate a random decimal number, and then convert it to hexadecimal? Or\n can a value be directly generated?</p>\n"},{"tags":["java","hash","verification","password-encryption","pbkdf2"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1667353996,"post_id":74279342,"comment_id":131146121,"body_markdown":"You authenticate by getting the original salt that is stored with the hashed password, take the proffered password and hash it with the salt. Compare the output of this with the saved hashed password and if they match then the user is authenticated.","body":"You authenticate by getting the original salt that is stored with the hashed password, take the proffered password and hash it with the salt. Compare the output of this with the saved hashed password and if they match then the user is authenticated."},{"owner":{"account_id":26673178,"reputation":15,"user_id":20284324,"display_name":"AnotherApple"},"score":0,"creation_date":1667550576,"post_id":74279342,"comment_id":131197188,"body_markdown":"That&#39;s interesting, i haven&#39;t really tried it yet, but i will give it a shot soon enough. \n\nA question: How does this affect &#39;security&#39;? \nDo we not need to &#39;store&#39; a variable with both the hash and salt? Couldn&#39;t someone get a hold of the &#39;salt&#39; this way?","body":"That&#39;s interesting, i haven&#39;t really tried it yet, but i will give it a shot soon enough.   A question: How does this affect &#39;security&#39;?  Do we not need to &#39;store&#39; a variable with both the hash and salt? Couldn&#39;t someone get a hold of the &#39;salt&#39; this way?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1667594765,"post_id":74279342,"comment_id":131212043,"body_markdown":"The salt is not a secret and can be stored with the hash, or any other convenient place.","body":"The salt is not a secret and can be stored with the hash, or any other convenient place."}],"answers":[{"comments":[{"owner":{"account_id":3878796,"reputation":68,"user_id":3211987,"display_name":"sgflt"},"score":0,"creation_date":1687333436,"post_id":74279470,"comment_id":134920351,"body_markdown":"Hash of identical password can&#39;t be equal because there is salt.","body":"Hash of identical password can&#39;t be equal because there is salt."}],"tags":[],"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667322828,"creation_date":1667322828,"answer_id":74279470,"question_id":74279342,"body_markdown":"Of course, you can&#39;t return value of password from hash.\r\nYou need to encode password from UI.\r\nIn the authentication method you compares saved &quot;unreadable&quot; password from DB(you got it now) with new password from UI making scripting of it.\r\n\r\nHash of identical passwords is equal.","title":"Verifying hash password PBKDF2 with Java","body":"<p>Of course, you can't return value of password from hash.\nYou need to encode password from UI.\nIn the authentication method you compares saved &quot;unreadable&quot; password from DB(you got it now) with new password from UI making scripting of it.</p>\n<p>Hash of identical passwords is equal.</p>\n"}],"owner":{"account_id":26673178,"reputation":15,"user_id":20284324,"display_name":"AnotherApple"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667322828,"creation_date":1667322134,"question_id":74279342,"body_markdown":"I am currently following a tutorial: https://www.baeldung.com/java-password-hashing \r\nSection 5.2 \r\n\r\nHowever, now that the has has been created, a followup question to this tutorial was.. I just hashed a password and made it unreadable - how in the world will we verify it?!\r\n\r\n\r\n\r\n\r\nCurrently i have this easy method setup:\r\n\r\n\r\n```\r\npublic byte[] generateHash(String password) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n    \r\n    SecureRandom random = new SecureRandom();\r\n    byte[] salt = new byte[16];\r\n\r\n    random.nextBytes(salt);\r\n\r\n    KeySpec spec = new PBEKeySpec(password.toCharArray(), salt, 65536, 128);\r\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;BPKDF2WithmacSHA1&quot;);\r\n\r\n    byte[] hash = factory.generateSecret(spec).getEncoded();\r\n\r\n    return hash;\r\n\r\n}\r\n```\r\n\r\nBut i&#39;m missing the actual authentication method...\r\n\r\n\r\n","title":"Verifying hash password PBKDF2 with Java","body":"<p>I am currently following a tutorial: <a href=\"https://www.baeldung.com/java-password-hashing\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-password-hashing</a>\nSection 5.2</p>\n<p>However, now that the has has been created, a followup question to this tutorial was.. I just hashed a password and made it unreadable - how in the world will we verify it?!</p>\n<p>Currently i have this easy method setup:</p>\n<pre><code>public byte[] generateHash(String password) throws NoSuchAlgorithmException, InvalidKeySpecException {\n    \n    SecureRandom random = new SecureRandom();\n    byte[] salt = new byte[16];\n\n    random.nextBytes(salt);\n\n    KeySpec spec = new PBEKeySpec(password.toCharArray(), salt, 65536, 128);\n    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;BPKDF2WithmacSHA1&quot;);\n\n    byte[] hash = factory.generateSecret(spec).getEncoded();\n\n    return hash;\n\n}\n</code></pre>\n<p>But i'm missing the actual authentication method...</p>\n"},{"tags":["java","git","jgit"],"answers":[{"comments":[{"owner":{"account_id":175178,"reputation":20166,"user_id":405013,"accept_rate":100,"display_name":"caarlos0"},"score":1,"creation_date":1377807951,"post_id":12801356,"comment_id":27235148,"body_markdown":"An instance of `Git`.","body":"An instance of <code>Git</code>."},{"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"score":0,"creation_date":1665314273,"post_id":12801356,"comment_id":130666655,"body_markdown":"What is the equivalent git command?","body":"What is the equivalent git command?"}],"tags":[],"owner":{"account_id":175178,"reputation":20166,"user_id":405013,"accept_rate":100,"display_name":"caarlos0"},"comment_count":2,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1667322565,"creation_date":1349789847,"answer_id":12801356,"question_id":12799573,"body_markdown":"Managed it to work that way:\r\n    \r\n    Git git = new Git(localRepository);\r\n    StoredConfig config = git.getRepository().getConfig();\r\n    config.setString(&quot;remote&quot;, &quot;origin&quot;, &quot;url&quot;, &quot;http://github.com/user/repo&quot;);\r\n    config.save();\r\n\r\n","title":"Add remote via JGit","body":"<p>Managed it to work that way:</p>\n<pre><code>Git git = new Git(localRepository);\nStoredConfig config = git.getRepository().getConfig();\nconfig.setString(&quot;remote&quot;, &quot;origin&quot;, &quot;url&quot;, &quot;http://github.com/user/repo&quot;);\nconfig.save();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":391778,"reputation":6933,"user_id":752630,"accept_rate":69,"display_name":"mbonnin"},"score":0,"creation_date":1522833042,"post_id":47987676,"comment_id":86302092,"body_markdown":"Available since jgit 4.2 for those like me using an antique version","body":"Available since jgit 4.2 for those like me using an antique version"}],"tags":[],"owner":{"account_id":44775,"reputation":687,"user_id":131578,"accept_rate":75,"display_name":"Daniel Flower"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514357502,"creation_date":1514357502,"answer_id":47987676,"question_id":12799573,"body_markdown":"There are classes to add new ones:\r\n\r\n        RemoteAddCommand remoteAddCommand = git.remoteAdd();\r\n        remoteAddCommand.setName(&quot;origin&quot;);\r\n        remoteAddCommand.setUri(new URIish(&quot;http://github.com/user/repo&quot;));\r\n        remoteAddCommand.call();\r\n\r\nThere is a `RemoteSetUrlCommand` too.","title":"Add remote via JGit","body":"<p>There are classes to add new ones:</p>\n\n<pre><code>    RemoteAddCommand remoteAddCommand = git.remoteAdd();\n    remoteAddCommand.setName(\"origin\");\n    remoteAddCommand.setUri(new URIish(\"http://github.com/user/repo\"));\n    remoteAddCommand.call();\n</code></pre>\n\n<p>There is a <code>RemoteSetUrlCommand</code> too.</p>\n"},{"tags":[],"owner":{"account_id":1535458,"reputation":6426,"user_id":1431641,"display_name":"Shijing Lv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600147262,"creation_date":1600147262,"answer_id":63895571,"question_id":12799573,"body_markdown":"You can direct manipulate remote object with [git24j][1]\r\n\r\n\r\n    Repository repo = Repository.open(&quot;your-repository&quot;);\r\n    Remote upstream = Remote.create(repo, &quot;upstream&quot;, URI.create(&quot;http://github.com/user/repo&quot;));\r\n\r\nand of cause you can also do the same thing through git-config APIs:\r\n\r\n    Config cfg = Config.openOndisk(&quot;my-git.config&quot;);\r\n    cfg.setString(&quot;remote.url&quot;, &quot;http://github.com/user/repo&quot;);\r\n\r\n\r\n  [1]: https://github.com/git24j","title":"Add remote via JGit","body":"<p>You can direct manipulate remote object with <a href=\"https://github.com/git24j\" rel=\"nofollow noreferrer\">git24j</a></p>\n<pre><code>Repository repo = Repository.open(&quot;your-repository&quot;);\nRemote upstream = Remote.create(repo, &quot;upstream&quot;, URI.create(&quot;http://github.com/user/repo&quot;));\n</code></pre>\n<p>and of cause you can also do the same thing through git-config APIs:</p>\n<pre><code>Config cfg = Config.openOndisk(&quot;my-git.config&quot;);\ncfg.setString(&quot;remote.url&quot;, &quot;http://github.com/user/repo&quot;);\n</code></pre>\n"}],"owner":{"account_id":175178,"reputation":20166,"user_id":405013,"accept_rate":100,"display_name":"caarlos0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8415,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":12801356,"answer_count":3,"score":20,"last_activity_date":1667322565,"creation_date":1349784028,"question_id":12799573,"body_markdown":"I playing around JGit, I could successfully remove a remote from some repository (`git remote rm origin`), how can I do a `git remote add origin http://github.com/user/repo` ?\r\n\r\nTo remove I do the following:\r\n\r\n    StoredConfig config = git.getRepository().getConfig();\r\n    config.unsetSection(&quot;remote&quot;, &quot;origin&quot;);\r\n    config.save();\r\n\r\nBut there&#39;s no a option like `#setSection(String, String)`.\r\n\r\nThanks in advance.","title":"Add remote via JGit","body":"<p>I playing around JGit, I could successfully remove a remote from some repository (<code>git remote rm origin</code>), how can I do a <code>git remote add origin http://github.com/user/repo</code> ?</p>\n\n<p>To remove I do the following:</p>\n\n<pre><code>StoredConfig config = git.getRepository().getConfig();\nconfig.unsetSection(\"remote\", \"origin\");\nconfig.save();\n</code></pre>\n\n<p>But there's no a option like <code>#setSection(String, String)</code>.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","maven","dependencies","pom.xml","rest-assured"],"answers":[{"comments":[{"owner":{"account_id":26796279,"reputation":1,"user_id":20388975,"display_name":"abhi7394"},"score":0,"creation_date":1667378353,"post_id":74279364,"comment_id":131150527,"body_markdown":"After spending 3 hours it was finally solved. The problem was in Eclipse IDE. When a new java project is created it is by default creating module-info.java file. This is the problem. It needs to be unchecked so that Eclipse doesn&#39;t create it.","body":"After spending 3 hours it was finally solved. The problem was in Eclipse IDE. When a new java project is created it is by default creating module-info.java file. This is the problem. It needs to be unchecked so that Eclipse doesn&#39;t create it."}],"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667322246,"creation_date":1667322246,"answer_id":74279364,"question_id":74277626,"body_markdown":"Using exactly the same pom file, I had no issues resolving the Rest Assured.\r\nIt must be something else. Network related issues.\r\nTry purging the local maven repository:\r\n```\r\nmvn dependency:purge-local-repository\r\n```\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;DemoProject&lt;/groupId&gt;\r\n    &lt;artifactId&gt;DemoProject&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"import io.restassured.RestAssured cannot be resolved","body":"<p>Using exactly the same pom file, I had no issues resolving the Rest Assured.\nIt must be something else. Network related issues.\nTry purging the local maven repository:</p>\n<pre><code>mvn dependency:purge-local-repository\n</code></pre>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;DemoProject&lt;/groupId&gt;\n    &lt;artifactId&gt;DemoProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":26796279,"reputation":1,"user_id":20388975,"display_name":"abhi7394"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667322246,"creation_date":1667313629,"question_id":74277626,"body_markdown":"I am not able to resolve the error in Eclipse IDE\r\nThe type io.restassured.RestAssured is not accessible. I recreated the project, cleaned it, create POM again but still the issue. Below is my POM.\r\n\r\n`\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;DemoProject&lt;/groupId&gt;\r\n  &lt;artifactId&gt;DemoProject&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;build&gt;\r\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;18&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n  &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    &lt;version&gt;7.6.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n```\r\ntype here\r\n```\r\n`\r\n\r\nI am using latest dependencies from maven. ","title":"import io.restassured.RestAssured cannot be resolved","body":"<p>I am not able to resolve the error in Eclipse IDE\nThe type io.restassured.RestAssured is not accessible. I recreated the project, cleaned it, create POM again but still the issue. Below is my POM.</p>\n<p>`</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;DemoProject&lt;/groupId&gt;\n  &lt;artifactId&gt;DemoProject&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;18&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n  &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n    &lt;version&gt;5.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;7.6.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<pre><code>type here\n</code></pre>\n<p>`</p>\n<p>I am using latest dependencies from maven.</p>\n"},{"tags":["java","spring-boot","reactive","r2dbc"],"answers":[{"comments":[{"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"score":0,"creation_date":1666245835,"post_id":74133528,"comment_id":130891063,"body_markdown":"Thank you for answer. 1) Tests are 200 threads make 200 requests. So I think warming have a place there. 2) I have made my logging to OFF status- nothing changes.","body":"Thank you for answer. 1) Tests are 200 threads make 200 requests. So I think warming have a place there. 2) I have made my logging to OFF status- nothing changes."},{"owner":{"account_id":17898206,"reputation":225,"user_id":13003044,"display_name":"cpigeon"},"score":1,"creation_date":1666279924,"post_id":74133528,"comment_id":130904189,"body_markdown":"@ИгорьХодыко I have edited my answer - I performed similar load tests on similar apps.","body":"@ИгорьХодыко I have edited my answer - I performed similar load tests on similar apps."},{"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"score":0,"creation_date":1666515120,"post_id":74133528,"comment_id":130951578,"body_markdown":"I see your result and it looks good. I was checking post and get of one item. And it doesn&#39;t work for my application. Reactive app has the same result for post, but worst for get.","body":"I see your result and it looks good. I was checking post and get of one item. And it doesn&#39;t work for my application. Reactive app has the same result for post, but worst for get."},{"owner":{"account_id":17898206,"reputation":225,"user_id":13003044,"display_name":"cpigeon"},"score":1,"creation_date":1666520543,"post_id":74133528,"comment_id":130952404,"body_markdown":"@ИгорьХодыко Can&#39;t do much more without more info - your hardware, load test etc. What I can do is share my own source code for the two apps, which I&#39;ve now included in the answer.","body":"@ИгорьХодыко Can&#39;t do much more without more info - your hardware, load test etc. What I can do is share my own source code for the two apps, which I&#39;ve now included in the answer."},{"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"score":0,"creation_date":1666528839,"post_id":74133528,"comment_id":130953962,"body_markdown":"I have some changes. Declaring of thread-pool improved situation by two times. But reactive app is worse yet.","body":"I have some changes. Declaring of thread-pool improved situation by two times. But reactive app is worse yet."},{"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"score":0,"creation_date":1666591916,"post_id":74133528,"comment_id":130964838,"body_markdown":"I edit the question. add computer params and some changes. Do you think result is normal? Can you check result of post and get separatly on your apps?","body":"I edit the question. add computer params and some changes. Do you think result is normal? Can you check result of post and get separatly on your apps?"},{"owner":{"account_id":17898206,"reputation":225,"user_id":13003044,"display_name":"cpigeon"},"score":0,"creation_date":1666606425,"post_id":74133528,"comment_id":130968941,"body_markdown":"@ИгорьХодыко Those results are looking good! I would say that individual requests to a reactive app have a tiny bit more overhead than to a servlet app, but as you increase concurrent requests, the reactive app starts to come out ahead, so imo your updated results are in line with that. At a glance, my Gatling load tests were much more brutal on concurrency, hence the clear &quot;winner&quot;.","body":"@ИгорьХодыко Those results are looking good! I would say that individual requests to a reactive app have a tiny bit more overhead than to a servlet app, but as you increase concurrent requests, the reactive app starts to come out ahead, so imo your updated results are in line with that. At a glance, my Gatling load tests were much more brutal on concurrency, hence the clear &quot;winner&quot;."},{"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"score":0,"creation_date":1666635002,"post_id":74133528,"comment_id":130979173,"body_markdown":"Please check your GET and POST requests separately. I think that get is have a bad result in your case too. But POST has so big difference, that summary is perfect.","body":"Please check your GET and POST requests separately. I think that get is have a bad result in your case too. But POST has so big difference, that summary is perfect."},{"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"score":0,"creation_date":1666802389,"post_id":74133528,"comment_id":131023813,"body_markdown":"I&#39;ve invented my GET methods work in one thread, but POST work in different. I see it in log. But why?","body":"I&#39;ve invented my GET methods work in one thread, but POST work in different. I see it in log. But why?"}],"tags":[],"owner":{"account_id":17898206,"reputation":225,"user_id":13003044,"display_name":"cpigeon"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666520452,"creation_date":1666229232,"answer_id":74133528,"question_id":74120410,"body_markdown":"First, to answer in a more general sense, the reactive stack is - unfortunately - not a one-size-fits-all shortcut to make applications perform better. One of the main benefits of using WebFlux is its ability to handle more **concurrent requests** when compared to servlet.\r\n\r\nNow to the problem at hand. I will assume that the latency values you have given are averages obtained from a fairly heavy load test.\r\n\r\nOne thing that comes to mind is that the first couple of requests served by a reactive application after its startup always take extra time - this can be attributed to Netty initialization. For this reason, in busy production environments, we have always had some form of automated warmup in place. Although I assume your load tests send so many requests that this should not be a factor.\r\n\r\nFor the above reason, I am inclined to believe that the cause of this slowdown could be simply down to excessive logging - setting the package `org.springframework.r2dbc` to `DEBUG` level logs every single SQL statement executed - and in the context of a load test, excessive logging wreaks havoc on performance and pollutes results.\r\n\r\n---\r\n\r\nEdit\r\n---\r\n\r\nFor reference, I have built two similar apps with postgres based on your post. One servlet with JPA, and one reactive with R2DBC.\r\n\r\nI have executed a 30-second Gatling load test on both, simulating 200 constant concurrent users. The actual request sent was either an insert or a get operation, both had equal weight when it came to choosing.\r\n\r\n\r\nThe load test in question:\r\n\r\n```java\r\npublic class ReactiveApplicationLoadTest extends Simulation {\r\n    private static final String BASE_URL = &quot;http://localhost:8083&quot;;\r\n    private static final String BOOK_URI = &quot;/book&quot;;\r\n\r\n    HttpProtocolBuilder httpProtocol = http\r\n        .baseUrl(BASE_URL);\r\n\r\n    ScenarioBuilder scenario = scenario(&quot;Get All Books&quot;).randomSwitch()\r\n        .on(\r\n            Choice.withWeight(1, exec(\r\n                http(&quot;GET_ONE&quot;)\r\n                    .get(BOOK_URI + &quot;/1&quot;)\r\n            )),\r\n            Choice.withWeight(1, exec(\r\n                http(&quot;INSERT&quot;)\r\n                    .post(BOOK_URI)\r\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                    .body(StringBody(&quot;{\\&quot;name\\&quot;: \\&quot;book\\&quot;, \\&quot;author\\&quot;: \\&quot;author\\&quot;, \\&quot;text\\&quot;: \\&quot;text\\&quot;}&quot;))\r\n            ))\r\n        );\r\n\r\n    {\r\n        setUp(\r\n            scenario.injectClosed(constantConcurrentUsers(200).during(30)).protocols(httpProtocol)\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nMy computer&#39;s relevant specifications:\r\n- CPU: intel i7 11700K\r\n- RAM: 32GB DDR4 @ 3600MHz\r\n\r\nThe source code of the two apps:\r\n- [GitHub][1]\r\n\r\nThe results:\r\n- [Reactive][2]\r\n- [Servlet][3]\r\n\r\nMy results lean heavily in the favor of the reactive application, both in response times and the number of KO&#39;d requests.\r\n\r\nYou might notice that I did not include a &quot;get all&quot; request in the load test. The reason for this is that the sheer amount of items created in the load test don&#39;t mix well with this broad query, especially in a reactive context - this might be the source of the results you are seeing.\r\n\r\nTakeaway\r\n---\r\n\r\nConsider adding some form of pagination to your &quot;get all&quot; endpoints in both apps OR omit these calls from your load test, and then try again.\r\n\r\n\r\n  [1]: https://github.com/claypigeon123/SO_74120410\r\n  [2]: https://cpigeon-public-temp.s3.eu-central-1.amazonaws.com/reactive/index.html\r\n  [3]: https://cpigeon-public-temp.s3.eu-central-1.amazonaws.com/servlet/index.html","title":"Spring Boot Reactive java app is slower simple spring boot app. Why?","body":"<p>First, to answer in a more general sense, the reactive stack is - unfortunately - not a one-size-fits-all shortcut to make applications perform better. One of the main benefits of using WebFlux is its ability to handle more <strong>concurrent requests</strong> when compared to servlet.</p>\n<p>Now to the problem at hand. I will assume that the latency values you have given are averages obtained from a fairly heavy load test.</p>\n<p>One thing that comes to mind is that the first couple of requests served by a reactive application after its startup always take extra time - this can be attributed to Netty initialization. For this reason, in busy production environments, we have always had some form of automated warmup in place. Although I assume your load tests send so many requests that this should not be a factor.</p>\n<p>For the above reason, I am inclined to believe that the cause of this slowdown could be simply down to excessive logging - setting the package <code>org.springframework.r2dbc</code> to <code>DEBUG</code> level logs every single SQL statement executed - and in the context of a load test, excessive logging wreaks havoc on performance and pollutes results.</p>\n<hr />\n<h2>Edit</h2>\n<p>For reference, I have built two similar apps with postgres based on your post. One servlet with JPA, and one reactive with R2DBC.</p>\n<p>I have executed a 30-second Gatling load test on both, simulating 200 constant concurrent users. The actual request sent was either an insert or a get operation, both had equal weight when it came to choosing.</p>\n<p>The load test in question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ReactiveApplicationLoadTest extends Simulation {\n    private static final String BASE_URL = &quot;http://localhost:8083&quot;;\n    private static final String BOOK_URI = &quot;/book&quot;;\n\n    HttpProtocolBuilder httpProtocol = http\n        .baseUrl(BASE_URL);\n\n    ScenarioBuilder scenario = scenario(&quot;Get All Books&quot;).randomSwitch()\n        .on(\n            Choice.withWeight(1, exec(\n                http(&quot;GET_ONE&quot;)\n                    .get(BOOK_URI + &quot;/1&quot;)\n            )),\n            Choice.withWeight(1, exec(\n                http(&quot;INSERT&quot;)\n                    .post(BOOK_URI)\n                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                    .body(StringBody(&quot;{\\&quot;name\\&quot;: \\&quot;book\\&quot;, \\&quot;author\\&quot;: \\&quot;author\\&quot;, \\&quot;text\\&quot;: \\&quot;text\\&quot;}&quot;))\n            ))\n        );\n\n    {\n        setUp(\n            scenario.injectClosed(constantConcurrentUsers(200).during(30)).protocols(httpProtocol)\n        );\n    }\n}\n</code></pre>\n<p>My computer's relevant specifications:</p>\n<ul>\n<li>CPU: intel i7 11700K</li>\n<li>RAM: 32GB DDR4 @ 3600MHz</li>\n</ul>\n<p>The source code of the two apps:</p>\n<ul>\n<li><a href=\"https://github.com/claypigeon123/SO_74120410\" rel=\"nofollow noreferrer\">GitHub</a></li>\n</ul>\n<p>The results:</p>\n<ul>\n<li><a href=\"https://cpigeon-public-temp.s3.eu-central-1.amazonaws.com/reactive/index.html\" rel=\"nofollow noreferrer\">Reactive</a></li>\n<li><a href=\"https://cpigeon-public-temp.s3.eu-central-1.amazonaws.com/servlet/index.html\" rel=\"nofollow noreferrer\">Servlet</a></li>\n</ul>\n<p>My results lean heavily in the favor of the reactive application, both in response times and the number of KO'd requests.</p>\n<p>You might notice that I did not include a &quot;get all&quot; request in the load test. The reason for this is that the sheer amount of items created in the load test don't mix well with this broad query, especially in a reactive context - this might be the source of the results you are seeing.</p>\n<h2>Takeaway</h2>\n<p>Consider adding some form of pagination to your &quot;get all&quot; endpoints in both apps OR omit these calls from your load test, and then try again.</p>\n"},{"tags":[],"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667322157,"creation_date":1666634815,"answer_id":74185122,"question_id":74120410,"body_markdown":"This issue was solved by adding properties of thread-pool to \r\napplication.yml\r\n\r\n      spring:\r\n        r2dbc:  \r\n          pool:\r\n            initial-size: 10\r\n            max-size: 20\r\n\r\nAlso There is was used non-blocking subscription to repository\r\n\r\n    Mono.defer(()-&gt; Mono.from(bookRepository.findAllBookWithDelayById(id)\r\n                                 .subscribeOn(Schedulers.boundedElastic())));\r\n\r\nApplication became 1.8 times faster then non-reactive.\r\n\r\n","title":"Spring Boot Reactive java app is slower simple spring boot app. Why?","body":"<p>This issue was solved by adding properties of thread-pool to\napplication.yml</p>\n<pre><code>  spring:\n    r2dbc:  \n      pool:\n        initial-size: 10\n        max-size: 20\n</code></pre>\n<p>Also There is was used non-blocking subscription to repository</p>\n<pre><code>Mono.defer(()-&gt; Mono.from(bookRepository.findAllBookWithDelayById(id)\n                             .subscribeOn(Schedulers.boundedElastic())));\n</code></pre>\n<p>Application became 1.8 times faster then non-reactive.</p>\n"}],"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":"Игорь Ходыко"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1233,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74185122,"answer_count":2,"score":-1,"last_activity_date":1667322157,"creation_date":1666158257,"question_id":74120410,"body_markdown":"I made two apps with similar code on Spring Boot.\r\n1) Reactive Netty spring boot webflux r2dbc.\r\n2) Nonreactive Tomcat spring boot postgres.\r\n\r\n&lt;/br&gt;\r\nI expect reactive one is faster or has the same speed. But it is slower 6th time.\r\nI don&#39;t see any blocks there. In my opinion it is fully nonblocking app. Why so slowly?\r\nFor testing I have been using J-METER.\r\n200 threads 200 times\r\ngetAll 400 strings\r\nLatency of response nonreactive app - 190-240 ms.\r\nLatency of response reactive app - 1290-1350 ms.\r\n\r\nreactive pom\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.6&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;reactive&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;name&gt;reactive&lt;/name&gt;\r\n        &lt;description&gt;reactive&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;mapstruct.version&gt;1.4.2.Final&lt;/mapstruct.version&gt;\r\n            &lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n                &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;releases&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/releases&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;releases&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/releases&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    &lt;/project&gt;\r\nSpring boot entry point\r\n\r\n    @SpringBootApplication(exclude = {ReactiveSecurityAutoConfiguration.class})\r\n    @Configuration\r\n    @EnableR2dbcRepositories\r\n    public class ReactiveApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(ReactiveApplication.class, args);\r\n        }\r\n        \r\n    }\r\napplication.yml\r\n\r\n    server:\r\n      port : 8083\r\n    spring:\r\n      data:\r\n        r2dbc:\r\n          repositories:\r\n            enabled: true\r\n      r2dbc:\r\n        url: r2dbc:postgresql://localhost:5432/reactive\r\n        username: postgres\r\n        password: 12345\r\n        properties:\r\n          schema: bookshop\r\n    \r\n    logging:\r\n      level:\r\n        org:\r\n          springframework:\r\n            r2dbc: DEBUG\r\nController\r\n\r\n    package com.example.reactive.controller;\r\n    \r\n    import com.example.reactive.entity.Book;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import reactor.core.publisher.Flux;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    @RequestMapping(&quot;/book&quot;)\r\n    public interface BookController {\r\n    \r\n        @ResponseStatus(code = HttpStatus.OK)\r\n        @PostMapping(consumes = MediaType.APPLICATION_JSON_VALUE)\r\n        Mono&lt;Book&gt; saveBook(@RequestBody Book book);\r\n    \r\n        @ResponseStatus(code = HttpStatus.OK)\r\n        @GetMapping(&quot;/{id}&quot;)\r\n        Mono&lt;Book&gt; getBookById(@PathVariable Long id);\r\n    \r\n        @ResponseStatus(code = HttpStatus.OK)\r\n        @GetMapping(&quot;/all&quot;)\r\n        Flux&lt;Book&gt; getAllBooks();\r\n    }\r\nControllerImpl\r\n\r\n    package com.example.reactive.controller.impl;\r\n    \r\n    import com.example.reactive.controller.BookController;\r\n    import com.example.reactive.entity.Book;\r\n    import com.example.reactive.repository.BookRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import reactor.core.publisher.Flux;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class BookControllerImpl implements BookController {\r\n    \r\n        private final BookRepository bookRepository;\r\n    \r\n        @Override\r\n        public Mono&lt;Book&gt; saveBook(Book book) {\r\n            return bookRepository.save(book);\r\n        }\r\n    \r\n        @Override\r\n        public Mono&lt;Book&gt; getBookById(Long id) {\r\n            return bookRepository.findById(id);\r\n        }\r\n    \r\n        @Override\r\n        public Flux&lt;Book&gt; getAllBooks() {\r\n            return bookRepository.findAll();\r\n        }\r\n    }\r\n\r\nEntity\r\n\r\n    package com.example.reactive.entity;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.springframework.data.annotation.Id;\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class Book {\r\n        @Id\r\n        private Long id;\r\n        private String name;\r\n        private String author;\r\n        private String text;\r\n    }\r\nRepository\r\n\r\n    package com.example.reactive.repository;\r\n    \r\n    import com.example.reactive.entity.Book;\r\n    import org.springframework.data.repository.reactive.ReactiveCrudRepository;\r\n    \r\n    \r\n    public interface BookRepository extends ReactiveCrudRepository&lt;Book, Long&gt; {\r\n    }\r\n\r\nIf you need more information, feel free to write comments.\r\n\r\nEDITED\r\n\r\nAfter adding thread-pool parameters of min value 50 and max value 100, reactive app become faster.\r\nI don&#39;t use get All property to compare apps.\r\nFor testing I have been using J-METER.200 threads 200 times\r\n\r\n\r\nget 1 different string\r\n\r\nLatency of response nonreactive app - middle 6 ms.\r\nLatency of response reactive app - middle 10 ms.\r\n\r\npost 1 string\r\nLatency of response nonreactive app - middle 37 ms.\r\nLatency of response reactive app - middle 6 ms!!!!!!!!\r\n\r\n\r\nComputer parameters\r\nProcessor  Intel&#174; Core™ i 5-10400 CPU @ 2.90 GHz &#215; 12.\r\nRAM        16,0&#160;GB.\r\n","title":"Spring Boot Reactive java app is slower simple spring boot app. Why?","body":"<p>I made two apps with similar code on Spring Boot.</p>\n<ol>\n<li>Reactive Netty spring boot webflux r2dbc.</li>\n<li>Nonreactive Tomcat spring boot postgres.</li>\n</ol>\n\nI expect reactive one is faster or has the same speed. But it is slower 6th time.\nI don't see any blocks there. In my opinion it is fully nonblocking app. Why so slowly?\nFor testing I have been using J-METER.\n200 threads 200 times\ngetAll 400 strings\nLatency of response nonreactive app - 190-240 ms.\nLatency of response reactive app - 1290-1350 ms.\n<p>reactive pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;reactive&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;reactive&lt;/name&gt;\n    &lt;description&gt;reactive&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;mapstruct.version&gt;1.4.2.Final&lt;/mapstruct.version&gt;\n        &lt;lombok-mapstruct-binding.version&gt;0.2.0&lt;/lombok-mapstruct-binding.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n            &lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Spring boot entry point</p>\n<pre><code>@SpringBootApplication(exclude = {ReactiveSecurityAutoConfiguration.class})\n@Configuration\n@EnableR2dbcRepositories\npublic class ReactiveApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ReactiveApplication.class, args);\n    }\n    \n}\n</code></pre>\n<p>application.yml</p>\n<pre><code>server:\n  port : 8083\nspring:\n  data:\n    r2dbc:\n      repositories:\n        enabled: true\n  r2dbc:\n    url: r2dbc:postgresql://localhost:5432/reactive\n    username: postgres\n    password: 12345\n    properties:\n      schema: bookshop\n\nlogging:\n  level:\n    org:\n      springframework:\n        r2dbc: DEBUG\n</code></pre>\n<p>Controller</p>\n<pre><code>package com.example.reactive.controller;\n\nimport com.example.reactive.entity.Book;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.*;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\n@RequestMapping(&quot;/book&quot;)\npublic interface BookController {\n\n    @ResponseStatus(code = HttpStatus.OK)\n    @PostMapping(consumes = MediaType.APPLICATION_JSON_VALUE)\n    Mono&lt;Book&gt; saveBook(@RequestBody Book book);\n\n    @ResponseStatus(code = HttpStatus.OK)\n    @GetMapping(&quot;/{id}&quot;)\n    Mono&lt;Book&gt; getBookById(@PathVariable Long id);\n\n    @ResponseStatus(code = HttpStatus.OK)\n    @GetMapping(&quot;/all&quot;)\n    Flux&lt;Book&gt; getAllBooks();\n}\n</code></pre>\n<p>ControllerImpl</p>\n<pre><code>package com.example.reactive.controller.impl;\n\nimport com.example.reactive.controller.BookController;\nimport com.example.reactive.entity.Book;\nimport com.example.reactive.repository.BookRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.web.bind.annotation.RestController;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\n@RestController\n@RequiredArgsConstructor\npublic class BookControllerImpl implements BookController {\n\n    private final BookRepository bookRepository;\n\n    @Override\n    public Mono&lt;Book&gt; saveBook(Book book) {\n        return bookRepository.save(book);\n    }\n\n    @Override\n    public Mono&lt;Book&gt; getBookById(Long id) {\n        return bookRepository.findById(id);\n    }\n\n    @Override\n    public Flux&lt;Book&gt; getAllBooks() {\n        return bookRepository.findAll();\n    }\n}\n</code></pre>\n<p>Entity</p>\n<pre><code>package com.example.reactive.entity;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Book {\n    @Id\n    private Long id;\n    private String name;\n    private String author;\n    private String text;\n}\n</code></pre>\n<p>Repository</p>\n<pre><code>package com.example.reactive.repository;\n\nimport com.example.reactive.entity.Book;\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\n\n\npublic interface BookRepository extends ReactiveCrudRepository&lt;Book, Long&gt; {\n}\n</code></pre>\n<p>If you need more information, feel free to write comments.</p>\n<p>EDITED</p>\n<p>After adding thread-pool parameters of min value 50 and max value 100, reactive app become faster.\nI don't use get All property to compare apps.\nFor testing I have been using J-METER.200 threads 200 times</p>\n<p>get 1 different string</p>\n<p>Latency of response nonreactive app - middle 6 ms.\nLatency of response reactive app - middle 10 ms.</p>\n<p>post 1 string\nLatency of response nonreactive app - middle 37 ms.\nLatency of response reactive app - middle 6 ms!!!!!!!!</p>\n<p>Computer parameters\nProcessor  Intel® Core™ i 5-10400 CPU @ 2.90 GHz × 12.\nRAM        16,0 GB.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","mongock"],"comments":[{"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"score":0,"creation_date":1667321864,"post_id":74279263,"comment_id":131138363,"body_markdown":"i use mongock-spring-v5,mongodb-springdata-v3-driver.\nversion 4.3.8","body":"i use mongock-spring-v5,mongodb-springdata-v3-driver. version 4.3.8"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667396312,"post_id":74279263,"comment_id":131156824,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667321682,"creation_date":1667321682,"question_id":74279263,"body_markdown":"how to autowired MongockTemplate in SpringBootTest?\r\nMongockTemplate does not autowired in @SpringBootTest\r\nI try:\r\n\r\nfull exception:\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ru.fabit.visor.config.dbmigrations.MongoDBChangelog003PerfIndexesTest&#39;: Unsatisfied dependency expressed through field &#39;mongoTemplate&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.github.cloudyrock.mongock.driver.mongodb.springdata.v3.decorator.impl.MongockTemplate&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\r\nwhat i will need to do?","title":"MongockTemplate bean in integration test","body":"<p>how to autowired MongockTemplate in SpringBootTest?\nMongockTemplate does not autowired in @SpringBootTest\nI try:</p>\n<p>full exception:\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ru.fabit.visor.config.dbmigrations.MongoDBChangelog003PerfIndexesTest': Unsatisfied dependency expressed through field 'mongoTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.github.cloudyrock.mongock.driver.mongodb.springdata.v3.decorator.impl.MongockTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</p>\n<p>what i will need to do?</p>\n"},{"tags":["java","string","for-loop"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667317808,"post_id":74278022,"comment_id":131136908,"body_markdown":"You  need to break the loop when you see a vowel.","body":"You  need to break the loop when you see a vowel."},{"owner":{"account_id":26796583,"reputation":21,"user_id":20389234,"display_name":"Bibz"},"score":0,"creation_date":1667318425,"post_id":74278022,"comment_id":131137134,"body_markdown":"Where would you put the break though. I tried putting it inside the if statement but its telling me im out of bounds","body":"Where would you put the break though. I tried putting it inside the if statement but its telling me im out of bounds"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667318550,"post_id":74278022,"comment_id":131137174,"body_markdown":"right after vowel1=true and vowel2=true.","body":"right after vowel1=true and vowel2=true."},{"owner":{"account_id":26796583,"reputation":21,"user_id":20389234,"display_name":"Bibz"},"score":0,"creation_date":1667320240,"post_id":74278022,"comment_id":131137793,"body_markdown":"I updated what i modified in my code but its still telling me this:Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: Range [111, 111) out of bounds for length 22","body":"I updated what i modified in my code but its still telling me this:Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: Range [111, 111) out of bounds for length 22"},{"owner":{"account_id":26796583,"reputation":21,"user_id":20389234,"display_name":"Bibz"},"score":0,"creation_date":1667320388,"post_id":74278022,"comment_id":131137855,"body_markdown":"i dont understand how i can be out of bounds when i specified that &#39;i&#39; is smaller then the length","body":"i dont understand how i can be out of bounds when i specified that &#39;i&#39; is smaller then the length"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667320486,"post_id":74278022,"comment_id":131137902,"body_markdown":"you pos1 and ps2 should just be i and j.","body":"you pos1 and ps2 should just be i and j."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1667320549,"post_id":74278022,"comment_id":131137918,"body_markdown":"pos1 = s.charAt(i) would gives you the ascii code of the character at i. this is not what you want.  you just want i.","body":"pos1 = s.charAt(i) would gives you the ascii code of the character at i. this is not what you want.  you just want i."},{"owner":{"account_id":26796583,"reputation":21,"user_id":20389234,"display_name":"Bibz"},"score":0,"creation_date":1667321028,"post_id":74278022,"comment_id":131138068,"body_markdown":"it finally worked thank you so much","body":"it finally worked thank you so much"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667321205,"post_id":74278022,"comment_id":131138137,"body_markdown":"Your code would be a lot cleaner with a dedicated `isVowel(char c)` method, the body of which could be something like `return &quot;AEIOUY&quot;.indexOf(Character.toUpperCase(c)) &gt; -1;`","body":"Your code would be a lot cleaner with a dedicated <code>isVowel(char c)</code> method, the body of which could be something like <code>return &quot;AEIOUY&quot;.indexOf(Character.toUpperCase(c)) &gt; -1;</code>"}],"answers":[{"tags":[],"owner":{"account_id":22540249,"reputation":911,"user_id":16730900,"display_name":"jh316"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667315966,"creation_date":1667315966,"answer_id":74278095,"question_id":74278022,"body_markdown":"After the first for loop, i will be str.length() no matter what. You may want to create another variable to hold I when it&#39;s found to remedy this.","title":"Vowel substring","body":"<p>After the first for loop, i will be str.length() no matter what. You may want to create another variable to hold I when it's found to remedy this.</p>\n"},{"comments":[{"owner":{"account_id":26796583,"reputation":21,"user_id":20389234,"display_name":"Bibz"},"score":0,"creation_date":1667322930,"post_id":74279051,"comment_id":131138751,"body_markdown":"thank you. That&#39;s practical. I gotta be honest, I&#39;m just starting coding so all this is very new to me","body":"thank you. That&#39;s practical. I gotta be honest, I&#39;m just starting coding so all this is very new to me"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667321283,"creation_date":1667320712,"answer_id":74279051,"question_id":74278022,"body_markdown":"One way of looking at it is you have a lot of code to do a simple thing, which means more chances for bugs and errors.\r\n\r\nHere&#39;s a &quot;less code&quot; solution:\r\n\r\n    str = str.replaceAll(&quot;(?i)^[^aeiou]*|[^aeiou]*$&quot;, &quot;&quot;);\r\n\r\nSee [live demo][1].\r\n\r\nThis works by matching all leading and trailing non-vowels (if any) and replacing them with nothing, effectively deleting them.  \r\n`(?i)` makes the match case insensitive.\r\n\r\n\r\n  [1]: https://ideone.com/qKQgve","title":"Vowel substring","body":"<p>One way of looking at it is you have a lot of code to do a simple thing, which means more chances for bugs and errors.</p>\n<p>Here's a &quot;less code&quot; solution:</p>\n<pre><code>str = str.replaceAll(&quot;(?i)^[^aeiou]*|[^aeiou]*$&quot;, &quot;&quot;);\n</code></pre>\n<p>See <a href=\"https://ideone.com/qKQgve\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>This works by matching all leading and trailing non-vowels (if any) and replacing them with nothing, effectively deleting them.<br />\n<code>(?i)</code> makes the match case insensitive.</p>\n"}],"owner":{"account_id":26796583,"reputation":21,"user_id":20389234,"display_name":"Bibz"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667321283,"creation_date":1667315551,"question_id":74278022,"body_markdown":"I have to write a program that takes a String as user input and then prints a substring that starts with the first vowel of the String and ends with the last. So for instance if my String is : &quot;Hi I have a dog named Patch&quot;, the printed substring would be : &quot;i I have a dog named Pa&quot;\r\n\r\nThis is the code I have now: \r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.*;\r\npublic class SousChaineVoyelle {\r\n\tprivate static Scanner sc;\r\n\tpublic static void main (String[] args) {\r\n\t    \r\n\t\tsc = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Enter a String: &quot;);\r\n\t\tString str = sc.nextLine();\r\n\t\t\r\n\t\tint pos1 = 0;\r\n\t\tint pos2 = 0;\r\n\t\tint i;\r\n\t\tint j;\r\n\t\t\r\n\t\tboolean isVowel1 = false;\r\n\t\t\r\n\t\tboolean isVowel2 = false;\r\n\t\t\r\n\t\t\r\n\t\tfor (i = 0; i &lt; str.length(); i++){\r\n\t\t\tif (str.charAt(i) == &#39;A&#39; || str.charAt(i) == &#39;a&#39; || \r\n\t\t\tchaine.charAt(i) == &#39;E&#39; || str.charAt(i) == &#39;e&#39; || \r\n\t\t\tstr.charAt(i) == &#39;I&#39; || str.charAt(i) == &#39;i&#39; || \r\n\t\t\tstr.charAt(i) == &#39;O&#39; || str.charAt(i) == &#39;o&#39; || \r\n\t\t\tstr.charAt(i) == &#39;U&#39; || str.charAt(i) == &#39;u&#39; || \r\n\t\t\tstr.charAt(i) == &#39;Y&#39; || str.charAt(i) == &#39;y&#39;){\r\n\t\t\tisVowel1 = true;\r\n            break;\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t\tif (isVowel1){\r\n\t\t\tpos1 = str.charAt(i);\r\n\t\t}\r\n\t\t\r\n\t\tfor (j = str.length() - 1; j &gt; i; j--){\r\n\t\t\tif (str.charAt(j) == &#39;A&#39; || str.charAt(j) == &#39;a&#39; || \r\n\t\t\tstr.charAt(j) == &#39;E&#39; || str.charAt(j) == &#39;e&#39; || \r\n\t\t\tstr.charAt(j) == &#39;I&#39; || str.charAt(j) == &#39;i&#39; || \r\n\t\t\tstr.charAt(j) == &#39;O&#39; || str.charAt(j) == &#39;o&#39; || \r\n\t\t\tstr.charAt(j) == &#39;U&#39; || str.charAt(j) == &#39;u&#39; || \r\n\t\t\tstr.charAt(j) == &#39;Y&#39; || str.charAt(j) == &#39;y&#39;){\r\n\t\t\tisVowel2 = true;\r\n            break;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (isVowel2){\r\n\t\t\t\tpos2 = str.charAt(j);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\t\t\r\n\t\tString sub = chaine.substring(pos1, pos2);\r\n\t\t\r\n\t\tSystem.out.print(The substring from the first vowel to the last is  &quot;\\&quot;&quot; + sub +&quot;\\&quot;&quot;);\r\n\t}\r\n}\r\n\r\nthis got me this: \r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: Index 22 out of bounds for length 22\r\n        at java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:55)\r\n        at java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:52)\r\n        at java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:213)\r\n        at java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:210)\r\n        at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:98)\r\n        at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\r\n        at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\r\n        at java.base/java.lang.String.checkIndex(String.java:4557)\r\n        at java.base/java.lang.StringLatin1.charAt(StringLatin1.java:46)\r\n        at java.base/java.lang.String.charAt(String.java:1515)\r\n        at SousChaineVoyelle.main(SousChaineVoyelle.java:33)\r\n```\r\n","title":"Vowel substring","body":"<p>I have to write a program that takes a String as user input and then prints a substring that starts with the first vowel of the String and ends with the last. So for instance if my String is : &quot;Hi I have a dog named Patch&quot;, the printed substring would be : &quot;i I have a dog named Pa&quot;</p>\n<p>This is the code I have now:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.*;\npublic class SousChaineVoyelle {\n    private static Scanner sc;\n    public static void main (String[] args) {\n        \n        sc = new Scanner(System.in);\n        \n        System.out.print(&quot;Enter a String: &quot;);\n        String str = sc.nextLine();\n        \n        int pos1 = 0;\n        int pos2 = 0;\n        int i;\n        int j;\n        \n        boolean isVowel1 = false;\n        \n        boolean isVowel2 = false;\n        \n        \n        for (i = 0; i &lt; str.length(); i++){\n            if (str.charAt(i) == 'A' || str.charAt(i) == 'a' || \n            chaine.charAt(i) == 'E' || str.charAt(i) == 'e' || \n            str.charAt(i) == 'I' || str.charAt(i) == 'i' || \n            str.charAt(i) == 'O' || str.charAt(i) == 'o' || \n            str.charAt(i) == 'U' || str.charAt(i) == 'u' || \n            str.charAt(i) == 'Y' || str.charAt(i) == 'y'){\n            isVowel1 = true;\n            break;\n            }           \n        }\n        if (isVowel1){\n            pos1 = str.charAt(i);\n        }\n        \n        for (j = str.length() - 1; j &gt; i; j--){\n            if (str.charAt(j) == 'A' || str.charAt(j) == 'a' || \n            str.charAt(j) == 'E' || str.charAt(j) == 'e' || \n            str.charAt(j) == 'I' || str.charAt(j) == 'i' || \n            str.charAt(j) == 'O' || str.charAt(j) == 'o' || \n            str.charAt(j) == 'U' || str.charAt(j) == 'u' || \n            str.charAt(j) == 'Y' || str.charAt(j) == 'y'){\n            isVowel2 = true;\n            break;\n            }\n        }\n        if (isVowel2){\n                pos2 = str.charAt(j);\n        }\n        \n        \n                \n        String sub = chaine.substring(pos1, pos2);\n        \n        System.out.print(The substring from the first vowel to the last is  &quot;\\&quot;&quot; + sub +&quot;\\&quot;&quot;);\n    }\n}\n\nthis got me this: \n\n\n</code></pre>\n<p>Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: Index 22 out of bounds for length 22\nat java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:55)\nat java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:52)\nat java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:213)\nat java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:210)\nat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:98)\nat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\nat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\nat java.base/java.lang.String.checkIndex(String.java:4557)\nat java.base/java.lang.StringLatin1.charAt(StringLatin1.java:46)\nat java.base/java.lang.String.charAt(String.java:1515)\nat SousChaineVoyelle.main(SousChaineVoyelle.java:33)</p>\n<pre><code></code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1667320734,"post_id":74279001,"comment_id":131137983,"body_markdown":"Make sure Run is not delegated to Maven: https://i.imgur.com/HpeUaUE.png. Use Application configuration to start your app per https://www.jetbrains.com/help/idea/running-applications.html.","body":"Make sure Run is not delegated to Maven: <a href=\"https://i.imgur.com/HpeUaUE.png\" rel=\"nofollow noreferrer\">i.imgur.com/HpeUaUE.png</a>. Use Application configuration to start your app per <a href=\"https://www.jetbrains.com/help/idea/running-applications.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/running-applications.html</a>."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667321117,"creation_date":1667321117,"answer_id":74279149,"question_id":74279001,"body_markdown":"Make sure Run is [not delegated to Maven](https://i.stack.imgur.com/emNsQ.png). \r\n\r\nUse [Application configuration to start your app](https://www.jetbrains.com/help/idea/running-applications.html).","title":"How to prevent console output mixed with maven output?","body":"<p>Make sure Run is <a href=\"https://i.stack.imgur.com/emNsQ.png\" rel=\"nofollow noreferrer\">not delegated to Maven</a>.</p>\n<p>Use <a href=\"https://www.jetbrains.com/help/idea/running-applications.html\" rel=\"nofollow noreferrer\">Application configuration to start your app</a>.</p>\n"}],"owner":{"account_id":12014098,"reputation":836,"user_id":8789802,"display_name":"CodingStudent"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74279149,"answer_count":1,"score":0,"last_activity_date":1667321117,"creation_date":1667320455,"question_id":74279001,"body_markdown":"I don&#39;t know how to properly describe this problem. My output &quot;Hello World&quot; is mixed up with the maven build output. I marked it with **. Pls, look at codeblock. I am having a maven project with Java 19. My IDE is IntelliJ Ultimate 2022.3. And here are pictures of my settings. How can I make Intellij only do the output of the program? \r\n\r\n        &quot;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&quot; &quot;-Dmaven.multiModuleProjectDirectory=E:\\HDA\\Distributed Systems\\vs-projekt&quot; &quot;-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\plugins\\maven\\lib\\maven3&quot; &quot;-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\plugins\\maven\\lib\\maven3\\bin\\m2.conf&quot; &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\lib\\idea_rt.jar=60937:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.6.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds.license&quot; org.codehaus.classworlds.Launcher -Didea.version=2022.2.3 &quot;-Dexec.workingdir=E:/HDA/Distributed Systems/vs-projekt&quot; &quot;-Dexec.args=-classpath %classpath Main&quot; &quot;-Dexec.executable=C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&quot; exec:exec\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] -----------------------&lt; org.hda:Mo5x-Burchard &gt;------------------------\r\n    [INFO] Building Mo5x-Burchard 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- exec-maven-plugin:3.1.0:exec (default-cli) @ Mo5x-Burchard ---\r\n    **Hello World**\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  0.514 s\r\n    [INFO] Finished at: 2022-11-01T16:50:37+01:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    \r\n    Process finished with exit code 0\r\n\r\nDoes it maybe has something to do with my `pom.xml`?\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n            &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \r\n            &lt;groupId&gt;org.hda&lt;/groupId&gt;\r\n            &lt;artifactId&gt;Mo5x-Burchard&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        \r\n            &lt;properties&gt;\r\n                &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n                &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n            &lt;/properties&gt;\r\n        \r\n            &lt;build&gt;\r\n                &lt;defaultGoal&gt;compile&lt;/defaultGoal&gt;\r\n                &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.1.0&lt;/version&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.0.2&lt;/version&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.8.0&lt;/version&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.22.1&lt;/version&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.0.2&lt;/version&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.5.2&lt;/version&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.8.2&lt;/version&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.7.1&lt;/version&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.0.0&lt;/version&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/pluginManagement&gt;\r\n            &lt;/build&gt;\r\n        \r\n        &lt;/project&gt;\r\n\r\n   \r\n[![Maven Build Setting][1]][1]\r\n[![Project Run Config][2]][2]\r\n[![Java Compiler Setting][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M8SoO.png\r\n  [2]: https://i.stack.imgur.com/YVHa0.png\r\n  [3]: https://i.stack.imgur.com/4ATrK.png\r\n","title":"How to prevent console output mixed with maven output?","body":"<p>I don't know how to properly describe this problem. My output &quot;Hello World&quot; is mixed up with the maven build output. I marked it with **. Pls, look at codeblock. I am having a maven project with Java 19. My IDE is IntelliJ Ultimate 2022.3. And here are pictures of my settings. How can I make Intellij only do the output of the program?</p>\n<pre><code>    &quot;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&quot; &quot;-Dmaven.multiModuleProjectDirectory=E:\\HDA\\Distributed Systems\\vs-projekt&quot; &quot;-Dmaven.home=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\plugins\\maven\\lib\\maven3&quot; &quot;-Dclassworlds.conf=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\plugins\\maven\\lib\\maven3\\bin\\m2.conf&quot; &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\lib\\idea_rt.jar=60937:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds-2.6.0.jar;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.2.3\\plugins\\maven\\lib\\maven3\\boot\\plexus-classworlds.license&quot; org.codehaus.classworlds.Launcher -Didea.version=2022.2.3 &quot;-Dexec.workingdir=E:/HDA/Distributed Systems/vs-projekt&quot; &quot;-Dexec.args=-classpath %classpath Main&quot; &quot;-Dexec.executable=C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&quot; exec:exec\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -----------------------&lt; org.hda:Mo5x-Burchard &gt;------------------------\n[INFO] Building Mo5x-Burchard 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- exec-maven-plugin:3.1.0:exec (default-cli) @ Mo5x-Burchard ---\n**Hello World**\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.514 s\n[INFO] Finished at: 2022-11-01T16:50:37+01:00\n[INFO] ------------------------------------------------------------------------\n\nProcess finished with exit code 0\n</code></pre>\n<p>Does it maybe has something to do with my <code>pom.xml</code>?</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n        &lt;groupId&gt;org.hda&lt;/groupId&gt;\n        &lt;artifactId&gt;Mo5x-Burchard&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    \n        &lt;properties&gt;\n            &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n        &lt;/properties&gt;\n    \n        &lt;build&gt;\n            &lt;defaultGoal&gt;compile&lt;/defaultGoal&gt;\n            &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n                &lt;plugins&gt;\n                    &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.1.0&lt;/version&gt;\n                    &lt;/plugin&gt;\n                    &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.2&lt;/version&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.8.0&lt;/version&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.22.1&lt;/version&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.2&lt;/version&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.5.2&lt;/version&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.8.2&lt;/version&gt;\n                    &lt;/plugin&gt;\n                    &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.7.1&lt;/version&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.0&lt;/version&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/pluginManagement&gt;\n        &lt;/build&gt;\n    \n    &lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/M8SoO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M8SoO.png\" alt=\"Maven Build Setting\" /></a>\n<a href=\"https://i.stack.imgur.com/YVHa0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVHa0.png\" alt=\"Project Run Config\" /></a>\n<a href=\"https://i.stack.imgur.com/4ATrK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ATrK.png\" alt=\"Java Compiler Setting\" /></a></p>\n"},{"tags":["java","eclipse","scala","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1516304377,"post_id":48327960,"comment_id":83643821,"body_markdown":"First you should move you Scala into a different package than the `default`...","body":"First you should move you Scala into a different package than the <code>default</code>..."}],"answers":[{"tags":[],"owner":{"account_id":290886,"reputation":2322,"user_id":1825027,"accept_rate":100,"display_name":"Alex Savitsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516300420,"creation_date":1516300420,"answer_id":48328099,"question_id":48327960,"body_markdown":"It seems from your code structure that your Scala classes depend on Java, not the other way around. Yet in your Maven config, Scala gets compiled first. Change it to compile after Java classes.\r\n\r\nThe following plugin sequence works in my project:\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n","title":"maven project which has both java and scala","body":"<p>It seems from your code structure that your Scala classes depend on Java, not the other way around. Yet in your Maven config, Scala gets compiled first. Change it to compile after Java classes.</p>\n\n<p>The following plugin sequence works in my project:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6960621,"reputation":623,"user_id":5340181,"display_name":"JMess"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667320307,"creation_date":1667320307,"answer_id":74278969,"question_id":48327960,"body_markdown":"Its safest to go straight to the [page provided by the scala-maven-plugin docs][1] where you can find the current pom definition which supports dependencies in both directions\r\n\r\n\r\n  [1]: https://davidb.github.io/scala-maven-plugin/example_java.html","title":"maven project which has both java and scala","body":"<p>Its safest to go straight to the <a href=\"https://davidb.github.io/scala-maven-plugin/example_java.html\" rel=\"nofollow noreferrer\">page provided by the scala-maven-plugin docs</a> where you can find the current pom definition which supports dependencies in both directions</p>\n"}],"owner":{"account_id":3162598,"reputation":1052,"user_id":2673274,"accept_rate":84,"display_name":"Sameer Sarmah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3287,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667320307,"creation_date":1516299901,"question_id":48327960,"body_markdown":"I want to build a maven project which has both java and scala source code.\r\nI have installed scala IDE plugin in eclipse and added the **&quot;scala-maven-plugin&quot;**  in pom.xml but the imports of java classes in the scala files are giving compilation errors.\r\nWhich is the best IDE to build such mixed projects?\r\n\r\nThe project structure is \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sliqh.png\r\n\r\n\r\nThe pom.xml \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spark-examples_2.11&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n    &lt;!-- This plugin compiles Scala files --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;scala-compile-first&lt;/id&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;add-source&lt;/goal&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n    &lt;!-- This plugin compiles Java files --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n    &lt;!-- This plugin adds all dependencies to JAR file during &#39;package&#39; command.\r\n    Pay EXTRA attention to the &#39;mainClass&#39; tag. \r\n    You have to set name of class with entry point to program (&#39;main&#39; method) --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;ScalaRunner&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/pluginManagement&gt;  \r\n    &lt;/build&gt;\r\n    &lt;/project&gt;","title":"maven project which has both java and scala","body":"<p>I want to build a maven project which has both java and scala source code.\nI have installed scala IDE plugin in eclipse and added the <strong>\"scala-maven-plugin\"</strong>  in pom.xml but the imports of java classes in the scala files are giving compilation errors.\nWhich is the best IDE to build such mixed projects?</p>\n\n<p>The project structure is </p>\n\n<p><a href=\"https://i.stack.imgur.com/sliqh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sliqh.png\" alt=\"enter image description here\"></a></p>\n\n<p>The pom.xml </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n  &lt;artifactId&gt;spark-examples_2.11&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n        &lt;version&gt;2.11.7&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n&lt;pluginManagement&gt;\n    &lt;plugins&gt;\n&lt;!-- This plugin compiles Scala files --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;scala-compile-first&lt;/id&gt;\n                    &lt;phase&gt;process-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;add-source&lt;/goal&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n&lt;!-- This plugin compiles Java files --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n&lt;!-- This plugin adds all dependencies to JAR file during 'package' command.\nPay EXTRA attention to the 'mainClass' tag. \nYou have to set name of class with entry point to program ('main' method) --&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;ScalaRunner&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/pluginManagement&gt;  \n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","jvm","bytecode","signature","jvm-bytecode"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667267493,"post_id":74270707,"comment_id":131124425,"body_markdown":"Thank you, now could you possibly explain your question in greater detail and clarity?","body":"Thank you, now could you possibly explain your question in greater detail and clarity?"},{"owner":{"account_id":8580730,"reputation":272,"user_id":6428439,"display_name":"Lyon"},"score":0,"creation_date":1667267653,"post_id":74270707,"comment_id":131124445,"body_markdown":"For e.g.,  a string would be Ljava.lang.String, but how would i represent the above argument in jvm form. \n\n[Ljava.lang.String;Lcom.this.location ?","body":"For e.g.,  a string would be Ljava.lang.String, but how would i represent the above argument in jvm form.   [Ljava.lang.String;Lcom.this.location ?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1667267770,"post_id":74270707,"comment_id":131124461,"body_markdown":"Are you asking how something appears in a .class file?","body":"Are you asking how something appears in a .class file?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667267804,"post_id":74270707,"comment_id":131124466,"body_markdown":"I&#39;ve not heard of &quot;JVM form&quot; although I&#39;ve seen these descriptors in toString representation from objects that have not overridden Object&#39;s toString. Where would you use such a form?","body":"I&#39;ve not heard of &quot;JVM form&quot; although I&#39;ve seen these descriptors in toString representation from objects that have not overridden Object&#39;s toString. Where would you use such a form?"},{"owner":{"account_id":8580730,"reputation":272,"user_id":6428439,"display_name":"Lyon"},"score":0,"creation_date":1667267946,"post_id":74270707,"comment_id":131124481,"body_markdown":"yes perhaps my phrasing is incorrect. but i would like to see how it looks like. i have added an image into the post from jvm field descriptors.","body":"yes perhaps my phrasing is incorrect. but i would like to see how it looks like. i have added an image into the post from jvm field descriptors."},{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":1,"creation_date":1667309849,"post_id":74270707,"comment_id":131133977,"body_markdown":"[Images](//meta.stackoverflow.com/q/285551/90527) should not be used for textual data.","body":"<a href=\"//meta.stackoverflow.com/q/285551/90527\">Images</a> should not be used for textual data."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667279817,"creation_date":1667279817,"answer_id":74271804,"question_id":74270707,"body_markdown":"There are no arrays, and type erasure means generics don&#39;t matter.  So this is just `Ljava/lang/String;Lwhatever/package/ArrayMap;`.  `Task` doesn&#39;t show up at all.","title":"JVM field descriptor for array of multiple types","body":"<p>There are no arrays, and type erasure means generics don't matter.  So this is just <code>Ljava/lang/String;Lwhatever/package/ArrayMap;</code>.  <code>Task</code> doesn't show up at all.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667294958,"creation_date":1667294958,"answer_id":74273849,"question_id":74270707,"body_markdown":"There seems to be some confusion as you’re looking at a *field* descriptor but asking a question about a *method*. So you have to look at the [*method* descriptor documentation] just beneath the “Field Descriptors” section.\r\n\r\nA method descriptor has the form\r\n\r\n&gt; `(` ParameterDescriptor* `)` ReturnDescriptor\r\n\r\nwhere the parameter descriptors have the same form as field descriptors, concatenated without any separators and the return descriptor only differs from field descriptors in also allowing `V`, to denote a `void` method.\r\n\r\nSince your question doesn’t include the return type, and also doesn’t show the qualified name of the second parameter&#185; (we might assume the first one is `java.lang.String`), no complete answer can be given for this example. If the method has been declared like\r\n```java\r\nvoid callthismethod(java.lang.String a, some.location.ArrayMap&lt;String, Task&lt;String&gt;&gt; aa)\r\n```\r\nthe method descriptor would look like\r\n```\r\n(Ljava/lang/String;Lsome/location/ArrayMap;)V\r\n```\r\n\r\nNote that neither, field descriptors nor method descriptors, encode type arguments. [Generic signatures] are an entirely different thing, only used for Reflection and debugging, not for the normal execution of code.\r\n\r\nGetting the generic signature for your example is as problematic as getting the method descriptor, due to the missing information. Further, `com.this.location` is not a valid package name. Assuming `some.location` for `Task` as well, the generic signature would look like\r\n```\r\n(Ljava/lang/String;Lsome/location/ArrayMap&lt;Ljava/lang/String;Lsome/location/Task&lt;Ljava/lang/String;&gt;;&gt;;)V\r\n```\r\n\r\n---\r\n\r\n&#185; in fact, your declaration is entirely invalid as it tries to assign names to type arguments but not to the actual parameter.\r\n\r\n[*method* descriptor documentation]: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.3.3\r\n\r\n[Generic signatures]: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.3.4","title":"JVM field descriptor for array of multiple types","body":"<p>There seems to be some confusion as you’re looking at a <em>field</em> descriptor but asking a question about a <em>method</em>. So you have to look at the <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.3.3\" rel=\"nofollow noreferrer\"><em>method</em> descriptor documentation</a> just beneath the “Field Descriptors” section.</p>\n<p>A method descriptor has the form</p>\n<blockquote>\n<p><code>(</code> ParameterDescriptor* <code>)</code> ReturnDescriptor</p>\n</blockquote>\n<p>where the parameter descriptors have the same form as field descriptors, concatenated without any separators and the return descriptor only differs from field descriptors in also allowing <code>V</code>, to denote a <code>void</code> method.</p>\n<p>Since your question doesn’t include the return type, and also doesn’t show the qualified name of the second parameter¹ (we might assume the first one is <code>java.lang.String</code>), no complete answer can be given for this example. If the method has been declared like</p>\n<pre class=\"lang-java prettyprint-override\"><code>void callthismethod(java.lang.String a, some.location.ArrayMap&lt;String, Task&lt;String&gt;&gt; aa)\n</code></pre>\n<p>the method descriptor would look like</p>\n<pre><code>(Ljava/lang/String;Lsome/location/ArrayMap;)V\n</code></pre>\n<p>Note that neither, field descriptors nor method descriptors, encode type arguments. <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.3.4\" rel=\"nofollow noreferrer\">Generic signatures</a> are an entirely different thing, only used for Reflection and debugging, not for the normal execution of code.</p>\n<p>Getting the generic signature for your example is as problematic as getting the method descriptor, due to the missing information. Further, <code>com.this.location</code> is not a valid package name. Assuming <code>some.location</code> for <code>Task</code> as well, the generic signature would look like</p>\n<pre><code>(Ljava/lang/String;Lsome/location/ArrayMap&lt;Ljava/lang/String;Lsome/location/Task&lt;Ljava/lang/String;&gt;;&gt;;)V\n</code></pre>\n<hr />\n<p>¹ in fact, your declaration is entirely invalid as it tries to assign names to type arguments but not to the actual parameter.</p>\n"}],"owner":{"account_id":8580730,"reputation":272,"user_id":6428439,"display_name":"Lyon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":74273849,"answer_count":2,"score":1,"last_activity_date":1667320167,"creation_date":1667267337,"question_id":74270707,"body_markdown":"I am looking at https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.3.2\r\nand i am wondering how does one display the correct form of a method that takes in 2 different types.\r\n\r\nE.g.\r\n\r\n    callthismethod(String a, ArrayMap&lt;String aa, Task&lt;String aaa&gt; &gt; )\r\n\r\nwhere Task is imported from com.this.location\r\n\r\n&gt; The field descriptor of an instance variable of type `int` is simply `I`.\r\n&gt; \r\n&gt; The field descriptor of an instance variable of type `Object` is `Ljava/lang/Object;`. Note that the internal form of the binary name for class `Object` is used.\r\n&gt; \r\n&gt; The field descriptor of an instance variable that is a multidimensional `double` array, `double d[][][]`, is `[[[D`.","title":"JVM field descriptor for array of multiple types","body":"<p>I am looking at <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.3.2\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.3.2</a>\nand i am wondering how does one display the correct form of a method that takes in 2 different types.</p>\n<p>E.g.</p>\n<pre><code>callthismethod(String a, ArrayMap&lt;String aa, Task&lt;String aaa&gt; &gt; )\n</code></pre>\n<p>where Task is imported from com.this.location</p>\n<blockquote>\n<p>The field descriptor of an instance variable of type <code>int</code> is simply <code>I</code>.</p>\n<p>The field descriptor of an instance variable of type <code>Object</code> is <code>Ljava/lang/Object;</code>. Note that the internal form of the binary name for class <code>Object</code> is used.</p>\n<p>The field descriptor of an instance variable that is a multidimensional <code>double</code> array, <code>double d[][][]</code>, is <code>[[[D</code>.</p>\n</blockquote>\n"},{"tags":["java","spring","gradle","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667320106,"creation_date":1667320106,"answer_id":74278934,"question_id":74277581,"body_markdown":"you have not actually used the file appender with a real logger section - there may not be any loggers with exact name as &#39;weblogic&#39; in your runtime\r\n``` \r\n&lt;logger name=&quot;weblogic&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n    &lt;appender-ref ref=&quot;LOGFILE&quot;/&gt;\r\n&lt;/logger&gt;\r\n```\r\nto test if it works try \r\n```\r\n&lt;root level=&quot;INFO&quot;&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n    &lt;appender-ref ref=&quot;LOGFILE&quot;/&gt;\r\n&lt;/root&gt;\r\n```","title":"logback not writing to log files","body":"<p>you have not actually used the file appender with a real logger section - there may not be any loggers with exact name as 'weblogic' in your runtime</p>\n<pre><code>&lt;logger name=&quot;weblogic&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n    &lt;appender-ref ref=&quot;LOGFILE&quot;/&gt;\n&lt;/logger&gt;\n</code></pre>\n<p>to test if it works try</p>\n<pre><code>&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n    &lt;appender-ref ref=&quot;LOGFILE&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667320106,"creation_date":1667313461,"question_id":74277581,"body_markdown":"I have a logback xml as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration debug=&quot;false&quot; scan=&quot;true&quot;&gt;\r\n        &lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot; /&gt;\r\n    \t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \t\t&lt;encoder&gt;\r\n    \t\t\t&lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{50} - %msg%n&lt;/pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \t&lt;/appender&gt;\r\n    \t&lt;appender name=&quot;LOGFILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n                &lt;file&gt;/mnt/test/testLog.log&lt;/file&gt;\r\n                &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\r\n                    &lt;fileNamePattern&gt;/mnt/test/testLog_%i.log&lt;/fileNamePattern&gt;\r\n                    &lt;minIndex&gt;1&lt;/minIndex&gt;\r\n                    &lt;maxIndex&gt;10&lt;/maxIndex&gt;\r\n                &lt;/rollingPolicy&gt;\r\n    \r\n                &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\r\n                    &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n                &lt;/triggeringPolicy&gt;\r\n    \r\n                &lt;encoder&gt;\r\n                    &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{50} - %msg%n&lt;/pattern&gt;\r\n                &lt;/encoder&gt;\r\n            &lt;/appender&gt;\r\n    \t&lt;logger name=&quot;weblogic&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;appender-ref ref=&quot;LOGFILE&quot;/&gt;\r\n    \t&lt;/logger&gt;\r\n            &lt;logger name=&quot;org.apache&quot; level=&quot;ERROR&quot; /&gt;\r\n            &lt;logger name=&quot;httpclient&quot; level=&quot;ERROR&quot; /&gt;\r\n            &lt;logger name=&quot;org.test.abc&quot; level=&quot;INFO&quot; /&gt;\r\n            &lt;root level=&quot;INFO&quot;&gt;\r\n                &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n            &lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\n\r\nMy gradle entry is as follows:\r\n\r\nbuild.gradle dependencies is as follows:\r\n\r\n\r\n    dependencies {\r\n        compileOnly &#39;javax:javaee-api:8.0.1&#39;\r\n        // junit\r\n        implementation &#39;junit:junit:4.12&#39;\r\n        // logger\r\n        testImplementation &#39;ch.qos.logback:logback-classic:0.9.26&#39;\r\n        // jackson\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.3&#39;\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.3&#39;\r\n        implementation &#39;com.fasterxml.jackson.datatype:jackson-datatype-hibernate5:2.13.3&#39;\r\n        // hibernate\r\n        implementation &#39;org.hibernate.common:hibernate-commons-annotations:5.0.1.Final&#39;\r\n        implementation &#39;org.hibernate:hibernate-core:5.2.10.Final&#39;\r\n        // apache\r\n        implementation &#39;org.apache.commons:commons-lang3:3.12.0&#39;\r\n        implementation &#39;commons-io:commons-io:2.2&#39;\r\n        implementation &#39;org.apache.poi:poi:3.16&#39;\r\n        implementation &#39;org.apache.poi:poi-ooxml:3.16&#39;\r\n        implementation &#39;org.apache.poi:poi-ooxml-schemas:3.16&#39;\r\n        implementation &#39;org.apache.poi:ooxml-schemas:1.1&#39;\r\n        //  lombok\r\n        implementation &#39;org.projectlombok:lombok:1.18.12&#39;\r\n        // swagger\r\n        implementation &#39;io.swagger.core.v3:swagger-annotations:2.2.2&#39;\r\n        implementation &#39;io.swagger.core.v3:swagger-core:2.2.2&#39;\r\n        implementation &#39;io.swagger.core.v3:swagger-integration:2.2.2&#39;\r\n        implementation &#39;io.swagger.core.v3:swagger-jaxrs2:2.2.2&#39;\r\n        implementation &#39;io.springfox:springfox-boot-starter:3.0.0&#39;\r\n        // guava\r\n        implementation &#39;com.google.guava:guava:27.0.1-android&#39;\r\n        // jjwt\r\n        implementation &#39;io.jsonwebtoken:jjwt:0.9.1&#39;\r\n        // spring\r\n        implementation &#39;org.springframework:spring-core:5.2.6.RELEASE&#39;\r\n        implementation &#39;org.springframework:spring-webmvc:5.2.6.RELEASE&#39;\r\n        implementation &#39;org.springframework:spring-jdbc:5.2.6.RELEASE&#39;\r\n        implementation &#39;org.springframework.data:spring-data-jpa:2.2.7.RELEASE&#39;\r\n        // Spring security\r\n        implementation &#39;org.springframework.security:spring-security-core:5.2.6.RELEASE&#39;\r\n        implementation &#39;org.springframework.security.oauth:spring-security-oauth2:2.5.0.RELEASE&#39;\r\n        // AWS S3 related Jars\r\n        implementation group: &#39;software.amazon.awssdk&#39;, name: &#39;s3&#39;, version: &#39;2.17.282&#39;\r\n    \r\n        deploy files(war)\r\n    }\r\n\r\nWhile I compile and deploy the loggers appears in the console output but nothing is written to the  /mnt/test/testLog.log file. The reason i have given the dependecies is to make sure there is no version mismatch. Can someone let me know where am i going wrong with the gradle implementation.\r\n\r\nAny input is highly appreciated.","title":"logback not writing to log files","body":"<p>I have a logback xml as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration debug=&quot;false&quot; scan=&quot;true&quot;&gt;\n    &lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot; /&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{50} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;LOGFILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n            &lt;file&gt;/mnt/test/testLog.log&lt;/file&gt;\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.FixedWindowRollingPolicy&quot;&gt;\n                &lt;fileNamePattern&gt;/mnt/test/testLog_%i.log&lt;/fileNamePattern&gt;\n                &lt;minIndex&gt;1&lt;/minIndex&gt;\n                &lt;maxIndex&gt;10&lt;/maxIndex&gt;\n            &lt;/rollingPolicy&gt;\n\n            &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n            &lt;/triggeringPolicy&gt;\n\n            &lt;encoder&gt;\n                &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{50} - %msg%n&lt;/pattern&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n    &lt;logger name=&quot;weblogic&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;LOGFILE&quot;/&gt;\n    &lt;/logger&gt;\n        &lt;logger name=&quot;org.apache&quot; level=&quot;ERROR&quot; /&gt;\n        &lt;logger name=&quot;httpclient&quot; level=&quot;ERROR&quot; /&gt;\n        &lt;logger name=&quot;org.test.abc&quot; level=&quot;INFO&quot; /&gt;\n        &lt;root level=&quot;INFO&quot;&gt;\n            &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n        &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>My gradle entry is as follows:</p>\n<p>build.gradle dependencies is as follows:</p>\n<pre><code>dependencies {\n    compileOnly 'javax:javaee-api:8.0.1'\n    // junit\n    implementation 'junit:junit:4.12'\n    // logger\n    testImplementation 'ch.qos.logback:logback-classic:0.9.26'\n    // jackson\n    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.13.3'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.3'\n    implementation 'com.fasterxml.jackson.datatype:jackson-datatype-hibernate5:2.13.3'\n    // hibernate\n    implementation 'org.hibernate.common:hibernate-commons-annotations:5.0.1.Final'\n    implementation 'org.hibernate:hibernate-core:5.2.10.Final'\n    // apache\n    implementation 'org.apache.commons:commons-lang3:3.12.0'\n    implementation 'commons-io:commons-io:2.2'\n    implementation 'org.apache.poi:poi:3.16'\n    implementation 'org.apache.poi:poi-ooxml:3.16'\n    implementation 'org.apache.poi:poi-ooxml-schemas:3.16'\n    implementation 'org.apache.poi:ooxml-schemas:1.1'\n    //  lombok\n    implementation 'org.projectlombok:lombok:1.18.12'\n    // swagger\n    implementation 'io.swagger.core.v3:swagger-annotations:2.2.2'\n    implementation 'io.swagger.core.v3:swagger-core:2.2.2'\n    implementation 'io.swagger.core.v3:swagger-integration:2.2.2'\n    implementation 'io.swagger.core.v3:swagger-jaxrs2:2.2.2'\n    implementation 'io.springfox:springfox-boot-starter:3.0.0'\n    // guava\n    implementation 'com.google.guava:guava:27.0.1-android'\n    // jjwt\n    implementation 'io.jsonwebtoken:jjwt:0.9.1'\n    // spring\n    implementation 'org.springframework:spring-core:5.2.6.RELEASE'\n    implementation 'org.springframework:spring-webmvc:5.2.6.RELEASE'\n    implementation 'org.springframework:spring-jdbc:5.2.6.RELEASE'\n    implementation 'org.springframework.data:spring-data-jpa:2.2.7.RELEASE'\n    // Spring security\n    implementation 'org.springframework.security:spring-security-core:5.2.6.RELEASE'\n    implementation 'org.springframework.security.oauth:spring-security-oauth2:2.5.0.RELEASE'\n    // AWS S3 related Jars\n    implementation group: 'software.amazon.awssdk', name: 's3', version: '2.17.282'\n\n    deploy files(war)\n}\n</code></pre>\n<p>While I compile and deploy the loggers appears in the console output but nothing is written to the  /mnt/test/testLog.log file. The reason i have given the dependecies is to make sure there is no version mismatch. Can someone let me know where am i going wrong with the gradle implementation.</p>\n<p>Any input is highly appreciated.</p>\n"},{"tags":["java","json","spring","postman"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667319835,"creation_date":1667319835,"answer_id":74278879,"question_id":74278682,"body_markdown":"`firstname`, `firstName`, and `FirstName` are all different identifiers. They need to match.\r\n\r\nNote that following Java conventions will make your life much easier: The names of items that are not classes (variables, fields, methods) should start with lowercase letters. Additionally, following _REST_ conventions will make your life easier: POST already means &quot;add&quot;, so don&#39;t have an extra `/add` in the URL, just `POST /user`.","title":"Passing new object through postman raw json body gives null values","body":"<p><code>firstname</code>, <code>firstName</code>, and <code>FirstName</code> are all different identifiers. They need to match.</p>\n<p>Note that following Java conventions will make your life much easier: The names of items that are not classes (variables, fields, methods) should start with lowercase letters. Additionally, following <em>REST</em> conventions will make your life easier: POST already means &quot;add&quot;, so don't have an extra <code>/add</code> in the URL, just <code>POST /user</code>.</p>\n"}],"owner":{"account_id":23067229,"reputation":99,"user_id":17181501,"display_name":"Meadas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74278879,"answer_count":1,"score":-2,"last_activity_date":1667319835,"creation_date":1667318934,"question_id":74278682,"body_markdown":"Im trying to post a new object(Nuser) through postman using raw body json. The birthdate and insertion come through, but the first and lastname come as null value. I can&#39;t seem to find the problem by myself hence im asking it here.\r\n[![Postman][1]][1]\r\n[![Database][2]][2]\r\n\r\n**My baseuser class:**\r\n```\r\n@Entity\r\npublic abstract class BaseUser {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int Id;\r\n\r\n    private String FirstName;\r\n\r\n    private String LastName;\r\n    private String Insertion;\r\n    private LocalDate Birthdate;\r\n\r\n    public BaseUser() {\r\n    }\r\n\r\n    public BaseUser(String firstName, String lastName, String insertion, LocalDate birthdate) {\r\n        FirstName = firstName;\r\n        LastName = lastName;\r\n        Insertion = insertion;\r\n        Birthdate = birthdate;\r\n    }\r\n\r\n    public BaseUser(int id, String firstName, String lastName, String insertion, LocalDate birthdate) {\r\n        Id = id;\r\n        FirstName = firstName;\r\n        LastName = lastName;\r\n        Insertion = insertion;\r\n        Birthdate = birthdate;\r\n    }\r\n\r\n```\r\n**My Nuser class**\r\n```\r\n@Entity\r\npublic class Nuser extends BaseUser\r\n{\r\n    public Nuser(String firstName, String lastName, String insertion, LocalDate birthdate) {\r\n        super(firstName, lastName, insertion, birthdate);\r\n    }\r\n\r\n    public Nuser() {\r\n\r\n    }\r\n}\r\n```\r\n**The Nuser Controller**\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/user&quot;)\r\npublic class NuserController {\r\n\r\n    @Autowired\r\n    private NuserService nuserService;\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public String add(@RequestBody Nuser nuser)\r\n    {\r\n        nuserService.AddUser(nuser);\r\n        return &quot;New account has been made&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/syhEU.png\r\n  [2]: https://i.stack.imgur.com/Wu7MY.png","title":"Passing new object through postman raw json body gives null values","body":"<p>Im trying to post a new object(Nuser) through postman using raw body json. The birthdate and insertion come through, but the first and lastname come as null value. I can't seem to find the problem by myself hence im asking it here.\n<a href=\"https://i.stack.imgur.com/syhEU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/syhEU.png\" alt=\"Postman\" /></a>\n<a href=\"https://i.stack.imgur.com/Wu7MY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wu7MY.png\" alt=\"Database\" /></a></p>\n<p><strong>My baseuser class:</strong></p>\n<pre><code>@Entity\npublic abstract class BaseUser {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int Id;\n\n    private String FirstName;\n\n    private String LastName;\n    private String Insertion;\n    private LocalDate Birthdate;\n\n    public BaseUser() {\n    }\n\n    public BaseUser(String firstName, String lastName, String insertion, LocalDate birthdate) {\n        FirstName = firstName;\n        LastName = lastName;\n        Insertion = insertion;\n        Birthdate = birthdate;\n    }\n\n    public BaseUser(int id, String firstName, String lastName, String insertion, LocalDate birthdate) {\n        Id = id;\n        FirstName = firstName;\n        LastName = lastName;\n        Insertion = insertion;\n        Birthdate = birthdate;\n    }\n\n</code></pre>\n<p><strong>My Nuser class</strong></p>\n<pre><code>@Entity\npublic class Nuser extends BaseUser\n{\n    public Nuser(String firstName, String lastName, String insertion, LocalDate birthdate) {\n        super(firstName, lastName, insertion, birthdate);\n    }\n\n    public Nuser() {\n\n    }\n}\n</code></pre>\n<p><strong>The Nuser Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class NuserController {\n\n    @Autowired\n    private NuserService nuserService;\n\n    @PostMapping(&quot;/add&quot;)\n    public String add(@RequestBody Nuser nuser)\n    {\n        nuserService.AddUser(nuser);\n        return &quot;New account has been made&quot;;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":1540148,"reputation":1578,"user_id":1435014,"display_name":"Abhishek"},"score":0,"creation_date":1547466960,"post_id":54180946,"comment_id":95190281,"body_markdown":"Have you checked Kafka property `auto.offset.reset = latest` ?","body":"Have you checked Kafka property <code>auto.offset.reset = latest</code> ?"},{"owner":{"account_id":15120466,"reputation":87,"user_id":10911410,"display_name":"Ngoc Dinh Cong"},"score":0,"creation_date":1547467376,"post_id":54180946,"comment_id":95190506,"body_markdown":"@apandey846: Yes, i&#39;ve added, I use Spring cloud binding with these configs:\n`resetOffsets: true\nstartOffset: latest\n`","body":"@apandey846: Yes, i&#39;ve added, I use Spring cloud binding with these configs: <code>resetOffsets: true startOffset: latest </code>"}],"answers":[{"tags":[],"owner":{"account_id":1439802,"reputation":610,"user_id":1360276,"accept_rate":44,"display_name":"saabeilin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1547499373,"creation_date":1547499373,"answer_id":54189051,"question_id":54180946,"body_markdown":"Your consumers store their offset (that is, the last read position). After restart, they continue reading from this point. This behavior is by design.\r\n\r\nThe offset reset properties are used when the offset for this particular consumer group is not yet known for some reason (say, it&#39;s a new consumer group or offsets have expired), but still, there are generally two options - a) reread all from the beginning b) start listening for new messages, forgetting everything that was before now.\r\n\r\nThere are _hacky_ ways to achieve what you&#39;ve described, but they are not straightforward and not recommended (a trivial one: consumer messages while just skipping them until you reach the partition EOF)\r\n\r\nMaybe just Kafka is not the right tool for this problem.","title":"How to retrieve lastest message from Kafka topic","body":"<p>Your consumers store their offset (that is, the last read position). After restart, they continue reading from this point. This behavior is by design.</p>\n\n<p>The offset reset properties are used when the offset for this particular consumer group is not yet known for some reason (say, it's a new consumer group or offsets have expired), but still, there are generally two options - a) reread all from the beginning b) start listening for new messages, forgetting everything that was before now.</p>\n\n<p>There are <em>hacky</em> ways to achieve what you've described, but they are not straightforward and not recommended (a trivial one: consumer messages while just skipping them until you reach the partition EOF)</p>\n\n<p>Maybe just Kafka is not the right tool for this problem.</p>\n"},{"tags":[],"owner":{"account_id":2770777,"reputation":3081,"user_id":2385424,"accept_rate":41,"display_name":"Vibhor Bhardwaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667319588,"creation_date":1667319588,"answer_id":74278826,"question_id":54180946,"body_markdown":"The problem which you are mentioning is the Application Integration Problem. For this kind of Problem, we can use RabitMQ or IBM MQ.","title":"How to retrieve lastest message from Kafka topic","body":"<p>The problem which you are mentioning is the Application Integration Problem. For this kind of Problem, we can use RabitMQ or IBM MQ.</p>\n"}],"owner":{"account_id":15120466,"reputation":87,"user_id":10911410,"display_name":"Ngoc Dinh Cong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54189051,"answer_count":2,"score":0,"last_activity_date":1667319588,"creation_date":1547466472,"question_id":54180946,"body_markdown":"I&#39;m just a newbie of Kafka and I have a problem:\r\n\r\nI have topic &#39;A&#39; in Kafka, I start Spring boot app and use MessageChannel to send some message to topic &#39;A&#39;, then I stop app.\r\n\r\nIs there anyway to get the latest message I&#39;ve sent to topic &#39;A&#39; (not all message) when I start app again? I&#39;ve searched all solutions but they did not help me much, it always receive message immediately if I only sending new message. If you have runable code, pls share, I very much appreciated :(\r\n\r\n\r\n        // Start application\r\n\r\n\r\n        // Get latest message in topic &#39;A&#39; then do some LOGIC\r\n        if (exist latest message) {\r\n              //Print latest message\r\n        }\r\n\r\n\r\n       \r\n\r\n        \r\n\r\n","title":"How to retrieve lastest message from Kafka topic","body":"<p>I'm just a newbie of Kafka and I have a problem:</p>\n\n<p>I have topic 'A' in Kafka, I start Spring boot app and use MessageChannel to send some message to topic 'A', then I stop app.</p>\n\n<p>Is there anyway to get the latest message I've sent to topic 'A' (not all message) when I start app again? I've searched all solutions but they did not help me much, it always receive message immediately if I only sending new message. If you have runable code, pls share, I very much appreciated :(</p>\n\n<pre><code>    // Start application\n\n\n    // Get latest message in topic 'A' then do some LOGIC\n    if (exist latest message) {\n          //Print latest message\n    }\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667319558,"creation_date":1667318805,"answer_id":74278665,"question_id":74278066,"body_markdown":"The `jdk.dio.mmio` package is a Java ME package. It is not part of Java SE ... which is what OpenJDK Java 18 is.\r\n\r\nThere is nothing that is directly equivalent to the Java ME `jdk.dio.mmio` package in Java SE.\r\n\r\n\r\n----------------\r\n\r\nA DIO (device I/O) codebase is available in the java.net Mercurial repositories; see https://wiki.openjdk.org/display/dio/Getting+Started for more information.   \r\n\r\n  - It doesn&#39;t look like the source code on java.net corresponds to the Java ME javadocs that you found.\r\n  - I suspect that the Java ME version of the source code is only available to Java ME (source) license holders.  AFAIK, it is not open source.\r\n\r\n\r\n","title":"Can not find jdk.dio package","body":"<p>The <code>jdk.dio.mmio</code> package is a Java ME package. It is not part of Java SE ... which is what OpenJDK Java 18 is.</p>\n<p>There is nothing that is directly equivalent to the Java ME <code>jdk.dio.mmio</code> package in Java SE.</p>\n<hr />\n<p>A DIO (device I/O) codebase is available in the java.net Mercurial repositories; see <a href=\"https://wiki.openjdk.org/display/dio/Getting+Started\" rel=\"nofollow noreferrer\">https://wiki.openjdk.org/display/dio/Getting+Started</a> for more information.</p>\n<ul>\n<li>It doesn't look like the source code on java.net corresponds to the Java ME javadocs that you found.</li>\n<li>I suspect that the Java ME version of the source code is only available to Java ME (source) license holders.  AFAIK, it is not open source.</li>\n</ul>\n"}],"owner":{"account_id":24253326,"reputation":31,"user_id":19008587,"display_name":"lcwstudio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667319558,"creation_date":1667315793,"question_id":74278066,"body_markdown":"I use openjdk18. When I am importing jdk.dio.mmio, the IDE says cannot find jdk.dio package. I also find the jdk package only has few packages. This pages says jdk.* is existed.\r\nhttps://docs.oracle.com/javame/config/cldc/opt-pkgs/api/dio-jmee8/api/jdk/dio/mmio/package-summary.html","title":"Can not find jdk.dio package","body":"<p>I use openjdk18. When I am importing jdk.dio.mmio, the IDE says cannot find jdk.dio package. I also find the jdk package only has few packages. This pages says jdk.* is existed.\n<a href=\"https://docs.oracle.com/javame/config/cldc/opt-pkgs/api/dio-jmee8/api/jdk/dio/mmio/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javame/config/cldc/opt-pkgs/api/dio-jmee8/api/jdk/dio/mmio/package-summary.html</a></p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9306,"page":917,"page_size":100}
