{"items":[{"tags":["java","hibernate","jpa","spring-data-jpa","entity"],"answers":[{"comments":[{"owner":{"account_id":5071729,"reputation":157,"user_id":4070318,"display_name":"Niteesh Bhargava"},"score":1,"creation_date":1695662949,"post_id":77162486,"comment_id":136051645,"body_markdown":"Hi Ari thanks for your answer, but I just want to make it work with all JPA find/get queries. Also it should also work when somebody uses HQL queries (not SQL though as it’s hard to detect). Not sure how AOP custom annotation will support this. Can you share an example if possible please.","body":"Hi Ari thanks for your answer, but I just want to make it work with all JPA find/get queries. Also it should also work when somebody uses HQL queries (not SQL though as it’s hard to detect). Not sure how AOP custom annotation will support this. Can you share an example if possible please."}],"tags":[],"owner":{"account_id":19020551,"reputation":1,"user_id":13884718,"display_name":"Ari Susanto Lie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695462922,"creation_date":1695462922,"answer_id":77162486,"question_id":72141785,"body_markdown":"I think you can implement AOP in this case, like using custom annotation. so configure the AOP when custom annotation used in a specific function. it will trigger the AOP to update the entity. or you can config to in package level, so every function in that package call will trigger AOP to update the entity.","title":"Is there a @LastAccessedTimestamp in JPA","body":"<p>I think you can implement AOP in this case, like using custom annotation. so configure the AOP when custom annotation used in a specific function. it will trigger the AOP to update the entity. or you can config to in package level, so every function in that package call will trigger AOP to update the entity.</p>\n"}],"owner":{"account_id":5071729,"reputation":157,"user_id":4070318,"display_name":"Niteesh Bhargava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695462922,"creation_date":1651841617,"question_id":72141785,"body_markdown":"I want to store the last read time in a Date column when ever someone tries to load or fetch(select query, findBy methods) a entity\r\n\r\nI had a look at `@PostLoad` as explained [in this site][1] . Have following questions :-\r\n\r\n(a)Just want to know if this is safe to Update entity in `@PostLoad`\r\n\r\n(b) Is there something like `@LastAcessedTime` in JPA similar to `@UpdateTimestamp` ?\r\n\r\n    import lombok.Data;\r\n    import org.hibernate.annotations.CreationTimestamp;\r\n    import org.hibernate.annotations.UpdateTimestamp;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import java.time.LocalDate;\r\n    \r\n    @Data\r\n    @Entity\r\n    public class SensitiveInfo {\r\n        @Id\r\n        private Long id; \r\n        \r\n        private String data;\r\n        \r\n        @CreationTimestamp\r\n        private LocalDate createdDate;\r\n    \r\n        @UpdateTimestamp\r\n        private LocalDate updationTimeStamp;\r\n\r\n        // Is there a JPA automatic way to Update this field any time hibernate loads this entity ?\r\n        private LocalDate updationTimeStamp;\r\n        \r\n    }\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-entity-lifecycle-events","title":"Is there a @LastAccessedTimestamp in JPA","body":"<p>I want to store the last read time in a Date column when ever someone tries to load or fetch(select query, findBy methods) a entity</p>\n<p>I had a look at <code>@PostLoad</code> as explained <a href=\"https://www.baeldung.com/jpa-entity-lifecycle-events\" rel=\"nofollow noreferrer\">in this site</a> . Have following questions :-</p>\n<p>(a)Just want to know if this is safe to Update entity in <code>@PostLoad</code></p>\n<p>(b) Is there something like <code>@LastAcessedTime</code> in JPA similar to <code>@UpdateTimestamp</code> ?</p>\n<pre><code>import lombok.Data;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport java.time.LocalDate;\n\n@Data\n@Entity\npublic class SensitiveInfo {\n    @Id\n    private Long id; \n    \n    private String data;\n    \n    @CreationTimestamp\n    private LocalDate createdDate;\n\n    @UpdateTimestamp\n    private LocalDate updationTimeStamp;\n\n    // Is there a JPA automatic way to Update this field any time hibernate loads this entity ?\n    private LocalDate updationTimeStamp;\n    \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1695371997,"post_id":77155637,"comment_id":136018311,"body_markdown":"Well, I suggest you stop using `Date`, `Calendar` and `SimpleDateFormat`. Those are obsolete classes. Instead you could use classes from the `java.time` package.","body":"Well, I suggest you stop using <code>Date</code>, <code>Calendar</code> and <code>SimpleDateFormat</code>. Those are obsolete classes. Instead you could use classes from the <code>java.time</code> package."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1695372138,"post_id":77155637,"comment_id":136018342,"body_markdown":"Also, you seem to be using `String`s where, IMHO, you shouldn&#39;t. For example, the variables `timestamp` and `expiryInDays` should be numeric.","body":"Also, you seem to be using <code>String</code>s where, IMHO, you shouldn&#39;t. For example, the variables <code>timestamp</code> and <code>expiryInDays</code> should be numeric."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695383845,"post_id":77155637,"comment_id":136020739,"body_markdown":"@MCEmperor Nothing I know, obviously, the numbers you mention *may* come in as strings, for example from a request from another system or from configuration. Otherwise you are correct, of course.","body":"@MCEmperor Nothing I know, obviously, the numbers you mention <i>may</i> come in as strings, for example from a request from another system or from configuration. Otherwise you are correct, of course."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695384520,"post_id":77155637,"comment_id":136020873,"body_markdown":"While your code is unnecessarily complicated and as others have said, it’s bad that it uses the troublesome and outdated date-time classes, I can’t spot any bug in it. Theoretical (far-fetched?) reasons for your observed date include (1) Your `Calendar` object is not an instance of `GregorianCalendar` (though this ought not make any great difference) (2) The value of `expiryInDays` is not 90 as you think, but 2 or 3.","body":"While your code is unnecessarily complicated and as others have said, it’s bad that it uses the troublesome and outdated date-time classes, I can’t spot any bug in it. Theoretical (far-fetched?) reasons for your observed date include (1) Your <code>Calendar</code> object is not an instance of <code>GregorianCalendar</code> (though this ought not make any great difference) (2) The value of <code>expiryInDays</code> is not 90 as you think, but 2 or 3."},{"owner":{"account_id":19345682,"reputation":71,"user_id":14144308,"display_name":"Redwood Thomas"},"score":1,"creation_date":1695549834,"post_id":77155637,"comment_id":136036995,"body_markdown":"Thanks for your suggestions. This is infact legacy code and not something I have written. The variables timestamp and expiryInDate are String data type variables. The value of expiryInDate is set in a properties file as a string variable. The timestamp variable is coming in as a parameter from the server. Thank you for your suggestions, I will try to check what can be changed and incorporated.","body":"Thanks for your suggestions. This is infact legacy code and not something I have written. The variables timestamp and expiryInDate are String data type variables. The value of expiryInDate is set in a properties file as a string variable. The timestamp variable is coming in as a parameter from the server. Thank you for your suggestions, I will try to check what can be changed and incorporated."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695383701,"post_id":77156214,"comment_id":136020708,"body_markdown":"There’s a lot of good information and suggestions here, thanks. Ignoring the time zone issue may account for the expiration date being 1 or 2 days off, which is bad enough, not for a difference of 87 days as in the question.","body":"There’s a lot of good information and suggestions here, thanks. Ignoring the time zone issue may account for the expiration date being 1 or 2 days off, which is bad enough, not for a difference of 87 days as in the question."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1695388718,"post_id":77156214,"comment_id":136021685,"body_markdown":"That&#39;s correct, @OleV.V., this is a different option which might work on OP&#39;s server but does not explain the behaviour of the example code there. However, it might add value. I will remove this as soon as I find out it does not add value.","body":"That&#39;s correct, @OleV.V., this is a different option which might work on OP&#39;s server but does not explain the behaviour of the example code there. However, it might add value. I will remove this as soon as I find out it does not add value."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1695389620,"post_id":77156214,"comment_id":136021887,"body_markdown":"No problem, I actually just wanted to add value while regarding upvotes as a bonus.","body":"No problem, I actually just wanted to add value while regarding upvotes as a bonus."},{"owner":{"account_id":19345682,"reputation":71,"user_id":14144308,"display_name":"Redwood Thomas"},"score":1,"creation_date":1695549869,"post_id":77156214,"comment_id":136036998,"body_markdown":"Thanks for your suggestions. This is infact legacy code and not something I have written. The variables timestamp and expiryInDate are String data type variables. The value of expiryInDate is set in a properties file as a string variable. The timestamp variable is coming in as a parameter from the server. Thank you for your suggestions, I will try to check what can be changed and incorporated.","body":"Thanks for your suggestions. This is infact legacy code and not something I have written. The variables timestamp and expiryInDate are String data type variables. The value of expiryInDate is set in a properties file as a string variable. The timestamp variable is coming in as a parameter from the server. Thank you for your suggestions, I will try to check what can be changed and incorporated."}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695373347,"creation_date":1695373347,"answer_id":77156214,"question_id":77155637,"body_markdown":"You should be controlling the time zone / zone id this code uses, the server does not necessarily have the same one as your system.\r\n\r\nI would do that by using `java.time` and separating the validation from any debug / info output.\r\n\r\nJust use a method that tells you if the URL has expired or not, maybe like this:\r\n\r\n```Java\r\npublic static boolean hasExpired(Instant urlCreatedAt, Instant now) {\r\n\tInstant urlExpiresAt = urlCreatedAt.plus(90, ChronoUnit.DAYS);\r\n\treturn now.isAfter(urlExpiresAt);\r\n}\r\n```\r\n\r\nThen provide some timestamps, pass them to the method, output their values in date-time style in a specific `ZoneId`:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// provide some arbitrary url creation times\r\n\tList&lt;Long&gt; urlCreationTimes = List.of(\r\n\t\t\t\t1635364328794L,\r\n\t\t\t\t1655364328794L,\r\n\t\t\t\t1685364328794L,\r\n\t\t\t\t1695364328794L,\r\n\t\t\t\t1795364328794L\r\n\t\t\t);\r\n\t// get now\r\n\tInstant now = Instant.now();\r\n\t// define the zone you want to display the expiry date\r\n\tZoneId serverZone = ZoneId.of(&quot;Australia/Brisbane&quot;);\r\n\t// check for each creation time if it has expired\r\n\turlCreationTimes.forEach(creationTime -&gt; {\r\n\t\t// create an Instant from the creation timestamp\r\n\t\tInstant createdAt = Instant.ofEpochMilli(creationTime);\r\n\t\t// check if the URL has expired and print out some information\r\n\t\tif (hasExpired(createdAt, now)) {\r\n\t\t\tSystem.out.println(\r\n\t\t\t\tString.format(\r\n\t\t\t\t\t&quot;The Activation URL has expired on %s&quot;,\r\n\t\t\t\t\tcreatedAt.plus(90, ChronoUnit.DAYS)\r\n\t\t\t\t\t\t\t .atZone(serverZone)\r\n\t\t\t\t   \t\t\t .format(dtfDate)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(\r\n\t\t\t\tString.format(&quot;The Activation URL will expire on %s&quot;,\r\n\t\t   \t\t\t \tcreatedAt.plus(90, ChronoUnit.DAYS)\r\n\t\t\t\t\t\t\t\t .atZone(serverZone)\r\n\t\t\t\t\t   \t\t\t .format(dtfDate))\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n}\r\n```\r\n\r\nThis will output the *date plus offset from UTC* the URL either has expired or will expire…\r\n\r\n```none\r\nThe Activation URL has expired on 26/01/22 (+10:00)\r\nThe Activation URL has expired on 14/09/22 (+10:00)\r\nThe Activation URL has expired on 27/08/23 (+10:00)\r\nThe Activation URL will expire on 21/12/23 (+10:00)\r\nThe Activation URL will expire on 21/02/27 (+10:00)\r\n```\r\n\r\nYou can also use the default zone id of the system by `ZoneId.systemDefault()` on the server and on your system. They are not necessarily the same and with an offset of ten hours from UTC, there&#39;s a good chance the expiry date will differ from zone id to zone id.","title":"URL expiry date calculated incorrectly on server","body":"<p>You should be controlling the time zone / zone id this code uses, the server does not necessarily have the same one as your system.</p>\n<p>I would do that by using <code>java.time</code> and separating the validation from any debug / info output.</p>\n<p>Just use a method that tells you if the URL has expired or not, maybe like this:</p>\n<pre><code>public static boolean hasExpired(Instant urlCreatedAt, Instant now) {\n    Instant urlExpiresAt = urlCreatedAt.plus(90, ChronoUnit.DAYS);\n    return now.isAfter(urlExpiresAt);\n}\n</code></pre>\n<p>Then provide some timestamps, pass them to the method, output their values in date-time style in a specific <code>ZoneId</code>:</p>\n<pre><code>public static void main(String[] args) {\n    // provide some arbitrary url creation times\n    List&lt;Long&gt; urlCreationTimes = List.of(\n                1635364328794L,\n                1655364328794L,\n                1685364328794L,\n                1695364328794L,\n                1795364328794L\n            );\n    // get now\n    Instant now = Instant.now();\n    // define the zone you want to display the expiry date\n    ZoneId serverZone = ZoneId.of(&quot;Australia/Brisbane&quot;);\n    // check for each creation time if it has expired\n    urlCreationTimes.forEach(creationTime -&gt; {\n        // create an Instant from the creation timestamp\n        Instant createdAt = Instant.ofEpochMilli(creationTime);\n        // check if the URL has expired and print out some information\n        if (hasExpired(createdAt, now)) {\n            System.out.println(\n                String.format(\n                    &quot;The Activation URL has expired on %s&quot;,\n                    createdAt.plus(90, ChronoUnit.DAYS)\n                             .atZone(serverZone)\n                             .format(dtfDate)\n                )\n            );\n        } else {\n            System.out.println(\n                String.format(&quot;The Activation URL will expire on %s&quot;,\n                        createdAt.plus(90, ChronoUnit.DAYS)\n                                 .atZone(serverZone)\n                                 .format(dtfDate))\n            );\n        }\n    });\n}\n</code></pre>\n<p>This will output the <em>date plus offset from UTC</em> the URL either has expired or will expire…</p>\n<pre class=\"lang-none prettyprint-override\"><code>The Activation URL has expired on 26/01/22 (+10:00)\nThe Activation URL has expired on 14/09/22 (+10:00)\nThe Activation URL has expired on 27/08/23 (+10:00)\nThe Activation URL will expire on 21/12/23 (+10:00)\nThe Activation URL will expire on 21/02/27 (+10:00)\n</code></pre>\n<p>You can also use the default zone id of the system by <code>ZoneId.systemDefault()</code> on the server and on your system. They are not necessarily the same and with an offset of ten hours from UTC, there's a good chance the expiry date will differ from zone id to zone id.</p>\n"}],"owner":{"account_id":19345682,"reputation":71,"user_id":14144308,"display_name":"Redwood Thomas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695461834,"creation_date":1695367944,"question_id":77155637,"body_markdown":"I am trying to solve an issue where an activation URL in an email to a user is getting expired within 3 days. The expiry date is set to 90 days. When a sample java code is executed, it shows the expiry date correctly, post 90 days. However, on the server where the application is deployed, the URL is expiring within 3 days of user receiving the email with the URL to activate.\r\n\r\nFrom the server log:\r\n```none\r\nPlain Text Output=webChannel=GMD_XXX;fundIdentifier=XXXX;email=XXX-X.XXX@XX.com;userName=Linkexpire.Xie;timestamp=1695364328794;\r\nData fom encryptedToken --&gt; fundIdentifier:XXXX -- userName:Linkexpire.Xie -- webChannel:GMD_XXX -- timeStamp:**1695364328794** -- email:XX-XX.XX@XX.com\r\nThe UID is : XXXX\r\nuserName to be searched is Linkexpire.Xie and fundName is van\r\nFilter is cn=Linkexpire.Xie\r\nisValidToken--&gt;true\r\neclaimsAccountStatusENABLED\r\nInside IN-ACTIVE\r\nThe Activation URL will expire on 24/09/23\r\n```\r\n\r\nAs seen from the above server log:\r\nThe date on which the URL in email was clicked on by the user was at: 1695364328794 ( which translates to Friday, September 22, 2023 4:32:08.794 PM GMT+10:00 )\r\n \r\nThe URL expiry date shows as: 24/09/23\r\n\r\ni,e within 2 days the URL is getting expired.\r\n\r\nNow the actual java code has the expiry date setting to 90 days from the date the email with the URL was generated.\r\n\r\nBelow is a sample code reproduced:\r\n\r\n```Java\r\npackage com;\r\n\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.text.SimpleDateFormat;\r\n\r\npublic class TestApplication {\r\n    \r\n\tpublic static void main(String[] args) {\r\n\r\n\t  String timestamp = &quot;1695364328794&quot;; //Friday, September 22, 2023 4:32:08.794 PM\r\n\r\n      validateActivationURLExpiry(timestamp);\r\n\t}\r\n\r\n\tpublic static void validateActivationURLExpiry(String timestamp)  {\r\n\t    long timestampValue = Long.parseLong(timestamp);\r\n\t    System.out.println(&quot;timestampValue:&quot; + timestampValue);\r\n\t    Date now = new Date();\r\n\t    String expiryInDays = &quot;90&quot;;\r\n\t    int expiryInDay = Integer.parseInt(expiryInDays);\r\n\r\n\t    Calendar calendar = Calendar.getInstance();\r\n\t    calendar.setTimeInMillis(timestampValue);\r\n\t    calendar.add(Calendar.DAY_OF_YEAR, expiryInDay);\r\n\t    long timestampValueAfter90Days = calendar.getTime().getTime();\r\n\t    System.out.println(&quot;timestampValueAfter90Days:&quot; + timestampValueAfter90Days);\t    \r\n\r\n\t    // Code added to identify the date of URL expiry.\r\n\t    Date date = new Date(timestampValueAfter90Days);\r\n\t    SimpleDateFormat df2 = new SimpleDateFormat(&quot;dd/MM/yy&quot;);\r\n\t    String dateText = df2.format(date);\r\n\t    System.out.println(&quot;The Activation URL will expire on &quot; + dateText);\r\n\r\n\t    if (now.getTime() &gt; timestampValueAfter90Days) {\r\n\t    \tSystem.out.println(&quot;URL has expired already &quot;);\r\n\t        //throw new UserManagementException(new Exception(&quot;URL has expired already &quot;));\r\n\t    }\r\n\t}\t\r\n}\r\n```\r\n\r\n\r\nThe result of this program shows the URL expiry date correctly, i,e Post 90 days:\r\n```none\r\ntimestampValue:1695364328794\r\ntimestampValueAfter90Days:1703136728794\r\nThe Activation URL will expire on 21/12/23\r\n```\r\nThe exact code is deployed on the server, not sure on the server why it&#39;s expiring within 3 days?.\r\n\r\nAny help on this would be appreciated please..\r\n\r\nThanks\r\n\r\nRegards,\r\nR\r\n","title":"URL expiry date calculated incorrectly on server","body":"<p>I am trying to solve an issue where an activation URL in an email to a user is getting expired within 3 days. The expiry date is set to 90 days. When a sample java code is executed, it shows the expiry date correctly, post 90 days. However, on the server where the application is deployed, the URL is expiring within 3 days of user receiving the email with the URL to activate.</p>\n<p>From the server log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Plain Text Output=webChannel=GMD_XXX;fundIdentifier=XXXX;email=XXX-X.XXX@XX.com;userName=Linkexpire.Xie;timestamp=1695364328794;\nData fom encryptedToken --&gt; fundIdentifier:XXXX -- userName:Linkexpire.Xie -- webChannel:GMD_XXX -- timeStamp:**1695364328794** -- email:XX-XX.XX@XX.com\nThe UID is : XXXX\nuserName to be searched is Linkexpire.Xie and fundName is van\nFilter is cn=Linkexpire.Xie\nisValidToken--&gt;true\neclaimsAccountStatusENABLED\nInside IN-ACTIVE\nThe Activation URL will expire on 24/09/23\n</code></pre>\n<p>As seen from the above server log:\nThe date on which the URL in email was clicked on by the user was at: 1695364328794 ( which translates to Friday, September 22, 2023 4:32:08.794 PM GMT+10:00 )</p>\n<p>The URL expiry date shows as: 24/09/23</p>\n<p>i,e within 2 days the URL is getting expired.</p>\n<p>Now the actual java code has the expiry date setting to 90 days from the date the email with the URL was generated.</p>\n<p>Below is a sample code reproduced:</p>\n<pre><code>package com;\n\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.text.SimpleDateFormat;\n\npublic class TestApplication {\n    \n    public static void main(String[] args) {\n\n      String timestamp = &quot;1695364328794&quot;; //Friday, September 22, 2023 4:32:08.794 PM\n\n      validateActivationURLExpiry(timestamp);\n    }\n\n    public static void validateActivationURLExpiry(String timestamp)  {\n        long timestampValue = Long.parseLong(timestamp);\n        System.out.println(&quot;timestampValue:&quot; + timestampValue);\n        Date now = new Date();\n        String expiryInDays = &quot;90&quot;;\n        int expiryInDay = Integer.parseInt(expiryInDays);\n\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(timestampValue);\n        calendar.add(Calendar.DAY_OF_YEAR, expiryInDay);\n        long timestampValueAfter90Days = calendar.getTime().getTime();\n        System.out.println(&quot;timestampValueAfter90Days:&quot; + timestampValueAfter90Days);       \n\n        // Code added to identify the date of URL expiry.\n        Date date = new Date(timestampValueAfter90Days);\n        SimpleDateFormat df2 = new SimpleDateFormat(&quot;dd/MM/yy&quot;);\n        String dateText = df2.format(date);\n        System.out.println(&quot;The Activation URL will expire on &quot; + dateText);\n\n        if (now.getTime() &gt; timestampValueAfter90Days) {\n            System.out.println(&quot;URL has expired already &quot;);\n            //throw new UserManagementException(new Exception(&quot;URL has expired already &quot;));\n        }\n    }   \n}\n</code></pre>\n<p>The result of this program shows the URL expiry date correctly, i,e Post 90 days:</p>\n<pre class=\"lang-none prettyprint-override\"><code>timestampValue:1695364328794\ntimestampValueAfter90Days:1703136728794\nThe Activation URL will expire on 21/12/23\n</code></pre>\n<p>The exact code is deployed on the server, not sure on the server why it's expiring within 3 days?.</p>\n<p>Any help on this would be appreciated please..</p>\n<p>Thanks</p>\n<p>Regards,\nR</p>\n"},{"tags":["java","android","xml","build","android-databinding"],"comments":[{"owner":{"account_id":29514668,"reputation":1,"user_id":22618889,"display_name":"Impossible guy"},"score":0,"creation_date":1695455001,"post_id":77162081,"comment_id":136029245,"body_markdown":"Here are some relevant images&lt;https://i.stack.imgur.com/wuv4N.png&gt;\n&lt;https://i.stack.imgur.com/vqJMq.png&gt;\n&lt;https://i.stack.imgur.com/HGVZo.png&gt;\n&lt;https://i.stack.imgur.com/NpYpv.png&gt;\n&lt;https://i.stack.imgur.com/Ceyki.png&gt;","body":"Here are some relevant images&lt;<a href=\"https://i.stack.imgur.com/wuv4N.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/wuv4N.png</a>&gt; &lt;<a href=\"https://i.stack.imgur.com/vqJMq.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/vqJMq.png</a>&gt; &lt;<a href=\"https://i.stack.imgur.com/HGVZo.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/HGVZo.png</a>&gt; &lt;<a href=\"https://i.stack.imgur.com/NpYpv.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/NpYpv.png</a>&gt; &lt;<a href=\"https://i.stack.imgur.com/Ceyki.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/Ceyki.png</a>&gt;"},{"owner":{"account_id":4640113,"reputation":2872,"user_id":3760216,"accept_rate":36,"display_name":"Sachith Muhandiram"},"score":0,"creation_date":1695482241,"post_id":77162081,"comment_id":136031683,"body_markdown":"Please post your code snippts, warning, errors in here.","body":"Please post your code snippts, warning, errors in here."}],"answers":[{"tags":[],"owner":{"account_id":26299353,"reputation":22,"user_id":19965051,"display_name":"Davit Badalyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695461698,"creation_date":1695461698,"answer_id":77162429,"question_id":77162081,"body_markdown":"The build folder in Android Studio is a special folder that contains files that are generated automatically when you build your app. These files are essential for your app to run, so you should never edit them manually.\r\n\r\nIf you&#39;re getting errors in the build folder after renaming class files, methods, or variables, it&#39;s likely that some of the generated files are out of date. This can happen if you make changes to your code without rebuilding your app. An easy fix for this would be cleaning the project. If you still have the same error, try restarting AS.\r\n\r\nAlso, make sure you are updating the data binding expressions for the layout files, perhaps you renamed one and forgot to change the data binding.\r\n","title":"Android Studio: Build folder in app directory erroring out","body":"<p>The build folder in Android Studio is a special folder that contains files that are generated automatically when you build your app. These files are essential for your app to run, so you should never edit them manually.</p>\n<p>If you're getting errors in the build folder after renaming class files, methods, or variables, it's likely that some of the generated files are out of date. This can happen if you make changes to your code without rebuilding your app. An easy fix for this would be cleaning the project. If you still have the same error, try restarting AS.</p>\n<p>Also, make sure you are updating the data binding expressions for the layout files, perhaps you renamed one and forgot to change the data binding.</p>\n"}],"owner":{"account_id":29514668,"reputation":1,"user_id":22618889,"display_name":"Impossible guy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695461698,"creation_date":1695454730,"question_id":77162081,"body_markdown":"I am getting multiple errors in various files in the build folder, which is labeled with &quot;Files under the &#39;build&#39; folder are generated and should not be edited.&quot; I have a hunch that this is happening because I renamed a bunch of class files, methods, and variables to organize the project into an MVVM structure. I am attempting to use data binding if that is relevant.\r\n\r\nIf these files are automatically generated, why are they causing me errors and not allowing my app to run? and how would I go about fixing this?\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve tried searching google for my issues, editing the affected files in the build folder, looking through build.gradle for any errors (probably missed something), syncing project with gradle.","title":"Android Studio: Build folder in app directory erroring out","body":"<p>I am getting multiple errors in various files in the build folder, which is labeled with &quot;Files under the 'build' folder are generated and should not be edited.&quot; I have a hunch that this is happening because I renamed a bunch of class files, methods, and variables to organize the project into an MVVM structure. I am attempting to use data binding if that is relevant.</p>\n<p>If these files are automatically generated, why are they causing me errors and not allowing my app to run? and how would I go about fixing this?</p>\n<p>I've tried searching google for my issues, editing the affected files in the build folder, looking through build.gradle for any errors (probably missed something), syncing project with gradle.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":24150,"reputation":3059,"user_id":61248,"accept_rate":68,"display_name":"Grumblesaurus"},"score":1,"creation_date":1569950108,"post_id":58189462,"comment_id":102758620,"body_markdown":"Run two regexes.  The first to catch the common patterns, and the second to filter out ones that are all numbers.","body":"Run two regexes.  The first to catch the common patterns, and the second to filter out ones that are all numbers."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1569950463,"post_id":58189462,"comment_id":102758756,"body_markdown":"Why do you want to validate email addresses (with regex)? What is special about numbers before the &#39;@&#39; character? If you want to check if an email is valid you send an email for confirmation.","body":"Why do you want to validate email addresses (with regex)? What is special about numbers before the &#39;@&#39; character? If you want to check if an email is valid you send an email for confirmation."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1569950992,"post_id":58189462,"comment_id":102758974,"body_markdown":"Accept apostrophes too please!","body":"Accept apostrophes too please!"},{"owner":{"account_id":16721080,"reputation":398,"user_id":12085985,"display_name":"kulsin"},"score":0,"creation_date":1569951889,"post_id":58189462,"comment_id":102759314,"body_markdown":"Part of your question is answered here [enter link description here](https://stackoverflow.com/questions/36159017/regex-for-alphanumeric-characters-but-not-only-numeric)","body":"Part of your question is answered here <a href=\"https://stackoverflow.com/questions/36159017/regex-for-alphanumeric-characters-but-not-only-numeric\">enter link description here</a>"}],"answers":[{"tags":[],"owner":{"account_id":7953915,"reputation":597,"user_id":6003901,"display_name":"abby37"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1569950755,"creation_date":1569950755,"answer_id":58189663,"question_id":58189462,"body_markdown":"You can use this regex to validate your condition\r\n\r\n```\r\n^\\w*?[a-zA-Z]\\w+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z\r\n```\r\n\r\n[regex][1] to validate above condition.\r\n\r\n\r\n  [1]: https://regex101.com/r/j8AlYE/1","title":"Email Regex validation","body":"<p>You can use this regex to validate your condition</p>\n\n<pre><code>^\\w*?[a-zA-Z]\\w+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/j8AlYE/1\" rel=\"nofollow noreferrer\">regex</a> to validate above condition.</p>\n"},{"tags":[],"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569951323,"creation_date":1569951323,"answer_id":58189773,"question_id":58189462,"body_markdown":"I have modified regex the one provided in the question.\r\n\r\n    [a-zA-Z]+[(a-zA-Z0-9-\\\\_\\\\.!\\\\D)]*[(a-zA-Z0-9)]+@[(a-zA-Z)]+\\.[(a-zA-Z)]{2,3}\r\n\r\nI have added [a-zA-Z]+ at the beginning to ensure the email address doesn&#39;t start with numbers. If the email address can start with the special symbol, make sure you update it in the first block.","title":"Email Regex validation","body":"<p>I have modified regex the one provided in the question.</p>\n\n<pre><code>[a-zA-Z]+[(a-zA-Z0-9-\\\\_\\\\.!\\\\D)]*[(a-zA-Z0-9)]+@[(a-zA-Z)]+\\.[(a-zA-Z)]{2,3}\n</code></pre>\n\n<p>I have added [a-zA-Z]+ at the beginning to ensure the email address doesn't start with numbers. If the email address can start with the special symbol, make sure you update it in the first block.</p>\n"},{"tags":[],"owner":{"account_id":2168880,"reputation":15313,"user_id":1921385,"display_name":"Moob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569952029,"creation_date":1569951565,"answer_id":58189815,"question_id":58189462,"body_markdown":"Using regex for email can be problematic. Emails are not as simple as you think - there are many valid characters. Ideally you should let the browser do it `input[type=&quot;email&quot;]` and send your users an activation email in order to prove that the email address is valid but I understand that there may be a legitimate need to validate the address on the server.\r\n\r\nThere&#39;s useful info here: https://stackoverflow.com/a/201378/1921385\r\n\r\n**Still need an rx?**\r\n\r\nAccording to https://emailregex.com/ the regex used by W3C to validate an `input[type=email]` is:\r\n\r\n    /^[a-zA-Z0-9.!#$%&amp;’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\r\n\r\nSo you could use this and just take out the number portion:\r\n\r\n    /^[a-zA-Z.!#$%&amp;’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\r\n\r\nHave a play at [regex101.com](https://regex101.com/r/j8AlYE/2)\r\n\r\nHere&#39;s a demo:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    input {border:10px solid red;}\r\n    input:valid {border-color:green;}\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;input type=&quot;text&quot; required=&quot;required&quot; pattern=&quot;^[a-zA-Z.!#$%&amp;’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$&quot; placeholder=&quot;type=text, using a pattern&quot; /&gt;\r\n    &lt;input type=&quot;email&quot; required=&quot;required&quot; placeholder=&quot;type=email, no pattern here&quot; /&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Email Regex validation","body":"<p>Using regex for email can be problematic. Emails are not as simple as you think - there are many valid characters. Ideally you should let the browser do it <code>input[type=\"email\"]</code> and send your users an activation email in order to prove that the email address is valid but I understand that there may be a legitimate need to validate the address on the server.</p>\n\n<p>There's useful info here: <a href=\"https://stackoverflow.com/a/201378/1921385\">https://stackoverflow.com/a/201378/1921385</a></p>\n\n<p><strong>Still need an rx?</strong></p>\n\n<p>According to <a href=\"https://emailregex.com/\" rel=\"nofollow noreferrer\">https://emailregex.com/</a> the regex used by W3C to validate an <code>input[type=email]</code> is:</p>\n\n<pre><code>/^[a-zA-Z0-9.!#$%&amp;’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n</code></pre>\n\n<p>So you could use this and just take out the number portion:</p>\n\n<pre><code>/^[a-zA-Z.!#$%&amp;’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n</code></pre>\n\n<p>Have a play at <a href=\"https://regex101.com/r/j8AlYE/2\" rel=\"nofollow noreferrer\">regex101.com</a></p>\n\n<p>Here's a demo:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>input {border:10px solid red;}\r\ninput:valid {border-color:green;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" required=\"required\" pattern=\"^[a-zA-Z.!#$%&amp;’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$\" placeholder=\"type=text, using a pattern\" /&gt;\r\n&lt;input type=\"email\" required=\"required\" placeholder=\"type=email, no pattern here\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695461629,"creation_date":1569951987,"answer_id":58189898,"question_id":58189462,"body_markdown":"The regex below works for me every time for email verification. However, this might not solve all cases as emails accept a whole range of characters and more recently, different formats. **If you&#39;re using the email for authentication, I would advise you send a verification email to confirm or add an extra mode of authentication.**\r\n\r\n    /^[a-zA-Z.!#$%&amp;’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\r\n\r\nBasically, the strength of a validation regex lies in the number of cases it can accurately capture while simultaneously checking for non-compliance (fakes). Each of these character sequences has a purpose in the overall validation process. You can learn more about regular expressions [here](https://www.tutorialspoint.com/java/java_regular_expressions.htm).\r\n","title":"Email Regex validation","body":"<p>The regex below works for me every time for email verification. However, this might not solve all cases as emails accept a whole range of characters and more recently, different formats. <strong>If you're using the email for authentication, I would advise you send a verification email to confirm or add an extra mode of authentication.</strong></p>\n<pre><code>/^[a-zA-Z.!#$%&amp;’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n</code></pre>\n<p>Basically, the strength of a validation regex lies in the number of cases it can accurately capture while simultaneously checking for non-compliance (fakes). Each of these character sequences has a purpose in the overall validation process. You can learn more about regular expressions <a href=\"https://www.tutorialspoint.com/java/java_regular_expressions.htm\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":16805527,"reputation":13,"user_id":12149824,"display_name":"seleguy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1006,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58189663,"answer_count":4,"score":1,"last_activity_date":1695461629,"creation_date":1569949822,"question_id":58189462,"body_markdown":"How can I restrict only **numerics** in the Email address. I tried below and it didn&#39;t work. My email should accept **Alpha-numerics, dot, hyphen and underscore followed by &quot;@AnyDomain.com&quot;**. But it should not accept only numerics like **&quot;112233@gmail.com&quot;**\r\n\r\n```java\r\nPattern regexPattern = Pattern.compile(&quot;^[(a-zA-Z0-9-\\\\_\\\\.!\\\\D)]+@[(a-zA-Z)]+\\\\.[(a-zA-Z)]{2,3}$&quot;);\r\nMatcher regmatcher = regexPattern.matcher(email);\r\n```\r\n\r\n - Don_123@gmail.com -&gt; Valid\r\n - 12345@gmail.com -&gt; Invalid","title":"Email Regex validation","body":"<p>How can I restrict only <strong>numerics</strong> in the Email address. I tried below and it didn't work. My email should accept <strong>Alpha-numerics, dot, hyphen and underscore followed by \"@AnyDomain.com\"</strong>. But it should not accept only numerics like <strong>\"112233@gmail.com\"</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Pattern regexPattern = Pattern.compile(\"^[(a-zA-Z0-9-\\\\_\\\\.!\\\\D)]+@[(a-zA-Z)]+\\\\.[(a-zA-Z)]{2,3}$\");\nMatcher regmatcher = regexPattern.matcher(email);\n</code></pre>\n\n<ul>\n<li>Don_123@gmail.com -> Valid</li>\n<li>12345@gmail.com -> Invalid</li>\n</ul>\n"},{"tags":["java","authentication","redirect","cookies","spring-security"],"comments":[{"owner":{"account_id":9689064,"reputation":96,"user_id":7187698,"display_name":"Procrastinator"},"score":0,"creation_date":1695387289,"post_id":77157448,"comment_id":136021408,"body_markdown":"I guess it&#39;s because of the way you&#39;re setting the cookie. Read [here](https://stackoverflow.com/questions/18492576/share-cookies-between-subdomain-and-domain).\n\nIn your screenshot, could you also show the request headers?","body":"I guess it&#39;s because of the way you&#39;re setting the cookie. Read <a href=\"https://stackoverflow.com/questions/18492576/share-cookies-between-subdomain-and-domain\">here</a>.  In your screenshot, could you also show the request headers?"},{"owner":{"account_id":16623950,"reputation":74,"user_id":12013522,"display_name":"Joe D"},"score":0,"creation_date":1695461235,"post_id":77157448,"comment_id":136029774,"body_markdown":"@Procrastinator I&#39;ve included request headers of both request, please take a look","body":"@Procrastinator I&#39;ve included request headers of both request, please take a look"}],"owner":{"account_id":16623950,"reputation":74,"user_id":12013522,"display_name":"Joe D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695461201,"creation_date":1695384106,"question_id":77157448,"body_markdown":"Our app uses 2 urls. One is **&quot;example.com&quot;** and another is **&quot;my.example.com&quot;**. The former is the public domain of our app, whereas the latter is intended to be used by logged in users only.\r\n\r\nThe problem seems to be with the following: when we&#39;re trying to send a request from just **&quot;example.com&quot;** to a part of our application that requires authentication we get 403.\r\n\r\nHere&#39;s how it works:\r\n\r\n 1. A user sends a request to **&quot;example.com&quot;** (for example makes a rest call)\r\n 2. The request is caught in a spring security filter and the user is redirected to **&quot;my.example.com&quot;**\r\n 3. The cookies on the **&quot;my.example.com&quot;** are missing in the request headers, hence, we get 403\r\n\r\nThe code of a filter that redirects a user is as follows:\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n    \r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n        HttpServletResponse httpServletResponse = (HttpServletResponse) response;\r\n    \r\n        // fixing CORS\r\n        if (httpServletRequest.getMethod().equals(&quot;OPTIONS&quot;)) {\r\n            addCorsHeaders(httpServletResponse);\r\n            return;\r\n        }\r\n    \r\n        String contextPath = httpServletRequest.getContextPath();\r\n        String path = httpServletRequest.getRequestURI().substring(contextPath.length());\r\n        String method = httpServletRequest.getMethod();\r\n        ensureEvalSet(httpServletRequest);\r\n    \r\n    \r\n        String currentHost = httpServletRequest.getHeader(&quot;host&quot;); // &quot;example.com&quot;\r\n        String myUrl = cutProtocolPart(getSessionAttribute(httpServletRequest, MY_URL)); // &quot;my.example.com&quot;\r\n    \r\n        // Lots of uninformative business logic, can be just simplified to\r\n        // the following: &quot;my.example.com&quot; equals to &quot;my.example.com&quot;\r\n        if (cabinetHostEqualsRequestHost(currentHost, myUrl)) {\r\n            // we just filter down the chain...\r\n            chain.doFilter(request, response);\r\n        } else {\r\n            //here we redirect the user from &quot;example.com&quot; to &quot;my.example.com&quot;\r\n            String redirectUrl = getUrlToRedirect(myUrl, httpServletRequest); // &quot;my.example.com&quot;\r\n            // additionally add CORS headers\r\n            addCorsHeaders(httpServletResponse);\r\n    \r\n            httpServletResponse.setHeader(&quot;Location&quot;, redirectUrl);\r\n            httpServletResponse.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);\r\n        }\r\n    }\r\n    \r\n    \r\n    private void addCorsHeaders(HttpServletResponse httpServletResponse) {\r\n        httpServletResponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        httpServletResponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, PUT, OPTIONS, DELETE&quot;);\r\n        httpServletResponse.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n        httpServletResponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type&quot;);\r\n        // was supposed to make cookies pass between &quot;example.com&quot; and &quot;my.example.com&quot;\r\n        httpServletResponse.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n    }\r\n\r\nHere&#39;s how it&#39;s reproduced in Chrome:\r\n\r\nHere&#39;s the request that redirects (from **&quot;example.com&quot;**, with auth cookies and headers)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd here&#39;s the second request to **&quot;my.example.com&quot;** with missing request cookies \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nHere are request headers of a request to **&quot;example.com&quot;** (with all the auth cookies)\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAnd finally the request headers of a request to **&quot;my.example.com&quot;** (with the missing cookies that I want to be included from my request to **&quot;example.com&quot;**) \r\n\r\n[![enter image description here][4]][4]\r\n\r\n**My question is how to copy request cookies to the second request from the first one, so that user is authenticated?**\r\n\r\nI tried to add the `Access-Control-Allow-Credentials` cookie but it didn&#39;t help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c0Y9P.png\r\n  [2]: https://i.stack.imgur.com/GLJw0.png\r\n  [3]: https://i.stack.imgur.com/yMcOJ.png\r\n  [4]: https://i.stack.imgur.com/CVEJ3.png","title":"Setting cookies on subsequent request in Spring Security filter","body":"<p>Our app uses 2 urls. One is <strong>&quot;example.com&quot;</strong> and another is <strong>&quot;my.example.com&quot;</strong>. The former is the public domain of our app, whereas the latter is intended to be used by logged in users only.</p>\n<p>The problem seems to be with the following: when we're trying to send a request from just <strong>&quot;example.com&quot;</strong> to a part of our application that requires authentication we get 403.</p>\n<p>Here's how it works:</p>\n<ol>\n<li>A user sends a request to <strong>&quot;example.com&quot;</strong> (for example makes a rest call)</li>\n<li>The request is caught in a spring security filter and the user is redirected to <strong>&quot;my.example.com&quot;</strong></li>\n<li>The cookies on the <strong>&quot;my.example.com&quot;</strong> are missing in the request headers, hence, we get 403</li>\n</ol>\n<p>The code of a filter that redirects a user is as follows:</p>\n<pre><code>@Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n\n    HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n    HttpServletResponse httpServletResponse = (HttpServletResponse) response;\n\n    // fixing CORS\n    if (httpServletRequest.getMethod().equals(&quot;OPTIONS&quot;)) {\n        addCorsHeaders(httpServletResponse);\n        return;\n    }\n\n    String contextPath = httpServletRequest.getContextPath();\n    String path = httpServletRequest.getRequestURI().substring(contextPath.length());\n    String method = httpServletRequest.getMethod();\n    ensureEvalSet(httpServletRequest);\n\n\n    String currentHost = httpServletRequest.getHeader(&quot;host&quot;); // &quot;example.com&quot;\n    String myUrl = cutProtocolPart(getSessionAttribute(httpServletRequest, MY_URL)); // &quot;my.example.com&quot;\n\n    // Lots of uninformative business logic, can be just simplified to\n    // the following: &quot;my.example.com&quot; equals to &quot;my.example.com&quot;\n    if (cabinetHostEqualsRequestHost(currentHost, myUrl)) {\n        // we just filter down the chain...\n        chain.doFilter(request, response);\n    } else {\n        //here we redirect the user from &quot;example.com&quot; to &quot;my.example.com&quot;\n        String redirectUrl = getUrlToRedirect(myUrl, httpServletRequest); // &quot;my.example.com&quot;\n        // additionally add CORS headers\n        addCorsHeaders(httpServletResponse);\n\n        httpServletResponse.setHeader(&quot;Location&quot;, redirectUrl);\n        httpServletResponse.setStatus(HttpServletResponse.SC_TEMPORARY_REDIRECT);\n    }\n}\n\n\nprivate void addCorsHeaders(HttpServletResponse httpServletResponse) {\n    httpServletResponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    httpServletResponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, PUT, OPTIONS, DELETE&quot;);\n    httpServletResponse.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n    httpServletResponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type&quot;);\n    // was supposed to make cookies pass between &quot;example.com&quot; and &quot;my.example.com&quot;\n    httpServletResponse.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n}\n</code></pre>\n<p>Here's how it's reproduced in Chrome:</p>\n<p>Here's the request that redirects (from <strong>&quot;example.com&quot;</strong>, with auth cookies and headers)</p>\n<p><a href=\"https://i.stack.imgur.com/c0Y9P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c0Y9P.png\" alt=\"enter image description here\" /></a></p>\n<p>And here's the second request to <strong>&quot;my.example.com&quot;</strong> with missing request cookies</p>\n<p><a href=\"https://i.stack.imgur.com/GLJw0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GLJw0.png\" alt=\"enter image description here\" /></a></p>\n<p>Here are request headers of a request to <strong>&quot;example.com&quot;</strong> (with all the auth cookies)</p>\n<p><a href=\"https://i.stack.imgur.com/yMcOJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yMcOJ.png\" alt=\"enter image description here\" /></a></p>\n<p>And finally the request headers of a request to <strong>&quot;my.example.com&quot;</strong> (with the missing cookies that I want to be included from my request to <strong>&quot;example.com&quot;</strong>)</p>\n<p><a href=\"https://i.stack.imgur.com/CVEJ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CVEJ3.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>My question is how to copy request cookies to the second request from the first one, so that user is authenticated?</strong></p>\n<p>I tried to add the <code>Access-Control-Allow-Credentials</code> cookie but it didn't help</p>\n"},{"tags":["java","spring-boot","keycloak","keycloak-admin-client"],"answers":[{"tags":[],"owner":{"account_id":19020551,"reputation":1,"user_id":13884718,"display_name":"Ari Susanto Lie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695461181,"creation_date":1695461024,"answer_id":77162387,"question_id":77150402,"body_markdown":"I think u can try creating a user in realm master and then assign a role for that user for a specific realm that u want control, and then when initialize a keycloak admin, you can use a admin-cli client and realm master for the configuration.this is example for initialize keycloak admin client\r\n\r\n    @Bean\r\n    public RealmResource keycloak() {\r\n\r\n        \r\n                final Keycloak keycloak = Keycloak.getInstance(\r\n                &quot;https://example.yourkeycloak.com/auth&quot;,\r\n                &quot;master&quot;,\r\n                keycloakUsername,\r\n                keycloakPassword,\r\n                &quot;admin-cli&quot;); \r\n\r\n\r\n        return keycloak.realm(&quot;nameOfRealmThatUWantToUsed&quot;);\r\n    }\r\n\r\nand then when u want to use that keycloak in service class. just use a dependency injection into service class.\r\n\r\n    @Service\r\n    public class testServiceClass {\r\n\r\n    @Autowired\r\n    RealmResource keycloak;\r\n\r\n    public List&lt;String&gt; getAllClientList(){\r\n        List&lt;ClientRepresentation&gt; clientRepresentationList= keycloak.clients().findAll();\r\n        \r\n        List&lt;String&gt; clientNameList=new ArrayList&lt;&gt;();\r\n        clientRepresentationList.stream().forEach(x-&gt;{\r\n            clientNameList.add(x.getName());\r\n        });\r\n        \r\n        return clientNameList;\r\n    }\r\n}","title":"Keycloak-admin-client JAVA API get 404 not-found","body":"<p>I think u can try creating a user in realm master and then assign a role for that user for a specific realm that u want control, and then when initialize a keycloak admin, you can use a admin-cli client and realm master for the configuration.this is example for initialize keycloak admin client</p>\n<pre><code>@Bean\npublic RealmResource keycloak() {\n\n    \n            final Keycloak keycloak = Keycloak.getInstance(\n            &quot;https://example.yourkeycloak.com/auth&quot;,\n            &quot;master&quot;,\n            keycloakUsername,\n            keycloakPassword,\n            &quot;admin-cli&quot;); \n\n\n    return keycloak.realm(&quot;nameOfRealmThatUWantToUsed&quot;);\n}\n</code></pre>\n<p>and then when u want to use that keycloak in service class. just use a dependency injection into service class.</p>\n<pre><code>@Service\npublic class testServiceClass {\n\n@Autowired\nRealmResource keycloak;\n\npublic List&lt;String&gt; getAllClientList(){\n    List&lt;ClientRepresentation&gt; clientRepresentationList= keycloak.clients().findAll();\n    \n    List&lt;String&gt; clientNameList=new ArrayList&lt;&gt;();\n    clientRepresentationList.stream().forEach(x-&gt;{\n        clientNameList.add(x.getName());\n    });\n    \n    return clientNameList;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":29500598,"reputation":1,"user_id":22607692,"display_name":"Pio Antonio Perugini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695461181,"creation_date":1695300523,"question_id":77150402,"body_markdown":"I am trying to get all scope-permissions for a client using an admin client.\r\nI am using keycloak 12.0.4, spring-boot and keycloak-admin-client maven dependency.\r\n\r\nThe client i am using has realm-management role associated.\r\nI can get client list but i can&#39;t do nothing with them.\r\n\r\n\r\n```java\r\n        Keycloak keycloak = this.getAdminClient();\r\n        List&lt;ClientRepresentation&gt; clients = keycloak.realm(kcProperties.getRealm()).clients().findAll();\r\n        ClientResource clientResource = keycloak.realm(kcProperties.getRealm()).clients().get(clientId);\r\n//all these calls give 404 not found\r\n        clientResource.authorization().getSettings().getPolicies();\r\n        clientResource.authorization().getSettings().getScopes();\r\n        clientResource.authorization().getSettings().getResources();\r\n        clientResource.authorization().permissions();\r\n        clientResource.authorization().scopes();\r\n        clientResource.getPermissions();\r\n```\r\n\r\n\r\n```java\r\nprivate Keycloak getAdminClient() {\r\n        return KeycloakBuilder.builder()\r\n                .clientId(kcProperties.getResource())\r\n                .clientSecret(kcProperties.getCredentials().get(&quot;secret&quot;).toString())\r\n                .serverUrl(kcProperties.getAuthServerUrl())\r\n                .realm(kcProperties.getRealm())\r\n                .grantType(&quot;client_credentials&quot;)\r\n                .build();\r\n    }\r\n```\r\nall these call returns 404 not found\r\n\r\n```\r\n clientResource.authorization().getSettings().getPolicies();\r\n        clientResource.authorization().getSettings().getScopes();\r\n        clientResource.authorization().getSettings().getResources();\r\n        clientResource.authorization().permissions();\r\n        clientResource.authorization().scopes();\r\n        clientResource.getPermissions();\r\n```\r\n\r\n","title":"Keycloak-admin-client JAVA API get 404 not-found","body":"<p>I am trying to get all scope-permissions for a client using an admin client.\nI am using keycloak 12.0.4, spring-boot and keycloak-admin-client maven dependency.</p>\n<p>The client i am using has realm-management role associated.\nI can get client list but i can't do nothing with them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Keycloak keycloak = this.getAdminClient();\n        List&lt;ClientRepresentation&gt; clients = keycloak.realm(kcProperties.getRealm()).clients().findAll();\n        ClientResource clientResource = keycloak.realm(kcProperties.getRealm()).clients().get(clientId);\n//all these calls give 404 not found\n        clientResource.authorization().getSettings().getPolicies();\n        clientResource.authorization().getSettings().getScopes();\n        clientResource.authorization().getSettings().getResources();\n        clientResource.authorization().permissions();\n        clientResource.authorization().scopes();\n        clientResource.getPermissions();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private Keycloak getAdminClient() {\n        return KeycloakBuilder.builder()\n                .clientId(kcProperties.getResource())\n                .clientSecret(kcProperties.getCredentials().get(&quot;secret&quot;).toString())\n                .serverUrl(kcProperties.getAuthServerUrl())\n                .realm(kcProperties.getRealm())\n                .grantType(&quot;client_credentials&quot;)\n                .build();\n    }\n</code></pre>\n<p>all these call returns 404 not found</p>\n<pre><code> clientResource.authorization().getSettings().getPolicies();\n        clientResource.authorization().getSettings().getScopes();\n        clientResource.authorization().getSettings().getResources();\n        clientResource.authorization().permissions();\n        clientResource.authorization().scopes();\n        clientResource.getPermissions();\n</code></pre>\n"},{"tags":["java","android","android-layout"],"answers":[{"comments":[{"owner":{"account_id":453381,"reputation":931,"user_id":850332,"display_name":"Klox"},"score":1,"creation_date":1644009860,"post_id":65335037,"comment_id":125500688,"body_markdown":"Works for me, but FrameLayout doesn&#39;t need layout_gravity (just Slider).","body":"Works for me, but FrameLayout doesn&#39;t need layout_gravity (just Slider)."},{"owner":{"account_id":2469577,"reputation":436,"user_id":2151819,"accept_rate":60,"display_name":"frank"},"score":0,"creation_date":1691044859,"post_id":65335037,"comment_id":135438116,"body_markdown":"There is a limitation to this solution : the thumb label text is displayed horizontally, but the label frame is displayed vertically. This makes it not matching especially when the text is long.","body":"There is a limitation to this solution : the thumb label text is displayed horizontally, but the label frame is displayed vertically. This makes it not matching especially when the text is long."},{"owner":{"account_id":2034274,"reputation":9434,"user_id":1817031,"accept_rate":76,"display_name":"Steve M"},"score":0,"creation_date":1697475932,"post_id":65335037,"comment_id":136281824,"body_markdown":"Another limitation is the accessibility control is borked","body":"Another limitation is the accessibility control is borked"}],"tags":[],"owner":{"account_id":11293128,"reputation":359,"user_id":8281441,"display_name":"Cliven"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1608181945,"creation_date":1608181945,"answer_id":65335037,"question_id":63170142,"body_markdown":"```xml\r\n\r\n        &lt;FrameLayout\r\n            android:layout_width=&quot;32dp&quot;\r\n            android:layout_height=&quot;200dp&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;com.google.android.material.slider.Slider\r\n                android:id=&quot;@+id/sldPenWidth&quot;\r\n                android:layout_width=&quot;200dp&quot;\r\n                android:layout_height=&quot;32dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:rotation=&quot;270&quot;\r\n                android:value=&quot;1&quot;\r\n                android:valueFrom=&quot;0.1&quot;\r\n                android:valueTo=&quot;10&quot; /&gt;\r\n\r\n        &lt;/FrameLayout&gt;\r\n```\r\n\r\nset attr `android:rotation` value to `270`, then put it into a FrameLayout","title":"Vertical slider in android using google material library","body":"<pre class=\"lang-xml prettyprint-override\"><code>\n        &lt;FrameLayout\n            android:layout_width=&quot;32dp&quot;\n            android:layout_height=&quot;200dp&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;com.google.android.material.slider.Slider\n                android:id=&quot;@+id/sldPenWidth&quot;\n                android:layout_width=&quot;200dp&quot;\n                android:layout_height=&quot;32dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:rotation=&quot;270&quot;\n                android:value=&quot;1&quot;\n                android:valueFrom=&quot;0.1&quot;\n                android:valueTo=&quot;10&quot; /&gt;\n\n        &lt;/FrameLayout&gt;\n</code></pre>\n<p>set attr <code>android:rotation</code> value to <code>270</code>, then put it into a FrameLayout</p>\n"},{"tags":[],"owner":{"account_id":875385,"reputation":6025,"user_id":925135,"accept_rate":82,"display_name":"Renetik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640594083,"creation_date":1640594083,"answer_id":70493261,"question_id":63170142,"body_markdown":"For now I have something like this:\r\n\r\n    class VerticalSlider @JvmOverloads\r\n    constructor(context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0)\r\n        : com.google.android.material.slider.Slider(context, attrs, defStyleAttr) {\r\n        init {\r\n            rotation = 270f\r\n        }\r\n    \r\n        override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\r\n            super.onMeasure(heightMeasureSpec, widthMeasureSpec)\r\n        }\r\n    }\r\n\r\nStill I have to wrap it:\r\n\r\n \r\n\r\n       &lt;FrameLayout \r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n           &lt;....VerticalSlider\r\n                style=&quot;@style/InstSliderWhiteMatchWrap&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_marginBottom=&quot;10dp&quot;\r\n                android:value=&quot;100&quot;\r\n                app:haloRadius=&quot;15dp&quot;\r\n                app:thumbRadius=&quot;9dp&quot; /&gt;\r\n\r\n        &lt;/FrameLayout&gt;\r\n\r\nI had issue with haloRadius thou, had to set it to lower value to not show hard lines, looks like layout margin is not take correctly into account and I tried milliard of things... Otherwise little more readable and reusable this way for me. ","title":"Vertical slider in android using google material library","body":"<p>For now I have something like this:</p>\n<pre><code>class VerticalSlider @JvmOverloads\nconstructor(context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0)\n    : com.google.android.material.slider.Slider(context, attrs, defStyleAttr) {\n    init {\n        rotation = 270f\n    }\n\n    override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\n        super.onMeasure(heightMeasureSpec, widthMeasureSpec)\n    }\n}\n</code></pre>\n<p>Still I have to wrap it:</p>\n<pre><code>   &lt;FrameLayout \n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n       &lt;....VerticalSlider\n            style=&quot;@style/InstSliderWhiteMatchWrap&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:value=&quot;100&quot;\n            app:haloRadius=&quot;15dp&quot;\n            app:thumbRadius=&quot;9dp&quot; /&gt;\n\n    &lt;/FrameLayout&gt;\n</code></pre>\n<p>I had issue with haloRadius thou, had to set it to lower value to not show hard lines, looks like layout margin is not take correctly into account and I tried milliard of things... Otherwise little more readable and reusable this way for me.</p>\n"},{"tags":[],"owner":{"account_id":22263905,"reputation":1,"user_id":16494977,"display_name":"Dmitry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695459991,"creation_date":1695459991,"answer_id":77162338,"question_id":63170142,"body_markdown":"I used the following code (kotlin)\r\nit works however the value above the slider is still shown in the horizontal position\r\n\r\nI just disabled it, but I think if I spend more time it can be fixed\r\n\r\n\r\n    class VerticalSlider @JvmOverloads\r\n    constructor(context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0)\r\n        : com.google.android.material.slider.Slider(context, attrs, defStyleAttr) {\r\n        \r\n        \r\n        override fun onDraw(c: Canvas) {\r\n            c.rotate(270f)\r\n            c.translate(-height.toFloat(), 0f)\r\n            super.onDraw(c)\r\n        }\r\n        \r\n        \r\n        override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\r\n            super.onSizeChanged(h, w, oldh, oldw)\r\n        }\r\n        \r\n        override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\r\n            super.onMeasure(heightMeasureSpec, widthMeasureSpec)\r\n            setMeasuredDimension(measuredHeight, measuredWidth);\r\n        }\r\n        \r\n        @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n        override fun onTouchEvent(event: MotionEvent): Boolean {\r\n            \r\n            if (!isEnabled) {\r\n                return false\r\n            }\r\n            when (event.action) {\r\n                MotionEvent.ACTION_DOWN, MotionEvent.ACTION_MOVE, MotionEvent.ACTION_UP -&gt; {\r\n                    onSizeChanged(width, height, 0, 0)\r\n                    super.onTouchEvent(MotionEvent.obtain(event.downTime, event.eventTime, event.action,\r\n                        height.toFloat() - event.y, event.x, event.pressure, event.size, event.metaState,event.yPrecision,event.xPrecision, event.deviceId, event.edgeFlags))\r\n                }\r\n    \r\n                MotionEvent.ACTION_CANCEL -&gt; {}\r\n            }\r\n            return true\r\n        }\r\n        \r\n    }\r\n    enter code here\r\n\r\nit can be used like this\r\n\r\n    &lt;yourPakage.VerticalSlider\r\n                    android:id=&quot;@+id/verticalSlider&quot;\r\n                    android:layout_width=&quot;0dp&quot;\r\n                    android:layout_height=&quot;0dp&quot;\r\n\r\n                    app:labelBehavior=&quot;gone&quot;\r\n\r\n                    android:layout_marginTop=&quot;@dimen/dp_4&quot;\r\n                    android:layout_marginBottom=&quot;@dimen/dp_4&quot;\r\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/textSliderValue&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;@+id/sliderMark&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/sliderMark&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;@+id/sliderMark&quot; /&gt;","title":"Vertical slider in android using google material library","body":"<p>I used the following code (kotlin)\nit works however the value above the slider is still shown in the horizontal position</p>\n<p>I just disabled it, but I think if I spend more time it can be fixed</p>\n<pre><code>class VerticalSlider @JvmOverloads\nconstructor(context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0)\n    : com.google.android.material.slider.Slider(context, attrs, defStyleAttr) {\n    \n    \n    override fun onDraw(c: Canvas) {\n        c.rotate(270f)\n        c.translate(-height.toFloat(), 0f)\n        super.onDraw(c)\n    }\n    \n    \n    override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {\n        super.onSizeChanged(h, w, oldh, oldw)\n    }\n    \n    override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\n        super.onMeasure(heightMeasureSpec, widthMeasureSpec)\n        setMeasuredDimension(measuredHeight, measuredWidth);\n    }\n    \n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    override fun onTouchEvent(event: MotionEvent): Boolean {\n        \n        if (!isEnabled) {\n            return false\n        }\n        when (event.action) {\n            MotionEvent.ACTION_DOWN, MotionEvent.ACTION_MOVE, MotionEvent.ACTION_UP -&gt; {\n                onSizeChanged(width, height, 0, 0)\n                super.onTouchEvent(MotionEvent.obtain(event.downTime, event.eventTime, event.action,\n                    height.toFloat() - event.y, event.x, event.pressure, event.size, event.metaState,event.yPrecision,event.xPrecision, event.deviceId, event.edgeFlags))\n            }\n\n            MotionEvent.ACTION_CANCEL -&gt; {}\n        }\n        return true\n    }\n    \n}\nenter code here\n</code></pre>\n<p>it can be used like this</p>\n<pre><code>&lt;yourPakage.VerticalSlider\n                android:id=&quot;@+id/verticalSlider&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;0dp&quot;\n\n                app:labelBehavior=&quot;gone&quot;\n\n                android:layout_marginTop=&quot;@dimen/dp_4&quot;\n                android:layout_marginBottom=&quot;@dimen/dp_4&quot;\n                app:layout_constraintBottom_toTopOf=&quot;@+id/textSliderValue&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/sliderMark&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/sliderMark&quot;\n                app:layout_constraintEnd_toEndOf=&quot;@+id/sliderMark&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":13005004,"reputation":51,"user_id":9399811,"display_name":"Robin Singla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2993,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1695459991,"creation_date":1596101183,"question_id":63170142,"body_markdown":"I have this google material slider aligned in horizontal direction:\r\n\r\n    &lt;com.google.android.material.slider.Slider\r\n        android:id=&quot;@+id/slider_tilt&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_above=&quot;@+id/tilt_btn&quot;\r\n        android:layout_marginBottom=&quot;20dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginHorizontal=&quot;65dp&quot;\r\n        android:valueFrom=&quot;-4&quot;\r\n        android:valueTo=&quot;4&quot;\r\n        android:stepSize=&quot;0.5&quot;/&gt;\r\n\r\n\r\nbut I want it to be in vertical direction and aligned to the left of the screen. I tried rotating it but then couldn&#39;t get left side alignment, please let me know if there is a way out.","title":"Vertical slider in android using google material library","body":"<p>I have this google material slider aligned in horizontal direction:</p>\n<pre><code>&lt;com.google.android.material.slider.Slider\n    android:id=&quot;@+id/slider_tilt&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_above=&quot;@+id/tilt_btn&quot;\n    android:layout_marginBottom=&quot;20dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginHorizontal=&quot;65dp&quot;\n    android:valueFrom=&quot;-4&quot;\n    android:valueTo=&quot;4&quot;\n    android:stepSize=&quot;0.5&quot;/&gt;\n</code></pre>\n<p>but I want it to be in vertical direction and aligned to the left of the screen. I tried rotating it but then couldn't get left side alignment, please let me know if there is a way out.</p>\n"},{"tags":["java","spring","jpa","design-patterns","spring-data-jpa"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1405915106,"post_id":24857003,"comment_id":38601729,"body_markdown":"Why are you doing all of that manual delegation instead of using the repository interfaces directly?","body":"Why are you doing all of that manual delegation instead of using the repository interfaces directly?"},{"owner":{"account_id":2450536,"reputation":345,"user_id":2136936,"accept_rate":60,"display_name":"Jonas P."},"score":0,"creation_date":1405955822,"post_id":24857003,"comment_id":38622740,"body_markdown":"What do you mean by &#39;using the repository interfaces direclty&#39;? I was trying to do something like this [Spring and Autowiring of Generic Types](http://www.jayway.com/2013/11/03/spring-and-autowiring-of-generic-types/)","body":"What do you mean by &#39;using the repository interfaces direclty&#39;? I was trying to do something like this <a href=\"http://www.jayway.com/2013/11/03/spring-and-autowiring-of-generic-types/\" rel=\"nofollow noreferrer\">Spring and Autowiring of Generic Types</a>"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1405962961,"post_id":24857003,"comment_id":38627015,"body_markdown":"I mean autowire your `CrudRepository` directly into the code that&#39;s manipulating the objects instead of having a separate service hierarchy that just replicates it.","body":"I mean autowire your <code>CrudRepository</code> directly into the code that&#39;s manipulating the objects instead of having a separate service hierarchy that just replicates it."},{"owner":{"account_id":2450536,"reputation":345,"user_id":2136936,"accept_rate":60,"display_name":"Jonas P."},"score":1,"creation_date":1405987804,"post_id":24857003,"comment_id":38638577,"body_markdown":"It is ok to access the UserDAO from the controller? I don&#39;t really need the service layer I just did this because I thought it would be the best practice.","body":"It is ok to access the UserDAO from the controller? I don&#39;t really need the service layer I just did this because I thought it would be the best practice."},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":4,"creation_date":1405989297,"post_id":24857003,"comment_id":38638940,"body_markdown":"Yes, if your service tier isn&#39;t adding further logic. You&#39;ll want separation for larger projects when the service tier does more than just data access.","body":"Yes, if your service tier isn&#39;t adding further logic. You&#39;ll want separation for larger projects when the service tier does more than just data access."},{"owner":{"account_id":1578242,"reputation":1360,"user_id":1464191,"accept_rate":45,"display_name":"StephanM"},"score":1,"creation_date":1457803363,"post_id":24857003,"comment_id":59576832,"body_markdown":"Is this really working? Was trying it but getting always a exception during the startup of my app: No qualifying bean of type [org.springframework.data.jpa.repository.JpaRepository] found for dependency (Using JpaRepository instead of CrudRepository)","body":"Is this really working? Was trying it but getting always a exception during the startup of my app: No qualifying bean of type [org.springframework.data.jpa.repository.JpaRepository] found for dependency (Using JpaRepository instead of CrudRepository)"},{"owner":{"account_id":4995515,"reputation":2030,"user_id":4016254,"accept_rate":80,"display_name":"Erlan"},"score":0,"creation_date":1513635525,"post_id":24857003,"comment_id":82720290,"body_markdown":"@chrylis what if half of the domains need business logic(service layer) and the other half not. I would definitely have service layer for business logic, but what is best for other domains. Using Repository directly from controller for **simplicity** vs generic service layer for **similar code structure**?","body":"@chrylis what if half of the domains need business logic(service layer) and the other half not. I would definitely have service layer for business logic, but what is best for other domains. Using Repository directly from controller for <b>simplicity</b> vs generic service layer for <b>similar code structure</b>?"},{"owner":{"account_id":15968321,"reputation":490,"user_id":11523207,"display_name":"Joost Lambregts"},"score":0,"creation_date":1558431299,"post_id":24857003,"comment_id":99089514,"body_markdown":"I am personally in favor of always adding a service layer between the Controller and the DAO. I don&#39;t see the point of the service interfaces though, I would just make a UserService class without an interface. Also, as mentioned by StephanM I don&#39;t think your GenericServiceImpl will actually work because it autowires a bean that doesn&#39;t exist.","body":"I am personally in favor of always adding a service layer between the Controller and the DAO. I don&#39;t see the point of the service interfaces though, I would just make a UserService class without an interface. Also, as mentioned by StephanM I don&#39;t think your GenericServiceImpl will actually work because it autowires a bean that doesn&#39;t exist."}],"answers":[{"tags":[],"owner":{"account_id":2562588,"reputation":576,"user_id":2223421,"accept_rate":55,"display_name":"Mustehssun Iqbal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630182010,"creation_date":1630182010,"answer_id":68967858,"question_id":24857003,"body_markdown":"Yes, you&#39;re providing your own impl that&#39;s may do custom things while still reusing the Derived queries from Spring JPA&#39;s CrudRepository. I&#39;ve seen that a lot. :) We need to do that if we want to do our own computation before calling the Derived methods. After all, that computation may very well be part of a repository, so it doesn&#39;t make sense to put that logic in the service. But in your scenario, if there are no such custom computations, then this indirection isn&#39;t needed. As a commenter mentioned, you should directly use the UserDao interface. :)","title":"Crud methods in service layer using Spring Data JPA","body":"<p>Yes, you're providing your own impl that's may do custom things while still reusing the Derived queries from Spring JPA's CrudRepository. I've seen that a lot. :) We need to do that if we want to do our own computation before calling the Derived methods. After all, that computation may very well be part of a repository, so it doesn't make sense to put that logic in the service. But in your scenario, if there are no such custom computations, then this indirection isn't needed. As a commenter mentioned, you should directly use the UserDao interface. :)</p>\n"}],"owner":{"account_id":2450536,"reputation":345,"user_id":2136936,"accept_rate":60,"display_name":"Jonas P."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18976,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":1,"score":7,"last_activity_date":1695459675,"creation_date":1405910433,"question_id":24857003,"body_markdown":"I&#39;m building a small application using Spring and Spring Data JPA and I need to use the CrudRepository methods in the service layer, so I made 2 classes: GenericService and GenericServiceImpl. But I don&#39;t know if this is the right or even the best approach.\r\n\r\nHere is an example:\r\n\r\nPOJO:\r\n\r\n    @Entity\r\n    public class User {\r\n\r\n      @Id\r\n      private Long id;\r\n      \r\n      private String username;\r\n    }\r\n\r\nDAO:\r\n\r\n    public interface UserDAO extends CrudRepository&lt;User, Long&gt; {\r\n      User findOneByUsername(String username);\r\n    }\r\n\r\nGeneric service\r\n\r\n    public interface GenericService&lt;T, ID extends Serializable&gt; {\r\n      &lt;S extends T&gt; S save(S entity);\r\n    }\r\n\r\nService\r\n\r\n    public interface UserService extends GenericService&lt;User, Long&gt;  {\r\n      User findOneByUsername(String username);\r\n    }\r\n\r\nGeneric service impl.\r\n\r\n    public class GenericServiceImpl&lt;T, ID extends Serializable&gt; implements GenericService&lt;T, ID&gt; {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate CrudRepository&lt;T, ID&gt; repository;\r\n    \t\r\n    \t@Override\r\n    \tpublic &lt;S extends T&gt; S save(S entity) {\r\n    \t\treturn repository.save(entity);\r\n    \t}\r\n    }\r\n\r\nService Impl.\r\n\r\n    @Service\r\n    @Transactional\r\n    public class UserServiceImpl extends GenericServiceImpl&lt;User, Long&gt; implements UserService {\r\n\r\n      @Autowired\r\n      private UserDAO userDAO;\r\n    \r\n      @Override\r\n      public User findOneByUsername(String username) {\r\n        userDAO.findOneByUsername(username);\r\n      }\r\n    }\r\n","title":"Crud methods in service layer using Spring Data JPA","body":"<p>I'm building a small application using Spring and Spring Data JPA and I need to use the CrudRepository methods in the service layer, so I made 2 classes: GenericService and GenericServiceImpl. But I don't know if this is the right or even the best approach.</p>\n\n<p>Here is an example:</p>\n\n<p>POJO:</p>\n\n<pre><code>@Entity\npublic class User {\n\n  @Id\n  private Long id;\n\n  private String username;\n}\n</code></pre>\n\n<p>DAO:</p>\n\n<pre><code>public interface UserDAO extends CrudRepository&lt;User, Long&gt; {\n  User findOneByUsername(String username);\n}\n</code></pre>\n\n<p>Generic service</p>\n\n<pre><code>public interface GenericService&lt;T, ID extends Serializable&gt; {\n  &lt;S extends T&gt; S save(S entity);\n}\n</code></pre>\n\n<p>Service</p>\n\n<pre><code>public interface UserService extends GenericService&lt;User, Long&gt;  {\n  User findOneByUsername(String username);\n}\n</code></pre>\n\n<p>Generic service impl.</p>\n\n<pre><code>public class GenericServiceImpl&lt;T, ID extends Serializable&gt; implements GenericService&lt;T, ID&gt; {\n\n    @Autowired\n    private CrudRepository&lt;T, ID&gt; repository;\n\n    @Override\n    public &lt;S extends T&gt; S save(S entity) {\n        return repository.save(entity);\n    }\n}\n</code></pre>\n\n<p>Service Impl.</p>\n\n<pre><code>@Service\n@Transactional\npublic class UserServiceImpl extends GenericServiceImpl&lt;User, Long&gt; implements UserService {\n\n  @Autowired\n  private UserDAO userDAO;\n\n  @Override\n  public User findOneByUsername(String username) {\n    userDAO.findOneByUsername(username);\n  }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","android-resources","android-file"],"comments":[{"owner":{"account_id":150110,"reputation":1907,"user_id":363059,"accept_rate":83,"display_name":"Captain Blammo"},"score":0,"creation_date":1366774088,"post_id":6539715,"comment_id":23134068,"body_markdown":"I suspect that you can&#39;t reference a raw asset by URI. You may need to pass it as an AssetFileDescriptor object. Just call getResources().openRawResourceFd(resourceID);","body":"I suspect that you can&#39;t reference a raw asset by URI. You may need to pass it as an AssetFileDescriptor object. Just call getResources().openRawResourceFd(resourceID);"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1309460485,"creation_date":1309460485,"answer_id":6539756,"question_id":6539715,"body_markdown":"&gt; I need the name (String) of all files in res/raw/\r\n\r\nThere are no files in `res/raw/` on the device. Those are resources. There is no good way to iterate over resources, other than by using reflection to iterate over the static data members of the `R.raw` class to get the various ID names and values.\r\n\r\n&gt;  but doesn&#39;t really help me find out where the raw folder exists.\r\n\r\nAs a folder, it only exists on your development machine. It is not a folder on the device.\r\n","title":"Android, how can I get a list of all files in a folder?","body":"<blockquote>\n  <p>I need the name (String) of all files in res/raw/</p>\n</blockquote>\n\n<p>There are no files in <code>res/raw/</code> on the device. Those are resources. There is no good way to iterate over resources, other than by using reflection to iterate over the static data members of the <code>R.raw</code> class to get the various ID names and values.</p>\n\n<blockquote>\n  <p>but doesn't really help me find out where the raw folder exists.</p>\n</blockquote>\n\n<p>As a folder, it only exists on your development machine. It is not a folder on the device.</p>\n"},{"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1309460825,"post_id":6539778,"comment_id":7702845,"body_markdown":"That works for assets, and may be a better choice for the OP in this case. But assets are not the same as raw resources.","body":"That works for assets, and may be a better choice for the OP in this case. But assets are not the same as raw resources."},{"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"score":0,"creation_date":1309460937,"post_id":6539778,"comment_id":7702880,"body_markdown":"@Commons:  I suppose I was under the impression that everything under /res was considered an asset...hmm...","body":"@Commons:  I suppose I was under the impression that everything under /res was considered an asset...hmm..."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":3,"creation_date":1309461232,"post_id":6539778,"comment_id":7702952,"body_markdown":"Assets refers to `assets/`, not `res/raw/`, last I checked.","body":"Assets refers to <code>assets&#47;</code>, not <code>res&#47;raw&#47;</code>, last I checked."}],"tags":[],"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1309460599,"creation_date":1309460599,"answer_id":6539778,"question_id":6539715,"body_markdown":"From a `Context`, you can call something like this:\r\n\r\n    getResources().getAssets().list(&quot;thePath&quot;);\r\n\r\n[link to documentation][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/content/res/AssetManager.html#list%28java.lang.String%29","title":"Android, how can I get a list of all files in a folder?","body":"<p>From a <code>Context</code>, you can call something like this:</p>\n\n<pre><code>getResources().getAssets().list(\"thePath\");\n</code></pre>\n\n<p><a href=\"http://developer.android.com/reference/android/content/res/AssetManager.html#list%28java.lang.String%29\" rel=\"nofollow\">link to documentation</a></p>\n"},{"tags":[],"owner":{"account_id":143427,"reputation":2731,"user_id":351747,"display_name":"Damian Kołakowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1309460812,"creation_date":1309460812,"answer_id":6539818,"question_id":6539715,"body_markdown":"You can use [AssetManager][1]: \r\n\r\nAs far as I can remember, you will have list with (just try different paths):\r\n\r\n\r\n    final String[] allFilesInPackage = getContext().getResources().getAssets().list(&quot;&quot;);\r\n\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/content/res/AssetManager.html","title":"Android, how can I get a list of all files in a folder?","body":"<p>You can use <a href=\"http://developer.android.com/reference/android/content/res/AssetManager.html\" rel=\"nofollow\">AssetManager</a>: </p>\n\n<p>As far as I can remember, you will have list with (just try different paths):</p>\n\n<pre><code>final String[] allFilesInPackage = getContext().getResources().getAssets().list(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":275234,"reputation":2388,"user_id":567987,"accept_rate":83,"display_name":"abdolence"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309460883,"creation_date":1309460883,"answer_id":6539832,"question_id":6539715,"body_markdown":"Look at http://developer.android.com/reference/android/content/res/Resources.html\r\nYou can generally acquire the Resources instance associated with your application with getResources().\r\n\r\nResources class provides access to http://developer.android.com/reference/android/content/res/AssetManager.html (see to getAssets() method).\r\nAnd finally obtain access to your packaged (apk) files with AssetManager.list() method.\r\nEnjoy!","title":"Android, how can I get a list of all files in a folder?","body":"<p>Look at <a href=\"http://developer.android.com/reference/android/content/res/Resources.html\" rel=\"nofollow\">http://developer.android.com/reference/android/content/res/Resources.html</a>\nYou can generally acquire the Resources instance associated with your application with getResources().</p>\n\n<p>Resources class provides access to <a href=\"http://developer.android.com/reference/android/content/res/AssetManager.html\" rel=\"nofollow\">http://developer.android.com/reference/android/content/res/AssetManager.html</a> (see to getAssets() method).\nAnd finally obtain access to your packaged (apk) files with AssetManager.list() method.\nEnjoy!</p>\n"},{"comments":[{"owner":{"account_id":1577402,"reputation":13270,"user_id":1463518,"accept_rate":60,"display_name":"Ryan Heitner"},"score":12,"creation_date":1357115773,"post_id":6540269,"comment_id":19541764,"body_markdown":"To clarify use java.lang.reflect.Field[]","body":"To clarify use java.lang.reflect.Field[]"},{"owner":{"account_id":220650,"reputation":1870,"user_id":478162,"accept_rate":36,"display_name":"Behzad"},"score":0,"creation_date":1362395709,"post_id":6540269,"comment_id":21418742,"body_markdown":"@Captain Blammo, what about a directory on a host? Can I get list of files in directory on the Internet host?","body":"@Captain Blammo, what about a directory on a host? Can I get list of files in directory on the Internet host?"},{"owner":{"account_id":150110,"reputation":1907,"user_id":363059,"accept_rate":83,"display_name":"Captain Blammo"},"score":0,"creation_date":1362421591,"post_id":6540269,"comment_id":21433191,"body_markdown":"No, that&#39;s a completely different technique. This is only for local files inside your resource directory at compile time.","body":"No, that&#39;s a completely different technique. This is only for local files inside your resource directory at compile time."},{"owner":{"account_id":1347382,"reputation":10453,"user_id":1287856,"accept_rate":83,"display_name":"Mika&#235;l Mayer"},"score":0,"creation_date":1380693907,"post_id":6540269,"comment_id":28292106,"body_markdown":"This does not work if we want to iterate over the R class of a derived project. Any idea on how to deal with such aspect ?","body":"This does not work if we want to iterate over the R class of a derived project. Any idea on how to deal with such aspect ?"},{"owner":{"account_id":117097,"reputation":3315,"user_id":306802,"display_name":"edovino"},"score":0,"creation_date":1381754456,"post_id":6540269,"comment_id":28686248,"body_markdown":"@Mika&#235;lMayer: pass in the R class of the derived project as parameter. Because of the way android resource merging works, only the R of the derived project will contain the generated fields.","body":"@Mika&#235;lMayer: pass in the R class of the derived project as parameter. Because of the way android resource merging works, only the R of the derived project will contain the generated fields."},{"owner":{"account_id":1347382,"reputation":10453,"user_id":1287856,"accept_rate":83,"display_name":"Mika&#235;l Mayer"},"score":0,"creation_date":1381756436,"post_id":6540269,"comment_id":28687352,"body_markdown":"you mean com.package.myderivedproject.R.raw.class ? But I don&#39;t have access to the com.package.myderivedproject in the base library project.","body":"you mean com.package.myderivedproject.R.raw.class ? But I don&#39;t have access to the com.package.myderivedproject in the base library project."},{"owner":{"account_id":13819119,"reputation":1911,"user_id":9975029,"display_name":"Dyno Cris"},"score":0,"creation_date":1636211579,"post_id":6540269,"comment_id":123498484,"body_markdown":"why it does not work if I use buildFlavors. How to fix it? Any ideas?","body":"why it does not work if I use buildFlavors. How to fix it? Any ideas?"}],"tags":[],"owner":{"account_id":150110,"reputation":1907,"user_id":363059,"accept_rate":83,"display_name":"Captain Blammo"},"comment_count":7,"down_vote_count":1,"up_vote_count":71,"is_accepted":true,"score":70,"last_activity_date":1309463213,"creation_date":1309463213,"answer_id":6540269,"question_id":6539715,"body_markdown":"To list all the names of your raw assets, which are basically the filenames with the extensions stripped off, you can do this:\r\n\r\n    public void listRaw(){\r\n        Field[] fields=R.raw.class.getFields();\r\n        for(int count=0; count &lt; fields.length; count++){\r\n            Log.i(&quot;Raw Asset: &quot;, fields[count].getName());\r\n        }\r\n    }\r\n\r\nSince the actual files aren&#39;t just sitting on the filesystem once they&#39;re on the phone, the name is irrelevant, and you&#39;ll need to refer to them by the integer assigned to that resource name. In the above example, you could get this integer thus:\r\n\r\n    int resourceID=fields[count].getInt(fields[count]);\r\n\r\nThis is the same int which you&#39;d get by referring to R.raw.whateveryounamedtheresource","title":"Android, how can I get a list of all files in a folder?","body":"<p>To list all the names of your raw assets, which are basically the filenames with the extensions stripped off, you can do this:</p>\n\n<pre><code>public void listRaw(){\n    Field[] fields=R.raw.class.getFields();\n    for(int count=0; count &lt; fields.length; count++){\n        Log.i(\"Raw Asset: \", fields[count].getName());\n    }\n}\n</code></pre>\n\n<p>Since the actual files aren't just sitting on the filesystem once they're on the phone, the name is irrelevant, and you'll need to refer to them by the integer assigned to that resource name. In the above example, you could get this integer thus:</p>\n\n<pre><code>int resourceID=fields[count].getInt(fields[count]);\n</code></pre>\n\n<p>This is the same int which you'd get by referring to R.raw.whateveryounamedtheresource</p>\n"},{"tags":[],"owner":{"account_id":2922622,"reputation":1030,"user_id":2504569,"accept_rate":20,"display_name":"Lucky Rana"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1463813680,"creation_date":1388652957,"answer_id":20879359,"question_id":6539715,"body_markdown":"This code will retrieve all the files from &#39;New Foder&#39; of sdCard.\r\n\t\t\r\n\t\tFile sdCardRoot = Environment.getExternalStorageDirectory();\r\n\t\tFile yourDir = new File(sdCardRoot, &quot;New Folder&quot;);\r\n\t\tfor (File f : yourDir.listFiles()) {\r\n\t\t    if (f.isFile())\t\t\t\r\n\t\t    {\t\t        \r\n\t\t   \t   String name = f.getName();\t\t   \t\r\n\t           Log.i(&quot;file names&quot;, name);          \r\n\t\t        \r\n\t\t    }\r\n\t\t\r\n\t\t }\r\n\r\nand also make sure to add android sd card write permission in your manifest.xml file \r\n\r\n","title":"Android, how can I get a list of all files in a folder?","body":"<p>This code will retrieve all the files from 'New Foder' of sdCard.</p>\n\n<pre><code>    File sdCardRoot = Environment.getExternalStorageDirectory();\n    File yourDir = new File(sdCardRoot, \"New Folder\");\n    for (File f : yourDir.listFiles()) {\n        if (f.isFile())         \n        {               \n           String name = f.getName();           \n           Log.i(\"file names\", name);          \n\n        }\n\n     }\n</code></pre>\n\n<p>and also make sure to add android sd card write permission in your manifest.xml file </p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695457963,"creation_date":1695457963,"answer_id":77162240,"question_id":6539715,"body_markdown":"Here are two solutions for Kotlin.\r\n\r\n#### Method 1\r\n```kotlin\r\n// Make sure to add this dependency in your build file\r\n// implementation(kotlin(&quot;reflect&quot;))\r\n\r\nfor (property in R.raw::class.staticProperties) {\r\n    val itsName = property.name\r\n    val itsValue = property.get() // Aka, the resource ID\r\n}\r\n```\r\n\r\nNote that, to get properties that are not static (instance members), instead of `staticProperties` above, use `memberProperties` and pass your object instance to the `get()` function call.\r\n\r\n#### Method 2\r\n```kotlin\r\nval fields = R.raw::class.java.getFields()\r\nfor (field in fields) {\r\n    val itsName = field.name\r\n    val itsValue = field.getInt(field) // Aka, the resource ID\r\n}\r\n```\r\n","title":"Android, how can I get a list of all files in a folder?","body":"<p>Here are two solutions for Kotlin.</p>\n<h4>Method 1</h4>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Make sure to add this dependency in your build file\n// implementation(kotlin(&quot;reflect&quot;))\n\nfor (property in R.raw::class.staticProperties) {\n    val itsName = property.name\n    val itsValue = property.get() // Aka, the resource ID\n}\n</code></pre>\n<p>Note that, to get properties that are not static (instance members), instead of <code>staticProperties</code> above, use <code>memberProperties</code> and pass your object instance to the <code>get()</code> function call.</p>\n<h4>Method 2</h4>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val fields = R.raw::class.java.getFields()\nfor (field in fields) {\n    val itsName = field.name\n    val itsValue = field.getInt(field) // Aka, the resource ID\n}\n</code></pre>\n"}],"owner":{"account_id":372309,"reputation":743,"user_id":721292,"accept_rate":64,"display_name":"jasonsemko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56141,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":6540269,"answer_count":7,"score":31,"last_activity_date":1695458046,"creation_date":1309460224,"question_id":6539715,"body_markdown":"I need the name (String) of all files in res/raw/ directory.\r\n\r\nI tried:\r\n\r\n```java\r\nFile f = new File(&quot;/&quot;);\t\r\nString[] someFiles = f.list();\r\n```\r\n\r\nIt looks like the root directory is the root of the android emulator...and not my computers root directory. That makes enough sense, but doesn&#39;t really help me find out where the raw folder exists. \r\n\r\n**Update: Thanks for all the great replies. It appears that some of these are working, but only getting me half way. Perhaps a more detailed description will aid**\r\n\r\nI want to get all the mp3 files in the raw folder so I can get all the names, then add them to a URI to play a random MP3 in the following way...\r\n\r\n    String uriStr = &quot;android.resource://&quot;+ &quot;com.example.phone&quot;+ &quot;/&quot; + &quot;raw/dennis&quot;;\r\n    Uri uri = Uri.parse(uriStr);\r\n    singletonMediaPlayer = MediaPlayer.create(c, uri);\r\n\r\nWhen I put &quot;dennis.mp3&quot; into the assets folder, it does show up as expected, however, using the above code, I can&#39;t access that MP3 anymore, unless there is something along the line of:\r\n\r\n    String uriStr = &quot;android.assets://&quot;+ &quot;com.example.phone&quot;+ &quot;/&quot; + &quot;dennis&quot;;\r\n    Uri uri = Uri.parse(uriStr);\r\n","title":"Android, how can I get a list of all files in a folder?","body":"<p>I need the name (String) of all files in res/raw/ directory.</p>\n<p>I tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File f = new File(&quot;/&quot;); \nString[] someFiles = f.list();\n</code></pre>\n<p>It looks like the root directory is the root of the android emulator...and not my computers root directory. That makes enough sense, but doesn't really help me find out where the raw folder exists.</p>\n<p><strong>Update: Thanks for all the great replies. It appears that some of these are working, but only getting me half way. Perhaps a more detailed description will aid</strong></p>\n<p>I want to get all the mp3 files in the raw folder so I can get all the names, then add them to a URI to play a random MP3 in the following way...</p>\n<pre><code>String uriStr = &quot;android.resource://&quot;+ &quot;com.example.phone&quot;+ &quot;/&quot; + &quot;raw/dennis&quot;;\nUri uri = Uri.parse(uriStr);\nsingletonMediaPlayer = MediaPlayer.create(c, uri);\n</code></pre>\n<p>When I put &quot;dennis.mp3&quot; into the assets folder, it does show up as expected, however, using the above code, I can't access that MP3 anymore, unless there is something along the line of:</p>\n<pre><code>String uriStr = &quot;android.assets://&quot;+ &quot;com.example.phone&quot;+ &quot;/&quot; + &quot;dennis&quot;;\nUri uri = Uri.parse(uriStr);\n</code></pre>\n"},{"tags":["python","java","groovy"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":2,"creation_date":1695216358,"post_id":77142905,"comment_id":135994630,"body_markdown":"What you tried so far?","body":"What you tried so far?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1695218343,"post_id":77142905,"comment_id":135995166,"body_markdown":"Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1695221603,"post_id":77142905,"comment_id":135995998,"body_markdown":"Easiest would probably be to just call the Python script via a `ProcessBuilder` and communicate via stdin/stdout","body":"Easiest would probably be to just call the Python script via a <code>ProcessBuilder</code> and communicate via stdin/stdout"},{"owner":{"account_id":20561888,"reputation":45,"user_id":15092219,"display_name":"Wilko"},"score":0,"creation_date":1695283041,"post_id":77142905,"comment_id":136004376,"body_markdown":"@aled Just edited original post.","body":"@aled Just edited original post."}],"answers":[{"comments":[{"owner":{"account_id":20561888,"reputation":45,"user_id":15092219,"display_name":"Wilko"},"score":0,"creation_date":1695281942,"post_id":77143810,"comment_id":136004141,"body_markdown":"We are in fact running on AWS. If I understand correctly, I can store my python script on AWS Lambda and then call this script from within a Java / Groovy script?","body":"We are in fact running on AWS. If I understand correctly, I can store my python script on AWS Lambda and then call this script from within a Java / Groovy script?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1695297109,"post_id":77143810,"comment_id":136007266,"body_markdown":"Not handling the error input stream can also cause the process to hang.","body":"Not handling the error input stream can also cause the process to hang."},{"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"score":0,"creation_date":1695338896,"post_id":77143810,"comment_id":136014856,"body_markdown":"@Wilko yes you can create your program as a lambda script in python.  Then attach a gateway to it and invoke it like a rest api.  That would be pretty simple to do.","body":"@Wilko yes you can create your program as a lambda script in python.  Then attach a gateway to it and invoke it like a rest api.  That would be pretty simple to do."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1695412628,"post_id":77143810,"comment_id":136026110,"body_markdown":"@Wilko, if you have ability to host your python as a lambda - then you can call it from any language (including groovy) as an api","body":"@Wilko, if you have ability to host your python as a lambda - then you can call it from any language (including groovy) as an api"}],"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695223205,"creation_date":1695222844,"answer_id":77143810,"question_id":77142905,"body_markdown":"So here are some ideas. Exec&#39;ing a separate python process.  With Groovy you can do this:\r\n\r\n```\r\nString output = &quot;python myPython.py ${arg1} ${arg2} ${arg3}&quot;.execute().text\r\n```\r\nIn Java 9+\r\n```\r\nProcess process = new ProcessBuilder(&quot;python&quot;, &quot;myPython.py&quot;, arg1, arg2, arg3).start();\r\nprocess.waitFor( 30, TimeUnit.SECONDS );\r\nInputStream stream = process.getInputStream();\r\nString output = new String(stream.readAllBytes(), StandardCharsets.UTF_8);\r\n```\r\nA word of warning I provide no real error handling.  If the process tosses an exception or python can&#39;t be found, etc.  This will produce unexpected behavior.  If you use this code you&#39;ll want to harden it with better error handling.\r\n\r\nThe next idea is to run a python web application hosting your python script in something like Flask.  Then hit that web app from Java / Groovy using an HTTP client.  There are a couple of benefits I can see with this approach.  If you are running it as a web service it only consumes a single python process.  If you are exec&#39;ing commands from within a JVM process it might startup lots of python processes for each innovation of the script.  This centralizes the python process and allows multiple clients to invoke the script so a bit lower overhead.  It&#39;s also a bit easier to pass JSON input and output to the process, but you could do that with the CLI option as well.  You&#39;d just have to pass that through STDIN and STDOUT of the python process.\r\n\r\nYou could also invoke it as an AWS Lambda service if you&#39;re running on AWS, and the JVM side wouldn&#39;t care if it was a Flask app or Lambda.","title":"Call python function from within Java","body":"<p>So here are some ideas. Exec'ing a separate python process.  With Groovy you can do this:</p>\n<pre><code>String output = &quot;python myPython.py ${arg1} ${arg2} ${arg3}&quot;.execute().text\n</code></pre>\n<p>In Java 9+</p>\n<pre><code>Process process = new ProcessBuilder(&quot;python&quot;, &quot;myPython.py&quot;, arg1, arg2, arg3).start();\nprocess.waitFor( 30, TimeUnit.SECONDS );\nInputStream stream = process.getInputStream();\nString output = new String(stream.readAllBytes(), StandardCharsets.UTF_8);\n</code></pre>\n<p>A word of warning I provide no real error handling.  If the process tosses an exception or python can't be found, etc.  This will produce unexpected behavior.  If you use this code you'll want to harden it with better error handling.</p>\n<p>The next idea is to run a python web application hosting your python script in something like Flask.  Then hit that web app from Java / Groovy using an HTTP client.  There are a couple of benefits I can see with this approach.  If you are running it as a web service it only consumes a single python process.  If you are exec'ing commands from within a JVM process it might startup lots of python processes for each innovation of the script.  This centralizes the python process and allows multiple clients to invoke the script so a bit lower overhead.  It's also a bit easier to pass JSON input and output to the process, but you could do that with the CLI option as well.  You'd just have to pass that through STDIN and STDOUT of the python process.</p>\n<p>You could also invoke it as an AWS Lambda service if you're running on AWS, and the JVM side wouldn't care if it was a Flask app or Lambda.</p>\n"}],"owner":{"account_id":20561888,"reputation":45,"user_id":15092219,"display_name":"Wilko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1695457501,"creation_date":1695216274,"question_id":77142905,"body_markdown":"I am building a workflow in an online tool that uses script tasks (Java / Groovy). In this workflow, the user defines some string that has to be processed. Processing has to be done within a Python script.\r\n\r\nSo let&#39;s say the user defines the string: &quot;This is a test string.&quot;\r\nThen this string will be fed to the script task, which is in Java or Groovy. This script task will have to push the string to a python function, somewhere outside of the system. The python function will push back a result to the Java script task, like 50% or something. This will be used later in the code.\r\n\r\nI was thinking about API&#39;s, but I have no idea how to build this. Any other ideas or some help in building my first API?\r\n\r\nEdit:\r\nSo as an example lets say I built a python script, called wordCounter.py\r\nIt looks like this:\r\n```python\r\ndef getWordCount(string):\r\n    return len(string.split())\r\n```\r\nThe function counts the number of words present in the string. So for &quot;This is a string.&quot; the result would be 4.\r\nNow I want my java script to be able to call this function. So, in java I define the string, pass it to the python function and retrieve the answer. It looks something like this:\r\n\r\n```java\r\nString testing = &quot;This is a string.&quot;\r\nint count = getWordCount(testing)\r\n```\r\n\r\nThe second part is incorrect, since the function is unavailable within the java script.\r\n\r\nI know that for the example it can be done entirely in Java, but my real code is much more complex. (It contains a Neural Network among others.)","title":"Call python function from within Java","body":"<p>I am building a workflow in an online tool that uses script tasks (Java / Groovy). In this workflow, the user defines some string that has to be processed. Processing has to be done within a Python script.</p>\n<p>So let's say the user defines the string: &quot;This is a test string.&quot;\nThen this string will be fed to the script task, which is in Java or Groovy. This script task will have to push the string to a python function, somewhere outside of the system. The python function will push back a result to the Java script task, like 50% or something. This will be used later in the code.</p>\n<p>I was thinking about API's, but I have no idea how to build this. Any other ideas or some help in building my first API?</p>\n<p>Edit:\nSo as an example lets say I built a python script, called wordCounter.py\nIt looks like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def getWordCount(string):\n    return len(string.split())\n</code></pre>\n<p>The function counts the number of words present in the string. So for &quot;This is a string.&quot; the result would be 4.\nNow I want my java script to be able to call this function. So, in java I define the string, pass it to the python function and retrieve the answer. It looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String testing = &quot;This is a string.&quot;\nint count = getWordCount(testing)\n</code></pre>\n<p>The second part is incorrect, since the function is unavailable within the java script.</p>\n<p>I know that for the example it can be done entirely in Java, but my real code is much more complex. (It contains a Neural Network among others.)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":2,"creation_date":1435056914,"post_id":31000831,"comment_id":50029543,"body_markdown":"what&#39;s not working? give example of actual and expected output","body":"what&#39;s not working? give example of actual and expected output"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1435057094,"post_id":31000831,"comment_id":50029674,"body_markdown":"Can you please isolate code causing troubles?","body":"Can you please isolate code causing troubles?"},{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":0,"creation_date":1435057133,"post_id":31000831,"comment_id":50029706,"body_markdown":"I replaced &quot;brake&quot; with &quot;break&quot;. Please rollback if that wasn&#39;t your intent.","body":"I replaced &quot;brake&quot; with &quot;break&quot;. Please rollback if that wasn&#39;t your intent."},{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":0,"creation_date":1435057258,"post_id":31000831,"comment_id":50029782,"body_markdown":"A wild guess --&gt; are you showing text_3 in  html?","body":"A wild guess --&gt; are you showing text_3 in  html?"},{"owner":{"account_id":3657160,"reputation":5346,"user_id":3047827,"accept_rate":82,"display_name":"hash"},"score":0,"creation_date":1435057320,"post_id":31000831,"comment_id":50029826,"body_markdown":"nop in jframe .\ntext_3 is jLabel","body":"nop in jframe . text_3 is jLabel"},{"owner":{"account_id":3657160,"reputation":5346,"user_id":3047827,"accept_rate":82,"display_name":"hash"},"score":0,"creation_date":1435057373,"post_id":31000831,"comment_id":50029854,"body_markdown":"please check edited question","body":"please check edited question"},{"owner":{"account_id":3007207,"reputation":3322,"user_id":2551482,"display_name":"Sudhansu Choudhary"},"score":0,"creation_date":1435057632,"post_id":31000831,"comment_id":50030015,"body_markdown":"which OS? Windows/linux/OS X??","body":"which OS? Windows/linux/OS X??"}],"answers":[{"comments":[{"owner":{"account_id":3657160,"reputation":5346,"user_id":3047827,"accept_rate":82,"display_name":"hash"},"score":0,"creation_date":1435059167,"post_id":31001614,"comment_id":50030997,"body_markdown":"yes it not worked on the JLabel.i changed JLabel to TextArea..now its working.","body":"yes it not worked on the JLabel.i changed JLabel to TextArea..now its working."}],"tags":[],"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435059098,"creation_date":1435059098,"answer_id":31001614,"question_id":31000831,"body_markdown":"Have you tried setting text as `&quot;&lt;html&gt; this is &lt;br&gt; test&lt;/html&gt;&quot;`?","title":"How to line break in java","body":"<p>Have you tried setting text as <code>\"&lt;html&gt; this is &lt;br&gt; test&lt;/html&gt;\"</code>?</p>\n"},{"tags":[],"owner":{"account_id":3007207,"reputation":3322,"user_id":2551482,"display_name":"Sudhansu Choudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641629922,"creation_date":1435059319,"answer_id":31001699,"question_id":31000831,"body_markdown":"\r\nUse `System.getProperty(&quot;line.separator&quot;)` like this, \r\n    \r\n   \r\n\r\n     String newLine = System.getProperty(&quot;line.separator&quot;);\r\n\r\n     //then insert newLine variable as this :\r\n     text_3.setText(text_3.getText() + newLine+ &quot;2 &quot; + lock2Name +\r\n     &quot;acquired in thread &quot; + Thread.currentThread().getName());","title":"How to line break in java","body":"<p>Use <code>System.getProperty(&quot;line.separator&quot;)</code> like this,</p>\n<pre><code> String newLine = System.getProperty(&quot;line.separator&quot;);\n\n //then insert newLine variable as this :\n text_3.setText(text_3.getText() + newLine+ &quot;2 &quot; + lock2Name +\n &quot;acquired in thread &quot; + Thread.currentThread().getName());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1695575255,"post_id":77162141,"comment_id":136039605,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77162141/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29255413,"reputation":1,"user_id":22413738,"display_name":"Swapnanil"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695456649,"creation_date":1695455998,"answer_id":77162141,"question_id":31000831,"body_markdown":"    import static java.lang.System.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            out.print(&quot;Hello and welcome!&quot;);\r\n    \r\n            String new_Line = System.getProperty(&quot;line.separator&quot;);\r\n            System.out.println(new_Line);\r\n            int i;\r\n    \r\n            for (i=10; i &lt;=15; i++ ) {\r\n                System.out.println(i);\r\n            }\r\n    \r\n    \r\n            }\r\n        }\r\n\r\n","title":"How to line break in java","body":"<pre><code>import static java.lang.System.*;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        out.print(&quot;Hello and welcome!&quot;);\n\n        String new_Line = System.getProperty(&quot;line.separator&quot;);\n        System.out.println(new_Line);\n        int i;\n\n        for (i=10; i &lt;=15; i++ ) {\n            System.out.println(i);\n        }\n\n\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":3657160,"reputation":5346,"user_id":3047827,"accept_rate":82,"display_name":"hash"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2337,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31001699,"answer_count":3,"score":2,"last_activity_date":1695456649,"creation_date":1435056805,"question_id":31000831,"body_markdown":"I am using `&quot;\\n&quot;` as a line break in Thread but it&#39;s not working. I went through a lot of SO answers which suggest using \r\n`System.getProperty(&quot;line.separator&quot;);`\r\nbut that also does not work for me..\r\n\r\n \r\n   \r\n    public static void main(String args[]) {\r\n   \r\n    final ReentrantLock lock1 = new ReentrantLock();\r\n    final ReentrantLock lock2 = new ReentrantLock();\r\n   \r\n    Runnable try1_2 = getRunnable(lock1, &quot;lock 1&quot;, lock2, &quot;lock 2&quot;);\r\n    Runnable try2_1 = getRunnable(lock2, &quot;lock 2&quot;, lock1, &quot;lock 1&quot;);\r\n\r\n    new Thread(try1_2).start();\r\n    new Thread(try2_1).start();\r\n        \r\n    }\r\n\r\n    private Runnable getRunnable(final ReentrantLock lock1, final String lock1Name, final ReentrantLock lock2, final String lock2Name) {\r\n        return new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                 \r\n                    if (lock1.tryLock(1, TimeUnit.SECONDS)) {\r\n                        \r\n                        System.out.println(&quot;1&quot;+lock1Name + &quot; acquired in thread &quot; + Thread.currentThread().getName());\r\n                        text_3.setText(text_3.getText() +&quot;1&quot;+lock1Name + &quot; acquired in thread &quot; + Thread.currentThread().getName());\r\n                        \r\n                        if (lock2.tryLock(1, TimeUnit.SECONDS)) {\r\n                            \r\n                            System.out.println(&quot;2&quot;+lock2Name + &quot; acquired in thread &quot; + Thread.currentThread().getName());\r\n                            text_3.setText(text_3.getText() + &quot;\\n&quot;+&quot;2&quot;+lock2Name + &quot; acquired in thread &quot; + Thread.currentThread().getName());\r\n                            \r\n                            Thread.sleep(2000);\r\n                        } else {\r\n                           \r\n                            System.out.println(&quot;3&quot;+&quot;Could not acquire &quot;+lock2Name + &quot; in thread &quot; + Thread.currentThread().getName());\r\n                            text_3.setText(text_3.getText() + &quot;\\n&quot;+&quot;3&quot;+&quot;Could not acquire &quot;+lock2Name + &quot; in thread &quot; + Thread.currentThread().getName());\r\n                            \r\n                            lock1.unlock();\r\n                            \r\n                            System.out.println(&quot;4&quot;+lock1Name + &quot; released in thread &quot; + Thread.currentThread());\r\n                            text_3.setText(text_3.getText() + &quot;\\n&quot;+&quot;4&quot;+lock1Name + &quot; released in thread &quot; + Thread.currentThread());\r\n    \r\n                        }\r\n                    } else {\r\n                        System.out.println(&quot;5&quot;+&quot;Could not acquire &quot; + lock1Name + &quot; in thread &quot; + Thread.currentThread());\r\n                        text_3.setText(text_3.getText() + &quot;\\n&quot;+&quot;5&quot;+&quot;Could not acquire &quot; + lock1Name + &quot; in thread &quot; + Thread.currentThread());\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                  \r\n                } finally {\r\n        \r\n                    if (lock1.isHeldByCurrentThread()) lock1.unlock();\r\n                    if (lock2.isHeldByCurrentThread()) lock2.unlock();\r\n                }\r\n            }\r\n        };\r\n    }\r\n     \r\noutput is as follows:\r\n\r\n`1lock 2 acquired in thread thread-1 1lock 2 acquired in thread thread-0....`\r\n\r\nI would like it to be as follows:\r\n\r\n`1lock 2 acquired in thread thread-1 \r\n1lock 2 acquired in thread thread-0....`","title":"How to line break in java","body":"<p>I am using <code>\"\\n\"</code> as a line break in Thread but it's not working. I went through a lot of SO answers which suggest using \n<code>System.getProperty(\"line.separator\");</code>\nbut that also does not work for me..</p>\n\n<pre><code>public static void main(String args[]) {\n\nfinal ReentrantLock lock1 = new ReentrantLock();\nfinal ReentrantLock lock2 = new ReentrantLock();\n\nRunnable try1_2 = getRunnable(lock1, \"lock 1\", lock2, \"lock 2\");\nRunnable try2_1 = getRunnable(lock2, \"lock 2\", lock1, \"lock 1\");\n\nnew Thread(try1_2).start();\nnew Thread(try2_1).start();\n\n}\n\nprivate Runnable getRunnable(final ReentrantLock lock1, final String lock1Name, final ReentrantLock lock2, final String lock2Name) {\n    return new Runnable() {\n        @Override\n        public void run() {\n            try {\n\n                if (lock1.tryLock(1, TimeUnit.SECONDS)) {\n\n                    System.out.println(\"1\"+lock1Name + \" acquired in thread \" + Thread.currentThread().getName());\n                    text_3.setText(text_3.getText() +\"1\"+lock1Name + \" acquired in thread \" + Thread.currentThread().getName());\n\n                    if (lock2.tryLock(1, TimeUnit.SECONDS)) {\n\n                        System.out.println(\"2\"+lock2Name + \" acquired in thread \" + Thread.currentThread().getName());\n                        text_3.setText(text_3.getText() + \"\\n\"+\"2\"+lock2Name + \" acquired in thread \" + Thread.currentThread().getName());\n\n                        Thread.sleep(2000);\n                    } else {\n\n                        System.out.println(\"3\"+\"Could not acquire \"+lock2Name + \" in thread \" + Thread.currentThread().getName());\n                        text_3.setText(text_3.getText() + \"\\n\"+\"3\"+\"Could not acquire \"+lock2Name + \" in thread \" + Thread.currentThread().getName());\n\n                        lock1.unlock();\n\n                        System.out.println(\"4\"+lock1Name + \" released in thread \" + Thread.currentThread());\n                        text_3.setText(text_3.getText() + \"\\n\"+\"4\"+lock1Name + \" released in thread \" + Thread.currentThread());\n\n                    }\n                } else {\n                    System.out.println(\"5\"+\"Could not acquire \" + lock1Name + \" in thread \" + Thread.currentThread());\n                    text_3.setText(text_3.getText() + \"\\n\"+\"5\"+\"Could not acquire \" + lock1Name + \" in thread \" + Thread.currentThread());\n                }\n            } catch (InterruptedException e) {\n\n            } finally {\n\n                if (lock1.isHeldByCurrentThread()) lock1.unlock();\n                if (lock2.isHeldByCurrentThread()) lock2.unlock();\n            }\n        }\n    };\n}\n</code></pre>\n\n<p>output is as follows:</p>\n\n<p><code>1lock 2 acquired in thread thread-1 1lock 2 acquired in thread thread-0....</code></p>\n\n<p>I would like it to be as follows:</p>\n\n<p><code>1lock 2 acquired in thread thread-1 \n1lock 2 acquired in thread thread-0....</code></p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1695535461,"post_id":77158865,"comment_id":136035816,"body_markdown":"What is `logsCollectionRef` defined?","body":"What is <code>logsCollectionRef</code> defined?"}],"answers":[{"tags":[],"owner":{"account_id":20772013,"reputation":37,"user_id":15254470,"display_name":"Exitron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695456244,"creation_date":1695456244,"answer_id":77162152,"question_id":77158865,"body_markdown":"By reading the exception, this problem is possibly occuring due to FirebaseFirestore. \r\n\r\n&gt; FirebaseFirestore has already been started and its settings can no longer be changed. You can only call setFirestoreSettings() before calling any other methods on a FirebaseFirestore object\r\n\r\nAlso check the code at this line since the exception is pointing out to here\r\n\r\n&gt; (FirebaseFirestore.java:267) at com.myapp.myapp.MainActivity.onCreate(MainActivity.java:135)\r\n\r\nWithout the full code it&#39;s difficult to trace out the issue. Please add more code especially which is pointed out by the exception. ","title":"firebase authentication after login app automatically recent Minimized","body":"<p>By reading the exception, this problem is possibly occuring due to FirebaseFirestore.</p>\n<blockquote>\n<p>FirebaseFirestore has already been started and its settings can no longer be changed. You can only call setFirestoreSettings() before calling any other methods on a FirebaseFirestore object</p>\n</blockquote>\n<p>Also check the code at this line since the exception is pointing out to here</p>\n<blockquote>\n<p>(FirebaseFirestore.java:267) at com.myapp.myapp.MainActivity.onCreate(MainActivity.java:135)</p>\n</blockquote>\n<p>Without the full code it's difficult to trace out the issue. Please add more code especially which is pointed out by the exception.</p>\n"}],"owner":{"account_id":24035429,"reputation":11,"user_id":18015765,"display_name":"XenLeaks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695456244,"creation_date":1695395685,"question_id":77158865,"body_markdown":"firebase authentication after login success app automatically minimize.\r\n\r\n**android studio error logcat here.**\r\n\r\n&gt; FATAL EXCEPTION: main\r\n      Process: com.myapp.myapp, PID: 15474\r\n      java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp.myapp/com.myapp.myapp.MainActivity}: java.lang.IllegalStateException: FirebaseFirestore has already been started and its settings can no longer be changed. You can only call setFirestoreSettings() before calling any other methods on a FirebaseFirestore object.\r\n      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3645)\r\n      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\r\n      at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n      at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n      at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\r\n      at android.os.Handler.dispatchMessage(Handler.java:106)\r\n      at android.os.Looper.loopOnce(Looper.java:201)\r\n      at android.os.Looper.loop(Looper.java:288)\r\n      at android.app.ActivityThread.main(ActivityThread.java:7872)\r\n      at java.lang.reflect.Method.invoke(Native Method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n      Caused by: java.lang.IllegalStateException: FirebaseFirestore has already been started and its settings can no longer be changed. You can only call setFirestoreSettings() before calling any other methods on a FirebaseFirestore object.\r\n      at com.google.firebase.firestore.FirebaseFirestore.setFirestoreSettings(FirebaseFirestore.java:267)\r\n      at com.myapp.myapp.MainActivity.onCreate(MainActivity.java:135)\r\n      at android.app.Activity.performCreate(Activity.java:8305)\r\n      at android.app.Activity.performCreate(Activity.java:8284)\r\n      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\r\n      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3626)\r\n      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)&#160;\r\n      at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)&#160;\r\n      at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n      at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)&#160;\r\n      at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n      at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n      at android.os.Looper.loop(Looper.java:288)&#160;\r\n      at android.app.ActivityThread.main(ActivityThread.java:7872)&#160;\r\n      at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n\r\n\r\n         final String signInUsername = username.getText().toString().trim().concat(USER_EMAIL_SUFFIX);\r\n        String signInPassword = password.getText().toString().trim();\r\n        firebaseAuth.signInWithEmailAndPassword(signInUsername,signInPassword).addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onSuccess(AuthResult authResult) {\r\n\r\n                SharedPreferences preferences = getSharedPreferences(&quot;extras&quot;,MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = preferences.edit();\r\n\r\n                DSLog log = new DSLog(System.currentTimeMillis(),signInUsername, LOGGED_IN);\r\n                editor.putLong(&quot;time&quot;,log.getTimestamp());\r\n                editor.apply();\r\n                logsCollectionRef.document(log.getTimestamp()+&quot;&quot;).set(log).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        if(task.isSuccessful()){\r\n                            Intent toEventList = new Intent(com.myapp.myapp.LoginActivity.this,MainActivity.class);\r\n                            startActivity(toEventList);\r\n                            unfadeLoginBox();\r\n                            finish();\r\n                        } else {\r\n                            Toast.makeText(com.myapp.myapp.LoginActivity.this,&quot;Could not Log In&quot;, Toast.LENGTH_SHORT).show();\r\n                            firebaseAuth.signOut();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                unfadeLoginBox();\r\n                Toast.makeText(com.myapp.myapp.LoginActivity.this,&quot;Invalid Username/Password&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }","title":"firebase authentication after login app automatically recent Minimized","body":"<p>firebase authentication after login success app automatically minimize.</p>\n<p><strong>android studio error logcat here.</strong></p>\n<blockquote>\n<p>FATAL EXCEPTION: main\nProcess: com.myapp.myapp, PID: 15474\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp.myapp/com.myapp.myapp.MainActivity}: java.lang.IllegalStateException: FirebaseFirestore has already been started and its settings can no longer be changed. You can only call setFirestoreSettings() before calling any other methods on a FirebaseFirestore object.\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3645)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.app.ActivityThread.main(ActivityThread.java:7872)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\nCaused by: java.lang.IllegalStateException: FirebaseFirestore has already been started and its settings can no longer be changed. You can only call setFirestoreSettings() before calling any other methods on a FirebaseFirestore object.\nat com.google.firebase.firestore.FirebaseFirestore.setFirestoreSettings(FirebaseFirestore.java:267)\nat com.myapp.myapp.MainActivity.onCreate(MainActivity.java:135)\nat android.app.Activity.performCreate(Activity.java:8305)\nat android.app.Activity.performCreate(Activity.java:8284)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3626)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782) \nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101) \nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loopOnce(Looper.java:201) \nat android.os.Looper.loop(Looper.java:288) \nat android.app.ActivityThread.main(ActivityThread.java:7872) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936) </p>\n</blockquote>\n<pre><code>     final String signInUsername = username.getText().toString().trim().concat(USER_EMAIL_SUFFIX);\n    String signInPassword = password.getText().toString().trim();\n    firebaseAuth.signInWithEmailAndPassword(signInUsername,signInPassword).addOnSuccessListener(new OnSuccessListener&lt;AuthResult&gt;() {\n        @Override\n        public void onSuccess(AuthResult authResult) {\n\n            SharedPreferences preferences = getSharedPreferences(&quot;extras&quot;,MODE_PRIVATE);\n            SharedPreferences.Editor editor = preferences.edit();\n\n            DSLog log = new DSLog(System.currentTimeMillis(),signInUsername, LOGGED_IN);\n            editor.putLong(&quot;time&quot;,log.getTimestamp());\n            editor.apply();\n            logsCollectionRef.document(log.getTimestamp()+&quot;&quot;).set(log).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    if(task.isSuccessful()){\n                        Intent toEventList = new Intent(com.myapp.myapp.LoginActivity.this,MainActivity.class);\n                        startActivity(toEventList);\n                        unfadeLoginBox();\n                        finish();\n                    } else {\n                        Toast.makeText(com.myapp.myapp.LoginActivity.this,&quot;Could not Log In&quot;, Toast.LENGTH_SHORT).show();\n                        firebaseAuth.signOut();\n                    }\n                }\n            });\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            unfadeLoginBox();\n            Toast.makeText(com.myapp.myapp.LoginActivity.this,&quot;Invalid Username/Password&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","swing","2d"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1695440233,"post_id":77161273,"comment_id":136028392,"body_markdown":"I would probably do something a little different, apart from not using the `JFrame` as your primary surface, I would generate a &quot;world&quot; model, which would maintain information about the type of biome is at what types of areas/chunks.  I would then, when the user moves to this area, look to see if a panel exists for that chunk, if it does, present it, if it doesn&#39;t create it.  This way you&#39;re loading components you don&#39;t need (and caching them as you use them)","body":"I would probably do something a little different, apart from not using the <code>JFrame</code> as your primary surface, I would generate a &quot;world&quot; model, which would maintain information about the type of biome is at what types of areas/chunks.  I would then, when the user moves to this area, look to see if a panel exists for that chunk, if it does, present it, if it doesn&#39;t create it.  This way you&#39;re loading components you don&#39;t need (and caching them as you use them)"},{"owner":{"account_id":23788448,"reputation":1,"user_id":17942336,"display_name":"LeninYT"},"score":0,"creation_date":1695440992,"post_id":77161273,"comment_id":136028417,"body_markdown":"@MadProgrammer Could you give an example of the type of code I would use?","body":"@MadProgrammer Could you give an example of the type of code I would use?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695456069,"creation_date":1695451645,"answer_id":77161939,"question_id":77161273,"body_markdown":"&gt; Could you give an example of the type of code I would use?\r\n\r\nYou may regret that.\r\n\r\nFirst, you should start by defining some models which describe your data. This allows you to decouple your UI from your data (this is the bases of the &quot;model-view-controller&quot; concept)...\r\n    \r\n    public enum Biome {\r\n        FOREST, PLAINS\r\n    }\r\n    \r\n    public interface Chunk {\r\n        public Biome getBiome();\r\n        public Point getLocation();\r\n    }\r\n    \r\n    public interface World {\r\n        public Chunk getChunkAt(int x, int y);\r\n    }\r\n\r\nThat&#39;s pretty basic, but we also need some way to be able to create random chunks, in this case we can use a concept of a factory...\r\n    \r\n    public interface ChunkFactory {\r\n        public Chunk createChunk(Point worldLocation);\r\n    }\r\n\r\n&gt; But why are we using `interface`s?\r\n\r\nInterfaces allow you to define the contracts of your code without been tied to individual implementations.  This also supports the &quot;dependency injection&quot; principle.\r\n\r\nNext, we need to define some kind of model to store our chunks in, one which can by randomly accessed and which can dynamically grow based on the data been placed in it.\r\n\r\nTo this end, I&#39;d consider some kind of &quot;matrix&quot;.  You could use a two dimensional array, but where&#39;s the fun in that &#128521;.\r\n\r\nThe follow is a concept of a &quot;matrix&quot; backed by `Map`...\r\n\r\n    // This basically acts a multi dimensional matrix of values, keyed by the\r\n    // x/y coordinates.\r\n    public interface Matrix&lt;Type&gt; {\r\n        public Type get(int x, int y);\r\n        public void put(Type value, int x, int y);\r\n    }\r\n    \r\n    public class HashMapMatrix&lt;Type&gt; implements Matrix&lt;Type&gt; {        \r\n        private Map&lt;Integer, Map&lt;Integer, Type&gt;&gt; values = new HashMap&lt;&gt;(8);\r\n        \r\n        @Override\r\n        public Type get(int x, int y) {\r\n            Map&lt;Integer, Type&gt; rows = values.get(y);\r\n            if (rows == null) {\r\n                return null;\r\n            }\r\n            return rows.get(x);\r\n        }\r\n        \r\n        @Override\r\n        public void put(Type value, int x, int y) {\r\n            Map&lt;Integer, Type&gt; rows = values.get(y);\r\n            if (rows == null) {\r\n                rows = new HashMap&lt;Integer, Type&gt;(8);\r\n                values.put(y, rows);\r\n            }\r\n            rows.put(x, value);\r\n        }\r\n    }\r\n\r\nNow, we can get started with some initial implementations...\r\n    \r\n    public class DefaultChunkFactory implements ChunkFactory {\r\n        \r\n        private List&lt;Biome&gt; listOfBiomes = new ArrayList&lt;&gt;(Arrays.asList(Biome.values()));\r\n        \r\n        protected List&lt;Biome&gt; getListOfBiomes() {\r\n            return listOfBiomes;\r\n        }\r\n        \r\n        @Override\r\n        public Chunk createChunk(Point worldLocation) {\r\n            List&lt;Biome&gt; biomes = new ArrayList&lt;&gt;(getListOfBiomes());\r\n            Collections.shuffle(biomes);\r\n            Biome biome = biomes.get(0);\r\n            return new DefaultChunk(biome, worldLocation);\r\n        }\r\n    }\r\n    \r\n    public class DefaultChunk implements Chunk {        \r\n        private Biome biome;\r\n        private Point location;\r\n\r\n        public DefaultChunk(Biome biome, Point location) {\r\n            this.biome = biome;\r\n            this.location = new Point(location);\r\n        }\r\n        \r\n        @Override\r\n        public Biome getBiome() {\r\n            return biome;\r\n        }        \r\n\r\n        @Override\r\n        public Point getLocation() {\r\n            return location;\r\n        }\r\n    }\r\n    \r\n    public class DefaultWorld implements World {\r\n        \r\n        private Matrix&lt;Chunk&gt; chunkMatrix = new HashMapMatrix&lt;&gt;();\r\n        private ChunkFactory chunkFactory;\r\n\r\n        public DefaultWorld(ChunkFactory chunkFactory) {\r\n            this.chunkFactory = chunkFactory;\r\n        }\r\n\r\n        public ChunkFactory getChunkFactory() {\r\n            return chunkFactory;\r\n        }\r\n        \r\n        protected Matrix&lt;Chunk&gt; getChunks() {\r\n            return chunkMatrix;\r\n        }\r\n        \r\n        @Override\r\n        public Chunk getChunkAt(int x, int y) {\r\n            Chunk chunk = getChunks().get(x, y);\r\n            if (chunk == null) {\r\n                chunk = getChunkFactory().createChunk(new Point(x, y));\r\n                getChunks().put(chunk, x, y);\r\n            }\r\n            return chunk;\r\n        }\r\n    }\r\n\r\nthese are pretty basic, but they build the concept of the &quot;world&quot; and &quot;chunks&quot;.\r\n\r\nAnd finally, we can get start with the UI!\r\n\r\nFirst, a component which can represent a `Chunk`\r\n\r\n    public class ChunkPane extends JPanel {\r\n        private Chunk chunk;\r\n\r\n        public ChunkPane(Chunk chunk) {\r\n            this.chunk = chunk;\r\n            switch (chunk.getBiome()) {\r\n                case FOREST:\r\n                    setBackground(Color.GREEN);\r\n                    break;\r\n                case PLAINS:\r\n                    setBackground(Color.YELLOW);\r\n                    break;\r\n            }\r\n            \r\n            setLayout(new GridBagLayout());\r\n            Point location = chunk.getLocation();\r\n            JLabel label = new JLabel(location.x + &quot;x&quot; + location.y);\r\n            add(label);\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(200, 200);\r\n        }\r\n    }\r\n\r\nThis is pretty basic, it sets it&#39;s background color based on the biome and displays the chunk location within the world.\r\n\r\nOkay, next, we need a &quot;world&quot; pane which can manage the display of the chunks based on the location of the player.\r\n    \r\n    public class SwingCraft extends JPanel {\r\n        protected enum Direction {\r\n            UP, DOWN, LEFT, RIGHT\r\n        }\r\n        \r\n        private Matrix&lt;ChunkPane&gt; chunkMatrix = new HashMapMatrix&lt;ChunkPane&gt;();\r\n        \r\n        private World world;\r\n        private Point playerLocation = new Point(0, 0);\r\n        \r\n        public SwingCraft(World world) {\r\n            setLayout(new BorderLayout());\r\n            this.world = world;\r\n            setChunk(playerLocation);\r\n            InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n            ActionMap actionMap = getActionMap();\r\n            \r\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), Direction.LEFT);\r\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), Direction.RIGHT);\r\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), Direction.UP);\r\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), Direction.DOWN);\r\n            \r\n            actionMap.put(Direction.LEFT, new MoveAction(-1, 0));\r\n            actionMap.put(Direction.RIGHT, new MoveAction(1, 0));\r\n            actionMap.put(Direction.UP, new MoveAction(0, -1));\r\n            actionMap.put(Direction.DOWN, new MoveAction(0, 1));\r\n        }\r\n        \r\n        public void setChunk(Point location) {\r\n            ChunkPane pane = chunkMatrix.get(location.x, location.y);\r\n            if (pane == null) {\r\n                Chunk chunk = world.getChunkAt(location.x, location.y);\r\n                pane = new ChunkPane(chunk);\r\n                chunkMatrix.put(pane, location.x, location.y);\r\n            }\r\n            \r\n            removeAll();\r\n            add(pane);\r\n            \r\n            revalidate();\r\n            repaint();\r\n        }\r\n        \r\n        protected void moveBy(int xDelta, int yDelta) {\r\n            int targetX = playerLocation.x + xDelta;\r\n            int targetY = playerLocation.y + yDelta;\r\n            \r\n            playerLocation.x = targetX;\r\n            playerLocation.y = targetY;\r\n            \r\n            setChunk(playerLocation);\r\n        }\r\n        \r\n        protected class MoveAction extends AbstractAction {\r\n            private int xDelta, yDelta;\r\n\r\n            public MoveAction(int xDelta, int yDelta) {\r\n                this.xDelta = xDelta;\r\n                this.yDelta = yDelta;\r\n            }\r\n            \r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                moveBy(xDelta, yDelta);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is pretty basic.  It provides a simple navigation using key bindings which will either display the cached biome pane if available or create new chunk and pane and display that.\r\n\r\n# Runnable example...\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Point;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new SwingCraft(new DefaultWorld(new DefaultChunkFactory())));\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class SwingCraft extends JPanel {\r\n            protected enum Direction {\r\n                UP, DOWN, LEFT, RIGHT\r\n            }\r\n\r\n            private Matrix&lt;ChunkPane&gt; chunkMatrix = new HashMapMatrix&lt;ChunkPane&gt;();\r\n\r\n            private World world;\r\n            private Point playerLocation = new Point(0, 0);\r\n\r\n            public SwingCraft(World world) {\r\n                setLayout(new BorderLayout());\r\n                this.world = world;\r\n                setChunk(playerLocation);\r\n                InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n                ActionMap actionMap = getActionMap();\r\n\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), Direction.LEFT);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), Direction.RIGHT);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), Direction.UP);\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), Direction.DOWN);\r\n\r\n                actionMap.put(Direction.LEFT, new MoveAction(-1, 0));\r\n                actionMap.put(Direction.RIGHT, new MoveAction(1, 0));\r\n                actionMap.put(Direction.UP, new MoveAction(0, -1));\r\n                actionMap.put(Direction.DOWN, new MoveAction(0, 1));\r\n            }\r\n\r\n            public void setChunk(Point location) {\r\n                ChunkPane pane = chunkMatrix.get(location.x, location.y);\r\n                if (pane == null) {\r\n                    Chunk chunk = world.getChunkAt(location.x, location.y);\r\n                    pane = new ChunkPane(chunk);\r\n                    chunkMatrix.put(pane, location.x, location.y);\r\n                }\r\n\r\n                removeAll();\r\n                add(pane);\r\n\r\n                revalidate();\r\n                repaint();\r\n            }\r\n\r\n            protected void moveBy(int xDelta, int yDelta) {\r\n                int targetX = playerLocation.x + xDelta;\r\n                int targetY = playerLocation.y + yDelta;\r\n\r\n                playerLocation.x = targetX;\r\n                playerLocation.y = targetY;\r\n\r\n                setChunk(playerLocation);\r\n            }\r\n\r\n            protected class MoveAction extends AbstractAction {\r\n                private int xDelta, yDelta;\r\n\r\n                public MoveAction(int xDelta, int yDelta) {\r\n                    this.xDelta = xDelta;\r\n                    this.yDelta = yDelta;\r\n                }\r\n\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    moveBy(xDelta, yDelta);\r\n                }\r\n            }\r\n        }\r\n\r\n        public class ChunkPane extends JPanel {\r\n            private Chunk chunk;\r\n\r\n            public ChunkPane(Chunk chunk) {\r\n                this.chunk = chunk;\r\n                switch (chunk.getBiome()) {\r\n                    case FOREST:\r\n                        setBackground(Color.GREEN);\r\n                        break;\r\n                    case PLAINS:\r\n                        setBackground(Color.YELLOW);\r\n                        break;\r\n                }\r\n\r\n                setLayout(new GridBagLayout());\r\n                Point location = chunk.getLocation();\r\n                JLabel label = new JLabel(location.x + &quot;x&quot; + location.y);\r\n                add(label);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n        }\r\n\r\n        // This basically acts a multi dimensional matrix of values, keyed by the\r\n        // x/y coordinates.\r\n        public interface Matrix&lt;Type&gt; {\r\n            public Type get(int x, int y);\r\n            public void put(Type value, int x, int y);\r\n        }\r\n\r\n        public class HashMapMatrix&lt;Type&gt; implements Matrix&lt;Type&gt; {        \r\n            private Map&lt;Integer, Map&lt;Integer, Type&gt;&gt; values = new HashMap&lt;&gt;(8);\r\n\r\n            @Override\r\n            public Type get(int x, int y) {\r\n                Map&lt;Integer, Type&gt; rows = values.get(y);\r\n                if (rows == null) {\r\n                    return null;\r\n                }\r\n                return rows.get(x);\r\n            }\r\n\r\n            @Override\r\n            public void put(Type value, int x, int y) {\r\n                Map&lt;Integer, Type&gt; rows = values.get(y);\r\n                if (rows == null) {\r\n                    rows = new HashMap&lt;Integer, Type&gt;(8);\r\n                    values.put(y, rows);\r\n                }\r\n                rows.put(x, value);\r\n            }\r\n        }\r\n\r\n        public enum Biome {\r\n            FOREST, PLAINS\r\n        }\r\n\r\n        public interface Chunk {\r\n            public Biome getBiome();\r\n            public Point getLocation();\r\n        }\r\n\r\n        public interface World {\r\n            public Chunk getChunkAt(int x, int y);\r\n        }\r\n\r\n        public interface ChunkFactory {\r\n            public Chunk createChunk(Point worldLocation);\r\n        }\r\n\r\n        public class DefaultChunkFactory implements ChunkFactory {\r\n\r\n            private List&lt;Biome&gt; listOfBiomes = new ArrayList&lt;&gt;(Arrays.asList(Biome.values()));\r\n\r\n            protected List&lt;Biome&gt; getListOfBiomes() {\r\n                return listOfBiomes;\r\n            }\r\n\r\n            @Override\r\n            public Chunk createChunk(Point worldLocation) {\r\n                List&lt;Biome&gt; biomes = new ArrayList&lt;&gt;(getListOfBiomes());\r\n                Collections.shuffle(biomes);\r\n                Biome biome = biomes.get(0);\r\n                return new DefaultChunk(biome, worldLocation);\r\n            }\r\n        }\r\n\r\n        public class DefaultChunk implements Chunk {        \r\n            private Biome biome;\r\n            private Point location;\r\n\r\n            public DefaultChunk(Biome biome, Point location) {\r\n                this.biome = biome;\r\n                this.location = new Point(location);\r\n            }\r\n\r\n            @Override\r\n            public Biome getBiome() {\r\n                return biome;\r\n            }        \r\n\r\n            @Override\r\n            public Point getLocation() {\r\n                return location;\r\n            }\r\n        }\r\n\r\n        public class DefaultWorld implements World {\r\n\r\n            private Matrix&lt;Chunk&gt; chunkMatrix = new HashMapMatrix&lt;&gt;();\r\n            private ChunkFactory chunkFactory;\r\n\r\n            public DefaultWorld(ChunkFactory chunkFactory) {\r\n                this.chunkFactory = chunkFactory;\r\n            }\r\n\r\n            public ChunkFactory getChunkFactory() {\r\n                return chunkFactory;\r\n            }\r\n\r\n            protected Matrix&lt;Chunk&gt; getChunks() {\r\n                return chunkMatrix;\r\n            }\r\n\r\n            @Override\r\n            public Chunk getChunkAt(int x, int y) {\r\n                Chunk chunk = getChunks().get(x, y);\r\n                if (chunk == null) {\r\n                    chunk = getChunkFactory().createChunk(new Point(x, y));\r\n                    getChunks().put(chunk, x, y);\r\n                }\r\n                return chunk;\r\n            }\r\n        }\r\n    }\r\n","title":"Is there a way to make terrain generation with JPanels and Java Swing?","body":"<blockquote>\n<p>Could you give an example of the type of code I would use?</p>\n</blockquote>\n<p>You may regret that.</p>\n<p>First, you should start by defining some models which describe your data. This allows you to decouple your UI from your data (this is the bases of the &quot;model-view-controller&quot; concept)...</p>\n<pre><code>public enum Biome {\n    FOREST, PLAINS\n}\n\npublic interface Chunk {\n    public Biome getBiome();\n    public Point getLocation();\n}\n\npublic interface World {\n    public Chunk getChunkAt(int x, int y);\n}\n</code></pre>\n<p>That's pretty basic, but we also need some way to be able to create random chunks, in this case we can use a concept of a factory...</p>\n<pre><code>public interface ChunkFactory {\n    public Chunk createChunk(Point worldLocation);\n}\n</code></pre>\n<blockquote>\n<p>But why are we using <code>interface</code>s?</p>\n</blockquote>\n<p>Interfaces allow you to define the contracts of your code without been tied to individual implementations.  This also supports the &quot;dependency injection&quot; principle.</p>\n<p>Next, we need to define some kind of model to store our chunks in, one which can by randomly accessed and which can dynamically grow based on the data been placed in it.</p>\n<p>To this end, I'd consider some kind of &quot;matrix&quot;.  You could use a two dimensional array, but where's the fun in that 😉.</p>\n<p>The follow is a concept of a &quot;matrix&quot; backed by <code>Map</code>...</p>\n<pre><code>// This basically acts a multi dimensional matrix of values, keyed by the\n// x/y coordinates.\npublic interface Matrix&lt;Type&gt; {\n    public Type get(int x, int y);\n    public void put(Type value, int x, int y);\n}\n\npublic class HashMapMatrix&lt;Type&gt; implements Matrix&lt;Type&gt; {        \n    private Map&lt;Integer, Map&lt;Integer, Type&gt;&gt; values = new HashMap&lt;&gt;(8);\n    \n    @Override\n    public Type get(int x, int y) {\n        Map&lt;Integer, Type&gt; rows = values.get(y);\n        if (rows == null) {\n            return null;\n        }\n        return rows.get(x);\n    }\n    \n    @Override\n    public void put(Type value, int x, int y) {\n        Map&lt;Integer, Type&gt; rows = values.get(y);\n        if (rows == null) {\n            rows = new HashMap&lt;Integer, Type&gt;(8);\n            values.put(y, rows);\n        }\n        rows.put(x, value);\n    }\n}\n</code></pre>\n<p>Now, we can get started with some initial implementations...</p>\n<pre><code>public class DefaultChunkFactory implements ChunkFactory {\n    \n    private List&lt;Biome&gt; listOfBiomes = new ArrayList&lt;&gt;(Arrays.asList(Biome.values()));\n    \n    protected List&lt;Biome&gt; getListOfBiomes() {\n        return listOfBiomes;\n    }\n    \n    @Override\n    public Chunk createChunk(Point worldLocation) {\n        List&lt;Biome&gt; biomes = new ArrayList&lt;&gt;(getListOfBiomes());\n        Collections.shuffle(biomes);\n        Biome biome = biomes.get(0);\n        return new DefaultChunk(biome, worldLocation);\n    }\n}\n\npublic class DefaultChunk implements Chunk {        \n    private Biome biome;\n    private Point location;\n\n    public DefaultChunk(Biome biome, Point location) {\n        this.biome = biome;\n        this.location = new Point(location);\n    }\n    \n    @Override\n    public Biome getBiome() {\n        return biome;\n    }        \n\n    @Override\n    public Point getLocation() {\n        return location;\n    }\n}\n\npublic class DefaultWorld implements World {\n    \n    private Matrix&lt;Chunk&gt; chunkMatrix = new HashMapMatrix&lt;&gt;();\n    private ChunkFactory chunkFactory;\n\n    public DefaultWorld(ChunkFactory chunkFactory) {\n        this.chunkFactory = chunkFactory;\n    }\n\n    public ChunkFactory getChunkFactory() {\n        return chunkFactory;\n    }\n    \n    protected Matrix&lt;Chunk&gt; getChunks() {\n        return chunkMatrix;\n    }\n    \n    @Override\n    public Chunk getChunkAt(int x, int y) {\n        Chunk chunk = getChunks().get(x, y);\n        if (chunk == null) {\n            chunk = getChunkFactory().createChunk(new Point(x, y));\n            getChunks().put(chunk, x, y);\n        }\n        return chunk;\n    }\n}\n</code></pre>\n<p>these are pretty basic, but they build the concept of the &quot;world&quot; and &quot;chunks&quot;.</p>\n<p>And finally, we can get start with the UI!</p>\n<p>First, a component which can represent a <code>Chunk</code></p>\n<pre><code>public class ChunkPane extends JPanel {\n    private Chunk chunk;\n\n    public ChunkPane(Chunk chunk) {\n        this.chunk = chunk;\n        switch (chunk.getBiome()) {\n            case FOREST:\n                setBackground(Color.GREEN);\n                break;\n            case PLAINS:\n                setBackground(Color.YELLOW);\n                break;\n        }\n        \n        setLayout(new GridBagLayout());\n        Point location = chunk.getLocation();\n        JLabel label = new JLabel(location.x + &quot;x&quot; + location.y);\n        add(label);\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(200, 200);\n    }\n}\n</code></pre>\n<p>This is pretty basic, it sets it's background color based on the biome and displays the chunk location within the world.</p>\n<p>Okay, next, we need a &quot;world&quot; pane which can manage the display of the chunks based on the location of the player.</p>\n<pre><code>public class SwingCraft extends JPanel {\n    protected enum Direction {\n        UP, DOWN, LEFT, RIGHT\n    }\n    \n    private Matrix&lt;ChunkPane&gt; chunkMatrix = new HashMapMatrix&lt;ChunkPane&gt;();\n    \n    private World world;\n    private Point playerLocation = new Point(0, 0);\n    \n    public SwingCraft(World world) {\n        setLayout(new BorderLayout());\n        this.world = world;\n        setChunk(playerLocation);\n        InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n        ActionMap actionMap = getActionMap();\n        \n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), Direction.LEFT);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), Direction.RIGHT);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), Direction.UP);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), Direction.DOWN);\n        \n        actionMap.put(Direction.LEFT, new MoveAction(-1, 0));\n        actionMap.put(Direction.RIGHT, new MoveAction(1, 0));\n        actionMap.put(Direction.UP, new MoveAction(0, -1));\n        actionMap.put(Direction.DOWN, new MoveAction(0, 1));\n    }\n    \n    public void setChunk(Point location) {\n        ChunkPane pane = chunkMatrix.get(location.x, location.y);\n        if (pane == null) {\n            Chunk chunk = world.getChunkAt(location.x, location.y);\n            pane = new ChunkPane(chunk);\n            chunkMatrix.put(pane, location.x, location.y);\n        }\n        \n        removeAll();\n        add(pane);\n        \n        revalidate();\n        repaint();\n    }\n    \n    protected void moveBy(int xDelta, int yDelta) {\n        int targetX = playerLocation.x + xDelta;\n        int targetY = playerLocation.y + yDelta;\n        \n        playerLocation.x = targetX;\n        playerLocation.y = targetY;\n        \n        setChunk(playerLocation);\n    }\n    \n    protected class MoveAction extends AbstractAction {\n        private int xDelta, yDelta;\n\n        public MoveAction(int xDelta, int yDelta) {\n            this.xDelta = xDelta;\n            this.yDelta = yDelta;\n        }\n        \n        @Override\n        public void actionPerformed(ActionEvent e) {\n            moveBy(xDelta, yDelta);\n        }\n    }\n}\n</code></pre>\n<p>This is pretty basic.  It provides a simple navigation using key bindings which will either display the cached biome pane if available or create new chunk and pane and display that.</p>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.Point;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new SwingCraft(new DefaultWorld(new DefaultChunkFactory())));\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class SwingCraft extends JPanel {\n        protected enum Direction {\n            UP, DOWN, LEFT, RIGHT\n        }\n\n        private Matrix&lt;ChunkPane&gt; chunkMatrix = new HashMapMatrix&lt;ChunkPane&gt;();\n\n        private World world;\n        private Point playerLocation = new Point(0, 0);\n\n        public SwingCraft(World world) {\n            setLayout(new BorderLayout());\n            this.world = world;\n            setChunk(playerLocation);\n            InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap actionMap = getActionMap();\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0), Direction.LEFT);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0), Direction.RIGHT);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0), Direction.UP);\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0), Direction.DOWN);\n\n            actionMap.put(Direction.LEFT, new MoveAction(-1, 0));\n            actionMap.put(Direction.RIGHT, new MoveAction(1, 0));\n            actionMap.put(Direction.UP, new MoveAction(0, -1));\n            actionMap.put(Direction.DOWN, new MoveAction(0, 1));\n        }\n\n        public void setChunk(Point location) {\n            ChunkPane pane = chunkMatrix.get(location.x, location.y);\n            if (pane == null) {\n                Chunk chunk = world.getChunkAt(location.x, location.y);\n                pane = new ChunkPane(chunk);\n                chunkMatrix.put(pane, location.x, location.y);\n            }\n\n            removeAll();\n            add(pane);\n\n            revalidate();\n            repaint();\n        }\n\n        protected void moveBy(int xDelta, int yDelta) {\n            int targetX = playerLocation.x + xDelta;\n            int targetY = playerLocation.y + yDelta;\n\n            playerLocation.x = targetX;\n            playerLocation.y = targetY;\n\n            setChunk(playerLocation);\n        }\n\n        protected class MoveAction extends AbstractAction {\n            private int xDelta, yDelta;\n\n            public MoveAction(int xDelta, int yDelta) {\n                this.xDelta = xDelta;\n                this.yDelta = yDelta;\n            }\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                moveBy(xDelta, yDelta);\n            }\n        }\n    }\n\n    public class ChunkPane extends JPanel {\n        private Chunk chunk;\n\n        public ChunkPane(Chunk chunk) {\n            this.chunk = chunk;\n            switch (chunk.getBiome()) {\n                case FOREST:\n                    setBackground(Color.GREEN);\n                    break;\n                case PLAINS:\n                    setBackground(Color.YELLOW);\n                    break;\n            }\n\n            setLayout(new GridBagLayout());\n            Point location = chunk.getLocation();\n            JLabel label = new JLabel(location.x + &quot;x&quot; + location.y);\n            add(label);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n    }\n\n    // This basically acts a multi dimensional matrix of values, keyed by the\n    // x/y coordinates.\n    public interface Matrix&lt;Type&gt; {\n        public Type get(int x, int y);\n        public void put(Type value, int x, int y);\n    }\n\n    public class HashMapMatrix&lt;Type&gt; implements Matrix&lt;Type&gt; {        \n        private Map&lt;Integer, Map&lt;Integer, Type&gt;&gt; values = new HashMap&lt;&gt;(8);\n\n        @Override\n        public Type get(int x, int y) {\n            Map&lt;Integer, Type&gt; rows = values.get(y);\n            if (rows == null) {\n                return null;\n            }\n            return rows.get(x);\n        }\n\n        @Override\n        public void put(Type value, int x, int y) {\n            Map&lt;Integer, Type&gt; rows = values.get(y);\n            if (rows == null) {\n                rows = new HashMap&lt;Integer, Type&gt;(8);\n                values.put(y, rows);\n            }\n            rows.put(x, value);\n        }\n    }\n\n    public enum Biome {\n        FOREST, PLAINS\n    }\n\n    public interface Chunk {\n        public Biome getBiome();\n        public Point getLocation();\n    }\n\n    public interface World {\n        public Chunk getChunkAt(int x, int y);\n    }\n\n    public interface ChunkFactory {\n        public Chunk createChunk(Point worldLocation);\n    }\n\n    public class DefaultChunkFactory implements ChunkFactory {\n\n        private List&lt;Biome&gt; listOfBiomes = new ArrayList&lt;&gt;(Arrays.asList(Biome.values()));\n\n        protected List&lt;Biome&gt; getListOfBiomes() {\n            return listOfBiomes;\n        }\n\n        @Override\n        public Chunk createChunk(Point worldLocation) {\n            List&lt;Biome&gt; biomes = new ArrayList&lt;&gt;(getListOfBiomes());\n            Collections.shuffle(biomes);\n            Biome biome = biomes.get(0);\n            return new DefaultChunk(biome, worldLocation);\n        }\n    }\n\n    public class DefaultChunk implements Chunk {        \n        private Biome biome;\n        private Point location;\n\n        public DefaultChunk(Biome biome, Point location) {\n            this.biome = biome;\n            this.location = new Point(location);\n        }\n\n        @Override\n        public Biome getBiome() {\n            return biome;\n        }        \n\n        @Override\n        public Point getLocation() {\n            return location;\n        }\n    }\n\n    public class DefaultWorld implements World {\n\n        private Matrix&lt;Chunk&gt; chunkMatrix = new HashMapMatrix&lt;&gt;();\n        private ChunkFactory chunkFactory;\n\n        public DefaultWorld(ChunkFactory chunkFactory) {\n            this.chunkFactory = chunkFactory;\n        }\n\n        public ChunkFactory getChunkFactory() {\n            return chunkFactory;\n        }\n\n        protected Matrix&lt;Chunk&gt; getChunks() {\n            return chunkMatrix;\n        }\n\n        @Override\n        public Chunk getChunkAt(int x, int y) {\n            Chunk chunk = getChunks().get(x, y);\n            if (chunk == null) {\n                chunk = getChunkFactory().createChunk(new Point(x, y));\n                getChunks().put(chunk, x, y);\n            }\n            return chunk;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23788448,"reputation":1,"user_id":17942336,"display_name":"LeninYT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695456069,"creation_date":1695430270,"question_id":77161273,"body_markdown":"I have been wanting to make an array of JPanels(a 3 by 3 array) with a randomly generated JPanel that is either a forest or plains, with the center one always being one called house. There will always be one visible, and I want it so when the x-position of a JLabel called character reaches x-position 0, it will check which JPanel in that array is being used as a ContentPane, and if this event happens in a JPanel that is in the first column, it will do a System.out.Println(&quot;Hello!&quot;) kind of thing but if this happens in the other two columns, the contentpane will be set to whatever row this happened on-1 column. This is the same with the y-position of this JLabel. Do I need this to be in a thread since it should constantly check if the x or y-position has reached 0? If needed, I could post the code, but I just need an example. The class that has the whole Swing window extends JFrame, if it is necessary and the main class calls the object Window where everything is, such as the window and JLabel.\r\n\r\nI expect it to be like Minecraft world generation, but if it was 2D, made in Java Swing, and only one chunk for the sake of detail. I have tried this: \r\n```\r\n\t\twhile(true){\r\n\t\t\tswitch(guineaXPosition) {\r\n\t\t\tcase 0:\r\n\t\t\t\tfor (int i = 0; i &lt; world.length; i++) {\r\n\t\t\t\t\tfor(int j=0;i&lt;world.length;j++) {\r\n\t\t\t\t      if (frame.getContentPane()==world[i][0]) {\r\n\t\t\t\t        // The guinea is in the JPanel at index [i][j].\r\n\t\t\t\t        // Perform the desired action.\r\n\t\t\t\t    \t  System.out.println(&quot;Edge of world, nothing you can do!&quot;);\r\n\t\t\t\t      }else {\r\n\t\t\t\t    \t  frame.setContentPane(world[i][j-1]);\r\n\t\t\t\t      }}\r\n\t\t\t\t    }\t\t\t\t\r\n\t\t\t\t    break;\r\n\t\t\tcase 1300:\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n```\r\nin one thread and did this in another thread: \r\n```\r\n\t\tRandom random = new Random();\r\n\t\tint terrainTypeGen=random.nextInt(2)+1;\r\n\t\tfor(int i=0;i&lt;world.length;i++) {\r\n\t\t\tfor(int j=0;j&lt;world[0].length;j++) {\r\n\t\t\t\tif(i==1&amp;&amp;j==1) {\r\n\t\t\t\t\tworld[i][j]=new JPanel();\r\n\t\t\t\t}else {\r\n\t\t\t\t\tString terrainType=null;\r\n\t\t\t\t\tif(terrainTypeGen==1) {\r\n\t\t\t\t\t\tworld[i][j]=new JPanel();\r\n\t\t\t\t\t\tworld[i][j].setBackground(Color.GREEN);\r\n\t\t\t\t\t}else if(terrainTypeGen==2) {\r\n\t\t\t\t\t\tworld[i][j]=new JPanel();\r\n\t\t\t\t\t\tworld[i][j].setBackground(Color.GREEN);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n```\r\n\r\nPlease don&#39;t judge me.\r\nAnd please tell me if any more detail is required.","title":"Is there a way to make terrain generation with JPanels and Java Swing?","body":"<p>I have been wanting to make an array of JPanels(a 3 by 3 array) with a randomly generated JPanel that is either a forest or plains, with the center one always being one called house. There will always be one visible, and I want it so when the x-position of a JLabel called character reaches x-position 0, it will check which JPanel in that array is being used as a ContentPane, and if this event happens in a JPanel that is in the first column, it will do a System.out.Println(&quot;Hello!&quot;) kind of thing but if this happens in the other two columns, the contentpane will be set to whatever row this happened on-1 column. This is the same with the y-position of this JLabel. Do I need this to be in a thread since it should constantly check if the x or y-position has reached 0? If needed, I could post the code, but I just need an example. The class that has the whole Swing window extends JFrame, if it is necessary and the main class calls the object Window where everything is, such as the window and JLabel.</p>\n<p>I expect it to be like Minecraft world generation, but if it was 2D, made in Java Swing, and only one chunk for the sake of detail. I have tried this:</p>\n<pre><code>        while(true){\n            switch(guineaXPosition) {\n            case 0:\n                for (int i = 0; i &lt; world.length; i++) {\n                    for(int j=0;i&lt;world.length;j++) {\n                      if (frame.getContentPane()==world[i][0]) {\n                        // The guinea is in the JPanel at index [i][j].\n                        // Perform the desired action.\n                          System.out.println(&quot;Edge of world, nothing you can do!&quot;);\n                      }else {\n                          frame.setContentPane(world[i][j-1]);\n                      }}\n                    }               \n                    break;\n            case 1300:\n                break;\n            default:\n                break;\n            }\n        }\n\n</code></pre>\n<p>in one thread and did this in another thread:</p>\n<pre><code>        Random random = new Random();\n        int terrainTypeGen=random.nextInt(2)+1;\n        for(int i=0;i&lt;world.length;i++) {\n            for(int j=0;j&lt;world[0].length;j++) {\n                if(i==1&amp;&amp;j==1) {\n                    world[i][j]=new JPanel();\n                }else {\n                    String terrainType=null;\n                    if(terrainTypeGen==1) {\n                        world[i][j]=new JPanel();\n                        world[i][j].setBackground(Color.GREEN);\n                    }else if(terrainTypeGen==2) {\n                        world[i][j]=new JPanel();\n                        world[i][j].setBackground(Color.GREEN);\n                    }\n                    \n                }\n            }\n        }\n    }\n\n</code></pre>\n<p>Please don't judge me.\nAnd please tell me if any more detail is required.</p>\n"},{"tags":["java","maven","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":1793708,"reputation":376,"user_id":1633598,"display_name":"Dhruv Murarka"},"score":1,"creation_date":1525191285,"post_id":50119941,"comment_id":87257334,"body_markdown":"Any of the answers here should probably fix it: https://stackoverflow.com/questions/9980869/force-intellij-idea-to-reread-all-maven-dependencies","body":"Any of the answers here should probably fix it: <a href=\"https://stackoverflow.com/questions/9980869/force-intellij-idea-to-reread-all-maven-dependencies\" title=\"force intellij idea to reread all maven dependencies\">stackoverflow.com/questions/9980869/&hellip;</a>"},{"owner":{"account_id":2712268,"reputation":115,"user_id":2340437,"accept_rate":80,"display_name":"DuckyDisciple"},"score":0,"creation_date":1525194519,"post_id":50119941,"comment_id":87258982,"body_markdown":"I had tried reimporting before. I just went through each of those answers and tried all of them again with no luck :/","body":"I had tried reimporting before. I just went through each of those answers and tried all of them again with no luck :/"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1525250111,"post_id":50119941,"comment_id":87278360,"body_markdown":"Have you deleted .idea folder and .iml file before reimporting?","body":"Have you deleted .idea folder and .iml file before reimporting?"}],"answers":[{"tags":[],"owner":{"account_id":2712268,"reputation":115,"user_id":2340437,"accept_rate":80,"display_name":"DuckyDisciple"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1525280810,"creation_date":1525280810,"answer_id":50140035,"question_id":50119941,"body_markdown":"I&#39;m not sure what the actual fix is, but I can provide the steps that resolved the issue:\r\n\r\n- Backed up and deleted .idea folder and .iml file from project\r\n- Reimported, build (errored immediately)\r\n- Restored .idea folder, but deleted contents of library folder\r\n- Reimported, mvn clean package, build (failed immediately)\r\n- Restored library items\r\n- Build (failed immediately)\r\n- Mvn clean package, reimport, build (success)\r\n\r\nNone of the files or steps really changed, but this process somehow fixed things.","title":"IntelliJ running wrong version of SpringBoot - mvn and java jar work correctly","body":"<p>I'm not sure what the actual fix is, but I can provide the steps that resolved the issue:</p>\n\n<ul>\n<li>Backed up and deleted .idea folder and .iml file from project</li>\n<li>Reimported, build (errored immediately)</li>\n<li>Restored .idea folder, but deleted contents of library folder</li>\n<li>Reimported, mvn clean package, build (failed immediately)</li>\n<li>Restored library items</li>\n<li>Build (failed immediately)</li>\n<li>Mvn clean package, reimport, build (success)</li>\n</ul>\n\n<p>None of the files or steps really changed, but this process somehow fixed things.</p>\n"},{"tags":[],"owner":{"account_id":15815390,"reputation":1,"user_id":11411297,"display_name":"Andry Fang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695455875,"creation_date":1695455827,"answer_id":77162133,"question_id":50119941,"body_markdown":"I&#39;va faced this issue when pom.xml of project contained incorrect versions in *~/.m2/repository* folder. Here is how I managed to resolve it:\r\n\r\n 1. [Only for multi-module project] Make sure that you have the same version in parent pom and in child poms in parent tag.\r\n 2. Run `mvn clean install` instead of `package`\r\n 3. Click `Reload All Maven Projects` in IntelliJ IDEA\r\n\r\nAlso you can try to remove this project manually from *~/.m2/repository* and rebuild project.","title":"IntelliJ running wrong version of SpringBoot - mvn and java jar work correctly","body":"<p>I'va faced this issue when pom.xml of project contained incorrect versions in <em>~/.m2/repository</em> folder. Here is how I managed to resolve it:</p>\n<ol>\n<li>[Only for multi-module project] Make sure that you have the same version in parent pom and in child poms in parent tag.</li>\n<li>Run <code>mvn clean install</code> instead of <code>package</code></li>\n<li>Click <code>Reload All Maven Projects</code> in IntelliJ IDEA</li>\n</ol>\n<p>Also you can try to remove this project manually from <em>~/.m2/repository</em> and rebuild project.</p>\n"}],"owner":{"account_id":2712268,"reputation":115,"user_id":2340437,"accept_rate":80,"display_name":"DuckyDisciple"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50140035,"answer_count":2,"score":0,"last_activity_date":1695455875,"creation_date":1525191099,"question_id":50119941,"body_markdown":"I am running version 2018.1.2 of IntelliJ. Whenever I run or debug my application from within IntelliJ, Springboot is running version 2.0.0.RELEASE (and erroring out). The pom.xml has the following set:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nWhen I run `mvn clean package`, I can see that it is running version 2.0.1.RELEASE and everything works as expected. I have also tried running `java -jar app.jar` and it is showing 2.0.1.RELEASE.\r\n\r\nI have looked all over IntelliJ to see if there are any additional settings or places to override the version and I have found nothing. Does anyone know how to ensure the version of Springboot within IntelliJ?","title":"IntelliJ running wrong version of SpringBoot - mvn and java jar work correctly","body":"<p>I am running version 2018.1.2 of IntelliJ. Whenever I run or debug my application from within IntelliJ, Springboot is running version 2.0.0.RELEASE (and erroring out). The pom.xml has the following set:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p>When I run <code>mvn clean package</code>, I can see that it is running version 2.0.1.RELEASE and everything works as expected. I have also tried running <code>java -jar app.jar</code> and it is showing 2.0.1.RELEASE.</p>\n\n<p>I have looked all over IntelliJ to see if there are any additional settings or places to override the version and I have found nothing. Does anyone know how to ensure the version of Springboot within IntelliJ?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1695455664,"post_id":77162083,"comment_id":136029299,"body_markdown":"&quot;the first&quot; you mean the first to terminate ? So you mean &quot;the last&quot; ? `the result is sometimes right and sometimes wrong`, define what is right, what is wrong.","body":"&quot;the first&quot; you mean the first to terminate ? So you mean &quot;the last&quot; ? <code>the result is sometimes right and sometimes wrong</code>, define what is right, what is wrong."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1695456017,"post_id":77162083,"comment_id":136029329,"body_markdown":"*&quot;So is it possible at all to achieve 100% of the correct result using these tools?&quot;* - No.  (And I don&#39;t actually see the point of trying.)","body":"<i>&quot;So is it possible at all to achieve 100% of the correct result using these tools?&quot;</i> - No.  (And I don&#39;t actually see the point of trying.)"},{"owner":{"account_id":22551359,"reputation":11,"user_id":17748758,"display_name":"Влад"},"score":0,"creation_date":1695468219,"post_id":77162083,"comment_id":136030400,"body_markdown":"@PeterMmm the one who exclaimed last came first. so the first who terminate came later","body":"@PeterMmm the one who exclaimed last came first. so the first who terminate came later"},{"owner":{"account_id":22551359,"reputation":11,"user_id":17748758,"display_name":"Влад"},"score":0,"creation_date":1695468658,"post_id":77162083,"comment_id":136030435,"body_markdown":"@StephenC, i appreciate your perspective. This task was given to me by a university lecturer =)","body":"@StephenC, i appreciate your perspective. This task was given to me by a university lecturer =)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695470401,"post_id":77162083,"comment_id":136030567,"body_markdown":"Yea ... well ... I have no idea what your lecturer was trying to teach you by doing that.","body":"Yea ... well ... I have no idea what your lecturer was trying to teach you by doing that."}],"answers":[{"comments":[{"owner":{"account_id":22551359,"reputation":11,"user_id":17748758,"display_name":"Влад"},"score":0,"creation_date":1695467826,"post_id":77162113,"comment_id":136030362,"body_markdown":"Well, thank you very much. I asked a question to clarify whether it is possible to perform such a task by the means described and got an answer. Thank you!","body":"Well, thank you very much. I asked a question to clarify whether it is possible to perform such a task by the means described and got an answer. Thank you!"}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695455773,"creation_date":1695455443,"answer_id":77162113,"question_id":77162083,"body_markdown":"You cannot do it reliably without any means of synchronization. If it works, it does so by chance.\r\n\r\nIn your case, the following can happen:\r\n- `eggVoice` reaches `System.out.println(&quot;egg!&quot;);` but `eggThread` doesn&#39;t finish.\r\n- `chickenVoice()` reaches `System.out.println(&quot;chicken!&quot;);`\r\n- `chichickenThread` finishes.\r\n- `chickenThread.join();` returns\r\n- `eggThread.isAlive()` returns `true` even though `System.out.println(&quot;egg!&quot;);` has been executed.\r\n\r\nThreads might pause and continue at any point in time. I/O (e.g. `System.out.println`) and sleeping makes this more likely but it could also happen between two CPU instructions.\r\n\r\nAt the end, you need to relax your constraints (e.g. by allowing `synchronized`).\r\n\r\nNote that you might be able to write it in a way so that it always works while testing but it could break on other devices.","title":"What came first, the egg or the chicken?","body":"<p>You cannot do it reliably without any means of synchronization. If it works, it does so by chance.</p>\n<p>In your case, the following can happen:</p>\n<ul>\n<li><code>eggVoice</code> reaches <code>System.out.println(&quot;egg!&quot;);</code> but <code>eggThread</code> doesn't finish.</li>\n<li><code>chickenVoice()</code> reaches <code>System.out.println(&quot;chicken!&quot;);</code></li>\n<li><code>chichickenThread</code> finishes.</li>\n<li><code>chickenThread.join();</code> returns</li>\n<li><code>eggThread.isAlive()</code> returns <code>true</code> even though <code>System.out.println(&quot;egg!&quot;);</code> has been executed.</li>\n</ul>\n<p>Threads might pause and continue at any point in time. I/O (e.g. <code>System.out.println</code>) and sleeping makes this more likely but it could also happen between two CPU instructions.</p>\n<p>At the end, you need to relax your constraints (e.g. by allowing <code>synchronized</code>).</p>\n<p>Note that you might be able to write it in a way so that it always works while testing but it could break on other devices.</p>\n"}],"owner":{"account_id":22551359,"reputation":11,"user_id":17748758,"display_name":"Влад"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1695459429,"accepted_answer_id":77162113,"answer_count":1,"score":-3,"last_activity_date":1695455773,"creation_date":1695454746,"question_id":77162083,"body_markdown":"The essence of the task is to determine the winner in their dispute, without using volatility variables, locks, synchronized blocks/methods, and so on, at the disposal of join, slip, and isAlive. In my next code, the result is sometimes right and sometimes wrong. And I understand why, because sometimes, even if the egg ends later than the chicken, it will end by the time it reaches the isAlive check. So is it possible at all to achieve 100% of the correct result using these tools?\r\n\r\n```\r\npublic class EggOrChicken {\r\n    static Thread eggThread = eggVoice();\r\n    static Thread chickenThread = chickenVoice();\r\n    \r\n    public static void main(String[] args) throws InterruptedException {\r\n        System.out.println(&quot;the start of the dispute...&quot;);\r\n        eggThread.start();\r\n        chickenThread.start();\r\n        chickenThread.join();\r\n        \r\n        if (eggThread.isAlive()) {\r\n            eggThread.join();\r\n            System.out.println(&quot;the first was egg!&quot;);\r\n        } else {\r\n            System.out.println(&quot;the first was chicken!&quot;);\r\n        }\r\n        System.out.println(&quot;end of dispute!&quot;);\r\n    }\r\n    \r\n    public static Thread eggVoice() {\r\n        return new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                try {\r\n                    sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                }\r\n                System.out.println(&quot;egg!&quot;);\r\n            }\r\n        });\r\n    }\r\n    \r\n    public static Thread chickenVoice() {\r\n        return new Thread(() -&gt; {\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                try {\r\n                    sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                }\r\n                System.out.println(&quot;chicken!&quot;);\r\n            }\r\n        });\r\n    }\r\n}","title":"What came first, the egg or the chicken?","body":"<p>The essence of the task is to determine the winner in their dispute, without using volatility variables, locks, synchronized blocks/methods, and so on, at the disposal of join, slip, and isAlive. In my next code, the result is sometimes right and sometimes wrong. And I understand why, because sometimes, even if the egg ends later than the chicken, it will end by the time it reaches the isAlive check. So is it possible at all to achieve 100% of the correct result using these tools?</p>\n<pre><code>public class EggOrChicken {\n    static Thread eggThread = eggVoice();\n    static Thread chickenThread = chickenVoice();\n    \n    public static void main(String[] args) throws InterruptedException {\n        System.out.println(&quot;the start of the dispute...&quot;);\n        eggThread.start();\n        chickenThread.start();\n        chickenThread.join();\n        \n        if (eggThread.isAlive()) {\n            eggThread.join();\n            System.out.println(&quot;the first was egg!&quot;);\n        } else {\n            System.out.println(&quot;the first was chicken!&quot;);\n        }\n        System.out.println(&quot;end of dispute!&quot;);\n    }\n    \n    public static Thread eggVoice() {\n        return new Thread(() -&gt; {\n            for (int i = 0; i &lt; 5; i++) {\n                try {\n                    sleep(1000);\n                } catch (InterruptedException e) {\n                }\n                System.out.println(&quot;egg!&quot;);\n            }\n        });\n    }\n    \n    public static Thread chickenVoice() {\n        return new Thread(() -&gt; {\n            for (int i = 0; i &lt; 5; i++) {\n                try {\n                    sleep(1000);\n                } catch (InterruptedException e) {\n                }\n                System.out.println(&quot;chicken!&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":29004116,"reputation":337,"user_id":22217083,"display_name":"Sarah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695370673,"creation_date":1695370673,"answer_id":77155912,"question_id":77155134,"body_markdown":"The effect you&#39;re experiencing is likely due to the fact that you&#39;re adding view2 to the frameLayout on every click in your onClick method. To avoid this and add the view only once, you can introduce a boolean flag to check if the view has already been added. Here&#39;s how you can modify your code.\r\n\r\n    // Declare a boolean flag to track if view2 is already added\r\n    boolean view2Added = false;\r\n    \r\n    multiTouchListener = getMultiTouchListener();\r\n    multiTouchListener.setOnGestureControl(new MultiTouchListener.OnGestureControl() {\r\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n        @Override\r\n        public void onClick() {\r\n            if (filter_layout.getVisibility() == View.VISIBLE)\r\n                filter_layout.setVisibility(View.GONE);\r\n            if (sticker_layout.getVisibility() == View.VISIBLE)\r\n                sticker_layout.setVisibility(View.GONE);\r\n    \r\n            text_layout.setVisibility(View.VISIBLE);\r\n    \r\n            Rect myRect = new Rect();\r\n            view1.getGlobalVisibleRect(myRect);\r\n            int newX = myRect.left;\r\n            int newY = myRect.top;\r\n    \r\n            if (!view2Added) {\r\n                frmBorder.setBackgroundResource(R.drawable.rounded_border_tv);\r\n                final View view2 = LayoutInflater.from(EditingActivity.this).inflate(R.layout.pop_up_text, frameLayout, false);\r\n                final TextView imgPhotoEditorEdit = view2.findViewById(R.id.imgPhotoEditorEdit);\r\n                final TextView imgPhotoEditorClose = view2.findViewById(R.id.imgPhotoEditorClose);\r\n                view2.setElevation(20);\r\n                frameLayout.addView(view2);\r\n                view2Added = true; // Set the flag to true so that view2 is not added again\r\n            }\r\n    \r\n            Rect rectf = new Rect();\r\n            //For coordinates location relative to the parent\r\n            selected_View.getLocalVisibleRect(rectf);\r\n            //For coordinates location relative to the screen/display\r\n            selected_View.getGlobalVisibleRect(rectf);\r\n    \r\n            Rect myViewRect = new Rect();\r\n            selected_View.getGlobalVisibleRect(myViewRect);\r\n            float x = myViewRect.left;\r\n            float y = myViewRect.top;\r\n    \r\n            // ... Rest of your code\r\n    \r\n            Log.d(&quot;WIDTH        :&quot;, String.valueOf(rectf.width()));\r\n            Log.d(&quot;HEIGHT       :&quot;, String.valueOf(rectf.height()));\r\n            Log.d(&quot;left         :&quot;, String.valueOf(rectf.left) + &quot;    &quot; + x);\r\n            Log.d(&quot;right        :&quot;, String.valueOf(rectf.right));\r\n            Log.d(&quot;top          :&quot;, String.valueOf(rectf.top) + &quot;    &quot; + y);\r\n            Log.d(&quot;bottom       :&quot;, String.valueOf(rectf.bottom));\r\n    \r\n            View rootLayout = selected_View.getRootView().findViewById(R.id.frameLayout);\r\n    \r\n            int[] viewLocation = new int[2];\r\n            selected_View.getLocationInWindow(viewLocation);\r\n    \r\n            int[] rootLocation = new int[2];\r\n            rootLayout.getLocationInWindow(rootLocation);\r\n    \r\n            int relativeLeft = viewLocation[0] - rootLocation[0];\r\n            int relativeTop = viewLocation[1] - rootLocation[1];\r\n    \r\n            float cx = rectf.exactCenterX();\r\n            float cy = rectf.exactCenterY();\r\n        }\r\n    });\r\n\r\nWith this modification, the view view2 will only be added once, and subsequent clicks will not add additional views, eliminating the blinking effect.","title":"Avoid adding view on every click in MultiTouchListener using java","body":"<p>The effect you're experiencing is likely due to the fact that you're adding view2 to the frameLayout on every click in your onClick method. To avoid this and add the view only once, you can introduce a boolean flag to check if the view has already been added. Here's how you can modify your code.</p>\n<pre><code>// Declare a boolean flag to track if view2 is already added\nboolean view2Added = false;\n\nmultiTouchListener = getMultiTouchListener();\nmultiTouchListener.setOnGestureControl(new MultiTouchListener.OnGestureControl() {\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    @Override\n    public void onClick() {\n        if (filter_layout.getVisibility() == View.VISIBLE)\n            filter_layout.setVisibility(View.GONE);\n        if (sticker_layout.getVisibility() == View.VISIBLE)\n            sticker_layout.setVisibility(View.GONE);\n\n        text_layout.setVisibility(View.VISIBLE);\n\n        Rect myRect = new Rect();\n        view1.getGlobalVisibleRect(myRect);\n        int newX = myRect.left;\n        int newY = myRect.top;\n\n        if (!view2Added) {\n            frmBorder.setBackgroundResource(R.drawable.rounded_border_tv);\n            final View view2 = LayoutInflater.from(EditingActivity.this).inflate(R.layout.pop_up_text, frameLayout, false);\n            final TextView imgPhotoEditorEdit = view2.findViewById(R.id.imgPhotoEditorEdit);\n            final TextView imgPhotoEditorClose = view2.findViewById(R.id.imgPhotoEditorClose);\n            view2.setElevation(20);\n            frameLayout.addView(view2);\n            view2Added = true; // Set the flag to true so that view2 is not added again\n        }\n\n        Rect rectf = new Rect();\n        //For coordinates location relative to the parent\n        selected_View.getLocalVisibleRect(rectf);\n        //For coordinates location relative to the screen/display\n        selected_View.getGlobalVisibleRect(rectf);\n\n        Rect myViewRect = new Rect();\n        selected_View.getGlobalVisibleRect(myViewRect);\n        float x = myViewRect.left;\n        float y = myViewRect.top;\n\n        // ... Rest of your code\n\n        Log.d(&quot;WIDTH        :&quot;, String.valueOf(rectf.width()));\n        Log.d(&quot;HEIGHT       :&quot;, String.valueOf(rectf.height()));\n        Log.d(&quot;left         :&quot;, String.valueOf(rectf.left) + &quot;    &quot; + x);\n        Log.d(&quot;right        :&quot;, String.valueOf(rectf.right));\n        Log.d(&quot;top          :&quot;, String.valueOf(rectf.top) + &quot;    &quot; + y);\n        Log.d(&quot;bottom       :&quot;, String.valueOf(rectf.bottom));\n\n        View rootLayout = selected_View.getRootView().findViewById(R.id.frameLayout);\n\n        int[] viewLocation = new int[2];\n        selected_View.getLocationInWindow(viewLocation);\n\n        int[] rootLocation = new int[2];\n        rootLayout.getLocationInWindow(rootLocation);\n\n        int relativeLeft = viewLocation[0] - rootLocation[0];\n        int relativeTop = viewLocation[1] - rootLocation[1];\n\n        float cx = rectf.exactCenterX();\n        float cy = rectf.exactCenterY();\n    }\n});\n</code></pre>\n<p>With this modification, the view view2 will only be added once, and subsequent clicks will not add additional views, eliminating the blinking effect.</p>\n"}],"owner":{"account_id":27829894,"reputation":13,"user_id":21248507,"display_name":"Roushan Mehmood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77155912,"answer_count":1,"score":1,"last_activity_date":1695452560,"creation_date":1695361999,"question_id":77155134,"body_markdown":"When I Click on a view then border around that view and view2 is adding on every click which create jerk like effect or blinking . \r\n\r\nI simply avoid blinking effect for this code any reference for this \r\n \r\nthis is the code that I&#39;m using right now.\r\n\r\n \r\n\r\n    multiTouchListener = getMultiTouchListener();\r\n                                multiTouchListener.setOnGestureControl(new MultiTouchListener.OnGestureControl() {\r\n                                    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n                                    @Override\r\n                                    public void onClick() {\r\n                                        if (filter_layout.getVisibility() == View.VISIBLE)\r\n                                            filter_layout.setVisibility(View.GONE);\r\n                                        if (sticker_layout.getVisibility() == View.VISIBLE)\r\n                                            sticker_layout.setVisibility(View.GONE);\r\n\r\n                                    text_layout.setVisibility(View.VISIBLE);\r\n\r\n                                    Rect myRect = new Rect();\r\n                                    view1.getGlobalVisibleRect(myRect);\r\n                                    int newX = myRect.left;\r\n                                    int newY = myRect.top;\r\n\r\n                                        new Handler().postDelayed(new Runnable() {\r\n                                            @Override\r\n                                            public void run() {\r\n                                                frmBorder.setBackgroundResource(R.drawable.rounded_border_tv);\r\n                                                final View view2 = LayoutInflater.from(EditingActivity.this).inflate(R.layout.pop_up_text, frameLayout, false);\r\n                                                final TextView imgPhotoEditorEdit = view2.findViewById(R.id.imgPhotoEditorEdit);\r\n                                                final TextView imgPhotoEditorClose = view2.findViewById(R.id.imgPhotoEditorClose);\r\n                                                view2.setElevation(20);\r\n                                                frameLayout.addView(view2);   \r\n\r\n                                                Rect rectf = new Rect();\r\n                                                //For coordinates location relative to the parent\r\n                                                selected_View.getLocalVisibleRect(rectf);\r\n                                                //For coordinates location relative to the screen/display\r\n                                                selected_View.getGlobalVisibleRect(rectf);\r\n\r\n                                                Rect myViewRect = new Rect();\r\n                                                selected_View.getGlobalVisibleRect(myViewRect);\r\n                                                float x = myViewRect.left;\r\n                                                float y = myViewRect.top;\r\n\r\n                                                Log.d(&quot;WIDTH        :&quot;, String.valueOf(rectf.width()));\r\n                                                Log.d(&quot;HEIGHT       :&quot;, String.valueOf(rectf.height()));\r\n                                                Log.d(&quot;left         :&quot;, String.valueOf(rectf.left) + &quot;    &quot; + x);\r\n                                                Log.d(&quot;right        :&quot;, String.valueOf(rectf.right));\r\n                                                Log.d(&quot;top          :&quot;, String.valueOf(rectf.top) + &quot;    &quot; + y);\r\n                                                Log.d(&quot;bottom       :&quot;, String.valueOf(rectf.bottom));\r\n\r\n                                                View rootLayout = selected_View.getRootView().findViewById(R.id.frameLayout);\r\n\r\n                                                int[] viewLocation = new int[2];\r\n                                                selected_View.getLocationInWindow(viewLocation);\r\n\r\n                                                int[] rootLocation = new int[2];\r\n                                                rootLayout.getLocationInWindow(rootLocation);\r\n\r\n                                                int relativeLeft = viewLocation[0] - rootLocation[0];\r\n                                                int relativeTop = viewLocation[1] - rootLocation[1];\r\n\r\n                                                float cx = rectf.exactCenterX();\r\n                                                float cy = rectf.exactCenterY();","title":"Avoid adding view on every click in MultiTouchListener using java","body":"<p>When I Click on a view then border around that view and view2 is adding on every click which create jerk like effect or blinking .</p>\n<p>I simply avoid blinking effect for this code any reference for this</p>\n<p>this is the code that I'm using right now.</p>\n<pre><code>multiTouchListener = getMultiTouchListener();\n                            multiTouchListener.setOnGestureControl(new MultiTouchListener.OnGestureControl() {\n                                @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n                                @Override\n                                public void onClick() {\n                                    if (filter_layout.getVisibility() == View.VISIBLE)\n                                        filter_layout.setVisibility(View.GONE);\n                                    if (sticker_layout.getVisibility() == View.VISIBLE)\n                                        sticker_layout.setVisibility(View.GONE);\n\n                                text_layout.setVisibility(View.VISIBLE);\n\n                                Rect myRect = new Rect();\n                                view1.getGlobalVisibleRect(myRect);\n                                int newX = myRect.left;\n                                int newY = myRect.top;\n\n                                    new Handler().postDelayed(new Runnable() {\n                                        @Override\n                                        public void run() {\n                                            frmBorder.setBackgroundResource(R.drawable.rounded_border_tv);\n                                            final View view2 = LayoutInflater.from(EditingActivity.this).inflate(R.layout.pop_up_text, frameLayout, false);\n                                            final TextView imgPhotoEditorEdit = view2.findViewById(R.id.imgPhotoEditorEdit);\n                                            final TextView imgPhotoEditorClose = view2.findViewById(R.id.imgPhotoEditorClose);\n                                            view2.setElevation(20);\n                                            frameLayout.addView(view2);   \n\n                                            Rect rectf = new Rect();\n                                            //For coordinates location relative to the parent\n                                            selected_View.getLocalVisibleRect(rectf);\n                                            //For coordinates location relative to the screen/display\n                                            selected_View.getGlobalVisibleRect(rectf);\n\n                                            Rect myViewRect = new Rect();\n                                            selected_View.getGlobalVisibleRect(myViewRect);\n                                            float x = myViewRect.left;\n                                            float y = myViewRect.top;\n\n                                            Log.d(&quot;WIDTH        :&quot;, String.valueOf(rectf.width()));\n                                            Log.d(&quot;HEIGHT       :&quot;, String.valueOf(rectf.height()));\n                                            Log.d(&quot;left         :&quot;, String.valueOf(rectf.left) + &quot;    &quot; + x);\n                                            Log.d(&quot;right        :&quot;, String.valueOf(rectf.right));\n                                            Log.d(&quot;top          :&quot;, String.valueOf(rectf.top) + &quot;    &quot; + y);\n                                            Log.d(&quot;bottom       :&quot;, String.valueOf(rectf.bottom));\n\n                                            View rootLayout = selected_View.getRootView().findViewById(R.id.frameLayout);\n\n                                            int[] viewLocation = new int[2];\n                                            selected_View.getLocationInWindow(viewLocation);\n\n                                            int[] rootLocation = new int[2];\n                                            rootLayout.getLocationInWindow(rootLocation);\n\n                                            int relativeLeft = viewLocation[0] - rootLocation[0];\n                                            int relativeTop = viewLocation[1] - rootLocation[1];\n\n                                            float cx = rectf.exactCenterX();\n                                            float cy = rectf.exactCenterY();\n</code></pre>\n"},{"tags":["java","eclipse","configuration"],"comments":[{"owner":{"account_id":117162,"reputation":727,"user_id":306938,"accept_rate":80,"display_name":"Andreas"},"score":0,"creation_date":1383743220,"post_id":19812604,"comment_id":29456592,"body_markdown":"How does the source folder structure look like?","body":"How does the source folder structure look like?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1383745858,"post_id":19812604,"comment_id":29458334,"body_markdown":"please read my update","body":"please read my update"}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1383745619,"post_id":19813343,"comment_id":29458174,"body_markdown":"I tryed this steps before","body":"I tryed this steps before"}],"tags":[],"owner":{"account_id":3181437,"reputation":4549,"user_id":2688031,"accept_rate":68,"display_name":"Bensson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455062529,"creation_date":1383744434,"answer_id":19813343,"question_id":19812604,"body_markdown":"1. Make sure you select correct src path in eclipse. right click your project and go to Java Build Path to check the source folders on build path.\r\n2. Go to project menu, clear and rebuild you project.\r\n3. Restart you eclipse.\r\n4. Delete eclipse\r\n","title":"eclipse build path error","body":"<ol>\n<li>Make sure you select correct src path in eclipse. right click your project and go to Java Build Path to check the source folders on build path.</li>\n<li>Go to project menu, clear and rebuild you project.</li>\n<li>Restart you eclipse.</li>\n<li>Delete eclipse</li>\n</ol>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11542,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695452505,"creation_date":1383742310,"question_id":19812604,"body_markdown":"eclipse say me:\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\nI click to quick fix and make so:\r\n\r\n![enter image description here][3]\r\n\r\n\r\nafter it I see old error.\r\n\r\nHow to fix this problem?\r\n\r\n**UPDATE**\r\n\r\n\r\nproject structure:\r\n\r\n\r\n![enter image description here][4]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/FO8nR.png\r\n  [2]: http://i.stack.imgur.com/jJfRF.png\r\n  [3]: http://i.stack.imgur.com/ainwv.png\r\n  [4]: http://i.stack.imgur.com/ox3NY.png","title":"eclipse build path error","body":"<p>eclipse say me:\n<img src=\"https://i.stack.imgur.com/FO8nR.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/jJfRF.png\" alt=\"enter image description here\"></p>\n\n<p>I click to quick fix and make so:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ainwv.png\" alt=\"enter image description here\"></p>\n\n<p>after it I see old error.</p>\n\n<p>How to fix this problem?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>project structure:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ox3NY.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","kotlin","linked-list","mapped-types","mutablelist"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":5,"creation_date":1695328352,"post_id":77153458,"comment_id":136013569,"body_markdown":"MutableList is one of the [mapped types](https://kotlinlang.org/docs/java-interop.html#mapped-types). It maps to Java&#39;s List interface.","body":"MutableList is one of the <a href=\"https://kotlinlang.org/docs/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a>. It maps to Java&#39;s List interface."},{"owner":{"account_id":6520606,"reputation":1189,"user_id":6270888,"accept_rate":50,"display_name":"Alanpatchi"},"score":0,"creation_date":1695330835,"post_id":77153458,"comment_id":136013932,"body_markdown":"Can you write this as an answer? I still cannot get how LinkedList() gets inferred as a MutableList by the compiler by automatically understanding that a LinkedList has write operations.","body":"Can you write this as an answer? I still cannot get how LinkedList() gets inferred as a MutableList by the compiler by automatically understanding that a LinkedList has write operations."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1695334089,"post_id":77153458,"comment_id":136014394,"body_markdown":"If I got the answer right, this question is not dealing with a Java problem, but with a Kotlin feature, right? So why the tag &quot;Java&quot;?","body":"If I got the answer right, this question is not dealing with a Java problem, but with a Kotlin feature, right? So why the tag &quot;Java&quot;?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1695338190,"post_id":77153458,"comment_id":136014787,"body_markdown":"@Alanpatchi Basically, the Kotlin compiler has some built-in rules that says any `java.util.List` can be _either_ a `kotlin.collections.List` _or_ `kotlin.collections.MutableList`.","body":"@Alanpatchi Basically, the Kotlin compiler has some built-in rules that says any <code>java.util.List</code> can be <i>either</i> a <code>kotlin.collections.List</code> <i>or</i> <code>kotlin.collections.MutableList</code>."},{"owner":{"account_id":6520606,"reputation":1189,"user_id":6270888,"accept_rate":50,"display_name":"Alanpatchi"},"score":0,"creation_date":1695409079,"post_id":77153458,"comment_id":136025622,"body_markdown":"@tquadrat I was not sure if the solution was from the Kotlin features or the Java features before knowing the answer. So I had to tag Java for possible Java reasons as well.","body":"@tquadrat I was not sure if the solution was from the Kotlin features or the Java features before knowing the answer. So I had to tag Java for possible Java reasons as well."}],"answers":[{"tags":[],"owner":{"account_id":13446245,"reputation":154,"user_id":9702105,"display_name":"Josh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695368185,"creation_date":1695333622,"answer_id":77153871,"question_id":77153458,"body_markdown":"In your example, the compiler isn&#39;t inferring anything. *You* are telling the compiler that your `linkedList` variable is to be treated as a `MutableList&lt;Int&gt;`. The compiler allows this because `java.util.LinkedList` is an implementation of the Java `List` interface, which maps to the Kotlin `List` or `MutableList` interfaces.\r\n\r\nPer the [documentation][1] provided by Tenfour04, a `List&lt;T&gt;` in java is a mapped type which maps to the Kotlin `List&lt;T&gt;` or `MutableList&lt;T&gt;` - the choice is up to you.\r\n\r\nNotice that the word *type* is used here, not *class*. What you&#39;re doing is simply telling the compiler that you want this variable to be treated as a `MutableList&lt;Int&gt;` - that&#39;s it. This idea is reinforced by this sentence in the docs:\r\n&gt;The mapping only matters at compile time, the runtime representation remains unchanged.\r\n\r\nSo by declaring your variable as mutable or otherwise, you are simply masking the underlying class (java.util.LinkedLink) with a Kotlin mapped type. \r\n\r\nWe already know that `java.util.LinkedList` is mutable by default. So doing either of these\r\n```\r\nval immutableLinkedList: List&lt;Int&gt; = java.util.LinkedList&lt;Int&gt;()\r\nval mutableLinkedList: MutableList&lt;Int&gt; = java.util.LinkedList&lt;Int&gt;()\r\n```\r\n\r\nIs perfectly valid. In the former case, since you&#39;ve informed the compiler that `immutableLinkedList` is only type `List&lt;Int&gt;` (remember - you can only do this because this Kotlin type maps to a parent type of `LinkedList`), then you will not be able to add to or remove from it, *even though the actual runtime implementation technically allows that*.\r\n\r\nThese mechanisms are in place to help keep type safety and be explicit about what type of structure you&#39;re working with. If you are working in Kotlin, it is *good* to annotate your linkedList as a kotlin type `MutableList`, since it is very clear that this list is in fact mutable. \r\n\r\nOn there other hand, you could conceivably imagine some situation where the implementation of the list actually mattered, so you may choose to drop the type annotation completely and let the compiler treat it as a `java.util.LinkedList`.\r\n\r\n`val myLinkedList = java.util.LinkedList&lt;Int&gt;()`\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/java-interop.html#mapped-types","title":"How is java.util.LinkedList() an instance of MutableList?","body":"<p>In your example, the compiler isn't inferring anything. <em>You</em> are telling the compiler that your <code>linkedList</code> variable is to be treated as a <code>MutableList&lt;Int&gt;</code>. The compiler allows this because <code>java.util.LinkedList</code> is an implementation of the Java <code>List</code> interface, which maps to the Kotlin <code>List</code> or <code>MutableList</code> interfaces.</p>\n<p>Per the <a href=\"https://kotlinlang.org/docs/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">documentation</a> provided by Tenfour04, a <code>List&lt;T&gt;</code> in java is a mapped type which maps to the Kotlin <code>List&lt;T&gt;</code> or <code>MutableList&lt;T&gt;</code> - the choice is up to you.</p>\n<p>Notice that the word <em>type</em> is used here, not <em>class</em>. What you're doing is simply telling the compiler that you want this variable to be treated as a <code>MutableList&lt;Int&gt;</code> - that's it. This idea is reinforced by this sentence in the docs:</p>\n<blockquote>\n<p>The mapping only matters at compile time, the runtime representation remains unchanged.</p>\n</blockquote>\n<p>So by declaring your variable as mutable or otherwise, you are simply masking the underlying class (java.util.LinkedLink) with a Kotlin mapped type.</p>\n<p>We already know that <code>java.util.LinkedList</code> is mutable by default. So doing either of these</p>\n<pre><code>val immutableLinkedList: List&lt;Int&gt; = java.util.LinkedList&lt;Int&gt;()\nval mutableLinkedList: MutableList&lt;Int&gt; = java.util.LinkedList&lt;Int&gt;()\n</code></pre>\n<p>Is perfectly valid. In the former case, since you've informed the compiler that <code>immutableLinkedList</code> is only type <code>List&lt;Int&gt;</code> (remember - you can only do this because this Kotlin type maps to a parent type of <code>LinkedList</code>), then you will not be able to add to or remove from it, <em>even though the actual runtime implementation technically allows that</em>.</p>\n<p>These mechanisms are in place to help keep type safety and be explicit about what type of structure you're working with. If you are working in Kotlin, it is <em>good</em> to annotate your linkedList as a kotlin type <code>MutableList</code>, since it is very clear that this list is in fact mutable.</p>\n<p>On there other hand, you could conceivably imagine some situation where the implementation of the list actually mattered, so you may choose to drop the type annotation completely and let the compiler treat it as a <code>java.util.LinkedList</code>.</p>\n<p><code>val myLinkedList = java.util.LinkedList&lt;Int&gt;()</code></p>\n"}],"owner":{"account_id":6520606,"reputation":1189,"user_id":6270888,"accept_rate":50,"display_name":"Alanpatchi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77153871,"answer_count":1,"score":1,"last_activity_date":1695452451,"creation_date":1695328128,"question_id":77153458,"body_markdown":"How does the following code compiles without any errors?\r\n\r\n    var linkedList: MutableList&lt;Int&gt; = java.util.LinkedList()\r\n    \r\nwhen `java.util.LinkedList` class contract clearly doesn&#39;t implement the Kotlin interface `MutableList`?","title":"How is java.util.LinkedList() an instance of MutableList?","body":"<p>How does the following code compiles without any errors?</p>\n<pre><code>var linkedList: MutableList&lt;Int&gt; = java.util.LinkedList()\n</code></pre>\n<p>when <code>java.util.LinkedList</code> class contract clearly doesn't implement the Kotlin interface <code>MutableList</code>?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1429597793,"post_id":29764438,"comment_id":47660587,"body_markdown":"It seems that you tried to fulfill the last requirement with your `printall` method. But the requirement is to _return_ all the integers and not to _print_ them. Additionally, you even did not correctly implement the first requirement.","body":"It seems that you tried to fulfill the last requirement with your <code>printall</code> method. But the requirement is to <i>return</i> all the integers and not to <i>print</i> them. Additionally, you even did not correctly implement the first requirement."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1429597831,"post_id":29764438,"comment_id":47660598,"body_markdown":"`add the value of x into the last element of the array` - you are supposed to add x to the array, so it won&#39;t be empty.","body":"<code>add the value of x into the last element of the array</code> - you are supposed to add x to the array, so it won&#39;t be empty."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1429597912,"post_id":29764438,"comment_id":47660637,"body_markdown":"I suggest you start with an empty array instead of null i.e. `int[] data = { };`","body":"I suggest you start with an empty array instead of null i.e. <code>int[] data = { };</code>"},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1429598114,"post_id":29764438,"comment_id":47660734,"body_markdown":"`new example()` creates an object of the class `example`, and I don&#39;t see a class named `example`.","body":"<code>new example()</code> creates an object of the class <code>example</code>, and I don&#39;t see a class named <code>example</code>."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1429598342,"post_id":29764438,"comment_id":47660843,"body_markdown":"The assignment says &quot;Implement a class that takes an integer array and an int x as its size&quot;.  To me, this means that one of the constructor parameters is an integer array _that already has data in it_.  The method in the third sentence is supposed to copy this data into the new array.","body":"The assignment says &quot;Implement a class that takes an integer array and an int x as its size&quot;.  To me, this means that one of the constructor parameters is an integer array <i>that already has data in it</i>.  The method in the third sentence is supposed to copy this data into the new array."}],"answers":[{"comments":[{"owner":{"account_id":10139811,"reputation":545,"user_id":7489939,"display_name":"Bakna"},"score":0,"creation_date":1568587210,"post_id":29764706,"comment_id":102310267,"body_markdown":"Java does support making an object that references a method, and there is always a default constructor. You don&#39;t need a constructor in order to create and object of a class (a side effect of every class being implicitly a child of the Object class).","body":"Java does support making an object that references a method, and there is always a default constructor. You don&#39;t need a constructor in order to create and object of a class (a side effect of every class being implicitly a child of the Object class)."}],"tags":[],"owner":{"account_id":5514206,"reputation":164,"user_id":4379563,"display_name":"Oğuz K"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1429598357,"creation_date":1429598357,"answer_id":29764706,"question_id":29764438,"body_markdown":"First of all, you can&#39;t create an object of a method. You can create objects of classes. And whenever you have a class, you should have at least one constructor. Also, it seems your methods should return some array and int values. Actually, I don&#39;t think this code will compile even. I suggest you to review your book.","title":"Printing an array with no elements?","body":"<p>First of all, you can't create an object of a method. You can create objects of classes. And whenever you have a class, you should have at least one constructor. Also, it seems your methods should return some array and int values. Actually, I don't think this code will compile even. I suggest you to review your book.</p>\n"},{"tags":[],"owner":{"account_id":3974723,"reputation":2691,"user_id":3278176,"accept_rate":74,"display_name":"Ian2thedv"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429599135,"creation_date":1429599135,"answer_id":29764940,"question_id":29764438,"body_markdown":"&gt; Implement a class that takes an integer array and an int x as its size.\r\n\r\nYou can accomplish this by the use of a [constructor][1]. You can save the arguments passed to the constructor as [private][2] variables and reference by using the `this` notation. (See [this][3])\r\n\r\n    public class TaskOne {\r\n        private int [] array;\r\n        private int x;\r\n        public TaskOne(int [] array, int x) {\r\n            this.array = array;\r\n            this.x = x;\r\n        }\r\n    }\r\n\r\n&gt; Create a method inside the class that creates a new array whose length\r\n&gt; is one greater than data’s length\r\n\r\nHere you need to simply create a new array. Be sure you set the length of the new array to that of `array`, plus 1 (to accommodate the extra element, `x`)\r\n\r\n    private int [] data = null;\r\n    \r\n    public void createNewArray() {\r\n        this.data = new int[this.array.length + 1];\r\n    }\r\n\r\n&gt; Then create a method to copy all data’s elements into the new array\r\n&gt; and add the value of x into the last element of the array.\r\n\r\n    public void populateArray() {\r\n        for (int t = 0; t &lt; this.array.length; t++) {\r\n            data[t] = this.array[t];\r\n        }\r\n        data[array.length] = this.x;\r\n    }\r\n\r\n&gt; Create a method to return all the integers in the new array\r\n\r\nThis is know as a [getter][4] method. You \r\n\r\n    public int [] getClone() {\r\n        return this.data;\r\n    }\r\n\r\nYou may have noticed that I did not make use of the `Arrays.copyOf` method. This actually creates and populates the array in one step, so, I kept the two steps separate to conform to the question.  \r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html\r\n  [4]: http://docs.oracle.com/javaee/6/tutorial/doc/gjbbp.html","title":"Printing an array with no elements?","body":"<blockquote>\n  <p>Implement a class that takes an integer array and an int x as its size.</p>\n</blockquote>\n\n<p>You can accomplish this by the use of a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/constructors.html\" rel=\"nofollow\">constructor</a>. You can save the arguments passed to the constructor as <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html\" rel=\"nofollow\">private</a> variables and reference by using the <code>this</code> notation. (See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html\" rel=\"nofollow\">this</a>)</p>\n\n<pre><code>public class TaskOne {\n    private int [] array;\n    private int x;\n    public TaskOne(int [] array, int x) {\n        this.array = array;\n        this.x = x;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Create a method inside the class that creates a new array whose length\n  is one greater than data’s length</p>\n</blockquote>\n\n<p>Here you need to simply create a new array. Be sure you set the length of the new array to that of <code>array</code>, plus 1 (to accommodate the extra element, <code>x</code>)</p>\n\n<pre><code>private int [] data = null;\n\npublic void createNewArray() {\n    this.data = new int[this.array.length + 1];\n}\n</code></pre>\n\n<blockquote>\n  <p>Then create a method to copy all data’s elements into the new array\n  and add the value of x into the last element of the array.</p>\n</blockquote>\n\n<pre><code>public void populateArray() {\n    for (int t = 0; t &lt; this.array.length; t++) {\n        data[t] = this.array[t];\n    }\n    data[array.length] = this.x;\n}\n</code></pre>\n\n<blockquote>\n  <p>Create a method to return all the integers in the new array</p>\n</blockquote>\n\n<p>This is know as a <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/gjbbp.html\" rel=\"nofollow\">getter</a> method. You </p>\n\n<pre><code>public int [] getClone() {\n    return this.data;\n}\n</code></pre>\n\n<p>You may have noticed that I did not make use of the <code>Arrays.copyOf</code> method. This actually creates and populates the array in one step, so, I kept the two steps separate to conform to the question.  </p>\n"},{"tags":[],"owner":{"account_id":7592404,"reputation":605,"user_id":5759656,"display_name":"Christian Meyer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695451136,"creation_date":1695451136,"answer_id":77161919,"question_id":29764438,"body_markdown":"You are making a simple mistake here:\r\n\r\nIn:\r\n```\r\npublic class TaskOne {\r\n\r\n    public static void main(String[] args) {\r\n        example task = new example();\r\n        task.printall();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI take it that ```example task = new example();``` should be replaced with ```Arrayplus1 task = new Arrayplus1();```, but you are not giving an argument to the default constructor. So the data, ```int x``` and ```int data[]```, remain null. \r\n\r\nyour class code should look like this:\r\n```\r\nclass Arrayplus1 {\r\n\r\n    int x;\r\n    int data[];\r\n\r\n    // NEW DEFAULT CONSTRUCTOR ADDED\r\n    void example() {\r\n        this.x = 0;\r\n        this.data= new int[0];\r\n    }\r\n\r\n    void example(int x) {\r\n        this.x = x+1;\r\n        this.data= new int[x];\r\n    }\r\n\r\n    void increaseSizeOfArray(int incrementSize) {\r\n            int copiedArray[] = Arrays.copyOf(data, data.length + incrementSize);\r\n            data = copiedArray;\r\n\r\n    }\r\n\r\n    void printall() {\r\n        System.out.println(Arrays.toString(data));\r\n    }\r\n}\r\n```\r\n\r\nin the case that you never want your array to be null. \r\n\r\nalternatively, you could do this:\r\n```\r\npublic class TaskOne {\r\n\r\n    public static void main(String[] args) {\r\n        // INITIALIZED WITH ARGUMENT 0 (rather than no argument)\r\n        example task = new example(0);\r\n        task.printall();\r\n    }\r\n\r\n}\r\n```\r\n\r\nonce an array is initialized, even when the size is zero, it will not be null, even if it is empty. but if you choose to declare an array reference, and then not initialize it, then it will be null.","title":"Printing an array with no elements?","body":"<p>You are making a simple mistake here:</p>\n<p>In:</p>\n<pre><code>public class TaskOne {\n\n    public static void main(String[] args) {\n        example task = new example();\n        task.printall();\n    }\n\n}\n</code></pre>\n<p>I take it that <code>example task = new example();</code> should be replaced with <code>Arrayplus1 task = new Arrayplus1();</code>, but you are not giving an argument to the default constructor. So the data, <code>int x</code> and <code>int data[]</code>, remain null.</p>\n<p>your class code should look like this:</p>\n<pre><code>class Arrayplus1 {\n\n    int x;\n    int data[];\n\n    // NEW DEFAULT CONSTRUCTOR ADDED\n    void example() {\n        this.x = 0;\n        this.data= new int[0];\n    }\n\n    void example(int x) {\n        this.x = x+1;\n        this.data= new int[x];\n    }\n\n    void increaseSizeOfArray(int incrementSize) {\n            int copiedArray[] = Arrays.copyOf(data, data.length + incrementSize);\n            data = copiedArray;\n\n    }\n\n    void printall() {\n        System.out.println(Arrays.toString(data));\n    }\n}\n</code></pre>\n<p>in the case that you never want your array to be null.</p>\n<p>alternatively, you could do this:</p>\n<pre><code>public class TaskOne {\n\n    public static void main(String[] args) {\n        // INITIALIZED WITH ARGUMENT 0 (rather than no argument)\n        example task = new example(0);\n        task.printall();\n    }\n\n}\n</code></pre>\n<p>once an array is initialized, even when the size is zero, it will not be null, even if it is empty. but if you choose to declare an array reference, and then not initialize it, then it will be null.</p>\n"}],"owner":{"account_id":6176438,"reputation":23,"user_id":4813170,"display_name":"Hatz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2827,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1695451136,"creation_date":1429597453,"question_id":29764438,"body_markdown":"I have a few questions. I am working on a homework assignment but came across a few confusing things. (I am taking an introductory class, sorry for the mistakes.)\r\n\r\n&gt; Implement a class that takes an integer array and an  int x as its\r\n&gt; size. Create a method inside the class that creates a new array whose\r\n&gt; length is one greater than data’s length. Then create a method to copy\r\n&gt; all data’s elements into the new array and add the value of x into the\r\n&gt; last element of the array. Create a method to return all the integers\r\n&gt; in the new array.\r\n\r\nHere&#39;s what I have\r\n\r\n&lt;pre&gt;package taskone;\r\n\r\nimport java.util.*;\r\n\r\nclass Arrayplus1 {\r\n\r\n    int x;\r\n    int data[];\r\n    \r\n    void example(int x) {\r\n        this.x = x+1;\r\n        this.data= new int[x];\r\n    }\r\n\r\n    void increaseSizeOfArray(int incrementSize) {\r\n            int copiedArray[] = Arrays.copyOf(data, data.length + incrementSize);\r\n            data = copiedArray;\r\n        \r\n    }\r\n    \r\n    void printall() {\r\n        System.out.println(Arrays.toString(data));\r\n    }\r\n}\r\n\r\npublic class TaskOne {\r\n\r\n    public static void main(String[] args) {\r\n        example task = new example();\r\n        task.printall();\r\n    }\r\n\r\n}\r\n&lt;/pre&gt;\r\n\r\nThis simply returns null.\r\n\r\nMy question is the last bit of the task above. &quot;Create a method to return all the integers in the new array.&quot; \r\n\r\nHow is this possible when I did not include any elements in my array? I am trying to follow the assignment guidelines. Thanks.\r\n","title":"Printing an array with no elements?","body":"<p>I have a few questions. I am working on a homework assignment but came across a few confusing things. (I am taking an introductory class, sorry for the mistakes.)</p>\n\n<blockquote>\n  <p>Implement a class that takes an integer array and an  int x as its\n  size. Create a method inside the class that creates a new array whose\n  length is one greater than data’s length. Then create a method to copy\n  all data’s elements into the new array and add the value of x into the\n  last element of the array. Create a method to return all the integers\n  in the new array.</p>\n</blockquote>\n\n<p>Here's what I have</p>\n\n<pre>package taskone;\n\nimport java.util.*;\n\nclass Arrayplus1 {\n\n    int x;\n    int data[];\n\n    void example(int x) {\n        this.x = x+1;\n        this.data= new int[x];\n    }\n\n    void increaseSizeOfArray(int incrementSize) {\n            int copiedArray[] = Arrays.copyOf(data, data.length + incrementSize);\n            data = copiedArray;\n\n    }\n\n    void printall() {\n        System.out.println(Arrays.toString(data));\n    }\n}\n\npublic class TaskOne {\n\n    public static void main(String[] args) {\n        example task = new example();\n        task.printall();\n    }\n\n}\n</pre>\n\n<p>This simply returns null.</p>\n\n<p>My question is the last bit of the task above. \"Create a method to return all the integers in the new array.\" </p>\n\n<p>How is this possible when I did not include any elements in my array? I am trying to follow the assignment guidelines. Thanks.</p>\n"},{"tags":["java","gradle","javafx","module","dependencies"],"comments":[{"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"score":0,"creation_date":1695394113,"post_id":77156354,"comment_id":136022880,"body_markdown":"this solution worked for me. but isn&#39;t there any other method to solve this problem. I mean why this problem is actually happening and i want to know will be there any disadvantage to make a project non moduler? @jewelsea","body":"this solution worked for me. but isn&#39;t there any other method to solve this problem. I mean why this problem is actually happening and i want to know will be there any disadvantage to make a project non moduler? @jewelsea"},{"owner":{"account_id":4498992,"reputation":735,"user_id":3658055,"display_name":"Birdasaur"},"score":1,"creation_date":1695408695,"post_id":77156354,"comment_id":136025551,"body_markdown":"did you add the &quot;requires commons.math3;&quot; to your module-info.java?","body":"did you add the &quot;requires commons.math3;&quot; to your module-info.java?"},{"owner":{"account_id":4498992,"reputation":735,"user_id":3658055,"display_name":"Birdasaur"},"score":0,"creation_date":1695408866,"post_id":77156354,"comment_id":136025576,"body_markdown":"you may also have to export the commons packages explicitly in your gradle script: module(&#39;org.apache.commons:commons-math3&#39;, &#39;commons.math3&#39;) {\n        exportAllPackages()\n    }   example gradle script with apache math is here:  https://github.com/Birdasaur/Trinity/blob/main/build.gradle","body":"you may also have to export the commons packages explicitly in your gradle script: module(&#39;org.apache.commons:commons-math3&#39;, &#39;commons.math3&#39;) {         exportAllPackages()     }   example gradle script with apache math is here:  <a href=\"https://github.com/Birdasaur/Trinity/blob/main/build.gradle\" rel=\"nofollow noreferrer\">github.com/Birdasaur/Trinity/blob/main/build.gradle</a>"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1695450149,"creation_date":1695416954,"answer_id":77160687,"question_id":77156354,"body_markdown":"**Solution**\r\n\r\nMake your project non-modular (delete the `module-info.java`). \r\n\r\nIf you need more info on that, see the info on non-modular projects in the getting started instructions at [openjfx.io][1].  In particular, you will need to use VM options to place JavaFX modules on the module path as described in the openjfx.io instructions.\r\n\r\n**Related**\r\n\r\nYou are using POI and Java, so also refer to the question below, which describes issues using the automatic modules that POI depends on in a Gradle setup:\r\n\r\n * https://stackoverflow.com/questions/73984359/unable-to-launch-a-javafx-application-which-uses-apache-poi/73991163#73991163\r\n\r\nThis is in addition to the issue in your question title about commons.math3.  But the core of the issue is still pretty similar: commons math3 is also an automatic module.\r\n\r\n**FAQ**\r\n\r\nThis section is just explaining reasoning as requested in comments.  Some of the reasons are just opinions and are not core to the answer.\r\n\r\n&gt; why this problem is happening \r\n\r\n[Understand Java modules][2]. \r\n\r\nYou have modules (java modules, not maven or gradle modules) that are required by dependent modules in your system, but are not on the module path (probably they are only on the classpath). \r\n\r\nOne of those modules (SparseBitSet) is an [automatic module][3] (it doesn&#39;t have a module-info).  You don&#39;t directly have a dependency on SparseBitSet, but your error message indicates it is transitively required by one of your poi dependencies.\r\n\r\nSimilarly, the commons math libraries you are relying on are also automatic modules.\r\n\r\nI have limited experience with Gradle, but my experience is that Gradle places automatic modules on the classpath rather than the module path by default (you can override this through settings, but otherwise, as far as I know, that is how it works).\r\n\r\nRelying on automatic modules for a modular project to work is inadvisable IMO, hence the non-modular recommendation.\r\n\r\n&gt; will there be any disadvantage to making a project non-modular?\r\n\r\nYes.  \r\n\r\nHowever, in this case, I believe the advantages outweigh the disadvantages. Benefits will be few, and the disadvantages will be painful.\r\n\r\nDependencies that were not originally designed to be modular can usually be made to work in a modular environment, but not necessarily.  Numerous things can go wrong with them, including [split package issues][4].  \r\n\r\nIMO, it is more reliable to run software that wasn&#39;t built to be modular on the classpath rather than as modules.  Once you do that for some modules, you lose a lot of the benefits of using modules in the first place.  \r\n\r\nFor example:\r\n\r\n * you can&#39;t `jlink` automatic modules. `jlink` can only link modules with module-info.\r\n * jars loaded from the classpath lose some benefits of modular encapsulation.\r\n\r\nWhen you start to use automatic modules you have to suffer through the pain of using the module system (e.g. having to deal with the module accessibility issues you encountered in your question), while receiving few of the benefits.\r\n\r\nSome software is only designed to be used as a module.  That includes all of the modules in the base JDK system for recent JDK distributions as well as the JavaFX modules.  Getting the JDK modules on the module path is pretty simple as that happens automatically.  Getting the JavaFX modules on the module path is more complex (the process is documented at openjfx.io).  \r\n\r\nEven if your application may not be modular, it can still use modular software as modules, in the way they were intended to be used (you don&#39;t lose the ability to use modular software).\r\n\r\nIf you intend to write a library that is used by others and you want them to be able to use that as a module (e.g. to enforce hiding of private API from library users), then you should make your code modular (include a module-info.java).  But if you are writing an application for deployment, this is not a concern. \r\n\r\nThe ecosystem of Java software is large.  Unfortunately, many important libraries and frameworks are not fully modularized (do not have module-info.java defined for all jars).  That includes large influential frameworks like Spring 6.  Even the [most recent beta release of math commons 4][5] does not include a module-info.java. Often it is better to write non-modular applications when you rely on such non-modular software (IMO).\r\n\r\n\r\n  [1]: https://openjfx.io\r\n  [2]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html\r\n  [3]: https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\r\n  [4]: https://stackoverflow.com/questions/51828014/how-split-packages-are-avoided-in-java-9\r\n  [5]: https://github.com/apache/commons-math/tree/4.0-beta1-release/commons-math-core/src","title":"How to resolve commons.math3 not found error in JavaFx project?","body":"<p><strong>Solution</strong></p>\n<p>Make your project non-modular (delete the <code>module-info.java</code>).</p>\n<p>If you need more info on that, see the info on non-modular projects in the getting started instructions at <a href=\"https://openjfx.io\" rel=\"nofollow noreferrer\">openjfx.io</a>.  In particular, you will need to use VM options to place JavaFX modules on the module path as described in the openjfx.io instructions.</p>\n<p><strong>Related</strong></p>\n<p>You are using POI and Java, so also refer to the question below, which describes issues using the automatic modules that POI depends on in a Gradle setup:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/73984359/unable-to-launch-a-javafx-application-which-uses-apache-poi/73991163#73991163\">Unable to launch a JavaFX application which uses Apache POI</a></li>\n</ul>\n<p>This is in addition to the issue in your question title about commons.math3.  But the core of the issue is still pretty similar: commons math3 is also an automatic module.</p>\n<p><strong>FAQ</strong></p>\n<p>This section is just explaining reasoning as requested in comments.  Some of the reasons are just opinions and are not core to the answer.</p>\n<blockquote>\n<p>why this problem is happening</p>\n</blockquote>\n<p><a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">Understand Java modules</a>.</p>\n<p>You have modules (java modules, not maven or gradle modules) that are required by dependent modules in your system, but are not on the module path (probably they are only on the classpath).</p>\n<p>One of those modules (SparseBitSet) is an <a href=\"https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\">automatic module</a> (it doesn't have a module-info).  You don't directly have a dependency on SparseBitSet, but your error message indicates it is transitively required by one of your poi dependencies.</p>\n<p>Similarly, the commons math libraries you are relying on are also automatic modules.</p>\n<p>I have limited experience with Gradle, but my experience is that Gradle places automatic modules on the classpath rather than the module path by default (you can override this through settings, but otherwise, as far as I know, that is how it works).</p>\n<p>Relying on automatic modules for a modular project to work is inadvisable IMO, hence the non-modular recommendation.</p>\n<blockquote>\n<p>will there be any disadvantage to making a project non-modular?</p>\n</blockquote>\n<p>Yes.</p>\n<p>However, in this case, I believe the advantages outweigh the disadvantages. Benefits will be few, and the disadvantages will be painful.</p>\n<p>Dependencies that were not originally designed to be modular can usually be made to work in a modular environment, but not necessarily.  Numerous things can go wrong with them, including <a href=\"https://stackoverflow.com/questions/51828014/how-split-packages-are-avoided-in-java-9\">split package issues</a>.</p>\n<p>IMO, it is more reliable to run software that wasn't built to be modular on the classpath rather than as modules.  Once you do that for some modules, you lose a lot of the benefits of using modules in the first place.</p>\n<p>For example:</p>\n<ul>\n<li>you can't <code>jlink</code> automatic modules. <code>jlink</code> can only link modules with module-info.</li>\n<li>jars loaded from the classpath lose some benefits of modular encapsulation.</li>\n</ul>\n<p>When you start to use automatic modules you have to suffer through the pain of using the module system (e.g. having to deal with the module accessibility issues you encountered in your question), while receiving few of the benefits.</p>\n<p>Some software is only designed to be used as a module.  That includes all of the modules in the base JDK system for recent JDK distributions as well as the JavaFX modules.  Getting the JDK modules on the module path is pretty simple as that happens automatically.  Getting the JavaFX modules on the module path is more complex (the process is documented at openjfx.io).</p>\n<p>Even if your application may not be modular, it can still use modular software as modules, in the way they were intended to be used (you don't lose the ability to use modular software).</p>\n<p>If you intend to write a library that is used by others and you want them to be able to use that as a module (e.g. to enforce hiding of private API from library users), then you should make your code modular (include a module-info.java).  But if you are writing an application for deployment, this is not a concern.</p>\n<p>The ecosystem of Java software is large.  Unfortunately, many important libraries and frameworks are not fully modularized (do not have module-info.java defined for all jars).  That includes large influential frameworks like Spring 6.  Even the <a href=\"https://github.com/apache/commons-math/tree/4.0-beta1-release/commons-math-core/src\" rel=\"nofollow noreferrer\">most recent beta release of math commons 4</a> does not include a module-info.java. Often it is better to write non-modular applications when you rely on such non-modular software (IMO).</p>\n"}],"owner":{"account_id":24655164,"reputation":104,"user_id":18551908,"display_name":"AdnanArch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695450149,"creation_date":1695374536,"question_id":77156354,"body_markdown":"I am trying to make a javafx program that reads the data from the excel file. I have added the `poi` dependency in my project. \r\n\r\nhere is my `build.gradle` file code.\r\n\r\n    plugins {\r\n      id &#39;java&#39;\r\n      id &#39;application&#39;\r\n      id &#39;org.javamodularity.moduleplugin&#39; version &#39;1.8.12&#39;\r\n      id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n      id &#39;org.beryx.jlink&#39; version &#39;2.25.0&#39;\r\n    }\r\n    \r\n    group &#39;com&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n      mavenCentral()\r\n    }\r\n    \r\n    ext {\r\n      junitVersion = &#39;5.9.2&#39;\r\n    }\r\n    \r\n    sourceCompatibility = &#39;17&#39;\r\n    targetCompatibility = &#39;17&#39;\r\n    \r\n    tasks.withType(JavaCompile) {\r\n      options.encoding = &#39;UTF-8&#39;\r\n    }\r\n    \r\n    application {\r\n      mainModule = &#39;com.al_makkah_traders_app&#39;\r\n      mainClass = &#39;com.al_makkah_traders_app.Main&#39;\r\n    }\r\n    \r\n    javafx {\r\n      version = &#39;17.0.6&#39;\r\n      modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n    }\r\n    \r\n    \r\n    \r\n    dependencies {\r\n      implementation &#39;org.controlsfx:controlsfx:11.1.2&#39;\r\n      implementation &#39;org.apache.logging.log4j:log4j-core:3.0.0-alpha1&#39;\r\n      implementation &#39;org.apache.poi:poi:5.2.2&#39;\r\n      implementation &#39;org.apache.poi:poi-ooxml:5.2.2&#39;\r\n      implementation &#39;mysql:mysql-connector-java:8.0.33&#39;\r\n      testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n      testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n    }\r\n    \r\n    test {\r\n    useJUnitPlatform()}\r\n    \r\n    jlink {\r\n      imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\r\n      options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n      launcher {\r\n        name = &#39;app&#39;\r\n      }\r\n    }\r\n    \r\n    jlinkZip {\r\n      group = &#39;distribution&#39;\r\n    }\r\n    \r\n    jar {\r\n      duplicatesStrategy = &#39;EXCLUDE&#39;\r\n      manifest {\r\n        attributes(\r\n                &#39;Main-Class&#39;: &#39;com.al_makkah_traders_app.Main&#39;\r\n        )\r\n      }\r\n      from {\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n      }\r\n    }\r\n\r\nNow when i try to run my project it throws an error stating that\r\n\r\n    &gt; Task :Main.main() FAILED\r\n    Error occurred during initialization of boot layer\r\n    java.lang.module.FindException: Module commons.math3 not found, required by org.apache.poi.poi\r\n\r\nand sometimes it throws an error stating that \r\n\r\n    Error occurred during initialization of boot layer\r\n        java.lang.module.FindException: Module SparseBitSet not found, required by org.apache.poi.poi.ooxml\r\n\r\nI have been trying to solve this problem but i could not solve this problem. Although these modules exist in my project.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LuXL5.png","title":"How to resolve commons.math3 not found error in JavaFx project?","body":"<p>I am trying to make a javafx program that reads the data from the excel file. I have added the <code>poi</code> dependency in my project.</p>\n<p>here is my <code>build.gradle</code> file code.</p>\n<pre><code>plugins {\n  id 'java'\n  id 'application'\n  id 'org.javamodularity.moduleplugin' version '1.8.12'\n  id 'org.openjfx.javafxplugin' version '0.0.13'\n  id 'org.beryx.jlink' version '2.25.0'\n}\n\ngroup 'com'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n  mavenCentral()\n}\n\next {\n  junitVersion = '5.9.2'\n}\n\nsourceCompatibility = '17'\ntargetCompatibility = '17'\n\ntasks.withType(JavaCompile) {\n  options.encoding = 'UTF-8'\n}\n\napplication {\n  mainModule = 'com.al_makkah_traders_app'\n  mainClass = 'com.al_makkah_traders_app.Main'\n}\n\njavafx {\n  version = '17.0.6'\n  modules = ['javafx.controls', 'javafx.fxml']\n}\n\n\n\ndependencies {\n  implementation 'org.controlsfx:controlsfx:11.1.2'\n  implementation 'org.apache.logging.log4j:log4j-core:3.0.0-alpha1'\n  implementation 'org.apache.poi:poi:5.2.2'\n  implementation 'org.apache.poi:poi-ooxml:5.2.2'\n  implementation 'mysql:mysql-connector-java:8.0.33'\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n  testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n}\n\ntest {\nuseJUnitPlatform()}\n\njlink {\n  imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\n  options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n  launcher {\n    name = 'app'\n  }\n}\n\njlinkZip {\n  group = 'distribution'\n}\n\njar {\n  duplicatesStrategy = 'EXCLUDE'\n  manifest {\n    attributes(\n            'Main-Class': 'com.al_makkah_traders_app.Main'\n    )\n  }\n  from {\n    configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n  }\n}\n</code></pre>\n<p>Now when i try to run my project it throws an error stating that</p>\n<pre><code>&gt; Task :Main.main() FAILED\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module commons.math3 not found, required by org.apache.poi.poi\n</code></pre>\n<p>and sometimes it throws an error stating that</p>\n<pre><code>Error occurred during initialization of boot layer\n    java.lang.module.FindException: Module SparseBitSet not found, required by org.apache.poi.poi.ooxml\n</code></pre>\n<p>I have been trying to solve this problem but i could not solve this problem. Although these modules exist in my project.</p>\n<p><a href=\"https://i.stack.imgur.com/LuXL5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LuXL5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","service","process"],"owner":{"account_id":29042385,"reputation":1,"user_id":22246996,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695450028,"creation_date":1695420290,"question_id":77160884,"body_markdown":"I want to display a Toast message when the screen unlocks, saying &quot;screen is open.&quot; This functionality is currently working when the app is open, but I want it to run as a background service. This means that even when the app is closed or removed from recent tabs, it should still work when the screen unlocks, displaying the message that the screen is unlocked.\r\n\r\nPlease let me know if you need further assistance or if you have specific questions about implementing this functionality.\r\nHere is my MainActivity.java file\r\n\r\n```\r\npackage com.ached.dalima;\r\n\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private Button unlockButton;\r\n    private ScreenUnlockReceiver screenUnlockReceiver;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        unlockButton = findViewById(R.id.unlockButton);\r\n        Intent ServiceIntent = new Intent(this, ScreenUnlockService.class);\r\n        startService(ServiceIntent);\r\n\r\n        unlockButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // This is an example of handling a button click in your MainActivity\r\n                showToast(&quot;Unlock button clicked!&quot;);\r\n            }\r\n        });\r\n        screenUnlockReceiver = new ScreenUnlockReceiver();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        registerScreenUnlockReceiver();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        unregisterScreenUnlockReceiver();\r\n    }\r\n\r\n    private void showToast(String message) {\r\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\r\n    }\r\n    class ScreenUnlockReceiver extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_USER_PRESENT)) {\r\n                showToast(&quot;Screen is open!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void registerScreenUnlockReceiver() {\r\n        IntentFilter filter = new IntentFilter(Intent.ACTION_USER_PRESENT);\r\n        registerReceiver(screenUnlockReceiver, filter);\r\n    }\r\n\r\n    // Unregister the ScreenUnlockReceiver\r\n    private void unregisterScreenUnlockReceiver() {\r\n        unregisterReceiver(screenUnlockReceiver);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nBelow is ScreenUnlockService.java\r\n\r\n```\r\npackage com.ached.dalima;\r\n\r\nimport android.app.Notification;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.app.Service;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Handler;\r\nimport android.os.IBinder;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.core.app.NotificationCompat;\r\n\r\npublic class ScreenUnlockService extends Service {\r\n    private static final int NOTIFICATION_ID = 1;\r\n    private static final String CHANNEL_ID = &quot;Channel&quot;;\r\n    private Handler handler;\r\n    private ScreenUnlockReceiver screenUnlockReceiver;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n\r\n\r\n        screenUnlockReceiver = new ScreenUnlockReceiver();\r\n        handler = new Handler();\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n            createNotificationChannel();\r\n        }\r\n\r\n        Intent notificationIntent = new Intent(this, MainActivity.class);\r\n        Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\r\n                .setContentTitle(&quot;Audio Service&quot;)\r\n                .setContentText(&quot;Playing audio in the background&quot;)\r\n                .setSmallIcon(R.drawable.ic_notification)\r\n                .build();\r\n\r\n        startForeground(NOTIFICATION_ID, notification);\r\n\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    private void createNotificationChannel() {\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n            CharSequence name = getString(R.string.channel_name);\r\n            String description = getString(R.string.channel_description);\r\n            int importance = NotificationManager.IMPORTANCE_LOW;\r\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\r\n            channel.setDescription(description);\r\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\n    private void showToast(String message) {\r\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    class ScreenUnlockReceiver extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_USER_PRESENT)) {\r\n                showToast(&quot;Screen is open here!&quot;);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\nBelow is Receiver file \r\n\r\n```\r\npackage com.ached.dalima;\r\n\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\n\r\npublic class ScreenUnlockReceiver extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_USER_PRESENT)) {\r\n            // Screen unlock event detected\r\n            // You can perform actions here when the screen is unlocked.\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nBelow is manifest file \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.ached.dalima&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n\r\n    &lt;application\r\n\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.DaLima&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;receiver\r\n            android:name=&quot;.ScreenUnlockReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.USER_PRESENT&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.AudioService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;service\r\n            android:name=&quot;.ScreenUnlockService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n\r\n```\r\n\r\n***The issue is that I want the app to run in the background and display Toast messages even after it&#39;s removed from the recent apps list.***","title":"Run Services in Background Android New Versions?","body":"<p>I want to display a Toast message when the screen unlocks, saying &quot;screen is open.&quot; This functionality is currently working when the app is open, but I want it to run as a background service. This means that even when the app is closed or removed from recent tabs, it should still work when the screen unlocks, displaying the message that the screen is unlocked.</p>\n<p>Please let me know if you need further assistance or if you have specific questions about implementing this functionality.\nHere is my MainActivity.java file</p>\n<pre><code>package com.ached.dalima;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private Button unlockButton;\n    private ScreenUnlockReceiver screenUnlockReceiver;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        unlockButton = findViewById(R.id.unlockButton);\n        Intent ServiceIntent = new Intent(this, ScreenUnlockService.class);\n        startService(ServiceIntent);\n\n        unlockButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // This is an example of handling a button click in your MainActivity\n                showToast(&quot;Unlock button clicked!&quot;);\n            }\n        });\n        screenUnlockReceiver = new ScreenUnlockReceiver();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        registerScreenUnlockReceiver();\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        unregisterScreenUnlockReceiver();\n    }\n\n    private void showToast(String message) {\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\n    }\n    class ScreenUnlockReceiver extends BroadcastReceiver {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_USER_PRESENT)) {\n                showToast(&quot;Screen is open!&quot;);\n            }\n        }\n    }\n\n    private void registerScreenUnlockReceiver() {\n        IntentFilter filter = new IntentFilter(Intent.ACTION_USER_PRESENT);\n        registerReceiver(screenUnlockReceiver, filter);\n    }\n\n    // Unregister the ScreenUnlockReceiver\n    private void unregisterScreenUnlockReceiver() {\n        unregisterReceiver(screenUnlockReceiver);\n    }\n}\n\n\n</code></pre>\n<p>Below is ScreenUnlockService.java</p>\n<pre><code>package com.ached.dalima;\n\nimport android.app.Notification;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.app.Service;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Handler;\nimport android.os.IBinder;\nimport android.widget.Toast;\n\nimport androidx.core.app.NotificationCompat;\n\npublic class ScreenUnlockService extends Service {\n    private static final int NOTIFICATION_ID = 1;\n    private static final String CHANNEL_ID = &quot;Channel&quot;;\n    private Handler handler;\n    private ScreenUnlockReceiver screenUnlockReceiver;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n\n        screenUnlockReceiver = new ScreenUnlockReceiver();\n        handler = new Handler();\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            createNotificationChannel();\n        }\n\n        Intent notificationIntent = new Intent(this, MainActivity.class);\n        Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)\n                .setContentTitle(&quot;Audio Service&quot;)\n                .setContentText(&quot;Playing audio in the background&quot;)\n                .setSmallIcon(R.drawable.ic_notification)\n                .build();\n\n        startForeground(NOTIFICATION_ID, notification);\n\n        return START_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    private void createNotificationChannel() {\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            CharSequence name = getString(R.string.channel_name);\n            String description = getString(R.string.channel_description);\n            int importance = NotificationManager.IMPORTANCE_LOW;\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, name, importance);\n            channel.setDescription(description);\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\n            notificationManager.createNotificationChannel(channel);\n        }\n    }\n\n    private void showToast(String message) {\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\n    }\n\n    class ScreenUnlockReceiver extends BroadcastReceiver {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_USER_PRESENT)) {\n                showToast(&quot;Screen is open here!&quot;);\n\n            }\n        }\n    }\n\n}\n\n</code></pre>\n<p>Below is Receiver file</p>\n<pre><code>package com.ached.dalima;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\n\npublic class ScreenUnlockReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (intent.getAction() != null &amp;&amp; intent.getAction().equals(Intent.ACTION_USER_PRESENT)) {\n            // Screen unlock event detected\n            // You can perform actions here when the screen is unlocked.\n        }\n    }\n}\n\n</code></pre>\n<p>Below is manifest file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.ached.dalima&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n\n    &lt;application\n\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.DaLima&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;receiver\n            android:name=&quot;.ScreenUnlockReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.USER_PRESENT&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;service\n            android:name=&quot;.AudioService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;service\n            android:name=&quot;.ScreenUnlockService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n\n</code></pre>\n<p><em><strong>The issue is that I want the app to run in the background and display Toast messages even after it's removed from the recent apps list.</strong></em></p>\n"},{"tags":["java","mysql","datetime","resultset"],"answers":[{"tags":[],"owner":{"account_id":465422,"reputation":3287,"user_id":869488,"accept_rate":32,"display_name":"rajesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1364982719,"creation_date":1364982719,"answer_id":15784134,"question_id":15784069,"body_markdown":"You can use [ResultSet.getTimeStamp()](http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html#getTimestamp(int))","title":"getDateTime from ResultSet java","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html#getTimestamp%28int%29\" rel=\"nofollow\">ResultSet.getTimeStamp()</a></p>\n"},{"comments":[{"owner":{"account_id":3850353,"reputation":422,"user_id":3190699,"accept_rate":50,"display_name":"Saiteja Parsi"},"score":3,"creation_date":1597695225,"post_id":15784274,"comment_id":112212605,"body_markdown":"`getTimestamp ` is `Timestamp` but the field is `DateTime`, which is throwing compilation error","body":"<code>getTimestamp </code> is <code>Timestamp</code> but the field is <code>DateTime</code>, which is throwing compilation error"},{"owner":{"account_id":2183664,"reputation":164,"user_id":1932579,"accept_rate":75,"display_name":"StuckOnSimpleThings"},"score":0,"creation_date":1621108511,"post_id":15784274,"comment_id":119397918,"body_markdown":"Timestamp ts1 = rs.getTimestamp(String columnLabel);   \nDateTime dt1 = new DateTime(ts1);  \nyou may have to mess with timezone though if you do that, so check your times.  \n DateTime dt1 = new DateTime(ts1,DateTimeZone.UTC);","body":"Timestamp ts1 = rs.getTimestamp(String columnLabel);    DateTime dt1 = new DateTime(ts1);   you may have to mess with timezone though if you do that, so check your times.    DateTime dt1 = new DateTime(ts1,DateTimeZone.UTC);"}],"tags":[],"owner":{"account_id":1616803,"reputation":1643,"user_id":1494265,"display_name":"tmwanik"},"comment_count":2,"down_vote_count":2,"up_vote_count":23,"is_accepted":true,"score":21,"last_activity_date":1364983091,"creation_date":1364983091,"answer_id":15784274,"question_id":15784069,"body_markdown":"Using `getDate()` only returns a `Date`, so in your case if you want both date and time use `getTimestamp(String columnLabel)` - That should work, also replace `String columnLabel` with the actual column name in the database.","title":"getDateTime from ResultSet java","body":"<p>Using <code>getDate()</code> only returns a <code>Date</code>, so in your case if you want both date and time use <code>getTimestamp(String columnLabel)</code> - That should work, also replace <code>String columnLabel</code> with the actual column name in the database.</p>\n"},{"comments":[{"owner":{"account_id":1434422,"reputation":20424,"user_id":1356127,"accept_rate":80,"display_name":"veer7"},"score":1,"creation_date":1555338114,"post_id":21860779,"comment_id":98065401,"body_markdown":"`getDate()` doesn&#39;t give you the `time` part. This is not the best if you want the `time` part of the `mysql datetime`.","body":"<code>getDate()</code> doesn&#39;t give you the <code>time</code> part. This is not the best if you want the <code>time</code> part of the <code>mysql datetime</code>."}],"tags":[],"owner":{"account_id":186596,"reputation":156,"user_id":424099,"display_name":"Silvan"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1392743721,"creation_date":1392743721,"answer_id":21860779,"question_id":15784069,"body_markdown":"Or with a typecast from date to string:\r\n\r\n`resultSet.getDate(1).toString());`\r\n\r\nwill return:\r\n\r\n`2014-02-18`\r\n\r\nDB field data: &quot;2014-02-18 00:00:00.000&quot;\r\n\r\n","title":"getDateTime from ResultSet java","body":"<p>Or with a typecast from date to string:</p>\n\n<p><code>resultSet.getDate(1).toString());</code></p>\n\n<p>will return:</p>\n\n<p><code>2014-02-18</code></p>\n\n<p>DB field data: \"2014-02-18 00:00:00.000\"</p>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695449774,"creation_date":1578996827,"answer_id":59731636,"question_id":15784069,"body_markdown":"\r\n\r\n&gt; Converting `java.sql.Timestamp` to `java.util.Date`.\r\n```lang-java\r\njava.util.Date date = rs.getDate(index_position); // O/P: DD:MM:YYYY\r\n\r\njava.sql.Timestamp timestamp = rs.getTimestamp(index_position); // O/P: DD:MM:YYYY HH:mm:ss\r\njava.util.Date date = new java.util.Date(timestamp.getTime());\r\n```\r\n\r\nIf you timestamp to date and convert it to `java.sql.Timestamp` then it results to `DD:MM:YYYY 00:00:00` as the date will not cover time. So, it picks default as `00:00:00`.\r\n\r\n```lang-none\r\nSQL TimeStamp  : 30.12.2020 13.40.50\r\nJava TimeStamp : 30.12.2020 13.40.50\r\n\r\nSQL TimeStamp  : 30.12.2020 13.40.50\r\nJava Date      : 30.12.2020 00.00.00\r\nJava TimeStamp : 30.12.2020 00.00.00\r\n```\r\n\r\nExample to get records based on [`ResultSetMetaData`](https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSetMetaData.html) for CSV Report:\r\n```lang-java\r\npublic static void getTestTable(Connection con) throws SQLException {\r\n\tString sql = &quot;select ID, INSERTDATE, TO_CHAR(INSERTTIME,&#39;DD.MM.YYYY HH24:MI:SS&#39;) as String_Time, INSERTTIME, MSG from TEST_TABLE group by ID, INSERTDATE, INSERTTIME, MSG&quot;;\r\n\tStatement stmt = con.createStatement();\r\n\tResultSet rs = stmt.executeQuery(sql);\r\n\tif (rs != null) {\r\n\t\tResultSetMetaData resultSetMetaData = rs.getMetaData();\r\n\t\tint noOfColumns = resultSetMetaData.getColumnCount(); // For iteration\r\n\t\tSystem.out.println(&quot;No of Cloumns Query Returns: &quot;+ noOfColumns);\r\n\t\tHashMap&lt;String, ArrayList&lt;?&gt;&gt; matrixTable = getMatrixMetadata(resultSetMetaData);\r\n\t\tSystem.out.println(&quot;MatrixTable: &quot;+matrixTable);\r\n\t\tArrayList&lt;String&gt; dataTypeList = (ArrayList&lt;String&gt;) matrixTable.get(&quot;ColumnTypeName&quot;);\r\n\t\tint rowCount = 0;\r\n\t\twhile (rs.next()) { // CSV Report\r\n\t\t\tfor (int columnIndex = 1; columnIndex &lt;= noOfColumns; columnIndex++) {\r\n\t\t\t\t// int id = rs.getInt(&quot;ID&quot;);\r\n\t\t\t\tString value = getMatrixValue(rs, dataTypeList, columnIndex);\r\n\t\t\t\tSystem.out.print(value);\r\n\t\t\t\tif (columnIndex &lt; noOfColumns) {\r\n\t\t\t\t\tSystem.out.print(&quot;,&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\trowCount++;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Result FetchSize(Total Columns):&quot;+rs.getFetchSize()+&quot; = Rows*Columns:[&quot;+rowCount+&quot;*&quot;+noOfColumns+&quot;]&quot;);\t\r\n\t}\r\n}\r\nstatic HashMap&lt;String, ArrayList&lt;?&gt;&gt; getMatrixMetadata(ResultSetMetaData meta) throws SQLException {\r\n\tint columnsCount = meta.getColumnCount();\r\n\tArrayList&lt;String&gt; columnList = new ArrayList&lt;String&gt;();\r\n\tArrayList&lt;String&gt; dataTypeNameList = new ArrayList&lt;String&gt;();\r\n\tArrayList&lt;Integer&gt; dataTypeIdList = new ArrayList&lt;Integer&gt;();\r\n\tHashMap&lt;String, ArrayList&lt;?&gt;&gt; returnHashMap = new HashMap&lt;String, ArrayList&lt;?&gt;&gt;();\r\n\tfor (int i = 1; i &lt;= columnsCount; i++) {\r\n\t\tcolumnList.add(meta.getColumnName(i));\r\n\t\tdataTypeIdList.add(Integer.valueOf(meta.getColumnType(i)));\r\n\t\tdataTypeNameList.add(meta.getColumnTypeName(i));\r\n\t}\r\n\treturnHashMap.put(&quot;ColumnName&quot;, columnList);\r\n\treturnHashMap.put(&quot;ColumnTypeId&quot;, dataTypeIdList);\r\n\treturnHashMap.put(&quot;ColumnTypeName&quot;, dataTypeNameList);\r\n\treturn returnHashMap;\r\n}\r\nstatic DecimalFormat DECIMAL_FORMAT = (DecimalFormat) NumberFormat.getInstance(Locale.ENGLISH);\r\nstatic { // https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\r\n\tDECIMAL_FORMAT.applyPattern(&quot;######.###&quot;); // &quot;#,#00.0#&quot; → 1,234.56 \r\n}\r\npublic static String getMatrixValue(ResultSet rs, ArrayList&lt;String&gt; dataTypeNameList, int pos) throws SQLException {\r\n\tString retval;\r\n\tString columnTypeName = dataTypeNameList.get(pos - 1);\r\n\t//int type = dataTypeIdList.get(pos - 1);\r\n\t//if (type == Types.DECIMAL || type == Types.DOUBLE || type == Types.FLOAT || type == Types.NUMERIC || type == Types.REAL) {\r\n\tif (columnTypeName.equalsIgnoreCase(&quot;NUMBER&quot;)) {\r\n\t\tdouble doubleValue = rs.getDouble(pos);\r\n\t\tif (rs.wasNull()) {\r\n\t\t\tretval = null;\r\n\t\t} else {\r\n\t\t\tretval = &quot;[N]&quot;+DECIMAL_FORMAT.format(doubleValue);\r\n\t\t}\r\n\t} else if (columnTypeName.equalsIgnoreCase(&quot;DATE&quot;)) {\r\n\t\tjava.util.Date date = rs.getDate(pos);\r\n\t\tif (rs.wasNull()) { // Checks last column read had a value of SQL NULL.\r\n\t\t\tretval = null;\r\n\t\t} else {\r\n\t\t\tretval = &quot;[D]&quot;+formatDate(date, &quot;dd.MM.yy&quot;);\r\n\t\t}\r\n\t} else if (columnTypeName.equalsIgnoreCase(&quot;TIMESTAMP&quot;)) {\r\n\t\tjava.sql.Timestamp timestamp = rs.getTimestamp(pos);\r\n\t\tif (rs.wasNull()) {\r\n\t\t\tretval = null;\r\n\t\t} else {\r\n\t\t\tjava.util.Date date = new java.util.Date(timestamp.getTime());\r\n\t\t\tretval = &quot;[T]&quot;+formatDate(date, &quot;dd.MM.yyyy HH:mm&quot;);\r\n\t\t}\r\n\t} else { // VARCHAR2\r\n\t\tretval = &quot;[S]&quot;+rs.getString(pos);\r\n\t}\r\n\treturn retval;\r\n}\r\npublic static String formatDate(Date aDate, String formatStr) {\r\n\tDateFormat dateFormat = new SimpleDateFormat( formatStr );\r\n\t//dateFormat.setCalendar(Calendar.getInstance(TimeZone.getTimeZone(&quot;IST&quot;)));\r\n\treturn dateFormat.format(aDate);\r\n}\r\n```\r\n\r\n```lang-none\r\nNo of Cloumns Query Returns: 5\r\nMatrixTable: {ColumnName=[ID, INSERTDATE, STRING_TIME, INSERTTIME, MSG], ColumnTypeId=[2, 93, 12, 93, 12], ColumnTypeName=[NUMBER, DATE, VARCHAR2, TIMESTAMP, VARCHAR2]}\r\n[N]1,[D]30.12.20,[S]30.12.2020 00:40:50,[T]30.12.2020 00:40,[S]Insert1\r\n[N]2,[D]30.12.20,[S]30.12.2020 13:40:50,[T]30.12.2020 13:40,[S]Insert2\r\nResult FetchSize(Total Columns):10 = Rows*Columns:[2*5]\r\n```\r\n\r\nSQL queries involved are for Table creation and multi record insertion: &lt;sup&gt;[Oracle Multi insert](https://stackoverflow.com/a/59580311/5081877)&lt;/sup&gt;\r\n\r\n```lang-sql\r\nCREATE TABLE SCHEMA7.TEST_TABLE \r\n(\r\n    &quot;ID&quot; NUMBER, \r\n    &quot;INSERTDATE&quot; DATE, \r\n    &quot;INSERTTIME&quot; TIMESTAMP (6), \r\n    &quot;MSG&quot; VARCHAR2(120 BYTE) \r\n);\r\n\r\nINSERT INTO SCHEMA7.TEST_TABLE (ID, INSERTDATE, INSERTTIME, MSG) VALUES (&#39;1&#39;, TO_DATE(&#39;30-DEC-2020&#39;, &#39;DD-MON-RR&#39;), TO_TIMESTAMP(&#39;30-DEC-2020 12.40.50.00 AM&#39;, &#39;DD-MON-RR HH.MI.SS.FF AM&#39;), &#39;Insert1&#39;);\r\nINSERT INTO SCHEMA7.TEST_TABLE  (ID, INSERTDATE, INSERTTIME, MSG) VALUES (&#39;2&#39;, TO_DATE(&#39;30.12.2020&#39;, &#39;DD.MM.YYYY&#39;), TO_TIMESTAMP(&#39;30.12.2020 13.40.50&#39;,&#39;dd.mm.yyyy hh24.mi.ss&#39;), &#39;Insert2&#39;);\r\n```","title":"getDateTime from ResultSet java","body":"<blockquote>\n<p>Converting <code>java.sql.Timestamp</code> to <code>java.util.Date</code>.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.Date date = rs.getDate(index_position); // O/P: DD:MM:YYYY\n\njava.sql.Timestamp timestamp = rs.getTimestamp(index_position); // O/P: DD:MM:YYYY HH:mm:ss\njava.util.Date date = new java.util.Date(timestamp.getTime());\n</code></pre>\n<p>If you timestamp to date and convert it to <code>java.sql.Timestamp</code> then it results to <code>DD:MM:YYYY 00:00:00</code> as the date will not cover time. So, it picks default as <code>00:00:00</code>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>SQL TimeStamp  : 30.12.2020 13.40.50\nJava TimeStamp : 30.12.2020 13.40.50\n\nSQL TimeStamp  : 30.12.2020 13.40.50\nJava Date      : 30.12.2020 00.00.00\nJava TimeStamp : 30.12.2020 00.00.00\n</code></pre>\n<p>Example to get records based on <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSetMetaData.html\" rel=\"nofollow noreferrer\"><code>ResultSetMetaData</code></a> for CSV Report:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void getTestTable(Connection con) throws SQLException {\n    String sql = &quot;select ID, INSERTDATE, TO_CHAR(INSERTTIME,'DD.MM.YYYY HH24:MI:SS') as String_Time, INSERTTIME, MSG from TEST_TABLE group by ID, INSERTDATE, INSERTTIME, MSG&quot;;\n    Statement stmt = con.createStatement();\n    ResultSet rs = stmt.executeQuery(sql);\n    if (rs != null) {\n        ResultSetMetaData resultSetMetaData = rs.getMetaData();\n        int noOfColumns = resultSetMetaData.getColumnCount(); // For iteration\n        System.out.println(&quot;No of Cloumns Query Returns: &quot;+ noOfColumns);\n        HashMap&lt;String, ArrayList&lt;?&gt;&gt; matrixTable = getMatrixMetadata(resultSetMetaData);\n        System.out.println(&quot;MatrixTable: &quot;+matrixTable);\n        ArrayList&lt;String&gt; dataTypeList = (ArrayList&lt;String&gt;) matrixTable.get(&quot;ColumnTypeName&quot;);\n        int rowCount = 0;\n        while (rs.next()) { // CSV Report\n            for (int columnIndex = 1; columnIndex &lt;= noOfColumns; columnIndex++) {\n                // int id = rs.getInt(&quot;ID&quot;);\n                String value = getMatrixValue(rs, dataTypeList, columnIndex);\n                System.out.print(value);\n                if (columnIndex &lt; noOfColumns) {\n                    System.out.print(&quot;,&quot;);\n                }\n            }\n            System.out.println();\n            rowCount++;\n        }\n        System.out.println(&quot;Result FetchSize(Total Columns):&quot;+rs.getFetchSize()+&quot; = Rows*Columns:[&quot;+rowCount+&quot;*&quot;+noOfColumns+&quot;]&quot;);  \n    }\n}\nstatic HashMap&lt;String, ArrayList&lt;?&gt;&gt; getMatrixMetadata(ResultSetMetaData meta) throws SQLException {\n    int columnsCount = meta.getColumnCount();\n    ArrayList&lt;String&gt; columnList = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; dataTypeNameList = new ArrayList&lt;String&gt;();\n    ArrayList&lt;Integer&gt; dataTypeIdList = new ArrayList&lt;Integer&gt;();\n    HashMap&lt;String, ArrayList&lt;?&gt;&gt; returnHashMap = new HashMap&lt;String, ArrayList&lt;?&gt;&gt;();\n    for (int i = 1; i &lt;= columnsCount; i++) {\n        columnList.add(meta.getColumnName(i));\n        dataTypeIdList.add(Integer.valueOf(meta.getColumnType(i)));\n        dataTypeNameList.add(meta.getColumnTypeName(i));\n    }\n    returnHashMap.put(&quot;ColumnName&quot;, columnList);\n    returnHashMap.put(&quot;ColumnTypeId&quot;, dataTypeIdList);\n    returnHashMap.put(&quot;ColumnTypeName&quot;, dataTypeNameList);\n    return returnHashMap;\n}\nstatic DecimalFormat DECIMAL_FORMAT = (DecimalFormat) NumberFormat.getInstance(Locale.ENGLISH);\nstatic { // https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\n    DECIMAL_FORMAT.applyPattern(&quot;######.###&quot;); // &quot;#,#00.0#&quot; → 1,234.56 \n}\npublic static String getMatrixValue(ResultSet rs, ArrayList&lt;String&gt; dataTypeNameList, int pos) throws SQLException {\n    String retval;\n    String columnTypeName = dataTypeNameList.get(pos - 1);\n    //int type = dataTypeIdList.get(pos - 1);\n    //if (type == Types.DECIMAL || type == Types.DOUBLE || type == Types.FLOAT || type == Types.NUMERIC || type == Types.REAL) {\n    if (columnTypeName.equalsIgnoreCase(&quot;NUMBER&quot;)) {\n        double doubleValue = rs.getDouble(pos);\n        if (rs.wasNull()) {\n            retval = null;\n        } else {\n            retval = &quot;[N]&quot;+DECIMAL_FORMAT.format(doubleValue);\n        }\n    } else if (columnTypeName.equalsIgnoreCase(&quot;DATE&quot;)) {\n        java.util.Date date = rs.getDate(pos);\n        if (rs.wasNull()) { // Checks last column read had a value of SQL NULL.\n            retval = null;\n        } else {\n            retval = &quot;[D]&quot;+formatDate(date, &quot;dd.MM.yy&quot;);\n        }\n    } else if (columnTypeName.equalsIgnoreCase(&quot;TIMESTAMP&quot;)) {\n        java.sql.Timestamp timestamp = rs.getTimestamp(pos);\n        if (rs.wasNull()) {\n            retval = null;\n        } else {\n            java.util.Date date = new java.util.Date(timestamp.getTime());\n            retval = &quot;[T]&quot;+formatDate(date, &quot;dd.MM.yyyy HH:mm&quot;);\n        }\n    } else { // VARCHAR2\n        retval = &quot;[S]&quot;+rs.getString(pos);\n    }\n    return retval;\n}\npublic static String formatDate(Date aDate, String formatStr) {\n    DateFormat dateFormat = new SimpleDateFormat( formatStr );\n    //dateFormat.setCalendar(Calendar.getInstance(TimeZone.getTimeZone(&quot;IST&quot;)));\n    return dateFormat.format(aDate);\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>No of Cloumns Query Returns: 5\nMatrixTable: {ColumnName=[ID, INSERTDATE, STRING_TIME, INSERTTIME, MSG], ColumnTypeId=[2, 93, 12, 93, 12], ColumnTypeName=[NUMBER, DATE, VARCHAR2, TIMESTAMP, VARCHAR2]}\n[N]1,[D]30.12.20,[S]30.12.2020 00:40:50,[T]30.12.2020 00:40,[S]Insert1\n[N]2,[D]30.12.20,[S]30.12.2020 13:40:50,[T]30.12.2020 13:40,[S]Insert2\nResult FetchSize(Total Columns):10 = Rows*Columns:[2*5]\n</code></pre>\n<p>SQL queries involved are for Table creation and multi record insertion: <sup><a href=\"https://stackoverflow.com/a/59580311/5081877\">Oracle Multi insert</a></sup></p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE SCHEMA7.TEST_TABLE \n(\n    &quot;ID&quot; NUMBER, \n    &quot;INSERTDATE&quot; DATE, \n    &quot;INSERTTIME&quot; TIMESTAMP (6), \n    &quot;MSG&quot; VARCHAR2(120 BYTE) \n);\n\nINSERT INTO SCHEMA7.TEST_TABLE (ID, INSERTDATE, INSERTTIME, MSG) VALUES ('1', TO_DATE('30-DEC-2020', 'DD-MON-RR'), TO_TIMESTAMP('30-DEC-2020 12.40.50.00 AM', 'DD-MON-RR HH.MI.SS.FF AM'), 'Insert1');\nINSERT INTO SCHEMA7.TEST_TABLE  (ID, INSERTDATE, INSERTTIME, MSG) VALUES ('2', TO_DATE('30.12.2020', 'DD.MM.YYYY'), TO_TIMESTAMP('30.12.2020 13.40.50','dd.mm.yyyy hh24.mi.ss'), 'Insert2');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579071791,"creation_date":1579071113,"answer_id":59746376,"question_id":15784069,"body_markdown":"## Prefer timestamp over datetime in MySQL\r\n\r\nFirst, if the datetime in your database is to represent a point in time, use the `timestamp` datatype in MySQL for that, not `datetime`. A `datetime` is open for interpretation into any time zone the reader or the program reading it happens to use. This can lead to errors that are hard to debug. The `timestamp` datatype behaves differently in various RDBMSs. In MySQL it makes sure that dates and times are in UTC, thus excluding faulty interpretation into any other time zone. It’s safer. If the dates and times are a little harder for users in your own time zone to read in the database, it’s worth it.\r\n\r\n## java.time\r\n\r\n\t\tPreparedStatement ps = yourDatabaseConnection.prepareStatement(&quot;select your_datetime_col from your_table;&quot;);\r\n\t\ttry (ResultSet rs = ps.executeQuery()) {\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\tOffsetDateTime dateTime = rs.getObject(&quot;your_datetime_col&quot;, OffsetDateTime.class);\r\n\t\t\t\t// do something with dateTime\r\n\t\t\t}\r\n\t\t}\r\n\r\nUse `ResultSet.getObject()` for retrieving date and time from the database into a type from java.time, the modern Java date and time API. The classes `java.sql.Timestamp`, `java.sql.Date`and `java.util.Date` mentioned or implied in the question and the other answers are all poorly designed and long outdated, so I recommend the modern API instead. It requires a JDBC 4.2 compliant driver. Most of us have that, and one has been out for MySQL for very many years. SO I expect that you are fine.\r\n\r\nIf you cannot change the datatype in MySQL, use `LocalDateTime` in Java for retrieving values from your `datatime` column. It goes in the same way as in the code above.\r\n\r\n## To answer your concrete question\r\n\r\n&gt; Should I use `getDate()` or wouldn&#39;t that work?\r\n\r\nNo it would not. `getDate()` gives you a `java.sql.Date` holding only the date part from the database, the time of day part will be missing. As I said, `java.sql.Date` is also poorly designed — a true hack on top of the already poorly designed `java.util.Date` — so you shouldn’t want that anyway.\r\n\r\n## Links\r\n\r\n - [Java Best Practice for Date Manipulation/Storage for Geographically Diverse Users](https://stackoverflow.com/questions/40075780/java-best-practice-for-date-manipulation-storage-for-geographically-diverse-user)\r\n - [My answer to Getting the date from a ResultSet for use with java.time classes](https://stackoverflow.com/a/54907501/5772882)\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n\r\n","title":"getDateTime from ResultSet java","body":"<h2>Prefer timestamp over datetime in MySQL</h2>\n\n<p>First, if the datetime in your database is to represent a point in time, use the <code>timestamp</code> datatype in MySQL for that, not <code>datetime</code>. A <code>datetime</code> is open for interpretation into any time zone the reader or the program reading it happens to use. This can lead to errors that are hard to debug. The <code>timestamp</code> datatype behaves differently in various RDBMSs. In MySQL it makes sure that dates and times are in UTC, thus excluding faulty interpretation into any other time zone. It’s safer. If the dates and times are a little harder for users in your own time zone to read in the database, it’s worth it.</p>\n\n<h2>java.time</h2>\n\n<pre><code>    PreparedStatement ps = yourDatabaseConnection.prepareStatement(\"select your_datetime_col from your_table;\");\n    try (ResultSet rs = ps.executeQuery()) {\n        while (rs.next()) {\n            OffsetDateTime dateTime = rs.getObject(\"your_datetime_col\", OffsetDateTime.class);\n            // do something with dateTime\n        }\n    }\n</code></pre>\n\n<p>Use <code>ResultSet.getObject()</code> for retrieving date and time from the database into a type from java.time, the modern Java date and time API. The classes <code>java.sql.Timestamp</code>, <code>java.sql.Date</code>and <code>java.util.Date</code> mentioned or implied in the question and the other answers are all poorly designed and long outdated, so I recommend the modern API instead. It requires a JDBC 4.2 compliant driver. Most of us have that, and one has been out for MySQL for very many years. SO I expect that you are fine.</p>\n\n<p>If you cannot change the datatype in MySQL, use <code>LocalDateTime</code> in Java for retrieving values from your <code>datatime</code> column. It goes in the same way as in the code above.</p>\n\n<h2>To answer your concrete question</h2>\n\n<blockquote>\n  <p>Should I use <code>getDate()</code> or wouldn't that work?</p>\n</blockquote>\n\n<p>No it would not. <code>getDate()</code> gives you a <code>java.sql.Date</code> holding only the date part from the database, the time of day part will be missing. As I said, <code>java.sql.Date</code> is also poorly designed — a true hack on top of the already poorly designed <code>java.util.Date</code> — so you shouldn’t want that anyway.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40075780/java-best-practice-for-date-manipulation-storage-for-geographically-diverse-user\">Java Best Practice for Date Manipulation/Storage for Geographically Diverse Users</a></li>\n<li><a href=\"https://stackoverflow.com/a/54907501/5772882\">My answer to Getting the date from a ResultSet for use with java.time classes</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16671486,"reputation":53,"user_id":12048805,"display_name":"EverCpp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667830215,"creation_date":1667830215,"answer_id":74347942,"question_id":15784069,"body_markdown":"I am using this:\r\n\r\n    public static Date getDate(ResultSet rs, int col, Date def)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tTimestamp ts = rs.getTimestamp(col, Calendar.getInstance());\r\n\t\t\tif(!rs.wasNull())\r\n\t\t\t{\r\n\t\t\t\treturn  new Date(ts.toInstant().toEpochMilli());\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn def;\r\n\t}","title":"getDateTime from ResultSet java","body":"<p>I am using this:</p>\n<pre><code>public static Date getDate(ResultSet rs, int col, Date def)\n{\n    try\n    {\n        Timestamp ts = rs.getTimestamp(col, Calendar.getInstance());\n        if(!rs.wasNull())\n        {\n            return  new Date(ts.toInstant().toEpochMilli());\n        }\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n    return def;\n}\n</code></pre>\n"}],"owner":{"account_id":246102,"reputation":617,"user_id":520020,"accept_rate":100,"display_name":"Luc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49076,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":15784274,"answer_count":6,"score":16,"last_activity_date":1695449774,"creation_date":1364982538,"question_id":15784069,"body_markdown":"I have two columns which store DateTime values in a MySql database,\r\n\r\nWhen I try to get them from a ResultSet in Java there is no option: \r\n`getDateTime()`\r\n\r\nShould I use `getDate()` or wouldn&#39;t that work?\r\n\r\nThanks in advance","title":"getDateTime from ResultSet java","body":"<p>I have two columns which store DateTime values in a MySql database,</p>\n\n<p>When I try to get them from a ResultSet in Java there is no option: \n<code>getDateTime()</code></p>\n\n<p>Should I use <code>getDate()</code> or wouldn't that work?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":293739,"reputation":2461,"user_id":597222,"accept_rate":92,"display_name":"zdenda.online"},"score":0,"creation_date":1444840561,"post_id":33129634,"comment_id":54073456,"body_markdown":"Is dropped the body that goes to deleteToEe method or is it present for all cases (CURL, controller...)?","body":"Is dropped the body that goes to deleteToEe method or is it present for all cases (CURL, controller...)?"},{"owner":{"account_id":4048506,"reputation":2759,"user_id":3328979,"accept_rate":78,"display_name":"Arashsoft"},"score":0,"creation_date":1518468270,"post_id":33129634,"comment_id":84511297,"body_markdown":"Passing Request Body in DELETE methods is support from version 3.0.5 https://jira.spring.io/browse/SPR-7867","body":"Passing Request Body in DELETE methods is support from version 3.0.5 <a href=\"https://jira.spring.io/browse/SPR-7867\" rel=\"nofollow noreferrer\">jira.spring.io/browse/SPR-7867</a>"},{"owner":{"account_id":8245772,"reputation":406,"user_id":6201912,"display_name":"Bustanil Arifin"},"score":0,"creation_date":1569899539,"post_id":33129634,"comment_id":102735646,"body_markdown":"Can you also post the exception stacktrace? as @Arashsoft says, this should&#39;ve already been supported since long ago.","body":"Can you also post the exception stacktrace? as @Arashsoft says, this should&#39;ve already been supported since long ago."},{"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"score":0,"creation_date":1601182297,"post_id":33129634,"comment_id":113323278,"body_markdown":"Go to postman top and open console and add console logs into question","body":"Go to postman top and open console and add console logs into question"},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1685042264,"post_id":33129634,"comment_id":134609842,"body_markdown":"Read this: https://stackoverflow.com/questions/25375046/passing-data-in-the-body-of-a-delete-request","body":"Read this: <a href=\"https://stackoverflow.com/questions/25375046/passing-data-in-the-body-of-a-delete-request\" title=\"passing data in the body of a delete request\">stackoverflow.com/questions/25375046/&hellip;</a>"},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1685042605,"post_id":33129634,"comment_id":134609909,"body_markdown":"Another link: https://stackoverflow.com/questions/36899641/resttemplate-delete-with-body\nThe second link notes that &quot;this is fixed after 4.0.x&quot;","body":"Another link: <a href=\"https://stackoverflow.com/questions/36899641/resttemplate-delete-with-body\" title=\"resttemplate delete with body\">stackoverflow.com/questions/36899641/&hellip;</a> The second link notes that &quot;this is fixed after 4.0.x&quot;"}],"answers":[{"comments":[{"owner":{"account_id":308121,"reputation":2306,"user_id":619804,"accept_rate":35,"display_name":"user619804"},"score":0,"creation_date":1444839501,"post_id":33130137,"comment_id":54072841,"body_markdown":"The problem is I am working off of requirements and am not sure I&#39;m able to change the design, as we are sending the request to an external api that requires certain information in the body - redesigning the api so that all of this information is encapsulated in the url would result is a really long url.","body":"The problem is I am working off of requirements and am not sure I&#39;m able to change the design, as we are sending the request to an external api that requires certain information in the body - redesigning the api so that all of this information is encapsulated in the url would result is a really long url."},{"owner":{"account_id":293739,"reputation":2461,"user_id":597222,"accept_rate":92,"display_name":"zdenda.online"},"score":0,"creation_date":1444840259,"post_id":33130137,"comment_id":54073290,"body_markdown":"The question is whether all the information should be in URI. Maybe you may have some internal database (cache) that holds metadata. Anyway if I understood well, the external API requires body in HTTP DELETE too. Maybe you can give a try to another framework (instead of RestTemplate) to invoke HTTP call to this exteternal API. E.g. simple Java&#39;s HttpUrlConnection to find out if the problem persists.. But I undestood that the problem stands in the client. Meaning that CURL and integration tests are dropping body for HTTP DELETE and Postman does not","body":"The question is whether all the information should be in URI. Maybe you may have some internal database (cache) that holds metadata. Anyway if I understood well, the external API requires body in HTTP DELETE too. Maybe you can give a try to another framework (instead of RestTemplate) to invoke HTTP call to this exteternal API. E.g. simple Java&#39;s HttpUrlConnection to find out if the problem persists.. But I undestood that the problem stands in the client. Meaning that CURL and integration tests are dropping body for HTTP DELETE and Postman does not"},{"owner":{"account_id":4048506,"reputation":2759,"user_id":3328979,"accept_rate":78,"display_name":"Arashsoft"},"score":0,"creation_date":1518467967,"post_id":33130137,"comment_id":84511132,"body_markdown":"This is not an answer to this question, it just explains what happens. It should be a comment.","body":"This is not an answer to this question, it just explains what happens. It should be a comment."}],"tags":[],"owner":{"account_id":293739,"reputation":2461,"user_id":597222,"accept_rate":92,"display_name":"zdenda.online"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1444838659,"creation_date":1444838305,"answer_id":33130137,"question_id":33129634,"body_markdown":"You should not have any body in the request when using HTTP DELETE method. Many frameworks discourage using it or warn you that the body may be dropped. The reason is that you want to DELETE some resource identified by your URI thus no body should be required.\r\n\r\nIt sounds like this may be your case. It would also explain why some tools do send the body and why others doesn&#39;t.\r\n\r\nI would strongly recommend you to re-design your API to something similar to\r\n\r\n    DELETE http://localhost:8080/api/provision/{id}\r\n\r\nor different URI dependent on how your data (resources) are designed\r\n","title":"RestTemplate.exchange() DELETE dropping request body","body":"<p>You should not have any body in the request when using HTTP DELETE method. Many frameworks discourage using it or warn you that the body may be dropped. The reason is that you want to DELETE some resource identified by your URI thus no body should be required.</p>\n\n<p>It sounds like this may be your case. It would also explain why some tools do send the body and why others doesn't.</p>\n\n<p>I would strongly recommend you to re-design your API to something similar to</p>\n\n<pre><code>DELETE http://localhost:8080/api/provision/{id}\n</code></pre>\n\n<p>or different URI dependent on how your data (resources) are designed</p>\n"}],"owner":{"account_id":308121,"reputation":2306,"user_id":619804,"accept_rate":35,"display_name":"user619804"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14497,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1695448970,"creation_date":1444836837,"question_id":33129634,"body_markdown":"I&#39;m experiencing a strange problem with the method below. \r\n\r\n    @Override\r\n\tpublic String deleteToEe(String body) {\t\t\r\n\t\tlogger.debug(&quot;Request body&quot;);\r\n\t\tlogger.debug(body);\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.add(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE);\r\n\t\theaders.add(&quot;partner&quot;, &quot;test&quot;);\r\n\t\theaders.add(&quot;api_key&quot;, &quot;certxxxx&quot;);\r\n\t\tHttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(body, headers);\r\n\t\tResponseEntity&lt;String&gt; result = null;\r\n\t\ttry {\r\n\t\t\tresult = restTemplate.exchange(targetUrl, HttpMethod.DELETE, request, String.class);\r\n\t\t} catch (RestClientException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn result.getBody();\r\n\t}\r\n\r\n\r\nWhen I trigger this method through hitting the controller request mapping through Postman, it works.  But when testers triggers this method through their integration tests, or when I trigger this method using curl\r\n\r\n    curl -X DELETE -H &quot;Accept: application/json&quot; -H &quot;Content-type: application/json&quot; -d &quot;{&quot;userName&quot;: &quot;21&quot;, &quot;courseId&quot;: &quot;104882_bfaculty3_1024&quot;, &quot;isbn&quot;: &quot;9780323055&quot;, &quot;schoolUserId&quot;: &quot;1234&quot; }&quot; http://localhost:8080//api/provision\r\n\r\nI get a null pointer exception at this point in the code\r\n\r\n    result = restTemplate.exchange(targetUrl, HttpMethod.DELETE, request, String.class);\r\n\r\nI&#39;ve breakpointed the code and looks like we have a request body but for some reason it&#39; being dropped at the restTemplate.exchange() call.  Anyone seen something like this before?","title":"RestTemplate.exchange() DELETE dropping request body","body":"<p>I'm experiencing a strange problem with the method below. </p>\n\n<pre><code>@Override\npublic String deleteToEe(String body) {     \n    logger.debug(\"Request body\");\n    logger.debug(body);\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(\"Content-Type\", MediaType.APPLICATION_JSON_VALUE);\n    headers.add(\"partner\", \"test\");\n    headers.add(\"api_key\", \"certxxxx\");\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(body, headers);\n    ResponseEntity&lt;String&gt; result = null;\n    try {\n        result = restTemplate.exchange(targetUrl, HttpMethod.DELETE, request, String.class);\n    } catch (RestClientException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    return result.getBody();\n}\n</code></pre>\n\n<p>When I trigger this method through hitting the controller request mapping through Postman, it works.  But when testers triggers this method through their integration tests, or when I trigger this method using curl</p>\n\n<pre><code>curl -X DELETE -H \"Accept: application/json\" -H \"Content-type: application/json\" -d \"{\"userName\": \"21\", \"courseId\": \"104882_bfaculty3_1024\", \"isbn\": \"9780323055\", \"schoolUserId\": \"1234\" }\" http://localhost:8080//api/provision\n</code></pre>\n\n<p>I get a null pointer exception at this point in the code</p>\n\n<pre><code>result = restTemplate.exchange(targetUrl, HttpMethod.DELETE, request, String.class);\n</code></pre>\n\n<p>I've breakpointed the code and looks like we have a request body but for some reason it' being dropped at the restTemplate.exchange() call.  Anyone seen something like this before?</p>\n"},{"tags":["java","string","object","hashcode"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":8,"creation_date":1695443631,"post_id":77161639,"comment_id":136028520,"body_markdown":"`*[...] every object has unique hashcode*` - That is not true. It is not possible to map infinite number of possible objects to a finite set of hashcodes. Moreover, *equal* objects should have the same hashcode. Here, the hashcode of a string is based on the individual characters.","body":"<code>*[...] every object has unique hashcode*</code> - That is not true. It is not possible to map infinite number of possible objects to a finite set of hashcodes. Moreover, <i>equal</i> objects should have the same hashcode. Here, the hashcode of a string is based on the individual characters."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1695443883,"post_id":77161639,"comment_id":136028532,"body_markdown":"Nowhere in the specification of the `Object::hashCode` method does it say that hashcodes are unique.","body":"Nowhere in the specification of the <code>Object::hashCode</code> method does it say that hashcodes are unique."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1695444253,"post_id":77161639,"comment_id":136028546,"body_markdown":"`hashCode` has a relationship with `equals` in that any two objects which are `equal` should also have the same `hashCode` - [quick google for more details](https://www.google.com/search?q=java+hashcode+equals&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=java+hashcode+equals&amp;gs_lcrp=EgZjaHJvbWUyBggAEEUYOdIBCDY3ODFqMGo3qAIAsAIA&amp;sourceid=chrome&amp;ie=UTF-8)","body":"<code>hashCode</code> has a relationship with <code>equals</code> in that any two objects which are <code>equal</code> should also have the same <code>hashCode</code> - <a href=\"https://www.google.com/search?q=java+hashcode+equals&amp;rlz=1C5GCEM_enAU1020AU1020&amp;oq=java+hashcode+equals&amp;gs_lcrp=EgZjaHJvbWUyBggAEEUYOdIBCDY3ODFqMGo3qAIAsAIA&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">quick google for more details</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695445288,"creation_date":1695444642,"answer_id":77161697,"question_id":77161639,"body_markdown":"Your question is based on false assumptions:\r\n\r\n&gt; Since java creates a new object when new keyword is used,\r\n\r\nCorrect \r\n\r\n&gt; ... and every object has unique hashcode, \r\n\r\nIncorrect!  Nothing in any of the Java specifications states that hashcodes are unique.  In fact, the closest it comes to that is this line from the [javadocs][1] for `Object`.\r\n\r\n&gt; *&quot;Implementation Requirements:  As far as is reasonably practical, the `hashCode` method defined by class `Object` returns distinct integers for distinct objects.&quot;*\r\n\r\nThat says try to make them distinct if you can ... but it does not guarantee that they will be distinct.  Indeed, it is provably impossible to guarantee that in the context of Java.\r\n\r\n&gt; ... then why here it is giving same hashcode output?\r\n\r\nThat is nothing to do with `Object::hashCode`.  You code is actually calling the `String::hashCode`, and that is specified to return a value that is independent of the string&#39;s identity.  The `String` [javadoc][2] states:\r\n\r\n&gt; *&quot;Returns a hash code for this string. The hash code for a `String` object is computed as*\r\n&gt;\r\n&gt;     s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\r\n&gt;\r\n&gt; *using `int` arithmetic, where `s[i]` is the `i`th character of the string, `n` is the length of the string, and `^` indicates exponentiation.&quot;*\r\n\r\nYour strings all have the same length and the same characters, so that means that `String::hashCode` will give the same result.\r\n\r\nWe can also infer that this should be the case from the properties of `hashCode` and `equals` as set out in the `Object` javadocs.  In concise terms:\r\n\r\n    s1.equals(s2) == true  implies  s1.hashCode() == s2.hashCode()\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#hashCode()","title":"since java creates a new object when new keyword is used, and every object has unique hashcode, then why here it is giving same hashcode output?","body":"<p>Your question is based on false assumptions:</p>\n<blockquote>\n<p>Since java creates a new object when new keyword is used,</p>\n</blockquote>\n<p>Correct</p>\n<blockquote>\n<p>... and every object has unique hashcode,</p>\n</blockquote>\n<p>Incorrect!  Nothing in any of the Java specifications states that hashcodes are unique.  In fact, the closest it comes to that is this line from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">javadocs</a> for <code>Object</code>.</p>\n<blockquote>\n<p><em>&quot;Implementation Requirements:  As far as is reasonably practical, the <code>hashCode</code> method defined by class <code>Object</code> returns distinct integers for distinct objects.&quot;</em></p>\n</blockquote>\n<p>That says try to make them distinct if you can ... but it does not guarantee that they will be distinct.  Indeed, it is provably impossible to guarantee that in the context of Java.</p>\n<blockquote>\n<p>... then why here it is giving same hashcode output?</p>\n</blockquote>\n<p>That is nothing to do with <code>Object::hashCode</code>.  You code is actually calling the <code>String::hashCode</code>, and that is specified to return a value that is independent of the string's identity.  The <code>String</code> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#hashCode()\" rel=\"nofollow noreferrer\">javadoc</a> states:</p>\n<blockquote>\n<p><em>&quot;Returns a hash code for this string. The hash code for a <code>String</code> object is computed as</em></p>\n<pre><code>s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\n</code></pre>\n<p><em>using <code>int</code> arithmetic, where <code>s[i]</code> is the <code>i</code>th character of the string, <code>n</code> is the length of the string, and <code>^</code> indicates exponentiation.&quot;</em></p>\n</blockquote>\n<p>Your strings all have the same length and the same characters, so that means that <code>String::hashCode</code> will give the same result.</p>\n<p>We can also infer that this should be the case from the properties of <code>hashCode</code> and <code>equals</code> as set out in the <code>Object</code> javadocs.  In concise terms:</p>\n<pre><code>s1.equals(s2) == true  implies  s1.hashCode() == s2.hashCode()\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user22618554"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695447697,"creation_date":1695447697,"answer_id":77161803,"question_id":77161639,"body_markdown":"The Java programming language `equals` and `hashCode` contract states that two equal objects according to `equals(Object object)` method must have equal hash codes, while two objects with equal hash codes could be different  from one to another. \r\n\r\nThere are details about the `hashCode` method contract in Java documentation of `Object` class of the Java programming language version of your preference.","title":"since java creates a new object when new keyword is used, and every object has unique hashcode, then why here it is giving same hashcode output?","body":"<p>The Java programming language <code>equals</code> and <code>hashCode</code> contract states that two equal objects according to <code>equals(Object object)</code> method must have equal hash codes, while two objects with equal hash codes could be different  from one to another.</p>\n<p>There are details about the <code>hashCode</code> method contract in Java documentation of <code>Object</code> class of the Java programming language version of your preference.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695448651,"creation_date":1695448314,"answer_id":77161825,"question_id":77161639,"body_markdown":"Your assertion that &quot;every object has a unique hashcode&quot; is incorrect.  Rather, the rule is that equal objects must have the same hash code.  Unequal objects may or may not have different hash codes (though for performance reasons it is important most unequal objects do).\r\n\r\nPer the contract of [`hashCode`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()), objects which are equal according to [`equals`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) must have equal hash codes:\r\n\r\n&gt; If two objects are equal according to the [`equals`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) method, then calling the `hashCode` method on each of the two objects must produce the same integer result.\r\n\r\nPer the `String` [Javadocs](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#equals(java.lang.Object)), two `String` values are considered equal according to `equals` when they represent the same sequence of characters:\r\n\r\n&gt; The result is true if and only if the argument is not null and is a String object that represents the same sequence of characters as this object.\r\n\r\n`&quot;shrey&quot;` and `new String(&quot;shrey&quot;)` represent the same sequence of characters (namely, `{&#39;s&#39;, &#39;h&#39;, &#39;r&#39;, &#39;e&#39;, &#39;y&#39;}`).  Therefore, they are equal according to `equals` and must  have the same hash code.\r\n\r\nFinally, to add a little more context, the Javadocs for `hashCode` explain that two unequal objects may have the same hash code, though doing so comes with performance consequences:\r\n\r\n&gt; It is _not_ required that if two objects are unequal according to the [`equals`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hash tables.","title":"since java creates a new object when new keyword is used, and every object has unique hashcode, then why here it is giving same hashcode output?","body":"<p>Your assertion that &quot;every object has a unique hashcode&quot; is incorrect.  Rather, the rule is that equal objects must have the same hash code.  Unequal objects may or may not have different hash codes (though for performance reasons it is important most unequal objects do).</p>\n<p>Per the contract of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\"><code>hashCode</code></a>, objects which are equal according to <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code></a> must have equal hash codes:</p>\n<blockquote>\n<p>If two objects are equal according to the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code></a> method, then calling the <code>hashCode</code> method on each of the two objects must produce the same integer result.</p>\n</blockquote>\n<p>Per the <code>String</code> <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">Javadocs</a>, two <code>String</code> values are considered equal according to <code>equals</code> when they represent the same sequence of characters:</p>\n<blockquote>\n<p>The result is true if and only if the argument is not null and is a String object that represents the same sequence of characters as this object.</p>\n</blockquote>\n<p><code>&quot;shrey&quot;</code> and <code>new String(&quot;shrey&quot;)</code> represent the same sequence of characters (namely, <code>{'s', 'h', 'r', 'e', 'y'}</code>).  Therefore, they are equal according to <code>equals</code> and must  have the same hash code.</p>\n<p>Finally, to add a little more context, the Javadocs for <code>hashCode</code> explain that two unequal objects may have the same hash code, though doing so comes with performance consequences:</p>\n<blockquote>\n<p>It is <em>not</em> required that if two objects are unequal according to the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code></a> method, then calling the hashCode method on each of the two objects must produce distinct integer results. However, the programmer should be aware that producing distinct integer results for unequal objects may improve the performance of hash tables.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7592404,"reputation":605,"user_id":5759656,"display_name":"Christian Meyer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695448670,"creation_date":1695448670,"answer_id":77161839,"question_id":77161639,"body_markdown":"`#hashcode` will give you the same hash value for all objects that are the same in terms of their literal value. So any string with the value &quot;eclips3&quot;, no matter how it is constructed, and whether or not `#intern` is applied, will have the same hashcode. \r\n\r\nWhat is more suited for your purposes is `System.identityHashCode(stringObj)`, which is basically the original implementation of `#hashcode` by Object before it gets overridden. As a result, we can use this method to distinguish references [stored in separate memory locations] even when they have the same literal value. \r\n\r\nHere a basic demo to help you get a better idea:\r\n```\r\n        String s1 = &quot;eclips3&quot;;\r\n\t\tString s2 = new String(&quot;eclips3&quot;);\r\n\t\tString s3 = new String(&quot;eclips3&quot;);\r\n\t\tString s4 = s2.intern();\r\n\t\tString s5 = new String(&quot;eclips3&quot;).intern();\r\n\r\n\t    System.out.println(System.identityHashCode(s1));\r\n        System.out.println(System.identityHashCode(s2));\r\n\t    System.out.println(System.identityHashCode(s3));\r\n        System.out.println(System.identityHashCode(s4));\r\n\t    System.out.println(System.identityHashCode(s5));\r\n\t\t\r\n\t\tSystem.out.println(&quot;s1 == s2? &quot; + String.valueOf(s1==s2));\r\n\t\tSystem.out.println(&quot;s1 == s3? &quot; + String.valueOf(s1==s3));\r\n\t\tSystem.out.println(&quot;s1 == s4? &quot; + String.valueOf(s1==s4));\r\n\t\tSystem.out.println(&quot;s1 == s5? &quot; + String.valueOf(s1==s5));\r\n\t\tSystem.out.println(&quot;s2 == s3? &quot; + String.valueOf(s2==s3));\r\n\t\tSystem.out.println(&quot;s2 == s4? &quot; + String.valueOf(s2==s4));\r\n\t\tSystem.out.println(&quot;s2 == s5? &quot; + String.valueOf(s2==s5));\r\n\t\tSystem.out.println(&quot;s3 == s4? &quot; + String.valueOf(s3==s4));\r\n\t\tSystem.out.println(&quot;s3 == s5? &quot; + String.valueOf(s3==s5));\r\n\t\tSystem.out.println(&quot;s4 == s5? &quot; + String.valueOf(s4==s5));\r\n```\r\n\r\nResults on my system:\r\n```\r\n95980430\r\n1478835287\r\n12006451\r\n95980430\r\n95980430\r\ns1 == s2? false\r\ns1 == s3? false\r\ns1 == s4? true\r\ns1 == s5? true\r\ns2 == s3? false\r\ns2 == s4? false\r\ns2 == s5? false\r\ns3 == s4? false\r\ns3 == s5? false\r\ns4 == s5? true\r\n```\r\n\r\n","title":"since java creates a new object when new keyword is used, and every object has unique hashcode, then why here it is giving same hashcode output?","body":"<p><code>#hashcode</code> will give you the same hash value for all objects that are the same in terms of their literal value. So any string with the value &quot;eclips3&quot;, no matter how it is constructed, and whether or not <code>#intern</code> is applied, will have the same hashcode.</p>\n<p>What is more suited for your purposes is <code>System.identityHashCode(stringObj)</code>, which is basically the original implementation of <code>#hashcode</code> by Object before it gets overridden. As a result, we can use this method to distinguish references [stored in separate memory locations] even when they have the same literal value.</p>\n<p>Here a basic demo to help you get a better idea:</p>\n<pre><code>        String s1 = &quot;eclips3&quot;;\n        String s2 = new String(&quot;eclips3&quot;);\n        String s3 = new String(&quot;eclips3&quot;);\n        String s4 = s2.intern();\n        String s5 = new String(&quot;eclips3&quot;).intern();\n\n        System.out.println(System.identityHashCode(s1));\n        System.out.println(System.identityHashCode(s2));\n        System.out.println(System.identityHashCode(s3));\n        System.out.println(System.identityHashCode(s4));\n        System.out.println(System.identityHashCode(s5));\n        \n        System.out.println(&quot;s1 == s2? &quot; + String.valueOf(s1==s2));\n        System.out.println(&quot;s1 == s3? &quot; + String.valueOf(s1==s3));\n        System.out.println(&quot;s1 == s4? &quot; + String.valueOf(s1==s4));\n        System.out.println(&quot;s1 == s5? &quot; + String.valueOf(s1==s5));\n        System.out.println(&quot;s2 == s3? &quot; + String.valueOf(s2==s3));\n        System.out.println(&quot;s2 == s4? &quot; + String.valueOf(s2==s4));\n        System.out.println(&quot;s2 == s5? &quot; + String.valueOf(s2==s5));\n        System.out.println(&quot;s3 == s4? &quot; + String.valueOf(s3==s4));\n        System.out.println(&quot;s3 == s5? &quot; + String.valueOf(s3==s5));\n        System.out.println(&quot;s4 == s5? &quot; + String.valueOf(s4==s5));\n</code></pre>\n<p>Results on my system:</p>\n<pre><code>95980430\n1478835287\n12006451\n95980430\n95980430\ns1 == s2? false\ns1 == s3? false\ns1 == s4? true\ns1 == s5? true\ns2 == s3? false\ns2 == s4? false\ns2 == s5? false\ns3 == s4? false\ns3 == s5? false\ns4 == s5? true\n</code></pre>\n"}],"owner":{"account_id":28114672,"reputation":19,"user_id":21481954,"display_name":"Shrey Saxena"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1695448670,"creation_date":1695442810,"question_id":77161639,"body_markdown":"```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        String str1=&quot;shrey&quot;;\r\n        String str2=&quot;shrey&quot;;\r\n        String str3=new String(&quot;shrey&quot;);\r\n        System.out.println(str1.hashCode());\r\n        System.out.println(str2.hashCode());\r\n        System.out.println(str3.hashCode());\r\n    }\r\n}\r\n```\r\noutput = same hashcode of all str1, str2, str3\r\n\r\nJava uses string pool. I know it. `str1` and `str2` are created using string literal so they should refer to same object and hence will generate the same hashcode but, `str3` is created using `new` keyword, so I was expecting hashcode of `str3` to be different but it came out to be same. Why?\r\n","title":"since java creates a new object when new keyword is used, and every object has unique hashcode, then why here it is giving same hashcode output?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        String str1=&quot;shrey&quot;;\n        String str2=&quot;shrey&quot;;\n        String str3=new String(&quot;shrey&quot;);\n        System.out.println(str1.hashCode());\n        System.out.println(str2.hashCode());\n        System.out.println(str3.hashCode());\n    }\n}\n</code></pre>\n<p>output = same hashcode of all str1, str2, str3</p>\n<p>Java uses string pool. I know it. <code>str1</code> and <code>str2</code> are created using string literal so they should refer to same object and hence will generate the same hashcode but, <code>str3</code> is created using <code>new</code> keyword, so I was expecting hashcode of <code>str3</code> to be different but it came out to be same. Why?</p>\n"},{"tags":["java","firebase","google-cloud-firestore","concurrency"],"answers":[{"comments":[{"owner":{"account_id":29512345,"reputation":3,"user_id":22617105,"display_name":"goksel demiradam"},"score":0,"creation_date":1695495107,"post_id":77161798,"comment_id":136033183,"body_markdown":"There is just one thing I need to know about transactions. If two transactions on the same database are executed concurrently on two different devices does one of the transactions wait for the other one to finish to get executed?","body":"There is just one thing I need to know about transactions. If two transactions on the same database are executed concurrently on two different devices does one of the transactions wait for the other one to finish to get executed?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1695498089,"post_id":77161798,"comment_id":136033465,"body_markdown":"If you use one of the client-side SDKs, they use a compare-and-set approach. When your transaction reads a document, it tracks what version of that document it read. When you then write the document - and commit the transaction - it sends the version number and the new data to the server. The server checks if the current version is still the same, and only commits the data if it is. If the version has changed, it tells the client to retry.","body":"If you use one of the client-side SDKs, they use a compare-and-set approach. When your transaction reads a document, it tracks what version of that document it read. When you then write the document - and commit the transaction - it sends the version number and the new data to the server. The server checks if the current version is still the same, and only commits the data if it is. If the version has changed, it tells the client to retry."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1695498211,"post_id":77161798,"comment_id":136033474,"body_markdown":"The concept is quite different from what most devs are used to, so I recommend reading up on compare-and-set (sometimes also called compare-and-swap) type transactions.","body":"The concept is quite different from what most devs are used to, so I recommend reading up on compare-and-set (sometimes also called compare-and-swap) type transactions."},{"owner":{"account_id":29512345,"reputation":3,"user_id":22617105,"display_name":"goksel demiradam"},"score":0,"creation_date":1695598073,"post_id":77161798,"comment_id":136041661,"body_markdown":"In firestore&#39;s online documentation I have read something like this: In the Mobile/Web SDKs, a transaction keeps track of all the documents you read inside the transaction. The transaction completes its write operations only if none of those documents changed during the transaction&#39;s execution. If any document did change, the transaction handler retries the transaction. If the transaction can&#39;t get a clean result after a few retries, the transaction fails due to data contention.","body":"In firestore&#39;s online documentation I have read something like this: In the Mobile/Web SDKs, a transaction keeps track of all the documents you read inside the transaction. The transaction completes its write operations only if none of those documents changed during the transaction&#39;s execution. If any document did change, the transaction handler retries the transaction. If the transaction can&#39;t get a clean result after a few retries, the transaction fails due to data contention."},{"owner":{"account_id":29512345,"reputation":3,"user_id":22617105,"display_name":"goksel demiradam"},"score":0,"creation_date":1695598161,"post_id":77161798,"comment_id":136041669,"body_markdown":"Does this mean this?: If two transactions on the same firebase database are executed concurrently on two different devices one of the transactions essentially waits for the other one to finish to get executed?","body":"Does this mean this?: If two transactions on the same firebase database are executed concurrently on two different devices one of the transactions essentially waits for the other one to finish to get executed?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1695618899,"post_id":77161798,"comment_id":136043299,"body_markdown":"It doesn&#39;t wait, but it retries if there was a conflicting update - so the end result is the same. --- Also see [What should I do when someone answers my question?](https://stackoverflow.com/help/someone-answers)","body":"It doesn&#39;t wait, but it retries if there was a conflicting update - so the end result is the same. --- Also see <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"},{"owner":{"account_id":29512345,"reputation":3,"user_id":22617105,"display_name":"goksel demiradam"},"score":0,"creation_date":1696109266,"post_id":77161798,"comment_id":136112316,"body_markdown":"I need to know one more thing. I am using email and password based authentication for my android studio application. If two registration requests with the same email and password come from two devices at the same moment to the authentication server, how does the server choose which request to accept first and reject the other one? Since as far as I know the email and password based authentication can not make two records that have the same email and password.","body":"I need to know one more thing. I am using email and password based authentication for my android studio application. If two registration requests with the same email and password come from two devices at the same moment to the authentication server, how does the server choose which request to accept first and reject the other one? Since as far as I know the email and password based authentication can not make two records that have the same email and password."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695447585,"creation_date":1695447585,"answer_id":77161798,"question_id":77160573,"body_markdown":"Each write operation to Firestore is executed atomically. So you can never end up with a partial write from one client, and a partial write from another client.\r\n\r\nBut if multiple clients write the same data, the last write will be the one that you end up with in the database. With the [default write operations](https://firebase.google.com/docs/firestore/manage-data/add-data) there is no coordination of those operations across the clients.\r\n\r\nIf you want to ensure that the write operations between clients are isolated or coordinated, use [batched writes or transactions](https://firebase.google.com/docs/firestore/manage-data/transactions) for them.","title":"android studio java firebase firestore concurrent data update","body":"<p>Each write operation to Firestore is executed atomically. So you can never end up with a partial write from one client, and a partial write from another client.</p>\n<p>But if multiple clients write the same data, the last write will be the one that you end up with in the database. With the <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data\" rel=\"nofollow noreferrer\">default write operations</a> there is no coordination of those operations across the clients.</p>\n<p>If you want to ensure that the write operations between clients are isolated or coordinated, use <a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions\" rel=\"nofollow noreferrer\">batched writes or transactions</a> for them.</p>\n"}],"owner":{"account_id":29512345,"reputation":3,"user_id":22617105,"display_name":"goksel demiradam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77161798,"answer_count":1,"score":0,"last_activity_date":1695447585,"creation_date":1695415574,"question_id":77160573,"body_markdown":"I am using the below code to update a firebase firestore database named &quot;Courses&quot;.\r\n\r\n    db.collection(&quot;Courses&quot;).get()\r\n            .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                    if (!queryDocumentSnapshots.isEmpty()) {\r\n                        loadingPB.setVisibility(View.GONE);\r\n                        List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\r\n                        for (DocumentSnapshot d : list) {\r\n                            Courses c = d.toObject(Courses.class);\r\n                            c.setId(d.getId());\r\n                            coursesArrayList.add(c);\r\n                        }\r\n                   \r\n                        courseRVAdapter.notifyDataSetChanged();\r\n                    } else {\r\n                    \r\n                        Toast.makeText(CourseDetails.this, &quot;No data found in Database&quot;,       Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n        @Override\r\n        public void onFailure(@NonNull Exception e) {\r\n            Toast.makeText(CourseDetails.this, &quot;Fail to get the data.&quot;,     Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n\r\nAs far as I know firebase firestore upholds a serializable isolation model. This is what I would like to know. Let&#39;s say this single line command starts to get executed at the sime time on two different android devices. Does one of these two commands wait for the other command to finish to get executed? \r\n\r\nI did not try this yet since this is a multiuser problem.","title":"android studio java firebase firestore concurrent data update","body":"<p>I am using the below code to update a firebase firestore database named &quot;Courses&quot;.</p>\n<pre><code>db.collection(&quot;Courses&quot;).get()\n        .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                if (!queryDocumentSnapshots.isEmpty()) {\n                    loadingPB.setVisibility(View.GONE);\n                    List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\n                    for (DocumentSnapshot d : list) {\n                        Courses c = d.toObject(Courses.class);\n                        c.setId(d.getId());\n                        coursesArrayList.add(c);\n                    }\n               \n                    courseRVAdapter.notifyDataSetChanged();\n                } else {\n                \n                    Toast.makeText(CourseDetails.this, &quot;No data found in Database&quot;,       Toast.LENGTH_SHORT).show();\n                }\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n    @Override\n    public void onFailure(@NonNull Exception e) {\n        Toast.makeText(CourseDetails.this, &quot;Fail to get the data.&quot;,     Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>As far as I know firebase firestore upholds a serializable isolation model. This is what I would like to know. Let's say this single line command starts to get executed at the sime time on two different android devices. Does one of these two commands wait for the other command to finish to get executed?</p>\n<p>I did not try this yet since this is a multiuser problem.</p>\n"},{"tags":["java","netbeans","import","intellij-idea"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1311616714,"post_id":6820137,"comment_id":8101956,"body_markdown":"Export an Eclipse project in IDEA, use the Eclipse import plugin in Netbeans.","body":"Export an Eclipse project in IDEA, use the Eclipse import plugin in Netbeans."},{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":0,"creation_date":1311617099,"post_id":6820137,"comment_id":8102046,"body_markdown":"how large is the project? does it have many dependencies, artifacts? maybe you&#39;d better ask a question about creating a Netbens project from sources? and why would someone choose Netbeans over IDEA?","body":"how large is the project? does it have many dependencies, artifacts? maybe you&#39;d better ask a question about creating a Netbens project from sources? and why would someone choose Netbeans over IDEA?"},{"owner":{"account_id":1052450,"reputation":2880,"user_id":1056010,"accept_rate":75,"display_name":"ShaggyInjun"},"score":0,"creation_date":1363131283,"post_id":6820137,"comment_id":21726698,"body_markdown":"Netbeans is like a thin layer between your code and you. Where as eclipse is its morbidly obese cousin and Idea seems to be on the thicker side too.","body":"Netbeans is like a thin layer between your code and you. Where as eclipse is its morbidly obese cousin and Idea seems to be on the thicker side too."},{"owner":{"account_id":1185973,"reputation":611,"user_id":1159924,"accept_rate":100,"display_name":"Steve the Maker"},"score":0,"creation_date":1454038066,"post_id":6820137,"comment_id":57875281,"body_markdown":"@Thorbj&#248;rnRavnAndersen Does that method actually work, or was that just thinking out loud?  I&#39;d really like to know how to do this.","body":"@Thorbj&#248;rnRavnAndersen Does that method actually work, or was that just thinking out loud?  I&#39;d really like to know how to do this."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1454077643,"post_id":6820137,"comment_id":57895378,"body_markdown":"IntelliJ has &quot;File-&gt;Export to Eclipse&quot;.  Netbeans has File -&gt; Import Project -&gt; Eclipse project.  I have not tried this myself.  Today I would say &quot;redo as a maven project and open whereever you want&quot;.","body":"IntelliJ has &quot;File-&gt;Export to Eclipse&quot;.  Netbeans has File -&gt; Import Project -&gt; Eclipse project.  I have not tried this myself.  Today I would say &quot;redo as a maven project and open whereever you want&quot;."},{"owner":{"account_id":1033144,"reputation":3625,"user_id":1041046,"accept_rate":78,"display_name":"AaA"},"score":0,"creation_date":1467168967,"post_id":6820137,"comment_id":63614991,"body_markdown":"@Thorbj&#248;rnRavnAndersen, does maven works better with a dev computer not connected to Internet? just a side note, in most big finance companies no dev system is connected to Internet.","body":"@Thorbj&#248;rnRavnAndersen, does maven works better with a dev computer not connected to Internet? just a side note, in most big finance companies no dev system is connected to Internet."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1467181771,"post_id":6820137,"comment_id":63619115,"body_markdown":"@AaA Maven works the best with Internet access. If you don&#39;t have that you need to pull the needed artifacts in house and use them. A bit cumbersome but doable.","body":"@AaA Maven works the best with Internet access. If you don&#39;t have that you need to pull the needed artifacts in house and use them. A bit cumbersome but doable."}],"answers":[{"comments":[{"owner":{"account_id":1052450,"reputation":2880,"user_id":1056010,"accept_rate":75,"display_name":"ShaggyInjun"},"score":0,"creation_date":1363131185,"post_id":6820202,"comment_id":21726669,"body_markdown":"Agree 100%. IMO, ant + ivy only goes so far. Eclipse, Netbeans and Idea all setup projects differently when using ant. Unless there is a strong company wide culture, it is hard to achieve this at work. If it is a personal project, then ofcourse there is no excuse.","body":"Agree 100%. IMO, ant + ivy only goes so far. Eclipse, Netbeans and Idea all setup projects differently when using ant. Unless there is a strong company wide culture, it is hard to achieve this at work. If it is a personal project, then ofcourse there is no excuse."}],"tags":[],"owner":{"account_id":119626,"reputation":2009,"user_id":311440,"display_name":"Will Iverson"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1311616132,"creation_date":1311616132,"answer_id":6820202,"question_id":6820137,"body_markdown":"Short answer: I don&#39;t believe such a tool exists.\r\n\r\nLonger answer: You probably should not be relying on a proprietary format for your project.  Depending on the project, [Ant+Ivy][1] or [Maven][2] may be a better solution.\r\n\r\n  [1]: http://ant.apache.org/ivy/\r\n  [2]: http://maven.apache.org/","title":"Import an IntelliJ IDEA project into NetBeans?","body":"<p>Short answer: I don't believe such a tool exists.</p>\n\n<p>Longer answer: You probably should not be relying on a proprietary format for your project.  Depending on the project, <a href=\"http://ant.apache.org/ivy/\" rel=\"nofollow\">Ant+Ivy</a> or <a href=\"http://maven.apache.org/\" rel=\"nofollow\">Maven</a> may be a better solution.</p>\n"},{"tags":[],"owner":{"account_id":11648621,"reputation":41,"user_id":8530578,"display_name":"Devansh Kaloti"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1544394085,"creation_date":1544394085,"answer_id":53697272,"question_id":6820137,"body_markdown":"The `nbproject` is a required folder by NetBeans, where it keeps its project settings. The only necessary project build files needed are the `project.xml` and `project.properties`.\r\n\r\nIn `project.xml`, line 5 is changed to reflect the accurate name of the user&#39;s project. Also for IntelliJ, `nbintellij.iml` is the required file.\r\n\r\nSo for a IntelliJ project, if you create the `nbproject` folder with the required files (`project.xml` and `project.properties`), you&#39;ll be able to open the folder in NetBeans\r\n\r\n\r\n----------\r\n\r\n\r\nYou can use the following tool I&#39;ve created to convert an IntelliJ project to NetBeans, and also convert a NetBeans project to IntelliJ. Please make sure you have python installed.\r\n\r\n\r\n\r\nh[ttps://github.com/devanshkaloti/IDEProjectConverter-Java][1]\r\n\r\n\r\n  [1]: https://github.com/devanshkaloti/IDEProjectConverter-Java","title":"Import an IntelliJ IDEA project into NetBeans?","body":"<p>The <code>nbproject</code> is a required folder by NetBeans, where it keeps its project settings. The only necessary project build files needed are the <code>project.xml</code> and <code>project.properties</code>.</p>\n\n<p>In <code>project.xml</code>, line 5 is changed to reflect the accurate name of the user's project. Also for IntelliJ, <code>nbintellij.iml</code> is the required file.</p>\n\n<p>So for a IntelliJ project, if you create the <code>nbproject</code> folder with the required files (<code>project.xml</code> and <code>project.properties</code>), you'll be able to open the folder in NetBeans</p>\n\n<hr>\n\n<p>You can use the following tool I've created to convert an IntelliJ project to NetBeans, and also convert a NetBeans project to IntelliJ. Please make sure you have python installed.</p>\n\n<p>h<a href=\"https://github.com/devanshkaloti/IDEProjectConverter-Java\" rel=\"nofollow noreferrer\">ttps://github.com/devanshkaloti/IDEProjectConverter-Java</a></p>\n"},{"tags":[],"owner":{"account_id":17655883,"reputation":809,"user_id":17311782,"display_name":"David Salomon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695443838,"creation_date":1695441647,"answer_id":77161603,"question_id":6820137,"body_markdown":"Just install the [netbeans-exporter plugin][1] and it&#39;ll enable the `Export to NetBeans` option\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/14275-netbeans-exporter\r\n\r\nWhat it does is to generate the `nbproject` folder.","title":"Import an IntelliJ IDEA project into NetBeans?","body":"<p>Just install the <a href=\"https://plugins.jetbrains.com/plugin/14275-netbeans-exporter\" rel=\"nofollow noreferrer\">netbeans-exporter plugin</a> and it'll enable the <code>Export to NetBeans</code> option</p>\n<p>What it does is to generate the <code>nbproject</code> folder.</p>\n"}],"owner":{"account_id":460779,"reputation":1525,"user_id":862090,"accept_rate":33,"display_name":"Jos&#233;"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32948,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":3,"score":25,"last_activity_date":1695443838,"creation_date":1311615784,"question_id":6820137,"body_markdown":"How can I import an IntelliJ IDEA project into Netbeans?\r\n\r\nI know I can just use IntelliJ but I prefer Netbeans...\r\n\r\nWith this particular project I can&#39;t just copy the source directory into a Netbeans project... That doesn&#39;t work?\r\n\r\nHow may I use this IntelliJ IDEA project within Netbeans?","title":"Import an IntelliJ IDEA project into NetBeans?","body":"<p>How can I import an IntelliJ IDEA project into Netbeans?</p>\n\n<p>I know I can just use IntelliJ but I prefer Netbeans...</p>\n\n<p>With this particular project I can't just copy the source directory into a Netbeans project... That doesn't work?</p>\n\n<p>How may I use this IntelliJ IDEA project within Netbeans?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":2,"creation_date":1695347703,"post_id":77154469,"comment_id":136015611,"body_markdown":"Can&#39;t you just collapse all sequences of whitespaces into one single space first?","body":"Can&#39;t you just collapse all sequences of whitespaces into one single space first?"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1695410917,"post_id":77154469,"comment_id":136025905,"body_markdown":"Another idea is to match `\\s*` normally, find the next position left to `$` that is not preceded by a whitespace with use of another lookbehind `(?&lt;!\\s)` and put your current lookbehind there: [`(?&lt;!\\s)(?&lt;!\\bLOST)\\s*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)`](https://regex101.com/r/SoDbzs/2)","body":"Another idea is to match <code>\\s*</code> normally, find the next position left to <code>$</code> that is not preceded by a whitespace with use of another lookbehind <code>(?&lt;!\\s)</code> and put your current lookbehind there: <a href=\"https://regex101.com/r/SoDbzs/2\" rel=\"nofollow noreferrer\"><code>(?&lt;!\\s)(?&lt;!\\bLOST)\\s*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)</code></a>"}],"answers":[{"comments":[{"owner":{"account_id":3472292,"reputation":369,"user_id":4972352,"accept_rate":80,"display_name":"darkgbm"},"score":0,"creation_date":1695351331,"post_id":77154540,"comment_id":136015869,"body_markdown":"My intention is to avoid matching the number after &#39;LOST $&#39;, and there is no guarantee that &#39;LOST $&#39; might come before or after a valid &#39;$&#39;. So this wouldn&#39;t work. Thanks for the answer though.","body":"My intention is to avoid matching the number after &#39;LOST $&#39;, and there is no guarantee that &#39;LOST $&#39; might come before or after a valid &#39;$&#39;. So this wouldn&#39;t work. Thanks for the answer though."}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695349036,"creation_date":1695349036,"answer_id":77154540,"question_id":77154469,"body_markdown":"I wouldn&#39;t use a lookbehind here, but rather a capture group:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;I LOST $11.34 IN THE GAME AND PAID $10.12 FOR THE BEER&quot;;\r\n    String pattern = &quot;\\\\bLOST \\\\$?(\\\\d+(?:\\\\.\\\\d+)?)&quot;;\r\n    Pattern r = Pattern.compile(pattern);\r\n    Matcher m = r.matcher(input);\r\n    if (m.find()) {\r\n        System.out.println(m.group(1));  // 11.34\r\n    }","title":"A specific question about regular expression related to fixed width negative look-behind","body":"<p>I wouldn't use a lookbehind here, but rather a capture group:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;I LOST $11.34 IN THE GAME AND PAID $10.12 FOR THE BEER&quot;;\nString pattern = &quot;\\\\bLOST \\\\$?(\\\\d+(?:\\\\.\\\\d+)?)&quot;;\nPattern r = Pattern.compile(pattern);\nMatcher m = r.matcher(input);\nif (m.find()) {\n    System.out.println(m.group(1));  // 11.34\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3472292,"reputation":369,"user_id":4972352,"accept_rate":80,"display_name":"darkgbm"},"score":0,"creation_date":1695354528,"post_id":77154640,"comment_id":136016092,"body_markdown":"I see that it works, though I don&#39;t understand the second method. The idea is to match a non-capturing group | a capturing group. If and after the non-capturing group is matched, why would the capturing group also be matched? In other words, let&#39;s say I have an re &#39;A|B&#39;, then if A is matched, there shouldn&#39;t be any attempt to match B right?","body":"I see that it works, though I don&#39;t understand the second method. The idea is to match a non-capturing group | a capturing group. If and after the non-capturing group is matched, why would the capturing group also be matched? In other words, let&#39;s say I have an re &#39;A|B&#39;, then if A is matched, there shouldn&#39;t be any attempt to match B right?"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":1,"creation_date":1695358922,"post_id":77154640,"comment_id":136016406,"body_markdown":"darkgbm, suppose the string were, `&quot;I LOST  $11.34 IN THE GAME AND PAID $10.12 FOR THE BEER&quot;`. The regex&#39;s pointer is initially at the beginning of the string, before `&quot;I&quot;`. The first part of the alternation does not match from that location so an attempt to match the second part of the alternation, and it does not match either. The string pointer is therefore advanced one position and is now between the `&quot;I&quot;` and a space. That does not match either, so the pointer is moved before the `&quot;L&quot;`. ..","body":"darkgbm, suppose the string were, <code>&quot;I LOST  $11.34 IN THE GAME AND PAID $10.12 FOR THE BEER&quot;</code>. The regex&#39;s pointer is initially at the beginning of the string, before <code>&quot;I&quot;</code>. The first part of the alternation does not match from that location so an attempt to match the second part of the alternation, and it does not match either. The string pointer is therefore advanced one position and is now between the <code>&quot;I&quot;</code> and a space. That does not match either, so the pointer is moved before the <code>&quot;L&quot;</code>. .."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":1,"creation_date":1695359363,"post_id":77154640,"comment_id":136016447,"body_markdown":"...`LOST  $11.34` is then matched by the first part of the alternation. Since nothing is capture we pay no attention to that match. The match causes the string pointer to be moved to the end of the match, between the `&quot;4&quot;` and the following space. The space is not not matched so the pointer is advanced one character and continues to be advanced until it is before the dollar sign. At that location the first part of the alternation does not match but the second part does, with `&quot;10.12&quot;` captured in group 1. That is the value of interest as it was captured. Make sense?...","body":"...<code>LOST  $11.34</code> is then matched by the first part of the alternation. Since nothing is capture we pay no attention to that match. The match causes the string pointer to be moved to the end of the match, between the <code>&quot;4&quot;</code> and the following space. The space is not not matched so the pointer is advanced one character and continues to be advanced until it is before the dollar sign. At that location the first part of the alternation does not match but the second part does, with <code>&quot;10.12&quot;</code> captured in group 1. That is the value of interest as it was captured. Make sense?..."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":1,"creation_date":1695364008,"post_id":77154640,"comment_id":136016942,"body_markdown":"...As you see, the first part of the alternation matches the bits we don&#39;t want and the second part captures the bits we do want. You can read more about this technique [here](https://www.rexegg.com/regex-best-trick.html). If you don&#39;t want to read the entire treatise you may wish to search for the section, &quot;The Best Regex Trick Ever (at last!)&quot;.","body":"...As you see, the first part of the alternation matches the bits we don&#39;t want and the second part captures the bits we do want. You can read more about this technique <a href=\"https://www.rexegg.com/regex-best-trick.html\" rel=\"nofollow noreferrer\">here</a>. If you don&#39;t want to read the entire treatise you may wish to search for the section, &quot;The Best Regex Trick Ever (at last!)&quot;."},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1695412939,"post_id":77154640,"comment_id":136026148,"body_markdown":"I was thinking that maybe you might also shorten the matching to `\\bLOST\\h+\\$|\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)` or using the more specific matching for the numbers of course.","body":"I was thinking that maybe you might also shorten the matching to <code>\\bLOST\\h+\\$|\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)</code> or using the more specific matching for the numbers of course."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":1,"creation_date":1695414274,"post_id":77154640,"comment_id":136026351,"body_markdown":"@Thefourthbird, good point. Readers: #4 is suggesting that in my second method the first part of the alternation (which does not capture) need match no farther than the dollar sign. (#4: do you know which may be more efficient?). He (I know it&#39;s a he from the colour of his feathers) also suggests using `\\h` rather than `\\s`, mainly to avoid matching newlines. I believe a *horizontal whitespace*, `\\h`, is a tab or a Unicode space separator.","body":"@Thefourthbird, good point. Readers: #4 is suggesting that in my second method the first part of the alternation (which does not capture) need match no farther than the dollar sign. (#4: do you know which may be more efficient?). He (I know it&#39;s a he from the colour of his feathers) also suggests using <code>\\h</code> rather than <code>\\s</code>, mainly to avoid matching newlines. I believe a <i>horizontal whitespace</i>, <code>\\h</code>, is a tab or a Unicode space separator."}],"tags":[],"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695443785,"creation_date":1695351671,"answer_id":77154640,"question_id":77154469,"body_markdown":"Let&#39;s say there could be between one and 99 whitespaces between `&quot;LOST&quot;` and the dollar sign. I&#39;ve also assumed the number has two decimal digits, and there are no commas that serve as thousands separators. Then one could attempt to match the string with the regular expression\r\n\r\n    (?&lt;!\\bLOST\\s{1,99})\\$(?&lt;NUMBER&gt;(?:0|[1-9]\\d*)\\.\\d{2})\\b\r\n\r\nIf there were a match the capture group named `NUMBER` would contain the dollar amount of interest.\r\n\r\n[Demo](https://regex101.com/r/H8J0Ou/1)\r\n\r\nHover the cursor over the regular expression at the link to obtain explanations of each element of the expression.\r\n\r\n\r\n----------\r\n--------\r\n\r\nAnother way is to attempt to match the regular expression\r\n\r\n    \\bLOST\\s+\\$(?:0|[1-9]\\d*)\\.\\d{2}\\b|\\$(?&lt;NUMBER&gt;(?:0|[1-9]\\d*)\\.\\d{2})\\b\r\n\r\n[Demo](https://regex101.com/r/5R6tKu/1)\r\n\r\nIn this case pay no attention to matches that do not capture; only to ones that do, in which case the capture group `NUMBER` will contain the monetary value of interest. Here\r\n\r\n    \\bLOST\\s+\\$(?:0|[1-9]\\d*)\\.\\d{2}\\b\r\n \r\nmatches, but does not capture, values preceded by &quot;LOST&quot; followed by one or more whitespaces followed by a dollar sign. One might say it gobbles up such substrings.\r\n","title":"A specific question about regular expression related to fixed width negative look-behind","body":"<p>Let's say there could be between one and 99 whitespaces between <code>&quot;LOST&quot;</code> and the dollar sign. I've also assumed the number has two decimal digits, and there are no commas that serve as thousands separators. Then one could attempt to match the string with the regular expression</p>\n<pre><code>(?&lt;!\\bLOST\\s{1,99})\\$(?&lt;NUMBER&gt;(?:0|[1-9]\\d*)\\.\\d{2})\\b\n</code></pre>\n<p>If there were a match the capture group named <code>NUMBER</code> would contain the dollar amount of interest.</p>\n<p><a href=\"https://regex101.com/r/H8J0Ou/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p>Hover the cursor over the regular expression at the link to obtain explanations of each element of the expression.</p>\n<hr />\n<hr />\n<p>Another way is to attempt to match the regular expression</p>\n<pre><code>\\bLOST\\s+\\$(?:0|[1-9]\\d*)\\.\\d{2}\\b|\\$(?&lt;NUMBER&gt;(?:0|[1-9]\\d*)\\.\\d{2})\\b\n</code></pre>\n<p><a href=\"https://regex101.com/r/5R6tKu/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p>In this case pay no attention to matches that do not capture; only to ones that do, in which case the capture group <code>NUMBER</code> will contain the monetary value of interest. Here</p>\n<pre><code>\\bLOST\\s+\\$(?:0|[1-9]\\d*)\\.\\d{2}\\b\n</code></pre>\n<p>matches, but does not capture, values preceded by &quot;LOST&quot; followed by one or more whitespaces followed by a dollar sign. One might say it gobbles up such substrings.</p>\n"},{"tags":[],"owner":{"account_id":9279256,"reputation":95395,"user_id":6890912,"display_name":"blhsing"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1695353629,"creation_date":1695351680,"answer_id":77154641,"question_id":77154469,"body_markdown":"Since a lookbehind pattern has to be of fixed width in Java, you can allow a variable number of spaces by using a negative lookahead pattern instead to exclude the word `LOST`. Also include the beginning of a line with `^` in an alternation pattern in case a match occurs there:\r\n\r\n    (?:^|(?!LOST\\b)\\b\\w+\\s*)\\$\\s*(?&lt;NUMBER&gt;\\d+\\.\\d+)\r\n\r\nDemo: https://regex101.com/r/4pqyc0/7","title":"A specific question about regular expression related to fixed width negative look-behind","body":"<p>Since a lookbehind pattern has to be of fixed width in Java, you can allow a variable number of spaces by using a negative lookahead pattern instead to exclude the word <code>LOST</code>. Also include the beginning of a line with <code>^</code> in an alternation pattern in case a match occurs there:</p>\n<pre><code>(?:^|(?!LOST\\b)\\b\\w+\\s*)\\$\\s*(?&lt;NUMBER&gt;\\d+\\.\\d+)\n</code></pre>\n<p>Demo: <a href=\"https://regex101.com/r/4pqyc0/7\" rel=\"nofollow noreferrer\">https://regex101.com/r/4pqyc0/7</a></p>\n"},{"comments":[{"owner":{"account_id":3472292,"reputation":369,"user_id":4972352,"accept_rate":80,"display_name":"darkgbm"},"score":0,"creation_date":1695390258,"post_id":77154797,"comment_id":136022039,"body_markdown":"Yes this handles edge case better than @blhsing&#39;s solution. For example, this solution would correctly handle &#39;*$11.34 IN THE GAME AND PAID $10.12 FOR THE BEER&#39;.","body":"Yes this handles edge case better than @blhsing&#39;s solution. For example, this solution would correctly handle &#39;*$11.34 IN THE GAME AND PAID $10.12 FOR THE BEER&#39;."},{"owner":{"account_id":3472292,"reputation":369,"user_id":4972352,"accept_rate":80,"display_name":"darkgbm"},"score":0,"creation_date":1695437871,"post_id":77154797,"comment_id":136028285,"body_markdown":"Is there a way to modify the answer so that &#39;LOST! $10.12&#39; is a match? i.e. there is no match only if between LOST and $ there is only \\s*.","body":"Is there a way to modify the answer so that &#39;LOST! $10.12&#39; is a match? i.e. there is no match only if between LOST and $ there is only \\s*."}],"tags":[],"owner":{"account_id":14243549,"reputation":18079,"user_id":10289265,"display_name":"Hao Wu"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695355376,"creation_date":1695355376,"answer_id":77154797,"question_id":77154469,"body_markdown":"Inspired by [blhsing&#39;s answer](https://stackoverflow.com/a/77154641/10289265), I propose this regex that may look cleaner and have wider edge case coverage:\r\n\r\n```\r\n(?:^|(?&lt;!LOST)\\b)\\W*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)\r\n```\r\n\r\n\r\nBecause Java cannot have a non-fixed width lookbehind. The position where you put your lookbehind is crutial.\r\n\r\n\r\n1. Since you don&#39;t want the word before the currency is `LOST`, you may match a word boundary first:\r\n\r\n```\r\n\\b\r\n```\r\n\r\n2. Then you need to make sure that word is not `LOST`\r\n\r\n```\r\n(?&lt;!LOST)\\b\r\n```\r\n\r\n3. After that, put your currency match behind it preceded by optional non-word characters:\r\n\r\n```\r\n(?&lt;!LOST)\\b\\W*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)\r\n```\r\n\r\n4. Then, add some edge cases such as the string starts with the currency:\r\n\r\n```\r\n(?:^|(?&lt;!LOST)\\b)\\W*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)\r\n```\r\n\r\nSee the [test cases](https://regex101.com/r/tD7gWW/1)","title":"A specific question about regular expression related to fixed width negative look-behind","body":"<p>Inspired by <a href=\"https://stackoverflow.com/a/77154641/10289265\">blhsing's answer</a>, I propose this regex that may look cleaner and have wider edge case coverage:</p>\n<pre><code>(?:^|(?&lt;!LOST)\\b)\\W*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)\n</code></pre>\n<p>Because Java cannot have a non-fixed width lookbehind. The position where you put your lookbehind is crutial.</p>\n<ol>\n<li>Since you don't want the word before the currency is <code>LOST</code>, you may match a word boundary first:</li>\n</ol>\n<pre><code>\\b\n</code></pre>\n<ol start=\"2\">\n<li>Then you need to make sure that word is not <code>LOST</code></li>\n</ol>\n<pre><code>(?&lt;!LOST)\\b\n</code></pre>\n<ol start=\"3\">\n<li>After that, put your currency match behind it preceded by optional non-word characters:</li>\n</ol>\n<pre><code>(?&lt;!LOST)\\b\\W*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)\n</code></pre>\n<ol start=\"4\">\n<li>Then, add some edge cases such as the string starts with the currency:</li>\n</ol>\n<pre><code>(?:^|(?&lt;!LOST)\\b)\\W*\\$(?&lt;NUMBER&gt;\\d+(?:\\.\\d+)?)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/tD7gWW/1\" rel=\"nofollow noreferrer\">test cases</a></p>\n"}],"owner":{"account_id":3472292,"reputation":369,"user_id":4972352,"accept_rate":80,"display_name":"darkgbm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77154640,"answer_count":4,"score":3,"last_activity_date":1695443785,"creation_date":1695347111,"question_id":77154469,"body_markdown":"I am writing a regular expression (for use in Java, if that is important) that attempts to match the number (could be a float) after a $ (allows spaced between the $ and the number), but only if the word immediately preceding it is not the word &#39;LOST&#39;.\r\n\r\nIf there are multiple possible matches, the first number should be returned.\r\n\r\nFor simplicity, assume all are upper-case.\r\n\r\nFor example, in the following sentence: &quot;I PAID $10.12 FOR THE BEER&quot;, 10.12 will be matched. For the sentence &quot;I LOST $11.34 IN THE GAME&quot;, there will not be a match. For &quot;I LOST $11.34 IN THE GAME AND PAID $10.12 FOR THE BEER&quot;, 10.12 will still be matched.\r\n\r\nThe regular expression I come up with is\r\n\r\n```\r\n.*?(?&lt;!LOST )[$]\\s*(?&lt;NUMBER&gt;[0-9]*[.]?[0-9]*).*\r\n```\r\n\r\nMy regular expression generally works fine, though I wonder if there is an easier way to write it/if I am missing any corner case. One slight issue is if there is more than 1 white-space between LOST and $, I still do not want to match but currently my regular expression will match. Unfortunately, negative look-behind have to have fixed width.\r\n\r\nClarification: To clarify, when I say &quot;the word immediately preceding it is not the word &#39;LOST&#39;&quot;, I meant that before &#39;$&#39; there cannot be &#39;LOST\\s*&#39;. This means that both &#39;LOST $123&#39; and &#39;LOST    $123&#39; should not match 123, but &#39;LOST! $123&#39; can match 123. The rationale is that the currency should not be directly &#39;acted on&#39; by LOST; if there is anything other than \\s between LOST and $, then there is a good chance the currency is not directly &#39;acted on&#39; by LOST.","title":"A specific question about regular expression related to fixed width negative look-behind","body":"<p>I am writing a regular expression (for use in Java, if that is important) that attempts to match the number (could be a float) after a $ (allows spaced between the $ and the number), but only if the word immediately preceding it is not the word 'LOST'.</p>\n<p>If there are multiple possible matches, the first number should be returned.</p>\n<p>For simplicity, assume all are upper-case.</p>\n<p>For example, in the following sentence: &quot;I PAID $10.12 FOR THE BEER&quot;, 10.12 will be matched. For the sentence &quot;I LOST $11.34 IN THE GAME&quot;, there will not be a match. For &quot;I LOST $11.34 IN THE GAME AND PAID $10.12 FOR THE BEER&quot;, 10.12 will still be matched.</p>\n<p>The regular expression I come up with is</p>\n<pre><code>.*?(?&lt;!LOST )[$]\\s*(?&lt;NUMBER&gt;[0-9]*[.]?[0-9]*).*\n</code></pre>\n<p>My regular expression generally works fine, though I wonder if there is an easier way to write it/if I am missing any corner case. One slight issue is if there is more than 1 white-space between LOST and $, I still do not want to match but currently my regular expression will match. Unfortunately, negative look-behind have to have fixed width.</p>\n<p>Clarification: To clarify, when I say &quot;the word immediately preceding it is not the word 'LOST'&quot;, I meant that before '$' there cannot be 'LOST\\s*'. This means that both 'LOST $123' and 'LOST    $123' should not match 123, but 'LOST! $123' can match 123. The rationale is that the currency should not be directly 'acted on' by LOST; if there is anything other than \\s between LOST and $, then there is a good chance the currency is not directly 'acted on' by LOST.</p>\n"},{"tags":["java","proxy","ioexception","tunneling"],"comments":[{"owner":{"account_id":70406,"reputation":6079,"user_id":204205,"display_name":"Jakub Hol&#253;"},"score":0,"creation_date":1538645986,"post_id":42904148,"comment_id":92219331,"body_markdown":"See https://stackoverflow.com/questions/44328077/unable-to-tunnel-through-proxy-proxy-returns-http-1-1-503-service-unavailable for a similar but somewhat different case.","body":"See <a href=\"https://stackoverflow.com/questions/44328077/unable-to-tunnel-through-proxy-proxy-returns-http-1-1-503-service-unavailable\" title=\"unable to tunnel through proxy proxy returns http 1 1 503 service unavailable\">stackoverflow.com/questions/44328077/&hellip;</a> for a similar but somewhat different case."}],"answers":[{"tags":[],"owner":{"account_id":70406,"reputation":6079,"user_id":204205,"display_name":"Jakub Hol&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538646023,"creation_date":1538646023,"answer_id":52643578,"question_id":42904148,"body_markdown":"What helped to me was to unset all proxy properties in the environment (`http_proxy` etc env variables; java properties such as `-Dhttp.proxyHost=..` had, surprisingly, no effect). My URL (https://mycompany.example.com/service) was accessible directly (because it was on the internal network) but not through the proxy.\r\n\r\nSo check where the service lives and check for proxy-related environment variables.","title":"Unable to tunnel through proxy. Proxy returns HTTP/1.1 503 Service Unavailable","body":"<p>What helped to me was to unset all proxy properties in the environment (<code>http_proxy</code> etc env variables; java properties such as <code>-Dhttp.proxyHost=..</code> had, surprisingly, no effect). My URL (<a href=\"https://mycompany.example.com/service\" rel=\"nofollow noreferrer\">https://mycompany.example.com/service</a>) was accessible directly (because it was on the internal network) but not through the proxy.</p>\n\n<p>So check where the service lives and check for proxy-related environment variables.</p>\n"},{"tags":[],"owner":{"account_id":4451500,"reputation":772,"user_id":3623232,"display_name":"Guillermo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551019239,"creation_date":1551019239,"answer_id":54852982,"question_id":42904148,"body_markdown":"I hade a similar case. I&#39;m using the maven `jaxws-maven-plugin` plugin and trying to generate java code from a WSDL laying on another server.\r\nThe problem was that the plugin is picking up the environment variable `httpproxy`, but not the `noproxy` variable. I solved that by adding it manually as a JVM argument:\r\n\r\n    &lt;plugin&gt;\r\n\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;wsdltoJava&lt;/id&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;wsimport&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;wsdlUrls&gt;\r\n\t\t\t\t\t&lt;wsdlUrl&gt;https://someService.yourcompany.net/Service/Service?wsdl&lt;/wsdlUrl&gt;\r\n\t\t\t\t&lt;/wsdlUrls&gt;\r\n\t\t\t\t&lt;vmArgs&gt;\r\n\t\t\t\t\t&lt;vmArg&gt;-Dhttp.nonProxyHosts=*.yourcompany.net&lt;/vmArg&gt;\r\n\t\t\t\t&lt;/vmArgs&gt;\r\n\t\t\t\t&lt;keep&gt;true&lt;/keep&gt;\r\n\t\t\t\t&lt;packageName&gt;com.yourcompany.package&lt;/packageName&gt;\r\n\t\t\t\t&lt;sourceDestDir&gt;your/target/directory&lt;/sourceDestDir&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;","title":"Unable to tunnel through proxy. Proxy returns HTTP/1.1 503 Service Unavailable","body":"<p>I hade a similar case. I'm using the maven <code>jaxws-maven-plugin</code> plugin and trying to generate java code from a WSDL laying on another server.\nThe problem was that the plugin is picking up the environment variable <code>httpproxy</code>, but not the <code>noproxy</code> variable. I solved that by adding it manually as a JVM argument:</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.4.1&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;wsdltoJava&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;wsimport&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;wsdlUrls&gt;\n                &lt;wsdlUrl&gt;https://someService.yourcompany.net/Service/Service?wsdl&lt;/wsdlUrl&gt;\n            &lt;/wsdlUrls&gt;\n            &lt;vmArgs&gt;\n                &lt;vmArg&gt;-Dhttp.nonProxyHosts=*.yourcompany.net&lt;/vmArg&gt;\n            &lt;/vmArgs&gt;\n            &lt;keep&gt;true&lt;/keep&gt;\n            &lt;packageName&gt;com.yourcompany.package&lt;/packageName&gt;\n            &lt;sourceDestDir&gt;your/target/directory&lt;/sourceDestDir&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n<p></p>\n"}],"owner":{"account_id":1052952,"reputation":543,"user_id":1056380,"accept_rate":72,"display_name":"ManKeer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26029,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1695442106,"creation_date":1490014390,"question_id":42904148,"body_markdown":"I want to connect to an intranet server, the url that I need to connect is:\r\n\r\n    URLConnection conn = new URL(&quot;https://mywebsite&quot;).openConnection();\r\n\r\nWhen I reach to the connect method call through:`\r\n\r\n    conn.connect();\r\n\r\nI&#39;m getting the following exception:\r\n\r\n    java.io.IOException: Unable to tunnel through proxy. Proxy rerurns HTTP/1.1 503 Service Unavailable&quot;\r\n    at sun.net.www.protocol.httpHttpURLConnection.doTunneling\r\n\r\nHow can I solve this exception, I have tried many solutions published on the net, but without any luck.","title":"Unable to tunnel through proxy. Proxy returns HTTP/1.1 503 Service Unavailable","body":"<p>I want to connect to an intranet server, the url that I need to connect is:</p>\n\n<pre><code>URLConnection conn = new URL(\"https://mywebsite\").openConnection();\n</code></pre>\n\n<p>When I reach to the connect method call through:`</p>\n\n<pre><code>conn.connect();\n</code></pre>\n\n<p>I'm getting the following exception:</p>\n\n<pre><code>java.io.IOException: Unable to tunnel through proxy. Proxy rerurns HTTP/1.1 503 Service Unavailable\"\nat sun.net.www.protocol.httpHttpURLConnection.doTunneling\n</code></pre>\n\n<p>How can I solve this exception, I have tried many solutions published on the net, but without any luck.</p>\n"},{"tags":["java","spring","spring-mvc","java-8"],"answers":[{"tags":[],"owner":{"account_id":1930468,"reputation":2187,"user_id":1739949,"display_name":"Barani r"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695441594,"creation_date":1695441594,"answer_id":77161602,"question_id":70950905,"body_markdown":"If you get this error while using spring boot, try following:\r\n\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = { Exception.class })\r\n    private void deleteResult(LabResInvstResult dto, List&lt;Long&gt; relInvstid) {\r\n        try{\r\n            labResultRepo.deleteById(dto.getId());          \r\n            LabResInvstResult result = labResultRepo.save(dto);\r\n    \r\n        }catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nOn delete it throws an exception &quot;Caused by: javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread – cannot reliably process &#39;remove&#39; call&quot;","title":"No EntityManager with actual transaction available for current thread - cannot reliably process &#39;remove&#39; call","body":"<p>If you get this error while using spring boot, try following:</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = { Exception.class })\nprivate void deleteResult(LabResInvstResult dto, List&lt;Long&gt; relInvstid) {\n    try{\n        labResultRepo.deleteById(dto.getId());          \n        LabResInvstResult result = labResultRepo.save(dto);\n\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>On delete it throws an exception &quot;Caused by: javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread – cannot reliably process 'remove' call&quot;</p>\n"}],"owner":{"account_id":17763021,"reputation":3757,"user_id":12898581,"display_name":"Dhanusha_Perera07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1233,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695441594,"creation_date":1643779972,"question_id":70950905,"body_markdown":"### API Requests using Postman\r\n\r\n- I tried to send HTTP requests to the java backend web server application and perform CRUD operations. `GET` operations are working fine and gave back the proper response but save, update and delete operations gave the following error. \r\n- Please note that there are three customer records in my database and I tried to send HTTP requests as follows;\r\n\r\n1. GET http://localhost:8080/tms/api/v1/customers   ---&gt; Successful ✔\r\n2. GET http://localhost:8080/tms/api/v1/customers/3   ---&gt; Successful ✔\r\n2. DELETE http://localhost:8080/tms/api/v1/customers/3   ---&gt; Unsuccessful ❌\r\n\r\n### Error Log\r\n\r\n```console\r\nCustomer ID: 2\r\n02-Feb-2022 09:59:11.271 SEVERE [http-nio-8080-exec-2] com.myapp.web.api.exceptionhandler.AppWideExceptionHandler.globalExceptionHandler null\r\n\tjavax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process &#39;remove&#39; call\r\n\t\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:295)\r\n\t\tat com.sun.proxy.$Proxy80.remove(Unknown Source)\r\n\t\tat com.myapp.web.dal.CrudDAOImpl.delete(CrudDAOImpl.java:67)\r\n\t\tat com.myapp.web.business.custom.impl.CustomerBOImpl.deleteCustomer(CustomerBOImpl.java:79)\r\n\t\tat com.myapp.web.api.CustomerController.deleteCustomer(CustomerController.java:116)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\t\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n### API Layer\r\n\r\n1. CustomerController.java\r\n\r\n```java\r\npackage com.myapp.web.api;\r\n\r\nimport com.myapp.web.api.util.ApiUtil;\r\nimport com.myapp.web.business.custom.CustomerBO;\r\nimport com.myapp.web.dto.CustomerDTO;\r\nimport com.myapp.web.exception.IdFormatException;\r\nimport com.myapp.web.exception.RecordNotFoundException;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@CrossOrigin(origins = &quot;http://localhost:8080&quot;)\r\n@RequestMapping(&quot;/api/v1/customers&quot;)\r\n@RestController\r\npublic class CustomerController {\r\n\r\n    @Autowired\r\n    private CustomerBO customerBO;\r\n\r\n    /**\r\n     * Get all customers list.\r\n     *\r\n     * @return List&lt;CustomerDTO&gt; customersList.\r\n     */\r\n    @GetMapping(produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public List&lt;CustomerDTO&gt; getAllCustomers() throws Exception {\r\n        return customerBO.getAllCustomers();\r\n    }\r\n\r\n    /**\r\n     * Get customer by customer ID.\r\n     *\r\n     * @return CustomerDTO customer object.\r\n     * @throws IdFormatException       if the ID is not an Integer.\r\n     * @throws RecordNotFoundException if matching customer record not found,\r\n     */\r\n    @GetMapping(produces = MediaType.APPLICATION_JSON_VALUE,\r\n            value = &quot;/{id:\\\\d}&quot;)\r\n    public CustomerDTO getCustomerByID(@PathVariable(name = &quot;id&quot;) String id) throws Exception {\r\n        System.out.println(&quot;CustomerID: &quot; + id);\r\n\r\n        Integer customerID = ApiUtil.getIntegerId(id);\r\n\r\n        CustomerDTO customer = customerBO.getCustomerByID(customerID);\r\n        System.out.println(&quot;Customer Result: &quot; + customer);\r\n\r\n        /* If customer not found. */\r\n        if (customer == null) throw new RecordNotFoundException();\r\n        return customer;\r\n    }\r\n\r\n    /**\r\n     * Delete customer by Customer ID.\r\n     */\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    @DeleteMapping(value = &quot;/{id:\\\\d}&quot;)\r\n    public void deleteCustomer(@PathVariable String id) throws Exception {\r\n        Integer customerID = ApiUtil.getIntegerId(id);\r\n        System.out.println(&quot;Customer ID: &quot; + customerID);\r\n        customerBO.deleteCustomer(customerID);\r\n    }\r\n\r\n}\r\n```\r\n\r\n### Business Layer\r\n\r\n1. SuperBO.java\r\n\r\n```java\r\npackage com.myapp.web.business;\r\n\r\npublic interface SuperBO {\r\n}\r\n```\r\n\r\n2. CustomerBOImpl.java\r\n\r\n```java\r\npackage com.myapp.web.business.custom.impl;\r\n\r\nimport com.myapp.web.business.custom.CustomerBO;\r\nimport com.myapp.web.business.custom.util.mapper.CustomerDTOMapper;\r\nimport com.myapp.web.dal.custom.CustomerDAO;\r\nimport com.myapp.web.dto.CustomerDTO;\r\nimport com.myapp.web.entity.Customer;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.List;\r\n\r\n@NoArgsConstructor\r\n@Transactional\r\n@Service\r\npublic class CustomerBOImpl implements CustomerBO {\r\n\r\n    @Autowired\r\n    private CustomerDAO customerDAO;\r\n\r\n    @Autowired\r\n    private CustomerDTOMapper mapper;\r\n\r\n    @Override\r\n    public void deleteCustomer(int customerID) throws Exception {\r\n        /* delete. */\r\n        this.customerDAO.delete(customerID);\r\n    }\r\n\r\n    @Transactional(readOnly = true)\r\n    @Override\r\n    public CustomerDTO getCustomerByID(int customerID) throws Exception {\r\n        /* get customer by customer ID. */\r\n        return this.mapper.getCustomerDTO(this.customerDAO.get(customerID));\r\n    }\r\n\r\n    @Transactional(readOnly = true)\r\n    @Override\r\n    public List&lt;CustomerDTO&gt; getAllCustomers() throws Exception {\r\n        /* get all customers. */\r\n        return this.mapper.getCustomerDTOs(this.customerDAO.getAll());\r\n    }\r\n}\r\n```\r\n\r\n3. CustomerDTOMapper.java\r\n\r\n```java\r\npackage com.myapp.web.business.custom.util.mapper;\r\n\r\nimport com.myapp.web.dto.CustomerDTO;\r\nimport com.myapp.web.entity.Customer;\r\nimport org.mapstruct.Mapper;\r\n\r\nimport java.util.List;\r\n\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic abstract class CustomerDTOMapper {\r\n\r\n    /*  -------------------- Customer  -------------------- */\r\n    public abstract Customer getCustomer(CustomerDTO customerDTO);\r\n\r\n    public abstract CustomerDTO getCustomerDTO(Customer customer);\r\n\r\n    public abstract List&lt;CustomerDTO&gt; getCustomerDTOs(List&lt;Customer&gt; customerList);\r\n}\r\n```\r\n\r\n### Data Access Layer\r\n\r\n1. SuperDAO.java\r\n\r\n```java\r\npackage com.myapp.web.dal;\r\n\r\nimport javax.persistence.EntityManager;\r\n\r\npublic interface SuperDAO {\r\n    EntityManager getEntityManager();\r\n}\r\n\r\n```\r\n\r\n2. CrudDAO.java\r\n\r\n```java\r\npackage com.myapp.web.dal;\r\n\r\nimport com.myapp.web.entity.SuperEntity;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.List;\r\n\r\npublic interface CrudDAO&lt;T extends SuperEntity&lt;Serializable&gt;, PK extends Serializable&gt; extends SuperDAO {\r\n\r\n    /**\r\n     * saving an entity and return the entity.\r\n     *\r\n     * @return T SuperEntity. */\r\n    T save(T entity) throws Exception;\r\n\r\n    void update(T entity) throws Exception;\r\n\r\n    void delete(PK key) throws Exception;\r\n\r\n    T get(PK key) throws Exception;\r\n\r\n    List&lt;T&gt; getAll() throws Exception;\r\n}\r\n```\r\n\r\n3. CrudDAOImpl.java\r\n\r\n```java\r\npackage com.myapp.web.dal;\r\n\r\nimport com.myapp.web.entity.SuperEntity;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.PersistenceContext;\r\nimport java.io.Serializable;\r\nimport java.lang.reflect.ParameterizedType;\r\nimport java.util.List;\r\n\r\npublic class CrudDAOImpl&lt;T extends SuperEntity&lt;Serializable&gt;, K extends Serializable&gt; implements CrudDAO&lt;T, K&gt; {\r\n\r\n    private final Class&lt;T&gt; entityClass;\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    public CrudDAOImpl() {\r\n        this.entityClass =\r\n                (Class&lt;T&gt;) (((ParameterizedType) (this.getClass().getGenericSuperclass())).getActualTypeArguments()[0]);\r\n    }\r\n\r\n    /**\r\n     * This method is used to pass the EntityManager to the lower level classes that extend the CrudDAOImpl class.\r\n     */\r\n    public EntityManager getEntityManager() {\r\n        return this.entityManager;\r\n    }\r\n\r\n    @Override\r\n    public void delete(K key) throws Exception {\r\n        this.entityManager.remove(key);\r\n    }\r\n\r\n    @Override\r\n    public T get(K key) throws Exception {\r\n        return this.entityManager.find(this.entityClass, key);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;T&gt; getAll() throws Exception {\r\n        List&lt;T&gt; resultList = (List&lt;T&gt;) this.entityManager.\r\n                createQuery(&quot;SELECT e FROM &quot; + this.entityClass.getName() + &quot; e&quot;).getResultList();\r\n        return resultList;\r\n    }\r\n}\r\n```\r\n\r\n4. CustomerDAO.java\r\n\r\n```java\r\npackage com.myapp.web.dal.custom;\r\n\r\nimport com.myapp.web.dal.CrudDAO;\r\nimport com.myapp.web.entity.Customer;\r\n\r\npublic interface CustomerDAO extends CrudDAO&lt;Customer, Integer&gt; {\r\n}\r\n```\r\n\r\n5. CustomerDAOImpl.java\r\n\r\n```java\r\npackage com.myapp.web.dal.custom.impl;\r\n\r\nimport com.myapp.web.dal.CrudDAOImpl;\r\nimport com.myapp.web.dal.custom.CustomerDAO;\r\nimport com.myapp.web.entity.Customer;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic class CustomerDAOImpl extends CrudDAOImpl&lt;Customer, Integer&gt; implements CustomerDAO {\r\n}\r\n```\r\n\r\n### Here&#39;s what I have tried.\r\n\r\nI tried unit testing. BO layer and DAO layer unit test case worked as intended but when I check the API by sending HTTP request using Postman, save, update and delete cannot be performed using the API.\r\n\r\n1. CustomerDAOImplTest.java ----&gt; TEST PASSED ! ✔\r\n\r\n```java\r\npackage com.myapp.web.dal.custom.impl;\r\n\r\nimport com.myapp.web.WebAppConfig;\r\nimport com.myapp.web.WebRootConfig;\r\nimport com.myapp.web.dal.custom.CustomerDAO;\r\nimport com.myapp.web.entity.Customer;\r\nimport com.myapp.web.entity.enumeration.GenderTypes;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\nimport org.springframework.test.context.web.WebAppConfiguration;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.junit.Assert.*;\r\n\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@WebAppConfiguration\r\n@ContextConfiguration(classes = {WebRootConfig.class, WebAppConfig.class})\r\npublic class CustomerDAOImplTest {\r\n\r\n    @Autowired\r\n    private CustomerDAO customerDAO;\r\n\r\n    @Test\r\n    public void checkCustomerDAO() {\r\n        assertNotNull(customerDAO);\r\n    }\r\n\r\n    @Transactional\r\n    @Test\r\n    public void getCustomerByID() throws Exception {\r\n        assertNotNull(customerDAO);\r\n\r\n        Customer customer = this.customerDAO.get(10);\r\n        System.out.println(&quot;GET Customer Entity: &quot; + customer);\r\n        assertNotNull(customer);\r\n    }\r\n\r\n    @Test\r\n    public void getAllCustomers() throws Exception {\r\n        List&lt;Customer&gt; customersList = this.customerDAO.getAll();\r\n        assertEquals(2, customersList.size());\r\n    }\r\n\r\n\r\n    @Transactional\r\n    @Test\r\n    public void deleteCustomer() throws Exception {\r\n        assertNotNull(this.customerDAO);\r\n\r\n        /* delete */\r\n        this.customerDAO.delete(3);\r\n\r\n        Customer customerFromDB = this.customerDAO.get(10);\r\n        assertNull(customerFromDB);\r\n    }\r\n}\r\n```\r\n\r\n[![CustomerDAOImplTest-delete][1]][1]\r\n\r\n2. CustomerBOImpl.java ----&gt; TEST PASSED ! ✔\r\n\r\n```java\r\npackage com.myapp.web.business.custom.impl;\r\n\r\nimport com.myapp.web.WebAppConfig;\r\nimport com.myapp.web.WebRootConfig;\r\nimport com.myapp.web.business.custom.CustomerBO;\r\nimport com.myapp.web.dto.CustomerDTO;\r\nimport com.myapp.web.entity.enumeration.GenderTypes;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\nimport org.springframework.test.context.web.WebAppConfiguration;\r\n\r\nimport static org.junit.Assert.assertNotNull;\r\nimport static org.junit.Assert.assertNull;\r\n\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@WebAppConfiguration\r\n@ContextConfiguration(classes = {WebRootConfig.class, WebAppConfig.class})\r\npublic class CustomerBOImplTest {\r\n\r\n    @Autowired\r\n    private CustomerBO customerBO;\r\n\r\n    @Test\r\n    public void checkCustomerBO() {\r\n        assertNotNull(customerBO);\r\n    }\r\n\r\n    //    @Transactional\r\n    @Test\r\n    public void deleteCustomer() throws Exception {\r\n        assertNotNull(this.customerBO);\r\n\r\n        /* delete */\r\n        this.customerBO.deleteCustomer(3);\r\n\r\n        CustomerDTO customerDTOFromDB = this.customerBO.getCustomerByID(10);\r\n        assertNull(customerDTOFromDB);\r\n    }\r\n\r\n}\r\n```\r\n[![CustomerBOImplTest-delete][2]][2]\r\n\r\n\r\n### pom.xml dependencies\r\n\r\n```xml\r\n\r\n&lt;dependencies&gt;\r\n\r\n    &lt;!-- Servlet-API --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- MySQL connector --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.27&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- SLF4J for logging--&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-jdk14 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0-alpha1&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Junit4 for unit testing --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;version&gt;4.13.2&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Apache Commons Validator --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/commons-validator/commons-validator --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- mapstruct --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- lombok  --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.22&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Hibernate --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- Apache Commons Codecs --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n        &lt;version&gt;1.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- Spring Data Access ==================================================================== --&gt;\r\n\r\n    &lt;!--Spring ORM --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.14&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Apache Commons DBCP --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-dbcp2 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Spring Data Access - Spring AOP - Aspectj ========================================== --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.7&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Spring Web MVC =================================================================== --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- JACKSON DATABIND --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!--Jackson Datatype--&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!--Spring TestContext Framework--&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.15&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;/dependencies&gt;\r\n\r\n```\r\n\r\n### Development Enviroment\r\n\r\n 1. Java 8\r\n 2. Tomcat 9\r\n\r\nI refer to these following questions and answers but, I could not fix the issue. I would appreciate some help to fix the\r\nerror and, understand the error.\r\n\r\n1. https://stackoverflow.com/a/32552558/12898581\r\n2. https://stackoverflow.com/q/43901381/12898581\r\n3. https://www.wilfriedbarth.com/til/2018-03-31-spring-transactional-annotation/\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N6bbx.png\r\n  [2]: https://i.stack.imgur.com/7xL6v.png","title":"No EntityManager with actual transaction available for current thread - cannot reliably process &#39;remove&#39; call","body":"<h3>API Requests using Postman</h3>\n<ul>\n<li>I tried to send HTTP requests to the java backend web server application and perform CRUD operations. <code>GET</code> operations are working fine and gave back the proper response but save, update and delete operations gave the following error.</li>\n<li>Please note that there are three customer records in my database and I tried to send HTTP requests as follows;</li>\n</ul>\n<ol>\n<li>GET http://localhost:8080/tms/api/v1/customers   ---&gt; Successful ✔</li>\n<li>GET http://localhost:8080/tms/api/v1/customers/3   ---&gt; Successful ✔</li>\n<li>DELETE http://localhost:8080/tms/api/v1/customers/3   ---&gt; Unsuccessful ❌</li>\n</ol>\n<h3>Error Log</h3>\n<pre><code>Customer ID: 2\n02-Feb-2022 09:59:11.271 SEVERE [http-nio-8080-exec-2] com.myapp.web.api.exceptionhandler.AppWideExceptionHandler.globalExceptionHandler null\n    javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process 'remove' call\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:295)\n        at com.sun.proxy.$Proxy80.remove(Unknown Source)\n        at com.myapp.web.dal.CrudDAOImpl.delete(CrudDAOImpl.java:67)\n        at com.myapp.web.business.custom.impl.CustomerBOImpl.deleteCustomer(CustomerBOImpl.java:79)\n        at com.myapp.web.api.CustomerController.deleteCustomer(CustomerController.java:116)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:931)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<h3>API Layer</h3>\n<ol>\n<li>CustomerController.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.api;\n\nimport com.myapp.web.api.util.ApiUtil;\nimport com.myapp.web.business.custom.CustomerBO;\nimport com.myapp.web.dto.CustomerDTO;\nimport com.myapp.web.exception.IdFormatException;\nimport com.myapp.web.exception.RecordNotFoundException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@CrossOrigin(origins = &quot;http://localhost:8080&quot;)\n@RequestMapping(&quot;/api/v1/customers&quot;)\n@RestController\npublic class CustomerController {\n\n    @Autowired\n    private CustomerBO customerBO;\n\n    /**\n     * Get all customers list.\n     *\n     * @return List&lt;CustomerDTO&gt; customersList.\n     */\n    @GetMapping(produces = MediaType.APPLICATION_JSON_VALUE)\n    public List&lt;CustomerDTO&gt; getAllCustomers() throws Exception {\n        return customerBO.getAllCustomers();\n    }\n\n    /**\n     * Get customer by customer ID.\n     *\n     * @return CustomerDTO customer object.\n     * @throws IdFormatException       if the ID is not an Integer.\n     * @throws RecordNotFoundException if matching customer record not found,\n     */\n    @GetMapping(produces = MediaType.APPLICATION_JSON_VALUE,\n            value = &quot;/{id:\\\\d}&quot;)\n    public CustomerDTO getCustomerByID(@PathVariable(name = &quot;id&quot;) String id) throws Exception {\n        System.out.println(&quot;CustomerID: &quot; + id);\n\n        Integer customerID = ApiUtil.getIntegerId(id);\n\n        CustomerDTO customer = customerBO.getCustomerByID(customerID);\n        System.out.println(&quot;Customer Result: &quot; + customer);\n\n        /* If customer not found. */\n        if (customer == null) throw new RecordNotFoundException();\n        return customer;\n    }\n\n    /**\n     * Delete customer by Customer ID.\n     */\n    @ResponseStatus(HttpStatus.NO_CONTENT)\n    @DeleteMapping(value = &quot;/{id:\\\\d}&quot;)\n    public void deleteCustomer(@PathVariable String id) throws Exception {\n        Integer customerID = ApiUtil.getIntegerId(id);\n        System.out.println(&quot;Customer ID: &quot; + customerID);\n        customerBO.deleteCustomer(customerID);\n    }\n\n}\n</code></pre>\n<h3>Business Layer</h3>\n<ol>\n<li>SuperBO.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.business;\n\npublic interface SuperBO {\n}\n</code></pre>\n<ol start=\"2\">\n<li>CustomerBOImpl.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.business.custom.impl;\n\nimport com.myapp.web.business.custom.CustomerBO;\nimport com.myapp.web.business.custom.util.mapper.CustomerDTOMapper;\nimport com.myapp.web.dal.custom.CustomerDAO;\nimport com.myapp.web.dto.CustomerDTO;\nimport com.myapp.web.entity.Customer;\nimport lombok.NoArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\n\n@NoArgsConstructor\n@Transactional\n@Service\npublic class CustomerBOImpl implements CustomerBO {\n\n    @Autowired\n    private CustomerDAO customerDAO;\n\n    @Autowired\n    private CustomerDTOMapper mapper;\n\n    @Override\n    public void deleteCustomer(int customerID) throws Exception {\n        /* delete. */\n        this.customerDAO.delete(customerID);\n    }\n\n    @Transactional(readOnly = true)\n    @Override\n    public CustomerDTO getCustomerByID(int customerID) throws Exception {\n        /* get customer by customer ID. */\n        return this.mapper.getCustomerDTO(this.customerDAO.get(customerID));\n    }\n\n    @Transactional(readOnly = true)\n    @Override\n    public List&lt;CustomerDTO&gt; getAllCustomers() throws Exception {\n        /* get all customers. */\n        return this.mapper.getCustomerDTOs(this.customerDAO.getAll());\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>CustomerDTOMapper.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.business.custom.util.mapper;\n\nimport com.myapp.web.dto.CustomerDTO;\nimport com.myapp.web.entity.Customer;\nimport org.mapstruct.Mapper;\n\nimport java.util.List;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic abstract class CustomerDTOMapper {\n\n    /*  -------------------- Customer  -------------------- */\n    public abstract Customer getCustomer(CustomerDTO customerDTO);\n\n    public abstract CustomerDTO getCustomerDTO(Customer customer);\n\n    public abstract List&lt;CustomerDTO&gt; getCustomerDTOs(List&lt;Customer&gt; customerList);\n}\n</code></pre>\n<h3>Data Access Layer</h3>\n<ol>\n<li>SuperDAO.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.dal;\n\nimport javax.persistence.EntityManager;\n\npublic interface SuperDAO {\n    EntityManager getEntityManager();\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>CrudDAO.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.dal;\n\nimport com.myapp.web.entity.SuperEntity;\n\nimport java.io.Serializable;\nimport java.util.List;\n\npublic interface CrudDAO&lt;T extends SuperEntity&lt;Serializable&gt;, PK extends Serializable&gt; extends SuperDAO {\n\n    /**\n     * saving an entity and return the entity.\n     *\n     * @return T SuperEntity. */\n    T save(T entity) throws Exception;\n\n    void update(T entity) throws Exception;\n\n    void delete(PK key) throws Exception;\n\n    T get(PK key) throws Exception;\n\n    List&lt;T&gt; getAll() throws Exception;\n}\n</code></pre>\n<ol start=\"3\">\n<li>CrudDAOImpl.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.dal;\n\nimport com.myapp.web.entity.SuperEntity;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\nimport java.io.Serializable;\nimport java.lang.reflect.ParameterizedType;\nimport java.util.List;\n\npublic class CrudDAOImpl&lt;T extends SuperEntity&lt;Serializable&gt;, K extends Serializable&gt; implements CrudDAO&lt;T, K&gt; {\n\n    private final Class&lt;T&gt; entityClass;\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    public CrudDAOImpl() {\n        this.entityClass =\n                (Class&lt;T&gt;) (((ParameterizedType) (this.getClass().getGenericSuperclass())).getActualTypeArguments()[0]);\n    }\n\n    /**\n     * This method is used to pass the EntityManager to the lower level classes that extend the CrudDAOImpl class.\n     */\n    public EntityManager getEntityManager() {\n        return this.entityManager;\n    }\n\n    @Override\n    public void delete(K key) throws Exception {\n        this.entityManager.remove(key);\n    }\n\n    @Override\n    public T get(K key) throws Exception {\n        return this.entityManager.find(this.entityClass, key);\n    }\n\n    @Override\n    public List&lt;T&gt; getAll() throws Exception {\n        List&lt;T&gt; resultList = (List&lt;T&gt;) this.entityManager.\n                createQuery(&quot;SELECT e FROM &quot; + this.entityClass.getName() + &quot; e&quot;).getResultList();\n        return resultList;\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>CustomerDAO.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.dal.custom;\n\nimport com.myapp.web.dal.CrudDAO;\nimport com.myapp.web.entity.Customer;\n\npublic interface CustomerDAO extends CrudDAO&lt;Customer, Integer&gt; {\n}\n</code></pre>\n<ol start=\"5\">\n<li>CustomerDAOImpl.java</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.dal.custom.impl;\n\nimport com.myapp.web.dal.CrudDAOImpl;\nimport com.myapp.web.dal.custom.CustomerDAO;\nimport com.myapp.web.entity.Customer;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic class CustomerDAOImpl extends CrudDAOImpl&lt;Customer, Integer&gt; implements CustomerDAO {\n}\n</code></pre>\n<h3>Here's what I have tried.</h3>\n<p>I tried unit testing. BO layer and DAO layer unit test case worked as intended but when I check the API by sending HTTP request using Postman, save, update and delete cannot be performed using the API.</p>\n<ol>\n<li>CustomerDAOImplTest.java ----&gt; TEST PASSED ! ✔</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.dal.custom.impl;\n\nimport com.myapp.web.WebAppConfig;\nimport com.myapp.web.WebRootConfig;\nimport com.myapp.web.dal.custom.CustomerDAO;\nimport com.myapp.web.entity.Customer;\nimport com.myapp.web.entity.enumeration.GenderTypes;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.web.WebAppConfiguration;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\n\nimport static org.junit.Assert.*;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration(classes = {WebRootConfig.class, WebAppConfig.class})\npublic class CustomerDAOImplTest {\n\n    @Autowired\n    private CustomerDAO customerDAO;\n\n    @Test\n    public void checkCustomerDAO() {\n        assertNotNull(customerDAO);\n    }\n\n    @Transactional\n    @Test\n    public void getCustomerByID() throws Exception {\n        assertNotNull(customerDAO);\n\n        Customer customer = this.customerDAO.get(10);\n        System.out.println(&quot;GET Customer Entity: &quot; + customer);\n        assertNotNull(customer);\n    }\n\n    @Test\n    public void getAllCustomers() throws Exception {\n        List&lt;Customer&gt; customersList = this.customerDAO.getAll();\n        assertEquals(2, customersList.size());\n    }\n\n\n    @Transactional\n    @Test\n    public void deleteCustomer() throws Exception {\n        assertNotNull(this.customerDAO);\n\n        /* delete */\n        this.customerDAO.delete(3);\n\n        Customer customerFromDB = this.customerDAO.get(10);\n        assertNull(customerFromDB);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/N6bbx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N6bbx.png\" alt=\"CustomerDAOImplTest-delete\" /></a></p>\n<ol start=\"2\">\n<li>CustomerBOImpl.java ----&gt; TEST PASSED ! ✔</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myapp.web.business.custom.impl;\n\nimport com.myapp.web.WebAppConfig;\nimport com.myapp.web.WebRootConfig;\nimport com.myapp.web.business.custom.CustomerBO;\nimport com.myapp.web.dto.CustomerDTO;\nimport com.myapp.web.entity.enumeration.GenderTypes;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.web.WebAppConfiguration;\n\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertNull;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration(classes = {WebRootConfig.class, WebAppConfig.class})\npublic class CustomerBOImplTest {\n\n    @Autowired\n    private CustomerBO customerBO;\n\n    @Test\n    public void checkCustomerBO() {\n        assertNotNull(customerBO);\n    }\n\n    //    @Transactional\n    @Test\n    public void deleteCustomer() throws Exception {\n        assertNotNull(this.customerBO);\n\n        /* delete */\n        this.customerBO.deleteCustomer(3);\n\n        CustomerDTO customerDTOFromDB = this.customerBO.getCustomerByID(10);\n        assertNull(customerDTOFromDB);\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7xL6v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7xL6v.png\" alt=\"CustomerBOImplTest-delete\" /></a></p>\n<h3>pom.xml dependencies</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;dependencies&gt;\n\n    &lt;!-- Servlet-API --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- MySQL connector --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.27&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- SLF4J for logging--&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-jdk14 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0-alpha1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Junit4 for unit testing --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Apache Commons Validator --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-validator/commons-validator --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- mapstruct --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- lombok  --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.22&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Hibernate --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.6.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Apache Commons Codecs --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-codec/commons-codec --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.15&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Spring Data Access ==================================================================== --&gt;\n\n    &lt;!--Spring ORM --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-orm --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;5.3.14&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Apache Commons DBCP --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-dbcp2 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n        &lt;version&gt;2.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Data Access - Spring AOP - Aspectj ========================================== --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n        &lt;version&gt;1.9.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.9.7&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Web MVC =================================================================== --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.3.15&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JACKSON DATABIND --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--Jackson Datatype--&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;version&gt;2.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!--Spring TestContext Framework--&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;5.3.15&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n</code></pre>\n<h3>Development Enviroment</h3>\n<ol>\n<li>Java 8</li>\n<li>Tomcat 9</li>\n</ol>\n<p>I refer to these following questions and answers but, I could not fix the issue. I would appreciate some help to fix the\nerror and, understand the error.</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/32552558/12898581\">https://stackoverflow.com/a/32552558/12898581</a></li>\n<li><a href=\"https://stackoverflow.com/q/43901381/12898581\">javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread</a></li>\n<li><a href=\"https://www.wilfriedbarth.com/til/2018-03-31-spring-transactional-annotation/\" rel=\"nofollow noreferrer\">https://www.wilfriedbarth.com/til/2018-03-31-spring-transactional-annotation/</a></li>\n</ol>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":3,"creation_date":1695438179,"post_id":77161491,"comment_id":136028299,"body_markdown":"If you define an instance variable `String myString`, it has a type of String, right? So, if you define an instance variable `Account myAccount`, what type would it have? (If you don&#39;t understand what `Account myAccount` means, I suggest you read a beginner-oriented tutorial first.)","body":"If you define an instance variable <code>String myString</code>, it has a type of String, right? So, if you define an instance variable <code>Account myAccount</code>, what type would it have? (If you don&#39;t understand what <code>Account myAccount</code> means, I suggest you read a beginner-oriented tutorial first.)"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1695438263,"post_id":77161491,"comment_id":136028305,"body_markdown":"Also note that Java is case-sensitive, `Account` is not the same as `account`.","body":"Also note that Java is case-sensitive, <code>Account</code> is not the same as <code>account</code>."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":6,"creation_date":1695438320,"post_id":77161491,"comment_id":136028306,"body_markdown":"Besides that: please don&#39;t post images of code, errors, logs, or other text; see [ask]","body":"Besides that: please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1695438393,"post_id":77161491,"comment_id":136028312,"body_markdown":"Thank you for linking to that, @Robert! I&#39;m on my phone, and was too lazy to look up the link. :)","body":"Thank you for linking to that, @Robert! I&#39;m on my phone, and was too lazy to look up the link. :)"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1695438421,"post_id":77161491,"comment_id":136028314,"body_markdown":"https://softwareengineering.stackexchange.com/questions/442830/best-practice-avoid-naming-class-and-field-the-same may be helpful","body":"<a href=\"https://softwareengineering.stackexchange.com/questions/442830/best-practice-avoid-naming-class-and-field-the-same\" title=\"best practice avoid naming class and field the same\">softwareengineering.stackexchange.com/questions/442830/&hellip;</a> may be helpful"},{"owner":{"account_id":29447384,"reputation":1,"user_id":22564400,"display_name":"Mehedee Hossain"},"score":0,"creation_date":1695439191,"post_id":77161491,"comment_id":136028344,"body_markdown":"@yshavit I understand that Account account has a type - Account but my question is aren&#39;t we supposed to use primitive types when defining class attributes like- int, string, double? Or can we use other types as well such as in this case where the type of account is &quot;Account&quot;? I am a bit unsure because I don&#39;t think I was taught this. Earlier I only knew that class attribute types can only be primitive.","body":"@yshavit I understand that Account account has a type - Account but my question is aren&#39;t we supposed to use primitive types when defining class attributes like- int, string, double? Or can we use other types as well such as in this case where the type of account is &quot;Account&quot;? I am a bit unsure because I don&#39;t think I was taught this. Earlier I only knew that class attribute types can only be primitive."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1695439531,"post_id":77161491,"comment_id":136028360,"body_markdown":"*&quot;I quite did not understand the code.&quot;*  - What code?  There is no code!  One image shows some requirements.  The second one shows some type signatures.  But there is no `Account account` there.  OK, so you seem to be rather confused ... but the way that you&#39;ve written your question makes it really hard to understand what you are confused about and what you are actually asking.","body":"<i>&quot;I quite did not understand the code.&quot;</i>  - What code?  There is no code!  One image shows some requirements.  The second one shows some type signatures.  But there is no <code>Account account</code> there.  OK, so you seem to be rather confused ... but the way that you&#39;ve written your question makes it really hard to understand what you are confused about and what you are actually asking."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1695440023,"post_id":77161491,"comment_id":136028383,"body_markdown":"*&quot;Earlier I only knew that class attribute types can only be primitive.&quot;* - Ah.  Finally we get to the source of your confusion.  That knowledge is **incorrect**.  A class attribute (or field as they are more normally called in Java) can have a primitive type OR a reference type.  The reference types are array types, classes, interfaces, enums (and records in Java 16 or later).   So there is absolutely nothing wrong with declaring a field as `Account account`.","body":"<i>&quot;Earlier I only knew that class attribute types can only be primitive.&quot;</i> - Ah.  Finally we get to the source of your confusion.  That knowledge is <b>incorrect</b>.  A class attribute (or field as they are more normally called in Java) can have a primitive type OR a reference type.  The reference types are array types, classes, interfaces, enums (and records in Java 16 or later).   So there is absolutely nothing wrong with declaring a field as <code>Account account</code>."},{"owner":{"account_id":29447384,"reputation":1,"user_id":22564400,"display_name":"Mehedee Hossain"},"score":0,"creation_date":1695440132,"post_id":77161491,"comment_id":136028386,"body_markdown":"@StephenC I apologize as this is my first time posting a question. I have editted my question again. I have attached 2 images. The first one is the question specification and the second one is the plan to solve it. You will notice that in the Fields section of the customer, it&#39;s written Account savingsAccount. I did not understand how &quot;Account&quot; is a type here but I get that logically in real-life scenario.","body":"@StephenC I apologize as this is my first time posting a question. I have editted my question again. I have attached 2 images. The first one is the question specification and the second one is the plan to solve it. You will notice that in the Fields section of the customer, it&#39;s written Account savingsAccount. I did not understand how &quot;Account&quot; is a type here but I get that logically in real-life scenario."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1695440320,"post_id":77161491,"comment_id":136028395,"body_markdown":"`Account` is a type because it is a class and classes are types.  (In fact, they are reference types; see above.)  `Account savingsAccount` is declaring a field called `savingsAccount` whose type is `Account`.  I don&#39;t think we can explain it to you in simpler terms.  Maybe you should talk to your teacher?","body":"<code>Account</code> is a type because it is a class and classes are types.  (In fact, they are reference types; see above.)  <code>Account savingsAccount</code> is declaring a field called <code>savingsAccount</code> whose type is <code>Account</code>.  I don&#39;t think we can explain it to you in simpler terms.  Maybe you should talk to your teacher?"},{"owner":{"account_id":29447384,"reputation":1,"user_id":22564400,"display_name":"Mehedee Hossain"},"score":0,"creation_date":1695440347,"post_id":77161491,"comment_id":136028397,"body_markdown":"@StephenC Thanks for the clarification. I understand now as this makes sense!","body":"@StephenC Thanks for the clarification. I understand now as this makes sense!"}],"answers":[{"tags":[],"owner":{"account_id":28785135,"reputation":98,"user_id":22045779,"display_name":"U Ang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695439045,"creation_date":1695439045,"answer_id":77161525,"question_id":77161491,"body_markdown":"Let&#39;s start from the business requirement, as described in the image you attached, an account should contain two properties including type and balance. \r\n\r\nThe object in java would look like\r\n```\r\nclass Account {\r\n  private string type;\r\n  private int balance;\r\n\r\n  // omit getter/setter\r\n}\r\n\r\nclass User {\r\n  private Account account;\r\n\r\n  // omit getter and setter\r\n\r\n  public Account getAccount() {\r\n    return this.account;\r\n  }\r\n}\r\n```\r\n\r\nThis a business scenario\r\n- you want to get a user&#39;s account&#39;s balance. You code looks like \r\n```\r\nUser user = new User();\r\nuser.getAccount().getBalance();\r\n```\r\n\r\n- you want to get a user&#39;s account&#39;s type. You code looks like \r\n```\r\nuser.getAccount().getType();\r\n```\r\n\r\nTo answer your question, if you define an Account as string, you cannot retrieve the balance and type flexiablely.\r\n\r\nThis is the thinking of object orientied design. Each object points to the real world should be considered as an object. Each object contains multiple attributes.\r\n","title":"Could anyone explain how Account account is a class attribute in this case? How is &quot;Account&quot; a type?","body":"<p>Let's start from the business requirement, as described in the image you attached, an account should contain two properties including type and balance.</p>\n<p>The object in java would look like</p>\n<pre><code>class Account {\n  private string type;\n  private int balance;\n\n  // omit getter/setter\n}\n\nclass User {\n  private Account account;\n\n  // omit getter and setter\n\n  public Account getAccount() {\n    return this.account;\n  }\n}\n</code></pre>\n<p>This a business scenario</p>\n<ul>\n<li>you want to get a user's account's balance. You code looks like</li>\n</ul>\n<pre><code>User user = new User();\nuser.getAccount().getBalance();\n</code></pre>\n<ul>\n<li>you want to get a user's account's type. You code looks like</li>\n</ul>\n<pre><code>user.getAccount().getType();\n</code></pre>\n<p>To answer your question, if you define an Account as string, you cannot retrieve the balance and type flexiablely.</p>\n<p>This is the thinking of object orientied design. Each object points to the real world should be considered as an object. Each object contains multiple attributes.</p>\n"}],"owner":{"account_id":29447384,"reputation":1,"user_id":22564400,"display_name":"Mehedee Hossain"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1695457579,"accepted_answer_id":77161525,"answer_count":1,"score":-3,"last_activity_date":1695440164,"creation_date":1695437778,"question_id":77161491,"body_markdown":"[Question][1]This is a Java issue. I always knew that class attribute/fields could be type Int, String, Double but how is &quot;Account&quot; a type, such that Account savingsAccount is a class attribute? Can anyone explain me this. I do not know if there is a specific topic related to this in Java but I do not understand this. For example, the account class has attributes such as &quot;type&quot; like savings/loan that is type string. It also has balance which is type double. But how is the same account a class attribute in the Customer class? I mean logically I understand that a customer has an account but why is the type &quot;Account&quot; in this case? Shouldn&#39;t it be a string? Please kindly explain this to me. I have attached 2 images. [This image has the relevant class attributes and constructors](https://i.stack.imgur.com/hLe0h.png)\r\n\r\nI did not quite understand the class attributes section of the Customer Class. Could anyone explain this to me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6N4oS.png","title":"Could anyone explain how Account account is a class attribute in this case? How is &quot;Account&quot; a type?","body":"<p><a href=\"https://i.stack.imgur.com/6N4oS.png\" rel=\"nofollow noreferrer\">Question</a>This is a Java issue. I always knew that class attribute/fields could be type Int, String, Double but how is &quot;Account&quot; a type, such that Account savingsAccount is a class attribute? Can anyone explain me this. I do not know if there is a specific topic related to this in Java but I do not understand this. For example, the account class has attributes such as &quot;type&quot; like savings/loan that is type string. It also has balance which is type double. But how is the same account a class attribute in the Customer class? I mean logically I understand that a customer has an account but why is the type &quot;Account&quot; in this case? Shouldn't it be a string? Please kindly explain this to me. I have attached 2 images. <a href=\"https://i.stack.imgur.com/hLe0h.png\" rel=\"nofollow noreferrer\">This image has the relevant class attributes and constructors</a></p>\n<p>I did not quite understand the class attributes section of the Customer Class. Could anyone explain this to me?</p>\n"},{"tags":["java","performance","google-cloud-platform","g1gc"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1589461020,"post_id":61797907,"comment_id":109307376,"body_markdown":"If the Parallel GC works much better for your use case, I see no reason not to continue using it for now. Looking for ways to make G1GC match the performance is not a bad idea, but I see no urgent need to do that yet ...","body":"If the Parallel GC works much better for your use case, I see no reason not to continue using it for now. Looking for ways to make G1GC match the performance is not a bad idea, but I see no urgent need to do that yet ..."}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589483894,"creation_date":1589483894,"answer_id":61805683,"question_id":61797907,"body_markdown":"1. Parallel GC is not deprecated even in JDK 15 (don&#39;t you confuse with CMS GC?) So, if you are satisfied with Parallel GC performance, it&#39;s OK to use it further.\r\n\r\n2. It&#39;s quite expected that CPU usage with G1 GC is higher. That&#39;s the price for shorter stop-the-world pauses.\r\n\r\n3. `-XX:MaxGCPauseMillis` is the main tuning option for G1 GC. The larger is target GC pause - the lower is overall GC overhead. The default pause time target is 200ms.\r\n\r\n4. It&#39;s not usual (and presumably not efficient) to have more GC threads than the number of available CPUs. To begin with, I&#39;d suggest to leave the default number of threads.\r\n\r\n5. From my experience, the manual choice of `-XX:InitiatingHeapOccupancyPercent` (IHOP) together with disabling adaptive IHOP (`-XX:-G1UseAdaptiveIHOP`) can make G1 GC run less often and use less resources. However, this requires careful selection of `-XX:InitiatingHeapOccupancyPercent` value - this highly depends on the particular application - usually, somewhere between 40 and 80 works.\r\n\r\n6. If not sure where JVM spends most CPU time, use a profiler. For example, [async-profiler](https://github.com/jvm-profiling-tools/async-profiler/), which measures not only the application code, but also the JVM internals and native code.","title":"How to reduce CPU usage for Java 11 with G1GC on GCP","body":"<ol>\n<li><p>Parallel GC is not deprecated even in JDK 15 (don't you confuse with CMS GC?) So, if you are satisfied with Parallel GC performance, it's OK to use it further.</p></li>\n<li><p>It's quite expected that CPU usage with G1 GC is higher. That's the price for shorter stop-the-world pauses.</p></li>\n<li><p><code>-XX:MaxGCPauseMillis</code> is the main tuning option for G1 GC. The larger is target GC pause - the lower is overall GC overhead. The default pause time target is 200ms.</p></li>\n<li><p>It's not usual (and presumably not efficient) to have more GC threads than the number of available CPUs. To begin with, I'd suggest to leave the default number of threads.</p></li>\n<li><p>From my experience, the manual choice of <code>-XX:InitiatingHeapOccupancyPercent</code> (IHOP) together with disabling adaptive IHOP (<code>-XX:-G1UseAdaptiveIHOP</code>) can make G1 GC run less often and use less resources. However, this requires careful selection of <code>-XX:InitiatingHeapOccupancyPercent</code> value - this highly depends on the particular application - usually, somewhere between 40 and 80 works.</p></li>\n<li><p>If not sure where JVM spends most CPU time, use a profiler. For example, <a href=\"https://github.com/jvm-profiling-tools/async-profiler/\" rel=\"nofollow noreferrer\">async-profiler</a>, which measures not only the application code, but also the JVM internals and native code.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3161929,"reputation":137,"user_id":2672803,"display_name":"dchristle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695439990,"creation_date":1651975280,"answer_id":72157574,"question_id":61797907,"body_markdown":"To add to apangin&#39;s excellent answer:\r\n\r\nYou wrote that your machine has 12 cores, and you have `ParallelGCThreads=23`. I&#39;m assuming this was done because your processor has Simultaneous Multithreading (SMT) capabilities. Consider lowering ParallelGCThreads to `9` or `10`, which is in line with G1&#39;s recommended default of `(8 + 5/8*(#n_procs - 8))`, and measure again. \r\n\r\nGenerally, too many threads can hurt performance in garbage collector algorithms. The memory access pattern may trigger many cache misses. This is worse in SMT, since there&#39;s only one L1 cache per physical core. Copy operations are distributed via work-stealing, and the overhead of thief threads trying &amp; failing to steal will mean they waste CPU in a spin loop. In your case, with threads near ~2x the # of physical cores, other application/OS processes will need some CPU to do their own tasks, causing context switching.\r\n\r\nG1 is designed for situations that require a balance between throughput and latency. If latency is less of a concern and `ParallelGC` gives you superior performance on the metrics you care most about (throughput &amp; cpu usage), you should use it.\r\n\r\n","title":"How to reduce CPU usage for Java 11 with G1GC on GCP","body":"<p>To add to apangin's excellent answer:</p>\n<p>You wrote that your machine has 12 cores, and you have <code>ParallelGCThreads=23</code>. I'm assuming this was done because your processor has Simultaneous Multithreading (SMT) capabilities. Consider lowering ParallelGCThreads to <code>9</code> or <code>10</code>, which is in line with G1's recommended default of <code>(8 + 5/8*(#n_procs - 8))</code>, and measure again.</p>\n<p>Generally, too many threads can hurt performance in garbage collector algorithms. The memory access pattern may trigger many cache misses. This is worse in SMT, since there's only one L1 cache per physical core. Copy operations are distributed via work-stealing, and the overhead of thief threads trying &amp; failing to steal will mean they waste CPU in a spin loop. In your case, with threads near ~2x the # of physical cores, other application/OS processes will need some CPU to do their own tasks, causing context switching.</p>\n<p>G1 is designed for situations that require a balance between throughput and latency. If latency is less of a concern and <code>ParallelGC</code> gives you superior performance on the metrics you care most about (throughput &amp; cpu usage), you should use it.</p>\n"}],"owner":{"account_id":517968,"reputation":619,"user_id":2881548,"accept_rate":0,"display_name":"THM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3554,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695439990,"creation_date":1589460887,"question_id":61797907,"body_markdown":"I have:\n\n - the application multi thread, low latency\n - OpenJDK 64-Bit Server VM version 11.0.7+10\n - configuration is Xms=6g Xmx=12g\n - machine is 12CPU\n - started in GCP (Google Cloud Platform) in Kubernetes\n\nProblem is:\n\n - when I migrate from java8 to java11 I observe situation: the application consume much more CPU  and memory then the same application with java8. \nI suspect GC. because when i use ParallelGC (deprecated) everything looks better (more stable) \n\n```-XX:+UseParallelGC -Xmx12g -Xms6g -XX:ParallelGCThreads=23``` \n\n than when I use G1GC (recommended):\n\n```-XX:+UseG1GC -Xmx12g -Xms6g -XX:ParallelGCThreads=23 -XX:ConcGCThreads=4```\n\nas far as I see response time and number of processed messages are similar (or almost the same).\nJConsole say ParallelGC spend much more time in GC than G1GC.\n\n# The question is: **how to reduce CPU usage with G1GC(?) on GCP Kubernetes**\n\nMaybe it is not an issue with GC - maybe it is something else - any avdice?\n\nHere you can see stats from JConsole - on left site is ParallelGC on right site is G1GC\n(watch CPU usage - this is the same application - traffic is similar ParallelGC processed 22k messages vs 18k messages for G1GC)\n[![enter image description here][1]][1]\n\n\n  [1]: https://i.stack.imgur.com/6AvbT.png","title":"How to reduce CPU usage for Java 11 with G1GC on GCP","body":"<p>I have:</p>\n<ul>\n<li>the application multi thread, low latency</li>\n<li>OpenJDK 64-Bit Server VM version 11.0.7+10</li>\n<li>configuration is Xms=6g Xmx=12g</li>\n<li>machine is 12CPU</li>\n<li>started in GCP (Google Cloud Platform) in Kubernetes</li>\n</ul>\n<p>Problem is:</p>\n<ul>\n<li>when I migrate from java8 to java11 I observe situation: the application consume much more CPU  and memory then the same application with java8.\nI suspect GC. because when i use ParallelGC (deprecated) everything looks better (more stable)</li>\n</ul>\n<p><code>-XX:+UseParallelGC -Xmx12g -Xms6g -XX:ParallelGCThreads=23</code></p>\n<p>than when I use G1GC (recommended):</p>\n<p><code>-XX:+UseG1GC -Xmx12g -Xms6g -XX:ParallelGCThreads=23 -XX:ConcGCThreads=4</code></p>\n<p>as far as I see response time and number of processed messages are similar (or almost the same).\nJConsole say ParallelGC spend much more time in GC than G1GC.</p>\n<h1>The question is: <strong>how to reduce CPU usage with G1GC(?) on GCP Kubernetes</strong></h1>\n<p>Maybe it is not an issue with GC - maybe it is something else - any avdice?</p>\n<p>Here you can see stats from JConsole - on left site is ParallelGC on right site is G1GC\n(watch CPU usage - this is the same application - traffic is similar ParallelGC processed 22k messages vs 18k messages for G1GC)\n<a href=\"https://i.stack.imgur.com/6AvbT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6AvbT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","apache-camel"],"comments":[{"owner":{"account_id":8052509,"reputation":361,"user_id":6070606,"accept_rate":100,"display_name":"Vignesh Nayak Manel"},"score":0,"creation_date":1695451267,"post_id":77161527,"comment_id":136028932,"body_markdown":"Are you using spring security?","body":"Are you using spring security?"}],"owner":{"account_id":1540581,"reputation":133,"user_id":1435362,"display_name":"R M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695439208,"creation_date":1695439208,"question_id":77161527,"body_markdown":"I am trying to use the Camel *file component* to write a file ...the Camel code is : \r\n\r\n    &lt;to uri=&quot;file:exports?fileName=customer.csv&amp;amp;fileExist=Append&amp;amp;jailStartingDirectory=false&quot;/&gt;\r\n\r\nThis results in the following error in the log : \r\n\r\n    org.springframework.security.access.AccessDeniedException: The access to D:\\development\\ie-projects\\pim-rod-class-091323-0051\\exports is denied.\r\n\r\nI have tried adjusting folder permissions for the ***exports*** folder  ...no help.\r\n\r\nAny thoughts ?","title":"Camel file component - access denied","body":"<p>I am trying to use the Camel <em>file component</em> to write a file ...the Camel code is :</p>\n<pre><code>&lt;to uri=&quot;file:exports?fileName=customer.csv&amp;amp;fileExist=Append&amp;amp;jailStartingDirectory=false&quot;/&gt;\n</code></pre>\n<p>This results in the following error in the log :</p>\n<pre><code>org.springframework.security.access.AccessDeniedException: The access to D:\\development\\ie-projects\\pim-rod-class-091323-0051\\exports is denied.\n</code></pre>\n<p>I have tried adjusting folder permissions for the <em><strong>exports</strong></em> folder  ...no help.</p>\n<p>Any thoughts ?</p>\n"},{"tags":["java","netbeans-platform"],"answers":[{"comments":[{"owner":{"account_id":12729730,"reputation":361,"user_id":9246855,"display_name":"DEEPAK KUMAR"},"score":2,"creation_date":1633098807,"post_id":69309564,"comment_id":122677741,"body_markdown":"I have tried with JDK 11. it worked for me","body":"I have tried with JDK 11. it worked for me"},{"owner":{"account_id":19387622,"reputation":54,"user_id":14177009,"display_name":"Sayantan Chakraborty"},"score":0,"creation_date":1637391005,"post_id":69309564,"comment_id":123818752,"body_markdown":"Yeah I also tried with jdk17.0.0 and it didn&#39;t work, but\n when I installed 17.0.1(today), it worked like a charm. So i guess there was a minor bug in jdk17.0.0","body":"Yeah I also tried with jdk17.0.0 and it didn&#39;t work, but  when I installed 17.0.1(today), it worked like a charm. So i guess there was a minor bug in jdk17.0.0"}],"tags":[],"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1634878312,"creation_date":1632457673,"answer_id":69309564,"question_id":69309296,"body_markdown":"NetBeans 12.5 runs using a JRE which should be either version 8, 11 or 17.0.1 or higher (NOT JDK 17). To run it, install JDK 17.0.1 (Recommended because it&#39;s the latest LTS)\r\n\r\nUpdate (Oct 13, 2021): I tried JDK 16.0.2 and it also works. JDK 17 still doesn&#39;t work.\r\n\r\nUpdate 2 (Oct 22, 2021): I realised that JDK 17.0.1 had come out, so I tried it with NetBeans 12.5 and it works now. Maybe JDK 17 was a bit bugged in terms of version numbers. Anyways, it officially works with JDK 17.0.1","title":"The specified JDK Version is &quot;2724.0.0.0.0&quot;, while the maximum is &quot;500.0.0.0.0&quot;","body":"<p>NetBeans 12.5 runs using a JRE which should be either version 8, 11 or 17.0.1 or higher (NOT JDK 17). To run it, install JDK 17.0.1 (Recommended because it's the latest LTS)</p>\n<p>Update (Oct 13, 2021): I tried JDK 16.0.2 and it also works. JDK 17 still doesn't work.</p>\n<p>Update 2 (Oct 22, 2021): I realised that JDK 17.0.1 had come out, so I tried it with NetBeans 12.5 and it works now. Maybe JDK 17 was a bit bugged in terms of version numbers. Anyways, it officially works with JDK 17.0.1</p>\n"},{"comments":[{"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"score":0,"creation_date":1634884312,"post_id":69671797,"comment_id":123150893,"body_markdown":"Yes, I can confirm that your answer is also correct. But here, the OP wants to know why JDK 17 was not working with Netbeans 12.5, so consider adding an explanation here.","body":"Yes, I can confirm that your answer is also correct. But here, the OP wants to know why JDK 17 was not working with Netbeans 12.5, so consider adding an explanation here."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1634885707,"post_id":69671797,"comment_id":123151291,"body_markdown":"@JustInCoding Ok Sir.","body":"@JustInCoding Ok Sir."}],"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634880375,"creation_date":1634880375,"answer_id":69671797,"question_id":69309296,"body_markdown":"I found another solution. Go to https://netbeans.apache.org/download/nb125/nb125.html \r\nand dwnload the zip file. then extract it and go to bin folder and open netbeans.exe(netbeans64.exe if 64 bit).","title":"The specified JDK Version is &quot;2724.0.0.0.0&quot;, while the maximum is &quot;500.0.0.0.0&quot;","body":"<p>I found another solution. Go to <a href=\"https://netbeans.apache.org/download/nb125/nb125.html\" rel=\"nofollow noreferrer\">https://netbeans.apache.org/download/nb125/nb125.html</a>\nand dwnload the zip file. then extract it and go to bin folder and open netbeans.exe(netbeans64.exe if 64 bit).</p>\n"},{"tags":[],"owner":{"account_id":3853010,"reputation":31,"user_id":3192627,"display_name":"chou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695435730,"creation_date":1695435730,"answer_id":77161439,"question_id":69309296,"body_markdown":"I encountered the same issue, and in my case, changing the JDK to OpenJDK resolved the problem. You can download OpenJDK from Microsoft&#39;s official website at https://www.microsoft.com/openjdk.\r\n\r\nAfter downloading, you can findit in the &quot;C:\\Program Files\\Microsoft\\jdk-17.x.x.x&quot; directory.","title":"The specified JDK Version is &quot;2724.0.0.0.0&quot;, while the maximum is &quot;500.0.0.0.0&quot;","body":"<p>I encountered the same issue, and in my case, changing the JDK to OpenJDK resolved the problem. You can download OpenJDK from Microsoft's official website at <a href=\"https://www.microsoft.com/openjdk\" rel=\"nofollow noreferrer\">https://www.microsoft.com/openjdk</a>.</p>\n<p>After downloading, you can findit in the &quot;C:\\Program Files\\Microsoft\\jdk-17.x.x.x&quot; directory.</p>\n"}],"owner":{"account_id":337443,"reputation":326,"user_id":665717,"display_name":"Ramprasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14265,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1695435730,"creation_date":1632455215,"question_id":69309296,"body_markdown":"While installing the Netbeans IDE latest version, i encountered the error\r\n\r\n&quot;The specified JDK Version is &quot;2724.0.0.0.0&quot;, while the maximum is &quot;500.0.0.0.0&quot; &quot;\r\n\r\nNot sure on what is causing this issue. Class Path, Java Home all have been set correctly. Even the jdk path is given correctly in the Netbeans \r\n\r\n[![Error][1]][1]\r\n\r\nKindly help me in the same.\r\n\r\n  [1]: https://i.stack.imgur.com/EN6PA.png","title":"The specified JDK Version is &quot;2724.0.0.0.0&quot;, while the maximum is &quot;500.0.0.0.0&quot;","body":"<p>While installing the Netbeans IDE latest version, i encountered the error</p>\n<p>&quot;The specified JDK Version is &quot;2724.0.0.0.0&quot;, while the maximum is &quot;500.0.0.0.0&quot; &quot;</p>\n<p>Not sure on what is causing this issue. Class Path, Java Home all have been set correctly. Even the jdk path is given correctly in the Netbeans</p>\n<p><a href=\"https://i.stack.imgur.com/EN6PA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EN6PA.png\" alt=\"Error\" /></a></p>\n<p>Kindly help me in the same.</p>\n"},{"tags":["java","android","database","android-recyclerview"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1662298554,"post_id":73599834,"comment_id":129969349,"body_markdown":"&quot;it just crashes&quot; -- [use Logcat to examine the stack trace associated with your crash](https://commonsware.com/Jetpack/pages/chap-debug-001.html). If you do not understand what the stack trace means, edit your question and provide the complete stack trace.","body":"&quot;it just crashes&quot; -- <a href=\"https://commonsware.com/Jetpack/pages/chap-debug-001.html\" rel=\"nofollow noreferrer\">use Logcat to examine the stack trace associated with your crash</a>. If you do not understand what the stack trace means, edit your question and provide the complete stack trace."},{"owner":{"account_id":25964870,"reputation":1,"user_id":19680939,"display_name":"Jasin Avdiu"},"score":0,"creation_date":1662298977,"post_id":73599834,"comment_id":129969426,"body_markdown":"Im sorry, crash may not be the correct word, the page just opened and closes my previous page as well","body":"Im sorry, crash may not be the correct word, the page just opened and closes my previous page as well"}],"owner":{"account_id":25964870,"reputation":1,"user_id":19680939,"display_name":"Jasin Avdiu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695435140,"creation_date":1662298452,"question_id":73599834,"body_markdown":"I’m trying to show my data in a RecyclerView, but my data won’t show. Whenever I open the page for the data to show, it just crashes and goes two pages back.\r\n\r\nThis is the code for my ToolActivity (where the data should show).\r\n\r\n``` \r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.database.Cursor;\r\nimport android.os.Bundle;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ListAdapter;\r\nimport android.widget.ListView;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ToolsActivity extends AppCompatActivity {\r\n\r\n    DBHelper myDB;\r\n    RecyclerView recyclerView;\r\n    ArrayList&lt;String&gt; toolId, toolName, toolModule, toolDescription;\r\n    CustomAdapter customAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_tools);\r\n\r\n        myDB = new DBHelper(ToolsActivity.this);\r\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\r\n        toolId = new ArrayList&lt;&gt;();\r\n        toolName = new ArrayList&lt;&gt;();\r\n        toolModule = new ArrayList&lt;&gt;();\r\n        toolDescription = new ArrayList&lt;&gt;();\r\n\r\n        storeDataInArrays();\r\n\r\n        customAdapter = new CustomAdapter(ToolsActivity.this, toolId, toolName, toolModule, toolDescription);\r\n        recyclerView.setAdapter(customAdapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(ToolsActivity.this));\r\n    }\r\n\r\n    void storeDataInArrays() {\r\n        Cursor cursor = myDB.readAllData();\r\n        if(cursor.getCount() == 0) {\r\n            Toast.makeText(this, &quot;No data.&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            while (cursor.moveToNext()) {\r\n                toolId.add(cursor.getString(0));\r\n                toolName.add(cursor.getString(1));\r\n                toolModule.add(cursor.getString(2));\r\n                toolDescription.add(cursor.getString(3));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is the code for my CustomAdapter:\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.MyViewHolder&gt; {\r\n\r\n    private Context context;\r\n    private ArrayList tool_id, tool_name, tool_module, tool_description;\r\n\r\n    CustomAdapter(Context context, ArrayList tool_id, ArrayList tool_name, ArrayList tool_module, ArrayList tool_description) {\r\n\r\n        this.context = context;\r\n        this.tool_id = tool_id;\r\n        this.tool_name = tool_name;\r\n        this.tool_module = tool_module;\r\n        this.tool_description = tool_description;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CustomAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.costum_item_list, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.tool_id_txt.setText(String.valueOf(tool_id.get(position)));\r\n        holder.tool_name_txt.setText(String.valueOf(tool_name.get(position)));\r\n        holder.tool_module_txt.setText(String.valueOf(tool_module.get(position)));\r\n        holder.tool_description_txt.setText(String.valueOf(tool_description.get(position)));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return tool_id.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView tool_id_txt, tool_name_txt, tool_module_txt, tool_description_txt;\r\n        LinearLayout\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tool_id_txt = itemView.findViewById(R.id.toolID);\r\n            tool_name_txt = itemView.findViewById(R.id.toolName);\r\n            tool_module_txt = itemView.findViewById(R.id.toolModule);\r\n            tool_description_txt = itemView.findViewById(R.id.toolDescription);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my DBHelper file:\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.content.ContentValues;\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\npublic class DBHelper extends SQLiteOpenHelper {\r\n\r\n    private Context context;\r\n    private static final String DATABASE_NAME = &quot;ToolRegister.db&quot;;\r\n    private static final int DATABASE_VERSION = 1;\r\n\r\n    private static final String TABLE_NAME = &quot;tool_register&quot;;\r\n    private static final String COLUMN_ID = &quot;toolsID&quot;;\r\n    private static final String COLUMN_NAME = &quot;tools_name&quot;;\r\n    private static final String COLUMN_MODULE = &quot;tools_module&quot;;\r\n    private static final String COLUMN_DESCRIPTION = &quot;tools_description&quot;;\r\n\r\n\r\n    public DBHelper(@Nullable Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        this.context = context;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String query =\r\n                &quot;CREATE TABLE &quot; + TABLE_NAME +\r\n                        &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;\r\n                             + COLUMN_NAME + &quot; TEXT, &quot;\r\n                             + COLUMN_MODULE + &quot; TEXT, &quot;\r\n                             + COLUMN_DESCRIPTION + &quot; TEXT);&quot;;\r\n        db.execSQL(query);\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n        onCreate(db);\r\n    }\r\n\r\n    void addTools(String name, String module, String description) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues cv = new ContentValues();\r\n\r\n        cv.put(COLUMN_NAME, name);\r\n        cv.put(COLUMN_MODULE, module);\r\n        cv.put(COLUMN_DESCRIPTION, description);\r\n\r\n        long result = db.insert(TABLE_NAME, null, cv);\r\n\r\n        if(result == -1) {\r\n            Toast.makeText(context, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(context, &quot;Added successfully&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    Cursor readAllData () {\r\n        String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        Cursor cursor = null;\r\n        if(db != null) {\r\n            cursor = db.rawQuery(query, null);\r\n        }\r\n        return cursor;\r\n    }\r\n}\r\n```\r\n\r\nHow can I fix it?\r\n","title":"Data from the database won’t show on RecyclerView. The page crashes and goes two pages back (HomeActivity)","body":"<p>I’m trying to show my data in a RecyclerView, but my data won’t show. Whenever I open the page for the data to show, it just crashes and goes two pages back.</p>\n<p>This is the code for my ToolActivity (where the data should show).</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.database.Cursor;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListAdapter;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\n\npublic class ToolsActivity extends AppCompatActivity {\n\n    DBHelper myDB;\n    RecyclerView recyclerView;\n    ArrayList&lt;String&gt; toolId, toolName, toolModule, toolDescription;\n    CustomAdapter customAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_tools);\n\n        myDB = new DBHelper(ToolsActivity.this);\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\n        toolId = new ArrayList&lt;&gt;();\n        toolName = new ArrayList&lt;&gt;();\n        toolModule = new ArrayList&lt;&gt;();\n        toolDescription = new ArrayList&lt;&gt;();\n\n        storeDataInArrays();\n\n        customAdapter = new CustomAdapter(ToolsActivity.this, toolId, toolName, toolModule, toolDescription);\n        recyclerView.setAdapter(customAdapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(ToolsActivity.this));\n    }\n\n    void storeDataInArrays() {\n        Cursor cursor = myDB.readAllData();\n        if(cursor.getCount() == 0) {\n            Toast.makeText(this, &quot;No data.&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            while (cursor.moveToNext()) {\n                toolId.add(cursor.getString(0));\n                toolName.add(cursor.getString(1));\n                toolModule.add(cursor.getString(2));\n                toolDescription.add(cursor.getString(3));\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is the code for my CustomAdapter:</p>\n<pre><code>package com.example.myapplication;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class CustomAdapter extends RecyclerView.Adapter&lt;CustomAdapter.MyViewHolder&gt; {\n\n    private Context context;\n    private ArrayList tool_id, tool_name, tool_module, tool_description;\n\n    CustomAdapter(Context context, ArrayList tool_id, ArrayList tool_name, ArrayList tool_module, ArrayList tool_description) {\n\n        this.context = context;\n        this.tool_id = tool_id;\n        this.tool_name = tool_name;\n        this.tool_module = tool_module;\n        this.tool_description = tool_description;\n    }\n\n    @NonNull\n    @Override\n    public CustomAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.costum_item_list, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        holder.tool_id_txt.setText(String.valueOf(tool_id.get(position)));\n        holder.tool_name_txt.setText(String.valueOf(tool_name.get(position)));\n        holder.tool_module_txt.setText(String.valueOf(tool_module.get(position)));\n        holder.tool_description_txt.setText(String.valueOf(tool_description.get(position)));\n    }\n\n    @Override\n    public int getItemCount() {\n        return tool_id.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView tool_id_txt, tool_name_txt, tool_module_txt, tool_description_txt;\n        LinearLayout\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            tool_id_txt = itemView.findViewById(R.id.toolID);\n            tool_name_txt = itemView.findViewById(R.id.toolName);\n            tool_module_txt = itemView.findViewById(R.id.toolModule);\n            tool_description_txt = itemView.findViewById(R.id.toolDescription);\n        }\n    }\n}\n</code></pre>\n<p>And this is my DBHelper file:</p>\n<pre><code>package com.example.myapplication;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\n\npublic class DBHelper extends SQLiteOpenHelper {\n\n    private Context context;\n    private static final String DATABASE_NAME = &quot;ToolRegister.db&quot;;\n    private static final int DATABASE_VERSION = 1;\n\n    private static final String TABLE_NAME = &quot;tool_register&quot;;\n    private static final String COLUMN_ID = &quot;toolsID&quot;;\n    private static final String COLUMN_NAME = &quot;tools_name&quot;;\n    private static final String COLUMN_MODULE = &quot;tools_module&quot;;\n    private static final String COLUMN_DESCRIPTION = &quot;tools_description&quot;;\n\n\n    public DBHelper(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String query =\n                &quot;CREATE TABLE &quot; + TABLE_NAME +\n                        &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;\n                             + COLUMN_NAME + &quot; TEXT, &quot;\n                             + COLUMN_MODULE + &quot; TEXT, &quot;\n                             + COLUMN_DESCRIPTION + &quot; TEXT);&quot;;\n        db.execSQL(query);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n        onCreate(db);\n    }\n\n    void addTools(String name, String module, String description) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n\n        cv.put(COLUMN_NAME, name);\n        cv.put(COLUMN_MODULE, module);\n        cv.put(COLUMN_DESCRIPTION, description);\n\n        long result = db.insert(TABLE_NAME, null, cv);\n\n        if(result == -1) {\n            Toast.makeText(context, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(context, &quot;Added successfully&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    Cursor readAllData () {\n        String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        Cursor cursor = null;\n        if(db != null) {\n            cursor = db.rawQuery(query, null);\n        }\n        return cursor;\n    }\n}\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","io","system.out","jnativehook"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1695251940,"post_id":77146229,"comment_id":136001119,"body_markdown":"Actually, I&#39;m surprised that you&#39;re surprised. You can&#39;t use standard core Java without some doorway to the operating system just to *listen* to key strokes in other applications, which is why you are using the jnativehook library. Why should sending keystrokes to a different process be any different? Now if your Java application *started* the process, then you&#39;ll have an easier time by perhaps using streams, but otherwise, you&#39;ll likely need to dive into JNI or JNA to solve this issue.","body":"Actually, I&#39;m surprised that you&#39;re surprised. You can&#39;t use standard core Java without some doorway to the operating system just to <i>listen</i> to key strokes in other applications, which is why you are using the jnativehook library. Why should sending keystrokes to a different process be any different? Now if your Java application <i>started</i> the process, then you&#39;ll have an easier time by perhaps using streams, but otherwise, you&#39;ll likely need to dive into JNI or JNA to solve this issue."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695251984,"post_id":77146229,"comment_id":136001122,"body_markdown":"The robot may sometimes be able to help, but you need to give the process and the correct process window the focus for this to possibly work.","body":"The robot may sometimes be able to help, but you need to give the process and the correct process window the focus for this to possibly work."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695252330,"post_id":77146229,"comment_id":136001144,"body_markdown":"Is this a Windows system? If so, please look at [this answer](https://stackoverflow.com/a/46259366/) which uses JNA.","body":"Is this a Windows system? If so, please look at <a href=\"https://stackoverflow.com/a/46259366/\">this answer</a> which uses JNA."}],"answers":[{"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1695253263,"post_id":77146412,"comment_id":136001227,"body_markdown":"I mentioned robot already. The issue though is getting focus to the right separate process, something that your answer doesn&#39;t address, unless I&#39;m missing something.","body":"I mentioned robot already. The issue though is getting focus to the right separate process, something that your answer doesn&#39;t address, unless I&#39;m missing something."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1695291671,"post_id":77146412,"comment_id":136006258,"body_markdown":"Yeah but you implied that topic of the focus, even though it was not mentioned and does not seem required. The post mentions the Java app running in the background, listening to the text/keystrokes of the text edit in the foreground. Then processing it via Caesar cipher, which also can be done in the background. So to me it sounds like there&#39;s no &#39;changing of active app&#39; necessary, because that text editor still has the focus. Otherwise, to so solve with Alt+Tab and https://stackoverflow.com/questions/34992027/how-to-get-current-active-window-while-running-my-java-application","body":"Yeah but you implied that topic of the focus, even though it was not mentioned and does not seem required. The post mentions the Java app running in the background, listening to the text/keystrokes of the text edit in the foreground. Then processing it via Caesar cipher, which also can be done in the background. So to me it sounds like there&#39;s no &#39;changing of active app&#39; necessary, because that text editor still has the focus. Otherwise, to so solve with Alt+Tab and <a href=\"https://stackoverflow.com/questions/34992027/how-to-get-current-active-window-while-running-my-java-application\" title=\"how to get current active window while running my java application\">stackoverflow.com/questions/34992027/&hellip;</a>"},{"owner":{"account_id":19761108,"reputation":9,"user_id":14470229,"display_name":"Bernd"},"score":0,"creation_date":1695331085,"post_id":77146412,"comment_id":136013970,"body_markdown":"I thought I would simply reverse the NativeKeyListener, as it already knows what window is in focus: System.out.FocusOwner(...) or similar.","body":"I thought I would simply reverse the NativeKeyListener, as it already knows what window is in focus: System.out.FocusOwner(...) or similar."},{"owner":{"account_id":19761108,"reputation":9,"user_id":14470229,"display_name":"Bernd"},"score":0,"creation_date":1695331167,"post_id":77146412,"comment_id":136013984,"body_markdown":"Clarification: Yes, I do not intend to change the focus of the open text document, but it may happen (random email coming in etc.). Thanks, I will look into robot and then JNI/JNA. I&#39;m using Windows for convenience but I intend to use the final App on MacOS.","body":"Clarification: Yes, I do not intend to change the focus of the open text document, but it may happen (random email coming in etc.). Thanks, I will look into robot and then JNI/JNA. I&#39;m using Windows for convenience but I intend to use the final App on MacOS."},{"owner":{"account_id":19761108,"reputation":9,"user_id":14470229,"display_name":"Bernd"},"score":0,"creation_date":1695425727,"post_id":77146412,"comment_id":136027613,"body_markdown":"@JayC667, I tried the Robot but there is no output at all. Could you write some demo code starting with &quot;public void nativeKeyTyped(NativeKeyEvent pKeyEvent)&quot;?","body":"@JayC667, I tried the Robot but there is no output at all. Could you write some demo code starting with &quot;public void nativeKeyTyped(NativeKeyEvent pKeyEvent)&quot;?"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1695442027,"post_id":77146412,"comment_id":136028447,"body_markdown":"Oh, forgot to mnetion: I updated my answer with an example code. Not really thread safe, but will do as showcase","body":"Oh, forgot to mnetion: I updated my answer with an example code. Not really thread safe, but will do as showcase"},{"owner":{"account_id":19761108,"reputation":9,"user_id":14470229,"display_name":"Bernd"},"score":0,"creation_date":1695460542,"post_id":77146412,"comment_id":136029715,"body_markdown":"@JayC667, thank you very much!","body":"@JayC667, thank you very much!"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1695504785,"post_id":77146412,"comment_id":136034033,"body_markdown":"@Bernd So if this all meets your requirements, you can accept my answer as the solution. Thanx ;-)","body":"@Bernd So if this all meets your requirements, you can accept my answer as the solution. Thanx ;-)"}],"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"comment_count":8,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695434138,"creation_date":1695252735,"answer_id":77146412,"question_id":77146229,"body_markdown":"Actually, opposed to what the commenters to your post say, there IS a Java way to send key events, using the Robot.\r\n\r\n1) `Robot bot = new Robot();` (`java.awt.Robot`)\r\n2) If you have `NativeKeyEvent pKeyEvent` as in `org.jnativehook.keyboard.NativeKeyEvent` then you can send that key back with \r\n\r\n\t\t\tbot.keyPress(pKeyEvent.getRawCode());\r\n\t\t\tactionSleep(); // sleep for as long as you need, normal is ~20-60 ms\r\n\t\t\tbot.keyRelease(pKeyEvent.getRawCode());\r\n\r\n3) If you have the Java Swing/AWT KeyEvent (`KeyEvent pKeyEvent` as in `java.awt.event.KeyEvent`), you can use it like this:\r\n\r\n\t\t\tbot.keyPress(pKeyEvent.getKeyCode());\r\n\t\t\tactionSleep(); // sleep\r\n\t\t\tbot.keyRelease(pKeyEvent.getKeyCode());\r\n\r\n4) If you want to send keys via code, you can use this (for pressing and releasing key &#39;a&#39;):\r\n\r\n\t\t\tbot.keyPress(KeyEvent.VK_A);\r\n\t\t\tactionSleep(); // sleep\r\n\t\t\tbot.keyRelease(KeyEvent.VK_A);\r\n\r\nThe Robot also has some additional functionality, like screen capture / screenshot, screen pixel reading, control mouse.\r\n\r\n\r\n\r\nExample app:\r\n-\r\n\r\n    package stackoverflow.keylistenercaesar;\r\n    \r\n    import java.awt.AWTException;\r\n    import java.awt.Robot;\r\n    import java.awt.Toolkit;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    import com.github.kwhat.jnativehook.GlobalScreen;\r\n    import com.github.kwhat.jnativehook.NativeHookException;\r\n    import com.github.kwhat.jnativehook.keyboard.NativeKeyEvent;\r\n    import com.github.kwhat.jnativehook.keyboard.NativeKeyListener;\r\n    \r\n    import jc.lib.lang.thread.JcUThread;\r\n    \r\n    /**\r\n     * Written with jnativehook_2.2.0&lt;br&gt;\r\n     * &lt;br&gt;\r\n     * &lt;b&gt;Important!&lt;/b&gt; jnativehook_2.1.0 does NOT work correctly under windows, because it does not generate addNativeKeyListener-&gt;nativeKeyTyped events!\r\n     *\r\n     * @author jc\r\n     * @since 2023-09-23\r\n     *\r\n     */\r\n    public class KeyListenerCaesarChiffre {\r\n    \r\n    \tstatic public final int KEY_PRESS_DURATION_MS = 1;\r\n    \r\n    \r\n    \r\n    \tstatic private StringBuilder\t\tsRecordedChars\t\t\t= new StringBuilder();\r\n    \tstatic private ArrayList&lt;Integer&gt;\tsRecordedRawKeyCodes\t= new ArrayList&lt;&gt;();\r\n    \r\n    \tstatic private Robot sRobot;\r\n    \r\n    \tstatic private volatile boolean sRecordKeys;\r\n    \r\n    \r\n    \r\n    \tstatic public void main(final String[] args) throws NativeHookException {\r\n    \t\t// disable the stupid logger\r\n    \t\tfinal Logger logger = Logger.getLogger(GlobalScreen.class.getPackage().getName());\r\n    \t\tlogger.setLevel(Level.WARNING);\r\n    \t\tlogger.setUseParentHandlers(false);\r\n    \r\n    \t\t// set up key hook listening\r\n    \t\tGlobalScreen.registerNativeHook();\r\n    \t\tGlobalScreen.addNativeKeyListener(new NativeKeyListener() {\r\n    \t\t\t@Override public void nativeKeyPressed(final NativeKeyEvent pKeyEvent) {\r\n    \t\t\t\t//\t\t\t\tSystem.out.println(&quot;nativeKeyPressed(c&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\r\n    \t\t\t}\r\n    \t\t\t@Override public void nativeKeyReleased(final NativeKeyEvent pKeyEvent) {\r\n    \t\t\t\t//\t\t\t\tSystem.out.println(&quot;nativeKeyReleased(c&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tcontrolKeyReleased(pKeyEvent);\r\n    \t\t\t\t} catch (final Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t@Override public void nativeKeyTyped(final NativeKeyEvent pKeyEvent) {\r\n    \t\t\t\t//\t\t\t\tSystem.out.println(&quot;nativeKeyTyped(c&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tinputKeyTyped(pKeyEvent);\r\n    \t\t\t\t} catch (final Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\t// print info\r\n    \t\tSystem.out.println(&quot;Key Bindings&quot;);\r\n    \t\tSystem.out.println(&quot;\\tKey\\tUse&quot;);\r\n    \t\tSystem.out.println(&quot;\\t------\\t------&quot;);\r\n    \t\tSystem.out.println(&quot;\\tF2\\tStart Listening&quot;);\r\n    \t\tSystem.out.println(&quot;\\tF3\\tEnd Listening&quot;);\r\n    \t\tSystem.out.println(&quot;\\tF4\\tExit app&quot;);\r\n    \t\tSystem.out.println(&quot;\\tEnter\\tTrigger caesar conversion + output&quot;);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This method will be called each time any key is released. So we have to filter carefully\r\n    \t */\r\n    \tstatic protected void controlKeyReleased(final NativeKeyEvent pKeyEvent) throws NativeHookException {\r\n    \t\tswitch (pKeyEvent.getKeyCode()) {\r\n    \t\t\tcase NativeKeyEvent.VC_F2: {\r\n    \t\t\t\tSystem.out.println(&quot;Start listening...&quot;);\r\n    \t\t\t\tsRecordKeys = true;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tcase NativeKeyEvent.VC_F3: {\r\n    \t\t\t\tSystem.out.println(&quot;Stop listening...&quot;);\r\n    \t\t\t\tsRecordKeys = false;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tcase NativeKeyEvent.VC_F4: {\r\n    \t\t\t\tSystem.out.println(&quot;Shutting down...&quot;);\r\n    \t\t\t\tGlobalScreen.unregisterNativeHook();\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tcase NativeKeyEvent.VC_ENTER: {\r\n    \t\t\t\tif (sRecordKeys) runCasesarAndOutput();\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tdefault: // ignore the rest\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This method will only get triggered for valid input chars. So no control codes like F1, F2 etc will arrive here\r\n    \t */\r\n    \tstatic protected void inputKeyTyped(final NativeKeyEvent pKeyEvent) {\r\n    \t\tif (!sRecordKeys) return;\r\n    \r\n    \t\t//\t\tSystem.out.println(&quot;KeyListenerCaesarChiffre.inputKeyTypedx(&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\r\n    \t\tswitch (pKeyEvent.getKeyChar()) {\r\n    \t\t\tdefault: {\r\n    \t\t\t\t//\t\t\t\tSystem.out.println(&quot;Key:\\t&quot; + pKeyEvent.getKeyCode() + &quot; / &quot; + pKeyEvent.getRawCode() + &quot; =&gt; &quot; + pKeyEvent.getKeyChar());\r\n    \t\t\t\tsRecordedChars.append(pKeyEvent.getKeyChar());\r\n    \t\t\t\tsRecordedRawKeyCodes.add(Integer.valueOf(pKeyEvent.getRawCode()));\r\n    \t\t\t\tSystem.out.println(&quot;\\tlen:&quot; + sRecordedChars.length() + &quot;\\ttext:&quot; + sRecordedChars.toString());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/**\r\n    \t * This will need to run in its own thread.\r\n    \t * If we do not, we would run in the key event listener thread, and all keys simulated here would only be processed AFTER this method is done,\r\n    \t * so it would record its own inputs.\r\n    \t */\r\n    \tstatic private void runCasesarAndOutput() {\r\n    \t\tnew Thread(() -&gt; {\r\n    \t\t\ttry {\r\n    \t\t\t\trunCasesarAndOutput_();\r\n    \t\t\t} catch (final AWTException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}).start();\r\n    \t}\r\n    \tstatic private void runCasesarAndOutput_() throws AWTException {\r\n    \t\t// wait until enter key event is processed\r\n    \t\tsleep(50);\r\n    \r\n    \t\ttry {\r\n    \t\t\t// suspend key listening temporaily or we will feed back into our own input\r\n    \t\t\tsRecordKeys = false;\r\n    \r\n    \t\t\t// send output. Do NOT process the enter key, thus size-1\r\n    \t\t\tfor (int i = 0; i &lt; sRecordedRawKeyCodes.size() - 1; i++) {\r\n    \t\t\t\tfinal int c = sRecordedRawKeyCodes.get(i).intValue();\r\n    \t\t\t\ttypeKey(c + 1); // this is a really bad implementation of caesar\r\n    \t\t\t\t// especially because this will fall out of the keymapping boundaries a lot!\r\n    \t\t\t\t// some normal chars might get converted into control chars, like the arrow keys, for example\r\n    \t\t\t\t// also, letters do not wrap back up (z does not wrap back up to a in case of +1)\r\n    \t\t\t\t// also, you need to take additional care of special control keys like backspace the handle the ensuing &quot;text&quot; properly!\r\n    \t\t\t}\r\n    \r\n    \t\t\t// send enter to finish line\r\n    \t\t\ttypeKey(KeyEvent.VK_ENTER);\r\n    \r\n    \t\t} finally {\r\n    \t\t\tsRecordKeys = true;\r\n    \t\t}\r\n    \r\n    \t\t// clear intercepted key chars\r\n    \t\tsRecordedChars.setLength(0);\r\n    \t\tsRecordedRawKeyCodes.clear();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tstatic public void typeKey(final int pKeyCode) throws AWTException {\r\n    \t\tif (sRobot == null) sRobot = new Robot();\r\n    \t\ttry {\r\n    \t\t\tsRobot.keyPress(pKeyCode);\r\n    \t\t\tsleep(KEY_PRESS_DURATION_MS);\r\n    \t\t\tsRobot.keyRelease(pKeyCode);\r\n    \t\t\t//\t\t\tsleep(KEY_PRESS_DURATION_MS);\r\n    \r\n    \t\t} catch (final java.lang.IllegalArgumentException e) {\r\n    \t\t\tSystem.err.println(&quot;Key code [&quot; + pKeyCode + &quot;] is invalid!&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \tstatic public void beep(final int pCount) {\r\n    \t\tfinal Toolkit dtk = Toolkit.getDefaultToolkit();\r\n    \t\tfor (int i = 0; i &lt; pCount; i++) {\r\n    \t\t\tdtk.beep();\r\n    \t\t\tJcUThread.sleep(300);\r\n    \t\t}\r\n    \t}\r\n    \tstatic public void sleep(final int pMS) {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(pMS);\r\n    \t\t} catch (final InterruptedException e) { /* */ }\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nThere&#39;s lots of downsides to this implementation and the problem per se:\r\n-\r\n - Needs jnativehook_2.2.0 as earlier versions do NOT work reliably under Windows\r\n - Needs a lot of special care when handling control keys like backspace, arrows etc.\r\n - Caesar chiper will be a pain in the ass to implement properly\r\n - More details in the comments\r\n\r\n\r\nUsage:\r\n-\r\n - Run the app\r\n - Head into your text editor\r\n - Press F2 to start recording the keys\r\n - When you press Enter, the keys will be caesar-transformed and then sent to the doc as keystrokes\r\n - Press F3 to halt recording\r\n - Or press F4 to shut down the app","title":"How do I get Java to output to where my focus is? (example: open text document)","body":"<p>Actually, opposed to what the commenters to your post say, there IS a Java way to send key events, using the Robot.</p>\n<ol>\n<li><p><code>Robot bot = new Robot();</code> (<code>java.awt.Robot</code>)</p>\n</li>\n<li><p>If you have <code>NativeKeyEvent pKeyEvent</code> as in <code>org.jnativehook.keyboard.NativeKeyEvent</code> then you can send that key back with</p>\n<pre><code>     bot.keyPress(pKeyEvent.getRawCode());\n     actionSleep(); // sleep for as long as you need, normal is ~20-60 ms\n     bot.keyRelease(pKeyEvent.getRawCode());\n</code></pre>\n</li>\n<li><p>If you have the Java Swing/AWT KeyEvent (<code>KeyEvent pKeyEvent</code> as in <code>java.awt.event.KeyEvent</code>), you can use it like this:</p>\n<pre><code>     bot.keyPress(pKeyEvent.getKeyCode());\n     actionSleep(); // sleep\n     bot.keyRelease(pKeyEvent.getKeyCode());\n</code></pre>\n</li>\n<li><p>If you want to send keys via code, you can use this (for pressing and releasing key 'a'):</p>\n<pre><code>     bot.keyPress(KeyEvent.VK_A);\n     actionSleep(); // sleep\n     bot.keyRelease(KeyEvent.VK_A);\n</code></pre>\n</li>\n</ol>\n<p>The Robot also has some additional functionality, like screen capture / screenshot, screen pixel reading, control mouse.</p>\n<h2>Example app:</h2>\n<pre><code>package stackoverflow.keylistenercaesar;\n\nimport java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.Toolkit;\nimport java.awt.event.KeyEvent;\nimport java.util.ArrayList;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\nimport com.github.kwhat.jnativehook.GlobalScreen;\nimport com.github.kwhat.jnativehook.NativeHookException;\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyEvent;\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyListener;\n\nimport jc.lib.lang.thread.JcUThread;\n\n/**\n * Written with jnativehook_2.2.0&lt;br&gt;\n * &lt;br&gt;\n * &lt;b&gt;Important!&lt;/b&gt; jnativehook_2.1.0 does NOT work correctly under windows, because it does not generate addNativeKeyListener-&gt;nativeKeyTyped events!\n *\n * @author jc\n * @since 2023-09-23\n *\n */\npublic class KeyListenerCaesarChiffre {\n\n    static public final int KEY_PRESS_DURATION_MS = 1;\n\n\n\n    static private StringBuilder        sRecordedChars          = new StringBuilder();\n    static private ArrayList&lt;Integer&gt;   sRecordedRawKeyCodes    = new ArrayList&lt;&gt;();\n\n    static private Robot sRobot;\n\n    static private volatile boolean sRecordKeys;\n\n\n\n    static public void main(final String[] args) throws NativeHookException {\n        // disable the stupid logger\n        final Logger logger = Logger.getLogger(GlobalScreen.class.getPackage().getName());\n        logger.setLevel(Level.WARNING);\n        logger.setUseParentHandlers(false);\n\n        // set up key hook listening\n        GlobalScreen.registerNativeHook();\n        GlobalScreen.addNativeKeyListener(new NativeKeyListener() {\n            @Override public void nativeKeyPressed(final NativeKeyEvent pKeyEvent) {\n                //              System.out.println(&quot;nativeKeyPressed(c&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\n            }\n            @Override public void nativeKeyReleased(final NativeKeyEvent pKeyEvent) {\n                //              System.out.println(&quot;nativeKeyReleased(c&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\n                try {\n                    controlKeyReleased(pKeyEvent);\n                } catch (final Exception e) {\n                    e.printStackTrace();\n                }\n            }\n            @Override public void nativeKeyTyped(final NativeKeyEvent pKeyEvent) {\n                //              System.out.println(&quot;nativeKeyTyped(c&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\n                try {\n                    inputKeyTyped(pKeyEvent);\n                } catch (final Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n\n        // print info\n        System.out.println(&quot;Key Bindings&quot;);\n        System.out.println(&quot;\\tKey\\tUse&quot;);\n        System.out.println(&quot;\\t------\\t------&quot;);\n        System.out.println(&quot;\\tF2\\tStart Listening&quot;);\n        System.out.println(&quot;\\tF3\\tEnd Listening&quot;);\n        System.out.println(&quot;\\tF4\\tExit app&quot;);\n        System.out.println(&quot;\\tEnter\\tTrigger caesar conversion + output&quot;);\n    }\n\n    /**\n     * This method will be called each time any key is released. So we have to filter carefully\n     */\n    static protected void controlKeyReleased(final NativeKeyEvent pKeyEvent) throws NativeHookException {\n        switch (pKeyEvent.getKeyCode()) {\n            case NativeKeyEvent.VC_F2: {\n                System.out.println(&quot;Start listening...&quot;);\n                sRecordKeys = true;\n                break;\n            }\n            case NativeKeyEvent.VC_F3: {\n                System.out.println(&quot;Stop listening...&quot;);\n                sRecordKeys = false;\n                break;\n            }\n            case NativeKeyEvent.VC_F4: {\n                System.out.println(&quot;Shutting down...&quot;);\n                GlobalScreen.unregisterNativeHook();\n                break;\n            }\n            case NativeKeyEvent.VC_ENTER: {\n                if (sRecordKeys) runCasesarAndOutput();\n                break;\n            }\n            default: // ignore the rest\n        }\n    }\n\n    /**\n     * This method will only get triggered for valid input chars. So no control codes like F1, F2 etc will arrive here\n     */\n    static protected void inputKeyTyped(final NativeKeyEvent pKeyEvent) {\n        if (!sRecordKeys) return;\n\n        //      System.out.println(&quot;KeyListenerCaesarChiffre.inputKeyTypedx(&quot; + pKeyEvent.getKeyCode() + &quot; r&quot; + pKeyEvent.getRawCode() + &quot; c&quot; + pKeyEvent.getKeyChar() + &quot;)&quot;);\n        switch (pKeyEvent.getKeyChar()) {\n            default: {\n                //              System.out.println(&quot;Key:\\t&quot; + pKeyEvent.getKeyCode() + &quot; / &quot; + pKeyEvent.getRawCode() + &quot; =&gt; &quot; + pKeyEvent.getKeyChar());\n                sRecordedChars.append(pKeyEvent.getKeyChar());\n                sRecordedRawKeyCodes.add(Integer.valueOf(pKeyEvent.getRawCode()));\n                System.out.println(&quot;\\tlen:&quot; + sRecordedChars.length() + &quot;\\ttext:&quot; + sRecordedChars.toString());\n            }\n        }\n    }\n\n\n\n    /**\n     * This will need to run in its own thread.\n     * If we do not, we would run in the key event listener thread, and all keys simulated here would only be processed AFTER this method is done,\n     * so it would record its own inputs.\n     */\n    static private void runCasesarAndOutput() {\n        new Thread(() -&gt; {\n            try {\n                runCasesarAndOutput_();\n            } catch (final AWTException e) {\n                e.printStackTrace();\n            }\n        }).start();\n    }\n    static private void runCasesarAndOutput_() throws AWTException {\n        // wait until enter key event is processed\n        sleep(50);\n\n        try {\n            // suspend key listening temporaily or we will feed back into our own input\n            sRecordKeys = false;\n\n            // send output. Do NOT process the enter key, thus size-1\n            for (int i = 0; i &lt; sRecordedRawKeyCodes.size() - 1; i++) {\n                final int c = sRecordedRawKeyCodes.get(i).intValue();\n                typeKey(c + 1); // this is a really bad implementation of caesar\n                // especially because this will fall out of the keymapping boundaries a lot!\n                // some normal chars might get converted into control chars, like the arrow keys, for example\n                // also, letters do not wrap back up (z does not wrap back up to a in case of +1)\n                // also, you need to take additional care of special control keys like backspace the handle the ensuing &quot;text&quot; properly!\n            }\n\n            // send enter to finish line\n            typeKey(KeyEvent.VK_ENTER);\n\n        } finally {\n            sRecordKeys = true;\n        }\n\n        // clear intercepted key chars\n        sRecordedChars.setLength(0);\n        sRecordedRawKeyCodes.clear();\n    }\n\n\n\n    static public void typeKey(final int pKeyCode) throws AWTException {\n        if (sRobot == null) sRobot = new Robot();\n        try {\n            sRobot.keyPress(pKeyCode);\n            sleep(KEY_PRESS_DURATION_MS);\n            sRobot.keyRelease(pKeyCode);\n            //          sleep(KEY_PRESS_DURATION_MS);\n\n        } catch (final java.lang.IllegalArgumentException e) {\n            System.err.println(&quot;Key code [&quot; + pKeyCode + &quot;] is invalid!&quot;);\n            e.printStackTrace();\n        }\n    }\n    static public void beep(final int pCount) {\n        final Toolkit dtk = Toolkit.getDefaultToolkit();\n        for (int i = 0; i &lt; pCount; i++) {\n            dtk.beep();\n            JcUThread.sleep(300);\n        }\n    }\n    static public void sleep(final int pMS) {\n        try {\n            Thread.sleep(pMS);\n        } catch (final InterruptedException e) { /* */ }\n    }\n\n\n\n}\n</code></pre>\n<h2>There's lots of downsides to this implementation and the problem per se:</h2>\n<ul>\n<li>Needs jnativehook_2.2.0 as earlier versions do NOT work reliably under Windows</li>\n<li>Needs a lot of special care when handling control keys like backspace, arrows etc.</li>\n<li>Caesar chiper will be a pain in the ass to implement properly</li>\n<li>More details in the comments</li>\n</ul>\n<h2>Usage:</h2>\n<ul>\n<li>Run the app</li>\n<li>Head into your text editor</li>\n<li>Press F2 to start recording the keys</li>\n<li>When you press Enter, the keys will be caesar-transformed and then sent to the doc as keystrokes</li>\n<li>Press F3 to halt recording</li>\n<li>Or press F4 to shut down the app</li>\n</ul>\n"}],"owner":{"account_id":19761108,"reputation":9,"user_id":14470229,"display_name":"Bernd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695434138,"creation_date":1695248980,"question_id":77146229,"body_markdown":"I used jnativehook.keyboard.NativeKeyListener to *listen* to keys typed in an open text document. No problem here.\r\nAfter a short permutation (think Caesar cipher), I want to send the *output* back to that open text document.\r\nHow do I do this? This seems to be surprisingly complicated...","title":"How do I get Java to output to where my focus is? (example: open text document)","body":"<p>I used jnativehook.keyboard.NativeKeyListener to <em>listen</em> to keys typed in an open text document. No problem here.\nAfter a short permutation (think Caesar cipher), I want to send the <em>output</em> back to that open text document.\nHow do I do this? This seems to be surprisingly complicated...</p>\n"},{"tags":["java","spring","scala","maven","apache-spark"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1695439314,"post_id":77161384,"comment_id":136028350,"body_markdown":"BTW note that updating **Spark** apps to `2.13` is usually impossible since your runtime needs to support that and to my knowledge, no cloud provider supports `2.13` yet _(I could be wrong, or you could be running standalone)_. - Anyways, you don&#39;t need to update **Scala** to `2.13` to use it with **Java 17**-","body":"BTW note that updating <b>Spark</b> apps to <code>2.13</code> is usually impossible since your runtime needs to support that and to my knowledge, no cloud provider supports <code>2.13</code> yet <i>(I could be wrong, or you could be running standalone)</i>. - Anyways, you don&#39;t need to update <b>Scala</b> to <code>2.13</code> to use it with <b>Java 17</b>-"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1695439992,"post_id":77161384,"comment_id":136028382,"body_markdown":"[EMR on EKS now supports Apache Spark with Java 17](https://aws.amazon.com/about-aws/whats-new/2023/07/emr-eks-apache-spark-java-17/). [Spark runs on Java 8/11/17, Scala 2.12/2.13](https://spark.apache.org/docs/3.5.0). Not sure what you did to do the upgrade or how the environment is being setup. From the [spark download](https://spark.apache.org/downloads.html) there are a build for scala 2.12 and another one for 2.13.","body":"<a href=\"https://aws.amazon.com/about-aws/whats-new/2023/07/emr-eks-apache-spark-java-17/\" rel=\"nofollow noreferrer\">EMR on EKS now supports Apache Spark with Java 17</a>. <a href=\"https://spark.apache.org/docs/3.5.0\" rel=\"nofollow noreferrer\">Spark runs on Java 8/11/17, Scala 2.12/2.13</a>. Not sure what you did to do the upgrade or how the environment is being setup. From the <a href=\"https://spark.apache.org/downloads.html\" rel=\"nofollow noreferrer\">spark download</a> there are a build for scala 2.12 and another one for 2.13."},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1695673122,"post_id":77161384,"comment_id":136053330,"body_markdown":"I&#39;m using the 17 2.13, but this issue has been in my local. I can probably try and make sure all the scala 2.12 downloads and do it that way but this was maven clean install on my local, not the container. I was hoping to upgrade, but maybe that&#39;s just not the right play.","body":"I&#39;m using the 17 2.13, but this issue has been in my local. I can probably try and make sure all the scala 2.12 downloads and do it that way but this was maven clean install on my local, not the container. I was hoping to upgrade, but maybe that&#39;s just not the right play."}],"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695433963,"creation_date":1695433963,"question_id":77161384,"body_markdown":"I&#39;ve come here from questions like: https://stackoverflow.com/questions/59535009/java-cannot-access-scala-serializable-class-file-for-scala-serializable-not-fou\r\n\r\nAnd other similar questions.\r\n\r\nRecently, I&#39;ve taken the initiative to move my from java 11 to java 17, including this EMR spark app I have. I&#39;m not very familiar with scala but the move seemed simple enough, moving everything from scala 2.12 to 2.13.\r\n\r\nHowever, I&#39;ve now run into this error:\r\n\r\n```\r\nSparkJobTest.java:[28,13] cannot find symbol\r\n[ERROR]   symbol:   class Serializable\r\n[ERROR]   location: package scala\r\n```\r\n\r\nEarly on, my inclination was I forgot a dependency somewhere, but looking at my tree, nothing is obvious:\r\n```\r\n[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ spark-ingester-spring-boot-starter ---\r\n[INFO] com.mycompany.mcp:spark-ingester-spring-boot-starter:jar:7.0.0-SNAPSHOT\r\n[INFO] +- org.springframework.boot:spring-boot-autoconfigure:jar:2.5.2:compile\r\n[INFO] |  \\- org.springframework.boot:spring-boot:jar:2.5.2:compile\r\n[INFO] |     +- org.springframework:spring-core:jar:5.3.8:compile\r\n[INFO] |     |  \\- org.springframework:spring-jcl:jar:5.3.8:compile\r\n[INFO] |     \\- org.springframework:spring-context:jar:5.3.8:compile\r\n[INFO] |        +- org.springframework:spring-aop:jar:5.3.8:compile\r\n[INFO] |        \\- org.springframework:spring-expression:jar:5.3.8:compile\r\n[INFO] +- org.apache.spark:spark-core_2.13:jar:3.4.1:provided\r\n[INFO] |  +- org.scala-lang.modules:scala-parallel-collections_2.13:jar:1.0.4:provided\r\n[INFO] |  +- org.apache.avro:avro:jar:1.11.1:provided\r\n[INFO] |  +- org.apache.avro:avro-mapred:jar:1.11.1:provided\r\n[INFO] |  |  \\- org.apache.avro:avro-ipc:jar:1.11.1:provided\r\n[INFO] |  |     \\- org.tukaani:xz:jar:1.9:provided\r\n[INFO] |  +- com.twitter:chill_2.13:jar:0.10.0:provided\r\n[INFO] |  |  \\- com.esotericsoftware:kryo-shaded:jar:4.0.2:provided\r\n[INFO] |  |     \\- com.esotericsoftware:minlog:jar:1.3.0:provided\r\n[INFO] |  +- com.twitter:chill-java:jar:0.10.0:provided\r\n[INFO] |  +- org.apache.xbean:xbean-asm9-shaded:jar:4.22:provided\r\n[INFO] |  +- org.apache.hadoop:hadoop-client-api:jar:3.3.4:provided\r\n[INFO] |  +- org.apache.hadoop:hadoop-client-runtime:jar:3.3.4:provided\r\n[INFO] |  +- org.apache.spark:spark-launcher_2.13:jar:3.4.1:provided\r\n[INFO] |  +- org.apache.spark:spark-kvstore_2.13:jar:3.4.1:provided\r\n[INFO] |  |  +- org.fusesource.leveldbjni:leveldbjni-all:jar:1.8:provided\r\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\r\n[INFO] |  +- org.apache.spark:spark-network-common_2.13:jar:3.4.1:provided\r\n[INFO] |  |  \\- com.google.crypto.tink:tink:jar:1.7.0:provided\r\n[INFO] |  +- org.apache.spark:spark-network-shuffle_2.13:jar:3.4.1:provided\r\n[INFO] |  +- org.apache.spark:spark-unsafe_2.13:jar:3.4.1:provided\r\n[INFO] |  +- javax.activation:activation:jar:1.1.1:provided\r\n[INFO] |  +- org.apache.curator:curator-recipes:jar:2.13.0:provided\r\n[INFO] |  |  \\- org.apache.curator:curator-framework:jar:2.13.0:provided\r\n[INFO] |  +- org.apache.zookeeper:zookeeper:jar:3.6.3:provided\r\n[INFO] |  |  +- org.apache.zookeeper:zookeeper-jute:jar:3.6.3:provided\r\n[INFO] |  |  \\- org.apache.yetus:audience-annotations:jar:0.5.0:provided\r\n[INFO] |  +- jakarta.servlet:jakarta.servlet-api:jar:4.0.3:provided\r\n[INFO] |  +- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] |  +- org.apache.commons:commons-compress:jar:1.22:compile\r\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] |  +- org.apache.commons:commons-math3:jar:3.6.1:compile\r\n[INFO] |  +- org.apache.commons:commons-text:jar:1.10.0:compile\r\n[INFO] |  +- commons-io:commons-io:jar:2.11.0:compile\r\n[INFO] |  +- commons-collections:commons-collections:jar:3.2.2:provided\r\n[INFO] |  +- org.apache.commons:commons-collections4:jar:4.4:compile\r\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.0:compile\r\n[INFO] |  +- org.slf4j:slf4j-api:jar:2.0.6:compile\r\n[INFO] |  +- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n[INFO] |  +- org.slf4j:jcl-over-slf4j:jar:2.0.6:compile\r\n[INFO] |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.19.0:provided\r\n[INFO] |  +- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n[INFO] |  +- org.apache.logging.log4j:log4j-core:jar:2.19.0:compile\r\n[INFO] |  +- org.apache.logging.log4j:log4j-1.2-api:jar:2.19.0:provided\r\n[INFO] |  +- com.ning:compress-lzf:jar:1.1.2:provided\r\n[INFO] |  +- org.xerial.snappy:snappy-java:jar:1.1.10.1:provided\r\n[INFO] |  +- org.lz4:lz4-java:jar:1.8.0:provided\r\n[INFO] |  +- com.github.luben:zstd-jni:jar:1.5.2-5:provided\r\n[INFO] |  +- org.roaringbitmap:RoaringBitmap:jar:0.9.38:provided\r\n[INFO] |  |  \\- org.roaringbitmap:shims:jar:0.9.38:provided\r\n[INFO] |  +- org.scala-lang.modules:scala-xml_2.13:jar:2.1.0:provided\r\n[INFO] |  +- org.scala-lang:scala-reflect:jar:2.13.8:provided\r\n[INFO] |  +- org.json4s:json4s-jackson_2.13:jar:3.7.0-M11:provided\r\n[INFO] |  |  \\- org.json4s:json4s-core_2.13:jar:3.7.0-M11:provided\r\n[INFO] |  |     +- org.json4s:json4s-ast_2.13:jar:3.7.0-M11:provided\r\n[INFO] |  |     \\- org.json4s:json4s-scalap_2.13:jar:3.7.0-M11:provided\r\n[INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:2.36:provided\r\n[INFO] |  |  +- jakarta.ws.rs:jakarta.ws.rs-api:jar:2.1.6:provided\r\n[INFO] |  |  \\- org.glassfish.hk2.external:jakarta.inject:jar:2.6.1:provided\r\n[INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.36:provided\r\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n[INFO] |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:provided\r\n[INFO] |  +- org.glassfish.jersey.core:jersey-server:jar:2.36:provided\r\n[INFO] |  |  \\- jakarta.validation:jakarta.validation-api:jar:2.0.2:provided\r\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:2.36:provided\r\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:2.36:provided\r\n[INFO] |  +- org.glassfish.jersey.inject:jersey-hk2:jar:2.36:provided\r\n[INFO] |  |  +- org.glassfish.hk2:hk2-locator:jar:2.6.1:provided\r\n[INFO] |  |  |  +- org.glassfish.hk2.external:aopalliance-repackaged:jar:2.6.1:provided\r\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:2.6.1:provided\r\n[INFO] |  |  |  \\- org.glassfish.hk2:hk2-utils:jar:2.6.1:provided\r\n[INFO] |  |  \\- org.javassist:javassist:jar:3.25.0-GA:provided\r\n[INFO] |  +- io.netty:netty-all:jar:4.1.87.Final:provided\r\n[INFO] |  |  +- io.netty:netty-buffer:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-codec:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-codec-http2:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-codec-socks:jar:4.1.87.Final:provided\r\n[INFO] |  |  +- io.netty:netty-common:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-handler:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-transport-native-unix-common:jar:4.1.87.Final:provided\r\n[INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.87.Final:provided\r\n[INFO] |  |  +- io.netty:netty-resolver:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-transport:jar:4.1.87.Final:runtime\r\n[INFO] |  |  +- io.netty:netty-transport-classes-epoll:jar:4.1.87.Final:runtime\r\n[INFO] |  |  \\- io.netty:netty-transport-classes-kqueue:jar:4.1.87.Final:provided\r\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.87.Final:provided\r\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-aarch_64:4.1.87.Final:provided\r\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-aarch_64:4.1.87.Final:provided\r\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.87.Final:provided\r\n[INFO] |  +- com.clearspring.analytics:stream:jar:2.9.6:provided\r\n[INFO] |  +- io.dropwizard.metrics:metrics-core:jar:4.2.15:provided\r\n[INFO] |  +- io.dropwizard.metrics:metrics-jvm:jar:4.2.15:provided\r\n[INFO] |  +- io.dropwizard.metrics:metrics-json:jar:4.2.15:provided\r\n[INFO] |  +- io.dropwizard.metrics:metrics-graphite:jar:4.2.15:provided\r\n[INFO] |  +- io.dropwizard.metrics:metrics-jmx:jar:4.2.15:provided\r\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\r\n[INFO] |  +- com.fasterxml.jackson.module:jackson-module-scala_2.13:jar:2.14.2:provided\r\n[INFO] |  |  \\- com.thoughtworks.paranamer:paranamer:jar:2.8:provided\r\n[INFO] |  +- org.apache.ivy:ivy:jar:2.5.1:provided\r\n[INFO] |  +- oro:oro:jar:2.0.8:provided\r\n[INFO] |  +- net.razorvine:pickle:jar:1.3:provided\r\n[INFO] |  +- net.sf.py4j:py4j:jar:0.10.9.7:provided\r\n[INFO] |  +- org.apache.spark:spark-tags_2.13:jar:3.4.1:provided\r\n[INFO] |  \\- org.apache.commons:commons-crypto:jar:1.1.0:provided\r\n[INFO] +- org.apache.spark:spark-sql_2.13:jar:3.4.1:provided\r\n[INFO] |  +- org.rocksdb:rocksdbjni:jar:7.9.2:provided\r\n[INFO] |  +- com.univocity:univocity-parsers:jar:2.9.1:provided\r\n[INFO] |  +- org.apache.spark:spark-sketch_2.13:jar:3.4.1:provided\r\n[INFO] |  +- org.apache.spark:spark-catalyst_2.13:jar:3.4.1:provided\r\n[INFO] |  |  +- org.scala-lang.modules:scala-parser-combinators_2.13:jar:2.1.1:provided\r\n[INFO] |  |  +- org.codehaus.janino:janino:jar:3.1.9:provided\r\n[INFO] |  |  +- org.codehaus.janino:commons-compiler:jar:3.1.9:provided\r\n[INFO] |  |  +- org.antlr:antlr4-runtime:jar:4.9.3:provided\r\n[INFO] |  |  +- org.apache.arrow:arrow-vector:jar:11.0.0:provided\r\n[INFO] |  |  |  +- org.apache.arrow:arrow-format:jar:11.0.0:provided\r\n[INFO] |  |  |  +- org.apache.arrow:arrow-memory-core:jar:11.0.0:provided\r\n[INFO] |  |  |  \\- com.google.flatbuffers:flatbuffers-java:jar:1.12.0:provided\r\n[INFO] |  |  \\- org.apache.arrow:arrow-memory-netty:jar:11.0.0:provided\r\n[INFO] |  +- org.apache.orc:orc-core:jar:shaded-protobuf:1.8.4:provided\r\n[INFO] |  |  +- org.apache.orc:orc-shims:jar:1.8.4:provided\r\n[INFO] |  |  +- io.airlift:aircompressor:jar:0.21:provided\r\n[INFO] |  |  +- org.jetbrains:annotations:jar:17.0.0:provided\r\n[INFO] |  |  \\- org.threeten:threeten-extra:jar:1.7.1:provided\r\n[INFO] |  +- org.apache.orc:orc-mapreduce:jar:shaded-protobuf:1.8.4:provided\r\n[INFO] |  +- org.apache.hive:hive-storage-api:jar:2.8.1:provided\r\n[INFO] |  +- org.apache.parquet:parquet-column:jar:1.12.3:provided\r\n[INFO] |  |  +- org.apache.parquet:parquet-common:jar:1.12.3:provided\r\n[INFO] |  |  \\- org.apache.parquet:parquet-encoding:jar:1.12.3:provided\r\n[INFO] |  +- org.apache.parquet:parquet-hadoop:jar:1.12.3:provided\r\n[INFO] |  |  +- org.apache.parquet:parquet-format-structures:jar:1.12.3:provided\r\n[INFO] |  |  \\- org.apache.parquet:parquet-jackson:jar:1.12.3:provided\r\n[INFO] |  \\- com.google.protobuf:protobuf-java:jar:3.21.12:provided\r\n[INFO] +- org.scala-lang:scala-library:jar:2.13.12:provided\r\n[INFO] +- com.crealytics:spark-excel_2.13:jar:3.4.1_0.19.0:compile\r\n[INFO] |  +- org.apache.poi:poi:jar:5.2.3:compile\r\n[INFO] |  +- org.apache.poi:poi-ooxml:jar:5.2.3:compile\r\n[INFO] |  +- org.apache.poi:poi-ooxml-lite:jar:5.2.3:compile\r\n[INFO] |  +- org.apache.xmlbeans:xmlbeans:jar:5.1.1:compile\r\n[INFO] |  +- com.norbitltd:spoiwo_2.13:jar:2.2.1:compile\r\n[INFO] |  |  \\- com.github.tototoshi:scala-csv_2.13:jar:1.3.10:compile\r\n[INFO] |  +- com.github.pjfanning:excel-streaming-reader:jar:4.0.5:compile\r\n[INFO] |  +- com.github.pjfanning:poi-shared-strings:jar:2.5.6:compile\r\n[INFO] |  |  \\- com.h2database:h2:jar:2.1.214:runtime\r\n[INFO] |  +- com.zaxxer:SparseBitSet:jar:1.2:compile\r\n[INFO] |  +- com.github.virtuald:curvesapi:jar:1.07:compile\r\n[INFO] |  \\- org.scala-lang.modules:scala-collection-compat_2.13:jar:2.10.0:compile\r\n[INFO] +- com.amazonaws:aws-java-sdk-sqs:jar:1.12.508:compile\r\n[INFO] |  +- com.amazonaws:aws-java-sdk-core:jar:1.12.508:compile\r\n[INFO] |  |  +- software.amazon.ion:ion-java:jar:1.0.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:jar:2.12.6:compile\r\n[INFO] |  |  \\- joda-time:joda-time:jar:2.8.1:compile\r\n[INFO] |  \\- com.amazonaws:jmespath-java:jar:1.12.508:compile\r\n[INFO] +- com.mycompany.mcp.fhir:common-fhir:jar:9.0.0-SNAPSHOT:provided\r\n[INFO] |  +- io.swagger.core.v3:swagger-annotations:jar:2.2.16:provided\r\n[INFO] |  +- io.swagger:swagger-annotations:jar:1.6.11:provided\r\n[INFO] |  +- org.reflections:reflections:jar:0.10.2:provided\r\n[INFO] |  +- javax.xml.bind:jaxb-api:jar:2.3.1:provided\r\n[INFO] |  |  \\- javax.activation:javax.activation-api:jar:1.2.0:provided\r\n[INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.4:provided\r\n[INFO] +- com.mycompany.mcp.fhir:common-utilities:jar:9.0.0-SNAPSHOT:provided\r\n[INFO] |  \\- org.springframework:spring-web:jar:5.3.22:compile\r\n[INFO] |     \\- org.springframework:spring-beans:jar:5.3.22:compile\r\n[INFO] +- com.mycompany.mcp.utilities:common-clients:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |  +- com.mycompany.mcp.resources:singularity-models:jar:7.15.1-SNAPSHOT:compile\r\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-dynamodb:jar:1.12.398:compile\r\n[INFO] |  |  \\- com.amazonaws:aws-java-sdk-sts:jar:1.12.398:compile\r\n[INFO] |  +- com.mycompany.mcp.utilities:model-utilities:jar:8.0.0-SNAPSHOT:compile\r\n[INFO] |  |  +- com.github.java-json-tools:msg-simple:jar:1.2:compile\r\n[INFO] |  |  |  \\- com.github.java-json-tools:btf:jar:1.3:compile\r\n[INFO] |  |  +- com.github.java-json-tools:jackson-coreutils:jar:2.0:compile\r\n[INFO] |  |  \\- com.contentful.java:java-sdk:jar:10.5.16:compile\r\n[INFO] |  |     +- com.squareup.retrofit2:retrofit:jar:2.9.0:compile\r\n[INFO] |  |     +- com.squareup.retrofit2:adapter-rxjava3:jar:2.9.0:compile\r\n[INFO] |  |     +- com.squareup.retrofit2:converter-gson:jar:2.9.0:compile\r\n[INFO] |  |     +- io.reactivex.rxjava3:rxjava:jar:3.1.3:compile\r\n[INFO] |  |     +- com.squareup.okhttp3:okhttp:jar:3.12.12:compile\r\n[INFO] |  |     |  \\- com.squareup.okio:okio:jar:1.15.0:compile\r\n[INFO] |  |     \\- com.github.tony19:named-regexp:jar:0.2.5:compile\r\n[INFO] |  +- org.elasticsearch:elasticsearch:jar:6.8.21:compile\r\n[INFO] |  |  +- org.elasticsearch:elasticsearch-core:jar:6.8.21:compile\r\n[INFO] |  |  +- org.elasticsearch:elasticsearch-secure-sm:jar:6.8.21:compile\r\n[INFO] |  |  +- org.elasticsearch:elasticsearch-x-content:jar:6.8.21:compile\r\n[INFO] |  |  |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-smile:jar:2.8.11:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.8.11:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-core:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-analyzers-common:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-backward-codecs:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-grouping:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-highlighter:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-join:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-memory:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-misc:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-queries:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-queryparser:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-sandbox:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-spatial:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-spatial-extras:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-spatial3d:jar:7.7.3:compile\r\n[INFO] |  |  +- org.apache.lucene:lucene-suggest:jar:7.7.3:compile\r\n[INFO] |  |  +- org.elasticsearch:elasticsearch-cli:jar:6.8.21:compile\r\n[INFO] |  |  |  \\- net.sf.jopt-simple:jopt-simple:jar:5.0.2:compile\r\n[INFO] |  |  +- com.carrotsearch:hppc:jar:0.7.1:compile\r\n[INFO] |  |  +- com.tdunning:t-digest:jar:3.2:compile\r\n[INFO] |  |  +- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile\r\n[INFO] |  |  \\- org.elasticsearch:jna:jar:5.5.0:compile\r\n[INFO] |  +- com.google.guava:guava:jar:32.1.2-jre:compile\r\n[INFO] |  |  +- com.google.guava:failureaccess:jar:1.0.1:compile\r\n[INFO] |  |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\r\n[INFO] |  |  +- org.checkerframework:checker-qual:jar:3.33.0:compile\r\n[INFO] |  |  +- com.google.errorprone:error_prone_annotations:jar:2.18.0:compile\r\n[INFO] |  |  \\- com.google.j2objc:j2objc-annotations:jar:2.8:compile\r\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.2:compile\r\n[INFO] |  +- com.github.java-json-tools:json-patch:jar:1.13:compile\r\n[INFO] |  \\- com.github.ben-manes.caffeine:caffeine:jar:3.1.8:compile\r\n[INFO] +- software.amazon.awssdk:sqs:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:aws-query-protocol:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:protocol-core:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:sdk-core:jar:2.20.101:compile\r\n[INFO] |  |  +- software.amazon.awssdk:profiles:jar:2.20.101:compile\r\n[INFO] |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\r\n[INFO] |  +- software.amazon.awssdk:auth:jar:2.20.101:compile\r\n[INFO] |  |  \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\r\n[INFO] |  +- software.amazon.awssdk:http-client-spi:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:regions:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:annotations:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:utils:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:aws-core:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:metrics-spi:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:json-utils:jar:2.20.101:compile\r\n[INFO] |  |  \\- software.amazon.awssdk:third-party-jackson-core:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:endpoints-spi:jar:2.20.101:compile\r\n[INFO] |  +- software.amazon.awssdk:apache-client:jar:2.20.101:runtime\r\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\r\n[INFO] |  \\- software.amazon.awssdk:netty-nio-client:jar:2.20.101:runtime\r\n[INFO] +- software.amazon.awssdk:sns:jar:2.20.101:compile\r\n[INFO] +- com.amazonaws:aws-java-sdk-sns:jar:1.12.508:compile\r\n[INFO] +- com.amazonaws:aws-java-sdk-s3:jar:1.12.508:compile\r\n[INFO] |  \\- com.amazonaws:aws-java-sdk-kms:jar:1.12.508:compile\r\n[INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.12.1:compile\r\n[INFO] +- com.mycompany.mcp-common-eventbus:models:jar:5.0.2:compile\r\n[INFO] +- com.mycompany.mcp.metamorphosis:metamorphosis-models:jar:2.9.0:compile\r\n[INFO] +- com.mycompany:mcp-boot-starter-monitoring:pom:5.4.0:compile\r\n[INFO] |  +- com.mycompany:mcp-common-monitoring:jar:2.9.0:compile\r\n[INFO] |  |  +- ch.qos.logback:logback-access:jar:1.2.3:compile\r\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.3:compile\r\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.3:compile\r\n[INFO] |  |  +- net.logstash.logback:logstash-logback-encoder:jar:6.2:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjrt:jar:1.9.4:compile\r\n[INFO] |  +- com.mycompany:mcp-boot-autoconfigure:jar:5.4.0:compile\r\n[INFO] |  \\- org.springframework.boot:spring-boot-starter:jar:2.5.2:compile\r\n[INFO] |     +- org.springframework.boot:spring-boot-starter-logging:jar:2.5.2:compile\r\n[INFO] |     |  \\- org.apache.logging.log4j:log4j-to-slf4j:jar:2.14.1:compile\r\n[INFO] |     \\- org.yaml:snakeyaml:jar:1.28:compile\r\n[INFO] +- junit:junit:jar:4.13.2:test\r\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\r\n[INFO] +- org.projectlombok:lombok:jar:1.18.28:compile\r\n[INFO] +- org.apache.hadoop:hadoop-aws:jar:3.3.6:provided\r\n[INFO] |  +- com.amazonaws:aws-java-sdk-bundle:jar:1.12.367:provided\r\n[INFO] |  \\- org.wildfly.openssl:wildfly-openssl:jar:1.1.3.Final:provided\r\n[INFO] +- org.apache.hadoop:hadoop-common:jar:3.3.6:provided\r\n[INFO] |  +- org.apache.hadoop.thirdparty:hadoop-shaded-protobuf_3_7:jar:1.1.1:provided\r\n[INFO] |  +- org.apache.hadoop:hadoop-annotations:jar:3.3.6:provided\r\n[INFO] |  +- org.apache.hadoop.thirdparty:hadoop-shaded-guava:jar:1.1.1:provided\r\n[INFO] |  +- commons-cli:commons-cli:jar:1.2:provided\r\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n[INFO] |  +- commons-net:commons-net:jar:3.9.0:provided\r\n[INFO] |  +- javax.servlet:javax.servlet-api:jar:3.1.0:compile\r\n[INFO] |  +- jakarta.activation:jakarta.activation-api:jar:1.2.1:provided\r\n[INFO] |  +- org.eclipse.jetty:jetty-server:jar:9.4.51.v20230217:provided\r\n[INFO] |  |  +- org.eclipse.jetty:jetty-http:jar:9.4.51.v20230217:provided\r\n[INFO] |  |  \\- org.eclipse.jetty:jetty-io:jar:9.4.51.v20230217:provided\r\n[INFO] |  +- org.eclipse.jetty:jetty-util:jar:9.4.51.v20230217:provided\r\n[INFO] |  +- org.eclipse.jetty:jetty-servlet:jar:9.4.51.v20230217:provided\r\n[INFO] |  |  +- org.eclipse.jetty:jetty-security:jar:9.4.51.v20230217:provided\r\n[INFO] |  |  \\- org.eclipse.jetty:jetty-util-ajax:jar:9.4.51.v20230217:provided\r\n[INFO] |  +- org.eclipse.jetty:jetty-webapp:jar:9.4.51.v20230217:provided\r\n[INFO] |  |  \\- org.eclipse.jetty:jetty-xml:jar:9.4.51.v20230217:provided\r\n[INFO] |  +- javax.servlet.jsp:jsp-api:jar:2.1:provided\r\n[INFO] |  +- com.sun.jersey:jersey-core:jar:1.19.4:provided\r\n[INFO] |  |  \\- javax.ws.rs:jsr311-api:jar:1.1.1:provided\r\n[INFO] |  +- com.sun.jersey:jersey-servlet:jar:1.19.4:provided\r\n[INFO] |  +- com.github.pjfanning:jersey-json:jar:1.20:provided\r\n[INFO] |  |  +- org.codehaus.jettison:jettison:jar:1.1:provided\r\n[INFO] |  |  \\- com.sun.xml.bind:jaxb-impl:jar:2.2.3-1:provided\r\n[INFO] |  +- com.sun.jersey:jersey-server:jar:1.19.4:provided\r\n[INFO] |  +- commons-logging:commons-logging:jar:1.1.3:compile\r\n[INFO] |  +- ch.qos.reload4j:reload4j:jar:1.2.22:provided\r\n[INFO] |  +- org.apache.commons:commons-configuration2:jar:2.8.0:provided\r\n[INFO] |  +- org.slf4j:slf4j-reload4j:jar:1.7.36:provided\r\n[INFO] |  +- com.google.re2j:re2j:jar:1.1:provided\r\n[INFO] |  +- com.google.code.gson:gson:jar:2.9.0:compile\r\n[INFO] |  +- org.apache.hadoop:hadoop-auth:jar:3.3.6:provided\r\n[INFO] |  |  +- com.nimbusds:nimbus-jose-jwt:jar:9.8.1:provided\r\n[INFO] |  |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:provided\r\n[INFO] |  |  \\- org.apache.kerby:kerb-simplekdc:jar:1.0.1:provided\r\n[INFO] |  |     +- org.apache.kerby:kerb-client:jar:1.0.1:provided\r\n[INFO] |  |     |  +- org.apache.kerby:kerby-config:jar:1.0.1:provided\r\n[INFO] |  |     |  +- org.apache.kerby:kerb-common:jar:1.0.1:provided\r\n[INFO] |  |     |  |  \\- org.apache.kerby:kerb-crypto:jar:1.0.1:provided\r\n[INFO] |  |     |  +- org.apache.kerby:kerb-util:jar:1.0.1:provided\r\n[INFO] |  |     |  \\- org.apache.kerby:token-provider:jar:1.0.1:provided\r\n[INFO] |  |     \\- org.apache.kerby:kerb-admin:jar:1.0.1:provided\r\n[INFO] |  |        +- org.apache.kerby:kerb-server:jar:1.0.1:provided\r\n[INFO] |  |        |  \\- org.apache.kerby:kerb-identity:jar:1.0.1:provided\r\n[INFO] |  |        \\- org.apache.kerby:kerby-xdr:jar:1.0.1:provided\r\n[INFO] |  +- com.jcraft:jsch:jar:0.1.55:provided\r\n[INFO] |  +- org.apache.curator:curator-client:jar:5.2.0:provided\r\n[INFO] |  +- org.apache.kerby:kerb-core:jar:1.0.1:provided\r\n[INFO] |  |  \\- org.apache.kerby:kerby-pkix:jar:1.0.1:provided\r\n[INFO] |  |     +- org.apache.kerby:kerby-asn1:jar:1.0.1:provided\r\n[INFO] |  |     \\- org.apache.kerby:kerby-util:jar:1.0.1:provided\r\n[INFO] |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:provided\r\n[INFO] |  +- com.fasterxml.woodstox:woodstox-core:jar:5.4.0:provided\r\n[INFO] |  \\- dnsjava:dnsjava:jar:2.1.7:provided\r\n[INFO] +- org.mockito:mockito-core:jar:3.3.3:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.10.5:test\r\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.10.5:test\r\n[INFO] |  \\- org.objenesis:objenesis:jar:2.6:provided\r\n[INFO] +- com.holdenkarau:spark-testing-base_2.13:jar:3.4.1_1.4.4:test\r\n[INFO] |  +- org.apache.spark:spark-streaming_2.13:jar:3.4.1:test\r\n[INFO] |  +- org.apache.spark:spark-hive_2.13:jar:3.4.1:test\r\n[INFO] |  |  +- org.apache.hive:hive-common:jar:2.3.9:test\r\n[INFO] |  |  |  +- commons-lang:commons-lang:jar:2.6:test\r\n[INFO] |  |  |  +- jline:jline:jar:2.12:test\r\n[INFO] |  |  |  +- com.tdunning:json:jar:1.8:test\r\n[INFO] |  |  |  \\- com.github.joshelser:dropwizard-metrics-hadoop-metrics2-reporter:jar:0.1.2:test\r\n[INFO] |  |  +- org.apache.hive:hive-exec:jar:core:2.3.9:test\r\n[INFO] |  |  |  +- org.antlr:antlr-runtime:jar:3.5.2:test\r\n[INFO] |  |  |  +- org.antlr:ST4:jar:4.0.4:test\r\n[INFO] |  |  |  \\- stax:stax-api:jar:1.0.1:test\r\n[INFO] |  |  +- org.apache.hive:hive-metastore:jar:2.3.9:test\r\n[INFO] |  |  |  +- javolution:javolution:jar:5.5.1:test\r\n[INFO] |  |  |  +- com.jolbox:bonecp:jar:0.8.0.RELEASE:test\r\n[INFO] |  |  |  +- com.zaxxer:HikariCP:jar:2.5.1:test\r\n[INFO] |  |  |  +- org.datanucleus:datanucleus-api-jdo:jar:4.2.4:test\r\n[INFO] |  |  |  +- org.datanucleus:datanucleus-rdbms:jar:4.1.19:test\r\n[INFO] |  |  |  +- commons-pool:commons-pool:jar:1.5.4:test\r\n[INFO] |  |  |  +- commons-dbcp:commons-dbcp:jar:1.4:test\r\n[INFO] |  |  |  +- javax.jdo:jdo-api:jar:3.0.1:test\r\n[INFO] |  |  |  |  \\- javax.transaction:jta:jar:1.1:test\r\n[INFO] |  |  |  \\- org.datanucleus:javax.jdo:jar:3.2.0-m3:test\r\n[INFO] |  |  |     \\- javax.transaction:transaction-api:jar:1.1:test\r\n[INFO] |  |  +- org.apache.hive:hive-serde:jar:2.3.9:test\r\n[INFO] |  |  |  \\- net.sf.opencsv:opencsv:jar:2.3:test\r\n[INFO] |  |  +- org.apache.hive:hive-shims:jar:2.3.9:test\r\n[INFO] |  |  |  +- org.apache.hive.shims:hive-shims-common:jar:2.3.9:test\r\n[INFO] |  |  |  +- org.apache.hive.shims:hive-shims-0.23:jar:2.3.9:test\r\n[INFO] |  |  |  \\- org.apache.hive.shims:hive-shims-scheduler:jar:2.3.9:test\r\n[INFO] |  |  +- org.apache.hive:hive-llap-common:jar:2.3.9:test\r\n[INFO] |  |  +- org.apache.hive:hive-llap-client:jar:2.3.9:test\r\n[INFO] |  |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:test\r\n[INFO] |  |  |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:test\r\n[INFO] |  |  +- org.jodd:jodd-core:jar:3.5.2:test\r\n[INFO] |  |  +- org.datanucleus:datanucleus-core:jar:4.1.17:test\r\n[INFO] |  |  +- org.apache.thrift:libthrift:jar:0.12.0:test\r\n[INFO] |  |  +- org.apache.thrift:libfb303:jar:0.9.3:test\r\n[INFO] |  |  \\- org.apache.derby:derby:jar:10.14.2.0:test\r\n[INFO] |  +- org.apache.spark:spark-yarn_2.13:jar:3.4.1:test\r\n[INFO] |  +- org.apache.spark:spark-mllib_2.13:jar:3.4.1:test\r\n[INFO] |  |  +- org.apache.spark:spark-graphx_2.13:jar:3.4.1:test\r\n[INFO] |  |  |  \\- net.sourceforge.f2j:arpack_combined_all:jar:0.1:test\r\n[INFO] |  |  +- org.apache.spark:spark-mllib-local_2.13:jar:3.4.1:test\r\n[INFO] |  |  +- org.scalanlp:breeze_2.13:jar:2.1.0:test\r\n[INFO] |  |  |  +- org.scalanlp:breeze-macros_2.13:jar:2.1.0:test\r\n[INFO] |  |  |  +- com.github.wendykierp:JTransforms:jar:3.1:test\r\n[INFO] |  |  |  |  \\- pl.edu.icm:JLargeArrays:jar:1.5:test\r\n[INFO] |  |  |  \\- org.typelevel:spire_2.13:jar:0.18.0:test\r\n[INFO] |  |  |     +- org.typelevel:spire-macros_2.13:jar:0.18.0:test\r\n[INFO] |  |  |     +- org.typelevel:spire-platform_2.13:jar:0.18.0:test\r\n[INFO] |  |  |     +- org.typelevel:spire-util_2.13:jar:0.18.0:test\r\n[INFO] |  |  |     \\- org.typelevel:algebra_2.13:jar:2.8.0:test\r\n[INFO] |  |  |        \\- org.typelevel:cats-kernel_2.13:jar:2.8.0:test\r\n[INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.2:test\r\n[INFO] |  |  |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.2:test\r\n[INFO] |  |  |  \\- com.sun.istack:istack-commons-runtime:jar:3.0.8:test\r\n[INFO] |  |  +- dev.ludovic.netlib:blas:jar:3.0.3:test\r\n[INFO] |  |  +- dev.ludovic.netlib:lapack:jar:3.0.3:test\r\n[INFO] |  |  \\- dev.ludovic.netlib:arpack:jar:3.0.3:test\r\n[INFO] |  +- org.scalatest:scalatest_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-core_2.13:jar:3.2.15:test\r\n[INFO] |  |  |  +- org.scalatest:scalatest-compatible:jar:3.2.15:test\r\n[INFO] |  |  |  \\- org.scalactic:scalactic_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-featurespec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-flatspec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-freespec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-funsuite_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-funspec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-propspec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-refspec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-wordspec_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-diagrams_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-matchers-core_2.13:jar:3.2.15:test\r\n[INFO] |  |  +- org.scalatest:scalatest-shouldmatchers_2.13:jar:3.2.15:test\r\n[INFO] |  |  \\- org.scalatest:scalatest-mustmatchers_2.13:jar:3.2.15:test\r\n[INFO] |  +- org.scalatestplus:scalacheck-1-15_2.13:jar:3.2.3.0:test\r\n[INFO] |  +- org.scalatestplus:junit-4-13_2.13:jar:3.2.15.0:test\r\n[INFO] |  +- org.scalacheck:scalacheck_2.13:jar:1.15.2:test\r\n[INFO] |  |  \\- org.scala-sbt:test-interface:jar:1.0:test\r\n[INFO] |  \\- io.netty:netty-tcnative-classes:jar:2.0.52.Final:test\r\n[INFO] +- org.powermock:powermock-module-junit4:jar:2.0.9:test\r\n[INFO] |  \\- org.powermock:powermock-module-junit4-common:jar:2.0.9:test\r\n[INFO] |     +- org.powermock:powermock-reflect:jar:2.0.9:test\r\n[INFO] |     \\- org.powermock:powermock-core:jar:2.0.9:test\r\n[INFO] \\- org.powermock:powermock-api-mockito2:jar:2.0.9:test\r\n[INFO]    \\- org.powermock:powermock-api-support:jar:2.0.9:test\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  7.507 s\r\n[INFO] Finished at: 2023-09-22T18:34:11-07:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\n\r\nFrom the other questions like the one linked above, it sounds like my inclination was correct and I missed a package somewhere, but I don&#39;t see any packages that provide scala 2.12 anywhere. Is there any other way to locate this nested scala package?","title":"import scala.Serializable not found in scala 2.13","body":"<p>I've come here from questions like: <a href=\"https://stackoverflow.com/questions/59535009/java-cannot-access-scala-serializable-class-file-for-scala-serializable-not-fou\">java: cannot access scala.Serializable class file for scala.Serializable not found</a></p>\n<p>And other similar questions.</p>\n<p>Recently, I've taken the initiative to move my from java 11 to java 17, including this EMR spark app I have. I'm not very familiar with scala but the move seemed simple enough, moving everything from scala 2.12 to 2.13.</p>\n<p>However, I've now run into this error:</p>\n<pre><code>SparkJobTest.java:[28,13] cannot find symbol\n[ERROR]   symbol:   class Serializable\n[ERROR]   location: package scala\n</code></pre>\n<p>Early on, my inclination was I forgot a dependency somewhere, but looking at my tree, nothing is obvious:</p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ spark-ingester-spring-boot-starter ---\n[INFO] com.mycompany.mcp:spark-ingester-spring-boot-starter:jar:7.0.0-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-autoconfigure:jar:2.5.2:compile\n[INFO] |  \\- org.springframework.boot:spring-boot:jar:2.5.2:compile\n[INFO] |     +- org.springframework:spring-core:jar:5.3.8:compile\n[INFO] |     |  \\- org.springframework:spring-jcl:jar:5.3.8:compile\n[INFO] |     \\- org.springframework:spring-context:jar:5.3.8:compile\n[INFO] |        +- org.springframework:spring-aop:jar:5.3.8:compile\n[INFO] |        \\- org.springframework:spring-expression:jar:5.3.8:compile\n[INFO] +- org.apache.spark:spark-core_2.13:jar:3.4.1:provided\n[INFO] |  +- org.scala-lang.modules:scala-parallel-collections_2.13:jar:1.0.4:provided\n[INFO] |  +- org.apache.avro:avro:jar:1.11.1:provided\n[INFO] |  +- org.apache.avro:avro-mapred:jar:1.11.1:provided\n[INFO] |  |  \\- org.apache.avro:avro-ipc:jar:1.11.1:provided\n[INFO] |  |     \\- org.tukaani:xz:jar:1.9:provided\n[INFO] |  +- com.twitter:chill_2.13:jar:0.10.0:provided\n[INFO] |  |  \\- com.esotericsoftware:kryo-shaded:jar:4.0.2:provided\n[INFO] |  |     \\- com.esotericsoftware:minlog:jar:1.3.0:provided\n[INFO] |  +- com.twitter:chill-java:jar:0.10.0:provided\n[INFO] |  +- org.apache.xbean:xbean-asm9-shaded:jar:4.22:provided\n[INFO] |  +- org.apache.hadoop:hadoop-client-api:jar:3.3.4:provided\n[INFO] |  +- org.apache.hadoop:hadoop-client-runtime:jar:3.3.4:provided\n[INFO] |  +- org.apache.spark:spark-launcher_2.13:jar:3.4.1:provided\n[INFO] |  +- org.apache.spark:spark-kvstore_2.13:jar:3.4.1:provided\n[INFO] |  |  +- org.fusesource.leveldbjni:leveldbjni-all:jar:1.8:provided\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\n[INFO] |  +- org.apache.spark:spark-network-common_2.13:jar:3.4.1:provided\n[INFO] |  |  \\- com.google.crypto.tink:tink:jar:1.7.0:provided\n[INFO] |  +- org.apache.spark:spark-network-shuffle_2.13:jar:3.4.1:provided\n[INFO] |  +- org.apache.spark:spark-unsafe_2.13:jar:3.4.1:provided\n[INFO] |  +- javax.activation:activation:jar:1.1.1:provided\n[INFO] |  +- org.apache.curator:curator-recipes:jar:2.13.0:provided\n[INFO] |  |  \\- org.apache.curator:curator-framework:jar:2.13.0:provided\n[INFO] |  +- org.apache.zookeeper:zookeeper:jar:3.6.3:provided\n[INFO] |  |  +- org.apache.zookeeper:zookeeper-jute:jar:3.6.3:provided\n[INFO] |  |  \\- org.apache.yetus:audience-annotations:jar:0.5.0:provided\n[INFO] |  +- jakarta.servlet:jakarta.servlet-api:jar:4.0.3:provided\n[INFO] |  +- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  +- org.apache.commons:commons-compress:jar:1.22:compile\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] |  +- org.apache.commons:commons-math3:jar:3.6.1:compile\n[INFO] |  +- org.apache.commons:commons-text:jar:1.10.0:compile\n[INFO] |  +- commons-io:commons-io:jar:2.11.0:compile\n[INFO] |  +- commons-collections:commons-collections:jar:3.2.2:provided\n[INFO] |  +- org.apache.commons:commons-collections4:jar:4.4:compile\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.0:compile\n[INFO] |  +- org.slf4j:slf4j-api:jar:2.0.6:compile\n[INFO] |  +- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  +- org.slf4j:jcl-over-slf4j:jar:2.0.6:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.19.0:provided\n[INFO] |  +- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-core:jar:2.19.0:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-1.2-api:jar:2.19.0:provided\n[INFO] |  +- com.ning:compress-lzf:jar:1.1.2:provided\n[INFO] |  +- org.xerial.snappy:snappy-java:jar:1.1.10.1:provided\n[INFO] |  +- org.lz4:lz4-java:jar:1.8.0:provided\n[INFO] |  +- com.github.luben:zstd-jni:jar:1.5.2-5:provided\n[INFO] |  +- org.roaringbitmap:RoaringBitmap:jar:0.9.38:provided\n[INFO] |  |  \\- org.roaringbitmap:shims:jar:0.9.38:provided\n[INFO] |  +- org.scala-lang.modules:scala-xml_2.13:jar:2.1.0:provided\n[INFO] |  +- org.scala-lang:scala-reflect:jar:2.13.8:provided\n[INFO] |  +- org.json4s:json4s-jackson_2.13:jar:3.7.0-M11:provided\n[INFO] |  |  \\- org.json4s:json4s-core_2.13:jar:3.7.0-M11:provided\n[INFO] |  |     +- org.json4s:json4s-ast_2.13:jar:3.7.0-M11:provided\n[INFO] |  |     \\- org.json4s:json4s-scalap_2.13:jar:3.7.0-M11:provided\n[INFO] |  +- org.glassfish.jersey.core:jersey-client:jar:2.36:provided\n[INFO] |  |  +- jakarta.ws.rs:jakarta.ws.rs-api:jar:2.1.6:provided\n[INFO] |  |  \\- org.glassfish.hk2.external:jakarta.inject:jar:2.6.1:provided\n[INFO] |  +- org.glassfish.jersey.core:jersey-common:jar:2.36:provided\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO] |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:provided\n[INFO] |  +- org.glassfish.jersey.core:jersey-server:jar:2.36:provided\n[INFO] |  |  \\- jakarta.validation:jakarta.validation-api:jar:2.0.2:provided\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:2.36:provided\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:2.36:provided\n[INFO] |  +- org.glassfish.jersey.inject:jersey-hk2:jar:2.36:provided\n[INFO] |  |  +- org.glassfish.hk2:hk2-locator:jar:2.6.1:provided\n[INFO] |  |  |  +- org.glassfish.hk2.external:aopalliance-repackaged:jar:2.6.1:provided\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:2.6.1:provided\n[INFO] |  |  |  \\- org.glassfish.hk2:hk2-utils:jar:2.6.1:provided\n[INFO] |  |  \\- org.javassist:javassist:jar:3.25.0-GA:provided\n[INFO] |  +- io.netty:netty-all:jar:4.1.87.Final:provided\n[INFO] |  |  +- io.netty:netty-buffer:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-codec:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-codec-http2:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-codec-socks:jar:4.1.87.Final:provided\n[INFO] |  |  +- io.netty:netty-common:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-handler:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-transport-native-unix-common:jar:4.1.87.Final:provided\n[INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.87.Final:provided\n[INFO] |  |  +- io.netty:netty-resolver:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-transport:jar:4.1.87.Final:runtime\n[INFO] |  |  +- io.netty:netty-transport-classes-epoll:jar:4.1.87.Final:runtime\n[INFO] |  |  \\- io.netty:netty-transport-classes-kqueue:jar:4.1.87.Final:provided\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.87.Final:provided\n[INFO] |  +- io.netty:netty-transport-native-epoll:jar:linux-aarch_64:4.1.87.Final:provided\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-aarch_64:4.1.87.Final:provided\n[INFO] |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.87.Final:provided\n[INFO] |  +- com.clearspring.analytics:stream:jar:2.9.6:provided\n[INFO] |  +- io.dropwizard.metrics:metrics-core:jar:4.2.15:provided\n[INFO] |  +- io.dropwizard.metrics:metrics-jvm:jar:4.2.15:provided\n[INFO] |  +- io.dropwizard.metrics:metrics-json:jar:4.2.15:provided\n[INFO] |  +- io.dropwizard.metrics:metrics-graphite:jar:4.2.15:provided\n[INFO] |  +- io.dropwizard.metrics:metrics-jmx:jar:4.2.15:provided\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\n[INFO] |  +- com.fasterxml.jackson.module:jackson-module-scala_2.13:jar:2.14.2:provided\n[INFO] |  |  \\- com.thoughtworks.paranamer:paranamer:jar:2.8:provided\n[INFO] |  +- org.apache.ivy:ivy:jar:2.5.1:provided\n[INFO] |  +- oro:oro:jar:2.0.8:provided\n[INFO] |  +- net.razorvine:pickle:jar:1.3:provided\n[INFO] |  +- net.sf.py4j:py4j:jar:0.10.9.7:provided\n[INFO] |  +- org.apache.spark:spark-tags_2.13:jar:3.4.1:provided\n[INFO] |  \\- org.apache.commons:commons-crypto:jar:1.1.0:provided\n[INFO] +- org.apache.spark:spark-sql_2.13:jar:3.4.1:provided\n[INFO] |  +- org.rocksdb:rocksdbjni:jar:7.9.2:provided\n[INFO] |  +- com.univocity:univocity-parsers:jar:2.9.1:provided\n[INFO] |  +- org.apache.spark:spark-sketch_2.13:jar:3.4.1:provided\n[INFO] |  +- org.apache.spark:spark-catalyst_2.13:jar:3.4.1:provided\n[INFO] |  |  +- org.scala-lang.modules:scala-parser-combinators_2.13:jar:2.1.1:provided\n[INFO] |  |  +- org.codehaus.janino:janino:jar:3.1.9:provided\n[INFO] |  |  +- org.codehaus.janino:commons-compiler:jar:3.1.9:provided\n[INFO] |  |  +- org.antlr:antlr4-runtime:jar:4.9.3:provided\n[INFO] |  |  +- org.apache.arrow:arrow-vector:jar:11.0.0:provided\n[INFO] |  |  |  +- org.apache.arrow:arrow-format:jar:11.0.0:provided\n[INFO] |  |  |  +- org.apache.arrow:arrow-memory-core:jar:11.0.0:provided\n[INFO] |  |  |  \\- com.google.flatbuffers:flatbuffers-java:jar:1.12.0:provided\n[INFO] |  |  \\- org.apache.arrow:arrow-memory-netty:jar:11.0.0:provided\n[INFO] |  +- org.apache.orc:orc-core:jar:shaded-protobuf:1.8.4:provided\n[INFO] |  |  +- org.apache.orc:orc-shims:jar:1.8.4:provided\n[INFO] |  |  +- io.airlift:aircompressor:jar:0.21:provided\n[INFO] |  |  +- org.jetbrains:annotations:jar:17.0.0:provided\n[INFO] |  |  \\- org.threeten:threeten-extra:jar:1.7.1:provided\n[INFO] |  +- org.apache.orc:orc-mapreduce:jar:shaded-protobuf:1.8.4:provided\n[INFO] |  +- org.apache.hive:hive-storage-api:jar:2.8.1:provided\n[INFO] |  +- org.apache.parquet:parquet-column:jar:1.12.3:provided\n[INFO] |  |  +- org.apache.parquet:parquet-common:jar:1.12.3:provided\n[INFO] |  |  \\- org.apache.parquet:parquet-encoding:jar:1.12.3:provided\n[INFO] |  +- org.apache.parquet:parquet-hadoop:jar:1.12.3:provided\n[INFO] |  |  +- org.apache.parquet:parquet-format-structures:jar:1.12.3:provided\n[INFO] |  |  \\- org.apache.parquet:parquet-jackson:jar:1.12.3:provided\n[INFO] |  \\- com.google.protobuf:protobuf-java:jar:3.21.12:provided\n[INFO] +- org.scala-lang:scala-library:jar:2.13.12:provided\n[INFO] +- com.crealytics:spark-excel_2.13:jar:3.4.1_0.19.0:compile\n[INFO] |  +- org.apache.poi:poi:jar:5.2.3:compile\n[INFO] |  +- org.apache.poi:poi-ooxml:jar:5.2.3:compile\n[INFO] |  +- org.apache.poi:poi-ooxml-lite:jar:5.2.3:compile\n[INFO] |  +- org.apache.xmlbeans:xmlbeans:jar:5.1.1:compile\n[INFO] |  +- com.norbitltd:spoiwo_2.13:jar:2.2.1:compile\n[INFO] |  |  \\- com.github.tototoshi:scala-csv_2.13:jar:1.3.10:compile\n[INFO] |  +- com.github.pjfanning:excel-streaming-reader:jar:4.0.5:compile\n[INFO] |  +- com.github.pjfanning:poi-shared-strings:jar:2.5.6:compile\n[INFO] |  |  \\- com.h2database:h2:jar:2.1.214:runtime\n[INFO] |  +- com.zaxxer:SparseBitSet:jar:1.2:compile\n[INFO] |  +- com.github.virtuald:curvesapi:jar:1.07:compile\n[INFO] |  \\- org.scala-lang.modules:scala-collection-compat_2.13:jar:2.10.0:compile\n[INFO] +- com.amazonaws:aws-java-sdk-sqs:jar:1.12.508:compile\n[INFO] |  +- com.amazonaws:aws-java-sdk-core:jar:1.12.508:compile\n[INFO] |  |  +- software.amazon.ion:ion-java:jar:1.0.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:jar:2.12.6:compile\n[INFO] |  |  \\- joda-time:joda-time:jar:2.8.1:compile\n[INFO] |  \\- com.amazonaws:jmespath-java:jar:1.12.508:compile\n[INFO] +- com.mycompany.mcp.fhir:common-fhir:jar:9.0.0-SNAPSHOT:provided\n[INFO] |  +- io.swagger.core.v3:swagger-annotations:jar:2.2.16:provided\n[INFO] |  +- io.swagger:swagger-annotations:jar:1.6.11:provided\n[INFO] |  +- org.reflections:reflections:jar:0.10.2:provided\n[INFO] |  +- javax.xml.bind:jaxb-api:jar:2.3.1:provided\n[INFO] |  |  \\- javax.activation:javax.activation-api:jar:1.2.0:provided\n[INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.4:provided\n[INFO] +- com.mycompany.mcp.fhir:common-utilities:jar:9.0.0-SNAPSHOT:provided\n[INFO] |  \\- org.springframework:spring-web:jar:5.3.22:compile\n[INFO] |     \\- org.springframework:spring-beans:jar:5.3.22:compile\n[INFO] +- com.mycompany.mcp.utilities:common-clients:jar:8.0.0-SNAPSHOT:compile\n[INFO] |  +- com.mycompany.mcp.resources:singularity-models:jar:7.15.1-SNAPSHOT:compile\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-dynamodb:jar:1.12.398:compile\n[INFO] |  |  \\- com.amazonaws:aws-java-sdk-sts:jar:1.12.398:compile\n[INFO] |  +- com.mycompany.mcp.utilities:model-utilities:jar:8.0.0-SNAPSHOT:compile\n[INFO] |  |  +- com.github.java-json-tools:msg-simple:jar:1.2:compile\n[INFO] |  |  |  \\- com.github.java-json-tools:btf:jar:1.3:compile\n[INFO] |  |  +- com.github.java-json-tools:jackson-coreutils:jar:2.0:compile\n[INFO] |  |  \\- com.contentful.java:java-sdk:jar:10.5.16:compile\n[INFO] |  |     +- com.squareup.retrofit2:retrofit:jar:2.9.0:compile\n[INFO] |  |     +- com.squareup.retrofit2:adapter-rxjava3:jar:2.9.0:compile\n[INFO] |  |     +- com.squareup.retrofit2:converter-gson:jar:2.9.0:compile\n[INFO] |  |     +- io.reactivex.rxjava3:rxjava:jar:3.1.3:compile\n[INFO] |  |     +- com.squareup.okhttp3:okhttp:jar:3.12.12:compile\n[INFO] |  |     |  \\- com.squareup.okio:okio:jar:1.15.0:compile\n[INFO] |  |     \\- com.github.tony19:named-regexp:jar:0.2.5:compile\n[INFO] |  +- org.elasticsearch:elasticsearch:jar:6.8.21:compile\n[INFO] |  |  +- org.elasticsearch:elasticsearch-core:jar:6.8.21:compile\n[INFO] |  |  +- org.elasticsearch:elasticsearch-secure-sm:jar:6.8.21:compile\n[INFO] |  |  +- org.elasticsearch:elasticsearch-x-content:jar:6.8.21:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-smile:jar:2.8.11:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.8.11:compile\n[INFO] |  |  +- org.apache.lucene:lucene-core:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-analyzers-common:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-backward-codecs:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-grouping:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-highlighter:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-join:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-memory:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-misc:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-queries:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-queryparser:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-sandbox:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-spatial:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-spatial-extras:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-spatial3d:jar:7.7.3:compile\n[INFO] |  |  +- org.apache.lucene:lucene-suggest:jar:7.7.3:compile\n[INFO] |  |  +- org.elasticsearch:elasticsearch-cli:jar:6.8.21:compile\n[INFO] |  |  |  \\- net.sf.jopt-simple:jopt-simple:jar:5.0.2:compile\n[INFO] |  |  +- com.carrotsearch:hppc:jar:0.7.1:compile\n[INFO] |  |  +- com.tdunning:t-digest:jar:3.2:compile\n[INFO] |  |  +- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile\n[INFO] |  |  \\- org.elasticsearch:jna:jar:5.5.0:compile\n[INFO] |  +- com.google.guava:guava:jar:32.1.2-jre:compile\n[INFO] |  |  +- com.google.guava:failureaccess:jar:1.0.1:compile\n[INFO] |  |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\n[INFO] |  |  +- org.checkerframework:checker-qual:jar:3.33.0:compile\n[INFO] |  |  +- com.google.errorprone:error_prone_annotations:jar:2.18.0:compile\n[INFO] |  |  \\- com.google.j2objc:j2objc-annotations:jar:2.8:compile\n[INFO] |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.2:compile\n[INFO] |  +- com.github.java-json-tools:json-patch:jar:1.13:compile\n[INFO] |  \\- com.github.ben-manes.caffeine:caffeine:jar:3.1.8:compile\n[INFO] +- software.amazon.awssdk:sqs:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:aws-query-protocol:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:protocol-core:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:sdk-core:jar:2.20.101:compile\n[INFO] |  |  +- software.amazon.awssdk:profiles:jar:2.20.101:compile\n[INFO] |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.3:compile\n[INFO] |  +- software.amazon.awssdk:auth:jar:2.20.101:compile\n[INFO] |  |  \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\n[INFO] |  +- software.amazon.awssdk:http-client-spi:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:regions:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:annotations:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:utils:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:aws-core:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:metrics-spi:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:json-utils:jar:2.20.101:compile\n[INFO] |  |  \\- software.amazon.awssdk:third-party-jackson-core:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:endpoints-spi:jar:2.20.101:compile\n[INFO] |  +- software.amazon.awssdk:apache-client:jar:2.20.101:runtime\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.13:compile\n[INFO] |  \\- software.amazon.awssdk:netty-nio-client:jar:2.20.101:runtime\n[INFO] +- software.amazon.awssdk:sns:jar:2.20.101:compile\n[INFO] +- com.amazonaws:aws-java-sdk-sns:jar:1.12.508:compile\n[INFO] +- com.amazonaws:aws-java-sdk-s3:jar:1.12.508:compile\n[INFO] |  \\- com.amazonaws:aws-java-sdk-kms:jar:1.12.508:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.12.1:compile\n[INFO] +- com.mycompany.mcp-common-eventbus:models:jar:5.0.2:compile\n[INFO] +- com.mycompany.mcp.metamorphosis:metamorphosis-models:jar:2.9.0:compile\n[INFO] +- com.mycompany:mcp-boot-starter-monitoring:pom:5.4.0:compile\n[INFO] |  +- com.mycompany:mcp-common-monitoring:jar:2.9.0:compile\n[INFO] |  |  +- ch.qos.logback:logback-access:jar:1.2.3:compile\n[INFO] |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.3:compile\n[INFO] |  |  +- ch.qos.logback:logback-classic:jar:1.2.3:compile\n[INFO] |  |  +- net.logstash.logback:logstash-logback-encoder:jar:6.2:compile\n[INFO] |  |  \\- org.aspectj:aspectjrt:jar:1.9.4:compile\n[INFO] |  +- com.mycompany:mcp-boot-autoconfigure:jar:5.4.0:compile\n[INFO] |  \\- org.springframework.boot:spring-boot-starter:jar:2.5.2:compile\n[INFO] |     +- org.springframework.boot:spring-boot-starter-logging:jar:2.5.2:compile\n[INFO] |     |  \\- org.apache.logging.log4j:log4j-to-slf4j:jar:2.14.1:compile\n[INFO] |     \\- org.yaml:snakeyaml:jar:1.28:compile\n[INFO] +- junit:junit:jar:4.13.2:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] +- org.projectlombok:lombok:jar:1.18.28:compile\n[INFO] +- org.apache.hadoop:hadoop-aws:jar:3.3.6:provided\n[INFO] |  +- com.amazonaws:aws-java-sdk-bundle:jar:1.12.367:provided\n[INFO] |  \\- org.wildfly.openssl:wildfly-openssl:jar:1.1.3.Final:provided\n[INFO] +- org.apache.hadoop:hadoop-common:jar:3.3.6:provided\n[INFO] |  +- org.apache.hadoop.thirdparty:hadoop-shaded-protobuf_3_7:jar:1.1.1:provided\n[INFO] |  +- org.apache.hadoop:hadoop-annotations:jar:3.3.6:provided\n[INFO] |  +- org.apache.hadoop.thirdparty:hadoop-shaded-guava:jar:1.1.1:provided\n[INFO] |  +- commons-cli:commons-cli:jar:1.2:provided\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n[INFO] |  +- commons-net:commons-net:jar:3.9.0:provided\n[INFO] |  +- javax.servlet:javax.servlet-api:jar:3.1.0:compile\n[INFO] |  +- jakarta.activation:jakarta.activation-api:jar:1.2.1:provided\n[INFO] |  +- org.eclipse.jetty:jetty-server:jar:9.4.51.v20230217:provided\n[INFO] |  |  +- org.eclipse.jetty:jetty-http:jar:9.4.51.v20230217:provided\n[INFO] |  |  \\- org.eclipse.jetty:jetty-io:jar:9.4.51.v20230217:provided\n[INFO] |  +- org.eclipse.jetty:jetty-util:jar:9.4.51.v20230217:provided\n[INFO] |  +- org.eclipse.jetty:jetty-servlet:jar:9.4.51.v20230217:provided\n[INFO] |  |  +- org.eclipse.jetty:jetty-security:jar:9.4.51.v20230217:provided\n[INFO] |  |  \\- org.eclipse.jetty:jetty-util-ajax:jar:9.4.51.v20230217:provided\n[INFO] |  +- org.eclipse.jetty:jetty-webapp:jar:9.4.51.v20230217:provided\n[INFO] |  |  \\- org.eclipse.jetty:jetty-xml:jar:9.4.51.v20230217:provided\n[INFO] |  +- javax.servlet.jsp:jsp-api:jar:2.1:provided\n[INFO] |  +- com.sun.jersey:jersey-core:jar:1.19.4:provided\n[INFO] |  |  \\- javax.ws.rs:jsr311-api:jar:1.1.1:provided\n[INFO] |  +- com.sun.jersey:jersey-servlet:jar:1.19.4:provided\n[INFO] |  +- com.github.pjfanning:jersey-json:jar:1.20:provided\n[INFO] |  |  +- org.codehaus.jettison:jettison:jar:1.1:provided\n[INFO] |  |  \\- com.sun.xml.bind:jaxb-impl:jar:2.2.3-1:provided\n[INFO] |  +- com.sun.jersey:jersey-server:jar:1.19.4:provided\n[INFO] |  +- commons-logging:commons-logging:jar:1.1.3:compile\n[INFO] |  +- ch.qos.reload4j:reload4j:jar:1.2.22:provided\n[INFO] |  +- org.apache.commons:commons-configuration2:jar:2.8.0:provided\n[INFO] |  +- org.slf4j:slf4j-reload4j:jar:1.7.36:provided\n[INFO] |  +- com.google.re2j:re2j:jar:1.1:provided\n[INFO] |  +- com.google.code.gson:gson:jar:2.9.0:compile\n[INFO] |  +- org.apache.hadoop:hadoop-auth:jar:3.3.6:provided\n[INFO] |  |  +- com.nimbusds:nimbus-jose-jwt:jar:9.8.1:provided\n[INFO] |  |  |  \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:provided\n[INFO] |  |  \\- org.apache.kerby:kerb-simplekdc:jar:1.0.1:provided\n[INFO] |  |     +- org.apache.kerby:kerb-client:jar:1.0.1:provided\n[INFO] |  |     |  +- org.apache.kerby:kerby-config:jar:1.0.1:provided\n[INFO] |  |     |  +- org.apache.kerby:kerb-common:jar:1.0.1:provided\n[INFO] |  |     |  |  \\- org.apache.kerby:kerb-crypto:jar:1.0.1:provided\n[INFO] |  |     |  +- org.apache.kerby:kerb-util:jar:1.0.1:provided\n[INFO] |  |     |  \\- org.apache.kerby:token-provider:jar:1.0.1:provided\n[INFO] |  |     \\- org.apache.kerby:kerb-admin:jar:1.0.1:provided\n[INFO] |  |        +- org.apache.kerby:kerb-server:jar:1.0.1:provided\n[INFO] |  |        |  \\- org.apache.kerby:kerb-identity:jar:1.0.1:provided\n[INFO] |  |        \\- org.apache.kerby:kerby-xdr:jar:1.0.1:provided\n[INFO] |  +- com.jcraft:jsch:jar:0.1.55:provided\n[INFO] |  +- org.apache.curator:curator-client:jar:5.2.0:provided\n[INFO] |  +- org.apache.kerby:kerb-core:jar:1.0.1:provided\n[INFO] |  |  \\- org.apache.kerby:kerby-pkix:jar:1.0.1:provided\n[INFO] |  |     +- org.apache.kerby:kerby-asn1:jar:1.0.1:provided\n[INFO] |  |     \\- org.apache.kerby:kerby-util:jar:1.0.1:provided\n[INFO] |  +- org.codehaus.woodstox:stax2-api:jar:4.2.1:provided\n[INFO] |  +- com.fasterxml.woodstox:woodstox-core:jar:5.4.0:provided\n[INFO] |  \\- dnsjava:dnsjava:jar:2.1.7:provided\n[INFO] +- org.mockito:mockito-core:jar:3.3.3:test\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.10.5:test\n[INFO] |  +- net.bytebuddy:byte-buddy-agent:jar:1.10.5:test\n[INFO] |  \\- org.objenesis:objenesis:jar:2.6:provided\n[INFO] +- com.holdenkarau:spark-testing-base_2.13:jar:3.4.1_1.4.4:test\n[INFO] |  +- org.apache.spark:spark-streaming_2.13:jar:3.4.1:test\n[INFO] |  +- org.apache.spark:spark-hive_2.13:jar:3.4.1:test\n[INFO] |  |  +- org.apache.hive:hive-common:jar:2.3.9:test\n[INFO] |  |  |  +- commons-lang:commons-lang:jar:2.6:test\n[INFO] |  |  |  +- jline:jline:jar:2.12:test\n[INFO] |  |  |  +- com.tdunning:json:jar:1.8:test\n[INFO] |  |  |  \\- com.github.joshelser:dropwizard-metrics-hadoop-metrics2-reporter:jar:0.1.2:test\n[INFO] |  |  +- org.apache.hive:hive-exec:jar:core:2.3.9:test\n[INFO] |  |  |  +- org.antlr:antlr-runtime:jar:3.5.2:test\n[INFO] |  |  |  +- org.antlr:ST4:jar:4.0.4:test\n[INFO] |  |  |  \\- stax:stax-api:jar:1.0.1:test\n[INFO] |  |  +- org.apache.hive:hive-metastore:jar:2.3.9:test\n[INFO] |  |  |  +- javolution:javolution:jar:5.5.1:test\n[INFO] |  |  |  +- com.jolbox:bonecp:jar:0.8.0.RELEASE:test\n[INFO] |  |  |  +- com.zaxxer:HikariCP:jar:2.5.1:test\n[INFO] |  |  |  +- org.datanucleus:datanucleus-api-jdo:jar:4.2.4:test\n[INFO] |  |  |  +- org.datanucleus:datanucleus-rdbms:jar:4.1.19:test\n[INFO] |  |  |  +- commons-pool:commons-pool:jar:1.5.4:test\n[INFO] |  |  |  +- commons-dbcp:commons-dbcp:jar:1.4:test\n[INFO] |  |  |  +- javax.jdo:jdo-api:jar:3.0.1:test\n[INFO] |  |  |  |  \\- javax.transaction:jta:jar:1.1:test\n[INFO] |  |  |  \\- org.datanucleus:javax.jdo:jar:3.2.0-m3:test\n[INFO] |  |  |     \\- javax.transaction:transaction-api:jar:1.1:test\n[INFO] |  |  +- org.apache.hive:hive-serde:jar:2.3.9:test\n[INFO] |  |  |  \\- net.sf.opencsv:opencsv:jar:2.3:test\n[INFO] |  |  +- org.apache.hive:hive-shims:jar:2.3.9:test\n[INFO] |  |  |  +- org.apache.hive.shims:hive-shims-common:jar:2.3.9:test\n[INFO] |  |  |  +- org.apache.hive.shims:hive-shims-0.23:jar:2.3.9:test\n[INFO] |  |  |  \\- org.apache.hive.shims:hive-shims-scheduler:jar:2.3.9:test\n[INFO] |  |  +- org.apache.hive:hive-llap-common:jar:2.3.9:test\n[INFO] |  |  +- org.apache.hive:hive-llap-client:jar:2.3.9:test\n[INFO] |  |  +- org.codehaus.jackson:jackson-mapper-asl:jar:1.9.13:test\n[INFO] |  |  |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.13:test\n[INFO] |  |  +- org.jodd:jodd-core:jar:3.5.2:test\n[INFO] |  |  +- org.datanucleus:datanucleus-core:jar:4.1.17:test\n[INFO] |  |  +- org.apache.thrift:libthrift:jar:0.12.0:test\n[INFO] |  |  +- org.apache.thrift:libfb303:jar:0.9.3:test\n[INFO] |  |  \\- org.apache.derby:derby:jar:10.14.2.0:test\n[INFO] |  +- org.apache.spark:spark-yarn_2.13:jar:3.4.1:test\n[INFO] |  +- org.apache.spark:spark-mllib_2.13:jar:3.4.1:test\n[INFO] |  |  +- org.apache.spark:spark-graphx_2.13:jar:3.4.1:test\n[INFO] |  |  |  \\- net.sourceforge.f2j:arpack_combined_all:jar:0.1:test\n[INFO] |  |  +- org.apache.spark:spark-mllib-local_2.13:jar:3.4.1:test\n[INFO] |  |  +- org.scalanlp:breeze_2.13:jar:2.1.0:test\n[INFO] |  |  |  +- org.scalanlp:breeze-macros_2.13:jar:2.1.0:test\n[INFO] |  |  |  +- com.github.wendykierp:JTransforms:jar:3.1:test\n[INFO] |  |  |  |  \\- pl.edu.icm:JLargeArrays:jar:1.5:test\n[INFO] |  |  |  \\- org.typelevel:spire_2.13:jar:0.18.0:test\n[INFO] |  |  |     +- org.typelevel:spire-macros_2.13:jar:0.18.0:test\n[INFO] |  |  |     +- org.typelevel:spire-platform_2.13:jar:0.18.0:test\n[INFO] |  |  |     +- org.typelevel:spire-util_2.13:jar:0.18.0:test\n[INFO] |  |  |     \\- org.typelevel:algebra_2.13:jar:2.8.0:test\n[INFO] |  |  |        \\- org.typelevel:cats-kernel_2.13:jar:2.8.0:test\n[INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.2:test\n[INFO] |  |  |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.2:test\n[INFO] |  |  |  \\- com.sun.istack:istack-commons-runtime:jar:3.0.8:test\n[INFO] |  |  +- dev.ludovic.netlib:blas:jar:3.0.3:test\n[INFO] |  |  +- dev.ludovic.netlib:lapack:jar:3.0.3:test\n[INFO] |  |  \\- dev.ludovic.netlib:arpack:jar:3.0.3:test\n[INFO] |  +- org.scalatest:scalatest_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-core_2.13:jar:3.2.15:test\n[INFO] |  |  |  +- org.scalatest:scalatest-compatible:jar:3.2.15:test\n[INFO] |  |  |  \\- org.scalactic:scalactic_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-featurespec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-flatspec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-freespec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-funsuite_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-funspec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-propspec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-refspec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-wordspec_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-diagrams_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-matchers-core_2.13:jar:3.2.15:test\n[INFO] |  |  +- org.scalatest:scalatest-shouldmatchers_2.13:jar:3.2.15:test\n[INFO] |  |  \\- org.scalatest:scalatest-mustmatchers_2.13:jar:3.2.15:test\n[INFO] |  +- org.scalatestplus:scalacheck-1-15_2.13:jar:3.2.3.0:test\n[INFO] |  +- org.scalatestplus:junit-4-13_2.13:jar:3.2.15.0:test\n[INFO] |  +- org.scalacheck:scalacheck_2.13:jar:1.15.2:test\n[INFO] |  |  \\- org.scala-sbt:test-interface:jar:1.0:test\n[INFO] |  \\- io.netty:netty-tcnative-classes:jar:2.0.52.Final:test\n[INFO] +- org.powermock:powermock-module-junit4:jar:2.0.9:test\n[INFO] |  \\- org.powermock:powermock-module-junit4-common:jar:2.0.9:test\n[INFO] |     +- org.powermock:powermock-reflect:jar:2.0.9:test\n[INFO] |     \\- org.powermock:powermock-core:jar:2.0.9:test\n[INFO] \\- org.powermock:powermock-api-mockito2:jar:2.0.9:test\n[INFO]    \\- org.powermock:powermock-api-support:jar:2.0.9:test\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  7.507 s\n[INFO] Finished at: 2023-09-22T18:34:11-07:00\n[INFO] ------------------------------------------------------------------------\n\n</code></pre>\n<p>From the other questions like the one linked above, it sounds like my inclination was correct and I missed a package somewhere, but I don't see any packages that provide scala 2.12 anywhere. Is there any other way to locate this nested scala package?</p>\n"},{"tags":["java","docker","cucumber","docker-container","wiremock"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1695486177,"post_id":77161274,"comment_id":136032123,"body_markdown":"Read the whole Stacktrace, then look at the logs of the container.","body":"Read the whole Stacktrace, then look at the logs of the container."},{"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-воин"},"score":0,"creation_date":1695494779,"post_id":77161274,"comment_id":136033155,"body_markdown":"I did, there’s nothing in the container logs, no logs in the container.","body":"I did, there’s nothing in the container logs, no logs in the container."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1695505642,"post_id":77161274,"comment_id":136034120,"body_markdown":"If nothing happens, that probably explains why the container doesn&#39;t open the port.","body":"If nothing happens, that probably explains why the container doesn&#39;t open the port."},{"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-воин"},"score":0,"creation_date":1695543198,"post_id":77161274,"comment_id":136036391,"body_markdown":"Actually it starts, but since i am using it as a hook, there isn’t much in the logs, the startup logs of witemock.","body":"Actually it starts, but since i am using it as a hook, there isn’t much in the logs, the startup logs of witemock."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1695552994,"post_id":77161274,"comment_id":136037272,"body_markdown":"Then you&#39;ll have to figure out next why the port didn&#39;t open.","body":"Then you&#39;ll have to figure out next why the port didn&#39;t open."},{"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-воин"},"score":0,"creation_date":1695630977,"post_id":77161274,"comment_id":136045033,"body_markdown":"Exactly the point of my question, what could be the possibilities.","body":"Exactly the point of my question, what could be the possibilities."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1695664791,"post_id":77161274,"comment_id":136051952,"body_markdown":"Your code probably doesn&#39;t do what you think it does. Can you get the docker to work by manually executing docker commands? Have you compared those commands to your java code?","body":"Your code probably doesn&#39;t do what you think it does. Can you get the docker to work by manually executing docker commands? Have you compared those commands to your java code?"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1695664828,"post_id":77161274,"comment_id":136051958,"body_markdown":"Also what is the value of `WIREMOCK_INTERNAL_PORT`","body":"Also what is the value of <code>WIREMOCK_INTERNAL_PORT</code>"},{"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-воин"},"score":0,"creation_date":1695722153,"post_id":77161274,"comment_id":136059301,"body_markdown":"A value an exposed port, which i  will supposedly call from an endpoint.","body":"A value an exposed port, which i  will supposedly call from an endpoint."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1695724245,"post_id":77161274,"comment_id":136059670,"body_markdown":"And does the container actually serve anything on that port?","body":"And does the container actually serve anything on that port?"},{"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-воин"},"score":0,"creation_date":1695827277,"post_id":77161274,"comment_id":136076678,"body_markdown":"It starts and closes abruptly after port issue.","body":"It starts and closes abruptly after port issue."}],"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-воин"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695431292,"creation_date":1695430291,"question_id":77161274,"body_markdown":"I am trying to initialize and start a docker container from cucumber hooks in order to write integration tests, uing wiremock.\r\n\r\nBut the issue, is that initialization fails miserably for some reason.\r\n\r\nHere the code snipped i have :\r\n\r\n```\r\n @BeforeAll(order = 50)\r\n    public static void prepareMockServer2() {\r\n        var mockServer= new GenericContainer(DockerImageName.parse(&quot;wiremock/wiremock&quot;))\r\n            .withExposedPorts(WIREMOCK_INTERNAL_PORT)\r\n            .withClasspathResourceMapping(&quot;wiremock/modules/custom-service&quot;, &quot;/home/wiremock&quot;, BindMode.READ_ONLY);\r\n        mockServer.start();\r\n        logger.info(&quot;server started&quot;);\r\n    }\r\n```\r\n\r\nThis folder `wiremock/modules/custom-service` is also in the `resources` folder.\r\n\r\nPrevious attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration\\`\\`\\`\r\n\r\nI expect normally the mock server to start.\r\n\r\nBut i get the following exception :\r\n\r\n```\r\norg.testcontainers.containers.ContainerLaunchException: Container startup failed for image wiremock/wiremock:latest\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:349)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\r\n\tat net.haulogy.hauerp.esb.steps.CucumberHooks.prepareMeciMockServer2(CucumberHooks.java:71)\r\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\r\n\tat net.haulogy.hauerp.esb.steps.CucumberHooks.prepareMeciMockServer2(CucumberHooks.java:71)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\r\n\tat io.cucumber.java.Invoker.invokeStatic(Invoker.java:80)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:45)\r\n\tat io.cucumber.java.JavaStaticHookDefinition.execute(JavaStaticHookDefinition.java:49)\r\n\tat io.cucumber.core.runner.Runner.executeHook(Runner.java:112)\r\n\tat io.cucumber.core.runner.Runner.lambda$executeHooks$2(Runner.java:99)\r\n\tat io.cucumber.core.runner.ThrowableCollector.execute(ThrowableCollector.java:21)\r\n\tat io.cucumber.core.runner.Runner.executeHooks(Runner.java:99)\r\n\tat io.cucumber.core.runner.Runner.runBeforeAllHooks(Runner.java:89)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runBeforeAllHooks(CucumberExecutionContext.java:94)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runBeforeAllHooks(CucumberEngineExecutionContext.java:101)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineDescriptor.ifChildren(CucumberEngineDescriptor.java:51)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineDescriptor.before(CucumberEngineDescriptor.java:26)\r\n\tat io.cucumber.junit.platform.engine.CucumberEngineDescriptor.before(CucumberEngineDescriptor.java:11)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:73)\r\n\tat org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\r\n\tat org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy5.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n\tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:553)\r\n\tat org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n\t... 83 more\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Timed out waiting for container port to open (localhost ports: [52290] should be listening)\r\n\tat org.testcontainers.containers.wait.strategy.HostPortWaitStrategy.waitUntilReady(HostPortWaitStrategy.java:101)\r\n\tat org.testcontainers.containers.wait.strategy.AbstractWaitStrategy.waitUntilReady(AbstractWaitStrategy.java:52)\r\n\tat org.testcontainers.containers.GenericContainer.waitUntilContainerStarted(GenericContainer.java:964)\r\n\tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:490)\r\n\t... 85 more\r\ntestcontainers.containers.GenericContainer.start(GenericContainer.java:321)\r\n```\r\n\r\nAny thoughts please to how can i fix this ?","title":"Generic container initialization failed for cucumter tests","body":"<p>I am trying to initialize and start a docker container from cucumber hooks in order to write integration tests, uing wiremock.</p>\n<p>But the issue, is that initialization fails miserably for some reason.</p>\n<p>Here the code snipped i have :</p>\n<pre><code> @BeforeAll(order = 50)\n    public static void prepareMockServer2() {\n        var mockServer= new GenericContainer(DockerImageName.parse(&quot;wiremock/wiremock&quot;))\n            .withExposedPorts(WIREMOCK_INTERNAL_PORT)\n            .withClasspathResourceMapping(&quot;wiremock/modules/custom-service&quot;, &quot;/home/wiremock&quot;, BindMode.READ_ONLY);\n        mockServer.start();\n        logger.info(&quot;server started&quot;);\n    }\n</code></pre>\n<p>This folder <code>wiremock/modules/custom-service</code> is also in the <code>resources</code> folder.</p>\n<p>Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration```</p>\n<p>I expect normally the mock server to start.</p>\n<p>But i get the following exception :</p>\n<pre><code>org.testcontainers.containers.ContainerLaunchException: Container startup failed for image wiremock/wiremock:latest\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:349)\n    at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\n    at net.haulogy.hauerp.esb.steps.CucumberHooks.prepareMeciMockServer2(CucumberHooks.java:71)\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\n    at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\n    at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\n    at net.haulogy.hauerp.esb.steps.CucumberHooks.prepareMeciMockServer2(CucumberHooks.java:71)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at io.cucumber.java.Invoker.doInvoke(Invoker.java:66)\n    at io.cucumber.java.Invoker.invokeStatic(Invoker.java:80)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:45)\n    at io.cucumber.java.JavaStaticHookDefinition.execute(JavaStaticHookDefinition.java:49)\n    at io.cucumber.core.runner.Runner.executeHook(Runner.java:112)\n    at io.cucumber.core.runner.Runner.lambda$executeHooks$2(Runner.java:99)\n    at io.cucumber.core.runner.ThrowableCollector.execute(ThrowableCollector.java:21)\n    at io.cucumber.core.runner.Runner.executeHooks(Runner.java:99)\n    at io.cucumber.core.runner.Runner.runBeforeAllHooks(Runner.java:89)\n    at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runBeforeAllHooks(CucumberExecutionContext.java:94)\n    at io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runBeforeAllHooks(CucumberEngineExecutionContext.java:101)\n    at io.cucumber.junit.platform.engine.CucumberEngineDescriptor.ifChildren(CucumberEngineDescriptor.java:51)\n    at io.cucumber.junit.platform.engine.CucumberEngineDescriptor.before(CucumberEngineDescriptor.java:26)\n    at io.cucumber.junit.platform.engine.CucumberEngineDescriptor.before(CucumberEngineDescriptor.java:11)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:73)\n    at org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:63)\n    at org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:128)\n    at org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\n    at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:553)\n    at org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\n    at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\n    ... 83 more\nCaused by: org.testcontainers.containers.ContainerLaunchException: Timed out waiting for container port to open (localhost ports: [52290] should be listening)\n    at org.testcontainers.containers.wait.strategy.HostPortWaitStrategy.waitUntilReady(HostPortWaitStrategy.java:101)\n    at org.testcontainers.containers.wait.strategy.AbstractWaitStrategy.waitUntilReady(AbstractWaitStrategy.java:52)\n    at org.testcontainers.containers.GenericContainer.waitUntilContainerStarted(GenericContainer.java:964)\n    at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:490)\n    ... 85 more\ntestcontainers.containers.GenericContainer.start(GenericContainer.java:321)\n</code></pre>\n<p>Any thoughts please to how can i fix this ?</p>\n"},{"tags":["java","redis","annotations","quarkus","custom-build-step"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1695365515,"post_id":77154145,"comment_id":136017167,"body_markdown":"Assuming things are done properly, this should work. Do you have a sample you can share?","body":"Assuming things are done properly, this should work. Do you have a sample you can share?"}],"answers":[{"comments":[{"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"score":0,"creation_date":1695414117,"post_id":77155462,"comment_id":136026321,"body_markdown":"Thanks a lot! That is very detailed explanation! you saved me hours/days of confusion.. Much appreciated!!!","body":"Thanks a lot! That is very detailed explanation! you saved me hours/days of confusion.. Much appreciated!!!"}],"tags":[],"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695366249,"creation_date":1695366249,"answer_id":77155462,"question_id":77154145,"body_markdown":"So the `AnnotationsTransformerBuildItem` is used to modify the internal model of classes that the given Quarkus component uses. It doesn&#39;t modify bytecode or anything like that, so you can&#39;t observe the changes directly, only indirectly (through changed behavior).\r\n\r\nThere are 2 classes named `AnnotationsTransformerBuildItem`:\r\n\r\n- `io.quarkus.arc.deployment.AnnotationsTransformerBuildItem` for ArC, the CDI container in Quarkus\r\n- `io.quarkus.resteasy.reactive.server.spi.AnnotationsTransformerBuildItem` for RESTEasy Reactive, the JAX-RS implementation in Quarkus\r\n\r\nSince `@WithSpan` is treated as an interceptor binding in Quarkus, you need the ArC&#39;s `AnnotationsTransformerBuildItem`.\r\n\r\nAssuming you have the ArC&#39;s `AnnotationsTransformerBuildItem`, there are 3 problems:\r\n\r\n1. You&#39;re using the transformation API incorrectly. Adding an annotation to the set of annotations returned from `MethodInfo` is not supposed to work and it&#39;s not going to work. The transformation API is basically a callback. You&#39;re called with a `TransformationContext` for any given element, and you have to modify the annotations through the `TransformationContext`. Since you&#39;re trying to modify annotations on the methods of `io.quarkus.redis.datasource.value.ValueCommands`, your `appliesTo` method should be `return kind == AnnotationTarget.Kind.METHOD` and the `transform` method should check if the method it is given is declared on the class you need.\r\n\r\n2. But even if you used the transformation API correctly, it still wouldn&#39;t work. You&#39;re trying to modify annotations on `io.quarkus.redis.datasource.value.ValueCommands`, which is an interface. An interface is never a bean class, and CDI never inherits annotations from interfaces, so such transformation is useless.\r\n\r\n3. Even if you found the concrete implementation of `ValueCommands`, it still wouldn&#39;t work. Adding an interceptor binding to a class only makes sense if that class is a CDI _managed bean_ (also known as class-based bean). Most of the API exposed by the Redis client  are not CDI beans at all, and those that are (such as `RedisDataSource` that you can inject) are not managed beans (they are synthetic beans actually). So none of that can actually be intercepted.\r\n\r\nTo sum up, making sure that the Redis calls are properly traced is not possible using annotation transformations.\r\n\r\nThe good news is, the underlying Vert.x Redis client implementation has gained native support for tracing in version 4.4.5. This version is used in Quarkus since version 3.4 (which was released a few days ago), so it should either work out of the box once you upgrade, or it should be fairly simple to implement on the Quarkus side. If Redis command tracing doesn&#39;t work with Quarkus 3.4, please file a feature request.","title":"Quarkus BuildStep","body":"<p>So the <code>AnnotationsTransformerBuildItem</code> is used to modify the internal model of classes that the given Quarkus component uses. It doesn't modify bytecode or anything like that, so you can't observe the changes directly, only indirectly (through changed behavior).</p>\n<p>There are 2 classes named <code>AnnotationsTransformerBuildItem</code>:</p>\n<ul>\n<li><code>io.quarkus.arc.deployment.AnnotationsTransformerBuildItem</code> for ArC, the CDI container in Quarkus</li>\n<li><code>io.quarkus.resteasy.reactive.server.spi.AnnotationsTransformerBuildItem</code> for RESTEasy Reactive, the JAX-RS implementation in Quarkus</li>\n</ul>\n<p>Since <code>@WithSpan</code> is treated as an interceptor binding in Quarkus, you need the ArC's <code>AnnotationsTransformerBuildItem</code>.</p>\n<p>Assuming you have the ArC's <code>AnnotationsTransformerBuildItem</code>, there are 3 problems:</p>\n<ol>\n<li><p>You're using the transformation API incorrectly. Adding an annotation to the set of annotations returned from <code>MethodInfo</code> is not supposed to work and it's not going to work. The transformation API is basically a callback. You're called with a <code>TransformationContext</code> for any given element, and you have to modify the annotations through the <code>TransformationContext</code>. Since you're trying to modify annotations on the methods of <code>io.quarkus.redis.datasource.value.ValueCommands</code>, your <code>appliesTo</code> method should be <code>return kind == AnnotationTarget.Kind.METHOD</code> and the <code>transform</code> method should check if the method it is given is declared on the class you need.</p>\n</li>\n<li><p>But even if you used the transformation API correctly, it still wouldn't work. You're trying to modify annotations on <code>io.quarkus.redis.datasource.value.ValueCommands</code>, which is an interface. An interface is never a bean class, and CDI never inherits annotations from interfaces, so such transformation is useless.</p>\n</li>\n<li><p>Even if you found the concrete implementation of <code>ValueCommands</code>, it still wouldn't work. Adding an interceptor binding to a class only makes sense if that class is a CDI <em>managed bean</em> (also known as class-based bean). Most of the API exposed by the Redis client  are not CDI beans at all, and those that are (such as <code>RedisDataSource</code> that you can inject) are not managed beans (they are synthetic beans actually). So none of that can actually be intercepted.</p>\n</li>\n</ol>\n<p>To sum up, making sure that the Redis calls are properly traced is not possible using annotation transformations.</p>\n<p>The good news is, the underlying Vert.x Redis client implementation has gained native support for tracing in version 4.4.5. This version is used in Quarkus since version 3.4 (which was released a few days ago), so it should either work out of the box once you upgrade, or it should be fairly simple to implement on the Quarkus side. If Redis command tracing doesn't work with Quarkus 3.4, please file a feature request.</p>\n"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695429892,"creation_date":1695339013,"question_id":77154145,"body_markdown":"I am trying to transform annotation data using BuildStep as stated on the link below\r\n\r\nhttps://quarkus.io/guides/cdi-integration#annotations_transformer_build_item\r\n\r\nHowever, I am not seeing any indication this is working. I can&#39;t verify during build time what is wrong and there is no change at runtime. Below is the sample code:\r\n\r\n```java\r\n    public class TestTelemetryBuilder {\r\n    \r\n        @BuildStep\r\n        AnnotationsTransformerBuildItem transform() {\r\n            return new AnnotationsTransformerBuildItem(new AnnotationsTransformer() {\r\n    \r\n                @Override\r\n                public boolean appliesTo(final org.jboss.jandex.AnnotationTarget.Kind kind) {\r\n                    return kind == org.jboss.jandex.AnnotationTarget.Kind.CLASS;\r\n                }\r\n    \r\n                @Override\r\n                public void transform(final TransformationContext context) {\r\n                    if (&quot;io.quarkus.redis.datasource.value.ValueCommands&quot;\r\n                            .equals(context.getTarget().asClass().name().toString())) {\r\n                        List&lt;MethodInfo&gt; methods = context.getTarget().asClass().methods();\r\n                        AnnotationInstance annot = AnnotationInstance.builder(DotName.createSimple(\r\n                                &quot;io.opentelemetry.instrumentation.annotations.WithSpan&quot;)).build();\r\n                        methods.forEach(t -&gt; t.annotations()\r\n                                .add(annot));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\nI want to add the WithSpan annotation to all the methods on the Redis ValueCommands class whenever called. Does this work only when the class is injected? I tried with RedisDataSource which is injected but couldn&#39;t get it to work. Is there anything else I need to setup/configure?","title":"Quarkus BuildStep","body":"<p>I am trying to transform annotation data using BuildStep as stated on the link below</p>\n<p><a href=\"https://quarkus.io/guides/cdi-integration#annotations_transformer_build_item\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/cdi-integration#annotations_transformer_build_item</a></p>\n<p>However, I am not seeing any indication this is working. I can't verify during build time what is wrong and there is no change at runtime. Below is the sample code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class TestTelemetryBuilder {\n    \n        @BuildStep\n        AnnotationsTransformerBuildItem transform() {\n            return new AnnotationsTransformerBuildItem(new AnnotationsTransformer() {\n    \n                @Override\n                public boolean appliesTo(final org.jboss.jandex.AnnotationTarget.Kind kind) {\n                    return kind == org.jboss.jandex.AnnotationTarget.Kind.CLASS;\n                }\n    \n                @Override\n                public void transform(final TransformationContext context) {\n                    if (&quot;io.quarkus.redis.datasource.value.ValueCommands&quot;\n                            .equals(context.getTarget().asClass().name().toString())) {\n                        List&lt;MethodInfo&gt; methods = context.getTarget().asClass().methods();\n                        AnnotationInstance annot = AnnotationInstance.builder(DotName.createSimple(\n                                &quot;io.opentelemetry.instrumentation.annotations.WithSpan&quot;)).build();\n                        methods.forEach(t -&gt; t.annotations()\n                                .add(annot));\n                    }\n                }\n            });\n        }\n    }\n</code></pre>\n<p>I want to add the WithSpan annotation to all the methods on the Redis ValueCommands class whenever called. Does this work only when the class is injected? I tried with RedisDataSource which is injected but couldn't get it to work. Is there anything else I need to setup/configure?</p>\n"},{"tags":["java","java-module"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1695408270,"post_id":77158330,"comment_id":136025483,"body_markdown":"Try `java -p jar/b.jar C`. You should get an error.","body":"Try <code>java -p jar&#47;b.jar C</code>. You should get an error."},{"owner":{"account_id":20689060,"reputation":130,"user_id":15190838,"display_name":"Grzegorz Wilanowski"},"score":0,"creation_date":1695621825,"post_id":77158330,"comment_id":136043561,"body_markdown":"Yes, the error says &quot;package b is declared in module b, which is not in the module graph&quot;","body":"Yes, the error says &quot;package b is declared in module b, which is not in the module graph&quot;"}],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1695408216,"post_id":77158825,"comment_id":136025471,"body_markdown":"Well, that is one part. The other is that OP did put the modular jar into the *class-path*, not into *module-path*. Therefore `B` is also in the unnamed module.","body":"Well, that is one part. The other is that OP did put the modular jar into the <i>class-path</i>, not into <i>module-path</i>. Therefore <code>B</code> is also in the unnamed module."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695429415,"creation_date":1695395395,"answer_id":77158825,"question_id":77158330,"body_markdown":"Firstly, as far as I can see, you didn&#39;t explicitly put `C` in a module. It is therefore in the &quot;[unnamed module][1]&quot;. The unnamed module can read every observable module.\r\n\r\n&gt; An unnamed module reads every observable module\r\n\r\nIt is designed this way so that old, non-modular code can still interact with new code.\r\n\r\nSecondly, `B` is also in the unnamed module when you run `C`. This is because you put b.jar into the classpath, not the module path (`--module-path`). In the modular world, you should use the module path to specify where the dependencies are, not the classpath.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.5","title":"Java module encapsulation demo","body":"<p>Firstly, as far as I can see, you didn't explicitly put <code>C</code> in a module. It is therefore in the &quot;<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.7.5\" rel=\"nofollow noreferrer\">unnamed module</a>&quot;. The unnamed module can read every observable module.</p>\n<blockquote>\n<p>An unnamed module reads every observable module</p>\n</blockquote>\n<p>It is designed this way so that old, non-modular code can still interact with new code.</p>\n<p>Secondly, <code>B</code> is also in the unnamed module when you run <code>C</code>. This is because you put b.jar into the classpath, not the module path (<code>--module-path</code>). In the modular world, you should use the module path to specify where the dependencies are, not the classpath.</p>\n"}],"owner":{"account_id":20689060,"reputation":130,"user_id":15190838,"display_name":"Grzegorz Wilanowski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77158825,"answer_count":1,"score":0,"last_activity_date":1695429415,"creation_date":1695391502,"question_id":77158330,"body_markdown":"I try to create a demo to illustrate module encapsulation.\r\nI have 2 classes a.A and b.B in separate modules.\r\nmodule a requires b, and b is exported to a\r\n\r\n```\r\npackage a;\r\nimport b.B;\r\nclass A{\r\n\tpublic static void main(String[] args){\r\n\t\tB b = new B();\r\n\t}\r\n}\r\npackage b;\r\npublic class B{\r\n\tpublic B(){\r\n\t\tSystem.out.println(&quot;B created&quot;);\r\n\t}\r\n}\r\nmodule a {\r\n  requires b;\r\n}\r\nmodule b {\r\n  exports b to a;\r\n}\r\n```\r\n\r\n``` \r\n├───class\r\n├───jar\r\n└───src\r\n    ├───a\r\n    │   └───module-info.java\r\n    │   └───a\r\n    │       └───A.java\r\n    ├───b\r\n    │   └───module-info.java\r\n    │   └───b\r\n    │       └───B.java\r\n ```\r\nIt works\r\n```\r\n&gt;javac -d class --module-source-path src -m a\r\n&gt;jar -c -f jar/a.jar -e a.A -C class/a .\r\n&gt;jar -c -f jar/b.jar  -C class/b .\r\n&gt;java -p jar -m a\r\nB created\r\n ```\r\n\r\nHowever, why I am able to access b.B from some other class in package default\r\n``` \r\nimport b.B;\r\nclass C{\r\n\tpublic static void main(String[] a){\r\n\t\tB b = new B();\t\r\n\t}\r\n} \r\n```\r\n```\r\n&gt;javac -cp &quot;.;jar/b.jar&quot; C.java\r\n&gt;java -cp &quot;.;jar/b.jar&quot; C\r\nB created\r\n```\r\n\r\nopenjdk version &quot;17.0.1&quot; 2021-10-19\r\n\r\n\r\n","title":"Java module encapsulation demo","body":"<p>I try to create a demo to illustrate module encapsulation.\nI have 2 classes a.A and b.B in separate modules.\nmodule a requires b, and b is exported to a</p>\n<pre><code>package a;\nimport b.B;\nclass A{\n    public static void main(String[] args){\n        B b = new B();\n    }\n}\npackage b;\npublic class B{\n    public B(){\n        System.out.println(&quot;B created&quot;);\n    }\n}\nmodule a {\n  requires b;\n}\nmodule b {\n  exports b to a;\n}\n</code></pre>\n<pre><code>├───class\n├───jar\n└───src\n    ├───a\n    │   └───module-info.java\n    │   └───a\n    │       └───A.java\n    ├───b\n    │   └───module-info.java\n    │   └───b\n    │       └───B.java\n</code></pre>\n<p>It works</p>\n<pre><code>&gt;javac -d class --module-source-path src -m a\n&gt;jar -c -f jar/a.jar -e a.A -C class/a .\n&gt;jar -c -f jar/b.jar  -C class/b .\n&gt;java -p jar -m a\nB created\n</code></pre>\n<p>However, why I am able to access b.B from some other class in package default</p>\n<pre><code>import b.B;\nclass C{\n    public static void main(String[] a){\n        B b = new B();  \n    }\n} \n</code></pre>\n<pre><code>&gt;javac -cp &quot;.;jar/b.jar&quot; C.java\n&gt;java -cp &quot;.;jar/b.jar&quot; C\nB created\n</code></pre>\n<p>openjdk version &quot;17.0.1&quot; 2021-10-19</p>\n"},{"tags":["java","parsing","javacc","javaparser","javac-compiler-plugin"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1695428480,"post_id":77160782,"comment_id":136027783,"body_markdown":"Your patterns, looking for blanks and carriage returns, appear to be mixing tokenization and parsing.  These should be two distinct steps, and should not be mixed... that way lies madness.","body":"Your patterns, looking for blanks and carriage returns, appear to be mixing tokenization and parsing.  These should be two distinct steps, and should not be mixed... that way lies madness."},{"owner":{"account_id":5347580,"reputation":27,"user_id":4262681,"display_name":"Eto"},"score":0,"creation_date":1695467384,"post_id":77160782,"comment_id":136030321,"body_markdown":"I can imagine what you mean but could you be more precise? Are you referring to removing any quoted tokens, so. &quot;\\n&quot;, or &quot; &quot; should be removed? I agree and I am just learning that","body":"I can imagine what you mean but could you be more precise? Are you referring to removing any quoted tokens, so. &quot;\\n&quot;, or &quot; &quot; should be removed? I agree and I am just learning that"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1695495854,"post_id":77160782,"comment_id":136033266,"body_markdown":"No, what you are trying to accomplish requires a 2-step approach. The tokenizer splits up the input into meaningful bits called &quot;tokens&quot; ignoring anything that doesn&#39;t carry any syntactic information, like non-significant whitespace.  Then the parser can deal only with &quot;interesting&quot; stuff. You need to read up on parsing theory.","body":"No, what you are trying to accomplish requires a 2-step approach. The tokenizer splits up the input into meaningful bits called &quot;tokens&quot; ignoring anything that doesn&#39;t carry any syntactic information, like non-significant whitespace.  Then the parser can deal only with &quot;interesting&quot; stuff. You need to read up on parsing theory."},{"owner":{"account_id":5347580,"reputation":27,"user_id":4262681,"display_name":"Eto"},"score":0,"creation_date":1695501534,"post_id":77160782,"comment_id":136033756,"body_markdown":"I have SKIP TOKENS defined and that is just a pattern that somehow requires me to add these tokens. Anyway, anything concrete regarding my question and I will high five with you","body":"I have SKIP TOKENS defined and that is just a pattern that somehow requires me to add these tokens. Anyway, anything concrete regarding my question and I will high five with you"},{"owner":{"account_id":5347580,"reputation":27,"user_id":4262681,"display_name":"Eto"},"score":0,"creation_date":1695502360,"post_id":77160782,"comment_id":136033833,"body_markdown":"I think I got what you mean now... let me try something and let you know if I have solved this with your hint","body":"I think I got what you mean now... let me try something and let you know if I have solved this with your hint"},{"owner":{"account_id":5347580,"reputation":27,"user_id":4262681,"display_name":"Eto"},"score":0,"creation_date":1695505578,"post_id":77160782,"comment_id":136034113,"body_markdown":"Alright, you pointed me into the right direction. That is perfect, thanks a lot","body":"Alright, you pointed me into the right direction. That is perfect, thanks a lot"}],"owner":{"account_id":5347580,"reputation":27,"user_id":4262681,"display_name":"Eto"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695428339,"creation_date":1695418492,"question_id":77160782,"body_markdown":"I have defined the following pattern in JAVACC:\r\n\r\n```\r\n| &lt; CONFIGURATION_PATTERN: &quot;(&quot; (&quot;\\n&quot;)* (&quot; &quot;)* ((&lt;LETTER&gt;)+ &quot; = &quot; (&lt;LETTER&gt; | &lt;DIGIT&gt;)+ (&quot;\\n&quot;) (&quot; &quot;)*)+  (&quot; &quot;) &quot;)&quot; &gt;\r\n| &lt; CONFIGURATION_SUB_PATTERN: &quot;(&quot; (&quot;\\n&quot;)* (&quot; &quot;)* ((&lt;LETTER&gt;)+ &quot; = &quot; (&lt;LETTER&gt; | &lt;DIGIT&gt; | &lt;BOOLEAN&gt;)+ (&quot;\\n&quot;) (&quot; &quot;)*)+  (&quot; &quot;) &quot;)&quot; &gt;\r\n```\r\nThen, I have a file which gets parsed as expected but when it gets to the following lines it throws me an error:\r\n\r\n*The lines\r\n\r\n    CONFIGURATION (\r\n        INSERTVALUE = 200\r\n        PROPERTIES ( \r\n            MOVETABLE = false,\r\n            DOWRITE = true\r\n        )\r\n    )\r\n\r\nthrowing the error:\r\n\r\n```\r\nParse error: Encountered &quot; &quot;(&quot; &quot;( &quot;&quot; at line 25, column 29.\r\nWas expecting one of:\r\n    &quot;SOMETOKEN&quot; ...\r\n    &quot;SOMETOKEN2&quot; ...\r\n    &quot;SOMETOKEN3&quot; ...\r\n    &lt;SOME_PATTERN&gt; ...\r\n    &lt;SOME_PATTERN2&gt; ...\r\n```\r\n\r\nI have another file where the PROPERTIES part is not part of the file and the CONFIGURATION_PATTERN and CONFIGURATION_SUB_PATTERN are applied without errors.\r\n\r\nI tried to debug this but I do not get behind the error because I do not understand why it complains about the first &quot;(&quot; after CONFIGURATION.   \r\n\r\nI have tried removing the CONFIGURATION part and then the whole file gets parsed as expected. I tried to set the &quot;(&quot; and &quot;)&quot; explicitly but then it complains that it expected the pattern which is correct.\r\n\r\nI chatgpted the problem and ChatGPT tells me to apply a recursive pattern which I tried with the `CONFIGURATION_SUB_PATTERN`, so I put `(&lt;CONFIGURATION_PATTERN&gt; | &lt;CONFIGURATION_SUB_PATTERN&gt;)*`.\r\n\r\nBefore, I tried to set the pattern like below which looks ugly to me but should be correct:\r\n\r\n    &quot;(&quot; (&quot;\\n&quot;)* (&quot; &quot;)* ((&lt;LETTER&gt;)+ (&quot;(&quot; | &quot; = &quot;) ((&lt;LETTER&gt; | &lt;DIGIT&gt;)+ | ((&lt;LETTER&gt;)+ &quot;=&quot; (&lt;BOOLEAN&gt;)? (&quot;,&quot;)*)+ (&quot;)&quot;))* (&quot;\\n&quot;) (&quot; &quot;)*)+ (&quot; &quot;) &quot;)&quot;\r\n\r\nThanks and appreciate your help!\r\n        ","title":"JAVA CC Pattern Throws an Error on an Expected Token","body":"<p>I have defined the following pattern in JAVACC:</p>\n<pre><code>| &lt; CONFIGURATION_PATTERN: &quot;(&quot; (&quot;\\n&quot;)* (&quot; &quot;)* ((&lt;LETTER&gt;)+ &quot; = &quot; (&lt;LETTER&gt; | &lt;DIGIT&gt;)+ (&quot;\\n&quot;) (&quot; &quot;)*)+  (&quot; &quot;) &quot;)&quot; &gt;\n| &lt; CONFIGURATION_SUB_PATTERN: &quot;(&quot; (&quot;\\n&quot;)* (&quot; &quot;)* ((&lt;LETTER&gt;)+ &quot; = &quot; (&lt;LETTER&gt; | &lt;DIGIT&gt; | &lt;BOOLEAN&gt;)+ (&quot;\\n&quot;) (&quot; &quot;)*)+  (&quot; &quot;) &quot;)&quot; &gt;\n</code></pre>\n<p>Then, I have a file which gets parsed as expected but when it gets to the following lines it throws me an error:</p>\n<p>*The lines</p>\n<pre><code>CONFIGURATION (\n    INSERTVALUE = 200\n    PROPERTIES ( \n        MOVETABLE = false,\n        DOWRITE = true\n    )\n)\n</code></pre>\n<p>throwing the error:</p>\n<pre><code>Parse error: Encountered &quot; &quot;(&quot; &quot;( &quot;&quot; at line 25, column 29.\nWas expecting one of:\n    &quot;SOMETOKEN&quot; ...\n    &quot;SOMETOKEN2&quot; ...\n    &quot;SOMETOKEN3&quot; ...\n    &lt;SOME_PATTERN&gt; ...\n    &lt;SOME_PATTERN2&gt; ...\n</code></pre>\n<p>I have another file where the PROPERTIES part is not part of the file and the CONFIGURATION_PATTERN and CONFIGURATION_SUB_PATTERN are applied without errors.</p>\n<p>I tried to debug this but I do not get behind the error because I do not understand why it complains about the first &quot;(&quot; after CONFIGURATION.</p>\n<p>I have tried removing the CONFIGURATION part and then the whole file gets parsed as expected. I tried to set the &quot;(&quot; and &quot;)&quot; explicitly but then it complains that it expected the pattern which is correct.</p>\n<p>I chatgpted the problem and ChatGPT tells me to apply a recursive pattern which I tried with the <code>CONFIGURATION_SUB_PATTERN</code>, so I put <code>(&lt;CONFIGURATION_PATTERN&gt; | &lt;CONFIGURATION_SUB_PATTERN&gt;)*</code>.</p>\n<p>Before, I tried to set the pattern like below which looks ugly to me but should be correct:</p>\n<pre><code>&quot;(&quot; (&quot;\\n&quot;)* (&quot; &quot;)* ((&lt;LETTER&gt;)+ (&quot;(&quot; | &quot; = &quot;) ((&lt;LETTER&gt; | &lt;DIGIT&gt;)+ | ((&lt;LETTER&gt;)+ &quot;=&quot; (&lt;BOOLEAN&gt;)? (&quot;,&quot;)*)+ (&quot;)&quot;))* (&quot;\\n&quot;) (&quot; &quot;)*)+ (&quot; &quot;) &quot;)&quot;\n</code></pre>\n<p>Thanks and appreciate your help!</p>\n"},{"tags":["java","asynchronous","reactive-programming","nio","nonblocking"],"answers":[{"tags":[],"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695426326,"creation_date":1695426326,"answer_id":77161137,"question_id":74734069,"body_markdown":"Upon starting, the asynchronous http client starts one or more threads. Some of them will be blocked waiting for data, but they are internal to the client, so none of the threads *created by the user* will be blocked.\r\n\r\nThe mechanism is less primitive than just starting a thread per request though: there is a way to multiplex many sockets onto one object (&quot;selector&quot;) and do a blocking wait for any of the sockets to become ready for reading or writing: this way, the (internal) thread is blocked, but since it is handling many sockets at once, it is not blocked by any one of them. Maybe this also contributes to the &quot;without blocking&quot; metaphor.","title":"How is Apache NIO HttpAsyncClient performing non-blocking HTTP Client","body":"<p>Upon starting, the asynchronous http client starts one or more threads. Some of them will be blocked waiting for data, but they are internal to the client, so none of the threads <em>created by the user</em> will be blocked.</p>\n<p>The mechanism is less primitive than just starting a thread per request though: there is a way to multiplex many sockets onto one object (&quot;selector&quot;) and do a blocking wait for any of the sockets to become ready for reading or writing: this way, the (internal) thread is blocked, but since it is handling many sockets at once, it is not blocked by any one of them. Maybe this also contributes to the &quot;without blocking&quot; metaphor.</p>\n"}],"owner":{"account_id":2860674,"reputation":2162,"user_id":2456013,"accept_rate":73,"display_name":"HLP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695426326,"creation_date":1670520263,"question_id":74734069,"body_markdown":"How is Apache NIO HttpAsyncClient able to wait for a remote response **without blocking any thread**? Does it have a way to setup a callback with the OS (I doubt so?). Otherwise does it perform some sort of polling? ","title":"How is Apache NIO HttpAsyncClient performing non-blocking HTTP Client","body":"<p>How is Apache NIO HttpAsyncClient able to wait for a remote response <strong>without blocking any thread</strong>? Does it have a way to setup a callback with the OS (I doubt so?). Otherwise does it perform some sort of polling?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1695326674,"post_id":77150849,"comment_id":136013325,"body_markdown":"is there something hard to understand about the official migration docs in the official spring security documentation located on their webpage?","body":"is there something hard to understand about the official migration docs in the official spring security documentation located on their webpage?"},{"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"score":0,"creation_date":1695425568,"post_id":77150849,"comment_id":136027599,"body_markdown":"Hi, what I was not sure of was whether we had to chain calls such as:\n```\nrequest.requestMatchers(&quot;/pattern&quot;).permitAll();\nrequest.requestMatchers(&quot;/api/**&quot;).authenticated();\n```\nor whether we had to make the calls separately","body":"Hi, what I was not sure of was whether we had to chain calls such as: ``` request.requestMatchers(&quot;/pattern&quot;).permitAll(); request.requestMatchers(&quot;/api/**&quot;).authenticated(); ``` or whether we had to make the calls separately"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695308951,"creation_date":1695308951,"answer_id":77151517,"question_id":77150849,"body_markdown":"Here on Stackoverflow are a lot of articles about this topic: **HOW TO**\r\n but I always suggest to check documentation:\r\nYou should read these resources first of all:\r\n[Migration Guide][1] , [Configuration Migrations][2]\r\n\r\nIn this case the `filterChain` will have next one body:\r\n\r\n      @Bean\r\n      public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf(AbstractHttpConfigurer::disable);\r\n        http.cors(configuration -&gt; configuration.configurationSource(corsConfigurationSource()));\r\n    \r\n        http.authorizeHttpRequests(request -&gt; {\r\n              request.requestMatchers(&quot;/pattern&quot;).permitAll();\r\n              request.requestMatchers(&quot;/api/**&quot;).authenticated();\r\n              request.anyRequest().authenticated();\r\n            })\r\n        http.addFilterBefore(new AwsCognitoJwtAuthFilter(awsCognitoIdTokenProcessor), \r\n            UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n      }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/index.html\r\n  [2]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html","title":"Migrating to Sping 6.X How to best migrate the Spring SecurityConfiguration for cors and matchers","body":"<p>Here on Stackoverflow are a lot of articles about this topic: <strong>HOW TO</strong>\nbut I always suggest to check documentation:\nYou should read these resources first of all:\n<a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/index.html\" rel=\"nofollow noreferrer\">Migration Guide</a> , <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"nofollow noreferrer\">Configuration Migrations</a></p>\n<p>In this case the <code>filterChain</code> will have next one body:</p>\n<pre><code>  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .csrf(AbstractHttpConfigurer::disable);\n    http.cors(configuration -&gt; configuration.configurationSource(corsConfigurationSource()));\n\n    http.authorizeHttpRequests(request -&gt; {\n          request.requestMatchers(&quot;/pattern&quot;).permitAll();\n          request.requestMatchers(&quot;/api/**&quot;).authenticated();\n          request.anyRequest().authenticated();\n        })\n    http.addFilterBefore(new AwsCognitoJwtAuthFilter(awsCognitoIdTokenProcessor), \n        UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695425609,"creation_date":1695425609,"answer_id":77161113,"question_id":77150849,"body_markdown":"As Andrei Lisa pointed out:\r\n```\r\nrequest.requestMatchers(&quot;/pattern&quot;).permitAll();\r\nrequest.requestMatchers(&quot;/api/**&quot;).authenticated();\r\nrequest.anyRequest().authenticated();\r\n```\r\nIs the correct way to do this.","title":"Migrating to Sping 6.X How to best migrate the Spring SecurityConfiguration for cors and matchers","body":"<p>As Andrei Lisa pointed out:</p>\n<pre><code>request.requestMatchers(&quot;/pattern&quot;).permitAll();\nrequest.requestMatchers(&quot;/api/**&quot;).authenticated();\nrequest.anyRequest().authenticated();\n</code></pre>\n<p>Is the correct way to do this.</p>\n"}],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77151517,"answer_count":2,"score":-2,"last_activity_date":1695425609,"creation_date":1695303820,"question_id":77150849,"body_markdown":"I am moving to Spring framework 6 and I have the following spring framework 2 code:\r\n```\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                // Per https://security.stackexchange.com/questions/166724/should-i-use-csrf-protection-on-rest-api-endpoints stateless\r\n                // should be fine. CSRF is not required for API-only services\r\n//                .csrf().disable() // this was in sprint 2.7\r\n                .csrf((csrf) -&gt; csrf.disable())\r\n                .cors().configurationSource(corsConfigurationSource())\r\n                .and()\r\n                .authorizeHttpRequests()\r\n//                .authorizeRequests()\r\n                .antMatchers(&quot;**/&quot;).permitAll()\r\n                .antMatchers(&quot;/api/**&quot;).authenticated()\r\n                //.anyRequest().authenticated()\r\n                .and()\r\n                .addFilterBefore(new AwsCognitoJwtAuthFilter(awsCognitoIdTokenProcessor), UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n```\r\n\r\nI figured out how to move &#39;.csrf()&#39; but I am having trouble moving .cors() and &#39;.authorizeHttpRequests()&#39;. Does anyone know how to migrate those (or have an example)? I am trying to use https://www.baeldung.com/spring-cors but that is srping 5 not 6 and I have tried other research but most references are spring 5 or below ...","title":"Migrating to Sping 6.X How to best migrate the Spring SecurityConfiguration for cors and matchers","body":"<p>I am moving to Spring framework 6 and I have the following spring framework 2 code:</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                // Per https://security.stackexchange.com/questions/166724/should-i-use-csrf-protection-on-rest-api-endpoints stateless\n                // should be fine. CSRF is not required for API-only services\n//                .csrf().disable() // this was in sprint 2.7\n                .csrf((csrf) -&gt; csrf.disable())\n                .cors().configurationSource(corsConfigurationSource())\n                .and()\n                .authorizeHttpRequests()\n//                .authorizeRequests()\n                .antMatchers(&quot;**/&quot;).permitAll()\n                .antMatchers(&quot;/api/**&quot;).authenticated()\n                //.anyRequest().authenticated()\n                .and()\n                .addFilterBefore(new AwsCognitoJwtAuthFilter(awsCognitoIdTokenProcessor), UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n</code></pre>\n<p>I figured out how to move '.csrf()' but I am having trouble moving .cors() and '.authorizeHttpRequests()'. Does anyone know how to migrate those (or have an example)? I am trying to use <a href=\"https://www.baeldung.com/spring-cors\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cors</a> but that is srping 5 not 6 and I have tried other research but most references are spring 5 or below ...</p>\n"},{"tags":["python","java","tabula","tabula-py"],"owner":{"account_id":15917882,"reputation":320,"user_id":11485896,"display_name":"Soren V. Raben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1695503635,"answer_count":0,"score":2,"last_activity_date":1695424004,"creation_date":1694526642,"question_id":77089769,"body_markdown":"I&#39;m unsuccessfully trying to read a PDF in Python using `tabula-py`. I installed Java (both `jre-1.8` and `jdk-20`), set up `JAVA_HOME` path (`C:\\Program Files\\Java\\jre-1.8\\bin` in my case; I also added it to `Path`) and still cannot run `read_pdf` method. Code:\r\n```python\r\nimport pandas as pd\r\n\r\nfrom tabula import read_pdf\r\nfrom tabulate import tabulate\r\n\r\nfile_name: str = &quot;to_tabulate.pdf&quot;\r\n\r\ndf = read_pdf(file_name)\r\n\r\nprint(tabulate(df))\r\n```\r\nOutput (shortened):\r\n```python\r\nException                                 Traceback (most recent call last)\r\nFile org.jpype.JPypeContext.java:-1, in org.jpype.JPypeContext.callMethod()\r\n\r\nException: Java Exception\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\njava.lang.ClassNotFoundException          Traceback (most recent call last)\r\n```\r\n...\r\n```python\r\njava.lang.ClassNotFoundException: java.lang.ClassNotFoundException: org.apache\r\n\r\nThe above exception was the direct cause of the following exception:\r\n```\r\n...\r\n```python\r\nImportError: Failed to import &#39;org.apache&#39;\r\n```\r\n\r\nI can&#39;t find any solution for this particular problem and have absolutely no guess what causes this issue (I don&#39;t have any experience in Java and still considering myself as beginner in Python). The only interesting (let&#39;s say) thing I noticed is that in the traceback there&#39;s no mention of `org.apache` subclass (like e.g. `commons`) but just `apache` in general.\r\n\r\nHas anyone encountered such problem before? Are there any solutions? Any help would be highly appreciated.\r\n\r\nI use Windows 11 Pro 22H2 22621.2134, Python 3.11.1 and `tabula-py` 2.8.1.","title":"tabula-py: java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: org.apache","body":"<p>I'm unsuccessfully trying to read a PDF in Python using <code>tabula-py</code>. I installed Java (both <code>jre-1.8</code> and <code>jdk-20</code>), set up <code>JAVA_HOME</code> path (<code>C:\\Program Files\\Java\\jre-1.8\\bin</code> in my case; I also added it to <code>Path</code>) and still cannot run <code>read_pdf</code> method. Code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\n\nfrom tabula import read_pdf\nfrom tabulate import tabulate\n\nfile_name: str = &quot;to_tabulate.pdf&quot;\n\ndf = read_pdf(file_name)\n\nprint(tabulate(df))\n</code></pre>\n<p>Output (shortened):</p>\n<pre class=\"lang-py prettyprint-override\"><code>Exception                                 Traceback (most recent call last)\nFile org.jpype.JPypeContext.java:-1, in org.jpype.JPypeContext.callMethod()\n\nException: Java Exception\n\nThe above exception was the direct cause of the following exception:\n\njava.lang.ClassNotFoundException          Traceback (most recent call last)\n</code></pre>\n<p>...</p>\n<pre class=\"lang-py prettyprint-override\"><code>java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: org.apache\n\nThe above exception was the direct cause of the following exception:\n</code></pre>\n<p>...</p>\n<pre class=\"lang-py prettyprint-override\"><code>ImportError: Failed to import 'org.apache'\n</code></pre>\n<p>I can't find any solution for this particular problem and have absolutely no guess what causes this issue (I don't have any experience in Java and still considering myself as beginner in Python). The only interesting (let's say) thing I noticed is that in the traceback there's no mention of <code>org.apache</code> subclass (like e.g. <code>commons</code>) but just <code>apache</code> in general.</p>\n<p>Has anyone encountered such problem before? Are there any solutions? Any help would be highly appreciated.</p>\n<p>I use Windows 11 Pro 22H2 22621.2134, Python 3.11.1 and <code>tabula-py</code> 2.8.1.</p>\n"},{"tags":["java","shutdown"],"answers":[{"comments":[{"owner":{"account_id":15772332,"reputation":33,"user_id":11381015,"display_name":"Mitch McCollum"},"score":0,"creation_date":1585934444,"post_id":61017083,"comment_id":107949045,"body_markdown":"I am fairly new to java coming from c#. With my research does this mean it would stop execution of my java program when this is being called? I imagine ill need to figure out a way to recover from a user trying to shutdown the system.","body":"I am fairly new to java coming from c#. With my research does this mean it would stop execution of my java program when this is being called? I imagine ill need to figure out a way to recover from a user trying to shutdown the system."},{"owner":{"account_id":229665,"reputation":33570,"user_id":492773,"display_name":"kichik"},"score":1,"creation_date":1585935898,"post_id":61017083,"comment_id":107949772,"body_markdown":"It&#39;s up to you to terminate or not to terminate the program during message handling. You can return 0, ask Windows to stop the shut down, and then just do nothing to your program so it continues.","body":"It&#39;s up to you to terminate or not to terminate the program during message handling. You can return 0, ask Windows to stop the shut down, and then just do nothing to your program so it continues."},{"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"score":1,"creation_date":1695422136,"post_id":61017083,"comment_id":136027327,"body_markdown":"The code has changed: https://github.com/mirror/jdownloader/blob/5f50ef81a535c64d31713ed043587eac7a3da057/src/org/jdownloader/osevents/multios/SignalEventSource.java","body":"The code has changed: <a href=\"https://github.com/mirror/jdownloader/blob/5f50ef81a535c64d31713ed043587eac7a3da057/src/org/jdownloader/osevents/multios/SignalEventSource.java\" rel=\"nofollow noreferrer\">github.com/mirror/jdownloader/blob/&hellip;</a>"}],"tags":[],"owner":{"account_id":229665,"reputation":33570,"user_id":492773,"display_name":"kichik"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695423657,"creation_date":1585934125,"answer_id":61017083,"question_id":61017025,"body_markdown":"You need to respond to the [`WM_QUERYENDSESSION`](https://learn.microsoft.com/en-us/windows/win32/shutdown/wm-queryendsession) message and return 0.\r\n\r\nYou can do it with [JNA](https://stackoverflow.com/questions/4901609/how-to-handle-wm-queryendsession-messages-with-jna).\r\n\r\nAnother example here: https://github.com/mirror/jdownloader/blob/656fe1fdc9689ffe4067a2cab3bf11c54bbaf25d/src/org/jdownloader/osevents/windows/jna/ShutdownDetect.java\r\n\r\n```\r\npackage org.jdownloader.osevents.windows.jna;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport javax.swing.JFrame;\r\n\r\nimport org.appwork.utils.swing.windowmanager.WindowManager;\r\nimport org.appwork.utils.swing.windowmanager.WindowManager.FrameState;\r\n\r\nimport com.sun.jna.Callback;\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.Structure;\r\nimport com.sun.jna.platform.win32.User32;\r\nimport com.sun.jna.platform.win32.WinDef;\r\nimport com.sun.jna.platform.win32.WinDef.DWORD;\r\nimport com.sun.jna.platform.win32.WinDef.HWND;\r\nimport com.sun.jna.platform.win32.WinDef.LPARAM;\r\nimport com.sun.jna.platform.win32.WinDef.LRESULT;\r\nimport com.sun.jna.platform.win32.WinDef.WPARAM;\r\nimport com.sun.jna.platform.win32.WinUser;\r\n\r\npublic class ShutdownDetect {\r\n    /**\r\n     * @see &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/aa376889.aspx&quot;&gt;WM_ENDSESSION reference&lt;/a&gt;\r\n     */\r\n    public static final int WM_ENDSESSION      = 0x16;\r\n    public static final int WM_QUERYENDSESSION = 0x11;\r\n\r\n    public interface IShutdownListener {\r\n        void onShutdown();\r\n    }\r\n\r\n    public static class CWPSSTRUCT extends Structure {\r\n        public LPARAM lParam;\r\n        public WPARAM wParam;\r\n        public DWORD  message;\r\n        public HWND   hwnd;\r\n\r\n        @Override\r\n        protected List getFieldOrder() {\r\n            return Arrays.asList(new String[] { &quot;lParam&quot;, &quot;wParam&quot;, &quot;message&quot;, &quot;hwnd&quot; });\r\n        }\r\n    }\r\n\r\n    public interface WinHookProc extends WinUser.HOOKPROC {\r\n        /**\r\n         * @see &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/windows/desktop/ms644975(v=vs.85).aspx&quot;&gt;CallWndProc callback function&lt;/a&gt;\r\n         * @param nCode\r\n         *            is an action parameter. anything less than zero indicates I should ignore this call.\r\n         * @param wParam\r\n         *            Specifies whether the message was sent by the current thread. If the message was sent by the current thread, it is\r\n         *            nonzero; otherwise, it is zero\r\n         * @param hookProcStruct\r\n         *            A pointer to a CWPSTRUCT structure that contains details about the message.\r\n         * @return If nCode is less than zero, the hook procedure must return the value returned by CallNextHookEx.\r\n         */\r\n        WinDef.LRESULT callback(int nCode, WinDef.WPARAM wParam, CWPSSTRUCT hookProcStruct);\r\n    }\r\n\r\n    public static final class MyHookProc implements WinHookProc {\r\n        public IShutdownListener listener;\r\n        public WinUser.HHOOK     hhook;\r\n\r\n        @Override\r\n        public LRESULT callback(int nCode, WPARAM wParam, CWPSSTRUCT hookProcStruct) {\r\n            if (nCode &gt;= 0) {\r\n                System.out.println(hookProcStruct.message);\r\n                // tell the OS it&#39;s OK to shut down\r\n                if (hookProcStruct.message.longValue() == WM_QUERYENDSESSION) {\r\n                    System.out.println(&quot;WM_QUERYENDSESSION&quot;);\r\n                    return new LRESULT(1);\r\n                }\r\n                // process the actual shutting down message\r\n                if (hookProcStruct.message.longValue() == WM_ENDSESSION) {\r\n                    System.out.println(&quot;WM_ENDSESSION&quot;);\r\n                    listener.onShutdown();\r\n                    return new LRESULT(0); // return success\r\n                }\r\n            }\r\n            // pass the callback on to the next hook in the chain\r\n            return User32.INSTANCE.CallNextHookEx(hhook, nCode, wParam, hookProcStruct.getPointer());\r\n        }\r\n    }\r\n\r\n    public static void register(JFrame frame, final IShutdownListener listener) {\r\n        Native.setCallbackExceptionHandler(new Callback.UncaughtExceptionHandler() {\r\n            @Override\r\n            public void uncaughtException(Callback arg0, Throwable arg1) {\r\n                arg1.printStackTrace();\r\n            }\r\n        });\r\n\r\n        // get the window handle for the main window/frame\r\n        final HWND hwnd = new HWND();\r\n        hwnd.setPointer(Native.getComponentPointer(frame));\r\n\r\n        // clear the error value\r\n        Native.setLastError(0);\r\n\r\n        // retrieve the threadID associated with the main window/frame\r\n        int windowThreadID = User32.INSTANCE.GetWindowThreadProcessId(hwnd, null);\r\n        if (windowThreadID == 0) {\r\n            int x = Native.getLastError();\r\n            throw new IllegalStateException(&quot;error calling GetWindowThreadProcessId when installing machine-shutdown handler &quot; + x);\r\n        }\r\n\r\n        // clear the error value\r\n        Native.setLastError(0);\r\n\r\n        final MyHookProc proc = new MyHookProc();\r\n        proc.listener = listener;\r\n        proc.hhook = User32.INSTANCE.SetWindowsHookEx(4/* WH_CALLWNDPROCRET */, new MyHookProc(), null, windowThreadID/* dwThreadID */);\r\n\r\n        // null indicates failure\r\n        if (proc.hhook == null) {\r\n            int x = Native.getLastError();\r\n            throw new IllegalStateException(&quot;error calling SetWindowsHookEx when installing machine-shutdown handler &quot; + x);\r\n        }\r\n        System.out.println(&quot;Installed shutdown-detect hook procedure&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        final JFrame frame = new JFrame(&quot;Shutdown Test&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        WindowManager.getInstance().setVisible(frame, true,FrameState.OS_DEFAULT);\r\n\r\n        // register(frame, new IShutdownListener() {\r\n        // @Override\r\n        // public void onShutdown() {\r\n        // try {\r\n        // File file;\r\n        // PrintStream out = new PrintStream(file = new File(&quot;C:/shutdownTest.txt&quot;));\r\n        // System.out.println(&quot;shutting down&quot;);\r\n        // out.println(&quot;shutting down&quot;);\r\n        // out.close();\r\n        // } catch (IOException ex) {\r\n        // }\r\n        // System.exit(1);\r\n        // }\r\n        // });\r\n    }\r\n}\r\n```","title":"Java Stop Windows Shutdown","body":"<p>You need to respond to the <a href=\"https://learn.microsoft.com/en-us/windows/win32/shutdown/wm-queryendsession\" rel=\"nofollow noreferrer\"><code>WM_QUERYENDSESSION</code></a> message and return 0.</p>\n<p>You can do it with <a href=\"https://stackoverflow.com/questions/4901609/how-to-handle-wm-queryendsession-messages-with-jna\">JNA</a>.</p>\n<p>Another example here: <a href=\"https://github.com/mirror/jdownloader/blob/656fe1fdc9689ffe4067a2cab3bf11c54bbaf25d/src/org/jdownloader/osevents/windows/jna/ShutdownDetect.java\" rel=\"nofollow noreferrer\">https://github.com/mirror/jdownloader/blob/656fe1fdc9689ffe4067a2cab3bf11c54bbaf25d/src/org/jdownloader/osevents/windows/jna/ShutdownDetect.java</a></p>\n<pre><code>package org.jdownloader.osevents.windows.jna;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport javax.swing.JFrame;\n\nimport org.appwork.utils.swing.windowmanager.WindowManager;\nimport org.appwork.utils.swing.windowmanager.WindowManager.FrameState;\n\nimport com.sun.jna.Callback;\nimport com.sun.jna.Native;\nimport com.sun.jna.Structure;\nimport com.sun.jna.platform.win32.User32;\nimport com.sun.jna.platform.win32.WinDef;\nimport com.sun.jna.platform.win32.WinDef.DWORD;\nimport com.sun.jna.platform.win32.WinDef.HWND;\nimport com.sun.jna.platform.win32.WinDef.LPARAM;\nimport com.sun.jna.platform.win32.WinDef.LRESULT;\nimport com.sun.jna.platform.win32.WinDef.WPARAM;\nimport com.sun.jna.platform.win32.WinUser;\n\npublic class ShutdownDetect {\n    /**\n     * @see &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/aa376889.aspx&quot;&gt;WM_ENDSESSION reference&lt;/a&gt;\n     */\n    public static final int WM_ENDSESSION      = 0x16;\n    public static final int WM_QUERYENDSESSION = 0x11;\n\n    public interface IShutdownListener {\n        void onShutdown();\n    }\n\n    public static class CWPSSTRUCT extends Structure {\n        public LPARAM lParam;\n        public WPARAM wParam;\n        public DWORD  message;\n        public HWND   hwnd;\n\n        @Override\n        protected List getFieldOrder() {\n            return Arrays.asList(new String[] { &quot;lParam&quot;, &quot;wParam&quot;, &quot;message&quot;, &quot;hwnd&quot; });\n        }\n    }\n\n    public interface WinHookProc extends WinUser.HOOKPROC {\n        /**\n         * @see &lt;a href=&quot;http://msdn.microsoft.com/en-us/library/windows/desktop/ms644975(v=vs.85).aspx&quot;&gt;CallWndProc callback function&lt;/a&gt;\n         * @param nCode\n         *            is an action parameter. anything less than zero indicates I should ignore this call.\n         * @param wParam\n         *            Specifies whether the message was sent by the current thread. If the message was sent by the current thread, it is\n         *            nonzero; otherwise, it is zero\n         * @param hookProcStruct\n         *            A pointer to a CWPSTRUCT structure that contains details about the message.\n         * @return If nCode is less than zero, the hook procedure must return the value returned by CallNextHookEx.\n         */\n        WinDef.LRESULT callback(int nCode, WinDef.WPARAM wParam, CWPSSTRUCT hookProcStruct);\n    }\n\n    public static final class MyHookProc implements WinHookProc {\n        public IShutdownListener listener;\n        public WinUser.HHOOK     hhook;\n\n        @Override\n        public LRESULT callback(int nCode, WPARAM wParam, CWPSSTRUCT hookProcStruct) {\n            if (nCode &gt;= 0) {\n                System.out.println(hookProcStruct.message);\n                // tell the OS it's OK to shut down\n                if (hookProcStruct.message.longValue() == WM_QUERYENDSESSION) {\n                    System.out.println(&quot;WM_QUERYENDSESSION&quot;);\n                    return new LRESULT(1);\n                }\n                // process the actual shutting down message\n                if (hookProcStruct.message.longValue() == WM_ENDSESSION) {\n                    System.out.println(&quot;WM_ENDSESSION&quot;);\n                    listener.onShutdown();\n                    return new LRESULT(0); // return success\n                }\n            }\n            // pass the callback on to the next hook in the chain\n            return User32.INSTANCE.CallNextHookEx(hhook, nCode, wParam, hookProcStruct.getPointer());\n        }\n    }\n\n    public static void register(JFrame frame, final IShutdownListener listener) {\n        Native.setCallbackExceptionHandler(new Callback.UncaughtExceptionHandler() {\n            @Override\n            public void uncaughtException(Callback arg0, Throwable arg1) {\n                arg1.printStackTrace();\n            }\n        });\n\n        // get the window handle for the main window/frame\n        final HWND hwnd = new HWND();\n        hwnd.setPointer(Native.getComponentPointer(frame));\n\n        // clear the error value\n        Native.setLastError(0);\n\n        // retrieve the threadID associated with the main window/frame\n        int windowThreadID = User32.INSTANCE.GetWindowThreadProcessId(hwnd, null);\n        if (windowThreadID == 0) {\n            int x = Native.getLastError();\n            throw new IllegalStateException(&quot;error calling GetWindowThreadProcessId when installing machine-shutdown handler &quot; + x);\n        }\n\n        // clear the error value\n        Native.setLastError(0);\n\n        final MyHookProc proc = new MyHookProc();\n        proc.listener = listener;\n        proc.hhook = User32.INSTANCE.SetWindowsHookEx(4/* WH_CALLWNDPROCRET */, new MyHookProc(), null, windowThreadID/* dwThreadID */);\n\n        // null indicates failure\n        if (proc.hhook == null) {\n            int x = Native.getLastError();\n            throw new IllegalStateException(&quot;error calling SetWindowsHookEx when installing machine-shutdown handler &quot; + x);\n        }\n        System.out.println(&quot;Installed shutdown-detect hook procedure&quot;);\n    }\n\n    public static void main(String[] args) {\n        final JFrame frame = new JFrame(&quot;Shutdown Test&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        WindowManager.getInstance().setVisible(frame, true,FrameState.OS_DEFAULT);\n\n        // register(frame, new IShutdownListener() {\n        // @Override\n        // public void onShutdown() {\n        // try {\n        // File file;\n        // PrintStream out = new PrintStream(file = new File(&quot;C:/shutdownTest.txt&quot;));\n        // System.out.println(&quot;shutting down&quot;);\n        // out.println(&quot;shutting down&quot;);\n        // out.close();\n        // } catch (IOException ex) {\n        // }\n        // System.exit(1);\n        // }\n        // });\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1676969305,"post_id":75517931,"comment_id":133238915,"body_markdown":"interesting, but please add POM/classpath/jars you used to compile this code.","body":"interesting, but please add POM/classpath/jars you used to compile this code."},{"owner":{"account_id":7636331,"reputation":53,"user_id":5789789,"display_name":"Kajisensi"},"score":0,"creation_date":1676972149,"post_id":75517931,"comment_id":133239800,"body_markdown":"https://github.com/java-native-access/jna Here you can download jna and jna-platform. I used latest (5.13.0 currently). I added them to my project with eclipse by &quot;Add jars&quot; But you could do it by just adding them to your POM","body":"<a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">github.com/java-native-access/jna</a> Here you can download jna and jna-platform. I used latest (5.13.0 currently). I added them to my project with eclipse by &quot;Add jars&quot; But you could do it by just adding them to your POM"},{"owner":{"account_id":7636331,"reputation":53,"user_id":5789789,"display_name":"Kajisensi"},"score":0,"creation_date":1676973491,"post_id":75517931,"comment_id":133240206,"body_markdown":"Also loadLibrary() is deprecated but still kept. Can be changed to load() without problems.","body":"Also loadLibrary() is deprecated but still kept. Can be changed to load() without problems."}],"tags":[],"owner":{"account_id":7636331,"reputation":53,"user_id":5789789,"display_name":"Kajisensi"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676974955,"creation_date":1676968192,"answer_id":75517931,"question_id":61017025,"body_markdown":"After battling with this problem few weeks and finally solving it i wanted to share the code here. Here is minimal example using java 1.8 and JNA 5.13.0 (also platform).\r\n\r\nTIP: I had problem using this code first (unsatisfied links). I discovered i had library (jar file) on my JDK which had older JNA in it. Make sure you only have 1 version of JNA in your project.\r\n\r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.platform.win32.WinDef.*;\r\n    import com.sun.jna.platform.win32.WinUser;\r\n    import com.sun.jna.platform.win32.WinUser.*;\r\n    import com.sun.jna.win32.W32APIOptions;\r\n    import com.sun.jna.platform.win32.User32;\r\n\r\n    public class RealShutdownBlocker {\r\n\tprivate static final int WM_QUERYENDSESSION = 0x0011;\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tUser32 user32 = Native.loadLibrary(&quot;user32&quot;, User32.class, W32APIOptions.DEFAULT_OPTIONS);\r\n\r\n\t\t\tWindowProc callback = new WindowProc() {\r\n\t\t\t\tpublic LRESULT callback(HWND hWnd, int message, WPARAM wParam, LPARAM lParam) {\r\n\t\t\t\t\tif (message == WM_QUERYENDSESSION) {\r\n\t\t\t\t\t\treturn new LRESULT(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn user32.DefWindowProc(hWnd, message, wParam, lParam);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tWNDCLASSEX windowClass = new WNDCLASSEX();\r\n\t\t\twindowClass.hInstance = null;\r\n\t\t\twindowClass.lpszClassName = &quot;BlockShutdown&quot;;\r\n\t\t\twindowClass.lpfnWndProc = callback;\r\n\t\t\tuser32.RegisterClassEx(windowClass);\r\n\r\n\t\t\tHWND hwnd = user32.CreateWindowEx(0, &quot;BlockShutdown&quot;, &quot;This prevents windows shutdown&quot;, WinUser.WS_OVERLAPPEDWINDOW, 100, 100, 640,\r\n\t\t\t\t\t480, null, null, null, null);\r\n\r\n            // needs to be SW_SHOW for this to work\r\n\t\t\tuser32.ShowWindow(hwnd, WinUser.SW_SHOW);\r\n\r\n\t\t\tMSG msg = new MSG();\r\n\t\t\twhile (user32.GetMessage(msg, null, 0, 0) != 0) {\r\n\t\t\t\tuser32.TranslateMessage(msg);\r\n\t\t\t\tuser32.DispatchMessage(msg);\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n\r\nEDIT: No need for kernel32. Deleted it.","title":"Java Stop Windows Shutdown","body":"<p>After battling with this problem few weeks and finally solving it i wanted to share the code here. Here is minimal example using java 1.8 and JNA 5.13.0 (also platform).</p>\n<p>TIP: I had problem using this code first (unsatisfied links). I discovered i had library (jar file) on my JDK which had older JNA in it. Make sure you only have 1 version of JNA in your project.</p>\n<pre><code>import com.sun.jna.Native;\nimport com.sun.jna.platform.win32.WinDef.*;\nimport com.sun.jna.platform.win32.WinUser;\nimport com.sun.jna.platform.win32.WinUser.*;\nimport com.sun.jna.win32.W32APIOptions;\nimport com.sun.jna.platform.win32.User32;\n\npublic class RealShutdownBlocker {\nprivate static final int WM_QUERYENDSESSION = 0x0011;\n\n    public static void main(String[] args) {\n        User32 user32 = Native.loadLibrary(&quot;user32&quot;, User32.class, W32APIOptions.DEFAULT_OPTIONS);\n\n        WindowProc callback = new WindowProc() {\n            public LRESULT callback(HWND hWnd, int message, WPARAM wParam, LPARAM lParam) {\n                if (message == WM_QUERYENDSESSION) {\n                    return new LRESULT(0);\n                }\n                return user32.DefWindowProc(hWnd, message, wParam, lParam);\n            }\n        };\n        \n        WNDCLASSEX windowClass = new WNDCLASSEX();\n        windowClass.hInstance = null;\n        windowClass.lpszClassName = &quot;BlockShutdown&quot;;\n        windowClass.lpfnWndProc = callback;\n        user32.RegisterClassEx(windowClass);\n\n        HWND hwnd = user32.CreateWindowEx(0, &quot;BlockShutdown&quot;, &quot;This prevents windows shutdown&quot;, WinUser.WS_OVERLAPPEDWINDOW, 100, 100, 640,\n                480, null, null, null, null);\n\n        // needs to be SW_SHOW for this to work\n        user32.ShowWindow(hwnd, WinUser.SW_SHOW);\n\n        MSG msg = new MSG();\n        while (user32.GetMessage(msg, null, 0, 0) != 0) {\n            user32.TranslateMessage(msg);\n            user32.DispatchMessage(msg);\n        }\n    }\n}\n</code></pre>\n<p>EDIT: No need for kernel32. Deleted it.</p>\n"},{"tags":[],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695420394,"creation_date":1695420394,"answer_id":77160887,"question_id":61017025,"body_markdown":"In newer JDK versions you can now use [Desktop::disableSuddenTermination][1] from the AWT API to prevent Windows logout / shutdown / restart. That&#39;ll make it return `FALSE` in response to the `WM_QUERYENDSESSION` message. See [awt_Toolkit.cpp][2] for implementation details.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Desktop.html#disableSuddenTermination()\r\n  [2]: https://github.com/JetBrains/JetBrainsRuntime/blob/8845e3aa8ada1562db459cdb92ca62f1839158f3/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1314","title":"Java Stop Windows Shutdown","body":"<p>In newer JDK versions you can now use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Desktop.html#disableSuddenTermination()\" rel=\"nofollow noreferrer\">Desktop::disableSuddenTermination</a> from the AWT API to prevent Windows logout / shutdown / restart. That'll make it return <code>FALSE</code> in response to the <code>WM_QUERYENDSESSION</code> message. See <a href=\"https://github.com/JetBrains/JetBrainsRuntime/blob/8845e3aa8ada1562db459cdb92ca62f1839158f3/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1314\" rel=\"nofollow noreferrer\">awt_Toolkit.cpp</a> for implementation details.</p>\n"}],"owner":{"account_id":15772332,"reputation":33,"user_id":11381015,"display_name":"Mitch McCollum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":61017083,"answer_count":3,"score":0,"last_activity_date":1695423657,"creation_date":1585933927,"question_id":61017025,"body_markdown":"I have a odd problem. I want to detect when windows wants to shutdown and stop it from shutting down using java. I thought about using a shutdown hook and just run a command shutdown /a however it doesnt seem to be working.","title":"Java Stop Windows Shutdown","body":"<p>I have a odd problem. I want to detect when windows wants to shutdown and stop it from shutting down using java. I thought about using a shutdown hook and just run a command shutdown /a however it doesnt seem to be working.</p>\n"},{"tags":["java","winapi","jna"],"answers":[{"tags":[],"owner":{"account_id":1230683,"reputation":21,"user_id":1195359,"display_name":"The Vanguardian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328638086,"creation_date":1328638086,"answer_id":9181446,"question_id":4901609,"body_markdown":"Make sure you have the jar files for JNA in your environment.  Both jna.jar and platform.jar must be there, otherwise the reference will fail.  The other thing is, the dll files you use thru JNA must be in your environment (such as user32.dll) if you plan to load them.","title":"How to handle WM_QUERYENDSESSION messages with JNA","body":"<p>Make sure you have the jar files for JNA in your environment.  Both jna.jar and platform.jar must be there, otherwise the reference will fail.  The other thing is, the dll files you use thru JNA must be in your environment (such as user32.dll) if you plan to load them.</p>\n"},{"tags":[],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695422612,"creation_date":1695422612,"answer_id":77160995,"question_id":4901609,"body_markdown":"Still no public API in 2023, but setting a custom handler for `SIGTERM` via `sun.misc.Signal` does allow you to handle `WM_QUERYENDSESSION` messages with recent JDK releases:\r\nhttps://stackoverflow.com/a/77160942/1514467","title":"How to handle WM_QUERYENDSESSION messages with JNA","body":"<p>Still no public API in 2023, but setting a custom handler for <code>SIGTERM</code> via <code>sun.misc.Signal</code> does allow you to handle <code>WM_QUERYENDSESSION</code> messages with recent JDK releases:\n<a href=\"https://stackoverflow.com/a/77160942/1514467\">https://stackoverflow.com/a/77160942/1514467</a></p>\n"}],"owner":{"account_id":37410,"reputation":193,"user_id":106968,"display_name":"Nicu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3269,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1695422612,"creation_date":1296844297,"question_id":4901609,"body_markdown":"I want to catch WM_QUERYENDSESSION messages in Java with JNA so that I can execute a shutdown method because Runtime#addShutdownHook(Thread) doesn&#39;t work on Windows [1]. I know this can be done since I&#39;ve seen it implemented with JNIWrapper but I would like to have a JNA-based solution.\r\n\r\nJNIWrapper solution\r\n\r\n\timport java.io.File;\r\n\timport java.io.RandomAccessFile;\r\n\r\n\timport javax.swing.JFrame;\r\n\r\n\timport com.jniwrapper.win32.Msg;\r\n\timport com.jniwrapper.win32.ui.WindowMessage;\r\n\timport com.jniwrapper.win32.ui.WindowMessageListener;\r\n\timport com.jniwrapper.win32.ui.WindowProc;\r\n\timport com.jniwrapper.win32.ui.Wnd;\r\n\r\n\tpublic class ShutdownJNIWrapper {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tfinal JFrame frame = new JFrame(&quot;Shutdown Test&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.setVisible(true);\r\n\t\t\t\r\n\t\t\tWnd frameHandle = new Wnd(frame);\r\n\t\t\tWindowProc frameWindowProc = new WindowProc(frameHandle);\r\n\t\t\tframeWindowProc.addMessageListener(new WindowMessageListener() {\r\n\t\t\t\tpublic boolean canHandle(WindowMessage windowMessage, boolean beforeWindowProc) {\r\n\t\t\t\t\treturn windowMessage.getMsg() == Msg.WM_QUERYENDSESSION &amp;&amp; beforeWindowProc;\r\n\t\t\t\t}\r\n\t\t\t \r\n\t\t\t\tpublic int handle(WindowMessage windowMessage) {\r\n\t\t\t\t\tdoSomething();\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tprivate void doSomething() {\r\n\t\t\t\t\tfinal File file = new File(&quot;shutdown-jniwrapper.txt&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tRandomAccessFile raf = new RandomAccessFile(file, &quot;rw&quot;);\r\n\t\t\t\t\t\traf.writeUTF(&quot;quit&quot;);\r\n\t\t\t\t\t\traf.close();\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tframeWindowProc.substitute();\r\n\t\t}\r\n\t}\r\n\r\n\r\nI tried to create my own User32 class with a WindowProc callback and a SetWindowLong method that accepts it as a parameter but I get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Error looking up function &#39;SetWindowLong&#39;: The specified procedure could not be found.\r\n\r\n    at com.sun.jna.Function.&lt;init&gt;(Function.java:179)\r\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:344)\r\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:324)\r\n    at com.sun.jna.Library$Handler.invoke(Library.java:203)\r\n    at $Proxy0.SetWindowLong(Unknown Source)\r\n    at ShutdownJNA.main(ShutdownJNA.java:34)\r\n\r\nHere&#39;s my User32 class:\r\n\r\n\timport com.sun.jna.platform.win32.WinDef.HWND;\r\n\timport com.sun.jna.platform.win32.WinDef.LPARAM;\r\n\timport com.sun.jna.platform.win32.WinDef.LRESULT;\r\n\timport com.sun.jna.platform.win32.WinDef.WPARAM;\r\n\timport com.sun.jna.win32.StdCallLibrary;\r\n\r\n\tpublic interface MyUser32 extends StdCallLibrary { \r\n\t\t\r\n\t\tpublic static final int WM_QUERYENDSESSION = 0x11;\r\n\t\t\r\n\t\tpublic static int GWL_WNDPROC = -4;\r\n\r\n\t\tinterface WindowProc extends StdCallCallback {\r\n\t\t\tLRESULT callback(HWND hWnd, int uMsg, WPARAM wParam, LPARAM lParam);\r\n\t\t}\r\n\r\n\t\tint SetWindowLong(HWND hWnd, int nIndex, int dwNewLong);\r\n\t\t\r\n\t\tint SetWindowLong(HWND hWnd, int nIndex, WindowProc dwNewLong);\r\n\t};\r\n\r\nand the class that tries to put everything together:\r\n\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\r\n\timport com.sun.jna.Native;\r\n\timport com.sun.jna.platform.win32.WinDef.HWND;\r\n\timport com.sun.jna.platform.win32.WinDef.LPARAM;\r\n\timport com.sun.jna.platform.win32.WinDef.LRESULT;\r\n\timport com.sun.jna.platform.win32.WinDef.WPARAM;\r\n\r\n\r\n\tpublic class ShutdownJNA extends JPanel {\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tfinal JFrame frame = new JFrame(&quot;Shutdown Test&quot;);\r\n\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tframe.setVisible(true);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tHWND hwnd = new HWND();\r\n\t\t\t\thwnd.setPointer(Native.getComponentPointer(frame));\r\n\t\t\t\t\r\n\t\t\t\tMyUser32.WindowProc proc = new MyUser32.WindowProc() {\r\n\t\t\t\t\tpublic LRESULT callback(HWND wnd, int msg, WPARAM param, LPARAM param2) {\r\n\t\t\t\t\t\tif (msg == MyUser32.WM_QUERYENDSESSION) {}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn new LRESULT(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tMyUser32 user32 = (MyUser32)Native.loadLibrary(&quot;user32&quot;, MyUser32.class); //$NON-NLS-1$\r\n\t\t\t\tuser32.SetWindowLong(hwnd, MyUser32.GWL_WNDPROC, proc);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n[1] https://stackoverflow.com/questions/1148295/the-shutdown-hook-isnt-executed-when-the-application-is-launched-using-javaw-exe","title":"How to handle WM_QUERYENDSESSION messages with JNA","body":"<p>I want to catch WM_QUERYENDSESSION messages in Java with JNA so that I can execute a shutdown method because Runtime#addShutdownHook(Thread) doesn't work on Windows [1]. I know this can be done since I've seen it implemented with JNIWrapper but I would like to have a JNA-based solution.</p>\n\n<p>JNIWrapper solution</p>\n\n<pre><code>import java.io.File;\nimport java.io.RandomAccessFile;\n\nimport javax.swing.JFrame;\n\nimport com.jniwrapper.win32.Msg;\nimport com.jniwrapper.win32.ui.WindowMessage;\nimport com.jniwrapper.win32.ui.WindowMessageListener;\nimport com.jniwrapper.win32.ui.WindowProc;\nimport com.jniwrapper.win32.ui.Wnd;\n\npublic class ShutdownJNIWrapper {\n\n    public static void main(String[] args) {\n        final JFrame frame = new JFrame(\"Shutdown Test\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n\n        Wnd frameHandle = new Wnd(frame);\n        WindowProc frameWindowProc = new WindowProc(frameHandle);\n        frameWindowProc.addMessageListener(new WindowMessageListener() {\n            public boolean canHandle(WindowMessage windowMessage, boolean beforeWindowProc) {\n                return windowMessage.getMsg() == Msg.WM_QUERYENDSESSION &amp;&amp; beforeWindowProc;\n            }\n\n            public int handle(WindowMessage windowMessage) {\n                doSomething();\n\n                return 0;\n            }\n\n            private void doSomething() {\n                final File file = new File(\"shutdown-jniwrapper.txt\");\n\n                try {\n                    RandomAccessFile raf = new RandomAccessFile(file, \"rw\");\n                    raf.writeUTF(\"quit\");\n                    raf.close();\n                } catch (Exception e) {\n                }\n            }\n        });\n        frameWindowProc.substitute();\n    }\n}\n</code></pre>\n\n<p>I tried to create my own User32 class with a WindowProc callback and a SetWindowLong method that accepts it as a parameter but I get the following exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: Error looking up function 'SetWindowLong': The specified procedure could not be found.\n\nat com.sun.jna.Function.&lt;init&gt;(Function.java:179)\nat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:344)\nat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:324)\nat com.sun.jna.Library$Handler.invoke(Library.java:203)\nat $Proxy0.SetWindowLong(Unknown Source)\nat ShutdownJNA.main(ShutdownJNA.java:34)\n</code></pre>\n\n<p>Here's my User32 class:</p>\n\n<pre><code>import com.sun.jna.platform.win32.WinDef.HWND;\nimport com.sun.jna.platform.win32.WinDef.LPARAM;\nimport com.sun.jna.platform.win32.WinDef.LRESULT;\nimport com.sun.jna.platform.win32.WinDef.WPARAM;\nimport com.sun.jna.win32.StdCallLibrary;\n\npublic interface MyUser32 extends StdCallLibrary { \n\n    public static final int WM_QUERYENDSESSION = 0x11;\n\n    public static int GWL_WNDPROC = -4;\n\n    interface WindowProc extends StdCallCallback {\n        LRESULT callback(HWND hWnd, int uMsg, WPARAM wParam, LPARAM lParam);\n    }\n\n    int SetWindowLong(HWND hWnd, int nIndex, int dwNewLong);\n\n    int SetWindowLong(HWND hWnd, int nIndex, WindowProc dwNewLong);\n};\n</code></pre>\n\n<p>and the class that tries to put everything together:</p>\n\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JPanel;\n\nimport com.sun.jna.Native;\nimport com.sun.jna.platform.win32.WinDef.HWND;\nimport com.sun.jna.platform.win32.WinDef.LPARAM;\nimport com.sun.jna.platform.win32.WinDef.LRESULT;\nimport com.sun.jna.platform.win32.WinDef.WPARAM;\n\n\npublic class ShutdownJNA extends JPanel {\n\n    public static void main(String[] args) {\n        final JFrame frame = new JFrame(\"Shutdown Test\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n\n        try {\n            HWND hwnd = new HWND();\n            hwnd.setPointer(Native.getComponentPointer(frame));\n\n            MyUser32.WindowProc proc = new MyUser32.WindowProc() {\n                public LRESULT callback(HWND wnd, int msg, WPARAM param, LPARAM param2) {\n                    if (msg == MyUser32.WM_QUERYENDSESSION) {}\n\n                    return new LRESULT(0);\n                }\n            };\n\n            MyUser32 user32 = (MyUser32)Native.loadLibrary(\"user32\", MyUser32.class); //$NON-NLS-1$\n            user32.SetWindowLong(hwnd, MyUser32.GWL_WNDPROC, proc);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>[1] <a href=\"https://stackoverflow.com/questions/1148295/the-shutdown-hook-isnt-executed-when-the-application-is-launched-using-javaw-exe\">The shutdown hook isn&#39;t executed when the application is launched using javaw.exe</a></p>\n"},{"tags":["java","swing","operating-system"],"comments":[{"owner":{"account_id":1234,"reputation":27332,"user_id":1638,"accept_rate":44,"display_name":"mmattax"},"score":0,"creation_date":1221569786,"post_id":71842,"comment_id":7351,"body_markdown":"Are you using the shutdown hook from java.lang.runtime ?","body":"Are you using the shutdown hook from java.lang.runtime ?"}],"answers":[{"tags":[],"owner":{"account_id":4309,"reputation":7967,"user_id":6414,"accept_rate":57,"display_name":"Henry B"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221569855,"creation_date":1221569855,"answer_id":71907,"question_id":71842,"body_markdown":"&lt;a href=&quot;https://stackoverflow.com/questions/61692/how-do-i-get-my-java-application-to-shutdown-nicely-in-windows&quot;&gt;how-do-i-get-my-java-application-to-shutdown-nicely-in-windows&lt;/a&gt;\r\n\r\nThat might be of help","title":"How can I detect from a Swing app that the PC is being shut-down?","body":"<p><a href=\"https://stackoverflow.com/questions/61692/how-do-i-get-my-java-application-to-shutdown-nicely-in-windows\">how-do-i-get-my-java-application-to-shutdown-nicely-in-windows</a></p>\n\n<p>That might be of help</p>\n"},{"tags":[],"owner":{"account_id":6961,"reputation":1291,"user_id":11870,"accept_rate":100,"display_name":"Cory"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221569945,"creation_date":1221569945,"answer_id":71921,"question_id":71842,"body_markdown":"The above seems to be the better answer.\r\n\r\nI can&#39;t find any good information on detecting window shutdown events. I guess the best possible method would be to detect weather your application is trying to close, using a window closing event or the like then ask the question.\r\n\r\nhttp://www.javalobby.org/java/forums/t17933","title":"How can I detect from a Swing app that the PC is being shut-down?","body":"<p>The above seems to be the better answer.</p>\n\n<p>I can't find any good information on detecting window shutdown events. I guess the best possible method would be to detect weather your application is trying to close, using a window closing event or the like then ask the question.</p>\n\n<p><a href=\"http://www.javalobby.org/java/forums/t17933\" rel=\"nofollow noreferrer\">http://www.javalobby.org/java/forums/t17933</a></p>\n"},{"tags":[],"owner":{"account_id":5040,"reputation":21365,"user_id":7898,"accept_rate":92,"display_name":"Jean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1221569956,"creation_date":1221569956,"answer_id":71924,"question_id":71842,"body_markdown":"Look for signal handling in java. when Windows closes it will send a signal to the application asking it to terminate most likely a sigterm\r\n\r\nsee [here][1] for more about this (I am not the owner of the website)\r\n\r\n\r\n  [1]: http://twit88.com/blog/2008/02/06/java-signal-handling/","title":"How can I detect from a Swing app that the PC is being shut-down?","body":"<p>Look for signal handling in java. when Windows closes it will send a signal to the application asking it to terminate most likely a sigterm</p>\n\n<p>see <a href=\"http://twit88.com/blog/2008/02/06/java-signal-handling/\" rel=\"nofollow noreferrer\">here</a> for more about this (I am not the owner of the website)</p>\n"},{"tags":[],"owner":{"account_id":7047,"reputation":2753,"user_id":12040,"accept_rate":77,"display_name":"Aidos"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1357963904,"creation_date":1221570055,"answer_id":71939,"question_id":71842,"body_markdown":"Write some JNI code to WM_QUERYENDSESSION message. You can get details for this from the MSDN documentation or by googling it.\r\n\r\nIf you don&#39;t want to write too much C++ code to do this I can recommend the JNA library [click here](https://jna.dev.java.net/). Which gives you some nice Java abstractions for C code.","title":"How can I detect from a Swing app that the PC is being shut-down?","body":"<p>Write some JNI code to WM_QUERYENDSESSION message. You can get details for this from the MSDN documentation or by googling it.</p>\n\n<p>If you don't want to write too much C++ code to do this I can recommend the JNA library <a href=\"https://jna.dev.java.net/\" rel=\"nofollow noreferrer\">click here</a>. Which gives you some nice Java abstractions for C code.</p>\n"},{"tags":[],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695422521,"creation_date":1695422521,"answer_id":77160991,"question_id":71842,"body_markdown":"Still no public API in 2023, but setting a custom handler for `SIGTERM` via `sun.misc.Signal` does work with recent JDK releases:\r\nhttps://stackoverflow.com/a/77160942/1514467","title":"How can I detect from a Swing app that the PC is being shut-down?","body":"<p>Still no public API in 2023, but setting a custom handler for <code>SIGTERM</code> via <code>sun.misc.Signal</code> does work with recent JDK releases:\n<a href=\"https://stackoverflow.com/a/77160942/1514467\">https://stackoverflow.com/a/77160942/1514467</a></p>\n"}],"owner":{"account_id":5138,"reputation":375,"user_id":8118,"accept_rate":57,"display_name":"David Kerr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1884,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71939,"answer_count":5,"score":2,"last_activity_date":1695422521,"creation_date":1221569325,"question_id":71842,"body_markdown":"Well behaved windows programs need to allow users to save their work when they are shutting the PC down.\r\n\r\nHow can I make my app detect the shutdown event? Any solution should allow the user to abort the shutdown if user selects, say &quot;Cancel&quot;.\r\n\r\nThe normal Swing window closing hook doesn&#39;t work, nor does adding a shutdown hook.\r\n\r\nOn testing, the methods of WindowListener (windowClosing,windowClosed, etc) do not get called.\r\n\r\nThe answer I have accepted requires the use of platform specific code (JNI to register for WM_QUERYENDSESSION ). Isn&#39;t this a bug on Swing?\r\n\r\nSee http://forums.sun.com/thread.jspa?threadID=481807&amp;messageID=2246870\r\n","title":"How can I detect from a Swing app that the PC is being shut-down?","body":"<p>Well behaved windows programs need to allow users to save their work when they are shutting the PC down.</p>\n\n<p>How can I make my app detect the shutdown event? Any solution should allow the user to abort the shutdown if user selects, say \"Cancel\".</p>\n\n<p>The normal Swing window closing hook doesn't work, nor does adding a shutdown hook.</p>\n\n<p>On testing, the methods of WindowListener (windowClosing,windowClosed, etc) do not get called.</p>\n\n<p>The answer I have accepted requires the use of platform specific code (JNI to register for WM_QUERYENDSESSION ). Isn't this a bug on Swing?</p>\n\n<p>See <a href=\"http://forums.sun.com/thread.jspa?threadID=481807&amp;messageID=2246870\" rel=\"nofollow noreferrer\">http://forums.sun.com/thread.jspa?threadID=481807&amp;messageID=2246870</a></p>\n"},{"tags":["java","windows","events","shutdown-hook"],"answers":[{"comments":[{"owner":{"account_id":8709,"reputation":5827,"user_id":15816,"display_name":"Chris Mazzola"},"score":0,"creation_date":1233855802,"post_id":512622,"comment_id":330546,"body_markdown":"Unfortunately, using a shutdown hook in Runtime does not work when using javaw.","body":"Unfortunately, using a shutdown hook in Runtime does not work when using javaw."},{"owner":{"account_id":24529,"reputation":5253,"user_id":62459,"accept_rate":100,"display_name":"newgre"},"score":1,"creation_date":1233856435,"post_id":512622,"comment_id":330591,"body_markdown":"It seems to be a known bug, see [here](http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4486580)","body":"It seems to be a known bug, see <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4486580\" rel=\"nofollow noreferrer\">here</a>"}],"tags":[],"owner":{"account_id":24529,"reputation":5253,"user_id":62459,"accept_rate":100,"display_name":"newgre"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1233772866,"creation_date":1233771687,"answer_id":512622,"question_id":512555,"body_markdown":"My best guess would be to use a [ShutdownHook][1]. You can register a thread which is invoked as soon as the JVM is beeing shut down.\r\n\r\n\r\n**Edit:**   \r\nIf you want to realize this under windows, you could create an invisible window and react on the [WM_QUERYENDSESSION][2] message which is sent by the OS upon user log off or system shutdown.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Runtime.html#addShutdownHook(java.lang.Thread)\r\n  [2]: http://msdn.microsoft.com/en-us/library/aa376890(VS.85).aspx","title":"Detect windows logout event in Java application","body":"<p>My best guess would be to use a <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Runtime.html#addShutdownHook(java.lang.Thread)\" rel=\"nofollow noreferrer\">ShutdownHook</a>. You can register a thread which is invoked as soon as the JVM is beeing shut down.</p>\n\n<p><strong>Edit:</strong><br>\nIf you want to realize this under windows, you could create an invisible window and react on the <a href=\"http://msdn.microsoft.com/en-us/library/aa376890(VS.85).aspx\" rel=\"nofollow noreferrer\">WM_QUERYENDSESSION</a> message which is sent by the OS upon user log off or system shutdown.</p>\n"},{"tags":[],"owner":{"account_id":18062,"reputation":2058,"user_id":41039,"display_name":"James"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1233772130,"creation_date":1233772130,"answer_id":512660,"question_id":512555,"body_markdown":"I think you want to look at [Runtime.addShutdownHook()][1].  This gives you the last-ditch opportunity to do things before the JVM shuts down.  This lets you detect an actual logout where all of the applications are shutdown, but not they just temporarily switch users, leaving their state ready to come back to.  However, as a warning, whatever you plan on doing during the shutdown process needs to be brief since the OS may SIGKILL (or the equivalent) on you at any time, which halts the JVM immediately.\r\n\r\nIf this isn&#39;t what you need, you&#39;re probably going to need to use JNI to register a native listener.  As for the other windows events, the AWT library provides a number of classes for implementing the listeners that most normal apps would be interested in.  In this case, you might be interested in a [FocusEvent][2].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/index.html?java/lang/Runtime.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/awt/event/FocusEvent.html","title":"Detect windows logout event in Java application","body":"<p>I think you want to look at <a href=\"http://java.sun.com/javase/6/docs/api/index.html?java/lang/Runtime.html\" rel=\"noreferrer\">Runtime.addShutdownHook()</a>.  This gives you the last-ditch opportunity to do things before the JVM shuts down.  This lets you detect an actual logout where all of the applications are shutdown, but not they just temporarily switch users, leaving their state ready to come back to.  However, as a warning, whatever you plan on doing during the shutdown process needs to be brief since the OS may SIGKILL (or the equivalent) on you at any time, which halts the JVM immediately.</p>\n\n<p>If this isn't what you need, you're probably going to need to use JNI to register a native listener.  As for the other windows events, the AWT library provides a number of classes for implementing the listeners that most normal apps would be interested in.  In this case, you might be interested in a <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/event/FocusEvent.html\" rel=\"noreferrer\">FocusEvent</a>.</p>\n"},{"comments":[{"owner":{"account_id":241467,"reputation":1136,"user_id":512305,"accept_rate":93,"display_name":"Peacelyk"},"score":1,"creation_date":1447171126,"post_id":1890960,"comment_id":55041973,"body_markdown":"Provided link is dead!","body":"Provided link is dead!"}],"tags":[],"owner":{"account_id":81601,"reputation":21,"user_id":229981,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260566589,"creation_date":1260566589,"answer_id":1890960,"question_id":512555,"body_markdown":"There seems to be a lot of people that are running into this issue. Although, the people on the Java project obviously don&#39;t consider this much of a priority (The original ticket was opened almost 10 years ago).\r\n\r\nI have had some success with the work-around posted in bug 4486580 which uses the hidden JWindow. However, this work-around is considered unreliable. I also found this little bit of discussion started by cowwoc who posted the work-around: http://forums.java.net/jive/thread.jspa?threadID=46716. This work-around is better than nothing, but it would be nice to block a windows logout until the program has definitely finished cleanup. You don&#39;t want to be part-way through the process when the process is terminated.\r\n\r\nThe most recent bug opened surrounding this issue is 6798985. It seems to have gone mostly unnoticed.","title":"Detect windows logout event in Java application","body":"<p>There seems to be a lot of people that are running into this issue. Although, the people on the Java project obviously don't consider this much of a priority (The original ticket was opened almost 10 years ago).</p>\n\n<p>I have had some success with the work-around posted in bug 4486580 which uses the hidden JWindow. However, this work-around is considered unreliable. I also found this little bit of discussion started by cowwoc who posted the work-around: <a href=\"http://forums.java.net/jive/thread.jspa?threadID=46716\" rel=\"nofollow noreferrer\">http://forums.java.net/jive/thread.jspa?threadID=46716</a>. This work-around is better than nothing, but it would be nice to block a windows logout until the program has definitely finished cleanup. You don't want to be part-way through the process when the process is terminated.</p>\n\n<p>The most recent bug opened surrounding this issue is 6798985. It seems to have gone mostly unnoticed.</p>\n"},{"tags":[],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695422016,"creation_date":1695422016,"answer_id":77160964,"question_id":512555,"body_markdown":"It&#39;s `2023` and there&#39;s still no standard API for this, but using a custom `sun.misc.SignalHandler` for `SIGTERM` will allow your application to run some code before logout or shutdown:\r\nhttps://stackoverflow.com/a/77160942/1514467","title":"Detect windows logout event in Java application","body":"<p>It's <code>2023</code> and there's still no standard API for this, but using a custom <code>sun.misc.SignalHandler</code> for <code>SIGTERM</code> will allow your application to run some code before logout or shutdown:\n<a href=\"https://stackoverflow.com/a/77160942/1514467\">https://stackoverflow.com/a/77160942/1514467</a></p>\n"}],"owner":{"account_id":8709,"reputation":5827,"user_id":15816,"display_name":"Chris Mazzola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":512660,"answer_count":4,"score":2,"last_activity_date":1695422016,"creation_date":1233770524,"question_id":512555,"body_markdown":"Is there a library that I can use with Java to listen for user logout and possibly other Windows events?  (Even better if it supports multiple platforms!)\r\n\r\nI remember reading about a library of this sort a number of years ago, but can&#39;t seem to find it now.  I&#39;ve seen other threads to do essentially the same thing using Python with win32ts.\r\n\r\nAlso better if it&#39;s free and/or open source.\r\n\r\nThanks.\r\n\r\n\r\n**Note**:  The candidate solution of using `Runtime.getRuntime().addShutdownHook(Thread)` does not work correctly with `javaw`.  I am still looking for a solution that will work with javaw.  See java bug ids [4486580][1] and [4302814][2].  Thanks  --cam\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4486580\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4302814","title":"Detect windows logout event in Java application","body":"<p>Is there a library that I can use with Java to listen for user logout and possibly other Windows events?  (Even better if it supports multiple platforms!)</p>\n<p>I remember reading about a library of this sort a number of years ago, but can't seem to find it now.  I've seen other threads to do essentially the same thing using Python with win32ts.</p>\n<p>Also better if it's free and/or open source.</p>\n<p>Thanks.</p>\n<p><strong>Note</strong>:  The candidate solution of using <code>Runtime.getRuntime().addShutdownHook(Thread)</code> does not work correctly with <code>javaw</code>.  I am still looking for a solution that will work with javaw.  See java bug ids <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4486580\" rel=\"nofollow noreferrer\">4486580</a> and <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4302814\" rel=\"nofollow noreferrer\">4302814</a>.  Thanks  --cam</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695371115,"creation_date":1695371115,"answer_id":77155963,"question_id":77154201,"body_markdown":"Javas `new` operator doesn&#39;t know about or use annotations, so as soon as you use that, you will have to call any initialization methods on your own.\r\n\r\nBut I see a bigger problem here: you create an object with `new` that seems to be unusable without calling the `initialize` method. Why don&#39;t you call `initialize` directly in the constructor? As the method is public, it could be overridden by a subclass and then it&#39;s code will probably not be executed, which could lead to an inconsistent state.\r\n\r\nIf you must keep it that way, you could create a bean for the `ExampleEnvironmentClass`, probably multiple ones, with `@Qualifier` annotations, to resemble various environments.\r\nAnd remove the bean for `ExampleManager`.\r\n\r\nIf `ExampleManagerImpl` is the only class that implements `ExampleManager`, Spring will take care of instanciating it and then also should execute the `@PostConstruct` annotated method.","title":"Manuel injected Spring Bean Does not Invoke PostConstructor","body":"<p>Javas <code>new</code> operator doesn't know about or use annotations, so as soon as you use that, you will have to call any initialization methods on your own.</p>\n<p>But I see a bigger problem here: you create an object with <code>new</code> that seems to be unusable without calling the <code>initialize</code> method. Why don't you call <code>initialize</code> directly in the constructor? As the method is public, it could be overridden by a subclass and then it's code will probably not be executed, which could lead to an inconsistent state.</p>\n<p>If you must keep it that way, you could create a bean for the <code>ExampleEnvironmentClass</code>, probably multiple ones, with <code>@Qualifier</code> annotations, to resemble various environments.\nAnd remove the bean for <code>ExampleManager</code>.</p>\n<p>If <code>ExampleManagerImpl</code> is the only class that implements <code>ExampleManager</code>, Spring will take care of instanciating it and then also should execute the <code>@PostConstruct</code> annotated method.</p>\n"},{"tags":[],"owner":{"account_id":2447905,"reputation":19,"user_id":2134798,"display_name":"Hasan &#220;nl&#252; KILIN&#199;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695420517,"creation_date":1695373706,"answer_id":77156251,"question_id":77154201,"body_markdown":"Solution:\r\n\r\nInstead of using jakarta.annotation-api library. I used javax.annotation-api external library and it solved my problem.\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\nExplanation : Until Spring Boot 2.7.x were using javax.* but after Spring Boot 3.x Spring Boot that makes use of Jakarta EE 9 APIs (jakarta.*) instead of EE 8 (javax.*)\r\n\r\nThat means, when I upgrade my spring from 2.7 to 3.0, I have to replace javax with jakarta. \r\n\r\n\r\n","title":"Manuel injected Spring Bean Does not Invoke PostConstructor","body":"<p>Solution:</p>\n<p>Instead of using jakarta.annotation-api library. I used javax.annotation-api external library and it solved my problem.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n&lt;version&gt;1.3.2&lt;/version&gt;\n</code></pre>\n\n<p>Explanation : Until Spring Boot 2.7.x were using javax.* but after Spring Boot 3.x Spring Boot that makes use of Jakarta EE 9 APIs (jakarta.<em>) instead of EE 8 (javax.</em>)</p>\n<p>That means, when I upgrade my spring from 2.7 to 3.0, I have to replace javax with jakarta.</p>\n"}],"owner":{"account_id":2447905,"reputation":19,"user_id":2134798,"display_name":"Hasan &#220;nl&#252; KILIN&#199;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77156251,"answer_count":2,"score":1,"last_activity_date":1695420517,"creation_date":1695340214,"question_id":77154201,"body_markdown":"Spring Boot Version : 2.7.15\r\n\r\nAfter Upgrading from Java 8 to Java 17\r\nI added this into my pom.xml in order using @PostConstructor\r\n\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jakarta.annotation-api.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have many different micro services and I manage my spring beans with spring annotations like (@Service etc..)\r\n\r\nI also  have another CommonManager library which is common for all micro services and it is isn&#39;t depend on spring. You can see how it looks like below\r\n\r\n\r\n```java\r\npublic class ExampleEnvironmentClass {\r\n\t\r\n\r\n\tprivate Class&lt;? extends ADao&gt; aDaoClass = ADaoImpl.class;\r\n\tprivate Class&lt;? extends AManager&gt; aManagerClass = AManagerImpl.class;\r\n\r\n\tprivate Class&lt;? extends BDao&gt; bDaoClass = BDaoImpl.class;\r\n\tprivate Class&lt;? extends BManager&gt; bManagerClass = BManagerImpl.class;\r\n\r\n}\r\n\r\npublic class ExampleManagerImpl implements ExampleManager {\r\n\r\n\tpublic ExampleManagerImpl (ExampleEnvironmentClass env) {\r\n\t\tthis(env, null);\r\n\t}\r\n\r\n        //Another Constuctor for direct call \r\n\tpublic ExampleManagerImpl (ExampleEnvironmentClass env, Dao dao) {\r\n\t\tenv.validate();\r\n\t\t//...\r\n\t\t//...\r\n\t}\r\n\r\n\t@PostConstruct\r\n\tpublic void initialize () {\r\n\t\t//\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nWhile I&#39;m using CommonManager library in my microservices i&#39;m defining it with @Bean annotation.\r\n\r\n\r\n```java\r\n\r\n@SpringBootApplication (exclude = { DataSourceAutoConfiguration.class })\r\n@EnableScheduling\r\n@Import ({ DbConfiguration.class//\r\n\t\t, CacheClientConfiguration.class//\r\n\t\t, WebMvcConfiguration.class//\r\n})\r\n\r\npublic class MySpringMicroService {\r\n\r\n        @Bean\r\n\tpublic ExampleManager exampleManager () {\r\n\r\n\t\tExampleEnvironmentClass env = new ExampleEnvironmentClass();\r\n\r\n\t\tenv.aDaoClass(CustomADaoImpl.class);\r\n\t\tenv.aManagerClass(CustomAManagerImpl.class);\r\n\r\n\t\t//env.bDaoClass(CustomBDaoImpl.class);\r\n\t\tenv.bManagerClass(CustomAManagerImpl.class);\r\n\r\n\t\t\r\n\t\treturn new ExampleManagerImpl(env);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nFor example `env.bDaoClass(CustomBDaoImpl.class);` this is commented. So that means for this micro service it will continue to using BDaoImpl.class as defined in the CommonManager library.\r\n\r\n\r\nWith this way, my micro services can have different framework. A micro service can run on Micronaut and B services can run on Spring.\r\n\r\n\r\nUntil upgrading Java 17. It was working well with Spring Boot 2.7.15 as I expected. \r\nI&#39;m planning to switch Spring Boot 3.0  so I switch Java 17 from Java 8.\r\n\r\n**But now @PostConstructor in the ExampleManagerImpl isn&#39;t invoked. **\r\n\r\n\r\n\r\n\r\nI tried to adding `@ComponentScans` but it didn&#39;t work.\r\n\r\n\r\n```java\r\n@ComponentScans({\r\n\t\t@ComponentScan(&quot;CommonLibraryPackage&quot;),\r\n\t\t@ComponentScan(&quot;MyServicesOwnComponentPage&quot;) //It is actually unnecassary. Spring automatically find but i added for trying\r\n})\r\n```\r\n\r\n\r\nEdit: As an workaround solution. Manual call solved my problem. But it would be good to use @PostConstruct\r\n\r\n```\r\n \r\n//return new ExampleManagerImpl(env); //instead of this\r\nExampleManagerImpl obj = new ExampleManagerImpl(env);\r\nobj.initialize();\r\nreturn obj;\r\n```\r\n\r\n\r\nLast Edit and Solution:\r\n\r\nInstead of using jakarta.annotation-api library. I used javax.annotation-api external library and it solved my problem.\r\n```xml\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n","title":"Manuel injected Spring Bean Does not Invoke PostConstructor","body":"<p>Spring Boot Version : 2.7.15</p>\n<p>After Upgrading from Java 8 to Java 17\nI added this into my pom.xml in order using @PostConstructor</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;${jakarta.annotation-api.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have many different micro services and I manage my spring beans with spring annotations like (@Service etc..)</p>\n<p>I also  have another CommonManager library which is common for all micro services and it is isn't depend on spring. You can see how it looks like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleEnvironmentClass {\n    \n\n    private Class&lt;? extends ADao&gt; aDaoClass = ADaoImpl.class;\n    private Class&lt;? extends AManager&gt; aManagerClass = AManagerImpl.class;\n\n    private Class&lt;? extends BDao&gt; bDaoClass = BDaoImpl.class;\n    private Class&lt;? extends BManager&gt; bManagerClass = BManagerImpl.class;\n\n}\n\npublic class ExampleManagerImpl implements ExampleManager {\n\n    public ExampleManagerImpl (ExampleEnvironmentClass env) {\n        this(env, null);\n    }\n\n        //Another Constuctor for direct call \n    public ExampleManagerImpl (ExampleEnvironmentClass env, Dao dao) {\n        env.validate();\n        //...\n        //...\n    }\n\n    @PostConstruct\n    public void initialize () {\n        //\n    }\n\n}\n\n</code></pre>\n<p>While I'm using CommonManager library in my microservices i'm defining it with @Bean annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@SpringBootApplication (exclude = { DataSourceAutoConfiguration.class })\n@EnableScheduling\n@Import ({ DbConfiguration.class//\n        , CacheClientConfiguration.class//\n        , WebMvcConfiguration.class//\n})\n\npublic class MySpringMicroService {\n\n        @Bean\n    public ExampleManager exampleManager () {\n\n        ExampleEnvironmentClass env = new ExampleEnvironmentClass();\n\n        env.aDaoClass(CustomADaoImpl.class);\n        env.aManagerClass(CustomAManagerImpl.class);\n\n        //env.bDaoClass(CustomBDaoImpl.class);\n        env.bManagerClass(CustomAManagerImpl.class);\n\n        \n        return new ExampleManagerImpl(env);\n    }\n\n}\n\n</code></pre>\n<p>For example <code>env.bDaoClass(CustomBDaoImpl.class);</code> this is commented. So that means for this micro service it will continue to using BDaoImpl.class as defined in the CommonManager library.</p>\n<p>With this way, my micro services can have different framework. A micro service can run on Micronaut and B services can run on Spring.</p>\n<p>Until upgrading Java 17. It was working well with Spring Boot 2.7.15 as I expected.\nI'm planning to switch Spring Boot 3.0  so I switch Java 17 from Java 8.</p>\n<p>**But now @PostConstructor in the ExampleManagerImpl isn't invoked. **</p>\n<p>I tried to adding <code>@ComponentScans</code> but it didn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ComponentScans({\n        @ComponentScan(&quot;CommonLibraryPackage&quot;),\n        @ComponentScan(&quot;MyServicesOwnComponentPage&quot;) //It is actually unnecassary. Spring automatically find but i added for trying\n})\n</code></pre>\n<p>Edit: As an workaround solution. Manual call solved my problem. But it would be good to use @PostConstruct</p>\n<pre><code> \n//return new ExampleManagerImpl(env); //instead of this\nExampleManagerImpl obj = new ExampleManagerImpl(env);\nobj.initialize();\nreturn obj;\n</code></pre>\n<p>Last Edit and Solution:</p>\n<p>Instead of using jakarta.annotation-api library. I used javax.annotation-api external library and it solved my problem.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n    &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","save","rest-assured","octetstring"],"answers":[{"tags":[],"owner":{"account_id":11715536,"reputation":4839,"user_id":8576169,"display_name":"Bedla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511475329,"creation_date":1511475329,"answer_id":47463883,"question_id":47463391,"body_markdown":"MIME type application/octet-stream consists of bytes encoded in Base64. Use [Base64][1] class for decoding.\r\n        \r\n    private void saveFile(String path, String octetStream) throws IOException{\r\n        byte[] bytes = Base64.getDecoder().decode(octetStream);\r\n\r\n        try(FileOutputStream fos = new FileOutputStream(path)){\r\n            fos.write(bytes);\r\n        }\r\n    }\r\n\r\n*I know nothing about RestAssured, so maybe there is any way provided by framework.*\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html","title":"[Java][RestAssured] How to save application/octet-stream response as jpg image?","body":"<p>MIME type application/octet-stream consists of bytes encoded in Base64. Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">Base64</a> class for decoding.</p>\n\n<pre><code>private void saveFile(String path, String octetStream) throws IOException{\n    byte[] bytes = Base64.getDecoder().decode(octetStream);\n\n    try(FileOutputStream fos = new FileOutputStream(path)){\n        fos.write(bytes);\n    }\n}\n</code></pre>\n\n<p><em>I know nothing about RestAssured, so maybe there is any way provided by framework.</em></p>\n"}],"owner":{"account_id":7985289,"reputation":11,"user_id":6025036,"display_name":"Paweł Adamus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8750,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695420245,"creation_date":1511472021,"question_id":47463391,"body_markdown":"I want to download images from website using RestAssured. My code:\r\n\r\n    Response response = given()\r\n                .log().all()\r\n                .cookie(cookie)\r\n                .get(format(image_endpoint, &quot;46581657&quot;));\r\n\r\nEndpoint returns status code 200 and image in &quot;application/octet-stream&quot; type. How can I save it as jpg file?\r\n\r\nI have tried:\r\n\r\n    String bin = getImageResponse()\r\n                .prettyPrint();\r\n        saveFile(&quot;foto.jpg&quot;, bin); //this method only save string to file\r\n\r\nBut I cannot open jpg file. How can I save it?","title":"[Java][RestAssured] How to save application/octet-stream response as jpg image?","body":"<p>I want to download images from website using RestAssured. My code:</p>\n\n<pre><code>Response response = given()\n            .log().all()\n            .cookie(cookie)\n            .get(format(image_endpoint, \"46581657\"));\n</code></pre>\n\n<p>Endpoint returns status code 200 and image in \"application/octet-stream\" type. How can I save it as jpg file?</p>\n\n<p>I have tried:</p>\n\n<pre><code>String bin = getImageResponse()\n            .prettyPrint();\n    saveFile(\"foto.jpg\", bin); //this method only save string to file\n</code></pre>\n\n<p>But I cannot open jpg file. How can I save it?</p>\n"},{"tags":["java","apache-kafka","junit","mocking","project-reactor"],"owner":{"account_id":29512565,"reputation":11,"user_id":22617286,"display_name":"tripletk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695420021,"creation_date":1695420021,"question_id":77160864,"body_markdown":"I have been trying to increase code coverage on this particular piece of code for a while but can&#39;t seem to figure it out. This private method is invoked from within a public method. The public method is called as shown below. My understanding is that since subscription to the topics happens later, there are no partitions that are assigned, therefore when unit testing, that Consumer within `addAssignListener()` is never invoked.\r\n\r\n```\r\nclass someClass {\r\n    public ReactiveKafkaConsumerTemplate somePublicMethod(Set&lt;String&gt; topics) {\r\n      // ...\r\n      ReceiverOptions&lt;Object, Object&gt; receiverOptions = somePrivateMethod(customConsumerProperties);\r\n      receiverOptions = receiverOptions.subscription(topics);\r\n      return new ReactiveKafkaConsumerTemplate&lt;&gt;(receiverOptions);\r\n    }\r\n\r\n\r\n    private ReceiverOptions&lt;Object, Object&gt; somePrivateMethod(Map&lt;String, Object&gt; customConsumerProperties) {\r\n\r\n      boolean featureFlag = someConfig.isEnabled();\r\n\r\n      ReceiverOptions&lt;Object, Object&gt; basicReceiverOptions = ReceiverOptions.create(customConsumerProperties);\r\n\r\n      basicReceiverOptions = basicReceiverOptions.addAssignListener(partitions -&gt; {\r\n        partitions.forEach(receiverPartition -&gt; Mono.just(receiverPartition)\r\n            .doOnNext(receiverPartition1 -&gt; {\r\n              if (featureFlag) {\r\n                receiverPartition1.seekToTimestamp(someConfig.getStartTimestamp());\r\n              }\r\n            })\r\n            .subscribe());\r\n      });\r\n\r\n      return basicReceiverOptions;\r\n    }\r\n\r\n  }\r\n```\r\n\r\nThe Unit Test\r\n\r\n```\r\n@Test\r\n  void test() {\r\n    // ...\r\n    ReactiveKafkaConsumerTemplate&lt;String, String&gt; template = someClass.somePublicMethod(Set.of(&quot;sample-topic&quot;));\r\n    assertNotNull(template);\r\n  }\r\n```\r\n\r\nHow can I unit test those particular lines of code?\r\n\r\nI tried manually invoking the [assignment](https://projectreactor.io/docs/kafka/1.0.0.M3/api/reactor/kafka/receiver/ReceiverOptions.html#assignment-java.util.Collection-) and [mocking the Consumer](https://stackoverflow.com/questions/47224185/mock-method-with-consumer) but no luck.","title":"Unable to cover Consumer function in code coverage for ReceiverOptions.addAssignListener()","body":"<p>I have been trying to increase code coverage on this particular piece of code for a while but can't seem to figure it out. This private method is invoked from within a public method. The public method is called as shown below. My understanding is that since subscription to the topics happens later, there are no partitions that are assigned, therefore when unit testing, that Consumer within <code>addAssignListener()</code> is never invoked.</p>\n<pre><code>class someClass {\n    public ReactiveKafkaConsumerTemplate somePublicMethod(Set&lt;String&gt; topics) {\n      // ...\n      ReceiverOptions&lt;Object, Object&gt; receiverOptions = somePrivateMethod(customConsumerProperties);\n      receiverOptions = receiverOptions.subscription(topics);\n      return new ReactiveKafkaConsumerTemplate&lt;&gt;(receiverOptions);\n    }\n\n\n    private ReceiverOptions&lt;Object, Object&gt; somePrivateMethod(Map&lt;String, Object&gt; customConsumerProperties) {\n\n      boolean featureFlag = someConfig.isEnabled();\n\n      ReceiverOptions&lt;Object, Object&gt; basicReceiverOptions = ReceiverOptions.create(customConsumerProperties);\n\n      basicReceiverOptions = basicReceiverOptions.addAssignListener(partitions -&gt; {\n        partitions.forEach(receiverPartition -&gt; Mono.just(receiverPartition)\n            .doOnNext(receiverPartition1 -&gt; {\n              if (featureFlag) {\n                receiverPartition1.seekToTimestamp(someConfig.getStartTimestamp());\n              }\n            })\n            .subscribe());\n      });\n\n      return basicReceiverOptions;\n    }\n\n  }\n</code></pre>\n<p>The Unit Test</p>\n<pre><code>@Test\n  void test() {\n    // ...\n    ReactiveKafkaConsumerTemplate&lt;String, String&gt; template = someClass.somePublicMethod(Set.of(&quot;sample-topic&quot;));\n    assertNotNull(template);\n  }\n</code></pre>\n<p>How can I unit test those particular lines of code?</p>\n<p>I tried manually invoking the <a href=\"https://projectreactor.io/docs/kafka/1.0.0.M3/api/reactor/kafka/receiver/ReceiverOptions.html#assignment-java.util.Collection-\" rel=\"nofollow noreferrer\">assignment</a> and <a href=\"https://stackoverflow.com/questions/47224185/mock-method-with-consumer\">mocking the Consumer</a> but no luck.</p>\n"},{"tags":["java","appium-android"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1546502587,"post_id":54018401,"comment_id":94873002,"body_markdown":"it seems that that method, for that class &quot;has not yet been implemented&quot;","body":"it seems that that method, for that class &quot;has not yet been implemented&quot;"},{"owner":{"account_id":14975034,"reputation":171,"user_id":10810717,"display_name":"Pooja Jadhav"},"score":0,"creation_date":1546503153,"post_id":54018401,"comment_id":94873205,"body_markdown":"Thanks for the quick reply.\nI have imported below three packages in my code:\nimport io.appium.java_client.TouchAction;\nimport io.appium.java_client.android.AndroidElement;\nimport io.appium.java_client.clipboard.HasClipboard;","body":"Thanks for the quick reply. I have imported below three packages in my code: import io.appium.java_client.TouchAction; import io.appium.java_client.android.AndroidElement; import io.appium.java_client.clipboard.HasClipboard;"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1546503224,"post_id":54018401,"comment_id":94873233,"body_markdown":"which doesn&#39;t change the answer. You cast your Object to type &#39;HasClipboard&#39;, then try to call &#39;setClipboardText(...)&#39;. The method itself exists, either in the class, or in it&#39;s parent, but hasn&#39;t been implemented yet","body":"which doesn&#39;t change the answer. You cast your Object to type &#39;HasClipboard&#39;, then try to call &#39;setClipboardText(...)&#39;. The method itself exists, either in the class, or in it&#39;s parent, but hasn&#39;t been implemented yet"},{"owner":{"account_id":14975034,"reputation":171,"user_id":10810717,"display_name":"Pooja Jadhav"},"score":0,"creation_date":1546508684,"post_id":54018401,"comment_id":94875455,"body_markdown":"Is this what you mean?\n\n`String text = &quot;54321&quot;;\nHasClipboard clip = ((HasClipboard) BaseClass.driver);\nclip.setClipboardText(text);\nTouchAction t=new TouchAction(BaseClass.driver);`","body":"Is this what you mean?  <code>String text = &quot;54321&quot;; HasClipboard clip = ((HasClipboard) BaseClass.driver); clip.setClipboardText(text); TouchAction t=new TouchAction(BaseClass.driver);</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1546516322,"post_id":54018401,"comment_id":94879413,"body_markdown":"I don&#39;t know. all I can do is make assumptions based on the information you provided. Either way, what is happening is explained in my previous comment","body":"I don&#39;t know. all I can do is make assumptions based on the information you provided. Either way, what is happening is explained in my previous comment"}],"answers":[{"tags":[],"owner":{"account_id":5118808,"reputation":3538,"user_id":4103101,"display_name":"dmle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546693341,"creation_date":1546693341,"answer_id":54052273,"question_id":54018401,"body_markdown":"It means that Appium server version you are using is not supporting the API call for `POST /wd/hub/session/:session_id/appium/device/set_clipboard`\r\nfrom appium-java-client you are using.\r\n\r\nNotes:\r\n\r\n 1. Don&#39;t set `selenium-java` version explicitly, Appium will handle it on its own. When you import it, you may raise incompatibility issues.\r\n 2. Try to install the [latest appium server][1], and update client library to 7.0.0. There are lots of ongoing changes so `appium/device/set_clipboard` maybe affected\r\n\r\n\r\n  [1]: https://github.com/appium/appium/releases","title":"&quot;Method has not yet been implemented&quot; exception for appium `HasClipboard()`","body":"<p>It means that Appium server version you are using is not supporting the API call for <code>POST /wd/hub/session/:session_id/appium/device/set_clipboard</code>\nfrom appium-java-client you are using.</p>\n\n<p>Notes:</p>\n\n<ol>\n<li>Don't set <code>selenium-java</code> version explicitly, Appium will handle it on its own. When you import it, you may raise incompatibility issues.</li>\n<li>Try to install the <a href=\"https://github.com/appium/appium/releases\" rel=\"nofollow noreferrer\">latest appium server</a>, and update client library to 7.0.0. There are lots of ongoing changes so <code>appium/device/set_clipboard</code> maybe affected</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1695432654,"post_id":77160784,"comment_id":136028027,"body_markdown":"please stop screaming and read [/help/formatting](/help/formatting)","body":"please stop screaming and read <a href=\"/help/formatting\">/help/formatting</a>"},{"owner":{"account_id":14513,"reputation":3010,"user_id":29924,"accept_rate":96,"display_name":"Ben Page"},"score":0,"creation_date":1695776211,"post_id":77160784,"comment_id":136068562,"body_markdown":"I think you might have posted this answer on the wrong question.","body":"I think you might have posted this answer on the wrong question."}],"tags":[],"owner":{"account_id":25328832,"reputation":1,"user_id":19148997,"display_name":"DevMukh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695418510,"creation_date":1695418510,"answer_id":77160784,"question_id":54018401,"body_markdown":"    start_state = problem.getStartState()\r\n        fringe = util.Stack()\r\n        visited = set()\r\n    \r\n        # Each item in the fringe is a tuple containing the state and a list of actions\r\n        fringe.push((start_state, []))\r\n    \r\n        while not fringe.isEmpty():\r\n            current_state, actions = fringe.pop()\r\n            if problem.isGoalState(current_state):\r\n                return actions\r\n            visited.add(current_state)\r\n            successors = problem.getSuccessors(current_state)\r\n            for next_state, action, _ in successors:\r\n                       if next_state not in visited:\r\n                        next_actions = actions + [action]\r\n                        fringe.push((next_state, next_actions))\r\n        return []\r\n    USE THIS IT WORKS FOR ME FOR DEPTHFIRSTSEARCH IF ANYBODY WANTS TO DO SAME CODE FOR BREATHFIRSTSEARCH YOU JUST HAVE TO REPLACE STACK WITH QUEUES HAVING THE SAME CODE \r\n    I HOPE THIS WILL HELP YOU ","title":"&quot;Method has not yet been implemented&quot; exception for appium `HasClipboard()`","body":"<pre><code>start_state = problem.getStartState()\n    fringe = util.Stack()\n    visited = set()\n\n    # Each item in the fringe is a tuple containing the state and a list of actions\n    fringe.push((start_state, []))\n\n    while not fringe.isEmpty():\n        current_state, actions = fringe.pop()\n        if problem.isGoalState(current_state):\n            return actions\n        visited.add(current_state)\n        successors = problem.getSuccessors(current_state)\n        for next_state, action, _ in successors:\n                   if next_state not in visited:\n                    next_actions = actions + [action]\n                    fringe.push((next_state, next_actions))\n    return []\nUSE THIS IT WORKS FOR ME FOR DEPTHFIRSTSEARCH IF ANYBODY WANTS TO DO SAME CODE FOR BREATHFIRSTSEARCH YOU JUST HAVE TO REPLACE STACK WITH QUEUES HAVING THE SAME CODE \nI HOPE THIS WILL HELP YOU \n</code></pre>\n"}],"owner":{"account_id":14975034,"reputation":171,"user_id":10810717,"display_name":"Pooja Jadhav"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695418510,"creation_date":1546502506,"question_id":54018401,"body_markdown":"Below is my code in Java\r\n\r\n    String text = &quot;54321&quot;;\r\n    ((HasClipboard) BaseClass.driver).setClipboardText(text);\r\n    TouchAction t=new TouchAction(BaseClass.driver);`\r\n\r\nGetting Exception for the above code. \r\n\r\nConfiguration: Selenium-java 3.13.0, Java-client 6.1.0, android-test 2.1.1\r\n\r\n","title":"&quot;Method has not yet been implemented&quot; exception for appium `HasClipboard()`","body":"<p>Below is my code in Java</p>\n\n<pre><code>String text = \"54321\";\n((HasClipboard) BaseClass.driver).setClipboardText(text);\nTouchAction t=new TouchAction(BaseClass.driver);`\n</code></pre>\n\n<p>Getting Exception for the above code. </p>\n\n<p>Configuration: Selenium-java 3.13.0, Java-client 6.1.0, android-test 2.1.1</p>\n"},{"tags":["java","xml","jsp","struts2","tiles2"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1695459138,"post_id":77159755,"comment_id":136029585,"body_markdown":"&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=11&quot;&gt;\n    &lt;title&gt;&lt;tiles:getAsString name=&#39;title&#39; /&gt;&lt;/title&gt;.   I see the result of that should be &quot;System&quot;.    But IS blank.jsp a &quot;blank&quot; or does it have its basic parts e.g the page tags declaring jsp and a head and body?","body":"&lt;html&gt; &lt;head&gt;     &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=11&quot;&gt;     &lt;title&gt;&lt;tiles:getAsString name=&#39;title&#39; /&gt;&lt;/title&gt;.   I see the result of that should be &quot;System&quot;.    But IS blank.jsp a &quot;blank&quot; or does it have its basic parts e.g the page tags declaring jsp and a head and body?"}],"answers":[{"tags":[],"owner":{"account_id":18923761,"reputation":1,"user_id":13807329,"display_name":"Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695418075,"creation_date":1695416516,"answer_id":77160648,"question_id":77159755,"body_markdown":"There was an old tiles-defs.xml file left over from when the project was using Struts 1.3 instead of 2. Once I deleted that file and the associated tiles-config_1_3.dtd, the issue went away. Although I&#39;m curious as to why the old xml file would affect the Struts 2 code.","title":"&quot;org.apache.tiles.request.render.CannotRenderException: Cannot render an attribute that is not a string, toString returns: null&quot; in Struts 2 app","body":"<p>There was an old tiles-defs.xml file left over from when the project was using Struts 1.3 instead of 2. Once I deleted that file and the associated tiles-config_1_3.dtd, the issue went away. Although I'm curious as to why the old xml file would affect the Struts 2 code.</p>\n"}],"owner":{"account_id":18923761,"reputation":1,"user_id":13807329,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695460778,"accepted_answer_id":77160648,"answer_count":1,"score":0,"last_activity_date":1695418075,"creation_date":1695405166,"question_id":77159755,"body_markdown":"I am working on a Struts 2 application that is integrated with the Tiles plugin. It works fine on my local computer. But when I deploy it to a UNIX server and try to navigate past the login page to an action that uses Tiles, I get a CannotRenderException. I am using Tomcat v9.\r\n\r\nHere is the relevant code:\r\n\r\n**Tiles.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!DOCTYPE tiles-definitions PUBLIC   \r\n\t&quot;-//Apache Software Foundation//DTD Tiles Configuration 2.0//EN&quot;  \r\n \t&quot;tiles-config_2_0.dtd&quot;&gt; \r\n \r\n &lt;tiles-definitions&gt;  \r\n\r\n\t&lt;definition name=&quot;no.header.layout&quot; template=&quot;/tiles/layout/noHeader.jsp&quot;&gt;\r\n\t\t&lt;put-attribute name=&quot;title&quot;\t\t\tvalue=&quot;System&quot; /&gt;\r\n\t\t&lt;put-attribute name=&quot;includes&quot;\t\t\tvalue=&quot;/tiles/global/includes.jsp&quot; /&gt;\r\n\t\t&lt;put-attribute name=&quot;header&quot; \t\t\tvalue=&quot;/tiles/global/header.jsp&quot; /&gt;\t\r\n\t\t&lt;put-attribute name=&quot;body&quot;   \t\t\tvalue=&quot;/tiles/global/blank.jsp&quot; /&gt;\r\n\t\t&lt;put-attribute name=&quot;footer&quot; \t\t\tvalue=&quot;/tiles/global/footer.jsp&quot; /&gt;\r\n\t&lt;/definition&gt;\r\n\r\n        &lt;definition name=&quot;home.page&quot; extends=&quot;no.header.layout&quot;&gt;&lt;!--THIS IS THE PAGE I&#39;M TRYING TO LOAD--&gt;\r\n   \t\t&lt;put-attribute name=&quot;title&quot; value=&quot;System Search&quot;/&gt;   \r\n   \t\t&lt;put-attribute name=&quot;body&quot; value=&quot;/tiles/pages/home.jsp&quot;/&gt; \r\n        &lt;/definition&gt;\r\n\r\n&lt;/tiles-definitions&gt;  \r\n```\r\n\r\n**Struts.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 6.0//EN&quot;\r\n        &quot;struts-6.0.dtd&quot;&gt;\r\n\r\n&lt;struts&gt;\r\n\r\n\t&lt;include file=&quot;struts-default.xml&quot; /&gt;\r\n\t\r\n\t&lt;constant name=&quot;struts.devMode&quot; value=&quot;false&quot; /&gt;\r\n\r\n\t&lt;package name=&quot;default&quot; extends=&quot;struts-default&quot; namespace=&quot;/&quot;&gt;\r\n\t\r\n\t&lt;result-types&gt;\r\n        \t&lt;result-type name = &quot;tiles&quot; \r\n        \tclass=&quot;org.apache.struts2.views.tiles.TilesResult&quot; /&gt;\r\n      \t&lt;/result-types&gt;\r\n\r\n        &lt;action name=&quot;home&quot;&gt; &lt;!-- HERE IS THE ACTION I&#39;M TRYING TO GET TO --&gt;\r\n\t\t&lt;result type=&quot;tiles&quot;&gt;home.page&lt;/result&gt;\r\n\t&lt;/action&gt;\r\n\r\n        &lt;action name=&quot;login&quot; class=&quot;bcs.actions.LoginAction&quot;&gt;\r\n\t\t&lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;home&lt;/result&gt;\r\n\t\t&lt;result name=&quot;failure&quot;&gt;/login.jsp?message=LOGIN_FAILURE&lt;/result&gt;\r\n\t\t&lt;result name=&quot;failure2&quot;&gt;/login.jsp?message=BC_LOGIN_FAILURE&lt;/result&gt;\r\n\t&lt;/action&gt;\r\n\r\n\t&lt;/package&gt;\r\n\r\n&lt;/struts&gt;\r\n```\r\n\r\n**noHeader.jsp**\r\n\r\n```\r\n&lt;%@ taglib uri = &quot;http://tiles.apache.org/tags-tiles&quot; prefix = &quot;tiles&quot;%&gt;\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;%@ taglib uri=&quot;/WEB-INF/struts-tags.tld&quot; prefix=&quot;s&quot; %&gt;\r\n\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n\t&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=11&quot;&gt;\r\n\t&lt;title&gt;&lt;tiles:getAsString name=&#39;title&#39; /&gt;&lt;/title&gt;\r\n \t\t\r\n\t&lt;tiles:insertAttribute name=&#39;includes&#39; flush=&#39;false&#39; /&gt;\r\n\t\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\t&lt;div class=&#39;container&#39;&gt;\r\n\r\n\t\t&lt;div class=&#39;header_container&#39;&gt;\r\n\t\t\t&lt;tiles:insertAttribute name=&#39;header&#39; flush=&#39;false&#39; /&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t\r\n\t\t&lt;div class=&#39;noheader_container&#39;&gt;\r\n\t\t\t&lt;tiles:insertAttribute name=&#39;body&#39; flush=&#39;false&#39; /&gt;\t\t\t\r\n\t\t&lt;/div&gt;\r\n\t\t\r\n\t\t&lt;div class=&#39;footer_container&#39;&gt;\r\n\t\t\t&lt;tiles:insertAttribute name=&#39;footer&#39; flush=&#39;false&#39; /&gt;\t\t\r\n\t\t&lt;/div&gt;\r\n\t\t\r\n\t&lt;/div&gt;\r\n\t\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nHere are the dependencies I&#39;m using:\r\n\r\n```\r\nantlr-2.7.2.jar\r\nbsf-2.3.0.jar\r\ncommons-beanutils-1.8.0.jar\r\ncommons-chain-1.2.jar\r\ncommons-codec-1.14.jar\r\ncommons-collections.jar\r\ncommons-dbutils-1.1.jar\r\ncommons-digester-2.0.jar\r\ncommons-fileupload-1.5.jar\r\ncommons-io-2.11.0.jar\r\ncommons-lang3-3.12.0.jar\r\ncommons-logging-1.0.4.jar\r\ncommons-text-1.10.0.jar\r\ncommons-validator-1.3.1.jar\r\nel-api-1.0.jar\r\nencoder-1.2.3.jar\r\nfiles.txt\r\nfreemarker-2.3.32.jar\r\nhttpclient-4.5.12.jar\r\nhttpcore-4.4.13.jar\r\niText-2.1.7.jar\r\njavassist-3.29.0-GA.jar\r\njavax.el-3.0.1-b12.jar\r\njcl-over-slf4j-1.7.6.jar\r\njson-simple-1.1.1.jar\r\njsp-api-2.1.jar\r\njstl-1.0.2.jar\r\nlog4j-1.2.15.jar\r\nlog4j-api-2.20.0.jar\r\nlog4j-core-2.20.0.jar\r\nognl-3.3.4.jar\r\nojdbc6.jar\r\noro-2.0.8.jar\r\npoi-3.2-FINAL-20081019.jar\r\npoi-contrib-3.2-FINAL-20081019.jar\r\npoi-scratchpad-3.2-FINAL-20081019.jar\r\nservlet-api-2.5.jar\r\nslf4j-api-2.0.7.jar\r\nstandard-1.0.6.jar\r\nstruts-el-1.3.10.jar\r\nstruts-extras-1.3.10.jar\r\nstruts-faces-1.3.10.jar\r\nstruts-mailreader-dao-1.3.10.jar\r\nstruts-scripting-1.3.10.jar\r\nstruts-taglib-1.3.10.jar\r\nstruts2-config-browser-plugin-6.2.0.jar\r\nstruts2-core-6.2.0.jar\r\nstruts2-tiles-plugin-6.2.0.jar\r\ntiles-api-3.0.8.jar\r\ntiles-autotag-core-runtime-1.2.jar\r\ntiles-compat-3.0.8.jar\r\ntiles-core-3.0.8.jar\r\ntiles-el-3.0.8.jar\r\ntiles-freemarker-3.0.8.jar\r\ntiles-jsp-3.0.8.jar\r\ntiles-ognl-3.0.8.jar\r\ntiles-request-api-1.0.7.jar\r\ntiles-request-freemarker-1.0.7.jar\r\ntiles-request-jsp-1.0.7.jar\r\ntiles-request-servlet-1.0.7.jar\r\ntiles-servlet-3.0.8.jar\r\ntiles-template-3.0.8.jar\r\nxercesImpl-2.12.2.jar\r\nxwork-2.1.2.jar\r\n```\r\n\r\nAnd here is the exception:\r\n\r\n```\r\n ERROR org.apache.struts2.dispatcher.DefaultDispatcherErrorHandler - Exception occurred during processing request: Cannot render an attribute that is not a string, toString returns: null\r\norg.apache.tiles.request.render.CannotRenderException: Cannot render an attribute that is not a string, toString returns: null\r\n        at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:255) ~[tiles-core-3.0.8.jar:3.0.8]\r\n        at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:397) ~[tiles-core-3.0.8.jar:3.0.8]\r\n        at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:238) ~[tiles-core-3.0.8.jar:3.0.8]\r\n        at org.apache.tiles.TilesContainerWrapper.render(TilesContainerWrapper.java:103) ~[tiles-api-3.0.8.jar:3.0.8]\r\n        at org.apache.tiles.impl.mgmt.CachingTilesContainer.render(CachingTilesContainer.java:126) ~[tiles-core-3.0.8.jar:3.0.8]\r\n        at org.apache.struts2.views.tiles.TilesResult.doExecute(TilesResult.java:158) ~[struts2-tiles-plugin-6.2.0.jar:6.2.0]\r\n        at org.apache.struts2.result.StrutsResultSupport.execute(StrutsResultSupport.java:206) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:377) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:284) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at bcs.actions.SessionPreProcessor.intercept(SessionPreProcessor.java:53) ~[classes/:?]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:256) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:179) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:263) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:49) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at org.apache.struts2.interceptor.FetchMetadataInterceptor.intercept(FetchMetadataInterceptor.java:78) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at org.apache.struts2.interceptor.CoopInterceptor.intercept(CoopInterceptor.java:57) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at org.apache.struts2.interceptor.CoepInterceptor.intercept(CoepInterceptor.java:55) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.doIntercept(ConversionErrorInterceptor.java:143) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:152) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:152) ~[struts2-core-6.2.0.jar:6.2.0]\r\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\r\n```\r\n\r\nI have tried commenting out attributes in both tiles.xml and noHeader.jsp, omitting a custom interceptor that I have, using different tiles-config dtd files, and checking the spelling of the templates and values. I have also made sure the app server has the necessary permissions. Other than that, I&#39;m not sure what else to try.","title":"&quot;org.apache.tiles.request.render.CannotRenderException: Cannot render an attribute that is not a string, toString returns: null&quot; in Struts 2 app","body":"<p>I am working on a Struts 2 application that is integrated with the Tiles plugin. It works fine on my local computer. But when I deploy it to a UNIX server and try to navigate past the login page to an action that uses Tiles, I get a CannotRenderException. I am using Tomcat v9.</p>\n<p>Here is the relevant code:</p>\n<p><strong>Tiles.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE tiles-definitions PUBLIC   \n    &quot;-//Apache Software Foundation//DTD Tiles Configuration 2.0//EN&quot;  \n    &quot;tiles-config_2_0.dtd&quot;&gt; \n \n &lt;tiles-definitions&gt;  \n\n    &lt;definition name=&quot;no.header.layout&quot; template=&quot;/tiles/layout/noHeader.jsp&quot;&gt;\n        &lt;put-attribute name=&quot;title&quot;         value=&quot;System&quot; /&gt;\n        &lt;put-attribute name=&quot;includes&quot;          value=&quot;/tiles/global/includes.jsp&quot; /&gt;\n        &lt;put-attribute name=&quot;header&quot;            value=&quot;/tiles/global/header.jsp&quot; /&gt; \n        &lt;put-attribute name=&quot;body&quot;              value=&quot;/tiles/global/blank.jsp&quot; /&gt;\n        &lt;put-attribute name=&quot;footer&quot;            value=&quot;/tiles/global/footer.jsp&quot; /&gt;\n    &lt;/definition&gt;\n\n        &lt;definition name=&quot;home.page&quot; extends=&quot;no.header.layout&quot;&gt;&lt;!--THIS IS THE PAGE I'M TRYING TO LOAD--&gt;\n        &lt;put-attribute name=&quot;title&quot; value=&quot;System Search&quot;/&gt;   \n        &lt;put-attribute name=&quot;body&quot; value=&quot;/tiles/pages/home.jsp&quot;/&gt; \n        &lt;/definition&gt;\n\n&lt;/tiles-definitions&gt;  \n</code></pre>\n<p><strong>Struts.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE struts PUBLIC\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 6.0//EN&quot;\n        &quot;struts-6.0.dtd&quot;&gt;\n\n&lt;struts&gt;\n\n    &lt;include file=&quot;struts-default.xml&quot; /&gt;\n    \n    &lt;constant name=&quot;struts.devMode&quot; value=&quot;false&quot; /&gt;\n\n    &lt;package name=&quot;default&quot; extends=&quot;struts-default&quot; namespace=&quot;/&quot;&gt;\n    \n    &lt;result-types&gt;\n            &lt;result-type name = &quot;tiles&quot; \n            class=&quot;org.apache.struts2.views.tiles.TilesResult&quot; /&gt;\n        &lt;/result-types&gt;\n\n        &lt;action name=&quot;home&quot;&gt; &lt;!-- HERE IS THE ACTION I'M TRYING TO GET TO --&gt;\n        &lt;result type=&quot;tiles&quot;&gt;home.page&lt;/result&gt;\n    &lt;/action&gt;\n\n        &lt;action name=&quot;login&quot; class=&quot;bcs.actions.LoginAction&quot;&gt;\n        &lt;result name=&quot;success&quot; type=&quot;chain&quot;&gt;home&lt;/result&gt;\n        &lt;result name=&quot;failure&quot;&gt;/login.jsp?message=LOGIN_FAILURE&lt;/result&gt;\n        &lt;result name=&quot;failure2&quot;&gt;/login.jsp?message=BC_LOGIN_FAILURE&lt;/result&gt;\n    &lt;/action&gt;\n\n    &lt;/package&gt;\n\n&lt;/struts&gt;\n</code></pre>\n<p><strong>noHeader.jsp</strong></p>\n<pre><code>&lt;%@ taglib uri = &quot;http://tiles.apache.org/tags-tiles&quot; prefix = &quot;tiles&quot;%&gt;\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ taglib uri=&quot;/WEB-INF/struts-tags.tld&quot; prefix=&quot;s&quot; %&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=11&quot;&gt;\n    &lt;title&gt;&lt;tiles:getAsString name='title' /&gt;&lt;/title&gt;\n        \n    &lt;tiles:insertAttribute name='includes' flush='false' /&gt;\n    \n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;div class='container'&gt;\n\n        &lt;div class='header_container'&gt;\n            &lt;tiles:insertAttribute name='header' flush='false' /&gt;\n        &lt;/div&gt;\n        \n        &lt;div class='noheader_container'&gt;\n            &lt;tiles:insertAttribute name='body' flush='false' /&gt;         \n        &lt;/div&gt;\n        \n        &lt;div class='footer_container'&gt;\n            &lt;tiles:insertAttribute name='footer' flush='false' /&gt;       \n        &lt;/div&gt;\n        \n    &lt;/div&gt;\n    \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Here are the dependencies I'm using:</p>\n<pre><code>antlr-2.7.2.jar\nbsf-2.3.0.jar\ncommons-beanutils-1.8.0.jar\ncommons-chain-1.2.jar\ncommons-codec-1.14.jar\ncommons-collections.jar\ncommons-dbutils-1.1.jar\ncommons-digester-2.0.jar\ncommons-fileupload-1.5.jar\ncommons-io-2.11.0.jar\ncommons-lang3-3.12.0.jar\ncommons-logging-1.0.4.jar\ncommons-text-1.10.0.jar\ncommons-validator-1.3.1.jar\nel-api-1.0.jar\nencoder-1.2.3.jar\nfiles.txt\nfreemarker-2.3.32.jar\nhttpclient-4.5.12.jar\nhttpcore-4.4.13.jar\niText-2.1.7.jar\njavassist-3.29.0-GA.jar\njavax.el-3.0.1-b12.jar\njcl-over-slf4j-1.7.6.jar\njson-simple-1.1.1.jar\njsp-api-2.1.jar\njstl-1.0.2.jar\nlog4j-1.2.15.jar\nlog4j-api-2.20.0.jar\nlog4j-core-2.20.0.jar\nognl-3.3.4.jar\nojdbc6.jar\noro-2.0.8.jar\npoi-3.2-FINAL-20081019.jar\npoi-contrib-3.2-FINAL-20081019.jar\npoi-scratchpad-3.2-FINAL-20081019.jar\nservlet-api-2.5.jar\nslf4j-api-2.0.7.jar\nstandard-1.0.6.jar\nstruts-el-1.3.10.jar\nstruts-extras-1.3.10.jar\nstruts-faces-1.3.10.jar\nstruts-mailreader-dao-1.3.10.jar\nstruts-scripting-1.3.10.jar\nstruts-taglib-1.3.10.jar\nstruts2-config-browser-plugin-6.2.0.jar\nstruts2-core-6.2.0.jar\nstruts2-tiles-plugin-6.2.0.jar\ntiles-api-3.0.8.jar\ntiles-autotag-core-runtime-1.2.jar\ntiles-compat-3.0.8.jar\ntiles-core-3.0.8.jar\ntiles-el-3.0.8.jar\ntiles-freemarker-3.0.8.jar\ntiles-jsp-3.0.8.jar\ntiles-ognl-3.0.8.jar\ntiles-request-api-1.0.7.jar\ntiles-request-freemarker-1.0.7.jar\ntiles-request-jsp-1.0.7.jar\ntiles-request-servlet-1.0.7.jar\ntiles-servlet-3.0.8.jar\ntiles-template-3.0.8.jar\nxercesImpl-2.12.2.jar\nxwork-2.1.2.jar\n</code></pre>\n<p>And here is the exception:</p>\n<pre><code> ERROR org.apache.struts2.dispatcher.DefaultDispatcherErrorHandler - Exception occurred during processing request: Cannot render an attribute that is not a string, toString returns: null\norg.apache.tiles.request.render.CannotRenderException: Cannot render an attribute that is not a string, toString returns: null\n        at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:255) ~[tiles-core-3.0.8.jar:3.0.8]\n        at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:397) ~[tiles-core-3.0.8.jar:3.0.8]\n        at org.apache.tiles.impl.BasicTilesContainer.render(BasicTilesContainer.java:238) ~[tiles-core-3.0.8.jar:3.0.8]\n        at org.apache.tiles.TilesContainerWrapper.render(TilesContainerWrapper.java:103) ~[tiles-api-3.0.8.jar:3.0.8]\n        at org.apache.tiles.impl.mgmt.CachingTilesContainer.render(CachingTilesContainer.java:126) ~[tiles-core-3.0.8.jar:3.0.8]\n        at org.apache.struts2.views.tiles.TilesResult.doExecute(TilesResult.java:158) ~[struts2-tiles-plugin-6.2.0.jar:6.2.0]\n        at org.apache.struts2.result.StrutsResultSupport.execute(StrutsResultSupport.java:206) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:377) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:284) ~[struts2-core-6.2.0.jar:6.2.0]\n        at bcs.actions.SessionPreProcessor.intercept(SessionPreProcessor.java:53) ~[classes/:?]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:256) ~[struts2-core-6.2.0.jar:6.2.0]\n        at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:179) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:263) ~[struts2-core-6.2.0.jar:6.2.0]\n        at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:49) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at org.apache.struts2.interceptor.FetchMetadataInterceptor.intercept(FetchMetadataInterceptor.java:78) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at org.apache.struts2.interceptor.CoopInterceptor.intercept(CoopInterceptor.java:57) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at org.apache.struts2.interceptor.CoepInterceptor.intercept(CoepInterceptor.java:55) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.doIntercept(ConversionErrorInterceptor.java:143) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:152) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeConditional(DefaultActionInvocation.java:299) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:152) ~[struts2-core-6.2.0.jar:6.2.0]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:99) ~[struts2-core-6.2.0.jar:6.2.0]\n</code></pre>\n<p>I have tried commenting out attributes in both tiles.xml and noHeader.jsp, omitting a custom interceptor that I have, using different tiles-config dtd files, and checking the spelling of the templates and values. I have also made sure the app server has the necessary permissions. Other than that, I'm not sure what else to try.</p>\n"},{"tags":["java","html","spring-boot","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":26359927,"reputation":1,"user_id":20016286,"display_name":"Josep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695418035,"creation_date":1695418035,"answer_id":77160749,"question_id":77160580,"body_markdown":"I figured it out. I had a separate FormController class with my mapping in it,\r\nIn my main mapping for the &quot;/&quot; endpoint which the website was on I added: `model.addAttribute(&quot;form&quot;, new Form());` and exposed it as in the FormController it wasn&#39;t exposing it.","title":"Spring - Neither BindingResult nor plain target object for bean name &#39;form&#39; available as request attribute","body":"<p>I figured it out. I had a separate FormController class with my mapping in it,\nIn my main mapping for the &quot;/&quot; endpoint which the website was on I added: <code>model.addAttribute(&quot;form&quot;, new Form());</code> and exposed it as in the FormController it wasn't exposing it.</p>\n"}],"owner":{"account_id":26359927,"reputation":1,"user_id":20016286,"display_name":"Josep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695418035,"creation_date":1695415661,"question_id":77160580,"body_markdown":"I&#39;m using **Java** and **Spring** using **Thymeleaf**.\r\n\r\nI have created a form with a couple inputs, IntelliJ is moaning about it saying it cannot resolve the Thymeleaf object attribute. When I try to load the website it gives error code 500.\r\n\r\nI have tried a lot of the common issues online like missing the xmlns:th in the HTML tag, I&#39;ve played endlessly around with changing tiny little things from old versions. Not quite sure what to do anymore I&#39;ve been to the end of the internet and back but maybe I&#39;m being stupid.\r\nHere is the stack:\r\n\r\n```\r\n2023-09-22T21:20:01.188+01:00 ERROR 15828 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/index.html]&quot;)] with root cause\r\n\r\njava.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;form&#39; available as request attribute\r\n\tat org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:926) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.thymeleaf.spring6.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:232) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.spring6.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.spring6.util.FieldUtils.getBindStatus(FieldUtils.java:253) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.spring6.util.FieldUtils.getBindStatus(FieldUtils.java:227) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.spring6.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.attoparser.HtmlVoidElement.handleOpenElementEnd(HtmlVoidElement.java:92) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1415) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1159) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.13.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.12.jar:6.0.12]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.13.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.12.jar:6.0.12]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nAs I saw that it saying its struggling to link between the form and mapping in the controller.\r\nI have played around with the controller changing things like adding `model.addAttribute(&quot;form&quot;, new Form());` however this does not fix it. I have `@ModelAttribute(&quot;form&quot;)`.\r\n\r\nI have also tried looking for an annotation to add in Form.java which is my object it needs to bind too.\r\n\r\nThis is my HTML in my template, index.html. This is where IntelliJ has got orange moan lines under `${form}` and red ones under; `*{name}`, `*{email}`, `*{message}`. I have attempted a few things like having `&lt;form:form hidde..` and also that with `th:`, Not quite sure if the issue is here or not.\r\n\r\n```xml\r\n    &lt;div class=&quot;grid-item&quot; id=&quot;content-box&quot;&gt;\r\n        &lt;noscript&gt;&lt;p style=&quot;color: #ffffff; text-align: center&quot;&gt;You do not have Javascript enabled. It is required for this website to work correctly.&lt;/p&gt;&lt;/noscript&gt;\r\n        &lt;div id=&quot;content&quot;&gt;&lt;/div&gt;\r\n        &lt;form hidden id=&quot;form&quot; th:action=&quot;@{/form}&quot; th:object=&quot;${form}&quot;&gt;\r\n            &lt;p class=&quot;text&quot;&gt;Name: &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;&gt;&lt;/p&gt;\r\n            &lt;p class=&quot;text&quot;&gt;Email: &lt;input type=&quot;text&quot; th:field=&quot;*{email}&quot;&gt;&lt;/p&gt;\r\n            &lt;p class=&quot;text&quot;&gt;Message: &lt;input type=&quot;text&quot; th:field=&quot;*{message}&quot;&gt;&lt;/p&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n```\r\n\r\nAs said before with my FormController, I have changed some things, I tried switching from `PostMapping()` to `RequestMapping()` and then adding `modelAttribute=&quot;form&quot;` in there but that doesn&#39;t work either.\r\nI also added `model.addAttribute(&quot;form&quot;, new Form())` as someone said that fixes it, however it is still happening.\r\n\r\n\r\n```java\r\n@Controller\r\npublic class FormController {\r\n    @PostMapping(&quot;/form&quot;)\r\n    public void formReceived(@ModelAttribute(&quot;form&quot;) Form form, Model model) {\r\n        model.addAttribute(&quot;form&quot;, new Form());\r\n        System.out.println(form.getName());\r\n    }\r\n}\r\n```\r\n\r\nFinally the last link which I can think of is my form class however I don&#39;t see where it could of gone wrong, I have tried searching through the annotations too see if there is anything I can add, but I haven&#39;t found one.\r\n\r\n\r\n```java\r\npublic class Form {\r\n    private String name;\r\n    private String email;\r\n    private String message;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n}\r\n```\r\n\r\nSo yeah.. I&#39;m not sure where to go here, there are a lot of similar things on here but they are all from 2016 and have like 1 one response, which is where I got many of these little fixes but they haven&#39;t worked for what I suspect is them being really old.\r\n","title":"Spring - Neither BindingResult nor plain target object for bean name &#39;form&#39; available as request attribute","body":"<p>I'm using <strong>Java</strong> and <strong>Spring</strong> using <strong>Thymeleaf</strong>.</p>\n<p>I have created a form with a couple inputs, IntelliJ is moaning about it saying it cannot resolve the Thymeleaf object attribute. When I try to load the website it gives error code 500.</p>\n<p>I have tried a lot of the common issues online like missing the xmlns:th in the HTML tag, I've played endlessly around with changing tiny little things from old versions. Not quite sure what to do anymore I've been to the end of the internet and back but maybe I'm being stupid.\nHere is the stack:</p>\n<pre><code>2023-09-22T21:20:01.188+01:00 ERROR 15828 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/index.html]&quot;)] with root cause\n\njava.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'form' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:926) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.thymeleaf.spring6.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:232) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.spring6.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.spring6.util.FieldUtils.getBindStatus(FieldUtils.java:253) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.spring6.util.FieldUtils.getBindStatus(FieldUtils.java:227) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.spring6.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.attoparser.HtmlVoidElement.handleOpenElementEnd(HtmlVoidElement.java:92) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1415) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1159) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.13.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.12.jar:6.0.12]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.13.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.12.jar:6.0.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.12.jar:6.0.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.12.jar:6.0.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>As I saw that it saying its struggling to link between the form and mapping in the controller.\nI have played around with the controller changing things like adding <code>model.addAttribute(&quot;form&quot;, new Form());</code> however this does not fix it. I have <code>@ModelAttribute(&quot;form&quot;)</code>.</p>\n<p>I have also tried looking for an annotation to add in Form.java which is my object it needs to bind too.</p>\n<p>This is my HTML in my template, index.html. This is where IntelliJ has got orange moan lines under <code>${form}</code> and red ones under; <code>*{name}</code>, <code>*{email}</code>, <code>*{message}</code>. I have attempted a few things like having <code>&lt;form:form hidde..</code> and also that with <code>th:</code>, Not quite sure if the issue is here or not.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;div class=&quot;grid-item&quot; id=&quot;content-box&quot;&gt;\n        &lt;noscript&gt;&lt;p style=&quot;color: #ffffff; text-align: center&quot;&gt;You do not have Javascript enabled. It is required for this website to work correctly.&lt;/p&gt;&lt;/noscript&gt;\n        &lt;div id=&quot;content&quot;&gt;&lt;/div&gt;\n        &lt;form hidden id=&quot;form&quot; th:action=&quot;@{/form}&quot; th:object=&quot;${form}&quot;&gt;\n            &lt;p class=&quot;text&quot;&gt;Name: &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;&gt;&lt;/p&gt;\n            &lt;p class=&quot;text&quot;&gt;Email: &lt;input type=&quot;text&quot; th:field=&quot;*{email}&quot;&gt;&lt;/p&gt;\n            &lt;p class=&quot;text&quot;&gt;Message: &lt;input type=&quot;text&quot; th:field=&quot;*{message}&quot;&gt;&lt;/p&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n</code></pre>\n<p>As said before with my FormController, I have changed some things, I tried switching from <code>PostMapping()</code> to <code>RequestMapping()</code> and then adding <code>modelAttribute=&quot;form&quot;</code> in there but that doesn't work either.\nI also added <code>model.addAttribute(&quot;form&quot;, new Form())</code> as someone said that fixes it, however it is still happening.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class FormController {\n    @PostMapping(&quot;/form&quot;)\n    public void formReceived(@ModelAttribute(&quot;form&quot;) Form form, Model model) {\n        model.addAttribute(&quot;form&quot;, new Form());\n        System.out.println(form.getName());\n    }\n}\n</code></pre>\n<p>Finally the last link which I can think of is my form class however I don't see where it could of gone wrong, I have tried searching through the annotations too see if there is anything I can add, but I haven't found one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Form {\n    private String name;\n    private String email;\n    private String message;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n}\n</code></pre>\n<p>So yeah.. I'm not sure where to go here, there are a lot of similar things on here but they are all from 2016 and have like 1 one response, which is where I got many of these little fixes but they haven't worked for what I suspect is them being really old.</p>\n"},{"tags":["java","swing","jbutton","keylistener"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695417577,"post_id":77160671,"comment_id":136026810,"body_markdown":"Use [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)\nto help you get around the focus issues which are undoubtably plaguing your code.","body":"Use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a> to help you get around the focus issues which are undoubtably plaguing your code."},{"owner":{"account_id":44830,"reputation":1744,"user_id":131795,"display_name":"Trevor Harrison"},"score":0,"creation_date":1695417677,"post_id":77160671,"comment_id":136026825,"body_markdown":"and your jp.requestFocusInWindow(); won&#39;t work unless the button is added to the JFrame first.  Your code was calling it before returning the panel, which wasn&#39;t added to the JFrame yet.","body":"and your jp.requestFocusInWindow(); won&#39;t work unless the button is added to the JFrame first.  Your code was calling it before returning the panel, which wasn&#39;t added to the JFrame yet."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1695417723,"post_id":77160671,"comment_id":136026830,"body_markdown":"But regardless of what @TrevorHarrison, setting focus is a kludge since if something else shifts the focus, the code won&#39;t work again. Again, use Key Bindings.","body":"But regardless of what @TrevorHarrison, setting focus is a kludge since if something else shifts the focus, the code won&#39;t work again. Again, use Key Bindings."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695417901,"post_id":77160671,"comment_id":136026853,"body_markdown":"For an outline of reasons to use Key Bindings in place of a KeyListener, pelase check out Camickr&#39;s link here, [Key Bindings](http://tips4java.wordpress.com/2008/10/10/key-bindings/). Also, again, please check out the tutorial link which I&#39;ve given in my first comment.","body":"For an outline of reasons to use Key Bindings in place of a KeyListener, pelase check out Camickr&#39;s link here, <a href=\"http://tips4java.wordpress.com/2008/10/10/key-bindings/\" rel=\"nofollow noreferrer\">Key Bindings</a>. Also, again, please check out the tutorial link which I&#39;ve given in my first comment."},{"owner":{"account_id":9532198,"reputation":91,"user_id":7083453,"display_name":"ABC DEF"},"score":0,"creation_date":1695418645,"post_id":77160671,"comment_id":136026926,"body_markdown":"Do I have to make key bindings to every letter? The users will be entering words.","body":"Do I have to make key bindings to every letter? The users will be entering words."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695419279,"post_id":77160671,"comment_id":136026990,"body_markdown":"You could do this, creating a shared Action class, or you could use a global event listener, such as via the AWTListener, as per [Camicker&#39;s answer and link here](https://stackoverflow.com/a/16204011/)","body":"You could do this, creating a shared Action class, or you could use a global event listener, such as via the AWTListener, as per <a href=\"https://stackoverflow.com/a/16204011/\">Camicker&#39;s answer and link here</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695421168,"post_id":77160671,"comment_id":136027227,"body_markdown":"The &quot;problem&quot; with `KeyListener` is, if another focusable component takes focus, like `JButton`, it will no longer be triggered - the solution is dependent on your requirements, but you could just as easily use a `JTextField` as your primary input","body":"The &quot;problem&quot; with <code>KeyListener</code> is, if another focusable component takes focus, like <code>JButton</code>, it will no longer be triggered - the solution is dependent on your requirements, but you could just as easily use a <code>JTextField</code> as your primary input"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1695421284,"post_id":77160671,"comment_id":136027244,"body_markdown":"1) *As soon as I remove the JButton from the code,* -why would you add the button to the panel? If you are doing custom painting don&#39;t add a Swing component to the same panel. Create a parent panel and add the button and the PanelGUI to the same panel. 2) Note class names start with an upper case character. 3) Why do you think you need a KeyListener? Why not add a JTextField for the user to type a character. If the character is valid you do your game logic or give an error message. Then you clear the text area for the next character.","body":"1) <i>As soon as I remove the JButton from the code,</i> -why would you add the button to the panel? If you are doing custom painting don&#39;t add a Swing component to the same panel. Create a parent panel and add the button and the PanelGUI to the same panel. 2) Note class names start with an upper case character. 3) Why do you think you need a KeyListener? Why not add a JTextField for the user to type a character. If the character is valid you do your game logic or give an error message. Then you clear the text area for the next character."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1695421288,"post_id":77160671,"comment_id":136027246,"body_markdown":"4) Why are your listeners extending JFrame? The listener is NOT a frame. The listener class doesn&#39;t need to extend anything unless you want to extend `MouseAdapter&quot; then you only override the methods that have logic.","body":"4) Why are your listeners extending JFrame? The listener is NOT a frame. The listener class doesn&#39;t need to extend anything unless you want to extend `MouseAdapter&quot; then you only override the methods that have logic."}],"owner":{"account_id":9532198,"reputation":91,"user_id":7083453,"display_name":"ABC DEF"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695417536,"answer_count":0,"score":0,"last_activity_date":1695417991,"creation_date":1695416698,"question_id":77160671,"body_markdown":"Please forgive my impatience and stress as this is my 7th day trying to figure this out. I have tried requestfocus everywhere to no avail. I&#39;ve tried System.out.print&#39;ing the keyPressed at the beginning and there is no response. As soon as I remove the JButton from the code, namely,\r\n    jp.add(submit);\r\nit sstarts working again. Any thoughts?\r\n\r\n    package scrabbleracks;\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.awt.event.MouseMotionListener;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Vector;\r\n\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.BoxLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.table.DefaultTableCellRenderer;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.table.TableCellRenderer;\r\n    import javax.swing.table.TableColumn;\r\n    public class Scrabble extends JPanel {\r\n\t\r\n\t\tpublic JFrame jf;\r\n\t\tpublic JButton submit;\r\n\r\n\t\tpublic Scrabble() {\r\n\t\t\tinit();\r\n\t\t\tgui();\r\n\t\t}\r\n\t\t\r\n\tpublic void gui() {\r\n\t\tjf = new JFrame();\r\n\t\tjf.setBounds(0, 0, 1000, 1200);\r\n\t\tjf.getContentPane().add(panelGUI());\r\n\t\tjf.setVisible(true);\r\n\t\tjf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\tKeyListenerTest kl = new KeyListenerTest();\r\n\t\tjf.addKeyListener(kl);\r\n\t\t\r\n\t\tMouseEvents me = new MouseEvents();\r\n\t\tjf.addMouseListener(me);\r\n\t\tjf.addMouseMotionListener(me);\r\n\t}\r\n\r\n\r\n\tpublic JPanel panelGUI() {\r\n\t\tJPanel jp = new JPanel() {\r\n\t\t\t@Override\r\n\t\t\tpublic void paintComponent(Graphics g) { \r\n\t\t\t\t...\r\n\t\t\t}\r\n\r\n\t\t}; \r\n\t\t\r\n\t\t\r\n\t \t\tsubmit = new JButton(&quot;Submit&quot;);\r\n\t\t\t\tjp.add(submit);\r\n\t\t\t\tjp.setFocusable(true);\r\n\t\t\t\tjp.requestFocusInWindow();\r\n\t\t\t\t\r\n\t    submit.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent d){\r\n\t\t\t\t...\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tjp.setVisible(true);\r\n\t\tjp.setOpaque(true);\r\n\t\treturn jp;\r\n\r\n\t}\r\n\r\n       \r\n       \r\n\r\n    public class MouseEvents extends JFrame implements MouseListener, MouseMotionListener {\r\n\r\n\t\t@Override\r\n\t\tpublic void mousePressed(MouseEvent event) {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseReleased(MouseEvent arg0) {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseDragged(MouseEvent e) {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseMoved(MouseEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseClicked(MouseEvent e) {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mouseExited(MouseEvent e) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n     public class KeyListenerTest extends JFrame implements KeyListener, ActionListener {\r\n\r\n\t\tpublic KeyListenerTest() {\r\n\t\t     this.setFocusable(true);\r\n\t             this.requestFocusInWindow();\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void keyTyped(KeyEvent ke) {\r\n\r\n\t\t\tString f = &quot;&quot;;\r\n\t\t\tSystem.out.println(&quot;cantilena&quot;);\t\r\n\t\t\tif ((xxx &lt; 15 &amp;&amp; yyy &lt; 15) &amp;&amp; (xxx &gt;= 0 &amp;&amp; yyy &gt;= 0)) {\r\n\r\n\t\t\tchar cChar = ke.getKeyChar();\r\n\t\t\tString cStr = Character.toString(cChar).toUpperCase();\r\n\t\t\tSystem.out.println(&quot;bbb &quot; + cStr);\r\n\t\r\n\t\t\t\t\tif (isLetter(cStr)) {\r\n\t\t\tif (isOnRack(cStr)) {\r\n\t\t\t\r\n\r\n\t\t\t\t\tSystem.out.println(&quot;LOL &quot; + cStr);\r\n\t\t\t\t\tboardLetters2DArray[xxx][yyy] = cStr;\r\n\t\t\t\t\tjf.validate();\r\n\t\t\t\t\tjf.repaint();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (downRightOrNothing == 1) {\r\n\t\t\t\t\t\t\tyyy += 1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (downRightOrNothing == 2) {\r\n\t\t\t\t\t\t\txxx += 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tjf.validate();\r\n\t\t\t\t\t\tjf.repaint();\r\n\t\t\t\t\t}else {\r\n\t\t\t\tSystem.out.println(&quot;vdvvdvdvdvdvdvdvdvdvdvd&quot;);\r\n\t\t\t\tif (isOnRack(&quot;_&quot;)) {\r\n\t\t\t\t\tSystem.out.println(&quot;ccc&quot;);\r\n\t\t\t\t\tboardLetters2DArray[xxx][yyy] = &quot;thisisablank&quot; + cStr;\r\n\t\t\t\t\tif (downRightOrNothing == 1) {\r\n\t\t\t\t\t\tyyy += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (downRightOrNothing == 2) {\r\n\t\t\t\t\t\txxx += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tjf.validate();\r\n\t\t\t\t\tjf.repaint();\r\n\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} \r\n\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\r\n\t\t@Override\r\n\t\tpublic void keyPressed(KeyEvent ke) {\r\n\t\t\tif (ke.getKeyCode() == KeyEvent.VK_BACK_SPACE) {\r\n\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void keyReleased(KeyEvent ke) {\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent ae) {\r\n\r\n\t\t}\r\n\r\n\t}\r\n     \r\n     }\r\n\r\nI&#39;ve tried requestFocusw, rewriting the code from scratch, ","title":"Why isn&#39;t the keylistener working after adding a component to the main JPanel","body":"<p>Please forgive my impatience and stress as this is my 7th day trying to figure this out. I have tried requestfocus everywhere to no avail. I've tried System.out.print'ing the keyPressed at the beginning and there is no response. As soon as I remove the JButton from the code, namely,\njp.add(submit);\nit sstarts working again. Any thoughts?</p>\n<pre><code>package scrabbleracks;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Vector;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.BoxLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableCellRenderer;\nimport javax.swing.table.TableColumn;\npublic class Scrabble extends JPanel {\n\n    public JFrame jf;\n    public JButton submit;\n\n    public Scrabble() {\n        init();\n        gui();\n    }\n    \npublic void gui() {\n    jf = new JFrame();\n    jf.setBounds(0, 0, 1000, 1200);\n    jf.getContentPane().add(panelGUI());\n    jf.setVisible(true);\n    jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    \n    KeyListenerTest kl = new KeyListenerTest();\n    jf.addKeyListener(kl);\n    \n    MouseEvents me = new MouseEvents();\n    jf.addMouseListener(me);\n    jf.addMouseMotionListener(me);\n}\n\n\npublic JPanel panelGUI() {\n    JPanel jp = new JPanel() {\n        @Override\n        public void paintComponent(Graphics g) { \n            ...\n        }\n\n    }; \n    \n    \n        submit = new JButton(&quot;Submit&quot;);\n            jp.add(submit);\n            jp.setFocusable(true);\n            jp.requestFocusInWindow();\n            \n    submit.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent d){\n            ...\n        }\n    });\n\n    jp.setVisible(true);\n    jp.setOpaque(true);\n    return jp;\n\n}\n\n   \n   \n\npublic class MouseEvents extends JFrame implements MouseListener, MouseMotionListener {\n\n    @Override\n    public void mousePressed(MouseEvent event) {\n\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent arg0) {\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n\n\n public class KeyListenerTest extends JFrame implements KeyListener, ActionListener {\n\n    public KeyListenerTest() {\n         this.setFocusable(true);\n             this.requestFocusInWindow();\n    }\n    \n    @Override\n    public void keyTyped(KeyEvent ke) {\n\n        String f = &quot;&quot;;\n        System.out.println(&quot;cantilena&quot;);    \n        if ((xxx &lt; 15 &amp;&amp; yyy &lt; 15) &amp;&amp; (xxx &gt;= 0 &amp;&amp; yyy &gt;= 0)) {\n\n        char cChar = ke.getKeyChar();\n        String cStr = Character.toString(cChar).toUpperCase();\n        System.out.println(&quot;bbb &quot; + cStr);\n\n                if (isLetter(cStr)) {\n        if (isOnRack(cStr)) {\n        \n\n                System.out.println(&quot;LOL &quot; + cStr);\n                boardLetters2DArray[xxx][yyy] = cStr;\n                jf.validate();\n                jf.repaint();\n                \n                if (downRightOrNothing == 1) {\n                        yyy += 1;\n                    }\n\n                    if (downRightOrNothing == 2) {\n                        xxx += 1;\n                    }\n                    \n                    jf.validate();\n                    jf.repaint();\n                }else {\n            System.out.println(&quot;vdvvdvdvdvdvdvdvdvdvdvd&quot;);\n            if (isOnRack(&quot;_&quot;)) {\n                System.out.println(&quot;ccc&quot;);\n                boardLetters2DArray[xxx][yyy] = &quot;thisisablank&quot; + cStr;\n                if (downRightOrNothing == 1) {\n                    yyy += 1;\n                }\n                if (downRightOrNothing == 2) {\n                    xxx += 1;\n                }\n                jf.validate();\n                jf.repaint();\n\n            }\n            }\n            \n        } \n    }\n        \n    }\n    \n\n    @Override\n    public void keyPressed(KeyEvent ke) {\n        if (ke.getKeyCode() == KeyEvent.VK_BACK_SPACE) {\n\n\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent ke) {\n\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent ae) {\n\n    }\n\n}\n \n }\n</code></pre>\n<p>I've tried requestFocusw, rewriting the code from scratch,</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1314052529,"creation_date":1314052529,"answer_id":7154407,"question_id":7141803,"body_markdown":"There is no automated way, but you could do it by creating custom JsonNodeFactory which creates custom ObjectNodes -- and then you can override method(s) used for adding and accessing entries.\r\n","title":"Case-insensitive JsonNode in Jackson","body":"<p>There is no automated way, but you could do it by creating custom JsonNodeFactory which creates custom ObjectNodes -- and then you can override method(s) used for adding and accessing entries.</p>\n"},{"tags":[],"owner":{"account_id":5858283,"reputation":4931,"user_id":4614870,"display_name":"Brian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602555337,"creation_date":1602555337,"answer_id":64327536,"question_id":7141803,"body_markdown":"This feature is available as of 2.5 (Jan 2015):\r\n\r\n**ACCEPT_CASE_INSENSITIVE_PROPERTIES**\r\n\r\n&gt;Feature that will allow for more forgiving deserialization of incoming JSON. If enabled, the bean properties will be matched using their lower-case equivalents, meaning that any case-combination (incoming and matching names are canonicalized by lower-casing) should work.\r\nNote that there is additional performance overhead since incoming property names need to be lower-cased before comparison, for cases where there are upper-case letters. Overhead for names that are already lower-case should be negligible however.\r\n\r\nFeature is disabled by default.\r\n\r\nhttps://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/MapperFeature.html","title":"Case-insensitive JsonNode in Jackson","body":"<p>This feature is available as of 2.5 (Jan 2015):</p>\n<p><strong>ACCEPT_CASE_INSENSITIVE_PROPERTIES</strong></p>\n<blockquote>\n<p>Feature that will allow for more forgiving deserialization of incoming JSON. If enabled, the bean properties will be matched using their lower-case equivalents, meaning that any case-combination (incoming and matching names are canonicalized by lower-casing) should work.\nNote that there is additional performance overhead since incoming property names need to be lower-cased before comparison, for cases where there are upper-case letters. Overhead for names that are already lower-case should be negligible however.</p>\n</blockquote>\n<p>Feature is disabled by default.</p>\n<p><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/MapperFeature.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/MapperFeature.html</a></p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695417266,"creation_date":1695417266,"answer_id":77160707,"question_id":7141803,"body_markdown":"Unfortunately, as other&#39;s have noted, Jackson&#39;s `JsonNode` doesn&#39;t offer an internal feature for a case insensitive key lookup.  However, lucky for us, most `JsonNode`&#39;s can be easily converted to a map, and there are a few other `Map` implementations that do in fact offer a case insensitive lookup.  The easiest of these is [Spring&#39;s `LinkedCaseInsensitiveMap`][1], but [Java&#39;s `TreeMap`][2] will also work.  \r\n\r\nAll we have to do is convert the JsonNode to the map of choice and do the lookup there.  I&#39;ve listed a few examples below, and I&#39;m using the below method to create a JsonNode for use with these classes;\r\n\r\n```java\r\npublic JsonNode createNode()\r\n{\r\n  Map&lt;String, List&lt;String&gt;&gt; table = new HashMap&lt;&gt;();\r\n  table.put(&quot;first&quot;, new ArrayList&lt;&gt;(Arrays.asList(&quot;firstprop1&quot;, &quot;firstprop2&quot;)));\r\n  table.put(&quot;second&quot;, new ArrayList&lt;&gt;(Arrays.asList(&quot;secondprop1&quot;, &quot;secondprop2&quot;)));\r\n  table.put(&quot;third&quot;, new ArrayList&lt;&gt;(Arrays.asList(&quot;thirdprop1&quot;, &quot;thirdprop2&quot;)));\r\n\r\n  return new ObjectMapper().valueToTree(table);\r\n}\r\n```\r\n\r\n\r\n# LinkedCaseInsensitiveMap\r\n\r\nIf you are using Spring, I recommend using the `LinkedCaseInsensitiveMap`.  You won&#39;t need to update your dependencies and it &quot;preserves the original order as well as the original casing of keys, while allowing for contains, get and remove calls with any case of key.&quot;\r\n\r\n## Example\r\n```java\r\npublic JsonNode getCaseInsensitiveKey(JsonNode node, String key)\r\n{\r\n  var mapper = new ObjectMapper();\r\n  Map&lt;String, Object&gt; testing =\r\n      mapper.convertValue(node, mapper.getTypeFactory().constructParametricType(LinkedCaseInsensitiveMap.class, List.class));\r\n  return mapper.valueToTree(testing.get(key));\r\n}\r\n```\r\n\r\n# TreeMap\r\n\r\n`TreeMap` is the vanilla java solution.  `TreeMap` takes a custom comparator as a constructor argument.  You can use String bundled comparator `CASE_INSENSITIVE_ORDER` to create a case insensitive comparator.\r\n\r\n## Example\r\n```java\r\npublic JsonNode getCaseInsensitiveKeyFromTreeMap(JsonNode node, String key)\r\n{\r\n  var mapper = new ObjectMapper();\r\n  TreeMap&lt;String, Object&gt; testing = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\r\n  testing.putAll(mapper.convertValue(node, mapper.getTypeFactory().constructMapType(Map.class, String.class, List.class)));\r\n  return mapper.valueToTree(testing.get(key));\r\n}\r\n```\r\n\r\n# Testing\r\nThe above methods work for the following tests.\r\n```java\r\n@Test\r\npublic void testCaseInsensitivity()\r\n{\r\n  var testNode = createNode();\r\n  var result1 = getCaseInsensitiveKey(testNode, &quot;first&quot;);\r\n  var result2 = getCaseInsensitiveKey(testNode, &quot;FiRsT&quot;);\r\n  var result3 = getCaseInsensitiveKey(testNode, &quot;FIRST&quot;);\r\n  assertEquals(result1, result2);\r\n  assertEquals(result1, result3);\r\n}\r\n\r\n@Test\r\npublic void testCaseInsensitivityFromTreeMap()\r\n{\r\n  var testNode = createNode();\r\n  var result1 = getCaseInsensitiveKeyFromTreeMap(testNode, &quot;first&quot;);\r\n  var result2 = getCaseInsensitiveKeyFromTreeMap(testNode, &quot;FiRsT&quot;);\r\n  var result3 = getCaseInsensitiveKeyFromTreeMap(testNode, &quot;FIRST&quot;);\r\n  assertEquals(result1, result2);\r\n  assertEquals(result1, result3);\r\n```\r\n\r\n# Limitations\r\n\r\nNote that the above examples will only work to create a `Map&lt;String, List&gt;`.  This means it will not work with OPs example, which maps an integer, and not a list.  However, we can modify this to dynamically assign the inner class using java generics.\r\n\r\n## Example\r\n```java\r\npublic &lt;T&gt; JsonNode getCaseInsensitiveKey(JsonNode node, String key, Class&lt;T&gt; clazz)\r\n{\r\n  var mapper = new ObjectMapper();\r\n  Map&lt;String, T&gt; testing =\r\n      mapper.convertValue(node, mapper.getTypeFactory().constructParametricType(LinkedCaseInsensitiveMap.class, clazz));\r\n  return mapper.valueToTree(testing.get(key));\r\n}\r\n```\r\n\r\n## Testing\r\nNow, with the above modification, we can test the OPs example and successfully get the correct result.\r\n```java\r\n@Test\r\npublic void useOfOpExample() throws JsonProcessingException\r\n{\r\n  String s = &quot;{\\&quot;FOO\\&quot;: 123}&quot;;\r\n  ObjectMapper mapper = new ObjectMapper();\r\n  JsonNode node = mapper.readTree(s);\r\n  var fooNode1 = getCaseInsensitiveKey(node, &quot;foo&quot;, Integer.class);\r\n  var fooNode2 = getCaseInsensitiveKey(node, &quot;FOO&quot;, Integer.class);\r\n  assertEquals(fooNode1, fooNode2);\r\n}\r\n```\r\nWe are also able to still use our previous tests, with a slight modification, to also get the same result.\r\n```java\r\n@Test\r\npublic void testCaseInsensitivity()\r\n{\r\n  var testNode = createNode();\r\n  var result1 = getCaseInsensitiveKey(testNode, &quot;first&quot;, List.class);\r\n  var result2 = getCaseInsensitiveKey(testNode, &quot;FiRsT&quot;, List.class);\r\n  var result3 = getCaseInsensitiveKey(testNode, &quot;FIRST&quot;, List.class);\r\n  assertEquals(result1, result2);\r\n  assertEquals(result1, result3);\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/LinkedCaseInsensitiveMap.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html","title":"Case-insensitive JsonNode in Jackson","body":"<p>Unfortunately, as other's have noted, Jackson's <code>JsonNode</code> doesn't offer an internal feature for a case insensitive key lookup.  However, lucky for us, most <code>JsonNode</code>'s can be easily converted to a map, and there are a few other <code>Map</code> implementations that do in fact offer a case insensitive lookup.  The easiest of these is <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/LinkedCaseInsensitiveMap.html\" rel=\"nofollow noreferrer\">Spring's <code>LinkedCaseInsensitiveMap</code></a>, but <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">Java's <code>TreeMap</code></a> will also work.</p>\n<p>All we have to do is convert the JsonNode to the map of choice and do the lookup there.  I've listed a few examples below, and I'm using the below method to create a JsonNode for use with these classes;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public JsonNode createNode()\n{\n  Map&lt;String, List&lt;String&gt;&gt; table = new HashMap&lt;&gt;();\n  table.put(&quot;first&quot;, new ArrayList&lt;&gt;(Arrays.asList(&quot;firstprop1&quot;, &quot;firstprop2&quot;)));\n  table.put(&quot;second&quot;, new ArrayList&lt;&gt;(Arrays.asList(&quot;secondprop1&quot;, &quot;secondprop2&quot;)));\n  table.put(&quot;third&quot;, new ArrayList&lt;&gt;(Arrays.asList(&quot;thirdprop1&quot;, &quot;thirdprop2&quot;)));\n\n  return new ObjectMapper().valueToTree(table);\n}\n</code></pre>\n<h1>LinkedCaseInsensitiveMap</h1>\n<p>If you are using Spring, I recommend using the <code>LinkedCaseInsensitiveMap</code>.  You won't need to update your dependencies and it &quot;preserves the original order as well as the original casing of keys, while allowing for contains, get and remove calls with any case of key.&quot;</p>\n<h2>Example</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public JsonNode getCaseInsensitiveKey(JsonNode node, String key)\n{\n  var mapper = new ObjectMapper();\n  Map&lt;String, Object&gt; testing =\n      mapper.convertValue(node, mapper.getTypeFactory().constructParametricType(LinkedCaseInsensitiveMap.class, List.class));\n  return mapper.valueToTree(testing.get(key));\n}\n</code></pre>\n<h1>TreeMap</h1>\n<p><code>TreeMap</code> is the vanilla java solution.  <code>TreeMap</code> takes a custom comparator as a constructor argument.  You can use String bundled comparator <code>CASE_INSENSITIVE_ORDER</code> to create a case insensitive comparator.</p>\n<h2>Example</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public JsonNode getCaseInsensitiveKeyFromTreeMap(JsonNode node, String key)\n{\n  var mapper = new ObjectMapper();\n  TreeMap&lt;String, Object&gt; testing = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\n  testing.putAll(mapper.convertValue(node, mapper.getTypeFactory().constructMapType(Map.class, String.class, List.class)));\n  return mapper.valueToTree(testing.get(key));\n}\n</code></pre>\n<h1>Testing</h1>\n<p>The above methods work for the following tests.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testCaseInsensitivity()\n{\n  var testNode = createNode();\n  var result1 = getCaseInsensitiveKey(testNode, &quot;first&quot;);\n  var result2 = getCaseInsensitiveKey(testNode, &quot;FiRsT&quot;);\n  var result3 = getCaseInsensitiveKey(testNode, &quot;FIRST&quot;);\n  assertEquals(result1, result2);\n  assertEquals(result1, result3);\n}\n\n@Test\npublic void testCaseInsensitivityFromTreeMap()\n{\n  var testNode = createNode();\n  var result1 = getCaseInsensitiveKeyFromTreeMap(testNode, &quot;first&quot;);\n  var result2 = getCaseInsensitiveKeyFromTreeMap(testNode, &quot;FiRsT&quot;);\n  var result3 = getCaseInsensitiveKeyFromTreeMap(testNode, &quot;FIRST&quot;);\n  assertEquals(result1, result2);\n  assertEquals(result1, result3);\n</code></pre>\n<h1>Limitations</h1>\n<p>Note that the above examples will only work to create a <code>Map&lt;String, List&gt;</code>.  This means it will not work with OPs example, which maps an integer, and not a list.  However, we can modify this to dynamically assign the inner class using java generics.</p>\n<h2>Example</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; JsonNode getCaseInsensitiveKey(JsonNode node, String key, Class&lt;T&gt; clazz)\n{\n  var mapper = new ObjectMapper();\n  Map&lt;String, T&gt; testing =\n      mapper.convertValue(node, mapper.getTypeFactory().constructParametricType(LinkedCaseInsensitiveMap.class, clazz));\n  return mapper.valueToTree(testing.get(key));\n}\n</code></pre>\n<h2>Testing</h2>\n<p>Now, with the above modification, we can test the OPs example and successfully get the correct result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void useOfOpExample() throws JsonProcessingException\n{\n  String s = &quot;{\\&quot;FOO\\&quot;: 123}&quot;;\n  ObjectMapper mapper = new ObjectMapper();\n  JsonNode node = mapper.readTree(s);\n  var fooNode1 = getCaseInsensitiveKey(node, &quot;foo&quot;, Integer.class);\n  var fooNode2 = getCaseInsensitiveKey(node, &quot;FOO&quot;, Integer.class);\n  assertEquals(fooNode1, fooNode2);\n}\n</code></pre>\n<p>We are also able to still use our previous tests, with a slight modification, to also get the same result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testCaseInsensitivity()\n{\n  var testNode = createNode();\n  var result1 = getCaseInsensitiveKey(testNode, &quot;first&quot;, List.class);\n  var result2 = getCaseInsensitiveKey(testNode, &quot;FiRsT&quot;, List.class);\n  var result3 = getCaseInsensitiveKey(testNode, &quot;FIRST&quot;, List.class);\n  assertEquals(result1, result2);\n  assertEquals(result1, result3);\n}\n</code></pre>\n"}],"owner":{"account_id":9661,"reputation":10754,"user_id":17944,"accept_rate":100,"display_name":"David Phillips"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5414,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7154407,"answer_count":3,"score":5,"last_activity_date":1695417266,"creation_date":1313968662,"question_id":7141803,"body_markdown":"I need to deserialize JSON objects and access the fields in a case-insensitive manner.  Example:\r\n\r\n    String s = &quot;{\\&quot;FOO\\&quot;: 123}&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode node = mapper.readTree(s);\r\n    node.get(&quot;foo&quot;); // this should return the &quot;FOO&quot; field\r\n\r\nThis needs to be performant, so calling `getFieldNames()` and lowercasing the results is not a good solution.","title":"Case-insensitive JsonNode in Jackson","body":"<p>I need to deserialize JSON objects and access the fields in a case-insensitive manner.  Example:</p>\n\n<pre><code>String s = \"{\\\"FOO\\\": 123}\";\nObjectMapper mapper = new ObjectMapper();\nJsonNode node = mapper.readTree(s);\nnode.get(\"foo\"); // this should return the \"FOO\" field\n</code></pre>\n\n<p>This needs to be performant, so calling <code>getFieldNames()</code> and lowercasing the results is not a good solution.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695412730,"post_id":77160341,"comment_id":136026122,"body_markdown":"Define the testcontainers-bom before the bom of projecta-bom...","body":"Define the testcontainers-bom before the bom of projecta-bom..."},{"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"score":0,"creation_date":1695413750,"post_id":77160341,"comment_id":136026273,"body_markdown":"I know that i can change the order of my imports. i edited my post to ask the more specific question: why are dependencies with &lt;scope&gt;test&lt;/scope&gt; from being pulled in from projecta-bom?","body":"I know that i can change the order of my imports. i edited my post to ask the more specific question: why are dependencies with &lt;scope&gt;test&lt;/scope&gt; from being pulled in from projecta-bom?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695415073,"post_id":77160341,"comment_id":136026475,"body_markdown":"Also can you show the full poms for module1 and module2...","body":"Also can you show the full poms for module1 and module2..."},{"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"score":0,"creation_date":1695416995,"post_id":77160341,"comment_id":136026737,"body_markdown":"Updated pom.xml for module1 and module2. Updated module2 to be more representative of what our real poms look like.","body":"Updated pom.xml for module1 and module2. Updated module2 to be more representative of what our real poms look like."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1695542717,"post_id":77160341,"comment_id":136036351,"body_markdown":"@Wonger I understand that you need to &quot;shorten&quot; the BOMs/POMs, but I guess you missed something somewhere. The BOMs/POMs in the question seem fine.","body":"@Wonger I understand that you need to &quot;shorten&quot; the BOMs/POMs, but I guess you missed something somewhere. The BOMs/POMs in the question seem fine."},{"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"score":0,"creation_date":1695652219,"post_id":77160341,"comment_id":136049487,"body_markdown":"@JFabianMeier, I&#39;m not sure what you mean by &quot;the boms / poms look fine&quot;. Are you saying that that, based on the poms i provided, the `projecta-bom` import is expected to bring the testcontainer dependencies from projectA as transitive dependencies? Even though they have `&lt;scope&gt;test&lt;/scope&gt;`?","body":"@JFabianMeier, I&#39;m not sure what you mean by &quot;the boms / poms look fine&quot;. Are you saying that that, based on the poms i provided, the <code>projecta-bom</code> import is expected to bring the testcontainer dependencies from projectA as transitive dependencies? Even though they have <code>&lt;scope&gt;test&lt;&#47;scope&gt;</code>?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1695655433,"post_id":77160341,"comment_id":136050254,"body_markdown":"@Wonger I mean that from the XML you provided, you should get version `1.18.3`","body":"@Wonger I mean that from the XML you provided, you should get version <code>1.18.3</code>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695917176,"post_id":77160341,"comment_id":136090769,"body_markdown":"Can you provide an example project on github or alike?","body":"Can you provide an example project on github or alike?"}],"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695416909,"creation_date":1695412540,"question_id":77160341,"body_markdown":"I have 2 projects, project A and project B which each import the testcontainer-bom, but with different versions, in their parent pom.xml:\r\n\r\nproject A:\r\n```\r\n...\r\n    &lt;modules&gt;\r\n        &lt;module&gt;module1&lt;/module&gt;\r\n        &lt;module&gt;module2&lt;/module&gt;\r\n        &lt;module&gt;projecta-bom&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        ...\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;1.16.3&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n...\r\n```\r\nand the modules are the following:\r\n\r\n\r\nmodule1:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;projecta-parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.projecta&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;module1&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-java&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- TESTS --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nmodule2:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;projecta-parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.projecta&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;module2&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;artifactId&gt;module1&lt;/artifactId&gt;\r\n          &lt;groupId&gt;com.projecta&lt;/groupId&gt;\r\n          &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- Testing Dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nand\r\n\r\nprojecta-bom:\r\n```\r\n&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.projecta&lt;/groupId&gt;\r\n                &lt;artifactId&gt;module1&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.projecta&lt;/groupId&gt;\r\n                &lt;artifactId&gt;module2&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;dependencyManagement&gt;\r\n```\r\n\r\n\r\nproject B:\r\n```\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.projecta&lt;/groupId&gt;\r\n                &lt;artifactId&gt;projecta-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.3&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependencies&gt;\r\n    &lt;dependencyManagement&gt;\r\n```\r\n\r\nWhen I build projectB, i end up with testcontainers:jdbc and testcontainers:postgresql versions 1.16.3. I understand that if the same artifact is defined with different versions in 2 imported BOMs, then the version in the BOM file that was declared first will win, but its not clear to me why the testcontainer dependencies from projectA are being imported in the first place, given that they have a test scope. \r\n\r\nAm I doing something wrong? or am I misunderstanding how dependency scopes and BOMs work?\r\n\r\nedit: to be more specific, why are dependencies with &lt;scope&gt;test&lt;/scope&gt; from being pulled in from projecta-bom?\r\n\r\nmaven version: 3.8.4 \r\njava version: 17.0.7","title":"Why is the wrong dependency version imported when importing 2 BOMs with test dependencies","body":"<p>I have 2 projects, project A and project B which each import the testcontainer-bom, but with different versions, in their parent pom.xml:</p>\n<p>project A:</p>\n<pre><code>...\n    &lt;modules&gt;\n        &lt;module&gt;module1&lt;/module&gt;\n        &lt;module&gt;module2&lt;/module&gt;\n        &lt;module&gt;projecta-bom&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencyManagement&gt;\n        ...\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n                &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\n                &lt;version&gt;1.16.3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;dependencies&gt;\n    &lt;dependencyManagement&gt;\n...\n</code></pre>\n<p>and the modules are the following:</p>\n<p>module1:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;projecta-parent&lt;/artifactId&gt;\n        &lt;groupId&gt;com.projecta&lt;/groupId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;module1&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- TESTS --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>module2:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;artifactId&gt;projecta-parent&lt;/artifactId&gt;\n        &lt;groupId&gt;com.projecta&lt;/groupId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;module2&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;artifactId&gt;module1&lt;/artifactId&gt;\n          &lt;groupId&gt;com.projecta&lt;/groupId&gt;\n          &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Testing Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and</p>\n<p>projecta-bom:</p>\n<pre><code>&lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.projecta&lt;/groupId&gt;\n                &lt;artifactId&gt;module1&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.projecta&lt;/groupId&gt;\n                &lt;artifactId&gt;module2&lt;/artifactId&gt;\n                &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n    &lt;dependencyManagement&gt;\n</code></pre>\n<p>project B:</p>\n<pre><code>    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.projecta&lt;/groupId&gt;\n                &lt;artifactId&gt;projecta-bom&lt;/artifactId&gt;\n                &lt;version&gt;0.0.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n                &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\n                &lt;version&gt;1.18.3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;dependencies&gt;\n    &lt;dependencyManagement&gt;\n</code></pre>\n<p>When I build projectB, i end up with testcontainers:jdbc and testcontainers:postgresql versions 1.16.3. I understand that if the same artifact is defined with different versions in 2 imported BOMs, then the version in the BOM file that was declared first will win, but its not clear to me why the testcontainer dependencies from projectA are being imported in the first place, given that they have a test scope.</p>\n<p>Am I doing something wrong? or am I misunderstanding how dependency scopes and BOMs work?</p>\n<p>edit: to be more specific, why are dependencies with test from being pulled in from projecta-bom?</p>\n<p>maven version: 3.8.4\njava version: 17.0.7</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1686049700,"post_id":76411398,"comment_id":134742914,"body_markdown":"Any reason for tweaking WebServerFactoryCustomizer Bean ? Also what do you mean by additional port ?","body":"Any reason for tweaking WebServerFactoryCustomizer Bean ? Also what do you mean by additional port ?"},{"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"score":0,"creation_date":1686052113,"post_id":76411398,"comment_id":134743399,"body_markdown":"Actually my objective was to enable private and public api where public api will only be accessed over internet which will be enabled in firewall.","body":"Actually my objective was to enable private and public api where public api will only be accessed over internet which will be enabled in firewall."},{"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"score":0,"creation_date":1686128117,"post_id":76411398,"comment_id":134755267,"body_markdown":"it is something to do with SSL as I can see (1) port Starting ProtocolHandler [&quot;https-jsse-nio-9280&quot;] (2) port Starting ProtocolHandler [&quot;http-nio-19280&quot;] though it shows Tomcat started on port(s): 9280 (https) 19280 (https). Http nio is for http and not https. Any lead will be off great help","body":"it is something to do with SSL as I can see (1) port Starting ProtocolHandler [&quot;https-jsse-nio-9280&quot;] (2) port Starting ProtocolHandler [&quot;http-nio-19280&quot;] though it shows Tomcat started on port(s): 9280 (https) 19280 (https). Http nio is for http and not https. Any lead will be off great help"},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1686153782,"post_id":76411398,"comment_id":134761155,"body_markdown":"Let me give it a try &amp; see","body":"Let me give it a try &amp; see"},{"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"score":0,"creation_date":1686159165,"post_id":76411398,"comment_id":134762217,"body_markdown":"I got the thing working, i will cleanup and post complete solution tomorrow.","body":"I got the thing working, i will cleanup and post complete solution tomorrow."},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1686161382,"post_id":76411398,"comment_id":134762664,"body_markdown":"Excellent !! will wait for the answer","body":"Excellent !! will wait for the answer"}],"answers":[{"comments":[{"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"score":0,"creation_date":1686050650,"post_id":76414028,"comment_id":134743097,"body_markdown":"Thanks Jay, I am using Self Signed SSL certificate on the local port which is working. However, having additional https port is not working using the either same or different certificate","body":"Thanks Jay, I am using Self Signed SSL certificate on the local port which is working. However, having additional https port is not working using the either same or different certificate"},{"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"score":1,"creation_date":1686051775,"post_id":76414028,"comment_id":134743332,"body_markdown":"INFO  2023-06-06/17:08:18/GMT+05:30 [app-rest-api] (TomcatWebServer.java:220) (start) Tomcat started on port(s): 9280 (https) 19280 (https) with context path &#39;/app&#39;\n As you can see rest api is available on 2 ports. However, anything I access on 19280 throws error.","body":"INFO  2023-06-06/17:08:18/GMT+05:30 [app-rest-api] (TomcatWebServer.java:220) (start) Tomcat started on port(s): 9280 (https) 19280 (https) with context path &#39;/app&#39;  As you can see rest api is available on 2 ports. However, anything I access on 19280 throws error."},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1686055388,"post_id":76414028,"comment_id":134744133,"body_markdown":"Ahh I see there are 2 Bean of Tomcat in your application context, Listening to respective ports !! But basically in real world we redirect traffic on http to https using load balancer, your application should only support https protocol.","body":"Ahh I see there are 2 Bean of Tomcat in your application context, Listening to respective ports !! But basically in real world we redirect traffic on http to https using load balancer, your application should only support https protocol."},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1686055900,"post_id":76414028,"comment_id":134744243,"body_markdown":"Maybe possible SSL certificate is not correctly configured on your other port, can you try once by only enabling https and using same certificate, just to check if certificate is not causing this issue. Bcoz the error you posted occurs then only\nhttps://stackoverflow.com/a/41728777/16769477","body":"Maybe possible SSL certificate is not correctly configured on your other port, can you try once by only enabling https and using same certificate, just to check if certificate is not causing this issue. Bcoz the error you posted occurs then only <a href=\"https://stackoverflow.com/a/41728777/16769477\">stackoverflow.com/a/41728777/16769477</a>"},{"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"score":0,"creation_date":1686107291,"post_id":76414028,"comment_id":134752397,"body_markdown":"SSL Cert is working fine and I able access all endpoints /api/private on https (primary 9280). Only additional port 19280 which is intended for public api end point is not working.","body":"SSL Cert is working fine and I able access all endpoints /api/private on https (primary 9280). Only additional port 19280 which is intended for public api end point is not working."}],"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686049638,"creation_date":1686049638,"answer_id":76414028,"question_id":76411398,"body_markdown":"Couple of months back I enabled https for our REST API in Spring boot,used self signed certificate for local testing generated using Java keytool\r\n\r\n```\r\nkeytool -genkeypair -alias team_api -keyalg RSA -keysize 2048 -storetype PKCS12 -keystore gaskit.p12 -storepass pwd -validity 3650\r\n```\r\n\r\nAnd then adding following properties in application.properties \r\n\r\n```\r\nserver.ssl.key-store-type=${ssl_key_store_type}\r\n# The path to the keystore containing the certificate\r\nserver.ssl.key-store=${ssl_key_store}\r\n# The password used to generate the certificate\r\nserver.ssl.key-store-password=${ssl_key_store_Password}\r\n# The alias mapped to the certificate\r\nserver.ssl.key-alias=${ssl_key_alias}\r\nserver.ssl.enabled=true\r\n\r\n```","title":"Unable to get additional tomcat port on https using Spring Boot","body":"<p>Couple of months back I enabled https for our REST API in Spring boot,used self signed certificate for local testing generated using Java keytool</p>\n<pre><code>keytool -genkeypair -alias team_api -keyalg RSA -keysize 2048 -storetype PKCS12 -keystore gaskit.p12 -storepass pwd -validity 3650\n</code></pre>\n<p>And then adding following properties in application.properties</p>\n<pre><code>server.ssl.key-store-type=${ssl_key_store_type}\n# The path to the keystore containing the certificate\nserver.ssl.key-store=${ssl_key_store}\n# The password used to generate the certificate\nserver.ssl.key-store-password=${ssl_key_store_Password}\n# The alias mapped to the certificate\nserver.ssl.key-alias=${ssl_key_alias}\nserver.ssl.enabled=true\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686333030,"creation_date":1686193145,"answer_id":76428329,"question_id":76411398,"body_markdown":"Finally, I am able to get Public / Private Api EndPoints by deep dive into Http11NioProtocol. Thanks to Spring Community Documents [Spring Docs][1] under Section: Enable Multiple Connectors with Tomcat for all explanations.\r\n\r\nPlease find complete solution below\r\n1) Create Configuration File for Public Api &lt;pre&gt;&lt;code&gt;\r\n@Configuration\r\n@PropertySource(&quot;classpath:public-api.properties&quot;)\r\n@ConfigurationProperties(prefix = &quot;public.ssl&quot;)\r\n@Data\r\npublic class PublicApiConfig {\r\n\tprivate int port;\r\n\tprivate String keyStoreType;\r\n\tprivate String keyStore;\r\n\tprivate String keyStorePassword;\r\n\tprivate String keyAlias;\r\n\tprivate List&lt;String&gt; pathsToMatch;\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n2) Configuration File public-api.properties &lt;pre&gt;&lt;code&gt;\r\npublic.ssl.port=19280\r\npublic.ssl.key-store-type=PKCS12\r\npublic.ssl.key-store=ssl/your_certificate.p12\r\npublic.ssl.key-store-password=your_password\r\npublic.ssl.key-alias=tomcat\r\npublic.ssl.paths-to-match=/api/public\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n3) Define `server.public.ssl.port.enabled` in your application.properties and value could be true (Public Access) or false.\r\n&lt;pre&gt;&lt;code&gt;# true for Public Api Access\r\nserver.public.ssl.port.enabled=true&lt;/code&gt;&lt;/pre&gt;\r\n4) Create PublicPortCustomizer class\r\n&lt;pre&gt;&lt;code&gt;@Component\r\n@ConditionalOnProperty(value = &quot;server.public.ssl.port.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\r\npublic class PublicPortCustomizer {\r\n\r\n\tprivate static final Logger logger = LogManager.getLogger(PublicPortCustomizer.class);\r\n\r\n\t@Autowired\r\n\tPublicApiConfig publicPortConfig;\r\n\r\n\t/**\r\n\t * Verify if KeyStore is Valid\r\n\t */\r\n\tprivate boolean isValidKeyStoreFile(String keyStoreFile, String keyStorePassword, String keyStoreType) {\r\n\t\ttry {\r\n\t\t\tFile file = new File(keyStoreFile);\r\n\t\t\tKeyStore keystore = KeyStore.getInstance(keyStoreType);\r\n\t\t\tFileInputStream fis = new FileInputStream(file);\r\n\t\t\tkeystore.load(fis, keyStorePassword.toCharArray());\r\n\t\t\treturn true;\r\n\t\t} catch (KeyStoreException | NoSuchAlgorithmException | CertificateException | IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ServletWebServerFactory servletContainer() {\r\n\t\tTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\r\n\t\tif (isValidKeyStoreFile(publicPortConfig.getKeyStore(), publicPortConfig.getKeyStorePassword(),\r\n\t\t\t\tpublicPortConfig.getKeyStoreType())) {\r\n\t\t\tlogger.info(&quot;Configuring Ssl Public for KeyStore: {}&quot;, publicPortConfig.getKeyStore());\r\n\t\t\t/**\r\n\t\t\t * Create Connector\r\n\t\t\t */\r\n\t\t\tConnector connector = createSslConnector();\r\n\t\t\ttomcat.addAdditionalTomcatConnectors(connector);\r\n\t\t} else {\r\n\t\t\tlogger.fatal(&quot;KeyStore for Public: {} is INVALID&quot;, publicPortConfig.getKeyStore());\r\n\t\t}\r\n\t\treturn tomcat;\r\n\t}\r\n\r\n\t/**\r\n\t * Create Ssl Connector\r\n\t * @return\r\n\t */\r\n\tprivate Connector createSslConnector() {\r\n\t\tlogger.info(&quot;Configuring Additional Ssl Connector...&quot;);\r\n\r\n\t\tConnector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n\r\n\t\tconnector.setScheme(&quot;https&quot;);\r\n\t\tconnector.setSecure(true);\r\n\t\tconnector.setPort(publicPortConfig.getPort());\r\n\r\n\t\tHttp11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\r\n\r\n\t\tprotocol.setSSLEnabled(true);\r\n\t\tprotocol.setKeystoreFile(publicPortConfig.getKeyStore());\r\n\t\tprotocol.setKeystorePass(publicPortConfig.getKeyStorePassword());\r\n\t\tprotocol.setKeyAlias(publicPortConfig.getKeyAlias());\r\n\r\n\t\treturn connector;\r\n\t}\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.0.M6/reference/html/howto-embedded-web-servers.html\r\n\r\n5) Define SpringSecurity where Public Api will be accessed through JWT which is controlled in Controller\r\n&lt;pre&gt;&lt;code&gt;@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\r\npublic class SpringSecurityConfig {\r\n\r\n\t@Autowired\r\n\tCustomAuthenticationProvider customAuthenticationProvider;\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeRequests()\r\n\t\t\t\t.antMatchers(&quot;/api/public/**&quot;).permitAll()\r\n\t\t\t\t.and()\r\n\t\t\t\t\t.authorizeRequests().anyRequest().fullyAuthenticated();\r\n\t\thttp.sessionManagement()\r\n\t\t\t\t .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\thttp.httpBasic()\r\n\t\t\t.and()\r\n\t\t\t.authenticationProvider(customAuthenticationProvider);\r\n\t\thttp.csrf().disable();\r\n\t\thttp.requiresChannel(channel -&gt; channel.anyRequest().requiresSecure());\r\n\t\treturn http.build();\r\n\t}\r\n\t\r\n\t@Bean\r\n\t@Lazy\r\n    public FilterRegistrationBean&lt;PublicEndpointsFilter&gt; publicEndpointsFilter() {\r\n        return new FilterRegistrationBean&lt;&gt;(new PublicEndpointsFilter(publicPortConfig.getPort(),\r\n        \t\tpublicPortConfig.getPathsToMatch()));\r\n    }\r\n}\r\n &lt;/code&gt;&lt;/pre&gt;\r\n5a) Filters to handle public endpoints.\r\n&lt;pre&gt;&lt;code&gt;public class PublicEndpointsFilter implements Filter {\r\n\r\n\tprivate static final Logger logger = LogManager.getLogger(PublicEndpointsFilter.class);\r\n\r\n\tint publicPort;\r\n\tList&lt;String&gt; pathsToMatch;\r\n\r\n\t/**\r\n\t * Default Constructor\r\n\t * \r\n\t * @param publicPort\r\n\t * @param pathsToMatch\r\n\t */\r\n\tpublic PublicEndpointsFilter(int publicPort, List&lt;String&gt; pathsToMatch) {\r\n\t\tthis.publicPort = publicPort;\r\n\t\tthis.pathsToMatch = pathsToMatch;\r\n\t\tlogger.info(&quot;Configuring Filter for publicPort: {} pathsToMatch: {}&quot;, publicPort, pathsToMatch);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void init(FilterConfig filterConfig) throws ServletException {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n\t\t\tthrows IOException, ServletException {\r\n\t\tHttpServletRequest request = (HttpServletRequest) servletRequest;\r\n\t\tHttpServletResponse response = (HttpServletResponse) servletResponse;\r\n\r\n\t\tboolean trustedEndPoint = isRequestForTrustedEndpoint(servletRequest);\r\n\t\tint status = HttpServletResponse.SC_OK;\r\n\t\t///////////////////////\r\n\t\tif (servletRequest.getLocalPort() == publicPort &amp;&amp; !trustedEndPoint) {\r\n\t\t\tstatus = HttpServletResponse.SC_FORBIDDEN;\r\n\t\t}\r\n\t\tif (status != HttpServletResponse.SC_OK) {\r\n\t\t\tlogger.warn(&quot;Denying request on path: {} publicPort: {} localPort: {} status: {}&quot;, request.getRequestURI(),\r\n\t\t\t\t\tpublicPort, servletRequest.getLocalPort(), status);\r\n\t\t\tresponse.setStatus(status);\r\n\t\t\tservletResponse.getOutputStream().close();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t///////////////////////\r\n\t\tif (servletRequest.getLocalPort() != publicPort &amp;&amp; trustedEndPoint) {\r\n\t\t\tstatus = HttpServletResponse.SC_FORBIDDEN;\r\n\t\t}\r\n\t\tif (status != HttpServletResponse.SC_OK) {\r\n\t\t\tlogger.warn(&quot;Denying request on path: {} publicPort: {} localPort: {} status: {}&quot;, request.getRequestURI(),\r\n\t\t\t\t\tpublicPort, servletRequest.getLocalPort(), status);\r\n\t\t\tresponse.setStatus(status);\r\n\t\t\tservletResponse.getOutputStream().close();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlogger.debug(&quot;Filter Delegate on path: {} localPort: {} status: {}&quot;, request.getRequestURI(),\r\n\t\t\t\trequest.getLocalPort(), status);\r\n\t\tfilterChain.doFilter(servletRequest, response);\r\n\t}\r\n\r\n\t/**\r\n\t * Verify Path as required for Public Access\r\n\t * \r\n\t * @param servletRequest\r\n\t * @return\r\n\t */\r\n\tprivate boolean isRequestForTrustedEndpoint(ServletRequest servletRequest) {\r\n\t\tHttpServletRequest request = (HttpServletRequest) servletRequest;\r\n\t\tboolean ok = false;\r\n\t\t\r\n\t\tfor (String pathToMatch : pathsToMatch) {\r\n\t\t\tString requestPath = request.getContextPath() + pathToMatch;\r\n\t\t\tok = request.getRequestURI().startsWith(requestPath);\r\n\t\t\tlogger.debug(&quot;Verified path: {} localPort: {}&quot;, requestPath, servletRequest.getLocalPort());\r\n\t\t}\r\n\t\treturn ok;\r\n\t}&lt;/code&gt;&lt;/pre&gt;\r\n6) Sample Public / Private Rest Controller\r\n&lt;pre&gt;&lt;code&gt;@RestController\r\npublic class PublicApiHelloController {\r\n\t@GetMapping(&quot;/api/public&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; hello() {\r\n\t\treturn ResponseEntity.ok(&quot;Hello Customer (public)&quot;);\r\n\t}\r\n}\r\n@RestController\r\npublic class PrivateApiHelloController {\r\n    // Requires Authentication\r\n\t@GetMapping(&quot;/api/private&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; hello() {\r\n\t\treturn ResponseEntity.ok(&quot;Hello Staff (private)&quot;);\r\n\t}\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n7) Start Application and you should see \r\n&lt;pre&gt;&lt;code&gt;INFO  2023-06-08/08:19:27/GMT+05:30 [app-api] (DirectJDKLog.java:173) (log) Starting ProtocolHandler [&quot;https-jsse-nio-9280&quot;]\r\nINFO  2023-06-08/08:19:27/GMT+05:30 [app-api] (DirectJDKLog.java:173) (log) Starting ProtocolHandler [&quot;https-jsse-nio-19280&quot;]\r\nINFO  2023-06-08/08:19:27/GMT+05:30 [app-api] (TomcatWebServer.java:220) (start) Tomcat started on port(s): 9280 (https) 19280 (https) with context path &#39;/app&#39;\r\n&lt;/code&gt;&lt;/pre&gt;\r\nMake sure ProtocolHandler starts with https-jsse-nio for all https enabled.\r\n\r\n8) Public Api Request\r\n&lt;pre&gt;&lt;code&gt;curl --insecure -H &#39;Accept: application/json&#39; -H &#39;Content-Type: application/json&#39; -X GET https://localhost:19280/app/api/public&lt;/code&gt;&lt;/pre&gt;\r\nResponse:: Hello Customer (public)\r\n\r\n9)Private Api Request\r\n&lt;pre&gt;&lt;code&gt;curl --insecure -H &#39;Accept: application/json&#39; -H &#39;Content-Type: application/json&#39; -X GET https://localhost:9280/app/api/private&lt;/code&gt;&lt;/pre&gt;\r\nResponse:: {&quot;timestamp&quot;:1686133851868,&quot;status&quot;:401,&quot;error&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;Unauthorized&quot;,&quot;path&quot;:&quot;/app/api/private&quot;}\r\n\r\nUnauthorized as private expects Authentication\r\n\r\n10) Public Ports are configured in firewall to allow traffic\r\n\r\nThanks\r\n","title":"Unable to get additional tomcat port on https using Spring Boot","body":"<p>Finally, I am able to get Public / Private Api EndPoints by deep dive into Http11NioProtocol. Thanks to Spring Community Documents <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.M6/reference/html/howto-embedded-web-servers.html\" rel=\"nofollow noreferrer\">Spring Docs</a> under Section: Enable Multiple Connectors with Tomcat for all explanations.</p>\n<p>Please find complete solution below</p>\n<ol>\n<li><p>Create Configuration File for Public Api <pre><code>\n@Configuration\n@PropertySource(&quot;classpath:public-api.properties&quot;)\n@ConfigurationProperties(prefix = &quot;public.ssl&quot;)\n@Data\npublic class PublicApiConfig {\nprivate int port;\nprivate String keyStoreType;\nprivate String keyStore;\nprivate String keyStorePassword;\nprivate String keyAlias;\nprivate List pathsToMatch;\n}\n</code></pre></p>\n</li>\n<li><p>Configuration File public-api.properties <pre><code>\npublic.ssl.port=19280\npublic.ssl.key-store-type=PKCS12\npublic.ssl.key-store=ssl/your_certificate.p12\npublic.ssl.key-store-password=your_password\npublic.ssl.key-alias=tomcat\npublic.ssl.paths-to-match=/api/public\n</code></pre></p>\n</li>\n<li><p>Define <code>server.public.ssl.port.enabled</code> in your application.properties and value could be true (Public Access) or false.</p>\n</li>\n</ol>\n<pre><code># true for Public Api Access\nserver.public.ssl.port.enabled=true</code></pre>\n<ol start=\"4\">\n<li>Create PublicPortCustomizer class</li>\n</ol>\n<pre><code>@Component\n@ConditionalOnProperty(value = \"server.public.ssl.port.enabled\", havingValue = \"true\", matchIfMissing = false)\npublic class PublicPortCustomizer {\n\n    private static final Logger logger = LogManager.getLogger(PublicPortCustomizer.class);\n\n    @Autowired\n    PublicApiConfig publicPortConfig;\n\n    /**\n     * Verify if KeyStore is Valid\n     */\n    private boolean isValidKeyStoreFile(String keyStoreFile, String keyStorePassword, String keyStoreType) {\n        try {\n            File file = new File(keyStoreFile);\n            KeyStore keystore = KeyStore.getInstance(keyStoreType);\n            FileInputStream fis = new FileInputStream(file);\n            keystore.load(fis, keyStorePassword.toCharArray());\n            return true;\n        } catch (KeyStoreException | NoSuchAlgorithmException | CertificateException | IOException e) {\n            e.printStackTrace();\n        }\n        return false;\n    }\n\n    @Bean\n    public ServletWebServerFactory servletContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\n        if (isValidKeyStoreFile(publicPortConfig.getKeyStore(), publicPortConfig.getKeyStorePassword(),\n                publicPortConfig.getKeyStoreType())) {\n            logger.info(\"Configuring Ssl Public for KeyStore: {}\", publicPortConfig.getKeyStore());\n            /**\n             * Create Connector\n             */\n            Connector connector = createSslConnector();\n            tomcat.addAdditionalTomcatConnectors(connector);\n        } else {\n            logger.fatal(\"KeyStore for Public: {} is INVALID\", publicPortConfig.getKeyStore());\n        }\n        return tomcat;\n    }\n\n    /**\n     * Create Ssl Connector\n     * @return\n     */\n    private Connector createSslConnector() {\n        logger.info(\"Configuring Additional Ssl Connector...\");\n\n        Connector connector = new Connector(\"org.apache.coyote.http11.Http11NioProtocol\");\n\n        connector.setScheme(\"https\");\n        connector.setSecure(true);\n        connector.setPort(publicPortConfig.getPort());\n\n        Http11NioProtocol protocol = (Http11NioProtocol) connector.getProtocolHandler();\n\n        protocol.setSSLEnabled(true);\n        protocol.setKeystoreFile(publicPortConfig.getKeyStore());\n        protocol.setKeystorePass(publicPortConfig.getKeyStorePassword());\n        protocol.setKeyAlias(publicPortConfig.getKeyAlias());\n\n        return connector;\n    }\n}</code></pre>\n<ol start=\"5\">\n<li>Define SpringSecurity where Public Api will be accessed through JWT which is controlled in Controller</li>\n</ol>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\npublic class SpringSecurityConfig {\n\n    @Autowired\n    CustomAuthenticationProvider customAuthenticationProvider;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(\"/api/public/**\").permitAll()\n                .and()\n                    .authorizeRequests().anyRequest().fullyAuthenticated();\n        http.sessionManagement()\n                 .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        http.httpBasic()\n            .and()\n            .authenticationProvider(customAuthenticationProvider);\n        http.csrf().disable();\n        http.requiresChannel(channel -> channel.anyRequest().requiresSecure());\n        return http.build();\n    }\n    \n    @Bean\n    @Lazy\n    public FilterRegistrationBean publicEndpointsFilter() {\n        return new FilterRegistrationBean(new PublicEndpointsFilter(publicPortConfig.getPort(),\n                publicPortConfig.getPathsToMatch()));\n    }\n}\n </code></pre>\n<p>5a) Filters to handle public endpoints.</p>\n<pre><code>public class PublicEndpointsFilter implements Filter {\n\n    private static final Logger logger = LogManager.getLogger(PublicEndpointsFilter.class);\n\n    int publicPort;\n    List pathsToMatch;\n\n    /**\n     * Default Constructor\n     * \n     * @param publicPort\n     * @param pathsToMatch\n     */\n    public PublicEndpointsFilter(int publicPort, List pathsToMatch) {\n        this.publicPort = publicPort;\n        this.pathsToMatch = pathsToMatch;\n        logger.info(\"Configuring Filter for publicPort: {} pathsToMatch: {}\", publicPort, pathsToMatch);\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n            throws IOException, ServletException {\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\n\n        boolean trustedEndPoint = isRequestForTrustedEndpoint(servletRequest);\n        int status = HttpServletResponse.SC_OK;\n        ///////////////////////\n        if (servletRequest.getLocalPort() == publicPort && !trustedEndPoint) {\n            status = HttpServletResponse.SC_FORBIDDEN;\n        }\n        if (status != HttpServletResponse.SC_OK) {\n            logger.warn(\"Denying request on path: {} publicPort: {} localPort: {} status: {}\", request.getRequestURI(),\n                    publicPort, servletRequest.getLocalPort(), status);\n            response.setStatus(status);\n            servletResponse.getOutputStream().close();\n            return;\n        }\n        ///////////////////////\n        if (servletRequest.getLocalPort() != publicPort && trustedEndPoint) {\n            status = HttpServletResponse.SC_FORBIDDEN;\n        }\n        if (status != HttpServletResponse.SC_OK) {\n            logger.warn(\"Denying request on path: {} publicPort: {} localPort: {} status: {}\", request.getRequestURI(),\n                    publicPort, servletRequest.getLocalPort(), status);\n            response.setStatus(status);\n            servletResponse.getOutputStream().close();\n            return;\n        }\n        logger.debug(\"Filter Delegate on path: {} localPort: {} status: {}\", request.getRequestURI(),\n                request.getLocalPort(), status);\n        filterChain.doFilter(servletRequest, response);\n    }\n\n    /**\n     * Verify Path as required for Public Access\n     * \n     * @param servletRequest\n     * @return\n     */\n    private boolean isRequestForTrustedEndpoint(ServletRequest servletRequest) {\n        HttpServletRequest request = (HttpServletRequest) servletRequest;\n        boolean ok = false;\n        \n        for (String pathToMatch : pathsToMatch) {\n            String requestPath = request.getContextPath() + pathToMatch;\n            ok = request.getRequestURI().startsWith(requestPath);\n            logger.debug(\"Verified path: {} localPort: {}\", requestPath, servletRequest.getLocalPort());\n        }\n        return ok;\n    }</code></pre>\n<ol start=\"6\">\n<li>Sample Public / Private Rest Controller</li>\n</ol>\n<pre><code>@RestController\npublic class PublicApiHelloController {\n    @GetMapping(\"/api/public\")\n    public ResponseEntity hello() {\n        return ResponseEntity.ok(\"Hello Customer (public)\");\n    }\n}\n@RestController\npublic class PrivateApiHelloController {\n    // Requires Authentication\n    @GetMapping(\"/api/private\")\n    public ResponseEntity hello() {\n        return ResponseEntity.ok(\"Hello Staff (private)\");\n    }\n}</code></pre>\n<ol start=\"7\">\n<li>Start Application and you should see</li>\n</ol>\n<pre><code>INFO  2023-06-08/08:19:27/GMT+05:30 [app-api] (DirectJDKLog.java:173) (log) Starting ProtocolHandler [\"https-jsse-nio-9280\"]\nINFO  2023-06-08/08:19:27/GMT+05:30 [app-api] (DirectJDKLog.java:173) (log) Starting ProtocolHandler [\"https-jsse-nio-19280\"]\nINFO  2023-06-08/08:19:27/GMT+05:30 [app-api] (TomcatWebServer.java:220) (start) Tomcat started on port(s): 9280 (https) 19280 (https) with context path '/app'\n</code></pre>\n<p>Make sure ProtocolHandler starts with https-jsse-nio for all https enabled.</p>\n<ol start=\"8\">\n<li>Public Api Request</li>\n</ol>\n<pre><code>curl --insecure -H 'Accept: application/json' -H 'Content-Type: application/json' -X GET https://localhost:19280/app/api/public</code></pre>\n<p>Response:: Hello Customer (public)</p>\n<p>9)Private Api Request</p>\n<pre><code>curl --insecure -H 'Accept: application/json' -H 'Content-Type: application/json' -X GET https://localhost:9280/app/api/private</code></pre>\n<p>Response:: {&quot;timestamp&quot;:1686133851868,&quot;status&quot;:401,&quot;error&quot;:&quot;Unauthorized&quot;,&quot;message&quot;:&quot;Unauthorized&quot;,&quot;path&quot;:&quot;/app/api/private&quot;}</p>\n<p>Unauthorized as private expects Authentication</p>\n<ol start=\"10\">\n<li>Public Ports are configured in firewall to allow traffic</li>\n</ol>\n<p>Thanks</p>\n"}],"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695416801,"creation_date":1686024507,"question_id":76411398,"body_markdown":"I have configured additional port to work on https for an REST endpoint. However, while sending request to this endpoint, application does not negotiate over https instead it uses only http. Framework is on Spring Boot 2.7.5.\r\n\r\n    @Configuration \r\n    public class PublicPortConfig {\r\n    private static final Logger logger = LogManager.getLogger(PublicPortConfig.class);\r\n    \r\n    @Value(&quot;${server.port.public:19280}&quot;)\r\n    private int port;\r\n    \r\n    @Bean\r\n    @ConditionalOnProperty(name = &quot;server.port.public&quot;)\r\n    public WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; publicServletContainerCustomizer (\r\n    \t\tServerProperties serverProperties) {\r\n    \tlogger.info(&quot;Configuring public port: {}&quot;, port);\r\n    \treturn tomcat -&gt; {\t\t\t\r\n    \t\tConnector connector = new Connector();\r\n    \r\n    \t\tconnector.setPort(port);\r\n    \t\tconnector.setScheme(&quot;https&quot;);\r\n    \t\t\t\t\t\r\n    \t\tSSLHostConfig sslHostConfig = new SSLHostConfig();\r\n    \t\t\r\n    \t\t       sslHostConfig.setCertificateKeystoreFile(serverProperties.getSsl().getKeyStore());\r\n    \t\tsslHostConfig.setCertificateKeyPassword(serverProperties.getSsl().getKeyStorePassword());\r\n    \t\tsslHostConfig.setCertificateKeystoreType(serverProperties.getSsl().getKeyStoreType());\r\n    \r\n    \t\tconnector.addSslHostConfig(sslHostConfig);\r\n            \r\n            tomcat.addAdditionalTomcatConnectors(connector);\r\n    \t};\r\n    }\r\n    }\r\n    @RestController\r\n    public class ExternalApiController {\r\n    \t@GetMapping(&quot;/api/public&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; hello() {\r\n    \t\treturn ResponseEntity.ok(&quot;Hello Customer (public)&quot;);\r\n    \t}\r\n    }\r\n\r\n    @Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\tlogger.info(&quot;Configuring HttpSecurity via SecurityFilterChain...&quot;);\r\n\t\t// @formatter:off\r\n\t\thttp.authorizeRequests()\r\n\t\t\t\t.antMatchers(AUTH_PATH_WHITELIST).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/api/public/**&quot;).permitAll()\r\n\t\t\t\t.antMatchers(&quot;/api/admin/**&quot;).hasAnyRole(&quot;ADMIN&quot;)\r\n\t\t\t\t.antMatchers(&quot;/actuator/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;ACTUATOR&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t\t\t.authorizeRequests().anyRequest().fullyAuthenticated();\r\n\t\thttp.sessionManagement()\r\n\t\t\t\t .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t\t\t .maximumSessions(MAX_SESSION_ACTIVE);\r\n\t\thttp.httpBasic()\r\n\t\t\t.realmName(&quot;API Auth via DB or LDAP&quot;)\r\n\t\t\t.and()\r\n\t\t\t.authenticationProvider(customAuthenticationProvider);\r\n\t\thttp.csrf().csrfTokenRepository(cookieCsrfTokenRepository());\r\n\t\t/**\r\n\t\t * Force Disable for API\r\n\t\t */\r\n\t\thttp.csrf().disable();\r\n\t\t// http.cors().disable();\r\n\t\t// @formatter:on\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\nExternalApiController sends response when request is sent on http and not on https. All fully authenticated endpoints works perfectly well on https. \r\n\r\ncURL gives following results\r\n\r\n    $ curl --insecure -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/json&quot; -X GET &quot;https://localhost:19280/app/api/public&quot;\r\n\r\nResponse: curl: (35) LibreSSL/3.3.6: error:1404B42E:SSL routines:ST_CONNECT:tlsv1 alert protocol version\r\nJava Backend Error: java.lang.IllegalArgumentException: Invalid character found in method name \r\n[0x160x030x010x01(0x010x000x01$0x030x030\\90xe9}0xef0x980x970x1b+0x820x0f0xc10xbc0xde0x8370xfceI0xdey0x100x1f0x99vJ0xa50x7f_0xd9Y ]. \r\nHTTP method names must be tokens\r\n\r\nWhere as http request using cURL\r\n\r\n    $ curl --insecure -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/json&quot; -X GET &quot;http://localhost:19280/app/api/public&quot;\r\n\r\nResponse: Hello Customer (public)\r\n\r\nApplication is started on 2 ports as per below log\r\nINFO 2023-06-06/17:08:18/GMT+05:30 [app-rest-api] (TomcatWebServer.java:220) (start) Tomcat started on port(s): 9280 (https) 19280 (https) with context path &#39;/app&#39; \r\n\r\nPort 9280 is ok. However, anything I access on 19280 throws error.\r\n","title":"Unable to get additional tomcat port on https using Spring Boot","body":"<p>I have configured additional port to work on https for an REST endpoint. However, while sending request to this endpoint, application does not negotiate over https instead it uses only http. Framework is on Spring Boot 2.7.5.</p>\n<pre><code>@Configuration \npublic class PublicPortConfig {\nprivate static final Logger logger = LogManager.getLogger(PublicPortConfig.class);\n\n@Value(&quot;${server.port.public:19280}&quot;)\nprivate int port;\n\n@Bean\n@ConditionalOnProperty(name = &quot;server.port.public&quot;)\npublic WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; publicServletContainerCustomizer (\n        ServerProperties serverProperties) {\n    logger.info(&quot;Configuring public port: {}&quot;, port);\n    return tomcat -&gt; {          \n        Connector connector = new Connector();\n\n        connector.setPort(port);\n        connector.setScheme(&quot;https&quot;);\n                    \n        SSLHostConfig sslHostConfig = new SSLHostConfig();\n        \n               sslHostConfig.setCertificateKeystoreFile(serverProperties.getSsl().getKeyStore());\n        sslHostConfig.setCertificateKeyPassword(serverProperties.getSsl().getKeyStorePassword());\n        sslHostConfig.setCertificateKeystoreType(serverProperties.getSsl().getKeyStoreType());\n\n        connector.addSslHostConfig(sslHostConfig);\n        \n        tomcat.addAdditionalTomcatConnectors(connector);\n    };\n}\n}\n@RestController\npublic class ExternalApiController {\n    @GetMapping(&quot;/api/public&quot;)\n    public ResponseEntity&lt;String&gt; hello() {\n        return ResponseEntity.ok(&quot;Hello Customer (public)&quot;);\n    }\n}\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    logger.info(&quot;Configuring HttpSecurity via SecurityFilterChain...&quot;);\n    // @formatter:off\n    http.authorizeRequests()\n            .antMatchers(AUTH_PATH_WHITELIST).permitAll()\n            .antMatchers(&quot;/api/public/**&quot;).permitAll()\n            .antMatchers(&quot;/api/admin/**&quot;).hasAnyRole(&quot;ADMIN&quot;)\n            .antMatchers(&quot;/actuator/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;ACTUATOR&quot;)\n            .and()\n                .authorizeRequests().anyRequest().fullyAuthenticated();\n    http.sessionManagement()\n             .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n             .maximumSessions(MAX_SESSION_ACTIVE);\n    http.httpBasic()\n        .realmName(&quot;API Auth via DB or LDAP&quot;)\n        .and()\n        .authenticationProvider(customAuthenticationProvider);\n    http.csrf().csrfTokenRepository(cookieCsrfTokenRepository());\n    /**\n     * Force Disable for API\n     */\n    http.csrf().disable();\n    // http.cors().disable();\n    // @formatter:on\n\n    return http.build();\n}\n</code></pre>\n<p>ExternalApiController sends response when request is sent on http and not on https. All fully authenticated endpoints works perfectly well on https.</p>\n<p>cURL gives following results</p>\n<pre><code>$ curl --insecure -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/json&quot; -X GET &quot;https://localhost:19280/app/api/public&quot;\n</code></pre>\n<p>Response: curl: (35) LibreSSL/3.3.6: error:1404B42E:SSL routines:ST_CONNECT:tlsv1 alert protocol version\nJava Backend Error: java.lang.IllegalArgumentException: Invalid character found in method name\n[0x160x030x010x01(0x010x000x01$0x030x030\\90xe9}0xef0x980x970x1b+0x820x0f0xc10xbc0xde0x8370xfceI0xdey0x100x1f0x99vJ0xa50x7f_0xd9Y ].\nHTTP method names must be tokens</p>\n<p>Where as http request using cURL</p>\n<pre><code>$ curl --insecure -H &quot;Accept: application/json&quot; -H &quot;Content-Type: application/json&quot; -X GET &quot;http://localhost:19280/app/api/public&quot;\n</code></pre>\n<p>Response: Hello Customer (public)</p>\n<p>Application is started on 2 ports as per below log\nINFO 2023-06-06/17:08:18/GMT+05:30 [app-rest-api] (TomcatWebServer.java:220) (start) Tomcat started on port(s): 9280 (https) 19280 (https) with context path '/app'</p>\n<p>Port 9280 is ok. However, anything I access on 19280 throws error.</p>\n"},{"tags":["java","cucumber","gherkin","serenity"],"comments":[{"owner":{"account_id":29512370,"reputation":1,"user_id":22617123,"display_name":"michael Schreiber"},"score":0,"creation_date":1695661434,"post_id":77160625,"comment_id":136051399,"body_markdown":"I am not exactly sure what you&#39;re saying. This is my first post on SO and I am not allowed to embed images in my posts yet.","body":"I am not exactly sure what you&#39;re saying. This is my first post on SO and I am not allowed to embed images in my posts yet."}],"owner":{"account_id":29512370,"reputation":1,"user_id":22617123,"display_name":"michael Schreiber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695416244,"creation_date":1695416178,"question_id":77160625,"body_markdown":"I am trying to take an ID string value that is generated in the network response log after the webapp hits an API and generates an object. The object has an ID value that is present in the network &gt; response log and I need to copy it so I can use the value in other test steps. \r\n\r\n[the network response](https://i.stack.imgur.com/KI0Bb.png) \r\n\r\nEssentially, these are the steps I am automating \r\n```\r\nThen Click the submit button\r\nAnd Save the [object ID value] that is generated\r\nThen search for the [object ID value] in the home page search bar.\r\n```\r\n\r\nI have tried to search for ways to copy values from the network log but the responses I&#39;ve found seem to be too complex for what I need to do.","title":"Serenity method to save a network response value for use in next step of test","body":"<p>I am trying to take an ID string value that is generated in the network response log after the webapp hits an API and generates an object. The object has an ID value that is present in the network &gt; response log and I need to copy it so I can use the value in other test steps.</p>\n<p><a href=\"https://i.stack.imgur.com/KI0Bb.png\" rel=\"nofollow noreferrer\">the network response</a></p>\n<p>Essentially, these are the steps I am automating</p>\n<pre><code>Then Click the submit button\nAnd Save the [object ID value] that is generated\nThen search for the [object ID value] in the home page search bar.\n</code></pre>\n<p>I have tried to search for ways to copy values from the network log but the responses I've found seem to be too complex for what I need to do.</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":2,"creation_date":1274215244,"post_id":2860977,"comment_id":2905243,"body_markdown":"they have javadocs ;) look in `java.lang.` and `java.util.` packages.","body":"they have javadocs ;) look in <code>java.lang.</code> and <code>java.util.</code> packages."}],"answers":[{"comments":[{"owner":{"account_id":111464,"reputation":1359,"user_id":294435,"accept_rate":90,"display_name":"jamesbtate"},"score":0,"creation_date":1274215560,"post_id":2861034,"comment_id":2905295,"body_markdown":"I usually extend Thread. Is there any difference besides not being able to extend any other class?","body":"I usually extend Thread. Is there any difference besides not being able to extend any other class?"},{"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":1,"creation_date":1274216048,"post_id":2861034,"comment_id":2905364,"body_markdown":"No, but that&#39;s a very big difference. OK, sometimes I&#39;ll use a `Runnable` without having it directly plugged into a `Thread`; that&#39;s actually quite useful (and it&#39;s better to call the method `run` than `doIt`). Doing that with a lot of `Thread` instances would be very expensive (they&#39;re not cheap objects, even before you start them running).","body":"No, but that&#39;s a very big difference. OK, sometimes I&#39;ll use a <code>Runnable</code> without having it directly plugged into a <code>Thread</code>; that&#39;s actually quite useful (and it&#39;s better to call the method <code>run</code> than <code>doIt</code>). Doing that with a lot of <code>Thread</code> instances would be very expensive (they&#39;re not cheap objects, even before you start them running)."},{"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"score":1,"creation_date":1274216427,"post_id":2861034,"comment_id":2905422,"body_markdown":"Using Runnable rather than Thread separates the what you want to execute from how you want to execute it. With thread - they are bound - you execute run() on a new thread. With Runnable, you have a whole host of options - execute on the EDT with SwingUtilities.invokeLater, execute in a thread pool with ExecutorService, execute to a schedule (using Timer), etc...","body":"Using Runnable rather than Thread separates the what you want to execute from how you want to execute it. With thread - they are bound - you execute run() on a new thread. With Runnable, you have a whole host of options - execute on the EDT with SwingUtilities.invokeLater, execute in a thread pool with ExecutorService, execute to a schedule (using Timer), etc..."}],"tags":[],"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274215501,"creation_date":1274215501,"answer_id":2861034,"question_id":2860977,"body_markdown":"[`Runnable`](http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html) is the one I use most.","title":"Standard Interfaces","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> is the one I use most.</p>\n"},{"tags":[],"owner":{"account_id":111464,"reputation":1359,"user_id":294435,"accept_rate":90,"display_name":"jamesbtate"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274215506,"creation_date":1274215506,"answer_id":2861037,"question_id":2860977,"body_markdown":"Comparable is one I use all the time. There is a list: http://java.sun.com/j2se/1.5.0/docs/api/ but it is HUGE. (You have to scroll about 2/3 of the way down the page to get to the interface tree.","title":"Standard Interfaces","body":"<p>Comparable is one I use all the time. There is a list: <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/</a> but it is HUGE. (You have to scroll about 2/3 of the way down the page to get to the interface tree.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1274215639,"creation_date":1274215639,"answer_id":2861051,"question_id":2860977,"body_markdown":"You&#39;re correct re. `Cloneable` and to partly answer your question, I would *never* use it. For more info read [this interview][1] with Joshua Bloch.\r\n\r\n\r\n  [1]: http://www.artima.com/intv/bloch13.html","title":"Standard Interfaces","body":"<p>You're correct re. <code>Cloneable</code> and to partly answer your question, I would <em>never</em> use it. For more info read <a href=\"http://www.artima.com/intv/bloch13.html\" rel=\"nofollow noreferrer\">this interview</a> with Joshua Bloch.</p>\n"},{"comments":[{"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"score":0,"creation_date":1274216519,"post_id":2861067,"comment_id":2905434,"body_markdown":"I like Closeable and Flushable - it makes code that used to have to has to know what kind of stream it is dealing stream-neutral since JDK 1.5.","body":"I like Closeable and Flushable - it makes code that used to have to has to know what kind of stream it is dealing stream-neutral since JDK 1.5."},{"owner":{"account_id":77350,"reputation":40747,"user_id":220834,"accept_rate":50,"display_name":"Don Roby"},"score":1,"creation_date":1274217594,"post_id":2861067,"comment_id":2905578,"body_markdown":"Some classes ending in Hashtable and Variable snuck in there.  I don&#39;t think they quite fit with the rest.  ;-)","body":"Some classes ending in Hashtable and Variable snuck in there.  I don&#39;t think they quite fit with the rest.  ;-)"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1274217771,"post_id":2861067,"comment_id":2905598,"body_markdown":"...and throwable :)  (not an interface :)","body":"...and throwable :)  (not an interface :)"},{"owner":{"account_id":64432,"reputation":65199,"user_id":190201,"accept_rate":83,"display_name":"ataylor"},"score":0,"creation_date":1274220237,"post_id":2861067,"comment_id":2905892,"body_markdown":"Oops, yeah some classes that don&#39;t match the question slipped in there.  What I wanted to show is you can learn a lot about the Java runtime by poking around the jars shipped with the JRE.","body":"Oops, yeah some classes that don&#39;t match the question slipped in there.  What I wanted to show is you can learn a lot about the Java runtime by poking around the jars shipped with the JRE."}],"tags":[],"owner":{"account_id":64432,"reputation":65199,"user_id":190201,"accept_rate":83,"display_name":"ataylor"},"comment_count":4,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1274215719,"creation_date":1274215719,"answer_id":2861067,"question_id":2860977,"body_markdown":"Here&#39;s a list of all of the *able classes and interfaces in java.  There&#39;s a only a few that are really widely used: I&#39;d add `Comparable` and `Runnable` to your list.\r\n\r\n    $ jar tf $JAVA_HOME/jre/lib/rt.jar | grep [a-z]able\\.class | grep -v ^com | grep -v ^sun | sort\r\n    java/awt/Adjustable.class\r\n    java/awt/Container$WakingRunnable.class\r\n    java/awt/datatransfer/Transferable.class\r\n    java/awt/Dialog$WakingRunnable.class\r\n    java/awt/ItemSelectable.class\r\n    java/awt/print/Pageable.class\r\n    java/awt/print/Printable.class\r\n    java/awt/ScrollPaneAdjustable.class\r\n    java/io/Closeable.class\r\n    java/io/Externalizable.class\r\n    java/io/Flushable.class\r\n    java/io/Serializable.class\r\n    java/lang/Appendable.class\r\n    java/lang/Cloneable.class\r\n    java/lang/Comparable.class\r\n    java/lang/Iterable.class\r\n    java/lang/ProcessEnvironment$Variable.class\r\n    java/lang/Readable.class\r\n    java/lang/reflect/TypeVariable.class\r\n    java/lang/Runnable.class\r\n    java/lang/Throwable.class\r\n    java/rmi/activation/Activatable.class\r\n    java/util/Collections$SelfComparable.class\r\n    java/util/concurrent/Callable.class\r\n    java/util/concurrent/Executors$PrivilegedCallable.class\r\n    java/util/Formattable.class\r\n    java/util/Hashtable.class\r\n    java/util/Observable.class\r\n    javax/accessibility/AccessibleStreamable.class\r\n    javax/lang/model/type/TypeVariable.class\r\n    javax/management/remote/JMXAddressable.class\r\n    javax/naming/Referenceable.class\r\n    javax/script/Compilable.class\r\n    javax/script/Invocable.class\r\n    javax/security/auth/Destroyable.class\r\n    javax/security/auth/Refreshable.class\r\n    javax/sql/rowset/Joinable.class\r\n    javax/swing/JSlider$1SmartHashtable.class\r\n    javax/swing/JTable$ThreadSafePrintable.class\r\n    javax/swing/plaf/basic/BasicFileChooserUI$FileTransferHandler$FileTransferable.class\r\n    javax/swing/plaf/basic/BasicTextUI$TextTransferHandler$TextTransferable.class\r\n    javax/swing/plaf/basic/BasicTransferable.class\r\n    javax/swing/RepaintManager$DisplayChangedRunnable.class\r\n    javax/swing/Scrollable.class\r\n    javax/swing/SwingWorker$DoSubmitAccumulativeRunnable.class\r\n    javax/swing/TablePrintable.class\r\n    javax/swing/text/DefaultStyledDocument$ChangeUpdateRunnable.class\r\n    javax/swing/TransferHandler$PropertyTransferable.class\r\n    javax/swing/undo/StateEditable.class\r\n    org/omg/CORBA/portable/Streamable.class\r\n\r\n","title":"Standard Interfaces","body":"<p>Here's a list of all of the *able classes and interfaces in java.  There's a only a few that are really widely used: I'd add <code>Comparable</code> and <code>Runnable</code> to your list.</p>\n\n<pre><code>$ jar tf $JAVA_HOME/jre/lib/rt.jar | grep [a-z]able\\.class | grep -v ^com | grep -v ^sun | sort\njava/awt/Adjustable.class\njava/awt/Container$WakingRunnable.class\njava/awt/datatransfer/Transferable.class\njava/awt/Dialog$WakingRunnable.class\njava/awt/ItemSelectable.class\njava/awt/print/Pageable.class\njava/awt/print/Printable.class\njava/awt/ScrollPaneAdjustable.class\njava/io/Closeable.class\njava/io/Externalizable.class\njava/io/Flushable.class\njava/io/Serializable.class\njava/lang/Appendable.class\njava/lang/Cloneable.class\njava/lang/Comparable.class\njava/lang/Iterable.class\njava/lang/ProcessEnvironment$Variable.class\njava/lang/Readable.class\njava/lang/reflect/TypeVariable.class\njava/lang/Runnable.class\njava/lang/Throwable.class\njava/rmi/activation/Activatable.class\njava/util/Collections$SelfComparable.class\njava/util/concurrent/Callable.class\njava/util/concurrent/Executors$PrivilegedCallable.class\njava/util/Formattable.class\njava/util/Hashtable.class\njava/util/Observable.class\njavax/accessibility/AccessibleStreamable.class\njavax/lang/model/type/TypeVariable.class\njavax/management/remote/JMXAddressable.class\njavax/naming/Referenceable.class\njavax/script/Compilable.class\njavax/script/Invocable.class\njavax/security/auth/Destroyable.class\njavax/security/auth/Refreshable.class\njavax/sql/rowset/Joinable.class\njavax/swing/JSlider$1SmartHashtable.class\njavax/swing/JTable$ThreadSafePrintable.class\njavax/swing/plaf/basic/BasicFileChooserUI$FileTransferHandler$FileTransferable.class\njavax/swing/plaf/basic/BasicTextUI$TextTransferHandler$TextTransferable.class\njavax/swing/plaf/basic/BasicTransferable.class\njavax/swing/RepaintManager$DisplayChangedRunnable.class\njavax/swing/Scrollable.class\njavax/swing/SwingWorker$DoSubmitAccumulativeRunnable.class\njavax/swing/TablePrintable.class\njavax/swing/text/DefaultStyledDocument$ChangeUpdateRunnable.class\njavax/swing/TransferHandler$PropertyTransferable.class\njavax/swing/undo/StateEditable.class\norg/omg/CORBA/portable/Streamable.class\n</code></pre>\n"},{"comments":[{"owner":{"account_id":51677,"reputation":1398,"user_id":154445,"accept_rate":80,"display_name":"Daniil"},"score":0,"creation_date":1274216912,"post_id":2861070,"comment_id":2905489,"body_markdown":"Waaaait... Throwable is not an interface. I do too use it more often than probably necessary. Nice catch :)","body":"Waaaait... Throwable is not an interface. I do too use it more often than probably necessary. Nice catch :)"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1274217284,"post_id":2861070,"comment_id":2905542,"body_markdown":"Oooo.. I missed the *interface* part... I&#39;ll update the list ;-)","body":"Oooo.. I missed the <i>interface</i> part... I&#39;ll update the list ;-)"}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1274217679,"creation_date":1274215759,"answer_id":2861070,"question_id":2860977,"body_markdown":"From the API docs:\r\n\r\n    AccessibleStreamable\r\n    AdapterActivatorOperations\r\n    Callable\r\n    Cloneable\r\n    Closeable\r\n    Comparable\r\n    Compilable\r\n    Destroyable\r\n    Externalizable\r\n    Flushable\r\n    Formattable\r\n    Invocable\r\n    ItemSelectable\r\n    Iterable\r\n    JMXAddressable\r\n    Joinable\r\n    Pageable\r\n    Printable\r\n    Readable\r\n    Referenceable\r\n    Refreshable\r\n    Runnable\r\n    Scrollable\r\n    Serializable\r\n    StateEditable\r\n    Streamable\r\n    Transferable\r\n    TypeVariable\r\n    TypeVariable\r\n    VM_TRUNCATABLE\r\n\r\nI use Cloneable, Comparable, Iterable, Runnable and of course &lt;strike&gt;Throwable&lt;/strike&gt; :-)","title":"Standard Interfaces","body":"<p>From the API docs:</p>\n\n<pre><code>AccessibleStreamable\nAdapterActivatorOperations\nCallable\nCloneable\nCloseable\nComparable\nCompilable\nDestroyable\nExternalizable\nFlushable\nFormattable\nInvocable\nItemSelectable\nIterable\nJMXAddressable\nJoinable\nPageable\nPrintable\nReadable\nReferenceable\nRefreshable\nRunnable\nScrollable\nSerializable\nStateEditable\nStreamable\nTransferable\nTypeVariable\nTypeVariable\nVM_TRUNCATABLE\n</code></pre>\n\n<p>I use Cloneable, Comparable, Iterable, Runnable and of course <strike>Throwable</strike> :-)</p>\n"},{"tags":[],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1274216290,"creation_date":1274215914,"answer_id":2861082,"question_id":2860977,"body_markdown":"There are lots of interfaces, just as there are lots of classes, enums, and exceptions. If you just look at interfaces in isolation you will not see the complete picture. Some interfaces are nouns made into adjectives (-able) others are not - and the division is as much about what&#39;s sensible in English than any technical distinction. \r\n\r\nIt&#39;s probably best to investigate in the area you are trying to solve rather than looking into what interfaces are available across the JRE - most won&#39;t make much sense until you have a specific problem scenario in mind, and look at them in context with their collaborators.\r\n\r\nAs you are starting out, begin with interfaces in the `java.lang` package, then `java.io`, `java.util`, and possibly `java.util.concurrent`, this will give you a good grounding, and then look into specific application areas. \r\n\r\nGood luck!","title":"Standard Interfaces","body":"<p>There are lots of interfaces, just as there are lots of classes, enums, and exceptions. If you just look at interfaces in isolation you will not see the complete picture. Some interfaces are nouns made into adjectives (-able) others are not - and the division is as much about what's sensible in English than any technical distinction. </p>\n\n<p>It's probably best to investigate in the area you are trying to solve rather than looking into what interfaces are available across the JRE - most won't make much sense until you have a specific problem scenario in mind, and look at them in context with their collaborators.</p>\n\n<p>As you are starting out, begin with interfaces in the <code>java.lang</code> package, then <code>java.io</code>, <code>java.util</code>, and possibly <code>java.util.concurrent</code>, this will give you a good grounding, and then look into specific application areas. </p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":1146,"reputation":49086,"user_id":1527,"accept_rate":92,"display_name":"Pete Kirkham"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695414625,"creation_date":1274216121,"answer_id":2861108,"question_id":2860977,"body_markdown":"There&#39;s a list of all the interfaces in the Java API specification. For that, follow the link for the appropriate version then search for &quot;Interface Hierarchy&quot;:\r\n - [JAVA SE 6][1]\r\n - [JAVA SE 21][2]\r\n\r\nFor a more concise list, you could check the *Interfaces* tab in the main packages. For JDK 21:\r\n - [java.lang][3]\r\n - [java.util][4]\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/overview-tree.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/overview-tree.html\r\n\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/package-summary.html\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/package-summary.html\r\n","title":"Standard Interfaces","body":"<p>There's a list of all the interfaces in the Java API specification. For that, follow the link for the appropriate version then search for &quot;Interface Hierarchy&quot;:</p>\n<ul>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/overview-tree.html\" rel=\"nofollow noreferrer\">JAVA SE 6</a></li>\n<li><a href=\"http://java.sun.com/javase/6/docs/api/overview-tree.html\" rel=\"nofollow noreferrer\">JAVA SE 21</a></li>\n</ul>\n<p>For a more concise list, you could check the <em>Interfaces</em> tab in the main packages. For JDK 21:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/package-summary.html\" rel=\"nofollow noreferrer\">java.lang</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/package-summary.html\" rel=\"nofollow noreferrer\">java.util</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1274245304,"creation_date":1274216768,"answer_id":2861169,"question_id":2860977,"body_markdown":"The Interfaces you&#39;re most likely to implement are:  \r\n`java.lang.Comparable`  \r\n`java.lang.Runnable`  \r\n`java.io.Serializable`  \r\n\r\nInterfaces that you&#39;re most likely to call methods on but not implement yourself are:  \r\n`java.lang.Appendable` (StringBuffer / StringBuilder / Writers)  \r\n`java.lang.CharSequence` (String / StringBuffer / StringBuilder)  \r\n`java.lang.Iterable` (Collections, either explicitly or with `for Blah blah : List&lt;Blah&gt;`)  \r\n`java.lang.Readable` (Readers)  \r\n`java.io.Closeable` (Streams)  \r\n`java.io.Flushable` (Streams)  \r\n`java.util.Collection` (Collections)  \r\n`java.util.Deque` (Collections)  \r\n`java.util.List` (Collections)  \r\n`java.util.Map` (Collections)  \r\n`java.util.Set` (Collections)  \r\n\r\nInterfaces that are most likely to blow up in your face:  \r\n`java.lang.Cloneable`\r\n\r\nEdit: Whoops, Throwable&#39;s not an interface.\r\n\r\nUsually, it&#39;s better to write a Copy Constructor rather than use a `clone()` method.","title":"Standard Interfaces","body":"<p>The Interfaces you're most likely to implement are:<br>\n<code>java.lang.Comparable</code><br>\n<code>java.lang.Runnable</code><br>\n<code>java.io.Serializable</code>  </p>\n\n<p>Interfaces that you're most likely to call methods on but not implement yourself are:<br>\n<code>java.lang.Appendable</code> (StringBuffer / StringBuilder / Writers)<br>\n<code>java.lang.CharSequence</code> (String / StringBuffer / StringBuilder)<br>\n<code>java.lang.Iterable</code> (Collections, either explicitly or with <code>for Blah blah : List&lt;Blah&gt;</code>)<br>\n<code>java.lang.Readable</code> (Readers)<br>\n<code>java.io.Closeable</code> (Streams)<br>\n<code>java.io.Flushable</code> (Streams)<br>\n<code>java.util.Collection</code> (Collections)<br>\n<code>java.util.Deque</code> (Collections)<br>\n<code>java.util.List</code> (Collections)<br>\n<code>java.util.Map</code> (Collections)<br>\n<code>java.util.Set</code> (Collections)  </p>\n\n<p>Interfaces that are most likely to blow up in your face:<br>\n<code>java.lang.Cloneable</code></p>\n\n<p>Edit: Whoops, Throwable's not an interface.</p>\n\n<p>Usually, it's better to write a Copy Constructor rather than use a <code>clone()</code> method.</p>\n"}],"owner":{"account_id":55445,"reputation":77403,"user_id":166067,"accept_rate":77,"display_name":"Amir Rachum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10441,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":2861070,"answer_count":8,"score":11,"last_activity_date":1695414625,"creation_date":1274215106,"question_id":2860977,"body_markdown":"I&#39;ve used Java for some time and I keep hearing about interfaces such as `Cloneable`, `Iterable` and other X-`able`s. \r\n\r\nI was wondering if there is a list somewhere of all of these and more importantly - which ones do you regularly use day-to-day? \r\n\r\nFor example, I&#39;ve read that `Cloneable` is considered badly written and isn&#39;t widely used.","title":"Standard Interfaces","body":"<p>I've used Java for some time and I keep hearing about interfaces such as <code>Cloneable</code>, <code>Iterable</code> and other X-<code>able</code>s. </p>\n\n<p>I was wondering if there is a list somewhere of all of these and more importantly - which ones do you regularly use day-to-day? </p>\n\n<p>For example, I've read that <code>Cloneable</code> is considered badly written and isn't widely used.</p>\n"},{"tags":["java","arrays","idioms"],"comments":[{"owner":{"account_id":588291,"reputation":2977,"user_id":259029,"display_name":"MichaelScott"},"score":39,"creation_date":1264486659,"post_id":2137755,"comment_id":2077929,"body_markdown":"I see what I did wrong.  Should be validData.length/2.  Otherwise it will reverse itself then un-reverse itself.","body":"I see what I did wrong.  Should be validData.length/2.  Otherwise it will reverse itself then un-reverse itself."},{"owner":{"account_id":45510,"reputation":9296,"user_id":134176,"accept_rate":100,"display_name":"Dean Povey"},"score":4,"creation_date":1264491060,"post_id":2137755,"comment_id":2078171,"body_markdown":"See http://en.wikipedia.org/wiki/In-place_algorithm which contains a description of the correct version of this algorithm.","body":"See <a href=\"http://en.wikipedia.org/wiki/In-place_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/In-place_algorithm</a> which contains a description of the correct version of this algorithm."},{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1540804083,"post_id":2137755,"comment_id":92983316,"body_markdown":"Java 8 : https://stackoverflow.com/a/46756353/1216775","body":"Java 8 : <a href=\"https://stackoverflow.com/a/46756353/1216775\">stackoverflow.com/a/46756353/1216775</a>"}],"answers":[{"comments":[{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":11,"creation_date":1354554238,"post_id":2137766,"comment_id":18792930,"body_markdown":"Of course it will. A list can only hold Objects, not primitives, so all the primitives (`int`s in this case) are wrapped in to their respective wrappers (`Integer`s in this case) and put in the list. You see, `Integer`s are objects. @Tom","body":"Of course it will. A list can only hold Objects, not primitives, so all the primitives (<code>int</code>s in this case) are wrapped in to their respective wrappers (<code>Integer</code>s in this case) and put in the list. You see, <code>Integer</code>s are objects. @Tom"},{"owner":{"account_id":87465,"reputation":4474,"user_id":242532,"accept_rate":91,"display_name":"Andrea Zilio"},"score":8,"creation_date":1360092327,"post_id":2137766,"comment_id":20583371,"body_markdown":"Watch out: If I&#39;m not wrong the original array is modified.\nTo make it clear you may want to just not return anything.","body":"Watch out: If I&#39;m not wrong the original array is modified. To make it clear you may want to just not return anything."},{"owner":{"account_id":344722,"reputation":4298,"user_id":677185,"accept_rate":85,"display_name":"vincent mathew"},"score":1,"creation_date":1369027833,"post_id":2137766,"comment_id":23936764,"body_markdown":"how would you convert Object[] array that it returns back to int[] array???  The OP asked the question for array of ints so could you please the give the code that works for array of ints out of the box? Thanks.","body":"how would you convert Object[] array that it returns back to int[] array???  The OP asked the question for array of ints so could you please the give the code that works for array of ints out of the box? Thanks."},{"owner":{"account_id":202137,"reputation":3572,"user_id":449012,"accept_rate":75,"display_name":"filip"},"score":0,"creation_date":1407012536,"post_id":2137766,"comment_id":39056953,"body_markdown":"Doen&#39;t matter! What matters is: no loops, no dependencies. Therefore the best answer.","body":"Doen&#39;t matter! What matters is: no loops, no dependencies. Therefore the best answer."},{"owner":{"account_id":2394625,"reputation":8444,"user_id":2093695,"accept_rate":100,"display_name":"Brian McCutchon"},"score":3,"creation_date":1413649254,"post_id":2137766,"comment_id":41526913,"body_markdown":"@11684 Yes, generic lists can only hold Objects. But the method excepts an array. Arrays can hold primitives. Therefore `int[]` is different from `Integer[]`. Try it: `Integer[] array = new int[5]`. You&#39;ll get a compile error. This is why the Java `Arrays` class defines a bunch of methods for working with primitive arrays. Trying to pass an `int[]` to the above method will result in something like `The method reverse(Object[]) in the type MakeSimple is not applicable for the arguments (int[])`. @Filip - an in-place algorithm uses less memory and runs faster.","body":"@11684 Yes, generic lists can only hold Objects. But the method excepts an array. Arrays can hold primitives. Therefore <code>int[]</code> is different from <code>Integer[]</code>. Try it: <code>Integer[] array = new int[5]</code>. You&#39;ll get a compile error. This is why the Java <code>Arrays</code> class defines a bunch of methods for working with primitive arrays. Trying to pass an <code>int[]</code> to the above method will result in something like <code>The method reverse(Object[]) in the type MakeSimple is not applicable for the arguments (int[])</code>. @Filip - an in-place algorithm uses less memory and runs faster."},{"owner":{"account_id":2394625,"reputation":8444,"user_id":2093695,"accept_rate":100,"display_name":"Brian McCutchon"},"score":3,"creation_date":1413649549,"post_id":2137766,"comment_id":41527027,"body_markdown":"@Andrea Actually, it isn&#39;t. The list returned by `Arrays.asList()` doesn&#39;t reference the original array, nor does the array returned. That&#39;s one of the problems with this method: it uses triple the memory and does triple the work as an in-place algorithm.","body":"@Andrea Actually, it isn&#39;t. The list returned by <code>Arrays.asList()</code> doesn&#39;t reference the original array, nor does the array returned. That&#39;s one of the problems with this method: it uses triple the memory and does triple the work as an in-place algorithm."},{"owner":{"account_id":2394625,"reputation":8444,"user_id":2093695,"accept_rate":100,"display_name":"Brian McCutchon"},"score":1,"creation_date":1413650159,"post_id":2137766,"comment_id":41527215,"body_markdown":"Looks like I was wrong about `Arrays.asList()`: actually, it does reference the original array. So this only uses twice the memory and does twice the work (since `List.toArray` generates a completely new array). A good non-in-place algorithm would still use twice the memory, but do the same amount of work as the in-place method. @Andrea You&#39;re right. Looks like `Collections.reverse(Arrays.asList(array))` is a valid way to reverse an array. Unfortunately, this doesn&#39;t work for primitives.","body":"Looks like I was wrong about <code>Arrays.asList()</code>: actually, it does reference the original array. So this only uses twice the memory and does twice the work (since <code>List.toArray</code> generates a completely new array). A good non-in-place algorithm would still use twice the memory, but do the same amount of work as the in-place method. @Andrea You&#39;re right. Looks like <code>Collections.reverse(Arrays.asList(array))</code> is a valid way to reverse an array. Unfortunately, this doesn&#39;t work for primitives."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":4,"creation_date":1510922493,"post_id":2137766,"comment_id":81653789,"body_markdown":"This method itself might work, but one simply cannot pass an `int[]` as an argument to this method (*&quot;incompatible types: int[] cannot be converted to Object[]&quot;*).","body":"This method itself might work, but one simply cannot pass an <code>int[]</code> as an argument to this method (<i>&quot;incompatible types: int[] cannot be converted to Object[]&quot;</i>)."},{"owner":{"account_id":11245490,"reputation":1755,"user_id":8248386,"display_name":"Rim"},"score":0,"creation_date":1542586970,"post_id":2137766,"comment_id":93610317,"body_markdown":"For ints: public static Object[] reverse(Integer[] arr) { List&lt;Integer&gt; list = Arrays.asList(arr); Collections.reverse(list); return list.toArray(); \nin your main: (example)\nInteger[] numbers= {1,2,8,3};\n     Object[]number=(Integer[]) reverse(numbers);","body":"For ints: public static Object[] reverse(Integer[] arr) { List&lt;Integer&gt; list = Arrays.asList(arr); Collections.reverse(list); return list.toArray();  in your main: (example) Integer[] numbers= {1,2,8,3};      Object[]number=(Integer[]) reverse(numbers);"}],"tags":[],"owner":{"account_id":19219,"reputation":80057,"user_id":44852,"accept_rate":98,"display_name":"Tarik"},"comment_count":9,"down_vote_count":13,"up_vote_count":74,"is_accepted":false,"score":61,"last_activity_date":1476439317,"creation_date":1264486301,"answer_id":2137766,"question_id":2137755,"body_markdown":"    public class ArrayHandle {\r\n        public static Object[] reverse(Object[] arr) {\r\n            List&lt;Object&gt; list = Arrays.asList(arr);\r\n            Collections.reverse(list);\r\n            return list.toArray();\r\n        }\r\n    }","title":"How do I reverse an int array in Java?","body":"<pre><code>public class ArrayHandle {\n    public static Object[] reverse(Object[] arr) {\n        List&lt;Object&gt; list = Arrays.asList(arr);\n        Collections.reverse(list);\n        return list.toArray();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":1,"creation_date":1394422096,"post_id":2137791,"comment_id":33867307,"body_markdown":"And I would like to put `validData.length / 2` part to the outside of the for-loop.","body":"And I would like to put <code>validData.length &#47; 2</code> part to the outside of the for-loop."},{"owner":{"account_id":1073884,"reputation":8777,"user_id":1072468,"accept_rate":78,"display_name":"Nicu Stiurca"},"score":11,"creation_date":1396894306,"post_id":2137791,"comment_id":34984032,"body_markdown":"@Jin I wouldn&#39;t. It only obfuscates the meaning, and I bet the optimizing compiler would do it for you anyway. Regardless, there&#39;s no point micro-optimizing until you have clear evidence from profiling that it is necessary/helpful.","body":"@Jin I wouldn&#39;t. It only obfuscates the meaning, and I bet the optimizing compiler would do it for you anyway. Regardless, there&#39;s no point micro-optimizing until you have clear evidence from profiling that it is necessary/helpful."},{"owner":{"account_id":2136544,"reputation":24466,"user_id":1896169,"accept_rate":98,"display_name":"Justin"},"score":9,"creation_date":1396896856,"post_id":2137791,"comment_id":34985568,"body_markdown":"@JinKwon That would be sort of like doing `validData.length &gt;&gt; 1`. That is equivalent and faster, but it confuses many programmers and any good compiler will automatically do that.","body":"@JinKwon That would be sort of like doing <code>validData.length &gt;&gt; 1</code>. That is equivalent and faster, but it confuses many programmers and any good compiler will automatically do that."},{"owner":{"display_name":"user2258887"},"score":2,"creation_date":1432079983,"post_id":2137791,"comment_id":48770225,"body_markdown":"You should only do this calculation once `validData.length - i - 1` and save it to a variable.","body":"You should only do this calculation once <code>validData.length - i - 1</code> and save it to a variable."},{"owner":{"account_id":4203282,"reputation":1373,"user_id":3442874,"accept_rate":57,"display_name":"sg28"},"score":0,"creation_date":1531290223,"post_id":2137791,"comment_id":89534543,"body_markdown":"Can any one suggest  a reversal with out temp variable !!","body":"Can any one suggest  a reversal with out temp variable !!"},{"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"score":0,"creation_date":1543636175,"post_id":2137791,"comment_id":94000721,"body_markdown":"@sg28 that was already provided by [AbsoluteBlue here](https://stackoverflow.com/a/7395428/7098259). Or you could use recursion.","body":"@sg28 that was already provided by <a href=\"https://stackoverflow.com/a/7395428/7098259\">AbsoluteBlue here</a>. Or you could use recursion."},{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":2,"creation_date":1648237161,"post_id":2137791,"comment_id":126582233,"body_markdown":"@sg28 What&#39;s the point of eliminating the temporary variable?","body":"@sg28 What&#39;s the point of eliminating the temporary variable?"}],"tags":[],"owner":{"account_id":82004,"reputation":9518,"user_id":230900,"display_name":"3lectrologos"},"comment_count":7,"down_vote_count":1,"up_vote_count":345,"is_accepted":true,"score":344,"last_activity_date":1472680004,"creation_date":1264486664,"answer_id":2137791,"question_id":2137755,"body_markdown":"To reverse an int array, you swap items up until you reach the midpoint, like this:\r\n\r\n    for(int i = 0; i &lt; validData.length / 2; i++)\r\n    {\r\n        int temp = validData[i];\r\n        validData[i] = validData[validData.length - i - 1];\r\n        validData[validData.length - i - 1] = temp;\r\n    }\r\n\r\nThe way you are doing it, you swap each element twice, so the result is the same as the initial list.","title":"How do I reverse an int array in Java?","body":"<p>To reverse an int array, you swap items up until you reach the midpoint, like this:</p>\n\n<pre><code>for(int i = 0; i &lt; validData.length / 2; i++)\n{\n    int temp = validData[i];\n    validData[i] = validData[validData.length - i - 1];\n    validData[validData.length - i - 1] = temp;\n}\n</code></pre>\n\n<p>The way you are doing it, you swap each element twice, so the result is the same as the initial list.</p>\n"},{"comments":[{"owner":{"account_id":1910,"reputation":91828,"user_id":2635,"accept_rate":65,"display_name":"mmcdole"},"score":0,"creation_date":1264487277,"post_id":2137804,"comment_id":2077963,"body_markdown":"Iterating backwards over the array requires a new array. I like the solution posted above that does the inline reversing without creating a new array.","body":"Iterating backwards over the array requires a new array. I like the solution posted above that does the inline reversing without creating a new array."},{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":1,"creation_date":1445473394,"post_id":2137804,"comment_id":54343891,"body_markdown":"@Simucal why create a new array? Just iterate it backwards.","body":"@Simucal why create a new array? Just iterate it backwards."}],"tags":[],"owner":{"account_id":82809,"reputation":4958,"user_id":232574,"accept_rate":77,"display_name":"Nick Strupat"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1264486889,"creation_date":1264486889,"answer_id":2137804,"question_id":2137755,"body_markdown":"It is most efficient to simply iterate the array backwards.\r\n\r\nI&#39;m not sure if Aaron&#39;s solution does this vi this call `Collections.reverse(list);` Does anyone know?","title":"How do I reverse an int array in Java?","body":"<p>It is most efficient to simply iterate the array backwards.</p>\n\n<p>I'm not sure if Aaron's solution does this vi this call <code>Collections.reverse(list);</code> Does anyone know?</p>\n"},{"comments":[{"owner":{"account_id":45510,"reputation":9296,"user_id":134176,"accept_rate":100,"display_name":"Dean Povey"},"score":3,"creation_date":1264490851,"post_id":2137858,"comment_id":2078157,"body_markdown":"Perhaps you meant swap as pseudo code for an inline swap rather than a method call, but if not that won&#39;t work. Java passes by reference so it is not possible to write a swap method for variables.","body":"Perhaps you meant swap as pseudo code for an inline swap rather than a method call, but if not that won&#39;t work. Java passes by reference so it is not possible to write a swap method for variables."},{"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"score":0,"creation_date":1264491553,"post_id":2137858,"comment_id":2078192,"body_markdown":"I meant whatever way you can get v[i] &amp; v[j] to swap. I am aware how method calls work in java. For method, you can do something like swap(v, i++, j--);","body":"I meant whatever way you can get v[i] &amp; v[j] to swap. I am aware how method calls work in java. For method, you can do something like swap(v, i++, j--);"},{"owner":{"account_id":1453364,"reputation":603,"user_id":1369633,"accept_rate":75,"display_name":"Ga&#235;l Oberson"},"score":1,"creation_date":1440157070,"post_id":2137858,"comment_id":52168226,"body_markdown":"Dean, the array validData is an object, passed by reference, so the swap() method will work perfectly.","body":"Dean, the array validData is an object, passed by reference, so the swap() method will work perfectly."}],"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1264535059,"creation_date":1264488223,"answer_id":2137858,"question_id":2137755,"body_markdown":"Your program will work for only `length = 0, 1`.\r\nYou can try :\r\n\r\n    int i = 0, j = validData.length-1 ; \r\n    while(i &lt; j)\r\n    {\r\n         swap(validData, i++, j--);  // code for swap not shown, but easy enough\r\n    }\r\n","title":"How do I reverse an int array in Java?","body":"<p>Your program will work for only <code>length = 0, 1</code>.\nYou can try :</p>\n\n<pre><code>int i = 0, j = validData.length-1 ; \nwhile(i &lt; j)\n{\n     swap(validData, i++, j--);  // code for swap not shown, but easy enough\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":458111,"reputation":397,"user_id":4693472,"display_name":"Laurent G"},"score":6,"creation_date":1506946794,"post_id":2138004,"comment_id":80004536,"body_markdown":"I would have prefererred it returned the reversed (passed) array for functional-like style.","body":"I would have prefererred it returned the reversed (passed) array for functional-like style."},{"owner":{"account_id":6223505,"reputation":1464,"user_id":4842504,"accept_rate":83,"display_name":"Sirmyself"},"score":2,"creation_date":1523651566,"post_id":2138004,"comment_id":86665276,"body_markdown":"@laurent-g to be fair : to reverse the array this way is more memory efficient, which is probably why they did it this way.","body":"@laurent-g to be fair : to reverse the array this way is more memory efficient, which is probably why they did it this way."},{"owner":{"account_id":458111,"reputation":397,"user_id":4693472,"display_name":"Laurent G"},"score":9,"creation_date":1523947637,"post_id":2138004,"comment_id":86758241,"body_markdown":"My point was not the copy or not copy. My message states &quot;(passed)&quot; to be returned (after being reversed), so it could be passed in an expression, not needing a separate statement.","body":"My point was not the copy or not copy. My message states &quot;(passed)&quot; to be returned (after being reversed), so it could be passed in an expression, not needing a separate statement."},{"owner":{"account_id":14165914,"reputation":308,"user_id":10233884,"display_name":"Edison Pebojot"},"score":1,"creation_date":1620482170,"post_id":2138004,"comment_id":119216296,"body_markdown":"What if I don&#39;t want to use ArrayUtils? How can you do it manually?","body":"What if I don&#39;t want to use ArrayUtils? How can you do it manually?"},{"owner":{"account_id":11144636,"reputation":1175,"user_id":8179876,"accept_rate":100,"display_name":"Coder"},"score":0,"creation_date":1623748432,"post_id":2138004,"comment_id":120160178,"body_markdown":"@LaurentG make a helper function `private int[] reversed(int[] array) {ArrayUtils.reverse(array);}` and then you can do `f(reversed(arr));` :))","body":"@LaurentG make a helper function <code>private int[] reversed(int[] array) {ArrayUtils.reverse(array);}</code> and then you can do <code>f(reversed(arr));</code> :))"},{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":0,"creation_date":1648237202,"post_id":2138004,"comment_id":126582246,"body_markdown":"@Coder You forgot the `return array;` though","body":"@Coder You forgot the <code>return array;</code> though"},{"owner":{"account_id":11144636,"reputation":1175,"user_id":8179876,"accept_rate":100,"display_name":"Coder"},"score":0,"creation_date":1648286401,"post_id":2138004,"comment_id":126589692,"body_markdown":"oops i think i meant to make it void, my bad","body":"oops i think i meant to make it void, my bad"}],"tags":[],"owner":{"account_id":13345,"reputation":8533,"user_id":26737,"accept_rate":83,"display_name":"Manur"},"comment_count":7,"down_vote_count":6,"up_vote_count":336,"is_accepted":false,"score":330,"last_activity_date":1264490829,"creation_date":1264490829,"answer_id":2138004,"question_id":2137755,"body_markdown":"With [Commons.Lang][1], you could simply use \r\n\r\n    ArrayUtils.reverse(int[] array)\r\n\r\nMost of the time, it&#39;s quicker and more bug-safe to stick with easily available libraries already unit-tested and user-tested when they take care of your problem.\r\n\r\n[1]: http://commons.apache.org/lang/","title":"How do I reverse an int array in Java?","body":"<p>With <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">Commons.Lang</a>, you could simply use </p>\n\n<pre><code>ArrayUtils.reverse(int[] array)\n</code></pre>\n\n<p>Most of the time, it's quicker and more bug-safe to stick with easily available libraries already unit-tested and user-tested when they take care of your problem.</p>\n"},{"comments":[{"owner":{"account_id":2138757,"reputation":2526,"user_id":1897935,"accept_rate":81,"display_name":"Srinath Ganesh"},"score":0,"creation_date":1406252096,"post_id":3523066,"comment_id":38770491,"body_markdown":"old school swap looks more easy but yes when involving array index values left,right,... will be helpful for debugging if any","body":"old school swap looks more easy but yes when involving array index values left,right,... will be helpful for debugging if any"},{"owner":{"account_id":907914,"reputation":853,"user_id":942435,"display_name":"pm_"},"score":0,"creation_date":1449761382,"post_id":3523066,"comment_id":56155815,"body_markdown":"You could also add &#39;public static void swap(int[] data, int index1, int index2) { ... }&#39; and use that from &#39;reverse&#39; like this: swap(data, left, right).","body":"You could also add &#39;public static void swap(int[] data, int index1, int index2) { ... }&#39; and use that from &#39;reverse&#39; like this: swap(data, left, right)."}],"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"comment_count":2,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1282229885,"creation_date":1282229885,"answer_id":3523066,"question_id":2137755,"body_markdown":"I think it&#39;s a little bit easier to follow the logic of the algorithm if you declare explicit variables to keep track of the indices that you&#39;re swapping at each iteration of  the loop.\r\n\r\n    public static void reverse(int[] data) {\r\n        for (int left = 0, right = data.length - 1; left &lt; right; left++, right--) {\r\n            // swap the values at the left and right indices\r\n            int temp = data[left];\r\n            data[left]  = data[right];\r\n            data[right] = temp;\r\n        }\r\n    }\r\n\r\nI also think it&#39;s more readable to do this in a while loop.\r\n\r\n    public static void reverse(int[] data) {\r\n        int left = 0;\r\n        int right = data.length - 1;\r\n\t\t\r\n        while( left &lt; right ) {\r\n            // swap the values at the left and right indices\r\n            int temp = data[left];\r\n            data[left] = data[right];\r\n            data[right] = temp;\r\n\t\t\t\r\n            // move the left and right index pointers in toward the center\r\n            left++;\r\n            right--;\r\n        }\r\n    }","title":"How do I reverse an int array in Java?","body":"<p>I think it's a little bit easier to follow the logic of the algorithm if you declare explicit variables to keep track of the indices that you're swapping at each iteration of  the loop.</p>\n\n<pre><code>public static void reverse(int[] data) {\n    for (int left = 0, right = data.length - 1; left &lt; right; left++, right--) {\n        // swap the values at the left and right indices\n        int temp = data[left];\n        data[left]  = data[right];\n        data[right] = temp;\n    }\n}\n</code></pre>\n\n<p>I also think it's more readable to do this in a while loop.</p>\n\n<pre><code>public static void reverse(int[] data) {\n    int left = 0;\n    int right = data.length - 1;\n\n    while( left &lt; right ) {\n        // swap the values at the left and right indices\n        int temp = data[left];\n        data[left] = data[right];\n        data[right] = temp;\n\n        // move the left and right index pointers in toward the center\n        left++;\n        right--;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1690557217,"post_id":7395428,"comment_id":135375071,"body_markdown":"This will certainly help to confuse readers of your code.","body":"This will certainly help to confuse readers of your code."}],"tags":[],"owner":{"account_id":906861,"reputation":69,"user_id":941563,"display_name":"AbsoluteBlue"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1315872260,"creation_date":1315872260,"answer_id":7395428,"question_id":2137755,"body_markdown":"If working with data that is more primitive (i.e. char, byte, int, etc) then you can do some fun XOR operations.\r\n\r\n    public static void reverseArray4(int[] array) {\r\n\t\tint len = array.length;\r\n\t\tfor (int i = 0; i &lt; len/2; i++) {\r\n\t\t\tarray[i] = array[i] ^ array[len - i  - 1];\r\n\t\t\tarray[len - i  - 1] = array[i] ^ array[len - i  - 1];\r\n\t\t\tarray[i] = array[i] ^ array[len - i  - 1];\r\n\t\t}\r\n\t}","title":"How do I reverse an int array in Java?","body":"<p>If working with data that is more primitive (i.e. char, byte, int, etc) then you can do some fun XOR operations.</p>\n\n<pre><code>public static void reverseArray4(int[] array) {\n    int len = array.length;\n    for (int i = 0; i &lt; len/2; i++) {\n        array[i] = array[i] ^ array[len - i  - 1];\n        array[len - i  - 1] = array[i] ^ array[len - i  - 1];\n        array[i] = array[i] ^ array[len - i  - 1];\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3499639,"reputation":45,"user_id":2926683,"display_name":"Rocket_03"},"score":1,"creation_date":1534933469,"post_id":8975579,"comment_id":90879396,"body_markdown":"yes i have tried the same and clear code along with output is \n\n    int[] a = {1,3,5,2,6,7};\n    for(int i = a.length-1;i&gt;=0;i--)\n    {System.out.print(a[i]+&quot; &quot;);}`\n\nit will reverse the array from last index to first index","body":"yes i have tried the same and clear code along with output is       int[] a = {1,3,5,2,6,7};     for(int i = a.length-1;i&gt;=0;i--)     {System.out.print(a[i]+&quot; &quot;);}`  it will reverse the array from last index to first index"}],"tags":[],"owner":{"account_id":1193089,"reputation":37,"user_id":1165432,"display_name":"ghost programmer"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1327341557,"creation_date":1327338407,"answer_id":8975579,"question_id":2137755,"body_markdown":"    public void display(){\r\n      String x[]=new String [5];\r\n      for(int i = 4 ; i &gt; = 0 ; i-- ){//runs backwards\r\n\r\n        //i is the nums running backwards therefore its printing from       \r\n        //highest element to the lowest(ie the back of the array to the front) as i decrements\r\n \r\n        System.out.println(x[i]);\r\n      }\r\n    }","title":"How do I reverse an int array in Java?","body":"<pre><code>public void display(){\n  String x[]=new String [5];\n  for(int i = 4 ; i &gt; = 0 ; i-- ){//runs backwards\n\n    //i is the nums running backwards therefore its printing from       \n    //highest element to the lowest(ie the back of the array to the front) as i decrements\n\n    System.out.println(x[i]);\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3390327,"reputation":2668,"user_id":2845282,"accept_rate":68,"display_name":"Nikhil Kumar"},"score":0,"creation_date":1429516596,"post_id":8991351,"comment_id":47617378,"body_markdown":"Please consider adding an explanation to your answer. Code-only answers don&#39;t explain anything. –","body":"Please consider adding an explanation to your answer. Code-only answers don&#39;t explain anything. –"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1434244733,"post_id":8991351,"comment_id":49696120,"body_markdown":"This doesn&#39;t actually reverse an array.","body":"This doesn&#39;t actually reverse an array."}],"tags":[],"owner":{"account_id":1195830,"reputation":7,"user_id":1167594,"display_name":"Kane"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1327426369,"creation_date":1327426369,"answer_id":8991351,"question_id":2137755,"body_markdown":"\tpublic static void main (String args[]){\r\n\r\n\t\t//create  array\r\n\t\tString[] stuff ={&quot;eggs&quot;,&quot;lasers&quot;,&quot;hats&quot;,&quot;pie&quot;,&quot;apples&quot;};\r\n\r\n\t\t//print out  array\r\n\t\tfor(String x :stuff)\r\n\t\t\tSystem.out.printf(&quot;%s &quot;, x);\r\n\t\t\t\tSystem.out.println();\r\n\r\n\t\t\t\t//print out array in reverse order\r\n\t\t\t\tfor(int i=stuff.length-1; i &gt;= 0; i--)\r\n\t\t\t\t\tSystem.out.printf(&quot;%s &quot;,stuff[i]);\t\r\n\r\n\t}","title":"How do I reverse an int array in Java?","body":"<pre><code>public static void main (String args[]){\n\n    //create  array\n    String[] stuff ={\"eggs\",\"lasers\",\"hats\",\"pie\",\"apples\"};\n\n    //print out  array\n    for(String x :stuff)\n        System.out.printf(\"%s \", x);\n            System.out.println();\n\n            //print out array in reverse order\n            for(int i=stuff.length-1; i &gt;= 0; i--)\n                System.out.printf(\"%s \",stuff[i]);  \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1703654,"reputation":2068,"user_id":1563174,"display_name":"Krishna Kumar Chourasiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1428898604,"creation_date":1384249350,"answer_id":19925680,"question_id":2137755,"body_markdown":"This will help you\r\n\r\n    int a[] = {1,2,3,4,5};\r\n    for (int k = 0; k &lt; a.length/2; k++) {\r\n        int temp = a[k];\r\n        a[k] = a[a.length-(1+k)];\r\n        a[a.length-(1+k)] = temp;\r\n    }","title":"How do I reverse an int array in Java?","body":"<p>This will help you</p>\n\n<pre><code>int a[] = {1,2,3,4,5};\nfor (int k = 0; k &lt; a.length/2; k++) {\n    int temp = a[k];\n    a[k] = a[a.length-(1+k)];\n    a[a.length-(1+k)] = temp;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":60811,"reputation":2110,"user_id":181535,"accept_rate":57,"display_name":"Melinda Green"},"score":2,"creation_date":1423707570,"post_id":22828623,"comment_id":45261731,"body_markdown":"Doesn&#39;t solve the original problem using primatives.","body":"Doesn&#39;t solve the original problem using primatives."},{"owner":{"account_id":1100048,"reputation":1008,"user_id":1092670,"accept_rate":93,"display_name":"AnthonyJClink"},"score":0,"creation_date":1423764288,"post_id":22828623,"comment_id":45291163,"body_markdown":"There are many ways to convert prims to objects. I always recommend avoiding prims wherever possible in java and I also believe that it should be encouraged.","body":"There are many ways to convert prims to objects. I always recommend avoiding prims wherever possible in java and I also believe that it should be encouraged."},{"owner":{"account_id":60811,"reputation":2110,"user_id":181535,"accept_rate":57,"display_name":"Melinda Green"},"score":0,"creation_date":1423787583,"post_id":22828623,"comment_id":45302241,"body_markdown":"Converting an array of primitives of unknown length into an array might be a very bad idea, especially if done without realizing it. Java is not Smalltalk. Primitives are part of the language and have their place. It doesn&#39;t matter if we don&#39;t like them, we must accept them, and use them where appropriate.","body":"Converting an array of primitives of unknown length into an array might be a very bad idea, especially if done without realizing it. Java is not Smalltalk. Primitives are part of the language and have their place. It doesn&#39;t matter if we don&#39;t like them, we must accept them, and use them where appropriate."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":2,"creation_date":1434078182,"post_id":22828623,"comment_id":49638652,"body_markdown":"You actually don&#39;t need to copy the array, just `Collections.reverse(asList(arraytoReverse)); return arrayToReverse;`. `asList` is just a wrapper around the array, so the original array is reversed.","body":"You actually don&#39;t need to copy the array, just <code>Collections.reverse(asList(arraytoReverse)); return arrayToReverse;</code>. <code>asList</code> is just a wrapper around the array, so the original array is reversed."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1690558316,"post_id":22828623,"comment_id":135375299,"body_markdown":"Your `return (T[]) new ArrayList&lt;T&gt;().toArray();` will actually return an empty `Object[]`, not whatever type the parameter was.","body":"Your <code>return (T[]) new ArrayList&lt;T&gt;().toArray();</code> will actually return an empty <code>Object[]</code>, not whatever type the parameter was."}],"tags":[],"owner":{"account_id":1100048,"reputation":1008,"user_id":1092670,"accept_rate":93,"display_name":"AnthonyJClink"},"comment_count":5,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1537570056,"creation_date":1396503063,"answer_id":22828623,"question_id":2137755,"body_markdown":"This is how I would personally solve it. The reason behind creating the parametrized method is to allow any array to be sorted... not just your integers.\r\n\r\nI hope you glean something from it.\r\n\r\n\t@Test\r\n\tpublic void reverseTest(){\r\n       Integer[] ints = { 1, 2, 3, 4 };\r\n       Integer[] reversedInts = reverse(ints);\r\n\r\n       assert ints[0].equals(reversedInts[3]);\r\n       assert ints[1].equals(reversedInts[2]);\r\n       assert ints[2].equals(reversedInts[1]);\r\n       assert ints[3].equals(reversedInts[0]);\r\n\r\n       reverseInPlace(reversedInts);\r\n       assert ints[0].equals(reversedInts[0]);\r\n\t}\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static &lt;T&gt; T[] reverse(T[] array) {\r\n        if (array == null) {\r\n            return (T[]) new ArrayList&lt;T&gt;().toArray();\r\n        }\r\n        List&lt;T&gt; copyOfArray = Arrays.asList(Arrays.copyOf(array, array.length));\r\n        Collections.reverse(copyOfArray);\r\n        return copyOfArray.toArray(array);\r\n    }\r\n\r\n    private static &lt;T&gt; T[] reverseInPlace(T[] array) {\r\n        if(array == null) {\r\n            // didn&#39;t want two unchecked suppressions\r\n            return reverse(array);\r\n        }\r\n        \r\n        Collections.reverse(Arrays.asList(array));\r\n        return array;\r\n    }","title":"How do I reverse an int array in Java?","body":"<p>This is how I would personally solve it. The reason behind creating the parametrized method is to allow any array to be sorted... not just your integers.</p>\n\n<p>I hope you glean something from it.</p>\n\n<pre><code>@Test\npublic void reverseTest(){\n   Integer[] ints = { 1, 2, 3, 4 };\n   Integer[] reversedInts = reverse(ints);\n\n   assert ints[0].equals(reversedInts[3]);\n   assert ints[1].equals(reversedInts[2]);\n   assert ints[2].equals(reversedInts[1]);\n   assert ints[3].equals(reversedInts[0]);\n\n   reverseInPlace(reversedInts);\n   assert ints[0].equals(reversedInts[0]);\n}\n\n@SuppressWarnings(\"unchecked\")\nprivate static &lt;T&gt; T[] reverse(T[] array) {\n    if (array == null) {\n        return (T[]) new ArrayList&lt;T&gt;().toArray();\n    }\n    List&lt;T&gt; copyOfArray = Arrays.asList(Arrays.copyOf(array, array.length));\n    Collections.reverse(copyOfArray);\n    return copyOfArray.toArray(array);\n}\n\nprivate static &lt;T&gt; T[] reverseInPlace(T[] array) {\n    if(array == null) {\n        // didn't want two unchecked suppressions\n        return reverse(array);\n    }\n\n    Collections.reverse(Arrays.asList(array));\n    return array;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3961583,"reputation":360,"user_id":3268405,"accept_rate":86,"display_name":"Moddl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407131895,"creation_date":1407131895,"answer_id":25112547,"question_id":2137755,"body_markdown":"Wouldn&#39;t doing it this way be much more unlikely for mistakes?\r\n\r\n\t    int[] intArray = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n\t\tint[] temp = new int[intArray.length];\r\n\t    for(int i = intArray.length - 1; i &gt; -1; i --){\r\n\t    \t\ttemp[intArray.length - i -1] = intArray[i];\r\n\t    }\r\n\t    intArray = temp;","title":"How do I reverse an int array in Java?","body":"<p>Wouldn't doing it this way be much more unlikely for mistakes?</p>\n\n<pre><code>    int[] intArray = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n    int[] temp = new int[intArray.length];\n    for(int i = intArray.length - 1; i &gt; -1; i --){\n            temp[intArray.length - i -1] = intArray[i];\n    }\n    intArray = temp;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1003835,"reputation":1376,"user_id":1018075,"accept_rate":74,"display_name":"Mdhar9e"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1408017332,"creation_date":1408017332,"answer_id":25307474,"question_id":2137755,"body_markdown":"below is the complete program to run in your machine.\r\n\r\n    public class ReverseArray {\r\n    \tpublic static void main(String[] args) {\r\n            int arr[] = new int[] { 10,20,30,50,70 };\r\n    \t\tSystem.out.println(&quot;reversing an array:&quot;);\r\n    \t\tfor(int i = 0; i &lt; arr.length / 2; i++){\r\n    \t\t    int temp = arr[i];\r\n    \t\t    arr[i] = arr[arr.length - i - 1];\r\n    \t\t    arr[arr.length - i - 1] = temp;\r\n    \t\t}\r\n    \t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n    \t\t\tSystem.out.println(arr[i]);\r\n    \t\t}\t\r\n    \t}\r\n    }\r\n\r\nFor programs on matrix using arrays [this will be the good source][1].Go through the link.\r\n\r\n\r\n  [1]: http://javabynataraj.blogspot.in/2014/08/matrix-multiplication-using-arrays-in.html","title":"How do I reverse an int array in Java?","body":"<p>below is the complete program to run in your machine.</p>\n\n<pre><code>public class ReverseArray {\n    public static void main(String[] args) {\n        int arr[] = new int[] { 10,20,30,50,70 };\n        System.out.println(\"reversing an array:\");\n        for(int i = 0; i &lt; arr.length / 2; i++){\n            int temp = arr[i];\n            arr[i] = arr[arr.length - i - 1];\n            arr[arr.length - i - 1] = temp;\n        }\n        for (int i = 0; i &lt; arr.length; i++) {\n            System.out.println(arr[i]);\n        }   \n    }\n}\n</code></pre>\n\n<p>For programs on matrix using arrays <a href=\"http://javabynataraj.blogspot.in/2014/08/matrix-multiplication-using-arrays-in.html\" rel=\"nofollow\">this will be the good source</a>.Go through the link.</p>\n"},{"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":5,"creation_date":1418155537,"post_id":27387496,"comment_id":43223530,"body_markdown":"Please consider adding an explanation to your answer.  Code-only answers don&#39;t explain anything.","body":"Please consider adding an explanation to your answer.  Code-only answers don&#39;t explain anything."}],"tags":[],"owner":{"account_id":4833354,"reputation":611,"user_id":3900923,"display_name":"Stuart Clark"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1428898803,"creation_date":1418154363,"answer_id":27387496,"question_id":2137755,"body_markdown":"    private static int[] reverse(int[] array){\r\n        int[] reversedArray = new int[array.length];\r\n        for(int i = 0; i &lt; array.length; i++){\r\n            reversedArray[i] = array[array.length - i - 1];\r\n        }\r\n        return reversedArray;\r\n    } \r\n\r\n\r\n\r\n","title":"How do I reverse an int array in Java?","body":"<pre><code>private static int[] reverse(int[] array){\n    int[] reversedArray = new int[array.length];\n    for(int i = 0; i &lt; array.length; i++){\n        reversedArray[i] = array[array.length - i - 1];\n    }\n    return reversedArray;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2998181,"reputation":1042,"user_id":2600184,"accept_rate":67,"display_name":"vikarjramun"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1419706241,"creation_date":1419706241,"answer_id":27670432,"question_id":2137755,"body_markdown":"Using the XOR solution to avoid the temp variable your code should look like\r\n\r\n    for(int i = 0; i &lt; validData.length; i++){\r\n        validData[i] = validData[i] ^ validData[validData.length - i - 1];\r\n        validData[validData.length - i - 1] = validData[i] ^ validData[validData.length - i - 1];\r\n        validData[i] = validData[i] ^ validData[validData.length - i - 1];\r\n    }\r\n\r\n\r\nSee this link for a better explanation:\r\n\r\n&lt;http://betterexplained.com/articles/swap-two-variables-using-xor/&gt;","title":"How do I reverse an int array in Java?","body":"<p>Using the XOR solution to avoid the temp variable your code should look like</p>\n\n<pre><code>for(int i = 0; i &lt; validData.length; i++){\n    validData[i] = validData[i] ^ validData[validData.length - i - 1];\n    validData[validData.length - i - 1] = validData[i] ^ validData[validData.length - i - 1];\n    validData[i] = validData[i] ^ validData[validData.length - i - 1];\n}\n</code></pre>\n\n<p>See this link for a better explanation:</p>\n\n<p><a href=\"http://betterexplained.com/articles/swap-two-variables-using-xor/\" rel=\"nofollow\">http://betterexplained.com/articles/swap-two-variables-using-xor/</a></p>\n"},{"tags":[],"owner":{"account_id":5505143,"reputation":303,"user_id":4373184,"display_name":"Apetrei Ionut"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1422715677,"creation_date":1422715677,"answer_id":28252879,"question_id":2137755,"body_markdown":"    public class TryReverse {\r\n    \tpublic static void main(String[] args) {\t\t\r\n    \t\tint [] array = {2,3,4,5,6,7,8,9};\t\t\r\n    \t\treverse(array);\r\n    \t\tfor(int i=0; i&lt;array.length; ++i)\r\n    \t\t\tSystem.out.print(array[i] + &quot; &quot;);\r\n    \t}\r\n    \tpublic static void reverse (int [] array){\r\n    \t\tfor(int start=0, end=array.length-1; start&lt;=end; start++, end--){\r\n    \t\t\tint aux = array[start];\r\n    \t\t\tarray[start]=array[end];\r\n    \t\t\tarray[end]=aux;\r\n    \t\t}\r\n    \t}\r\n    }","title":"How do I reverse an int array in Java?","body":"<pre><code>public class TryReverse {\n    public static void main(String[] args) {        \n        int [] array = {2,3,4,5,6,7,8,9};       \n        reverse(array);\n        for(int i=0; i&lt;array.length; ++i)\n            System.out.print(array[i] + \" \");\n    }\n    public static void reverse (int [] array){\n        for(int start=0, end=array.length-1; start&lt;=end; start++, end--){\n            int aux = array[start];\n            array[start]=array[end];\n            array[end]=aux;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7180435,"reputation":1104,"user_id":5484609,"accept_rate":80,"display_name":"Kartik Chugh"},"score":4,"creation_date":1486317321,"post_id":28253263,"comment_id":71282897,"body_markdown":"In the future, please let the asker know specifically what they did incorrectly, and what you did correctly.","body":"In the future, please let the asker know specifically what they did incorrectly, and what you did correctly."},{"owner":{"account_id":1050499,"reputation":2678,"user_id":1054573,"display_name":"Leonard Pauli"},"score":1,"creation_date":1538173535,"post_id":28253263,"comment_id":92065114,"body_markdown":"change `start &lt;= end` to `start &lt; end`","body":"change <code>start &lt;= end</code> to <code>start &lt; end</code>"}],"tags":[],"owner":{"account_id":5505143,"reputation":303,"user_id":4373184,"display_name":"Apetrei Ionut"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1479699488,"creation_date":1422718002,"answer_id":28253263,"question_id":2137755,"body_markdown":"Simple for loop!\r\n\t\t\r\n\r\n    for (int start = 0, end = array.length - 1; start &lt;= end; start++, end--) {\r\n        int aux = array[start];\r\n        array[start]=array[end];\r\n        array[end]=aux;\r\n    }","title":"How do I reverse an int array in Java?","body":"<p>Simple for loop!</p>\n\n<pre><code>for (int start = 0, end = array.length - 1; start &lt;= end; start++, end--) {\n    int aux = array[start];\n    array[start]=array[end];\n    array[end]=aux;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3390327,"reputation":2668,"user_id":2845282,"accept_rate":68,"display_name":"Nikhil Kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1429516498,"creation_date":1429516498,"answer_id":29742155,"question_id":2137755,"body_markdown":"Try this program in JAVA :-\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Rev_one_D {\r\n    \r\n    \tstatic int row;\r\n    \r\n    \tstatic int[] trans_arr = new int[row];\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint n = sc.nextInt();\r\n    \t\trow = n;\r\n    \r\n    \t\tint[] arr = new int[row];\r\n    \t\tfor (int i = 0; i &lt; row; i++) {\r\n    \r\n    \t\t\tarr[i] = sc.nextInt();\r\n    \t\t\tSystem.out.print(arr[i] + &quot; &quot;);\r\n    \r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \r\n    \t\tfor (int i = 0; i &lt; arr.length / 2; i++) {\r\n    \t\t\tint temp = arr[i];\r\n    \t\t\tarr[i] = arr[arr.length - i - 1];\r\n    \t\t\tarr[arr.length - i - 1] = temp;\r\n    \r\n    \t\t}\r\n    \r\n    \t\tfor (int i = 0; i &lt; row; i++) {\r\n    \t\t\tSystem.out.print(arr[i] + &quot; &quot;);\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How do I reverse an int array in Java?","body":"<p>Try this program in JAVA :-</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Rev_one_D {\n\n    static int row;\n\n    static int[] trans_arr = new int[row];\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        row = n;\n\n        int[] arr = new int[row];\n        for (int i = 0; i &lt; row; i++) {\n\n            arr[i] = sc.nextInt();\n            System.out.print(arr[i] + \" \");\n\n            System.out.println();\n        }\n\n        for (int i = 0; i &lt; arr.length / 2; i++) {\n            int temp = arr[i];\n            arr[i] = arr[arr.length - i - 1];\n            arr[arr.length - i - 1] = temp;\n\n        }\n\n        for (int i = 0; i &lt; row; i++) {\n            System.out.print(arr[i] + \" \");\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2828461,"reputation":19324,"user_id":2430549,"display_name":"HoldOffHunger"},"score":1,"creation_date":1497572125,"post_id":32032464,"comment_id":76146516,"body_markdown":"Unfortunately, this is the most clean answer available here, because every developer will know how to do it and it doesn&#39;t require any extended package installs.","body":"Unfortunately, this is the most clean answer available here, because every developer will know how to do it and it doesn&#39;t require any extended package installs."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":3,"creation_date":1621851605,"post_id":32032464,"comment_id":119610217,"body_markdown":"This is good for getting the values of the array, but if you really want to reverse the array, you would have to create a new one using this method =&gt; the other ones would be more efficient.","body":"This is good for getting the values of the array, but if you really want to reverse the array, you would have to create a new one using this method =&gt; the other ones would be more efficient."}],"tags":[],"owner":{"account_id":2809343,"reputation":460,"user_id":2415900,"accept_rate":0,"display_name":"Deepak Singh"},"comment_count":2,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1439706561,"creation_date":1439706561,"answer_id":32032464,"question_id":2137755,"body_markdown":"    for(int i=validData.length-1; i&gt;=0; i--){\r\n      System.out.println(validData[i]);\r\n     }","title":"How do I reverse an int array in Java?","body":"<pre><code>for(int i=validData.length-1; i&gt;=0; i--){\n  System.out.println(validData[i]);\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1075625,"reputation":139,"user_id":1073857,"accept_rate":0,"display_name":"FrederikH"},"score":0,"creation_date":1443116047,"post_id":32766565,"comment_id":53374292,"body_markdown":"Even more simpel from java 1.7+\n\n\n&#39;code&#39;\n     Integer[] a = new Integer[]{1,6,23,4,6,8,2}\n     Arrays.sort(a, java.util.Collections.reverseOrder());","body":"Even more simpel from java 1.7+   &#39;code&#39;      Integer[] a = new Integer[]{1,6,23,4,6,8,2}      Arrays.sort(a, java.util.Collections.reverseOrder());"}],"tags":[],"owner":{"account_id":1075625,"reputation":139,"user_id":1073857,"accept_rate":0,"display_name":"FrederikH"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1443112445,"creation_date":1443112445,"answer_id":32766565,"question_id":2137755,"body_markdown":"You can use this\r\n\r\n    public final class ReverseComparator&lt;T extends Comparable&lt;T&gt;&gt; implements  Comparator&lt;T&gt; {\r\n      @Override\r\n      public int compare(T o1, T o2) {\t\t\r\n        return o2.compareTo(o1);\r\n      }\r\n    }\r\n\r\nAn simply\r\n\r\n    Integer[] a = {1,6,23,4,6,8,2}\r\n    Arrays.sort(a, new ReverseComparator&lt;Integer&gt;());\r\n","title":"How do I reverse an int array in Java?","body":"<p>You can use this</p>\n\n<pre><code>public final class ReverseComparator&lt;T extends Comparable&lt;T&gt;&gt; implements  Comparator&lt;T&gt; {\n  @Override\n  public int compare(T o1, T o2) {      \n    return o2.compareTo(o1);\n  }\n}\n</code></pre>\n\n<p>An simply</p>\n\n<pre><code>Integer[] a = {1,6,23,4,6,8,2}\nArrays.sort(a, new ReverseComparator&lt;Integer&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5915450,"reputation":95,"user_id":4654394,"display_name":"Soumya Sarkar"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1448874907,"creation_date":1448874907,"answer_id":33994997,"question_id":2137755,"body_markdown":"Try this code: \r\n\r\n        int arr[] = new int[]{1,2,3,4,5,6,7};\r\n        for(int i=0;i&lt;arr.length/2;i++){\r\n\t        int temp = arr[i];\r\n\t        arr[i] = arr[(arr.length-1)-i];\r\n\t        arr[(arr.length-1)-i] = temp;\r\n         }\r\n         System.out.println(Arrays.toString(arr));\r\n    ","title":"How do I reverse an int array in Java?","body":"<p>Try this code: </p>\n\n<pre><code>    int arr[] = new int[]{1,2,3,4,5,6,7};\n    for(int i=0;i&lt;arr.length/2;i++){\n        int temp = arr[i];\n        arr[i] = arr[(arr.length-1)-i];\n        arr[(arr.length-1)-i] = temp;\n     }\n     System.out.println(Arrays.toString(arr));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4634476,"reputation":426,"user_id":3756090,"accept_rate":25,"display_name":"subinksoman"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1501568516,"creation_date":1449642173,"answer_id":34172032,"question_id":2137755,"body_markdown":"    public void getDSCSort(int[] data){\r\n    \t\tfor (int left = 0, right = data.length - 1; left &lt; right; left++, right--){\r\n\t            // swap the values at the left and right indices\r\n\t            int temp = data[left];\r\n\t            data[left]  = data[right];\r\n\t            data[right] = temp;\r\n\t        }\r\n    \t}","title":"How do I reverse an int array in Java?","body":"<pre><code>public void getDSCSort(int[] data){\n        for (int left = 0, right = data.length - 1; left &lt; right; left++, right--){\n            // swap the values at the left and right indices\n            int temp = data[left];\n            data[left]  = data[right];\n            data[right] = temp;\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11715453,"reputation":116,"user_id":8576103,"display_name":"InziKhan"},"score":3,"creation_date":1528487904,"post_id":34756125,"comment_id":88542633,"body_markdown":"It won&#39;t return array as reversed!","body":"It won&#39;t return array as reversed!"}],"tags":[],"owner":{"account_id":5091125,"reputation":4770,"user_id":4084160,"accept_rate":100,"display_name":"HenryDev"},"comment_count":1,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1452643527,"creation_date":1452643527,"answer_id":34756125,"question_id":2137755,"body_markdown":"Here&#39;s a simple an quick solution. Hope it helps!.\r\n\r\n    public int[] reverse(int[] arr) {\r\n\t\tfor(int i = arr.length; i &gt; 0 ; i--){\r\n\t\t\tSystem.out.print(arr[i-1] + &quot; &quot;);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}","title":"How do I reverse an int array in Java?","body":"<p>Here's a simple an quick solution. Hope it helps!.</p>\n\n<pre><code>public int[] reverse(int[] arr) {\n    for(int i = arr.length; i &gt; 0 ; i--){\n        System.out.print(arr[i-1] + \" \");\n    }\n    return arr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1891952,"reputation":2743,"user_id":1709793,"accept_rate":0,"display_name":"craftsmannadeem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454089615,"creation_date":1454089615,"answer_id":35090812,"question_id":2137755,"body_markdown":"Here is a simple implementation, to reverse array of **any type**, plus **full/partial** support.\r\n\r\n    import java.util.logging.Logger;\r\n\r\n    public final class ArrayReverser {\r\n\t private static final Logger LOGGER = Logger.getLogger(ArrayReverser.class.getName());\r\n\t\r\n\t private ArrayReverser () {\r\n\t\t\r\n\t }\r\n\t\r\n\t public static &lt;T&gt; void reverse(T[] seed) {\r\n\t\treverse(seed, 0, seed.length);\r\n\t }\r\n\r\n\t public static &lt;T&gt; void reverse(T[] seed, int startIndexInclusive, int endIndexExclusive) {\r\n\t\tif (seed == null || seed.length == 0) {\r\n\t\t\tLOGGER.warning(&quot;Nothing to rotate&quot;);\r\n\t\t}\r\n\t\tint start = startIndexInclusive &lt; 0 ? 0 : startIndexInclusive;\r\n\t\tint end = Math.min(seed.length, endIndexExclusive) - 1;\r\n\t\twhile (start &lt; end) {\r\n\t\t\tswap(seed, start, end);\r\n\t\t\tstart++;\r\n\t\t\tend--;\r\n\t\t}\r\n\t}\r\n\r\n\t private static &lt;T&gt; void swap(T[] seed, int start, int end) {\r\n\t\tT temp =  seed[start];\r\n\t\tseed[start] = seed[end];\r\n\t\tseed[end] = temp;\r\n\t }\t\r\n\t\r\n    }\r\n\r\nHere is the corresponding Unit Test &lt;br&gt;\r\n\r\n    import static org.hamcrest.CoreMatchers.is;\r\n    import static org.junit.Assert.assertThat;\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n\r\n    public class ArrayReverserTest {\r\n\tprivate Integer[] seed;\r\n\r\n\t@Before\r\n\tpublic void doBeforeEachTestCase() {\r\n\t\tthis.seed = new Integer[]{1,2,3,4,5,6,7,8};\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void wholeArrayReverse() {\r\n\t\tArrayReverser.&lt;Integer&gt;reverse(seed);\r\n\t\tassertThat(seed[0], is(8));\r\n\t}\r\n\r\n\t @Test\r\n\t public void partialArrayReverse() {\r\n\t\tArrayReverser.&lt;Integer&gt;reverse(seed, 1, 5);\r\n\t\tassertThat(seed[1], is(5));\r\n\t }\r\n    }\r\n\r\n","title":"How do I reverse an int array in Java?","body":"<p>Here is a simple implementation, to reverse array of <strong>any type</strong>, plus <strong>full/partial</strong> support.</p>\n\n<pre><code>import java.util.logging.Logger;\n\npublic final class ArrayReverser {\n private static final Logger LOGGER = Logger.getLogger(ArrayReverser.class.getName());\n\n private ArrayReverser () {\n\n }\n\n public static &lt;T&gt; void reverse(T[] seed) {\n    reverse(seed, 0, seed.length);\n }\n\n public static &lt;T&gt; void reverse(T[] seed, int startIndexInclusive, int endIndexExclusive) {\n    if (seed == null || seed.length == 0) {\n        LOGGER.warning(\"Nothing to rotate\");\n    }\n    int start = startIndexInclusive &lt; 0 ? 0 : startIndexInclusive;\n    int end = Math.min(seed.length, endIndexExclusive) - 1;\n    while (start &lt; end) {\n        swap(seed, start, end);\n        start++;\n        end--;\n    }\n}\n\n private static &lt;T&gt; void swap(T[] seed, int start, int end) {\n    T temp =  seed[start];\n    seed[start] = seed[end];\n    seed[end] = temp;\n }  \n\n}\n</code></pre>\n\n<p>Here is the corresponding Unit Test <br></p>\n\n<pre><code>import static org.hamcrest.CoreMatchers.is;\nimport static org.junit.Assert.assertThat;\n\nimport org.junit.Before;\nimport org.junit.Test;\n\npublic class ArrayReverserTest {\nprivate Integer[] seed;\n\n@Before\npublic void doBeforeEachTestCase() {\n    this.seed = new Integer[]{1,2,3,4,5,6,7,8};\n}\n\n@Test\npublic void wholeArrayReverse() {\n    ArrayReverser.&lt;Integer&gt;reverse(seed);\n    assertThat(seed[0], is(8));\n}\n\n @Test\n public void partialArrayReverse() {\n    ArrayReverser.&lt;Integer&gt;reverse(seed, 1, 5);\n    assertThat(seed[1], is(5));\n }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4773584,"reputation":91,"user_id":3857457,"display_name":"Martin Rust"},"score":38,"creation_date":1474528499,"post_id":36495496,"comment_id":66569677,"body_markdown":"For arrays of objects, this is a good solution. But it doesn&#39;t work for arrays of primitives. E. g. passing an `int[]` to `asList(...)` will not return a `List&lt;Integer&gt;`, but a `List&lt;int[]&gt;`, containing one element. There is AFAICS no simple built-in way to convert an `int[]` to an `Integer[]`.","body":"For arrays of objects, this is a good solution. But it doesn&#39;t work for arrays of primitives. E. g. passing an <code>int[]</code> to <code>asList(...)</code> will not return a <code>List&lt;Integer&gt;</code>, but a <code>List&lt;int[]&gt;</code>, containing one element. There is AFAICS no simple built-in way to convert an <code>int[]</code> to an <code>Integer[]</code>."},{"owner":{"account_id":1662050,"reputation":1141,"user_id":1530143,"accept_rate":100,"display_name":"NightSkyCode"},"score":10,"creation_date":1477253317,"post_id":36495496,"comment_id":67679095,"body_markdown":"This wont work with primitive arrays... collections dosnt return a value so now you have a useless array as a list in memory","body":"This wont work with primitive arrays... collections dosnt return a value so now you have a useless array as a list in memory"},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":1,"creation_date":1591779818,"post_id":36495496,"comment_id":110182861,"body_markdown":"@MartinRust Java 8+: `Arrays.stream(arr).boxed().collect(Collectors.toList())` or `Arrays.stream(arr).boxed().toArray(Integer[]::new)`","body":"@MartinRust Java 8+: <code>Arrays.stream(arr).boxed().collect(Collectors.toList())</code> or <code>Arrays.stream(arr).boxed().toArray(Integer[]::new)</code>"},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":1,"creation_date":1625657150,"post_id":36495496,"comment_id":120683775,"body_markdown":"@KingLogic Well, it&#39;s a one-liner and the prettiest thing I could come up with. Feel free to suggest something better (that does not rely upon a library).","body":"@KingLogic Well, it&#39;s a one-liner and the prettiest thing I could come up with. Feel free to suggest something better (that does not rely upon a library)."}],"tags":[],"owner":{"account_id":1870321,"reputation":3740,"user_id":1692714,"accept_rate":75,"display_name":"escitalopram"},"comment_count":4,"down_vote_count":5,"up_vote_count":89,"is_accepted":false,"score":84,"last_activity_date":1460105834,"creation_date":1460105834,"answer_id":36495496,"question_id":2137755,"body_markdown":"    Collections.reverse(Arrays.asList(yourArray));\r\n\r\n`java.util.Collections.reverse()` can reverse `java.util.List`s and `java.util.Arrays.asList()` returns a list that wraps the the specific array you pass to it, therefore `yourArray` is reversed after the invocation of `Collections.reverse()`.\r\n\r\nThe cost is just the creation of one List-object and no additional libraries are required.\r\n\r\nA similar solution has been presented in the answer of Tarik and their commentors, but I think this answer would be more concise and more easily parsable.","title":"How do I reverse an int array in Java?","body":"<pre><code>Collections.reverse(Arrays.asList(yourArray));\n</code></pre>\n\n<p><code>java.util.Collections.reverse()</code> can reverse <code>java.util.List</code>s and <code>java.util.Arrays.asList()</code> returns a list that wraps the the specific array you pass to it, therefore <code>yourArray</code> is reversed after the invocation of <code>Collections.reverse()</code>.</p>\n\n<p>The cost is just the creation of one List-object and no additional libraries are required.</p>\n\n<p>A similar solution has been presented in the answer of Tarik and their commentors, but I think this answer would be more concise and more easily parsable.</p>\n"},{"tags":[],"owner":{"account_id":1615361,"reputation":1,"user_id":1493229,"display_name":"marela"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1471103931,"creation_date":1471103931,"answer_id":38934502,"question_id":2137755,"body_markdown":"Another way to reverse array \r\n\r\n    public static int []reversing(int[] array){\r\n    \tint arraysize = array.length;\r\n        int[] reverse = new int [arraysize+1];\r\n        for(int i=1; i &lt;= arraysize ; i++){\r\n        \tint dec= arraysize -i;\r\n            reverse[i] = array[dec];\r\n        }\r\n        return reverse;\r\n    }","title":"How do I reverse an int array in Java?","body":"<p>Another way to reverse array </p>\n\n<pre><code>public static int []reversing(int[] array){\n    int arraysize = array.length;\n    int[] reverse = new int [arraysize+1];\n    for(int i=1; i &lt;= arraysize ; i++){\n        int dec= arraysize -i;\n        reverse[i] = array[dec];\n    }\n    return reverse;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":894842,"reputation":3082,"user_id":932359,"display_name":"Luke Usherwood"},"score":5,"creation_date":1483004009,"post_id":41053380,"comment_id":69955334,"body_markdown":"This is brilliant! Short and effective. Like all `asList` methods, it creates a **view** that writes directly through to the backing (primitive) array. I think the down-voter here mistakenly thought that this returned a boxed list or something.","body":"This is brilliant! Short and effective. Like all <code>asList</code> methods, it creates a <b>view</b> that writes directly through to the backing (primitive) array. I think the down-voter here mistakenly thought that this returned a boxed list or something."},{"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"score":0,"creation_date":1486979244,"post_id":41053380,"comment_id":71563458,"body_markdown":"@LukeUsherwood presumably there will still be some overhead from boxing and unboxing when calling get and set on each element. But I agree with you that this is a brilliant solution.","body":"@LukeUsherwood presumably there will still be some overhead from boxing and unboxing when calling get and set on each element. But I agree with you that this is a brilliant solution."},{"owner":{"account_id":894842,"reputation":3082,"user_id":932359,"display_name":"Luke Usherwood"},"score":0,"creation_date":1486992919,"post_id":41053380,"comment_id":71571866,"body_markdown":"Indeed, that&#39;s worth being aware of. I don&#39;t think it would be a big deal in the majority of code I personally work with - our &#39;hot&#39; areas are well defined, the rest is &#39;glue code&#39; of sorts. At the same time I am concious that memory churn also creates an additional &quot;hidden&quot; cost that profilers don&#39;t attribute to the actual function.","body":"Indeed, that&#39;s worth being aware of. I don&#39;t think it would be a big deal in the majority of code I personally work with - our &#39;hot&#39; areas are well defined, the rest is &#39;glue code&#39; of sorts. At the same time I am concious that memory churn also creates an additional &quot;hidden&quot; cost that profilers don&#39;t attribute to the actual function."},{"owner":{"account_id":1100048,"reputation":1008,"user_id":1092670,"accept_rate":93,"display_name":"AnthonyJClink"},"score":0,"creation_date":1538424440,"post_id":41053380,"comment_id":92130951,"body_markdown":"@LukeUsherwood it still does return a boxed list instead of a prim array","body":"@LukeUsherwood it still does return a boxed list instead of a prim array"},{"owner":{"account_id":894842,"reputation":3082,"user_id":932359,"display_name":"Luke Usherwood"},"score":2,"creation_date":1538489718,"post_id":41053380,"comment_id":92154746,"body_markdown":"@AnthonyJClink Not sure what &quot;it&quot; refers to, but the JDK utility `Collections.reverse` is a void method. This operates in-place on a Guava internal class which wraps an `int[]` (Since it never stores a list of boxed `Integer`s I wouldn&#39;t call the class a &quot;boxed list&quot;, but rather a &quot;List view of an array&quot;). But yes it operates via an interface passing `Integer` objects, so this would create a lot of temporary object churn and boxing as mentioned. Try an `IntStream` or a primitive-collection library for where performance matters. (Trove, Koloboke, Eclipse Collections, ...)","body":"@AnthonyJClink Not sure what &quot;it&quot; refers to, but the JDK utility <code>Collections.reverse</code> is a void method. This operates in-place on a Guava internal class which wraps an <code>int[]</code> (Since it never stores a list of boxed <code>Integer</code>s I wouldn&#39;t call the class a &quot;boxed list&quot;, but rather a &quot;List view of an array&quot;). But yes it operates via an interface passing <code>Integer</code> objects, so this would create a lot of temporary object churn and boxing as mentioned. Try an <code>IntStream</code> or a primitive-collection library for where performance matters. (Trove, Koloboke, Eclipse Collections, ...)"},{"owner":{"account_id":1100048,"reputation":1008,"user_id":1092670,"accept_rate":93,"display_name":"AnthonyJClink"},"score":0,"creation_date":1538513629,"post_id":41053380,"comment_id":92166719,"body_markdown":"@LukeUsherwood as per the documentation for Ints. : \n\nMethods \nModifier and Type\tMethod and Description\nstatic List&lt;Integer&gt;\tasList(int... backingArray)\nReturns a fixed-size list backed by the specified array, similar to Arrays.asList(Object[]).\n\nHence... it is a boxed list.","body":"@LukeUsherwood as per the documentation for Ints. :   Methods  Modifier and Type\tMethod and Description static List&lt;Integer&gt;\tasList(int... backingArray) Returns a fixed-size list backed by the specified array, similar to Arrays.asList(Object[]).  Hence... it is a boxed list."},{"owner":{"account_id":894842,"reputation":3082,"user_id":932359,"display_name":"Luke Usherwood"},"score":0,"creation_date":1538585326,"post_id":41053380,"comment_id":92197229,"body_markdown":"@AnthonyJClink ok sounds like we agree about how it works.","body":"@AnthonyJClink ok sounds like we agree about how it works."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1555907307,"post_id":41053380,"comment_id":98248154,"body_markdown":"What&#39;s `Ints` ?","body":"What&#39;s <code>Ints</code> ?"},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1555908792,"post_id":41053380,"comment_id":98248410,"body_markdown":"@AbhijitSarkar [Ints](https://google.github.io/guava/releases/27.1-jre/api/docs/com/google/common/primitives/Ints.html)","body":"@AbhijitSarkar <a href=\"https://google.github.io/guava/releases/27.1-jre/api/docs/com/google/common/primitives/Ints.html\" rel=\"nofollow noreferrer\">Ints</a>"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1555910893,"post_id":41053380,"comment_id":98248818,"body_markdown":"You conveniently assumed OP is using Guava. Java sucks in this regard, that there are no library methods to operate on primitive arrays, but that doesn&#39;t mean people are off to using another library. I must have missed the &quot;With Guava:&quot; disclaimer.","body":"You conveniently assumed OP is using Guava. Java sucks in this regard, that there are no library methods to operate on primitive arrays, but that doesn&#39;t mean people are off to using another library. I must have missed the &quot;With Guava:&quot; disclaimer."}],"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":10,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1674894873,"creation_date":1481259468,"answer_id":41053380,"question_id":2137755,"body_markdown":"# Guava\r\n\r\nUsing the [*Google Guava*][1] library:\r\n\r\n    Collections.reverse(Ints.asList(array));\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Google_Guava","title":"How do I reverse an int array in Java?","body":"<h1>Guava</h1>\n<p>Using the <a href=\"https://en.wikipedia.org/wiki/Google_Guava\" rel=\"nofollow noreferrer\"><em>Google Guava</em></a> library:</p>\n<pre><code>Collections.reverse(Ints.asList(array));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"score":3,"creation_date":1486977717,"post_id":41637385,"comment_id":71562475,"body_markdown":"that&#39;s not an array","body":"that&#39;s not an array"}],"tags":[],"owner":{"account_id":4977012,"reputation":564,"user_id":4003055,"accept_rate":64,"display_name":"Mathieu Brouwers"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1484319369,"creation_date":1484319369,"answer_id":41637385,"question_id":2137755,"body_markdown":"As I intended to keep my original Array as it was, I solved this problem in the following manner:\r\n\r\n    List&lt;Integer&gt; normalArray= new ArrayList&lt;&gt;();\r\n    List&lt;Integer&gt; reversedArray = new ArrayList&lt;&gt;();\r\n\r\n    // Fill up array here\r\n\r\n    for (int i = 1; i &lt;= normalArray.size(); i++) {\r\n      reversedArray .add(normalArray.get(normalArray.size()-i));\r\n    }\r\n\r\nSo basically loop through the initial array and add all the values in reversed order to the new (reversed) array. The type of the list can be anything.\r\nI work my way through this code multiple times, this causes some of the other solutions not to work.","title":"How do I reverse an int array in Java?","body":"<p>As I intended to keep my original Array as it was, I solved this problem in the following manner:</p>\n\n<pre><code>List&lt;Integer&gt; normalArray= new ArrayList&lt;&gt;();\nList&lt;Integer&gt; reversedArray = new ArrayList&lt;&gt;();\n\n// Fill up array here\n\nfor (int i = 1; i &lt;= normalArray.size(); i++) {\n  reversedArray .add(normalArray.get(normalArray.size()-i));\n}\n</code></pre>\n\n<p>So basically loop through the initial array and add all the values in reversed order to the new (reversed) array. The type of the list can be anything.\nI work my way through this code multiple times, this causes some of the other solutions not to work.</p>\n"},{"comments":[{"owner":{"account_id":1711471,"reputation":1102,"user_id":1569443,"accept_rate":100,"display_name":"Abhishekkumar"},"score":5,"creation_date":1484910030,"post_id":41761949,"comment_id":70715404,"body_markdown":"It will not reverse the current array, it will only print the array in reverse direction","body":"It will not reverse the current array, it will only print the array in reverse direction"},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":3,"creation_date":1486236108,"post_id":41761949,"comment_id":71262241,"body_markdown":"@Abhishekkumar, it won&#39;t even do that (`i &gt; 0`).","body":"@Abhishekkumar, it won&#39;t even do that (<code>i &gt; 0</code>)."}],"tags":[],"owner":{"account_id":7381316,"reputation":57,"user_id":5617926,"accept_rate":33,"display_name":"Doncho Balamjiev"},"comment_count":2,"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1484909792,"creation_date":1484909792,"answer_id":41761949,"question_id":2137755,"body_markdown":"    int[] arrTwo = {5, 8, 18, 6, 20, 50, 6};\r\n\r\n        for (int i = arrTwo.length-1; i &gt; 0; i--)\r\n        {\r\n            System.out.print(arrTwo[i] + &quot; &quot;);\r\n        }","title":"How do I reverse an int array in Java?","body":"<pre><code>int[] arrTwo = {5, 8, 18, 6, 20, 50, 6};\n\n    for (int i = arrTwo.length-1; i &gt; 0; i--)\n    {\n        System.out.print(arrTwo[i] + \" \");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1674907736,"creation_date":1486978657,"answer_id":42200856,"question_id":2137755,"body_markdown":"# Use a stream to reverse \r\n\r\nThere are already a lot of answers here, mostly focused on modifying the array in-place. But for the sake of completeness, here is another approach using Java streams to preserve the original array and create a new reversed array:\r\n\r\n    int[] a = {8, 6, 7, 5, 3, 0, 9};\r\n    int[] b = IntStream.rangeClosed(1, a.length).map(i -&gt; a[a.length-i]).toArray();\r\n\r\n","title":"How do I reverse an int array in Java?","body":"<h1>Use a stream to reverse</h1>\n<p>There are already a lot of answers here, mostly focused on modifying the array in-place. But for the sake of completeness, here is another approach using Java streams to preserve the original array and create a new reversed array:</p>\n<pre><code>int[] a = {8, 6, 7, 5, 3, 0, 9};\nint[] b = IntStream.rangeClosed(1, a.length).map(i -&gt; a[a.length-i]).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1309732,"reputation":4219,"user_id":1257986,"accept_rate":63,"display_name":"Simple-Solution"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510928388,"creation_date":1487282127,"answer_id":42285420,"question_id":2137755,"body_markdown":"Here is what I&#39;ve come up with:\r\n\r\n    // solution 1 - boiler plated \r\n    Integer[] original = {100, 200, 300, 400};\r\n    Integer[] reverse = new Integer[original.length];\r\n        \r\n    int lastIdx = original.length -1;\r\n    int startIdx = 0;\r\n        \r\n    for (int endIdx = lastIdx; endIdx &gt;= 0; endIdx--, startIdx++)\r\n       reverse[startIdx] = original[endIdx];\r\n        \r\n    System.out.printf(&quot;reverse form: %s&quot;, Arrays.toString(reverse));\r\n\r\n    // solution 2 - abstracted \r\n    // convert to list then use Collections static reverse()\r\n    List&lt;Integer&gt; l = Arrays.asList(original);\r\n    Collections.reverse(l);\r\n    System.out.printf(&quot;reverse form: %s&quot;, l);","title":"How do I reverse an int array in Java?","body":"<p>Here is what I've come up with:</p>\n\n<pre><code>// solution 1 - boiler plated \nInteger[] original = {100, 200, 300, 400};\nInteger[] reverse = new Integer[original.length];\n\nint lastIdx = original.length -1;\nint startIdx = 0;\n\nfor (int endIdx = lastIdx; endIdx &gt;= 0; endIdx--, startIdx++)\n   reverse[startIdx] = original[endIdx];\n\nSystem.out.printf(\"reverse form: %s\", Arrays.toString(reverse));\n\n// solution 2 - abstracted \n// convert to list then use Collections static reverse()\nList&lt;Integer&gt; l = Arrays.asList(original);\nCollections.reverse(l);\nSystem.out.printf(\"reverse form: %s\", l);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1578619056,"creation_date":1508079142,"answer_id":46756353,"question_id":2137755,"body_markdown":"In case of **Java 8** we can also use `IntStream` to reverse the array of integers  as:\r\n    \r\n\r\n    int[] sample = new int[]{1,2,3,4,5};\r\n    int size = sample.length;\r\n    int[] reverseSample = IntStream.range(0,size).map(i -&gt; sample[size-i-1])\r\n                          .toArray(); //Output: [5, 4, 3, 2, 1]\r\n\r\n","title":"How do I reverse an int array in Java?","body":"<p>In case of <strong>Java 8</strong> we can also use <code>IntStream</code> to reverse the array of integers  as:</p>\n\n<pre><code>int[] sample = new int[]{1,2,3,4,5};\nint size = sample.length;\nint[] reverseSample = IntStream.range(0,size).map(i -&gt; sample[size-i-1])\n                      .toArray(); //Output: [5, 4, 3, 2, 1]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2327401,"reputation":872,"user_id":2041550,"accept_rate":80,"display_name":"Tim Cooke"},"score":0,"creation_date":1508909653,"post_id":46827036,"comment_id":80796113,"body_markdown":"Just FYI, this can be simplified into a complex for loop: `for (int start = 0, end = array.length - 1; start &lt; end; start++, end--) { ... }`.","body":"Just FYI, this can be simplified into a complex for loop: <code>for (int start = 0, end = array.length - 1; start &lt; end; start++, end--) { ... }</code>."}],"tags":[],"owner":{"account_id":3407663,"reputation":171,"user_id":2858355,"accept_rate":0,"display_name":"user11016"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508406174,"creation_date":1508406174,"answer_id":46827036,"question_id":2137755,"body_markdown":"Solution with o(n) time complexity and o(1) space complexity.\r\n\r\n    void reverse(int[] array) {\r\n        int start = 0;\r\n        int end = array.length - 1;\r\n        while (start &lt; end) {\r\n            int temp = array[start];\r\n            array[start] = array[end];\r\n            array[end] = temp;\r\n            start++;\r\n            end--;\r\n        }\r\n    }","title":"How do I reverse an int array in Java?","body":"<p>Solution with o(n) time complexity and o(1) space complexity.</p>\n\n<pre><code>void reverse(int[] array) {\n    int start = 0;\n    int end = array.length - 1;\n    while (start &lt; end) {\n        int temp = array[start];\n        array[start] = array[end];\n        array[end] = temp;\n        start++;\n        end--;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9010688,"reputation":1381,"user_id":6715431,"display_name":"jagdish khetre"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1516147428,"creation_date":1516147428,"answer_id":48291738,"question_id":2137755,"body_markdown":"       import java.util.Scanner;\r\n    class ReverseArray \r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tint[] arra = new int[10];\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter Array Elements : &quot;);\r\n    \t\tfor(int i = 0 ; i &lt;arra.length;i++)\r\n    \t\t{\r\n    \t\t\tarra[i] = sc.nextInt();\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Printing  Array : &quot;);\r\n    \t\tfor(int i = 0; i &lt;arra.length;i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.print(arra[i] + &quot; &quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;Printing  Reverse Array : &quot;);\r\n    \t\tfor(int i = arra.length-1; i &gt;=0;i--)\r\n    \t\t{\r\n    \t\t\tSystem.out.print(arra[i] + &quot; &quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How do I reverse an int array in Java?","body":"<pre><code>   import java.util.Scanner;\nclass ReverseArray \n{\n    public static void main(String[] args) \n    {\n        int[] arra = new int[10];\n        Scanner sc = new Scanner(System.in);\n        System.out.println(\"Enter Array Elements : \");\n        for(int i = 0 ; i &lt;arra.length;i++)\n        {\n            arra[i] = sc.nextInt();\n        }\n\n        System.out.println(\"Printing  Array : \");\n        for(int i = 0; i &lt;arra.length;i++)\n        {\n            System.out.print(arra[i] + \" \");\n        }\n\n        System.out.println();\n        System.out.println(\"Printing  Reverse Array : \");\n        for(int i = arra.length-1; i &gt;=0;i--)\n        {\n            System.out.print(arra[i] + \" \");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6392843,"reputation":1977,"user_id":4958332,"accept_rate":38,"display_name":"Karan Khanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524521396,"creation_date":1524521396,"answer_id":49990650,"question_id":2137755,"body_markdown":"There are two ways to have a solution for the problem:\r\n\r\n**1. Reverse an array in space.**\r\n\r\nStep 1. Swap the elements at the start and the end index.\r\n\r\nStep 2. Increment the start index decrement the end index.\r\n\r\nStep 3. Iterate Step 1 and Step 2 till start index &lt; end index\r\n\r\nFor this, the time complexity will be O(n) and the space complexity will be O(1)\r\n\r\nSample code for reversing an array in space is like:\r\n\r\n    public static int[] reverseAnArrayInSpace(int[] array) {\r\n        int startIndex = 0;\r\n        int endIndex = array.length - 1;\r\n        while(startIndex &lt; endIndex) {\r\n        \tint temp = array[endIndex];\r\n        \tarray[endIndex] = array[startIndex];\r\n        \tarray[startIndex] = temp;\r\n        \tstartIndex++;\r\n        \tendIndex--;\r\n        }\r\n        return array;\r\n    }\r\n\r\n**2. Reverse an array using an auxiliary array.**\r\n\r\nStep 1. Create a new array of size equal to the given array.\r\n\r\nStep 2. Insert elements to the new array starting from the start index, from the \r\ngiven array starting from end index.\r\n\r\nFor this, the time complexity will be O(n) and the space complexity will be O(n)\r\n\r\nSample code for reversing an array with auxiliary array is like:\r\n     \r\n    public static int[] reverseAnArrayWithAuxiliaryArray(int[] array) {\r\n    \tint[] reversedArray = new int[array.length];\r\n    \tfor(int index = 0; index &lt; array.length; index++) {\r\n    \t\treversedArray[index] = array[array.length - index -1]; \r\n    \t}\r\n    \treturn reversedArray;\r\n    }\r\n    \r\n**Also, we can use the Collections API from Java to do this.**    \r\n\r\nThe Collections API internally uses the same reverse in space approach.\r\n\r\nSample code for using the Collections API is like:\r\n\r\n    public static Integer[] reverseAnArrayWithCollections(Integer[] array) {\r\n    \tList&lt;Integer&gt; arrayList = Arrays.asList(array);\r\n    \tCollections.reverse(arrayList);\r\n    \treturn arrayList.toArray(array);\r\n    }\r\n\r\n","title":"How do I reverse an int array in Java?","body":"<p>There are two ways to have a solution for the problem:</p>\n\n<p><strong>1. Reverse an array in space.</strong></p>\n\n<p>Step 1. Swap the elements at the start and the end index.</p>\n\n<p>Step 2. Increment the start index decrement the end index.</p>\n\n<p>Step 3. Iterate Step 1 and Step 2 till start index &lt; end index</p>\n\n<p>For this, the time complexity will be O(n) and the space complexity will be O(1)</p>\n\n<p>Sample code for reversing an array in space is like:</p>\n\n<pre><code>public static int[] reverseAnArrayInSpace(int[] array) {\n    int startIndex = 0;\n    int endIndex = array.length - 1;\n    while(startIndex &lt; endIndex) {\n        int temp = array[endIndex];\n        array[endIndex] = array[startIndex];\n        array[startIndex] = temp;\n        startIndex++;\n        endIndex--;\n    }\n    return array;\n}\n</code></pre>\n\n<p><strong>2. Reverse an array using an auxiliary array.</strong></p>\n\n<p>Step 1. Create a new array of size equal to the given array.</p>\n\n<p>Step 2. Insert elements to the new array starting from the start index, from the \ngiven array starting from end index.</p>\n\n<p>For this, the time complexity will be O(n) and the space complexity will be O(n)</p>\n\n<p>Sample code for reversing an array with auxiliary array is like:</p>\n\n<pre><code>public static int[] reverseAnArrayWithAuxiliaryArray(int[] array) {\n    int[] reversedArray = new int[array.length];\n    for(int index = 0; index &lt; array.length; index++) {\n        reversedArray[index] = array[array.length - index -1]; \n    }\n    return reversedArray;\n}\n</code></pre>\n\n<p><strong>Also, we can use the Collections API from Java to do this.</strong>    </p>\n\n<p>The Collections API internally uses the same reverse in space approach.</p>\n\n<p>Sample code for using the Collections API is like:</p>\n\n<pre><code>public static Integer[] reverseAnArrayWithCollections(Integer[] array) {\n    List&lt;Integer&gt; arrayList = Arrays.asList(array);\n    Collections.reverse(arrayList);\n    return arrayList.toArray(array);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343316,"reputation":129,"user_id":674946,"display_name":"Z A Abbasi"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1525100846,"creation_date":1525100846,"answer_id":50103281,"question_id":2137755,"body_markdown":"\r\n\r\n    static int[] reverseArray(int[] a) {\r\n         int ret[] = new int[a.length];\r\n         for(int i=0, j=a.length-1; i&lt;a.length &amp;&amp; j&gt;=0; i++, j--)\r\n             ret[i] = a[j];\r\n         return ret;\r\n    }","title":"How do I reverse an int array in Java?","body":"<pre><code>static int[] reverseArray(int[] a) {\n     int ret[] = new int[a.length];\n     for(int i=0, j=a.length-1; i&lt;a.length &amp;&amp; j&gt;=0; i++, j--)\n         ret[i] = a[j];\n     return ret;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4872600,"reputation":998,"user_id":3928599,"accept_rate":95,"display_name":"CodingNow"},"score":3,"creation_date":1547930033,"post_id":50412261,"comment_id":95365089,"body_markdown":"What is `Ints`?","body":"What is <code>Ints</code>?"},{"owner":{"account_id":31280,"reputation":768,"user_id":85783,"accept_rate":100,"display_name":"mrec"},"score":0,"creation_date":1559750975,"post_id":50412261,"comment_id":99520086,"body_markdown":"@CodingNow it&#39;s one of the Guava utility helper classes - see [here](https://google.github.io/guava/releases/22.0/api/docs/com/google/common/primitives/Ints.html)","body":"@CodingNow it&#39;s one of the Guava utility helper classes - see <a href=\"https://google.github.io/guava/releases/22.0/api/docs/com/google/common/primitives/Ints.html\" rel=\"nofollow noreferrer\">here</a>"}],"tags":[],"owner":{"account_id":9475267,"reputation":115,"user_id":7044810,"display_name":"Sameer Shrestha"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1526649568,"creation_date":1526649568,"answer_id":50412261,"question_id":2137755,"body_markdown":"2 ways to reverse an Array .\r\n\r\n1. Using For loop and swap the elements till the mid point with time complexity of O(n/2).\r\n      \r\n        private static void reverseArray() {\r\n\t\tint[] array = new int[] { 1, 2, 3, 4, 5, 6 };\r\n\r\n\t\tfor (int i = 0; i &lt; array.length / 2; i++) {\r\n\t\t\tint temp = array[i];\r\n\t\t\tint index = array.length - i - 1;\r\n\t\t\tarray[i] = array[index];\r\n\t\t\tarray[index] = temp;\r\n\t\t}\r\n\t\tSystem.out.println(Arrays.toString(array));\r\n\t}\r\n\r\n2. Using built in function (Collections.reverse())\r\n\r\n        private static void reverseArrayUsingBuiltInFun() {\r\n\t\tint[] array = new int[] { 1, 2, 3, 4, 5, 6 };\r\n\r\n\t\tCollections.reverse(Ints.asList(array));\r\n\t\tSystem.out.println(Arrays.toString(array));\r\n\t}\r\n\r\n\t\r\n\tOutput : [6, 5, 4, 3, 2, 1]","title":"How do I reverse an int array in Java?","body":"<p>2 ways to reverse an Array .</p>\n\n<ol>\n<li><p>Using For loop and swap the elements till the mid point with time complexity of O(n/2).</p>\n\n<pre><code>private static void reverseArray() {\nint[] array = new int[] { 1, 2, 3, 4, 5, 6 };\n\nfor (int i = 0; i &lt; array.length / 2; i++) {\n    int temp = array[i];\n    int index = array.length - i - 1;\n    array[i] = array[index];\n    array[index] = temp;\n}\nSystem.out.println(Arrays.toString(array));\n</code></pre>\n\n<p>}</p></li>\n<li><p>Using built in function (Collections.reverse())</p>\n\n<pre><code>private static void reverseArrayUsingBuiltInFun() {\nint[] array = new int[] { 1, 2, 3, 4, 5, 6 };\n\nCollections.reverse(Ints.asList(array));\nSystem.out.println(Arrays.toString(array));\n</code></pre>\n\n<p>}</p>\n\n<p>Output : [6, 5, 4, 3, 2, 1]</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6724779,"reputation":1030,"user_id":5922271,"display_name":"roshan posakya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532529132,"creation_date":1532529132,"answer_id":51521511,"question_id":2137755,"body_markdown":"     public static int[] reverse(int[] array) {\r\n        \r\n        int j = array.length-1;\r\n        // swap the values at the left and right indices //////\r\n            for(int i=0; i&lt;=j; i++)\r\n            {\r\n                 int temp = array[i];\r\n                    array[i] = array[j];\r\n                    array[j] = temp;\r\n               j--;\r\n            }\r\n             \r\n             return array;\r\n        }\r\n        \r\n          public static void main(String []args){\r\n            int[] data = {1,2,3,4,5,6,7,8,9};\r\n            reverse(data);\r\n             \r\n        }","title":"How do I reverse an int array in Java?","body":"<pre><code> public static int[] reverse(int[] array) {\n\n    int j = array.length-1;\n    // swap the values at the left and right indices //////\n        for(int i=0; i&lt;=j; i++)\n        {\n             int temp = array[i];\n                array[i] = array[j];\n                array[j] = temp;\n           j--;\n        }\n\n         return array;\n    }\n\n      public static void main(String []args){\n        int[] data = {1,2,3,4,5,6,7,8,9};\n        reverse(data);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8979120,"reputation":31,"user_id":6694904,"display_name":"Kalidindi Prashanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557120579,"creation_date":1557081620,"answer_id":55995195,"question_id":2137755,"body_markdown":"\r\n        \r\n        public static void main(String args[])    {\r\n            int [] arr = {10, 20, 30, 40, 50}; \r\n            reverse(arr, arr.length);\r\n        }\r\n    \r\n    \tprivate static void reverse(int[] arr,    int length)    {\r\n    \t\t\r\n            for(int i=length;i&gt;0;i--)    { \r\n    \t\t    System.out.println(arr[i-1]); \r\n    \t\t}\r\n    \t}\r\n    \r\n   ","title":"How do I reverse an int array in Java?","body":"<pre><code>    public static void main(String args[])    {\n        int [] arr = {10, 20, 30, 40, 50}; \n        reverse(arr, arr.length);\n    }\n\n    private static void reverse(int[] arr,    int length)    {\n\n        for(int i=length;i&gt;0;i--)    { \n            System.out.println(arr[i-1]); \n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12833571,"reputation":2008,"user_id":9283958,"display_name":"Ahmad Dalao"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1576424898,"creation_date":1576423711,"answer_id":59345312,"question_id":2137755,"body_markdown":"There are some great answers above, but this is how I did it:\r\n\r\n```java\r\npublic static int[] test(int[] arr) {\r\n\r\n    int[] output = arr.clone();\r\n    for (int i = arr.length - 1; i &gt; -1; i--) {\r\n        output[i] = arr[arr.length - i - 1];\r\n    }\r\n    return output;\r\n}\r\n```","title":"How do I reverse an int array in Java?","body":"<p>There are some great answers above, but this is how I did it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static int[] test(int[] arr) {\n\n    int[] output = arr.clone();\n    for (int i = arr.length - 1; i &gt; -1; i--) {\n        output[i] = arr[arr.length - i - 1];\n    }\n    return output;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14401721,"reputation":1213,"user_id":10403133,"display_name":"Nasib"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581606218,"creation_date":1581606218,"answer_id":60210806,"question_id":2137755,"body_markdown":"[![enter image description here][1]][1]\n\na piece of cake.\ni did it for string but, it&#39;s not much different\n\n  [1]: https://i.stack.imgur.com/4mTDB.png","title":"How do I reverse an int array in Java?","body":"<p><a href=\"https://i.stack.imgur.com/4mTDB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4mTDB.png\" alt=\"enter image description here\" /></a></p>\n<p>a piece of cake.\ni did it for string but, it's not much different</p>\n"},{"tags":[],"owner":{"account_id":17988224,"reputation":81,"user_id":13072965,"display_name":"Bwizz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596081387,"creation_date":1596081022,"answer_id":63165907,"question_id":2137755,"body_markdown":"A short way to reverse without additional libraries, imports, or static references.\r\n```\r\nint[] a = {1,2,3,4,5,6,7,23,9}, b; //compound declaration\r\nvar j = a.length;\r\nb = new int[j];\r\nfor (var i : a)\r\n    b[--j] = i; //--j so you don&#39;t have to subtract 1 from j. Otherwise you would get ArrayIndexOutOfBoundsException;\r\nSystem.out.println(Arrays.toString(b));\r\n```\r\nOf course if you actually need ```a``` to be the reversed array just use \r\n```\r\na = b; //after the loop\r\n``` \r\n","title":"How do I reverse an int array in Java?","body":"<p>A short way to reverse without additional libraries, imports, or static references.</p>\n<pre><code>int[] a = {1,2,3,4,5,6,7,23,9}, b; //compound declaration\nvar j = a.length;\nb = new int[j];\nfor (var i : a)\n    b[--j] = i; //--j so you don't have to subtract 1 from j. Otherwise you would get ArrayIndexOutOfBoundsException;\nSystem.out.println(Arrays.toString(b));\n</code></pre>\n<p>Of course if you actually need <code>a</code> to be the reversed array just use</p>\n<pre><code>a = b; //after the loop\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16813958,"reputation":41,"user_id":12156282,"display_name":"James Guest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600966725,"creation_date":1600966725,"answer_id":64051058,"question_id":2137755,"body_markdown":"Here is a condensed version:\r\n\r\n&gt; My solution creates a new array reversed\r\n&gt; With each iteration of i the for loop inserts the last index [array.length - 1] into the current index [i]\r\n&gt; Then continues the same process by subtracting the current iteration array[(array.length - 1) - i] from the last index and inserting the element into the next index of the reverse array!\r\n\r\n    private static void reverse(int[] array) {\r\n        int[] reversed = new int[array.length];\r\n \r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            reversed[i] = array[(array.length - 1) - i];\r\n        }\r\n        System.out.println(Arrays.toString(reversed));\r\n    }","title":"How do I reverse an int array in Java?","body":"<p>Here is a condensed version:</p>\n<blockquote>\n<p>My solution creates a new array reversed\nWith each iteration of i the for loop inserts the last index [array.length - 1] into the current index [i]\nThen continues the same process by subtracting the current iteration array[(array.length - 1) - i] from the last index and inserting the element into the next index of the reverse array!</p>\n</blockquote>\n<pre><code>private static void reverse(int[] array) {\n    int[] reversed = new int[array.length];\n\n    for (int i = 0; i &lt; array.length; i++) {\n        reversed[i] = array[(array.length - 1) - i];\n    }\n    System.out.println(Arrays.toString(reversed));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601402906,"creation_date":1601396667,"answer_id":64123740,"question_id":2137755,"body_markdown":"Just for the sake of it. People often do only need a &#39;view&#39; on an array or list in reversed order instead of a completely   do not need a reversed array when working with streams and collections but a &#39;reversed&#39; view on the original array/collection. , it is best to create a toolkit that has a reverse view on a list / array.\r\n\r\nSo create your Iterator&lt;Long&gt; implementation that takes an array or list and provide the input. \r\n\r\n    /// Reverse Iterator\r\n    public class ReverseIterator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n      private int index;\r\n      private final List&lt;T&gt; list;\r\n      public ReverseIterator(List&lt;T&gt; list) {\r\n         this.list = list;\r\n         this.index = list.size() - 1;\r\n      }\r\n      public boolean hasNext() {\r\n        return index &gt;= 0 ? true : false;\r\n      }\r\n      public T next() {\r\n        if(index &gt;= 0) \r\n          return list.get(index--);\r\n        else \r\n          throw new NoSuchElementException();\r\n      }\r\n    }\r\n\r\nAn implementation for the array situation is quite similar. Of cause an iterator can be source for a stream or a collection as well.\r\n\r\nSo not always it is best to create a new array just to provide a reverse view when all you want to do is iterating over the array / list or feed it into a stream or a new collection / array.\r\n\r\n","title":"How do I reverse an int array in Java?","body":"<p>Just for the sake of it. People often do only need a 'view' on an array or list in reversed order instead of a completely   do not need a reversed array when working with streams and collections but a 'reversed' view on the original array/collection. , it is best to create a toolkit that has a reverse view on a list / array.</p>\n<p>So create your Iterator implementation that takes an array or list and provide the input.</p>\n<pre><code>/// Reverse Iterator\npublic class ReverseIterator&lt;T&gt; implements Iterator&lt;T&gt; {\n  private int index;\n  private final List&lt;T&gt; list;\n  public ReverseIterator(List&lt;T&gt; list) {\n     this.list = list;\n     this.index = list.size() - 1;\n  }\n  public boolean hasNext() {\n    return index &gt;= 0 ? true : false;\n  }\n  public T next() {\n    if(index &gt;= 0) \n      return list.get(index--);\n    else \n      throw new NoSuchElementException();\n  }\n}\n</code></pre>\n<p>An implementation for the array situation is quite similar. Of cause an iterator can be source for a stream or a collection as well.</p>\n<p>So not always it is best to create a new array just to provide a reverse view when all you want to do is iterating over the array / list or feed it into a stream or a new collection / array.</p>\n"},{"tags":[],"owner":{"account_id":5223818,"reputation":641,"user_id":4176408,"display_name":"Aalishan Ansari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617436868,"creation_date":1617436868,"answer_id":66928941,"question_id":2137755,"body_markdown":"This has 2 solution \r\n1. Loop\r\n2. Recursion\r\n\r\n    public class _1_ReverseArray {\r\n    \r\n        public static void main(String[] args) {\r\n            int array[] = {2, 3, 1, 4, 9};\r\n            //reverseArray(array, 0, array.length - 1);\r\n            reverseArrayWhileLoop(array, 0, array.length - 1);\r\n            printArray(array);\r\n        }\r\n    \r\n        private static void printArray(int[] array) {\r\n            for (int a : array) {\r\n                System.out.println(a);\r\n            }\r\n        }\r\n    \r\n        private static void reverseArray(int[] array, int start, int end) {\r\n            if (start &gt; end) {\r\n                return;\r\n            } else {\r\n                int temp;\r\n                temp = array[start];\r\n                array[start] = array[end];\r\n                array[end] = temp;\r\n                reverseArray(array, start + 1, end - 1);\r\n            }\r\n        }\r\n    \r\n        private static void reverseArrayWhileLoop(int[] array, int start, int end) {\r\n            while (start &lt; end) {\r\n                int temp;\r\n                temp = array[start];\r\n                array[start] = array[end];\r\n                array[end] = temp;\r\n                start++;\r\n                end--;\r\n            }\r\n        }\r\n    \r\n    }","title":"How do I reverse an int array in Java?","body":"<p>This has 2 solution</p>\n<ol>\n<li><p>Loop</p>\n</li>\n<li><p>Recursion</p>\n<p>public class _1_ReverseArray {</p>\n<pre><code> public static void main(String[] args) {\n     int array[] = {2, 3, 1, 4, 9};\n     //reverseArray(array, 0, array.length - 1);\n     reverseArrayWhileLoop(array, 0, array.length - 1);\n     printArray(array);\n }\n\n private static void printArray(int[] array) {\n     for (int a : array) {\n         System.out.println(a);\n     }\n }\n\n private static void reverseArray(int[] array, int start, int end) {\n     if (start &gt; end) {\n         return;\n     } else {\n         int temp;\n         temp = array[start];\n         array[start] = array[end];\n         array[end] = temp;\n         reverseArray(array, start + 1, end - 1);\n     }\n }\n\n private static void reverseArrayWhileLoop(int[] array, int start, int end) {\n     while (start &lt; end) {\n         int temp;\n         temp = array[start];\n         array[start] = array[end];\n         array[end] = temp;\n         start++;\n         end--;\n     }\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8281147,"reputation":420,"user_id":6225803,"display_name":"krishna T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630762578,"creation_date":1624218791,"answer_id":68059552,"question_id":2137755,"body_markdown":"A implementation using generics for arrays of non primitive types. \r\n\r\n    \t//Reverse and get new Array -preferred\r\n    \tpublic static final &lt;T&gt; T[] reverse(final T[] array) {\r\n    \t\tfinal int len = array.length;\r\n    \t\tfinal T[] reverse = (T[]) Array.newInstance(array.getClass().getComponentType(), len);\r\n    \t\tfor (int i = 0; i &lt; len; i++) {\r\n    \t\t\treverse[i] = array[len-(i+1)];\r\n    \t\t}\r\n    \t\treturn reverse;\r\n    \t}\r\n    \t\r\n    \t//Reverse existing array - don&#39;t have to return it\r\n    \tpublic static final &lt;T&gt; T[] reverseExisting(final T[] array) {\r\n    \t\tfinal int len = array.length;\r\n    \t\tfor (int i = 0; i &lt; len/2; i++) {\r\n    \t\t\tfinal T temp = array[i];\r\n    \t\t\tarray[i] = array[len-(i+1)];\r\n    \t\t\tarray[len-(i+1)] = temp;\r\n    \t\t}\r\n    \t\treturn array;\r\n    \t}","title":"How do I reverse an int array in Java?","body":"<p>A implementation using generics for arrays of non primitive types.</p>\n<pre><code>    //Reverse and get new Array -preferred\n    public static final &lt;T&gt; T[] reverse(final T[] array) {\n        final int len = array.length;\n        final T[] reverse = (T[]) Array.newInstance(array.getClass().getComponentType(), len);\n        for (int i = 0; i &lt; len; i++) {\n            reverse[i] = array[len-(i+1)];\n        }\n        return reverse;\n    }\n    \n    //Reverse existing array - don't have to return it\n    public static final &lt;T&gt; T[] reverseExisting(final T[] array) {\n        final int len = array.length;\n        for (int i = 0; i &lt; len/2; i++) {\n            final T temp = array[i];\n            array[i] = array[len-(i+1)];\n            array[len-(i+1)] = temp;\n        }\n        return array;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1651432535,"creation_date":1651432535,"answer_id":72079720,"question_id":2137755,"body_markdown":"Simple way to do this:\r\n\r\n        for(int i=queue.length-1;i&gt;=0;i--){\r\n                    System.out.print(queue[i] + &quot;  &quot;);\r\n        }","title":"How do I reverse an int array in Java?","body":"<p>Simple way to do this:</p>\n<pre><code>    for(int i=queue.length-1;i&gt;=0;i--){\n                System.out.print(queue[i] + &quot;  &quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3505189,"reputation":1449,"user_id":2930864,"display_name":"Percy Vega"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695414256,"creation_date":1695414256,"answer_id":77160481,"question_id":2137755,"body_markdown":"For Java 8+, you can use the following to reverse an int[]:\r\n\r\n    int[] validData = {1, 2, 3};\r\n    validData = Arrays.stream(validData)\r\n            .boxed()\r\n            .sorted(Collections.reverseOrder())\r\n            .mapToInt(Integer::intValue)\r\n            .toArray();\r\n\r\nAfter this, validData will contain {3, 2, 1}.","title":"How do I reverse an int array in Java?","body":"<p>For Java 8+, you can use the following to reverse an int[]:</p>\n<pre><code>int[] validData = {1, 2, 3};\nvalidData = Arrays.stream(validData)\n        .boxed()\n        .sorted(Collections.reverseOrder())\n        .mapToInt(Integer::intValue)\n        .toArray();\n</code></pre>\n<p>After this, validData will contain {3, 2, 1}.</p>\n"}],"owner":{"account_id":588291,"reputation":2977,"user_id":259029,"display_name":"MichaelScott"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":681038,"favorite_count":0,"down_vote_count":3,"up_vote_count":298,"accepted_answer_id":2137791,"answer_count":48,"score":295,"last_activity_date":1695414256,"creation_date":1264486157,"question_id":2137755,"body_markdown":"I am trying to reverse an int array in Java.\r\n\r\nThis method does not reverse the array.  \r\n\r\n    for(int i = 0; i &lt; validData.length; i++)\r\n    {\r\n    \tint temp = validData[i];\r\n    \tvalidData[i] = validData[validData.length - i - 1];\r\n    \tvalidData[validData.length - i - 1] = temp;\r\n    }\r\n\r\nWhat is wrong with it?","title":"How do I reverse an int array in Java?","body":"<p>I am trying to reverse an int array in Java.</p>\n\n<p>This method does not reverse the array.  </p>\n\n<pre><code>for(int i = 0; i &lt; validData.length; i++)\n{\n    int temp = validData[i];\n    validData[i] = validData[validData.length - i - 1];\n    validData[validData.length - i - 1] = temp;\n}\n</code></pre>\n\n<p>What is wrong with it?</p>\n"},{"tags":["java","initialization"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1695396740,"post_id":77158965,"comment_id":136023505,"body_markdown":"the initial value can also be part of the declaration of the field: `private ArrayList&lt;String&gt; someArrayList = null;`, it doesn&#39;t need to be in the constructor.","body":"the initial value can also be part of the declaration of the field: <code>private ArrayList&lt;String&gt; someArrayList = null;</code>, it doesn&#39;t need to be in the constructor."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1695396743,"post_id":77158965,"comment_id":136023506,"body_markdown":"Fields are null by default (unless they&#39;re primitives e.g. int). So assigning null with `= null` doesn&#39;t do anything. It&#39;s not *incorrect*, it&#39;s just redundant.","body":"Fields are null by default (unless they&#39;re primitives e.g. int). So assigning null with <code>= null</code> doesn&#39;t do anything. It&#39;s not <i>incorrect</i>, it&#39;s just redundant."},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1695396781,"post_id":77158965,"comment_id":136023513,"body_markdown":"[The Java Tutorials - Initializing Fields](https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">The Java Tutorials - Initializing Fields</a>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1695397229,"post_id":77158965,"comment_id":136023595,"body_markdown":"well, it also depends on whether you are using keywords like `static` or `final` what you are doing now is redundant, though sometimes IDEs would warn/highlight is as uninitialized if you did not assign a null to a variable and only declared it.","body":"well, it also depends on whether you are using keywords like <code>static</code> or <code>final</code> what you are doing now is redundant, though sometimes IDEs would warn/highlight is as uninitialized if you did not assign a null to a variable and only declared it."},{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":0,"creation_date":1695397418,"post_id":77158965,"comment_id":136023628,"body_markdown":"Collections are usually initialized as empty collections, that way usual operations like modifying or querying its member/size don&#39;t have to check if it&#39;s not null, though that might depend on the business process, whether, say, someone who doesn&#39;t smoke will have their list of preferred cigarette brand as a null or empty list.","body":"Collections are usually initialized as empty collections, that way usual operations like modifying or querying its member/size don&#39;t have to check if it&#39;s not null, though that might depend on the business process, whether, say, someone who doesn&#39;t smoke will have their list of preferred cigarette brand as a null or empty list."},{"owner":{"account_id":29510405,"reputation":5,"user_id":22615586,"display_name":"snow"},"score":0,"creation_date":1695397431,"post_id":77158965,"comment_id":136023630,"body_markdown":"Thanks! I&#39;m getting clearer about the initialization right now.","body":"Thanks! I&#39;m getting clearer about the initialization right now."}],"answers":[{"tags":[],"owner":{"account_id":24000166,"reputation":220,"user_id":17985195,"display_name":"TP95"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695397475,"creation_date":1695397475,"answer_id":77159061,"question_id":77158965,"body_markdown":"Initial property values can be set within a class constructor so when you create the class, those properties are already filled up by your default values:\r\n\r\n```java\r\nclass MyObject\r\n{\r\n   int variableOne;\r\n   int variableTwo;\r\n\r\n   // Constructor\r\n   public MyObject() {\r\n     variableOne = 5;\r\n     variableTwo = 10;\r\n   }\r\n}\r\n\r\n// Create the instance of class\r\nMyObject myObject = new MyObject(); // This automatically has the values 5 and 10 in variableOne and variableTwo\r\n```\r\n\r\nAlso note some suggestions in the comments have static infront of fields that can be instantly initialized without a constructor. However, there can be an issue if there are multiple instances of the same class, all those static variables are shared amongst all the object. This is good only in very special scenarios.","title":"How can I create an empty instance of class in java or how should I initialize it?","body":"<p>Initial property values can be set within a class constructor so when you create the class, those properties are already filled up by your default values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyObject\n{\n   int variableOne;\n   int variableTwo;\n\n   // Constructor\n   public MyObject() {\n     variableOne = 5;\n     variableTwo = 10;\n   }\n}\n\n// Create the instance of class\nMyObject myObject = new MyObject(); // This automatically has the values 5 and 10 in variableOne and variableTwo\n</code></pre>\n<p>Also note some suggestions in the comments have static infront of fields that can be instantly initialized without a constructor. However, there can be an issue if there are multiple instances of the same class, all those static variables are shared amongst all the object. This is good only in very special scenarios.</p>\n"},{"comments":[{"owner":{"account_id":29510405,"reputation":5,"user_id":22615586,"display_name":"snow"},"score":0,"creation_date":1695464661,"post_id":77160398,"comment_id":136030073,"body_markdown":"Thanks! I&#39;ve gained a lot from your answer! :)","body":"Thanks! I&#39;ve gained a lot from your answer! :)"}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695413235,"creation_date":1695413235,"answer_id":77160398,"question_id":77158965,"body_markdown":"Using one class, this shows various ways to initialize the values.\r\n- The first is by default.  Just assign the values when the instance fields are declared.\r\n```\r\nMyClass mc1 = new MyClass();\r\nSystem.out.println(mc1);\r\n```\r\nprints\r\n```\r\n10, 20, Java\r\n```\r\n- The most common method is to use a constructor by passing arguments to the class.\r\n```\r\nMyClass mc2 = new MyClass(100,200,&quot;Java!!&quot;);\r\nSystem.out.println(mc2);\r\n```\r\nprints\r\n```\r\n100, 200, Java!!\r\n```\r\n- Setters are used to assign different values as needed.\r\n```\r\n\r\n \r\nMyClass mc3 = new MyClass();\r\nSystem.out.println(&quot;Before assignment: &quot; + mc3); \r\nmc3.setVar1(1000);\r\nmc3.setVar2(2000);\r\nmc3.setVar3(&quot;Java!!&quot;);\r\nSystem.out.println(&quot;After assignment:  &quot; + mc3);\r\n\r\n```\r\nprints\r\n```\r\nBefore assignment: 10, 20, Java\r\nAfter assignment:  1000, 2000, Java!!\r\n\r\n```\r\n```\r\nclass MyClass {\r\n    int var1 = 10;\r\n    int var2 = 20;\r\n    String var3 = &quot;Java&quot;;\r\n    public MyClass(int var1, int var2, String var3) {\r\n        this.var1 = var1;\r\n        this.var2 = var2;\r\n        this.var3 = var3;\r\n    }\r\n    public MyClass() {\r\n    }\r\n    public void setVar1(int v) {\r\n       this.var1 = v;\r\n    }\r\n    public void setVar2(int v) {\r\n       this.var2 = v;\r\n    }\r\n    public void setVar3 (String v) {\r\n       this.var3 = v;\r\n    }\r\n    public String toString() {\r\n        return var1 + &quot;, &quot; + var2 + &quot;, &quot; + var3;\r\n    }\r\n}\r\n```\r\nFor arrays lists one use `List.of()` which creates an immutable list.  If you want to create a mutable list, pass it as an argument to the `List` implementation constructor. This is demonstrated for maps as well.\r\n```\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4));\r\n```\r\nMaps are similar but are limited to `10 key/value` pairs via(`k1, v1, k2, v2, etc`) when initializing this way. \r\n```\r\nMap&lt;Integer, String&gt; map = new HashMap&lt;&gt;(Map.of(1, &quot;One&quot;, 2, &quot;Two&quot;, 3, &quot;Three&quot;, 4, &quot;Four&quot;));\r\n```\r\nor for any number of entries\r\n```\r\nMap&lt;Integer, String&gt; map = new HashMap&lt;&gt;(Map.ofEntries(\r\n         Map.entry(1,&quot;One&quot;),\r\n         Map.entry(2,&quot;Two),\r\n         Map.entry(3,&quot;Three&quot;),\r\n         Map.entry(4,&quot;Four&quot;));","title":"How can I create an empty instance of class in java or how should I initialize it?","body":"<p>Using one class, this shows various ways to initialize the values.</p>\n<ul>\n<li>The first is by default.  Just assign the values when the instance fields are declared.</li>\n</ul>\n<pre><code>MyClass mc1 = new MyClass();\nSystem.out.println(mc1);\n</code></pre>\n<p>prints</p>\n<pre><code>10, 20, Java\n</code></pre>\n<ul>\n<li>The most common method is to use a constructor by passing arguments to the class.</li>\n</ul>\n<pre><code>MyClass mc2 = new MyClass(100,200,&quot;Java!!&quot;);\nSystem.out.println(mc2);\n</code></pre>\n<p>prints</p>\n<pre><code>100, 200, Java!!\n</code></pre>\n<ul>\n<li>Setters are used to assign different values as needed.</li>\n</ul>\n<pre><code>\n \nMyClass mc3 = new MyClass();\nSystem.out.println(&quot;Before assignment: &quot; + mc3); \nmc3.setVar1(1000);\nmc3.setVar2(2000);\nmc3.setVar3(&quot;Java!!&quot;);\nSystem.out.println(&quot;After assignment:  &quot; + mc3);\n\n</code></pre>\n<p>prints</p>\n<pre><code>Before assignment: 10, 20, Java\nAfter assignment:  1000, 2000, Java!!\n\n</code></pre>\n<pre><code>class MyClass {\n    int var1 = 10;\n    int var2 = 20;\n    String var3 = &quot;Java&quot;;\n    public MyClass(int var1, int var2, String var3) {\n        this.var1 = var1;\n        this.var2 = var2;\n        this.var3 = var3;\n    }\n    public MyClass() {\n    }\n    public void setVar1(int v) {\n       this.var1 = v;\n    }\n    public void setVar2(int v) {\n       this.var2 = v;\n    }\n    public void setVar3 (String v) {\n       this.var3 = v;\n    }\n    public String toString() {\n        return var1 + &quot;, &quot; + var2 + &quot;, &quot; + var3;\n    }\n}\n</code></pre>\n<p>For arrays lists one use <code>List.of()</code> which creates an immutable list.  If you want to create a mutable list, pass it as an argument to the <code>List</code> implementation constructor. This is demonstrated for maps as well.</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4));\n</code></pre>\n<p>Maps are similar but are limited to <code>10 key/value</code> pairs via(<code>k1, v1, k2, v2, etc</code>) when initializing this way.</p>\n<pre><code>Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;(Map.of(1, &quot;One&quot;, 2, &quot;Two&quot;, 3, &quot;Three&quot;, 4, &quot;Four&quot;));\n</code></pre>\n<p>or for any number of entries</p>\n<pre><code>Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;(Map.ofEntries(\n         Map.entry(1,&quot;One&quot;),\n         Map.entry(2,&quot;Two),\n         Map.entry(3,&quot;Three&quot;),\n         Map.entry(4,&quot;Four&quot;));\n</code></pre>\n"}],"owner":{"account_id":29510405,"reputation":5,"user_id":22615586,"display_name":"snow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77159061,"answer_count":2,"score":0,"last_activity_date":1695413235,"creation_date":1695396605,"question_id":77158965,"body_markdown":"Just like the title I described above. \r\n\r\nI&#39;m a little confused about **how to initialize variables** such as an instance of a class or some collections like **ArrayList** or **HashMap**, so I tried something below:\r\n```\r\nprivate MyObject someObject; // custom class\r\nprivate ArrayList&lt;String&gt; someArrayList;\r\n\r\n// in Constructor Method\r\nthis.someObject = null; // is it correct?\r\n```\r\nI made an initialization statement in the Constructor, but I don&#39;t know if it is right.\r\nThanks for your reading and concern.\r\n","title":"How can I create an empty instance of class in java or how should I initialize it?","body":"<p>Just like the title I described above.</p>\n<p>I'm a little confused about <strong>how to initialize variables</strong> such as an instance of a class or some collections like <strong>ArrayList</strong> or <strong>HashMap</strong>, so I tried something below:</p>\n<pre><code>private MyObject someObject; // custom class\nprivate ArrayList&lt;String&gt; someArrayList;\n\n// in Constructor Method\nthis.someObject = null; // is it correct?\n</code></pre>\n<p>I made an initialization statement in the Constructor, but I don't know if it is right.\nThanks for your reading and concern.</p>\n"},{"tags":["java","spring-boot","websocket","jackson","sockjs"],"comments":[{"owner":{"account_id":11938716,"reputation":98,"user_id":8736267,"display_name":"kepich"},"score":0,"creation_date":1645614471,"post_id":71234278,"comment_id":125917235,"body_markdown":"Also, i note, that `[Ljava.lang.String;` - is so strange, it looks like broken string (type), but i dont know, why it&#39;s here apeared...","body":"Also, i note, that <code>[Ljava.lang.String;</code> - is so strange, it looks like broken string (type), but i dont know, why it&#39;s here apeared..."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1684979059,"post_id":71234278,"comment_id":134597871,"body_markdown":"`[Ljava.lang.String;` is `String[].class`","body":"<code>[Ljava.lang.String;</code> is <code>String[].class</code>"}],"answers":[{"comments":[{"owner":{"account_id":11938716,"reputation":98,"user_id":8736267,"display_name":"kepich"},"score":0,"creation_date":1645613512,"post_id":71234831,"comment_id":125916865,"body_markdown":"Thanks a lot, but it&#39;s socket requests. I was added application/json, but error remains","body":"Thanks a lot, but it&#39;s socket requests. I was added application/json, but error remains"},{"owner":{"account_id":11938716,"reputation":98,"user_id":8736267,"display_name":"kepich"},"score":0,"creation_date":1645615018,"post_id":71234831,"comment_id":125917440,"body_markdown":"I cannot delete this s*it ) Postman cannot allowed it","body":"I cannot delete this s*it ) Postman cannot allowed it"},{"owner":{"account_id":11938716,"reputation":98,"user_id":8736267,"display_name":"kepich"},"score":0,"creation_date":1645615918,"post_id":71234831,"comment_id":125917789,"body_markdown":"aready, do it a lot of times","body":"aready, do it a lot of times"},{"owner":{"account_id":11938716,"reputation":98,"user_id":8736267,"display_name":"kepich"},"score":0,"creation_date":1645617949,"post_id":71234831,"comment_id":125918687,"body_markdown":"i&#39;l tried it. Not working","body":"i&#39;l tried it. Not working"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1645627550,"post_id":71234831,"comment_id":125922903,"body_markdown":"@kepich check updated answer, the url that you use seems to not correspond to the controller. Probably you are making a request directly to the broker and not the application controller. Check here an example of how it can be used https://spring.io/guides/gs/messaging-stomp-websocket/","body":"@kepich check updated answer, the url that you use seems to not correspond to the controller. Probably you are making a request directly to the broker and not the application controller. Check here an example of how it can be used <a href=\"https://spring.io/guides/gs/messaging-stomp-websocket/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/messaging-stomp-websocket</a>"}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645616603,"creation_date":1645610415,"answer_id":71234831,"question_id":71234278,"body_markdown":"The problem is that with the tool that you send the request (I suppose it is postman) you send it as raw text. So the desirializer expects it to be a simple String and so it can not convert it into a complex object.\r\n\r\nYou should have informed the controller that what it receives is a Json request, so that it can parse it with the correct `message body reader` and convert it into a `Event` object.\r\n\r\nTo do so, use the following header in your request you make\r\n\r\n    Content-Type: application/json\r\n\r\nAlso the problem here seems to be the url that you use to send the message. This url does not seem to represent the controller endpoint which should end with `emit`. I think you send the request directly to the message broker and not the controller of the application.","title":"Cannot deserialize value of type","body":"<p>The problem is that with the tool that you send the request (I suppose it is postman) you send it as raw text. So the desirializer expects it to be a simple String and so it can not convert it into a complex object.</p>\n<p>You should have informed the controller that what it receives is a Json request, so that it can parse it with the correct <code>message body reader</code> and convert it into a <code>Event</code> object.</p>\n<p>To do so, use the following header in your request you make</p>\n<pre><code>Content-Type: application/json\n</code></pre>\n<p>Also the problem here seems to be the url that you use to send the message. This url does not seem to represent the controller endpoint which should end with <code>emit</code>. I think you send the request directly to the message broker and not the controller of the application.</p>\n"}],"owner":{"account_id":11938716,"reputation":98,"user_id":8736267,"display_name":"kepich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12199,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695413045,"creation_date":1645608146,"question_id":71234278,"body_markdown":"I try to create interactive apllication and working with sockets.\r\nI send data by postman in socket, but SpringBoot cannot deserialize it. Pleasr, help)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**My dto**\r\n\r\n    public class Event {\r\n        @JsonProperty(&quot;eventType&quot;)\r\n        private String eventType;\r\n    \r\n        public Event(String eventType) {\r\n            this.eventType = eventType;\r\n        }\r\n    \r\n        public String getEventType() {\r\n            return eventType;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Event{&quot; +\r\n                    &quot;eventType=&#39;&quot; + eventType + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n**Controller**\r\n\r\n    @Controller\r\n    public class GameController {\r\n    \r\n        @MessageMapping(&quot;/emit&quot;)\r\n        @SendTo(&quot;/topic/events&quot;)\r\n        public Event emitEvent(Event event) {\r\n            return event;\r\n        }\r\n    }\r\n\r\n**Error**\r\n\r\n    2022-02-23 16:19:41.359 ERROR 12468 --- [nio-8080-exec-6] s.w.s.s.t.s.WebSocketServerSockJsSession : Broken data received. Terminating WebSocket connection abruptly\r\n    \r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `[Ljava.lang.String;` from Object value (token `JsonToken.START_OBJECT`)\r\n     at [Source: (String)&quot;{\r\n        &quot;eventType&quot;: &quot;TestData&quot;\r\n    }&quot;; line: 1, column: 1]\r\n\r\n\r\nUpdate 1:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X5Cfl.png\r\n  [2]: https://i.stack.imgur.com/prboL.png","title":"Cannot deserialize value of type","body":"<p>I try to create interactive apllication and working with sockets.\nI send data by postman in socket, but SpringBoot cannot deserialize it. Pleasr, help)</p>\n<p><a href=\"https://i.stack.imgur.com/X5Cfl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X5Cfl.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>My dto</strong></p>\n<pre><code>public class Event {\n    @JsonProperty(&quot;eventType&quot;)\n    private String eventType;\n\n    public Event(String eventType) {\n        this.eventType = eventType;\n    }\n\n    public String getEventType() {\n        return eventType;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Event{&quot; +\n                &quot;eventType='&quot; + eventType + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@Controller\npublic class GameController {\n\n    @MessageMapping(&quot;/emit&quot;)\n    @SendTo(&quot;/topic/events&quot;)\n    public Event emitEvent(Event event) {\n        return event;\n    }\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>2022-02-23 16:19:41.359 ERROR 12468 --- [nio-8080-exec-6] s.w.s.s.t.s.WebSocketServerSockJsSession : Broken data received. Terminating WebSocket connection abruptly\n\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `[Ljava.lang.String;` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: (String)&quot;{\n    &quot;eventType&quot;: &quot;TestData&quot;\n}&quot;; line: 1, column: 1]\n</code></pre>\n<p>Update 1:</p>\n<p><a href=\"https://i.stack.imgur.com/prboL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/prboL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","alert","newrelic","agent"],"answers":[{"tags":[],"owner":{"account_id":28332573,"reputation":21,"user_id":21666618,"display_name":"Daniel New Relic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695411436,"creation_date":1695411436,"answer_id":77160275,"question_id":77099738,"body_markdown":"Likely the alert only counts 1 because the default &#39;window duration&#39; is 1 minute. When the query may find 11, because the default query duration is 60 minutes.\r\n\r\nTo solve this: you can increase the window duration to 1h. however (unless using threshold type &#39;at least once in&#39;) this may delay your alert significantly.\r\n\r\nIdeally, you need to review the correct &#39;window duration&#39; needed to have sufficient events to consider that an outage worthy of being notified is happening. This will vary for all use cases.\r\n\r\nIn order to troubleshoot issues like these, you can review what the alert is evaluating by querying select * from NrAiSignal where conditionId = &lt;your condition id&gt;","title":"How to create alert according to newrelic error logs","body":"<p>Likely the alert only counts 1 because the default 'window duration' is 1 minute. When the query may find 11, because the default query duration is 60 minutes.</p>\n<p>To solve this: you can increase the window duration to 1h. however (unless using threshold type 'at least once in') this may delay your alert significantly.</p>\n<p>Ideally, you need to review the correct 'window duration' needed to have sufficient events to consider that an outage worthy of being notified is happening. This will vary for all use cases.</p>\n<p>In order to troubleshoot issues like these, you can review what the alert is evaluating by querying select * from NrAiSignal where conditionId = </p>\n"}],"owner":{"account_id":19663081,"reputation":11,"user_id":14394135,"display_name":"Furkan Kaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695411436,"creation_date":1694630639,"question_id":77099738,"body_markdown":"I have a Java application running in a microservices architecture. I collect the logs and error conditions of the services on the New Relic platform using the New Relic agent. I want to create alarms through the New Relic platform based on error logs. These alarms should be mostly unique for similar error logs and should include the error stack in the alert notification. I&#39;m not sure how to define alarms and use correlation decisions to achieve this goal. I would appreciate it if you could help.\r\n\r\nI have created simple alarms, but each issue that is currently triggered includes recent errors. This means that one issue can contain multiple errors or no errors at all.","title":"How to create alert according to newrelic error logs","body":"<p>I have a Java application running in a microservices architecture. I collect the logs and error conditions of the services on the New Relic platform using the New Relic agent. I want to create alarms through the New Relic platform based on error logs. These alarms should be mostly unique for similar error logs and should include the error stack in the alert notification. I'm not sure how to define alarms and use correlation decisions to achieve this goal. I would appreciate it if you could help.</p>\n<p>I have created simple alarms, but each issue that is currently triggered includes recent errors. This means that one issue can contain multiple errors or no errors at all.</p>\n"},{"tags":["java","jar","subroutine"],"owner":{"account_id":5706096,"reputation":37,"user_id":4509573,"display_name":"fluxrope"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695407984,"creation_date":1695407984,"question_id":77160001,"body_markdown":"I am building an MP3 player in java and the script I have written can play an mp3 in main but when I put the same code in a subroutine in a different java file, it fails.\r\n\r\nHere is the script when its in the main (StandAlone.java):\r\n```\r\nimport javazoom.jl.decoder.Bitstream;\r\nimport javazoom.jl.decoder.JavaLayerException;\r\nimport javazoom.jl.player.advanced.AdvancedPlayer;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\n\r\npublic class Stand_Alone {\r\n    public static void main(String[] args) {\r\n        String mp3FilePath = &quot;song.mp3&quot;;\r\n\r\n        try (FileInputStream fileInputStream = new FileInputStream(mp3FilePath)) {\r\n            AdvancedPlayer player = new AdvancedPlayer(fileInputStream);\r\n\r\n            player.play();\r\n\r\n        } catch (JavaLayerException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the code as a main and subroutine (Main.java and SongPlayer.java):\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\nSongPlayer.load();\r\n    }\r\n}\r\n\r\n\r\n```\r\n```\r\nimport javazoom.jl.decoder.Bitstream;\r\nimport javazoom.jl.decoder.JavaLayerException;\r\nimport javazoom.jl.player.advanced.AdvancedPlayer;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\n\r\npublic class SongPlayer {\r\n    public static void load()  {\r\n       String mp3FilePath = &quot;song.mp3&quot;;\r\n       System.out.println(mp3FilePath);\r\n       try (FileInputStream fileInputStream = new FileInputStream(mp3FilePath)) {\r\n           AdvancedPlayer player = new AdvancedPlayer(fileInputStream);\r\n\r\n            player.play();\r\n\r\n        } catch (JavaLayerException | IOException e) {\r\n            e.printStackTrace();\r\n      }\r\n    }\r\n}\r\n\r\n```\r\nI am using Windows, I run it in the command prompt with the commands:\r\n```\r\njavac -cp javazoom_1.0.1.jar SongPlayer.java Main.java\r\njava Main\r\n```\r\nThe two scripts, the song and the javazoom jar are all in the same folder.\r\n\r\nThe result of running the command is:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javazoom/jl/decoder/JavaLayerException\r\n        at Main.main(Main.java:4)\r\nCaused by: java.lang.ClassNotFoundException: javazoom.jl.decoder.JavaLayerException\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        ... 1 more\r\n```\r\n\r\nThe question is, why is java not able to see javazoom package when commands are launched from a subroutine, when it is able to see it from main in the stand alone case.\r\n\r\nHow can I get java to see javazoom from the subroutine?\r\n\r\nPlease help me, this is driving me nuts and halting my progress.  I could put everything in one big java file but that&#39;s messy and confusing.\r\n","title":"javazoom package works in main but fails in subroutine (.NoClassDefFoundError: javazoom/jl/decoder/JavaLayerException)","body":"<p>I am building an MP3 player in java and the script I have written can play an mp3 in main but when I put the same code in a subroutine in a different java file, it fails.</p>\n<p>Here is the script when its in the main (StandAlone.java):</p>\n<pre><code>import javazoom.jl.decoder.Bitstream;\nimport javazoom.jl.decoder.JavaLayerException;\nimport javazoom.jl.player.advanced.AdvancedPlayer;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class Stand_Alone {\n    public static void main(String[] args) {\n        String mp3FilePath = &quot;song.mp3&quot;;\n\n        try (FileInputStream fileInputStream = new FileInputStream(mp3FilePath)) {\n            AdvancedPlayer player = new AdvancedPlayer(fileInputStream);\n\n            player.play();\n\n        } catch (JavaLayerException | IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Here is the code as a main and subroutine (Main.java and SongPlayer.java):</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\nSongPlayer.load();\n    }\n}\n\n\n</code></pre>\n<pre><code>import javazoom.jl.decoder.Bitstream;\nimport javazoom.jl.decoder.JavaLayerException;\nimport javazoom.jl.player.advanced.AdvancedPlayer;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\npublic class SongPlayer {\n    public static void load()  {\n       String mp3FilePath = &quot;song.mp3&quot;;\n       System.out.println(mp3FilePath);\n       try (FileInputStream fileInputStream = new FileInputStream(mp3FilePath)) {\n           AdvancedPlayer player = new AdvancedPlayer(fileInputStream);\n\n            player.play();\n\n        } catch (JavaLayerException | IOException e) {\n            e.printStackTrace();\n      }\n    }\n}\n\n</code></pre>\n<p>I am using Windows, I run it in the command prompt with the commands:</p>\n<pre><code>javac -cp javazoom_1.0.1.jar SongPlayer.java Main.java\njava Main\n</code></pre>\n<p>The two scripts, the song and the javazoom jar are all in the same folder.</p>\n<p>The result of running the command is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javazoom/jl/decoder/JavaLayerException\n        at Main.main(Main.java:4)\nCaused by: java.lang.ClassNotFoundException: javazoom.jl.decoder.JavaLayerException\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 1 more\n</code></pre>\n<p>The question is, why is java not able to see javazoom package when commands are launched from a subroutine, when it is able to see it from main in the stand alone case.</p>\n<p>How can I get java to see javazoom from the subroutine?</p>\n<p>Please help me, this is driving me nuts and halting my progress.  I could put everything in one big java file but that's messy and confusing.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1695407645,"post_id":77159619,"comment_id":136025379,"body_markdown":"Here is a link to various [Java tutorials](https://docs.oracle.com/javase/tutorial/index.html). The section on &quot;Deployment&quot; has examples for creating jar files.","body":"Here is a link to various <a href=\"https://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">Java tutorials</a>. The section on &quot;Deployment&quot; has examples for creating jar files."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1695407811,"post_id":77159619,"comment_id":136025403,"body_markdown":"This question was originally closed as a duplicate of: https://stackoverflow.com/questions/10856996/how-to-create-a-jar-with-only-the-class-files-needed-by-a-given-class. The accepted answer has a link to a 3rd party product. I reopened the question given that there is no need to use a 3rd party product.","body":"This question was originally closed as a duplicate of: <a href=\"https://stackoverflow.com/questions/10856996/how-to-create-a-jar-with-only-the-class-files-needed-by-a-given-class\" title=\"how to create a jar with only the class files needed by a given class\">stackoverflow.com/questions/10856996/&hellip;</a>. The accepted answer has a link to a 3rd party product. I reopened the question given that there is no need to use a 3rd party product."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1695413309,"post_id":77159619,"comment_id":136026212,"body_markdown":"In the end, .jar files are only .zip files with an additional `metadata.inf` file. If you have 7zip, you can simply right-click a jar file, or open the .jar file with a zip file manager. There you see how the contents are ordered. (Same goes for new MS Office file formats like docx, xslx etc, and many more btw).","body":"In the end, .jar files are only .zip files with an additional <code>metadata.inf</code> file. If you have 7zip, you can simply right-click a jar file, or open the .jar file with a zip file manager. There you see how the contents are ordered. (Same goes for new MS Office file formats like docx, xslx etc, and many more btw)."}],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695404036,"creation_date":1695404036,"answer_id":77159655,"question_id":77159619,"body_markdown":"&gt; I have some class files, but I have not correspondent java file, I would create a jar. How can I create a jar file contains only some class files?\r\n\r\nYou can use this example:\r\n\r\n```\r\njar cvf myJar.jar MyClass.class MyClass2.class\r\n```","title":"Create a JAR file from a set o class file","body":"<blockquote>\n<p>I have some class files, but I have not correspondent java file, I would create a jar. How can I create a jar file contains only some class files?</p>\n</blockquote>\n<p>You can use this example:</p>\n<pre><code>jar cvf myJar.jar MyClass.class MyClass2.class\n</code></pre>\n"}],"owner":{"account_id":1226320,"reputation":825,"user_id":8954551,"display_name":"Vito Lipari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77159655,"answer_count":1,"score":0,"last_activity_date":1695407819,"creation_date":1695403493,"question_id":77159619,"body_markdown":"I have some class files, but I have not correspondent java file, I would create a jar.\r\nHow can I create a jar file contains only some class files?\r\n\r\n*Sorry for my english*","title":"Create a JAR file from a set o class file","body":"<p>I have some class files, but I have not correspondent java file, I would create a jar.\nHow can I create a jar file contains only some class files?</p>\n<p><em>Sorry for my english</em></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1695379011,"post_id":77156813,"comment_id":136019777,"body_markdown":"Please [edit] your question to show the code that does that vertically, so we can start from there.","body":"Please <a href=\"https://stackoverflow.com/posts/77156813/edit\">edit</a> your question to show the code that does that vertically, so we can start from there."},{"owner":{"account_id":1868353,"reputation":9514,"user_id":1691311,"accept_rate":100,"display_name":"Randy"},"score":0,"creation_date":1695379156,"post_id":77156813,"comment_id":136019801,"body_markdown":"System.out.println(String.join(&quot; &quot;, &quot;Hello, World!&quot;.split(&quot;&quot;)));","body":"System.out.println(String.join(&quot; &quot;, &quot;Hello, World!&quot;.split(&quot;&quot;)));"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1695380200,"post_id":77156813,"comment_id":136019983,"body_markdown":"`for (; number &gt; 0; number \\= 10) System.out.print(number % 10);`","body":"<code>for (; number &gt; 0; number \\= 10) System.out.print(number % 10);</code>"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1695380983,"post_id":77156813,"comment_id":136020140,"body_markdown":"No `if`, no `for`, no `while` makes this kind of difficult to solve, because this essentially prevents you from knowing when you are done separating, doesn&#39;t it? Are you allowed to use `switch`? `switch` could be used as a complicated way to enforce a condition (i.e. `if` substitute).","body":"No <code>if</code>, no <code>for</code>, no <code>while</code> makes this kind of difficult to solve, because this essentially prevents you from knowing when you are done separating, doesn&#39;t it? Are you allowed to use <code>switch</code>? <code>switch</code> could be used as a complicated way to enforce a condition (i.e. <code>if</code> substitute)."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1695381024,"post_id":77156813,"comment_id":136020151,"body_markdown":"Thanks for adding your code. You&#39;re almost there (even if you strayed away from the original request of only using arithmetic operators). Check out the difference between [`print`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#print(char)) and [`println`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#println(char))","body":"Thanks for adding your code. You&#39;re almost there (even if you strayed away from the original request of only using arithmetic operators). Check out the difference between <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#print(char)\" rel=\"nofollow noreferrer\"><code>print</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html#println(char)\" rel=\"nofollow noreferrer\"><code>println</code></a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1695381098,"post_id":77156813,"comment_id":136020164,"body_markdown":"But since you can&#39;t use `for` etc, check out Bohemian&#39;s comment up here. You can do that same thing manually without a loop if the number always have four digits.","body":"But since you can&#39;t use <code>for</code> etc, check out Bohemian&#39;s comment up here. You can do that same thing manually without a loop if the number always have four digits."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1695383340,"post_id":77156813,"comment_id":136020637,"body_markdown":"As this looks like some kind of homework or test, please add also your knowledge level in Java (as you see yourself) so we have the chance to find a suitable solution and also the necessary grade of explanations. And please add the assignment with a bit more details to your question, even if &quot;the title says it all&quot; it would look better.","body":"As this looks like some kind of homework or test, please add also your knowledge level in Java (as you see yourself) so we have the chance to find a suitable solution and also the necessary grade of explanations. And please add the assignment with a bit more details to your question, even if &quot;the title says it all&quot; it would look better."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1695383440,"post_id":77156813,"comment_id":136020649,"body_markdown":"@Randy the guidelines say &quot;no arrays&quot;, but `String.split` returns an array.","body":"@Randy the guidelines say &quot;no arrays&quot;, but <code>String.split</code> returns an array."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695385474,"post_id":77156813,"comment_id":136021034,"body_markdown":"for avoiding loops we can use recursion; but not using any conditional like `if` or the conditional operator (`? :`) makes it tricky (and not the best programming practice)","body":"for avoiding loops we can use recursion; but not using any conditional like <code>if</code> or the conditional operator (<code>? :</code>) makes it tricky (and not the best programming practice)"},{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":0,"creation_date":1695389683,"post_id":77156813,"comment_id":136021900,"body_markdown":"@user85421 I think the recursion end can be handled by a `try ... catch`, something like provoking a division by zero should be OK","body":"@user85421 I think the recursion end can be handled by a <code>try ... catch</code>, something like provoking a division by zero should be OK"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695393059,"post_id":77156813,"comment_id":136022662,"body_markdown":"&quot;I can make the list vertically, just not horizontally.&quot; Then use `System.out.print` instead of `System.out.println` (and don&#39;t forget to add spaces)","body":"&quot;I can make the list vertically, just not horizontally.&quot; Then use <code>System.out.print</code> instead of <code>System.out.println</code> (and don&#39;t forget to add spaces)"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695393168,"post_id":77156813,"comment_id":136022688,"body_markdown":"By the way, you haven&#39;t done &quot;Use the basic 5 arithmetic operators (+ - * / %) only for each digit separation.&quot; correctly. It wants you to use math operations, not splitting a String into characters.","body":"By the way, you haven&#39;t done &quot;Use the basic 5 arithmetic operators (+ - * / %) only for each digit separation.&quot; correctly. It wants you to use math operations, not splitting a String into characters."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695402523,"post_id":77156813,"comment_id":136024515,"body_markdown":"@Kaddath an example of what I meant with &quot;tricky&quot;  and &quot;not best practice&quot;","body":"@Kaddath an example of what I meant with &quot;tricky&quot;  and &quot;not best practice&quot;"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695404661,"post_id":77156813,"comment_id":136024888,"body_markdown":"A Java 8 Streams approach: `IntStream.iterate(n, i -&gt; i/10).limit((int)Math.log10(n)+1).map(i -&gt; i%10).boxed().collect(Collector.of(StringBuilder::new, (s,i) -&gt; s.insert(0, i).insert(1,&quot; &quot;), StringBuilder::append, StringBuilder::toString)).trim()` (no Exception... but some hidden loops? conditionals?)","body":"A Java 8 Streams approach: <code>IntStream.iterate(n, i -&gt; i&#47;10).limit((int)Math.log10(n)+1).map(i -&gt; i%10).boxed().collect(Collector.of(StringBuilder::new, (s,i) -&gt; s.insert(0, i).insert(1,&quot; &quot;), StringBuilder::append, StringBuilder::toString)).trim()</code> (no Exception... but some hidden loops? conditionals?)"}],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1695394797,"post_id":77158546,"comment_id":136023024,"body_markdown":"@ThomasBehr Yeah.  Good point.  It&#39;s detritus.  I did this rather quickly with one thought; changed gears and didn&#39;t clean up. Updated.  Thanks!.","body":"@ThomasBehr Yeah.  Good point.  It&#39;s detritus.  I did this rather quickly with one thought; changed gears and didn&#39;t clean up. Updated.  Thanks!."},{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":0,"creation_date":1695397612,"post_id":77158546,"comment_id":136023663,"body_markdown":"I knew a try...catch would do the job, I wonder where the question comes from, and what is the expected answer, it looks too convoluted for a homeworks question, maybe a coding challenge thing?","body":"I knew a try...catch would do the job, I wonder where the question comes from, and what is the expected answer, it looks too convoluted for a homeworks question, maybe a coding challenge thing?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1695397819,"post_id":77158546,"comment_id":136023703,"body_markdown":"@Kaddath You&#39;re right.  Didn&#39;t notice your comment above until now.  And I agree.  I hope this isn&#39;t being taught as there are many reasonable assignments that could be given.","body":"@Kaddath You&#39;re right.  Didn&#39;t notice your comment above until now.  And I agree.  I hope this isn&#39;t being taught as there are many reasonable assignments that could be given."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695394814,"creation_date":1695393198,"answer_id":77158546,"question_id":77156813,"body_markdown":"I suspect there is more to this than what you have described. You may need to clarify the constraints with your instructor as using loops and if statements are a fundamental part of writing software.  But here is an example that satisfies your requirements but it is contrived and not a good practice.\r\n\r\n- use recursion, that avoids the loop.\r\n- artificially induce a runtime exception to stop the process.\r\n\r\nThe `for loop` is just to demonstrate and not part of the actual solution.\r\n```\r\nfor (int v : new int[] {123, 2345, 1, 123456780}) {\r\n    System.out.println(separateDigits(v));\r\n}\r\n```\r\nprints\r\n```\r\n1 2 3 \r\n2 3 4 5 \r\n1 \r\n1 2 3 4 5 6 7 8 0 \r\n```\r\nUsing recursion, the values are computed in reverse order of what you want. But when returning from the exception. The string is built in the proper order and eventually returned as the result.\r\n```\r\npublic static String separateDigits(int v) {\r\n    try {\r\n        int q = 10/v; // force exception when v == 0\r\n        return separateDigits(v/10) + v%10 + &quot; &quot;;\r\n    } catch (ArithmeticException ae) {\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n","title":"Separate a whole number horizontally e.g 1234 -&gt; 1 2 3 4","body":"<p>I suspect there is more to this than what you have described. You may need to clarify the constraints with your instructor as using loops and if statements are a fundamental part of writing software.  But here is an example that satisfies your requirements but it is contrived and not a good practice.</p>\n<ul>\n<li>use recursion, that avoids the loop.</li>\n<li>artificially induce a runtime exception to stop the process.</li>\n</ul>\n<p>The <code>for loop</code> is just to demonstrate and not part of the actual solution.</p>\n<pre><code>for (int v : new int[] {123, 2345, 1, 123456780}) {\n    System.out.println(separateDigits(v));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>1 2 3 \n2 3 4 5 \n1 \n1 2 3 4 5 6 7 8 0 \n</code></pre>\n<p>Using recursion, the values are computed in reverse order of what you want. But when returning from the exception. The string is built in the proper order and eventually returned as the result.</p>\n<pre><code>public static String separateDigits(int v) {\n    try {\n        int q = 10/v; // force exception when v == 0\n        return separateDigits(v/10) + v%10 + &quot; &quot;;\n    } catch (ArithmeticException ae) {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695407594,"creation_date":1695407594,"answer_id":77159965,"question_id":77156813,"body_markdown":"You could use a regular expression this way:\r\n``` lang-java\r\nint number = 1234;\r\nString stringified = String.valueof(number);\r\nSystem.out.println(stringified.replaceAll(&quot;\\\\d(?=\\\\d)&quot;, &quot;$0 &quot;));\r\n```\r\nThis will show `1 2 3 4`.\r\n\r\nThis replaces each diget (`\\\\d`) that is followed by another digit (`(?=\\\\d)`) with itself (`$0` group 0 is the whole match) followed by a space. ","title":"Separate a whole number horizontally e.g 1234 -&gt; 1 2 3 4","body":"<p>You could use a regular expression this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int number = 1234;\nString stringified = String.valueof(number);\nSystem.out.println(stringified.replaceAll(&quot;\\\\d(?=\\\\d)&quot;, &quot;$0 &quot;));\n</code></pre>\n<p>This will show <code>1 2 3 4</code>.</p>\n<p>This replaces each diget (<code>\\\\d</code>) that is followed by another digit (<code>(?=\\\\d)</code>) with itself (<code>$0</code> group 0 is the whole match) followed by a space.</p>\n"}],"owner":{"account_id":29508247,"reputation":1,"user_id":22613822,"display_name":"MattMartin"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1695407594,"creation_date":1695378421,"question_id":77156813,"body_markdown":"The guidelines say:\r\n\r\n&gt; Do not use conditional if nor loops (e.g. for) for this question nor arrays, etc.  Use the basic 5 arithmetic operators (+ - * / %) only for each digit separation.\r\n\r\nI can make the list vertically, just not horizontally.\r\n\r\n\r\n \r\n\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class SeparateDigits {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            \r\n            System.out.print(&quot;Enter a full number: &quot;);\r\n            int number = scanner.nextInt();\r\n            \r\n            separateAndPrintDigits(number);\r\n            \r\n            scanner.close();\r\n        }\r\n        \r\n        public static void separateAndPrintDigits(int number) {\r\n            // Convert the number to a string to easily separate digits\r\n            String numberStr = Integer.toString(number);\r\n            \r\n            System.out.println(&quot;Separating digits:&quot;);\r\n            for (int i = 0; i &lt; numberStr.length(); i++) {\r\n                char digit = numberStr.charAt(i);\r\n                System.out.println(digit);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Separate a whole number horizontally e.g 1234 -&gt; 1 2 3 4","body":"<p>The guidelines say:</p>\n<blockquote>\n<p>Do not use conditional if nor loops (e.g. for) for this question nor arrays, etc.  Use the basic 5 arithmetic operators (+ - * / %) only for each digit separation.</p>\n</blockquote>\n<p>I can make the list vertically, just not horizontally.</p>\n<pre><code>import java.util.Scanner;\n\n\npublic class SeparateDigits {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        \n        System.out.print(&quot;Enter a full number: &quot;);\n        int number = scanner.nextInt();\n        \n        separateAndPrintDigits(number);\n        \n        scanner.close();\n    }\n    \n    public static void separateAndPrintDigits(int number) {\n        // Convert the number to a string to easily separate digits\n        String numberStr = Integer.toString(number);\n        \n        System.out.println(&quot;Separating digits:&quot;);\n        for (int i = 0; i &lt; numberStr.length(); i++) {\n            char digit = numberStr.charAt(i);\n            System.out.println(digit);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","c#","hp-uft"],"comments":[{"owner":{"account_id":2737,"reputation":111800,"user_id":3848,"accept_rate":92,"display_name":"Motti"},"score":0,"creation_date":1695759757,"post_id":77159874,"comment_id":136066856,"body_markdown":"What objects are you expecting to see? The question is tagged `Java` and `C#`, is it one of those?","body":"What objects are you expecting to see? The question is tagged <code>Java</code> and <code>C#</code>, is it one of those?"},{"owner":{"account_id":23419759,"reputation":25,"user_id":17480142,"display_name":"Alex Bravo"},"score":0,"creation_date":1695848963,"post_id":77159874,"comment_id":136080554,"body_markdown":"Hi, Java app in java 6","body":"Hi, Java app in java 6"},{"owner":{"account_id":2737,"reputation":111800,"user_id":3848,"accept_rate":92,"display_name":"Motti"},"score":0,"creation_date":1695890265,"post_id":77159874,"comment_id":136085075,"body_markdown":"Have you verified that the Java Addin is loaded and that the correct options are set in the Record &amp; Run settings dialog?","body":"Have you verified that the Java Addin is loaded and that the correct options are set in the Record &amp; Run settings dialog?"},{"owner":{"account_id":23419759,"reputation":25,"user_id":17480142,"display_name":"Alex Bravo"},"score":0,"creation_date":1695902996,"post_id":77159874,"comment_id":136087552,"body_markdown":"Yes, it could be the system environment variables, you have Java 11 natively","body":"Yes, it could be the system environment variables, you have Java 11 natively"}],"owner":{"account_id":23419759,"reputation":25,"user_id":17480142,"display_name":"Alex Bravo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695406500,"creation_date":1695406500,"question_id":77159874,"body_markdown":"I want to do some testing of Windows desktop applications with UFT 2022 and it doesn&#39;t let me see the element tree with the inspector(Object Spy).\r\n\r\nWith uft 15.02 it does let me, however with 2022 it doesn&#39;t show me the tree.\r\n\r\nAm I missing some registry, local, variable configuration?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/acpej.png","title":"UFT-ONE 2022 error Object Spy element GUI Desktop","body":"<p>I want to do some testing of Windows desktop applications with UFT 2022 and it doesn't let me see the element tree with the inspector(Object Spy).</p>\n<p>With uft 15.02 it does let me, however with 2022 it doesn't show me the tree.</p>\n<p>Am I missing some registry, local, variable configuration?</p>\n<p><a href=\"https://i.stack.imgur.com/acpej.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/acpej.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","security","serialization","deserialization"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1472564174,"post_id":39228918,"comment_id":65795071,"body_markdown":"Some nice guidelines: https://www.securecoding.cert.org/confluence/pages/viewpage.action?pageId=27492407","body":"Some nice guidelines: <a href=\"https://www.securecoding.cert.org/confluence/pages/viewpage.action?pageId=27492407\" rel=\"nofollow noreferrer\">securecoding.cert.org/confluence/pages/&hellip;</a>"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1472565537,"post_id":39228918,"comment_id":65796113,"body_markdown":"Perhaps use of a transport format such as json, xml or protocol buffer is another alternative?","body":"Perhaps use of a transport format such as json, xml or protocol buffer is another alternative?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1472565540,"post_id":39228918,"comment_id":65796116,"body_markdown":"Solution 4: Only accept data from trusted sources - verifyable e.g. by a RSA/ECC signature.","body":"Solution 4: Only accept data from trusted sources - verifyable e.g. by a RSA/ECC signature."},{"owner":{"account_id":3261103,"reputation":930,"user_id":2746681,"accept_rate":60,"display_name":"s.ijpma"},"score":0,"creation_date":1472565581,"post_id":39228918,"comment_id":65796150,"body_markdown":"Update your commons collection jar to version 3.2.2.","body":"Update your commons collection jar to version 3.2.2."},{"owner":{"account_id":5474407,"reputation":425,"user_id":4352759,"accept_rate":67,"display_name":"Sudershan"},"score":0,"creation_date":1472565715,"post_id":39228918,"comment_id":65796244,"body_markdown":"@GhostCat Yeah. SER04-J, SER12-J, SER13-J comes within the context and i think most of the information has already been included in the post.\n\nhttps://tersesystems.com/2015/11/08/closing-the-open-door-of-java-object-serialization/ can be referred to know why SecurityManager and some other data validations aren&#39;t enough.","body":"@GhostCat Yeah. SER04-J, SER12-J, SER13-J comes within the context and i think most of the information has already been included in the post.  <a href=\"https://tersesystems.com/2015/11/08/closing-the-open-door-of-java-object-serialization/\" rel=\"nofollow noreferrer\">tersesystems.com/2015/11/08/&hellip;</a> can be referred to know why SecurityManager and some other data validations aren&#39;t enough."},{"owner":{"account_id":5474407,"reputation":425,"user_id":4352759,"accept_rate":67,"display_name":"Sudershan"},"score":0,"creation_date":1472565855,"post_id":39228918,"comment_id":65796335,"body_markdown":"@Taylor, In case where &quot;serialization/deserialization cannot be neglected&quot;.\n\nThe options you gave are alternatives for serialization.","body":"@Taylor, In case where &quot;serialization/deserialization cannot be neglected&quot;.  The options you gave are alternatives for serialization."},{"owner":{"account_id":5474407,"reputation":425,"user_id":4352759,"accept_rate":67,"display_name":"Sudershan"},"score":0,"creation_date":1472568402,"post_id":39228918,"comment_id":65798188,"body_markdown":"@Robert Yes, signatures can be used. Limits to the scenario where our clients are known and pre-defined, if i am not wrong.\n\nBut there might be use-cases where the endpoint is open to the world.","body":"@Robert Yes, signatures can be used. Limits to the scenario where our clients are known and pre-defined, if i am not wrong.  But there might be use-cases where the endpoint is open to the world."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1472568579,"post_id":39228918,"comment_id":65798333,"body_markdown":"@Sudershan In such a case only solution 3 is secure. The Java serialization format is mobile code and you should never expose an code execution interface to the world. Use a data-only format instead.","body":"@Sudershan In such a case only solution 3 is secure. The Java serialization format is mobile code and you should never expose an code execution interface to the world. Use a data-only format instead."}],"answers":[{"tags":[],"owner":{"account_id":2871723,"reputation":836,"user_id":2464918,"display_name":"Gil Cohen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642929757,"creation_date":1642929757,"answer_id":70820683,"question_id":39228918,"body_markdown":"First, you need to think of the risk and who gets the serialized data. An internal admin interface with only 3 super-admins able to access it, does not require the same attention as a public website. In the first case, you might even not fix it and settle with the compensating controls.\r\nSecond, you need to prioritize your suggestions: turning off serialization is the best option as it eliminates the risk. White listing specific classes is the second best and should be chosen if serialization cannot be turned off, but blacklisting is not recommended as you won&#39;t think of all of the options and it would be bypassed. I wouldn&#39;t consider blacklisting as a valid solution.\r\nAnother possible solution, depending on the use-case, is encryption and\\or signing (HMAC) of the serialized data. In .NET you have the Viewstate that can be used for deserialization attacks to take over it, but if it is signed or encrypted in a proper manner, you cannot modify it, so this is another valid solution. So you can choose one of these 3 (excluding blacklisting).\r\n ","title":"java - deserialization of untrusted data workaround","body":"<p>First, you need to think of the risk and who gets the serialized data. An internal admin interface with only 3 super-admins able to access it, does not require the same attention as a public website. In the first case, you might even not fix it and settle with the compensating controls.\nSecond, you need to prioritize your suggestions: turning off serialization is the best option as it eliminates the risk. White listing specific classes is the second best and should be chosen if serialization cannot be turned off, but blacklisting is not recommended as you won't think of all of the options and it would be bypassed. I wouldn't consider blacklisting as a valid solution.\nAnother possible solution, depending on the use-case, is encryption and\\or signing (HMAC) of the serialized data. In .NET you have the Viewstate that can be used for deserialization attacks to take over it, but if it is signed or encrypted in a proper manner, you cannot modify it, so this is another valid solution. So you can choose one of these 3 (excluding blacklisting).</p>\n"}],"owner":{"account_id":5474407,"reputation":425,"user_id":4352759,"accept_rate":67,"display_name":"Sudershan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11260,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":1,"score":16,"last_activity_date":1695405935,"creation_date":1472563860,"question_id":39228918,"body_markdown":"Last year we encountered the so-called **java object deserialization vulnerability** (not a java&#39;s problem as it looks), which is deserializing an object which might lead to Remote Code Execution (RCE) or Denial of Service (DoS) attacks.\n\nRefer, https://dzone.com/articles/java-serialization-vulnerability-threatens-million for details.\n\nBasically, if the code fails to validate the incoming object, it&#39;s vulnerable.\n\nImpact of this attack would be pretty high as described in,\nhttps://stackoverflow.com/questions/19054460/what-is-the-security-impact-of-deserializing-untrusted-data-in-java/19109839#19109839\n\nFirst the attacker used classes from **InvokerTransformer** from **Apache Commons Collections** as a way to build the attack chain.\n\n**Solution 1 : Blacklisting** The classes which have been used to build the gadget chain are not accepted.\n\nBut, this is not enough as the attack chain can be constructed in many other ways. Refer,\n\nhttps://github.com/frohoff/ysoserial/tree/master/src/main/java/ysoserial/payloads\n\n**Solution 2 : Whitelisting** By overriding the ObjectStream with a &quot;SecureObjectStream&quot;, which validates for classes that are actually expected by the application.\n\nAgain, this doesn&#39;t negate the attacks completely. There is a RCE using jre7u21 and a Denial of Service attack using HashSets.\n\n**Solution 3 : Turn off deserialization** The best one yet.\n\n## Question ##\nIn cases where deserialization cannot be neglected, is there a better way to validate and stop the bad data before it explodes other than black &amp; white lists?","title":"java - deserialization of untrusted data workaround","body":"<p>Last year we encountered the so-called <strong>java object deserialization vulnerability</strong> (not a java's problem as it looks), which is deserializing an object which might lead to Remote Code Execution (RCE) or Denial of Service (DoS) attacks.</p>\n<p>Refer, <a href=\"https://dzone.com/articles/java-serialization-vulnerability-threatens-million\" rel=\"noreferrer\">https://dzone.com/articles/java-serialization-vulnerability-threatens-million</a> for details.</p>\n<p>Basically, if the code fails to validate the incoming object, it's vulnerable.</p>\n<p>Impact of this attack would be pretty high as described in,\n<a href=\"https://stackoverflow.com/questions/19054460/what-is-the-security-impact-of-deserializing-untrusted-data-in-java/19109839#19109839\">What is the security impact of deserializing untrusted data in Java?</a></p>\n<p>First the attacker used classes from <strong>InvokerTransformer</strong> from <strong>Apache Commons Collections</strong> as a way to build the attack chain.</p>\n<p><strong>Solution 1 : Blacklisting</strong> The classes which have been used to build the gadget chain are not accepted.</p>\n<p>But, this is not enough as the attack chain can be constructed in many other ways. Refer,</p>\n<p><a href=\"https://github.com/frohoff/ysoserial/tree/master/src/main/java/ysoserial/payloads\" rel=\"noreferrer\">https://github.com/frohoff/ysoserial/tree/master/src/main/java/ysoserial/payloads</a></p>\n<p><strong>Solution 2 : Whitelisting</strong> By overriding the ObjectStream with a &quot;SecureObjectStream&quot;, which validates for classes that are actually expected by the application.</p>\n<p>Again, this doesn't negate the attacks completely. There is a RCE using jre7u21 and a Denial of Service attack using HashSets.</p>\n<p><strong>Solution 3 : Turn off deserialization</strong> The best one yet.</p>\n<h2>Question</h2>\n<p>In cases where deserialization cannot be neglected, is there a better way to validate and stop the bad data before it explodes other than black &amp; white lists?</p>\n"},{"tags":["java","xml","jackson"],"comments":[{"owner":{"account_id":6641230,"reputation":117,"user_id":5126865,"display_name":"Rich Ackroyd"},"score":0,"creation_date":1535221530,"post_id":52019861,"comment_id":90990523,"body_markdown":"Hi - what happens if you add a constructor to the DTO class setting the values - I recall this solving it for a json input, not sure if the same for xml","body":"Hi - what happens if you add a constructor to the DTO class setting the values - I recall this solving it for a json input, not sure if the same for xml"},{"owner":{"account_id":1516810,"reputation":3877,"user_id":1417633,"accept_rate":59,"display_name":"Tom"},"score":0,"creation_date":1535223278,"post_id":52019861,"comment_id":90991010,"body_markdown":"@RichAckroyd didn&#39;t work a constructor that was using two strings (id/value) gets ignored. If I use a single string constructor and put a breakpoint in, I can see it gives me the content of the value attribute, but Jackson then crashes further down the line.","body":"@RichAckroyd didn&#39;t work a constructor that was using two strings (id/value) gets ignored. If I use a single string constructor and put a breakpoint in, I can see it gives me the content of the value attribute, but Jackson then crashes further down the line."}],"answers":[{"tags":[],"owner":{"account_id":1516810,"reputation":3877,"user_id":1417633,"accept_rate":59,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535279175,"creation_date":1535279175,"answer_id":52025331,"question_id":52019861,"body_markdown":"Ok nevermind I made a stupid error. The 0.6.2 version of Jackson Dataformat Xml should have made me suspicious in the first place. It seems at some point they moved to a new namespace and I was using the old namespace in gradle which sadly resolved to a maven repository that has last been updated in 2011. \r\nUpdating the namespace made it resolve 2.9.5 which has the useWrapping property. Setting this resolved the issue.","title":"Cannot parse list of elements from xml with Jackson","body":"<p>Ok nevermind I made a stupid error. The 0.6.2 version of Jackson Dataformat Xml should have made me suspicious in the first place. It seems at some point they moved to a new namespace and I was using the old namespace in gradle which sadly resolved to a maven repository that has last been updated in 2011. \nUpdating the namespace made it resolve 2.9.5 which has the useWrapping property. Setting this resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":1590669,"reputation":145,"user_id":1474045,"display_name":"Suresh Ganta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695405734,"creation_date":1695405734,"answer_id":77159815,"question_id":52019861,"body_markdown":"Like Tom answered, I used old namespace for dependency.\r\n\r\nRemoved below old dependency from pom.xml \r\n\r\n    &lt;!--&lt;dependency&gt; &lt;groupId&gt;com.fasterxml&lt;/groupId&gt; &lt;artifactId&gt;jackson-xml-databind&lt;/artifactId&gt; &lt;version&gt;RELEASE&lt;/version&gt; \r\n    &lt;/dependency&gt;--&gt;\r\n\r\nAnd Added: \r\n\r\n    &lt;dependency&gt;&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n     &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n     &lt;version&gt;2.15.2&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\n","title":"Cannot parse list of elements from xml with Jackson","body":"<p>Like Tom answered, I used old namespace for dependency.</p>\n<p>Removed below old dependency from pom.xml</p>\n<pre><code>&lt;!--&lt;dependency&gt; &lt;groupId&gt;com.fasterxml&lt;/groupId&gt; &lt;artifactId&gt;jackson-xml-databind&lt;/artifactId&gt; &lt;version&gt;RELEASE&lt;/version&gt; \n&lt;/dependency&gt;--&gt;\n</code></pre>\n<p>And Added:</p>\n<pre><code>&lt;dependency&gt;&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n &lt;version&gt;2.15.2&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1516810,"reputation":3877,"user_id":1417633,"accept_rate":59,"display_name":"Tom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1695405734,"creation_date":1535219709,"question_id":52019861,"body_markdown":"when I try to parse the following XML I get an error with Jackson:\r\n\r\n    &lt;root&gt;\r\n      &lt;aCollection&gt;\r\n        &lt;language xml:lang=&quot;en&quot;&gt;\r\n          &lt;entry id=&quot;1&quot; value=&quot;foo&quot;/&gt;\r\n          &lt;entry id=&quot;2&quot; value=&quot;bar&quot;/&gt;\r\n          &lt;entry id=&quot;3&quot; value=&quot;blah&quot;/&gt;\r\n        &lt;/language&gt;\r\n      &lt;/aCollection&gt;\r\n    &lt;/root&gt;\r\n\r\nThe classes I use are:\r\n\r\n    @Data\r\n    @JacksonXmlRootElement(localName = &quot;root&quot;)\r\n    public class RootDTO {\r\n      @JacksonXmlProperty(localName = &quot;aCollection&quot;)\r\n      private CollectionDTO collection;\r\n    }\r\n\r\n    @Data\r\n    public class CollectionDTO {\r\n      @JacksonXmlProperty(localName = &quot;language&quot;)\r\n      LanguageDTO language;\r\n    }\r\n\r\n    @Data\r\n    public class LanguageDTO {\r\n      @JacksonXmlProperty(localName = &quot;entry&quot;)\r\n      EntryDTO[] entries;\r\n    }\r\n\r\n    @Data\r\n    public class EntryDTO {\r\n\r\n      @JacksonXmlProperty(isAttribute = true)\r\n      private String id;\r\n\r\n      @JacksonXmlProperty(isAttribute = true)\r\n      private String value;\r\n\r\n    }\r\n\r\nThe error is:\r\n`Can not instantiate value of type [simple type, class com.tinkerdesk.viewer.model.DTO.EntryDTO] from JSON String; no single-String constructor/factory method`\r\n\r\nIf I remove the array brackets it works but of course only parses the first `entry` element. I found that I should maybe use ` @JacksonXmlElementWrapper(useWrapping = false)` on top of `EntryDTO[] entries;` since the elements are not wrapped. However this does not comile for me because there is no `useWrapping` in the `com.fasterxml.jackson.xml.annotate.JacksonXmlElementWrapper`.  My Jackson core version is 2.9.6 and xml-databind 0.6.2. Is there now a newer way to do this?\r\n","title":"Cannot parse list of elements from xml with Jackson","body":"<p>when I try to parse the following XML I get an error with Jackson:</p>\n\n<pre><code>&lt;root&gt;\n  &lt;aCollection&gt;\n    &lt;language xml:lang=\"en\"&gt;\n      &lt;entry id=\"1\" value=\"foo\"/&gt;\n      &lt;entry id=\"2\" value=\"bar\"/&gt;\n      &lt;entry id=\"3\" value=\"blah\"/&gt;\n    &lt;/language&gt;\n  &lt;/aCollection&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>The classes I use are:</p>\n\n<pre><code>@Data\n@JacksonXmlRootElement(localName = \"root\")\npublic class RootDTO {\n  @JacksonXmlProperty(localName = \"aCollection\")\n  private CollectionDTO collection;\n}\n\n@Data\npublic class CollectionDTO {\n  @JacksonXmlProperty(localName = \"language\")\n  LanguageDTO language;\n}\n\n@Data\npublic class LanguageDTO {\n  @JacksonXmlProperty(localName = \"entry\")\n  EntryDTO[] entries;\n}\n\n@Data\npublic class EntryDTO {\n\n  @JacksonXmlProperty(isAttribute = true)\n  private String id;\n\n  @JacksonXmlProperty(isAttribute = true)\n  private String value;\n\n}\n</code></pre>\n\n<p>The error is:\n<code>Can not instantiate value of type [simple type, class com.tinkerdesk.viewer.model.DTO.EntryDTO] from JSON String; no single-String constructor/factory method</code></p>\n\n<p>If I remove the array brackets it works but of course only parses the first <code>entry</code> element. I found that I should maybe use <code>@JacksonXmlElementWrapper(useWrapping = false)</code> on top of <code>EntryDTO[] entries;</code> since the elements are not wrapped. However this does not comile for me because there is no <code>useWrapping</code> in the <code>com.fasterxml.jackson.xml.annotate.JacksonXmlElementWrapper</code>.  My Jackson core version is 2.9.6 and xml-databind 0.6.2. Is there now a newer way to do this?</p>\n"},{"tags":["java","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":7494789,"reputation":698,"user_id":5695421,"accept_rate":25,"display_name":"dk7"},"score":0,"creation_date":1555800364,"post_id":49784730,"comment_id":98228559,"body_markdown":"I&#39;m having the same issue! I&#39;m not getting why it behaves like that, why it skips the catch :(","body":"I&#39;m having the same issue! I&#39;m not getting why it behaves like that, why it skips the catch :("}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1523482541,"creation_date":1523482541,"answer_id":49784801,"question_id":49784730,"body_markdown":"`getOne()` is just a wrapper for `EntityManager.getReference()`. That method will not throw any exception. \r\n\r\nIt returns an uninitialized proxy, **assuming** that the entity indeed exists. It doesn&#39;t get the entity state from the database, and thus doesn&#39;t even know if it exists. It assumes it does.\r\n\r\nYou&#39;ll only get an exception later, if you try to access the state of the entity. \r\n\r\nUse `findById()`/`findOne()`, check if you get a non-empty/non-null result (because these methods don&#39;t throw any exception if the entity doesn&#39;t exist, they return empty or null), and throw your exception if that&#39;s the case. ","title":"Spring JPA Repository Cannot Catch EntityNotFoundException","body":"<p><code>getOne()</code> is just a wrapper for <code>EntityManager.getReference()</code>. That method will not throw any exception. </p>\n\n<p>It returns an uninitialized proxy, <strong>assuming</strong> that the entity indeed exists. It doesn't get the entity state from the database, and thus doesn't even know if it exists. It assumes it does.</p>\n\n<p>You'll only get an exception later, if you try to access the state of the entity. </p>\n\n<p>Use <code>findById()</code>/<code>findOne()</code>, check if you get a non-empty/non-null result (because these methods don't throw any exception if the entity doesn't exist, they return empty or null), and throw your exception if that's the case. </p>\n"},{"comments":[{"owner":{"account_id":11024584,"reputation":165,"user_id":8097862,"accept_rate":0,"display_name":"Keifer"},"score":0,"creation_date":1523539023,"post_id":49784888,"comment_id":86609675,"body_markdown":"This was correct.  I had to wrap my response with an Optional&lt;&gt;.  Counter-intuitive to a C++ guy.  Thanks!","body":"This was correct.  I had to wrap my response with an Optional&lt;&gt;.  Counter-intuitive to a C++ guy.  Thanks!"}],"tags":[],"owner":{"display_name":"user1092126"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523483055,"creation_date":1523483055,"answer_id":49784888,"question_id":49784730,"body_markdown":"You need to annotate your repository class with @Repository annotation to perform wrapping of exceptions to specific persistence exceptions.\r\n\r\nWhat regarding question - you don&#39;t need to use getOne() with potential exception, but could use some other methods without throwing errors in case if entity not present, like findById() or another one that return Optional&lt;&gt; object","title":"Spring JPA Repository Cannot Catch EntityNotFoundException","body":"<p>You need to annotate your repository class with @Repository annotation to perform wrapping of exceptions to specific persistence exceptions.</p>\n\n<p>What regarding question - you don't need to use getOne() with potential exception, but could use some other methods without throwing errors in case if entity not present, like findById() or another one that return Optional&lt;> object</p>\n"},{"comments":[{"owner":{"account_id":4474969,"reputation":1676,"user_id":3640307,"accept_rate":71,"display_name":"Sajib Acharya"},"score":0,"creation_date":1624068194,"post_id":59532288,"comment_id":120263914,"body_markdown":"This doesn&#39;t work. Check @JB Nizet&#39;s answer. `getOne(id)` does not immediately throw any exception when entity is not found.","body":"This doesn&#39;t work. Check @JB Nizet&#39;s answer. <code>getOne(id)</code> does not immediately throw any exception when entity is not found."}],"tags":[],"owner":{"account_id":6625221,"reputation":5148,"user_id":5115670,"accept_rate":70,"display_name":"Girdhar Singh Rathore"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1577715466,"creation_date":1577715466,"answer_id":59532288,"question_id":49784730,"body_markdown":"you can catch `DataAccessException` instead of `EntityNotFoundException` \r\n\r\n    try {\r\n        Object obj = repository.getOne(id)\r\n    }\r\n    catch (DataAccessException e) {\r\n        throw CustomException(&quot;message&quot;);\r\n    }","title":"Spring JPA Repository Cannot Catch EntityNotFoundException","body":"<p>you can catch <code>DataAccessException</code> instead of <code>EntityNotFoundException</code> </p>\n\n<pre><code>try {\n    Object obj = repository.getOne(id)\n}\ncatch (DataAccessException e) {\n    throw CustomException(\"message\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6253676,"reputation":1399,"user_id":4862968,"display_name":"Antoine"},"score":1,"creation_date":1636782453,"post_id":69946867,"comment_id":123654194,"body_markdown":"Welcome to SO. Though we thank you for your answer, it would be better if it provided additional value on top of the other answers. In this case, your answer does not provide additional value, since @JB Nizet already posted that solution. If a previous answer was helpful to you, you should [vote it up](https://stackoverflow.com/help/privileges/vote-up) once you have enough [reputation](https://stackoverflow.com/help/whats-reputation).","body":"Welcome to SO. Though we thank you for your answer, it would be better if it provided additional value on top of the other answers. In this case, your answer does not provide additional value, since @JB Nizet already posted that solution. If a previous answer was helpful to you, you should <a href=\"https://stackoverflow.com/help/privileges/vote-up\">vote it up</a> once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>."}],"tags":[],"owner":{"account_id":6635910,"reputation":21,"user_id":5123093,"display_name":"Victor Kirov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636738233,"creation_date":1636738233,"answer_id":69946867,"question_id":49784730,"body_markdown":"You can try this:\r\n\r\n    try {\r\n        Object obj = repository.findById(id).orElseThrow(EntityNotFoundException::new);\r\n    }\r\n    catch (EntityNotFoundException e) {\r\n        throw CustomException(&quot;message&quot;);\r\n    }\r\n\r\n","title":"Spring JPA Repository Cannot Catch EntityNotFoundException","body":"<p>You can try this:</p>\n<pre><code>try {\n    Object obj = repository.findById(id).orElseThrow(EntityNotFoundException::new);\n}\ncatch (EntityNotFoundException e) {\n    throw CustomException(&quot;message&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":11024584,"reputation":165,"user_id":8097862,"accept_rate":0,"display_name":"Keifer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11402,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1695405521,"creation_date":1523482119,"question_id":49784730,"body_markdown":"I want to throw a custom error class when a user searches my repo with an invalid ID.  This should be very straight forward, but I cannot seem to catch any errors thrown by JpaRepository.  I have made several attempts to solve this, but the following is my most straight forward attempt:\r\n\r\n    try {\r\n        Object obj = repository.getOne(id)\r\n    }\r\n    catch (EntityNotFoundException e) {\r\n        throw CustomException(&quot;message&quot;);\r\n    }\r\n\r\nWhen running this in a debugger, repository throws the exact exception I am expecting `javax.persistence.EntityNotFoundException`, but the code simply skips over my catch statement and the function returns with an error.\r\n\r\nI tried using `repository.findById(id)` with similar results.  I also tried catching `Exception` and `Throwable`.  Any ideas?  I will add more information to my post if it ends up my problem is not immediately obvious.  ","title":"Spring JPA Repository Cannot Catch EntityNotFoundException","body":"<p>I want to throw a custom error class when a user searches my repo with an invalid ID.  This should be very straight forward, but I cannot seem to catch any errors thrown by JpaRepository.  I have made several attempts to solve this, but the following is my most straight forward attempt:</p>\n<pre><code>try {\n    Object obj = repository.getOne(id)\n}\ncatch (EntityNotFoundException e) {\n    throw CustomException(&quot;message&quot;);\n}\n</code></pre>\n<p>When running this in a debugger, repository throws the exact exception I am expecting <code>javax.persistence.EntityNotFoundException</code>, but the code simply skips over my catch statement and the function returns with an error.</p>\n<p>I tried using <code>repository.findById(id)</code> with similar results.  I also tried catching <code>Exception</code> and <code>Throwable</code>.  Any ideas?  I will add more information to my post if it ends up my problem is not immediately obvious.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":0,"creation_date":1621452496,"post_id":67609602,"comment_id":119503322,"body_markdown":"You could build a wrapper which takes a supplier and wraps that supplier call in an try catch. If you can return the Id than return the id in an optional. On exception return an optional.empty. If you get optional empty back from your wrapper then return the message to the user","body":"You could build a wrapper which takes a supplier and wraps that supplier call in an try catch. If you can return the Id than return the id in an optional. On exception return an optional.empty. If you get optional empty back from your wrapper then return the message to the user"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621496586,"creation_date":1621456818,"answer_id":67610583,"question_id":67609602,"body_markdown":"If the insert is failed because of the invalid foreign key , hibernate will throw `org.hibernate.exception.ConstraintViolationException` which internally has the name of the DB constraint that causes this exception. You can then use it to determine which foreign key causes it.\r\n\r\nPlease note that Spring may wrap this exception with it own Exception object due to its [persistence exception translation feature][1]. That means after you catch the exception thrown by spring-data , you may have to traverse the causal chain of the exception to find out `ConstraintViolationException` . I normally use [Guava][2] for doing it . Something likes: \r\n\r\n``` java\r\ntry{\r\n  repository.saveAndFlush(employee);\r\n} catch (Exception ex){\r\n\t Set&lt;String&gt; violateConstraintNames= Throwables.getCausalChain(ex).stream()\r\n\t   .filter(e -&gt; e instanceof ConstraintViolationException)\r\n       .map(e -&gt; (ConstraintViolationException) e)\r\n       .map(ConstraintViolationException::getConstraintName)\r\n       .collect(toSet());\r\n\r\n     if(violateConstraintNames.contain(&quot;employee_department_fk&quot;)){\r\n         throw new RuntimeException(&quot;Department does not exist&quot;);\r\n     }else if (violateConstraintNames.contain(&quot;employee_manager_fk&quot;)){\r\n         throw new RuntimeException(&quot;Manager does not exist&quot;);\r\n     }else{\r\n     \t throw ex;\r\n     }\r\n}\r\n```\r\n\r\nThe code looks ugly to me when comparing to using `findById()` to get and check if the referenced objects are valid or not. It also leaks the DB implementation details (i.e name of the foreign key) to the codes which is something that I would avoid. You are right that it will introduce additional select SQL, but I would consider it as premature optimisation as select by ID should be very fast thanks to the database index. Also in the non-trivial application, it is very common that you will sooner or later find that you have to get those referenced objects for checking if it pass some business rules or not.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#orm-exception-translation\r\n  [2]: https://github.com/google/guava/wiki/ThrowablesExplained#causal-chain","title":"How to catch EntityNotFoundException with getOne() method in Spring Data JPA?","body":"<p>If the insert is failed because of the invalid foreign key , hibernate will throw <code>org.hibernate.exception.ConstraintViolationException</code> which internally has the name of the DB constraint that causes this exception. You can then use it to determine which foreign key causes it.</p>\n<p>Please note that Spring may wrap this exception with it own Exception object due to its <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#orm-exception-translation\" rel=\"nofollow noreferrer\">persistence exception translation feature</a>. That means after you catch the exception thrown by spring-data , you may have to traverse the causal chain of the exception to find out <code>ConstraintViolationException</code> . I normally use <a href=\"https://github.com/google/guava/wiki/ThrowablesExplained#causal-chain\" rel=\"nofollow noreferrer\">Guava</a> for doing it . Something likes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try{\n  repository.saveAndFlush(employee);\n} catch (Exception ex){\n     Set&lt;String&gt; violateConstraintNames= Throwables.getCausalChain(ex).stream()\n       .filter(e -&gt; e instanceof ConstraintViolationException)\n       .map(e -&gt; (ConstraintViolationException) e)\n       .map(ConstraintViolationException::getConstraintName)\n       .collect(toSet());\n\n     if(violateConstraintNames.contain(&quot;employee_department_fk&quot;)){\n         throw new RuntimeException(&quot;Department does not exist&quot;);\n     }else if (violateConstraintNames.contain(&quot;employee_manager_fk&quot;)){\n         throw new RuntimeException(&quot;Manager does not exist&quot;);\n     }else{\n         throw ex;\n     }\n}\n</code></pre>\n<p>The code looks ugly to me when comparing to using <code>findById()</code> to get and check if the referenced objects are valid or not. It also leaks the DB implementation details (i.e name of the foreign key) to the codes which is something that I would avoid. You are right that it will introduce additional select SQL, but I would consider it as premature optimisation as select by ID should be very fast thanks to the database index. Also in the non-trivial application, it is very common that you will sooner or later find that you have to get those referenced objects for checking if it pass some business rules or not.</p>\n"},{"tags":[],"owner":{"account_id":11116969,"reputation":846,"user_id":8161014,"accept_rate":29,"display_name":"Emilio Numazaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695405474,"creation_date":1695405474,"answer_id":77159783,"question_id":67609602,"body_markdown":"I know the question is pretty old today but in this case, you must catch `JpaObjectRetrievalFailureException` instead of `EntityNotFoundException`.","title":"How to catch EntityNotFoundException with getOne() method in Spring Data JPA?","body":"<p>I know the question is pretty old today but in this case, you must catch <code>JpaObjectRetrievalFailureException</code> instead of <code>EntityNotFoundException</code>.</p>\n"}],"owner":{"account_id":17323025,"reputation":1344,"user_id":12547954,"display_name":"Hasindu Dahanayake"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695405474,"creation_date":1621451961,"question_id":67609602,"body_markdown":"I need to know how can I catch the `EntityNotFoundException` with the `getOne()` method. \r\n\r\nI know you will suggest me to go with a method like `findById()` or `findOne()` which are retrieving the real entity rather than a proxy Object. \r\n\r\nBut in my case, I have two foreign keys to set before inserting the object. So to set those keys If I use a method starting with &quot;find*&quot; you can clearly see there will be redundant database calls to fetch those entities. \r\n\r\nBut according to my knowledge with the aid of this proxy object which was return from the `getOne()` method I can perform this operation with a single insert query. \r\n\r\nSo now the problem is in a case of an invalid foreign key passed to the `getOne()` method I need to send an error response to the end user by catching the `EntityNotFoundException` that the inserted foreign key is not valid. \r\n\r\nHow can I achieve this?","title":"How to catch EntityNotFoundException with getOne() method in Spring Data JPA?","body":"<p>I need to know how can I catch the <code>EntityNotFoundException</code> with the <code>getOne()</code> method.</p>\n<p>I know you will suggest me to go with a method like <code>findById()</code> or <code>findOne()</code> which are retrieving the real entity rather than a proxy Object.</p>\n<p>But in my case, I have two foreign keys to set before inserting the object. So to set those keys If I use a method starting with &quot;find*&quot; you can clearly see there will be redundant database calls to fetch those entities.</p>\n<p>But according to my knowledge with the aid of this proxy object which was return from the <code>getOne()</code> method I can perform this operation with a single insert query.</p>\n<p>So now the problem is in a case of an invalid foreign key passed to the <code>getOne()</code> method I need to send an error response to the end user by catching the <code>EntityNotFoundException</code> that the inserted foreign key is not valid.</p>\n<p>How can I achieve this?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":3,"creation_date":1264451590,"post_id":2135396,"comment_id":2075126,"body_markdown":"The List is just a wrapper around the array, so it&#39;s very lightweight.  Of course, &quot;contains&quot; is just going to end up iterating through the array, so what&#39;s the point?","body":"The List is just a wrapper around the array, so it&#39;s very lightweight.  Of course, &quot;contains&quot; is just going to end up iterating through the array, so what&#39;s the point?"},{"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"score":2,"creation_date":1264451594,"post_id":2135396,"comment_id":2075127,"body_markdown":"@danben sure, but it&#39;s an appropriate one-liner.","body":"@danben sure, but it&#39;s an appropriate one-liner."},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":8,"creation_date":1264451608,"post_id":2135396,"comment_id":2075129,"body_markdown":"It is a one liner - and you don&#39;t have to instantiate collection types manually. +1 from me :)","body":"It is a one liner - and you don&#39;t have to instantiate collection types manually. +1 from me :)"},{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":1,"creation_date":1264451611,"post_id":2135396,"comment_id":2075131,"body_markdown":"yeah, and for one-liners there&#39;s no advantage to using O(log n) techniques over O(n). If you&#39;re going to reuse checking for inclusion in a large set, use a HashSet, if that&#39;s what you&#39;re getting at.","body":"yeah, and for one-liners there&#39;s no advantage to using O(log n) techniques over O(n). If you&#39;re going to reuse checking for inclusion in a large set, use a HashSet, if that&#39;s what you&#39;re getting at."},{"owner":{"account_id":75807,"reputation":81445,"user_id":217332,"accept_rate":100,"display_name":"danben"},"score":0,"creation_date":1264451840,"post_id":2135396,"comment_id":2075168,"body_markdown":"He says a one-liner that doesn&#39;t create ArrayList or Set.  This certainly does.","body":"He says a one-liner that doesn&#39;t create ArrayList or Set.  This certainly does."},{"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"score":1,"creation_date":1264452475,"post_id":2135396,"comment_id":2075270,"body_markdown":"@danben, he says &quot;in multiple steps&quot;","body":"@danben, he says &quot;in multiple steps&quot;"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1264452625,"post_id":2135396,"comment_id":2075288,"body_markdown":"(Most of the overhead here is going to be in creating the array, not the `List`.)","body":"(Most of the overhead here is going to be in creating the array, not the <code>List</code>.)"}],"tags":[],"owner":{"account_id":11188,"reputation":75684,"user_id":21441,"accept_rate":100,"display_name":"Mark Elliot"},"comment_count":7,"down_vote_count":2,"up_vote_count":115,"is_accepted":true,"score":113,"last_activity_date":1264451394,"creation_date":1264451394,"answer_id":2135396,"question_id":2135379,"body_markdown":"Use [`Arrays.asList`][1]:\r\n\r\n    if( Arrays.asList(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;).contains(&quot;a&quot;) )\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Arrays.html#asList%28T...%29","title":"One liner to check if element is in the list","body":"<p>Use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Arrays.html#asList%28T...%29\" rel=\"noreferrer\"><code>Arrays.asList</code></a>:</p>\n\n<pre><code>if( Arrays.asList(\"a\",\"b\",\"c\").contains(\"a\") )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87304,"reputation":1857,"user_id":242182,"accept_rate":75,"display_name":"rayd09"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1264451625,"creation_date":1264451625,"answer_id":2135425,"question_id":2135379,"body_markdown":"There is a boolean contains(Object obj) method within the List interface.\r\n\r\nYou should be able to say:\r\n\r\n    if (list.contains(&quot;a&quot;)) {\r\n        System.out.println(&quot;It&#39;s there&quot;);\r\n    }\r\n\r\n\r\nAccording to the &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/util/List.html#contains(java.lang.Object)&quot;&gt;javadoc&lt;/a&gt;:\r\n&lt;pre&gt;\r\nboolean contains(Object o)\r\n\r\n    Returns true if this list contains the specified element. \r\n    More formally, returns true if and only if this list contains at \r\n    least one element e such that (o==null ? e==null : o.equals(e)).\r\n&lt;pre&gt;\r\n","title":"One liner to check if element is in the list","body":"<p>There is a boolean contains(Object obj) method within the List interface.</p>\n\n<p>You should be able to say:</p>\n\n<pre><code>if (list.contains(\"a\")) {\n    System.out.println(\"It's there\");\n}\n</code></pre>\n\n<p>According to the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/List.html#contains(java.lang.Object)\" rel=\"noreferrer\">javadoc</a>:\n<pre>\nboolean contains(Object o)</p>\n\n<code>Returns true if this list contains the specified element. \nMore formally, returns true if and only if this list contains at \nleast one element e such that (o==null ? e==null : o.equals(e)).\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":12007,"reputation":17671,"user_id":23424,"accept_rate":92,"display_name":"VoidPointer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264452832,"creation_date":1264451822,"answer_id":2135443,"question_id":2135379,"body_markdown":"You can use java.util.Arrays.binarySearch to find an element in an array or to check for its existence:\r\n\r\n    import java.util.Arrays;\r\n    ...\r\n\r\n    char[] array = new char[] {&#39;a&#39;, &#39;x&#39;, &#39;m&#39;};\r\n    Arrays.sort(array); \r\n    if (Arrays.binarySearch(array, &#39;m&#39;) &gt;= 0) {\r\n        System.out.println(&quot;Yes, m is there&quot;);\r\n    }\r\n\r\nBe aware that for binarySearch to work correctly, the array needs to be sorted. Hence the call to Arrays.sort() in the example. If your data is already sorted, you don&#39;t need to do that. Thus, this isn&#39;t strictly a one-liner if you need to sort your array first. Unfortunately, Arrays.sort() does not return a reference to the array - thus it is not possible to combine sort and binarySearch (i.e. Arrays.binarySearch(Arrays.sort(myArray), key)) does not work). \r\n\r\nIf you can afford the extra allocation, using Arrays.asList() seems cleaner.","title":"One liner to check if element is in the list","body":"<p>You can use java.util.Arrays.binarySearch to find an element in an array or to check for its existence:</p>\n\n<pre><code>import java.util.Arrays;\n...\n\nchar[] array = new char[] {'a', 'x', 'm'};\nArrays.sort(array); \nif (Arrays.binarySearch(array, 'm') &gt;= 0) {\n    System.out.println(\"Yes, m is there\");\n}\n</code></pre>\n\n<p>Be aware that for binarySearch to work correctly, the array needs to be sorted. Hence the call to Arrays.sort() in the example. If your data is already sorted, you don't need to do that. Thus, this isn't strictly a one-liner if you need to sort your array first. Unfortunately, Arrays.sort() does not return a reference to the array - thus it is not possible to combine sort and binarySearch (i.e. Arrays.binarySearch(Arrays.sort(myArray), key)) does not work). </p>\n\n<p>If you can afford the extra allocation, using Arrays.asList() seems cleaner.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1264451841,"creation_date":1264451841,"answer_id":2135447,"question_id":2135379,"body_markdown":"If he really wants a one liner without any collections, OK, he can have one:\r\n\r\n    for(String s:new String[]{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)) if (s.equals(&quot;a&quot;)) System.out.println(&quot;It&#39;s there&quot;);\r\n\r\n\\*smile\\*\r\n\r\n(Isn&#39;t it ugly? Please, don&#39;t use it in real code)","title":"One liner to check if element is in the list","body":"<p>If he really wants a one liner without any collections, OK, he can have one:</p>\n\n<pre><code>for(String s:new String[]{\"a\", \"b\", \"c\")) if (s.equals(\"a\")) System.out.println(\"It's there\");\n</code></pre>\n\n<p>*smile*</p>\n\n<p>(Isn't it ugly? Please, don't use it in real code)</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1264452245,"creation_date":1264452245,"answer_id":2135488,"question_id":2135379,"body_markdown":"You could try using Strings with a separator which does not appear in any element.\r\n\r\n    if (&quot;|a|b|c|&quot;.contains(&quot;|a|&quot;))","title":"One liner to check if element is in the list","body":"<p>You could try using Strings with a separator which does not appear in any element.</p>\n\n<pre><code>if (\"|a|b|c|\".contains(\"|a|\"))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":52010,"reputation":27006,"user_id":155392,"accept_rate":81,"display_name":"I82Much"},"score":0,"creation_date":1264457639,"post_id":2135548,"comment_id":2075999,"body_markdown":"It&#39;s about time.  Hopefully this gets adopted.  I&#39;m tired of the verbosity of Java","body":"It&#39;s about time.  Hopefully this gets adopted.  I&#39;m tired of the verbosity of Java"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":3,"creation_date":1264458284,"post_id":2135548,"comment_id":2076071,"body_markdown":"The extra 13 characters probably wont kill you.","body":"The extra 13 characters probably wont kill you."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1549071697,"post_id":2135548,"comment_id":95784942,"body_markdown":"@X_Trust Add your own static contains method with varargs if you&#39;re desperate.","body":"@X_Trust Add your own static contains method with varargs if you&#39;re desperate."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":3,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1549071612,"creation_date":1264452815,"answer_id":2135548,"question_id":2135379,"body_markdown":"In JDK7:\r\n\r\n    if ({&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}.contains(&quot;a&quot;)) {\r\n\r\nAssuming the Project Coin collections literals project goes through.\r\n\r\n**Edit:** It didn&#39;t.","title":"One liner to check if element is in the list","body":"<p>In JDK7:</p>\n\n<pre><code>if ({\"a\", \"b\", \"c\"}.contains(\"a\")) {\n</code></pre>\n\n<p>Assuming the Project Coin collections literals project goes through.</p>\n\n<p><strong>Edit:</strong> It didn't.</p>\n"},{"tags":[],"owner":{"account_id":12941972,"reputation":1386,"user_id":9357484,"accept_rate":50,"display_name":"Encipher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549072384,"creation_date":1549072384,"answer_id":54489288,"question_id":2135379,"body_markdown":"     public class Itemfound{ \r\n            public static void main(String args[]){\r\n    \r\n                    if( Arrays.asList(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;).contains(&quot;a&quot;){\r\n                          System.out.println(&quot;It is here&quot;);\r\n             }\r\n        }\r\n   }\r\n\r\nThis is what you looking for. The contains() method simply checks the index of element in the list. If the index is greater than &#39;0&#39; than element is present in the list.\r\n\r\n    public boolean contains(Object o) {\r\n    return indexOf(o) &gt;= 0;\r\n    }\r\n\r\n\r\n","title":"One liner to check if element is in the list","body":"<pre><code> public class Itemfound{ \n        public static void main(String args[]){\n\n                if( Arrays.asList(\"a\",\"b\",\"c\").contains(\"a\"){\n                      System.out.println(\"It is here\");\n         }\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>This is what you looking for. The contains() method simply checks the index of element in the list. If the index is greater than '0' than element is present in the list.</p>\n\n<pre><code>public boolean contains(Object o) {\nreturn indexOf(o) &gt;= 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551082305,"creation_date":1551082305,"answer_id":54861934,"question_id":2135379,"body_markdown":"I would use:\r\n\r\n    if (Stream.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;).anyMatch(&quot;a&quot;::equals)) {\r\n        //Code to execute\r\n    };\r\n\r\nor:\r\n\r\n    Stream.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;)\r\n        .filter(&quot;a&quot;::equals)\r\n        .findAny()\r\n        .ifPresent(ignore -&gt; /*Code to execute*/);","title":"One liner to check if element is in the list","body":"<p>I would use:</p>\n\n<pre><code>if (Stream.of(\"a\",\"b\",\"c\").anyMatch(\"a\"::equals)) {\n    //Code to execute\n};\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>Stream.of(\"a\",\"b\",\"c\")\n    .filter(\"a\"::equals)\n    .findAny()\n    .ifPresent(ignore -&gt; /*Code to execute*/);\n</code></pre>\n"}],"owner":{"account_id":67484,"reputation":20129,"user_id":197473,"accept_rate":61,"display_name":"Vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159839,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":2135396,"answer_count":8,"score":50,"last_activity_date":1695404503,"creation_date":1264451257,"question_id":2135379,"body_markdown":"I have been working on and off with Java/Python. Now in this situation I want to check if the element is in the list and do stuff...\r\n\r\nPython says:\r\n\r\n    if &quot;a&quot; in [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]:\r\n        print &quot;It&#39;s there!&quot;\r\n\r\nDoes Java provide any one liner for this rather than creating `ArrayList` / `Set` or similar data structure in steps and adding elements to it?\r\n\r\nThanks.\r\n","title":"One liner to check if element is in the list","body":"<p>I have been working on and off with Java/Python. Now in this situation I want to check if the element is in the list and do stuff...</p>\n<p>Python says:</p>\n<pre><code>if &quot;a&quot; in [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]:\n    print &quot;It's there!&quot;\n</code></pre>\n<p>Does Java provide any one liner for this rather than creating <code>ArrayList</code> / <code>Set</code> or similar data structure in steps and adding elements to it?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","postgresql","transactions"],"owner":{"account_id":12319723,"reputation":33,"user_id":8989302,"display_name":"ChpokHead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695404287,"creation_date":1692876261,"question_id":76968779,"body_markdown":"The paragraph related to a Repeatable Read isolation level in the official PostgreSQL documentation says: &quot;Applications using this level must be prepared to retry transactions due to serialization failures.&quot; I tried to simulate the failure using psql console and got &quot;ERROR:  could not serialize access due to concurrent update&quot;, but I didn&#39;t find any information related to the actual Java exception being thrown, how to handle it in Spring (JdbcTemplate be more precise) in order to execute the transaction again with the updated row?","title":"How to handle Repeatable Read isolation level serialization exceptions in Spring?","body":"<p>The paragraph related to a Repeatable Read isolation level in the official PostgreSQL documentation says: &quot;Applications using this level must be prepared to retry transactions due to serialization failures.&quot; I tried to simulate the failure using psql console and got &quot;ERROR:  could not serialize access due to concurrent update&quot;, but I didn't find any information related to the actual Java exception being thrown, how to handle it in Spring (JdbcTemplate be more precise) in order to execute the transaction again with the updated row?</p>\n"},{"tags":["java","spring","hibernate","jboss","hibernate-envers"],"comments":[{"owner":{"account_id":1087695,"reputation":2278,"user_id":1083026,"display_name":"Avinash T."},"score":0,"creation_date":1357220912,"post_id":14139856,"comment_id":19580280,"body_markdown":"is it a SQL query or HQL Query?","body":"is it a SQL query or HQL Query?"}],"answers":[{"comments":[{"owner":{"account_id":6250894,"reputation":513,"user_id":4860979,"display_name":"userab"},"score":0,"creation_date":1485501714,"post_id":14141667,"comment_id":70959595,"body_markdown":"I am not using native sql query, insteas using HQL only. But the auditing on .executeUpdate() doesn&#39;t works. Is there any way you achieved this.","body":"I am not using native sql query, insteas using HQL only. But the auditing on .executeUpdate() doesn&#39;t works. Is there any way you achieved this."}],"tags":[],"owner":{"account_id":1987554,"reputation":8119,"user_id":1782379,"accept_rate":84,"display_name":"bsiamionau"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1357226082,"creation_date":1357226082,"answer_id":14141667,"question_id":14139856,"body_markdown":"It looks like **Avinash T.** is right - if you want to create native SQL query, use `createNativeQuery(String sqlString)` method of `EntityManager`. Using `createQuery(String ejbqlString)` is only possible if you&#39;re using EJB QL. Hope it would help.","title":"Hibernate Envers - Doesn&#39;t write audit records for createQuery(...).executeUpdate(), only .persist() and .merge()","body":"<p>It looks like <strong>Avinash T.</strong> is right - if you want to create native SQL query, use <code>createNativeQuery(String sqlString)</code> method of <code>EntityManager</code>. Using <code>createQuery(String ejbqlString)</code> is only possible if you're using EJB QL. Hope it would help.</p>\n"},{"tags":[],"owner":{"account_id":1087695,"reputation":2278,"user_id":1083026,"display_name":"Avinash T."},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1357271449,"creation_date":1357271449,"answer_id":14150836,"question_id":14139856,"body_markdown":"Try this - \r\n\r\n        public int updateStatus(String id, String status) {\r\n    \r\n        final int changes =\r\n                    entityManager.createQuery(&quot;Update Item set state = :newState,&quot; +\r\n                            &quot; lastModified = CURRENT_TIMESTAMP&quot; +\r\n                            &quot; where id = : id &quot;)\r\n                        .setParameter(&quot;newState&quot;, status)\r\n                        .setParameter(&quot;id&quot;, id)\r\n                        .executeUpdate();\r\n    \r\n                return changes;\r\n    }\r\n\r\n\r\nFollowing link wiil help you to learn more about JPQL -\r\n\r\nhttp://docs.oracle.com/javaee/6/tutorial/doc/bnbtg.html","title":"Hibernate Envers - Doesn&#39;t write audit records for createQuery(...).executeUpdate(), only .persist() and .merge()","body":"<p>Try this - </p>\n\n<pre><code>    public int updateStatus(String id, String status) {\n\n    final int changes =\n                entityManager.createQuery(\"Update Item set state = :newState,\" +\n                        \" lastModified = CURRENT_TIMESTAMP\" +\n                        \" where id = : id \")\n                    .setParameter(\"newState\", status)\n                    .setParameter(\"id\", id)\n                    .executeUpdate();\n\n            return changes;\n}\n</code></pre>\n\n<p>Following link wiil help you to learn more about JPQL -</p>\n\n<p><a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/bnbtg.html\" rel=\"nofollow\">http://docs.oracle.com/javaee/6/tutorial/doc/bnbtg.html</a></p>\n"},{"comments":[{"owner":{"account_id":1034855,"reputation":1215,"user_id":1042429,"accept_rate":48,"display_name":"lives"},"score":0,"creation_date":1389814341,"post_id":14194260,"comment_id":31826807,"body_markdown":"If I write a Spring data jpa query for update ,will enver be able to intercept it ?","body":"If I write a Spring data jpa query for update ,will enver be able to intercept it ?"}],"tags":[],"owner":{"account_id":149784,"reputation":8168,"user_id":362531,"accept_rate":69,"display_name":"adamw"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1357555370,"creation_date":1357555370,"answer_id":14194260,"question_id":14139856,"body_markdown":"No, Envers won&#39;t work if you are using executeUpdate. That is because the update doesn&#39;t pass through Hibernate&#39;s event mechanism, so Envers has no chances of intercepting the change, and writing the audit.","title":"Hibernate Envers - Doesn&#39;t write audit records for createQuery(...).executeUpdate(), only .persist() and .merge()","body":"<p>No, Envers won't work if you are using executeUpdate. That is because the update doesn't pass through Hibernate's event mechanism, so Envers has no chances of intercepting the change, and writing the audit.</p>\n"},{"tags":[],"owner":{"account_id":18486228,"reputation":13,"user_id":13467124,"display_name":"Mihai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695404106,"creation_date":1695404106,"answer_id":77159667,"question_id":14139856,"body_markdown":"I also needed to update a single field of my entity. If you don&#39;t need to directly use the `EntityManager`, in my case a solution for Envers to be aware of the entity-state change was to annotate my `@Entity` class with `@DynamicUpdate`, and wrap with `@Transactional` the method that set the field I wanted to update. \r\n\r\nSee this answer: [Update single field using spring data jpa][1]\r\n\r\nHibernate code that checks the `@DynamicUpdate` annotation: \r\norg.hibernate.persister.entity.mutation.UpdateCoordinatorStandard#coordinateUpdate\r\n\r\nBut be aware that using `@DynamicUpate` might incur some performance costs:\r\n\r\n&gt; Specifies that SQL update statements for the annotated entity are\r\n&gt; generated dynamically, and only include columns which are actually\r\n&gt; being updated. This might result in improved performance if it is\r\n&gt; common to change only some of the attributes of the entity. However,\r\n&gt; there is a cost associated with generating the SQL at runtime\r\n\r\n  [1]: https://stackoverflow.com/a/50297862/13467124","title":"Hibernate Envers - Doesn&#39;t write audit records for createQuery(...).executeUpdate(), only .persist() and .merge()","body":"<p>I also needed to update a single field of my entity. If you don't need to directly use the <code>EntityManager</code>, in my case a solution for Envers to be aware of the entity-state change was to annotate my <code>@Entity</code> class with <code>@DynamicUpdate</code>, and wrap with <code>@Transactional</code> the method that set the field I wanted to update.</p>\n<p>See this answer: <a href=\"https://stackoverflow.com/a/50297862/13467124\">Update single field using spring data jpa</a></p>\n<p>Hibernate code that checks the <code>@DynamicUpdate</code> annotation:\norg.hibernate.persister.entity.mutation.UpdateCoordinatorStandard#coordinateUpdate</p>\n<p>But be aware that using <code>@DynamicUpate</code> might incur some performance costs:</p>\n<blockquote>\n<p>Specifies that SQL update statements for the annotated entity are\ngenerated dynamically, and only include columns which are actually\nbeing updated. This might result in improved performance if it is\ncommon to change only some of the attributes of the entity. However,\nthere is a cost associated with generating the SQL at runtime</p>\n</blockquote>\n"}],"owner":{"account_id":1561242,"reputation":423,"user_id":1451064,"accept_rate":56,"display_name":"babb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6406,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":14141667,"answer_count":4,"score":6,"last_activity_date":1695404106,"creation_date":1357219630,"question_id":14139856,"body_markdown":"I have 3 ways things get written to the DB\r\n\r\n\tpublic void create(T object) {\r\n\t\tentityManager.persist(object);\r\n\t}\r\n\r\n\tpublic void update(T object) {\r\n\t\tobject = entityManager.merge(object);\r\n\t}\r\n\r\n\tpublic int updateStatus(String id, String status) {\r\n\t\t\r\n\t\tfinal int changes =\r\n\t\t\t        entityManager.createQuery(&quot;update item set state = :newState,&quot; +\r\n\t\t\t        \t\t&quot; last_modified = current_timestamp&quot; +\r\n\t\t\t        \t\t&quot; where id = : id &quot;)\r\n\t\t\t        \t.setParameter(&quot;newState&quot;, status)\r\n\t\t\t        \t.setParameter(&quot;id&quot;, id)\r\n\t\t\t            .executeUpdate();\r\n\r\n\t\t\t    return changes;\r\n\t}\r\n\r\nThe problem I have, is in order to get the Hibernate Envers to actually write the audit records to the corrsponsing x_aud and revinfo DB tables. It only works successfully for &#39;.persist()&#39; or &#39;.merge()&#39;. I cannot get it to work for &#39;createQuery(...)**.executeUpdate()**&#39;\r\n\r\nAm I missing something or does it just not work for this. The problem is, a lot of my code has been written using .executeUpdate and not merge, so really I need this to work with the existing code.\r\n\r\nCan anyone help please?","title":"Hibernate Envers - Doesn&#39;t write audit records for createQuery(...).executeUpdate(), only .persist() and .merge()","body":"<p>I have 3 ways things get written to the DB</p>\n\n<pre><code>public void create(T object) {\n    entityManager.persist(object);\n}\n\npublic void update(T object) {\n    object = entityManager.merge(object);\n}\n\npublic int updateStatus(String id, String status) {\n\n    final int changes =\n                entityManager.createQuery(\"update item set state = :newState,\" +\n                        \" last_modified = current_timestamp\" +\n                        \" where id = : id \")\n                    .setParameter(\"newState\", status)\n                    .setParameter(\"id\", id)\n                    .executeUpdate();\n\n            return changes;\n}\n</code></pre>\n\n<p>The problem I have, is in order to get the Hibernate Envers to actually write the audit records to the corrsponsing x_aud and revinfo DB tables. It only works successfully for '.persist()' or '.merge()'. I cannot get it to work for 'createQuery(...)<strong>.executeUpdate()</strong>'</p>\n\n<p>Am I missing something or does it just not work for this. The problem is, a lot of my code has been written using .executeUpdate and not merge, so really I need this to work with the existing code.</p>\n\n<p>Can anyone help please?</p>\n"},{"tags":["java","mysql","exception","connector"],"comments":[{"owner":{"account_id":5961968,"reputation":1269,"user_id":4686871,"accept_rate":100,"display_name":"Sergei Sirik"},"score":2,"creation_date":1526504777,"post_id":50379839,"comment_id":87776007,"body_markdown":"Please, provide some code: how are you trying to connect. Stack trace of the exception would be helpful as well.","body":"Please, provide some code: how are you trying to connect. Stack trace of the exception would be helpful as well."},{"owner":{"account_id":1296827,"reputation":524,"user_id":1247667,"display_name":"Ryabinin Sergey"},"score":1,"creation_date":1666271749,"post_id":50379839,"comment_id":130900454,"body_markdown":"For connectrion need add to dburl : allowPublicKeyRetrieval=true","body":"For connectrion need add to dburl : allowPublicKeyRetrieval=true"}],"answers":[{"comments":[{"owner":{"account_id":1057663,"reputation":4772,"user_id":1060026,"accept_rate":60,"display_name":"Priyank Thakkar"},"score":7,"creation_date":1529478654,"post_id":50438872,"comment_id":88882036,"body_markdown":"Well, this worked for me but I am not sure how legit these options are from security perspective.","body":"Well, this worked for me but I am not sure how legit these options are from security perspective."},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":63,"creation_date":1529989369,"post_id":50438872,"comment_id":89062232,"body_markdown":"`useSSL=false&amp;allowPublicKeyRetrieval=true` is what I needed only when I tried connecting from `docker_container1` to `docker_container2_mysql(where mysql is installed)` within my local host. While from my host machine to `docker_container2_mysql`, `useSSL=false` is enough.","body":"<code>useSSL=false&amp;allowPublicKeyRetrieval=true</code> is what I needed only when I tried connecting from <code>docker_container1</code> to <code>docker_container2_mysql(where mysql is installed)</code> within my local host. While from my host machine to <code>docker_container2_mysql</code>, <code>useSSL=false</code> is enough."},{"owner":{"account_id":12650970,"reputation":574,"user_id":9195139,"display_name":"Martin Klestil"},"score":2,"creation_date":1535880864,"post_id":50438872,"comment_id":91221183,"body_markdown":"allowPublicKeyRetrieval=true&amp;amp;useSSL=false  , tank you it works","body":"allowPublicKeyRetrieval=true&amp;amp;useSSL=false  , tank you it works"},{"owner":{"account_id":1160946,"reputation":2050,"user_id":1140456,"accept_rate":83,"display_name":"Capn Sparrow"},"score":6,"creation_date":1536295515,"post_id":50438872,"comment_id":91379764,"body_markdown":"Can you explain why this is the case?","body":"Can you explain why this is the case?"},{"owner":{"account_id":1101656,"reputation":1530,"user_id":1093938,"display_name":"Alz"},"score":0,"creation_date":1537018310,"post_id":50438872,"comment_id":91636153,"body_markdown":"Adding &#39;allowPublicKeyRetrieval=true&#39; to my JDBC connection string solved my development system&#39;s issue after a Windows 10 update yesterday. Guess Microsoft plugged another hole, and the option should be used &quot;for development only&quot; in my view, where SSL is not turned on.","body":"Adding &#39;allowPublicKeyRetrieval=true&#39; to my JDBC connection string solved my development system&#39;s issue after a Windows 10 update yesterday. Guess Microsoft plugged another hole, and the option should be used &quot;for development only&quot; in my view, where SSL is not turned on."},{"owner":{"account_id":4307476,"reputation":2427,"user_id":3519504,"display_name":"Sandeep Kumar"},"score":18,"creation_date":1577780071,"post_id":50438872,"comment_id":105251940,"body_markdown":"My problem is, it was working fine till yesterday. What could have changed overnight?","body":"My problem is, it was working fine till yesterday. What could have changed overnight?"},{"owner":{"account_id":6145873,"reputation":83,"user_id":4791885,"display_name":"Saroj Kumar Sahoo"},"score":14,"creation_date":1588418075,"post_id":50438872,"comment_id":108890189,"body_markdown":"try removing useSSl=false from the url it worked for me","body":"try removing useSSl=false from the url it worked for me"},{"owner":{"account_id":2578667,"reputation":5679,"user_id":2235814,"accept_rate":87,"display_name":"ira"},"score":2,"creation_date":1606201801,"post_id":50438872,"comment_id":114883468,"body_markdown":"I was struggling making `dbeaver` connect to *dockerized* `mysql-8` server. `allowPublicKeyRetrieval=true` did the trick for me :+1:","body":"I was struggling making <code>dbeaver</code> connect to <i>dockerized</i> <code>mysql-8</code> server. <code>allowPublicKeyRetrieval=true</code> did the trick for me :+1:"},{"owner":{"account_id":19402702,"reputation":989,"user_id":14188899,"display_name":"Stefan"},"score":2,"creation_date":1621177317,"post_id":50438872,"comment_id":119410858,"body_markdown":"@SandeepKumar Same thing happened to me. Did you figure out why? And yes, I know a lot of time passed after you commented this, so I don&#39;t have high expectations :)","body":"@SandeepKumar Same thing happened to me. Did you figure out why? And yes, I know a lot of time passed after you commented this, so I don&#39;t have high expectations :)"},{"owner":{"account_id":10110007,"reputation":963,"user_id":7471307,"accept_rate":57,"display_name":"Artanis Zeratul"},"score":0,"creation_date":1664918081,"post_id":50438872,"comment_id":130578830,"body_markdown":"How to do this in commandline? For example I am dumping a file or querying via commandline?","body":"How to do this in commandline? For example I am dumping a file or querying via commandline?"},{"owner":{"account_id":20002023,"reputation":277,"user_id":14660815,"display_name":"Dnyaneshwar Jadhav"},"score":0,"creation_date":1678125056,"post_id":50438872,"comment_id":133469011,"body_markdown":"with `allowPublicKeyRetrieval=true` it works for me, thnx","body":"with <code>allowPublicKeyRetrieval=true</code> it works for me, thnx"},{"owner":{"account_id":9618157,"reputation":53,"user_id":7140228,"accept_rate":17,"display_name":"G. Joe"},"score":0,"creation_date":1679409676,"post_id":50438872,"comment_id":133714510,"body_markdown":"Had the same issue using spring and it worked :)","body":"Had the same issue using spring and it worked :)"},{"owner":{"account_id":3402340,"reputation":103,"user_id":2854225,"display_name":"Radiumrasheed"},"score":0,"creation_date":1698152145,"post_id":50438872,"comment_id":136366516,"body_markdown":"What&#39;s the equivalent of this when using mysql in nodejs please?","body":"What&#39;s the equivalent of this when using mysql in nodejs please?"}],"tags":[],"owner":{"account_id":2780943,"reputation":9661,"user_id":2393509,"accept_rate":88,"display_name":"jtomaszk"},"comment_count":13,"down_vote_count":0,"up_vote_count":762,"is_accepted":true,"score":762,"last_activity_date":1674757887,"creation_date":1526846247,"answer_id":50438872,"question_id":50379839,"body_markdown":"You should add client option to your mysql-connector `allowPublicKeyRetrieval=true` to allow the client to automatically request the public key from the server. Note that `allowPublicKeyRetrieval=True` could allow a malicious proxy to perform a MITM attack to get the plaintext password, so it is False by default and must be explicitly enabled.\r\n\r\nSee [MySQL .NET Connection String Options](https://mysql-net.github.io/MySqlConnector/connection-options/)\r\n\r\nyou could also try adding `useSSL=false` when you use it for testing/develop purposes \r\n\r\nexample:\r\n\r\n\r\n    jdbc:mysql://localhost:3306/db?allowPublicKeyRetrieval=true&amp;useSSL=false","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>You should add client option to your mysql-connector <code>allowPublicKeyRetrieval=true</code> to allow the client to automatically request the public key from the server. Note that <code>allowPublicKeyRetrieval=True</code> could allow a malicious proxy to perform a MITM attack to get the plaintext password, so it is False by default and must be explicitly enabled.</p>\n<p>See <a href=\"https://mysql-net.github.io/MySqlConnector/connection-options/\" rel=\"noreferrer\">MySQL .NET Connection String Options</a></p>\n<p>you could also try adding <code>useSSL=false</code> when you use it for testing/develop purposes</p>\n<p>example:</p>\n<pre><code>jdbc:mysql://localhost:3306/db?allowPublicKeyRetrieval=true&amp;useSSL=false\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":2,"creation_date":1552155965,"post_id":51132931,"comment_id":96907052,"body_markdown":"A small correction here.\nThe connection property &#39;useSSL&#39; acceptable values are: &#39;TRUE&#39;, &#39;FALSE&#39;, &#39;YES&#39; or &#39;NO&#39;. The value &#39;false;&#39; is not acceptable.","body":"A small correction here. The connection property &#39;useSSL&#39; acceptable values are: &#39;TRUE&#39;, &#39;FALSE&#39;, &#39;YES&#39; or &#39;NO&#39;. The value &#39;false;&#39; is not acceptable."},{"owner":{"account_id":9911529,"reputation":3538,"user_id":7338066,"display_name":"susan097"},"score":0,"creation_date":1643526373,"post_id":51132931,"comment_id":125360492,"body_markdown":"@bluelurker I have updated it.","body":"@bluelurker I have updated it."}],"tags":[],"owner":{"account_id":9911529,"reputation":3538,"user_id":7338066,"display_name":"susan097"},"comment_count":2,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1643526346,"creation_date":1530523724,"answer_id":51132931,"question_id":50379839,"body_markdown":"Use  `jdbc url` as :\r\n\r\n    jdbc:mysql://localhost:3306/Database_dbName?allowPublicKeyRetrieval=true&amp;useSSL=False;\r\n\r\n**`PortNo: 3306` can be different in your configuation**","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>Use  <code>jdbc url</code> as :</p>\n<pre><code>jdbc:mysql://localhost:3306/Database_dbName?allowPublicKeyRetrieval=true&amp;useSSL=False;\n</code></pre>\n<p><strong><code>PortNo: 3306</code> can be different in your configuation</strong></p>\n"},{"comments":[{"owner":{"account_id":4977846,"reputation":96,"user_id":4003699,"display_name":"Rajni Gangwar"},"score":0,"creation_date":1615292884,"post_id":52027796,"comment_id":117640975,"body_markdown":"right, simplest could be your local mysql password is something different that what is configured in  application.properties .. go check and change that.\nThis was the case with mw","body":"right, simplest could be your local mysql password is something different that what is configured in  application.properties .. go check and change that. This was the case with mw"}],"tags":[],"owner":{"account_id":12511931,"reputation":3963,"user_id":9106684,"display_name":"duyuanchao"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1535297994,"creation_date":1535297994,"answer_id":52027796,"question_id":50379839,"body_markdown":"I solve this issue using below configuration on spring boot framework\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db-name?useUnicode=true&amp;characterEncoding=UTF-8&amp;allowPublicKeyRetrieval=true&amp;useSSL=false\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>I solve this issue using below configuration on spring boot framework</p>\n\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/db-name?useUnicode=true&amp;characterEncoding=UTF-8&amp;allowPublicKeyRetrieval=true&amp;useSSL=false\nspring.datasource.username=root\nspring.datasource.password=root\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2559426,"reputation":1044,"user_id":2220759,"display_name":"Torsten Ojaperv"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1542199070,"creation_date":1542199070,"answer_id":53300421,"question_id":50379839,"body_markdown":"Alternatively to the suggested answers you could try and use *mysql_native_password* authentication plugin instead of *caching_sha2_password* authentication plugin.\r\n\r\n    ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;your_password_here&#39;; ","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>Alternatively to the suggested answers you could try and use <em>mysql_native_password</em> authentication plugin instead of <em>caching_sha2_password</em> authentication plugin.</p>\n\n<pre><code>ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'your_password_here'; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9421037,"reputation":530,"user_id":9851598,"display_name":"surendrapanday"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543113660,"creation_date":1543112144,"answer_id":53464109,"question_id":50379839,"body_markdown":"This solution worked for MacOS Sierra, and running MySQL version 8.0.11. Please make sure driver you have added in your build path - &quot;add external jar&quot; should match up with SQL version.\r\n\r\n\r\n\r\n    String url = &quot;jdbc:mysql://localhost:3306/syscharacterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true&quot;;","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>This solution worked for MacOS Sierra, and running MySQL version 8.0.11. Please make sure driver you have added in your build path - \"add external jar\" should match up with SQL version.</p>\n\n<pre><code>String url = \"jdbc:mysql://localhost:3306/syscharacterEncoding=utf8&amp;useSSL=false&amp;serverTimezone=UTC&amp;rewriteBatchedStatements=true\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1855835,"reputation":1651,"user_id":1681440,"display_name":"juice"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543627061,"creation_date":1543627061,"answer_id":53566930,"question_id":50379839,"body_markdown":"In my case it was user error. I was using the `root` user with an invalid password. I am not sure why I didn&#39;t get an auth error but instead received this cryptic message.","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>In my case it was user error. I was using the <code>root</code> user with an invalid password. I am not sure why I didn't get an auth error but instead received this cryptic message.</p>\n"},{"tags":[],"owner":{"account_id":11523250,"reputation":1153,"user_id":8444441,"display_name":"risingStark"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544986143,"creation_date":1544986143,"answer_id":53805393,"question_id":50379839,"body_markdown":"The above error in my case was actually due to the wrong username and password.\r\nSolving the issue:\r\n1. Go to the line DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/&lt;your_database_name_here&gt;?useSSL=false&quot;, &quot;username&quot;, &quot;password&quot;);\r\nThe fields username and password might be wrong. Enter the username and password which you use to start your mysql client. The username is generally root and password is the string which you enter when a screen similar to this appears [Startup screen of mysql][1]\r\n\r\nNote: The portname 3306 might be different in your case.\r\n\r\n  [1]: https://i.stack.imgur.com/GLfhY.png","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>The above error in my case was actually due to the wrong username and password.\nSolving the issue:\n1. Go to the line DriverManager.getConnection(\"jdbc:mysql://localhost:3306/?useSSL=false\", \"username\", \"password\");\nThe fields username and password might be wrong. Enter the username and password which you use to start your mysql client. The username is generally root and password is the string which you enter when a screen similar to this appears <a href=\"https://i.stack.imgur.com/GLfhY.png\" rel=\"nofollow noreferrer\">Startup screen of mysql</a></p>\n\n<p>Note: The portname 3306 might be different in your case.</p>\n"},{"tags":[],"owner":{"account_id":1094163,"reputation":3336,"user_id":7023816,"display_name":"Cameron Hudson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549228808,"creation_date":1549228808,"answer_id":54507703,"question_id":50379839,"body_markdown":"I found this issue frustrating because I was able to interact with the database yesterday, but after coming back this morning, I started getting this error.\r\n\r\nI tried adding the `allowPublicKeyRetrieval=true` flag, but I kept getting the error.\r\n\r\nWhat fixed it for me was doing `Project-&gt;Clean` in Eclipse and `Clean` on my Tomcat server. One (or both) of those fixed it.\r\n\r\nI don&#39;t understand why, because I build my project using Maven, and have been restarting my server after each code change. Very irritating...","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>I found this issue frustrating because I was able to interact with the database yesterday, but after coming back this morning, I started getting this error.</p>\n\n<p>I tried adding the <code>allowPublicKeyRetrieval=true</code> flag, but I kept getting the error.</p>\n\n<p>What fixed it for me was doing <code>Project-&gt;Clean</code> in Eclipse and <code>Clean</code> on my Tomcat server. One (or both) of those fixed it.</p>\n\n<p>I don't understand why, because I build my project using Maven, and have been restarting my server after each code change. Very irritating...</p>\n"},{"comments":[{"owner":{"account_id":10110007,"reputation":963,"user_id":7471307,"accept_rate":57,"display_name":"Artanis Zeratul"},"score":0,"creation_date":1664921326,"post_id":56142146,"comment_id":130579511,"body_markdown":"how about in command line or connecting through commandline?","body":"how about in command line or connecting through commandline?"}],"tags":[],"owner":{"account_id":6533811,"reputation":99,"user_id":5054104,"display_name":"samit tiwary"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1557897182,"creation_date":1557897182,"answer_id":56142146,"question_id":50379839,"body_markdown":"Give connection URL as \r\njdbc:mysql://localhost:3306/hb_student_tracker?allowPublicKeyRetrieval=true&amp;amp;useSSL=false&amp;amp;serverTimezone=UTC","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>Give connection URL as \njdbc:mysql://localhost:3306/hb_student_tracker?allowPublicKeyRetrieval=true&amp;useSSL=false&amp;serverTimezone=UTC</p>\n"},{"tags":[],"owner":{"account_id":2495334,"reputation":181,"user_id":2171938,"display_name":"Rohtash Lakra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563233204,"creation_date":1563233204,"answer_id":57048261,"question_id":50379839,"body_markdown":"If you are getting the following error while connecting the mysql (either local or mysql container running the mysql):\r\n\r\njava.sql.SQLNonTransientConnectionException: Public Key Retrieval is not allowed\r\n\r\nSolution:\r\nAdd the following line in your database service:\r\n\r\n    command: --default-authentication-plugin=mysql_native_password","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>If you are getting the following error while connecting the mysql (either local or mysql container running the mysql):</p>\n\n<p>java.sql.SQLNonTransientConnectionException: Public Key Retrieval is not allowed</p>\n\n<p>Solution:\nAdd the following line in your database service:</p>\n\n<pre><code>command: --default-authentication-plugin=mysql_native_password\n</code></pre>\n"},{"comments":[{"owner":{"account_id":982411,"reputation":4028,"user_id":1001816,"accept_rate":38,"display_name":"Sudhir N"},"score":0,"creation_date":1681901108,"post_id":58786867,"comment_id":134130612,"body_markdown":"Perfect - i had this error after server was upgraded to mysql 8 from mysql 5.\nuseSSL=true fixed the error","body":"Perfect - i had this error after server was upgraded to mysql 8 from mysql 5. useSSL=true fixed the error"}],"tags":[],"owner":{"account_id":5564268,"reputation":637,"user_id":4412155,"display_name":"Bheem  Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573374022,"creation_date":1573374022,"answer_id":58786867,"question_id":50379839,"body_markdown":"Update the useSSL=true in spring boot application connection with mysql;\r\n\r\n    jdbc:mysql://localhost:3306/demo?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n\r\n","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>Update the useSSL=true in spring boot application connection with mysql;</p>\n\n<pre><code>jdbc:mysql://localhost:3306/demo?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11883050,"reputation":395,"user_id":8696237,"display_name":"Sandun"},"score":47,"creation_date":1608016070,"post_id":59778108,"comment_id":115445744,"body_markdown":"For me, modifying just the &quot;allowPublicKeyRetrieval&quot; field under &quot;Driver Properties&quot; from False to True did the trick. May I ask why add the &quot;useSSL&quot; property and then set it to False? (I too am using DBeaver)","body":"For me, modifying just the &quot;allowPublicKeyRetrieval&quot; field under &quot;Driver Properties&quot; from False to True did the trick. May I ask why add the &quot;useSSL&quot; property and then set it to False? (I too am using DBeaver)"},{"owner":{"account_id":3993139,"reputation":2383,"user_id":3291390,"display_name":"Stack Underflow"},"score":0,"creation_date":1614281675,"post_id":59778108,"comment_id":117345427,"body_markdown":"On Ubuntu 16.04, I had a heck of a time figuring out how to set the value because visually it did not show anything that looked like input was expected or being recorded. I had to double click the value column and trust that it was taking input before hitting enter or clicking out of it and only then did the value I typed in show up.","body":"On Ubuntu 16.04, I had a heck of a time figuring out how to set the value because visually it did not show anything that looked like input was expected or being recorded. I had to double click the value column and trust that it was taking input before hitting enter or clicking out of it and only then did the value I typed in show up."},{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":7,"creation_date":1617053937,"post_id":59778108,"comment_id":118190184,"body_markdown":"Is enough set both properties in the `Driver properties` section/tab","body":"Is enough set both properties in the <code>Driver properties</code> section/tab"},{"owner":{"account_id":2139107,"reputation":1710,"user_id":1898218,"accept_rate":100,"display_name":"Halfstop"},"score":1,"creation_date":1621485179,"post_id":59778108,"comment_id":119511168,"body_markdown":"Trying to connect to an out-of-the-box mysql install on a docker container. Doing this made it work so I can connect to the mysql db using dbeaver.","body":"Trying to connect to an out-of-the-box mysql install on a docker container. Doing this made it work so I can connect to the mysql db using dbeaver."},{"owner":{"account_id":3958600,"reputation":149,"user_id":3266342,"display_name":"Ara Kokeba"},"score":3,"creation_date":1629337701,"post_id":59778108,"comment_id":121662550,"body_markdown":"This was the correct answer in my case when using DBeaver client","body":"This was the correct answer in my case when using DBeaver client"},{"owner":{"account_id":8868539,"reputation":2197,"user_id":6622913,"display_name":"Istiaque Hossain"},"score":1,"creation_date":1635394517,"post_id":59778108,"comment_id":123287501,"body_markdown":"In my case &quot;allowPublicKeyRetrieval&quot; properties only accept &#39;TRUE&#39; (capital latter)","body":"In my case &quot;allowPublicKeyRetrieval&quot; properties only accept &#39;TRUE&#39; (capital latter)"},{"owner":{"account_id":9365930,"reputation":470,"user_id":6950847,"display_name":"zeg"},"score":0,"creation_date":1673257184,"post_id":59778108,"comment_id":132449329,"body_markdown":"Works for `localhost` database with dbeaver. Thank you","body":"Works for <code>localhost</code> database with dbeaver. Thank you"},{"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"score":0,"creation_date":1688623231,"post_id":59778108,"comment_id":135098839,"body_markdown":"As a DBeaver user, I tried all the options suggested here. But, I still getting the Deinal. DBeaver 23.1.0.202306041918. MySQL Server version: 8.0.33 MySQL Community Server - GPL.","body":"As a DBeaver user, I tried all the options suggested here. But, I still getting the Deinal. DBeaver 23.1.0.202306041918. MySQL Server version: 8.0.33 MySQL Community Server - GPL."}],"tags":[],"owner":{"account_id":12493206,"reputation":8470,"user_id":9094093,"display_name":"Javier Aviles"},"comment_count":8,"down_vote_count":1,"up_vote_count":575,"is_accepted":false,"score":574,"last_activity_date":1691670003,"creation_date":1579210280,"answer_id":59778108,"question_id":50379839,"body_markdown":"For **DBeaver** users:\r\n\r\n1. Right-click your connection, choose &quot;Edit Connection&quot;\r\n\r\n2. On the &quot;Connection settings&quot; screen (main screen), click on &quot;Edit Driver Settings&quot;\r\n\r\n3. Click on &quot;Driver properties&quot;\r\n\r\n4. Change two properties: &quot;useSSL&quot; and &quot;allowPublicKeyRetrieval&quot;\r\n\r\n4. Set their values to  &quot;false&quot; and &quot;true&quot; by double-clicking on the &quot;value&quot; column","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>For <strong>DBeaver</strong> users:</p>\n<ol>\n<li><p>Right-click your connection, choose &quot;Edit Connection&quot;</p>\n</li>\n<li><p>On the &quot;Connection settings&quot; screen (main screen), click on &quot;Edit Driver Settings&quot;</p>\n</li>\n<li><p>Click on &quot;Driver properties&quot;</p>\n</li>\n<li><p>Change two properties: &quot;useSSL&quot; and &quot;allowPublicKeyRetrieval&quot;</p>\n</li>\n<li><p>Set their values to  &quot;false&quot; and &quot;true&quot; by double-clicking on the &quot;value&quot; column</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13723512,"reputation":869,"user_id":9902875,"display_name":"Arun s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582190779,"creation_date":1582190779,"answer_id":60316596,"question_id":50379839,"body_markdown":"I was also facing such an issue while dockerizing our existing application. The solution si to add **allowPublicKeyRetrieval** connection option of MySQL with a value of **true** to the JDBC connection string.\r\nIf that is not working , try adding **useSSL** option to **false** as well .\r\n\r\nThe resultant string would look like this : \r\n\r\n    jdbc:mysql://&lt;database server ip&gt;:3306/databaseName?allowPublicKeyRetrieval=true&amp;useSSL=false\r\n\r\n","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>I was also facing such an issue while dockerizing our existing application. The solution si to add <strong>allowPublicKeyRetrieval</strong> connection option of MySQL with a value of <strong>true</strong> to the JDBC connection string.\nIf that is not working , try adding <strong>useSSL</strong> option to <strong>false</strong> as well .</p>\n\n<p>The resultant string would look like this : </p>\n\n<pre><code>jdbc:mysql://&lt;database server ip&gt;:3306/databaseName?allowPublicKeyRetrieval=true&amp;useSSL=false\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8520391,"reputation":190,"user_id":6387539,"display_name":"Martin Karari"},"score":0,"creation_date":1638644797,"post_id":62342418,"comment_id":124144866,"body_markdown":"I logged into mysql via terminal and tried again and it worked.","body":"I logged into mysql via terminal and tried again and it worked."}],"tags":[],"owner":{"account_id":7398529,"reputation":121,"user_id":5629666,"display_name":"Vinod Kumar K V"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1591957940,"creation_date":1591957940,"answer_id":62342418,"question_id":50379839,"body_markdown":"First of all, please make sure your Database server is up and running. \r\nI was getting the same error, after trying all the answers listed here I found out that my Database server was not running.\r\n\r\nYou can check the same from MySQL Workbench, or Command line using \r\n\r\n    mysql -u USERNAME -p\r\n\r\nThis sounds obvious, but many times we assume that Database server is up and running all the time, especially when we are working on our local machine, when we restart/shutdown the machine, Database server will be shutdown automatically.","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>First of all, please make sure your Database server is up and running. \nI was getting the same error, after trying all the answers listed here I found out that my Database server was not running.</p>\n\n<p>You can check the same from MySQL Workbench, or Command line using </p>\n\n<pre><code>mysql -u USERNAME -p\n</code></pre>\n\n<p>This sounds obvious, but many times we assume that Database server is up and running all the time, especially when we are working on our local machine, when we restart/shutdown the machine, Database server will be shutdown automatically.</p>\n"},{"tags":[],"owner":{"account_id":6398919,"reputation":194,"user_id":4962360,"display_name":"HashanR"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1599759388,"creation_date":1599759388,"answer_id":63834960,"question_id":50379839,"body_markdown":"This also can be happened due to wrong user name or password. \r\nAs solutions I&#39;ve added  `allowPublicKeyRetrieval=true&amp;useSSL=false` part but still I got error then I checked the password and it was wrong.","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>This also can be happened due to wrong user name or password.\nAs solutions I've added  <code>allowPublicKeyRetrieval=true&amp;useSSL=false</code> part but still I got error then I checked the password and it was wrong.</p>\n"},{"comments":[{"owner":{"account_id":4433938,"reputation":3195,"user_id":3610310,"accept_rate":100,"display_name":"jAC"},"score":2,"creation_date":1616431871,"post_id":65168110,"comment_id":117994852,"body_markdown":"this is what worked for me on the latest version of DB Beaver","body":"this is what worked for me on the latest version of DB Beaver"},{"owner":{"account_id":3596089,"reputation":2081,"user_id":3000749,"display_name":"Chandima"},"score":1,"creation_date":1621154030,"post_id":65168110,"comment_id":119404778,"body_markdown":"Great. It worked with DBeaver version 21.0.4","body":"Great. It worked with DBeaver version 21.0.4"},{"owner":{"account_id":117108,"reputation":1849,"user_id":306819,"accept_rate":65,"display_name":"siddhusingh"},"score":0,"creation_date":1632993659,"post_id":65168110,"comment_id":122645248,"body_markdown":"this solved my problem","body":"this solved my problem"},{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1639057481,"post_id":65168110,"comment_id":124254721,"body_markdown":"This should be the answer for DBeaver users.","body":"This should be the answer for DBeaver users."},{"owner":{"account_id":6046906,"reputation":1276,"user_id":5113030,"display_name":"Artfaith"},"score":0,"creation_date":1639817481,"post_id":65168110,"comment_id":124449270,"body_markdown":"The main interest is that it seems the SSL option is even required for a `127.0.0.1:3036` local plain SSH tunneled connection.","body":"The main interest is that it seems the SSL option is even required for a <code>127.0.0.1:3036</code> local plain SSH tunneled connection."},{"owner":{"account_id":4718218,"reputation":113,"user_id":3816852,"display_name":"UnnameDSoS"},"score":0,"creation_date":1641394191,"post_id":65168110,"comment_id":124793733,"body_markdown":"for DBeaver 21.3 this one worked for me without the need to change connection string ...","body":"for DBeaver 21.3 this one worked for me without the need to change connection string ..."},{"owner":{"account_id":2471365,"reputation":551,"user_id":2153128,"accept_rate":52,"display_name":"Uttam Panara"},"score":0,"creation_date":1699336907,"post_id":65168110,"comment_id":136515582,"body_markdown":"It&#39;s works me for localhost connection","body":"It&#39;s works me for localhost connection"}],"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"comment_count":7,"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1607258175,"creation_date":1607258175,"answer_id":65168110,"question_id":50379839,"body_markdown":"When doing this from **DBeaver** I had to go to &quot;Connection settings&quot; -&gt; &quot;SSL&quot; tab and then : \r\n\r\n - uncheck the &quot;Verify server certificate&quot; \r\n - check the &quot;Allow public key retrival&quot;\r\n\r\nThis is how it looks like.\r\n[![DBeaver configuration][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/mbL65.png\r\n\r\nNote that this is suitable for local development only.","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>When doing this from <strong>DBeaver</strong> I had to go to &quot;Connection settings&quot; -&gt; &quot;SSL&quot; tab and then :</p>\n<ul>\n<li>uncheck the &quot;Verify server certificate&quot;</li>\n<li>check the &quot;Allow public key retrival&quot;</li>\n</ul>\n<p>This is how it looks like.\n<a href=\"https://i.stack.imgur.com/mbL65.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mbL65.png\" alt=\"DBeaver configuration\" /></a></p>\n<p>Note that this is suitable for local development only.</p>\n"},{"tags":[],"owner":{"account_id":959866,"reputation":25919,"user_id":984471,"display_name":"Manohar Reddy Poreddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620039541,"creation_date":1620039541,"answer_id":67367808,"question_id":50379839,"body_markdown":"---\r\n\r\n&gt; Setting `Server Time Zone` to my local place, fixed the issue.\r\n\r\n---\r\n\r\n[![ServerTimeZone][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cr3Tx.png","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<hr />\n<blockquote>\n<p>Setting <code>Server Time Zone</code> to my local place, fixed the issue.</p>\n</blockquote>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/Cr3Tx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cr3Tx.png\" alt=\"ServerTimeZone\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3048377,"reputation":3402,"user_id":2583490,"accept_rate":92,"display_name":"Savrige"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626459762,"creation_date":1626459762,"answer_id":68413682,"question_id":50379839,"body_markdown":"My problem was in `pom.xml` (spring boot). \r\nMy pom.xml had two dependencies entries for different databases. Make sure to keep only the MySQL dependency and remove any other database dependency entry.\r\n","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>My problem was in <code>pom.xml</code> (spring boot).\nMy pom.xml had two dependencies entries for different databases. Make sure to keep only the MySQL dependency and remove any other database dependency entry.</p>\n"},{"tags":[],"owner":{"account_id":9530934,"reputation":221,"user_id":7082648,"display_name":"Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1631199189,"creation_date":1631199189,"answer_id":69120404,"question_id":50379839,"body_markdown":"Another way, on DBeaver.\r\n\r\nYou can edit the connection of a database, go to SSL tab in connection settings. There&#39;s a checkbox &quot;allow public key retrieval&quot; mark it as true. That&#39;ll sove the issue.\r\n","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>Another way, on DBeaver.</p>\n<p>You can edit the connection of a database, go to SSL tab in connection settings. There's a checkbox &quot;allow public key retrieval&quot; mark it as true. That'll sove the issue.</p>\n"},{"tags":[],"owner":{"account_id":1994047,"reputation":750,"user_id":1787363,"display_name":"Yoseph"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636421231,"creation_date":1636421231,"answer_id":69891774,"question_id":50379839,"body_markdown":"In MySQL 8.0 the default authentication plugin was changed from mysql_native_password to caching_sha2_password. \r\nSee https://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html#upgrade-caching-sha2-password for more information about this change.\r\n\r\nWhat that means is that in order to use caching_sha2_password the connection must do one of the following:\r\n\r\n - use a secure connection (useSSL=true)\r\n - use an unencrypted connection that supports password exchange using an RSA key pair (useSSL=false and additional configuration parameters - see https://dev.mysql.com/doc/refman/8.0/en/caching-sha2-pluggable-authentication.html)\r\n\r\nYou have a few options:\r\n\r\n - ALTER the users to use the mysql_native_password plugin (like how it was doing historically and will also work with older clients / connections which don&#39;t support caching_sha2_password)\r\n - useSSL=true \r\n - useSSL=false and configure public key retrieval (this doesn&#39;t mean using allowPublicKeyRetrieval=true which would avoid the error - but defeats the objective of this extra security and is slow - it does mean using something like server-public-key-path to point to the client side copy of the public key)","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>In MySQL 8.0 the default authentication plugin was changed from mysql_native_password to caching_sha2_password.\nSee <a href=\"https://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html#upgrade-caching-sha2-password\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html#upgrade-caching-sha2-password</a> for more information about this change.</p>\n<p>What that means is that in order to use caching_sha2_password the connection must do one of the following:</p>\n<ul>\n<li>use a secure connection (useSSL=true)</li>\n<li>use an unencrypted connection that supports password exchange using an RSA key pair (useSSL=false and additional configuration parameters - see <a href=\"https://dev.mysql.com/doc/refman/8.0/en/caching-sha2-pluggable-authentication.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/caching-sha2-pluggable-authentication.html</a>)</li>\n</ul>\n<p>You have a few options:</p>\n<ul>\n<li>ALTER the users to use the mysql_native_password plugin (like how it was doing historically and will also work with older clients / connections which don't support caching_sha2_password)</li>\n<li>useSSL=true</li>\n<li>useSSL=false and configure public key retrieval (this doesn't mean using allowPublicKeyRetrieval=true which would avoid the error - but defeats the objective of this extra security and is slow - it does mean using something like server-public-key-path to point to the client side copy of the public key)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13898671,"reputation":504,"user_id":10034762,"display_name":"Duc Toan Pham"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1645002920,"creation_date":1645002920,"answer_id":71139026,"question_id":50379839,"body_markdown":"I updated this parameter when I faced the issue of &quot;public-key-retrieval-is-not-allowed&quot; with root account.\r\n\r\n[![DBeaver update this parameter][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xxj11.png","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>I updated this parameter when I faced the issue of &quot;public-key-retrieval-is-not-allowed&quot; with root account.</p>\n<p><a href=\"https://i.stack.imgur.com/xxj11.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xxj11.png\" alt=\"DBeaver update this parameter\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18314899,"reputation":680,"user_id":13336872,"display_name":"Damika"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1654187002,"creation_date":1654187002,"answer_id":72479366,"question_id":50379839,"body_markdown":"    spring.datasource.url=jdbc:mysql://localhost:3306/database?createDatabaseIfNotExist=true&amp;allowPublicKeyRetrieval=true&amp;useSSL=false\r\n\r\nYou can insert this line to your applications.properties file and this means,\r\n\r\n- `spring.datasource.url=jdbc:mysql://localhost:3306/` This one uses mysql as the database service. I think this can changed by using relavent name and the port of your database name.\r\n- `database?createDatabaseIfNotExist=true` = use the database named database if you haven&#39;t already make a database like that, make a new one.\r\n- `allowPublicKeyRetrieval=true` = to allow the client to automatically request the public key from the server. (This part might be additional)\r\n- `useSSL=false` = This will disable SSL and also suppress the SSL errors\r\n\r\nFurthermore, be alert about the `spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect` property in the same file.\r\n\r\nFinally check whether you&#39;ve added following dependency in dependencies in your pom.xml file.\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.23&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/database?createDatabaseIfNotExist=true&amp;allowPublicKeyRetrieval=true&amp;useSSL=false\n</code></pre>\n<p>You can insert this line to your applications.properties file and this means,</p>\n<ul>\n<li><code>spring.datasource.url=jdbc:mysql://localhost:3306/</code> This one uses mysql as the database service. I think this can changed by using relavent name and the port of your database name.</li>\n<li><code>database?createDatabaseIfNotExist=true</code> = use the database named database if you haven't already make a database like that, make a new one.</li>\n<li><code>allowPublicKeyRetrieval=true</code> = to allow the client to automatically request the public key from the server. (This part might be additional)</li>\n<li><code>useSSL=false</code> = This will disable SSL and also suppress the SSL errors</li>\n</ul>\n<p>Furthermore, be alert about the <code>spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect</code> property in the same file.</p>\n<p>Finally check whether you've added following dependency in dependencies in your pom.xml file.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.23&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16018376,"reputation":338,"user_id":11560443,"display_name":"Reshnu chandran"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1667050067,"creation_date":1667050067,"answer_id":74245704,"question_id":50379839,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dB23y.png\r\n\r\nOpen DBeaver-&gt;Edit connection-&gt;find driver properties-&gt;`allowPublicKeyRetrieval=true` and `useSSl=true`","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p><a href=\"https://i.stack.imgur.com/dB23y.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dB23y.png\" alt=\"enter image description here\" /></a></p>\n<p>Open DBeaver-&gt;Edit connection-&gt;find driver properties-&gt;<code>allowPublicKeyRetrieval=true</code> and <code>useSSl=true</code></p>\n"},{"tags":[],"owner":{"account_id":7349206,"reputation":791,"user_id":5595994,"accept_rate":96,"display_name":"Hashmatullah Noorzai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682351531,"creation_date":1682351531,"answer_id":76093778,"question_id":50379839,"body_markdown":"For folks that are using a .xml file to store their database connection details, modifying your jdbcUrl to below should make your connection from your test tomcat server to your database valid again:\r\n\r\n    jdbcUrl=&quot;jdbc:mysql://localhost:3306/DB_NAME?autoReconnect=true&amp;amp;allowPublicKeyRetrieval=true&amp;amp;useSSL=false&quot;","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>For folks that are using a .xml file to store their database connection details, modifying your jdbcUrl to below should make your connection from your test tomcat server to your database valid again:</p>\n<pre><code>jdbcUrl=&quot;jdbc:mysql://localhost:3306/DB_NAME?autoReconnect=true&amp;amp;allowPublicKeyRetrieval=true&amp;amp;useSSL=false&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":318122,"reputation":4169,"user_id":635160,"accept_rate":90,"display_name":"Gabriel Fair"},"score":0,"creation_date":1696257204,"post_id":76339271,"comment_id":136126423,"body_markdown":"This should be the selected answer. Thank you for showing us how to do this correctly","body":"This should be the selected answer. Thank you for showing us how to do this correctly"}],"tags":[],"owner":{"account_id":6041854,"reputation":685,"user_id":9641952,"display_name":"Volex"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685378954,"creation_date":1685091744,"answer_id":76339271,"question_id":50379839,"body_markdown":"I managed to connect to MySQL using SSL through DBeaver with ```allowPublicKeyRetrieval=false``` and ```useSSL=true``` driver settings, which is preferred solution from security perspective, so I wanted to share my solution here.\r\n\r\nTo establish a successful SSL connection, you need to provide the correct paths to the certificates in your client (e.g., DBeaver). \r\n\r\nMySQL generates the certificates by default, so you don&#39;t need to generate them manually.\r\n\r\nThey are located in the `/var/lib/mysql` directory.\r\n\r\nThis is from official MySQL documentation:\r\n\r\n&gt; Automatic SSL and RSA File Generation\r\n&gt; \r\n&gt; For MySQL distributions compiled using OpenSSL, the MySQL server has\r\n&gt; the capability of automatically generating missing SSL and RSA files\r\n&gt; at startup. The auto_generate_certs,\r\n&gt; sha256_password_auto_generate_rsa_keys, and\r\n&gt; caching_sha2_password_auto_generate_rsa_keys system variables control\r\n&gt; automatic generation of these files. These variables are enabled by\r\n&gt; default. They can be enabled at startup and inspected but not set at\r\n&gt; runtime.\r\n&gt; \r\n&gt; At startup, the server automatically generates server-side and\r\n&gt; client-side SSL certificate and key files in the data directory if the\r\n&gt; auto_generate_certs system variable is enabled, no SSL options other\r\n&gt; than --ssl are specified, and the server-side SSL files are missing\r\n&gt; from the data directory. These files enable encrypted client\r\n&gt; connections using SSL; see Section 6.3.1, “Configuring MySQL to Use\r\n&gt; Encrypted Connections”.\r\n\r\nIf you can&#39;t find the certificates there, it&#39;s likely that you have modified the default behavior of MySQL using system variables. In that case, please refer to the documentation to learn how to resolve this issue.\r\n\r\nThe required certificate files for SSL connection are as follows:\r\n\r\n- CA Certificate: `/var/lib/mysql/ca.pem`\r\n- Client Certificate: `/var/lib/mysql/client-cert.pem`\r\n- Client Private Key: `/var/lib/mysql/client-key.pem`\r\n\r\nBy providing these paths in the SSL configuration of your client application, you should be able to connect to MySQL using SSL successfully.\r\n\r\nI hope this helps others who might encounter similar SSL connection issues with MySQL and DBeaver.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tPqSQ.png\r\n\r\n\r\nP.S If you use Docker Image, you need to copy certificates and key from docker container to your local computer, so MySQL client (e.g DBeaver) could find them there.","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>I managed to connect to MySQL using SSL through DBeaver with <code>allowPublicKeyRetrieval=false</code> and <code>useSSL=true</code> driver settings, which is preferred solution from security perspective, so I wanted to share my solution here.</p>\n<p>To establish a successful SSL connection, you need to provide the correct paths to the certificates in your client (e.g., DBeaver).</p>\n<p>MySQL generates the certificates by default, so you don't need to generate them manually.</p>\n<p>They are located in the <code>/var/lib/mysql</code> directory.</p>\n<p>This is from official MySQL documentation:</p>\n<blockquote>\n<p>Automatic SSL and RSA File Generation</p>\n<p>For MySQL distributions compiled using OpenSSL, the MySQL server has\nthe capability of automatically generating missing SSL and RSA files\nat startup. The auto_generate_certs,\nsha256_password_auto_generate_rsa_keys, and\ncaching_sha2_password_auto_generate_rsa_keys system variables control\nautomatic generation of these files. These variables are enabled by\ndefault. They can be enabled at startup and inspected but not set at\nruntime.</p>\n<p>At startup, the server automatically generates server-side and\nclient-side SSL certificate and key files in the data directory if the\nauto_generate_certs system variable is enabled, no SSL options other\nthan --ssl are specified, and the server-side SSL files are missing\nfrom the data directory. These files enable encrypted client\nconnections using SSL; see Section 6.3.1, “Configuring MySQL to Use\nEncrypted Connections”.</p>\n</blockquote>\n<p>If you can't find the certificates there, it's likely that you have modified the default behavior of MySQL using system variables. In that case, please refer to the documentation to learn how to resolve this issue.</p>\n<p>The required certificate files for SSL connection are as follows:</p>\n<ul>\n<li>CA Certificate: <code>/var/lib/mysql/ca.pem</code></li>\n<li>Client Certificate: <code>/var/lib/mysql/client-cert.pem</code></li>\n<li>Client Private Key: <code>/var/lib/mysql/client-key.pem</code></li>\n</ul>\n<p>By providing these paths in the SSL configuration of your client application, you should be able to connect to MySQL using SSL successfully.</p>\n<p>I hope this helps others who might encounter similar SSL connection issues with MySQL and DBeaver.</p>\n<p><a href=\"https://i.stack.imgur.com/tPqSQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tPqSQ.png\" alt=\"enter image description here\" /></a></p>\n<p>P.S If you use Docker Image, you need to copy certificates and key from docker container to your local computer, so MySQL client (e.g DBeaver) could find them there.</p>\n"}],"owner":{"account_id":13588641,"reputation":4687,"user_id":9802634,"display_name":"danny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675064,"favorite_count":0,"down_vote_count":0,"up_vote_count":452,"accepted_answer_id":50438872,"answer_count":25,"score":452,"last_activity_date":1695404087,"creation_date":1526504539,"question_id":50379839,"body_markdown":"I try to connect MySQL database with Java using connector 8.0.11.   Everything seems to be OK, but I get this exception:\r\n\r\n    Exception in thread &quot;main&quot; java.sql.SQLNonTransientConnectionException: Public Key Retrieval is not allowed at\r\n         com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:108) at \r\n         com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:95) at\r\n         com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) at     \r\n         com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:862) at \r\n         com.mysql.cj.jdbc.ConnectionImpl.(ConnectionImpl.java:444) at\r\n         com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:230) at\r\n         com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:226) at\r\n         com.mysql.cj.jdbc.MysqlDataSource.getConnection(MysqlDataSource.java:438) at\r\n         com.mysql.cj.jdbc.MysqlDataSource.getConnection(MysqlDataSource.java:146) at\r\n         com.mysql.cj.jdbc.MysqlDataSource.getConnection(MysqlDataSource.java:119) at\r\n         ConnectionManager.getConnection(ConnectionManager.java:28) at\r\n         Main.main(Main.java:8)\r\n\r\nHere is my Connection Manager class:\r\n\r\n    public class ConnectionManager {\r\n    \r\n        public static final String serverTimeZone = &quot;UTC&quot;;\r\n        public static final String serverName = &quot;localhost&quot;;\r\n        public static final String databaseName =&quot;biblioteka&quot;;\r\n        public static final int portNumber = 3306;\r\n        public static final String user = &quot;anyroot&quot;;\r\n        public static final String password = &quot;anyroot&quot;;\r\n        \r\n        public static Connection getConnection() throws SQLException {\r\n        \r\n            MysqlDataSource dataSource = new MysqlDataSource();\r\n        \r\n            dataSource.setUseSSL( false );\r\n            dataSource.setServerTimezone( serverTimeZone );\r\n            dataSource.setServerName( serverName );\r\n            dataSource.setDatabaseName( databaseName );\r\n            dataSource.setPortNumber( portNumber );\r\n            dataSource.setUser( user );\r\n            dataSource.setPassword( password );\r\n            \r\n            return dataSource.getConnection();\r\n        }\r\n    }\r\n","title":"Connection Java - MySQL : Public Key Retrieval is not allowed","body":"<p>I try to connect MySQL database with Java using connector 8.0.11.   Everything seems to be OK, but I get this exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.sql.SQLNonTransientConnectionException: Public Key Retrieval is not allowed at\n     com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:108) at \n     com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:95) at\n     com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) at     \n     com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:862) at \n     com.mysql.cj.jdbc.ConnectionImpl.(ConnectionImpl.java:444) at\n     com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:230) at\n     com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:226) at\n     com.mysql.cj.jdbc.MysqlDataSource.getConnection(MysqlDataSource.java:438) at\n     com.mysql.cj.jdbc.MysqlDataSource.getConnection(MysqlDataSource.java:146) at\n     com.mysql.cj.jdbc.MysqlDataSource.getConnection(MysqlDataSource.java:119) at\n     ConnectionManager.getConnection(ConnectionManager.java:28) at\n     Main.main(Main.java:8)\n</code></pre>\n<p>Here is my Connection Manager class:</p>\n<pre><code>public class ConnectionManager {\n\n    public static final String serverTimeZone = &quot;UTC&quot;;\n    public static final String serverName = &quot;localhost&quot;;\n    public static final String databaseName =&quot;biblioteka&quot;;\n    public static final int portNumber = 3306;\n    public static final String user = &quot;anyroot&quot;;\n    public static final String password = &quot;anyroot&quot;;\n    \n    public static Connection getConnection() throws SQLException {\n    \n        MysqlDataSource dataSource = new MysqlDataSource();\n    \n        dataSource.setUseSSL( false );\n        dataSource.setServerTimezone( serverTimeZone );\n        dataSource.setServerName( serverName );\n        dataSource.setDatabaseName( databaseName );\n        dataSource.setPortNumber( portNumber );\n        dataSource.setUser( user );\n        dataSource.setPassword( password );\n        \n        return dataSource.getConnection();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":4,"creation_date":1695388354,"post_id":77157917,"comment_id":136021608,"body_markdown":"What makes you think that the default should be true before false? Generally default sorting orders are ascending, so false (0) then true (1).","body":"What makes you think that the default should be true before false? Generally default sorting orders are ascending, so false (0) then true (1)."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1695388673,"post_id":77157917,"comment_id":136021671,"body_markdown":"You are not comparing false and true but 1 and 0. 0 comes first and means not isRaid.","body":"You are not comparing false and true but 1 and 0. 0 comes first and means not isRaid."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1695388706,"post_id":77157917,"comment_id":136021679,"body_markdown":"*_isRaid = isRaid;* The only time you should see underscores in Java is in the names of constants (or maybe in digit separation). There&#39;s also [no need](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) to invent different names for ctor parameters. `this.isRaid = isRaid` is all that&#39;s needed","body":"<i>_isRaid = isRaid;</i> The only time you should see underscores in Java is in the names of constants (or maybe in digit separation). There&#39;s also <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">no need</a> to invent different names for ctor parameters. <code>this.isRaid = isRaid</code> is all that&#39;s needed"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1695389013,"post_id":77157917,"comment_id":136021745,"body_markdown":"And Comparable Boolean orders false before true","body":"And Comparable Boolean orders false before true"},{"owner":{"account_id":29509417,"reputation":41,"user_id":22614791,"display_name":"edith finch"},"score":0,"creation_date":1695389944,"post_id":77157917,"comment_id":136021955,"body_markdown":"g00se thanks for clarify that, i did not know.","body":"g00se thanks for clarify that, i did not know."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700228803,"post_id":77157917,"comment_id":136631921,"body_markdown":"@JoopEggen they&#39;re not comparing 1 and 0, but actual true and false (without converting to int). See [my earlier comment](https://stackoverflow.com/questions/77157917/why-comparator-comparing-in-boolean-value-return-reversed-by-default/77157949#comment136630961_77157949)","body":"@JoopEggen they&#39;re not comparing 1 and 0, but actual true and false (without converting to int). See <a href=\"https://stackoverflow.com/questions/77157917/why-comparator-comparing-in-boolean-value-return-reversed-by-default/77157949#comment136630961_77157949\">my earlier comment</a>"}],"answers":[{"comments":[{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1695498820,"post_id":77157949,"comment_id":136033524,"body_markdown":"thanks @basil-bourque for had improved my answer","body":"thanks @basil-bourque for had improved my answer"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1700223590,"post_id":77157949,"comment_id":136630961,"body_markdown":"To be nit-picky, it doesn&#39;t evaluate false to 0 and true to 1. It simply looks at the boolean values as boolean values, and does not attempt to convert them to int. The JDK implements `Boolean::compare` as `return (x == y) ? 0 : (x ? 1 : -1);` The only ints in this implementation are the return values.","body":"To be nit-picky, it doesn&#39;t evaluate false to 0 and true to 1. It simply looks at the boolean values as boolean values, and does not attempt to convert them to int. The JDK implements <code>Boolean::compare</code> as <code>return (x == y) ? 0 : (x ? 1 : -1);</code> The only ints in this implementation are the return values."}],"tags":[],"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695403781,"creation_date":1695388501,"answer_id":77157949,"question_id":77157917,"body_markdown":"`Comparator.comparing()` performs an ordering by evaluating `false` to `0` and `true` to `1`. So, `false` comes first. \r\n\r\nYou should specify your custom `Comparator` in order to change the default comparing ordering. \r\n\r\nCall [`Comparator::reversed`][1]. The `true` values will sort first, before the `false` values. \r\n\r\n    Collections.sort( list,  Comparator.comparing( Monster::isRaid ).reversed() );\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Comparator.html#reversed()","title":"Why Comparator.comparing() in boolean value return reversed() by default?","body":"<p><code>Comparator.comparing()</code> performs an ordering by evaluating <code>false</code> to <code>0</code> and <code>true</code> to <code>1</code>. So, <code>false</code> comes first.</p>\n<p>You should specify your custom <code>Comparator</code> in order to change the default comparing ordering.</p>\n<p>Call <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Comparator.html#reversed()\" rel=\"nofollow noreferrer\"><code>Comparator::reversed</code></a>. The <code>true</code> values will sort first, before the <code>false</code> values.</p>\n<pre><code>Collections.sort( list,  Comparator.comparing( Monster::isRaid ).reversed() );\n</code></pre>\n"}],"owner":{"account_id":29509417,"reputation":41,"user_id":22614791,"display_name":"edith finch"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1695403781,"creation_date":1695388283,"question_id":77157917,"body_markdown":"I wrote a code using Comparator.comparing() and i provide a method that return a boolean. Sorting should bring on top (first element) all that return true. But the Comparator.comparing() bring on top those that give false. I need to use the reversed() to make it work properly.\r\n\r\nI did another test.\r\n\r\n\r\n```\r\nCollections.sort(list, Comparator.comparing(s -&gt; s.isRaid() ? 1 : 0));\r\n```\r\n\r\nAnd this bring on top the monsters that are not raid. Why this happen?\r\n\r\n\r\n```\r\npublic static void main(final String[] args)\r\n\t{\r\n\t\tfinal List&lt;Monster&gt; list = new ArrayList&lt;&gt;();\r\n\r\n\t\tfor (int i = 0; i &lt; 15; i++)\r\n\t\t{\r\n\t\t\tlist.add(new Monster(&quot;Name&quot; + i, Rnd.nextDouble() &lt; 0.20));\r\n\t\t}\r\n\r\n\t\tCollections.sort(list, Comparator.comparing(Monster::isRaid));\r\n\r\n\t\tSystem.out.println(&quot;LEADER -&gt; &quot; + list.get(0).getName() + &quot; &quot; + list.get(0).isRaid());\r\n\r\n\t\tfor (final Monster monster : list)\r\n\t\t{\r\n\t\t\tSystem.out.println(monster.getName() + &quot; &quot; + monster.isRaid());\r\n\t\t}\r\n\t}\r\n\r\n\tstatic class Monster\r\n\t{\r\n\t\tprivate final String _name;\r\n\t\tprivate final boolean _isRaid;\r\n\r\n\t\tpublic Monster(final String name, final boolean isRaid)\r\n\t\t{\r\n\t\t\t_name = name;\r\n\t\t\t_isRaid = isRaid;\r\n\t\t}\r\n\r\n\t\tpublic String getName()\r\n\t\t{\r\n\t\t\treturn _name;\r\n\t\t}\r\n\r\n\t\tpublic boolean isRaid()\r\n\t\t{\r\n\t\t\treturn _isRaid;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nResult of my code:\r\n\r\n```\r\nLEADER -&gt; Name0 false\r\nName0 false\r\nName1 false\r\nName2 false\r\nName3 false\r\nName4 false\r\nName5 false\r\nName6 false\r\nName7 false\r\nName8 false\r\nName9 false\r\nName10 false\r\nName11 false\r\nName13 false\r\nName12 true\r\nName14 true\r\n```\r\n\r\nWhile the raid (entry 12 and 14) should be on top.","title":"Why Comparator.comparing() in boolean value return reversed() by default?","body":"<p>I wrote a code using Comparator.comparing() and i provide a method that return a boolean. Sorting should bring on top (first element) all that return true. But the Comparator.comparing() bring on top those that give false. I need to use the reversed() to make it work properly.</p>\n<p>I did another test.</p>\n<pre><code>Collections.sort(list, Comparator.comparing(s -&gt; s.isRaid() ? 1 : 0));\n</code></pre>\n<p>And this bring on top the monsters that are not raid. Why this happen?</p>\n<pre><code>public static void main(final String[] args)\n    {\n        final List&lt;Monster&gt; list = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; 15; i++)\n        {\n            list.add(new Monster(&quot;Name&quot; + i, Rnd.nextDouble() &lt; 0.20));\n        }\n\n        Collections.sort(list, Comparator.comparing(Monster::isRaid));\n\n        System.out.println(&quot;LEADER -&gt; &quot; + list.get(0).getName() + &quot; &quot; + list.get(0).isRaid());\n\n        for (final Monster monster : list)\n        {\n            System.out.println(monster.getName() + &quot; &quot; + monster.isRaid());\n        }\n    }\n\n    static class Monster\n    {\n        private final String _name;\n        private final boolean _isRaid;\n\n        public Monster(final String name, final boolean isRaid)\n        {\n            _name = name;\n            _isRaid = isRaid;\n        }\n\n        public String getName()\n        {\n            return _name;\n        }\n\n        public boolean isRaid()\n        {\n            return _isRaid;\n        }\n    }\n</code></pre>\n<p>Result of my code:</p>\n<pre><code>LEADER -&gt; Name0 false\nName0 false\nName1 false\nName2 false\nName3 false\nName4 false\nName5 false\nName6 false\nName7 false\nName8 false\nName9 false\nName10 false\nName11 false\nName13 false\nName12 true\nName14 true\n</code></pre>\n<p>While the raid (entry 12 and 14) should be on top.</p>\n"},{"tags":["java","grpc","guava"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1695226486,"post_id":77144071,"comment_id":135997169,"body_markdown":"Are you looking for [`Context.currentContextExecutor`](https://grpc.github.io/grpc-java/javadoc/io/grpc/Context.html#currentContextExecutor(java.util.concurrent.Executor)) ?","body":"Are you looking for <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/Context.html#currentContextExecutor(java.util.concurrent.Executor)\" rel=\"nofollow noreferrer\"><code>Context.currentContextExecutor</code></a> ?"},{"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"score":0,"creation_date":1695226728,"post_id":77144071,"comment_id":135997221,"body_markdown":"I don&#39;t think so, unless there&#39;s a way to associate that executor into an arbitrary executor service I was given. I want something which, given a service, returns a wrapping service. What I&#39;d hoped to have seen is `Context.currentContextExecutorService(ExecutorService delegate)`","body":"I don&#39;t think so, unless there&#39;s a way to associate that executor into an arbitrary executor service I was given. I want something which, given a service, returns a wrapping service. What I&#39;d hoped to have seen is <code>Context.currentContextExecutorService(ExecutorService delegate)</code>"}],"answers":[{"comments":[{"owner":{"account_id":14008,"reputation":3782,"user_id":28465,"display_name":"Chris Povirk"},"score":0,"creation_date":1695302428,"post_id":77146269,"comment_id":136008445,"body_markdown":"When you say &quot;Implement other methods of `AbstractExecutorService` to trivially call the delegate instance,&quot; are you saying, for example, to implement `submit(Callable&lt;T&gt; task)` to `return delegate.submit(task)`? If so, I don&#39;t think that any wrapping would take place. Alternatively, if you mean to implement it with `return delegate.submit(Context.current().wrap(task))`, then I think you can get by without most of the code here. I&#39;ve left another answer with the approach that I&#39;m thinking of.","body":"When you say &quot;Implement other methods of <code>AbstractExecutorService</code> to trivially call the delegate instance,&quot; are you saying, for example, to implement <code>submit(Callable&lt;T&gt; task)</code> to <code>return delegate.submit(task)</code>? If so, I don&#39;t think that any wrapping would take place. Alternatively, if you mean to implement it with <code>return delegate.submit(Context.current().wrap(task))</code>, then I think you can get by without most of the code here. I&#39;ve left another answer with the approach that I&#39;m thinking of."},{"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"score":0,"creation_date":1695403128,"post_id":77146269,"comment_id":136024623,"body_markdown":"No, the other methods are the ones that don&#39;t use tasks at all. `AbstractExecutorService ` takes care of `submit()` and other methods, and only leaves `execute()` needing some thought.","body":"No, the other methods are the ones that don&#39;t use tasks at all. <code>AbstractExecutorService </code> takes care of <code>submit()</code> and other methods, and only leaves <code>execute()</code> needing some thought."},{"owner":{"account_id":14008,"reputation":3782,"user_id":28465,"display_name":"Chris Povirk"},"score":0,"creation_date":1695495257,"post_id":77146269,"comment_id":136033199,"body_markdown":"Ah, thanks, now I get it. My only concern now would be if a caller managed to wrap a `GrpcPropagatingExecutorService` in a `GrpcPropagatingExecutorService`: Then the inner executor&#39;s `execute` method would neglect to wrap the input because it sees that it&#39;s already been wrapped by the outer executor—but possibly with a different context. That might or might not be a realistic problem.","body":"Ah, thanks, now I get it. My only concern now would be if a caller managed to wrap a <code>GrpcPropagatingExecutorService</code> in a <code>GrpcPropagatingExecutorService</code>: Then the inner executor&#39;s <code>execute</code> method would neglect to wrap the input because it sees that it&#39;s already been wrapped by the outer executor—but possibly with a different context. That might or might not be a realistic problem."}],"tags":[],"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695403216,"creation_date":1695249878,"answer_id":77146269,"question_id":77144071,"body_markdown":"So far the best answer I can come up with is the alternate suggestion from the question. It seems to work and I can&#39;t see an obvious way why it&#39;s wrong:\r\n\r\n1. Create subclass of `FutureTask` and have it wrap the callable/runnable in the constructor (important to wrap here and not when invoked).\r\n\r\n```java\r\n  private static final class GrpcPropagatingTask&lt;V&gt; extends FutureTask&lt;V&gt; {\r\n    public GrpcPropagatingTask(Callable&lt;V&gt; callable) {\r\n      super(Context.current().wrap(callable));\r\n    }\r\n\r\n    public GrpcPropagatingTask(Runnable runnable, V result) {\r\n      super(Context.current().wrap(runnable), result);\r\n    }\r\n  }\r\n```\r\n\r\n2. Then create a subclass of `AbstractExecutorService` with a `delegate`, and override the `newTaskFor()` methods:\r\n\r\n```java\r\n  private final ExecutorService delegate;\r\n\r\n  private GrpcPropagatingExecutorService(ExecutorService delegate) {\r\n    this.delegate = delegate;\r\n  }\r\n\r\n  @Override\r\n  protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Runnable runnable, T value) {\r\n    return new GrpcPropagatingTask&lt;&gt;(runnable, value);\r\n  }\r\n\r\n  @Override\r\n  protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Callable&lt;T&gt; callable) {\r\n    return new GrpcPropagatingTask&lt;&gt;(callable);\r\n  }\r\n```\r\n\r\n3. Then implement `execute()` to conditionally wrap `Runnable` instances:\r\n\r\n```java\r\n  @Override\r\n  public void execute(Runnable command) {\r\n    if (!(command instanceof GrpcPropagatingTask)) {\r\n      command = Context.current().wrap(command);\r\n    }\r\n    delegate.execute(command);\r\n  }\r\n```\r\n\r\n4. Implement other methods of `AbstractExecutorService` to trivially call the delegate instance (i.e. methods like `shutdown()` or `awaitTermination()` which never see a task/runnable).\r\n\r\nNow it should be true that:\r\n1. Any runnables/callables passed to any `ExecutorService` methods will be wrapped with the calling thread&#39;s gRPC context.\r\n2. Even using the service as a plain `Executor` will work.\r\n3. Tasks won&#39;t be wrapped more than once.","title":"Best way to adapt Guava&#39;s AbstractExecutorService to achieve (gRPC) context propagation?","body":"<p>So far the best answer I can come up with is the alternate suggestion from the question. It seems to work and I can't see an obvious way why it's wrong:</p>\n<ol>\n<li>Create subclass of <code>FutureTask</code> and have it wrap the callable/runnable in the constructor (important to wrap here and not when invoked).</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>  private static final class GrpcPropagatingTask&lt;V&gt; extends FutureTask&lt;V&gt; {\n    public GrpcPropagatingTask(Callable&lt;V&gt; callable) {\n      super(Context.current().wrap(callable));\n    }\n\n    public GrpcPropagatingTask(Runnable runnable, V result) {\n      super(Context.current().wrap(runnable), result);\n    }\n  }\n</code></pre>\n<ol start=\"2\">\n<li>Then create a subclass of <code>AbstractExecutorService</code> with a <code>delegate</code>, and override the <code>newTaskFor()</code> methods:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>  private final ExecutorService delegate;\n\n  private GrpcPropagatingExecutorService(ExecutorService delegate) {\n    this.delegate = delegate;\n  }\n\n  @Override\n  protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Runnable runnable, T value) {\n    return new GrpcPropagatingTask&lt;&gt;(runnable, value);\n  }\n\n  @Override\n  protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Callable&lt;T&gt; callable) {\n    return new GrpcPropagatingTask&lt;&gt;(callable);\n  }\n</code></pre>\n<ol start=\"3\">\n<li>Then implement <code>execute()</code> to conditionally wrap <code>Runnable</code> instances:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n  public void execute(Runnable command) {\n    if (!(command instanceof GrpcPropagatingTask)) {\n      command = Context.current().wrap(command);\n    }\n    delegate.execute(command);\n  }\n</code></pre>\n<ol start=\"4\">\n<li>Implement other methods of <code>AbstractExecutorService</code> to trivially call the delegate instance (i.e. methods like <code>shutdown()</code> or <code>awaitTermination()</code> which never see a task/runnable).</li>\n</ol>\n<p>Now it should be true that:</p>\n<ol>\n<li>Any runnables/callables passed to any <code>ExecutorService</code> methods will be wrapped with the calling thread's gRPC context.</li>\n<li>Even using the service as a plain <code>Executor</code> will work.</li>\n<li>Tasks won't be wrapped more than once.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"score":0,"creation_date":1695402930,"post_id":77150644,"comment_id":136024584,"body_markdown":"My concern with this is that it implicitly relies on knowing that, internally, delegated executors don&#39;t call back to their own public methods (thus wrapping things multiple times). At least `AbstractExecutorService` promises that by overriding `newTaskFor()`, you get all the submit methods taken care of with exactly one wrapping.\nI suspect, for example, that `submit()` may end up calling `execute()` for at least some implementations of random executor services.\nThe &quot;other methods&quot; I was talking about are those which don&#39;t deal with tasks/runnables etc. (e.g. isShutdown()).","body":"My concern with this is that it implicitly relies on knowing that, internally, delegated executors don&#39;t call back to their own public methods (thus wrapping things multiple times). At least <code>AbstractExecutorService</code> promises that by overriding <code>newTaskFor()</code>, you get all the submit methods taken care of with exactly one wrapping. I suspect, for example, that <code>submit()</code> may end up calling <code>execute()</code> for at least some implementations of random executor services. The &quot;other methods&quot; I was talking about are those which don&#39;t deal with tasks/runnables etc. (e.g. isShutdown())."},{"owner":{"account_id":14008,"reputation":3782,"user_id":28465,"display_name":"Chris Povirk"},"score":0,"creation_date":1695481161,"post_id":77150644,"comment_id":136031573,"body_markdown":"I think we&#39;re safe because we&#39;re overriding methods only in the wrapper executor and calling methods only on the delegate. All the wrapper&#39;s methods call `Context.current().wrap(...)`, and none of the delegate&#39;s methods do, so we&#39;re guaranteed to wrap exactly once.","body":"I think we&#39;re safe because we&#39;re overriding methods only in the wrapper executor and calling methods only on the delegate. All the wrapper&#39;s methods call <code>Context.current().wrap(...)</code>, and none of the delegate&#39;s methods do, so we&#39;re guaranteed to wrap exactly once."},{"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"score":0,"creation_date":1695590116,"post_id":77150644,"comment_id":136041115,"body_markdown":"Yes, I think you&#39;re right. Somehow I was convincing myself this was a super-class / sub-class thing, where calling back would be an issue.","body":"Yes, I think you&#39;re right. Somehow I was convincing myself this was a super-class / sub-class thing, where calling back would be an issue."}],"tags":[],"owner":{"account_id":14008,"reputation":3782,"user_id":28465,"display_name":"Chris Povirk"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695302269,"creation_date":1695302269,"answer_id":77150644,"question_id":77144071,"body_markdown":"I no longer remember anything from when we originally wrote the class, but: We have a similar utility. It implements `ExecutorService` directly (without extending `AbstractExecutorService`), and it implements each method by wrapping and delegating:\r\n\r\n```java\r\n@Override\r\npublic void execute(Runnable command) {\r\n  delegate.execute(Context.current().wrap(command));    \r\n}\r\n\r\n@Override\r\npublic &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\r\n  return delegate.submit(Context.current().wrap(task));    \r\n}\r\n\r\n// etc.\r\n```","title":"Best way to adapt Guava&#39;s AbstractExecutorService to achieve (gRPC) context propagation?","body":"<p>I no longer remember anything from when we originally wrote the class, but: We have a similar utility. It implements <code>ExecutorService</code> directly (without extending <code>AbstractExecutorService</code>), and it implements each method by wrapping and delegating:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void execute(Runnable command) {\n  delegate.execute(Context.current().wrap(command));    \n}\n\n@Override\npublic &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task) {\n  return delegate.submit(Context.current().wrap(task));    \n}\n\n// etc.\n</code></pre>\n"}],"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695403216,"creation_date":1695224598,"question_id":77144071,"body_markdown":"I had hoped to find a simple class that just does this in gRPC Context library, but sadly no luck. I want to wrap an arbitrary `ExecutorService` so it will wrap its tasks in order to propagate the current context of the thread which submitted them.\r\n\r\nSo far I have:\r\n\r\n```java\r\nimport io.grpc.Context;\r\n\r\npublic final class GrpcPropagatingExecutorService extends AbstractExecutorService {\r\n  private final ExecutorService delegate;\r\n\r\n  public GrpcPropagatingExecutorService(ExecutorService delegate) {\r\n    this.delegate = checkNotNull(delegate);\r\n  }\r\n\r\n  @Override\r\n  protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Runnable runnable, T value) {\r\n    // Option 1: I could put code here...\r\n    super.newTaskFor(Context.current().wrap(runnable), value);\r\n  }\r\n\r\n  @Override\r\n  protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Callable&lt;T&gt; callable) {\r\n    // ... and here.\r\n    super.newTaskFor(Context.current().wrap(callable));\r\n  }\r\n\r\n  @Override\r\n  public void execute(Runnable command) {\r\n    // Option 2: Or I could put code here.\r\n    super.execute(Context.current().wrap(command));    \r\n  }\r\n\r\n  // Other methods are trivial...\r\n}\r\n```\r\n\r\nMy question is:\r\nWhich is the best approach, or are they equivalent?\r\n\r\nPutting the wrapping code in `newTaskFor()` feels better to me, but leaves a problem (i.e. what if someone uses the service as a plain `Executor` and directly calls `execute()`, which isn&#39;t wrapping the given `Runnable`?)\r\n\r\nPutting the wrapping code only in `execute()` might be okay, but only if that&#39;s always called in the thread which is scheduling the task, and never in some worker thread (that&#39;s not at all clear from the docs and in theory I think it could be violated by a service which wraps this one).\r\n\r\nPutting the wrapping code in both (belt &amp; braces) is possible, but I&#39;d need a new type so I can detect `Runnables` which have already be wrapped (and I don&#39;t think even that&#39;s particularly robust tbh).\r\n\r\nSo do I just have to wrap things in both places and suffer wrapping almost all tasks twice, or am I missing something?\r\n\r\nEDIT - An alternative idea I just thought of is:\r\n\r\n```java\r\n  private static final class GrpcPropagatingTask&lt;V&gt; extends FutureTask&lt;V&gt; {\r\n    public GrpcPropagatingTask(Callable&lt;V&gt; callable) {\r\n      super(Context.current().wrap(callable));\r\n    }\r\n\r\n    public GrpcPropagatingTask(Runnable runnable, V result) {\r\n      super(Context.current().wrap(runnable), result);\r\n    }\r\n  }\r\n```\r\n\r\nAnd returning that from `newTaskFor()` methods. Then in `execute()` I can do:\r\n\r\n```java\r\n  @Override\r\n  public void execute(Runnable command) {\r\n    if (!(command instanceof GrpcPropagatingTask)) {\r\n      command = Context.current().wrap(command);\r\n    }\r\n    delegate.execute(command);\r\n  }\r\n```\r\n\r\nwhich I think would resolve my fears about `execute()` being called directly.","title":"Best way to adapt Guava&#39;s AbstractExecutorService to achieve (gRPC) context propagation?","body":"<p>I had hoped to find a simple class that just does this in gRPC Context library, but sadly no luck. I want to wrap an arbitrary <code>ExecutorService</code> so it will wrap its tasks in order to propagate the current context of the thread which submitted them.</p>\n<p>So far I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.grpc.Context;\n\npublic final class GrpcPropagatingExecutorService extends AbstractExecutorService {\n  private final ExecutorService delegate;\n\n  public GrpcPropagatingExecutorService(ExecutorService delegate) {\n    this.delegate = checkNotNull(delegate);\n  }\n\n  @Override\n  protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Runnable runnable, T value) {\n    // Option 1: I could put code here...\n    super.newTaskFor(Context.current().wrap(runnable), value);\n  }\n\n  @Override\n  protected &lt;T&gt; RunnableFuture&lt;T&gt; newTaskFor(Callable&lt;T&gt; callable) {\n    // ... and here.\n    super.newTaskFor(Context.current().wrap(callable));\n  }\n\n  @Override\n  public void execute(Runnable command) {\n    // Option 2: Or I could put code here.\n    super.execute(Context.current().wrap(command));    \n  }\n\n  // Other methods are trivial...\n}\n</code></pre>\n<p>My question is:\nWhich is the best approach, or are they equivalent?</p>\n<p>Putting the wrapping code in <code>newTaskFor()</code> feels better to me, but leaves a problem (i.e. what if someone uses the service as a plain <code>Executor</code> and directly calls <code>execute()</code>, which isn't wrapping the given <code>Runnable</code>?)</p>\n<p>Putting the wrapping code only in <code>execute()</code> might be okay, but only if that's always called in the thread which is scheduling the task, and never in some worker thread (that's not at all clear from the docs and in theory I think it could be violated by a service which wraps this one).</p>\n<p>Putting the wrapping code in both (belt &amp; braces) is possible, but I'd need a new type so I can detect <code>Runnables</code> which have already be wrapped (and I don't think even that's particularly robust tbh).</p>\n<p>So do I just have to wrap things in both places and suffer wrapping almost all tasks twice, or am I missing something?</p>\n<p>EDIT - An alternative idea I just thought of is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  private static final class GrpcPropagatingTask&lt;V&gt; extends FutureTask&lt;V&gt; {\n    public GrpcPropagatingTask(Callable&lt;V&gt; callable) {\n      super(Context.current().wrap(callable));\n    }\n\n    public GrpcPropagatingTask(Runnable runnable, V result) {\n      super(Context.current().wrap(runnable), result);\n    }\n  }\n</code></pre>\n<p>And returning that from <code>newTaskFor()</code> methods. Then in <code>execute()</code> I can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n  public void execute(Runnable command) {\n    if (!(command instanceof GrpcPropagatingTask)) {\n      command = Context.current().wrap(command);\n    }\n    delegate.execute(command);\n  }\n</code></pre>\n<p>which I think would resolve my fears about <code>execute()</code> being called directly.</p>\n"},{"tags":["java","performance","tomcat","memory-management","birt"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1695462764,"post_id":77159590,"comment_id":136029908,"body_markdown":"Oddly, it&#39;s more likely your GC scheme if you have one, the memory will fill but it won&#39;t clean out it&#39;s dump space until it is critical to it. You need to put in a GC scheme probably.      https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html      https://www.middlewareinventory.com/blog/set-heapmemory-jvm-arguments-tomcat/","body":"Oddly, it&#39;s more likely your GC scheme if you have one, the memory will fill but it won&#39;t clean out it&#39;s dump space until it is critical to it. You need to put in a GC scheme probably.      <a href=\"https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/tutorials/tutorials-1876574.html</a>      <a href=\"https://www.middlewareinventory.com/blog/set-heapmemory-jvm-arguments-tomcat/\" rel=\"nofollow noreferrer\">middlewareinventory.com/blog/&hellip;</a>"},{"owner":{"account_id":3349759,"reputation":2483,"user_id":2814025,"display_name":"hvb"},"score":0,"creation_date":1695624502,"post_id":77159590,"comment_id":136043929,"body_markdown":"The response is heavily depending on the way you are processing parallel requests. Noby can answer this without more details. A wild guess: Your are processing all reports one after the other in some way (not in a parallel fashion), so if e.g. you have 1 request per second and report generation takes 1.5 secs, then for the first report there is a response time of 1.5 secs, 2 secs for the second report, 2.5 for the 3rd report and so on.","body":"The response is heavily depending on the way you are processing parallel requests. Noby can answer this without more details. A wild guess: Your are processing all reports one after the other in some way (not in a parallel fashion), so if e.g. you have 1 request per second and report generation takes 1.5 secs, then for the first report there is a response time of 1.5 secs, 2 secs for the second report, 2.5 for the 3rd report and so on."}],"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695403199,"creation_date":1695403199,"question_id":77159590,"body_markdown":"I am using Birt Report to generate transactional reports in PDF format. Currently, the service receives approximately 50 requests per minute. The problem is that over time, the response times and PDF generation speed start to decrease, as can be seen in the graph:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInitially, I thought it might be a problem with heap memory usage, but I don&#39;t see the same pattern there:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI do see a similar pattern in non-heap memory usage.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWhere should I start looking for the problem? I don&#39;t know much about non-heap memory usage, and I&#39;m not sure if this is the issue\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nmZgD.png\r\n  [2]: https://i.stack.imgur.com/mU1z7.png\r\n  [3]: https://i.stack.imgur.com/pcv65.png","title":"Birt Report strange response time behaviour","body":"<p>I am using Birt Report to generate transactional reports in PDF format. Currently, the service receives approximately 50 requests per minute. The problem is that over time, the response times and PDF generation speed start to decrease, as can be seen in the graph:</p>\n<p><a href=\"https://i.stack.imgur.com/nmZgD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nmZgD.png\" alt=\"enter image description here\" /></a></p>\n<p>Initially, I thought it might be a problem with heap memory usage, but I don't see the same pattern there:</p>\n<p><a href=\"https://i.stack.imgur.com/mU1z7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mU1z7.png\" alt=\"enter image description here\" /></a></p>\n<p>I do see a similar pattern in non-heap memory usage.</p>\n<p><a href=\"https://i.stack.imgur.com/pcv65.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pcv65.png\" alt=\"enter image description here\" /></a></p>\n<p>Where should I start looking for the problem? I don't know much about non-heap memory usage, and I'm not sure if this is the issue</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1695152784,"post_id":77137478,"comment_id":135984971,"body_markdown":"I think the regex that you want is: (^k)|(?:\\W)k|^s|(?:\\W)s/gmi","body":"I think the regex that you want is: (^k)|(?:\\W)k|^s|(?:\\W)s/gmi"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1695152875,"post_id":77137478,"comment_id":135984992,"body_markdown":"https://regex101.com/","body":"<a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a>"},{"owner":{"account_id":3588984,"reputation":115,"user_id":2995460,"display_name":"anteastra"},"score":1,"creation_date":1695152909,"post_id":77137478,"comment_id":135984999,"body_markdown":"I am not sure if this is correct question on SO. But here the proposal from me. You already have a list of Strings on which you should return true. You can put them in a set and then check if this set contains your input String","body":"I am not sure if this is correct question on SO. But here the proposal from me. You already have a list of Strings on which you should return true. You can put them in a set and then check if this set contains your input String"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695152915,"post_id":77137478,"comment_id":135985001,"body_markdown":"@ControlAltDel  `/gmi` for java ? @roman_s is the *search term* given? (if the search term is  `s`, maybe the regex is `&quot;(\\\\b| )\\\\Q&quot; + s + &quot;\\\\E&quot;` or similar)","body":"@ControlAltDel  <code>&#47;gmi</code> for java ? @roman_s is the <i>search term</i> given? (if the search term is  <code>s</code>, maybe the regex is <code>&quot;(\\\\b| )\\\\Q&quot; + s + &quot;\\\\E&quot;</code> or similar)"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1695154160,"post_id":77137478,"comment_id":135985231,"body_markdown":"@user85421 re:/gmi - to appropriate a quote for The Karate Kid: &quot;Regex do yes? ok Regex do no? ok. Regex just to get it to pass the unit testing? *Squish* just like bug&quot; My original regex proposal should have had a / at the start","body":"@user85421 re:/gmi - to appropriate a quote for The Karate Kid: &quot;Regex do yes? ok Regex do no? ok. Regex just to get it to pass the unit testing? <i>Squish</i> just like bug&quot; My original regex proposal should have had a / at the start"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1695159581,"post_id":77137478,"comment_id":135986121,"body_markdown":"Can you provide more information about the _&quot;search terms&quot;_?  Why would _&quot;i&quot;_ return _false_?  If the the text ends with an _&quot;i&quot;_?","body":"Can you provide more information about the <i>&quot;search terms&quot;</i>?  Why would <i>&quot;i&quot;</i> return <i>false</i>?  If the the text ends with an <i>&quot;i&quot;</i>?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1695160781,"post_id":77137478,"comment_id":135986286,"body_markdown":"It&#39;s not clear to me how you decide what should be accepted and what not. Is this about word boundaries? Then check the `\\b` regex special character. Also check [ask].","body":"It&#39;s not clear to me how you decide what should be accepted and what not. Is this about word boundaries? Then check the <code>\\b</code> regex special character. Also check <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695161740,"creation_date":1695161740,"answer_id":77138238,"question_id":77137478,"body_markdown":"It seems from your examples that a term should &quot;match&quot; if it&#39;s a case-insensitive substring of the search string and either:\r\n\r\n - the first character is a non-letter, or\r\n - it matches at the start of a word\r\n\r\nYou can use regex:\r\n\r\n```\r\nString search;\r\nString term;\r\n\r\nboolean match = search.matches(&quot;.*(?=\\\\W|\\\\b)\\\\Q&quot; + term + &quot;\\\\E.*&quot;);\r\n```\r\n","title":"Given a string, check if search term matches the beginning of any substring","body":"<p>It seems from your examples that a term should &quot;match&quot; if it's a case-insensitive substring of the search string and either:</p>\n<ul>\n<li>the first character is a non-letter, or</li>\n<li>it matches at the start of a word</li>\n</ul>\n<p>You can use regex:</p>\n<pre><code>String search;\nString term;\n\nboolean match = search.matches(&quot;.*(?=\\\\W|\\\\b)\\\\Q&quot; + term + &quot;\\\\E.*&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1695402663,"post_id":77159228,"comment_id":136024535,"body_markdown":"Don&#39;t forget to escape `searchTerm`: `Pattern.quote(searchTerm)`","body":"Don&#39;t forget to escape <code>searchTerm</code>: <code>Pattern.quote(searchTerm)</code>"},{"owner":{"account_id":25859588,"reputation":31,"user_id":19592256,"display_name":"roman_s"},"score":0,"creation_date":1695404110,"post_id":77159228,"comment_id":136024807,"body_markdown":"Wow I didn&#39;t know about that. Thanks @MCEmperor I&#39;ll be using that","body":"Wow I didn&#39;t know about that. Thanks @MCEmperor I&#39;ll be using that"}],"tags":[],"owner":{"account_id":25859588,"reputation":31,"user_id":19592256,"display_name":"roman_s"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695402695,"creation_date":1695399068,"answer_id":77159228,"question_id":77137478,"body_markdown":"Thanks @ControlAltDel I ended up using your regex with this java code.\r\n\r\n    String searchTerm = &quot;siz&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;(^&quot; + searchTerm + &quot;)|(?:\\\\W)&quot;\r\n    + searchTerm, Pattern.CASE_INSENSITIVE);\r\n    Matcher matcher = pattern.matcher(&quot;KING-SIZE (KS)&quot;);\r\n    \r\n    System.out.println(matcher.find());\r\n    // Outputs &quot;true&quot;\r\n\r\nFeel free to post to your answer so I could mark it as solved","title":"Given a string, check if search term matches the beginning of any substring","body":"<p>Thanks @ControlAltDel I ended up using your regex with this java code.</p>\n<pre><code>String searchTerm = &quot;siz&quot;;\nPattern pattern = Pattern.compile(&quot;(^&quot; + searchTerm + &quot;)|(?:\\\\W)&quot;\n+ searchTerm, Pattern.CASE_INSENSITIVE);\nMatcher matcher = pattern.matcher(&quot;KING-SIZE (KS)&quot;);\n\nSystem.out.println(matcher.find());\n// Outputs &quot;true&quot;\n</code></pre>\n<p>Feel free to post to your answer so I could mark it as solved</p>\n"}],"owner":{"account_id":25859588,"reputation":31,"user_id":19592256,"display_name":"roman_s"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1695402695,"creation_date":1695151991,"question_id":77137478,"body_markdown":"Given this string: \r\n```\r\n&quot;KING-SIZE (KS)&quot;\r\n```\r\nThese search terms should return **true** for matching the given string: \r\n```\r\n&quot;k&quot;, &quot;ki&quot;, &quot;kin&quot;, &quot;king&quot;, &quot;s&quot;, &quot;si&quot;, &quot;siz&quot;, &quot;size&quot;, &quot;-size&quot;, &quot;(k&quot;, &quot;(ks&quot;, &quot;(ks)&quot;, &quot;ks&quot;, &quot;king-size&quot;\r\n```\r\n\r\nThese search terms should return **false** for matching the given string: \r\n```\r\n&quot;i&quot;, &quot;in&quot;, &quot;ing&quot;, &quot;iz&quot;, &quot;ize&quot;\r\n```\r\n\r\n\r\nI&#39;m coding in Java and at first I thought I&#39;d use \r\n```\r\n&quot;KING-SIZE (KS)&quot;.contains(searchTerm)\r\n```\r\nBut I need the condition to return **false** if a user enters a search term that matches just a middle section of each substring.\r\n\r\nI thought about using regex but I&#39;m not sure how the expression would work for this use case. ","title":"Given a string, check if search term matches the beginning of any substring","body":"<p>Given this string:</p>\n<pre><code>&quot;KING-SIZE (KS)&quot;\n</code></pre>\n<p>These search terms should return <strong>true</strong> for matching the given string:</p>\n<pre><code>&quot;k&quot;, &quot;ki&quot;, &quot;kin&quot;, &quot;king&quot;, &quot;s&quot;, &quot;si&quot;, &quot;siz&quot;, &quot;size&quot;, &quot;-size&quot;, &quot;(k&quot;, &quot;(ks&quot;, &quot;(ks)&quot;, &quot;ks&quot;, &quot;king-size&quot;\n</code></pre>\n<p>These search terms should return <strong>false</strong> for matching the given string:</p>\n<pre><code>&quot;i&quot;, &quot;in&quot;, &quot;ing&quot;, &quot;iz&quot;, &quot;ize&quot;\n</code></pre>\n<p>I'm coding in Java and at first I thought I'd use</p>\n<pre><code>&quot;KING-SIZE (KS)&quot;.contains(searchTerm)\n</code></pre>\n<p>But I need the condition to return <strong>false</strong> if a user enters a search term that matches just a middle section of each substring.</p>\n<p>I thought about using regex but I'm not sure how the expression would work for this use case.</p>\n"},{"tags":["java","executorservice"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1695356326,"post_id":77154823,"comment_id":136016216,"body_markdown":"does it have anything to do with the ShopifyBulkSyncCoupons bean? Are you sure that it is running properly when you say it executes for second, third and last elements of the list? Since the bean is a singleton, and you set it for each and return the same bean, are you sure it runs &quot;correctly&quot;? it seems more like as it iterates, each of the threads are executing the same id which is the last one","body":"does it have anything to do with the ShopifyBulkSyncCoupons bean? Are you sure that it is running properly when you say it executes for second, third and last elements of the list? Since the bean is a singleton, and you set it for each and return the same bean, are you sure it runs &quot;correctly&quot;? it seems more like as it iterates, each of the threads are executing the same id which is the last one"},{"owner":{"account_id":29505823,"reputation":19,"user_id":22611816,"display_name":"Shreya Aggarwal"},"score":0,"creation_date":1695358000,"post_id":77154823,"comment_id":136016339,"body_markdown":"@experimentunit1998X Do you suggest I should make the scope as Prototype for the bean ?","body":"@experimentunit1998X Do you suggest I should make the scope as Prototype for the bean ?"},{"owner":{"account_id":1547939,"reputation":992,"user_id":1441011,"display_name":"Tjad Clark"},"score":0,"creation_date":1695358107,"post_id":77154823,"comment_id":136016348,"body_markdown":"@ShreyaAggarwal, that would be 1 way to resolve your issue.","body":"@ShreyaAggarwal, that would be 1 way to resolve your issue."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1695358500,"post_id":77154823,"comment_id":136016379,"body_markdown":"That won’t help if it continues to use the same instance for each iteration of the loop. It needs a new instance for each coupon ID.","body":"That won’t help if it continues to use the same instance for each iteration of the loop. It needs a new instance for each coupon ID."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695361534,"post_id":77154823,"comment_id":136016647,"body_markdown":"What is `shopifyBulkSyncCoupons` exactly? I see no such variable anywhere. Is this a singleton? Are we calling `setCouponId` on the same object over and over again? Seems like we do not have enough information here to debug.","body":"What is <code>shopifyBulkSyncCoupons</code> exactly? I see no such variable anywhere. Is this a singleton? Are we calling <code>setCouponId</code> on the same object over and over again? Seems like we do not have enough information here to debug."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695361585,"post_id":77154823,"comment_id":136016655,"body_markdown":"You call `task.setCouponId` but I see no `ShopifyBulkSyncCoupons#setCopuonId` method on your `ShopifyBulkSyncCoupons` class.","body":"You call <code>task.setCouponId</code> but I see no <code>ShopifyBulkSyncCoupons#setCopuonId</code> method on your <code>ShopifyBulkSyncCoupons</code> class."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695361645,"post_id":77154823,"comment_id":136016663,"body_markdown":"When posting here, and when debugging, you should contrive some simplistic analog of your actual code, to detect where the original goes wrong.","body":"When posting here, and when debugging, you should contrive some simplistic analog of your actual code, to detect where the original goes wrong."},{"owner":{"account_id":29505823,"reputation":19,"user_id":22611816,"display_name":"Shreya Aggarwal"},"score":0,"creation_date":1695363483,"post_id":77154823,"comment_id":136016879,"body_markdown":"Hi @BasilBourque shopifyBulkSyncCoupons is a bean . There is a stataement as \n         Autowired\n\tprivate ShopifyBulkSyncCoupons shopifyBulkSyncCoupons; in the beginning of the class . there is a setter method too to set CouponId in the ShopifyBulkSyncCoupons .","body":"Hi @BasilBourque shopifyBulkSyncCoupons is a bean . There is a stataement as           Autowired \tprivate ShopifyBulkSyncCoupons shopifyBulkSyncCoupons; in the beginning of the class . there is a setter method too to set CouponId in the ShopifyBulkSyncCoupons ."},{"owner":{"account_id":29505823,"reputation":19,"user_id":22611816,"display_name":"Shreya Aggarwal"},"score":0,"creation_date":1695363539,"post_id":77154823,"comment_id":136016887,"body_markdown":"I will be happy to share more details . However this is the major chunk of the code .","body":"I will be happy to share more details . However this is the major chunk of the code ."}],"answers":[{"comments":[{"owner":{"account_id":29505823,"reputation":19,"user_id":22611816,"display_name":"Shreya Aggarwal"},"score":0,"creation_date":1695363665,"post_id":77155219,"comment_id":136016913,"body_markdown":"The line Runnable task = new CouponProcessor ( couponId ); causes issue as below Autowiring doesn&#39;t work and all the bean shopifyClient become null\nService\npublic class PriceRuleServiceImpl implements PriceRuleService {\n\tprivate static final Logger logger = Logger.getLogger(PriceRuleServiceImpl.class);\n\n\tAutowired\n\tprivate ShopifyClient shopifyClient;","body":"The line Runnable task = new CouponProcessor ( couponId ); causes issue as below Autowiring doesn&#39;t work and all the bean shopifyClient become null Service public class PriceRuleServiceImpl implements PriceRuleService { \tprivate static final Logger logger = Logger.getLogger(PriceRuleServiceImpl.class);  \tAutowired \tprivate ShopifyClient shopifyClient;"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695363792,"post_id":77155219,"comment_id":136016924,"body_markdown":"@ShreyaAggarwal I just did a `clean` and rebuild. Runs fine. Start with just my code. Then bring over parts of yours, getting each working. Don&#39;t aim for real work, aim for simulated work, taking baby steps.","body":"@ShreyaAggarwal I just did a <code>clean</code> and rebuild. Runs fine. Start with just my code. Then bring over parts of yours, getting each working. Don&#39;t aim for real work, aim for simulated work, taking baby steps."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1695363934,"post_id":77155219,"comment_id":136016938,"body_markdown":"And you made no mention of auto wiring in your Question. If you are using Spring, CDI, or such, you should note that in the Question.","body":"And you made no mention of auto wiring in your Question. If you are using Spring, CDI, or such, you should note that in the Question."},{"owner":{"account_id":29505823,"reputation":19,"user_id":22611816,"display_name":"Shreya Aggarwal"},"score":0,"creation_date":1695364601,"post_id":77155219,"comment_id":136017019,"body_markdown":"if I will use a constructor the bean is null . I will require that bean for further executions in code . Won&#39;t doing Runnable task = new CouponProcessor ( couponId ); create a new instance that will not be a spring instantiated instance so that instance will not be able to make use of autowired annotations .","body":"if I will use a constructor the bean is null . I will require that bean for further executions in code . Won&#39;t doing Runnable task = new CouponProcessor ( couponId ); create a new instance that will not be a spring instantiated instance so that instance will not be able to make use of autowired annotations ."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1695400405,"post_id":77155219,"comment_id":136024175,"body_markdown":"Then, wouldnt it make more sense to create a bean that creates and returns a new runnable for you when you pass it a couponId rather than create a bean that is itself the runnable?","body":"Then, wouldnt it make more sense to create a bean that creates and returns a new runnable for you when you pass it a couponId rather than create a bean that is itself the runnable?"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695402547,"creation_date":1695362956,"answer_id":77155219,"question_id":77154823,"body_markdown":"You have not given sufficient detail for us to debug, as noted in the Comments. \r\n\r\nMost concerning are your two lines:\r\n\r\n```java\r\nShopifyBulkSyncCoupons task = shopifyBulkSyncCoupons;\r\ntask.setCouponId(id);\r\n```\r\n\r\nWe have no idea what is `shopifyBulkSyncCoupons`. I suspect you have a singleton object on which you are resetting the assigned coupon `id`. Changing a crucial value while having multiple threads operating on that singleton is a recipe for disaster. \r\n\r\n# Example code\r\n\r\nI can give you a skeleton of code paralleling your code. \r\n\r\nThe following code works successfully. I suggest adding to this skeleton piece by piece of your real work, until discovering the problem.\r\n\r\n## Constructor on `Runnable`\r\n\r\nNotice how our task, our `Runnable` implementation, below has a constructor taking as an argument the coupon id. That coupon id is then saved to a member variable of the task object.\r\n\r\nThis mean each of the multiple task objects we instantiate in a loop has its own coupon id value. No singleton, no changing an established value. To ensure no change, we mark both the parameter and the member field as `final`. \r\n\r\n## Try-with-resources\r\n\r\nNote that in modern Java, `ExecutorService` is `AutoCloseable`. So we can use try-with-resources syntax to properly shutdown the executor service. \r\n\r\nYour Question&#39;s code was woefully short in that area — see the shutdown boilerplate given to you in the `ExecutorService` Javadoc. The default implementation of the `close` method added to `ExecutorService` is essentially a copy of that boilerplate.\r\n\r\n## Avoid `execute`\r\n\r\nDo not call `Executor#execute` on your `ExecutorService`. That method is documented as *maybe* executing the task on another thread *or* executing the task on the same thread. To ensure the use of background threads, call another method such as `submit`.\r\n\r\n## Skeleton code\r\n\r\nDefine the task class:\r\n\r\n```java\r\npackage work.basil.example.coupon;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class CouponProcessor implements Runnable\r\n{\r\n    private final Long couponId;\r\n\r\n    public CouponProcessor ( final Long couponId ) { this.couponId = couponId; }\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        System.out.println ( &quot;Thread ID # &quot; + Thread.currentThread ( ).threadId ( ) + &quot; starting to process coupon ID # &quot; + this.couponId + &quot; at &quot; + Instant.now ( ) );\r\n        try { Thread.sleep ( Duration.ofSeconds ( ThreadLocalRandom.current ( ).nextInt ( 1 , 7 ) ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\r\n        System.out.println ( &quot;Thread ID # &quot; + Thread.currentThread ( ).threadId ( ) + &quot; done process coupon ID # &quot; + this.couponId + &quot; at &quot; + Instant.now ( ) );\r\n    }\r\n}\r\n```\r\n\r\nAnd write an `App` class to process some coupon ids.\r\n\r\n```java\r\npackage work.basil.example.coupon;\r\n\r\nimport java.time.Instant;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App ( );\r\n        app.demo ( );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        System.out.println ( &quot;INFO - Demo starting at &quot; + Instant.now ( ) );\r\n\r\n        List &lt; Long &gt; couponIds = List.of ( 7L , 42L , 99L , 101L );  // Auto-boxing converts primitives to objects.\r\n        try ( // Use try-with-resources syntax to automatically close the executor service when all submitted tasks have completed.\r\n                ExecutorService executorService = Executors.newFixedThreadPool ( 3 ) ;\r\n        )\r\n        {\r\n            for ( Long couponId : couponIds )\r\n            {\r\n                Runnable task = new CouponProcessor ( couponId );\r\n                executorService.submit ( task );\r\n            }\r\n        }\r\n        System.out.println ( &quot;INFO - Executor service shutdown at &quot; + Instant.now ( ) );\r\n\r\n        System.out.println ( &quot;INFO - Demo done at &quot; + Instant.now ( ) );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nINFO - Demo starting at 2023-09-22T06:00:22.962114Z\r\nThread ID # 22 starting to process coupon ID # 42 at 2023-09-22T06:00:22.966858Z\r\nThread ID # 23 starting to process coupon ID # 99 at 2023-09-22T06:00:22.966860Z\r\nThread ID # 21 starting to process coupon ID # 7 at 2023-09-22T06:00:22.966859Z\r\nThread ID # 22 done process coupon ID # 42 at 2023-09-22T06:00:27.051596Z\r\nThread ID # 22 starting to process coupon ID # 101 at 2023-09-22T06:00:27.053034Z\r\nThread ID # 21 done process coupon ID # 7 at 2023-09-22T06:00:27.980626Z\r\nThread ID # 23 done process coupon ID # 99 at 2023-09-22T06:00:28.051538Z\r\nThread ID # 22 done process coupon ID # 101 at 2023-09-22T06:00:31.125844Z\r\nINFO - Executor service shutdown at 2023-09-22T06:00:31.135371Z\r\nINFO - Demo done at 2023-09-22T06:00:31.136004Z\r\n```\r\n\r\nBeware: Output from `System.out.println` does *not* necessarily appear on the console in chronological order when called across threads. If you care about the order, include a timestamp to be studied. Or else gather the messages into a thread-safe collection rather than feeding to `println` calls.\r\n\r\n## Virtual threads\r\n\r\nIn Java 21+, if your task involves [blocking][1] (is not entirely [CPU-bound][2]), use [virtual threads][3]. \r\n\r\n    ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Blocking_%28computing%29\r\n  [2]: https://en.m.wikipedia.org/wiki/CPU-bound\r\n  [3]: https://openjdk.org/jeps/444","title":"Executor service doesn&#39;t process all data passed in arraylist","body":"<p>You have not given sufficient detail for us to debug, as noted in the Comments.</p>\n<p>Most concerning are your two lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ShopifyBulkSyncCoupons task = shopifyBulkSyncCoupons;\ntask.setCouponId(id);\n</code></pre>\n<p>We have no idea what is <code>shopifyBulkSyncCoupons</code>. I suspect you have a singleton object on which you are resetting the assigned coupon <code>id</code>. Changing a crucial value while having multiple threads operating on that singleton is a recipe for disaster.</p>\n<h1>Example code</h1>\n<p>I can give you a skeleton of code paralleling your code.</p>\n<p>The following code works successfully. I suggest adding to this skeleton piece by piece of your real work, until discovering the problem.</p>\n<h2>Constructor on <code>Runnable</code></h2>\n<p>Notice how our task, our <code>Runnable</code> implementation, below has a constructor taking as an argument the coupon id. That coupon id is then saved to a member variable of the task object.</p>\n<p>This mean each of the multiple task objects we instantiate in a loop has its own coupon id value. No singleton, no changing an established value. To ensure no change, we mark both the parameter and the member field as <code>final</code>.</p>\n<h2>Try-with-resources</h2>\n<p>Note that in modern Java, <code>ExecutorService</code> is <code>AutoCloseable</code>. So we can use try-with-resources syntax to properly shutdown the executor service.</p>\n<p>Your Question's code was woefully short in that area — see the shutdown boilerplate given to you in the <code>ExecutorService</code> Javadoc. The default implementation of the <code>close</code> method added to <code>ExecutorService</code> is essentially a copy of that boilerplate.</p>\n<h2>Avoid <code>execute</code></h2>\n<p>Do not call <code>Executor#execute</code> on your <code>ExecutorService</code>. That method is documented as <em>maybe</em> executing the task on another thread <em>or</em> executing the task on the same thread. To ensure the use of background threads, call another method such as <code>submit</code>.</p>\n<h2>Skeleton code</h2>\n<p>Define the task class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.coupon;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class CouponProcessor implements Runnable\n{\n    private final Long couponId;\n\n    public CouponProcessor ( final Long couponId ) { this.couponId = couponId; }\n\n    @Override\n    public void run ( )\n    {\n        System.out.println ( &quot;Thread ID # &quot; + Thread.currentThread ( ).threadId ( ) + &quot; starting to process coupon ID # &quot; + this.couponId + &quot; at &quot; + Instant.now ( ) );\n        try { Thread.sleep ( Duration.ofSeconds ( ThreadLocalRandom.current ( ).nextInt ( 1 , 7 ) ) ); } catch ( InterruptedException e ) { throw new RuntimeException ( e ); }\n        System.out.println ( &quot;Thread ID # &quot; + Thread.currentThread ( ).threadId ( ) + &quot; done process coupon ID # &quot; + this.couponId + &quot; at &quot; + Instant.now ( ) );\n    }\n}\n</code></pre>\n<p>And write an <code>App</code> class to process some coupon ids.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.coupon;\n\nimport java.time.Instant;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App ( );\n        app.demo ( );\n    }\n\n    private void demo ( )\n    {\n        System.out.println ( &quot;INFO - Demo starting at &quot; + Instant.now ( ) );\n\n        List &lt; Long &gt; couponIds = List.of ( 7L , 42L , 99L , 101L );  // Auto-boxing converts primitives to objects.\n        try ( // Use try-with-resources syntax to automatically close the executor service when all submitted tasks have completed.\n                ExecutorService executorService = Executors.newFixedThreadPool ( 3 ) ;\n        )\n        {\n            for ( Long couponId : couponIds )\n            {\n                Runnable task = new CouponProcessor ( couponId );\n                executorService.submit ( task );\n            }\n        }\n        System.out.println ( &quot;INFO - Executor service shutdown at &quot; + Instant.now ( ) );\n\n        System.out.println ( &quot;INFO - Demo done at &quot; + Instant.now ( ) );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Demo starting at 2023-09-22T06:00:22.962114Z\nThread ID # 22 starting to process coupon ID # 42 at 2023-09-22T06:00:22.966858Z\nThread ID # 23 starting to process coupon ID # 99 at 2023-09-22T06:00:22.966860Z\nThread ID # 21 starting to process coupon ID # 7 at 2023-09-22T06:00:22.966859Z\nThread ID # 22 done process coupon ID # 42 at 2023-09-22T06:00:27.051596Z\nThread ID # 22 starting to process coupon ID # 101 at 2023-09-22T06:00:27.053034Z\nThread ID # 21 done process coupon ID # 7 at 2023-09-22T06:00:27.980626Z\nThread ID # 23 done process coupon ID # 99 at 2023-09-22T06:00:28.051538Z\nThread ID # 22 done process coupon ID # 101 at 2023-09-22T06:00:31.125844Z\nINFO - Executor service shutdown at 2023-09-22T06:00:31.135371Z\nINFO - Demo done at 2023-09-22T06:00:31.136004Z\n</code></pre>\n<p>Beware: Output from <code>System.out.println</code> does <em>not</em> necessarily appear on the console in chronological order when called across threads. If you care about the order, include a timestamp to be studied. Or else gather the messages into a thread-safe collection rather than feeding to <code>println</code> calls.</p>\n<h2>Virtual threads</h2>\n<p>In Java 21+, if your task involves <a href=\"https://en.m.wikipedia.org/wiki/Blocking_%28computing%29\" rel=\"nofollow noreferrer\">blocking</a> (is not entirely <a href=\"https://en.m.wikipedia.org/wiki/CPU-bound\" rel=\"nofollow noreferrer\">CPU-bound</a>), use <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a>.</p>\n<pre><code>ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor() ;\n</code></pre>\n"}],"owner":{"account_id":29505823,"reputation":19,"user_id":22611816,"display_name":"Shreya Aggarwal"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695402547,"creation_date":1695355982,"question_id":77154823,"body_markdown":"I am trying to create a thread pool of 3 threads using `ExecutorService`, but whenever I process an `ArrayList` using these threads only second third and last element of the list gets processed by `run()` and then process gets stuck on last element and keeps processing it multiple times. This is my code:\r\n```java\r\npublic ResponseEntity&lt;?&gt; syncShopifyPriceRulesListToMongoV3(List&lt;Long&gt; ids) {\r\n\tlogger.info(&quot;Start :: syncShopifyPriceRulesListToMongoV3 for ids size = &quot;+ids.size());\r\n\tExecutorService service = Executors.newFixedThreadPool(3);\r\n\ttry {\r\n\t\tif (ids.size() &gt; 0) {\r\n\t\t\tfor (Long id : ids) {\r\n\t\t\t\tlogger.info(&quot;id inside for&quot;+id);\r\n\t\t\t\tShopifyBulkSyncCoupons task = shopifyBulkSyncCoupons;\r\n\t\t\t\ttask.setCouponId(id); // Set the &#39;id&#39; value using the setter method\r\n\t\t\t\tservice.execute(task);\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tthrow new RuntimeException(e);\r\n\t}\r\n\tlogger.info(&quot;End :: syncShopifyPriceRulesListToMongoV3&quot;);\r\n\tservice.shutdown();\r\n\treturn new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n}\r\n```\r\nThis is my `ShopifyBulkSyncCoupons` class:\r\n```java\r\n@Component\r\npublic class ShopifyBulkSyncCoupons implements Runnable\r\n{\r\n    @Override\r\n    public void run()\r\n    {\r\n        logger.info(&quot;Inside run for id &quot;+CouponId);\r\n        logger.info(&quot;ShopifyClientBean &quot;+shopifyClient);\r\n\r\n        PriceRuleService priceRuleService = new PriceRuleServiceImpl();\r\n\r\n        ShopifyPriceRuleResponse priceRuleResponse = shopifyClient.getPriceRuleById(CouponId);\r\n        if(null!=priceRuleResponse &amp;&amp; null!=priceRuleResponse.getPriceRule()) {\r\n            PriceRuleDetails priceRuleDetails = new PriceRuleDetails();\r\n            List&lt;Long&gt; finalEntitledVariants = new ArrayList&lt;&gt;();\r\n            priceRuleDetails = priceRuleService.mapShopifyPriceRuleToModel(priceRuleResponse.getPriceRule());\r\n            if (!CollectionUtils.isEmpty(priceRuleDetails.getEntitledCollectionIds())) {\r\n                List&lt;Long&gt; collectionIds = priceRuleDetails.getEntitledCollectionIds();\r\n                List&lt;ProductAttributes&gt; prodAttr = productAttrRepository.findByCollectionsIn(collectionIds);\r\n                for (ProductAttributes prod : prodAttr) {\r\n                    finalEntitledVariants.add(prod.getVariantId());\r\n                }\r\n            }\r\n            if (!CollectionUtils.isEmpty(priceRuleDetails.getEntitledProductIds())) {\r\n                List&lt;ProductAttributes&gt; productAttributesList = productAttrRepository.findByProductIdIn(priceRuleDetails.getEntitledProductIds());\r\n                for (ProductAttributes prod : productAttributesList) {\r\n                    finalEntitledVariants.add(prod.getVariantId());\r\n                }\r\n            }\r\n            if (!CollectionUtils.isEmpty(priceRuleDetails.getEntitledVariantIds())) {\r\n                finalEntitledVariants.addAll(priceRuleDetails.getEntitledVariantIds());\r\n            }\r\npriceRuleDetails.setEntitledVariantIds(finalEntitledVariants);\r\n            priceRuleDetailsRepo.save(priceRuleDetails);\r\n        }\r\n    }\r\n}\r\n```\r\nI have already tried numerous ways to fix this. Can someone please help in identifying what is going wrong?\r\n","title":"Executor service doesn&#39;t process all data passed in arraylist","body":"<p>I am trying to create a thread pool of 3 threads using <code>ExecutorService</code>, but whenever I process an <code>ArrayList</code> using these threads only second third and last element of the list gets processed by <code>run()</code> and then process gets stuck on last element and keeps processing it multiple times. This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;?&gt; syncShopifyPriceRulesListToMongoV3(List&lt;Long&gt; ids) {\n    logger.info(&quot;Start :: syncShopifyPriceRulesListToMongoV3 for ids size = &quot;+ids.size());\n    ExecutorService service = Executors.newFixedThreadPool(3);\n    try {\n        if (ids.size() &gt; 0) {\n            for (Long id : ids) {\n                logger.info(&quot;id inside for&quot;+id);\n                ShopifyBulkSyncCoupons task = shopifyBulkSyncCoupons;\n                task.setCouponId(id); // Set the 'id' value using the setter method\n                service.execute(task);\n            }\n        }\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n    logger.info(&quot;End :: syncShopifyPriceRulesListToMongoV3&quot;);\n    service.shutdown();\n    return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n}\n</code></pre>\n<p>This is my <code>ShopifyBulkSyncCoupons</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ShopifyBulkSyncCoupons implements Runnable\n{\n    @Override\n    public void run()\n    {\n        logger.info(&quot;Inside run for id &quot;+CouponId);\n        logger.info(&quot;ShopifyClientBean &quot;+shopifyClient);\n\n        PriceRuleService priceRuleService = new PriceRuleServiceImpl();\n\n        ShopifyPriceRuleResponse priceRuleResponse = shopifyClient.getPriceRuleById(CouponId);\n        if(null!=priceRuleResponse &amp;&amp; null!=priceRuleResponse.getPriceRule()) {\n            PriceRuleDetails priceRuleDetails = new PriceRuleDetails();\n            List&lt;Long&gt; finalEntitledVariants = new ArrayList&lt;&gt;();\n            priceRuleDetails = priceRuleService.mapShopifyPriceRuleToModel(priceRuleResponse.getPriceRule());\n            if (!CollectionUtils.isEmpty(priceRuleDetails.getEntitledCollectionIds())) {\n                List&lt;Long&gt; collectionIds = priceRuleDetails.getEntitledCollectionIds();\n                List&lt;ProductAttributes&gt; prodAttr = productAttrRepository.findByCollectionsIn(collectionIds);\n                for (ProductAttributes prod : prodAttr) {\n                    finalEntitledVariants.add(prod.getVariantId());\n                }\n            }\n            if (!CollectionUtils.isEmpty(priceRuleDetails.getEntitledProductIds())) {\n                List&lt;ProductAttributes&gt; productAttributesList = productAttrRepository.findByProductIdIn(priceRuleDetails.getEntitledProductIds());\n                for (ProductAttributes prod : productAttributesList) {\n                    finalEntitledVariants.add(prod.getVariantId());\n                }\n            }\n            if (!CollectionUtils.isEmpty(priceRuleDetails.getEntitledVariantIds())) {\n                finalEntitledVariants.addAll(priceRuleDetails.getEntitledVariantIds());\n            }\npriceRuleDetails.setEntitledVariantIds(finalEntitledVariants);\n            priceRuleDetailsRepo.save(priceRuleDetails);\n        }\n    }\n}\n</code></pre>\n<p>I have already tried numerous ways to fix this. Can someone please help in identifying what is going wrong?</p>\n"},{"tags":["java","json","spring","uri","spring-webclient"],"comments":[{"owner":{"account_id":3575751,"reputation":374,"user_id":2985057,"display_name":"Kelsey"},"score":1,"creation_date":1695398260,"post_id":77159085,"comment_id":136023788,"body_markdown":"would you mind pasting where tag is defined?","body":"would you mind pasting where tag is defined?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1695398502,"post_id":77159085,"comment_id":136023829,"body_markdown":"Please provide an [mcve]","body":"Please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":22025771,"reputation":11,"user_id":16293797,"display_name":"mrvibes"},"score":0,"creation_date":1695401646,"post_id":77159085,"comment_id":136024394,"body_markdown":"@Jens What other context is necessary?","body":"@Jens What other context is necessary?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1695401887,"post_id":77159085,"comment_id":136024430,"body_markdown":"Is your tag supposed to be a URI fragment?","body":"Is your tag supposed to be a URI fragment?"},{"owner":{"account_id":22025771,"reputation":11,"user_id":16293797,"display_name":"mrvibes"},"score":1,"creation_date":1695402122,"post_id":77159085,"comment_id":136024459,"body_markdown":"No, frustratingly enough it&#39;s just part of the player identifier. There is also no other way to look up a player&#39;s info (no numerical ID or something), so I have to end the URI with `.../players/%238QQRVVL0`.","body":"No, frustratingly enough it&#39;s just part of the player identifier. There is also no other way to look up a player&#39;s info (no numerical ID or something), so I have to end the URI with <code>...&#47;players&#47;%238QQRVVL0</code>."}],"answers":[{"comments":[{"owner":{"account_id":22025771,"reputation":11,"user_id":16293797,"display_name":"mrvibes"},"score":1,"creation_date":1695399195,"post_id":77159172,"comment_id":136023933,"body_markdown":"Thanks for responding! I&#39;ve updated the question to reflect the value of tag. I&#39;m not trying to create a query within the URI, I&#39;m trying to use GET to retrieve information that is tied to a specific player (denoted by their tag). The end URI should look like this:\n\n.../players/%238QQRVVL0","body":"Thanks for responding! I&#39;ve updated the question to reflect the value of tag. I&#39;m not trying to create a query within the URI, I&#39;m trying to use GET to retrieve information that is tied to a specific player (denoted by their tag). The end URI should look like this:  .../players/%238QQRVVL0"},{"owner":{"account_id":3575751,"reputation":374,"user_id":2985057,"display_name":"Kelsey"},"score":0,"creation_date":1695399352,"post_id":77159172,"comment_id":136023958,"body_markdown":"You&#39;re welcome!\nI&#39;ll update my comment with some new code, but I think you still might be able to use something like this","body":"You&#39;re welcome! I&#39;ll update my comment with some new code, but I think you still might be able to use something like this"},{"owner":{"account_id":3575751,"reputation":374,"user_id":2985057,"display_name":"Kelsey"},"score":0,"creation_date":1695399507,"post_id":77159172,"comment_id":136023999,"body_markdown":"Let me know if encoding the path when you call the GET works! Note that depending on your server, you may need UTF-16","body":"Let me know if encoding the path when you call the GET works! Note that depending on your server, you may need UTF-16"},{"owner":{"account_id":22025771,"reputation":11,"user_id":16293797,"display_name":"mrvibes"},"score":1,"creation_date":1695399879,"post_id":77159172,"comment_id":136024068,"body_markdown":"Hmm, I thought that would work but unfortunately it didn&#39;t. It did change my result though, now instead of `%25238QQRVVL0` I get `%2525238QQRVVL0` in my URI.\n\nEDIT: I forgot to mention I tried both UTF-8 and UTF-16, UTF-16 gives a much larger URI","body":"Hmm, I thought that would work but unfortunately it didn&#39;t. It did change my result though, now instead of <code>%25238QQRVVL0</code> I get <code>%2525238QQRVVL0</code> in my URI.  EDIT: I forgot to mention I tried both UTF-8 and UTF-16, UTF-16 gives a much larger URI"},{"owner":{"account_id":3575751,"reputation":374,"user_id":2985057,"display_name":"Kelsey"},"score":0,"creation_date":1695400176,"post_id":77159172,"comment_id":136024132,"body_markdown":"What if you try removing the replace but keeping the encoder? does it then encode properly?","body":"What if you try removing the replace but keeping the encoder? does it then encode properly?"},{"owner":{"account_id":22025771,"reputation":11,"user_id":16293797,"display_name":"mrvibes"},"score":1,"creation_date":1695400672,"post_id":77159172,"comment_id":136024225,"body_markdown":"Weirdly enough it still does the double replace! `/players/%25238QQRVVL0` is the URI. This is exactly why I&#39;m stumped, it seems to only be replacing the &#39;%&#39; character and nothing else, even when the &#39;%&#39; character is totally valid.","body":"Weirdly enough it still does the double replace! <code>&#47;players&#47;%25238QQRVVL0</code> is the URI. This is exactly why I&#39;m stumped, it seems to only be replacing the &#39;%&#39; character and nothing else, even when the &#39;%&#39; character is totally valid."},{"owner":{"account_id":3575751,"reputation":374,"user_id":2985057,"display_name":"Kelsey"},"score":0,"creation_date":1695400731,"post_id":77159172,"comment_id":136024242,"body_markdown":"AH I SEE it! it could be the slash\nThe slash is probably causing you these issues","body":"AH I SEE it! it could be the slash The slash is probably causing you these issues"},{"owner":{"account_id":3575751,"reputation":374,"user_id":2985057,"display_name":"Kelsey"},"score":0,"creation_date":1695400963,"post_id":77159172,"comment_id":136024284,"body_markdown":"Can you try updating the / inside of playersEndpoint with %2F instead?\nhttps://seonorth.ca/server/forward-slash-in-url/#:~:text=In%20URLs%2C%20special%20characters%20like,character%20is%20encoded%20as%20%2F%20.","body":"Can you try updating the / inside of playersEndpoint with %2F instead? <a href=\"https://seonorth.ca/server/forward-slash-in-url/#:~:text=In%20URLs%2C%20special%20characters%20like,character%20is%20encoded%20as%20%2F%20\" rel=\"nofollow noreferrer\">seonorth.ca/server/forward-slash-in-url/&hellip;</a>."},{"owner":{"account_id":22025771,"reputation":11,"user_id":16293797,"display_name":"mrvibes"},"score":1,"creation_date":1695401416,"post_id":77159172,"comment_id":136024363,"body_markdown":"Shoot I would love to move this to chat but I don&#39;t have enough reputation lol. The slash does need to be in there, and as far as I&#39;m aware shouldn&#39;t cause any problems affecting other characters.\n\nAH just saw your other message, let me try.","body":"Shoot I would love to move this to chat but I don&#39;t have enough reputation lol. The slash does need to be in there, and as far as I&#39;m aware shouldn&#39;t cause any problems affecting other characters.  AH just saw your other message, let me try."},{"owner":{"account_id":22025771,"reputation":11,"user_id":16293797,"display_name":"mrvibes"},"score":1,"creation_date":1695401596,"post_id":77159172,"comment_id":136024386,"body_markdown":"That just made it encode the other percent sign as `%252F`, compounding the problem :(","body":"That just made it encode the other percent sign as <code>%252F</code>, compounding the problem :("}],"tags":[],"owner":{"account_id":3575751,"reputation":374,"user_id":2985057,"display_name":"Kelsey"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695401086,"creation_date":1695398494,"answer_id":77159172,"question_id":77159085,"body_markdown":"You could try something like:\r\n\r\n    String url = &quot;https://example.com?q=&quot; + URLEncoder.encode(q, StandardCharsets.UTF_8);\r\n\r\n\r\n\r\nThe reason this is happening is because Java spring uses what is known as percent encoding - that&#39;s why % is being converted to a %25, more on this here:\r\nhttps://en.wikipedia.org/wiki/Percent-encoding\r\n\r\n\r\nIf you can give some more details about where &amp; how you&#39;ve defined tag, I may be able to give other specific suggestions.\r\n\r\nUpdate:\r\nMaybe you could try something like this?\r\n\r\n    JSONObject json = webClient.get()\r\n                .uri(playersEndpoint + UriUtils.encodePath(tag, &quot;UTF-8&quot;)))\r\n                .retrieve()\r\n                .bodyToMono(JSONObject.class)\r\n                .block();\r\n\r\nFollow up update:\r\n\r\nTry updating the / inside of playersEndpoint with %2F instead? \r\n","title":"WebClient in Java Spring replaces the &#39;%&#39; character when I don&#39;t want it to","body":"<p>You could try something like:</p>\n<pre><code>String url = &quot;https://example.com?q=&quot; + URLEncoder.encode(q, StandardCharsets.UTF_8);\n</code></pre>\n<p>The reason this is happening is because Java spring uses what is known as percent encoding - that's why % is being converted to a %25, more on this here:\n<a href=\"https://en.wikipedia.org/wiki/Percent-encoding\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Percent-encoding</a></p>\n<p>If you can give some more details about where &amp; how you've defined tag, I may be able to give other specific suggestions.</p>\n<p>Update:\nMaybe you could try something like this?</p>\n<pre><code>JSONObject json = webClient.get()\n            .uri(playersEndpoint + UriUtils.encodePath(tag, &quot;UTF-8&quot;)))\n            .retrieve()\n            .bodyToMono(JSONObject.class)\n            .block();\n</code></pre>\n<p>Follow up update:</p>\n<p>Try updating the / inside of playersEndpoint with %2F instead?</p>\n"}],"owner":{"account_id":22025771,"reputation":11,"user_id":16293797,"display_name":"mrvibes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695402514,"creation_date":1695397719,"question_id":77159085,"body_markdown":"I am trying to create a URI that contains a &#39;#&#39;. I understand that that needs to be replaced by &quot;%23&quot;, so I do. However, when using WebClient to connect to the endpoint, it automatically replaces the &#39;%&#39; with &quot;%25&quot;, so I end up with &quot;%2523&quot;. \r\n\r\nI tried just leaving the &#39;#&#39; character in, thinking that it replaced all illegal characters with their encoded format (I may be using the wrong terms here) but it does not replace it. Below is what I have, nothing too complicated.\r\n\r\nUPDATE: tag is a short string that contains a &#39;#&#39; character with every other character being valid. In the below example, tag is `#8QQRVVL0`. It is not a URI fragment, just the way the identifier system was designed.\r\n\r\n\r\n\r\n\r\n```\r\nif(tag.contains(&quot;#&quot;)){\r\n            tag = tag.replace(&quot;#&quot;, &quot;%23&quot;);\r\n        }\r\n        UserStatistics user = new UserStatistics();\r\n        String playersEndpoint = &quot;players/&quot;;\r\n        JSONObject json = webClient.get()\r\n                .uri(playersEndpoint + tag)\r\n                .retrieve()\r\n                .bodyToMono(JSONObject.class)\r\n                .block();\r\n```\r\n\r\nThe rest of my URI is created when I instantiate the WebClient object, prior in the Class.\r\n\r\n","title":"WebClient in Java Spring replaces the &#39;%&#39; character when I don&#39;t want it to","body":"<p>I am trying to create a URI that contains a '#'. I understand that that needs to be replaced by &quot;%23&quot;, so I do. However, when using WebClient to connect to the endpoint, it automatically replaces the '%' with &quot;%25&quot;, so I end up with &quot;%2523&quot;.</p>\n<p>I tried just leaving the '#' character in, thinking that it replaced all illegal characters with their encoded format (I may be using the wrong terms here) but it does not replace it. Below is what I have, nothing too complicated.</p>\n<p>UPDATE: tag is a short string that contains a '#' character with every other character being valid. In the below example, tag is <code>#8QQRVVL0</code>. It is not a URI fragment, just the way the identifier system was designed.</p>\n<pre><code>if(tag.contains(&quot;#&quot;)){\n            tag = tag.replace(&quot;#&quot;, &quot;%23&quot;);\n        }\n        UserStatistics user = new UserStatistics();\n        String playersEndpoint = &quot;players/&quot;;\n        JSONObject json = webClient.get()\n                .uri(playersEndpoint + tag)\n                .retrieve()\n                .bodyToMono(JSONObject.class)\n                .block();\n</code></pre>\n<p>The rest of my URI is created when I instantiate the WebClient object, prior in the Class.</p>\n"},{"tags":["java","arrays","random","probability-distribution"],"comments":[{"owner":{"account_id":19410276,"reputation":1735,"user_id":14194793,"display_name":"MFerguson"},"score":0,"creation_date":1637238654,"post_id":70019852,"comment_id":123775795,"body_markdown":"Just use Math.random to generate a number, then use an if to check if it is above/below a certain value to get your &quot;probability&quot;","body":"Just use Math.random to generate a number, then use an if to check if it is above/below a certain value to get your &quot;probability&quot;"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695402233,"creation_date":1637240166,"answer_id":70020243,"question_id":70019852,"body_markdown":"Let&#39;s say you specify your probabilities in an array:\r\n\r\n    double[] probs = {50, 30, 12, 2.5, 0.85 /*, ...*/};\r\n\r\nYou can calculate the total of the probabilities:\r\n\r\n    double totalProbs = DoubleStream.of(probs).sum();\r\n\r\nAnd declare a random object:\r\n\r\n    Random random = new Random();\r\n\r\nYou can then write a method that returns a random goal:\r\n\r\n    public int randomGoal() {\r\n        double x = random.nextDouble() * totalProbs;\r\n        for (int i = 0; i &lt; probs.length; ++i) {\r\n            x -= probs[i];\r\n            if (x &lt;= 0) {\r\n                return goals[i];\r\n            }\r\n        }\r\n        return goals[goals.length - 1];\r\n    }\r\n","title":"How to pick an element from an array with a probability distribution?","body":"<p>Let's say you specify your probabilities in an array:</p>\n<pre><code>double[] probs = {50, 30, 12, 2.5, 0.85 /*, ...*/};\n</code></pre>\n<p>You can calculate the total of the probabilities:</p>\n<pre><code>double totalProbs = DoubleStream.of(probs).sum();\n</code></pre>\n<p>And declare a random object:</p>\n<pre><code>Random random = new Random();\n</code></pre>\n<p>You can then write a method that returns a random goal:</p>\n<pre><code>public int randomGoal() {\n    double x = random.nextDouble() * totalProbs;\n    for (int i = 0; i &lt; probs.length; ++i) {\n        x -= probs[i];\n        if (x &lt;= 0) {\n            return goals[i];\n        }\n    }\n    return goals[goals.length - 1];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082349,"reputation":2292,"user_id":1078986,"accept_rate":79,"display_name":"asinkxcoswt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637241309,"creation_date":1637240395,"answer_id":70020299,"question_id":70019852,"body_markdown":"You can create an array of 100 elements, then for each number `i` in the array `goals`, put `i` into the new array `n` times where `n` equals the probability of `i` times the array size (100). Then randomly pick an element from the new array.\r\n\r\nYou can increase the array size (100) to get a more precise result. The most precise result will be when you pick the array size that makes every `n` a whole number.\r\n\r\n**Example:**\r\n\r\nhttps://jsfiddle.net/o5hmjxd2/28/\r\n\r\n```\r\nconst x = [0,1,2,3,4,5,6,7,8,9];\r\nconst p = [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1]\r\nconst l = 100;\r\n\r\nlet y = [];\r\n\r\n\r\nfor (const i = 0; i &lt; x.length; i++) {\r\n  y = y.concat(new Array(l*p[i]).fill(x[i]));\r\n}\r\n\r\nfunction getRandomInt(max) {\r\n  return Math.floor(Math.random() * max);\r\n}\r\n\r\n// result\r\nconsole.log(y);\r\nconsole.log(y[getRandomInt(y.length - 1)])\r\n```","title":"How to pick an element from an array with a probability distribution?","body":"<p>You can create an array of 100 elements, then for each number <code>i</code> in the array <code>goals</code>, put <code>i</code> into the new array <code>n</code> times where <code>n</code> equals the probability of <code>i</code> times the array size (100). Then randomly pick an element from the new array.</p>\n<p>You can increase the array size (100) to get a more precise result. The most precise result will be when you pick the array size that makes every <code>n</code> a whole number.</p>\n<p><strong>Example:</strong></p>\n<p><a href=\"https://jsfiddle.net/o5hmjxd2/28/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/o5hmjxd2/28/</a></p>\n<pre><code>const x = [0,1,2,3,4,5,6,7,8,9];\nconst p = [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1]\nconst l = 100;\n\nlet y = [];\n\n\nfor (const i = 0; i &lt; x.length; i++) {\n  y = y.concat(new Array(l*p[i]).fill(x[i]));\n}\n\nfunction getRandomInt(max) {\n  return Math.floor(Math.random() * max);\n}\n\n// result\nconsole.log(y);\nconsole.log(y[getRandomInt(y.length - 1)])\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637242933,"creation_date":1637242933,"answer_id":70020920,"question_id":70019852,"body_markdown":"Try this.\r\n\r\n    public class DistributedProbability {\r\n\r\n        final NavigableMap&lt;Double, Integer&gt; distribution = new TreeMap&lt;&gt;();\r\n        final Random random = new Random();\r\n        public final int size;\r\n        public final double max;\r\n\r\n        public DistributedProbability(double... rates) {\r\n            double sum = 0;\r\n            int index = 0;\r\n            for (double rate : rates) {\r\n                sum += rate;\r\n                this.distribution.put(sum, index++);\r\n            }\r\n            size = index;\r\n            max = sum;\r\n        }\r\n\r\n        int next() {\r\n            double d = random.nextDouble(max);\r\n            Entry&lt;Double, Integer&gt; entry = distribution.higherEntry(d);\r\n            return entry.getValue();\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    public static void main(String[] args) {\r\n        DistributedProbability d = new DistributedProbability(\r\n            50, 30, 12, 2.5, 0.85, 4.65);\r\n\r\n        int[] counts = new int[d.size];\r\n        for (int i = 0; i &lt; 100000; ++i)\r\n            ++counts[d.next()];\r\n\r\n        System.out.println(Arrays.toString(counts));\r\n    }\r\n\r\noutput:\r\n\r\n    [49844, 30101, 12023, 2512, 845, 4675]\r\n","title":"How to pick an element from an array with a probability distribution?","body":"<p>Try this.</p>\n<pre><code>public class DistributedProbability {\n\n    final NavigableMap&lt;Double, Integer&gt; distribution = new TreeMap&lt;&gt;();\n    final Random random = new Random();\n    public final int size;\n    public final double max;\n\n    public DistributedProbability(double... rates) {\n        double sum = 0;\n        int index = 0;\n        for (double rate : rates) {\n            sum += rate;\n            this.distribution.put(sum, index++);\n        }\n        size = index;\n        max = sum;\n    }\n\n    int next() {\n        double d = random.nextDouble(max);\n        Entry&lt;Double, Integer&gt; entry = distribution.higherEntry(d);\n        return entry.getValue();\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public static void main(String[] args) {\n    DistributedProbability d = new DistributedProbability(\n        50, 30, 12, 2.5, 0.85, 4.65);\n\n    int[] counts = new int[d.size];\n    for (int i = 0; i &lt; 100000; ++i)\n        ++counts[d.next()];\n\n    System.out.println(Arrays.toString(counts));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[49844, 30101, 12023, 2512, 845, 4675]\n</code></pre>\n"}],"owner":{"account_id":20206009,"reputation":251,"user_id":14820406,"display_name":"alejandroMAD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637254065,"accepted_answer_id":70020299,"answer_count":3,"score":0,"last_activity_date":1695402233,"creation_date":1637238482,"question_id":70019852,"body_markdown":"I have a mathematical/programming question about a problem I am trying to solve. Given this simple array of integers:\r\n\r\n```int[] goals = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};```\r\n\r\nDo you know how could I implement a function to pick an element from the array given a distributed probability like the one from this example?:\r\n\r\n- The probability of picking goals[0] is 50%\r\n- The probability of picking goals[1] is 30%\r\n- The probability of picking goals[2] is 12%\r\n- The probability of picking goals[3] is 2.5%\r\n- The probability of picking goals[4] is 0.85%\r\n- etcetera\r\n\r\nThe probability distribution is of my choice, hardcoded to keep things simple.\r\n\r\nThank you very much for your inputs!","title":"How to pick an element from an array with a probability distribution?","body":"<p>I have a mathematical/programming question about a problem I am trying to solve. Given this simple array of integers:</p>\n<p><code>int[] goals = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};</code></p>\n<p>Do you know how could I implement a function to pick an element from the array given a distributed probability like the one from this example?:</p>\n<ul>\n<li>The probability of picking goals[0] is 50%</li>\n<li>The probability of picking goals[1] is 30%</li>\n<li>The probability of picking goals[2] is 12%</li>\n<li>The probability of picking goals[3] is 2.5%</li>\n<li>The probability of picking goals[4] is 0.85%</li>\n<li>etcetera</li>\n</ul>\n<p>The probability distribution is of my choice, hardcoded to keep things simple.</p>\n<p>Thank you very much for your inputs!</p>\n"},{"tags":["java","gradle","tomcat","build.gradle"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1695392138,"post_id":77156447,"comment_id":136022467,"body_markdown":"Are you sure that that contextPath value for gretty actually works? Where does your application physically end up at runtime?","body":"Are you sure that that contextPath value for gretty actually works? Where does your application physically end up at runtime?"},{"owner":{"account_id":24718870,"reputation":33,"user_id":18608248,"display_name":"helloi"},"score":0,"creation_date":1695400361,"post_id":77156447,"comment_id":136024170,"body_markdown":"@nitind It&#39;s supposed to render a jsp page","body":"@nitind It&#39;s supposed to render a jsp page"},{"owner":{"account_id":24718870,"reputation":33,"user_id":18608248,"display_name":"helloi"},"score":0,"creation_date":1695400601,"post_id":77156447,"comment_id":136024208,"body_markdown":"@nitind I&#39;ve edited the question, please verify","body":"@nitind I&#39;ve edited the question, please verify"}],"owner":{"account_id":24718870,"reputation":33,"user_id":18608248,"display_name":"helloi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695400555,"creation_date":1695375225,"question_id":77156447,"body_markdown":"I have a Spring application. I&#39;m trying to run it on localhost:8080 using gradle. This is the build.gradle file:\r\n```\r\nplugins {\r\n    id &#39;war&#39;\r\n    id &#39;org.gretty&#39; version &#39;3.0.5&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    providedCompile &#39;javax.servlet:javax.servlet-api:4.0.1&#39;\r\n    gretty &#39;org.apache.tomcat.embed:tomcat-embed-core:9.0.54&#39;\r\n}\r\n\r\ngretty {\r\n    httpPort = 8080  // Port on which the embedded Tomcat server will listen\r\n    contextPath = &#39;/&#39;  // Context path for your application\r\n    servletContainer = &#39;tomcat9&#39;  \r\n}\r\n```\r\nThis is the web.xml configuration:\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\nxmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\nxmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\nxsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\nhttp://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; version=&quot;2.5&quot;&gt;\r\n\t \r\n    \r\n    &lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;V2_GACD&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;com.V2_GACDServlet&lt;/servlet-class&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;V2_GACD&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/v2_gacd&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\t\r\n\t\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;/WEB-INF/dispatch-servlet.xml&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;dispatch&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;dispatch&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt; \r\n```\r\n\r\nThis starts the Tomcat server, but when I access the url `http://localhost:8080/`, it gives me a 404 error. But when I ran the same in app engine, it was showing the index.jsp page as soon as the base url is hit. What could be the issue? \r\n\r\nEdit:\r\nThis is the file that has the code that will return a jsp page\r\n```package com.action;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.text.ParseException;\r\nimport java.util.HashMap;\r\nimport java.util.ResourceBundle;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\nimport java.util.Properties;\r\n\r\nimport javax.servlet.ServletOutputStream;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.HttpSession;\r\nimport javax.mail.Message;\r\nimport javax.mail.MessagingException;\r\nimport javax.mail.Session;\r\nimport javax.mail.Transport;\r\nimport javax.mail.internet.AddressException;\r\nimport javax.mail.internet.InternetAddress;\r\nimport javax.mail.internet.MimeMessage;\r\n\r\nimport org.apache.commons.io.IOUtils;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\nimport org.codehaus.jackson.JsonGenerator;\r\nimport org.codehaus.jackson.JsonParser;\r\nimport org.codehaus.jackson.map.DeserializationConfig;\r\nimport org.codehaus.jackson.map.ObjectMapper;\r\nimport org.codehaus.jackson.map.SerializationConfig;\r\nimport org.codehaus.jackson.map.annotate.JsonSerialize;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestHeader;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\nimport com.fullauth.api.enums.OauthResponseType;\r\nimport com.fullauth.api.exception.TokenResponseException;\r\nimport com.fullauth.api.model.oauth.OauthAccessToken;\r\nimport com.fullauth.api.service.FullAuthOauthService;\r\nimport com.google.appengine.labs.repackaged.org.json.JSONArray;\r\nimport com.google.appengine.labs.repackaged.org.json.JSONObject;\r\nimport com.service.AgentHelper;\r\n//import com.service.CallData;\r\nimport com.service.GoClockService;\r\n//import com.service.PMF;\r\nimport com.service.RequestHandler;\r\nimport com.service.StackTraceWriter;\r\nimport com.google.cloud.kms.v1.*;\r\nimport com.google.cloud.kms.v1.KeyManagementServiceClient;\r\nimport com.google.protobuf.ByteString;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.File; \r\n\r\n@Controller\r\n@RequestMapping(&quot;/AgentInfoAction&quot;)\r\npublic class AgentInfoAction {\r\n\tResourceBundle resourceBundle = ResourceBundle\r\n\t\t\t.getBundle(&quot;ApplicationResources&quot;);\r\n\tString sb_path = resourceBundle.getString(&quot;sb.domain.name&quot;);\r\n\r\n\tprivate static final Logger logger = LogManager.getLogger(AgentInfoAction.class\r\n\t\t\t.getPackage().getName());\r\n\t\r\n\tstatic final ObjectMapper mapper = new ObjectMapper();\r\n\tstatic {\r\n\t\tmapper.configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, true);\r\n\r\n\t\tmapper.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\r\n\t\tmapper.configure(SerializationConfig.Feature.WRITE_DATES_AS_TIMESTAMPS,\r\n\t\t\t\ttrue);\r\n\t\tmapper.configure(\r\n\t\t\t\tDeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\t\tmapper.getSerializationConfig().setSerializationInclusion(\r\n\t\t\t\tJsonSerialize.Inclusion.NON_NULL);\r\n\t}\r\n\r\n\t@ResponseBody\r\n\t@RequestMapping(&quot;/saveAgentInfo&quot;)\r\n\tpublic String saveAgentInfo(HttpServletRequest req, HttpServletResponse res) throws IOException {\r\n//\t\tString agent = req.getParameter(&quot;agent&quot;);\r\n\t\tString state = req.getParameter(&quot;state&quot;);\r\n//\t\tString readypercent = req.getParameter(&quot;readypercent&quot;);\r\n//\t\tString agentname = req.getParameter(&quot;agentname&quot;);\r\n//\t\tString v2login = req.getParameter(&quot;v2login&quot;);\r\n\t\tString email = req.getParameter(&quot;email&quot;);\r\n\t\tString sessionId = req.getParameter(&quot;sessionId&quot;);\r\n\t\tString _uniquePin = req.getParameter(&quot;uniquePin&quot;) == null ? req\r\n\t\t\t\t.getParameter(&quot;uniquepin&quot;) : req.getParameter(&quot;uniquePin&quot;);\r\n\t\tString _eventLongTime = req.getParameter(&quot;eventTime&quot;) == null ?  String.valueOf(System.currentTimeMillis()) : req.getParameter(&quot;eventTime&quot;);//req.getParameter(&quot;eventLongTime&quot;);\r\n\t\t//String _eventLongTime = String.valueOf(System.currentTimeMillis()) ;\t\r\n\t\tString clockingStatus = req.getParameter(&quot;clockingStatus&quot;);\r\n\t\tString contactId = req.getParameter(&quot;contactId&quot;);\r\n\t\tString response = &quot;&quot;;\r\n\t\t//logger.info(&quot;req is : &quot;+req);\r\n\t\t//logger.info(&quot;isMissedStatus --=&gt; &quot;+req.getParameter(&quot;isMissedStatus&quot;));\r\n\t\t\r\n\t\tString serverAccessToken = new AgentHelper().getOauthAccessTokenWithJWT().getAccessToken();\r\n\t\ttry {\r\n\t\t\tHashMap&lt;String, String&gt; userMetaData = new HashMap&lt;String, String&gt;();\r\n\t\t\tuserMetaData.put(&quot;country&quot;, req.getHeader(&quot;X-AppEngine-Country&quot;));\r\n\t\t\tuserMetaData.put(&quot;region&quot;, req.getHeader(&quot;X-AppEngine-Region&quot;));\r\n\t\t\tuserMetaData.put(&quot;city&quot;, req.getHeader(&quot;X-AppEngine-City&quot;));\r\n\t\t\tuserMetaData.put(&quot;latlong&quot;,\r\n\t\t\t\t\treq.getHeader(&quot;X-AppEngine-CityLatLong&quot;));\r\n\t\t\tresponse = new GoClockService().trackEvent(state,\r\n\t\t\t\t\treq.getRemoteAddr(), email, sessionId,\r\n\t\t\t\t\tuserMetaData, _uniquePin, _eventLongTime, clockingStatus,contactId,serverAccessToken);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn response;\r\n\t}\r\n\r\n\t@RequestMapping(&quot;/ccpView&quot;)\r\n\tpublic String ccpView(HttpServletRequest request,\r\n\t\t\tHttpServletResponse response) {\r\n\t\treturn &quot;mainpage&quot;;\r\n\t}\r\n```\r\n    `mainpage` will return the index.jsp page. Works fine for app engine. Even tried to hit the exact url with /AgentInfoAction/ccpView at the end of localhost:8080, nothing seems to be working","title":"Tomcat server sends 404 error when hitting the url","body":"<p>I have a Spring application. I'm trying to run it on localhost:8080 using gradle. This is the build.gradle file:</p>\n<pre><code>plugins {\n    id 'war'\n    id 'org.gretty' version '3.0.5'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    providedCompile 'javax.servlet:javax.servlet-api:4.0.1'\n    gretty 'org.apache.tomcat.embed:tomcat-embed-core:9.0.54'\n}\n\ngretty {\n    httpPort = 8080  // Port on which the embedded Tomcat server will listen\n    contextPath = '/'  // Context path for your application\n    servletContainer = 'tomcat9'  \n}\n</code></pre>\n<p>This is the web.xml configuration:</p>\n<pre><code>&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\nxmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\nxsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\nhttp://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; version=&quot;2.5&quot;&gt;\n     \n    \n    &lt;servlet&gt;\n        &lt;servlet-name&gt;V2_GACD&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.V2_GACDServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;V2_GACD&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/v2_gacd&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    \n    \n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/dispatch-servlet.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatch&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatch&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt; \n</code></pre>\n<p>This starts the Tomcat server, but when I access the url <code>http://localhost:8080/</code>, it gives me a 404 error. But when I ran the same in app engine, it was showing the index.jsp page as soon as the base url is hit. What could be the issue?</p>\n<p>Edit:\nThis is the file that has the code that will return a jsp page</p>\n<pre><code>\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.UnsupportedEncodingException;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.text.ParseException;\nimport java.util.HashMap;\nimport java.util.ResourceBundle;\nimport java.util.Set;\nimport java.util.stream.Collectors;\nimport java.util.Properties;\n\nimport javax.servlet.ServletOutputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.AddressException;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\nimport org.apache.commons.io.IOUtils;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport org.codehaus.jackson.JsonGenerator;\nimport org.codehaus.jackson.JsonParser;\nimport org.codehaus.jackson.map.DeserializationConfig;\nimport org.codehaus.jackson.map.ObjectMapper;\nimport org.codehaus.jackson.map.SerializationConfig;\nimport org.codehaus.jackson.map.annotate.JsonSerialize;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestHeader;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport com.fullauth.api.enums.OauthResponseType;\nimport com.fullauth.api.exception.TokenResponseException;\nimport com.fullauth.api.model.oauth.OauthAccessToken;\nimport com.fullauth.api.service.FullAuthOauthService;\nimport com.google.appengine.labs.repackaged.org.json.JSONArray;\nimport com.google.appengine.labs.repackaged.org.json.JSONObject;\nimport com.service.AgentHelper;\n//import com.service.CallData;\nimport com.service.GoClockService;\n//import com.service.PMF;\nimport com.service.RequestHandler;\nimport com.service.StackTraceWriter;\nimport com.google.cloud.kms.v1.*;\nimport com.google.cloud.kms.v1.KeyManagementServiceClient;\nimport com.google.protobuf.ByteString;\n\nimport java.io.BufferedReader;\nimport java.io.File; \n\n@Controller\n@RequestMapping(&quot;/AgentInfoAction&quot;)\npublic class AgentInfoAction {\n    ResourceBundle resourceBundle = ResourceBundle\n            .getBundle(&quot;ApplicationResources&quot;);\n    String sb_path = resourceBundle.getString(&quot;sb.domain.name&quot;);\n\n    private static final Logger logger = LogManager.getLogger(AgentInfoAction.class\n            .getPackage().getName());\n    \n    static final ObjectMapper mapper = new ObjectMapper();\n    static {\n        mapper.configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, true);\n\n        mapper.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\n        mapper.configure(SerializationConfig.Feature.WRITE_DATES_AS_TIMESTAMPS,\n                true);\n        mapper.configure(\n                DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        mapper.getSerializationConfig().setSerializationInclusion(\n                JsonSerialize.Inclusion.NON_NULL);\n    }\n\n    @ResponseBody\n    @RequestMapping(&quot;/saveAgentInfo&quot;)\n    public String saveAgentInfo(HttpServletRequest req, HttpServletResponse res) throws IOException {\n//      String agent = req.getParameter(&quot;agent&quot;);\n        String state = req.getParameter(&quot;state&quot;);\n//      String readypercent = req.getParameter(&quot;readypercent&quot;);\n//      String agentname = req.getParameter(&quot;agentname&quot;);\n//      String v2login = req.getParameter(&quot;v2login&quot;);\n        String email = req.getParameter(&quot;email&quot;);\n        String sessionId = req.getParameter(&quot;sessionId&quot;);\n        String _uniquePin = req.getParameter(&quot;uniquePin&quot;) == null ? req\n                .getParameter(&quot;uniquepin&quot;) : req.getParameter(&quot;uniquePin&quot;);\n        String _eventLongTime = req.getParameter(&quot;eventTime&quot;) == null ?  String.valueOf(System.currentTimeMillis()) : req.getParameter(&quot;eventTime&quot;);//req.getParameter(&quot;eventLongTime&quot;);\n        //String _eventLongTime = String.valueOf(System.currentTimeMillis()) ;  \n        String clockingStatus = req.getParameter(&quot;clockingStatus&quot;);\n        String contactId = req.getParameter(&quot;contactId&quot;);\n        String response = &quot;&quot;;\n        //logger.info(&quot;req is : &quot;+req);\n        //logger.info(&quot;isMissedStatus --=&gt; &quot;+req.getParameter(&quot;isMissedStatus&quot;));\n        \n        String serverAccessToken = new AgentHelper().getOauthAccessTokenWithJWT().getAccessToken();\n        try {\n            HashMap&lt;String, String&gt; userMetaData = new HashMap&lt;String, String&gt;();\n            userMetaData.put(&quot;country&quot;, req.getHeader(&quot;X-AppEngine-Country&quot;));\n            userMetaData.put(&quot;region&quot;, req.getHeader(&quot;X-AppEngine-Region&quot;));\n            userMetaData.put(&quot;city&quot;, req.getHeader(&quot;X-AppEngine-City&quot;));\n            userMetaData.put(&quot;latlong&quot;,\n                    req.getHeader(&quot;X-AppEngine-CityLatLong&quot;));\n            response = new GoClockService().trackEvent(state,\n                    req.getRemoteAddr(), email, sessionId,\n                    userMetaData, _uniquePin, _eventLongTime, clockingStatus,contactId,serverAccessToken);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return response;\n    }\n\n    @RequestMapping(&quot;/ccpView&quot;)\n    public String ccpView(HttpServletRequest request,\n            HttpServletResponse response) {\n        return &quot;mainpage&quot;;\n    }\n</code></pre>\n<pre><code>`mainpage` will return the index.jsp page. Works fine for app engine. Even tried to hit the exact url with /AgentInfoAction/ccpView at the end of localhost:8080, nothing seems to be working\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1695253045,"post_id":77146414,"comment_id":136001206,"body_markdown":"How do you even see the drawn rectangles since they are all surrounded by filled rectangles of the same color? The only place you&#39;ll see an edge is at the edge of the entire board.","body":"How do you even see the drawn rectangles since they are all surrounded by filled rectangles of the same color? The only place you&#39;ll see an edge is at the edge of the entire board."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1695253106,"post_id":77146414,"comment_id":136001213,"body_markdown":"Myself, I wouldn&#39;t even draw the grid as you&#39;re doing but rather would use a grid of JPanels placed in a GridLayout. My reasoning is that I want the chess square to be able to hold a chess piece (probably a JLabel with an image icon), and a JPanel would work perfectly for this.","body":"Myself, I wouldn&#39;t even draw the grid as you&#39;re doing but rather would use a grid of JPanels placed in a GridLayout. My reasoning is that I want the chess square to be able to hold a chess piece (probably a JLabel with an image icon), and a JPanel would work perfectly for this."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1695253200,"post_id":77146414,"comment_id":136001220,"body_markdown":"`private int rectX = 0;     private int rectY = 0;` Those variables are used in the painting method and should be initialized in the painting method, otherwise they never reset to 0, the next time the panel is painted. So the panel simply gets cleared by the super.paintComponent(...) statement. Also, you should not be using static variables. Your painting panel should not need to reference the frame directly.","body":"<code>private int rectX = 0;     private int rectY = 0;</code> Those variables are used in the painting method and should be initialized in the painting method, otherwise they never reset to 0, the next time the panel is painted. So the panel simply gets cleared by the super.paintComponent(...) statement. Also, you should not be using static variables. Your painting panel should not need to reference the frame directly."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1695253205,"post_id":77146414,"comment_id":136001221,"body_markdown":"[For example](https://stackoverflow.com/a/21432607/522444)","body":"<a href=\"https://stackoverflow.com/a/21432607/522444\">For example</a>"},{"owner":{"account_id":23547612,"reputation":23,"user_id":17590799,"display_name":"grenade05"},"score":0,"creation_date":1695253258,"post_id":77146414,"comment_id":136001225,"body_markdown":"@HovercraftFullOfEels That&#39;s what I was thinking of doing instead. I&#39;ll try doing that instead, and post an update when done.","body":"@HovercraftFullOfEels That&#39;s what I was thinking of doing instead. I&#39;ll try doing that instead, and post an update when done."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695253400,"post_id":77146414,"comment_id":136001238,"body_markdown":"`private static JFrame frame; private static Container contentPanel;` are code smells and generally a bad idea","body":"<code>private static JFrame frame; private static Container contentPanel;</code> are code smells and generally a bad idea"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1695253602,"post_id":77146414,"comment_id":136001257,"body_markdown":"@HovercraftFullOfEels *How do you even see the drawn rectangle* - the code uses a `drawRect(...)` and `fillRect(...)`. So the background of the drawRect will be the background of the panel. Tricky, but the painting logic is still wrong (it paints columns of the same colour not alternating squares).","body":"@HovercraftFullOfEels <i>How do you even see the drawn rectangle</i> - the code uses a <code>drawRect(...)</code> and <code>fillRect(...)</code>. So the background of the drawRect will be the background of the panel. Tricky, but the painting logic is still wrong (it paints columns of the same colour not alternating squares)."}],"answers":[{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1695325081,"post_id":77146792,"comment_id":136013069,"body_markdown":"This may be an alternative approach but it doesn&#39;t solve the problem for your original question which was about custom painting, which you are doing incorrectly. The solution to your original question has been given in the comments.","body":"This may be an alternative approach but it doesn&#39;t solve the problem for your original question which was about custom painting, which you are doing incorrectly. The solution to your original question has been given in the comments."}],"tags":[],"owner":{"account_id":23547612,"reputation":23,"user_id":17590799,"display_name":"grenade05"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695400546,"creation_date":1695261611,"answer_id":77146792,"question_id":77146414,"body_markdown":"Solution suggested by [@Hovercraft Full Of Eels][1]\r\n\r\nI took some personal liberties in formatting the code, but this idea worked. I have ActionListener there for when I add the game&#39;s functionality.\r\n\r\n```java\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Main extends JPanel implements ActionListener {\r\n\t\r\n\tprivate static final int ranks = 8;\r\n\tprivate static final int files = ranks;\r\n\tprivate static final Dimension squareSize = new Dimension(80, 80);\r\n\tprivate static final Color lightSquareColor = Color.gray;\r\n\tprivate static final Color darkSquareColor = Color.black;\r\n\t\r\n\tprivate static List&lt;JPanel&gt; boardSquares = new ArrayList&lt;JPanel&gt;();\r\n\t\r\n\tprivate JPanel chessBoard = new JPanel(new GridLayout(ranks, files));\r\n\t\r\n\tpublic Main() {\r\n\t\t// create ranks/files\r\n\t\tfor (int rank = 0; rank &lt; ranks; rank++) {\r\n\t\t\tfor (int file = 0; file &lt; files; file++) {\r\n\t\t\t\t// create a square and set its size/color\r\n\t\t\t\tJPanel square = new JPanel();\r\n\t\t\t\tsquare.setPreferredSize(squareSize);\r\n\t\t\t\tColor squareColor = (rank % 2 == file % 2) ? lightSquareColor : darkSquareColor;\r\n\t\t\t\tsquare.setBackground(squareColor);\r\n\t\t\t\t// add square to the chess board and to the list of squares for game functionality purposes\r\n\t\t\t\tchessBoard.add(square);\r\n\t\t\t\tboardSquares.add(square);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void createGrid() {\r\n\t\t// define layout for main panel\r\n\t\tsetLayout(new GridBagLayout());\r\n\t\tGridBagConstraints gbConstraints = new GridBagConstraints();\r\n\t\t\r\n\t\t// left-side rank labels\r\n\t\tgbConstraints.gridx = 0;\r\n\t\tgbConstraints.gridy = 1;\r\n\t\tgbConstraints.gridwidth = 1;\r\n\t\tgbConstraints.gridheight = 1;\r\n\t\tgbConstraints.weightx = 0.0;\r\n\t\tgbConstraints.weighty = 0.0;\r\n\t\tgbConstraints.fill = GridBagConstraints.BOTH;\r\n\t\tgbConstraints.anchor = GridBagConstraints.WEST;\r\n\t\tgbConstraints.insets = new Insets(0, 10, 0, 10);\r\n\t\tadd(createRankPanel(), gbConstraints);\r\n\t\t\r\n\t\t// right-size rank labels\r\n\t\tgbConstraints.gridx = 2;\r\n\t\tgbConstraints.anchor = GridBagConstraints.EAST;\r\n\t\tadd(createRankPanel(), gbConstraints);\r\n\t\t\r\n\t\t// top file labels\r\n\t\tgbConstraints.gridx = 1;\r\n\t\tgbConstraints.gridy = 0;\r\n\t\tgbConstraints.anchor = GridBagConstraints.SOUTH;\r\n\t\tgbConstraints.insets = new Insets(5, 0, 5, 0);\r\n\t\tadd(createFilePanel(), gbConstraints);\r\n\t\t\r\n\t\t// bottom file labels\r\n\t\tgbConstraints.gridy = 2;\r\n\t\tgbConstraints.anchor = GridBagConstraints.NORTH;\r\n\t\tadd(createFilePanel(), gbConstraints);\r\n\t\t\r\n\t\t// the chess board itself\r\n\t\tgbConstraints.gridx = 1;\r\n\t\tgbConstraints.gridy = 1;\r\n\t\tgbConstraints.anchor = GridBagConstraints.CENTER;\r\n\t\tgbConstraints.insets = new Insets(0, 0, 0 ,0);\r\n\t\tadd(chessBoard, gbConstraints);\r\n\t}\r\n\t\r\n\t// creates a files panel (for labeling) and returns the panel\r\n\tprivate JPanel createFilePanel() {\r\n\t\tJPanel filePanel = new JPanel(new GridLayout(1,0));\r\n\t\tfor (int i = 0; i &lt; files; i++) {\r\n\t\t\t// set current letter by increasing its ASCII value\r\n\t\t\tchar fileLetter = (char) (&#39;A&#39; + i);\r\n\t\t\tfilePanel.add(new JLabel(String.valueOf(fileLetter), SwingConstants.CENTER));\r\n\t\t}\r\n\t\treturn filePanel;\r\n\t}\r\n\t\r\n\t// creates a ranks panel (for labeling) and returns the panel\r\n\tprivate JPanel createRankPanel() {\r\n\t\tJPanel rankPanel = new JPanel(new GridLayout(0,1));\r\n\t\tfor (int i = 0; i &lt; ranks; i++) {\r\n\t\t\t// count down rather than up\r\n\t\t\tint currentRow = ranks - i;\r\n\t\t\trankPanel.add(new JLabel(String.valueOf(currentRow)));\r\n\t\t}\r\n\t\treturn rankPanel;\r\n\t}\r\n\r\n\t// method to start app\r\n\tprivate static void createAndShowGui() {\r\n\t\t// calls\r\n\t\tMain mainPanel = new Main();\r\n\t\tmainPanel.createGrid();\r\n\t\t\r\n\t\t// make and configure window\r\n\t\tJFrame frame = new JFrame(&quot;Java Chess v1.0&quot;);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.getContentPane().add(mainPanel);\r\n\t\tframe.pack();\r\n\t\tframe.setLocationByPlatform(true);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\t\r\n\t// start the app\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tcreateAndShowGui();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/522444/hovercraft-full-of-eels","title":"Rectangles created from java.awt.Graphics dissapear shortly after window is launched","body":"<p>Solution suggested by <a href=\"https://stackoverflow.com/users/522444/hovercraft-full-of-eels\">@Hovercraft Full Of Eels</a></p>\n<p>I took some personal liberties in formatting the code, but this idea worked. I have ActionListener there for when I add the game's functionality.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressWarnings(&quot;serial&quot;)\npublic class Main extends JPanel implements ActionListener {\n    \n    private static final int ranks = 8;\n    private static final int files = ranks;\n    private static final Dimension squareSize = new Dimension(80, 80);\n    private static final Color lightSquareColor = Color.gray;\n    private static final Color darkSquareColor = Color.black;\n    \n    private static List&lt;JPanel&gt; boardSquares = new ArrayList&lt;JPanel&gt;();\n    \n    private JPanel chessBoard = new JPanel(new GridLayout(ranks, files));\n    \n    public Main() {\n        // create ranks/files\n        for (int rank = 0; rank &lt; ranks; rank++) {\n            for (int file = 0; file &lt; files; file++) {\n                // create a square and set its size/color\n                JPanel square = new JPanel();\n                square.setPreferredSize(squareSize);\n                Color squareColor = (rank % 2 == file % 2) ? lightSquareColor : darkSquareColor;\n                square.setBackground(squareColor);\n                // add square to the chess board and to the list of squares for game functionality purposes\n                chessBoard.add(square);\n                boardSquares.add(square);\n            }\n        }\n    }\n    \n    public void createGrid() {\n        // define layout for main panel\n        setLayout(new GridBagLayout());\n        GridBagConstraints gbConstraints = new GridBagConstraints();\n        \n        // left-side rank labels\n        gbConstraints.gridx = 0;\n        gbConstraints.gridy = 1;\n        gbConstraints.gridwidth = 1;\n        gbConstraints.gridheight = 1;\n        gbConstraints.weightx = 0.0;\n        gbConstraints.weighty = 0.0;\n        gbConstraints.fill = GridBagConstraints.BOTH;\n        gbConstraints.anchor = GridBagConstraints.WEST;\n        gbConstraints.insets = new Insets(0, 10, 0, 10);\n        add(createRankPanel(), gbConstraints);\n        \n        // right-size rank labels\n        gbConstraints.gridx = 2;\n        gbConstraints.anchor = GridBagConstraints.EAST;\n        add(createRankPanel(), gbConstraints);\n        \n        // top file labels\n        gbConstraints.gridx = 1;\n        gbConstraints.gridy = 0;\n        gbConstraints.anchor = GridBagConstraints.SOUTH;\n        gbConstraints.insets = new Insets(5, 0, 5, 0);\n        add(createFilePanel(), gbConstraints);\n        \n        // bottom file labels\n        gbConstraints.gridy = 2;\n        gbConstraints.anchor = GridBagConstraints.NORTH;\n        add(createFilePanel(), gbConstraints);\n        \n        // the chess board itself\n        gbConstraints.gridx = 1;\n        gbConstraints.gridy = 1;\n        gbConstraints.anchor = GridBagConstraints.CENTER;\n        gbConstraints.insets = new Insets(0, 0, 0 ,0);\n        add(chessBoard, gbConstraints);\n    }\n    \n    // creates a files panel (for labeling) and returns the panel\n    private JPanel createFilePanel() {\n        JPanel filePanel = new JPanel(new GridLayout(1,0));\n        for (int i = 0; i &lt; files; i++) {\n            // set current letter by increasing its ASCII value\n            char fileLetter = (char) ('A' + i);\n            filePanel.add(new JLabel(String.valueOf(fileLetter), SwingConstants.CENTER));\n        }\n        return filePanel;\n    }\n    \n    // creates a ranks panel (for labeling) and returns the panel\n    private JPanel createRankPanel() {\n        JPanel rankPanel = new JPanel(new GridLayout(0,1));\n        for (int i = 0; i &lt; ranks; i++) {\n            // count down rather than up\n            int currentRow = ranks - i;\n            rankPanel.add(new JLabel(String.valueOf(currentRow)));\n        }\n        return rankPanel;\n    }\n\n    // method to start app\n    private static void createAndShowGui() {\n        // calls\n        Main mainPanel = new Main();\n        mainPanel.createGrid();\n        \n        // make and configure window\n        JFrame frame = new JFrame(&quot;Java Chess v1.0&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(mainPanel);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    // start the app\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                createAndShowGui();\n            }\n        });\n    }\n    \n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695334818,"creation_date":1695330722,"answer_id":77153671,"question_id":77146414,"body_markdown":"Utilize a _[GridLayout](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/GridLayout.html)_ to create the pattern.\r\n\r\n```java\r\npublic class Main extends JPanel {\r\n\r\n    private static JFrame frame;\r\n    private static Container contentPanel;\r\n\r\n    Main() {\r\n        draw();\r\n    }\r\n\r\n    // draw game textures\r\n    private void draw() {\r\n        setLayout(new GridLayout(8, 8));\r\n        double w = getPreferredSize().getWidth(),\r\n               h = getPreferredSize().getHeight();\r\n        Dimension d = new Dimension((int) (w / 8), (int) (h / 8));\r\n        Color cb = Color.black, cw = Color.white;\r\n        boolean b = true;\r\n        JLabel label;\r\n        for (int i = 0; i &lt; 8 * 8; i++) {\r\n            label = new JLabel();\r\n            label.setPreferredSize(d);\r\n            b = i % 8 == 0 == b;\r\n            label.setBackground(b ? cb : cw);\r\n            label.setOpaque(true);\r\n            add(label);\r\n        }\r\n    }\r\n\r\n    // define preferred size\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(800, 800);\r\n    }\r\n\r\n    // create GUI\r\n    private static void createAndShowGui() {\r\n        Main main = new Main();\r\n\r\n        frame = new JFrame(&quot;Java Chess V1.0&quot;);\r\n        contentPanel = frame.getContentPane();\r\n        contentPanel.add(main);\r\n\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                createAndShowGui();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n&lt;a href=&quot;https://i.stack.imgur.com/exsko.png&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/exsko.png&quot; width=&quot;300&quot; height=&quot;332&quot; /&gt;&lt;/a&gt;\r\n\r\nHere is the _Java_ tutorial on _GridLayout_.\r\n- _[How to Use GridLayout (The Java&amp;trade; Tutorials &amp;gt; Creating a GUI With Swing &amp;gt; Laying Out Components Within a Container)](https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html)_.","title":"Rectangles created from java.awt.Graphics dissapear shortly after window is launched","body":"<p>Utilize a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/GridLayout.html\" rel=\"nofollow noreferrer\">GridLayout</a></em> to create the pattern.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main extends JPanel {\n\n    private static JFrame frame;\n    private static Container contentPanel;\n\n    Main() {\n        draw();\n    }\n\n    // draw game textures\n    private void draw() {\n        setLayout(new GridLayout(8, 8));\n        double w = getPreferredSize().getWidth(),\n               h = getPreferredSize().getHeight();\n        Dimension d = new Dimension((int) (w / 8), (int) (h / 8));\n        Color cb = Color.black, cw = Color.white;\n        boolean b = true;\n        JLabel label;\n        for (int i = 0; i &lt; 8 * 8; i++) {\n            label = new JLabel();\n            label.setPreferredSize(d);\n            b = i % 8 == 0 == b;\n            label.setBackground(b ? cb : cw);\n            label.setOpaque(true);\n            add(label);\n        }\n    }\n\n    // define preferred size\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(800, 800);\n    }\n\n    // create GUI\n    private static void createAndShowGui() {\n        Main main = new Main();\n\n        frame = new JFrame(&quot;Java Chess V1.0&quot;);\n        contentPanel = frame.getContentPane();\n        contentPanel.add(main);\n\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                createAndShowGui();\n            }\n        });\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/exsko.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/exsko.png\" width=\"300\" height=\"332\" /></a></p>\n<p>Here is the <em>Java</em> tutorial on <em>GridLayout</em>.</p>\n<ul>\n<li><em><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\" rel=\"nofollow noreferrer\">How to Use GridLayout (The Java™ Tutorials &gt; Creating a GUI With Swing &gt; Laying Out Components Within a Container)</a></em>.</li>\n</ul>\n"}],"owner":{"account_id":23547612,"reputation":23,"user_id":17590799,"display_name":"grenade05"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77153671,"answer_count":2,"score":2,"last_activity_date":1695400546,"creation_date":1695252778,"question_id":77146414,"body_markdown":"**Overview:** I&#39;m making a chess game using Swing (Java) and while making the checkered-board pattern, I&#39;ve run into an issue where the rectangles that I created with `drawRect` disappear shortly after the window is launched. \r\n\r\nThis problem does not occur when the rectangles I created are not in a `for` loop, though I am not sure as to why.\r\n\r\n```java\r\npublic class Main extends JPanel {\r\n\t\r\n\tprivate static JFrame frame;\r\n\tprivate static Container contentPanel;\r\n\tprivate int rectX = 0;\r\n\tprivate int rectY = 0;\r\n\t\r\n\t// draw game textures\r\n\t@Override\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\t// draw chess board\r\n\t\tfor (int i = 1; i &lt;= 64; i++) {\r\n\t\t\t\r\n\t\t\t// light square\r\n\t\t\tif (i % 2 != 0) {\r\n\t\t\t\tg.drawRect(rectX, rectY, 100, 100);\r\n\t\t\t\trectX += 100;\r\n\t\t\t}\r\n\t\t\t// dark square\r\n\t\t\telse {\r\n\t\t\t\tg.fillRect(rectX, rectY, 100, 100);\r\n\t\t\t\trectX += 100;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// check if the row has ended\r\n\t\t\tif (i % 8 == 0 &amp;&amp; i != 0) {\r\n\t\t\t\trectX = 0;\r\n\t\t\t\trectY += 100;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t// define preferred size\r\n\t@Override\r\n\tpublic Dimension getPreferredSize() {\r\n\t\treturn new Dimension(800, 800);\r\n\t}\r\n\t\r\n\t// create GUI\r\n\tprivate static void createAndShowGui() {\r\n\t\tMain main = new Main();\r\n\t\t\r\n\t\tframe = new JFrame(&quot;Java Chess V1.0&quot;);\r\n\t\tcontentPanel = frame.getContentPane();\r\n\t\tcontentPanel.add(main);\r\n\t\t\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.pack();\r\n\t\tframe.setLocationByPlatform(true);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tcreateAndShowGui();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried making individual rectangles instead of using a `for` loop, which works, but I&#39;d rather not have 64 lines of `g.drawRect(...)` if possible.","title":"Rectangles created from java.awt.Graphics dissapear shortly after window is launched","body":"<p><strong>Overview:</strong> I'm making a chess game using Swing (Java) and while making the checkered-board pattern, I've run into an issue where the rectangles that I created with <code>drawRect</code> disappear shortly after the window is launched.</p>\n<p>This problem does not occur when the rectangles I created are not in a <code>for</code> loop, though I am not sure as to why.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main extends JPanel {\n    \n    private static JFrame frame;\n    private static Container contentPanel;\n    private int rectX = 0;\n    private int rectY = 0;\n    \n    // draw game textures\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        \n        // draw chess board\n        for (int i = 1; i &lt;= 64; i++) {\n            \n            // light square\n            if (i % 2 != 0) {\n                g.drawRect(rectX, rectY, 100, 100);\n                rectX += 100;\n            }\n            // dark square\n            else {\n                g.fillRect(rectX, rectY, 100, 100);\n                rectX += 100;\n            }\n            \n            // check if the row has ended\n            if (i % 8 == 0 &amp;&amp; i != 0) {\n                rectX = 0;\n                rectY += 100;\n            }\n        }\n    }\n    \n    // define preferred size\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(800, 800);\n    }\n    \n    // create GUI\n    private static void createAndShowGui() {\n        Main main = new Main();\n        \n        frame = new JFrame(&quot;Java Chess V1.0&quot;);\n        contentPanel = frame.getContentPane();\n        contentPanel.add(main);\n        \n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                createAndShowGui();\n            }\n        });\n    }\n}\n</code></pre>\n<p>I've tried making individual rectangles instead of using a <code>for</code> loop, which works, but I'd rather not have 64 lines of <code>g.drawRect(...)</code> if possible.</p>\n"},{"tags":["java","azure-active-directory","msal"],"owner":{"account_id":29501143,"reputation":1,"user_id":22608135,"display_name":"Sureshbabu AD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695400375,"creation_date":1695305874,"question_id":77151119,"body_markdown":"I am using msal4j-1.13.10.jar file for certification based authentication to Sharepoint app from a web based application.\r\n\r\nSince I have already created the CLIENT ASSERTION using PowerShell, I have used the below code to get the access token in Java. \r\n\r\nThis code is getting compiled well, but while executing the code from application, it is throwing error: \r\n\r\n&gt; java.lang.NoSuchMethodError:\r\n&gt; &#39;com.microsoft.aad.msal4j.ClientApplicationBase$Builder\r\n&gt; com.microsoft.aad.msal4j.ConfidentialClientApplication$Builder.authority(java.lang.String)&#39;\r\n\r\nLater I found that ClientApplicationBase.class file is missing in the msal4j-1.13.10.jar file. Is this a bug in the jar file or did I miss something.\r\n\r\n\r\n        IClientAssertion iClientAssertion = ClientCredentialFactory.createFromClientAssertion(CLIENT_ASSERTION);\r\n        ConfidentialClientApplication cca;\r\n        try {\r\n            cca = ConfidentialClientApplication\r\n                    .builder(CLIENT_ID, iClientAssertion)\r\n                    .authority(AUTHORITY)\r\n                    .build();\r\n\r\n            ClientCredentialParameters parameters =\r\n                    ClientCredentialParameters\r\n                            .builder(SCOPE)\r\n                            .build();\r\n\r\n            IAuthenticationResult result = cca.acquireToken(parameters).join();\r\n            System.out.println(&quot;Access token: &quot; + result.accessToken());\r\n            return result.accessToken();\r\n        } catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n\r\n\r\n\r\n","title":"ClientApplicationBase java class file is missing msal4j.jar and so NoSuchMethodError is coming at runtime while executing ClientCredentialGrant.java","body":"<p>I am using msal4j-1.13.10.jar file for certification based authentication to Sharepoint app from a web based application.</p>\n<p>Since I have already created the CLIENT ASSERTION using PowerShell, I have used the below code to get the access token in Java.</p>\n<p>This code is getting compiled well, but while executing the code from application, it is throwing error:</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError:\n'com.microsoft.aad.msal4j.ClientApplicationBase$Builder\ncom.microsoft.aad.msal4j.ConfidentialClientApplication$Builder.authority(java.lang.String)'</p>\n</blockquote>\n<p>Later I found that ClientApplicationBase.class file is missing in the msal4j-1.13.10.jar file. Is this a bug in the jar file or did I miss something.</p>\n<pre><code>    IClientAssertion iClientAssertion = ClientCredentialFactory.createFromClientAssertion(CLIENT_ASSERTION);\n    ConfidentialClientApplication cca;\n    try {\n        cca = ConfidentialClientApplication\n                .builder(CLIENT_ID, iClientAssertion)\n                .authority(AUTHORITY)\n                .build();\n\n        ClientCredentialParameters parameters =\n                ClientCredentialParameters\n                        .builder(SCOPE)\n                        .build();\n\n        IAuthenticationResult result = cca.acquireToken(parameters).join();\n        System.out.println(&quot;Access token: &quot; + result.accessToken());\n        return result.accessToken();\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","testng"],"owner":{"account_id":29499448,"reputation":1,"user_id":22606789,"display_name":"Vishal Jadhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695400084,"creation_date":1695291339,"question_id":77149306,"body_markdown":"\r\n```xml\r\n&lt;suite name=&quot;Parallel_Run&quot; parallel=&quot;true&quot;&gt;\r\n  &lt;suite-files&gt;\r\n    &lt;suite-file path=&quot;suite1.xml&quot;/&gt;\r\n    &lt;suite-file path=&quot;suite2.xml&quot;/&gt;\r\n  &lt;/suite-files&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\nI am using above XML file to run two xml files but it is running sequentially, I tried putting `parallel=&quot;true&quot;` as well but the same output\r\n\r\nI want to run both XML files in parallel.","title":"How to run two suite files in parallel in TestNG","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;suite name=&quot;Parallel_Run&quot; parallel=&quot;true&quot;&gt;\n  &lt;suite-files&gt;\n    &lt;suite-file path=&quot;suite1.xml&quot;/&gt;\n    &lt;suite-file path=&quot;suite2.xml&quot;/&gt;\n  &lt;/suite-files&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>I am using above XML file to run two xml files but it is running sequentially, I tried putting <code>parallel=&quot;true&quot;</code> as well but the same output</p>\n<p>I want to run both XML files in parallel.</p>\n"},{"tags":["java","gradle","groovy","spock"],"answers":[{"tags":[],"owner":{"account_id":27083,"reputation":1400,"user_id":71066,"accept_rate":90,"display_name":"James"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695319296,"creation_date":1695319296,"answer_id":77152612,"question_id":77151709,"body_markdown":"Nearest I could find was the following alteration to the gradle `Test` task:\r\n\r\n```groovy\r\nString ANSI_RESET = &quot;\\u001B[0m&quot;\r\nString ANSI_RED = &quot;\\u001B[31m&quot;\r\nString ANSI_GREEN = &quot;\\u001B[32m&quot;\r\nString ANSI_YELLOW = &quot;\\u001B[33m&quot;\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n    testLogging {\r\n        events &quot;failed&quot;\r\n        showExceptions true\r\n        exceptionFormat &quot;full&quot;\r\n    }\r\n    afterTest { TestDescriptor descriptor, TestResult result -&gt;\r\n        if(result.failedTestCount &gt; 0) {\r\n            println &quot;${descriptor.className} &gt; ${descriptor.name} ${ANSI_RED}FAILED${ANSI_RESET}&quot;\r\n        } else if(result.skippedTestCount &gt; 0) {\r\n            println &quot;${descriptor.className} &gt; ${descriptor.name} ${ANSI_YELLOW}SKIPPED${ANSI_RESET}&quot;\r\n        } else {\r\n            println &quot;${descriptor.className} &gt; ${descriptor.name} ${ANSI_GREEN}PASSED${ANSI_RESET}&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt results in a slight bit of redundancy in the event of a test failure, but that way it will still emit a stack trace to assist the developer. ","title":"Gradle: How to change test result output","body":"<p>Nearest I could find was the following alteration to the gradle <code>Test</code> task:</p>\n<pre><code>String ANSI_RESET = &quot;\\u001B[0m&quot;\nString ANSI_RED = &quot;\\u001B[31m&quot;\nString ANSI_GREEN = &quot;\\u001B[32m&quot;\nString ANSI_YELLOW = &quot;\\u001B[33m&quot;\n\ntest {\n    useJUnitPlatform()\n    testLogging {\n        events &quot;failed&quot;\n        showExceptions true\n        exceptionFormat &quot;full&quot;\n    }\n    afterTest { TestDescriptor descriptor, TestResult result -&gt;\n        if(result.failedTestCount &gt; 0) {\n            println &quot;${descriptor.className} &gt; ${descriptor.name} ${ANSI_RED}FAILED${ANSI_RESET}&quot;\n        } else if(result.skippedTestCount &gt; 0) {\n            println &quot;${descriptor.className} &gt; ${descriptor.name} ${ANSI_YELLOW}SKIPPED${ANSI_RESET}&quot;\n        } else {\n            println &quot;${descriptor.className} &gt; ${descriptor.name} ${ANSI_GREEN}PASSED${ANSI_RESET}&quot;\n        }\n    }\n}\n</code></pre>\n<p>It results in a slight bit of redundancy in the event of a test failure, but that way it will still emit a stack trace to assist the developer.</p>\n"},{"comments":[{"owner":{"account_id":27083,"reputation":1400,"user_id":71066,"accept_rate":90,"display_name":"James"},"score":0,"creation_date":1695739771,"post_id":77159287,"comment_id":136063089,"body_markdown":"This doesn&#39;t solve the issue, unfortunately. It still only prints the simple class name, not its canonical form. The only change is that it now includes which test executor is running the test, e.g. `Gradle Test Executor 2 &gt; ExampleSpec &gt; get all examples PASSED`. I tried all possible values for displayGranularity but none emit the canonical class name.","body":"This doesn&#39;t solve the issue, unfortunately. It still only prints the simple class name, not its canonical form. The only change is that it now includes which test executor is running the test, e.g. <code>Gradle Test Executor 2 &gt; ExampleSpec &gt; get all examples PASSED</code>. I tried all possible values for displayGranularity but none emit the canonical class name."}],"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695399634,"creation_date":1695399634,"answer_id":77159287,"question_id":77151709,"body_markdown":"I&#39;ve already answered it in https://stackoverflow.com/a/76946372/2145769\r\n\r\nYou can control the detail by setting the `displayGranularity` in [TestLogging](https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.logging.TestLogging.html) and enabling the logging of relevant events.\r\n\r\n&gt; The display granularity of the events to be logged. For example, if set to 0, a method-level event will be displayed as &quot;Test Run &gt; Test Worker x &gt; org.SomeClass &gt; org.someMethod&quot;. If set to 2, the same event will be displayed as &quot;org.someClass &gt; org.someMethod&quot;. \r\n\r\n```kotlin\r\ntasks.test {\r\n    testLogging {\r\n        events (&quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;)\r\n        displayGranularity = 1\r\n    }\r\n}\r\n```","title":"Gradle: How to change test result output","body":"<p>I've already answered it in <a href=\"https://stackoverflow.com/a/76946372/2145769\">https://stackoverflow.com/a/76946372/2145769</a></p>\n<p>You can control the detail by setting the <code>displayGranularity</code> in <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.testing.logging.TestLogging.html\" rel=\"nofollow noreferrer\">TestLogging</a> and enabling the logging of relevant events.</p>\n<blockquote>\n<p>The display granularity of the events to be logged. For example, if set to 0, a method-level event will be displayed as &quot;Test Run &gt; Test Worker x &gt; org.SomeClass &gt; org.someMethod&quot;. If set to 2, the same event will be displayed as &quot;org.someClass &gt; org.someMethod&quot;.</p>\n</blockquote>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.test {\n    testLogging {\n        events (&quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;)\n        displayGranularity = 1\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27083,"reputation":1400,"user_id":71066,"accept_rate":90,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77152612,"answer_count":2,"score":0,"last_activity_date":1695399634,"creation_date":1695310693,"question_id":77151709,"body_markdown":"By default, when executing `gradle test`, the output looks as such: \r\n\r\n```\r\nExampleSpec &gt; get all examples PASSED\r\n\r\n```\r\n\r\nIf I remember correctly, back in the early days of Gradle the class would have the package name prepended. Hence you&#39;d get a result more akin to:\r\n\r\n```\r\ncom.company.ExampleSpec &gt; get all examples PASSED\r\n```\r\n\r\nIs there any way to change how Gradle logs the finished tests to show the package name for each? ","title":"Gradle: How to change test result output","body":"<p>By default, when executing <code>gradle test</code>, the output looks as such:</p>\n<pre><code>ExampleSpec &gt; get all examples PASSED\n\n</code></pre>\n<p>If I remember correctly, back in the early days of Gradle the class would have the package name prepended. Hence you'd get a result more akin to:</p>\n<pre><code>com.company.ExampleSpec &gt; get all examples PASSED\n</code></pre>\n<p>Is there any way to change how Gradle logs the finished tests to show the package name for each?</p>\n"},{"tags":["java","thymeleaf","program-entry-point","template-engine"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1581599493,"post_id":60208627,"comment_id":106495136,"body_markdown":"I don&#39;t understand what you&#39;re asking. Your main method can be wherever you want.","body":"I don&#39;t understand what you&#39;re asking. Your main method can be wherever you want."},{"owner":{"account_id":17755084,"reputation":53,"user_id":12892350,"display_name":"FC_Termi"},"score":0,"creation_date":1581600484,"post_id":60208627,"comment_id":106495763,"body_markdown":"Ok, then how do I launch the webapp ? By instantiating inside the main method &quot;GTVGApplication gtvgApplication = new GTVGApplication()&quot;  ?","body":"Ok, then how do I launch the webapp ? By instantiating inside the main method &quot;GTVGApplication gtvgApplication = new GTVGApplication()&quot;  ?"}],"answers":[{"comments":[{"owner":{"account_id":17755084,"reputation":53,"user_id":12892350,"display_name":"FC_Termi"},"score":0,"creation_date":1581601469,"post_id":60208832,"comment_id":106496412,"body_markdown":"OK, from what I understand after quickly reading the Github comment issues in the link you provided I should find a way to instantiate **GTVGApplication gtvgApplication = new GTVGApplication(servletContext);** in a main method. So I should first instantiate a local **ServletContext servletContext = new ServletContext();**, then I can use this parameter to instantiate gtvgApplication. After that everything will work ?","body":"OK, from what I understand after quickly reading the Github comment issues in the link you provided I should find a way to instantiate <b>GTVGApplication gtvgApplication = new GTVGApplication(servletContext);</b> in a main method. So I should first instantiate a local <b>ServletContext servletContext = new ServletContext();</b>, then I can use this parameter to instantiate gtvgApplication. After that everything will work ?"},{"owner":{"account_id":11417592,"reputation":221,"user_id":8370004,"display_name":"mklepa"},"score":0,"creation_date":1581604171,"post_id":60208832,"comment_id":106498157,"body_markdown":"Thymeleaf is for generating templates, you could think about this as populating HTML files with data, instead of typing it manually into the HTML yourself. Running a web app is a different story. For doing that I&#39;d recommend using Spring MVC framework which integrates easily with Thymeleaf.\nIf you want tutorials on how to integrate Thymeleaf with Spring MVC or Java EE, just google it, you will find plenty of good tutorials. If you don&#39;t belive me, just google &quot;web app with thymeleaf&quot;, all the results will be about integrating Spring with Thymeleaf","body":"Thymeleaf is for generating templates, you could think about this as populating HTML files with data, instead of typing it manually into the HTML yourself. Running a web app is a different story. For doing that I&#39;d recommend using Spring MVC framework which integrates easily with Thymeleaf. If you want tutorials on how to integrate Thymeleaf with Spring MVC or Java EE, just google it, you will find plenty of good tutorials. If you don&#39;t belive me, just google &quot;web app with thymeleaf&quot;, all the results will be about integrating Spring with Thymeleaf"},{"owner":{"account_id":17755084,"reputation":53,"user_id":12892350,"display_name":"FC_Termi"},"score":0,"creation_date":1581605226,"post_id":60208832,"comment_id":106498823,"body_markdown":"I know there are a lot of tutorials for Thymeleaf + Spring, but there is a job for which I will have to work with Thymeleaf without Spring. I never used Thymeleaf before so I&#39;m kind of lost. Well, for now I will try to see how Thymeleaf + Spring works, then I will try without Spring if I can manage.","body":"I know there are a lot of tutorials for Thymeleaf + Spring, but there is a job for which I will have to work with Thymeleaf without Spring. I never used Thymeleaf before so I&#39;m kind of lost. Well, for now I will try to see how Thymeleaf + Spring works, then I will try without Spring if I can manage."},{"owner":{"account_id":11417592,"reputation":221,"user_id":8370004,"display_name":"mklepa"},"score":0,"creation_date":1581607943,"post_id":60208832,"comment_id":106500498,"body_markdown":"I understand. I found [this tutorial](https://www.concretepage.com/thymeleaf/java-thymeleaf-example-getting-started-with-thymeleaf) that seems to suit your needs.\nIn the future please include code as text, not in form of screenshots. You want someone to be able to reproduce your issue and it&#39;s a lot easier to just copy and paste the code than rewrite it from screenshots. Please see [this link](https://stackoverflow.com/help/minimal-reproducible-example) on how to create good questions.","body":"I understand. I found <a href=\"https://www.concretepage.com/thymeleaf/java-thymeleaf-example-getting-started-with-thymeleaf\" rel=\"nofollow noreferrer\">this tutorial</a> that seems to suit your needs. In the future please include code as text, not in form of screenshots. You want someone to be able to reproduce your issue and it&#39;s a lot easier to just copy and paste the code than rewrite it from screenshots. Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">this link</a> on how to create good questions."},{"owner":{"account_id":17755084,"reputation":53,"user_id":12892350,"display_name":"FC_Termi"},"score":0,"creation_date":1581608440,"post_id":60208832,"comment_id":106500843,"body_markdown":"Thanks a lot man. This is the first time I&#39;m making a post on StackOverflow. I didn&#39;t find the option to post &quot;codes&quot; the same way others do, so I ended up posting screenshots instead. Sorry for the inconvenience and thanks again.","body":"Thanks a lot man. This is the first time I&#39;m making a post on StackOverflow. I didn&#39;t find the option to post &quot;codes&quot; the same way others do, so I ended up posting screenshots instead. Sorry for the inconvenience and thanks again."},{"owner":{"account_id":11417592,"reputation":221,"user_id":8370004,"display_name":"mklepa"},"score":0,"creation_date":1581609440,"post_id":60208832,"comment_id":106501525,"body_markdown":"One more thing, I see this tutorial doesn&#39;t cover how to deploy an application to web server. In order to launch this application you need an application server, so you don&#39;t really use a main method. I found [this tutorial](https://dzone.com/articles/developing-java-ee-6) that will hopefully help you. I recommend that you read some articles about Java EE and application servers.","body":"One more thing, I see this tutorial doesn&#39;t cover how to deploy an application to web server. In order to launch this application you need an application server, so you don&#39;t really use a main method. I found <a href=\"https://dzone.com/articles/developing-java-ee-6\" rel=\"nofollow noreferrer\">this tutorial</a> that will hopefully help you. I recommend that you read some articles about Java EE and application servers."}],"tags":[],"owner":{"account_id":11417592,"reputation":221,"user_id":8370004,"display_name":"mklepa"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1581600001,"creation_date":1581600001,"answer_id":60208832,"question_id":60208627,"body_markdown":"You can create your main method in any class that you created and then create Thymeleaf objects that you need.\r\n[This might help][1]\r\n\r\n\r\n  [1]: https://github.com/thymeleaf/thymeleaf/issues/561","title":"How to use Thymeleaf to make only a simple Java app (without Spring)","body":"<p>You can create your main method in any class that you created and then create Thymeleaf objects that you need.\n<a href=\"https://github.com/thymeleaf/thymeleaf/issues/561\" rel=\"nofollow noreferrer\">This might help</a></p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695399258,"creation_date":1650870021,"answer_id":71995574,"question_id":60208627,"body_markdown":"Borrowing from [this comment on GitHub](https://github.com/thymeleaf/thymeleaf/issues/561#issuecomment-490648829), here is how to use Thymeleaf in a simple app.\r\n\r\nFirst, add the Thymeleaf library (dependency):\r\n\r\n  - If you are using Maven, add this to your *pom.xml* file:\r\n    ```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.15.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Add this if you don&#39;t like seeing messages in stdout from SLF4J --&gt;\r\n        &lt;!-- \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.36&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n        --&gt;\r\n    &lt;/dependencies&gt;\r\n    ```\r\n  - If you are using Gradle, add this to your *build.gradle[.kts]* file:\r\n    ```kotlin\r\n    dependencies {\r\n        implementation(&quot;org.thymeleaf:thymeleaf:3.0.15.RELEASE&quot;)\r\n        // Add this if you don&#39;t like seeing messages in stdout from SLF4J\r\n        // implementation(&quot;org.slf4j:slf4j-nop:1.7.36&quot;)\r\n    }\r\n    ```\r\n\r\nPlace your template HTML files in *templates/* subdirectory of your [classpath][1] (for example, in *src/main/resources/templates/*).\r\n\r\nsrc/main/resources/templates/index.html:\r\n\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;title&gt;Sample Thymeleaf template&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;p th:text=&quot;|Hello, ${name}!|&quot;&gt;Hello, user!&lt;/p&gt;\r\n&lt;p th:text=&quot;|Today is ${date}.|&quot;&gt;Today is ...&lt;/p&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nAnd here is the program code if you are using Java language:\r\n\r\n```java\r\nimport org.thymeleaf.TemplateEngine;\r\nimport org.thymeleaf.context.Context;\r\nimport org.thymeleaf.templatemode.TemplateMode;\r\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\r\nimport java.time.LocalDate;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        // From Java 10, you can use var instead of declaring the type explicitly\r\n        var resolver = new ClassLoaderTemplateResolver();\r\n        resolver.setTemplateMode(TemplateMode.HTML);\r\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        resolver.setPrefix(&quot;/templates/&quot;);\r\n        resolver.setSuffix(&quot;.html&quot;);\r\n\r\n        var context = new Context();\r\n        context.setVariable(&quot;name&quot;, &quot;Bunny&quot;);\r\n        context.setVariable(&quot;date&quot;, LocalDate.now().toString());\r\n\r\n        var templateEngine = new TemplateEngine();\r\n        templateEngine.setTemplateResolver(resolver);\r\n\r\n        var result = templateEngine.process(&quot;index&quot;, context);\r\n        System.out.println(result);\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the program code if you are using [Kotlin language][2]:\r\n\r\n```kotlin\r\nimport org.thymeleaf.TemplateEngine\r\nimport org.thymeleaf.context.Context\r\nimport org.thymeleaf.templatemode.TemplateMode\r\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver\r\nimport java.time.LocalDate\r\n\r\nfun main() {\r\n    val resolver = ClassLoaderTemplateResolver().apply {\r\n        templateMode = TemplateMode.HTML\r\n        characterEncoding = &quot;UTF-8&quot;\r\n        prefix = &quot;/templates/&quot;\r\n        suffix = &quot;.html&quot;\r\n    }\r\n    val context = Context().apply {\r\n        setVariable(&quot;name&quot;, &quot;Bunny&quot;)\r\n        setVariable(&quot;date&quot;, LocalDate.now().toString())\r\n    }\r\n    val templateEngine = TemplateEngine().apply {\r\n        setTemplateResolver(resolver)\r\n    }\r\n    val result = templateEngine.process(&quot;index&quot;, context)\r\n    println(result)\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/2396493/8583692\r\n  [2]: https://kotlinlang.org/","title":"How to use Thymeleaf to make only a simple Java app (without Spring)","body":"<p>Borrowing from <a href=\"https://github.com/thymeleaf/thymeleaf/issues/561#issuecomment-490648829\" rel=\"nofollow noreferrer\">this comment on GitHub</a>, here is how to use Thymeleaf in a simple app.</p>\n<p>First, add the Thymeleaf library (dependency):</p>\n<ul>\n<li>If you are using Maven, add this to your <em>pom.xml</em> file:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n        &lt;version&gt;3.0.15.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Add this if you don't like seeing messages in stdout from SLF4J --&gt;\n    &lt;!-- \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\n        &lt;version&gt;1.7.36&lt;/version&gt;\n    &lt;/dependency&gt; \n    --&gt;\n&lt;/dependencies&gt;\n</code></pre>\n</li>\n<li>If you are using Gradle, add this to your <em>build.gradle[.kts]</em> file:\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencies {\n    implementation(&quot;org.thymeleaf:thymeleaf:3.0.15.RELEASE&quot;)\n    // Add this if you don't like seeing messages in stdout from SLF4J\n    // implementation(&quot;org.slf4j:slf4j-nop:1.7.36&quot;)\n}\n</code></pre>\n</li>\n</ul>\n<p>Place your template HTML files in <em>templates/</em> subdirectory of your <a href=\"https://stackoverflow.com/q/2396493/8583692\">classpath</a> (for example, in <em>src/main/resources/templates/</em>).</p>\n<p>src/main/resources/templates/index.html:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;title&gt;Sample Thymeleaf template&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;p th:text=&quot;|Hello, ${name}!|&quot;&gt;Hello, user!&lt;/p&gt;\n&lt;p th:text=&quot;|Today is ${date}.|&quot;&gt;Today is ...&lt;/p&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And here is the program code if you are using Java language:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.thymeleaf.TemplateEngine;\nimport org.thymeleaf.context.Context;\nimport org.thymeleaf.templatemode.TemplateMode;\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\nimport java.time.LocalDate;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        // From Java 10, you can use var instead of declaring the type explicitly\n        var resolver = new ClassLoaderTemplateResolver();\n        resolver.setTemplateMode(TemplateMode.HTML);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        resolver.setPrefix(&quot;/templates/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n\n        var context = new Context();\n        context.setVariable(&quot;name&quot;, &quot;Bunny&quot;);\n        context.setVariable(&quot;date&quot;, LocalDate.now().toString());\n\n        var templateEngine = new TemplateEngine();\n        templateEngine.setTemplateResolver(resolver);\n\n        var result = templateEngine.process(&quot;index&quot;, context);\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>And here is the program code if you are using <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin language</a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.thymeleaf.TemplateEngine\nimport org.thymeleaf.context.Context\nimport org.thymeleaf.templatemode.TemplateMode\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver\nimport java.time.LocalDate\n\nfun main() {\n    val resolver = ClassLoaderTemplateResolver().apply {\n        templateMode = TemplateMode.HTML\n        characterEncoding = &quot;UTF-8&quot;\n        prefix = &quot;/templates/&quot;\n        suffix = &quot;.html&quot;\n    }\n    val context = Context().apply {\n        setVariable(&quot;name&quot;, &quot;Bunny&quot;)\n        setVariable(&quot;date&quot;, LocalDate.now().toString())\n    }\n    val templateEngine = TemplateEngine().apply {\n        setTemplateResolver(resolver)\n    }\n    val result = templateEngine.process(&quot;index&quot;, context)\n    println(result)\n}\n</code></pre>\n"}],"owner":{"account_id":17755084,"reputation":53,"user_id":12892350,"display_name":"FC_Termi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3848,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":60208832,"answer_count":2,"score":5,"last_activity_date":1695399258,"creation_date":1581599316,"question_id":60208627,"body_markdown":"I&#39;m following the official Thymeleaf tutorial on [its website][1] and I&#39;m currently on the section [*Executing the template engine*][2].\r\n\r\nFrom what I understood, I should already be able to run the app coded so far, but I absolutely don&#39;t see how to run it. There is no `main(String[] args)` method to run at all.\r\n\r\nI tried searching for other tutorials but they all use Spring which is not what I&#39;m looking for right now.\r\n\r\nAnyone knows where I should insert a `main(String[] args)` method to run this Thymeleaf app and view my HTML template? I don&#39;t understand where the entry point is or should be.\r\n\r\nI apologize in advance if this question sounds dumb and thanks for your future replies.\r\n\r\n---\r\n\r\nEdit:\r\n\r\nUntil now, when following the tutorial I wrote 3 Java files:\r\n - [GTVGApplication][3] class\r\n - [IGTVGController][4] interface\r\n - [HomeController][5] class\r\n - [home.html][6] template to be displayed\r\n\r\nSo I thought of writing a main method like so:\r\n[Main class containing main(String[] args) method][7]\r\n\r\nBut I don&#39;t see how to correctly instantiate the *servletContext* and I&#39;m not even sure if everything will work out once this is done.\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html\r\n  [2]: https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#executing-the-template-engine\r\n  [3]: https://i.stack.imgur.com/GHkbF.png\r\n  [4]: https://i.stack.imgur.com/6fGoQ.png\r\n  [5]: https://i.stack.imgur.com/HDjej.png\r\n  [6]: https://i.stack.imgur.com/zxQdk.png\r\n  [7]: https://i.stack.imgur.com/rgt9Y.png\r\n","title":"How to use Thymeleaf to make only a simple Java app (without Spring)","body":"<p>I'm following the official Thymeleaf tutorial on <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html\" rel=\"nofollow noreferrer\">its website</a> and I'm currently on the section <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#executing-the-template-engine\" rel=\"nofollow noreferrer\"><em>Executing the template engine</em></a>.</p>\n<p>From what I understood, I should already be able to run the app coded so far, but I absolutely don't see how to run it. There is no <code>main(String[] args)</code> method to run at all.</p>\n<p>I tried searching for other tutorials but they all use Spring which is not what I'm looking for right now.</p>\n<p>Anyone knows where I should insert a <code>main(String[] args)</code> method to run this Thymeleaf app and view my HTML template? I don't understand where the entry point is or should be.</p>\n<p>I apologize in advance if this question sounds dumb and thanks for your future replies.</p>\n<hr />\n<p>Edit:</p>\n<p>Until now, when following the tutorial I wrote 3 Java files:</p>\n<ul>\n<li><a href=\"https://i.stack.imgur.com/GHkbF.png\" rel=\"nofollow noreferrer\">GTVGApplication</a> class</li>\n<li><a href=\"https://i.stack.imgur.com/6fGoQ.png\" rel=\"nofollow noreferrer\">IGTVGController</a> interface</li>\n<li><a href=\"https://i.stack.imgur.com/HDjej.png\" rel=\"nofollow noreferrer\">HomeController</a> class</li>\n<li><a href=\"https://i.stack.imgur.com/zxQdk.png\" rel=\"nofollow noreferrer\">home.html</a> template to be displayed</li>\n</ul>\n<p>So I thought of writing a main method like so:\n<a href=\"https://i.stack.imgur.com/rgt9Y.png\" rel=\"nofollow noreferrer\">Main class containing main(String[] args) method</a></p>\n<p>But I don't see how to correctly instantiate the <em>servletContext</em> and I'm not even sure if everything will work out once this is done.</p>\n"},{"tags":["java","spring","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695399075,"creation_date":1695399075,"answer_id":77159229,"question_id":77158030,"body_markdown":"I suggest you to move `transactional()` to the `poller()` configuration of the source polling channel adapter for that `Jpa.inboundAdapter(entityMaanger)`.\r\n\r\nRight now it looks like you rely on default poller (probably auto-configured by Spring Boot), but you would need to have a second arg on that `from()`:\r\n\r\n    IntegrationFlows\r\n      .from(\r\n         Jpa\r\n          .inboundAdapter(entityMaanger)\r\n          .entityClass(...)\r\n          .nameqQuery(...),\r\n         e -&gt; e.poller(p -&gt; p.fixedDelay(1000).transactional())\r\n      )","title":"Spring Integration: Error handling for Jpa Outbound Adapter","body":"<p>I suggest you to move <code>transactional()</code> to the <code>poller()</code> configuration of the source polling channel adapter for that <code>Jpa.inboundAdapter(entityMaanger)</code>.</p>\n<p>Right now it looks like you rely on default poller (probably auto-configured by Spring Boot), but you would need to have a second arg on that <code>from()</code>:</p>\n<pre><code>IntegrationFlows\n  .from(\n     Jpa\n      .inboundAdapter(entityMaanger)\n      .entityClass(...)\n      .nameqQuery(...),\n     e -&gt; e.poller(p -&gt; p.fixedDelay(1000).transactional())\n  )\n</code></pre>\n"}],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695399075,"creation_date":1695389135,"question_id":77158030,"body_markdown":"i have a Spring Integration flow that uses Jpa.inboundAdapter() as a source, manipulates the read entities in transform and finally stores them again using Jpa.outboundAdapter. \r\n\r\nHowever, during persisting exceptions may occure (Unique Constraint Violation). In that case, the flow kind of &quot;hangs&quot;, as it reads from source in a specified order, immediately triggering the same order.\r\n\r\nHow can I properly do error handling to mark or skip &quot;bad&quot; entities read from source?\r\n\r\nThe flow:\r\n\r\n```java\r\nIntegrationFlows\r\n  .from(\r\n     Jpa\r\n      .inboundAdapter(entityMaanger)\r\n      .entityClass(...)\r\n      .nameqQuery(...)\r\n      .get()\r\n  )\r\n  .split()\r\n  .transform( ..)\r\n  .handle(\r\n     Jpa\r\n       .outboundAdapter(entityManager)\r\n       .entityClass(...)\r\n       .persistMode(MERGER)\r\n       .flush(true)\r\n       .get(),\r\n     e -&gt; e.transactional())\r\n   )\r\n);\r\n\r\n\r\n\r\n","title":"Spring Integration: Error handling for Jpa Outbound Adapter","body":"<p>i have a Spring Integration flow that uses Jpa.inboundAdapter() as a source, manipulates the read entities in transform and finally stores them again using Jpa.outboundAdapter.</p>\n<p>However, during persisting exceptions may occure (Unique Constraint Violation). In that case, the flow kind of &quot;hangs&quot;, as it reads from source in a specified order, immediately triggering the same order.</p>\n<p>How can I properly do error handling to mark or skip &quot;bad&quot; entities read from source?</p>\n<p>The flow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntegrationFlows\n  .from(\n     Jpa\n      .inboundAdapter(entityMaanger)\n      .entityClass(...)\n      .nameqQuery(...)\n      .get()\n  )\n  .split()\n  .transform( ..)\n  .handle(\n     Jpa\n       .outboundAdapter(entityManager)\n       .entityClass(...)\n       .persistMode(MERGER)\n       .flush(true)\n       .get(),\n     e -&gt; e.transactional())\n   )\n);\n\n\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","java-17"],"comments":[{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":3,"creation_date":1686433621,"post_id":76448040,"comment_id":134798661,"body_markdown":"Spring Boot 3.1.0 depends on Spring Framework 6.0.9 by default. What are you trying to do by downgrading the Spring Framework version to 6.0.0? See https://docs.spring.io/spring-boot/docs/3.1.0/reference/htmlsingle/#appendix.dependency-versions","body":"Spring Boot 3.1.0 depends on Spring Framework 6.0.9 by default. What are you trying to do by downgrading the Spring Framework version to 6.0.0? See <a href=\"https://docs.spring.io/spring-boot/docs/3.1.0/reference/htmlsingle/#appendix.dependency-versions\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/3.1.0/reference/htmlsingle/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686551301,"post_id":76448040,"comment_id":134808138,"body_markdown":"The fact that you are using Spring Boot and have tons of individual dependencies added makes me wonder what you added more. Basically don&#39;t do this as this will lead to incompatible combinations of jars/modules. Instead just use the Spring Boot Starters and not individual dependencies.","body":"The fact that you are using Spring Boot and have tons of individual dependencies added makes me wonder what you added more. Basically don&#39;t do this as this will lead to incompatible combinations of jars/modules. Instead just use the Spring Boot Starters and not individual dependencies."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1686578350,"post_id":76448040,"comment_id":134813820,"body_markdown":"@M.Deinum springboot idea is broken when developer have to avoid vulnerable jars. There are no trivy-proven spring-boot releases, so I have to go through the trivy results list and increase the version numbers of the inidividual devs","body":"@M.Deinum springboot idea is broken when developer have to avoid vulnerable jars. There are no trivy-proven spring-boot releases, so I have to go through the trivy results list and increase the version numbers of the inidividual devs"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1686578578,"post_id":76448040,"comment_id":134813882,"body_markdown":"@M.Deinum how I can know what particular incompablitiy breaks the build? The stacktrace isn&#39;t informative","body":"@M.Deinum how I can know what particular incompablitiy breaks the build? The stacktrace isn&#39;t informative"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686578712,"post_id":76448040,"comment_id":134813917,"body_markdown":"No you shouldn&#39;t increase the version of the individual dependencies you should increase the version of the library. Don&#39;t mix jars from different versions of a framework as that is trouble waiting to happen (and you asking a question again about why version x.y.1 doesn&#39;t work with x.y.2, because it wasn&#39;t meant to work in that combo).  With Spring Boot this is actually pretty easy as for all managed dependencies you can simply override the version and not indivudal dependencies! Which is the recommended **and** documented way.","body":"No you shouldn&#39;t increase the version of the individual dependencies you should increase the version of the library. Don&#39;t mix jars from different versions of a framework as that is trouble waiting to happen (and you asking a question again about why version x.y.1 doesn&#39;t work with x.y.2, because it wasn&#39;t meant to work in that combo).  With Spring Boot this is actually pretty easy as for all managed dependencies you can simply override the version and not indivudal dependencies! Which is the recommended <b>and</b> documented way."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1686579444,"post_id":76448040,"comment_id":134814086,"body_markdown":"how can i do it, if vulnerabilities scanner point me to individual dependencies and it almost impossible to know the library version based on that; moreover, to avoit scanner issues, it may require to use different ranges of the versions, since differenv vulnerabilities reside in the different version numbers.","body":"how can i do it, if vulnerabilities scanner point me to individual dependencies and it almost impossible to know the library version based on that; moreover, to avoit scanner issues, it may require to use different ranges of the versions, since differenv vulnerabilities reside in the different version numbers."},{"owner":{"account_id":494704,"reputation":5171,"user_id":1225882,"accept_rate":100,"display_name":"anothernode"},"score":0,"creation_date":1687513747,"post_id":76448040,"comment_id":134950715,"body_markdown":"@Eljah If you don&#39;t trust the Spring developers to do a decent job managing vulnerabilities in their product, you probably should refrain from using it.","body":"@Eljah If you don&#39;t trust the Spring developers to do a decent job managing vulnerabilities in their product, you probably should refrain from using it."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1687519818,"post_id":76448040,"comment_id":134951883,"body_markdown":"@anothernode as a normal worker I do what I was said in terms &quot;remove trivy scans from your app&quot; and as a normal developer I do trust Spring developers. Not all tasks are intended on the resolving the real problems. So I personally always do what some other people told to do, not what I consider right. Sorry for that sad truth.","body":"@anothernode as a normal worker I do what I was said in terms &quot;remove trivy scans from your app&quot; and as a normal developer I do trust Spring developers. Not all tasks are intended on the resolving the real problems. So I personally always do what some other people told to do, not what I consider right. Sorry for that sad truth."}],"answers":[{"tags":[],"owner":{"account_id":14661536,"reputation":89,"user_id":10588571,"display_name":"Erick Jhorman Romero"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695398790,"creation_date":1695158360,"answer_id":77138029,"question_id":76448040,"body_markdown":"Hey I also got it and solved it updating this dependency to this version.\r\n    \r\n\r\n    implementation(&#39;org.springframework:spring-context:6.0.11&#39;)\r\n\r\n","title":"org.springframework.core.NestedIOException when have migrated to Spring Boot 3.1.0, Spring 6.0.0 and Java 17","body":"<p>Hey I also got it and solved it updating this dependency to this version.</p>\n<pre><code>implementation('org.springframework:spring-context:6.0.11')\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1935,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695398790,"creation_date":1686428678,"question_id":76448040,"body_markdown":"The application worked well on Spring Boot 3.1.0 and Java 17, but whn was migrated to Spring 6.0.0 with such modules upgrated, isnt started with below error:\r\n\r\n    implementation &#39;org.springframework:spring-core:6.0.0&#39;\r\n    implementation &#39;org.springframework:spring-beans:6.0.0&#39;\r\n    implementation &#39;org.springframework:spring-expression:6.0.0&#39;\r\n    implementation &#39;org.springframework:spring-webflux:6.0.0&#39;\r\n    implementation &#39;org.springframework:spring-webmvc:6.0.0&#39;\r\n    implementation &#39;org.springframework:spring-web:6.0.0&#39;\r\n\r\nand the logs output is: \r\n\r\n    2023-06-10 23:17:34.892 [main] ERROR o.s.boot.SpringApplication - Application run failed\r\n    java.lang.NoClassDefFoundError: org/springframework/core/NestedIOException\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:312)\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)\r\n    \tat org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \tat rf.dom.billing.ap.Application.main(Application.java:24)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.core.NestedIOException\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 25 common frames omitted","title":"org.springframework.core.NestedIOException when have migrated to Spring Boot 3.1.0, Spring 6.0.0 and Java 17","body":"<p>The application worked well on Spring Boot 3.1.0 and Java 17, but whn was migrated to Spring 6.0.0 with such modules upgrated, isnt started with below error:</p>\n<pre><code>implementation 'org.springframework:spring-core:6.0.0'\nimplementation 'org.springframework:spring-beans:6.0.0'\nimplementation 'org.springframework:spring-expression:6.0.0'\nimplementation 'org.springframework:spring-webflux:6.0.0'\nimplementation 'org.springframework:spring-webmvc:6.0.0'\nimplementation 'org.springframework:spring-web:6.0.0'\n</code></pre>\n<p>and the logs output is:</p>\n<pre><code>2023-06-10 23:17:34.892 [main] ERROR o.s.boot.SpringApplication - Application run failed\njava.lang.NoClassDefFoundError: org/springframework/core/NestedIOException\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:312)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:236)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)\n    at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:80)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at rf.dom.billing.ap.Application.main(Application.java:24)\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.NestedIOException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 25 common frames omitted\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","maven-multi-module"],"owner":{"account_id":10491189,"reputation":153,"user_id":7733017,"display_name":"Aleix Marin&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695398302,"creation_date":1695398302,"question_id":77159143,"body_markdown":"So I have [this spring-boot project](https://github.com/AleixMT/eChempad) that contains the web services of an application. Now I want to add a new module to my application that is not related to the web services. To do so in Java I found that you can create a multi-module project.\r\n\r\nWhat I have been trying for the past hours is to convert the whole project to a single submodule of a bigger project. I kind of achieved it, but some of the plugins change and my code gives error about a circular dependency, so this is not a valid solution. My code should be working as it was before I changed the project structure. \r\n\r\nI think that the problem comes from the fact that to convert this project into a multi-module project I needed to delete the [POM parent of my application](https://github.com/AleixMT/eChempad/blob/master/pom.xml) (spring-boot-starter), because the new parent is going to be the global project.\r\n\r\nSo, in [this documentation](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/), there is explained what do you need to do to not use the parent POM. \r\n\r\nThey tell you that to override libraries and achieve the same result you need to put the dependencies in the *dependencyManagement* section. This is not working for me. When doing so, dependencies are not used to compile and they do disappear from maven, resulting in not finding libraries in my code. \r\n\r\nAnother thing that changes a lot (and maybe is the source of my error) is that almost all maven plugins change versions when deleting the parent. Do I need to set all the plugins and their versions manually now that they are not managed by the spring-boot parent POM? Would it make sense to think that maybe because of changing the versions of the plugins now there is a circular reference in my code?\r\n\r\nI would like to see an exhaustive step-by-step guide to convert a spring boot project into a maven multi-module project (where one of the submodules is the original spring-boot project converted into module). There are a lot of instructions and guides on the Internet but most of the time they do not explain why are they doing what they doing and also they are not exhaustive. They usually use very small example projects and it seems to me that they do not take into account all the aspects that need to be taken care of when migrating a large project. I would like to see how can I move the project and also conserving all the aspects, plugins and dependencies of it, so it is basically a clone of the original project but in a module and works exactly the same.\r\n\r\nPlease, notice that [there may be similar questions as the one I am posting](https://stackoverflow.com/questions/22537171/convert-maven-project-to-submodule-of-multi-module-project), but the answers do not satisfy me at all and / or are not working for me. \r\n\r\nYou can also answer me by proposing any possible workaround. For example, having a solution that implies to not delete the spring-boot parent POM would be the cleanest.\r\n\r\nThank you so much for the help. It is very valuable to me.  ","title":"How to convert springboot project to its equivalent maven multi-module project","body":"<p>So I have <a href=\"https://github.com/AleixMT/eChempad\" rel=\"nofollow noreferrer\">this spring-boot project</a> that contains the web services of an application. Now I want to add a new module to my application that is not related to the web services. To do so in Java I found that you can create a multi-module project.</p>\n<p>What I have been trying for the past hours is to convert the whole project to a single submodule of a bigger project. I kind of achieved it, but some of the plugins change and my code gives error about a circular dependency, so this is not a valid solution. My code should be working as it was before I changed the project structure.</p>\n<p>I think that the problem comes from the fact that to convert this project into a multi-module project I needed to delete the <a href=\"https://github.com/AleixMT/eChempad/blob/master/pom.xml\" rel=\"nofollow noreferrer\">POM parent of my application</a> (spring-boot-starter), because the new parent is going to be the global project.</p>\n<p>So, in <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\">this documentation</a>, there is explained what do you need to do to not use the parent POM.</p>\n<p>They tell you that to override libraries and achieve the same result you need to put the dependencies in the <em>dependencyManagement</em> section. This is not working for me. When doing so, dependencies are not used to compile and they do disappear from maven, resulting in not finding libraries in my code.</p>\n<p>Another thing that changes a lot (and maybe is the source of my error) is that almost all maven plugins change versions when deleting the parent. Do I need to set all the plugins and their versions manually now that they are not managed by the spring-boot parent POM? Would it make sense to think that maybe because of changing the versions of the plugins now there is a circular reference in my code?</p>\n<p>I would like to see an exhaustive step-by-step guide to convert a spring boot project into a maven multi-module project (where one of the submodules is the original spring-boot project converted into module). There are a lot of instructions and guides on the Internet but most of the time they do not explain why are they doing what they doing and also they are not exhaustive. They usually use very small example projects and it seems to me that they do not take into account all the aspects that need to be taken care of when migrating a large project. I would like to see how can I move the project and also conserving all the aspects, plugins and dependencies of it, so it is basically a clone of the original project but in a module and works exactly the same.</p>\n<p>Please, notice that <a href=\"https://stackoverflow.com/questions/22537171/convert-maven-project-to-submodule-of-multi-module-project\">there may be similar questions as the one I am posting</a>, but the answers do not satisfy me at all and / or are not working for me.</p>\n<p>You can also answer me by proposing any possible workaround. For example, having a solution that implies to not delete the spring-boot parent POM would be the cleanest.</p>\n<p>Thank you so much for the help. It is very valuable to me.</p>\n"},{"tags":["java","maven","logging","slf4j"],"answers":[{"tags":[],"owner":{"account_id":171331,"reputation":310944,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1695397743,"creation_date":1557982717,"answer_id":56161111,"question_id":56161110,"body_markdown":"Maven uses [slf4j-simple](https://www.slf4j.org/api/org/slf4j/impl/SimpleLogger.html). Its configuration is loaded from the classpath in a file [`simplelogger.properties`](https://github.com/apache/maven/blob/master/apache-maven/src/conf/logging/simplelogger.properties). You can modify the classpath to put your own copy of this file first, but you can also override these properties by setting system properties.\r\n\r\nFirst re-run your build with `-Dorg.slf4j.simpleLogger.showLogName=true` so you can see which classes the logs are coming from. Then adjust log levels as desired by setting additional properties named `-Dorg.slf4.simpleLogger.log.[[classname]]=[[level]]`.\r\n\r\n**You may require the `-B` (batch) flag too**.\r\n\r\nI find it convenient to set these in a `.mvn/maven.config` file in my project, but you can use `MAVEN_OPTS` or the command line instead. An example [`.mvn/maven.config`](https://maven.apache.org/configure.html) might be:\r\n\r\n    -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn\r\n    -Dorg.slf4j.simpleLogger.log.com.igormaznitsa.jcp.maven.PreprocessorMojo=warn\r\n    -Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.event.ExecutionEventLogger=warn\r\n    -Dorg.slf4j.simpleLogger.log.org.apache.maven.shared.filtering.DefaultMavenResourcesFiltering=warn\r\n    -Dorg.slf4j.simpleLogger.log.org.apache.maven.plugin.clean.CleanMojo=warn\r\n    -Dorg.slf4j.simpleLogger.showLogName=true\r\n\r\nNote that putting these options in a `simplelogging.properties` of the project *being compiled* will *not work*, it must be in the classpath of the *maven runtime*.\r\n\r\nAlso beware that `.mvn/maven.config` doesn&#39;t appear to support comments. I tried `#`, `;`, `//`, `/* .. */`.","title":"How do I suppress some Maven logs but keep other output?","body":"<p>Maven uses <a href=\"https://www.slf4j.org/api/org/slf4j/impl/SimpleLogger.html\" rel=\"nofollow noreferrer\">slf4j-simple</a>. Its configuration is loaded from the classpath in a file <a href=\"https://github.com/apache/maven/blob/master/apache-maven/src/conf/logging/simplelogger.properties\" rel=\"nofollow noreferrer\"><code>simplelogger.properties</code></a>. You can modify the classpath to put your own copy of this file first, but you can also override these properties by setting system properties.</p>\n<p>First re-run your build with <code>-Dorg.slf4j.simpleLogger.showLogName=true</code> so you can see which classes the logs are coming from. Then adjust log levels as desired by setting additional properties named <code>-Dorg.slf4.simpleLogger.log.[[classname]]=[[level]]</code>.</p>\n<p><strong>You may require the <code>-B</code> (batch) flag too</strong>.</p>\n<p>I find it convenient to set these in a <code>.mvn/maven.config</code> file in my project, but you can use <code>MAVEN_OPTS</code> or the command line instead. An example <a href=\"https://maven.apache.org/configure.html\" rel=\"nofollow noreferrer\"><code>.mvn/maven.config</code></a> might be:</p>\n<pre><code>-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn\n-Dorg.slf4j.simpleLogger.log.com.igormaznitsa.jcp.maven.PreprocessorMojo=warn\n-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.event.ExecutionEventLogger=warn\n-Dorg.slf4j.simpleLogger.log.org.apache.maven.shared.filtering.DefaultMavenResourcesFiltering=warn\n-Dorg.slf4j.simpleLogger.log.org.apache.maven.plugin.clean.CleanMojo=warn\n-Dorg.slf4j.simpleLogger.showLogName=true\n</code></pre>\n<p>Note that putting these options in a <code>simplelogging.properties</code> of the project <em>being compiled</em> will <em>not work</em>, it must be in the classpath of the <em>maven runtime</em>.</p>\n<p>Also beware that <code>.mvn/maven.config</code> doesn't appear to support comments. I tried <code>#</code>, <code>;</code>, <code>//</code>, <code>/* .. */</code>.</p>\n"}],"owner":{"account_id":171331,"reputation":310944,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1531,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695397743,"creation_date":1557982717,"question_id":56161110,"body_markdown":"I&#39;m running Maven in a CI environment and want to see some of its log output - but I don&#39;t want to see routine messages about downloading artifacts etc.\r\n\r\nI can use `-q` but that suppresses everything useful too.\r\n\r\nMaven uses slf4j and by default uses the slf4j-simple backend so there&#39;s no `logging.properties` etc, and anyway how would I even find out which class generates the log messages?\r\n\r\ne.g. if I have\r\n\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Build Order:\r\n[INFO] \r\n[INFO] XXX JDBC Driver - JDBC 4.2                             [bundle]\r\n[INFO] XXX JDBC Driver aggregate                                   [pom]\r\n[INFO] \r\n[INFO] -----------------&lt; XXX:XXX &gt;------------------\r\n[INFO] Building XXX JDBC Driver - JDBC 4.2 XXXX           [1/2]\r\n[INFO] -------------------------------[ bundle ]-------------------------------\r\n[INFO] \r\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ XXXX-jdbc ---\r\n[INFO] Deleting XXXX/target\r\n[INFO] \r\n[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-java) @ XXX-jdbc ---\r\n[INFO] \r\n[INFO] --- build-helper-maven-plugin:1.5:parse-version (parse-version) @ XXXX-jdbc ---\r\n[INFO] \r\n[INFO] --- properties-maven-plugin:1.0-alpha-2:read-project-properties (default) @ XXXX-jdbc ---\r\n[WARNING] Ignoring missing properties file: XXX/build.local.properties\r\n[INFO] \r\n[INFO] --- jcp:6.0.1:preprocess (preprocessSources) @ XXX-jdbc ---\r\n[INFO] Added MAVEN property mvn.project.name=XXX JDBC Driver - JDBC 4.2\r\n[INFO] Added MAVEN property mvn.project.version=XX.YY.ZZ\r\n.... blah blah blah ...\r\n-------------------------------------------------------\r\n T E S T S\r\n-------------------------------------------------------\r\n\r\nRunning XXX.TestSuite\r\nTests run: 58, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 6.43 sec\r\n```\r\n\r\n\r\nand for this task I just want the test output, how do I do that?","title":"How do I suppress some Maven logs but keep other output?","body":"<p>I'm running Maven in a CI environment and want to see some of its log output - but I don't want to see routine messages about downloading artifacts etc.</p>\n\n<p>I can use <code>-q</code> but that suppresses everything useful too.</p>\n\n<p>Maven uses slf4j and by default uses the slf4j-simple backend so there's no <code>logging.properties</code> etc, and anyway how would I even find out which class generates the log messages?</p>\n\n<p>e.g. if I have</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Build Order:\n[INFO] \n[INFO] XXX JDBC Driver - JDBC 4.2                             [bundle]\n[INFO] XXX JDBC Driver aggregate                                   [pom]\n[INFO] \n[INFO] -----------------&lt; XXX:XXX &gt;------------------\n[INFO] Building XXX JDBC Driver - JDBC 4.2 XXXX           [1/2]\n[INFO] -------------------------------[ bundle ]-------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ XXXX-jdbc ---\n[INFO] Deleting XXXX/target\n[INFO] \n[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-java) @ XXX-jdbc ---\n[INFO] \n[INFO] --- build-helper-maven-plugin:1.5:parse-version (parse-version) @ XXXX-jdbc ---\n[INFO] \n[INFO] --- properties-maven-plugin:1.0-alpha-2:read-project-properties (default) @ XXXX-jdbc ---\n[WARNING] Ignoring missing properties file: XXX/build.local.properties\n[INFO] \n[INFO] --- jcp:6.0.1:preprocess (preprocessSources) @ XXX-jdbc ---\n[INFO] Added MAVEN property mvn.project.name=XXX JDBC Driver - JDBC 4.2\n[INFO] Added MAVEN property mvn.project.version=XX.YY.ZZ\n.... blah blah blah ...\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\n\nRunning XXX.TestSuite\nTests run: 58, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 6.43 sec\n</code></pre>\n\n<p>and for this task I just want the test output, how do I do that?</p>\n"},{"tags":["java","sql","arrays","base64","uuid"],"comments":[{"owner":{"account_id":31905,"reputation":36222,"user_id":87971,"accept_rate":94,"display_name":"Stijn Sanders"},"score":0,"creation_date":1240323760,"post_id":772802,"comment_id":583941,"body_markdown":"One way to look at it is that a UUID is 128 random bits, so 6 bits per base64-item, is 128/6=21.3, so you&#39;re right that you need 22 base64 positions to store the same data.","body":"One way to look at it is that a UUID is 128 random bits, so 6 bits per base64-item, is 128/6=21.3, so you&#39;re right that you need 22 base64 positions to store the same data."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1240325694,"post_id":772802,"comment_id":584072,"body_markdown":"You previous question seems essentially the same: http://stackoverflow.com/questions/772325/what-is-the-smallest-way-to-store-a-uuid-that-is-human-readable","body":"You previous question seems essentially the same: <a href=\"http://stackoverflow.com/questions/772325/what-is-the-smallest-way-to-store-a-uuid-that-is-human-readable\" title=\"what is the smallest way to store a uuid that is human readable\">stackoverflow.com/questions/772325/&hellip;</a>"},{"owner":{"account_id":42844,"reputation":4760,"user_id":124974,"accept_rate":69,"display_name":"Jon Tirsen"},"score":1,"creation_date":1328012159,"post_id":772802,"comment_id":11398454,"body_markdown":"I&#39;m not sure your code is correct in the second for loop of asByteBuffer you subtract i from 7 but i iterates from 8 to 16 which means it will shift by a negative number. IIRC &lt;&lt;&lt; wraps around but it still doesn&#39;t seem correct.","body":"I&#39;m not sure your code is correct in the second for loop of asByteBuffer you subtract i from 7 but i iterates from 8 to 16 which means it will shift by a negative number. IIRC &lt;&lt;&lt; wraps around but it still doesn&#39;t seem correct."},{"owner":{"account_id":42844,"reputation":4760,"user_id":124974,"accept_rate":69,"display_name":"Jon Tirsen"},"score":1,"creation_date":1328012184,"post_id":772802,"comment_id":11398463,"body_markdown":"I think it&#39;s easier to just use ByteBuffer to convert the two longs to a byte array like in this question: http://stackoverflow.com/questions/6881659/how-to-convert-two-longs-to-a-byte-array-how-to-convert-uuid-to-byte-array","body":"I think it&#39;s easier to just use ByteBuffer to convert the two longs to a byte array like in this question: <a href=\"http://stackoverflow.com/questions/6881659/how-to-convert-two-longs-to-a-byte-array-how-to-convert-uuid-to-byte-array\" title=\"how to convert two longs to a byte array how to convert uuid to byte array\">stackoverflow.com/questions/6881659/&hellip;</a>"},{"owner":{"account_id":370787,"reputation":2276,"user_id":718960,"accept_rate":33,"display_name":"theking2"},"score":0,"creation_date":1664224588,"post_id":772802,"comment_id":130418257,"body_markdown":"What is the point of &quot;human readable&quot;? Take a look at what the  uuid_short() mysql/mariadb function  does.","body":"What is the point of &quot;human readable&quot;? Take a look at what the  uuid_short() mysql/mariadb function  does."},{"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"score":0,"creation_date":1664226375,"post_id":772802,"comment_id":130418697,"body_markdown":"URLs and sharing them","body":"URLs and sharing them"}],"answers":[{"comments":[{"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"score":0,"creation_date":1240324841,"post_id":772859,"comment_id":584027,"body_markdown":"Yes, I think so... I want to save as much space as possible while still having it be human readable.","body":"Yes, I think so... I want to save as much space as possible while still having it be human readable."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1240325525,"post_id":772859,"comment_id":584059,"body_markdown":"OK, why do you think so? Are you storing a billion rows? You&#39;ll save 8 billion bytes, which isn&#39;t much. Actually, you&#39;ll save less, because your DBMS might reserve additional space for encoding. And if you go with VARCHAR instead of fixed-size CHAR, you&#39;re going to lose the space needed to save the actual length.","body":"OK, why do you think so? Are you storing a billion rows? You&#39;ll save 8 billion bytes, which isn&#39;t much. Actually, you&#39;ll save less, because your DBMS might reserve additional space for encoding. And if you go with VARCHAR instead of fixed-size CHAR, you&#39;re going to lose the space needed to save the actual length."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1240325572,"post_id":772859,"comment_id":584066,"body_markdown":"... and that &quot;savings&quot; is only if you use a CHAR(32). If you use RAW, you&#39;ll actually be saving space.","body":"... and that &quot;savings&quot; is only if you use a CHAR(32). If you use RAW, you&#39;ll actually be saving space."},{"owner":{"account_id":27897,"reputation":527,"user_id":74047,"display_name":"Robert Lewis"},"score":10,"creation_date":1240433678,"post_id":772859,"comment_id":589787,"body_markdown":"Any reasonable DBMS allows you to store UUIDs in native format, which requires 16 bytes. Any reasonable db tools will convert these to standard format (e.g. &quot;cdaed56d-8712-414d-b346-01905d0026fe&quot;) in query results. People have been doing this for a long time. There&#39;s no need to re-invent the wheel.","body":"Any reasonable DBMS allows you to store UUIDs in native format, which requires 16 bytes. Any reasonable db tools will convert these to standard format (e.g. &quot;cdaed56d-8712-414d-b346-01905d0026fe&quot;) in query results. People have been doing this for a long time. There&#39;s no need to re-invent the wheel."},{"owner":{"account_id":271277,"reputation":430,"user_id":561719,"accept_rate":80,"display_name":"nym"},"score":1,"creation_date":1361919194,"post_id":772859,"comment_id":21245116,"body_markdown":"He could be trying to include a UUID in a QR code, which would mean that the compression is useful in order to create a more easily scannable QR code.","body":"He could be trying to include a UUID in a QR code, which would mean that the compression is useful in order to create a more easily scannable QR code."}],"tags":[],"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1240324233,"creation_date":1240324233,"answer_id":772859,"question_id":772802,"body_markdown":"You don&#39;t say what DBMS you&#39;re using, but it seems that RAW would be the best approach if you&#39;re concerned about saving space. You just need to remember to convert for all queries, or you&#39;ll risk a huge performance drop.\r\n\r\nBut I have to ask: are bytes really that expensive where you live?","title":"Storing UUID as base64 String","body":"<p>You don't say what DBMS you're using, but it seems that RAW would be the best approach if you're concerned about saving space. You just need to remember to convert for all queries, or you'll risk a huge performance drop.</p>\n\n<p>But I have to ask: are bytes really that expensive where you live?</p>\n"},{"comments":[{"owner":{"account_id":34729,"reputation":747,"user_id":98177,"accept_rate":67,"display_name":"Dennis"},"score":20,"creation_date":1357090869,"post_id":772932,"comment_id":19536436,"body_markdown":"BAse85 only saves 2 characters. Plus, Base85 is not safe to use in URLs, and one major use of UUIDs is entity identifiers in databases, which then end up in URLS.","body":"BAse85 only saves 2 characters. Plus, Base85 is not safe to use in URLs, and one major use of UUIDs is entity identifiers in databases, which then end up in URLS."},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1598589799,"post_id":772932,"comment_id":112513860,"body_markdown":"@erickson can you please share some code snippet to convert to Base85. I tried but couldn&#39;t get any reliable Base85 java library","body":"@erickson can you please share some code snippet to convert to Base85. I tried but couldn&#39;t get any reliable Base85 java library"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1599048752,"post_id":772932,"comment_id":112651656,"body_markdown":"@Manish There are several variants of base-85, but each takes more than a “snippet” of code to implement; that kind of answer really doesn’t fit on this site. What kind of problems did your find in the libraries you have tried? I really would recommend base-64, as it has support in core Java and only costs about 7% more space for encoded values.","body":"@Manish There are several variants of base-85, but each takes more than a “snippet” of code to implement; that kind of answer really doesn’t fit on this site. What kind of problems did your find in the libraries you have tried? I really would recommend base-64, as it has support in core Java and only costs about 7% more space for encoded values."},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1599064570,"post_id":772932,"comment_id":112660259,"body_markdown":"@erickson but base64 doesn&#39;t solve my purpose to reduce the uuid to 20 character length.","body":"@erickson but base64 doesn&#39;t solve my purpose to reduce the uuid to 20 character length."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1599065242,"post_id":772932,"comment_id":112660558,"body_markdown":"@Manish I see. Do your requirements forbid any special characters like quotes, percent sign (`%`) or backslash (`\\\\`)? Do you have to encode and decode the identifier? (That is, do you want to be able to convert back to a conventional UUID, or just shorten them?)","body":"@Manish I see. Do your requirements forbid any special characters like quotes, percent sign (<code>%</code>) or backslash (`\\`)? Do you have to encode and decode the identifier? (That is, do you want to be able to convert back to a conventional UUID, or just shorten them?)"}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":5,"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1598625378,"creation_date":1240325178,"answer_id":772932,"question_id":772802,"body_markdown":"You can safely drop the padding &quot;==&quot; in this application. If you were to decode the base-64 text back to bytes, some libraries would expect it to be there, but since you are just using the resulting string as a key, it&#39;s not a problem.\r\n\r\nI&#39;d use Base-64 because its encoding characters can be URL-safe, and it looks less like gibberish. But there&#39;s also [Base-85][1]. It uses more symbols and codes 4 bytes as 5 characters, so you could get your text down to 20 characters.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Base-85","title":"Storing UUID as base64 String","body":"<p>You can safely drop the padding &quot;==&quot; in this application. If you were to decode the base-64 text back to bytes, some libraries would expect it to be there, but since you are just using the resulting string as a key, it's not a problem.</p>\n<p>I'd use Base-64 because its encoding characters can be URL-safe, and it looks less like gibberish. But there's also <a href=\"http://en.wikipedia.org/wiki/Base-85\" rel=\"nofollow noreferrer\">Base-85</a>. It uses more symbols and codes 4 bytes as 5 characters, so you could get your text down to 20 characters.</p>\n"},{"tags":[],"owner":{"account_id":32641,"reputation":32939,"user_id":90723,"accept_rate":94,"display_name":"Bob Aman"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1240587322,"creation_date":1240587322,"answer_id":786372,"question_id":772802,"body_markdown":"I have an application where I&#39;m doing almost exactly this.  22 char encoded UUID.  It works fine.  However, the main reason I&#39;m doing it this way is that the IDs are exposed in the web app&#39;s URIs, and 36 characters is really quite big for something that appears in a URI.  22 characters is still kinda long, but we make do.\r\n\r\nHere&#39;s the Ruby code for this:\r\n\r\n      # Make an array of 64 URL-safe characters\r\n      CHARS64 = (&quot;a&quot;..&quot;z&quot;).to_a + (&quot;A&quot;..&quot;Z&quot;).to_a + (&quot;0&quot;..&quot;9&quot;).to_a + [&quot;-&quot;, &quot;_&quot;]\r\n      # Return a 22 byte URL-safe string, encoded six bits at a time using 64 characters\r\n      def to_s22\r\n        integer = self.to_i # UUID as a raw integer\r\n        rval = &quot;&quot;\r\n        22.times do\r\n          c = (integer &amp; 0x3F)\r\n          rval += CHARS64[c]\r\n          integer = integer &gt;&gt; 6\r\n        end\r\n        return rval.reverse\r\n      end\r\n\r\nIt&#39;s not exactly the same as base64 encoding because base64 uses characters that would have to be escaped if they appeared in a URI path component.  The Java implementation is likely to be quite different since you&#39;re more likely to have an array of raw bytes instead of a really big integer.\r\n","title":"Storing UUID as base64 String","body":"<p>I have an application where I'm doing almost exactly this.  22 char encoded UUID.  It works fine.  However, the main reason I'm doing it this way is that the IDs are exposed in the web app's URIs, and 36 characters is really quite big for something that appears in a URI.  22 characters is still kinda long, but we make do.</p>\n\n<p>Here's the Ruby code for this:</p>\n\n<pre><code>  # Make an array of 64 URL-safe characters\n  CHARS64 = (\"a\"..\"z\").to_a + (\"A\"..\"Z\").to_a + (\"0\"..\"9\").to_a + [\"-\", \"_\"]\n  # Return a 22 byte URL-safe string, encoded six bits at a time using 64 characters\n  def to_s22\n    integer = self.to_i # UUID as a raw integer\n    rval = \"\"\n    22.times do\n      c = (integer &amp; 0x3F)\n      rval += CHARS64[c]\n      integer = integer &gt;&gt; 6\n    end\n    return rval.reverse\n  end\n</code></pre>\n\n<p>It's not exactly the same as base64 encoding because base64 uses characters that would have to be escaped if they appeared in a URI path component.  The Java implementation is likely to be quite different since you're more likely to have an array of raw bytes instead of a really big integer.</p>\n"},{"tags":[],"owner":{"account_id":34729,"reputation":747,"user_id":98177,"accept_rate":67,"display_name":"Dennis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315755389,"creation_date":1315755389,"answer_id":7379294,"question_id":772802,"body_markdown":"Below is what I use for a UUID (Comb style). It includes code for converting a uuid string or uuid type to base64. I do it per 64 bits, so I don&#39;t deal with any equal signs:\r\n\r\nJAVA\r\n--------\r\n    import java.util.Calendar;\r\n    import java.util.UUID;\r\n    import org.apache.commons.codec.binary.Base64;\r\n    \r\n    public class UUIDUtil{\r\n    \tpublic static UUID combUUID(){\r\n    \t    private UUID srcUUID = UUID.randomUUID();\r\n    \t    private java.sql.Timestamp ts = new java.sql.Timestamp(Calendar.getInstance().getTime().getTime());\r\n    \t\t\r\n    \t\tlong upper16OfLowerUUID = this.zeroLower48BitsOfLong( srcUUID.getLeastSignificantBits() );\r\n    \t\tlong lower48Time = UUIDUtil.zeroUpper16BitsOfLong( ts );\r\n    \t\tlong lowerLongForNewUUID = upper16OfLowerUUID | lower48Time;\r\n    \t\treturn new UUID( srcUUID.getMostSignificantBits(), lowerLongForNewUUID );\r\n        }\t\r\n    \tpublic static base64URLSafeOfUUIDObject( UUID uuid ){\r\n    \t\tbyte[] bytes = ByteBuffer.allocate(16).putLong(0, uuid.getLeastSignificantBits()).putLong(8, uuid.getMostSignificantBits()).array();\r\n    \t\treturn Base64.encodeBase64URLSafeString( bytes );\r\n    \t}\r\n    \tpublic static base64URLSafeOfUUIDString( String uuidString ){\r\n    \tUUID uuid = UUID.fromString( uuidString );\r\n\t\t    return UUIDUtil.base64URLSafeOfUUIDObject( uuid );\r\n    \t}\r\n        private static long zeroLower48BitsOfLong( long longVar ){\r\n    \t\tlong upper16BitMask =  -281474976710656L;\r\n    \t\treturn longVar &amp; upper16BitMask;\r\n    \t}\r\n    \tprivate static void zeroUpper16BitsOfLong( long longVar ){\r\n    \t    long lower48BitMask =  281474976710656L-1L;\r\n    \t    return longVar &amp; lower48BitMask;\r\n    \t}\r\n    }","title":"Storing UUID as base64 String","body":"<p>Below is what I use for a UUID (Comb style). It includes code for converting a uuid string or uuid type to base64. I do it per 64 bits, so I don't deal with any equal signs:</p>\n\n<h2>JAVA</h2>\n\n<pre><code>import java.util.Calendar;\nimport java.util.UUID;\nimport org.apache.commons.codec.binary.Base64;\n\npublic class UUIDUtil{\n    public static UUID combUUID(){\n        private UUID srcUUID = UUID.randomUUID();\n        private java.sql.Timestamp ts = new java.sql.Timestamp(Calendar.getInstance().getTime().getTime());\n\n        long upper16OfLowerUUID = this.zeroLower48BitsOfLong( srcUUID.getLeastSignificantBits() );\n        long lower48Time = UUIDUtil.zeroUpper16BitsOfLong( ts );\n        long lowerLongForNewUUID = upper16OfLowerUUID | lower48Time;\n        return new UUID( srcUUID.getMostSignificantBits(), lowerLongForNewUUID );\n    }   \n    public static base64URLSafeOfUUIDObject( UUID uuid ){\n        byte[] bytes = ByteBuffer.allocate(16).putLong(0, uuid.getLeastSignificantBits()).putLong(8, uuid.getMostSignificantBits()).array();\n        return Base64.encodeBase64URLSafeString( bytes );\n    }\n    public static base64URLSafeOfUUIDString( String uuidString ){\n    UUID uuid = UUID.fromString( uuidString );\n        return UUIDUtil.base64URLSafeOfUUIDObject( uuid );\n    }\n    private static long zeroLower48BitsOfLong( long longVar ){\n        long upper16BitMask =  -281474976710656L;\n        return longVar &amp; upper16BitMask;\n    }\n    private static void zeroUpper16BitsOfLong( long longVar ){\n        long lower48BitMask =  281474976710656L-1L;\n        return longVar &amp; lower48BitMask;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":522088,"reputation":2057,"user_id":977216,"display_name":"swill"},"score":1,"creation_date":1427224478,"post_id":15013205,"comment_id":46688026,"body_markdown":"Sorry I had not noticed this comment.  Yes I am using Apache commons-codec.  \n  \n`import org.apache.commons.codec.binary.Base64;`","body":"Sorry I had not noticed this comment.  Yes I am using Apache commons-codec.      <code>import org.apache.commons.codec.binary.Base64;</code>"},{"owner":{"account_id":2147,"reputation":38490,"user_id":2961,"accept_rate":79,"display_name":"Stu Thompson"},"score":1,"creation_date":1476482391,"post_id":15013205,"comment_id":67381250,"body_markdown":"A 39% reduction in size.  Nice.","body":"A 39% reduction in size.  Nice."},{"owner":{"account_id":417972,"reputation":854,"user_id":794274,"display_name":"Wpigott"},"score":10,"creation_date":1547648779,"post_id":15013205,"comment_id":95263954,"body_markdown":"You can use built in since Java 8.  `Base64.getUrlEncoder().encodeToString(bb.array())` and `Base64.getUrlDecoder().decode(id)`","body":"You can use built in since Java 8.  <code>Base64.getUrlEncoder().encodeToString(bb.array())</code> and <code>Base64.getUrlDecoder().decode(id)</code>"},{"owner":{"account_id":3294551,"reputation":151,"user_id":2772107,"display_name":"Kumar Mani"},"score":1,"creation_date":1579158851,"post_id":15013205,"comment_id":105673620,"body_markdown":"You may choose not to instantiate the Base64 class, the methods encodeBase64URLSafeString(b[]) and decodeBase64(str) are static, aren&#39;t they?","body":"You may choose not to instantiate the Base64 class, the methods encodeBase64URLSafeString(b[]) and decodeBase64(str) are static, aren&#39;t they?"}],"tags":[],"owner":{"account_id":522088,"reputation":2057,"user_id":977216,"display_name":"swill"},"comment_count":4,"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1476482296,"creation_date":1361484653,"answer_id":15013205,"question_id":772802,"body_markdown":"I was also trying to do something similar.  I am working with a Java application which uses UUIDs of the form `6fcb514b-b878-4c9d-95b7-8dc3a7ce6fd8` (which are generated with the standard UUID lib in Java).  In my case I needed to be able to get this UUID down to 30 characters or less.  I used Base64 and these are my convenience functions.  Hopefully they will be helpful for someone as the solution was not obvious to me right away.\r\n\r\n**Usage:**\r\n\r\n    String uuid_str = &quot;6fcb514b-b878-4c9d-95b7-8dc3a7ce6fd8&quot;;\r\n    String uuid_as_64 = uuidToBase64(uuid_str);\r\n    System.out.println(&quot;as base64: &quot;+uuid_as_64);\r\n    System.out.println(&quot;as uuid: &quot;+uuidFromBase64(uuid_as_64));\r\n\r\n**Output:**\r\n\r\n    as base64: b8tRS7h4TJ2Vt43Dp85v2A\r\n    as uuid  : 6fcb514b-b878-4c9d-95b7-8dc3a7ce6fd8\r\n\r\n**Functions:**\r\n   \r\n    import org.apache.commons.codec.binary.Base64;\r\n\r\n    private static String uuidToBase64(String str) {\r\n        Base64 base64 = new Base64();\r\n        UUID uuid = UUID.fromString(str);\r\n        ByteBuffer bb = ByteBuffer.wrap(new byte[16]);\r\n        bb.putLong(uuid.getMostSignificantBits());\r\n        bb.putLong(uuid.getLeastSignificantBits());\r\n        return base64.encodeBase64URLSafeString(bb.array());\r\n    }\r\n    private static String uuidFromBase64(String str) {\r\n        Base64 base64 = new Base64(); \r\n        byte[] bytes = base64.decodeBase64(str);\r\n        ByteBuffer bb = ByteBuffer.wrap(bytes);\r\n        UUID uuid = new UUID(bb.getLong(), bb.getLong());\r\n        return uuid.toString();\r\n    }","title":"Storing UUID as base64 String","body":"<p>I was also trying to do something similar.  I am working with a Java application which uses UUIDs of the form <code>6fcb514b-b878-4c9d-95b7-8dc3a7ce6fd8</code> (which are generated with the standard UUID lib in Java).  In my case I needed to be able to get this UUID down to 30 characters or less.  I used Base64 and these are my convenience functions.  Hopefully they will be helpful for someone as the solution was not obvious to me right away.</p>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>String uuid_str = \"6fcb514b-b878-4c9d-95b7-8dc3a7ce6fd8\";\nString uuid_as_64 = uuidToBase64(uuid_str);\nSystem.out.println(\"as base64: \"+uuid_as_64);\nSystem.out.println(\"as uuid: \"+uuidFromBase64(uuid_as_64));\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>as base64: b8tRS7h4TJ2Vt43Dp85v2A\nas uuid  : 6fcb514b-b878-4c9d-95b7-8dc3a7ce6fd8\n</code></pre>\n\n<p><strong>Functions:</strong></p>\n\n<pre><code>import org.apache.commons.codec.binary.Base64;\n\nprivate static String uuidToBase64(String str) {\n    Base64 base64 = new Base64();\n    UUID uuid = UUID.fromString(str);\n    ByteBuffer bb = ByteBuffer.wrap(new byte[16]);\n    bb.putLong(uuid.getMostSignificantBits());\n    bb.putLong(uuid.getLeastSignificantBits());\n    return base64.encodeBase64URLSafeString(bb.array());\n}\nprivate static String uuidFromBase64(String str) {\n    Base64 base64 = new Base64(); \n    byte[] bytes = base64.decodeBase64(str);\n    ByteBuffer bb = ByteBuffer.wrap(bytes);\n    UUID uuid = new UUID(bb.getLong(), bb.getLong());\n    return uuid.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1623656034,"post_id":18057117,"comment_id":120130768,"body_markdown":"Why do you say, that this code produces url safe uuid? As I understand url safe uuid mustn&#39;t contain &quot;+&quot; and &quot;/&quot;. But in your code I don&#39;t see, that these symbols are replaced. Could you explain?","body":"Why do you say, that this code produces url safe uuid? As I understand url safe uuid mustn&#39;t contain &quot;+&quot; and &quot;/&quot;. But in your code I don&#39;t see, that these symbols are replaced. Could you explain?"},{"owner":{"account_id":552790,"reputation":1926,"user_id":918030,"accept_rate":40,"display_name":"stikkos"},"score":0,"creation_date":1624055211,"post_id":18057117,"comment_id":120262221,"body_markdown":"comons-codec Base64 class has a urlSafe constructor parameter which I set to true (if true this encoder will emit - and _ instead of the usual + and / characters). (https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#Base64-boolean-)","body":"comons-codec Base64 class has a urlSafe constructor parameter which I set to true (if true this encoder will emit - and _ instead of the usual + and / characters). (<a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html#Base64-boolean-\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-codec/apidocs/org/apache/&zwnj;&#8203;&hellip;</a>)"},{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1624082419,"post_id":18057117,"comment_id":120265721,"body_markdown":"Thank you very much for your explanation.","body":"Thank you very much for your explanation."}],"tags":[],"owner":{"account_id":552790,"reputation":1926,"user_id":918030,"accept_rate":40,"display_name":"stikkos"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1375864405,"creation_date":1375702407,"answer_id":18057117,"question_id":772802,"body_markdown":"Here&#39;s my code, it uses org.apache.commons.codec.binary.Base64 to produce url-safe unique strings that are 22 characters in length (and that have the same uniqueness as UUID).\r\n\r\n    private static Base64 BASE64 = new Base64(true);\r\n\tpublic static String generateKey(){\r\n\t\tUUID uuid = UUID.randomUUID();\r\n    \tbyte[] uuidArray = KeyGenerator.toByteArray(uuid);\r\n\t\tbyte[] encodedArray = BASE64.encode(uuidArray);\r\n\t\tString returnValue = new String(encodedArray);\r\n\t\treturnValue = StringUtils.removeEnd(returnValue, &quot;\\r\\n&quot;);\r\n        return returnValue;\r\n\t}\r\n\tpublic static UUID convertKey(String key){\r\n\t\tUUID returnValue = null;\r\n\t\tif(StringUtils.isNotBlank(key)){\r\n            // Convert base64 string to a byte array\r\n\t\t\tbyte[] decodedArray = BASE64.decode(key);\r\n    \t\treturnValue = KeyGenerator.fromByteArray(decodedArray);\r\n\t\t}\r\n\t\treturn returnValue;\r\n\t}\r\n\tprivate static byte[] toByteArray(UUID uuid) {\r\n\t\tbyte[] byteArray = new byte[(Long.SIZE / Byte.SIZE) * 2];\r\n\t\tByteBuffer buffer = ByteBuffer.wrap(byteArray);\r\n\t\tLongBuffer longBuffer = buffer.asLongBuffer();\r\n\t\tlongBuffer.put(new long[] { uuid.getMostSignificantBits(), uuid.getLeastSignificantBits() });\r\n\t\treturn byteArray;\r\n\t}\r\n\tprivate static UUID fromByteArray(byte[] bytes) {\r\n\t\tByteBuffer buffer = ByteBuffer.wrap(bytes);\r\n\t \tLongBuffer longBuffer = buffer.asLongBuffer();\r\n\t  \treturn new UUID(longBuffer.get(0), longBuffer.get(1));\r\n\t}","title":"Storing UUID as base64 String","body":"<p>Here's my code, it uses org.apache.commons.codec.binary.Base64 to produce url-safe unique strings that are 22 characters in length (and that have the same uniqueness as UUID).</p>\n\n<pre><code>private static Base64 BASE64 = new Base64(true);\npublic static String generateKey(){\n    UUID uuid = UUID.randomUUID();\n    byte[] uuidArray = KeyGenerator.toByteArray(uuid);\n    byte[] encodedArray = BASE64.encode(uuidArray);\n    String returnValue = new String(encodedArray);\n    returnValue = StringUtils.removeEnd(returnValue, \"\\r\\n\");\n    return returnValue;\n}\npublic static UUID convertKey(String key){\n    UUID returnValue = null;\n    if(StringUtils.isNotBlank(key)){\n        // Convert base64 string to a byte array\n        byte[] decodedArray = BASE64.decode(key);\n        returnValue = KeyGenerator.fromByteArray(decodedArray);\n    }\n    return returnValue;\n}\nprivate static byte[] toByteArray(UUID uuid) {\n    byte[] byteArray = new byte[(Long.SIZE / Byte.SIZE) * 2];\n    ByteBuffer buffer = ByteBuffer.wrap(byteArray);\n    LongBuffer longBuffer = buffer.asLongBuffer();\n    longBuffer.put(new long[] { uuid.getMostSignificantBits(), uuid.getLeastSignificantBits() });\n    return byteArray;\n}\nprivate static UUID fromByteArray(byte[] bytes) {\n    ByteBuffer buffer = ByteBuffer.wrap(bytes);\n    LongBuffer longBuffer = buffer.asLongBuffer();\n    return new UUID(longBuffer.get(0), longBuffer.get(1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1044212,"reputation":3002,"user_id":1049542,"accept_rate":36,"display_name":"Sergey Ponomarev"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1554207403,"creation_date":1554207403,"answer_id":55474589,"question_id":772802,"body_markdown":"Here is an example with `java.util.Base64` introduced in JDK8:\r\n\r\n    import java.nio.ByteBuffer;\r\n    import java.util.Base64;\r\n    import java.util.Base64.Encoder;\r\n    import java.util.UUID;\r\n    \r\n    public class Uuid64 {\r\n    \r\n      private static final Encoder BASE64_URL_ENCODER = Base64.getUrlEncoder().withoutPadding();\r\n    \r\n      public static void main(String[] args) {\r\n        // String uuidStr = UUID.randomUUID().toString();\r\n        String uuidStr = &quot;eb55c9cc-1fc1-43da-9adb-d9c66bb259ad&quot;;\r\n        String uuid64 = uuidHexToUuid64(uuidStr);\r\n        System.out.println(uuid64); //=&gt; 61XJzB_BQ9qa29nGa7JZrQ\r\n        System.out.println(uuid64.length()); //=&gt; 22\r\n        String uuidHex = uuid64ToUuidHex(uuid64);\r\n        System.out.println(uuidHex); //=&gt; eb55c9cc-1fc1-43da-9adb-d9c66bb259ad\r\n      }\r\n    \r\n      public static String uuidHexToUuid64(String uuidStr) {\r\n        UUID uuid = UUID.fromString(uuidStr);\r\n        byte[] bytes = uuidToBytes(uuid);\r\n        return BASE64_URL_ENCODER.encodeToString(bytes);\r\n      }\r\n    \r\n      public static String uuid64ToUuidHex(String uuid64) {\r\n        byte[] decoded = Base64.getUrlDecoder().decode(uuid64);\r\n        UUID uuid = uuidFromBytes(decoded);\r\n        return uuid.toString();\r\n      }\r\n    \r\n      public static byte[] uuidToBytes(UUID uuid) {\r\n        ByteBuffer bb = ByteBuffer.wrap(new byte[16]);\r\n        bb.putLong(uuid.getMostSignificantBits());\r\n        bb.putLong(uuid.getLeastSignificantBits());\r\n        return bb.array();\r\n      }\r\n    \r\n      public static UUID uuidFromBytes(byte[] decoded) {\r\n        ByteBuffer bb = ByteBuffer.wrap(decoded);\r\n        long mostSigBits = bb.getLong();\r\n        long leastSigBits = bb.getLong();\r\n        return new UUID(mostSigBits, leastSigBits);\r\n      }\r\n    }\r\n\r\nThe UUID encoded in Base64 is URL safe and without padding.","title":"Storing UUID as base64 String","body":"<p>Here is an example with <code>java.util.Base64</code> introduced in JDK8:</p>\n\n<pre><code>import java.nio.ByteBuffer;\nimport java.util.Base64;\nimport java.util.Base64.Encoder;\nimport java.util.UUID;\n\npublic class Uuid64 {\n\n  private static final Encoder BASE64_URL_ENCODER = Base64.getUrlEncoder().withoutPadding();\n\n  public static void main(String[] args) {\n    // String uuidStr = UUID.randomUUID().toString();\n    String uuidStr = \"eb55c9cc-1fc1-43da-9adb-d9c66bb259ad\";\n    String uuid64 = uuidHexToUuid64(uuidStr);\n    System.out.println(uuid64); //=&gt; 61XJzB_BQ9qa29nGa7JZrQ\n    System.out.println(uuid64.length()); //=&gt; 22\n    String uuidHex = uuid64ToUuidHex(uuid64);\n    System.out.println(uuidHex); //=&gt; eb55c9cc-1fc1-43da-9adb-d9c66bb259ad\n  }\n\n  public static String uuidHexToUuid64(String uuidStr) {\n    UUID uuid = UUID.fromString(uuidStr);\n    byte[] bytes = uuidToBytes(uuid);\n    return BASE64_URL_ENCODER.encodeToString(bytes);\n  }\n\n  public static String uuid64ToUuidHex(String uuid64) {\n    byte[] decoded = Base64.getUrlDecoder().decode(uuid64);\n    UUID uuid = uuidFromBytes(decoded);\n    return uuid.toString();\n  }\n\n  public static byte[] uuidToBytes(UUID uuid) {\n    ByteBuffer bb = ByteBuffer.wrap(new byte[16]);\n    bb.putLong(uuid.getMostSignificantBits());\n    bb.putLong(uuid.getLeastSignificantBits());\n    return bb.array();\n  }\n\n  public static UUID uuidFromBytes(byte[] decoded) {\n    ByteBuffer bb = ByteBuffer.wrap(decoded);\n    long mostSigBits = bb.getLong();\n    long leastSigBits = bb.getLong();\n    return new UUID(mostSigBits, leastSigBits);\n  }\n}\n</code></pre>\n\n<p>The UUID encoded in Base64 is URL safe and without padding.</p>\n"},{"comments":[{"owner":{"account_id":177641,"reputation":10756,"user_id":409102,"accept_rate":69,"display_name":"kravemir"},"score":0,"creation_date":1604215942,"post_id":60056828,"comment_id":114274773,"body_markdown":"Why do you use it for database keys, if the most effective format is 16 binary bytes?","body":"Why do you use it for database keys, if the most effective format is 16 binary bytes?"},{"owner":{"account_id":20221,"reputation":602,"user_id":48119,"accept_rate":75,"display_name":"Jan Rychter"},"score":0,"creation_date":1604305693,"post_id":60056828,"comment_id":114296711,"body_markdown":"For convenience. Using an UUID in string form is obvious: every piece of software is capable of dealing with it. Using it as a key in binary form is an optimization which would incur a significant development and maintenance cost. I decided it isn&#39;t worth the effort.","body":"For convenience. Using an UUID in string form is obvious: every piece of software is capable of dealing with it. Using it as a key in binary form is an optimization which would incur a significant development and maintenance cost. I decided it isn&#39;t worth the effort."}],"tags":[],"owner":{"account_id":20221,"reputation":602,"user_id":48119,"accept_rate":75,"display_name":"Jan Rychter"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580817159,"creation_date":1580817159,"answer_id":60056828,"question_id":772802,"body_markdown":"This is not exactly what you asked for (it isn&#39;t Base64), but worth looking at, because of added flexibility: there is a Clojure library that implements a compact 26-char URL-safe representation of UUIDs (https://github.com/tonsky/compact-uuids).\r\n\r\nSome highlights:\r\n\r\n* Produces strings that are 30% smaller (26 chars vs traditional 36 chars)\r\n* Supports full UUID range (128 bits)\r\n* Encoding-safe (uses only readable characters from ASCII)\r\n* URL/file-name safe\r\n* Lowercase/uppercase safe\r\n* Avoids ambiguous characters (i/I/l/L/1/O/o/0)\r\n* Alphabetical sort on encoded 26-char strings matches default UUID sort order\r\n\r\nThese are rather nice properties. I&#39;ve been using this encoding in my applications both for database keys and for user-visible identifiers, and it works very well.","title":"Storing UUID as base64 String","body":"<p>This is not exactly what you asked for (it isn't Base64), but worth looking at, because of added flexibility: there is a Clojure library that implements a compact 26-char URL-safe representation of UUIDs (<a href=\"https://github.com/tonsky/compact-uuids\" rel=\"nofollow noreferrer\">https://github.com/tonsky/compact-uuids</a>).</p>\n\n<p>Some highlights:</p>\n\n<ul>\n<li>Produces strings that are 30% smaller (26 chars vs traditional 36 chars)</li>\n<li>Supports full UUID range (128 bits)</li>\n<li>Encoding-safe (uses only readable characters from ASCII)</li>\n<li>URL/file-name safe</li>\n<li>Lowercase/uppercase safe</li>\n<li>Avoids ambiguous characters (i/I/l/L/1/O/o/0)</li>\n<li>Alphabetical sort on encoded 26-char strings matches default UUID sort order</li>\n</ul>\n\n<p>These are rather nice properties. I've been using this encoding in my applications both for database keys and for user-visible identifiers, and it works very well.</p>\n"},{"tags":[],"owner":{"account_id":32915,"reputation":10482,"user_id":1038182,"accept_rate":78,"display_name":"Ori Popowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617284525,"creation_date":1617284525,"answer_id":66905629,"question_id":772802,"body_markdown":"Surprised no one mentioned `uuidToByteArray(…)` from commons-lang3.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;3.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd then the code will be\r\n\r\n    import org.apache.commons.lang3.Conversion;\r\n    import java.util.*;\r\n\r\n\r\n    public static byte[] asByteArray(UUID uuid) {\r\n        return Conversion.uuidToByteArray(uuid, new byte[16], 0, 16);\r\n    }","title":"Storing UUID as base64 String","body":"<p>Surprised no one mentioned <code>uuidToByteArray(…)</code> from commons-lang3.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And then the code will be</p>\n<pre><code>import org.apache.commons.lang3.Conversion;\nimport java.util.*;\n\n\npublic static byte[] asByteArray(UUID uuid) {\n    return Conversion.uuidToByteArray(uuid, new byte[16], 0, 16);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695397597,"creation_date":1629818571,"answer_id":68909992,"question_id":772802,"body_markdown":"\r\nThe codecs [`Base64Codec`](https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/codec/base/Base64Codec.java) and [`Base64UrlCodec`](https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/codec/base/Base64UrlCodec.java) can encode UUIDs efficiently to base-64 and base-64-url.\r\n\r\n```java\r\n// Returns a base-64 string\r\n// input:: 01234567-89AB-4DEF-A123-456789ABCDEF\r\n// output: ASNFZ4mrTe+hI0VniavN7w\r\nString string = Base64Codec.INSTANCE.encode(uuid);\r\n```\r\n```java\r\n// Returns a base-64-url string\r\n// input:: 01234567-89AB-4DEF-A123-456789ABCDEF\r\n// output: ASNFZ4mrTe-hI0VniavN7w\r\nString string = Base64UrlCodec.INSTANCE.encode(uuid);\r\n```\r\n\r\nThere are codecs for other encodings in the same [package](https://github.com/f4b6a3/uuid-creator/tree/master/src/main/java/com/github/f4b6a3/uuid/codec/base) of [uuid-creator](https://github.com/f4b6a3/uuid-creator).\r\n\r\n---\r\n**Disclaimer**: I&#39;m the main contributor of `uuid-creator`.","title":"Storing UUID as base64 String","body":"<p>The codecs <a href=\"https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/codec/base/Base64Codec.java\" rel=\"nofollow noreferrer\"><code>Base64Codec</code></a> and <a href=\"https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/codec/base/Base64UrlCodec.java\" rel=\"nofollow noreferrer\"><code>Base64UrlCodec</code></a> can encode UUIDs efficiently to base-64 and base-64-url.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Returns a base-64 string\n// input:: 01234567-89AB-4DEF-A123-456789ABCDEF\n// output: ASNFZ4mrTe+hI0VniavN7w\nString string = Base64Codec.INSTANCE.encode(uuid);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Returns a base-64-url string\n// input:: 01234567-89AB-4DEF-A123-456789ABCDEF\n// output: ASNFZ4mrTe-hI0VniavN7w\nString string = Base64UrlCodec.INSTANCE.encode(uuid);\n</code></pre>\n<p>There are codecs for other encodings in the same <a href=\"https://github.com/f4b6a3/uuid-creator/tree/master/src/main/java/com/github/f4b6a3/uuid/codec/base\" rel=\"nofollow noreferrer\">package</a> of <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\">uuid-creator</a>.</p>\n<hr />\n<p><strong>Disclaimer</strong>: I'm the main contributor of <code>uuid-creator</code>.</p>\n"},{"tags":[],"owner":{"account_id":1080327,"reputation":819,"user_id":1077487,"display_name":"Mitch1077487"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671130474,"creation_date":1671130474,"answer_id":74816271,"question_id":772802,"body_markdown":"Here&#39;s my approach in kotlin:\r\n```\r\n            val uuid: UUID = UUID.randomUUID()\r\n            val uid = BaseEncoding.base64Url().encode(\r\n                ByteBuffer.allocate(16)\r\n                    .putLong(uuid.mostSignificantBits)\r\n                    .putLong(uuid.leastSignificantBits)\r\n                    .array()\r\n            ).trimEnd(&#39;=&#39;)\r\n\r\n```","title":"Storing UUID as base64 String","body":"<p>Here's my approach in kotlin:</p>\n<pre><code>            val uuid: UUID = UUID.randomUUID()\n            val uid = BaseEncoding.base64Url().encode(\n                ByteBuffer.allocate(16)\n                    .putLong(uuid.mostSignificantBits)\n                    .putLong(uuid.leastSignificantBits)\n                    .array()\n            ).trimEnd('=')\n\n</code></pre>\n"}],"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117814,"favorite_count":0,"down_vote_count":0,"up_vote_count":94,"accepted_answer_id":772932,"answer_count":11,"score":94,"last_activity_date":1695397597,"creation_date":1240323481,"question_id":772802,"body_markdown":"I have been experimenting with using UUIDs as database keys.  I want to take up the least amount of bytes as possible, while still keeping the UUID representation human readable.\r\n\r\nI think that I have gotten it down to 22 bytes using base64 and removing some trailing &quot;==&quot; that seem to be unnecessary to store for my purposes.  Are there any flaws with this approach?  \r\n\r\nBasically my test code does a bunch of conversions to get the UUID down to a 22 byte String, then converts it back into a UUID.\r\n\r\n    import java.io.IOException;\r\n    import java.util.UUID;\r\n    \r\n    public class UUIDTest {\r\n    \r\n    \tpublic static void main(String[] args){\r\n    \t\tUUID uuid = UUID.randomUUID();\r\n    \t\tSystem.out.println(&quot;UUID String: &quot; + uuid.toString());\r\n    \t\tSystem.out.println(&quot;Number of Bytes: &quot; + uuid.toString().getBytes().length);\r\n    \t\tSystem.out.println();\r\n    \t\t\r\n    \t\tbyte[] uuidArr = asByteArray(uuid);\r\n    \t\tSystem.out.print(&quot;UUID Byte Array: &quot;);\r\n    \t\tfor(byte b: uuidArr){\r\n    \t\t\tSystem.out.print(b +&quot; &quot;);\r\n    \t\t}\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;Number of Bytes: &quot; + uuidArr.length);\r\n    \t\tSystem.out.println();\r\n    \t\t\r\n    \t\t\r\n    \t    try {\r\n    \t        // Convert a byte array to base64 string\r\n    \t        String s = new sun.misc.BASE64Encoder().encode(uuidArr);\r\n    \t        System.out.println(&quot;UUID Base64 String: &quot; +s);\r\n    \t        System.out.println(&quot;Number of Bytes: &quot; + s.getBytes().length);\r\n    \t        System.out.println();\r\n    \t        \r\n    \t        \r\n    \t        String trimmed = s.split(&quot;=&quot;)[0];\r\n    \t        System.out.println(&quot;UUID Base64 String Trimmed: &quot; +trimmed);\r\n    \t        System.out.println(&quot;Number of Bytes: &quot; + trimmed.getBytes().length);\r\n    \t        System.out.println();\r\n    \t        \r\n    \t        // Convert base64 string to a byte array\r\n    \t        byte[] backArr = new sun.misc.BASE64Decoder().decodeBuffer(trimmed);\r\n    \t\t\tSystem.out.print(&quot;Back to UUID Byte Array: &quot;);\r\n    \t\t\tfor(byte b: backArr){\r\n    \t\t\t\tSystem.out.print(b +&quot; &quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t\tSystem.out.println(&quot;Number of Bytes: &quot; + backArr.length);\r\n    \t\t\t\r\n    \t\t\tbyte[] fixedArr = new byte[16];\r\n    \t\t\tfor(int i= 0; i&lt;16; i++){\r\n    \t\t\t\tfixedArr[i] = backArr[i];\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t\tSystem.out.print(&quot;Fixed UUID Byte Array: &quot;);\r\n    \t\t\tfor(byte b: fixedArr){\r\n    \t\t\t\tSystem.out.print(b +&quot; &quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t\tSystem.out.println(&quot;Number of Bytes: &quot; + fixedArr.length);\r\n    \t\t\t\r\n    \t\t\tSystem.out.println();\r\n    \t\t\tUUID newUUID = toUUID(fixedArr);\r\n    \t\t\tSystem.out.println(&quot;UUID String: &quot; + newUUID.toString());\r\n    \t\t\tSystem.out.println(&quot;Number of Bytes: &quot; + newUUID.toString().getBytes().length);\r\n    \t\t\tSystem.out.println();\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;Equal to Start UUID? &quot;+newUUID.equals(uuid));\r\n    \t\t\tif(!newUUID.equals(uuid)){\r\n    \t\t\t\tSystem.exit(0);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\r\n    \t    } catch (IOException e) {\r\n    \t    }\r\n    \r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static byte[] asByteArray(UUID uuid) {\r\n    \r\n    \t\tlong msb = uuid.getMostSignificantBits();\r\n    \t\tlong lsb = uuid.getLeastSignificantBits();\r\n    \t\tbyte[] buffer = new byte[16];\r\n    \r\n    \t\tfor (int i = 0; i &lt; 8; i++) {\r\n    \t\t\tbuffer[i] = (byte) (msb &gt;&gt;&gt; 8 * (7 - i));\r\n    \t\t}\r\n    \t\tfor (int i = 8; i &lt; 16; i++) {\r\n    \t\t\tbuffer[i] = (byte) (lsb &gt;&gt;&gt; 8 * (7 - i));\r\n    \t\t}\r\n    \r\n    \t\treturn buffer;\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic static UUID toUUID(byte[] byteArray) {\r\n    \r\n    \t\tlong msb = 0;\r\n    \t\tlong lsb = 0;\r\n    \t\tfor (int i = 0; i &lt; 8; i++)\r\n    \t\t\tmsb = (msb &lt;&lt; 8) | (byteArray[i] &amp; 0xff);\r\n    \t\tfor (int i = 8; i &lt; 16; i++)\r\n    \t\t\tlsb = (lsb &lt;&lt; 8) | (byteArray[i] &amp; 0xff);\r\n    \t\tUUID result = new UUID(msb, lsb);\r\n    \r\n    \t\treturn result;\r\n    \t}\r\n    \t\r\n    }\r\n\r\noutput:\r\n\r\n    UUID String: cdaed56d-8712-414d-b346-01905d0026fe\r\n    Number of Bytes: 36\r\n    \r\n    UUID Byte Array: -51 -82 -43 109 -121 18 65 77 -77 70 1 -112 93 0 38 -2 \r\n    Number of Bytes: 16\r\n    \r\n    UUID Base64 String: za7VbYcSQU2zRgGQXQAm/g==\r\n    Number of Bytes: 24\r\n    \r\n    UUID Base64 String Trimmed: za7VbYcSQU2zRgGQXQAm/g\r\n    Number of Bytes: 22\r\n    \r\n    Back to UUID Byte Array: -51 -82 -43 109 -121 18 65 77 -77 70 1 -112 93 0 38 -2 0 38 \r\n    Number of Bytes: 18\r\n    \r\n    Fixed UUID Byte Array: -51 -82 -43 109 -121 18 65 77 -77 70 1 -112 93 0 38 -2 \r\n    Number of Bytes: 16\r\n    \r\n    UUID String: cdaed56d-8712-414d-b346-01905d0026fe\r\n    Number of Bytes: 36\r\n    \r\n    Equal to Start UUID? true\r\n\r\n","title":"Storing UUID as base64 String","body":"<p>I have been experimenting with using UUIDs as database keys.  I want to take up the least amount of bytes as possible, while still keeping the UUID representation human readable.</p>\n\n<p>I think that I have gotten it down to 22 bytes using base64 and removing some trailing \"==\" that seem to be unnecessary to store for my purposes.  Are there any flaws with this approach?  </p>\n\n<p>Basically my test code does a bunch of conversions to get the UUID down to a 22 byte String, then converts it back into a UUID.</p>\n\n<pre><code>import java.io.IOException;\nimport java.util.UUID;\n\npublic class UUIDTest {\n\n    public static void main(String[] args){\n        UUID uuid = UUID.randomUUID();\n        System.out.println(\"UUID String: \" + uuid.toString());\n        System.out.println(\"Number of Bytes: \" + uuid.toString().getBytes().length);\n        System.out.println();\n\n        byte[] uuidArr = asByteArray(uuid);\n        System.out.print(\"UUID Byte Array: \");\n        for(byte b: uuidArr){\n            System.out.print(b +\" \");\n        }\n        System.out.println();\n        System.out.println(\"Number of Bytes: \" + uuidArr.length);\n        System.out.println();\n\n\n        try {\n            // Convert a byte array to base64 string\n            String s = new sun.misc.BASE64Encoder().encode(uuidArr);\n            System.out.println(\"UUID Base64 String: \" +s);\n            System.out.println(\"Number of Bytes: \" + s.getBytes().length);\n            System.out.println();\n\n\n            String trimmed = s.split(\"=\")[0];\n            System.out.println(\"UUID Base64 String Trimmed: \" +trimmed);\n            System.out.println(\"Number of Bytes: \" + trimmed.getBytes().length);\n            System.out.println();\n\n            // Convert base64 string to a byte array\n            byte[] backArr = new sun.misc.BASE64Decoder().decodeBuffer(trimmed);\n            System.out.print(\"Back to UUID Byte Array: \");\n            for(byte b: backArr){\n                System.out.print(b +\" \");\n            }\n            System.out.println();\n            System.out.println(\"Number of Bytes: \" + backArr.length);\n\n            byte[] fixedArr = new byte[16];\n            for(int i= 0; i&lt;16; i++){\n                fixedArr[i] = backArr[i];\n            }\n            System.out.println();\n            System.out.print(\"Fixed UUID Byte Array: \");\n            for(byte b: fixedArr){\n                System.out.print(b +\" \");\n            }\n            System.out.println();\n            System.out.println(\"Number of Bytes: \" + fixedArr.length);\n\n            System.out.println();\n            UUID newUUID = toUUID(fixedArr);\n            System.out.println(\"UUID String: \" + newUUID.toString());\n            System.out.println(\"Number of Bytes: \" + newUUID.toString().getBytes().length);\n            System.out.println();\n\n            System.out.println(\"Equal to Start UUID? \"+newUUID.equals(uuid));\n            if(!newUUID.equals(uuid)){\n                System.exit(0);\n            }\n\n\n        } catch (IOException e) {\n        }\n\n    }\n\n\n    public static byte[] asByteArray(UUID uuid) {\n\n        long msb = uuid.getMostSignificantBits();\n        long lsb = uuid.getLeastSignificantBits();\n        byte[] buffer = new byte[16];\n\n        for (int i = 0; i &lt; 8; i++) {\n            buffer[i] = (byte) (msb &gt;&gt;&gt; 8 * (7 - i));\n        }\n        for (int i = 8; i &lt; 16; i++) {\n            buffer[i] = (byte) (lsb &gt;&gt;&gt; 8 * (7 - i));\n        }\n\n        return buffer;\n\n    }\n\n    public static UUID toUUID(byte[] byteArray) {\n\n        long msb = 0;\n        long lsb = 0;\n        for (int i = 0; i &lt; 8; i++)\n            msb = (msb &lt;&lt; 8) | (byteArray[i] &amp; 0xff);\n        for (int i = 8; i &lt; 16; i++)\n            lsb = (lsb &lt;&lt; 8) | (byteArray[i] &amp; 0xff);\n        UUID result = new UUID(msb, lsb);\n\n        return result;\n    }\n\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>UUID String: cdaed56d-8712-414d-b346-01905d0026fe\nNumber of Bytes: 36\n\nUUID Byte Array: -51 -82 -43 109 -121 18 65 77 -77 70 1 -112 93 0 38 -2 \nNumber of Bytes: 16\n\nUUID Base64 String: za7VbYcSQU2zRgGQXQAm/g==\nNumber of Bytes: 24\n\nUUID Base64 String Trimmed: za7VbYcSQU2zRgGQXQAm/g\nNumber of Bytes: 22\n\nBack to UUID Byte Array: -51 -82 -43 109 -121 18 65 77 -77 70 1 -112 93 0 38 -2 0 38 \nNumber of Bytes: 18\n\nFixed UUID Byte Array: -51 -82 -43 109 -121 18 65 77 -77 70 1 -112 93 0 38 -2 \nNumber of Bytes: 16\n\nUUID String: cdaed56d-8712-414d-b346-01905d0026fe\nNumber of Bytes: 36\n\nEqual to Start UUID? true\n</code></pre>\n"},{"tags":["java","encoding","uuid"],"comments":[{"owner":{"account_id":2437284,"reputation":3902,"user_id":2126854,"accept_rate":80,"display_name":"Glenn Lane"},"score":1,"creation_date":1389656779,"post_id":21103363,"comment_id":31749288,"body_markdown":"I imagine he wants to condense the characters needed to express a UUID for an HTTP GET.  There is a non-trivial limit on the length of an HTTP GET after all.  I don&#39;t see anything wrong with this question at all.","body":"I imagine he wants to condense the characters needed to express a UUID for an HTTP GET.  There is a non-trivial limit on the length of an HTTP GET after all.  I don&#39;t see anything wrong with this question at all."},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":1,"creation_date":1389657336,"post_id":21103363,"comment_id":31749465,"body_markdown":"@GlennLane Both Base64 and Base32 would **increase** the size of the UUID, and since it&#39;s already a hex string (with dashes) there&#39;s no issues with using it in urls re: encoding. Hence &quot;Why would you ever do that&quot;.","body":"@GlennLane Both Base64 and Base32 would <b>increase</b> the size of the UUID, and since it&#39;s already a hex string (with dashes) there&#39;s no issues with using it in urls re: encoding. Hence &quot;Why would you ever do that&quot;."},{"owner":{"account_id":2437284,"reputation":3902,"user_id":2126854,"accept_rate":80,"display_name":"Glenn Lane"},"score":1,"creation_date":1389657662,"post_id":21103363,"comment_id":31749571,"body_markdown":"He&#39;s using them in a URL... so they are expressed as strings.  Most people would use hex, but it&#39;s 32 characters.  Using Base64 is 22 characters.","body":"He&#39;s using them in a URL... so they are expressed as strings.  Most people would use hex, but it&#39;s 32 characters.  Using Base64 is 22 characters."},{"owner":{"account_id":2437284,"reputation":3902,"user_id":2126854,"accept_rate":80,"display_name":"Glenn Lane"},"score":1,"creation_date":1389662961,"post_id":21103363,"comment_id":31751039,"body_markdown":"@BrianRoach I think I know the confusion here... he doesn&#39;t want to Base32 encode the 36-character UUID hex-string.  He wants to encode the 16-byte binary.","body":"@BrianRoach I think I know the confusion here... he doesn&#39;t want to Base32 encode the 36-character UUID hex-string.  He wants to encode the 16-byte binary."},{"owner":{"account_id":93777,"reputation":603,"user_id":256401,"accept_rate":88,"display_name":"Mafuba"},"score":0,"creation_date":1389670186,"post_id":21103363,"comment_id":31752756,"body_markdown":"That&#39;s right. If there isn&#39;t much overhead doing the encoding after generation, the space savings starts to get significant when it&#39;s over billions of nodes.","body":"That&#39;s right. If there isn&#39;t much overhead doing the encoding after generation, the space savings starts to get significant when it&#39;s over billions of nodes."},{"owner":{"account_id":93777,"reputation":603,"user_id":256401,"accept_rate":88,"display_name":"Mafuba"},"score":0,"creation_date":1389670624,"post_id":21103363,"comment_id":31752866,"body_markdown":"Also, unless I *need* the ID to be UUID compliant, it&#39;s easier to just do something like `new BigInteger(130,new SecureRandom()).toString(32)` - I just wanted to see if anyone had tricks up their sleeve with UUIDs.","body":"Also, unless I <i>need</i> the ID to be UUID compliant, it&#39;s easier to just do something like <code>new BigInteger(130,new SecureRandom()).toString(32)</code> - I just wanted to see if anyone had tricks up their sleeve with UUIDs."},{"owner":{"account_id":2437284,"reputation":3902,"user_id":2126854,"accept_rate":80,"display_name":"Glenn Lane"},"score":0,"creation_date":1389813636,"post_id":21103363,"comment_id":31826406,"body_markdown":"@Mafuba Some DB&#39;s (like PostgreSQL) can use UUID as a formal datatype.  There is a small constraint in UUID in that the version number is encoded inside, so if you ever anticipate using previously &quot;randomly generated codes&quot; as UUID down the road, then you should probably use UUID&#39;s from the get-go.","body":"@Mafuba Some DB&#39;s (like PostgreSQL) can use UUID as a formal datatype.  There is a small constraint in UUID in that the version number is encoded inside, so if you ever anticipate using previously &quot;randomly generated codes&quot; as UUID down the road, then you should probably use UUID&#39;s from the get-go."},{"owner":{"account_id":93777,"reputation":603,"user_id":256401,"accept_rate":88,"display_name":"Mafuba"},"score":0,"creation_date":1389826443,"post_id":21103363,"comment_id":31833600,"body_markdown":"Thanks Glenn. The main data stores involved are graph stores (like Neo4j) with some other messaging and NoSQL systems for ancillary data (sorry Brian, no Riak ;-)). And like I said above, I would only use the UUIDs if I had a need for compliance with the standard, which I do not forsee. It just would have been handy. I was just wondering if anyone had combined in a simple way the way .NET does ToByteArray for GUIDs with variable encodings.","body":"Thanks Glenn. The main data stores involved are graph stores (like Neo4j) with some other messaging and NoSQL systems for ancillary data (sorry Brian, no Riak ;-)). And like I said above, I would only use the UUIDs if I had a need for compliance with the standard, which I do not forsee. It just would have been handy. I was just wondering if anyone had combined in a simple way the way .NET does ToByteArray for GUIDs with variable encodings."}],"answers":[{"comments":[{"owner":{"account_id":3355967,"reputation":2017,"user_id":2818874,"display_name":"Ego Slayer"},"score":1,"creation_date":1448283008,"post_id":21103563,"comment_id":55506393,"body_markdown":"problem is Uppercase Lowercase output string, when using a case-insensitive filesystem","body":"problem is Uppercase Lowercase output string, when using a case-insensitive filesystem"}],"tags":[],"owner":{"account_id":2437284,"reputation":3902,"user_id":2126854,"accept_rate":80,"display_name":"Glenn Lane"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1389663118,"creation_date":1389656561,"answer_id":21103563,"question_id":21103363,"body_markdown":"Base32 still pads with the `=` character, so you&#39;ll need to do something with that if you really want to avoid URL escaping.\r\n\r\nIf you really want to avoid Base16, I recommend you use Base64 instead of Base32.  If you want to use an RFC standard, try [base64url][1].  However, that standard also uses &quot;=&quot; for the trailing padding, so you need to escape that.  It&#39;s substitutions are:\r\n\r\n- `+ -&gt; -`\r\n- `/ -&gt; _`\r\n- `= -&gt; =`\r\n\r\nPersonally, I use a variant called Y64.  It&#39;s substitutions are:\r\n\r\n- `+ -&gt; .`\r\n- `/ -&gt; _`\r\n- `= -&gt; -`\r\n\r\nIt&#39;s not an RFC standard, but at least you don&#39;t have to worry about escaping the trailing &quot;=&quot;.\r\n\r\nApache Commons Codec provides both Base64 and Base32.  Here&#39;s an example with Base64 with the Y64 variant\r\n\r\nTo encode:\r\n\r\n\tUUID uuid = UUID.randomUUID();\r\n\tByteBuffer uuidBuffer = ByteBuffer.allocate(16);\r\n\tLongBuffer longBuffer = uuidBuffer.asLongBuffer();\r\n\tlongBuffer.put(uuid.getMostSignificantBits());\r\n\tlongBuffer.put(uuid.getLeastSignificantBits());\r\n\tString encoded = new String(Base64.encode(uuidBuffer.array()), \r\n\t\t\tCharset.forName(&quot;US-ASCII&quot;));\r\n\tencoded = encoded.replace(&#39;+&#39;, &#39;.&#39;)\r\n\t\t\t.replace(&#39;/&#39;, &#39;_&#39;)\r\n\t\t\t.replace(&#39;=&#39;, &#39;-&#39;);\r\n\r\nAnd decode:\r\n\r\n\tString encoded; // from your request parameters or whatever\r\n\tencoded = encoded.replace(&#39;.&#39;, &#39;+&#39;)\r\n\t\t\t.replace(&#39;_&#39;, &#39;/&#39;)\r\n\t\t\t.replace(&#39;-&#39;, &#39;=&#39;);\r\n\tByteBuffer uuidBuffer = ByteBuffer.wrap(Base64.decode(\r\n\t\t\tencoded.getBytes(Charset.forName(&quot;US-ASCII&quot;))));\r\n\tLongBuffer longBuffer = uuidBuffer.asLongBuffer();\r\n\tUUID uuid = new UUID(longBuffer.get(), longBuffer.get());\r\n\r\n\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc4648#section-5","title":"Base32 encode UUID in Java","body":"<p>Base32 still pads with the <code>=</code> character, so you'll need to do something with that if you really want to avoid URL escaping.</p>\n<p>If you really want to avoid Base16, I recommend you use Base64 instead of Base32.  If you want to use an RFC standard, try <a href=\"https://www.rfc-editor.org/rfc/rfc4648#section-5\" rel=\"nofollow noreferrer\">base64url</a>.  However, that standard also uses &quot;=&quot; for the trailing padding, so you need to escape that.  It's substitutions are:</p>\n<ul>\n<li><code>+ -&gt; -</code></li>\n<li><code>/ -&gt; _</code></li>\n<li><code>= -&gt; =</code></li>\n</ul>\n<p>Personally, I use a variant called Y64.  It's substitutions are:</p>\n<ul>\n<li><code>+ -&gt; .</code></li>\n<li><code>/ -&gt; _</code></li>\n<li><code>= -&gt; -</code></li>\n</ul>\n<p>It's not an RFC standard, but at least you don't have to worry about escaping the trailing &quot;=&quot;.</p>\n<p>Apache Commons Codec provides both Base64 and Base32.  Here's an example with Base64 with the Y64 variant</p>\n<p>To encode:</p>\n<pre><code>UUID uuid = UUID.randomUUID();\nByteBuffer uuidBuffer = ByteBuffer.allocate(16);\nLongBuffer longBuffer = uuidBuffer.asLongBuffer();\nlongBuffer.put(uuid.getMostSignificantBits());\nlongBuffer.put(uuid.getLeastSignificantBits());\nString encoded = new String(Base64.encode(uuidBuffer.array()), \n        Charset.forName(&quot;US-ASCII&quot;));\nencoded = encoded.replace('+', '.')\n        .replace('/', '_')\n        .replace('=', '-');\n</code></pre>\n<p>And decode:</p>\n<pre><code>String encoded; // from your request parameters or whatever\nencoded = encoded.replace('.', '+')\n        .replace('_', '/')\n        .replace('-', '=');\nByteBuffer uuidBuffer = ByteBuffer.wrap(Base64.decode(\n        encoded.getBytes(Charset.forName(&quot;US-ASCII&quot;))));\nLongBuffer longBuffer = uuidBuffer.asLongBuffer();\nUUID uuid = new UUID(longBuffer.get(), longBuffer.get());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695397574,"creation_date":1609048749,"answer_id":65463266,"question_id":21103363,"body_markdown":"The codec [`Base32Codec`](https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/codec/base/Base32Codec.java) can encode UUIDs efficiently to base-32.\r\n\r\n```java\r\n// Returns a base-32 string\r\n// uuid::: 01234567-89AB-4DEF-A123-456789ABCDEF\r\n// base32: aerukz4jvng67ijdivtytk6n54\r\nString string = Base32Codec.INSTANCE.encode(uuid);\r\n```\r\n\r\nThere are codecs for other encodings in the same [package](https://github.com/f4b6a3/uuid-creator/tree/master/src/main/java/com/github/f4b6a3/uuid/codec/base) of [uuid-creator](https://github.com/f4b6a3/uuid-creator).\r\n\r\n---\r\n**Disclaimer**: I&#39;m the main contributor of `uuid-creator`.","title":"Base32 encode UUID in Java","body":"<p>The codec <a href=\"https://github.com/f4b6a3/uuid-creator/blob/master/src/main/java/com/github/f4b6a3/uuid/codec/base/Base32Codec.java\" rel=\"nofollow noreferrer\"><code>Base32Codec</code></a> can encode UUIDs efficiently to base-32.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Returns a base-32 string\n// uuid::: 01234567-89AB-4DEF-A123-456789ABCDEF\n// base32: aerukz4jvng67ijdivtytk6n54\nString string = Base32Codec.INSTANCE.encode(uuid);\n</code></pre>\n<p>There are codecs for other encodings in the same <a href=\"https://github.com/f4b6a3/uuid-creator/tree/master/src/main/java/com/github/f4b6a3/uuid/codec/base\" rel=\"nofollow noreferrer\">package</a> of <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\">uuid-creator</a>.</p>\n<hr />\n<p><strong>Disclaimer</strong>: I'm the main contributor of <code>uuid-creator</code>.</p>\n"},{"tags":[],"owner":{"account_id":4762496,"reputation":1608,"user_id":3849555,"display_name":"Chayne P. S."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629760575,"creation_date":1629760575,"answer_id":68900041,"question_id":21103363,"body_markdown":"I agreed with the discussion that Base64Url might be more suitable but I also see the benefit of generating unique value in Base32. It&#39;s case insensitive that is easier to handle if human is involved.\r\n\r\nThis is my code to convert UUID to Base32 using Guava&#39;s BaseEncoding.\r\n```\r\n    public static String toBase32(UUID uuid){\r\n        ByteBuffer bb = ByteBuffer.wrap(new byte[16]);\r\n        bb.putLong(uuid.getMostSignificantBits());\r\n        bb.putLong(uuid.getLeastSignificantBits());\r\n        return BaseEncoding.base32().omitPadding().encode(bb.array());\r\n    }\r\n```","title":"Base32 encode UUID in Java","body":"<p>I agreed with the discussion that Base64Url might be more suitable but I also see the benefit of generating unique value in Base32. It's case insensitive that is easier to handle if human is involved.</p>\n<p>This is my code to convert UUID to Base32 using Guava's BaseEncoding.</p>\n<pre><code>    public static String toBase32(UUID uuid){\n        ByteBuffer bb = ByteBuffer.wrap(new byte[16]);\n        bb.putLong(uuid.getMostSignificantBits());\n        bb.putLong(uuid.getLeastSignificantBits());\n        return BaseEncoding.base32().omitPadding().encode(bb.array());\n    }\n</code></pre>\n"}],"owner":{"account_id":93777,"reputation":603,"user_id":256401,"accept_rate":88,"display_name":"Mafuba"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6822,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":21103563,"answer_count":3,"score":4,"last_activity_date":1695397574,"creation_date":1389655383,"question_id":21103363,"body_markdown":"What is the most time efficient way to create and Base32 encode a random UUID in Java? I would like to use Base32 encoding to store globally unique IDs that are usable in URLs.","title":"Base32 encode UUID in Java","body":"<p>What is the most time efficient way to create and Base32 encode a random UUID in Java? I would like to use Base32 encoding to store globally unique IDs that are usable in URLs.</p>\n"},{"tags":["java","reactive-programming","uuid","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":7,"creation_date":1580997146,"post_id":60096442,"comment_id":106288007,"body_markdown":"Is this really a problem? Getting enough random bytes from the OS random number source used to be a problem on older Linux versions, but it should be pretty fast now. And maybe that this only happens the first time you generate a UUID?","body":"Is this really a problem? Getting enough random bytes from the OS random number source used to be a problem on older Linux versions, but it should be pretty fast now. And maybe that this only happens the first time you generate a UUID?"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":5,"creation_date":1580997299,"post_id":60096442,"comment_id":106288105,"body_markdown":"See this thread for a discussion about why the default entropy source can be slow and how to select a different one: https://stackoverflow.com/questions/137212/how-to-deal-with-a-slow-securerandom-generator","body":"See this thread for a discussion about why the default entropy source can be slow and how to select a different one: <a href=\"https://stackoverflow.com/questions/137212/how-to-deal-with-a-slow-securerandom-generator\" title=\"how to deal with a slow securerandom generator\">stackoverflow.com/questions/137212/&hellip;</a>"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":6,"creation_date":1580997413,"post_id":60096442,"comment_id":106288187,"body_markdown":"If you do run into slowness and don&#39;t want to block your &quot;reactive&quot; thread, you could generate all UUID on a dedicated worker pool, same as you would do with other blocking things. But it does seem overkill.","body":"If you do run into slowness and don&#39;t want to block your &quot;reactive&quot; thread, you could generate all UUID on a dedicated worker pool, same as you would do with other blocking things. But it does seem overkill."},{"owner":{"account_id":3284546,"reputation":403,"user_id":2764341,"display_name":"linkebon"},"score":0,"creation_date":1580997819,"post_id":60096442,"comment_id":106288451,"body_markdown":"Thanks for answers. Blocking calls should not be used in reactive program even though they are fast. I agree creating a separate thread pool for generating the uuid seems overkill. No other library available for generating random id&#39;s that is recommended to use for reactive applications?","body":"Thanks for answers. Blocking calls should not be used in reactive program even though they are fast. I agree creating a separate thread pool for generating the uuid seems overkill. No other library available for generating random id&#39;s that is recommended to use for reactive applications?"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":3,"creation_date":1581031680,"post_id":60096442,"comment_id":106304081,"body_markdown":"There is no problem with this (unless seeding the SecureRandom is really slow). Class-loading is blocking as well. Don&#39;t fall into the premature &quot;optimisation&quot; trap and focus on demonstrable performance issues.","body":"There is no problem with this (unless seeding the SecureRandom is really slow). Class-loading is blocking as well. Don&#39;t fall into the premature &quot;optimisation&quot; trap and focus on demonstrable performance issues."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1581193598,"post_id":60096442,"comment_id":106351354,"body_markdown":"my question is, is it a problem that the uuid random is blocking? have you measured it to be a problem?","body":"my question is, is it a problem that the uuid random is blocking? have you measured it to be a problem?"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1599686687,"post_id":60096442,"comment_id":112854039,"body_markdown":"Is it possible to provide a workaround on this blocking call, regardless of how small is the impact?","body":"Is it possible to provide a workaround on this blocking call, regardless of how small is the impact?"},{"owner":{"account_id":408579,"reputation":9113,"user_id":779340,"accept_rate":69,"display_name":"rascio"},"score":0,"creation_date":1621601780,"post_id":60096442,"comment_id":119552007,"body_markdown":"If there&#39;s no way to say to blockhound that this is not an error I think the error is that one should disable the entire blockhound checks to use the UUID, was any solution found for this?","body":"If there&#39;s no way to say to blockhound that this is not an error I think the error is that one should disable the entire blockhound checks to use the UUID, was any solution found for this?"},{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":2,"creation_date":1634887149,"post_id":60096442,"comment_id":123151764,"body_markdown":"You should check on the first comment about why the call is taking so much time. But in general to wrap a synchronous blocking call you go Mono.fromCallable(UUID::randomUUID).subscribeOn(Schedulers.boundedElastic())","body":"You should check on the first comment about why the call is taking so much time. But in general to wrap a synchronous blocking call you go Mono.fromCallable(UUID::randomUUID).subscribeOn(Schedulers.b&zwnj;&#8203;oundedElastic())"},{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":0,"creation_date":1639037792,"post_id":60096442,"comment_id":124247349,"body_markdown":"+1 to suggestion by @JEY - this is the right fix for an operation like this that does have IO and is blocking even if expected to be quick.","body":"+1 to suggestion by @JEY - this is the right fix for an operation like this that does have IO and is blocking even if expected to be quick."}],"answers":[{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1695397517,"creation_date":1639036674,"answer_id":70286396,"question_id":60096442,"body_markdown":"This is a list of three examples on how to use [uuid-creator](https://github.com/f4b6a3/uuid-creator) to reduce thread contention on Linux.\r\n\r\nAn additional example uses [ulid-creator](https://github.com/f4b6a3/ulid-creator) to generate [Monotonic ULIDs](https://github.com/ulid/spec) and then turn them into RFC-4122 UUID (standard). Monotonic ULID generation is *very fast*.\r\n\r\nThe benchmark code is available on a [GitHub Gist](https://gist.github.com/fabiolimace/e6b773ccce864bc35e4c1797131f2f27).\r\n\r\n### Example 1: using `UuidCreator` and `SHA1PRNG`\r\n\r\nHow to setup the `SHA1PRNG` algorithm to be used by `UuidCreator`:\r\n\r\n```bash\r\n# Append to /etc/environment or ~/.profile\r\n# Use the the algorithm SHA1PRNG for SecureRandom\r\nexport UUIDCREATOR_SECURERANDOM=&quot;SHA1PRNG&quot;\r\n```\r\n\r\n```java\r\n// generate a random-based UUID\r\nUUID uuid = UuidCreator.getRandomBased();\r\n```\r\n\r\n`UuidCreator` uses a fixed pool of `SecureRandom`. The variable `UUIDCREATOR_SECURERANDOM` tells `UuidCreator` to use another `SecureRandom` algorithm, instead of `NativePRNG` on Linux. `UuidCreator` along with `SHA1PRNG` algorithm generates UUIDs with less thread contention (less-blocking) than `UUID.randomUUID()`.\r\n\r\nSee the benchmark using 4 threads:\r\n\r\n```text\r\n----------------------------------------------------------------------\r\nBenchmark                      Mode  Cnt      Score     Error   Units\r\n----------------------------------------------------------------------\r\nUUID.randomUUID()             thrpt    5   1423,060 &#177;  30,125  ops/ms\r\nUuidCreator.getRandomBased()  thrpt    5  10616,016 &#177; 281,486  ops/ms\r\n----------------------------------------------------------------------\r\n```\r\n\r\n### Example 2: using `ThreadLocalRandom`\r\n\r\nHow to implement a UUID generator using `ThreadLocalRandom`:\r\n\r\n```java\r\npublic class UuidGenerator {\r\n\r\n    private static final RandomBasedFactory UUID_FACTORY;\r\n\r\n    static {\r\n        UUID_FACTORY = new RandomBasedFactory((int length) -&gt; {\r\n            final byte[] bytes = new byte[length];\r\n            ThreadLocalRandom.current().nextBytes(bytes);\r\n            return bytes;\r\n        });\r\n    }\r\n\r\n    public static UUID generate() {\r\n        return UUID_FACTORY.create();\r\n    }\r\n}\r\n```\r\n\r\n`ThreadLocalRandom` is a fast (and unsafe) random generator without thread contention (non-blocking).\r\n\r\nSee the benchmark using 4 threads:\r\n\r\n```text\r\n----------------------------------------------------------------------\r\nBenchmark                     Mode  Cnt      Score      Error   Units\r\n----------------------------------------------------------------------\r\nUUID.randomUUID()            thrpt    5   1423,060 &#177;   30,125  ops/ms\r\nUuidGenerator.generate()     thrpt    5  85390,979 &#177; 1564,589  ops/ms\r\n----------------------------------------------------------------------\r\n```\r\n\r\n### Example 3: using `RandomBasedFactory[]` and `SHA1PRNG`\r\n\r\nHow to implement a UUID generator using ana array of `RandomBasedFactory` and `SHA1PRNG` algorithm:\r\n\r\n```java\r\n\tpublic static class UuidGenerator {\r\n\r\n\t\tprivate static final int SIZE = 8; // you choose\r\n\t\tprivate static final RandomBasedFactory[] FACTORIES;\r\n\r\n\t\tstatic {\r\n\t\t\tFACTORIES = new RandomBasedFactory[SIZE];\r\n\t\t\ttry {\r\n\t\t\t\tfor (int i = 0; i &lt; FACTORIES.length; i++) {\r\n\t\t\t\t\t// SHA1PRNG or DRBG can be used to reduce thread contention.\r\n\t\t\t\t\tSecureRandom argument = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\r\n\t\t\t\t\tFACTORIES[i] = new RandomBasedFactory(argument);\r\n\t\t\t\t}\r\n\t\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t\t// oops!\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic static UUID generate() {\r\n\t\t\t// calculate the factory index given the current thread ID\r\n\t\t\tfinal int index = (int) Thread.currentThread().getId() % SIZE;\r\n\t\t\treturn FACTORIES[index].create();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nAn array of `RandomBasedFactory` with and `SHA1PRNG` algorithm can generate UUIDs with less thread contention (less-blocking).\r\n\r\nSee the benchmark using 4 threads:\r\n\r\n```text\r\n----------------------------------------------------------------------\r\nBenchmark                     Mode  Cnt      Score      Error   Units\r\n----------------------------------------------------------------------\r\nUUID.randomUUID()            thrpt    5   1423,060 &#177;   30,125  ops/ms\r\nUuidGenerator.generate()     thrpt    5  10048,747 &#177;  195,209  ops/ms\r\n----------------------------------------------------------------------\r\n```\r\n\r\n### Example 4: using `UlidCreator` and `Monotonic ULIDs`\r\n\r\nHow to use [ulid-creator](https://github.com/f4b6a3/ulid-creator) to generate RFC-4122 UUIDs from [Monotonic ULIDs](https://github.com/ulid/spec):\r\n\r\n```java\r\n// create a Monotonic ULID and convert it to RFC-4122 UUID v4\r\nUUID uuid = UlidCreator.getMonotonicUlid().toRfc4122().toUuid();\r\n```\r\n\r\nSee the benchmark using 4 threads:\r\n\r\n```text\r\n-----------------------------------------------------------------------\r\nBenchmark                       Mode  Cnt     Score      Error   Units\r\n-----------------------------------------------------------------------\r\nUUID.randomUUID()              thrpt    5  1423,060 &#177;   30,125  ops/ms\r\nUlidCreator.getMonotonicUlid() thrpt    5  7391,917 &#177;  871,799  ops/ms\r\n-----------------------------------------------------------------------\r\n```\r\n\r\n**EDIT**: added the 4th example that uses Monotonic ULID.\r\n\r\n---\r\n**Disclaimer**: I&#39;m the main contributor of `uuid-creator`.","title":"Generate random UUID non blocking","body":"<p>This is a list of three examples on how to use <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\">uuid-creator</a> to reduce thread contention on Linux.</p>\n<p>An additional example uses <a href=\"https://github.com/f4b6a3/ulid-creator\" rel=\"nofollow noreferrer\">ulid-creator</a> to generate <a href=\"https://github.com/ulid/spec\" rel=\"nofollow noreferrer\">Monotonic ULIDs</a> and then turn them into RFC-4122 UUID (standard). Monotonic ULID generation is <em>very fast</em>.</p>\n<p>The benchmark code is available on a <a href=\"https://gist.github.com/fabiolimace/e6b773ccce864bc35e4c1797131f2f27\" rel=\"nofollow noreferrer\">GitHub Gist</a>.</p>\n<h3>Example 1: using <code>UuidCreator</code> and <code>SHA1PRNG</code></h3>\n<p>How to setup the <code>SHA1PRNG</code> algorithm to be used by <code>UuidCreator</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Append to /etc/environment or ~/.profile\n# Use the the algorithm SHA1PRNG for SecureRandom\nexport UUIDCREATOR_SECURERANDOM=&quot;SHA1PRNG&quot;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// generate a random-based UUID\nUUID uuid = UuidCreator.getRandomBased();\n</code></pre>\n<p><code>UuidCreator</code> uses a fixed pool of <code>SecureRandom</code>. The variable <code>UUIDCREATOR_SECURERANDOM</code> tells <code>UuidCreator</code> to use another <code>SecureRandom</code> algorithm, instead of <code>NativePRNG</code> on Linux. <code>UuidCreator</code> along with <code>SHA1PRNG</code> algorithm generates UUIDs with less thread contention (less-blocking) than <code>UUID.randomUUID()</code>.</p>\n<p>See the benchmark using 4 threads:</p>\n<pre><code>----------------------------------------------------------------------\nBenchmark                      Mode  Cnt      Score     Error   Units\n----------------------------------------------------------------------\nUUID.randomUUID()             thrpt    5   1423,060 ±  30,125  ops/ms\nUuidCreator.getRandomBased()  thrpt    5  10616,016 ± 281,486  ops/ms\n----------------------------------------------------------------------\n</code></pre>\n<h3>Example 2: using <code>ThreadLocalRandom</code></h3>\n<p>How to implement a UUID generator using <code>ThreadLocalRandom</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UuidGenerator {\n\n    private static final RandomBasedFactory UUID_FACTORY;\n\n    static {\n        UUID_FACTORY = new RandomBasedFactory((int length) -&gt; {\n            final byte[] bytes = new byte[length];\n            ThreadLocalRandom.current().nextBytes(bytes);\n            return bytes;\n        });\n    }\n\n    public static UUID generate() {\n        return UUID_FACTORY.create();\n    }\n}\n</code></pre>\n<p><code>ThreadLocalRandom</code> is a fast (and unsafe) random generator without thread contention (non-blocking).</p>\n<p>See the benchmark using 4 threads:</p>\n<pre><code>----------------------------------------------------------------------\nBenchmark                     Mode  Cnt      Score      Error   Units\n----------------------------------------------------------------------\nUUID.randomUUID()            thrpt    5   1423,060 ±   30,125  ops/ms\nUuidGenerator.generate()     thrpt    5  85390,979 ± 1564,589  ops/ms\n----------------------------------------------------------------------\n</code></pre>\n<h3>Example 3: using <code>RandomBasedFactory[]</code> and <code>SHA1PRNG</code></h3>\n<p>How to implement a UUID generator using ana array of <code>RandomBasedFactory</code> and <code>SHA1PRNG</code> algorithm:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static class UuidGenerator {\n\n        private static final int SIZE = 8; // you choose\n        private static final RandomBasedFactory[] FACTORIES;\n\n        static {\n            FACTORIES = new RandomBasedFactory[SIZE];\n            try {\n                for (int i = 0; i &lt; FACTORIES.length; i++) {\n                    // SHA1PRNG or DRBG can be used to reduce thread contention.\n                    SecureRandom argument = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\n                    FACTORIES[i] = new RandomBasedFactory(argument);\n                }\n            } catch (NoSuchAlgorithmException e) {\n                // oops!\n            }\n        }\n\n        public static UUID generate() {\n            // calculate the factory index given the current thread ID\n            final int index = (int) Thread.currentThread().getId() % SIZE;\n            return FACTORIES[index].create();\n        }\n    }\n</code></pre>\n<p>An array of <code>RandomBasedFactory</code> with and <code>SHA1PRNG</code> algorithm can generate UUIDs with less thread contention (less-blocking).</p>\n<p>See the benchmark using 4 threads:</p>\n<pre><code>----------------------------------------------------------------------\nBenchmark                     Mode  Cnt      Score      Error   Units\n----------------------------------------------------------------------\nUUID.randomUUID()            thrpt    5   1423,060 ±   30,125  ops/ms\nUuidGenerator.generate()     thrpt    5  10048,747 ±  195,209  ops/ms\n----------------------------------------------------------------------\n</code></pre>\n<h3>Example 4: using <code>UlidCreator</code> and <code>Monotonic ULIDs</code></h3>\n<p>How to use <a href=\"https://github.com/f4b6a3/ulid-creator\" rel=\"nofollow noreferrer\">ulid-creator</a> to generate RFC-4122 UUIDs from <a href=\"https://github.com/ulid/spec\" rel=\"nofollow noreferrer\">Monotonic ULIDs</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// create a Monotonic ULID and convert it to RFC-4122 UUID v4\nUUID uuid = UlidCreator.getMonotonicUlid().toRfc4122().toUuid();\n</code></pre>\n<p>See the benchmark using 4 threads:</p>\n<pre><code>-----------------------------------------------------------------------\nBenchmark                       Mode  Cnt     Score      Error   Units\n-----------------------------------------------------------------------\nUUID.randomUUID()              thrpt    5  1423,060 ±   30,125  ops/ms\nUlidCreator.getMonotonicUlid() thrpt    5  7391,917 ±  871,799  ops/ms\n-----------------------------------------------------------------------\n</code></pre>\n<p><strong>EDIT</strong>: added the 4th example that uses Monotonic ULID.</p>\n<hr />\n<p><strong>Disclaimer</strong>: I'm the main contributor of <code>uuid-creator</code>.</p>\n"},{"tags":[],"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678382128,"creation_date":1677364757,"answer_id":75568880,"question_id":60096442,"body_markdown":"The original solution has been suggested by JEY (https://stackoverflow.com/users/1976843/jey) in the comments. \r\n\r\nI am just sharing my BlockHound tested code for `UUID` and `SecureRandom`.\r\n\r\nFor `UUID`:\r\n\r\n```java\r\nMono.fromCallable(() -&gt; UUID.randomUUID().toString())\r\n  .subscribeOn(Schedulers.boundedElastic());\r\n```\r\n\r\nAnd another commonly used apparently blocking, `SecureRandom`:\r\n\r\n```java\r\nprivate final SecureRandom random = new SecureRandom();\r\n\r\nMono.fromCallable(() -&gt; random.nextInt(1_000))\r\n  .subscribeOn(Schedulers.boundedElastic());\r\n```\r\n\r\nTested on:\r\n\r\n- Java 17\r\n- Spring Boot 2.7.6\r\n- BlockHound 1.0.7.RELEASE (no modifications)","title":"Generate random UUID non blocking","body":"<p>The original solution has been suggested by JEY (<a href=\"https://stackoverflow.com/users/1976843/jey\">https://stackoverflow.com/users/1976843/jey</a>) in the comments.</p>\n<p>I am just sharing my BlockHound tested code for <code>UUID</code> and <code>SecureRandom</code>.</p>\n<p>For <code>UUID</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.fromCallable(() -&gt; UUID.randomUUID().toString())\n  .subscribeOn(Schedulers.boundedElastic());\n</code></pre>\n<p>And another commonly used apparently blocking, <code>SecureRandom</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final SecureRandom random = new SecureRandom();\n\nMono.fromCallable(() -&gt; random.nextInt(1_000))\n  .subscribeOn(Schedulers.boundedElastic());\n</code></pre>\n<p>Tested on:</p>\n<ul>\n<li>Java 17</li>\n<li>Spring Boot 2.7.6</li>\n<li>BlockHound 1.0.7.RELEASE (no modifications)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24374955,"reputation":31,"user_id":18307421,"display_name":"entropie"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678382180,"creation_date":1678381888,"answer_id":75687886,"question_id":60096442,"body_markdown":"There [is a way][1] to tell BlockHound to ignore `UUID.randomUUID()`.\r\n\r\nAnd there is a good reason to do so.\r\nBlockhound blames UUID.randomUUID() to use a file read operation, because file operations contain the risk to transfer some data to/from a disk.\r\n\r\n/dev/random and /dev/urandom are not of that kind. The data is coming from the memory directly. \r\n\r\nSince Java 8, Java uses /dev/urandom, which guarantees on top of /dev/random, that it won&#39;t block even if the entropy pool runs low. Which means, that in the whole stack down to the kernel, the CPU has always work to do.\r\n\r\nNot using /dev/urandom makes solutions cryptographically weak. You could directly fallback to time-based UUIDs.\r\nPushing it to other Threads as suggested by @downvoteit just adds overhead. The work needs to be done anyway to handle the request.\r\n\r\nThe performance-measurements by @fabiolimace indicate, that even using a cryptographically questionable solution and only generating UUIDs, you gain the factor 10 at its best. In reality, when UUID generation is not your bottleneck, you probably won&#39;t even notice the difference in terms of throughput.\r\n\r\n\r\n  [1]: https://github.com/reactor/BlockHound/blob/master/docs/customization.md#dis-allowing-blocking-calls-inside-methods","title":"Generate random UUID non blocking","body":"<p>There <a href=\"https://github.com/reactor/BlockHound/blob/master/docs/customization.md#dis-allowing-blocking-calls-inside-methods\" rel=\"nofollow noreferrer\">is a way</a> to tell BlockHound to ignore <code>UUID.randomUUID()</code>.</p>\n<p>And there is a good reason to do so.\nBlockhound blames UUID.randomUUID() to use a file read operation, because file operations contain the risk to transfer some data to/from a disk.</p>\n<p>/dev/random and /dev/urandom are not of that kind. The data is coming from the memory directly.</p>\n<p>Since Java 8, Java uses /dev/urandom, which guarantees on top of /dev/random, that it won't block even if the entropy pool runs low. Which means, that in the whole stack down to the kernel, the CPU has always work to do.</p>\n<p>Not using /dev/urandom makes solutions cryptographically weak. You could directly fallback to time-based UUIDs.\nPushing it to other Threads as suggested by @downvoteit just adds overhead. The work needs to be done anyway to handle the request.</p>\n<p>The performance-measurements by @fabiolimace indicate, that even using a cryptographically questionable solution and only generating UUIDs, you gain the factor 10 at its best. In reality, when UUID generation is not your bottleneck, you probably won't even notice the difference in terms of throughput.</p>\n"}],"owner":{"account_id":3284546,"reputation":403,"user_id":2764341,"display_name":"linkebon"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4411,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"answer_count":3,"score":15,"last_activity_date":1695397517,"creation_date":1580996811,"question_id":60096442,"body_markdown":"By using Blockhound *io.projectreactor.tools blockhound-junit-platform* i found out that UUID.randomUUID is a blocking call which is a problem for us since we are using Spring boot Webflux version 2.2.2.RELEASE\r\n\r\nIs there any other way to get a random uuid in a non blocking way or is there any other java library recommended for non blocking generation of randomized strings.\r\n\r\nStack trace from blockhound:\r\n\r\n    java.lang.Error: Blocking call! java.io.FileInputStream#readBytes\r\n    at reactor.blockhound.BlockHound$Builder.lambda$new$0(BlockHound.java:196) ~[blockhound-1.0.1.RELEASE.jar:na]\r\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    |_ checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain][ExceptionHandlingWebHandler]\r\n    Stack trace:\r\n        at reactor.blockhound.BlockHound$Builder.lambda$new$0(BlockHound.java:196) ~[blockhound-1.0.1.RELEASE.jar:na]\r\n        at reactor.blockhound.BlockHound$Builder.lambda$install$6(BlockHound.java:318) ~[blockhound-1.0.1.RELEASE.jar:na]\r\n        at reactor.blockhound.BlockHoundRuntime.checkBlocking(BlockHoundRuntime.java:46) ~[na:na]\r\n        at java.base/java.io.FileInputStream.readBytes(FileInputStream.java) ~[na:na]\r\n        at java.base/java.io.FileInputStream.read(FileInputStream.java:279) ~[na:na]\r\n        at java.base/java.io.FilterInputStream.read(FilterInputStream.java:133) ~[na:na]\r\n        at java.base/sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:424) ~[na:na]\r\n        at java.base/sun.security.provider.NativePRNG$RandomIO.ensureBufferValid(NativePRNG.java:526) ~[na:na]\r\n        at java.base/sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:545) ~[na:na]\r\n        at java.base/sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:220) ~[na:na]\r\n        at java.base/java.security.SecureRandom.nextBytes(SecureRandom.java:741) ~[na:na]\r\n        at java.base/java.util.UUID.randomUUID(UUID.java:150) ~[na:na]\r\n","title":"Generate random UUID non blocking","body":"<p>By using Blockhound <em>io.projectreactor.tools blockhound-junit-platform</em> i found out that UUID.randomUUID is a blocking call which is a problem for us since we are using Spring boot Webflux version 2.2.2.RELEASE</p>\n\n<p>Is there any other way to get a random uuid in a non blocking way or is there any other java library recommended for non blocking generation of randomized strings.</p>\n\n<p>Stack trace from blockhound:</p>\n\n<pre><code>java.lang.Error: Blocking call! java.io.FileInputStream#readBytes\nat reactor.blockhound.BlockHound$Builder.lambda$new$0(BlockHound.java:196) ~[blockhound-1.0.1.RELEASE.jar:na]\nSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n|_ checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain][ExceptionHandlingWebHandler]\nStack trace:\n    at reactor.blockhound.BlockHound$Builder.lambda$new$0(BlockHound.java:196) ~[blockhound-1.0.1.RELEASE.jar:na]\n    at reactor.blockhound.BlockHound$Builder.lambda$install$6(BlockHound.java:318) ~[blockhound-1.0.1.RELEASE.jar:na]\n    at reactor.blockhound.BlockHoundRuntime.checkBlocking(BlockHoundRuntime.java:46) ~[na:na]\n    at java.base/java.io.FileInputStream.readBytes(FileInputStream.java) ~[na:na]\n    at java.base/java.io.FileInputStream.read(FileInputStream.java:279) ~[na:na]\n    at java.base/java.io.FilterInputStream.read(FilterInputStream.java:133) ~[na:na]\n    at java.base/sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:424) ~[na:na]\n    at java.base/sun.security.provider.NativePRNG$RandomIO.ensureBufferValid(NativePRNG.java:526) ~[na:na]\n    at java.base/sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:545) ~[na:na]\n    at java.base/sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:220) ~[na:na]\n    at java.base/java.security.SecureRandom.nextBytes(SecureRandom.java:741) ~[na:na]\n    at java.base/java.util.UUID.randomUUID(UUID.java:150) ~[na:na]\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"owner":{"account_id":4277236,"reputation":41,"user_id":3497581,"accept_rate":0,"display_name":"user3497581"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695397514,"creation_date":1695397514,"question_id":77159067,"body_markdown":"I&#39;m new to using Mongo DB in Spring. I have a mongo db query\r\n    \r\n    [\r\n        { &quot;$group&quot;: {\r\n            &quot;_id&quot;: {\r\n                &quot;email&quot;: &quot;$email&quot;,\r\n                &quot;faxType&quot;: &quot;$faxType&quot;\r\n            },\r\n            &quot;faxCount&quot;: { &quot;$sum&quot;: 1 }\r\n        }},\r\n        { &quot;$group&quot;: {\r\n            &quot;_id&quot;: &quot;$_id.email&quot;,\r\n            &quot;faxTypes&quot;: { \r\n                &quot;$push&quot;: { \r\n                    &quot;faxType&quot;: &quot;$_id.faxType&quot;,\r\n                    &quot;count&quot;: &quot;$faxCount&quot;\r\n                },\r\n            },\r\n            &quot;count&quot;: { &quot;$sum&quot;: &quot;$faxCount&quot; }\r\n        }},\r\n        { &quot;$sort&quot;: { &quot;count&quot;: -1 } },\r\n        { &quot;$limit&quot;: 2 },\r\n        { &quot;$project&quot;: {\r\n            &quot;faxTypes&quot;: { &quot;$slice&quot;: [ &quot;$faxTypes&quot;, 2 ] },\r\n            &quot;count&quot;: 1\r\n        }}\r\n    ]\r\n    \r\nI need the equivalent of above that i can execute in SpringBoot using Mongo Template. I tried converting above using MongoCompass, but the resultant query gives compile time error.\r\n    \r\nI understand that i need to create multiple Groups.. So i started with first like this\r\n    \r\n    GroupOperation groupOperationOne = Aggregation.group(propertyName, &quot;faxType&quot;).count().as(&quot;faxCount&quot;);\r\n    \r\n    GroupOperation groupOperationTwo = Aggregation.group(groupOperationOne.getFields().getField(&quot;email&quot;)).push(&quot;faxTypes&quot;);\r\n    \r\nI&#39;m unable to figure out how to refer to _id.email from first Group Operation.\r\n\r\nEach document in collection has an email, and a faxType (Inbound or Outbound). I need to group all records based on email and for each email, i need count of INBOUND faxType and OUTBOUND\r\n\r\n","title":"Spring Mongo Agregation Query","body":"<p>I'm new to using Mongo DB in Spring. I have a mongo db query</p>\n<pre><code>[\n    { &quot;$group&quot;: {\n        &quot;_id&quot;: {\n            &quot;email&quot;: &quot;$email&quot;,\n            &quot;faxType&quot;: &quot;$faxType&quot;\n        },\n        &quot;faxCount&quot;: { &quot;$sum&quot;: 1 }\n    }},\n    { &quot;$group&quot;: {\n        &quot;_id&quot;: &quot;$_id.email&quot;,\n        &quot;faxTypes&quot;: { \n            &quot;$push&quot;: { \n                &quot;faxType&quot;: &quot;$_id.faxType&quot;,\n                &quot;count&quot;: &quot;$faxCount&quot;\n            },\n        },\n        &quot;count&quot;: { &quot;$sum&quot;: &quot;$faxCount&quot; }\n    }},\n    { &quot;$sort&quot;: { &quot;count&quot;: -1 } },\n    { &quot;$limit&quot;: 2 },\n    { &quot;$project&quot;: {\n        &quot;faxTypes&quot;: { &quot;$slice&quot;: [ &quot;$faxTypes&quot;, 2 ] },\n        &quot;count&quot;: 1\n    }}\n]\n</code></pre>\n<p>I need the equivalent of above that i can execute in SpringBoot using Mongo Template. I tried converting above using MongoCompass, but the resultant query gives compile time error.</p>\n<p>I understand that i need to create multiple Groups.. So i started with first like this</p>\n<pre><code>GroupOperation groupOperationOne = Aggregation.group(propertyName, &quot;faxType&quot;).count().as(&quot;faxCount&quot;);\n\nGroupOperation groupOperationTwo = Aggregation.group(groupOperationOne.getFields().getField(&quot;email&quot;)).push(&quot;faxTypes&quot;);\n</code></pre>\n<p>I'm unable to figure out how to refer to _id.email from first Group Operation.</p>\n<p>Each document in collection has an email, and a faxType (Inbound or Outbound). I need to group all records based on email and for each email, i need count of INBOUND faxType and OUTBOUND</p>\n"},{"tags":["java","uuid"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1376530269,"post_id":18244897,"comment_id":26752141,"body_markdown":"No, the Java SDK does not include a different UUID class than `UUID`.","body":"No, the Java SDK does not include a different UUID class than <code>UUID</code>."},{"owner":{"account_id":2522885,"reputation":2696,"user_id":2192875,"accept_rate":55,"display_name":"dogfish"},"score":1,"creation_date":1376530495,"post_id":18244897,"comment_id":26752180,"body_markdown":"The UUID class however provides methods such as public long timestamp() to get the timestamp from the UUID if it is time based.. but theres no method to generate it","body":"The UUID class however provides methods such as public long timestamp() to get the timestamp from the UUID if it is time based.. but theres no method to generate it"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1376531024,"post_id":18244897,"comment_id":26752282,"body_markdown":"Check out JUG @ http://wiki.fasterxml.com/JugHome, it can do type 1.","body":"Check out JUG @ <a href=\"http://wiki.fasterxml.com/JugHome\" rel=\"nofollow noreferrer\">wiki.fasterxml.com/JugHome</a>, it can do type 1."},{"owner":{"account_id":2522885,"reputation":2696,"user_id":2192875,"accept_rate":55,"display_name":"dogfish"},"score":0,"creation_date":1376541165,"post_id":18244897,"comment_id":26754273,"body_markdown":"JUG works pretty nice !","body":"JUG works pretty nice !"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1671208424,"post_id":18244897,"comment_id":132056894,"body_markdown":"By the way, FYI, work is underway to [define new Versions 6, 7, and 8](https://www.ietf.org/archive/id/draft-peabody-dispatch-new-uuid-format-04.html#name-table-of-contents-2) of UUID.","body":"By the way, FYI, work is underway to <a href=\"https://www.ietf.org/archive/id/draft-peabody-dispatch-new-uuid-format-04.html#name-table-of-contents-2\" rel=\"nofollow noreferrer\">define new Versions 6, 7, and 8</a> of UUID."}],"answers":[{"tags":[],"owner":{"account_id":4845112,"reputation":101,"user_id":3908944,"display_name":"findsandeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1407285979,"creation_date":1407215748,"answer_id":25131608,"question_id":18244897,"body_markdown":"Be very careful using com.eaio.uuid.UUID, if you need to generate GUID by time other than current time, as this will always generate the same UUID for given time. So if your data has requirement to generate UUID, where records may have same time, this will generate same UUID. \r\n\r\nWe needed this to generate UUID for records, which are created ahead and also multiple records at same time, we tried to tweak it by trying to use UUIDGen.createTime(&lt;originalTime&gt;). We found that it has a side effect to mutate the time for records out of order.  If a subsequent request to create `UUID` has a time stamp older than previous request, you end up having a `UUID`, which is based on previous request&#39;s time stamp.\r\n\r\nAfter all the analysis, we had to simply go back to create `UUID` at the time of creation, so that we don&#39;t have to pass it as an argument. Whichever solution we come up with to generate `UUID` at a later time, every one has a drawback. ","title":"How to generate time based UUIDs?","body":"<p>Be very careful using com.eaio.uuid.UUID, if you need to generate GUID by time other than current time, as this will always generate the same UUID for given time. So if your data has requirement to generate UUID, where records may have same time, this will generate same UUID. </p>\n\n<p>We needed this to generate UUID for records, which are created ahead and also multiple records at same time, we tried to tweak it by trying to use UUIDGen.createTime(). We found that it has a side effect to mutate the time for records out of order.  If a subsequent request to create <code>UUID</code> has a time stamp older than previous request, you end up having a <code>UUID</code>, which is based on previous request's time stamp.</p>\n\n<p>After all the analysis, we had to simply go back to create <code>UUID</code> at the time of creation, so that we don't have to pass it as an argument. Whichever solution we come up with to generate <code>UUID</code> at a later time, every one has a drawback. </p>\n"},{"comments":[{"owner":{"account_id":7980951,"reputation":2013,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"score":0,"creation_date":1589456521,"post_id":43109601,"comment_id":109304887,"body_markdown":"Is it a good solution for my case where I want to save hundreds of thousands record in Cassandra with unique IDs? For example it may happen that within a 1 second I have to generate 600 000 unique Ids...","body":"Is it a good solution for my case where I want to save hundreds of thousands record in Cassandra with unique IDs? For example it may happen that within a 1 second I have to generate 600 000 unique Ids..."}],"tags":[],"owner":{"account_id":6640787,"reputation":498,"user_id":5126545,"display_name":"Avinash Mishra"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1490869010,"creation_date":1490853305,"answer_id":43109601,"question_id":18244897,"body_markdown":"    String timeuuid = com.datastax.driver.core.utils.UUIDs.timeBased().toString();\r\n\r\nhave a look at\r\nhttps://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/utils/UUIDs.html","title":"How to generate time based UUIDs?","body":"<pre><code>String timeuuid = com.datastax.driver.core.utils.UUIDs.timeBased().toString();\n</code></pre>\n\n<p>have a look at\n<a href=\"https://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/utils/UUIDs.html\" rel=\"noreferrer\">https://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/utils/UUIDs.html</a></p>\n"},{"comments":[{"owner":{"account_id":8965799,"reputation":658,"user_id":6686499,"accept_rate":25,"display_name":"Nobita"},"score":0,"creation_date":1609748633,"post_id":48746254,"comment_id":115909510,"body_markdown":"Will it produce same uuid&#39;s if called simultaneously, or produce unique uuid&#39;s?","body":"Will it produce same uuid&#39;s if called simultaneously, or produce unique uuid&#39;s?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1645250641,"post_id":48746254,"comment_id":125826161,"body_markdown":"It depends.  It *looks* like it will generate unique uuids if generation is done within one JVM.  However, if there are multiple JVMs on the same host generating time based UUIDs, I *think* you could get non-unique UUIDs.","body":"It depends.  It <i>looks</i> like it will generate unique uuids if generation is done within one JVM.  However, if there are multiple JVMs on the same host generating time based UUIDs, I <i>think</i> you could get non-unique UUIDs."}],"tags":[],"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1518437600,"creation_date":1518437600,"answer_id":48746254,"question_id":18244897,"body_markdown":"FasterXML Java Uuid Generator (JUG)\r\n\r\nhttps://github.com/cowtowncoder/java-uuid-generator\r\n\r\n    UUID uuid = Generators.timeBasedGenerator().generate();","title":"How to generate time based UUIDs?","body":"<p>FasterXML Java Uuid Generator (JUG)</p>\n\n<p><a href=\"https://github.com/cowtowncoder/java-uuid-generator\" rel=\"noreferrer\">https://github.com/cowtowncoder/java-uuid-generator</a></p>\n\n<pre><code>UUID uuid = Generators.timeBasedGenerator().generate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563881311,"creation_date":1537427157,"answer_id":52419450,"question_id":18244897,"body_markdown":"[Cassandra&#39;s implementation][1] or in [Github][4] of type 1 UUID: [usage][2]\r\nDo note that you do not compare these uuids like uuid1&gt;uuid2 etc because of known [bug][3]\r\n\r\n\r\n  [1]:https://gitbox.apache.org/repos/asf?p=cassandra.git;a=blob;f=src/java/org/apache/cassandra/utils/UUIDGen.java;hb=HEAD    \r\n  [2]: https://www.programcreek.com/java-api-examples/index.php?api=org.apache.cassandra.utils.UUIDGen\r\n  [3]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7025832\r\n  [4]: https://github.com/apache/cassandra/blob/trunk/src/java/org/apache/cassandra/utils/UUIDGen.java\r\n","title":"How to generate time based UUIDs?","body":"<p><a href=\"https://gitbox.apache.org/repos/asf?p=cassandra.git;a=blob;f=src/java/org/apache/cassandra/utils/UUIDGen.java;hb=HEAD\" rel=\"nofollow noreferrer\">Cassandra's implementation</a> or in <a href=\"https://github.com/apache/cassandra/blob/trunk/src/java/org/apache/cassandra/utils/UUIDGen.java\" rel=\"nofollow noreferrer\">Github</a> of type 1 UUID: <a href=\"https://www.programcreek.com/java-api-examples/index.php?api=org.apache.cassandra.utils.UUIDGen\" rel=\"nofollow noreferrer\">usage</a>\nDo note that you do not compare these uuids like uuid1>uuid2 etc because of known <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=7025832\" rel=\"nofollow noreferrer\">bug</a></p>\n"},{"tags":[],"owner":{"account_id":9906507,"reputation":39,"user_id":7334867,"display_name":"tina"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561099863,"creation_date":1561099863,"answer_id":56698289,"question_id":18244897,"body_markdown":"To test our application, we have to generate data which has time-based UUID, using com.eaio.uuid.UUID we generated old time stamp UUIDs and hence were able to control the timestamp as per our test cases. \r\n**Note**: - We cannot generate future timestamp UUID\r\n\r\nWe generated in below way -\r\n\r\n    import com.eaio.uuid.UUID;\r\n    import com.eaio.uuid.UUIDGen;\r\n    \r\n        long time = DateUtil.getEpochtimeFromDate(&quot;21-06-2018 12:30:31&quot;, &quot;dd-M-yyy hh:hh:ss&quot;);\r\n        UUID time_based_uuid = new UUID(UUIDGen.createTime(time), UUIDGen.getClockSeqAndNode());","title":"How to generate time based UUIDs?","body":"<p>To test our application, we have to generate data which has time-based UUID, using com.eaio.uuid.UUID we generated old time stamp UUIDs and hence were able to control the timestamp as per our test cases. \n<strong>Note</strong>: - We cannot generate future timestamp UUID</p>\n\n<p>We generated in below way -</p>\n\n<pre><code>import com.eaio.uuid.UUID;\nimport com.eaio.uuid.UUIDGen;\n\n    long time = DateUtil.getEpochtimeFromDate(\"21-06-2018 12:30:31\", \"dd-M-yyy hh:hh:ss\");\n    UUID time_based_uuid = new UUID(UUIDGen.createTime(time), UUIDGen.getClockSeqAndNode());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1593383207,"post_id":58057061,"comment_id":110754410,"body_markdown":"This Version 6 proposal would be quite valuable for use in databases to enable better indexing. Thanks for making this known.","body":"This Version 6 proposal would be quite valuable for use in databases to enable better indexing. Thanks for making this known."},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1621982422,"post_id":58057061,"comment_id":119657555,"body_markdown":"At a quick reading, this Version 6 appears to be compatible with [the reordering logic I implemented in my utility library](https://github.com/chrylis/time-based-uuid-reordering/blob/master/src/main/java/com/chrylis/lib/time_based_uuid_reordering/TimeBasedUuidReordering.java#L35-L45); can you confirm?","body":"At a quick reading, this Version 6 appears to be compatible with <a href=\"https://github.com/chrylis/time-based-uuid-reordering/blob/master/src/main/java/com/chrylis/lib/time_based_uuid_reordering/TimeBasedUuidReordering.java#L35-L45\" rel=\"nofollow noreferrer\">the reordering logic I implemented in my utility library</a>; can you confirm?"},{"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"score":0,"creation_date":1621988633,"post_id":58057061,"comment_id":119658866,"body_markdown":"@chrylis-cautiouslyoptimistic- yes, confirmed. It is the same thing.","body":"@chrylis-cautiouslyoptimistic- yes, confirmed. It is the same thing."}],"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1695397457,"creation_date":1569221613,"answer_id":58057061,"question_id":18244897,"body_markdown":"# *UUID Creator* library\r\n\r\nHere is another way to generate time-based UUIDs using the open-source project [*UUID Creator*](https://github.com/f4b6a3/uuid-creator):\r\n\r\n```java\r\nUUID uuid = UuidCreator.getTimeBased();\r\n```\r\n\r\n# Version 6 *Time-Ordered* UUID\r\n\r\nThis library can also generate time-ordered UUIDs, aka UUID v6. \r\n\r\nUUID v6, v7, &amp; v8 are [proposed additions][1] to [RFC 4122][2]. *The draft is being discussed in a [GitHub repository][5]*.\r\n\r\nSee the articles [here][3] and [here][4] to understand the reason for new UUIDs.\r\n\r\nAn implementation of v6 can be found on that same [*UUID Creator*](https://github.com/f4b6a3/uuid-creator) library. See this exemple:\r\n\r\n```java\r\nUUID uuid = UuidCreator.getTimeOrdered();\r\n```\r\n\r\n---\r\n**Disclaimer**: I&#39;m the main contributor of `uuid-creator`.\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/draft-peabody-dispatch-new-uuid-format-02#section-4.3\r\n  [2]: https://www.rfc-editor.org/rfc/rfc4122\r\n  [3]: https://www.percona.com/blog/2014/12/19/store-uuid-optimized-way/\r\n  [4]: http://gh.peabody.io/uuidv6/\r\n  [5]: https://github.com/uuid6/uuid6-ietf-draft\r\n\r\n\r\n","title":"How to generate time based UUIDs?","body":"<h1><em>UUID Creator</em> library</h1>\n<p>Here is another way to generate time-based UUIDs using the open-source project <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\"><em>UUID Creator</em></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UUID uuid = UuidCreator.getTimeBased();\n</code></pre>\n<h1>Version 6 <em>Time-Ordered</em> UUID</h1>\n<p>This library can also generate time-ordered UUIDs, aka UUID v6.</p>\n<p>UUID v6, v7, &amp; v8 are <a href=\"https://datatracker.ietf.org/doc/html/draft-peabody-dispatch-new-uuid-format-02#section-4.3\" rel=\"nofollow noreferrer\">proposed additions</a> to <a href=\"https://www.rfc-editor.org/rfc/rfc4122\" rel=\"nofollow noreferrer\">RFC 4122</a>. <em>The draft is being discussed in a <a href=\"https://github.com/uuid6/uuid6-ietf-draft\" rel=\"nofollow noreferrer\">GitHub repository</a></em>.</p>\n<p>See the articles <a href=\"https://www.percona.com/blog/2014/12/19/store-uuid-optimized-way/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://gh.peabody.io/uuidv6/\" rel=\"nofollow noreferrer\">here</a> to understand the reason for new UUIDs.</p>\n<p>An implementation of v6 can be found on that same <a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\"><em>UUID Creator</em></a> library. See this exemple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UUID uuid = UuidCreator.getTimeOrdered();\n</code></pre>\n<hr />\n<p><strong>Disclaimer</strong>: I'm the main contributor of <code>uuid-creator</code>.</p>\n"},{"tags":[],"owner":{"account_id":12099769,"reputation":31,"user_id":8841485,"display_name":"Bhavik Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582195260,"creation_date":1582195260,"answer_id":60318055,"question_id":18244897,"body_markdown":"To generate time based UUIDs in maven project you have add the dependency of Generator that is generate time based UUIDs.\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.uuid&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;java-uuid-generator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nIf you have a normal java project you have to import library of Generator\r\n [java-uuid-generator][1].\r\n  \r\nThen generate the UUID:\r\n\r\n    UUID uuid= Generators.timeBasedGenerator().generate();\r\n\r\nNow if you want to check the UUID time and date [check here][2].\r\n\r\nEnter generated UUID and your current time zone.\r\n\r\n\r\n  [1]: https://jar-download.com/artifacts/com.fasterxml.uuid/java-uuid-generator/3.1.4/source-code\r\n  [2]: https://www.famkruithof.net/uuid/uuidgen","title":"How to generate time based UUIDs?","body":"<p>To generate time based UUIDs in maven project you have add the dependency of Generator that is generate time based UUIDs.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.uuid&lt;/groupId&gt;\n        &lt;artifactId&gt;java-uuid-generator&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>If you have a normal java project you have to import library of Generator\n <a href=\"https://jar-download.com/artifacts/com.fasterxml.uuid/java-uuid-generator/3.1.4/source-code\" rel=\"nofollow noreferrer\">java-uuid-generator</a>.</p>\n\n<p>Then generate the UUID:</p>\n\n<pre><code>UUID uuid= Generators.timeBasedGenerator().generate();\n</code></pre>\n\n<p>Now if you want to check the UUID time and date <a href=\"https://www.famkruithof.net/uuid/uuidgen\" rel=\"nofollow noreferrer\">check here</a>.</p>\n\n<p>Enter generated UUID and your current time zone.</p>\n"},{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1614757558,"post_id":62628976,"comment_id":117479101,"body_markdown":"That is a very nice summary.","body":"That is a very nice summary."},{"owner":{"account_id":2485744,"reputation":4258,"user_id":2164198,"display_name":"Ivan Samygin"},"score":0,"creation_date":1677246976,"post_id":62628976,"comment_id":133305307,"body_markdown":"Cassandra&#39;s UUIDGen was refactored to [TimeUUID](https://github.com/apache/cassandra/blob/trunk/src/java/org/apache/cassandra/utils/TimeUUID.java)","body":"Cassandra&#39;s UUIDGen was refactored to <a href=\"https://github.com/apache/cassandra/blob/trunk/src/java/org/apache/cassandra/utils/TimeUUID.java\" rel=\"nofollow noreferrer\">TimeUUID</a>"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1593384140,"creation_date":1593384140,"answer_id":62628976,"question_id":18244897,"body_markdown":"# Version 1 represents a point in space *and* time\r\n\r\n[Version 1][1] UUIDs actually represent a point in space *and* in time. \r\n\r\nThe &quot;space&quot; part is the [MAC address][2] taken from the networking port of the computer to uniquely identify where the id was generated (nearly unique, there have been some infamous screw-ups in assigning MAC addresses by the networking hardware manufacturers). \r\n\r\nThe &quot;time&quot; part is a 60-bit timestamp, being the number of 100-[nanosecond][3] intervals since [midnight 15 October 1582][4] [Coordinated Universal Time (UTC)][5].\r\n\r\n# Java omits Version 1\r\n\r\nAs you have noticed, no implementation of Version 1 UUID is required by the Java specifications. \r\n\r\nPresumably this is because of the security and privacy concerns from potentially divulging your MAC address and the moment of creation. \r\n\r\n# 3rd party implementations\r\n\r\nAs seen on the other Answers, there are 3rd-party implementations of Version 1 UUIDs available. \r\n\r\nAsking for library recommendations is off-topic here on Stack Overflow. So I asked on the sister site, *Software Recommendations Stack Exchange*, the question [*Library to generate Version 1 UUIDs to be called from Java*](https://softwarerecs.stackexchange.com/q/75168/1255). \r\n\r\nAnd here is a condensed list of the implementations mentioned in other Answers here and elsewhere that seem to still be actively supported.\r\n\r\n - [*UUID Creator*](https://github.com/f4b6a3/uuid-creator#uuid-creator) providing Versions 1, 2, 3, 4, 5, and 6. \r\n - [*Java Uuid Generator (JUG)*](https://github.com/cowtowncoder/java-uuid-generator) originally by Tatu Saloranta. \r\n - [*UUIDGen*](https://github.com/apache/cassandra/blob/trunk/src/java/org/apache/cassandra/utils/UUIDGen.java) class source code, part of the [*Apache Cassandra*][6] project. This source code is published under the Apache 2 license.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_1_(date-time_and_MAC_address)\r\n  [2]: https://en.wikipedia.org/wiki/MAC_address\r\n  [3]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [4]: https://en.wikipedia.org/wiki/Gregorian_calendar#Adoption\r\n  [5]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [6]: https://en.wikipedia.org/wiki/Apache_Cassandra","title":"How to generate time based UUIDs?","body":"<h1>Version 1 represents a point in space <em>and</em> time</h1>\n<p><a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_1_(date-time_and_MAC_address)\" rel=\"noreferrer\">Version 1</a> UUIDs actually represent a point in space <em>and</em> in time.</p>\n<p>The &quot;space&quot; part is the <a href=\"https://en.wikipedia.org/wiki/MAC_address\" rel=\"noreferrer\">MAC address</a> taken from the networking port of the computer to uniquely identify where the id was generated (nearly unique, there have been some infamous screw-ups in assigning MAC addresses by the networking hardware manufacturers).</p>\n<p>The &quot;time&quot; part is a 60-bit timestamp, being the number of 100-<a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanosecond</a> intervals since <a href=\"https://en.wikipedia.org/wiki/Gregorian_calendar#Adoption\" rel=\"noreferrer\">midnight 15 October 1582</a> <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">Coordinated Universal Time (UTC)</a>.</p>\n<h1>Java omits Version 1</h1>\n<p>As you have noticed, no implementation of Version 1 UUID is required by the Java specifications.</p>\n<p>Presumably this is because of the security and privacy concerns from potentially divulging your MAC address and the moment of creation.</p>\n<h1>3rd party implementations</h1>\n<p>As seen on the other Answers, there are 3rd-party implementations of Version 1 UUIDs available.</p>\n<p>Asking for library recommendations is off-topic here on Stack Overflow. So I asked on the sister site, <em>Software Recommendations Stack Exchange</em>, the question <a href=\"https://softwarerecs.stackexchange.com/q/75168/1255\"><em>Library to generate Version 1 UUIDs to be called from Java</em></a>.</p>\n<p>And here is a condensed list of the implementations mentioned in other Answers here and elsewhere that seem to still be actively supported.</p>\n<ul>\n<li><a href=\"https://github.com/f4b6a3/uuid-creator#uuid-creator\" rel=\"noreferrer\"><em>UUID Creator</em></a> providing Versions 1, 2, 3, 4, 5, and 6.</li>\n<li><a href=\"https://github.com/cowtowncoder/java-uuid-generator\" rel=\"noreferrer\"><em>Java Uuid Generator (JUG)</em></a> originally by Tatu Saloranta.</li>\n<li><a href=\"https://github.com/apache/cassandra/blob/trunk/src/java/org/apache/cassandra/utils/UUIDGen.java\" rel=\"noreferrer\"><em>UUIDGen</em></a> class source code, part of the <a href=\"https://en.wikipedia.org/wiki/Apache_Cassandra\" rel=\"noreferrer\"><em>Apache Cassandra</em></a> project. This source code is published under the Apache 2 license.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21889,"reputation":30982,"user_id":53538,"accept_rate":88,"display_name":"Guss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653296155,"creation_date":1653257989,"answer_id":72341671,"question_id":18244897,"body_markdown":"If you aren&#39;t interested in integrating Yet Another Java Library™️, here&#39;s a bit of Java code to generate Version 1 UUIDs. Home brew, so YMMV.\r\n\r\nPre-conditions:\r\n - clock sequence: [RFC 4122](https://www.rfc-editor.org/rfc/rfc4122#section-4.2) goes into a bit of details what it ideally should be, but then hand waves it with &quot;it can be a pseudo random number&quot;, so that&#39;s what we use here.\r\n - node id: the RFC wants this to be a MAC address - I leave getting a relevant MAC address as an exercise to the reader, and in this implementation we rely on more hand waving from the RFC and use a bunch of random bytes in the correct amount, instead.\r\n\r\n```java\r\n// fake clock_sequence and node_id\r\nvar rng = SecureRandom.getInstanceStrong();\r\nshort clock_sequence = (short) rng.nextInt(0x10000);\r\nbyte[] node = new byte[6];\r\nrng.nextBytes(node);\r\n\r\nInstant time = Instant.now(); // if you don&#39;t want &quot;now&quot;, pick something else\r\nvar dur = Duration.between(ZonedDateTime.of(1582, 10, 15, 0, 0, 0, 0,\r\n\t\tZoneOffset.UTC), // RFC-specified epoch, no idea why\r\n\t\ttime.atZone(ZoneOffset.UTC));\r\nvar timestamp = dur.getSeconds() * 10000 + dur.getNano() / 100;\r\nvar time_low = timestamp &amp; 0xFFFFFFFFL;\r\ntimestamp &gt;&gt;&gt;= 32;\r\nvar time_mid = timestamp &amp; 0xFFFFL;\r\ntimestamp &gt;&gt;&gt;= 16;\r\nvar time_high_and_ver = timestamp &amp; 0xFFF | (1 &lt;&lt; 12); // add version 1\r\nvar msb = time_low &lt;&lt; 32 | time_mid &lt;&lt; 16 | time_high_and_ver;\r\n\r\nByteBuffer data = ByteBuffer.allocate(8);\r\ndata.putShort(clock_sequence &amp; 0x3FFF | 0x8000); // add RFC variant\r\ndata.put(node);\r\ndata.flip();\r\nvar lsb = data.getLong();\r\n\r\n// compose the UUID\r\nreturn new java.util.UUID(msb, lsb);\r\n```\r\n\r\nThe full implementation is also available, MIT licensed, for download at https://github.com/guss77/java-uuid","title":"How to generate time based UUIDs?","body":"<p>If you aren't interested in integrating Yet Another Java Library™️, here's a bit of Java code to generate Version 1 UUIDs. Home brew, so YMMV.</p>\n<p>Pre-conditions:</p>\n<ul>\n<li>clock sequence: <a href=\"https://www.rfc-editor.org/rfc/rfc4122#section-4.2\" rel=\"nofollow noreferrer\">RFC 4122</a> goes into a bit of details what it ideally should be, but then hand waves it with &quot;it can be a pseudo random number&quot;, so that's what we use here.</li>\n<li>node id: the RFC wants this to be a MAC address - I leave getting a relevant MAC address as an exercise to the reader, and in this implementation we rely on more hand waving from the RFC and use a bunch of random bytes in the correct amount, instead.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>// fake clock_sequence and node_id\nvar rng = SecureRandom.getInstanceStrong();\nshort clock_sequence = (short) rng.nextInt(0x10000);\nbyte[] node = new byte[6];\nrng.nextBytes(node);\n\nInstant time = Instant.now(); // if you don't want &quot;now&quot;, pick something else\nvar dur = Duration.between(ZonedDateTime.of(1582, 10, 15, 0, 0, 0, 0,\n        ZoneOffset.UTC), // RFC-specified epoch, no idea why\n        time.atZone(ZoneOffset.UTC));\nvar timestamp = dur.getSeconds() * 10000 + dur.getNano() / 100;\nvar time_low = timestamp &amp; 0xFFFFFFFFL;\ntimestamp &gt;&gt;&gt;= 32;\nvar time_mid = timestamp &amp; 0xFFFFL;\ntimestamp &gt;&gt;&gt;= 16;\nvar time_high_and_ver = timestamp &amp; 0xFFF | (1 &lt;&lt; 12); // add version 1\nvar msb = time_low &lt;&lt; 32 | time_mid &lt;&lt; 16 | time_high_and_ver;\n\nByteBuffer data = ByteBuffer.allocate(8);\ndata.putShort(clock_sequence &amp; 0x3FFF | 0x8000); // add RFC variant\ndata.put(node);\ndata.flip();\nvar lsb = data.getLong();\n\n// compose the UUID\nreturn new java.util.UUID(msb, lsb);\n</code></pre>\n<p>The full implementation is also available, MIT licensed, for download at <a href=\"https://github.com/guss77/java-uuid\" rel=\"nofollow noreferrer\">https://github.com/guss77/java-uuid</a></p>\n"}],"owner":{"account_id":2522885,"reputation":2696,"user_id":2192875,"accept_rate":55,"display_name":"dogfish"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98372,"favorite_count":0,"down_vote_count":2,"up_vote_count":80,"answer_count":9,"score":78,"last_activity_date":1695397457,"creation_date":1376529621,"question_id":18244897,"body_markdown":"I want to generate time-based universally unique identifier (UUID) in Java. \r\n\r\nThe method [`java.util.UUID.randomUUID()`][1] generates a [UUID Version 4][2] where 122 of the 128 bits are from a [cryptographically-strong][3] random number generator. \r\n\r\nHow to generate a [Version 1][4] (time based) UUID ? Is there a separate library for that or is it some how provided in the Java 7 API and I am missing it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/UUID.html#randomUUID()\r\n  [2]: https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_(random)\r\n  [3]: https://en.wikipedia.org/wiki/Strong_cryptography#Cryptographically_strong_algorithms\r\n  [4]: https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_1_(date-time_and_MAC_address)","title":"How to generate time based UUIDs?","body":"<p>I want to generate time-based universally unique identifier (UUID) in Java.</p>\n<p>The method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/UUID.html#randomUUID()\" rel=\"noreferrer\"><code>java.util.UUID.randomUUID()</code></a> generates a <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_4_(random)\" rel=\"noreferrer\">UUID Version 4</a> where 122 of the 128 bits are from a <a href=\"https://en.wikipedia.org/wiki/Strong_cryptography#Cryptographically_strong_algorithms\" rel=\"noreferrer\">cryptographically-strong</a> random number generator.</p>\n<p>How to generate a <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Version_1_(date-time_and_MAC_address)\" rel=\"noreferrer\">Version 1</a> (time based) UUID ? Is there a separate library for that or is it some how provided in the Java 7 API and I am missing it.</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose","coil"],"answers":[{"tags":[],"owner":{"account_id":12239219,"reputation":1,"user_id":20974299,"display_name":"Rufaro Mutepfa"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695397314,"creation_date":1695397314,"answer_id":77159047,"question_id":77158961,"body_markdown":"Here are some possible solutions for your problem:\r\n\r\n1. **Use a different image cache for the two screens.** This is probably the simplest and most effective solution. You can use a different instance of `ImageCache` for each screen, or you can use a library like `Coil` or `Glide` which provides more control over image caching.\r\n2. **Manually resize the image on the second screen.** You can do this by using the `ImageResizer` class to resize the image before it is displayed.\r\n3. **Use a different `AsyncImage` implementation.** There are a number of third-party `AsyncImage` implementations which provide more control over image caching and resizing. For example, the `Coil` library provides a `ImageCoil` class which allows you to specify a custom `ImageCache` and `ImageResizer`.\r\n\r\nHere is an example of how to use a different image cache for the two screens:\r\n\r\n```\r\nclass FirstScreen : Screen() {\r\n    private val imageCache = ImageCache()\r\n\r\n    @Composable\r\n    override fun Content() {\r\n        AsyncImage(\r\n            model = ImageRequest.Builder(LocalContext.current)\r\n                .data(stringResource(id = R.string.base_image_url) + movie.posterPath)\r\n                .placeholder(R.drawable.loading_image)\r\n                .error(R.drawable.default_movie_image)\r\n                .crossfade(true)\r\n                .build(),\r\n            modifier = Modifier.fillMaxSize(),\r\n            contentDescription = null,\r\n            contentScale = ContentScale.Crop,\r\n            imageCache = imageCache\r\n        )\r\n    }\r\n}\r\n\r\nclass SecondScreen : Screen() {\r\n    private val imageCache = ImageCache()\r\n\r\n    @Composable\r\n    override fun Content() {\r\n        AsyncImage(\r\n            model = ImageRequest.Builder(LocalContext.current)\r\n                .data(stringResource(id = R.string.base_image_url) + movie.poster_path)\r\n                .placeholder(R.drawable.loading_image)\r\n                .error(R.drawable.default_movie_image)\r\n                .crossfade(true)\r\n                .build(),\r\n            modifier = Modifier.fillMaxWidth().weight(0.6f),\r\n            contentDescription = null,\r\n            contentScale = ContentScale.Crop,\r\n            imageCache = imageCache\r\n        )\r\n    }\r\n}\r\n```\r\n\r\nHere is an example of how to manually resize the image on the second screen:\r\n\r\n```\r\nclass SecondScreen : Screen() {\r\n\r\n    @Composable\r\n    override fun Content() {\r\n        val image = AsyncImage(\r\n            model = ImageRequest.Builder(LocalContext.current)\r\n                .data(stringResource(id = R.string.base_image_url) + movie.poster_path)\r\n                .placeholder(R.drawable.loading_image)\r\n                .error(R.drawable.default_movie_image)\r\n                .crossfade(true)\r\n                .build(),\r\n        )\r\n\r\n        val resizedImage = ImageResizer(image.bitmap).resize(width = 100, height = 100)\r\n\r\n        Image(\r\n            bitmap = resizedImage,\r\n            modifier = Modifier.fillMaxWidth().weight(0.6f),\r\n            contentDescription = null,\r\n            contentScale = ContentScale.Crop\r\n        )\r\n    }\r\n}\r\n```\r\n\r\nHere is an example of how to use the `Coil` library to display the image on the second screen:\r\n\r\n```\r\nclass SecondScreen : Screen() {\r\n\r\n    @Composable\r\n    override fun Content() {\r\n        CoilImage(\r\n            model = stringResource(id = R.string.base_image_url) + movie.poster_path,\r\n            modifier = Modifier.fillMaxWidth().weight(0.6f),\r\n            contentDescription = null,\r\n            contentScale = ContentScale.Crop\r\n        )\r\n    }\r\n}\r\n```\r\n\r\nWhich solution you choose will depend on your specific needs and preferences. I recommend trying out a few different solutions to see what works best for you.","title":"Coil AsyncImage get larger after back stack","body":"<p>Here are some possible solutions for your problem:</p>\n<ol>\n<li><strong>Use a different image cache for the two screens.</strong> This is probably the simplest and most effective solution. You can use a different instance of <code>ImageCache</code> for each screen, or you can use a library like <code>Coil</code> or <code>Glide</code> which provides more control over image caching.</li>\n<li><strong>Manually resize the image on the second screen.</strong> You can do this by using the <code>ImageResizer</code> class to resize the image before it is displayed.</li>\n<li><strong>Use a different <code>AsyncImage</code> implementation.</strong> There are a number of third-party <code>AsyncImage</code> implementations which provide more control over image caching and resizing. For example, the <code>Coil</code> library provides a <code>ImageCoil</code> class which allows you to specify a custom <code>ImageCache</code> and <code>ImageResizer</code>.</li>\n</ol>\n<p>Here is an example of how to use a different image cache for the two screens:</p>\n<pre><code>class FirstScreen : Screen() {\n    private val imageCache = ImageCache()\n\n    @Composable\n    override fun Content() {\n        AsyncImage(\n            model = ImageRequest.Builder(LocalContext.current)\n                .data(stringResource(id = R.string.base_image_url) + movie.posterPath)\n                .placeholder(R.drawable.loading_image)\n                .error(R.drawable.default_movie_image)\n                .crossfade(true)\n                .build(),\n            modifier = Modifier.fillMaxSize(),\n            contentDescription = null,\n            contentScale = ContentScale.Crop,\n            imageCache = imageCache\n        )\n    }\n}\n\nclass SecondScreen : Screen() {\n    private val imageCache = ImageCache()\n\n    @Composable\n    override fun Content() {\n        AsyncImage(\n            model = ImageRequest.Builder(LocalContext.current)\n                .data(stringResource(id = R.string.base_image_url) + movie.poster_path)\n                .placeholder(R.drawable.loading_image)\n                .error(R.drawable.default_movie_image)\n                .crossfade(true)\n                .build(),\n            modifier = Modifier.fillMaxWidth().weight(0.6f),\n            contentDescription = null,\n            contentScale = ContentScale.Crop,\n            imageCache = imageCache\n        )\n    }\n}\n</code></pre>\n<p>Here is an example of how to manually resize the image on the second screen:</p>\n<pre><code>class SecondScreen : Screen() {\n\n    @Composable\n    override fun Content() {\n        val image = AsyncImage(\n            model = ImageRequest.Builder(LocalContext.current)\n                .data(stringResource(id = R.string.base_image_url) + movie.poster_path)\n                .placeholder(R.drawable.loading_image)\n                .error(R.drawable.default_movie_image)\n                .crossfade(true)\n                .build(),\n        )\n\n        val resizedImage = ImageResizer(image.bitmap).resize(width = 100, height = 100)\n\n        Image(\n            bitmap = resizedImage,\n            modifier = Modifier.fillMaxWidth().weight(0.6f),\n            contentDescription = null,\n            contentScale = ContentScale.Crop\n        )\n    }\n}\n</code></pre>\n<p>Here is an example of how to use the <code>Coil</code> library to display the image on the second screen:</p>\n<pre><code>class SecondScreen : Screen() {\n\n    @Composable\n    override fun Content() {\n        CoilImage(\n            model = stringResource(id = R.string.base_image_url) + movie.poster_path,\n            modifier = Modifier.fillMaxWidth().weight(0.6f),\n            contentDescription = null,\n            contentScale = ContentScale.Crop\n        )\n    }\n}\n</code></pre>\n<p>Which solution you choose will depend on your specific needs and preferences. I recommend trying out a few different solutions to see what works best for you.</p>\n"}],"owner":{"account_id":16762153,"reputation":1,"user_id":12116605,"display_name":"Phan L&#234; Thăng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695397438,"creation_date":1695396575,"question_id":77158961,"body_markdown":"I have a screen that displays a list of image movies using AsyncImage&lt;br&gt;\r\nhttps://i.stack.imgur.com/mhSUh.jpg\r\n\r\nWhen I click an item, the Detail screen will display with a full-screen image&lt;br&gt;\r\nhttps://i.stack.imgur.com/pd9se.jpg  \r\n\r\nAnd when I back stack to the first screen, the image gets large&lt;br&gt;\r\nhttps://i.stack.imgur.com/cb80K.jpg\r\n\r\nHere is the code that displays the image on the first screen\r\n```\r\n        AsyncImage(\r\n                model = ImageRequest.Builder(LocalContext.current)\r\n                    .data(stringResource(id = R.string.base_image_url) + movie.posterPath)\r\n                    .placeholder(R.drawable.loading_image)\r\n                    .error(R.drawable.default_movie_image)\r\n                    .crossfade(true)\r\n                    .build(),\r\n                modifier = Modifier.fillMaxSize(),\r\n                contentDescription = null,\r\n                contentScale = ContentScale.Crop,\r\n            )\r\n```\r\nHere is the code that displays the image on the second screen\r\n```\r\n        AsyncImage(\r\n            model = ImageRequest.Builder(LocalContext.current)\r\n                .data(stringResource(id = R.string.base_image_url) + movie.poster_path)\r\n                .placeholder(R.drawable.loading_image)\r\n                .error(R.drawable.default_movie_image)\r\n                .crossfade(true)\r\n                .build(),\r\n            modifier = Modifier.fillMaxWidth().weight(0.6f),\r\n            contentDescription = null,\r\n            contentScale = ContentScale.Crop,\r\n        )\r\n```\r\nI want the image on the first screen will keep the size as normal. Please help me","title":"Coil AsyncImage get larger after back stack","body":"<p>I have a screen that displays a list of image movies using AsyncImage<br>\n<a href=\"https://i.stack.imgur.com/mhSUh.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/mhSUh.jpg</a></p>\n<p>When I click an item, the Detail screen will display with a full-screen image<br>\n<a href=\"https://i.stack.imgur.com/pd9se.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/pd9se.jpg</a></p>\n<p>And when I back stack to the first screen, the image gets large<br>\n<a href=\"https://i.stack.imgur.com/cb80K.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/cb80K.jpg</a></p>\n<p>Here is the code that displays the image on the first screen</p>\n<pre><code>        AsyncImage(\n                model = ImageRequest.Builder(LocalContext.current)\n                    .data(stringResource(id = R.string.base_image_url) + movie.posterPath)\n                    .placeholder(R.drawable.loading_image)\n                    .error(R.drawable.default_movie_image)\n                    .crossfade(true)\n                    .build(),\n                modifier = Modifier.fillMaxSize(),\n                contentDescription = null,\n                contentScale = ContentScale.Crop,\n            )\n</code></pre>\n<p>Here is the code that displays the image on the second screen</p>\n<pre><code>        AsyncImage(\n            model = ImageRequest.Builder(LocalContext.current)\n                .data(stringResource(id = R.string.base_image_url) + movie.poster_path)\n                .placeholder(R.drawable.loading_image)\n                .error(R.drawable.default_movie_image)\n                .crossfade(true)\n                .build(),\n            modifier = Modifier.fillMaxWidth().weight(0.6f),\n            contentDescription = null,\n            contentScale = ContentScale.Crop,\n        )\n</code></pre>\n<p>I want the image on the first screen will keep the size as normal. Please help me</p>\n"},{"tags":["java","uuid"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1477362034,"post_id":40230276,"comment_id":67723741,"body_markdown":"Maybe this helps https://modules.ceylon-lang.org/repo/1/herd/uuid/0.0.10/module-doc/api/index.html","body":"Maybe this helps <a href=\"https://modules.ceylon-lang.org/repo/1/herd/uuid/0.0.10/module-doc/api/index.html\" rel=\"nofollow noreferrer\">modules.ceylon-lang.org/repo/1/herd/uuid/0.0.10/module-doc/a&zwnj;&#8203;pi/&hellip;</a>"},{"owner":{"account_id":2476969,"reputation":1552,"user_id":2157401,"accept_rate":100,"display_name":"MordechayS"},"score":0,"creation_date":1477362056,"post_id":40230276,"comment_id":67723750,"body_markdown":"Possible duplicate of [this Java UUID5 implementation not passing unit test](http://stackoverflow.com/questions/16501357/this-java-uuid5-implementation-not-passing-unit-test)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/16501357/this-java-uuid5-implementation-not-passing-unit-test\">this Java UUID5 implementation not passing unit test</a>"}],"answers":[{"comments":[{"owner":{"account_id":1482763,"reputation":17131,"user_id":1391717,"accept_rate":55,"display_name":"Matthew Moisen"},"score":4,"creation_date":1477362373,"post_id":40230410,"comment_id":67723832,"body_markdown":"Thanks I will check out rolling my own. [Apache Commons Id doesn&#39;t appear to have any official releases yet.](http://commons.apache.org/sandbox/commons-id/downloads.html)","body":"Thanks I will check out rolling my own. <a href=\"http://commons.apache.org/sandbox/commons-id/downloads.html\" rel=\"nofollow noreferrer\">Apache Commons Id doesn&#39;t appear to have any official releases yet.</a>"},{"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"score":0,"creation_date":1477362544,"post_id":40230410,"comment_id":67723878,"body_markdown":"Thats what I get for quickly checking if any of the big support libraries supported it :P","body":"Thats what I get for quickly checking if any of the big support libraries supported it :P"},{"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"score":0,"creation_date":1477363014,"post_id":40230410,"comment_id":67723984,"body_markdown":"You can refer to the implementation of the type 3 UUID: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/UUID.java#UUID.nameUUIDFromBytes%28byte%5B%5D%29 - The differences are that the digest is &quot;sha1&quot;, it digests first the bytes of the namespace UUID and then the namespace name and instread of `md5Bytes[6]  |= 0x30;` it needs to be `sha1Bytes[6]  |= 0x50;`","body":"You can refer to the implementation of the type 3 UUID: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/UUID.java#UUID.nameUUIDFromBytes%28byte%5B%5D%29\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/root/jdk/open&zwnj;&#8203;jdk/&hellip;</a> - The differences are that the digest is &quot;sha1&quot;, it digests first the bytes of the namespace UUID and then the namespace name and instread of <code>md5Bytes[6]  |= 0x30;</code> it needs to be <code>sha1Bytes[6]  |= 0x50;</code>"},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1568687160,"post_id":40230410,"comment_id":102343837,"body_markdown":"I have a big database of long strings that are unique identifiers. I was able to use this program to convert them into Long integers using `UUIDType5.nameUUIDFromNamespaceAndString(UUIDType5.NAMESPACE_URL, myStrId).getMostSignificantBits() &amp; Long.MAX_VALUE` and all 3 million IDs continue to be unique.","body":"I have a big database of long strings that are unique identifiers. I was able to use this program to convert them into Long integers using <code>UUIDType5.nameUUIDFromNamespaceAndString(UUIDType5.NAMESPACE&zwnj;&#8203;_URL, myStrId).getMostSignificantBits() &amp; Long.MAX_VALUE</code> and all 3 million IDs continue to be unique."},{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":0,"creation_date":1677740008,"post_id":40230410,"comment_id":133398267,"body_markdown":"I would use a tested and benchmarked library rather than writing my own code. See other answers for libraries.","body":"I would use a tested and benchmarked library rather than writing my own code. See other answers for libraries."}],"tags":[],"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"comment_count":5,"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1477419213,"creation_date":1477362286,"answer_id":40230410,"question_id":40230276,"body_markdown":"You can implement it yourself by following the code proposed in https://stackoverflow.com/a/28776880/1452094.\nHowever this does require some fiddling since the j.u.UUID constructor takes longs. \n\nAs of `Java 8` the standard library does not seem to support type 5. But third party libraries like &quot;Apache Commons Id&quot; have UUID implementations that do support it.\n\nEDIT: Here is a fully functional implementation:\n\n    import java.nio.charset.Charset;\n    import java.security.MessageDigest;\n    import java.security.NoSuchAlgorithmException;\n    import java.util.Objects;\n    import java.util.UUID;\n    \n    public class UUIDType5 {\n        private static final Charset UTF8 = Charset.forName(&quot;UTF-8&quot;);\n        public static final UUID NAMESPACE_DNS = UUID.fromString(&quot;6ba7b810-9dad-11d1-80b4-00c04fd430c8&quot;);\n        public static final UUID NAMESPACE_URL = UUID.fromString(&quot;6ba7b811-9dad-11d1-80b4-00c04fd430c8&quot;);\n        public static final UUID NAMESPACE_OID = UUID.fromString(&quot;6ba7b812-9dad-11d1-80b4-00c04fd430c8&quot;);\n        public static final UUID NAMESPACE_X500 = UUID.fromString(&quot;6ba7b814-9dad-11d1-80b4-00c04fd430c8&quot;);\n    \n        public static UUID nameUUIDFromNamespaceAndString(UUID namespace, String name) {\n            return nameUUIDFromNamespaceAndBytes(namespace, Objects.requireNonNull(name, &quot;name == null&quot;).getBytes(UTF8));\n        }\n    \n        public static UUID nameUUIDFromNamespaceAndBytes(UUID namespace, byte[] name) {\n            MessageDigest md;\n            try {\n                md = MessageDigest.getInstance(&quot;SHA-1&quot;);\n            } catch (NoSuchAlgorithmException nsae) {\n                throw new InternalError(&quot;SHA-1 not supported&quot;);\n            }\n            md.update(toBytes(Objects.requireNonNull(namespace, &quot;namespace is null&quot;)));\n            md.update(Objects.requireNonNull(name, &quot;name is null&quot;));\n            byte[] sha1Bytes = md.digest();\n            sha1Bytes[6] &amp;= 0x0f;  /* clear version        */\n            sha1Bytes[6] |= 0x50;  /* set to version 5     */\n            sha1Bytes[8] &amp;= 0x3f;  /* clear variant        */\n            sha1Bytes[8] |= 0x80;  /* set to IETF variant  */\n            return fromBytes(sha1Bytes);\n        }\n    \n        private static UUID fromBytes(byte[] data) {\n            // Based on the private UUID(bytes[]) constructor\n            long msb = 0;\n            long lsb = 0;\n            assert data.length &gt;= 16;\n            for (int i = 0; i &lt; 8; i++)\n                msb = (msb &lt;&lt; 8) | (data[i] &amp; 0xff);\n            for (int i = 8; i &lt; 16; i++)\n                lsb = (lsb &lt;&lt; 8) | (data[i] &amp; 0xff);\n            return new UUID(msb, lsb);\n        }\n    \n        private static byte[] toBytes(UUID uuid) {\n            // inverted logic of fromBytes()\n            byte[] out = new byte[16];\n            long msb = uuid.getMostSignificantBits();\n            long lsb = uuid.getLeastSignificantBits();\n            for (int i = 0; i &lt; 8; i++)\n                out[i] = (byte) ((msb &gt;&gt; ((7 - i) * 8)) &amp; 0xff);\n            for (int i = 8; i &lt; 16; i++)\n                out[i] = (byte) ((lsb &gt;&gt; ((15 - i) * 8)) &amp; 0xff);\n            return out;\n        }\n    }\n\nTo verify it works I ran the following code:\n\n    public static void main(String[] args) {\n        UUID test = UUIDType5.nameUUIDFromNamespaceAndString(NAMESPACE_URL, &quot;google.com&quot;);\n        System.out.println(test);\n        System.out.println(test.version());\n    }\n\nThis created the output: \n\n&gt; fedb2fa3-8f5c-5189-80e6-f563dd1cb8f9\n&gt;\n&gt; 5\n\nVerified against the official python implementation:\n\n&gt; \\&gt;&gt;&gt; print(uuid.uuid5(uuid.NAMESPACE_URL, &#39;google.com&#39;))\n&gt;\n&gt; fedb2fa3-8f5c-5189-80e6-f563dd1cb8f9","title":"How to make a Type 5 UUID in Java?","body":"<p>You can implement it yourself by following the code proposed in <a href=\"https://stackoverflow.com/a/28776880/1452094\">https://stackoverflow.com/a/28776880/1452094</a>.\nHowever this does require some fiddling since the j.u.UUID constructor takes longs.</p>\n<p>As of <code>Java 8</code> the standard library does not seem to support type 5. But third party libraries like &quot;Apache Commons Id&quot; have UUID implementations that do support it.</p>\n<p>EDIT: Here is a fully functional implementation:</p>\n<pre><code>import java.nio.charset.Charset;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Objects;\nimport java.util.UUID;\n\npublic class UUIDType5 {\n    private static final Charset UTF8 = Charset.forName(&quot;UTF-8&quot;);\n    public static final UUID NAMESPACE_DNS = UUID.fromString(&quot;6ba7b810-9dad-11d1-80b4-00c04fd430c8&quot;);\n    public static final UUID NAMESPACE_URL = UUID.fromString(&quot;6ba7b811-9dad-11d1-80b4-00c04fd430c8&quot;);\n    public static final UUID NAMESPACE_OID = UUID.fromString(&quot;6ba7b812-9dad-11d1-80b4-00c04fd430c8&quot;);\n    public static final UUID NAMESPACE_X500 = UUID.fromString(&quot;6ba7b814-9dad-11d1-80b4-00c04fd430c8&quot;);\n\n    public static UUID nameUUIDFromNamespaceAndString(UUID namespace, String name) {\n        return nameUUIDFromNamespaceAndBytes(namespace, Objects.requireNonNull(name, &quot;name == null&quot;).getBytes(UTF8));\n    }\n\n    public static UUID nameUUIDFromNamespaceAndBytes(UUID namespace, byte[] name) {\n        MessageDigest md;\n        try {\n            md = MessageDigest.getInstance(&quot;SHA-1&quot;);\n        } catch (NoSuchAlgorithmException nsae) {\n            throw new InternalError(&quot;SHA-1 not supported&quot;);\n        }\n        md.update(toBytes(Objects.requireNonNull(namespace, &quot;namespace is null&quot;)));\n        md.update(Objects.requireNonNull(name, &quot;name is null&quot;));\n        byte[] sha1Bytes = md.digest();\n        sha1Bytes[6] &amp;= 0x0f;  /* clear version        */\n        sha1Bytes[6] |= 0x50;  /* set to version 5     */\n        sha1Bytes[8] &amp;= 0x3f;  /* clear variant        */\n        sha1Bytes[8] |= 0x80;  /* set to IETF variant  */\n        return fromBytes(sha1Bytes);\n    }\n\n    private static UUID fromBytes(byte[] data) {\n        // Based on the private UUID(bytes[]) constructor\n        long msb = 0;\n        long lsb = 0;\n        assert data.length &gt;= 16;\n        for (int i = 0; i &lt; 8; i++)\n            msb = (msb &lt;&lt; 8) | (data[i] &amp; 0xff);\n        for (int i = 8; i &lt; 16; i++)\n            lsb = (lsb &lt;&lt; 8) | (data[i] &amp; 0xff);\n        return new UUID(msb, lsb);\n    }\n\n    private static byte[] toBytes(UUID uuid) {\n        // inverted logic of fromBytes()\n        byte[] out = new byte[16];\n        long msb = uuid.getMostSignificantBits();\n        long lsb = uuid.getLeastSignificantBits();\n        for (int i = 0; i &lt; 8; i++)\n            out[i] = (byte) ((msb &gt;&gt; ((7 - i) * 8)) &amp; 0xff);\n        for (int i = 8; i &lt; 16; i++)\n            out[i] = (byte) ((lsb &gt;&gt; ((15 - i) * 8)) &amp; 0xff);\n        return out;\n    }\n}\n</code></pre>\n<p>To verify it works I ran the following code:</p>\n<pre><code>public static void main(String[] args) {\n    UUID test = UUIDType5.nameUUIDFromNamespaceAndString(NAMESPACE_URL, &quot;google.com&quot;);\n    System.out.println(test);\n    System.out.println(test.version());\n}\n</code></pre>\n<p>This created the output:</p>\n<blockquote>\n<p>fedb2fa3-8f5c-5189-80e6-f563dd1cb8f9</p>\n<p>5</p>\n</blockquote>\n<p>Verified against the official python implementation:</p>\n<blockquote>\n<p>&gt;&gt;&gt; print(uuid.uuid5(uuid.NAMESPACE_URL, 'google.com'))</p>\n<p>fedb2fa3-8f5c-5189-80e6-f563dd1cb8f9</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695397165,"creation_date":1569219698,"answer_id":58056648,"question_id":40230276,"body_markdown":"\r\nIn the case someone else needs a library that generates version 5 UUIDs.\r\n\r\n```java\r\nUUID uuid = UuidCreator.getNameBasedSha1(&quot;google.com&quot;);\r\n```\r\n\r\n```java\r\nUUID uuid = UuidCreator.getNameBasedSha1(UuidCreator.NAMESPACE_URL, &quot;google.com&quot;);\r\n```\r\n\r\nhttps://github.com/f4b6a3/uuid-creator\r\n\r\n---\r\n**Disclaimer**: I&#39;m the main contributor of this library.\r\n\r\n","title":"How to make a Type 5 UUID in Java?","body":"<p>In the case someone else needs a library that generates version 5 UUIDs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>UUID uuid = UuidCreator.getNameBasedSha1(&quot;google.com&quot;);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>UUID uuid = UuidCreator.getNameBasedSha1(UuidCreator.NAMESPACE_URL, &quot;google.com&quot;);\n</code></pre>\n<p><a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\">https://github.com/f4b6a3/uuid-creator</a></p>\n<hr />\n<p><strong>Disclaimer</strong>: I'm the main contributor of this library.</p>\n"},{"tags":[],"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678565082,"creation_date":1677739790,"answer_id":75612102,"question_id":40230276,"body_markdown":"The java-uuid-generator (JUG) library can generate version 5 UUIDs:\r\n\r\n    UUID uuid = Generators.nameBasedgenerator().generate(&quot;string to hash&quot;); // Version 5\r\n\r\n\r\nhttps://github.com/cowtowncoder/java-uuid-generator","title":"How to make a Type 5 UUID in Java?","body":"<p>The java-uuid-generator (JUG) library can generate version 5 UUIDs:</p>\n<pre><code>UUID uuid = Generators.nameBasedgenerator().generate(&quot;string to hash&quot;); // Version 5\n</code></pre>\n<p><a href=\"https://github.com/cowtowncoder/java-uuid-generator\" rel=\"nofollow noreferrer\">https://github.com/cowtowncoder/java-uuid-generator</a></p>\n"}],"owner":{"account_id":1482763,"reputation":17131,"user_id":1391717,"accept_rate":55,"display_name":"Matthew Moisen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18083,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":40230410,"answer_count":3,"score":17,"last_activity_date":1695397165,"creation_date":1477361343,"question_id":40230276,"body_markdown":"In python, to make a Type 5 UUID we can simply do:\r\n\r\n    import uuid\r\n    print uuid.uuid5(uuid.NAMESPACE_URL, &#39;my string&#39;)\r\n\r\nLooking through the [java documentation for java.util.UUID](https://docs.oracle.com/javase/7/docs/api/java/util/UUID.html), I don&#39;t see how to do it. First off, type 5 isn&#39;t mentioned. They do have a Type 3, but the signature is:\r\n\r\n     nameUUIDFromBytes(byte[] name)\r\n     Static factory to retrieve a type 3 (name based) UUID based on the specified byte array.\r\n\r\n**How can we make a Type 5 UUID in Java?**","title":"How to make a Type 5 UUID in Java?","body":"<p>In python, to make a Type 5 UUID we can simply do:</p>\n\n<pre><code>import uuid\nprint uuid.uuid5(uuid.NAMESPACE_URL, 'my string')\n</code></pre>\n\n<p>Looking through the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/UUID.html\" rel=\"noreferrer\">java documentation for java.util.UUID</a>, I don't see how to do it. First off, type 5 isn't mentioned. They do have a Type 3, but the signature is:</p>\n\n<pre><code> nameUUIDFromBytes(byte[] name)\n Static factory to retrieve a type 3 (name based) UUID based on the specified byte array.\n</code></pre>\n\n<p><strong>How can we make a Type 5 UUID in Java?</strong></p>\n"},{"tags":["java","uuid"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1362307777,"post_id":15184820,"comment_id":21391872,"body_markdown":"Why are you don&#39;t use sequence? Are you able to use things like that? Or UUID this is a solution which you have to use?","body":"Why are you don&#39;t use sequence? Are you able to use things like that? Or UUID this is a solution which you have to use?"},{"owner":{"account_id":335755,"reputation":16443,"user_id":663011,"accept_rate":83,"display_name":"Saurabh Kumar"},"score":0,"creation_date":1362308016,"post_id":15184820,"comment_id":21391925,"body_markdown":"can you explain more about sequence","body":"can you explain more about sequence"},{"owner":{"account_id":1692169,"reputation":5294,"user_id":1554314,"accept_rate":100,"display_name":"Taky"},"score":0,"creation_date":1362308431,"post_id":15184820,"comment_id":21392022,"body_markdown":"What DB do you use? What db framework do you use(JDBC, Hibernate, myBatis)?","body":"What DB do you use? What db framework do you use(JDBC, Hibernate, myBatis)?"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1362308497,"post_id":15184820,"comment_id":21392038,"body_markdown":"Please read about PostgreSQL sequence http://www.neilconway.org/docs/sequences/. This is just an example. In your database you should fine something similar to it.","body":"Please read about PostgreSQL sequence <a href=\"http://www.neilconway.org/docs/sequences/\" rel=\"nofollow noreferrer\">neilconway.org/docs/sequences</a>. This is just an example. In your database you should fine something similar to it."},{"owner":{"account_id":335755,"reputation":16443,"user_id":663011,"accept_rate":83,"display_name":"Saurabh Kumar"},"score":0,"creation_date":1362308662,"post_id":15184820,"comment_id":21392073,"body_markdown":"I am using mysql. I want to do it in application side because if i will do it in database side i have to fire one more query again to get the id of the row..and i want to avoid that","body":"I am using mysql. I want to do it in application side because if i will do it in database side i have to fire one more query again to get the id of the row..and i want to avoid that"},{"owner":{"account_id":872093,"reputation":13753,"user_id":922712,"accept_rate":55,"display_name":"user93353"},"score":0,"creation_date":1362309575,"post_id":15184820,"comment_id":21392268,"body_markdown":"Why do you think MostSignificantBits of the UUID will be unique? The UUID will be unique, but not necessarily the MostSignificantBits of the UUID.","body":"Why do you think MostSignificantBits of the UUID will be unique? The UUID will be unique, but not necessarily the MostSignificantBits of the UUID."},{"owner":{"account_id":335755,"reputation":16443,"user_id":663011,"accept_rate":83,"display_name":"Saurabh Kumar"},"score":0,"creation_date":1362309747,"post_id":15184820,"comment_id":21392305,"body_markdown":"yes u are right user93353 . i just checked the java docs of UUID.","body":"yes u are right user93353 . i just checked the java docs of UUID."},{"owner":{"account_id":4875570,"reputation":171,"user_id":3930805,"display_name":"Shajee Lawrence"},"score":0,"creation_date":1540020543,"post_id":15184820,"comment_id":92717975,"body_markdown":"This scenario becomes more compelling if your application is database agnostic and you have to manage your own sequence. Keeping the primary key as a uuid string by far may not be as efficient compared to a number","body":"This scenario becomes more compelling if your application is database agnostic and you have to manage your own sequence. Keeping the primary key as a uuid string by far may not be as efficient compared to a number"},{"owner":{"account_id":3138243,"reputation":371,"user_id":3383941,"display_name":"ProjectDelta"},"score":0,"creation_date":1557229446,"post_id":15184820,"comment_id":98687379,"body_markdown":"Most databases that I have used(including MySQL) will return to you the ID that was generated for the newly inserted item on the insert method ie: the insert method returns a long which is the ID of the item that was inserted, likewise if you insert a list of items it will return a list of longs with indexes matching the list that was inserted","body":"Most databases that I have used(including MySQL) will return to you the ID that was generated for the newly inserted item on the insert method ie: the insert method returns a long which is the ID of the item that was inserted, likewise if you insert a list of items it will return a list of longs with indexes matching the list that was inserted"}],"answers":[{"comments":[{"owner":{"account_id":335755,"reputation":16443,"user_id":663011,"accept_rate":83,"display_name":"Saurabh Kumar"},"score":0,"creation_date":1362310912,"post_id":15185243,"comment_id":21392599,"body_markdown":"But again i see public synchronized String generateLongId(). The synchronized block will degrade performance in the long run,","body":"But again i see public synchronized String generateLongId(). The synchronized block will degrade performance in the long run,"},{"owner":{"account_id":872093,"reputation":13753,"user_id":922712,"accept_rate":55,"display_name":"user93353"},"score":1,"creation_date":1362313658,"post_id":15185243,"comment_id":21393201,"body_markdown":"How does long run or short run make a difference in any performance degradation caused by a synchronize?","body":"How does long run or short run make a difference in any performance degradation caused by a synchronize?"},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":2,"creation_date":1380075373,"post_id":15185243,"comment_id":28061526,"body_markdown":"@SaurabhKumar I highly doubt you will run into performance issues with the small synchronized block. While synchronized is generally slower its not always slower than CAS (ie Java&#39;s NIO also google had a great talk on this) and its definitely faster than any database serial id generator (assuming you need the ID prior, database roundtrip ... etc). You should know there are also an enormous amount of other things that are synchronized in Java (most servlet containers do it somewhere).","body":"@SaurabhKumar I highly doubt you will run into performance issues with the small synchronized block. While synchronized is generally slower its not always slower than CAS (ie Java&#39;s NIO also google had a great talk on this) and its definitely faster than any database serial id generator (assuming you need the ID prior, database roundtrip ... etc). You should know there are also an enormous amount of other things that are synchronized in Java (most servlet containers do it somewhere)."},{"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"score":0,"creation_date":1533228358,"post_id":15185243,"comment_id":90280717,"body_markdown":"Well, @user93353 if you run it two times you won&#39;t notice the performance degradation. If you run it 2 million times you&#39;re missing lunch :D","body":"Well, @user93353 if you run it two times you won&#39;t notice the performance degradation. If you run it 2 million times you&#39;re missing lunch :D"}],"tags":[],"owner":{"account_id":335755,"reputation":16443,"user_id":663011,"accept_rate":83,"display_name":"Saurabh Kumar"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1362310632,"creation_date":1362310632,"answer_id":15185243,"question_id":15184820,"body_markdown":"I just came across this solution. I am for the time being trying to understand the solution.It says Java implementation of twitter snowflake. 64 bit sequential ID generator based on twitter snowflake ID generation algorithm. \r\n\r\n\r\nhttps://github.com/Predictor/javasnowflake\r\n\r\nAny suggestions are welcome.","title":"How to generate unique positive Long using UUID","body":"<p>I just came across this solution. I am for the time being trying to understand the solution.It says Java implementation of twitter snowflake. 64 bit sequential ID generator based on twitter snowflake ID generation algorithm. </p>\n\n<p><a href=\"https://github.com/Predictor/javasnowflake\" rel=\"nofollow\">https://github.com/Predictor/javasnowflake</a></p>\n\n<p>Any suggestions are welcome.</p>\n"},{"comments":[{"owner":{"account_id":408586,"reputation":5227,"user_id":779348,"accept_rate":82,"display_name":"Sap"},"score":0,"creation_date":1412866080,"post_id":15185420,"comment_id":41234571,"body_markdown":"LongGenerator will create a sequential ID that means it can collide. While GUID is universally unique. It may suffice Saurabh&#39;s requirement but I think this is not an entirely correct answer","body":"LongGenerator will create a sequential ID that means it can collide. While GUID is universally unique. It may suffice Saurabh&#39;s requirement but I think this is not an entirely correct answer"},{"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"score":0,"creation_date":1421162508,"post_id":15185420,"comment_id":44247847,"body_markdown":"Apache commons-id is not available for download? Any other alternative?","body":"Apache commons-id is not available for download? Any other alternative?"}],"tags":[],"owner":{"account_id":2390155,"reputation":586,"user_id":2090146,"display_name":"Doron Manor"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1362312037,"creation_date":1362312037,"answer_id":15185420,"question_id":15184820,"body_markdown":"Take a look at http://commons.apache.org/sandbox/commons-id//index.html\r\nIt has a LongGenerator that can give you exactly what you need.\r\n\r\nIn addition if you are using Hibernate then you can ask it to generate IDs for you (it has several algorithms you can choose from), in if not you can just take a look at their implementation for example http://grepcode.com/file/repo1.maven.org/maven2/hibernate/hibernate/2.1.8/net/sf/hibernate/id/TableHiLoGenerator.java#TableHiLoGenerator) ","title":"How to generate unique positive Long using UUID","body":"<p>Take a look at <a href=\"http://commons.apache.org/sandbox/commons-id//index.html\" rel=\"noreferrer\">http://commons.apache.org/sandbox/commons-id//index.html</a>\nIt has a LongGenerator that can give you exactly what you need.</p>\n\n<p>In addition if you are using Hibernate then you can ask it to generate IDs for you (it has several algorithms you can choose from), in if not you can just take a look at their implementation for example <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/hibernate/hibernate/2.1.8/net/sf/hibernate/id/TableHiLoGenerator.java#TableHiLoGenerator\" rel=\"noreferrer\">http://grepcode.com/file/repo1.maven.org/maven2/hibernate/hibernate/2.1.8/net/sf/hibernate/id/TableHiLoGenerator.java#TableHiLoGenerator</a>) </p>\n"},{"comments":[{"owner":{"account_id":218623,"reputation":445,"user_id":475044,"accept_rate":67,"display_name":"wcmatthysen"},"score":0,"creation_date":1578307477,"post_id":37328460,"comment_id":105384511,"body_markdown":"shoudn&#39;t the nano-time be and-ed with `9223372036853727232L`? The number `9223372036854251520L` will only take the right-most 19 bits of nano-time.","body":"shoudn&#39;t the nano-time be and-ed with <code>9223372036853727232L</code>? The number <code>9223372036854251520L</code> will only take the right-most 19 bits of nano-time."},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":2,"creation_date":1582322605,"post_id":37328460,"comment_id":106751110,"body_markdown":"How likely is it to have collisions?","body":"How likely is it to have collisions?"},{"owner":{"account_id":1327428,"reputation":1622,"user_id":1271973,"display_name":"codeisee"},"score":2,"creation_date":1601120474,"post_id":37328460,"comment_id":113309945,"body_markdown":"Why not use  **0xFFFFFL** instead of **~9223372036854251520L** ?\n`(System.currentTimeMillis() &lt;&lt; 20) | (System.nanoTime() &amp; 0xFFFFFL);`","body":"Why not use  <b>0xFFFFFL</b> instead of <b>~9223372036854251520L</b> ? <code>(System.currentTimeMillis() &lt;&lt; 20) | (System.nanoTime() &amp; 0xFFFFFL);</code>"},{"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"score":0,"creation_date":1676554798,"post_id":37328460,"comment_id":133163027,"body_markdown":"You can create a thousand objects in 1ms easy.","body":"You can create a thousand objects in 1ms easy."}],"tags":[],"owner":{"account_id":1362100,"reputation":635,"user_id":1299267,"display_name":"Daniel Nuriyev"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1463673439,"creation_date":1463673439,"answer_id":37328460,"question_id":15184820,"body_markdown":"As the others have written, long does not have enough space for a unique number. But in many cases a number may be unique enough for a specific use.\r\nFor example, a timestamp with the nanosecond precision is often good enough.\r\nTo get it, shift the current milliseconds 20 bits left to allocate space for nanoseconds and then overlay it with the nanoseconds:\r\n\r\n    (System.currentTimeMillis() &lt;&lt; 20) | (System.nanoTime() &amp; ~9223372036854251520L);\r\n\r\nThe **nano &amp; ~9223372036854251520L** part takes the current nanoseconds and sets the first 44 bytes to 0, leaving only the right 20 bits which represent nanoseconds up to one millisecond (999999 nanos)\r\nIt is the same as: \r\n\r\n    nanoseconds &amp; ~1111111111111111111111111111111111111111111100000000000000000000\r\n\r\nSide note: nanoseconds should not be used to represent the current time because their starting point is not fixed in time and because they are recycled when they reach the maximum.\r\n\r\nYou can use any other bit manipulation. It is usually good to take into account the current time and something else such as the current thread id, process id, ip.\r\n\r\n\r\n","title":"How to generate unique positive Long using UUID","body":"<p>As the others have written, long does not have enough space for a unique number. But in many cases a number may be unique enough for a specific use.\nFor example, a timestamp with the nanosecond precision is often good enough.\nTo get it, shift the current milliseconds 20 bits left to allocate space for nanoseconds and then overlay it with the nanoseconds:</p>\n\n<pre><code>(System.currentTimeMillis() &lt;&lt; 20) | (System.nanoTime() &amp; ~9223372036854251520L);\n</code></pre>\n\n<p>The <strong>nano &amp; ~9223372036854251520L</strong> part takes the current nanoseconds and sets the first 44 bytes to 0, leaving only the right 20 bits which represent nanoseconds up to one millisecond (999999 nanos)\nIt is the same as: </p>\n\n<pre><code>nanoseconds &amp; ~1111111111111111111111111111111111111111111100000000000000000000\n</code></pre>\n\n<p>Side note: nanoseconds should not be used to represent the current time because their starting point is not fixed in time and because they are recycled when they reach the maximum.</p>\n\n<p>You can use any other bit manipulation. It is usually good to take into account the current time and something else such as the current thread id, process id, ip.</p>\n"},{"comments":[{"owner":{"account_id":3970667,"reputation":857,"user_id":3275354,"accept_rate":85,"display_name":"Francesco"},"score":3,"creation_date":1560683721,"post_id":41613362,"comment_id":99810076,"body_markdown":"any way to get the UUID (or possible UUIDs) back from the long generated with the above logic?","body":"any way to get the UUID (or possible UUIDs) back from the long generated with the above logic?"},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":12,"creation_date":1582322521,"post_id":41613362,"comment_id":106751087,"body_markdown":"How likely is it to have collisions?","body":"How likely is it to have collisions?"},{"owner":{"account_id":4569916,"reputation":566,"user_id":3709866,"accept_rate":86,"display_name":"frostman"},"score":1,"creation_date":1596730904,"post_id":41613362,"comment_id":111911721,"body_markdown":"which means the result will always be positive, correct?","body":"which means the result will always be positive, correct?"},{"owner":{"account_id":1293741,"reputation":4913,"user_id":1245337,"accept_rate":100,"display_name":"atish shimpi"},"score":0,"creation_date":1601366033,"post_id":41613362,"comment_id":113377573,"body_markdown":"yaa! result will be always positive number!","body":"yaa! result will be always positive number!"},{"owner":{"account_id":2872454,"reputation":431,"user_id":2465467,"display_name":"Ashim"},"score":1,"creation_date":1611244544,"post_id":41613362,"comment_id":116394013,"body_markdown":"this random value won&#39;t work if you&#39;re using it in JavaScript. It&#39;s too long for JS and will round the value. It&#39;s described here: https://stackoverflow.com/questions/1379934/large-numbers-erroneously-rounded-in-javascript","body":"this random value won&#39;t work if you&#39;re using it in JavaScript. It&#39;s too long for JS and will round the value. It&#39;s described here: <a href=\"https://stackoverflow.com/questions/1379934/large-numbers-erroneously-rounded-in-javascript\" title=\"large numbers erroneously rounded in javascript\">stackoverflow.com/questions/1379934/&hellip;</a>"}],"tags":[],"owner":{"account_id":4764498,"reputation":666,"user_id":3851001,"display_name":"Sasha Pechenyi"},"comment_count":5,"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1534611537,"creation_date":1484224427,"answer_id":41613362,"question_id":15184820,"body_markdown":"&lt;!-- language: lang-java --&gt;\r\n\r\n    UUID.randomUUID().getMostSignificantBits() &amp; Long.MAX_VALUE\r\n\r\nThe reason why this works is, when you do bitwise &amp; with 1 it allows the same digit to pass as it is and when you do bitwise &amp; with 0 it blocks it and result is 0. Now, Long.MAX_Value in binary is \r\n\r\n    0111111111111111111111111111111111111111111111111111111111111111 \r\n\r\nthis is 0 followed by 63 1s (total is 64 bits, it&#39;s long in java)\r\n\r\nSo when you bitwise &amp; a number X with this above number then you will get the same number X except that the leftmost bit is now turned into a zero. Which means you&#39;ve only changed the sign of that number and not the value.","title":"How to generate unique positive Long using UUID","body":"<pre class=\"lang-java prettyprint-override\"><code>UUID.randomUUID().getMostSignificantBits() &amp; Long.MAX_VALUE\n</code></pre>\n\n<p>The reason why this works is, when you do bitwise &amp; with 1 it allows the same digit to pass as it is and when you do bitwise &amp; with 0 it blocks it and result is 0. Now, Long.MAX_Value in binary is </p>\n\n<pre><code>0111111111111111111111111111111111111111111111111111111111111111 \n</code></pre>\n\n<p>this is 0 followed by 63 1s (total is 64 bits, it's long in java)</p>\n\n<p>So when you bitwise &amp; a number X with this above number then you will get the same number X except that the leftmost bit is now turned into a zero. Which means you've only changed the sign of that number and not the value.</p>\n"},{"comments":[{"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"score":1,"creation_date":1649088036,"post_id":59627104,"comment_id":126782091,"body_markdown":"It works a charm in Kotlin. Thank you so much! Work of art. If you then use an AtomicLong to store the result it would make it thread safe?","body":"It works a charm in Kotlin. Thank you so much! Work of art. If you then use an AtomicLong to store the result it would make it thread safe?"},{"owner":{"account_id":218623,"reputation":445,"user_id":475044,"accept_rate":67,"display_name":"wcmatthysen"},"score":0,"creation_date":1649182476,"post_id":59627104,"comment_id":126809706,"body_markdown":"@Beezer, the `nextID` method is thread-safe due to it being marked with the `synchronized` keyword (so no extra work is needed to make it thread-safe). It is simpler to make the method itself synchronized than to use `AtomicLong`. If you use `AtomicLong` for both the `previousTimeMillis` and `counter` variables` then you still need a locking object to ensure both these variables are updated atomically.","body":"@Beezer, the <code>nextID</code> method is thread-safe due to it being marked with the <code>synchronized</code> keyword (so no extra work is needed to make it thread-safe). It is simpler to make the method itself synchronized than to use <code>AtomicLong</code>. If you use <code>AtomicLong</code> for both the <code>previousTimeMillis</code> and <code>counter</code> variables` then you still need a locking object to ensure both these variables are updated atomically."}],"tags":[],"owner":{"account_id":218623,"reputation":445,"user_id":475044,"accept_rate":67,"display_name":"wcmatthysen"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1578506302,"creation_date":1578394777,"answer_id":59627104,"question_id":15184820,"body_markdown":"This code is inspired by @Daniel Nuriyev&#39;s answer. But, instead of using nano-time, a counter (or discriminator as I&#39;ve seen it called) is used when collisions occur in the same millisecond:\r\n\r\n    private static long previousTimeMillis = System.currentTimeMillis();\r\n    private static long counter = 0L;\r\n\r\n    public static synchronized long nextID() {\r\n        long currentTimeMillis = System.currentTimeMillis();\r\n        counter = (currentTimeMillis == previousTimeMillis) ? (counter + 1L) &amp; 1048575L : 0L;\r\n        previousTimeMillis = currentTimeMillis;\r\n        long timeComponent = (currentTimeMillis &amp; 8796093022207L) &lt;&lt; 20;\r\n        return timeComponent | counter;\r\n    }\r\n\r\nThis method generates a semi-unique ID by packing a millisecond timestamp-component together with a counter-component. The algorithm allows for roughly a million (or 1048575 to be exact) unique IDs to be generated in the same millisecond before collisions start to occur. Unique IDs are generated until the year 2248 at which point it will wrap around and start at 0 again.\r\n\r\n\r\nThe ID-generation is done as follows:\r\n\r\nMilliseconds since epoch:\r\n\r\n`|0|000000000000000000000010110111101111100110001001111100101011111|`\r\n\r\nBitwise AND with (8796093022207L):\r\n\r\n`|0|000000000000000000001111111111111111111111111111111111111111111|`\r\n\r\nto give you the 43 least significant bits as the time-component.\r\n\r\nThen shift this to the left by 20 bits to give you:\r\n\r\n`|0|0010110111101111100110001001111100101011111|00000000000000000000|`\r\n\r\nBitwise OR with 20 bits of counter (e.g. if counter is 3) to give you:\r\n\r\n`|0|0010110111101111100110001001111100101011111|00000000000000000101|`\r\n\r\nOnly 43 bits (and not 44) are used for the time-component as we do not want to allow the most significant bit (which is the sign of the number) to be changed. This results in only positive IDs to be generated.","title":"How to generate unique positive Long using UUID","body":"<p>This code is inspired by @Daniel Nuriyev's answer. But, instead of using nano-time, a counter (or discriminator as I've seen it called) is used when collisions occur in the same millisecond:</p>\n\n<pre><code>private static long previousTimeMillis = System.currentTimeMillis();\nprivate static long counter = 0L;\n\npublic static synchronized long nextID() {\n    long currentTimeMillis = System.currentTimeMillis();\n    counter = (currentTimeMillis == previousTimeMillis) ? (counter + 1L) &amp; 1048575L : 0L;\n    previousTimeMillis = currentTimeMillis;\n    long timeComponent = (currentTimeMillis &amp; 8796093022207L) &lt;&lt; 20;\n    return timeComponent | counter;\n}\n</code></pre>\n\n<p>This method generates a semi-unique ID by packing a millisecond timestamp-component together with a counter-component. The algorithm allows for roughly a million (or 1048575 to be exact) unique IDs to be generated in the same millisecond before collisions start to occur. Unique IDs are generated until the year 2248 at which point it will wrap around and start at 0 again.</p>\n\n<p>The ID-generation is done as follows:</p>\n\n<p>Milliseconds since epoch:</p>\n\n<p><code>|0|000000000000000000000010110111101111100110001001111100101011111|</code></p>\n\n<p>Bitwise AND with (8796093022207L):</p>\n\n<p><code>|0|000000000000000000001111111111111111111111111111111111111111111|</code></p>\n\n<p>to give you the 43 least significant bits as the time-component.</p>\n\n<p>Then shift this to the left by 20 bits to give you:</p>\n\n<p><code>|0|0010110111101111100110001001111100101011111|00000000000000000000|</code></p>\n\n<p>Bitwise OR with 20 bits of counter (e.g. if counter is 3) to give you:</p>\n\n<p><code>|0|0010110111101111100110001001111100101011111|00000000000000000101|</code></p>\n\n<p>Only 43 bits (and not 44) are used for the time-component as we do not want to allow the most significant bit (which is the sign of the number) to be changed. This results in only positive IDs to be generated.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578395805,"creation_date":1578395805,"answer_id":59627354,"question_id":15184820,"body_markdown":"&gt; I want to do it in application side because if i will do it in database side i have to fire one more query again to get the id of the row..and i want to avoid that.\r\n\r\n***NO!*** You can use an AUTOINCREMENT primary key, and in JDBC retrieve the generated key with the INSERT.\r\n\r\n    String insertSQL = &quot;INSERT INTO table... (name, ...)&quot;\r\n            + &quot; VALUES(?, ..., ?)&quot;;\r\n    try (Connection connection = getConnection();\r\n            PreparedStatement stmt = connection.prepareStatement(insertSQL,\r\n                    Statement.RETURN_GENERATED_KEYS)) {\r\n        stmt.setString(1, ...);\r\n        stmt.setInt(2, ...);\r\n        stmt.setBigDecimal(3, ...);\r\n        ...\r\n        stmt.executeUpdate();\r\n\r\n        ResultSet keysRS = stmt.getGeneratedKeys();\r\n        if (keysRS.next()) {\r\n            long id = keysRS.getInt(1);\r\n        }\r\n    }\r\n\r\nThis is more efficient, and definitely easier, and safer. UUID are 128 bits. Taking just 64 bits reduces its uniqueness. So at least subjectively not 100% perfect. At least XOR (`^`) both long parts.","title":"How to generate unique positive Long using UUID","body":"<blockquote>\n  <p>I want to do it in application side because if i will do it in database side i have to fire one more query again to get the id of the row..and i want to avoid that.</p>\n</blockquote>\n\n<p><strong><em>NO!</em></strong> You can use an AUTOINCREMENT primary key, and in JDBC retrieve the generated key with the INSERT.</p>\n\n<pre><code>String insertSQL = \"INSERT INTO table... (name, ...)\"\n        + \" VALUES(?, ..., ?)\";\ntry (Connection connection = getConnection();\n        PreparedStatement stmt = connection.prepareStatement(insertSQL,\n                Statement.RETURN_GENERATED_KEYS)) {\n    stmt.setString(1, ...);\n    stmt.setInt(2, ...);\n    stmt.setBigDecimal(3, ...);\n    ...\n    stmt.executeUpdate();\n\n    ResultSet keysRS = stmt.getGeneratedKeys();\n    if (keysRS.next()) {\n        long id = keysRS.getInt(1);\n    }\n}\n</code></pre>\n\n<p>This is more efficient, and definitely easier, and safer. UUID are 128 bits. Taking just 64 bits reduces its uniqueness. So at least subjectively not 100% perfect. At least XOR (<code>^</code>) both long parts.</p>\n"},{"tags":[],"owner":{"account_id":13138794,"reputation":148,"user_id":9490988,"display_name":"Priyam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673863908,"creation_date":1673863908,"answer_id":75132757,"question_id":15184820,"body_markdown":"A bit late to reply but anyone reading this now, you can also implement LUHN algorithm to generate unique Id for your Primary Key. We have been using it for more than 5 years in our product and it does the job.","title":"How to generate unique positive Long using UUID","body":"<p>A bit late to reply but anyone reading this now, you can also implement LUHN algorithm to generate unique Id for your Primary Key. We have been using it for more than 5 years in our product and it does the job.</p>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695397098,"creation_date":1678505652,"answer_id":75702619,"question_id":15184820,"body_markdown":"\r\nYou can also use a *Time-Sorted Identifier (TSID)*, which is derived from [Twitter&#39;s Snowflake](https://en.wikipedia.org/wiki/Snowflake_ID) ID.\r\n\r\nA TSID is very similar to other ideas that have been shown here. There is no need to explain what others explained well a long time ago.\r\n\r\nExample code:\r\n\r\n```java\r\npublic class TSID {\r\n\r\n\tprivate static final int RANDOM_BITS = 22;\r\n\tprivate static final int RANDOM_MASK = 0x003fffff;\r\n\tprivate static final long TSID_EPOCH = Instant.parse(&quot;2020-01-01T00:00:00.000Z&quot;).toEpochMilli();\r\n\tprivate static final AtomicInteger counter = new AtomicInteger((new SecureRandom()).nextInt());\r\n\r\n\tpublic static long next() {\r\n\t\tfinal long time = (System.currentTimeMillis() - TSID_EPOCH) &lt;&lt; RANDOM_BITS;\r\n\t\tfinal long tail = counter.incrementAndGet() &amp; RANDOM_MASK;\r\n\t\treturn (time | tail);\r\n\t}\r\n}\r\n```\r\n\r\nThe above code was copied from [Tsid](https://github.com/f4b6a3/tsid-creator/blob/master/src/main/java/com/github/f4b6a3/tsid/Tsid.java) and adapted to create a small example. It can generate up to 4,194,304 IDs per millisecond without collisions, assuming there is only one ID generator.\r\n\r\nIf you have concerns about security, i.e. generation time leakage and sequence guessing, check out Francesco&#39;s [ID Encryptor](https://github.com/fillumina/id-encryptor) library.\r\n\r\nNote that if you intend to use 64-bit identifiers in Javascript, which has  [52-bit precision](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number), you need to convert them to some string format, i.e. hex, base-32, base-62, etc.\r\n\r\n\r\nFor more information, read these excellent articles by Vlad:\r\n* [The best UUID type for a database Primary Key](https://vladmihalcea.com/uuid-database-primary-key)\r\n* [The best way to generate a TSID entity identifier with JPA and Hibernate](https://vladmihalcea.com/tsid-identifier-jpa-hibernate)\r\n\r\n---\r\n**Disclaimer**: I am the author of `tsid-creator`.","title":"How to generate unique positive Long using UUID","body":"<p>You can also use a <em>Time-Sorted Identifier (TSID)</em>, which is derived from <a href=\"https://en.wikipedia.org/wiki/Snowflake_ID\" rel=\"nofollow noreferrer\">Twitter's Snowflake</a> ID.</p>\n<p>A TSID is very similar to other ideas that have been shown here. There is no need to explain what others explained well a long time ago.</p>\n<p>Example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TSID {\n\n    private static final int RANDOM_BITS = 22;\n    private static final int RANDOM_MASK = 0x003fffff;\n    private static final long TSID_EPOCH = Instant.parse(&quot;2020-01-01T00:00:00.000Z&quot;).toEpochMilli();\n    private static final AtomicInteger counter = new AtomicInteger((new SecureRandom()).nextInt());\n\n    public static long next() {\n        final long time = (System.currentTimeMillis() - TSID_EPOCH) &lt;&lt; RANDOM_BITS;\n        final long tail = counter.incrementAndGet() &amp; RANDOM_MASK;\n        return (time | tail);\n    }\n}\n</code></pre>\n<p>The above code was copied from <a href=\"https://github.com/f4b6a3/tsid-creator/blob/master/src/main/java/com/github/f4b6a3/tsid/Tsid.java\" rel=\"nofollow noreferrer\">Tsid</a> and adapted to create a small example. It can generate up to 4,194,304 IDs per millisecond without collisions, assuming there is only one ID generator.</p>\n<p>If you have concerns about security, i.e. generation time leakage and sequence guessing, check out Francesco's <a href=\"https://github.com/fillumina/id-encryptor\" rel=\"nofollow noreferrer\">ID Encryptor</a> library.</p>\n<p>Note that if you intend to use 64-bit identifiers in Javascript, which has  <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number\" rel=\"nofollow noreferrer\">52-bit precision</a>, you need to convert them to some string format, i.e. hex, base-32, base-62, etc.</p>\n<p>For more information, read these excellent articles by Vlad:</p>\n<ul>\n<li><a href=\"https://vladmihalcea.com/uuid-database-primary-key\" rel=\"nofollow noreferrer\">The best UUID type for a database Primary Key</a></li>\n<li><a href=\"https://vladmihalcea.com/tsid-identifier-jpa-hibernate\" rel=\"nofollow noreferrer\">The best way to generate a TSID entity identifier with JPA and Hibernate</a></li>\n</ul>\n<hr />\n<p><strong>Disclaimer</strong>: I am the author of <code>tsid-creator</code>.</p>\n"}],"owner":{"account_id":335755,"reputation":16443,"user_id":663011,"accept_rate":83,"display_name":"Saurabh Kumar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91429,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":41613362,"answer_count":8,"score":50,"last_activity_date":1695397098,"creation_date":1362307425,"question_id":15184820,"body_markdown":"I have a requirement to generate unique Long ids for my database primary key column.\r\n\r\n   I thought i can use **UUID.randomUUID().getMostSignificantBits()** but sometimes its generating some negative long also which is problem for me.\r\n\r\n Is it possible to generate only positive long from UUID ?There will be like billions of entries so i want that each generated key must be unique.\r\n\r\n","title":"How to generate unique positive Long using UUID","body":"<p>I have a requirement to generate unique Long ids for my database primary key column.</p>\n\n<p>I thought i can use <strong>UUID.randomUUID().getMostSignificantBits()</strong> but sometimes its generating some negative long also which is problem for me.</p>\n\n<p>Is it possible to generate only positive long from UUID ?There will be like billions of entries so i want that each generated key must be unique.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9966,"page":168,"page_size":100}
