{"items":[{"tags":["java","awt","taskbar"],"answers":[{"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686048207,"creation_date":1686048207,"answer_id":76413811,"question_id":76411777,"body_markdown":"`java.awt.Taskbar` class introduced in JDK 9. \r\n\r\nIn its documentation:\r\n\r\n    public class Taskbar extends Object\r\n    \r\n    Since:\r\n        9\r\nIf the import cannot be resolved, that means you are porbably building with JDK 8 (hopefully its not earlier version :) )","title":"The import java.awt.Taskbar cannot be resolved and Taskbar cannot be resolved","body":"<p><code>java.awt.Taskbar</code> class introduced in JDK 9.</p>\n<p>In its documentation:</p>\n<pre><code>public class Taskbar extends Object\n\nSince:\n    9\n</code></pre>\n<p>If the import cannot be resolved, that means you are porbably building with JDK 8 (hopefully its not earlier version :) )</p>\n"}],"owner":{"account_id":28677146,"reputation":1,"user_id":21959037,"display_name":"Anjali Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686048207,"creation_date":1686030983,"question_id":76411777,"body_markdown":"     \r\n```\r\n`if(!Taskbar.isTaskbarSupported()) {\r\n        \tJOptionPane.showMessageDialog(null, &quot;Taskbar isn&#39;t supported!&quot;,&quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\t\r\n        \tSystem.exit(-1);\r\n        }\r\n        JFrame jf = new JFrame(&quot;Taskbar&quot;);\r\n        jf.setSize(500, 250);\r\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        jf.setVisible(true);\r\n        Taskbar.getTaskbar().setIconImage();`\r\n```\r\n\r\nEven I imported still it gives me error on Taskbar. So I&#39;m not able to use Taskbar.\r\nI want to display default icon on Taskbar but it&#39;s not working.","title":"The import java.awt.Taskbar cannot be resolved and Taskbar cannot be resolved","body":"<pre><code>`if(!Taskbar.isTaskbarSupported()) {\n            JOptionPane.showMessageDialog(null, &quot;Taskbar isn't supported!&quot;,&quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE); \n            System.exit(-1);\n        }\n        JFrame jf = new JFrame(&quot;Taskbar&quot;);\n        jf.setSize(500, 250);\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jf.setVisible(true);\n        Taskbar.getTaskbar().setIconImage();`\n</code></pre>\n<p>Even I imported still it gives me error on Taskbar. So I'm not able to use Taskbar.\nI want to display default icon on Taskbar but it's not working.</p>\n"},{"tags":["java","eclipse-memory-analyzer"],"comments":[{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1684251260,"post_id":76264765,"comment_id":134489335,"body_markdown":"what is your operation system?","body":"what is your operation system?"},{"owner":{"account_id":9875097,"reputation":161,"user_id":7313173,"display_name":"Alex"},"score":0,"creation_date":1684261004,"post_id":76264765,"comment_id":134491626,"body_markdown":"Windows Server 2016","body":"Windows Server 2016"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684251648,"creation_date":1684251648,"answer_id":76264894,"question_id":76264765,"body_markdown":"You should use the same JDK version to run MAT than the process that you want to analyze. Also both should be executed by the same user to avoid permission issues.","title":"Eclipse Memory Analyzer does not show java processes","body":"<p>You should use the same JDK version to run MAT than the process that you want to analyze. Also both should be executed by the same user to avoid permission issues.</p>\n"},{"tags":[],"owner":{"account_id":18866500,"reputation":431,"user_id":13762112,"display_name":"user13762112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686048047,"creation_date":1686048047,"answer_id":76413799,"question_id":76264765,"body_markdown":"Use the &#39;Configure...&#39; button on the &#39;Acquire Heap Dump Dialog&#39; to set up the &#39;HPROF jmap dump provider&#39; and configure &#39;jdkhome&#39; to point to the JDK directory matching the target JDK 8 applications.","title":"Eclipse Memory Analyzer does not show java processes","body":"<p>Use the 'Configure...' button on the 'Acquire Heap Dump Dialog' to set up the 'HPROF jmap dump provider' and configure 'jdkhome' to point to the JDK directory matching the target JDK 8 applications.</p>\n"}],"owner":{"account_id":9875097,"reputation":161,"user_id":7313173,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686048047,"creation_date":1684250733,"question_id":76264765,"body_markdown":"Having some java applications, which are just compatible with JDK8, I set my environment variable %JAVA_HOME% to the JDK8 path. Furthermore I would like to analyze memory leaks using Eclipse Memory Analyszer Tool (MAT) within these applications.\r\n\r\nSo i have downloaded AdoptiumJDK17, installed it, but did *not* set JAVA_HOME for this JDK. For starting MAT I have used the `-vm` Parameter for setting JDK17 in the ini-file. MAT is starting fine, but `File` -&gt; `Acquire Head Dump` does not show any java.exe running with JDK8 in the background.\r\n\r\nIs there any possibility to find these processes?\r\n\r\n\r\n","title":"Eclipse Memory Analyzer does not show java processes","body":"<p>Having some java applications, which are just compatible with JDK8, I set my environment variable %JAVA_HOME% to the JDK8 path. Furthermore I would like to analyze memory leaks using Eclipse Memory Analyszer Tool (MAT) within these applications.</p>\n<p>So i have downloaded AdoptiumJDK17, installed it, but did <em>not</em> set JAVA_HOME for this JDK. For starting MAT I have used the <code>-vm</code> Parameter for setting JDK17 in the ini-file. MAT is starting fine, but <code>File</code> -&gt; <code>Acquire Head Dump</code> does not show any java.exe running with JDK8 in the background.</p>\n<p>Is there any possibility to find these processes?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","domain-driven-design"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617886587,"creation_date":1615546205,"answer_id":66598512,"question_id":66581487,"body_markdown":"You could try to use `@org.hibernate.annotations.Generated( GenerationTime.ALWAYS )` on these fields and use a database trigger or default expression to create the value. This way, Hibernate will never write the field, but read it after insert/update.\r\n\r\nOverall this has a few downsides though (need the trigger, need a select after insert/update), so I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO/domain model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(ParentEntity.class)\r\n    @UpdatableEntityView\r\n    public interface ParentDomainObject {\r\n        @IdMapping\r\n        Integer getParentId();\r\n        OffsetDateTime getModified();\r\n        void setModified(OffsetDateTime modified);\r\n        String getDescription();\r\n        void setDescription(String description);\r\n        Set&lt;ChildDomainObject&gt; getChildren();\r\n\r\n        @PreUpdate\r\n        default preUpdate() {\r\n            setModified(OffsetDateTime.now());\r\n        }\r\n\r\n        @EntityView(ChildEntity.class)\r\n        @UpdatableEntityView\r\n        interface ChildDomainObject {\r\n            @IdMapping\r\n            Integer getChildId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`ParentDomainObject a = entityViewManager.find(entityManager, ParentDomainObject.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;ParentDomainObject&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary! It also supports writing/mapping back to the persistence model in an efficient manner. Since it does dirty tracking for you, it will only flush changes if the object is actually dirty.\r\n\r\n    public Integer merge(final ParentDomainObject parentDomainObject) {\r\n        this.entityViewManager.save(this.entityManager, parentDomainObject);\r\n        this.entityManager.flush();\r\n        return parentDomainObject.getParentId();\r\n    }\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Updating only relevant entities in aggregates with @ColumnTransformer","body":"<p>You could try to use <code>@org.hibernate.annotations.Generated( GenerationTime.ALWAYS )</code> on these fields and use a database trigger or default expression to create the value. This way, Hibernate will never write the field, but read it after insert/update.</p>\n<p>Overall this has a few downsides though (need the trigger, need a select after insert/update), so I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO/domain model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(ParentEntity.class)\n@UpdatableEntityView\npublic interface ParentDomainObject {\n    @IdMapping\n    Integer getParentId();\n    OffsetDateTime getModified();\n    void setModified(OffsetDateTime modified);\n    String getDescription();\n    void setDescription(String description);\n    Set&lt;ChildDomainObject&gt; getChildren();\n\n    @PreUpdate\n    default preUpdate() {\n        setModified(OffsetDateTime.now());\n    }\n\n    @EntityView(ChildEntity.class)\n    @UpdatableEntityView\n    interface ChildDomainObject {\n        @IdMapping\n        Integer getChildId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>ParentDomainObject a = entityViewManager.find(entityManager, ParentDomainObject.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;ParentDomainObject&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary! It also supports writing/mapping back to the persistence model in an efficient manner. Since it does dirty tracking for you, it will only flush changes if the object is actually dirty.</p>\n<pre><code>public Integer merge(final ParentDomainObject parentDomainObject) {\n    this.entityViewManager.save(this.entityManager, parentDomainObject);\n    this.entityManager.flush();\n    return parentDomainObject.getParentId();\n}\n</code></pre>\n"}],"owner":{"account_id":8604127,"reputation":43,"user_id":6444774,"display_name":"Aedge90"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686048003,"creation_date":1615461443,"question_id":66581487,"body_markdown":"In our spring boot application, I am trying to save an aggregate, that consists of a root entity (ParentEntity) and a Set of child entities (ChildEntity).\r\nThe intention is, that all operations are done through the aggreate. So there is no need for a repository for ChildEntity, as the ParentEntity is supposed to manage all save or update operations.\r\nThis is how the Entities look like:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;tab_parent&quot;, schema = &quot;test&quot;)\r\npublic class ParentEntity implements Serializable {\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;parent_id&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer parentId;\r\n\t\r\n\t@Column(name = &quot;description&quot;)\r\n\tprivate String description;\r\n\t\r\n\t@Column(name = &quot;created_datetime&quot;, updatable = false, nullable = false)\r\n\t@ColumnTransformer(write = &quot;COALESCE(?,CURRENT_TIMESTAMP)&quot;)\r\n\tprivate OffsetDateTime created;\r\n\t\r\n\t@Column(name = &quot;last_modified_datetime&quot;, nullable = false)\r\n\t@ColumnTransformer(write = &quot;COALESCE(CURRENT_TIMESTAMP,?)&quot;)\r\n\tprivate OffsetDateTime modified;\r\n\t\r\n\t@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;ParentEntity&quot;)\r\n\tprivate Set&lt;ChildEntity&gt; children;\r\n\t\r\n\t// constructor and other getters and setters\r\n\t\t\r\n\tpublic void setChildren(final Set&lt;ChildEntity&gt; children) {\r\n\t\tthis.children = new HashSet&lt;&gt;(children.size());\r\n\t\tfor (final ChildEntity child : children) {\r\n\t\t\tthis.addChild(child);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic ParentEntity addChild(final ChildEntity child) {\r\n\t\tthis.children.add(child);\r\n\t\tchild.setParent(this);\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\tpublic ParentEntity removeChild(final ChildEntity child) {\r\n\t\tthis.children.add(child);\r\n\t\tchild.setParent(null);\r\n\t\treturn this;\r\n\t}\r\n\t\r\n}\r\n\r\n@Entity\r\n@DynamicUpdate\r\n@Table(name = &quot;tab_child&quot;, schema = &quot;test&quot;)\r\npublic class ChildEntity implements Serializable {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;child_id&quot;)\r\n\tprivate Integer childId;\r\n\t\r\n\t@Column(name = &quot;language_id&quot;)\r\n\tprivate String languageId;\r\n\t\r\n\t@Column(name = &quot;text&quot;)\r\n\tprivate String text;\r\n\t\r\n\t@Column(name = &quot;created_datetime&quot;, updatable = false, nullable = false)\r\n\t@ColumnTransformer(write = &quot;COALESCE(?,CURRENT_TIMESTAMP)&quot;)\r\n\tpublic OffsetDateTime created;\r\n\t\r\n\t@Column(name = &quot;last_modified_datetime&quot;, nullable = false)\r\n\t@ColumnTransformer(write = &quot;COALESCE(CURRENT_TIMESTAMP,?)&quot;)\r\n\tpublic OffsetDateTime modified;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;parent_id&quot;, updatable = false)\r\n\tprivate ParentEntity parent;\r\n\t\r\n\t// constructor and other getters and setters\t\r\n\t\r\n\tpublic ParentEntity getParent() {\r\n\t\treturn this.parent;\r\n\t}\r\n\t\r\n\tpublic void setParent(final ParentEntity parent) {\r\n\t\tthis.parent = parent;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nThis is the store method to save or update the entities:\r\n\r\n```\r\npublic Integer merge(final ParentDomainObject parentDomainObject) {\r\n\tfinal ParentEntity parentEntity =\r\n\t\t\tthis.mapper.toParentEntity(parentDomainObject);\r\n\tfinal ParentEntity result = this.entityManager.merge(parentEntity);\r\n\tthis.entityManager.flush();\r\n\treturn result.getParentId();\r\n}\r\n```\r\nAnd this is the store method to retrieve the aggregate by id:\r\n```\r\npublic Optional&lt;ParentDomainObject&gt; findById(final Integer id) {\r\n\treturn this.repo.findById(id).map(this.mapper::toParentDomainObject);\r\n}\r\n```\r\n\r\nAs you can see our architecture strictly separates the store from the service layer. So the service only knows about domain objects and does not depend on Hibernate Entites at all.\r\nWhen updating either the child or the parent, firstly the parent is loaded. In the service layer, the domain object is updated (fields are set, or a child is added/removed).\r\nThen the merge method (see code snippet) of the store is called with the updated domain object.\r\n\r\nThis works, but not completely as we want to. Currently every update leads to the parent and EVERY chhild entity being saved, even if all field remained the same. We added the @DynamicUpdate annotaton. Now we saw, that the &quot;modified&quot; field is the problem.\r\nWe use a @ColumnTransformer to have the database set the date. Now even if you call the services update method without changing anything, Hibernate generates a update query for EVERY object, which updates only the modified field.\r\nThe worst thing about that is, as every object is saved, every modified date changed as well to the current date. But we need information about exactly which object really changed and when. \r\n\r\nIs there any way to tell hibernate, that this column should not be taken into account when deciding what to update. However of course, if a field changed, the update operation should indeed update the modified field.\r\n\r\n**UPDATE:**\r\n\r\nMy second approach after @Christian Beikov mentioned the use of `@org.hibernate.annotations.Generated( GenerationTime.ALWAYS )`\r\nis the following:\r\n\r\nInstead of `@Generated` (which uses `@ValueGenerationType( generatedBy = GeneratedValueGeneration.class )`),\r\nI created my own annotations, which use custom `AnnotationValueGeneration` implementations:\r\n\r\n```\r\n@ValueGenerationType(generatedBy = CreatedTimestampGeneration.class)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface InDbCreatedTimestamp {\r\n}\r\n```\r\n```\r\npublic class CreatedTimestampGeneration\r\n\t\timplements AnnotationValueGeneration&lt;InDbCreatedTimestamp&gt; {\r\n\t\r\n\t@Override\r\n\tpublic void initialize(final InDbCreatedTimestamp annotation, final Class&lt;?&gt; propertyType) {\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic GenerationTiming getGenerationTiming() {\r\n\t\treturn GenerationTiming.INSERT;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic ValueGenerator&lt;?&gt; getValueGenerator() {\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean referenceColumnInSql() {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getDatabaseGeneratedReferencedColumnValue() {\r\n\t\treturn &quot;current_timestamp&quot;;\r\n\t}\r\n}\r\n```\r\n```\r\n@ValueGenerationType(generatedBy = ModifiedTimestampGeneration.class)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface InDbModifiedTimestamp {\r\n}\r\n```\r\n```\r\npublic class ModifiedTimestampGeneration\r\n\t\timplements AnnotationValueGeneration&lt;InDbModifiedTimestamp&gt; {\r\n\t\r\n\t@Override\r\n\tpublic void initialize(final InDbModifiedTimestamp annotation, final Class&lt;?&gt; propertyType) {\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic GenerationTiming getGenerationTiming() {\r\n\t\treturn GenerationTiming.ALWAYS;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic ValueGenerator&lt;?&gt; getValueGenerator() {\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean referenceColumnInSql() {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String getDatabaseGeneratedReferencedColumnValue() {\r\n\t\treturn &quot;current_timestamp&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nI use these annotations in my entities instead of the @ColumnTransformer annotations now.\r\nThis works flawlessly when I insert a new ChildEntity via addChild(), as now not all timestamps of all entities of the aggregate are updated anymore. Only the timestamps of the new child are set now.\r\nIn other words, the InDbCreatedTimestamp works as it should.\r\n\r\nSadly, the InDbModifiedTimestamp does not. Because of GenerationTiming.ALWAYS, I expected the timestamp to be generated on db level, everytime an INSERT **OR UPDATE** is issued. If I change a field of a ChildEntity and then save the aggregate, an update statement is generated only for this one database row, as expected. However, the `last_modified_datetime` column is **not** updated, which is surprising.\r\nIt seems that this is unfortunately still an open bug. This issue describes my problem precisely: [Link](https://hibernate.atlassian.net/browse/HHH-13290)\r\n\r\nCan someone provide a solution how to get this db function executed on update as well (without using db triggers)","title":"Updating only relevant entities in aggregates with @ColumnTransformer","body":"<p>In our spring boot application, I am trying to save an aggregate, that consists of a root entity (ParentEntity) and a Set of child entities (ChildEntity).\nThe intention is, that all operations are done through the aggreate. So there is no need for a repository for ChildEntity, as the ParentEntity is supposed to manage all save or update operations.\nThis is how the Entities look like:</p>\n<pre><code>@Entity\n@Table(name = &quot;tab_parent&quot;, schema = &quot;test&quot;)\npublic class ParentEntity implements Serializable {\n    \n    @Id\n    @Column(name = &quot;parent_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer parentId;\n    \n    @Column(name = &quot;description&quot;)\n    private String description;\n    \n    @Column(name = &quot;created_datetime&quot;, updatable = false, nullable = false)\n    @ColumnTransformer(write = &quot;COALESCE(?,CURRENT_TIMESTAMP)&quot;)\n    private OffsetDateTime created;\n    \n    @Column(name = &quot;last_modified_datetime&quot;, nullable = false)\n    @ColumnTransformer(write = &quot;COALESCE(CURRENT_TIMESTAMP,?)&quot;)\n    private OffsetDateTime modified;\n    \n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;ParentEntity&quot;)\n    private Set&lt;ChildEntity&gt; children;\n    \n    // constructor and other getters and setters\n        \n    public void setChildren(final Set&lt;ChildEntity&gt; children) {\n        this.children = new HashSet&lt;&gt;(children.size());\n        for (final ChildEntity child : children) {\n            this.addChild(child);\n        }\n    }\n    \n    public ParentEntity addChild(final ChildEntity child) {\n        this.children.add(child);\n        child.setParent(this);\n        return this;\n    }\n    \n    public ParentEntity removeChild(final ChildEntity child) {\n        this.children.add(child);\n        child.setParent(null);\n        return this;\n    }\n    \n}\n\n@Entity\n@DynamicUpdate\n@Table(name = &quot;tab_child&quot;, schema = &quot;test&quot;)\npublic class ChildEntity implements Serializable {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;child_id&quot;)\n    private Integer childId;\n    \n    @Column(name = &quot;language_id&quot;)\n    private String languageId;\n    \n    @Column(name = &quot;text&quot;)\n    private String text;\n    \n    @Column(name = &quot;created_datetime&quot;, updatable = false, nullable = false)\n    @ColumnTransformer(write = &quot;COALESCE(?,CURRENT_TIMESTAMP)&quot;)\n    public OffsetDateTime created;\n    \n    @Column(name = &quot;last_modified_datetime&quot;, nullable = false)\n    @ColumnTransformer(write = &quot;COALESCE(CURRENT_TIMESTAMP,?)&quot;)\n    public OffsetDateTime modified;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parent_id&quot;, updatable = false)\n    private ParentEntity parent;\n    \n    // constructor and other getters and setters    \n    \n    public ParentEntity getParent() {\n        return this.parent;\n    }\n    \n    public void setParent(final ParentEntity parent) {\n        this.parent = parent;\n    }\n    \n}\n</code></pre>\n<p>This is the store method to save or update the entities:</p>\n<pre><code>public Integer merge(final ParentDomainObject parentDomainObject) {\n    final ParentEntity parentEntity =\n            this.mapper.toParentEntity(parentDomainObject);\n    final ParentEntity result = this.entityManager.merge(parentEntity);\n    this.entityManager.flush();\n    return result.getParentId();\n}\n</code></pre>\n<p>And this is the store method to retrieve the aggregate by id:</p>\n<pre><code>public Optional&lt;ParentDomainObject&gt; findById(final Integer id) {\n    return this.repo.findById(id).map(this.mapper::toParentDomainObject);\n}\n</code></pre>\n<p>As you can see our architecture strictly separates the store from the service layer. So the service only knows about domain objects and does not depend on Hibernate Entites at all.\nWhen updating either the child or the parent, firstly the parent is loaded. In the service layer, the domain object is updated (fields are set, or a child is added/removed).\nThen the merge method (see code snippet) of the store is called with the updated domain object.</p>\n<p>This works, but not completely as we want to. Currently every update leads to the parent and EVERY chhild entity being saved, even if all field remained the same. We added the @DynamicUpdate annotaton. Now we saw, that the &quot;modified&quot; field is the problem.\nWe use a @ColumnTransformer to have the database set the date. Now even if you call the services update method without changing anything, Hibernate generates a update query for EVERY object, which updates only the modified field.\nThe worst thing about that is, as every object is saved, every modified date changed as well to the current date. But we need information about exactly which object really changed and when.</p>\n<p>Is there any way to tell hibernate, that this column should not be taken into account when deciding what to update. However of course, if a field changed, the update operation should indeed update the modified field.</p>\n<p><strong>UPDATE:</strong></p>\n<p>My second approach after @Christian Beikov mentioned the use of <code>@org.hibernate.annotations.Generated( GenerationTime.ALWAYS )</code>\nis the following:</p>\n<p>Instead of <code>@Generated</code> (which uses <code>@ValueGenerationType( generatedBy = GeneratedValueGeneration.class )</code>),\nI created my own annotations, which use custom <code>AnnotationValueGeneration</code> implementations:</p>\n<pre><code>@ValueGenerationType(generatedBy = CreatedTimestampGeneration.class)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface InDbCreatedTimestamp {\n}\n</code></pre>\n<pre><code>public class CreatedTimestampGeneration\n        implements AnnotationValueGeneration&lt;InDbCreatedTimestamp&gt; {\n    \n    @Override\n    public void initialize(final InDbCreatedTimestamp annotation, final Class&lt;?&gt; propertyType) {\n    }\n    \n    @Override\n    public GenerationTiming getGenerationTiming() {\n        return GenerationTiming.INSERT;\n    }\n    \n    @Override\n    public ValueGenerator&lt;?&gt; getValueGenerator() {\n        return null;\n    }\n    \n    @Override\n    public boolean referenceColumnInSql() {\n        return true;\n    }\n    \n    @Override\n    public String getDatabaseGeneratedReferencedColumnValue() {\n        return &quot;current_timestamp&quot;;\n    }\n}\n</code></pre>\n<pre><code>@ValueGenerationType(generatedBy = ModifiedTimestampGeneration.class)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface InDbModifiedTimestamp {\n}\n</code></pre>\n<pre><code>public class ModifiedTimestampGeneration\n        implements AnnotationValueGeneration&lt;InDbModifiedTimestamp&gt; {\n    \n    @Override\n    public void initialize(final InDbModifiedTimestamp annotation, final Class&lt;?&gt; propertyType) {\n    }\n    \n    @Override\n    public GenerationTiming getGenerationTiming() {\n        return GenerationTiming.ALWAYS;\n    }\n    \n    @Override\n    public ValueGenerator&lt;?&gt; getValueGenerator() {\n        return null;\n    }\n    \n    @Override\n    public boolean referenceColumnInSql() {\n        return true;\n    }\n    \n    @Override\n    public String getDatabaseGeneratedReferencedColumnValue() {\n        return &quot;current_timestamp&quot;;\n    }\n}\n</code></pre>\n<p>I use these annotations in my entities instead of the @ColumnTransformer annotations now.\nThis works flawlessly when I insert a new ChildEntity via addChild(), as now not all timestamps of all entities of the aggregate are updated anymore. Only the timestamps of the new child are set now.\nIn other words, the InDbCreatedTimestamp works as it should.</p>\n<p>Sadly, the InDbModifiedTimestamp does not. Because of GenerationTiming.ALWAYS, I expected the timestamp to be generated on db level, everytime an INSERT <strong>OR UPDATE</strong> is issued. If I change a field of a ChildEntity and then save the aggregate, an update statement is generated only for this one database row, as expected. However, the <code>last_modified_datetime</code> column is <strong>not</strong> updated, which is surprising.\nIt seems that this is unfortunately still an open bug. This issue describes my problem precisely: <a href=\"https://hibernate.atlassian.net/browse/HHH-13290\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Can someone provide a solution how to get this db function executed on update as well (without using db triggers)</p>\n"},{"tags":["java","linux","xslt","saxon"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685729590,"post_id":76392534,"comment_id":134707197,"body_markdown":"Can you close file descriptors of another process? I would expect not. What is the implementation library that you are using for Transformer?","body":"Can you close file descriptors of another process? I would expect not. What is the implementation library that you are using for Transformer?"},{"owner":{"account_id":2686715,"reputation":8194,"user_id":2320961,"display_name":"Nic3500"},"score":0,"creation_date":1685730790,"post_id":76392534,"comment_id":134707425,"body_markdown":"Check your user limits.  If you are already at unlimited, then the code - library is buggy and is crashing the system.","body":"Check your user limits.  If you are already at unlimited, then the code - library is buggy and is crashing the system."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":2,"creation_date":1685735212,"post_id":76392534,"comment_id":134708165,"body_markdown":"Which XSLT processor are you using? I would normally assume the default one built into the JDK, but you specify version=&quot;2.0&quot;, and the default processor only supports XSLT 1.0.","body":"Which XSLT processor are you using? I would normally assume the default one built into the JDK, but you specify version=&quot;2.0&quot;, and the default processor only supports XSLT 1.0."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1685736342,"post_id":76392534,"comment_id":134708334,"body_markdown":"It does not surprise me as xml parser had similar problems. However, how did you confirm that it is the xsl file handles rather than some other part of the application?","body":"It does not surprise me as xml parser had similar problems. However, how did you confirm that it is the xsl file handles rather than some other part of the application?"},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1685775502,"post_id":76392534,"comment_id":134711269,"body_markdown":"@DuncG we suppose that _Transformer_ is the issue because it is the method _transform_ is the only one manipulating our .xsl. Nowhere can we find any direct read of the unclosed files.","body":"@DuncG we suppose that <i>Transformer</i> is the issue because it is the method <i>transform</i> is the only one manipulating our .xsl. Nowhere can we find any direct read of the unclosed files."},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1685775632,"post_id":76392534,"comment_id":134711281,"body_markdown":"@Michael Kay as stated in my question, we are using basic javax xml Transformer. The transformation itself does work. Our only issue is with imported files that are not closed.","body":"@Michael Kay as stated in my question, we are using basic javax xml Transformer. The transformation itself does work. Our only issue is with imported files that are not closed."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1685777995,"post_id":76392534,"comment_id":134711453,"body_markdown":"@TonioLeParigo Try running `lsof` to confirm file handle usage, grep by your jvm pid.","body":"@TonioLeParigo Try running <code>lsof</code> to confirm file handle usage, grep by your jvm pid."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1685787776,"post_id":76392534,"comment_id":134712301,"body_markdown":"&#39;This result in a &quot;Too many open files error&quot; when working on Linux OS under certain conditions.&#39;: what exactly are the certain conditions?","body":"&#39;This result in a &quot;Too many open files error&quot; when working on Linux OS under certain conditions.&#39;: what exactly are the certain conditions?"},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1685801899,"post_id":76392534,"comment_id":134713656,"body_markdown":"@DuncG we did that when the error occured and we confirmed that it was indeed the sames files that were kept opened by the JVM. Moreover, we did see that it was the same files that were opened over and over again.","body":"@DuncG we did that when the error occured and we confirmed that it was indeed the sames files that were kept opened by the JVM. Moreover, we did see that it was the same files that were opened over and over again."},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1685802064,"post_id":76392534,"comment_id":134713678,"body_markdown":"@Martin Honnen. The conditions are during integration tests that do call for transform over and over in quick succession. That how we saw the issue but there is no reason that it would not happen in prod after a while. I will remove the line about &#171;&#160;conditions&#160;&#187; since it might be misleading.","body":"@Martin Honnen. The conditions are during integration tests that do call for transform over and over in quick succession. That how we saw the issue but there is no reason that it would not happen in prod after a while. I will remove the line about &#171; conditions &#187; since it might be misleading."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1685869644,"post_id":76392534,"comment_id":134718889,"body_markdown":"@TonioLeParigo The javax `Transformer` is an interface, not a class. There are several different implementations. If you weren&#39;t aware of that, I guess we should infer that you are using the default implementation that comes with the JDK.","body":"@TonioLeParigo The javax <code>Transformer</code> is an interface, not a class. There are several different implementations. If you weren&#39;t aware of that, I guess we should infer that you are using the default implementation that comes with the JDK."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1685869926,"post_id":76392534,"comment_id":134718910,"body_markdown":"You could try nominating a user-written URIResolver to handle the include/import requests. Your URIResolver could (for example) read the specified file into a byte array and then return a ByteArrayInputStream over this byte array (wrapped in a StreamSource); it then wouldn&#39;t matter that this doesn&#39;t get closed. Or, just for diagnostics, you could return a Stream which you monitor for a call on close(), just to confirm that the stream really is never closed.","body":"You could try nominating a user-written URIResolver to handle the include/import requests. Your URIResolver could (for example) read the specified file into a byte array and then return a ByteArrayInputStream over this byte array (wrapped in a StreamSource); it then wouldn&#39;t matter that this doesn&#39;t get closed. Or, just for diagnostics, you could return a Stream which you monitor for a call on close(), just to confirm that the stream really is never closed."},{"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"score":0,"creation_date":1685944888,"post_id":76392534,"comment_id":134726048,"body_markdown":"@Michael Kay. Reading the code, I see it now... We indeed are using net.sf.saxon.jaxp.SaxonTransformerFactory for our factory. Moreover, I do think that we did not take into account how our factory was intanciated. I&#39;ll change the description.","body":"@Michael Kay. Reading the code, I see it now... We indeed are using net.sf.saxon.jaxp.SaxonTransformerFactory for our factory. Moreover, I do think that we did not take into account how our factory was intanciated. I&#39;ll change the description."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1685958282,"post_id":76392534,"comment_id":134728328,"body_markdown":"As this is turning into a Saxon issue, consider to add information as to which Saxon version exactly you are using.","body":"As this is turning into a Saxon issue, consider to add information as to which Saxon version exactly you are using."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1685977954,"post_id":76392534,"comment_id":134732850,"body_markdown":"Saxon 9.7 is rather old and beyond its support but I am not sure for JAXP it matters. The samples section has one example of a URI resolver in https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest9.7/samples/java/he/JAXPExamples.java#L1105 and https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest9.7/samples/java/he/JAXPExamples.java#L1079, not sure whether will help you for your code.","body":"Saxon 9.7 is rather old and beyond its support but I am not sure for JAXP it matters. The samples section has one example of a URI resolver in <a href=\"https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest9.7/samples/java/he/JAXPExamples.java#L1105\" rel=\"nofollow noreferrer\">saxonica.plan.io/projects/saxon/repository/he/revisions/mast&zwnj;&#8203;er/&hellip;</a> and <a href=\"https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest9.7/samples/java/he/JAXPExamples.java#L1079\" rel=\"nofollow noreferrer\">saxonica.plan.io/projects/saxon/repository/he/revisions/mast&zwnj;&#8203;er/&hellip;</a>, not sure whether will help you for your code."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685981340,"creation_date":1685981340,"answer_id":76408222,"question_id":76392534,"body_markdown":"It looks like the bug https://saxonica.plan.io/issues/3401\r\n\r\nwhich was fixed in Saxon 9.7.0.21 and later releases.\r\n\r\nIt&#39;s a good idea to keep up to date, at least with maintenance releases if not with major releases. Saxon 9.7 dates back to 2017.\r\n\r\nIn the bug entry there&#39;s also a link to a tool that I used for diagnosis - you might find this helpful.","title":"Java Xml Transformer does not close opened files leading to &quot;Too many open files error&quot; on Linux OS","body":"<p>It looks like the bug <a href=\"https://saxonica.plan.io/issues/3401\" rel=\"nofollow noreferrer\">https://saxonica.plan.io/issues/3401</a></p>\n<p>which was fixed in Saxon 9.7.0.21 and later releases.</p>\n<p>It's a good idea to keep up to date, at least with maintenance releases if not with major releases. Saxon 9.7 dates back to 2017.</p>\n<p>In the bug entry there's also a link to a tool that I used for diagnosis - you might find this helpful.</p>\n"},{"tags":[],"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686047827,"creation_date":1686047827,"answer_id":76413774,"question_id":76392534,"body_markdown":"Thanks to all of your input, we found the issue and came up with a correction (indeed close to recommendation of @MichaelKay comment).\r\n\r\nBasically, we did implement our own `URIResolver` that implement a `close()` method that we then call into a `finally` clause.\r\n\r\nCustomUriResolver:\r\n```java\r\nublic class CustomUriResolver implements URIResolver\r\n{\r\n\r\n  private Path folderPath;\r\n\r\n\r\n  private List&lt;InputStream&gt; inputStreamList = new ArrayList&lt;&gt;();\r\n\r\n\r\n  public CustomUriResolver(Path folderPath)\r\n  {\r\n    super();\r\n    this.folderPath = folderPath;\r\n  }\r\n\r\n  /**\r\n   * {@inheritDoc}\r\n   */\r\n  @Override\r\n  public Source resolve(String href, String base) throws TransformerException\r\n  {\r\n    try\r\n    {\r\n      InputStream xslStream = Files.newInputStream(folderPath.resolve(href));\r\n      inputStreamList.add(xslStream);\r\n      return new StreamSource(xslStream);\r\n    }\r\n    catch (IOException e)\r\n    {\r\n      LOGGER.error(e.getLocalizedMessage(), e);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public void closeStreams() throws IOException\r\n  {\r\n    for (InputStream is : inputStreamList)\r\n    {\r\n      is.close();\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n\r\nUsage for XSLT transform:\r\n\r\n```java\r\n    TransformerFactoryImpl transformerFactory = new TransformerFactoryImpl();\r\n\r\n    ReportUriResolver uriResolver = new ReportUriResolver(getReportXslFolderPath());\r\n\r\n    transformerFactory.setURIResolver(uriResolver);\r\n\r\n    try\r\n    {\r\n      xsltTransformation(transformerFactory, xmlDocument);\r\n    }\r\n    finally\r\n    {\r\n      try\r\n      {\r\n        // close streams opened during XSL transform with imports\r\n        uriResolver.closeStreams();\r\n      }\r\n      catch (IOException e)\r\n      {\r\n        LOGGER.error(e.getLocalizedMessage(), e);\r\n      }\r\n    }\r\n```","title":"Java Xml Transformer does not close opened files leading to &quot;Too many open files error&quot; on Linux OS","body":"<p>Thanks to all of your input, we found the issue and came up with a correction (indeed close to recommendation of @MichaelKay comment).</p>\n<p>Basically, we did implement our own <code>URIResolver</code> that implement a <code>close()</code> method that we then call into a <code>finally</code> clause.</p>\n<p>CustomUriResolver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ublic class CustomUriResolver implements URIResolver\n{\n\n  private Path folderPath;\n\n\n  private List&lt;InputStream&gt; inputStreamList = new ArrayList&lt;&gt;();\n\n\n  public CustomUriResolver(Path folderPath)\n  {\n    super();\n    this.folderPath = folderPath;\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public Source resolve(String href, String base) throws TransformerException\n  {\n    try\n    {\n      InputStream xslStream = Files.newInputStream(folderPath.resolve(href));\n      inputStreamList.add(xslStream);\n      return new StreamSource(xslStream);\n    }\n    catch (IOException e)\n    {\n      LOGGER.error(e.getLocalizedMessage(), e);\n      return null;\n    }\n  }\n\n  public void closeStreams() throws IOException\n  {\n    for (InputStream is : inputStreamList)\n    {\n      is.close();\n    }\n  }\n\n}\n</code></pre>\n<p>Usage for XSLT transform:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    TransformerFactoryImpl transformerFactory = new TransformerFactoryImpl();\n\n    ReportUriResolver uriResolver = new ReportUriResolver(getReportXslFolderPath());\n\n    transformerFactory.setURIResolver(uriResolver);\n\n    try\n    {\n      xsltTransformation(transformerFactory, xmlDocument);\n    }\n    finally\n    {\n      try\n      {\n        // close streams opened during XSL transform with imports\n        uriResolver.closeStreams();\n      }\n      catch (IOException e)\n      {\n        LOGGER.error(e.getLocalizedMessage(), e);\n      }\n    }\n</code></pre>\n"}],"owner":{"account_id":28155409,"reputation":43,"user_id":21516215,"display_name":"TonioLeParigo"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1686047827,"creation_date":1685729112,"question_id":76392534,"body_markdown":"We are working on a Java 8 legacy software. \r\n\r\nWe are using xslt transform to present .xml files in .html format.\r\n\r\nOur issue is that our .xsl styleSheet file imports some other .xsl file.\r\n\r\n(All the code down below is dumbed down because I cannot give the real code...)\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet version=&quot;2.0&quot;\r\n                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n                xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;&gt;\r\n\r\n    &lt;xsl:import href=&quot;someTemplate.xsl&quot;/&gt;\r\n    &lt;xsl:output method=&quot;html&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\r\n\r\n[...]\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nthen we are transforming our .xml datasource using this .xsl stylesheet and `net.sf.saxon.jaxp.SaxonTransformerFactory` as our source for `javax.xml.transform.Transformer`.\r\n\r\nSaxon pom dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.sf.saxon&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Saxon-HE&lt;/artifactId&gt;\r\n    &lt;version&gt;9.7.0-14&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n`net.sf.saxon.jaxp.SaxonTransformerFactory` is instanciated as follow:\r\n\r\n```java\r\nTransformerFactoryImpl transformerFactory = new TransformerFactoryImpl();\r\n\r\n    Path targetFolderPath = &lt;some Path&gt;;\r\n    transformerFactory.setURIResolver((arg0, arg1) -&gt; {\r\n\r\n      try\r\n      {\r\n        InputStream xslStream = Files.newInputStream(targetFolderPath.resolve(arg0));\r\n        return new StreamSource(xslStream);\r\n      }\r\n      catch (IOException e)\r\n      {\r\n        LOGGER.error(e.getLocalizedMessage(), e);\r\n        return null;\r\n      }\r\n    });\r\n```\r\n\r\nOur .xsl stylesheet if opened inside a try-with-resource.\r\n\r\n```java\r\ntry (InputStream xslStream = Files.newInputStream(Paths.get(pathToTheXslFile));)\r\n    {\r\n\r\n      Transformer transformer = transformerFactory.newTransformer(new StreamSource(xslStream));\r\n      \r\n      transformer.transform(XmlData, new StreamResult(destFile));\r\n       \r\n    }\r\n    catch (IOException | TransformerException e)\r\n    {\r\n      [some logs...]\r\n    }\r\n\r\n```\r\n\r\nour issue is that the transform seems to open the file imported by the .xsl stylesheet without ever closing it.\r\n\r\nThis result in a &quot;Too many open files error&quot; when working on Linux OS. \r\n\r\n\r\nBasically we are completely stumped by this issue since `javax.xml.transform.Transformer` does not offer any Autocloseable option and we do not seem to have any access to the opened files.\r\n\r\nWhat we thought of was to make some custom code to force files closing through Linux command Line.\r\n\r\n**EDIT**:\r\n\r\nReading the code after my latest update of the description, I see it now...\r\n\r\nWe did not implementent a Try-with-resource when creating the URIResolver for our TransformerFactory.\r\n\r\nI will make the change, test it and then close the question if it does work (it should... ;)).\r\n\r\nThx for the comments.\r\n\r\n**EDIT2**:\r\n\r\nAdding try-with-resource to the URIResolver lambda expression results in `net.sf.saxon.s9api.SaxonApiException: I/O error reported by XML parser processing null: null`\r\nThis is due to the fact that the `InputStream` used to create the `StreamSource` is closed as soon as the `StreamSource` is returned, rendering it useless.","title":"Java Xml Transformer does not close opened files leading to &quot;Too many open files error&quot; on Linux OS","body":"<p>We are working on a Java 8 legacy software.</p>\n<p>We are using xslt transform to present .xml files in .html format.</p>\n<p>Our issue is that our .xsl styleSheet file imports some other .xsl file.</p>\n<p>(All the code down below is dumbed down because I cannot give the real code...)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet version=&quot;2.0&quot;\n                xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n                xmlns:fn=&quot;http://www.w3.org/2005/xpath-functions&quot;&gt;\n\n    &lt;xsl:import href=&quot;someTemplate.xsl&quot;/&gt;\n    &lt;xsl:output method=&quot;html&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\n\n[...]\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>then we are transforming our .xml datasource using this .xsl stylesheet and <code>net.sf.saxon.jaxp.SaxonTransformerFactory</code> as our source for <code>javax.xml.transform.Transformer</code>.</p>\n<p>Saxon pom dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.saxon&lt;/groupId&gt;\n    &lt;artifactId&gt;Saxon-HE&lt;/artifactId&gt;\n    &lt;version&gt;9.7.0-14&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><code>net.sf.saxon.jaxp.SaxonTransformerFactory</code> is instanciated as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TransformerFactoryImpl transformerFactory = new TransformerFactoryImpl();\n\n    Path targetFolderPath = &lt;some Path&gt;;\n    transformerFactory.setURIResolver((arg0, arg1) -&gt; {\n\n      try\n      {\n        InputStream xslStream = Files.newInputStream(targetFolderPath.resolve(arg0));\n        return new StreamSource(xslStream);\n      }\n      catch (IOException e)\n      {\n        LOGGER.error(e.getLocalizedMessage(), e);\n        return null;\n      }\n    });\n</code></pre>\n<p>Our .xsl stylesheet if opened inside a try-with-resource.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (InputStream xslStream = Files.newInputStream(Paths.get(pathToTheXslFile));)\n    {\n\n      Transformer transformer = transformerFactory.newTransformer(new StreamSource(xslStream));\n      \n      transformer.transform(XmlData, new StreamResult(destFile));\n       \n    }\n    catch (IOException | TransformerException e)\n    {\n      [some logs...]\n    }\n\n</code></pre>\n<p>our issue is that the transform seems to open the file imported by the .xsl stylesheet without ever closing it.</p>\n<p>This result in a &quot;Too many open files error&quot; when working on Linux OS.</p>\n<p>Basically we are completely stumped by this issue since <code>javax.xml.transform.Transformer</code> does not offer any Autocloseable option and we do not seem to have any access to the opened files.</p>\n<p>What we thought of was to make some custom code to force files closing through Linux command Line.</p>\n<p><strong>EDIT</strong>:</p>\n<p>Reading the code after my latest update of the description, I see it now...</p>\n<p>We did not implementent a Try-with-resource when creating the URIResolver for our TransformerFactory.</p>\n<p>I will make the change, test it and then close the question if it does work (it should... ;)).</p>\n<p>Thx for the comments.</p>\n<p><strong>EDIT2</strong>:</p>\n<p>Adding try-with-resource to the URIResolver lambda expression results in <code>net.sf.saxon.s9api.SaxonApiException: I/O error reported by XML parser processing null: null</code>\nThis is due to the fact that the <code>InputStream</code> used to create the <code>StreamSource</code> is closed as soon as the <code>StreamSource</code> is returned, rendering it useless.</p>\n"},{"tags":["java","pdf","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1685910354,"post_id":76400452,"comment_id":134723417,"body_markdown":"The screenshot of the problem file shows that it is not certified, its signature is an approval signature. Thus, your looking for information about certification signatures likely won&#39;t help you here at all. The most important part of the screen shot actually is the warning &quot;1 Page(s) modified&quot; because that indicates that Adobe Acrobat sees more changes than the allowed addition of annotations. This might be caused by your code actually applying such disallowed changes (a quick glance at your code makes me assume that is not the case), or some JavaScript in the PDF applying some changes, or...","body":"The screenshot of the problem file shows that it is not certified, its signature is an approval signature. Thus, your looking for information about certification signatures likely won&#39;t help you here at all. The most important part of the screen shot actually is the warning &quot;1 Page(s) modified&quot; because that indicates that Adobe Acrobat sees more changes than the allowed addition of annotations. This might be caused by your code actually applying such disallowed changes (a quick glance at your code makes me assume that is not the case), or some JavaScript in the PDF applying some changes, or..."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1685910493,"post_id":76400452,"comment_id":134723433,"body_markdown":"... or an error in the PDF making Adobe Acrobat repair the file under the hood and so invalidating the signature. As you cannot share the PDF in question, I cannot tell which of these options it is...","body":"... or an error in the PDF making Adobe Acrobat repair the file under the hood and so invalidating the signature. As you cannot share the PDF in question, I cannot tell which of these options it is..."},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1685913469,"post_id":76400452,"comment_id":134723686,"body_markdown":"thank you very much, @mkl - i will try and ask for a proper public test file and attach it here when I get it. meanwhile I will keep searching and will post anything more I find. Thanks for the pointers and your being here for all of us.","body":"thank you very much, @mkl - i will try and ask for a proper public test file and attach it here when I get it. meanwhile I will keep searching and will post anything more I find. Thanks for the pointers and your being here for all of us."},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1686041998,"post_id":76400452,"comment_id":134741347,"body_markdown":"@mkl I have added some samples and made an edit towards the end of my question - is there a chance you took a look on paricularly FAILURE_simple_test_libre72_cerified_signed_annotated.pdf and FAILURE_simple_test_word2016_not_certified_standard_size_signed_annotated.pdf - have any idea why their signatures are shown as invalid? I explain in the edit how I produced them. Thanks and sorry for the hassle.","body":"@mkl I have added some samples and made an edit towards the end of my question - is there a chance you took a look on paricularly FAILURE_simple_test_libre72_cerified_signed_annotated.pdf and FAILURE_simple_test_word2016_not_certified_standard_size_sig&zwnj;&#8203;ned_annotated.pdf - have any idea why their signatures are shown as invalid? I explain in the edit how I produced them. Thanks and sorry for the hassle."},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1686058140,"post_id":76400452,"comment_id":134744797,"body_markdown":"as per mkl&#39;s answer below, I had to make sure that the calls to `setNeedToBeUpdated` for the following objects should NOT be made : `page.getResources().getCOSObject()` , `page.getCOSObject()`. The document catalog still has to be marked for change : `pddoc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);` , `pddoc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);`","body":"as per mkl&#39;s answer below, I had to make sure that the calls to <code>setNeedToBeUpdated</code> for the following objects should NOT be made : <code>page.getResources().getCOSObject()</code> , <code>page.getCOSObject()</code>. The document catalog still has to be marked for change : <code>pddoc.getDocumentCatalog().getPages().getCOSObject().setNeed&zwnj;&#8203;ToBeUpdated(true);</code> , <code>pddoc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated&zwnj;&#8203;(true);</code>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1686064444,"post_id":76400452,"comment_id":134746367,"body_markdown":"*&quot;as per mkl&#39;s answer below, I had to make sure that the calls to `setNeedToBeUpdated` for the following objects should NOT be made : `page.getResources().getCOSObject() , page.getCOSObject()`&quot;* - Beware, it may not be that simple, you want to add an annotation after all. So if the **Annots** array of the page is a direct object, you have to mark the page dictionary. Nonetheless, you have to make sure that the page resources are not changed.","body":"<i>&quot;as per mkl&#39;s answer below, I had to make sure that the calls to <code>setNeedToBeUpdated</code> for the following objects should NOT be made : <code>page.getResources().getCOSObject() , page.getCOSObject()</code>&quot;</i> - Beware, it may not be that simple, you want to add an annotation after all. So if the <b>Annots</b> array of the page is a direct object, you have to mark the page dictionary. Nonetheless, you have to make sure that the page resources are not changed."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686047732,"creation_date":1686047732,"answer_id":76413761,"question_id":76400452,"body_markdown":"Based on the example files the problem became clear - your code changes the page resources and, therefore, the page as far as Adobe Acrobat is concerned, invalidating the signature. (It&#39;s actually quite visible in the code you posted but one easily overlooks something like that.)\r\n\r\nBut your code does not mark all objects from the page to the font resources as updated, you forgot the **Font** dictionary in the **Resources** dictionary.\r\n\r\nIn case of the MS Word generated PDFs the extra fonts were added to the output nonetheless as the resources in the page are direct objects. LibreOffice, on the other hand, uses indirect object hierarchies for the resources. Thus, the extra fonts were not added to the resulting PDF and, consequentially, Adobe Acrobat did not find any changes to the (static) page content.\r\n\r\nEssentially, therefore, those fonts must not be in the page resources when you store your incremental update.\r\n\r\nI don&#39;t know whether it would make sense to have them there temporarily until you call their `subset` methods, but in the end the page resources must not be changed in a signed PDF.","title":"pdfbox adding annotation to certified document with existing signature","body":"<p>Based on the example files the problem became clear - your code changes the page resources and, therefore, the page as far as Adobe Acrobat is concerned, invalidating the signature. (It's actually quite visible in the code you posted but one easily overlooks something like that.)</p>\n<p>But your code does not mark all objects from the page to the font resources as updated, you forgot the <strong>Font</strong> dictionary in the <strong>Resources</strong> dictionary.</p>\n<p>In case of the MS Word generated PDFs the extra fonts were added to the output nonetheless as the resources in the page are direct objects. LibreOffice, on the other hand, uses indirect object hierarchies for the resources. Thus, the extra fonts were not added to the resulting PDF and, consequentially, Adobe Acrobat did not find any changes to the (static) page content.</p>\n<p>Essentially, therefore, those fonts must not be in the page resources when you store your incremental update.</p>\n<p>I don't know whether it would make sense to have them there temporarily until you call their <code>subset</code> methods, but in the end the page resources must not be changed in a signed PDF.</p>\n"}],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76413761,"answer_count":1,"score":1,"last_activity_date":1686047732,"creation_date":1685882249,"question_id":76400452,"body_markdown":"and thanks for taking a look at this question.\r\nI have been struggling with a sudden issue that came to my attention only recently.\r\n\r\n**TL;DR**\r\n\r\nWhen adding annotations to a specific document that contains a valid digital signature, the existing signature becomes invalid, even though the save is incremental and no problems were observed for other similar documents with valid signatures. The only way I could reproduce this behaviour was to add Certification while signing that restricts editing to only form fill-in, commenting and annotations (should be okay). Still, adding annotations afterwards the same way invalidates the signature.\r\n\r\n**Question:**\r\n\r\n 1.  Does making a PDF document &quot;Certified&quot; (actually I am kind of mixed up about what this means technically) effectively prohibits its being modified by specific annotations, even when it specifies that annotations are allowed?\r\n 2.  Do I make some specific mistake in the way I add annotations, resulting in the above error?\r\n 3.  When I open a document that was specifically created by `jSignPDF` with a certain Certificate Level, `Acrobat Reader` shows the following icon in the Signatures bar:\r\n\r\n[![Certification level icon][1]][1]\r\n\r\nWhat attribute does `Acrobat Reader` use to show this? Is there a way to effectively apply certification level without resulting in `Acrobat Reader` diplaying this icon? I am asking this because I have documents that display the same behavior (see below), but do not show this specific &quot;seal&quot; sign.\r\n\r\n**Scenario:**\r\n\r\nThere is an existing application that routinely adds stamp annotations to existing PDF documents which are not usually digitally signed, or are signed by a known internal application. The resulting PDF with added annotations is saved incrementally, and when opened by Acrobat Reader, shows a warning saying that there were changes applied to the document after the signature, which is still valid.\r\n\r\n[![example_usual][2]][2]\r\n\r\nAt some point the above application was fed with a PDF that was externally signed. The application added annotations, but they broke the validity of the existing signature. Unfortunately I am not at liberty to publish the document itself, but the picture shown by `Acrobat Reader` is as follows:\r\n\r\n[![example_signature_invalid][3]][3]\r\n\r\nI have tried various ways to reproduce this issue with a test document of my own creation. Up to now I have tried changing the PDF version (tried `1.4`, `1.6`, `1.7`), saving it as `Tagged`, adding `LTV` information (`OCSP` &amp; `CRL`), and marking it as Certified, allowing form fill-in, commenting and annotations.\r\n\r\nThe tools I have used for the above tests are `LibreOffice 7.5.3.2` (Export As PDF), `qpdf` for changing PDF version from 1.6 to 1.7, `jSignPDF 2.2.0` (for signing with or without Certification, with or without LTV information, changing hash algorithm from `SHA1` to `SHA256`). Up to now the only way I was able to reproduce the issue was to create a document with Certification - even though the Certification specifies that annotations are allowed, it seems that the way I am adding them breaks something. I have checked the binary content of the file and the save indeed seems to have been done incrementally.\r\n\r\n`jSignPDF` has the following interface to specify the level of Certification:\r\n[![jsignpdf UI][4]][4]\r\n\r\nI have created a test program that I used for the above tests and you can get the code [here][5]. The specific file of interest is [this one][6] and it calls a service which approximately does the following (I tried to rewrite it and put everything in a single block of code for clarity - but I don&#39;t expect it to run as is):\r\n\r\n```java\r\n...\r\nPDPage page = pddoc.getPage(0);\r\nList&lt;PDAnnotation&gt; annotations = page.getAnnotations();\r\n\r\n// prefer rubber stamp because it does not require RC (rich content) to be defined and Acrobat Reader DC doesn&#39;t try to modify the document to create its own RC representation\r\nPDAnnotationRubberStamp t = new PDAnnotationRubberStamp();\r\n\r\nt.setAnnotationName(name); // might play important role\r\nt.setPrinted(true); // always visible\r\nt.setReadOnly(true); // does not interact with user\r\nt.setContents(text);\r\nt.setHidden(false);\r\nt.setInvisible(false);\r\nt.setLocked(true);\r\n\r\nt.setPage(page);\r\nt.setLockedContents(true);\r\n\r\nPDFont font = null;\r\ntry ( InputStream fs = PDFService.class.getResourceAsStream(&quot;/static/fonts/LiberationSans-Bold.ttf&quot;)) {\r\n\tret = PDType0Font.load(pddoc, fs, true);\r\n\t// PDFBOX will warn, but we ignore this warning according to https://stackoverflow.com/questions/67137356/pdfbox-embedding-subset-font-for-annotations\r\n} catch (Exception ex) {\r\n\tSystem.out.println(&quot;Could not load font : &quot; + ex.getMessage());\r\n}\r\n\r\nfont.getCOSObject().setNeedToBeUpdated(true);\r\npage.getResources().add(font);\r\npage.getResources().getCOSObject().setNeedToBeUpdated(true);\r\npage.getCOSObject().setNeedToBeUpdated(true);\r\n\r\nsubsetFonts.add(font); // should be subset once all annotations for a page have been added\r\n\r\nPDRectangle rect = new PDRectangle(x, y, 100, 100);\r\nt.setRectangle(rect);\r\n\r\nCalendar c = Calendar.getInstance();\r\nt.setCreationDate(c);\r\nt.setModifiedDate(c);\r\n\r\nPDAppearanceDictionary ap = new PDAppearanceDictionary();\r\nPDAppearanceStream aps = new PDAppearanceStream(document);\r\nPDAppearanceContentStream apsContent = null;\r\n\r\nPDRectangle rect = ann.getRectangle();\r\nrect = new PDRectangle(0, 0, rect.getWidth(), rect.getHeight()); // need to be relative - this is mega important because otherwise it appears as if nothing is printed\r\naps.setBBox(rect); // set bounding box to the dimensions of the annotation itself\r\n\r\n// in case of multiple lines, we want to start from the highest line\r\nfloat initialY = rect.getHeight() - _fontSize;\r\n\r\n// embed our unicode font (NB: yes, this needs to be done otherwise aps.getResources() == null which will cause NPE later during setFont)\r\nPDResources res = new PDResources();\r\naps.setResources(res);\r\n\r\ntry {\r\n\t// draw directly on the XObject&#39;s content stream\r\n\tapsContent = new PDAppearanceContentStream(aps);\r\n\tapsContent.beginText();\r\n\tapsContent.setFont(font, _fontSize); // PDType1Font.HELVETICA_BOLD would work if we didn&#39;t have possible greek characters\r\n\tapsContent.newLineAtOffset(0, initialY);\r\n\tapsContent.showText(ann.getContents());\r\n\tapsContent.endText();\r\n} \r\nfinally {\r\n\tif (apsContent != null) {\r\n\t\ttry { apsContent.close(); } catch (Exception ex) { System.out.println(ex.getMessage()); }\r\n\t}\r\n}\r\n\r\naps.getResources().getCOSObject().setNeedToBeUpdated(true);\r\naps.getCOSObject().setNeedToBeUpdated(true);\r\n\r\nap.setNormalAppearance(aps);\r\nap.getCOSObject().setNeedToBeUpdated(true);\r\nt.setAppearance(ap);\r\n\r\nannotations.add(t);\r\npage.setAnnotations(annotations);\r\n\r\nt.getCOSObject().setNeedToBeUpdated(true);\r\npage.getResources().getCOSObject().setNeedToBeUpdated(true);\r\npage.getCOSObject().setNeedToBeUpdated(true);\r\npddoc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);\r\npddoc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\r\n\r\nif (font.willBeSubset()) {\r\n\tfont.subset();\r\n\tfont.getCOSObject().setNeedToBeUpdated(true); // corresponsing page resources should also be set to be updated - but we do it already in addAnnotation            \r\n}\r\n\r\npddoc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);\r\npddoc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\r\n\r\nByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\r\npddoc.saveIncremental(baos);\r\n...\r\n```\r\nThank you all...\r\n\r\n**EDIT:**\r\nI have added [here][7] some test files. After some trial and error I came to the following conclusions:\r\n\r\nWhen I create simple PDF files by exporting them from LibreOffice 7.2, then sign them with jSignPDF, choosing Certification Level = &quot;Not certified&quot;, and later annotate them with the above procedure, things work as expected, existing signature still shows as valid, with the remark that there were changes made after the signature (the added annotations). Alright by me.\r\n\r\nWhen I create PDF files by exporting them from Microsoft Word 2016/2019 documents, no matter how simple, they are significantly larger than PDFs produced by e.g. LibreOffice 7.2/7.5. After being signed by jSignPDF with the same way and annotated with the same above procedure, the existing signature shows as invalid, as in the above screenshots. I wonder - what is the problem that causes this failure - I guess it is that there is something that Acrobat Reader doesn&#39;t like and tries to change the contents on-the-run, that results in in-memory document corruption and the error message. I am trying to find a safe guideline to give to people using this way of producing their PDFs so that they would work with the above code later..\r\n\r\nEven when I create files with LibreOffice as in the first case, when I sign them with jSignPDF, choosing Certification Level = &quot;Form filling and annotations allowed&quot;, subsequent annotating of these files causes the signature to show as invalid. Is this a problem with how jSignPDF adds the signature?\r\n\r\nThanks....\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/biZUt.png\r\n  [2]: https://i.stack.imgur.com/tzXID.png\r\n  [3]: https://i.stack.imgur.com/EU3PB.png\r\n  [4]: https://i.stack.imgur.com/4Gclb.png\r\n  [5]: https://github.com/hello-earth-gh/grumpy-hellcat/tree/master/grumpy-hellcat\r\n  [6]: https://github.com/hello-earth-gh/grumpy-hellcat/blob/master/grumpy-hellcat/src/main/java/pub/hello/earth/grumpy/hellcat/pdfbox/PdfBoxAnnotationsBrokenSignatureScenario.java\r\n  [7]: https://github.com/hello-earth-gh/grumpy-hellcat/tree/master/grumpy-hellcat/src/main/resources/pdfbox_sample_word","title":"pdfbox adding annotation to certified document with existing signature","body":"<p>and thanks for taking a look at this question.\nI have been struggling with a sudden issue that came to my attention only recently.</p>\n<p><strong>TL;DR</strong></p>\n<p>When adding annotations to a specific document that contains a valid digital signature, the existing signature becomes invalid, even though the save is incremental and no problems were observed for other similar documents with valid signatures. The only way I could reproduce this behaviour was to add Certification while signing that restricts editing to only form fill-in, commenting and annotations (should be okay). Still, adding annotations afterwards the same way invalidates the signature.</p>\n<p><strong>Question:</strong></p>\n<ol>\n<li>Does making a PDF document &quot;Certified&quot; (actually I am kind of mixed up about what this means technically) effectively prohibits its being modified by specific annotations, even when it specifies that annotations are allowed?</li>\n<li>Do I make some specific mistake in the way I add annotations, resulting in the above error?</li>\n<li>When I open a document that was specifically created by <code>jSignPDF</code> with a certain Certificate Level, <code>Acrobat Reader</code> shows the following icon in the Signatures bar:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/biZUt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/biZUt.png\" alt=\"Certification level icon\" /></a></p>\n<p>What attribute does <code>Acrobat Reader</code> use to show this? Is there a way to effectively apply certification level without resulting in <code>Acrobat Reader</code> diplaying this icon? I am asking this because I have documents that display the same behavior (see below), but do not show this specific &quot;seal&quot; sign.</p>\n<p><strong>Scenario:</strong></p>\n<p>There is an existing application that routinely adds stamp annotations to existing PDF documents which are not usually digitally signed, or are signed by a known internal application. The resulting PDF with added annotations is saved incrementally, and when opened by Acrobat Reader, shows a warning saying that there were changes applied to the document after the signature, which is still valid.</p>\n<p><a href=\"https://i.stack.imgur.com/tzXID.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tzXID.png\" alt=\"example_usual\" /></a></p>\n<p>At some point the above application was fed with a PDF that was externally signed. The application added annotations, but they broke the validity of the existing signature. Unfortunately I am not at liberty to publish the document itself, but the picture shown by <code>Acrobat Reader</code> is as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/EU3PB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EU3PB.png\" alt=\"example_signature_invalid\" /></a></p>\n<p>I have tried various ways to reproduce this issue with a test document of my own creation. Up to now I have tried changing the PDF version (tried <code>1.4</code>, <code>1.6</code>, <code>1.7</code>), saving it as <code>Tagged</code>, adding <code>LTV</code> information (<code>OCSP</code> &amp; <code>CRL</code>), and marking it as Certified, allowing form fill-in, commenting and annotations.</p>\n<p>The tools I have used for the above tests are <code>LibreOffice 7.5.3.2</code> (Export As PDF), <code>qpdf</code> for changing PDF version from 1.6 to 1.7, <code>jSignPDF 2.2.0</code> (for signing with or without Certification, with or without LTV information, changing hash algorithm from <code>SHA1</code> to <code>SHA256</code>). Up to now the only way I was able to reproduce the issue was to create a document with Certification - even though the Certification specifies that annotations are allowed, it seems that the way I am adding them breaks something. I have checked the binary content of the file and the save indeed seems to have been done incrementally.</p>\n<p><code>jSignPDF</code> has the following interface to specify the level of Certification:\n<a href=\"https://i.stack.imgur.com/4Gclb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Gclb.png\" alt=\"jsignpdf UI\" /></a></p>\n<p>I have created a test program that I used for the above tests and you can get the code <a href=\"https://github.com/hello-earth-gh/grumpy-hellcat/tree/master/grumpy-hellcat\" rel=\"nofollow noreferrer\">here</a>. The specific file of interest is <a href=\"https://github.com/hello-earth-gh/grumpy-hellcat/blob/master/grumpy-hellcat/src/main/java/pub/hello/earth/grumpy/hellcat/pdfbox/PdfBoxAnnotationsBrokenSignatureScenario.java\" rel=\"nofollow noreferrer\">this one</a> and it calls a service which approximately does the following (I tried to rewrite it and put everything in a single block of code for clarity - but I don't expect it to run as is):</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nPDPage page = pddoc.getPage(0);\nList&lt;PDAnnotation&gt; annotations = page.getAnnotations();\n\n// prefer rubber stamp because it does not require RC (rich content) to be defined and Acrobat Reader DC doesn't try to modify the document to create its own RC representation\nPDAnnotationRubberStamp t = new PDAnnotationRubberStamp();\n\nt.setAnnotationName(name); // might play important role\nt.setPrinted(true); // always visible\nt.setReadOnly(true); // does not interact with user\nt.setContents(text);\nt.setHidden(false);\nt.setInvisible(false);\nt.setLocked(true);\n\nt.setPage(page);\nt.setLockedContents(true);\n\nPDFont font = null;\ntry ( InputStream fs = PDFService.class.getResourceAsStream(&quot;/static/fonts/LiberationSans-Bold.ttf&quot;)) {\n    ret = PDType0Font.load(pddoc, fs, true);\n    // PDFBOX will warn, but we ignore this warning according to https://stackoverflow.com/questions/67137356/pdfbox-embedding-subset-font-for-annotations\n} catch (Exception ex) {\n    System.out.println(&quot;Could not load font : &quot; + ex.getMessage());\n}\n\nfont.getCOSObject().setNeedToBeUpdated(true);\npage.getResources().add(font);\npage.getResources().getCOSObject().setNeedToBeUpdated(true);\npage.getCOSObject().setNeedToBeUpdated(true);\n\nsubsetFonts.add(font); // should be subset once all annotations for a page have been added\n\nPDRectangle rect = new PDRectangle(x, y, 100, 100);\nt.setRectangle(rect);\n\nCalendar c = Calendar.getInstance();\nt.setCreationDate(c);\nt.setModifiedDate(c);\n\nPDAppearanceDictionary ap = new PDAppearanceDictionary();\nPDAppearanceStream aps = new PDAppearanceStream(document);\nPDAppearanceContentStream apsContent = null;\n\nPDRectangle rect = ann.getRectangle();\nrect = new PDRectangle(0, 0, rect.getWidth(), rect.getHeight()); // need to be relative - this is mega important because otherwise it appears as if nothing is printed\naps.setBBox(rect); // set bounding box to the dimensions of the annotation itself\n\n// in case of multiple lines, we want to start from the highest line\nfloat initialY = rect.getHeight() - _fontSize;\n\n// embed our unicode font (NB: yes, this needs to be done otherwise aps.getResources() == null which will cause NPE later during setFont)\nPDResources res = new PDResources();\naps.setResources(res);\n\ntry {\n    // draw directly on the XObject's content stream\n    apsContent = new PDAppearanceContentStream(aps);\n    apsContent.beginText();\n    apsContent.setFont(font, _fontSize); // PDType1Font.HELVETICA_BOLD would work if we didn't have possible greek characters\n    apsContent.newLineAtOffset(0, initialY);\n    apsContent.showText(ann.getContents());\n    apsContent.endText();\n} \nfinally {\n    if (apsContent != null) {\n        try { apsContent.close(); } catch (Exception ex) { System.out.println(ex.getMessage()); }\n    }\n}\n\naps.getResources().getCOSObject().setNeedToBeUpdated(true);\naps.getCOSObject().setNeedToBeUpdated(true);\n\nap.setNormalAppearance(aps);\nap.getCOSObject().setNeedToBeUpdated(true);\nt.setAppearance(ap);\n\nannotations.add(t);\npage.setAnnotations(annotations);\n\nt.getCOSObject().setNeedToBeUpdated(true);\npage.getResources().getCOSObject().setNeedToBeUpdated(true);\npage.getCOSObject().setNeedToBeUpdated(true);\npddoc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);\npddoc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\n\nif (font.willBeSubset()) {\n    font.subset();\n    font.getCOSObject().setNeedToBeUpdated(true); // corresponsing page resources should also be set to be updated - but we do it already in addAnnotation            \n}\n\npddoc.getDocumentCatalog().getPages().getCOSObject().setNeedToBeUpdated(true);\npddoc.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\n\nByteArrayOutputStream baos = new ByteArrayOutputStream();\n\npddoc.saveIncremental(baos);\n...\n</code></pre>\n<p>Thank you all...</p>\n<p><strong>EDIT:</strong>\nI have added <a href=\"https://github.com/hello-earth-gh/grumpy-hellcat/tree/master/grumpy-hellcat/src/main/resources/pdfbox_sample_word\" rel=\"nofollow noreferrer\">here</a> some test files. After some trial and error I came to the following conclusions:</p>\n<p>When I create simple PDF files by exporting them from LibreOffice 7.2, then sign them with jSignPDF, choosing Certification Level = &quot;Not certified&quot;, and later annotate them with the above procedure, things work as expected, existing signature still shows as valid, with the remark that there were changes made after the signature (the added annotations). Alright by me.</p>\n<p>When I create PDF files by exporting them from Microsoft Word 2016/2019 documents, no matter how simple, they are significantly larger than PDFs produced by e.g. LibreOffice 7.2/7.5. After being signed by jSignPDF with the same way and annotated with the same above procedure, the existing signature shows as invalid, as in the above screenshots. I wonder - what is the problem that causes this failure - I guess it is that there is something that Acrobat Reader doesn't like and tries to change the contents on-the-run, that results in in-memory document corruption and the error message. I am trying to find a safe guideline to give to people using this way of producing their PDFs so that they would work with the above code later..</p>\n<p>Even when I create files with LibreOffice as in the first case, when I sign them with jSignPDF, choosing Certification Level = &quot;Form filling and annotations allowed&quot;, subsequent annotating of these files causes the signature to show as invalid. Is this a problem with how jSignPDF adds the signature?</p>\n<p>Thanks....</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":8,"creation_date":1686048431,"post_id":76413740,"comment_id":134742687,"body_markdown":"Are you in a particularly memory constrained environment? If you have twenty threads the maximum amount of memory you can save is 20MB, which is nothing compared to heap sizes on most JVMs. Can you explain why you are looking into this?","body":"Are you in a particularly memory constrained environment? If you have twenty threads the maximum amount of memory you can save is 20MB, which is nothing compared to heap sizes on most JVMs. Can you explain why you are looking into this?"},{"owner":{"account_id":28763882,"reputation":11,"user_id":22029203,"display_name":"Sergey"},"score":0,"creation_date":1686049849,"post_id":76413740,"comment_id":134742940,"body_markdown":"No, I&#39;m not in an environment with a particularly limited amount of memory. My goal is not only to gain in memory, but also to gain a useful optimization experience.","body":"No, I&#39;m not in an environment with a particularly limited amount of memory. My goal is not only to gain in memory, but also to gain a useful optimization experience."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686049891,"post_id":76413740,"comment_id":134742954,"body_markdown":"Reduce it by successive halving until you start getting stack overflow exceptions, then you&#39;ve gone too far. But 1MB is plenty for most applications. Java puts most memory into the heap, not the stack.","body":"Reduce it by successive halving until you start getting stack overflow exceptions, then you&#39;ve gone too far. But 1MB is plenty for most applications. Java puts most memory into the heap, not the stack."},{"owner":{"account_id":28763882,"reputation":11,"user_id":22029203,"display_name":"Sergey"},"score":0,"creation_date":1686050045,"post_id":76413740,"comment_id":134742983,"body_markdown":"Thanks user207421. So far, this is the most popular advice that I have heard from my colleagues.","body":"Thanks user207421. So far, this is the most popular advice that I have heard from my colleagues."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686050356,"post_id":76413740,"comment_id":134743038,"body_markdown":"I don&#39;t think this is particularly useful optimisation experience. Depending on your environment, learning to use a profiler, learning to configure logging for timing DB queries (and other IO) and learning to read heap dumps are much more useful.","body":"I don&#39;t think this is particularly useful optimisation experience. Depending on your environment, learning to use a profiler, learning to configure logging for timing DB queries (and other IO) and learning to read heap dumps are much more useful."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686050869,"post_id":76413740,"comment_id":134743144,"body_markdown":"@kleopatra Wow, I had no idea. As someone who has both tried to use ChatGPT to answer tricky questions, and flagged a bunch of bad ChatGPT generated answers in the java tag, I&#39;m shocked.","body":"@kleopatra Wow, I had no idea. As someone who has both tried to use ChatGPT to answer tricky questions, and flagged a bunch of bad ChatGPT generated answers in the java tag, I&#39;m shocked."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686053179,"post_id":76413740,"comment_id":134743640,"body_markdown":"@Sergey just having the number of threads is not useful to make decisions on tuning. How did you even know that this particular setting is relevant to your objective? I can&#39;t even remember a situation when I had to use it. We don&#39;t know what your application does, how it is designed, what is the implementation, how threads are used, heap, native memory, stack, cpu usage patterns. This is a complex topic. Don&#39;t just jump to the first setting you see.","body":"@Sergey just having the number of threads is not useful to make decisions on tuning. How did you even know that this particular setting is relevant to your objective? I can&#39;t even remember a situation when I had to use it. We don&#39;t know what your application does, how it is designed, what is the implementation, how threads are used, heap, native memory, stack, cpu usage patterns. This is a complex topic. Don&#39;t just jump to the first setting you see."}],"owner":{"account_id":28763882,"reputation":11,"user_id":22029203,"display_name":"Sergey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686047606,"creation_date":1686047606,"question_id":76413740,"body_markdown":"There are 20 threads running in the application at a time. I want to optimize the amount of memory allocated when creating a stack for each thread. To set a fixed amount of memory allocated for the stack, I wanted to use the -XX:ThreadStackSize flag. \r\nHow much is it advisable to optimize the amount of allocated memory?\r\nWas it worth it?\r\nWhere do you recommend to start?\r\n\r\nAt the moment, 1 MB of memory is allocated for each stack","title":"Optimize Java stack size","body":"<p>There are 20 threads running in the application at a time. I want to optimize the amount of memory allocated when creating a stack for each thread. To set a fixed amount of memory allocated for the stack, I wanted to use the -XX:ThreadStackSize flag.\nHow much is it advisable to optimize the amount of allocated memory?\nWas it worth it?\nWhere do you recommend to start?</p>\n<p>At the moment, 1 MB of memory is allocated for each stack</p>\n"},{"tags":["java","sql","amazon-s3","parquet","amazon-s3-select"],"comments":[{"owner":{"account_id":12871638,"reputation":485,"user_id":9309869,"display_name":"S&#225;ndor Bakos"},"score":0,"creation_date":1565556295,"post_id":57451552,"comment_id":101381509,"body_markdown":"You can achive the parquet select with the aws s3 select feature. for java usage here is the link. [link](https://docs.aws.amazon.com/AmazonS3/latest/dev/SelectObjectContentUsingJava.html)","body":"You can achive the parquet select with the aws s3 select feature. for java usage here is the link. <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/SelectObjectContentUsingJava.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"score":0,"creation_date":1565556806,"post_id":57451552,"comment_id":101381614,"body_markdown":"That&#39;s what I am doing. This itself is not returning the header if I use parquet file.","body":"That&#39;s what I am doing. This itself is not returning the header if I use parquet file."}],"answers":[{"tags":[],"owner":{"account_id":17234902,"reputation":31,"user_id":12478589,"display_name":"sergej"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575509106,"creation_date":1575491740,"answer_id":59184307,"question_id":57451552,"body_markdown":"I have the same problem but unfortunately, my Google-Kung-Fu was not strong enough this time.\r\n\r\nI found the following workaround which I don&#39;t really like but it works for me:\r\n\r\n```python\r\nr = s3.select_object_content(Bucket=&#39;...your bucket...&#39;, \r\n                             Key=&#39;...your key...&#39;, \r\n                             ExpressionType=&#39;SQL&#39;, \r\n                             Expression=&quot;select s.* from S3Object s limit 1&quot;,\r\n                             InputSerialization={&#39;Parquet&#39;: {}}, \r\n                              OutputSerialization={&#39;JSON&#39;: {}})\r\nrow = json.loads([rec[&#39;Records&#39;][&#39;Payload&#39;].decode(&#39;utf-8&#39;) for rec in r[&#39;Payload&#39;] if &#39;Records&#39; in rec][0])\r\n\r\nprint(&quot;Columns: &quot;, list(row.keys()))\r\n```\r\nI.e. what the code does is to request the first line of the data, to extract the payload and to load the returned JSON object. The obtained JSON object has the following structure `{&quot;Column name&quot;: &quot;value&quot;, ....}`, such that one only has to extract the keys of the JSON object (last line).\r\n\r\nOne additional problem is that this does not return the types of columns. This is something that I could not solve yet.\r\n\r\n**UPDATE:**\r\nI observed that in some situations, some column names were not correct reported. Instead of the real name something like _18, _19 were returned. No idea how to deal with it.","title":"How to get list of all columns from a parquet file using s3 select?","body":"<p>I have the same problem but unfortunately, my Google-Kung-Fu was not strong enough this time.</p>\n\n<p>I found the following workaround which I don't really like but it works for me:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>r = s3.select_object_content(Bucket='...your bucket...', \n                             Key='...your key...', \n                             ExpressionType='SQL', \n                             Expression=\"select s.* from S3Object s limit 1\",\n                             InputSerialization={'Parquet': {}}, \n                              OutputSerialization={'JSON': {}})\nrow = json.loads([rec['Records']['Payload'].decode('utf-8') for rec in r['Payload'] if 'Records' in rec][0])\n\nprint(\"Columns: \", list(row.keys()))\n</code></pre>\n\n<p>I.e. what the code does is to request the first line of the data, to extract the payload and to load the returned JSON object. The obtained JSON object has the following structure <code>{\"Column name\": \"value\", ....}</code>, such that one only has to extract the keys of the JSON object (last line).</p>\n\n<p>One additional problem is that this does not return the types of columns. This is something that I could not solve yet.</p>\n\n<p><strong>UPDATE:</strong>\nI observed that in some situations, some column names were not correct reported. Instead of the real name something like _18, _19 were returned. No idea how to deal with it.</p>\n"},{"tags":[],"owner":{"account_id":28763973,"reputation":1,"user_id":22029282,"display_name":"Pilar Pulido"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686047315,"creation_date":1686047315,"answer_id":76413696,"question_id":57451552,"body_markdown":"You could retrieve just a row by selecting json format instead csv and you will obtain the column names as labels in json document; then you can use them to query the object","title":"How to get list of all columns from a parquet file using s3 select?","body":"<p>You could retrieve just a row by selecting json format instead csv and you will obtain the column names as labels in json document; then you can use them to query the object</p>\n"}],"owner":{"account_id":8174197,"reputation":2037,"user_id":7518561,"accept_rate":96,"display_name":"CodeHunter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4031,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1686047315,"creation_date":1565539451,"question_id":57451552,"body_markdown":"I have a parquet file stored in S3 bucket. I want to get the list of all columns of the parquet file. I am using `s3 select` but it just give me list of all rows wihtout any column headers. \r\n\r\nIs there anyway to get all column names from this parquet file without downloading it completely? Since parquet file can be very large, I would not want to download the entire parquet file which is why I am using `s3 select` to pick first few rows using \r\n\r\n    select * from S3Object LIMIT 10\r\n\r\nI tried to fetch column names explicitly by doing \r\n\r\n    SELECT COLUMN_NAME FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = &#39;S3Object&#39;\r\n\r\nbut it would not work as AWS S3 doesn&#39;t support this yet.\r\n\r\nIs there any other way to achieve the same?\r\n\r\n ","title":"How to get list of all columns from a parquet file using s3 select?","body":"<p>I have a parquet file stored in S3 bucket. I want to get the list of all columns of the parquet file. I am using <code>s3 select</code> but it just give me list of all rows wihtout any column headers. </p>\n\n<p>Is there anyway to get all column names from this parquet file without downloading it completely? Since parquet file can be very large, I would not want to download the entire parquet file which is why I am using <code>s3 select</code> to pick first few rows using </p>\n\n<pre><code>select * from S3Object LIMIT 10\n</code></pre>\n\n<p>I tried to fetch column names explicitly by doing </p>\n\n<pre><code>SELECT COLUMN_NAME FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'S3Object'\n</code></pre>\n\n<p>but it would not work as AWS S3 doesn't support this yet.</p>\n\n<p>Is there any other way to achieve the same?</p>\n"},{"tags":["java","exception","try-catch","try-with-resources"],"answers":[{"tags":[],"owner":{"account_id":6568146,"reputation":1238,"user_id":5077042,"display_name":"Vishnu Prasad V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476857885,"creation_date":1476857885,"answer_id":40123607,"question_id":40123124,"body_markdown":"1: You can use conditional statements inside `try` with resources statement also. Unfortunately you have to define new variable for this block and cannot use a predefined variable. ( variable `in` in your code)  \r\n  \r\n\r\n    try (BufferedReader in = (responseCode &gt;= 400 ? new BufferedReader(new InputStreamReader(con.getErrorStream())) : new BufferedReader(new InputStreamReader(con.getInputStream())))) {\r\n       // your code for getting string data\r\n    }\r\n\r\n\r\n2: I&#39;m not sure `HttpUrlConnection` is `AutoCloseable`, So it might be a good idea to call the `disconnect()` yourself. I&#39;m open to any suggestion on this one.\r\n\r\n3: `try` with resources will definitely help you in managing the resources. But if you&#39;re confident that you&#39;re releasing the resources properly after use, then your code is fine.","title":"Java Post Connection Using Try with Resources","body":"<p>1: You can use conditional statements inside <code>try</code> with resources statement also. Unfortunately you have to define new variable for this block and cannot use a predefined variable. ( variable <code>in</code> in your code)  </p>\n\n<pre><code>try (BufferedReader in = (responseCode &gt;= 400 ? new BufferedReader(new InputStreamReader(con.getErrorStream())) : new BufferedReader(new InputStreamReader(con.getInputStream())))) {\n   // your code for getting string data\n}\n</code></pre>\n\n<p>2: I'm not sure <code>HttpUrlConnection</code> is <code>AutoCloseable</code>, So it might be a good idea to call the <code>disconnect()</code> yourself. I'm open to any suggestion on this one.</p>\n\n<p>3: <code>try</code> with resources will definitely help you in managing the resources. But if you're confident that you're releasing the resources properly after use, then your code is fine.</p>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1476857976,"creation_date":1476857976,"answer_id":40123634,"question_id":40123124,"body_markdown":"Try this.\r\n\r\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n    try (AutoCloseable conc = () -&gt; con.disconnect()) {\r\n        // add request headers\r\n        try (DataOutputStream wr = new DataOutputStream(con.getOutputStream())) {\r\n            wr.writeBytes(queryString);\r\n        }\r\n        int responseCode = con.getResponseCode();\r\n        try (InputStream ins = responseCode &gt;= 400 ? con.getErrorStream() : con.getInputStream();\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(ins))) {\r\n            // receive response\r\n        }\r\n    }\r\n\r\n`() -&gt; con.disconnect()` is a lambda expression which execute `con.disconnect()` at finally stage of the try statement.\r\n","title":"Java Post Connection Using Try with Resources","body":"<p>Try this.</p>\n\n<pre><code>HttpURLConnection con = (HttpURLConnection) obj.openConnection();\ntry (AutoCloseable conc = () -&gt; con.disconnect()) {\n    // add request headers\n    try (DataOutputStream wr = new DataOutputStream(con.getOutputStream())) {\n        wr.writeBytes(queryString);\n    }\n    int responseCode = con.getResponseCode();\n    try (InputStream ins = responseCode &gt;= 400 ? con.getErrorStream() : con.getInputStream();\n        BufferedReader in = new BufferedReader(new InputStreamReader(ins))) {\n        // receive response\n    }\n}\n</code></pre>\n\n<p><code>() -&gt; con.disconnect()</code> is a lambda expression which execute <code>con.disconnect()</code> at finally stage of the try statement.</p>\n"},{"tags":[],"owner":{"account_id":15075401,"reputation":87,"user_id":10879673,"display_name":"Shrikant Arbat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686047203,"creation_date":1686047203,"answer_id":76413687,"question_id":40123124,"body_markdown":"HttpURLConnection does not implement the AutoCloseable interface in Java 8 or later versions.\r\nSince HttpURLConnection does not implement AutoCloseable, you cannot use it directly in a try-with-resources block. However, you can create a wrapper class that implements AutoCloseable and encapsulates the HttpURLConnection object, and then use the wrapper class in a try-with-resources block.\r\n\r\n[Click here to check further details][1]\r\n\r\n\r\n  [1]: https://ctcsinfo.blogspot.com/2023/05/right-way-to-close-httpsurlconnetion.html","title":"Java Post Connection Using Try with Resources","body":"<p>HttpURLConnection does not implement the AutoCloseable interface in Java 8 or later versions.\nSince HttpURLConnection does not implement AutoCloseable, you cannot use it directly in a try-with-resources block. However, you can create a wrapper class that implements AutoCloseable and encapsulates the HttpURLConnection object, and then use the wrapper class in a try-with-resources block.</p>\n<p><a href=\"https://ctcsinfo.blogspot.com/2023/05/right-way-to-close-httpsurlconnetion.html\" rel=\"nofollow noreferrer\">Click here to check further details</a></p>\n"}],"owner":{"account_id":6676441,"reputation":979,"user_id":5150898,"accept_rate":75,"display_name":"Chinmay jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11519,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686047203,"creation_date":1476855920,"question_id":40123124,"body_markdown":"I want to implement the code for handling POST requests using try with resources.\r\n\r\nFollowing is my code:\r\n \r\n\r\n    public static String sendPostRequestDummy(String url, String queryString) {\r\n\t\tlog.info(&quot;Sending &#39;POST&#39; request to URL : &quot; + url);\r\n\t\tlog.info(&quot;Data : &quot; + queryString);\r\n\t\tBufferedReader in = null;\r\n\t\tHttpURLConnection con = null;\r\n\t\tStringBuilder response = new StringBuilder();\r\n\t\ttry{\r\n\t\t\tURL obj = new URL(url);\r\n\t\t\tcon = (HttpURLConnection) obj.openConnection();\r\n\t\t\t// add request header\r\n\t\t\tcon.setRequestMethod(&quot;POST&quot;);\r\n\t\t\tcon.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n\t\t\tcon.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.5&quot;);\r\n\t\t\tcon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t\t\t// Send post request\r\n\t\t\tcon.setDoOutput(true);\r\n\t\t\tDataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n\t\t\twr.writeBytes(queryString);\r\n\t\t\twr.flush();\r\n\t\t\twr.close();\r\n\t\t\tint responseCode = con.getResponseCode();\r\n\t\t\tlog.info(&quot;Response Code : &quot; + responseCode);\r\n\t\t\tif (responseCode &gt;= 400)\r\n\t\t\t\tin = new BufferedReader(new InputStreamReader(con.getErrorStream()));\r\n\t\t\telse \r\n\t\t\t\tin = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n\r\n\t\t\tString inputLine;\r\n\r\n\t\t\twhile ((inputLine = in.readLine()) != null) {\r\n\t\t\t\tresponse.append(inputLine);\r\n\t\t\t}\r\n\t\t}catch(Exception e){\r\n\t\t\tlog.error(e.getMessage(), e);\r\n\t\t\tlog.error(&quot;Error during posting request&quot;);\r\n\t\t}\r\n\t\tfinally{\r\n\t\t\tcloseConnectionNoException(in,con);\r\n\t\t}\r\n\t\treturn response.toString();\r\n\t}\r\n\r\n\r\nI have the following concerns for the code:\r\n\r\n 1. How to introduce conditional statements in try with resources for the above scenario?\r\n 2. Is there a way to pass on the connection in try with resources? (It can be done using nested try-catch blocks since URL and HTTPConnection is not AutoCloseable, which itself is not a compliant solution)\r\n 3. Is using try with resources for the above problem is a better approach?","title":"Java Post Connection Using Try with Resources","body":"<p>I want to implement the code for handling POST requests using try with resources.</p>\n\n<p>Following is my code:</p>\n\n<pre><code>public static String sendPostRequestDummy(String url, String queryString) {\n    log.info(\"Sending 'POST' request to URL : \" + url);\n    log.info(\"Data : \" + queryString);\n    BufferedReader in = null;\n    HttpURLConnection con = null;\n    StringBuilder response = new StringBuilder();\n    try{\n        URL obj = new URL(url);\n        con = (HttpURLConnection) obj.openConnection();\n        // add request header\n        con.setRequestMethod(\"POST\");\n        con.setRequestProperty(\"User-Agent\", \"Mozilla/5.0\");\n        con.setRequestProperty(\"Accept-Language\", \"en-US,en;q=0.5\");\n        con.setRequestProperty(\"Content-Type\", \"application/json\");\n        // Send post request\n        con.setDoOutput(true);\n        DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n        wr.writeBytes(queryString);\n        wr.flush();\n        wr.close();\n        int responseCode = con.getResponseCode();\n        log.info(\"Response Code : \" + responseCode);\n        if (responseCode &gt;= 400)\n            in = new BufferedReader(new InputStreamReader(con.getErrorStream()));\n        else \n            in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n\n        String inputLine;\n\n        while ((inputLine = in.readLine()) != null) {\n            response.append(inputLine);\n        }\n    }catch(Exception e){\n        log.error(e.getMessage(), e);\n        log.error(\"Error during posting request\");\n    }\n    finally{\n        closeConnectionNoException(in,con);\n    }\n    return response.toString();\n}\n</code></pre>\n\n<p>I have the following concerns for the code:</p>\n\n<ol>\n<li>How to introduce conditional statements in try with resources for the above scenario?</li>\n<li>Is there a way to pass on the connection in try with resources? (It can be done using nested try-catch blocks since URL and HTTPConnection is not AutoCloseable, which itself is not a compliant solution)</li>\n<li>Is using try with resources for the above problem is a better approach?</li>\n</ol>\n"},{"tags":["java","android","dual-sim"],"comments":[{"owner":{"account_id":316371,"reputation":9541,"user_id":632516,"accept_rate":74,"display_name":"Divers"},"score":0,"creation_date":1488363804,"post_id":42528702,"comment_id":72193999,"body_markdown":"Not sure, but seems they added only possibility to check which SIM active and if it in roaming and so on. There is even explanation for what it useful `This information is useful for developers who want to throttle their apps&#39; data access down or off for device users who are sensitive to data access charges`. [Link](https://developer.android.com/about/versions/android-5.1.html)","body":"Not sure, but seems they added only possibility to check which SIM active and if it in roaming and so on. There is even explanation for what it useful <code>This information is useful for developers who want to throttle their apps&#39; data access down or off for device users who are sensitive to data access charges</code>. <a href=\"https://developer.android.com/about/versions/android-5.1.html\" rel=\"nofollow noreferrer\">Link</a>"},{"owner":{"account_id":4329533,"reputation":3389,"user_id":3535408,"accept_rate":24,"display_name":"Mackovich"},"score":0,"creation_date":1488364384,"post_id":42528702,"comment_id":72194403,"body_markdown":"Yes I read that. Its very slim. How does application such as this one (https://play.google.com/store/apps/details?id=pt.joaormf.mtkcontrol.free&amp;hl=en&amp;rdid=pt.joaormf.mtkcontrol.free) work ?","body":"Yes I read that. Its very slim. How does application such as this one (<a href=\"https://play.google.com/store/apps/details?id=pt.joaormf.mtkcontrol.free&amp;hl=en&amp;rdid=pt.joaormf.mtkcontrol.free\" rel=\"nofollow noreferrer\">play.google.com/store/apps/&hellip;</a>) work ?"},{"owner":{"account_id":316371,"reputation":9541,"user_id":632516,"accept_rate":74,"display_name":"Divers"},"score":0,"creation_date":1488364539,"post_id":42528702,"comment_id":72194533,"body_markdown":"Probably they just use API of phone manufacture? Because `Requires Android 4.0 and up`.","body":"Probably they just use API of phone manufacture? Because <code>Requires Android 4.0 and up</code>."},{"owner":{"account_id":4329533,"reputation":3389,"user_id":3535408,"accept_rate":24,"display_name":"Mackovich"},"score":0,"creation_date":1488364892,"post_id":42528702,"comment_id":72194776,"body_markdown":"What about pure Android ? As in Google would release a Nexus (or Pixel) with dual sim slots. It must mean there is some internal API, right ? If it is the case, I can definitely do some reflections. Furthermore, dual sim Android phones is not a recent thing. Sure, &quot;back in the days&quot;, each manufacturer would&#39;ve developed their own solution same as for Bluetooth LE (HTC, Samsung, Motorola own SDks) before Google standardized it in 4.3. So today, it ought to be standardized as well if there is some basic support for dual SIM? Like knowing which one is roaming: there&#39;s definitely something here...","body":"What about pure Android ? As in Google would release a Nexus (or Pixel) with dual sim slots. It must mean there is some internal API, right ? If it is the case, I can definitely do some reflections. Furthermore, dual sim Android phones is not a recent thing. Sure, &quot;back in the days&quot;, each manufacturer would&#39;ve developed their own solution same as for Bluetooth LE (HTC, Samsung, Motorola own SDks) before Google standardized it in 4.3. So today, it ought to be standardized as well if there is some basic support for dual SIM? Like knowing which one is roaming: there&#39;s definitely something here..."},{"owner":{"account_id":316371,"reputation":9541,"user_id":632516,"accept_rate":74,"display_name":"Divers"},"score":0,"creation_date":1488365110,"post_id":42528702,"comment_id":72194925,"body_markdown":"When they will standardize it - they will publish info about that. Till that moment - I didn&#39;t see that information.","body":"When they will standardize it - they will publish info about that. Till that moment - I didn&#39;t see that information."}],"answers":[{"tags":[],"owner":{"account_id":25811517,"reputation":11,"user_id":19552208,"display_name":"Julio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658340001,"creation_date":1658340001,"answer_id":73056251,"question_id":42528702,"body_markdown":"The solution I found for Android 7.1.1 API 25 is using SubscriptionManager and reflection api.\r\n\r\nNote that you have to install your app in /system/priv-app/\r\n\r\nYou can do this through adb root.\r\n\r\nMake sure you have in your AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_PHONE_STATE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_APN_SETTINGS&quot;/&gt;\r\n\r\nThe code is the following\r\n\r\nThe only thing this code does is exchange the sim data\r\n\r\n\r\n    private Integer subActual = null;\r\n    private Integer sim1 = null;\r\n    private Integer sim2 = null;\r\n    private SubscriptionInfo simInfo1;\r\n    private SubscriptionInfo simInfo2;\r\n    private Boolean dualSim;\r\n\r\n    SubscriptionManager subscriptionManager = SubscriptionManager.from(this);\r\n\r\n        @SuppressLint(&quot;MissingPermission&quot;)\r\n        List smList = subscriptionManager.getActiveSubscriptionInfoList();\r\n\r\n        Method[] smMethods = subscriptionManager.getClass().getMethods();\r\n\r\n        dualSim = smList.size() == 2;\r\n\r\n        if (dualSim) {\r\n            simInfo1 = (SubscriptionInfo) smList.get(0);\r\n            simInfo2 = (SubscriptionInfo) smList.get(1);\r\n            sim1 = simInfo1.getSubscriptionId();\r\n            sim2 = simInfo2.getSubscriptionId();\r\n        }\r\n\r\n        for (Method m : smMethods) {\r\n            if (m.getName().equals((&quot;getDefaultDataSubscriptionId&quot;))) {\r\n                try {\r\n                    subActual = (int) m.invoke(subscriptionManager);\r\n                } catch (Exception e) {\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        for (Method m : smMethods) {\r\n            if (m.getName().equals(&quot;setDefaultDataSubId&quot;) &amp;&amp; dualSim) {\r\n                try {\r\n                    if (subActual == sim1) {\r\n                        m.invoke(subscriptionManager, sim2);\r\n                    }\r\n                    if (subActual == sim2) {\r\n                        m.invoke(subscriptionManager, sim1);\r\n                    }\r\n                } catch (Exception e) {\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"Android dual SIM -&gt; change network","body":"<p>The solution I found for Android 7.1.1 API 25 is using SubscriptionManager and reflection api.</p>\n<p>Note that you have to install your app in /system/priv-app/</p>\n<p>You can do this through adb root.</p>\n<p>Make sure you have in your AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MODIFY_PHONE_STATE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_APN_SETTINGS&quot;/&gt;\n</code></pre>\n<p>The code is the following</p>\n<p>The only thing this code does is exchange the sim data</p>\n<pre><code>private Integer subActual = null;\nprivate Integer sim1 = null;\nprivate Integer sim2 = null;\nprivate SubscriptionInfo simInfo1;\nprivate SubscriptionInfo simInfo2;\nprivate Boolean dualSim;\n\nSubscriptionManager subscriptionManager = SubscriptionManager.from(this);\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    List smList = subscriptionManager.getActiveSubscriptionInfoList();\n\n    Method[] smMethods = subscriptionManager.getClass().getMethods();\n\n    dualSim = smList.size() == 2;\n\n    if (dualSim) {\n        simInfo1 = (SubscriptionInfo) smList.get(0);\n        simInfo2 = (SubscriptionInfo) smList.get(1);\n        sim1 = simInfo1.getSubscriptionId();\n        sim2 = simInfo2.getSubscriptionId();\n    }\n\n    for (Method m : smMethods) {\n        if (m.getName().equals((&quot;getDefaultDataSubscriptionId&quot;))) {\n            try {\n                subActual = (int) m.invoke(subscriptionManager);\n            } catch (Exception e) {\n\n            }\n        }\n    }\n\n    for (Method m : smMethods) {\n        if (m.getName().equals(&quot;setDefaultDataSubId&quot;) &amp;&amp; dualSim) {\n            try {\n                if (subActual == sim1) {\n                    m.invoke(subscriptionManager, sim2);\n                }\n                if (subActual == sim2) {\n                    m.invoke(subscriptionManager, sim1);\n                }\n            } catch (Exception e) {\n\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4329533,"reputation":3389,"user_id":3535408,"accept_rate":24,"display_name":"Mackovich"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1553,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686047172,"creation_date":1488362724,"question_id":42528702,"body_markdown":"Starting SDK 22, Android officially support Dual-SIM and provide some documentation. \r\n\r\nI would like to know if it is possible for an app to change wich SIM should access the network. For example I have a One Plus One 3T phone running Nougat and I use two SIM cards. Going into settings, I can manually change / select which SIM card to use to access the network.\r\n\r\nIs it possible to achieve this ?\r\n\r\nThanks !","title":"Android dual SIM -&gt; change network","body":"<p>Starting SDK 22, Android officially support Dual-SIM and provide some documentation. </p>\n\n<p>I would like to know if it is possible for an app to change wich SIM should access the network. For example I have a One Plus One 3T phone running Nougat and I use two SIM cards. Going into settings, I can manually change / select which SIM card to use to access the network.</p>\n\n<p>Is it possible to achieve this ?</p>\n\n<p>Thanks !</p>\n"},{"tags":["java","arraylist","indexing","indexoutofboundsexception"],"answers":[{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352224321,"creation_date":1352209545,"answer_id":13252365,"question_id":13252269,"body_markdown":"EDIT: Java is pass-by-value. That means that if you pass the &quot;index&quot; variable to the function, the external variable won&#39;t be affected by the changes performed inside the function.\r\n\r\nSo you have to keep the index var class-scoped, like the List&lt;People&gt;...\r\n\r\n    public void nextPerson(){ \r\n        if (index&gt;=0 &amp;&amp; index&lt;thePeople.size())\r\n            System.out.println(thePeople.get(index++));\r\n        } else {\r\n            System.out.println(&quot;At the end&quot;);\r\n        }\r\n    }\r\n\r\n\r\nOR to pass it AND return it \r\n\r\n        public int nextPerson(int index){ \r\n            if (index&gt;=0 &amp;&amp; index&lt;thePeople.size())\r\n                System.out.println(thePeople.get(index++));\r\n            } else {\r\n                System.out.println(&quot;At the end&quot;);\r\n            }\r\n            return index;\r\n        }\r\n\r\n\r\nThe same would be for the previouPerson, just use `index--`;\r\n\r\nBy the way, if you keep the index in a consumer Class, outside of this object, you could get the whole List and iterate over it in the consumer class...\r\n","title":"Next in array and index out of bounds","body":"<p>EDIT: Java is pass-by-value. That means that if you pass the \"index\" variable to the function, the external variable won't be affected by the changes performed inside the function.</p>\n\n<p>So you have to keep the index var class-scoped, like the List...</p>\n\n<pre><code>public void nextPerson(){ \n    if (index&gt;=0 &amp;&amp; index&lt;thePeople.size())\n        System.out.println(thePeople.get(index++));\n    } else {\n        System.out.println(\"At the end\");\n    }\n}\n</code></pre>\n\n<p>OR to pass it AND return it </p>\n\n<pre><code>    public int nextPerson(int index){ \n        if (index&gt;=0 &amp;&amp; index&lt;thePeople.size())\n            System.out.println(thePeople.get(index++));\n        } else {\n            System.out.println(\"At the end\");\n        }\n        return index;\n    }\n</code></pre>\n\n<p>The same would be for the previouPerson, just use <code>index--</code>;</p>\n\n<p>By the way, if you keep the index in a consumer Class, outside of this object, you could get the whole List and iterate over it in the consumer class...</p>\n"},{"tags":[],"owner":{"account_id":1959582,"reputation":167,"user_id":1761624,"accept_rate":94,"display_name":"Melky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1352216809,"creation_date":1352216809,"answer_id":13254525,"question_id":13252269,"body_markdown":"I figured out that by having a local variable to keep track of Arraylist index. I was able to instead have 2 methods for handling the moving thoughtout the ArrayList. With one for the current position for outputting.\r\n\r\n    if(arrayPosition &lt; thePeople.size() - 1)","title":"Next in array and index out of bounds","body":"<p>I figured out that by having a local variable to keep track of Arraylist index. I was able to instead have 2 methods for handling the moving thoughtout the ArrayList. With one for the current position for outputting.</p>\n\n<pre><code>if(arrayPosition &lt; thePeople.size() - 1)\n</code></pre>\n"}],"owner":{"account_id":1959582,"reputation":167,"user_id":1761624,"accept_rate":94,"display_name":"Melky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13254525,"answer_count":2,"score":0,"last_activity_date":1686046630,"creation_date":1352209250,"question_id":13252269,"body_markdown":"What would be best practice and solution for checking for &quot;Index out of bounds&quot; The following solution works but feels quite hacky. Is there any better alternatives?\r\n\r\n    public void nextPerson(int index){ //Index is the current location in the arraylist\r\n        try{\r\n            System.out.println(thePeople.get(index++));\r\n        }\r\n        catch (IndexOutOfBoundsException e){\r\n            System.out.println(&quot;At the end&quot;);\r\n        }\r\n    }","title":"Next in array and index out of bounds","body":"<p>What would be best practice and solution for checking for \"Index out of bounds\" The following solution works but feels quite hacky. Is there any better alternatives?</p>\n\n<pre><code>public void nextPerson(int index){ //Index is the current location in the arraylist\n    try{\n        System.out.println(thePeople.get(index++));\n    }\n    catch (IndexOutOfBoundsException e){\n        System.out.println(\"At the end\");\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa","hibernate-criteria"],"comments":[{"owner":{"account_id":8505101,"reputation":4502,"user_id":6376955,"display_name":"Zeromus"},"score":0,"creation_date":1469002765,"post_id":38475850,"comment_id":64354563,"body_markdown":"and you need to use criteria query anyway?","body":"and you need to use criteria query anyway?"},{"owner":{"account_id":4444613,"reputation":781,"user_id":3618301,"accept_rate":56,"display_name":"ciro"},"score":0,"creation_date":1469002944,"post_id":38475850,"comment_id":64354653,"body_markdown":"I come from doctrine orm where the use of the criteria allowed to do very complex queries with minimum effort . I have to get the solution that provides the best performance .","body":"I come from doctrine orm where the use of the criteria allowed to do very complex queries with minimum effort . I have to get the solution that provides the best performance ."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":2,"creation_date":1469004264,"post_id":38475850,"comment_id":64355454,"body_markdown":"Turn on Hibernate query logging to see what happens under the hood. And just to note: 5 seconds for the JPQL query is still wickedly slow. It should be milliseconds, not seconds. And for completeness I would also post the entity class so the JPA annotations and mappings are visible.","body":"Turn on Hibernate query logging to see what happens under the hood. And just to note: 5 seconds for the JPQL query is still wickedly slow. It should be milliseconds, not seconds. And for completeness I would also post the entity class so the JPA annotations and mappings are visible."},{"owner":{"account_id":4444613,"reputation":781,"user_id":3618301,"accept_rate":56,"display_name":"ciro"},"score":0,"creation_date":1469005158,"post_id":38475850,"comment_id":64356056,"body_markdown":"ok add entity and change persistence add statistic for hibernate","body":"ok add entity and change persistence add statistic for hibernate"},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1469008541,"post_id":38475850,"comment_id":64358448,"body_markdown":"Why would anyone want to throw away vendor independence and use HIbernate Criteria when you have JPA Criteria?!","body":"Why would anyone want to throw away vendor independence and use HIbernate Criteria when you have JPA Criteria?!"},{"owner":{"account_id":4444613,"reputation":781,"user_id":3618301,"accept_rate":56,"display_name":"ciro"},"score":0,"creation_date":1469012370,"post_id":38475850,"comment_id":64360915,"body_markdown":"you suggest to use this system http://www.objectdb.com/java/jpa/query/criteria","body":"you suggest to use this system <a href=\"http://www.objectdb.com/java/jpa/query/criteria\" rel=\"nofollow noreferrer\">objectdb.com/java/jpa/query/criteria</a>"},{"owner":{"account_id":8287337,"reputation":429,"user_id":6230069,"display_name":"Andrew Kolpakov"},"score":0,"creation_date":1469013797,"post_id":38475850,"comment_id":64361864,"body_markdown":"Try to remove &#39;order by idPlant&#39; from JPA query and compare result.","body":"Try to remove &#39;order by idPlant&#39; from JPA query and compare result."},{"owner":{"account_id":4444613,"reputation":781,"user_id":3618301,"accept_rate":56,"display_name":"ciro"},"score":0,"creation_date":1469018814,"post_id":38475850,"comment_id":64365477,"body_markdown":"@Andrew same result.","body":"@Andrew same result."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1469179270,"post_id":38475850,"comment_id":64440446,"body_markdown":"The entities look very much okay. I&#39;d still be interested to see the hibernate query log to see what queries are being invoked under the hood especially when the criteria is used.","body":"The entities look very much okay. I&#39;d still be interested to see the hibernate query log to see what queries are being invoked under the hood especially when the criteria is used."}],"answers":[{"tags":[],"owner":{"account_id":4531157,"reputation":3278,"user_id":3681607,"display_name":"St&#233;phane Millien"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686045843,"creation_date":1686045843,"answer_id":76413507,"question_id":38475850,"body_markdown":"I have the same issue. Response time ~ 120 seconds with `hibernate`, 0.2 second in `SQL Developper`  \r\nI have removed in my `hibernate.cfg.xml` the following line:\r\n``` lang-xml\r\n&lt;property name=&quot;hibernate.connection.defaultNChar&quot;&gt;true&lt;/property&gt;\r\n```\r\nand the performance issue has gone.","title":"hibernate query too slow using criteria - ignored lazy loading?","body":"<p>I have the same issue. Response time ~ 120 seconds with <code>hibernate</code>, 0.2 second in <code>SQL Developper</code><br />\nI have removed in my <code>hibernate.cfg.xml</code> the following line:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;hibernate.connection.defaultNChar&quot;&gt;true&lt;/property&gt;\n</code></pre>\n<p>and the performance issue has gone.</p>\n"}],"owner":{"account_id":4444613,"reputation":781,"user_id":3618301,"accept_rate":56,"display_name":"ciro"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686045843,"creation_date":1469002429,"question_id":38475850,"body_markdown":"I&#39;ve realized a jpa + hibernate application but if I use hibernate criteria application is very slow.\r\n\r\nThe time difference is 10/20 times.\r\n\r\nif I use this\r\n\r\n\tentityManager.createQuery(&quot;SELECT u FROM PlantEntity u order by idPlant&quot;).setFirstResult(0).setMaxResults(10).getResultList();\r\n\t\r\ntime execution is about 5 seconds\r\n\r\nif I use\r\n\r\n\tSession hs = (Session) entityManager.getDelegate();\r\n    Criteria c = hs.createCriteria(PlantEntity.class,&quot;plant&quot;);\t\r\n\tc.setMaxResults(Integer.parseInt(length));\r\n    c.setFirstResult(Integer.parseInt(start));\r\n\tc.list();\r\n\t\r\ntime is about 40/50 seconds\t\r\n\r\nTable contains about 2000 records\r\n\r\nPlantEntity has relation manyToOne and OneToMany both set as lazy.\r\nWhen I execute criteria query, lazy loading is ignored and I notice, in log4j, that all relation is initialized\r\n\r\nMy persistence.xml\r\n\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; version=&quot;2.0&quot;&gt;\r\n\r\n\t\t&lt;persistence-unit name=&quot;NewPersistenceUnit&quot;&gt;\r\n\t\t\t&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\t\t\t\r\n\t\t\t&lt;class&gt;it.ciro.model.PlantEntity&lt;/class&gt;\r\n\t\t\t&lt;class&gt;it.ciro.model.SegmentEntity&lt;/class&gt;\r\n\t\t\t&lt;class&gt;it.ciro.model.PlanningEntity&lt;/class&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:postgresql://94.23.66.103:5432/db&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.username&quot; value=&quot;xxxx&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.password&quot; value=&quot;xxxxx&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.useUnicode&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.connection.characterEncoding&quot; value=&quot;UTF-8&quot; /&gt;\r\n\t&lt;property name=&quot;hibernate.generate_statistics&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;validate&quot;/&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.min_size&quot; value=&quot;5&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.max_size&quot; value=&quot;20&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.timeout&quot; value=&quot;60&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.max_statements&quot; value=&quot;50&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.idle_test_period&quot; value=&quot;90&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.preferredTestQuery&quot; value=&quot;SELECT 1&quot; /&gt;\r\n\t\t\t\t&lt;property name=&quot;hibernate.c3p0.testConnectionOnCheckout&quot; value=&quot;true&quot; /&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/persistence-unit&gt;\r\n\t&lt;/persistence&gt;\r\n\r\nhow speed up application?\r\n\r\n\r\nEntity\r\n\r\nPlantEntity\t\r\n\t\r\n\tpackage it.ciro.model;\r\n\t// Generated 13-giu-2016 12.32.01 by Hibernate Tools 5.1.0.Alpha1\r\n\r\n\timport java.util.HashSet;\r\n\timport java.util.Set;\r\n\timport javax.persistence.*;\r\n\r\n\t/**\r\n\t * PlantEntity generated by hbm2java\r\n\t */\r\n\t@Entity\r\n\t@Table(name = &quot;plant&quot;, schema = &quot;public&quot;)\r\n\tpublic class PlantEntity implements java.io.Serializable {\r\n\r\n\t\tprivate int idPlant;\r\n\t\tprivate SegmentEntity segment;\r\n\t\tprivate Integer plantTypeId;\r\n\t\tprivate String name;\r\n\t\tprivate String coordinate;\r\n\t\tprivate String nfcCode;\r\n\t\tprivate String plantCode;\r\n\t\tprivate String picture_link;\r\n\t\tprivate String attached_a;\r\n\t\tprivate String attached_b;\r\n\r\n\t\tprivate Set plannings = new HashSet(0);\r\n\r\n\t\tpublic PlantEntity() {\r\n\t\t}\r\n\r\n\t\tpublic PlantEntity(int idPlant, SegmentEntity segment) {\r\n\t\t\tthis.idPlant = idPlant;\r\n\t\t\tthis.segment = segment;\r\n\t\t}\r\n\r\n\t\tpublic PlantEntity(int idPlant, SegmentEntity segment, Integer plantTypeId, String name, String coordinate, String nfcCode,\r\n\t\t\t\t\t\t\tString plantCode, String picture_link,String attached_a,String attached_b) {\r\n\t\t\tthis.idPlant = idPlant;\r\n\t\t\tthis.segment = segment;\r\n\t\t\tthis.plantTypeId = plantTypeId;\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.coordinate = coordinate;\r\n\t\t\tthis.nfcCode = nfcCode;\r\n\t\t\tthis.plantCode = plantCode;\r\n\t\t\tthis.picture_link = picture_link;\r\n\t\t\tthis.attached_a = attached_a;\r\n\t\t\tthis.attached_b = attached_b;\r\n\t\t}\r\n\r\n\t\tpublic PlantEntity(int idPlant, SegmentEntity segment, Integer plantTypeId, String name, String coordinate, String nfcCode,\r\n\t\t\t\t\t\t   Set plannings, String plantCode, String picture_link,String attached_a,String attached_b) {\r\n\t\t\tthis.idPlant = idPlant;\r\n\t\t\tthis.segment = segment;\r\n\t\t\tthis.plantTypeId = plantTypeId;\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.coordinate = coordinate;\r\n\t\t\tthis.nfcCode = nfcCode;\r\n\t\t\tthis.plannings = plannings;\r\n\t\t\tthis.plantCode = plantCode;\r\n\t\t\tthis.picture_link = picture_link;\r\n\t\t\tthis.attached_a = attached_a;\r\n\t\t\tthis.attached_b = attached_b;\r\n\t\t}\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\t@Column(name = &quot;id_plant&quot;, unique = true, nullable = false)\r\n\t\tpublic int getIdPlant() {\r\n\t\t\treturn this.idPlant;\r\n\t\t}\r\n\r\n\t\tpublic void setIdPlant(int idPlant) {\r\n\t\t\tthis.idPlant = idPlant;\r\n\t\t}\r\n\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;segment_id&quot;, nullable = false)\r\n\t\tpublic SegmentEntity getSegment() {\r\n\t\t\treturn this.segment;\r\n\t\t}\r\n\r\n\t\tpublic void setSegment(SegmentEntity segment) {\r\n\t\t\tthis.segment = segment;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;plant_type_id&quot;)\r\n\t\tpublic Integer getPlantTypeId() {\r\n\t\t\treturn this.plantTypeId;\r\n\t\t}\r\n\r\n\t\tpublic void setPlantTypeId(Integer plantTypeId) {\r\n\t\t\tthis.plantTypeId = plantTypeId;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;name&quot;)\r\n\t\tpublic String getName() {\r\n\t\t\treturn this.name;\r\n\t\t}\r\n\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;coordinate&quot;, length = 100)\r\n\t\tpublic String getCoordinate() {\r\n\t\t\treturn this.coordinate;\r\n\t\t}\r\n\r\n\t\tpublic void setCoordinate(String coordinate) {\r\n\t\t\tthis.coordinate = coordinate;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;nfc_code&quot;)\r\n\t\tpublic String getNfcCode() {\r\n\t\t\treturn this.nfcCode;\r\n\t\t}\r\n\r\n\t\tpublic void setNfcCode(String nfcCode) {\r\n\t\t\tthis.nfcCode = nfcCode;\r\n\t\t}\r\n\r\n\r\n\t\t@Column(name = &quot;plant_code&quot;)\r\n\t\tpublic String getPlantCode() {\r\n\t\t\treturn this.plantCode;\r\n\t\t}\r\n\r\n\t\tpublic void setPlantCode(String plantCode) {\r\n\t\t\tthis.plantCode = plantCode;\r\n\t\t}\r\n\r\n\t\t@Column(name=&quot;picture&quot;)\r\n\t\tpublic String getPicture_link() {\r\n\t\t\treturn picture_link;\r\n\t\t}\r\n\r\n\t\tpublic void setPicture_link(String picture_link) {\r\n\t\t\tthis.picture_link = picture_link;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;attached_a&quot;)\r\n\t\tpublic String getAttached_a(){\r\n\t\t\treturn attached_a;\r\n\t\t}\r\n\r\n\t\tpublic void setAttached_a(String attached_a){\r\n\t\t\tthis.attached_a = attached_a;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;attached_b&quot;)\r\n\t\tpublic String getAttached_b(){\r\n\t\t\treturn attached_b;\r\n\t\t}\r\n\r\n\t\tpublic void setAttached_b(String attached_b){\r\n\t\t\tthis.attached_b = attached_b;\r\n\t\t}\r\n\r\n\t\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;plant&quot;)\r\n\t\tpublic Set&lt;PlanningEntity&gt; getPlannings() {\r\n\t\t\treturn this.plannings;\r\n\t\t}\r\n\r\n\t\tpublic void setPlannings(Set&lt;PlanningEntity&gt; plannings) {\r\n\t\t\tthis.plannings = plannings;\r\n\t\t}\r\n\r\n\t}\r\n\r\nSegmentEntity\r\n\r\n\tpackage it.ciro.model;\r\n\t// Generated 13-giu-2016 12.32.01 by Hibernate Tools 5.1.0.Alpha1\r\n\r\n\timport java.util.HashSet;\r\n\timport java.util.Set;\r\n\timport javax.persistence.*;\r\n\r\n\t/**\r\n\t * SegmentEntity generated by hbm2java\r\n\t */\r\n\t@Entity\r\n\t@Table(name = &quot;segment&quot;, schema = &quot;public&quot;)\r\n\tpublic class SegmentEntity implements java.io.Serializable {\r\n\r\n\t\tprivate int idSegment;\r\n\t\tprivate PipelineEntity pipeline;\r\n\t\tprivate String name;\r\n\t\tprivate String area;\r\n\t\tprivate String segCode;\r\n\t\tprivate String picture;\r\n\r\n\t\tprivate Set plants = new HashSet(0);\r\n\r\n\t\tpublic SegmentEntity() {\r\n\t\t}\r\n\r\n\t\tpublic SegmentEntity(int idSegment) {\r\n\t\t\tthis.idSegment = idSegment;\r\n\t\t}\r\n\r\n\t\tpublic SegmentEntity(int idSegment, PipelineEntity pipeline, String name, String area, Set plants,String segCode, String picture) {\r\n\t\t\tthis.idSegment = idSegment;\r\n\t\t\tthis.pipeline = pipeline;\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.area = area;\r\n\t\t\tthis.plants = plants;\r\n\t\t\tthis.segCode = segCode;\r\n\t\t\tthis.picture = picture;\r\n\t\t}\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\t@Column(name = &quot;id_segment&quot;, unique = true, nullable = false)\r\n\t\tpublic int getIdSegment() {\r\n\t\t\treturn this.idSegment;\r\n\t\t}\r\n\r\n\t\tpublic void setIdSegment(int idSegment) {\r\n\t\t\tthis.idSegment = idSegment;\r\n\t\t}\r\n\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;pipeline_id&quot;)\r\n\t\tpublic PipelineEntity getPipeline() {\r\n\t\t\treturn this.pipeline;\r\n\t\t}\r\n\r\n\t\tpublic void setPipeline(PipelineEntity pipeline) {\r\n\t\t\tthis.pipeline = pipeline;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;name&quot;)\r\n\t\tpublic String getName() {\r\n\t\t\treturn this.name;\r\n\t\t}\r\n\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;area&quot;)\r\n\t\tpublic String getArea() {\r\n\t\t\treturn this.area;\r\n\t\t}\r\n\r\n\t\tpublic void setArea(String area) {\r\n\t\t\tthis.area = area;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;seg_code&quot;)\r\n\t\tpublic String getSegCode() {\r\n\t\t\treturn this.segCode;\r\n\t\t}\r\n\r\n\t\tpublic void setSegCode(String segCode) {\r\n\t\t\tthis.segCode = segCode;\r\n\t\t}\r\n\r\n\r\n\t\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;segment&quot;)\r\n\t\tpublic Set&lt;PlantEntity&gt; getPlants() {\r\n\t\t\treturn this.plants;\r\n\t\t}\r\n\r\n\t\tpublic void setPlants(Set&lt;PlantEntity&gt; plants) {\r\n\t\t\tthis.plants = plants;\r\n\t\t}\r\n\r\n\t\t@Column(name=&quot;picture&quot;)\r\n\t\tpublic String getPicture() {\r\n\t\t\treturn picture;\r\n\t\t}\r\n\r\n\t\tpublic void setPicture(String picture) {\r\n\t\t\tthis.picture = picture;\r\n\t\t}\r\n\t}\r\n\r\nPlanningEntity\r\n\r\n\tpackage it.ciro.model;\r\n\t// Generated 17-giu-2016 9.26.25 by Hibernate Tools 5.1.0.Alpha1\r\n\r\n\timport java.util.Date;\r\n\timport java.util.HashSet;\r\n\timport java.util.Set;\r\n\timport javax.persistence.*;\r\n\r\n\t/**\r\n\t * Planning generated by hbm2java\r\n\t */\r\n\t@Entity\r\n\t@Table(name = &quot;planning&quot;, schema = &quot;public&quot;)\r\n\tpublic class PlanningEntity implements java.io.Serializable {\r\n\r\n\t\tprivate int idPlanning;\r\n\t\tprivate PlanningEntity planning;\r\n\t\tprivate PlantEntity plant;\r\n\t\tprivate ServiceEntity service;\r\n\t\tprivate UserEntity user;\r\n\t\tprivate Date schedulingData;\r\n\t\tprivate Date completationData;\r\n\t\tprivate Integer result;\r\n\t\tprivate Integer status;\r\n\r\n\r\n\r\n\t\tprivate String planningType;\r\n\t\tprivate Set plannings = new HashSet(0);\r\n\t\tprivate Set planningDetails = new HashSet(0);\r\n\r\n\t\tpublic PlanningEntity() {\r\n\t\t}\r\n\r\n\t\tpublic PlanningEntity(int idPlanning, PlantEntity plant, ServiceEntity service, UserEntity user, Date schedulingData) {\r\n\t\t\tthis.idPlanning = idPlanning;\r\n\t\t\tthis.plant = plant;\r\n\t\t\tthis.service = service;\r\n\t\t\tthis.user = user;\r\n\t\t\tthis.schedulingData = schedulingData;\r\n\t\t}\r\n\r\n\t\tpublic PlanningEntity(int idPlanning, PlanningEntity planning, PlantEntity plant, ServiceEntity service, UserEntity user, Date schedulingData,\r\n\t\t\t\tDate completationData, Integer result, Integer status, Set plannings, Set planningDetails) {\r\n\t\t\tthis.idPlanning = idPlanning;\r\n\t\t\tthis.planning = planning;\r\n\t\t\tthis.plant = plant;\r\n\t\t\tthis.service = service;\r\n\t\t\tthis.user = user;\r\n\t\t\tthis.schedulingData = schedulingData;\r\n\t\t\tthis.completationData = completationData;\r\n\t\t\tthis.result = result;\r\n\t\t\tthis.status = status;\r\n\t\t\tthis.plannings = plannings;\r\n\t\t\tthis.planningDetails = planningDetails;\r\n\t\t}\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\t@Column(name = &quot;id_planning&quot;, unique = true, nullable = false)\r\n\t\tpublic int getIdPlanning() {\r\n\t\t\treturn this.idPlanning;\r\n\t\t}\r\n\r\n\t\tpublic void setIdPlanning(int idPlanning) {\r\n\t\t\tthis.idPlanning = idPlanning;\r\n\t\t}\r\n\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;parent_planning&quot;)\r\n\t\tpublic PlanningEntity getPlanning() {\r\n\t\t\treturn this.planning;\r\n\t\t}\r\n\r\n\t\tpublic void setPlanning(PlanningEntity planning) {\r\n\t\t\tthis.planning = planning;\r\n\t\t}\r\n\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;plant_id&quot;, nullable = false)\r\n\t\tpublic PlantEntity getPlant() {\r\n\t\t\treturn this.plant;\r\n\t\t}\r\n\r\n\t\tpublic void setPlant(PlantEntity plant) {\r\n\t\t\tthis.plant = plant;\r\n\t\t}\r\n\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;service_id&quot;, nullable = false)\r\n\t\tpublic ServiceEntity getService() {\r\n\t\t\treturn this.service;\r\n\t\t}\r\n\r\n\t\tpublic void setService(ServiceEntity service) {\r\n\t\t\tthis.service = service;\r\n\t\t}\r\n\r\n\t\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n\t\tpublic UserEntity getUser() {\r\n\t\t\treturn this.user;\r\n\t\t}\r\n\r\n\t\tpublic void setUser(UserEntity user) {\r\n\t\t\tthis.user = user;\r\n\t\t}\r\n\r\n\t\t@Temporal(TemporalType.DATE)\r\n\t\t@Column(name = &quot;scheduling_data&quot;, nullable = false, length = 13)\r\n\t\tpublic Date getSchedulingData() {\r\n\t\t\treturn this.schedulingData;\r\n\t\t}\r\n\r\n\t\tpublic void setSchedulingData(Date schedulingData) {\r\n\t\t\tthis.schedulingData = schedulingData;\r\n\t\t}\r\n\r\n\t\t@Temporal(TemporalType.TIMESTAMP)\r\n\t\t@Column(name = &quot;completation_data&quot;, length = 29)\r\n\t\tpublic Date getCompletationData() {\r\n\t\t\treturn this.completationData;\r\n\t\t}\r\n\r\n\t\tpublic void setCompletationData(Date completationData) {\r\n\t\t\tthis.completationData = completationData;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;result&quot;)\r\n\t\tpublic Integer getResult() {\r\n\t\t\treturn this.result;\r\n\t\t}\r\n\r\n\t\tpublic void setResult(Integer result) {\r\n\t\t\tthis.result = result;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;status&quot;)\r\n\t\tpublic Integer getStatus() {\r\n\t\t\treturn this.status;\r\n\t\t}\r\n\r\n\t\tpublic void setStatus(Integer status) {\r\n\t\t\tthis.status = status;\r\n\t\t}\r\n\r\n\t\t@Column(name = &quot;planning_type&quot;)\r\n\t\tpublic String getPlanningType() {\r\n\t\t\treturn planningType;\r\n\t\t}\r\n\r\n\t\tpublic void setPlanningType(String planningType) {\r\n\t\t\tthis.planningType = planningType;\r\n\t\t}\r\n\r\n\t\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;planning&quot;)\r\n\t\tpublic Set&lt;PlanningEntity&gt; getPlannings() {\r\n\t\t\treturn this.plannings;\r\n\t\t}\r\n\r\n\t\tpublic void setPlannings(Set&lt;PlanningEntity&gt; plannings) {\r\n\t\t\tthis.plannings = plannings;\r\n\t\t}\r\n\r\n\t\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;planning&quot;)\r\n\t\t@OrderBy(&quot;idPlanningDetail&quot;)\r\n\t\tpublic Set&lt;PlanningDetailEntity&gt; getPlanningDetails() {\r\n\t\t\treturn this.planningDetails;\r\n\t\t}\r\n\r\n\t\tpublic void setPlanningDetails(Set&lt;PlanningDetailEntity&gt; planningDetails) {\r\n\t\t\tthis.planningDetails = planningDetails;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\t\r\n\t\r\n\r\n\r\n","title":"hibernate query too slow using criteria - ignored lazy loading?","body":"<p>I've realized a jpa + hibernate application but if I use hibernate criteria application is very slow.</p>\n\n<p>The time difference is 10/20 times.</p>\n\n<p>if I use this</p>\n\n<pre><code>entityManager.createQuery(\"SELECT u FROM PlantEntity u order by idPlant\").setFirstResult(0).setMaxResults(10).getResultList();\n</code></pre>\n\n<p>time execution is about 5 seconds</p>\n\n<p>if I use</p>\n\n<pre><code>Session hs = (Session) entityManager.getDelegate();\nCriteria c = hs.createCriteria(PlantEntity.class,\"plant\");  \nc.setMaxResults(Integer.parseInt(length));\nc.setFirstResult(Integer.parseInt(start));\nc.list();\n</code></pre>\n\n<p>time is about 40/50 seconds </p>\n\n<p>Table contains about 2000 records</p>\n\n<p>PlantEntity has relation manyToOne and OneToMany both set as lazy.\nWhen I execute criteria query, lazy loading is ignored and I notice, in log4j, that all relation is initialized</p>\n\n<p>My persistence.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\" version=\"2.0\"&gt;\n\n    &lt;persistence-unit name=\"NewPersistenceUnit\"&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n\n        &lt;class&gt;it.ciro.model.PlantEntity&lt;/class&gt;\n        &lt;class&gt;it.ciro.model.SegmentEntity&lt;/class&gt;\n        &lt;class&gt;it.ciro.model.PlanningEntity&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.connection.url\" value=\"jdbc:postgresql://94.23.66.103:5432/db\"/&gt;\n            &lt;property name=\"hibernate.connection.driver_class\" value=\"org.postgresql.Driver\"/&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"xxxx\"/&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"xxxxx\"/&gt;\n            &lt;property name=\"hibernate.archive.autodetection\" value=\"class\"/&gt;\n            &lt;property name=\"hibernate.format_sql\" value=\"true\"/&gt;\n            &lt;property name=\"hibernate.connection.useUnicode\" value=\"true\" /&gt;\n            &lt;property name=\"hibernate.connection.characterEncoding\" value=\"UTF-8\" /&gt;\n&lt;property name=\"hibernate.generate_statistics\" value=\"true\"/&gt;\n            &lt;property name=\"hbm2ddl.auto\" value=\"validate\"/&gt;\n            &lt;property name=\"hibernate.c3p0.min_size\" value=\"5\" /&gt;\n            &lt;property name=\"hibernate.c3p0.max_size\" value=\"20\" /&gt;\n            &lt;property name=\"hibernate.c3p0.timeout\" value=\"60\" /&gt;\n            &lt;property name=\"hibernate.c3p0.max_statements\" value=\"50\" /&gt;\n            &lt;property name=\"hibernate.c3p0.idle_test_period\" value=\"90\" /&gt;\n            &lt;property name=\"hibernate.c3p0.preferredTestQuery\" value=\"SELECT 1\" /&gt;\n            &lt;property name=\"hibernate.c3p0.testConnectionOnCheckout\" value=\"true\" /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<p>how speed up application?</p>\n\n<p>Entity</p>\n\n<p>PlantEntity </p>\n\n<pre><code>package it.ciro.model;\n// Generated 13-giu-2016 12.32.01 by Hibernate Tools 5.1.0.Alpha1\n\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.persistence.*;\n\n/**\n * PlantEntity generated by hbm2java\n */\n@Entity\n@Table(name = \"plant\", schema = \"public\")\npublic class PlantEntity implements java.io.Serializable {\n\n    private int idPlant;\n    private SegmentEntity segment;\n    private Integer plantTypeId;\n    private String name;\n    private String coordinate;\n    private String nfcCode;\n    private String plantCode;\n    private String picture_link;\n    private String attached_a;\n    private String attached_b;\n\n    private Set plannings = new HashSet(0);\n\n    public PlantEntity() {\n    }\n\n    public PlantEntity(int idPlant, SegmentEntity segment) {\n        this.idPlant = idPlant;\n        this.segment = segment;\n    }\n\n    public PlantEntity(int idPlant, SegmentEntity segment, Integer plantTypeId, String name, String coordinate, String nfcCode,\n                        String plantCode, String picture_link,String attached_a,String attached_b) {\n        this.idPlant = idPlant;\n        this.segment = segment;\n        this.plantTypeId = plantTypeId;\n        this.name = name;\n        this.coordinate = coordinate;\n        this.nfcCode = nfcCode;\n        this.plantCode = plantCode;\n        this.picture_link = picture_link;\n        this.attached_a = attached_a;\n        this.attached_b = attached_b;\n    }\n\n    public PlantEntity(int idPlant, SegmentEntity segment, Integer plantTypeId, String name, String coordinate, String nfcCode,\n                       Set plannings, String plantCode, String picture_link,String attached_a,String attached_b) {\n        this.idPlant = idPlant;\n        this.segment = segment;\n        this.plantTypeId = plantTypeId;\n        this.name = name;\n        this.coordinate = coordinate;\n        this.nfcCode = nfcCode;\n        this.plannings = plannings;\n        this.plantCode = plantCode;\n        this.picture_link = picture_link;\n        this.attached_a = attached_a;\n        this.attached_b = attached_b;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id_plant\", unique = true, nullable = false)\n    public int getIdPlant() {\n        return this.idPlant;\n    }\n\n    public void setIdPlant(int idPlant) {\n        this.idPlant = idPlant;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"segment_id\", nullable = false)\n    public SegmentEntity getSegment() {\n        return this.segment;\n    }\n\n    public void setSegment(SegmentEntity segment) {\n        this.segment = segment;\n    }\n\n    @Column(name = \"plant_type_id\")\n    public Integer getPlantTypeId() {\n        return this.plantTypeId;\n    }\n\n    public void setPlantTypeId(Integer plantTypeId) {\n        this.plantTypeId = plantTypeId;\n    }\n\n    @Column(name = \"name\")\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Column(name = \"coordinate\", length = 100)\n    public String getCoordinate() {\n        return this.coordinate;\n    }\n\n    public void setCoordinate(String coordinate) {\n        this.coordinate = coordinate;\n    }\n\n    @Column(name = \"nfc_code\")\n    public String getNfcCode() {\n        return this.nfcCode;\n    }\n\n    public void setNfcCode(String nfcCode) {\n        this.nfcCode = nfcCode;\n    }\n\n\n    @Column(name = \"plant_code\")\n    public String getPlantCode() {\n        return this.plantCode;\n    }\n\n    public void setPlantCode(String plantCode) {\n        this.plantCode = plantCode;\n    }\n\n    @Column(name=\"picture\")\n    public String getPicture_link() {\n        return picture_link;\n    }\n\n    public void setPicture_link(String picture_link) {\n        this.picture_link = picture_link;\n    }\n\n    @Column(name = \"attached_a\")\n    public String getAttached_a(){\n        return attached_a;\n    }\n\n    public void setAttached_a(String attached_a){\n        this.attached_a = attached_a;\n    }\n\n    @Column(name = \"attached_b\")\n    public String getAttached_b(){\n        return attached_b;\n    }\n\n    public void setAttached_b(String attached_b){\n        this.attached_b = attached_b;\n    }\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = \"plant\")\n    public Set&lt;PlanningEntity&gt; getPlannings() {\n        return this.plannings;\n    }\n\n    public void setPlannings(Set&lt;PlanningEntity&gt; plannings) {\n        this.plannings = plannings;\n    }\n\n}\n</code></pre>\n\n<p>SegmentEntity</p>\n\n<pre><code>package it.ciro.model;\n// Generated 13-giu-2016 12.32.01 by Hibernate Tools 5.1.0.Alpha1\n\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.persistence.*;\n\n/**\n * SegmentEntity generated by hbm2java\n */\n@Entity\n@Table(name = \"segment\", schema = \"public\")\npublic class SegmentEntity implements java.io.Serializable {\n\n    private int idSegment;\n    private PipelineEntity pipeline;\n    private String name;\n    private String area;\n    private String segCode;\n    private String picture;\n\n    private Set plants = new HashSet(0);\n\n    public SegmentEntity() {\n    }\n\n    public SegmentEntity(int idSegment) {\n        this.idSegment = idSegment;\n    }\n\n    public SegmentEntity(int idSegment, PipelineEntity pipeline, String name, String area, Set plants,String segCode, String picture) {\n        this.idSegment = idSegment;\n        this.pipeline = pipeline;\n        this.name = name;\n        this.area = area;\n        this.plants = plants;\n        this.segCode = segCode;\n        this.picture = picture;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id_segment\", unique = true, nullable = false)\n    public int getIdSegment() {\n        return this.idSegment;\n    }\n\n    public void setIdSegment(int idSegment) {\n        this.idSegment = idSegment;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"pipeline_id\")\n    public PipelineEntity getPipeline() {\n        return this.pipeline;\n    }\n\n    public void setPipeline(PipelineEntity pipeline) {\n        this.pipeline = pipeline;\n    }\n\n    @Column(name = \"name\")\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Column(name = \"area\")\n    public String getArea() {\n        return this.area;\n    }\n\n    public void setArea(String area) {\n        this.area = area;\n    }\n\n    @Column(name = \"seg_code\")\n    public String getSegCode() {\n        return this.segCode;\n    }\n\n    public void setSegCode(String segCode) {\n        this.segCode = segCode;\n    }\n\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = \"segment\")\n    public Set&lt;PlantEntity&gt; getPlants() {\n        return this.plants;\n    }\n\n    public void setPlants(Set&lt;PlantEntity&gt; plants) {\n        this.plants = plants;\n    }\n\n    @Column(name=\"picture\")\n    public String getPicture() {\n        return picture;\n    }\n\n    public void setPicture(String picture) {\n        this.picture = picture;\n    }\n}\n</code></pre>\n\n<p>PlanningEntity</p>\n\n<pre><code>package it.ciro.model;\n// Generated 17-giu-2016 9.26.25 by Hibernate Tools 5.1.0.Alpha1\n\nimport java.util.Date;\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.persistence.*;\n\n/**\n * Planning generated by hbm2java\n */\n@Entity\n@Table(name = \"planning\", schema = \"public\")\npublic class PlanningEntity implements java.io.Serializable {\n\n    private int idPlanning;\n    private PlanningEntity planning;\n    private PlantEntity plant;\n    private ServiceEntity service;\n    private UserEntity user;\n    private Date schedulingData;\n    private Date completationData;\n    private Integer result;\n    private Integer status;\n\n\n\n    private String planningType;\n    private Set plannings = new HashSet(0);\n    private Set planningDetails = new HashSet(0);\n\n    public PlanningEntity() {\n    }\n\n    public PlanningEntity(int idPlanning, PlantEntity plant, ServiceEntity service, UserEntity user, Date schedulingData) {\n        this.idPlanning = idPlanning;\n        this.plant = plant;\n        this.service = service;\n        this.user = user;\n        this.schedulingData = schedulingData;\n    }\n\n    public PlanningEntity(int idPlanning, PlanningEntity planning, PlantEntity plant, ServiceEntity service, UserEntity user, Date schedulingData,\n            Date completationData, Integer result, Integer status, Set plannings, Set planningDetails) {\n        this.idPlanning = idPlanning;\n        this.planning = planning;\n        this.plant = plant;\n        this.service = service;\n        this.user = user;\n        this.schedulingData = schedulingData;\n        this.completationData = completationData;\n        this.result = result;\n        this.status = status;\n        this.plannings = plannings;\n        this.planningDetails = planningDetails;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id_planning\", unique = true, nullable = false)\n    public int getIdPlanning() {\n        return this.idPlanning;\n    }\n\n    public void setIdPlanning(int idPlanning) {\n        this.idPlanning = idPlanning;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"parent_planning\")\n    public PlanningEntity getPlanning() {\n        return this.planning;\n    }\n\n    public void setPlanning(PlanningEntity planning) {\n        this.planning = planning;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"plant_id\", nullable = false)\n    public PlantEntity getPlant() {\n        return this.plant;\n    }\n\n    public void setPlant(PlantEntity plant) {\n        this.plant = plant;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"service_id\", nullable = false)\n    public ServiceEntity getService() {\n        return this.service;\n    }\n\n    public void setService(ServiceEntity service) {\n        this.service = service;\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"user_id\", nullable = false)\n    public UserEntity getUser() {\n        return this.user;\n    }\n\n    public void setUser(UserEntity user) {\n        this.user = user;\n    }\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = \"scheduling_data\", nullable = false, length = 13)\n    public Date getSchedulingData() {\n        return this.schedulingData;\n    }\n\n    public void setSchedulingData(Date schedulingData) {\n        this.schedulingData = schedulingData;\n    }\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = \"completation_data\", length = 29)\n    public Date getCompletationData() {\n        return this.completationData;\n    }\n\n    public void setCompletationData(Date completationData) {\n        this.completationData = completationData;\n    }\n\n    @Column(name = \"result\")\n    public Integer getResult() {\n        return this.result;\n    }\n\n    public void setResult(Integer result) {\n        this.result = result;\n    }\n\n    @Column(name = \"status\")\n    public Integer getStatus() {\n        return this.status;\n    }\n\n    public void setStatus(Integer status) {\n        this.status = status;\n    }\n\n    @Column(name = \"planning_type\")\n    public String getPlanningType() {\n        return planningType;\n    }\n\n    public void setPlanningType(String planningType) {\n        this.planningType = planningType;\n    }\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = \"planning\")\n    public Set&lt;PlanningEntity&gt; getPlannings() {\n        return this.plannings;\n    }\n\n    public void setPlannings(Set&lt;PlanningEntity&gt; plannings) {\n        this.plannings = plannings;\n    }\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = \"planning\")\n    @OrderBy(\"idPlanningDetail\")\n    public Set&lt;PlanningDetailEntity&gt; getPlanningDetails() {\n        return this.planningDetails;\n    }\n\n    public void setPlanningDetails(Set&lt;PlanningDetailEntity&gt; planningDetails) {\n        this.planningDetails = planningDetails;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","multi-module"],"answers":[{"tags":[],"owner":{"account_id":53345,"reputation":374,"user_id":159460,"display_name":"mckulpa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686045453,"creation_date":1686044581,"answer_id":76413331,"question_id":76403101,"body_markdown":"Your 404 Not Found error comes solely from your Controller not being picked up because of custom ComponentScan annotation on SpringBootApplication but let me raise a few more points:\r\n\r\n1. You should not commit `.gradle`, `.idea`, `build`, etc. directories to Git. Create a `.gitignore` file to ignore them - you have one but its inside `task-service`, you should have one in root directory ideally (but you can have more specific to some particular sub-projects)\r\n2. You have 2 gradle wrappers (in root and task-service) - the one in task-service should be removed\r\n3. I don’t think you need `task-service/settings.gradle` file as well. I realise you probably started with a single-module project and turned it into a multi-module one.\r\n4. You are making `ComponentScan` and `EntityScan` on `com.nyuro.domain` but you have no classes in this package (domain classes are in `module` package), most importantly `@SpringBootApplication` already does component scan on the package it is located in. You should remove `@ComponentScan(“com.nyuro.domain”)` as it prevents you Controller which is not under that package from being picked up by Spring (SpringBootApplication is in `com.nyuro.taskservice` and controller in `com.nyuro.taskservice.controllers` so the default component scan will pick it up as its a sub-package). If you want to scan additional packages you will have to add `task-service` package as well - `@ComponentScan({&quot;com.nyuro.domain&quot;, &quot;com.nyuro.taskservice&quot;})`.\r\n5. You database setup is not working for me, I had to remove it to make this app start ","title":"Multimodule gradle project I get Error: Not Found (Spring with module dependency)","body":"<p>Your 404 Not Found error comes solely from your Controller not being picked up because of custom ComponentScan annotation on SpringBootApplication but let me raise a few more points:</p>\n<ol>\n<li>You should not commit <code>.gradle</code>, <code>.idea</code>, <code>build</code>, etc. directories to Git. Create a <code>.gitignore</code> file to ignore them - you have one but its inside <code>task-service</code>, you should have one in root directory ideally (but you can have more specific to some particular sub-projects)</li>\n<li>You have 2 gradle wrappers (in root and task-service) - the one in task-service should be removed</li>\n<li>I don’t think you need <code>task-service/settings.gradle</code> file as well. I realise you probably started with a single-module project and turned it into a multi-module one.</li>\n<li>You are making <code>ComponentScan</code> and <code>EntityScan</code> on <code>com.nyuro.domain</code> but you have no classes in this package (domain classes are in <code>module</code> package), most importantly <code>@SpringBootApplication</code> already does component scan on the package it is located in. You should remove <code>@ComponentScan(“com.nyuro.domain”)</code> as it prevents you Controller which is not under that package from being picked up by Spring (SpringBootApplication is in <code>com.nyuro.taskservice</code> and controller in <code>com.nyuro.taskservice.controllers</code> so the default component scan will pick it up as its a sub-package). If you want to scan additional packages you will have to add <code>task-service</code> package as well - <code>@ComponentScan({&quot;com.nyuro.domain&quot;, &quot;com.nyuro.taskservice&quot;})</code>.</li>\n<li>You database setup is not working for me, I had to remove it to make this app start </li>\n</ol>\n"}],"owner":{"account_id":9739734,"reputation":3,"user_id":15394848,"display_name":"rafnakb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76413331,"answer_count":1,"score":0,"last_activity_date":1686045453,"creation_date":1685929599,"question_id":76403101,"body_markdown":"When studying and implementing a multimodule project with Java and Gradle, I am having the following error when making a request:  \r\n\r\n`Postman`\r\n```\r\n{\r\n     &quot;status&quot;: 404,\r\n     &quot;error&quot;: &quot;Not Found&quot;,\r\n     &quot;message&quot;: &quot;No message available&quot;,\r\n     &quot;path&quot;: &quot;/tasks/hello&quot;\r\n}\r\n```\r\n**When running the command &quot;./gradlew :task-service:bootRun&quot; the project seems to start normally &quot;Tomcat started on port(s): 8080 (http) with context path&#39;&#39;. But when making requests, I get &quot;not found&quot;. I can&#39;t say where the error is, but I realize that the import of the &quot;domain&quot; module is not correct or I don&#39;t know how to configure it. Can you help me?**  \r\n\r\nThe project and its modules - `group &#39;com.nyuro&#39;`  \r\n\r\n```\r\nnyuro-backend (root-project)\r\n *domain\r\n *task-service\r\n```\r\n\r\nThe &quot;domain&quot; module contains entities, such as the Task class. Services will be Spring Boot app with @Controller, @Service, @Repository. In this example &quot;task-service&quot;. \r\n \r\nHere are the main snippets of settings. I hope that&#39;s enough to point me out some configuration error. Or here is the code on github: [Project Link Here](https://github.com/rafnakb/nyuro-backend)\r\n\r\n`settings.gradle(nyuro-backend)`\r\n```\r\nrootProject.name = &#39;nyuro-backend&#39;\r\ninclude &#39;domain&#39;\r\ninclude &#39;task-service&#39;\r\n```\r\n\r\n`build.gradle(nyuro-backend)`\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup &#39;com.nyuro&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n`build.gradle(:domain)`\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\ngroup &#39;com.nyuro&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    implementation &#39;jakarta.persistence:jakarta.persistence-api:3.1.0&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n`build.gradle(:task-service)`\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;application&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.nyuro&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\timplementation project(&#39;:domain&#39;)\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\n`TaskServiceApplication.java`\r\n\r\n```\r\n@EntityScan({&quot;com.nyuro.domain&quot;})\r\n@EnableJpaRepositories({&quot;com.nyuro.domain&quot;})\r\n@ComponentScan({&quot;com.nyuro.domain&quot;})\r\n@SpringBootApplication\r\npublic class TaskServiceApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(TaskServiceApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nThere seems to be a problem importing the domain.models.Task module. I also did several tests on @EntityScan, @EnableJpaRepositories, @ComponentScan imports. No satisfactory result.","title":"Multimodule gradle project I get Error: Not Found (Spring with module dependency)","body":"<p>When studying and implementing a multimodule project with Java and Gradle, I am having the following error when making a request:</p>\n<p><code>Postman</code></p>\n<pre><code>{\n     &quot;status&quot;: 404,\n     &quot;error&quot;: &quot;Not Found&quot;,\n     &quot;message&quot;: &quot;No message available&quot;,\n     &quot;path&quot;: &quot;/tasks/hello&quot;\n}\n</code></pre>\n<p><strong>When running the command &quot;./gradlew :task-service:bootRun&quot; the project seems to start normally &quot;Tomcat started on port(s): 8080 (http) with context path''. But when making requests, I get &quot;not found&quot;. I can't say where the error is, but I realize that the import of the &quot;domain&quot; module is not correct or I don't know how to configure it. Can you help me?</strong></p>\n<p>The project and its modules - <code>group 'com.nyuro'</code></p>\n<pre><code>nyuro-backend (root-project)\n *domain\n *task-service\n</code></pre>\n<p>The &quot;domain&quot; module contains entities, such as the Task class. Services will be Spring Boot app with @Controller, @Service, @Repository. In this example &quot;task-service&quot;.</p>\n<p>Here are the main snippets of settings. I hope that's enough to point me out some configuration error. Or here is the code on github: <a href=\"https://github.com/rafnakb/nyuro-backend\" rel=\"nofollow noreferrer\">Project Link Here</a></p>\n<p><code>settings.gradle(nyuro-backend)</code></p>\n<pre><code>rootProject.name = 'nyuro-backend'\ninclude 'domain'\ninclude 'task-service'\n</code></pre>\n<p><code>build.gradle(nyuro-backend)</code></p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\ngroup 'com.nyuro'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><code>build.gradle(:domain)</code></p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\ngroup 'com.nyuro'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    implementation 'jakarta.persistence:jakarta.persistence-api:3.1.0'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><code>build.gradle(:task-service)</code></p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.nyuro'\nversion = '0.0.1-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation project(':domain')\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><code>TaskServiceApplication.java</code></p>\n<pre><code>@EntityScan({&quot;com.nyuro.domain&quot;})\n@EnableJpaRepositories({&quot;com.nyuro.domain&quot;})\n@ComponentScan({&quot;com.nyuro.domain&quot;})\n@SpringBootApplication\npublic class TaskServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TaskServiceApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>There seems to be a problem importing the domain.models.Task module. I also did several tests on @EntityScan, @EnableJpaRepositories, @ComponentScan imports. No satisfactory result.</p>\n"},{"tags":["java","java-web-start","jnlp","icedtea","icedtea-web"],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686045385,"creation_date":1685985696,"question_id":76408709,"body_markdown":"I tried something like that :\r\n\r\n    javaws -J--add-opens=java.desktop/javax.swing.plaf.metal=ALL-UNNAMED my_jnlp_file.jnlp\r\n\r\nAnd also tried in the jnlp :\r\n\r\n    &lt;j2se java-vm-args=&quot;--add-opens java.desktop/javax.swing.plaf.metal=ALL-UNNAMED -Xms500m -Xmx4096m&quot; /&gt;\r\n\r\nI&#39;m getting this error in the cmd console :\r\n\r\n    java version &quot;17.0.7&quot; 2023-04-18 LTS\r\n    Java(TM) SE Runtime Environment (build 17.0.7+8-LTS-224)\r\n    haring)\r\n    Error: --add-opens requires modules to be specified\r\n    Please press any key to close this window/get back prompt\r\n\r\n\r\nAlso tried providing these options with environment variables `JAVA_TOOL_OPTIONS`, `JDK_JAVA_OPTIONS` and `JAVAWS_J_OPTIONS` but no luck:\r\n\r\n    set JAVA_TOOL_OPTIONS=&quot;--add-opens=java.desktop/javax.swing.plaf.metal=ALL-UNNAMED&quot;\r\n\r\n\r\nI found a file `icedtea-web-image\\bin\\itw-modularjdk.args` inside the distribution of icedtea that has `--add-xxx` options so I&#39;ve put the options there and it worked.\r\n\r\n    # -------------------------------------\r\n    # IcedTea-Web jigsaw run args (jdk9+)\r\n    # -------------------------------------\r\n    \r\n    --add-reads=java.base=ALL-UNNAMED,java.desktop\r\n    --add-reads=java.desktop=ALL-UNNAMED,java.naming\r\n    --add-reads=java.naming=ALL-UNNAMED,java.desktop\r\n    \r\n    --add-exports=java.desktop/sun.awt=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.desktop/javax.jnlp=ALL-UNNAMED,java.desktop\r\n    \r\n    --add-exports=java.base/com.sun.net.ssl.internal.ssl=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.net.www.protocol.jar=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.security.action=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.security.provider=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.security.util=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.security.validator=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.security.x509=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/jdk.internal.util.jar=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.base/sun.net.www.protocol.http=ALL-UNNAMED,java.desktop\r\n    \r\n    --add-exports=java.desktop/sun.awt.X11=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.desktop/sun.applet=ALL-UNNAMED,java.desktop\r\n    --add-exports=java.desktop/sun.applet=ALL-UNNAMED,jdk.jsobject\r\n    \r\n    --add-exports=java.naming/com.sun.jndi.toolkit.url=ALL-UNNAMED,java.desktop\r\n\r\nHowever, I&#39;m not quite sure this is the right place for this. I&#39;d rather have it configured outside the distribution. \r\n\r\n\r\nCould you please indicate the right way of passing these options ?\r\n\r\n\r\n","title":"How do I use --add-opens together with IcedTea javaws?","body":"<p>I tried something like that :</p>\n<pre><code>javaws -J--add-opens=java.desktop/javax.swing.plaf.metal=ALL-UNNAMED my_jnlp_file.jnlp\n</code></pre>\n<p>And also tried in the jnlp :</p>\n<pre><code>&lt;j2se java-vm-args=&quot;--add-opens java.desktop/javax.swing.plaf.metal=ALL-UNNAMED -Xms500m -Xmx4096m&quot; /&gt;\n</code></pre>\n<p>I'm getting this error in the cmd console :</p>\n<pre><code>java version &quot;17.0.7&quot; 2023-04-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.7+8-LTS-224)\nharing)\nError: --add-opens requires modules to be specified\nPlease press any key to close this window/get back prompt\n</code></pre>\n<p>Also tried providing these options with environment variables <code>JAVA_TOOL_OPTIONS</code>, <code>JDK_JAVA_OPTIONS</code> and <code>JAVAWS_J_OPTIONS</code> but no luck:</p>\n<pre><code>set JAVA_TOOL_OPTIONS=&quot;--add-opens=java.desktop/javax.swing.plaf.metal=ALL-UNNAMED&quot;\n</code></pre>\n<p>I found a file <code>icedtea-web-image\\bin\\itw-modularjdk.args</code> inside the distribution of icedtea that has <code>--add-xxx</code> options so I've put the options there and it worked.</p>\n<pre><code># -------------------------------------\n# IcedTea-Web jigsaw run args (jdk9+)\n# -------------------------------------\n\n--add-reads=java.base=ALL-UNNAMED,java.desktop\n--add-reads=java.desktop=ALL-UNNAMED,java.naming\n--add-reads=java.naming=ALL-UNNAMED,java.desktop\n\n--add-exports=java.desktop/sun.awt=ALL-UNNAMED,java.desktop\n--add-exports=java.desktop/javax.jnlp=ALL-UNNAMED,java.desktop\n\n--add-exports=java.base/com.sun.net.ssl.internal.ssl=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.net.www.protocol.jar=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.security.action=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.security.provider=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.security.util=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.security.validator=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.security.x509=ALL-UNNAMED,java.desktop\n--add-exports=java.base/jdk.internal.util.jar=ALL-UNNAMED,java.desktop\n--add-exports=java.base/sun.net.www.protocol.http=ALL-UNNAMED,java.desktop\n\n--add-exports=java.desktop/sun.awt.X11=ALL-UNNAMED,java.desktop\n--add-exports=java.desktop/sun.applet=ALL-UNNAMED,java.desktop\n--add-exports=java.desktop/sun.applet=ALL-UNNAMED,jdk.jsobject\n\n--add-exports=java.naming/com.sun.jndi.toolkit.url=ALL-UNNAMED,java.desktop\n</code></pre>\n<p>However, I'm not quite sure this is the right place for this. I'd rather have it configured outside the distribution.</p>\n<p>Could you please indicate the right way of passing these options ?</p>\n"},{"tags":["java","data-structures","iterator","priority-queue"],"comments":[{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1686005672,"post_id":76410372,"comment_id":134737470,"body_markdown":"Nothing in your iterator&#39;s `hasNext()` implementation is affected by subsequent modifications.  It reports only on whether the iterator&#39;s `currentIndex` is less than the heap&#39;s `size`.  If you want also to take the `expectedModificationCount` into account then do.  What prevents you?","body":"Nothing in your iterator&#39;s <code>hasNext()</code> implementation is affected by subsequent modifications.  It reports only on whether the iterator&#39;s <code>currentIndex</code> is less than the heap&#39;s <code>size</code>.  If you want also to take the <code>expectedModificationCount</code> into account then do.  What prevents you?"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1686047339,"post_id":76410372,"comment_id":134742498,"body_markdown":"What is the difference between both `Iterator&lt;E&gt; elements()`? Why should `elements1` be ended after an insert following its instantiation? I concede the API documentation is overly thin in specifying behaviour with concurrent modifications, e.g. *should modifications between instantiation and first use be forbidden or allowed?*","body":"What is the difference between both <code>Iterator&lt;E&gt; elements()</code>? Why should <code>elements1</code> be ended after an insert following its instantiation? I concede the API documentation is overly thin in specifying behaviour with concurrent modifications, e.g. <i>should modifications between instantiation and first use be forbidden or allowed?</i>"}],"owner":{"account_id":28760338,"reputation":11,"user_id":22026376,"display_name":"ivan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686045266,"creation_date":1686004195,"question_id":76410372,"body_markdown":"The following methods don&#39;t work correctly:\r\n\r\n     public Iterator&lt;E&gt; elements() {\r\n            return new Iterator&lt;E&gt;() {\r\n                private int currentIndex = 0;\r\n                private int expectedModificationCount = modificationCount;\r\n    \r\n            @Override\r\n            public boolean hasNext() {\r\n    \r\n                return currentIndex &lt; size;\r\n            }\r\n    \r\n            @Override\r\n            public K next() {\r\n                // checkModificationCount();\r\n                if (!hasNext()) {\r\n                    throw new NoSuchElementException();\r\n                }\r\n                return heap[currentIndex++].getKey();\r\n            }\r\n    \r\n            private void checkModificationCount() {\r\n                if (expectedModificationCount != modificationCount) {\r\n                    throw new ConcurrentModificationException(&quot;Priority queue modified during     iteration&quot;);\r\n                }\r\n            }\r\n        };\r\n    }\r\n    \r\n    \r\n    public Iterator&lt;E&gt; elements() {\r\n        return new Iterator&lt;E&gt;() {\r\n            private int currentIndex = 0;\r\n            private int expectedModificationCount = modificationCount;\r\n    \r\n            @Override\r\n            public boolean hasNext() {\r\n                //checkModificationCount();\r\n                return currentIndex &lt; size;\r\n            }\r\n    \r\n            @Override\r\n            public E next() {\r\n                checkModificationCount();\r\n                if (!hasNext()) {\r\n                    throw new NoSuchElementException();\r\n                }\r\n                E element = heap[currentIndex].getElement();\r\n                currentIndex++;\r\n                return element;\r\n            }\r\n    \r\n            private void checkModificationCount() {\r\n                if (expectedModificationCount != modificationCount) {\r\n                    throw new ConcurrentModificationException(&quot;Priority queue modified during iteration&quot;);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nIterator should be ended after modification of the priority queue, if I run for example the following test method:\r\n```\r\n@Test\r\nvoid testContinuingElements() {\r\n    PriorityQueue&lt;String, Integer&gt; pq = new HeapBasedPriorityQueue&lt;&gt;(STRING_COMPARATOR);\r\n    pq.insert(&quot;test1&quot;, 1);\r\n    Iterator&lt;Integer&gt; elements1 = pq.elements();\r\n    pq.insert(&quot;test2&quot;, 2);\r\n    Iterator&lt;Integer&gt; elements2 = pq.elements();\r\n    assertFalse(elements1.hasNext(), &quot;Iterator should be ended after modification of the priority queue&quot;);\r\n    assertThrows(ConcurrentModificationException.class, elements1::next, &quot;Iterator should throw ConcurrentModificationException after modification of the priority queue&quot;);\r\n    assertTrue(elements2.hasNext(), &quot;Iterator generated after last change can continue&quot;);\r\n    assertEquals(1, elements2.next(), &quot;Iterator generated after last change can continue&quot;);\r\n}\r\n```\r\n\r\nthe `hasNext()` should return false, to pass the following line of the test method but it doesn&#39;t.\r\n\r\n`assertFalse(elements1.hasNext(), &quot;Iterator should be ended after modification of the priority queue&quot;)`\r\n","title":"implementation of HeapBasedPriorityQueue","body":"<p>The following methods don't work correctly:</p>\n<pre><code> public Iterator&lt;E&gt; elements() {\n        return new Iterator&lt;E&gt;() {\n            private int currentIndex = 0;\n            private int expectedModificationCount = modificationCount;\n\n        @Override\n        public boolean hasNext() {\n\n            return currentIndex &lt; size;\n        }\n\n        @Override\n        public K next() {\n            // checkModificationCount();\n            if (!hasNext()) {\n                throw new NoSuchElementException();\n            }\n            return heap[currentIndex++].getKey();\n        }\n\n        private void checkModificationCount() {\n            if (expectedModificationCount != modificationCount) {\n                throw new ConcurrentModificationException(&quot;Priority queue modified during     iteration&quot;);\n            }\n        }\n    };\n}\n\n\npublic Iterator&lt;E&gt; elements() {\n    return new Iterator&lt;E&gt;() {\n        private int currentIndex = 0;\n        private int expectedModificationCount = modificationCount;\n\n        @Override\n        public boolean hasNext() {\n            //checkModificationCount();\n            return currentIndex &lt; size;\n        }\n\n        @Override\n        public E next() {\n            checkModificationCount();\n            if (!hasNext()) {\n                throw new NoSuchElementException();\n            }\n            E element = heap[currentIndex].getElement();\n            currentIndex++;\n            return element;\n        }\n\n        private void checkModificationCount() {\n            if (expectedModificationCount != modificationCount) {\n                throw new ConcurrentModificationException(&quot;Priority queue modified during iteration&quot;);\n            }\n        }\n    };\n}\n</code></pre>\n<p>Iterator should be ended after modification of the priority queue, if I run for example the following test method:</p>\n<pre><code>@Test\nvoid testContinuingElements() {\n    PriorityQueue&lt;String, Integer&gt; pq = new HeapBasedPriorityQueue&lt;&gt;(STRING_COMPARATOR);\n    pq.insert(&quot;test1&quot;, 1);\n    Iterator&lt;Integer&gt; elements1 = pq.elements();\n    pq.insert(&quot;test2&quot;, 2);\n    Iterator&lt;Integer&gt; elements2 = pq.elements();\n    assertFalse(elements1.hasNext(), &quot;Iterator should be ended after modification of the priority queue&quot;);\n    assertThrows(ConcurrentModificationException.class, elements1::next, &quot;Iterator should throw ConcurrentModificationException after modification of the priority queue&quot;);\n    assertTrue(elements2.hasNext(), &quot;Iterator generated after last change can continue&quot;);\n    assertEquals(1, elements2.next(), &quot;Iterator generated after last change can continue&quot;);\n}\n</code></pre>\n<p>the <code>hasNext()</code> should return false, to pass the following line of the test method but it doesn't.</p>\n<p><code>assertFalse(elements1.hasNext(), &quot;Iterator should be ended after modification of the priority queue&quot;)</code></p>\n"},{"tags":["java","jersey","jax-rs","jodatime"],"answers":[{"tags":[],"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353450172,"creation_date":1353450172,"answer_id":13483240,"question_id":13482909,"body_markdown":"From reading [the documentation](http://jersey.java.net/nonav/documentation/latest/user-guide.html#d4e101), it would appear that you&#39;ll need to have your method return a String, which you then turn into a DateTime, I suppose using the [DateTime(long) constructor](http://joda-time.sourceforge.net/api-release/org/joda/time/DateTime.html#DateTime(long)), there&#39;s a (relatively) easy-to-follow [example at codehale](http://codahale.com/what-makes-jersey-interesting-injection-providers/), let me know if you&#39;d like me to have a go at it.\r\n  ","title":"Using Joda DateTime as a Jersey parameter?","body":"<p>From reading <a href=\"http://jersey.java.net/nonav/documentation/latest/user-guide.html#d4e101\" rel=\"nofollow\">the documentation</a>, it would appear that you'll need to have your method return a String, which you then turn into a DateTime, I suppose using the <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/DateTime.html#DateTime%28long%29\" rel=\"nofollow\">DateTime(long) constructor</a>, there's a (relatively) easy-to-follow <a href=\"http://codahale.com/what-makes-jersey-interesting-injection-providers/\" rel=\"nofollow\">example at codehale</a>, let me know if you'd like me to have a go at it.</p>\n"},{"tags":[],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1353603215,"creation_date":1353525834,"answer_id":13500584,"question_id":13482909,"body_markdown":"Here is an implementation that depends on Guice. You can using a different injector with minor modifications:\r\n\r\n\r\n    import com.google.inject.Inject;\r\n    import com.sun.jersey.core.spi.component.ComponentContext;\r\n    import com.sun.jersey.spi.inject.Injectable;\r\n    import com.sun.jersey.spi.inject.PerRequestTypeInjectableProvider;\r\n    import java.util.List;\r\n    import javax.ws.rs.QueryParam;\r\n    import javax.ws.rs.WebApplicationException;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.core.Response.Status;\r\n    import javax.ws.rs.core.UriInfo;\r\n    import javax.ws.rs.ext.Provider;\r\n    import org.joda.time.DateTime;\r\n\r\n    /**\r\n     * Enables DateTime to be used as a QueryParam.\r\n     * &lt;p/&gt;\r\n     * @author Gili Tzabari\r\n     */\r\n    @Provider\r\n    public class DateTimeInjector extends PerRequestTypeInjectableProvider&lt;QueryParam, DateTime&gt;\r\n    {\r\n    \tprivate final com.google.inject.Provider&lt;UriInfo&gt; uriInfo;\r\n    \r\n    \t/**\r\n    \t * Creates a new DateTimeInjector.\r\n    \t * &lt;p/&gt;\r\n    \t * @param uriInfo an instance of {@link UriInfo}\r\n    \t */\r\n    \t@Inject\r\n    \tpublic DateTimeInjector(com.google.inject.Provider&lt;UriInfo&gt; uriInfo)\r\n    \t{\r\n    \t\tsuper(DateTime.class);\r\n    \t\tthis.uriInfo = uriInfo;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Injectable&lt;DateTime&gt; getInjectable(final ComponentContext cc, final QueryParam a)\r\n    \t{\r\n    \t\treturn new Injectable&lt;DateTime&gt;()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic DateTime getValue()\r\n    \t\t\t{\r\n    \t\t\t\tfinal List&lt;String&gt; values = uriInfo.get().getQueryParameters().get(a.value());\r\n    \t\t\t\tif (values.size() &gt; 1)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tthrow new WebApplicationException(Response.status(Status.BAD_REQUEST).\r\n    \t\t\t\t\t\tentity(a.value() + &quot; may only contain a single value&quot;).build());\r\n    \t\t\t\t}\r\n    \t\t\t\tif (values.isEmpty())\r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\treturn new DateTime(values.get(0));\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nThere are no Guice bindings. @Provider is a JAX-RS annotation. Guice just needs to be able to inject UriInfo and [Jersey-Guice](http://jersey.java.net/nonav/apidocs/1.1.5/contribs/jersey-guice/com/sun/jersey/guice/spi/container/servlet/package-summary.html) provides that binding.","title":"Using Joda DateTime as a Jersey parameter?","body":"<p>Here is an implementation that depends on Guice. You can using a different injector with minor modifications:</p>\n\n<pre><code>import com.google.inject.Inject;\nimport com.sun.jersey.core.spi.component.ComponentContext;\nimport com.sun.jersey.spi.inject.Injectable;\nimport com.sun.jersey.spi.inject.PerRequestTypeInjectableProvider;\nimport java.util.List;\nimport javax.ws.rs.QueryParam;\nimport javax.ws.rs.WebApplicationException;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.Response.Status;\nimport javax.ws.rs.core.UriInfo;\nimport javax.ws.rs.ext.Provider;\nimport org.joda.time.DateTime;\n\n/**\n * Enables DateTime to be used as a QueryParam.\n * &lt;p/&gt;\n * @author Gili Tzabari\n */\n@Provider\npublic class DateTimeInjector extends PerRequestTypeInjectableProvider&lt;QueryParam, DateTime&gt;\n{\n    private final com.google.inject.Provider&lt;UriInfo&gt; uriInfo;\n\n    /**\n     * Creates a new DateTimeInjector.\n     * &lt;p/&gt;\n     * @param uriInfo an instance of {@link UriInfo}\n     */\n    @Inject\n    public DateTimeInjector(com.google.inject.Provider&lt;UriInfo&gt; uriInfo)\n    {\n        super(DateTime.class);\n        this.uriInfo = uriInfo;\n    }\n\n    @Override\n    public Injectable&lt;DateTime&gt; getInjectable(final ComponentContext cc, final QueryParam a)\n    {\n        return new Injectable&lt;DateTime&gt;()\n        {\n            @Override\n            public DateTime getValue()\n            {\n                final List&lt;String&gt; values = uriInfo.get().getQueryParameters().get(a.value());\n                if (values.size() &gt; 1)\n                {\n                    throw new WebApplicationException(Response.status(Status.BAD_REQUEST).\n                        entity(a.value() + \" may only contain a single value\").build());\n                }\n                if (values.isEmpty())\n                    return null;\n                return new DateTime(values.get(0));\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>There are no Guice bindings. @Provider is a JAX-RS annotation. Guice just needs to be able to inject UriInfo and <a href=\"http://jersey.java.net/nonav/apidocs/1.1.5/contribs/jersey-guice/com/sun/jersey/guice/spi/container/servlet/package-summary.html\">Jersey-Guice</a> provides that binding.</p>\n"},{"tags":[],"owner":{"account_id":262594,"reputation":1446,"user_id":1328979,"display_name":"Marc Carr&#233;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354004511,"creation_date":1353571920,"answer_id":13508324,"question_id":13482909,"body_markdown":"@ Gili, sorry I don&#39;t have the required reputation to directly comment your post, but could you please:\r\n\r\n - add the import statements used for your implementation?\r\n - add an example of how you bind everything with Guice?\r\n\r\nThank you very much in advance.\r\n\r\nM.\r\n\r\n----------\r\n**PROBLEMS**:\r\n\r\nI would be interested in doing the same as HolySamosa, and I use Guice as well, but I face the below issues.\r\n\r\nIf I add:\r\n\r\n    bind(DateTimeInjector.class);\r\n\r\nin my `GuiceServletContextListener`, I get:\r\n\r\n    java.lang.RuntimeException: \r\n    The scope of the component class com.foo.mapping.DateTimeInjector must be a singleton\r\n\r\nand if I add `@Singleton` on the `DateTimeInjector` class, I get:\r\n\r\n\r\n    GRAVE: The following errors and warnings have been detected with resource and/or provider classes:\r\n    SEVERE: Missing dependency for method public java.util.List com.foo.ThingService.getThingByIdAndDate(java.lang.String,org.joda.time.DateTime) at parameter at index 1\r\n    SEVERE: Method, public java.util.List com.foo.ThingService.getThingByIdAndDate(java.lang.String,org.joda.time.DateTime), annotated with GET of resource, class com.foo.ThingService, is not recognized as valid resource method.\r\n\r\n----------\r\n**ADVICES / SOLUTIONS**:\r\n\r\n - Pay attention to what annotation you use (unlike me)! For example I was actually using `@PathParam` instead of `@QueryParam`.\r\n - In your service, you do not need to have `UriInfo uriInfo` in the method&#39;s signature. Just the functional parameters should be enough and it should work whether `UriInfo` is present or not.\r\n - Guice needed to be configured with the below to be able to pick up the injector.\r\n\r\nExample:\r\n\r\n    // Configure Jersey with Guice:\r\n    Map&lt;String, String&gt; settings = new HashMap&lt;String, String&gt;();\r\n    settings.put(PackagesResourceConfig.PROPERTY_PACKAGES, &quot;com.foo.mapping&quot;);\r\n    serve(&quot;/*&quot;).with(GuiceContainer.class, settings);\r\n\r\n----------\r\n**FULL SOLUTION**:\r\n\r\n    import java.util.List;\r\n    \r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.WebApplicationException;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.core.Response.Status;\r\n    import javax.ws.rs.core.UriInfo;\r\n    import javax.ws.rs.ext.Provider;\r\n    \r\n    import org.joda.time.DateTime;\r\n    \r\n    import com.google.inject.Inject;\r\n    import com.foo.utils.DateTimeAdapter;\r\n    import com.sun.jersey.core.spi.component.ComponentContext;\r\n    import com.sun.jersey.spi.inject.Injectable;\r\n    import com.sun.jersey.spi.inject.PerRequestTypeInjectableProvider;\r\n    \r\n    /**\r\n     * Enables DateTime to be used as a PathParam.\r\n     */\r\n    @Provider\r\n    public class DateTimeInjector extends PerRequestTypeInjectableProvider&lt;PathParam, DateTime&gt; {\r\n        private final com.google.inject.Provider&lt;UriInfo&gt; uriInfo;\r\n    \r\n        /**\r\n         * Creates a new DateTimeInjector.\r\n         * \r\n         * @param uriInfo\r\n         *            an instance of {@link UriInfo}\r\n         */\r\n        @Inject\r\n        public DateTimeInjector(com.google.inject.Provider&lt;UriInfo&gt; uriInfo) {\r\n            super(DateTime.class);\r\n            this.uriInfo = uriInfo;\r\n        }\r\n    \r\n        @Override\r\n        public Injectable&lt;DateTime&gt; getInjectable(final ComponentContext context, final PathParam annotation) {\r\n            return new Injectable&lt;DateTime&gt;() {\r\n                @Override\r\n                public DateTime getValue() {\r\n                    final List&lt;String&gt; values = uriInfo.get().getPathParameters().get(annotation.value());\r\n    \r\n                    if (values == null) {\r\n                        throwInternalServerError(annotation);\r\n                    }\r\n    \r\n                    if (values.size() &gt; 1) {\r\n                        throwBadRequestTooManyValues(annotation);\r\n                    }\r\n    \r\n                    if (values.isEmpty()) {\r\n                        throwBadRequestMissingValue(annotation);\r\n                    }\r\n    \r\n                    return parseDate(annotation, values);\r\n                }\r\n    \r\n                private void throwInternalServerError(final PathParam annotation) {\r\n                    String errorMessage = String.format(&quot;Failed to extract parameter [%s] using [%s]. This is likely to be an implementation error.&quot;,\r\n                            annotation.value(), annotation.annotationType().getName());\r\n                    throw new WebApplicationException(Response.status(Status.INTERNAL_SERVER_ERROR).entity(errorMessage).build());\r\n                }\r\n    \r\n                private void throwBadRequestTooManyValues(final PathParam annotation) {\r\n                    String errorMessage = String.format(&quot;Parameter [%s] must only contain one single value.&quot;, annotation.value());\r\n                    throw new WebApplicationException(Response.status(Status.BAD_REQUEST).entity(errorMessage).build());\r\n                }\r\n    \r\n                private void throwBadRequestMissingValue(final PathParam annotation) {\r\n                    String errorMessage = String.format(&quot;Parameter [%s] must be provided.&quot;, annotation.value());\r\n                    throw new WebApplicationException(Response.status(Status.BAD_REQUEST).entity(errorMessage).build());\r\n                }\r\n    \r\n                private DateTime parseDate(final PathParam annotation, final List&lt;String&gt; values) {\r\n                    try {\r\n                        return DateTimeAdapter.parse(values.get(0));\r\n                    } catch (Exception e) {\r\n                        String errorMessage = String.format(&quot;Parameter [%s] is formatted incorrectly: %s&quot;, annotation.value(), e.getMessage());\r\n                        throw new WebApplicationException(Response.status(Status.BAD_REQUEST).entity(errorMessage).build());\r\n                    }\r\n                }\r\n    \r\n            };\r\n        }\r\n    }","title":"Using Joda DateTime as a Jersey parameter?","body":"<p>@ Gili, sorry I don't have the required reputation to directly comment your post, but could you please:</p>\n\n<ul>\n<li>add the import statements used for your implementation?</li>\n<li>add an example of how you bind everything with Guice?</li>\n</ul>\n\n<p>Thank you very much in advance.</p>\n\n<p>M.</p>\n\n<hr>\n\n<p><strong>PROBLEMS</strong>:</p>\n\n<p>I would be interested in doing the same as HolySamosa, and I use Guice as well, but I face the below issues.</p>\n\n<p>If I add:</p>\n\n<pre><code>bind(DateTimeInjector.class);\n</code></pre>\n\n<p>in my <code>GuiceServletContextListener</code>, I get:</p>\n\n<pre><code>java.lang.RuntimeException: \nThe scope of the component class com.foo.mapping.DateTimeInjector must be a singleton\n</code></pre>\n\n<p>and if I add <code>@Singleton</code> on the <code>DateTimeInjector</code> class, I get:</p>\n\n<pre><code>GRAVE: The following errors and warnings have been detected with resource and/or provider classes:\nSEVERE: Missing dependency for method public java.util.List com.foo.ThingService.getThingByIdAndDate(java.lang.String,org.joda.time.DateTime) at parameter at index 1\nSEVERE: Method, public java.util.List com.foo.ThingService.getThingByIdAndDate(java.lang.String,org.joda.time.DateTime), annotated with GET of resource, class com.foo.ThingService, is not recognized as valid resource method.\n</code></pre>\n\n<hr>\n\n<p><strong>ADVICES / SOLUTIONS</strong>:</p>\n\n<ul>\n<li>Pay attention to what annotation you use (unlike me)! For example I was actually using <code>@PathParam</code> instead of <code>@QueryParam</code>.</li>\n<li>In your service, you do not need to have <code>UriInfo uriInfo</code> in the method's signature. Just the functional parameters should be enough and it should work whether <code>UriInfo</code> is present or not.</li>\n<li>Guice needed to be configured with the below to be able to pick up the injector.</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>// Configure Jersey with Guice:\nMap&lt;String, String&gt; settings = new HashMap&lt;String, String&gt;();\nsettings.put(PackagesResourceConfig.PROPERTY_PACKAGES, \"com.foo.mapping\");\nserve(\"/*\").with(GuiceContainer.class, settings);\n</code></pre>\n\n<hr>\n\n<p><strong>FULL SOLUTION</strong>:</p>\n\n<pre><code>import java.util.List;\n\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.WebApplicationException;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.Response.Status;\nimport javax.ws.rs.core.UriInfo;\nimport javax.ws.rs.ext.Provider;\n\nimport org.joda.time.DateTime;\n\nimport com.google.inject.Inject;\nimport com.foo.utils.DateTimeAdapter;\nimport com.sun.jersey.core.spi.component.ComponentContext;\nimport com.sun.jersey.spi.inject.Injectable;\nimport com.sun.jersey.spi.inject.PerRequestTypeInjectableProvider;\n\n/**\n * Enables DateTime to be used as a PathParam.\n */\n@Provider\npublic class DateTimeInjector extends PerRequestTypeInjectableProvider&lt;PathParam, DateTime&gt; {\n    private final com.google.inject.Provider&lt;UriInfo&gt; uriInfo;\n\n    /**\n     * Creates a new DateTimeInjector.\n     * \n     * @param uriInfo\n     *            an instance of {@link UriInfo}\n     */\n    @Inject\n    public DateTimeInjector(com.google.inject.Provider&lt;UriInfo&gt; uriInfo) {\n        super(DateTime.class);\n        this.uriInfo = uriInfo;\n    }\n\n    @Override\n    public Injectable&lt;DateTime&gt; getInjectable(final ComponentContext context, final PathParam annotation) {\n        return new Injectable&lt;DateTime&gt;() {\n            @Override\n            public DateTime getValue() {\n                final List&lt;String&gt; values = uriInfo.get().getPathParameters().get(annotation.value());\n\n                if (values == null) {\n                    throwInternalServerError(annotation);\n                }\n\n                if (values.size() &gt; 1) {\n                    throwBadRequestTooManyValues(annotation);\n                }\n\n                if (values.isEmpty()) {\n                    throwBadRequestMissingValue(annotation);\n                }\n\n                return parseDate(annotation, values);\n            }\n\n            private void throwInternalServerError(final PathParam annotation) {\n                String errorMessage = String.format(\"Failed to extract parameter [%s] using [%s]. This is likely to be an implementation error.\",\n                        annotation.value(), annotation.annotationType().getName());\n                throw new WebApplicationException(Response.status(Status.INTERNAL_SERVER_ERROR).entity(errorMessage).build());\n            }\n\n            private void throwBadRequestTooManyValues(final PathParam annotation) {\n                String errorMessage = String.format(\"Parameter [%s] must only contain one single value.\", annotation.value());\n                throw new WebApplicationException(Response.status(Status.BAD_REQUEST).entity(errorMessage).build());\n            }\n\n            private void throwBadRequestMissingValue(final PathParam annotation) {\n                String errorMessage = String.format(\"Parameter [%s] must be provided.\", annotation.value());\n                throw new WebApplicationException(Response.status(Status.BAD_REQUEST).entity(errorMessage).build());\n            }\n\n            private DateTime parseDate(final PathParam annotation, final List&lt;String&gt; values) {\n                try {\n                    return DateTimeAdapter.parse(values.get(0));\n                } catch (Exception e) {\n                    String errorMessage = String.format(\"Parameter [%s] is formatted incorrectly: %s\", annotation.value(), e.getMessage());\n                    throw new WebApplicationException(Response.status(Status.BAD_REQUEST).entity(errorMessage).build());\n                }\n            }\n\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2706691,"reputation":21,"user_id":2336150,"display_name":"user2336150"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417745428,"creation_date":1417745428,"answer_id":27307648,"question_id":13482909,"body_markdown":"Another option to deal with the sending of Joda DateTime objects between the client-server is to marshal/de-marshal them explicitly using an adapter and an according annotation.\r\nThe principle is to marshal it as Long object while de-marshalling instantiates a new DateTime object using the Long object for the constructor call. The Long object is obtained via the getMillis method.\r\nTo have this work, specify the adapter to use in the classes that have a DateTime object:\r\n\r\n\r\n\t@XmlElement(name=&quot;capture_date&quot;)\r\n\t@XmlJavaTypeAdapter(XmlDateTimeAdapter.class)\r\n\tpublic DateTime getCaptureDate() { return this.capture_date; }\r\n\tpublic void setCaptureDate(DateTime capture_date) { this.capture_date = capture_date; }\r\n\r\n\r\n\r\nThen write the adapter and the XML class to encapsulate the Long object:\r\n\r\n\r\n\r\n    import javax.xml.bind.annotation.adapters.XmlAdapter;\r\n    import org.joda.time.DateTime;\r\n    import org.joda.time.DateTimeZone;\r\n    \r\n    /**\r\n     * Convert between joda datetime and XML-serialisable millis represented as long\r\n     */\r\n    public class XmlDateTimeAdapter  extends XmlAdapter&lt;XmlDateTime, DateTime&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic XmlDateTime marshal(DateTime v) throws Exception {\r\n    \t\t\r\n    \t\tif(v != null)\r\n    \t\t\treturn new XmlDateTime(v.getMillis());\r\n    \t\telse\r\n    \t\t\treturn new XmlDateTime(0); \r\n    \r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic DateTime unmarshal(XmlDateTime v) throws Exception {\r\n    \t\t\r\n    \t\treturn new DateTime(v.millis, DateTimeZone.UTC);\r\n    \t}\r\n    }\r\n\r\n\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n\r\n    /**\r\n     * XML-serialisable wrapper for joda datetime values.\r\n     */\r\n    @XmlRootElement(name=&quot;joda_datetime&quot;)\r\n    public class XmlDateTime {\r\n    \t\r\n    \t@XmlElement(name=&quot;millis&quot;) public long millis;\r\n    \t\r\n    \tpublic XmlDateTime() {};\r\n    \t\r\n    \tpublic XmlDateTime(long millis) { this.millis = millis; }\t\r\n    \r\n    }\r\n\r\n\r\n\r\nIf all goes to plan, the DateTime objects should be marshalled/de-marshalled by using the adaptor; check this by setting breakpoints in the adapter.\r\n","title":"Using Joda DateTime as a Jersey parameter?","body":"<p>Another option to deal with the sending of Joda DateTime objects between the client-server is to marshal/de-marshal them explicitly using an adapter and an according annotation.\nThe principle is to marshal it as Long object while de-marshalling instantiates a new DateTime object using the Long object for the constructor call. The Long object is obtained via the getMillis method.\nTo have this work, specify the adapter to use in the classes that have a DateTime object:</p>\n\n<pre><code>@XmlElement(name=\"capture_date\")\n@XmlJavaTypeAdapter(XmlDateTimeAdapter.class)\npublic DateTime getCaptureDate() { return this.capture_date; }\npublic void setCaptureDate(DateTime capture_date) { this.capture_date = capture_date; }\n</code></pre>\n\n<p>Then write the adapter and the XML class to encapsulate the Long object:</p>\n\n<pre><code>import javax.xml.bind.annotation.adapters.XmlAdapter;\nimport org.joda.time.DateTime;\nimport org.joda.time.DateTimeZone;\n\n/**\n * Convert between joda datetime and XML-serialisable millis represented as long\n */\npublic class XmlDateTimeAdapter  extends XmlAdapter&lt;XmlDateTime, DateTime&gt; {\n\n    @Override\n    public XmlDateTime marshal(DateTime v) throws Exception {\n\n        if(v != null)\n            return new XmlDateTime(v.getMillis());\n        else\n            return new XmlDateTime(0); \n\n\n    }\n\n    @Override\n    public DateTime unmarshal(XmlDateTime v) throws Exception {\n\n        return new DateTime(v.millis, DateTimeZone.UTC);\n    }\n}\n\n\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n/**\n * XML-serialisable wrapper for joda datetime values.\n */\n@XmlRootElement(name=\"joda_datetime\")\npublic class XmlDateTime {\n\n    @XmlElement(name=\"millis\") public long millis;\n\n    public XmlDateTime() {};\n\n    public XmlDateTime(long millis) { this.millis = millis; }   \n\n}\n</code></pre>\n\n<p>If all goes to plan, the DateTime objects should be marshalled/de-marshalled by using the adaptor; check this by setting breakpoints in the adapter.</p>\n"},{"tags":[],"owner":{"account_id":25907381,"reputation":11,"user_id":19632250,"display_name":"Robert Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686045140,"creation_date":1686045140,"answer_id":76413406,"question_id":13482909,"body_markdown":"Another alternative is to write a simple wrapper class with a `String` argument constructor. Such a class then doesn&#39;t need a custom injector registered with Jersey to be injected as a query parameter.\r\n\r\n```\r\npublic class DateTimeParam {\r\n    private final DateTime value;\r\n\r\n    public DateTimeParam(String string) {\r\n        this.value = DateTime.parse(string);\r\n    }\r\n\r\n    public DateTime get() {\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\nEven though this requires converting from the wrapper to `DateTime` in your code, this is better than converting from `String` to `DateTime` in your code, as you don&#39;t have to handle failure to parse - it will be handled by Jersey in the same way as any other type.","title":"Using Joda DateTime as a Jersey parameter?","body":"<p>Another alternative is to write a simple wrapper class with a <code>String</code> argument constructor. Such a class then doesn't need a custom injector registered with Jersey to be injected as a query parameter.</p>\n<pre><code>public class DateTimeParam {\n    private final DateTime value;\n\n    public DateTimeParam(String string) {\n        this.value = DateTime.parse(string);\n    }\n\n    public DateTime get() {\n        return value;\n    }\n}\n</code></pre>\n<p>Even though this requires converting from the wrapper to <code>DateTime</code> in your code, this is better than converting from <code>String</code> to <code>DateTime</code> in your code, as you don't have to handle failure to parse - it will be handled by Jersey in the same way as any other type.</p>\n"}],"owner":{"account_id":288664,"reputation":9081,"user_id":589215,"accept_rate":65,"display_name":"HolySamosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7139,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":13500584,"answer_count":5,"score":12,"last_activity_date":1686045140,"creation_date":1353448600,"question_id":13482909,"body_markdown":"I&#39;d like to use Joda&#39;s `DateTime` for query parameters in Jersey, but this isn&#39;t supported by Jersey out-of-the-box.  I&#39;m assuming that implementing an `InjectableProvider` is the proper way to add `DateTime` support.  \r\n\r\nCan someone point me to a good implementation of an `InjectableProvider` for `DateTime`?  Or is there an alternative approach worth recommending?  (I&#39;m aware I can convert from `Date` or `String` in my code, but this seems like a lesser solution).\r\n\r\nThanks.\r\n\r\n**Solution:**\r\n\r\nI modified Gili&#39;s answer below to use the `@Context` injection mechanism in JAX-RS rather than Guice.  \r\n\r\nUpdate: This may not work properly if UriInfo isn&#39;t injected in your service method parameters.\r\n\r\n\timport com.sun.jersey.core.spi.component.ComponentContext;\r\n\timport com.sun.jersey.spi.inject.Injectable;\r\n\timport com.sun.jersey.spi.inject.PerRequestTypeInjectableProvider;\r\n\timport java.util.List;\r\n\timport javax.ws.rs.QueryParam;\r\n\timport javax.ws.rs.WebApplicationException;\r\n\timport javax.ws.rs.core.Context;\r\n\timport javax.ws.rs.core.Response;\r\n\timport javax.ws.rs.core.Response.Status;\r\n\timport javax.ws.rs.core.UriInfo;\r\n\timport javax.ws.rs.ext.Provider;\r\n\timport org.joda.time.DateTime;\r\n\t\r\n\t/**\r\n\t * Enables DateTime to be used as a QueryParam.\r\n\t * &lt;p/&gt;\r\n\t * @author Gili Tzabari\r\n\t */\r\n\t@Provider\r\n\tpublic class DateTimeInjector extends PerRequestTypeInjectableProvider&lt;QueryParam, DateTime&gt;\r\n\t{\r\n\t    private final UriInfo uriInfo;\r\n\t\r\n\t    /**\r\n\t     * Creates a new DateTimeInjector.\r\n\t     * &lt;p/&gt;\r\n\t     * @param uriInfo an instance of {@link UriInfo}\r\n\t     */\r\n\t    public DateTimeInjector( @Context UriInfo uriInfo)\r\n\t    {\r\n\t        super(DateTime.class);\r\n\t        this.uriInfo = uriInfo;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public Injectable&lt;DateTime&gt; getInjectable(final ComponentContext cc, final QueryParam a)\r\n\t    {\r\n\t        return new Injectable&lt;DateTime&gt;()\r\n\t        {\r\n\t            @Override\r\n\t            public DateTime getValue()\r\n\t            {\r\n\t                final List&lt;String&gt; values = uriInfo.getQueryParameters().get(a.value());\r\n\r\n\t                if( values == null || values.isEmpty())\r\n\t                    return null;\r\n\t                if (values.size() &gt; 1)\r\n\t                {\r\n\t                    throw new WebApplicationException(Response.status(Status.BAD_REQUEST).\r\n\t                        entity(a.value() + &quot; may only contain a single value&quot;).build());\r\n\t                }\r\n\t                return new DateTime(values.get(0));\r\n\t            }\r\n\t        };\r\n\t    }\r\n\t}\r\n\r\n","title":"Using Joda DateTime as a Jersey parameter?","body":"<p>I'd like to use Joda's <code>DateTime</code> for query parameters in Jersey, but this isn't supported by Jersey out-of-the-box.  I'm assuming that implementing an <code>InjectableProvider</code> is the proper way to add <code>DateTime</code> support.  </p>\n\n<p>Can someone point me to a good implementation of an <code>InjectableProvider</code> for <code>DateTime</code>?  Or is there an alternative approach worth recommending?  (I'm aware I can convert from <code>Date</code> or <code>String</code> in my code, but this seems like a lesser solution).</p>\n\n<p>Thanks.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>I modified Gili's answer below to use the <code>@Context</code> injection mechanism in JAX-RS rather than Guice.  </p>\n\n<p>Update: This may not work properly if UriInfo isn't injected in your service method parameters.</p>\n\n<pre><code>import com.sun.jersey.core.spi.component.ComponentContext;\nimport com.sun.jersey.spi.inject.Injectable;\nimport com.sun.jersey.spi.inject.PerRequestTypeInjectableProvider;\nimport java.util.List;\nimport javax.ws.rs.QueryParam;\nimport javax.ws.rs.WebApplicationException;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.Response.Status;\nimport javax.ws.rs.core.UriInfo;\nimport javax.ws.rs.ext.Provider;\nimport org.joda.time.DateTime;\n\n/**\n * Enables DateTime to be used as a QueryParam.\n * &lt;p/&gt;\n * @author Gili Tzabari\n */\n@Provider\npublic class DateTimeInjector extends PerRequestTypeInjectableProvider&lt;QueryParam, DateTime&gt;\n{\n    private final UriInfo uriInfo;\n\n    /**\n     * Creates a new DateTimeInjector.\n     * &lt;p/&gt;\n     * @param uriInfo an instance of {@link UriInfo}\n     */\n    public DateTimeInjector( @Context UriInfo uriInfo)\n    {\n        super(DateTime.class);\n        this.uriInfo = uriInfo;\n    }\n\n    @Override\n    public Injectable&lt;DateTime&gt; getInjectable(final ComponentContext cc, final QueryParam a)\n    {\n        return new Injectable&lt;DateTime&gt;()\n        {\n            @Override\n            public DateTime getValue()\n            {\n                final List&lt;String&gt; values = uriInfo.getQueryParameters().get(a.value());\n\n                if( values == null || values.isEmpty())\n                    return null;\n                if (values.size() &gt; 1)\n                {\n                    throw new WebApplicationException(Response.status(Status.BAD_REQUEST).\n                        entity(a.value() + \" may only contain a single value\").build());\n                }\n                return new DateTime(values.get(0));\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark","logging","pyspark","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686044767,"creation_date":1686002736,"answer_id":76410279,"question_id":76408638,"body_markdown":"The pattern you are looking for is `%c{1.2*}` introduced in version `2.20.0` (cf. [LOG4J2-2785](https://issues.apache.org/jira/browse/LOG4J2-2785)).\r\n\r\nThere are now four kinds of `%c` patterns:\r\n\r\n * if the parameter is a positive integer `n` (e.g. `%c{7}`), only `n` rightmost **components** of the logger name are printed,\r\n * if the parameter is a negative integer `-n` (e.g. `%c{-7}`), then the leftmost `n` **components** are dropped,\r\n * if the parameter is of the form `1.n*`, the `n` rightmost **components** are written in full, while the remaining ones are abbreviated to one letter,\r\n * for any other pattern the numbers indicate how many **letters** to print from each component: e.g. `1.4~.7` means 1 letter from the first component followed by a dot `.` followed by 4 letters from the second component (followed by `~` if the name was abbreviated) and a dot `.`. The remaining components are abbreviated to 7 letters with a dot `.`. The last component is written down entirely.","title":"log4j2 How to control logger name using %c{precision} OR logger{precision}","body":"<p>The pattern you are looking for is <code>%c{1.2*}</code> introduced in version <code>2.20.0</code> (cf. <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2785\" rel=\"nofollow noreferrer\">LOG4J2-2785</a>).</p>\n<p>There are now four kinds of <code>%c</code> patterns:</p>\n<ul>\n<li>if the parameter is a positive integer <code>n</code> (e.g. <code>%c{7}</code>), only <code>n</code> rightmost <strong>components</strong> of the logger name are printed,</li>\n<li>if the parameter is a negative integer <code>-n</code> (e.g. <code>%c{-7}</code>), then the leftmost <code>n</code> <strong>components</strong> are dropped,</li>\n<li>if the parameter is of the form <code>1.n*</code>, the <code>n</code> rightmost <strong>components</strong> are written in full, while the remaining ones are abbreviated to one letter,</li>\n<li>for any other pattern the numbers indicate how many <strong>letters</strong> to print from each component: e.g. <code>1.4~.7</code> means 1 letter from the first component followed by a dot <code>.</code> followed by 4 letters from the second component (followed by <code>~</code> if the name was abbreviated) and a dot <code>.</code>. The remaining components are abbreviated to 7 letters with a dot <code>.</code>. The last component is written down entirely.</li>\n</ul>\n"}],"owner":{"account_id":231844,"reputation":15697,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76410279,"answer_count":1,"score":1,"last_activity_date":1686044767,"creation_date":1685985082,"question_id":76408638,"body_markdown":"My logger names follow the convention: `project.class`\r\n\r\nI want to ensure that, in logs, all prefixes except the last 2 are abbreviated to one letter each and the last 2 are printed in full. So I have full names for my loggers AND abbreviated names for other loggers E.g.:\r\n* `project.class` is printed as `project.class`\r\n* `org.apache.spark.util.Utils` is printed as `o.a.s.util.Utils`\r\n\r\n----\r\nAccording to [documentation][1] (as I interpret it) `%c{1.2.*}` is the right pattern for me.\r\n\r\nBut when I set pattern to:\r\n`%c    %c{1}    %c{2}    %c{1.2.*}    %c{1.3.*}    %c{1.*.*}    %c{2.*.*}%n`\r\n```py\r\n&gt;&gt;&gt; l = spark.sparkContext._jvm.org.apache.log4j.LogManager.getLogger(&#39;project.class&#39;)\r\n&gt;&gt;&gt; o = spark.sparkContext._jvm.org.apache.log4j.LogManager.getLogger(&#39;org.apache.spark.util.Utils&#39;)\r\n&gt;&gt;&gt; l.info(&#39;&#39;); o.info(&#39;&#39;)\r\nproject.class    class    project.class    p.class    p.class    p.class    pr.class\r\norg.apache.spark.util.Utils    Utils    util.Utils    o.ap.spark.util.Utils    o.apa.spark.util.Utils    o.apache.spark.util.Utils    or.apache.spark.util.Utils\r\n&gt;&gt;&gt;\r\n```\r\n\r\nWhat I want is for it to print: `project.class` and `o.a.s.util.Utils` instead.\r\n\r\n----\r\n\r\nThe description in [official documentation][1] seems VERY confusing:\r\n\r\n&gt; **c{precision}**\r\n&gt;\r\n&gt; **logger{precision}**\r\n&gt;\r\n&gt; *Outputs the name of the logger that published the logging event. The logger conversion specifier can be optionally followed by precision specifier, which consists of a decimal integer, or a pattern starting with a decimal integer.*\r\n&gt;\r\n&gt; *When the precision specifier is an integer value, it reduces the size of the logger name. If the number is positive, the layout prints the corresponding number of rightmost logger name components. If negative, the layout removes the corresponding number of leftmost logger name components. If the precision contains periods then the number before the first period identifies the length to be printed from items that precede tokens in the rest of the pattern. If the number after the first period is followed by an asterisk it indicates how many of the rightmost tokens will be printed in full. See the table below for abbreviation examples.*\r\n&gt;\r\n&gt; *If the precision contains any non-integer characters, then the layout abbreviates the name based on the pattern. If the precision integer is less than one, the layout still prints the right-most token in full. By default, the layout prints the logger name in full.*\r\n\r\n|Conversion Pattern|Logger Name|Result|\r\n|------------------|-----------|------|\r\n|%c{1}|org.apache.commons.Foo|Foo|\r\n|%c{2}|org.apache.commons.Foo|commons.Foo|\r\n|%c{10}|org.apache.commons.Foo|org.apache.commons.Foo|\r\n|%c{-1}|org.apache.commons.Foo|apache.commons.Foo|\r\n|%c{-2}|org.apache.commons.Foo|commons.Foo|\r\n|%c{-10}|org.apache.commons.Foo|org.apache.commons.Foo|\r\n|%c{1.}|org.apache.commons.Foo|o.a.c.Foo|\r\n|%c{1.1.~.~}|org.apache.commons.test.Foo|o.a.~.~.Foo|\r\n|%c{.}|org.apache.commons.test.Foo|....Foo|\r\n|%c{1.1.1.*}|org.apache.commons.test.Foo|o.a.c.test.Foo|\r\n|%c{1.2.*}|org.apache.commons.test.Foo|o.a.c.test.Foo|\r\n|%c{1.3.*}|org.apache.commons.test.Foo|o.a.commons.test.Foo|\r\n|%c{1.8.*}|org.apache.commons.test.Foo|org.apache.commons.test.Foo|\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/layouts.html#patterns","title":"log4j2 How to control logger name using %c{precision} OR logger{precision}","body":"<p>My logger names follow the convention: <code>project.class</code></p>\n<p>I want to ensure that, in logs, all prefixes except the last 2 are abbreviated to one letter each and the last 2 are printed in full. So I have full names for my loggers AND abbreviated names for other loggers E.g.:</p>\n<ul>\n<li><code>project.class</code> is printed as <code>project.class</code></li>\n<li><code>org.apache.spark.util.Utils</code> is printed as <code>o.a.s.util.Utils</code></li>\n</ul>\n<hr />\n<p>According to <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#patterns\" rel=\"nofollow noreferrer\">documentation</a> (as I interpret it) <code>%c{1.2.*}</code> is the right pattern for me.</p>\n<p>But when I set pattern to:\n<code>%c    %c{1}    %c{2}    %c{1.2.*}    %c{1.3.*}    %c{1.*.*}    %c{2.*.*}%n</code></p>\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; l = spark.sparkContext._jvm.org.apache.log4j.LogManager.getLogger('project.class')\n&gt;&gt;&gt; o = spark.sparkContext._jvm.org.apache.log4j.LogManager.getLogger('org.apache.spark.util.Utils')\n&gt;&gt;&gt; l.info(''); o.info('')\nproject.class    class    project.class    p.class    p.class    p.class    pr.class\norg.apache.spark.util.Utils    Utils    util.Utils    o.ap.spark.util.Utils    o.apa.spark.util.Utils    o.apache.spark.util.Utils    or.apache.spark.util.Utils\n&gt;&gt;&gt;\n</code></pre>\n<p>What I want is for it to print: <code>project.class</code> and <code>o.a.s.util.Utils</code> instead.</p>\n<hr />\n<p>The description in <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#patterns\" rel=\"nofollow noreferrer\">official documentation</a> seems VERY confusing:</p>\n<blockquote>\n<p><strong>c{precision}</strong></p>\n<p><strong>logger{precision}</strong></p>\n<p><em>Outputs the name of the logger that published the logging event. The logger conversion specifier can be optionally followed by precision specifier, which consists of a decimal integer, or a pattern starting with a decimal integer.</em></p>\n<p><em>When the precision specifier is an integer value, it reduces the size of the logger name. If the number is positive, the layout prints the corresponding number of rightmost logger name components. If negative, the layout removes the corresponding number of leftmost logger name components. If the precision contains periods then the number before the first period identifies the length to be printed from items that precede tokens in the rest of the pattern. If the number after the first period is followed by an asterisk it indicates how many of the rightmost tokens will be printed in full. See the table below for abbreviation examples.</em></p>\n<p><em>If the precision contains any non-integer characters, then the layout abbreviates the name based on the pattern. If the precision integer is less than one, the layout still prints the right-most token in full. By default, the layout prints the logger name in full.</em></p>\n</blockquote>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Conversion Pattern</th>\n<th>Logger Name</th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>%c{1}</td>\n<td>org.apache.commons.Foo</td>\n<td>Foo</td>\n</tr>\n<tr>\n<td>%c{2}</td>\n<td>org.apache.commons.Foo</td>\n<td>commons.Foo</td>\n</tr>\n<tr>\n<td>%c{10}</td>\n<td>org.apache.commons.Foo</td>\n<td>org.apache.commons.Foo</td>\n</tr>\n<tr>\n<td>%c{-1}</td>\n<td>org.apache.commons.Foo</td>\n<td>apache.commons.Foo</td>\n</tr>\n<tr>\n<td>%c{-2}</td>\n<td>org.apache.commons.Foo</td>\n<td>commons.Foo</td>\n</tr>\n<tr>\n<td>%c{-10}</td>\n<td>org.apache.commons.Foo</td>\n<td>org.apache.commons.Foo</td>\n</tr>\n<tr>\n<td>%c{1.}</td>\n<td>org.apache.commons.Foo</td>\n<td>o.a.c.Foo</td>\n</tr>\n<tr>\n<td>%c{1.1.~.~}</td>\n<td>org.apache.commons.test.Foo</td>\n<td>o.a.~.~.Foo</td>\n</tr>\n<tr>\n<td>%c{.}</td>\n<td>org.apache.commons.test.Foo</td>\n<td>....Foo</td>\n</tr>\n<tr>\n<td>%c{1.1.1.*}</td>\n<td>org.apache.commons.test.Foo</td>\n<td>o.a.c.test.Foo</td>\n</tr>\n<tr>\n<td>%c{1.2.*}</td>\n<td>org.apache.commons.test.Foo</td>\n<td>o.a.c.test.Foo</td>\n</tr>\n<tr>\n<td>%c{1.3.*}</td>\n<td>org.apache.commons.test.Foo</td>\n<td>o.a.commons.test.Foo</td>\n</tr>\n<tr>\n<td>%c{1.8.*}</td>\n<td>org.apache.commons.test.Foo</td>\n<td>org.apache.commons.test.Foo</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":["java","spring-boot","spring-webflux","reactive-programming","netty"],"comments":[{"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"score":0,"creation_date":1686085186,"post_id":76413320,"comment_id":134750416,"body_markdown":"1) There are no proofs &quot;web client time-outs before even making request&quot;. 2) There are no proofs you&#39;ve set read timeout as 2000ms. It is method param which comes somewhere from another place","body":"1) There are no proofs &quot;web client time-outs before even making request&quot;. 2) There are no proofs you&#39;ve set read timeout as 2000ms. It is method param which comes somewhere from another place"},{"owner":{"account_id":13176212,"reputation":535,"user_id":11637718,"display_name":"potatoxchip"},"score":0,"creation_date":1686119486,"post_id":76413320,"comment_id":134753553,"body_markdown":"1) I&#39;ve cross-checked the server and client request logs of both the services(downstream and the service making the API calls). The API calls which are getting timed-out are mostly the cases where the downstream didn&#39;t even get the API call. It is evident from the screenshot of the trace attached as well. The first green line shows the http.request from my reactive service, but there is no span of the request received in the downstream service.\n2) I&#39;ve added the method using which I&#39;m creating the webclient. There I pass the timeouts as 2000ms.","body":"1) I&#39;ve cross-checked the server and client request logs of both the services(downstream and the service making the API calls). The API calls which are getting timed-out are mostly the cases where the downstream didn&#39;t even get the API call. It is evident from the screenshot of the trace attached as well. The first green line shows the http.request from my reactive service, but there is no span of the request received in the downstream service. 2) I&#39;ve added the method using which I&#39;m creating the webclient. There I pass the timeouts as 2000ms."}],"owner":{"account_id":13176212,"reputation":535,"user_id":11637718,"display_name":"potatoxchip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686044441,"creation_date":1686044441,"question_id":76413320,"body_markdown":"My application is a reactive spring boot application, and I am using WebClient to make API calls to downstream services. My downstream service&#39;s p99 is 20ms. The timeout I&#39;ve set to the web client is 2000ms. To my surprise, this doesn&#39;t seem enough for web client to make the request? I checked my APM only to see a lot of API calls reported as read timeouts.\r\n\r\n```\r\norg.springframework.web.reactive.function.client.WebClientRequestException: nested exception is io.netty.handler.timeout.ReadTimeoutException\r\n```\r\n[![See the image attached for the span reported by APM][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CnxRh.png\r\n\r\nI have initialized the webclient using this:\r\n```java\r\nprivate WebClient getWebClient(String baseUrl, int readTimeOut, int responseTimeOut) {\r\n        ConnectionProvider provider = ConnectionProvider.builder(&quot;fixed&quot;)\r\n                .maxConnections(1000)\r\n                .maxIdleTime(Duration.ofSeconds(20))\r\n                .maxLifeTime(Duration.ofSeconds(60))\r\n                .pendingAcquireTimeout(Duration.ofSeconds(60))\r\n                .evictInBackground(Duration.ofSeconds(120))\r\n                .metrics(true)\r\n                .build();\r\n\r\n        EventLoopGroup eventLoopGroup = new NioEventLoopGroup(4);\r\n\r\n        HttpClient httpClient = HttpClient.create(provider)\r\n                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 2000)\r\n                .responseTimeout(Duration.ofMillis(responseTimeOut))\r\n                .runOn(eventLoopGroup)\r\n                .doOnConnected(conn -&gt;\r\n                        conn.addHandlerLast(new ReadTimeoutHandler(readTimeOut, TimeUnit.MILLISECONDS))\r\n                                .addHandlerLast(new WriteTimeoutHandler(5000, TimeUnit.MILLISECONDS)));\r\n\r\n        return WebClient.builder()\r\n                .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n                .filters(exchangeFilterFunctions -&gt; {\r\n                    exchangeFilterFunctions.add(logRequest());\r\n                    exchangeFilterFunctions.add(logResponse());\r\n                })\r\n                .baseUrl(baseUrl)\r\n                .build();\r\n    }\r\n```\r\n\r\nOne thing to note here is that the application has pretty high throughput, and every API call to this service, results in n number of API calls to the downstream. I have also checked the CPU usage in the machine and it looks normal (~10-30%)","title":"Reactor netty web client times-out before even making the API call","body":"<p>My application is a reactive spring boot application, and I am using WebClient to make API calls to downstream services. My downstream service's p99 is 20ms. The timeout I've set to the web client is 2000ms. To my surprise, this doesn't seem enough for web client to make the request? I checked my APM only to see a lot of API calls reported as read timeouts.</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: nested exception is io.netty.handler.timeout.ReadTimeoutException\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CnxRh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CnxRh.png\" alt=\"See the image attached for the span reported by APM\" /></a></p>\n<p>I have initialized the webclient using this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private WebClient getWebClient(String baseUrl, int readTimeOut, int responseTimeOut) {\n        ConnectionProvider provider = ConnectionProvider.builder(&quot;fixed&quot;)\n                .maxConnections(1000)\n                .maxIdleTime(Duration.ofSeconds(20))\n                .maxLifeTime(Duration.ofSeconds(60))\n                .pendingAcquireTimeout(Duration.ofSeconds(60))\n                .evictInBackground(Duration.ofSeconds(120))\n                .metrics(true)\n                .build();\n\n        EventLoopGroup eventLoopGroup = new NioEventLoopGroup(4);\n\n        HttpClient httpClient = HttpClient.create(provider)\n                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 2000)\n                .responseTimeout(Duration.ofMillis(responseTimeOut))\n                .runOn(eventLoopGroup)\n                .doOnConnected(conn -&gt;\n                        conn.addHandlerLast(new ReadTimeoutHandler(readTimeOut, TimeUnit.MILLISECONDS))\n                                .addHandlerLast(new WriteTimeoutHandler(5000, TimeUnit.MILLISECONDS)));\n\n        return WebClient.builder()\n                .clientConnector(new ReactorClientHttpConnector(httpClient))\n                .filters(exchangeFilterFunctions -&gt; {\n                    exchangeFilterFunctions.add(logRequest());\n                    exchangeFilterFunctions.add(logResponse());\n                })\n                .baseUrl(baseUrl)\n                .build();\n    }\n</code></pre>\n<p>One thing to note here is that the application has pretty high throughput, and every API call to this service, results in n number of API calls to the downstream. I have also checked the CPU usage in the machine and it looks normal (~10-30%)</p>\n"},{"tags":["java","scroll","smooth-scrolling","scroller"],"owner":{"account_id":26535061,"reputation":1,"user_id":20166710,"display_name":"stupid Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686043894,"creation_date":1686043375,"question_id":76413182,"body_markdown":"I use this [code](https://stackoverflow.com/questions/8970927/marquee-set-speed/8971920#8971920) snippet to make the text scroll from right to left.\r\nBut I want it to have smoother motion, it can move like this??\r\n\r\n[![\\[enter image description here\\]()][1]][1]\r\n\r\nI have tried continuously checking the scroll position coordinates to make two TextViews run alternately with each other, but it consumes a lot of resources and the two TextViews overlap during scrolling.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r7tCb.jpg","title":"Smooth scrolling effect from right to left","body":"<p>I use this <a href=\"https://stackoverflow.com/questions/8970927/marquee-set-speed/8971920#8971920\">code</a> snippet to make the text scroll from right to left.\nBut I want it to have smoother motion, it can move like this??</p>\n<p><a href=\"https://i.stack.imgur.com/r7tCb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r7tCb.jpg\" alt=\"[enter image description here]()\" /></a></p>\n<p>I have tried continuously checking the scroll position coordinates to make two TextViews run alternately with each other, but it consumes a lot of resources and the two TextViews overlap during scrolling.</p>\n"},{"tags":["java","android","qr-code"],"answers":[{"tags":[],"owner":{"account_id":6901138,"reputation":61,"user_id":5300726,"display_name":"Hossam Waziry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686043496,"creation_date":1686043496,"answer_id":76413203,"question_id":76413035,"body_markdown":"It looks like you haven&#39;t added zxing dependencies, try adding these in your gradle file:\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n       \r\n        implementation &#39;com.google.zxing:core:3.3.0&#39;\r\n    }\r\n\r\nif it doesn&#39;t work, try this library:\r\n\r\nhttps://github.com/journeyapps/zxing-android-embedded","title":"How Can I solve the errors shown in my code","body":"<p>It looks like you haven't added zxing dependencies, try adding these in your gradle file:</p>\n<pre><code>allprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ndependencies {\n   \n    implementation 'com.google.zxing:core:3.3.0'\n}\n</code></pre>\n<p>if it doesn't work, try this library:</p>\n<p><a href=\"https://github.com/journeyapps/zxing-android-embedded\" rel=\"nofollow noreferrer\">https://github.com/journeyapps/zxing-android-embedded</a></p>\n"}],"owner":{"account_id":28763273,"reputation":1,"user_id":22028710,"display_name":"Kevin Nyongesa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1686043496,"creation_date":1686042334,"question_id":76413035,"body_markdown":"The Errors Shown include the following:\r\nCannot resolve symbol &#39;me&#39; in line 17\r\nCannot resolve symbol &#39;ZXingScannerView&#39; in line 19\r\nCannot resolve method &#39;setContentView(ZXingScannerView)&#39; in line 40\r\nCannot resolve method &#39;setResultHandler(ScanQRActivity)&#39;\r\nMethod does not override method from its superclass in line 45\r\nOverriding method should call `super.onRequestPermissionsResult` in line 66\r\nCannot resolve method &#39;startCamera()&#39; in line 42\r\n\r\n    package com.gretsa.studentattendance;\r\n\r\n    import android.Manifest;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n\r\n    import com.google.zxing.Result;\r\n\r\n    import me.dm7.barcodescanner.zxing.ZXingScannerView;\r\n\r\n    public class ScanQRActivity extends AppCompatActivity implements ZXingScannerView.ResultHandler {\r\n\r\n    private static final int CAMERA_PERMISSION_REQUEST_CODE = 200;\r\n    private static final int SCAN_QR_REQUEST_CODE = 201;\r\n\r\n    private ZXingScannerView scannerView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_scanqr);\r\n\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\r\n            startQRScanner();\r\n        } else {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERMISSION_REQUEST_CODE);\r\n        }\r\n    }\r\n\r\n    private void startQRScanner() {\r\n        scannerView = new ZXingScannerView(this);\r\n        setContentView(scannerView);\r\n        scannerView.setResultHandler(this);\r\n        scannerView.startCamera();\r\n    }\r\n\r\n    @Override\r\n    public void handleResult(Result result) {\r\n        String qrCodeData = result.getText();\r\n        Toast.makeText(this, &quot;Scanned: &quot; + qrCodeData, Toast.LENGTH_SHORT).show();\r\n\r\n        // Pass the scanned QR code data back to the calling activity\r\n        Intent intent = new Intent();\r\n        intent.putExtra(&quot;qr_code_data&quot;, qrCodeData);\r\n        setResult(RESULT_OK, intent);\r\n        finish();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        if (scannerView != null) {\r\n            scannerView.stopCamera();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if (requestCode == CAMERA_PERMISSION_REQUEST_CODE) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                startQRScanner();\r\n            } else {\r\n                Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nTried analysing the problem but that didnt help","title":"How Can I solve the errors shown in my code","body":"<p>The Errors Shown include the following:\nCannot resolve symbol 'me' in line 17\nCannot resolve symbol 'ZXingScannerView' in line 19\nCannot resolve method 'setContentView(ZXingScannerView)' in line 40\nCannot resolve method 'setResultHandler(ScanQRActivity)'\nMethod does not override method from its superclass in line 45\nOverriding method should call <code>super.onRequestPermissionsResult</code> in line 66\nCannot resolve method 'startCamera()' in line 42</p>\n<pre><code>package com.gretsa.studentattendance;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport com.google.zxing.Result;\n\nimport me.dm7.barcodescanner.zxing.ZXingScannerView;\n\npublic class ScanQRActivity extends AppCompatActivity implements ZXingScannerView.ResultHandler {\n\nprivate static final int CAMERA_PERMISSION_REQUEST_CODE = 200;\nprivate static final int SCAN_QR_REQUEST_CODE = 201;\n\nprivate ZXingScannerView scannerView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_scanqr);\n\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED) {\n        startQRScanner();\n    } else {\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, CAMERA_PERMISSION_REQUEST_CODE);\n    }\n}\n\nprivate void startQRScanner() {\n    scannerView = new ZXingScannerView(this);\n    setContentView(scannerView);\n    scannerView.setResultHandler(this);\n    scannerView.startCamera();\n}\n\n@Override\npublic void handleResult(Result result) {\n    String qrCodeData = result.getText();\n    Toast.makeText(this, &quot;Scanned: &quot; + qrCodeData, Toast.LENGTH_SHORT).show();\n\n    // Pass the scanned QR code data back to the calling activity\n    Intent intent = new Intent();\n    intent.putExtra(&quot;qr_code_data&quot;, qrCodeData);\n    setResult(RESULT_OK, intent);\n    finish();\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    if (scannerView != null) {\n        scannerView.stopCamera();\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    if (requestCode == CAMERA_PERMISSION_REQUEST_CODE) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            startQRScanner();\n        } else {\n            Toast.makeText(this, &quot;Camera permission denied&quot;, Toast.LENGTH_SHORT).show();\n            finish();\n        }\n    }\n}\n}\n</code></pre>\n<p>Tried analysing the problem but that didnt help</p>\n"},{"tags":["java","android","xml","google-play","google-play-console"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1686045769,"post_id":76413067,"comment_id":134742195,"body_markdown":"What&#39;s the version code for both apks ?","body":"What&#39;s the version code for both apks ?"},{"owner":{"account_id":8395653,"reputation":29,"user_id":6302844,"accept_rate":100,"display_name":"Singh vivek Pratap"},"score":0,"creation_date":1686046545,"post_id":76413067,"comment_id":134742339,"body_markdown":"@Nitish Phone :- 14600 and tablet :- 14700","body":"@Nitish Phone :- 14600 and tablet :- 14700"},{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1686046795,"post_id":76413067,"comment_id":134742404,"body_markdown":"`When two APKs do overlap (they support some of the same device configurations), a device that falls within that overlap range will receive the APK with a higher version code (defined by android:versionCode).`  - [Multiple-apks support](https://developer.android.com/google/play/publishing/multiple-apks), I&#39;m not 100% sure, but this could be one of the reason for tablet apk being download in Samsung Device.","body":"<code>When two APKs do overlap (they support some of the same device configurations), a device that falls within that overlap range will receive the APK with a higher version code (defined by android:versionCode).</code>  - <a href=\"https://developer.android.com/google/play/publishing/multiple-apks\" rel=\"nofollow noreferrer\">Multiple-apks support</a>, I&#39;m not 100% sure, but this could be one of the reason for tablet apk being download in Samsung Device."},{"owner":{"account_id":8395653,"reputation":29,"user_id":6302844,"accept_rate":100,"display_name":"Singh vivek Pratap"},"score":0,"creation_date":1686057160,"post_id":76413067,"comment_id":134744537,"body_markdown":"Hi @Nitish If I am making a version code larger than a tablet for mobile then I am getting the error &#39;This APK will not be served to any users because it is completely shadowed by one or more APKs with higher version codes. Remove this APK from your release or review the targeting and version codes of the APKs that you are including in this release.&#39;","body":"Hi @Nitish If I am making a version code larger than a tablet for mobile then I am getting the error &#39;This APK will not be served to any users because it is completely shadowed by one or more APKs with higher version codes. Remove this APK from your release or review the targeting and version codes of the APKs that you are including in this release.&#39;"}],"owner":{"account_id":8395653,"reputation":29,"user_id":6302844,"accept_rate":100,"display_name":"Singh vivek Pratap"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686042531,"creation_date":1686042531,"question_id":76413067,"body_markdown":"Currently, my app is having multiple apk support. When the user is trying to download app from the play store for high-end devices (samsung s21 ulta) Play Store is shipping tablet apk (build) to a mobile device.\r\nCan anyone please help me to identify what parameter I missed in the manifest file?\r\n\r\nCurrent filter parameters are used in the manifest file.\r\n\r\n 1. Phone manifest:- \r\n```\r\n&lt;?xml version=&quot;1.0&quot;    encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;&quot;&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.screen.portrait&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;androidx.multidex.MultiDexApplication&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.AD_MANAGER_APP&quot;\r\n            android:value=&quot;true&quot; /&gt;\r\n        &lt;meta-data android:name=&quot;android.max_aspect&quot;\r\n            android:value=&quot;2.4&quot;/&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;&quot;\r\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTask&quot;\r\n            android:resizeableActivity=&quot;false&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:maxAspectRatio=&quot;2.4&quot;&gt;\r\n            &lt;!-- API &gt;= 13, screenSize must be specified with orientation --&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.provider.Settings.ACTION_ADD_ACCOUNT&quot; /&gt;\r\n                &lt;action android:name=&quot;&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;&quot;\r\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;supports-screens\r\n        android:smallScreens=&quot;true&quot;\r\n        android:normalScreens=&quot;true&quot;\r\n        android:largeScreens=&quot;false&quot;\r\n        android:xlargeScreens=&quot;false&quot;\r\n        android:anyDensity=&quot;true&quot;\r\n        android:requiresSmallestWidthDp=&quot;320&quot; /&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\n 2. Tablet Manifeast\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;\tencoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\t  package=&quot;&quot;&gt;\r\n  &lt;uses-feature android:name=&quot;android.hardware.screen.landscape&quot; /&gt;\r\n  &lt;application android:networkSecurityConfig=&quot;@xml/network_security_config&quot;&gt;\r\n\r\n    &lt;meta-data\r\n        android:name=&quot;com.google.android.gms.ads.AD_MANAGER_APP&quot;\r\n        android:value=&quot;true&quot;/&gt;\r\n    &lt;meta-data android:name=&quot;android.max_aspect&quot;\r\n        android:value=&quot;1.7&quot;/&gt;\r\n    &lt;activity android:name=&quot;&quot; android:launchMode=&quot;singleTask&quot;\r\n       android:screenOrientation=&quot;landscape&quot; android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\r\n        android:resizeableActivity=&quot;false&quot; android:exported=&quot;true&quot;\r\n        android:maxAspectRatio=&quot;1.7&quot;&gt;\r\n      &lt;!-- API &gt;= 13, screenSize must be specified with orientation --&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.provider.Settings.ACTION_ADD_ACCOUNT&quot;/&gt;\r\n        &lt;action android:name=&quot;&quot;/&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n      &lt;/intent-filter&gt;\r\n\t  \r\n\t  &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n    &lt;activity android:name=&quot;&quot;\r\n       android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot;\r\n       android:screenOrientation=&quot;landscape&quot;\r\n       android:configChanges=&quot;keyboard|keyboardHidden|orientation&quot;/&gt;\r\n\r\n  &lt;/application&gt;\r\n\r\n  &lt;supports-screens\r\n      android:smallScreens=&quot;false&quot;\r\n      android:normalScreens=&quot;false&quot;\r\n      android:largeScreens=&quot;true&quot;\r\n      android:xlargeScreens=&quot;true&quot;\r\n      android:anyDensity=&quot;true&quot;\r\n      android:requiresSmallestWidthDp=&quot;600&quot; /&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n 3. Common Manifeast\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;    encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;&quot;\r\n    android:installLocation=&quot;auto&quot;&gt;\r\n\r\n    &lt;uses-feature android:glEsVersion=&quot;&quot; /&gt;\r\n\r\n    &lt;queries&gt;\r\n       \r\n    &lt;/queries&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;androidx.multidex.MultiDexApplication&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\r\n        android:requiredAccountType=&quot;com.google&quot;\r\n        android:resizeableActivity=&quot;false&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:theme=&quot;@style/AppCompatTheme&quot;&gt;\r\n \r\n\r\n        &lt;activity\r\n            android:name=&quot;&quot;\r\n            android:label=&quot;sdk&quot; /&gt;\r\n\r\n        &lt;!-- google play service for google ads--&gt;\r\n        &lt;meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt;\r\n        &lt;meta-data android:name=&quot;com.google.android.gms.games.APP_ID&quot; android:value=&quot;@string/app_id&quot;/&gt;\r\n        &lt;meta-data android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot; android:value=&quot;&quot;/&gt;\r\n\r\n      &lt;!-- Has Offers --&gt;\r\n        &lt;receiver\r\n            android:name=&quot;com.mobileapptracker.Tracker&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.android.vending.INSTALL_REFERRER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n    &lt;uses-configuration android:reqTouchScreen=&quot;finger&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; android:maxSdkVersion=&quot;25&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; tools:node=&quot;remove&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; tools:node=&quot;remove&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_ACCOUNTS&quot; /&gt;\r\n\r\n    &lt;!-- Required permission to use in-app billing. --&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.vending.CHECK_LICENSE&quot; /&gt;\r\n    &lt;!--&lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;--&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.USE_CREDENTIALS&quot; /&gt;\r\n    &lt;!-- Cloud to Device Messaging permissions --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\r\n&lt;/manifest&gt;\r\n```\r\n","title":"With multiple apk support tablet apk is downloading from play store in high end samsung mobile device (Samsung s21 ultra)","body":"<p>Currently, my app is having multiple apk support. When the user is trying to download app from the play store for high-end devices (samsung s21 ulta) Play Store is shipping tablet apk (build) to a mobile device.\nCan anyone please help me to identify what parameter I missed in the manifest file?</p>\n<p>Current filter parameters are used in the manifest file.</p>\n<ol>\n<li>Phone manifest:-</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot;    encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;&quot;&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.screen.portrait&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;androidx.multidex.MultiDexApplication&quot;\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.AD_MANAGER_APP&quot;\n            android:value=&quot;true&quot; /&gt;\n        &lt;meta-data android:name=&quot;android.max_aspect&quot;\n            android:value=&quot;2.4&quot;/&gt;\n\n        &lt;activity\n            android:name=&quot;&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:resizeableActivity=&quot;false&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:maxAspectRatio=&quot;2.4&quot;&gt;\n            &lt;!-- API &gt;= 13, screenSize must be specified with orientation --&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.provider.Settings.ACTION_ADD_ACCOUNT&quot; /&gt;\n                &lt;action android:name=&quot;&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;&quot;\n            android:configChanges=&quot;keyboard|keyboardHidden|orientation&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot; /&gt;\n    &lt;/application&gt;\n\n    &lt;supports-screens\n        android:smallScreens=&quot;true&quot;\n        android:normalScreens=&quot;true&quot;\n        android:largeScreens=&quot;false&quot;\n        android:xlargeScreens=&quot;false&quot;\n        android:anyDensity=&quot;true&quot;\n        android:requiresSmallestWidthDp=&quot;320&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Tablet Manifeast</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n      package=&quot;&quot;&gt;\n  &lt;uses-feature android:name=&quot;android.hardware.screen.landscape&quot; /&gt;\n  &lt;application android:networkSecurityConfig=&quot;@xml/network_security_config&quot;&gt;\n\n    &lt;meta-data\n        android:name=&quot;com.google.android.gms.ads.AD_MANAGER_APP&quot;\n        android:value=&quot;true&quot;/&gt;\n    &lt;meta-data android:name=&quot;android.max_aspect&quot;\n        android:value=&quot;1.7&quot;/&gt;\n    &lt;activity android:name=&quot;&quot; android:launchMode=&quot;singleTask&quot;\n       android:screenOrientation=&quot;landscape&quot; android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\n        android:resizeableActivity=&quot;false&quot; android:exported=&quot;true&quot;\n        android:maxAspectRatio=&quot;1.7&quot;&gt;\n      &lt;!-- API &gt;= 13, screenSize must be specified with orientation --&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.provider.Settings.ACTION_ADD_ACCOUNT&quot;/&gt;\n        &lt;action android:name=&quot;&quot;/&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n      &lt;/intent-filter&gt;\n      \n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n      &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;activity android:name=&quot;&quot;\n       android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot;\n       android:screenOrientation=&quot;landscape&quot;\n       android:configChanges=&quot;keyboard|keyboardHidden|orientation&quot;/&gt;\n\n  &lt;/application&gt;\n\n  &lt;supports-screens\n      android:smallScreens=&quot;false&quot;\n      android:normalScreens=&quot;false&quot;\n      android:largeScreens=&quot;true&quot;\n      android:xlargeScreens=&quot;true&quot;\n      android:anyDensity=&quot;true&quot;\n      android:requiresSmallestWidthDp=&quot;600&quot; /&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Common Manifeast</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot;    encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;&quot;\n    android:installLocation=&quot;auto&quot;&gt;\n\n    &lt;uses-feature android:glEsVersion=&quot;&quot; /&gt;\n\n    &lt;queries&gt;\n       \n    &lt;/queries&gt;\n\n    &lt;application\n        android:name=&quot;androidx.multidex.MultiDexApplication&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:networkSecurityConfig=&quot;@xml/network_security_config&quot;\n        android:requiredAccountType=&quot;com.google&quot;\n        android:resizeableActivity=&quot;false&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:theme=&quot;@style/AppCompatTheme&quot;&gt;\n \n\n        &lt;activity\n            android:name=&quot;&quot;\n            android:label=&quot;sdk&quot; /&gt;\n\n        &lt;!-- google play service for google ads--&gt;\n        &lt;meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt;\n        &lt;meta-data android:name=&quot;com.google.android.gms.games.APP_ID&quot; android:value=&quot;@string/app_id&quot;/&gt;\n        &lt;meta-data android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot; android:value=&quot;&quot;/&gt;\n\n      &lt;!-- Has Offers --&gt;\n        &lt;receiver\n            android:name=&quot;com.mobileapptracker.Tracker&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.android.vending.INSTALL_REFERRER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n    &lt;/application&gt;\n\n    &lt;uses-configuration android:reqTouchScreen=&quot;finger&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; android:maxSdkVersion=&quot;25&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; tools:node=&quot;remove&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; tools:node=&quot;remove&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_ACCOUNTS&quot; /&gt;\n\n    &lt;!-- Required permission to use in-app billing. --&gt;\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.android.vending.CHECK_LICENSE&quot; /&gt;\n    &lt;!--&lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot; /&gt;--&gt;\n    &lt;uses-permission android:name=&quot;android.permission.USE_CREDENTIALS&quot; /&gt;\n    &lt;!-- Cloud to Device Messaging permissions --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","driver","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686042364,"creation_date":1686042364,"answer_id":76413038,"question_id":76410811,"body_markdown":"There have been several threads relating to this issue on the Forge forums. (See [here](https://forums.minecraftforge.net/topic/114940-jvm-access-violation-exception-119/), [here](https://forums.minecraftforge.net/topic/117925-forge-1192-43147-crashing-on-startup-with-exit-code-1) and [here](https://forums.minecraftforge.net/topic/119038-1192-failed-to-run-example-mod-on-fresh-setup/)). You said you tried reinstalling your graphic drivers, but not updating them. I would try updating to the latest first. If that doesn&#39;t work, try downgrading as people in the aforementioned Forge threads have done and reported success.\r\n\r\n&gt;I tried Java 8 and Java 17.\r\n\r\nMinecraft 1.18+ requires Java 17+, so you don&#39;t need to test with Java 8.","title":"Errors outside JVM in file atio6axx.dll+0x193b60","body":"<p>There have been several threads relating to this issue on the Forge forums. (See <a href=\"https://forums.minecraftforge.net/topic/114940-jvm-access-violation-exception-119/\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://forums.minecraftforge.net/topic/117925-forge-1192-43147-crashing-on-startup-with-exit-code-1\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://forums.minecraftforge.net/topic/119038-1192-failed-to-run-example-mod-on-fresh-setup/\" rel=\"nofollow noreferrer\">here</a>). You said you tried reinstalling your graphic drivers, but not updating them. I would try updating to the latest first. If that doesn't work, try downgrading as people in the aforementioned Forge threads have done and reported success.</p>\n<blockquote>\n<p>I tried Java 8 and Java 17.</p>\n</blockquote>\n<p>Minecraft 1.18+ requires Java 17+, so you don't need to test with Java 8.</p>\n"}],"owner":{"account_id":14258314,"reputation":19,"user_id":11273207,"display_name":"TherrSpoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76413038,"answer_count":1,"score":0,"last_activity_date":1686042364,"creation_date":1686013123,"question_id":76410811,"body_markdown":"I am setting up a minecraft mod in IntelliJ in forge version 1.19.2-43.2.12. When I try to run the game from IntelliJ, I get the error message: \r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffb6cda2b60, pid=8868, tid=8924\r\n# JRE version: OpenJDK Runtime Environment Temurin-17.0.7+7 (17.0.7+7) (build 17.0.7+7)\r\n# Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (17.0.7+7, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# C  [atio6axx.dll+0x192b60]\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n# If you would like to submit a bug report, please visit:\r\n#   https://github.com/adoptium/adoptium-support/issues\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n```\r\natio6axx.dll is a driver file in Windows System32. I have reinstalled all graphic drivers and updated Windows 10 to its newest version. I use a Radeon RX 570, and I&#39;ve uninstalled AMD Adrenalin and AMD chipset. My IntelliJ is running on the newest 2023 Community version.\r\nI tried Java 8 and Java 17.","title":"Errors outside JVM in file atio6axx.dll+0x193b60","body":"<p>I am setting up a minecraft mod in IntelliJ in forge version 1.19.2-43.2.12. When I try to run the game from IntelliJ, I get the error message:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffb6cda2b60, pid=8868, tid=8924\n# JRE version: OpenJDK Runtime Environment Temurin-17.0.7+7 (17.0.7+7) (build 17.0.7+7)\n# Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.7+7 (17.0.7+7, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# C  [atio6axx.dll+0x192b60]\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n# If you would like to submit a bug report, please visit:\n#   https://github.com/adoptium/adoptium-support/issues\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n</code></pre>\n<p>atio6axx.dll is a driver file in Windows System32. I have reinstalled all graphic drivers and updated Windows 10 to its newest version. I use a Radeon RX 570, and I've uninstalled AMD Adrenalin and AMD chipset. My IntelliJ is running on the newest 2023 Community version.\nI tried Java 8 and Java 17.</p>\n"},{"tags":["javascript","java","android","cross-browser","android-webview"],"comments":[{"owner":{"account_id":4690554,"reputation":1470,"user_id":3796784,"accept_rate":67,"display_name":"Umesh Chauhan"},"score":0,"creation_date":1487848219,"post_id":42413894,"comment_id":71973515,"body_markdown":"By following this answer http://stackoverflow.com/a/24977839/3796784 you can achieve what you want.","body":"By following this answer <a href=\"http://stackoverflow.com/a/24977839/3796784\">stackoverflow.com/a/24977839/3796784</a> you can achieve what you want."},{"owner":{"display_name":"user4570857"},"score":0,"creation_date":1487848503,"post_id":42413894,"comment_id":71973727,"body_markdown":"@UmeshChauhan, this solution is works for only specific website. But here User will enter any website, consider he will enter http://www.amazon.in/. Then how can I achieve? Your solution is work for me if I know the id of specific input type.","body":"@UmeshChauhan, this solution is works for only specific website. But here User will enter any website, consider he will enter <a href=\"http://www.amazon.in/\" rel=\"nofollow noreferrer\">amazon.in</a>. Then how can I achieve? Your solution is work for me if I know the id of specific input type."},{"owner":{"account_id":4690554,"reputation":1470,"user_id":3796784,"accept_rate":67,"display_name":"Umesh Chauhan"},"score":0,"creation_date":1487854037,"post_id":42413894,"comment_id":71977589,"body_markdown":"I think it is bit difficult to make a generic solution as there is no standard for ids. Um.. may be you can look for text field and there type (text/password) and build a logic around it, but it is not a concrete solution to problem.","body":"I think it is bit difficult to make a generic solution as there is no standard for ids. Um.. may be you can look for text field and there type (text/password) and build a logic around it, but it is not a concrete solution to problem."}],"answers":[{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686042347,"creation_date":1686042347,"answer_id":76413036,"question_id":42413894,"body_markdown":"\r\nTo automatically click a search button in an Android WebView, you can inject JavaScript code after the page has finished loading. First, you need to know the ID or the class of the button in the web page&#39;s HTML source. For example, if the button has the ID next_button, you can use the following code:\r\n\r\n    WebView webView = findViewById(R.id.webview);\r\n    webView.getSettings().setJavaScriptEnabled(true);\r\n    webView.loadUrl(&quot;https://example.com&quot;);\r\n    \r\n    String js = &quot;javascript:(function() { &quot; +\r\n            &quot;document.getElementById(&#39;next_button&#39;).click();&quot; +\r\n            &quot;})()&quot;;\r\n    \r\n    webView.setWebViewClient(new WebViewClient() {\r\n        @Override\r\n        public void onPageFinished(WebView view, String url) {\r\n            super.onPageFinished(view, url);\r\n            view.loadUrl(js);\r\n        }\r\n    });\r\n\r\nIf the button has a class instead of an ID, you can modify the JavaScript code accordingly. For example, if the button has the class search_button, you can use this code:\r\n\r\n    String js = &quot;javascript:(function() { &quot; +\r\n            &quot;document.getElementsByClassName(&#39;next_button&#39;)[0].click();&quot; +\r\n            &quot;})()&quot;;\r\n\r\nThis code assumes that the search button is the first element with the specified class. **Adjust the index [0]** if the button is not the first element with that class\r\n\r\n\r\n","title":"How to autofill data inside webview?","body":"<p>To automatically click a search button in an Android WebView, you can inject JavaScript code after the page has finished loading. First, you need to know the ID or the class of the button in the web page's HTML source. For example, if the button has the ID next_button, you can use the following code:</p>\n<pre><code>WebView webView = findViewById(R.id.webview);\nwebView.getSettings().setJavaScriptEnabled(true);\nwebView.loadUrl(&quot;https://example.com&quot;);\n\nString js = &quot;javascript:(function() { &quot; +\n        &quot;document.getElementById('next_button').click();&quot; +\n        &quot;})()&quot;;\n\nwebView.setWebViewClient(new WebViewClient() {\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        super.onPageFinished(view, url);\n        view.loadUrl(js);\n    }\n});\n</code></pre>\n<p>If the button has a class instead of an ID, you can modify the JavaScript code accordingly. For example, if the button has the class search_button, you can use this code:</p>\n<pre><code>String js = &quot;javascript:(function() { &quot; +\n        &quot;document.getElementsByClassName('next_button')[0].click();&quot; +\n        &quot;})()&quot;;\n</code></pre>\n<p>This code assumes that the search button is the first element with the specified class. <strong>Adjust the index [0]</strong> if the button is not the first element with that class</p>\n"}],"owner":{"display_name":"user4570857"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686042347,"creation_date":1487847763,"question_id":42413894,"body_markdown":"I am stucked in one functionality. I am storing login credentials in my app for website. And there is one LOGIN button is there. When I hit that button, it will redirect to webview with  website. And if there is any email and password, my login credentials will be filled there.\r\n\r\nExample: I have stored facebook credentials in my app. And my webview is loading with https://m.facebook.com and when it will finish loading my stored login credentials will be filled there. So I just need to hit login button from webview to move forward.\r\n\r\nFor my app I am using following code. Which is not working for most website. Can anyone help me how to figure out this issue? Or does anyone has better idea to achieve this kind of functionality?\r\n\r\n\r\n    wvAutofill.loadUrl(&quot;https://mobile.twitter.com/login&quot;);\r\n    wvAutofill.setWebViewClient(new WebViewClient() {\r\n\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void onPageFinished(WebView view, String url) {\r\n            super.onPageFinished(view, url);\r\n\r\n            final String js = &quot;javascript: var x = document.getElementsByTagName(\\&quot;form\\&quot;)[0].getElementsByTagName(&#39;input&#39;);&quot; +\r\n                    &quot;for (var i = 0; i &lt; x.length; i++) {&quot; +\r\n                    &quot;\\nconsole.log(x[i].type);&quot; +\r\n                    &quot;var type = x[i].type;&quot; +\r\n                    &quot;if (type==&#39;text&#39;){&quot; +\r\n                    &quot;x[i].value=\\&quot;abc@gmail.com\\&quot;;&quot; +\r\n                    &quot;};&quot; +\r\n                    &quot;if (type == &#39;password&#39;){\\n&quot; +\r\n                    &quot;x[i].value=\\&quot;abc123\\&quot;;&quot; +\r\n                    &quot;}; &quot; +\r\n                    &quot;if (type == &#39;button&#39; || type == &#39;submit&#39; ||  document.getElementsByTagName(\\&quot;button\\&quot;)[0].tagName == \\&quot;button\\&quot;){&quot; +\r\n                    &quot;x[i].click();&quot; +\r\n                    &quot;}; &quot; +\r\n                    &quot;}&quot;;\r\n\r\n            view.loadUrl(js);\r\n        }\r\n    });\r\n\r\n","title":"How to autofill data inside webview?","body":"<p>I am stucked in one functionality. I am storing login credentials in my app for website. And there is one LOGIN button is there. When I hit that button, it will redirect to webview with  website. And if there is any email and password, my login credentials will be filled there.</p>\n\n<p>Example: I have stored facebook credentials in my app. And my webview is loading with <a href=\"https://m.facebook.com\" rel=\"nofollow noreferrer\">https://m.facebook.com</a> and when it will finish loading my stored login credentials will be filled there. So I just need to hit login button from webview to move forward.</p>\n\n<p>For my app I am using following code. Which is not working for most website. Can anyone help me how to figure out this issue? Or does anyone has better idea to achieve this kind of functionality?</p>\n\n<pre><code>wvAutofill.loadUrl(\"https://mobile.twitter.com/login\");\nwvAutofill.setWebViewClient(new WebViewClient() {\n\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\n        view.loadUrl(url);\n        return true;\n    }\n\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        super.onPageFinished(view, url);\n\n        final String js = \"javascript: var x = document.getElementsByTagName(\\\"form\\\")[0].getElementsByTagName('input');\" +\n                \"for (var i = 0; i &lt; x.length; i++) {\" +\n                \"\\nconsole.log(x[i].type);\" +\n                \"var type = x[i].type;\" +\n                \"if (type=='text'){\" +\n                \"x[i].value=\\\"abc@gmail.com\\\";\" +\n                \"};\" +\n                \"if (type == 'password'){\\n\" +\n                \"x[i].value=\\\"abc123\\\";\" +\n                \"}; \" +\n                \"if (type == 'button' || type == 'submit' ||  document.getElementsByTagName(\\\"button\\\")[0].tagName == \\\"button\\\"){\" +\n                \"x[i].click();\" +\n                \"}; \" +\n                \"}\";\n\n        view.loadUrl(js);\n    }\n});\n</code></pre>\n"},{"tags":["java","azure","azure-vm-scale-set"],"comments":[{"owner":{"account_id":938155,"reputation":961,"user_id":966705,"display_name":"Gautam Sharma"},"score":0,"creation_date":1686043291,"post_id":76412834,"comment_id":134741608,"body_markdown":"you can troubleshoot with below .\n1. Are you able to access your applications url using public Ip address inside linux vm using curl command? \n2. is the default webserver page (http://abc.eastus.cloudapp.azure.com:42200) able to accessible outside the VM or inside windows VM?- \n3. check bout VM belongs to same subnet and same security rules applied?","body":"you can troubleshoot with below . 1. Are you able to access your applications url using public Ip address inside linux vm using curl command?  2. is the default webserver page (<a href=\"http://abc.eastus.cloudapp.azure.com:42200\" rel=\"nofollow noreferrer\">abc.eastus.cloudapp.azure.com:42200</a>) able to accessible outside the VM or inside windows VM?-  3. check bout VM belongs to same subnet and same security rules applied?"},{"owner":{"account_id":3868047,"reputation":59,"user_id":3204086,"display_name":"user3204086"},"score":0,"creation_date":1686045957,"post_id":76412834,"comment_id":134742225,"body_markdown":"@GautamSharma 1. I am unable to access curl abc.eastus.cloudapp.azure.com, getting connection refused :80, however port 80 is already open. 2. Unable to access the http://abc.eastus.cloudapp.azure.com:42200 outside or inside vm 3. Yes, vm belongs to same subnet with same security rules. --- application have a rest endpoint to be called as http://abc.eastus.cloudapp.azure.com:42200/rest/api/&lt;parameters&gt; which should receive get requests and perform actions. Any idea on how to make it work. If I deploy everything locally, it works without issues. But not sure why it is acting weird in cloud.","body":"@GautamSharma 1. I am unable to access curl abc.eastus.cloudapp.azure.com, getting connection refused :80, however port 80 is already open. 2. Unable to access the <a href=\"http://abc.eastus.cloudapp.azure.com:42200\" rel=\"nofollow noreferrer\">abc.eastus.cloudapp.azure.com:42200</a> outside or inside vm 3. Yes, vm belongs to same subnet with same security rules. --- application have a rest endpoint to be called as <a href=\"http://abc.eastus.cloudapp.azure.com:42200/rest/api/&lt;parameters\" rel=\"nofollow noreferrer\">abc.eastus.cloudapp.azure.com:42200/rest/api/&lt;parameters</a>&gt; which should receive get requests and perform actions. Any idea on how to make it work. If I deploy everything locally, it works without issues. But not sure why it is acting weird in cloud."},{"owner":{"account_id":3868047,"reputation":59,"user_id":3204086,"display_name":"user3204086"},"score":0,"creation_date":1686050972,"post_id":76412834,"comment_id":134743169,"body_markdown":"@GautamSharma I updated the endpoint url by using private ip of linux instead of public. When I access the url on browser I get Http Error 403:The IP address/hostname is not allowed. The same error is coming up in postman.","body":"@GautamSharma I updated the endpoint url by using private ip of linux instead of public. When I access the url on browser I get Http Error 403:The IP address/hostname is not allowed. The same error is coming up in postman."}],"owner":{"account_id":3868047,"reputation":59,"user_id":3204086,"display_name":"user3204086"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686042252,"creation_date":1686040627,"question_id":76412834,"body_markdown":"I have 2 Azure VMs (Windows, Linux) using same virtual network. Both are able to ping each other using the public ip.\r\n\r\nI deployed a java application having its own endpoint in Linux VM and I am using url as:\r\nhttp://abc.eastus.cloudapp.azure.com:42200/rest/&lt;process&gt;\r\n\r\nI am trying to send a GET request from Windows VM using Postman and getting below error\r\n\r\n[![Error Logged in Postman][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Rk7m.png\r\n\r\nI already added port number 42200 in inbound and outbound rules of network security groups.\r\nCan anybody let me know what could be the cause of this?\r\nI can provide more details if required.\r\nThanks in advance.","title":"GET request on endpoint hosted on Linux VM in Azure","body":"<p>I have 2 Azure VMs (Windows, Linux) using same virtual network. Both are able to ping each other using the public ip.</p>\n<p>I deployed a java application having its own endpoint in Linux VM and I am using url as:\n<a href=\"http://abc.eastus.cloudapp.azure.com:42200/rest/\" rel=\"nofollow noreferrer\">http://abc.eastus.cloudapp.azure.com:42200/rest/</a></p>\n<p>I am trying to send a GET request from Windows VM using Postman and getting below error</p>\n<p><a href=\"https://i.stack.imgur.com/1Rk7m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Rk7m.png\" alt=\"Error Logged in Postman\" /></a></p>\n<p>I already added port number 42200 in inbound and outbound rules of network security groups.\nCan anybody let me know what could be the cause of this?\nI can provide more details if required.\nThanks in advance.</p>\n"},{"tags":["java","html-parsing","apache-tika"],"owner":{"account_id":22073770,"reputation":25,"user_id":16334411,"display_name":"Eve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686042237,"creation_date":1686042237,"question_id":76413019,"body_markdown":"I use Tika FACADE: tika-core v1.25, tika-parsers v1.25.\r\n\r\nI need to redefine the Html Parser for full control over the html document processing process.\r\n\r\nTo do this, I created a CustomHtmlParser class and want to pass it for processing, but in such a way as not to change the processing for other files.\r\n\r\nNow CustomHtmlParser extends HtmlParser, \r\n\r\nFinding Files:\r\nCustomHtmlParser:\r\npackage com.mycompany.stackexp.CustomParsers;\r\n\r\nHtmlParser:\r\npackage org.apache.tika.parser.html;\r\n\r\nCode for processing any types:\r\n```\r\n    InputStream is = new BufferedInputStream(curFile.getInputStream())\r\n    AutoDetectParser parser = AutoDetectParser();\r\n    ParseContext pc = new ParseContext();\r\n    Metadata metadata = Metadata();\r\n    Tika tika = new Tika();\r\n\r\n    String mimeType = tika.detect(is); //определяем mimeType нашего документа\r\n    metadata.set(Metadata.CONTENT_TYPE, mimeType);//устанавливаем mimeType\r\n\r\n    CustomBodyContentHandler ch = new CustomBodyContentHandler(-1);\r\n    ch.setRoot(fileName); //Установить root\r\n\r\n    //init my htmlParser\r\n    init_customHtmlParser();\r\n\r\n    parser.parse(is, ch, metadata, pc); \r\n```\r\n\r\nUnder the word: does not work, it is assumed that when saving CustomHtmlParser in ParseContext, when processing an html document, there will be a transition to my parse method (inside the CustomHtmlParser class). But in fact, there is a transition to the standard parse method (inside the HTMLParser class).Or by some other method redirect the processing to my class\r\n\r\nTell me how you can make a parser and replace the already created parser. Or by some other method redirect the processing to my class. My goal: either replace HTMLParser with CustomHtmlParser or add a new class.\r\n\r\n\r\nI try to add my parser in pc (ParseContext):\r\n\r\n```\r\n//v1\r\npublic void init_customHtmlParser(){\r\n    //My new parser which extends HtmlParser\r\n    CustomHtmlParser customHtmlParser = new CustomHtmlParser();\r\n    pc.set(HtmlParser.class, customHtmlParser);\r\n}\r\n\r\n//v2\r\npublic void init_customHtmlParser(){\r\n    //My CustomHtmlParser save as HtmlParser\r\n    HtmlParser customHtmlParser = new CustomHtmlParser();\r\n    pc.set(HtmlParser.class, customHtmlParser);\r\n}\r\n```\r\n\r\nBut in the debugger I see that my class is not active.\r\nI see that each time the HTMLParser class is selected, not my CustomHtmlParser class.\r\n\r\nWhy did I decide that this could help me?\r\nI use customEmbeddedDocExtractor and I add it through this code:\r\n\r\n```\r\nif (pc.get(EmbeddedDocumentExtractor.class) == null) {\r\n    Parser p = pc.get(Parser.class);\r\n    if (p == null) {\r\n        pc.set(Parser.class, parser);\r\n    }\r\n\r\n    this.customEmbeddedDocExtractor = new CustomParsingEmbeddedDocumentExtractor(pc);\r\n    customEmbeddedDocExtractor.saveCustomBodyContentHandler(ch);\r\n    customEmbeddedDocExtractor.setRoot(fileName);\r\n    pc.set(EmbeddedDocumentExtractor.class, customEmbeddedDocExtractor);\r\n}\r\n```\r\n\r\n- EmbeddedDocumentExtractor in package org.apache.tika.extractor;\r\n- customEmbeddedDocExtractor in package com.mycompany.stackexp;\r\n\r\nPublic CustomParsingEmbeddedDocumentExtractor extends ParsingEmbeddedDocumentExtractor.\r\n\r\nAnd when working with Custom Parsing Embedded Document Extractor, everything is added and works as expected.\r\n\r\n","title":"Cannot to add HtmlParser in ParseContex in TIKA","body":"<p>I use Tika FACADE: tika-core v1.25, tika-parsers v1.25.</p>\n<p>I need to redefine the Html Parser for full control over the html document processing process.</p>\n<p>To do this, I created a CustomHtmlParser class and want to pass it for processing, but in such a way as not to change the processing for other files.</p>\n<p>Now CustomHtmlParser extends HtmlParser,</p>\n<p>Finding Files:\nCustomHtmlParser:\npackage com.mycompany.stackexp.CustomParsers;</p>\n<p>HtmlParser:\npackage org.apache.tika.parser.html;</p>\n<p>Code for processing any types:</p>\n<pre><code>    InputStream is = new BufferedInputStream(curFile.getInputStream())\n    AutoDetectParser parser = AutoDetectParser();\n    ParseContext pc = new ParseContext();\n    Metadata metadata = Metadata();\n    Tika tika = new Tika();\n\n    String mimeType = tika.detect(is); //определяем mimeType нашего документа\n    metadata.set(Metadata.CONTENT_TYPE, mimeType);//устанавливаем mimeType\n\n    CustomBodyContentHandler ch = new CustomBodyContentHandler(-1);\n    ch.setRoot(fileName); //Установить root\n\n    //init my htmlParser\n    init_customHtmlParser();\n\n    parser.parse(is, ch, metadata, pc); \n</code></pre>\n<p>Under the word: does not work, it is assumed that when saving CustomHtmlParser in ParseContext, when processing an html document, there will be a transition to my parse method (inside the CustomHtmlParser class). But in fact, there is a transition to the standard parse method (inside the HTMLParser class).Or by some other method redirect the processing to my class</p>\n<p>Tell me how you can make a parser and replace the already created parser. Or by some other method redirect the processing to my class. My goal: either replace HTMLParser with CustomHtmlParser or add a new class.</p>\n<p>I try to add my parser in pc (ParseContext):</p>\n<pre><code>//v1\npublic void init_customHtmlParser(){\n    //My new parser which extends HtmlParser\n    CustomHtmlParser customHtmlParser = new CustomHtmlParser();\n    pc.set(HtmlParser.class, customHtmlParser);\n}\n\n//v2\npublic void init_customHtmlParser(){\n    //My CustomHtmlParser save as HtmlParser\n    HtmlParser customHtmlParser = new CustomHtmlParser();\n    pc.set(HtmlParser.class, customHtmlParser);\n}\n</code></pre>\n<p>But in the debugger I see that my class is not active.\nI see that each time the HTMLParser class is selected, not my CustomHtmlParser class.</p>\n<p>Why did I decide that this could help me?\nI use customEmbeddedDocExtractor and I add it through this code:</p>\n<pre><code>if (pc.get(EmbeddedDocumentExtractor.class) == null) {\n    Parser p = pc.get(Parser.class);\n    if (p == null) {\n        pc.set(Parser.class, parser);\n    }\n\n    this.customEmbeddedDocExtractor = new CustomParsingEmbeddedDocumentExtractor(pc);\n    customEmbeddedDocExtractor.saveCustomBodyContentHandler(ch);\n    customEmbeddedDocExtractor.setRoot(fileName);\n    pc.set(EmbeddedDocumentExtractor.class, customEmbeddedDocExtractor);\n}\n</code></pre>\n<ul>\n<li>EmbeddedDocumentExtractor in package org.apache.tika.extractor;</li>\n<li>customEmbeddedDocExtractor in package com.mycompany.stackexp;</li>\n</ul>\n<p>Public CustomParsingEmbeddedDocumentExtractor extends ParsingEmbeddedDocumentExtractor.</p>\n<p>And when working with Custom Parsing Embedded Document Extractor, everything is added and works as expected.</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":5476147,"reputation":1705,"user_id":5763564,"accept_rate":89,"display_name":"Marijn"},"score":1,"creation_date":1686043406,"post_id":76413008,"comment_id":134741629,"body_markdown":"Probably because this method is intended for transformations with a format of algorithm/mode/padding, like `getInstance(&quot;AES/CBC/PKCS5Padding&quot;)`. Because they have internal structure, these are more naturally described and parsed as a string instead of a long list of constants for each possible combination. The method also works if you just provide an algorithm name without a transformation, but that does not seem to be the main usecase. Of course you can always create your own constants to prevent typos.","body":"Probably because this method is intended for transformations with a format of algorithm/mode/padding, like <code>getInstance(&quot;AES&#47;CBC&#47;PKCS5Padding&quot;)</code>. Because they have internal structure, these are more naturally described and parsed as a string instead of a long list of constants for each possible combination. The method also works if you just provide an algorithm name without a transformation, but that does not seem to be the main usecase. Of course you can always create your own constants to prevent typos."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1686047419,"post_id":76413008,"comment_id":134742514,"body_markdown":"To answer your title rather than your question, there are constants for init opmode and unwrap keytype: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/Cipher.html#field-detail","body":"To answer your title rather than your question, there are constants for init opmode and unwrap keytype: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/Cipher.html#field-detail\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/&hellip;</a>"}],"owner":{"account_id":5382167,"reputation":334,"user_id":4287120,"display_name":"Julian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686042158,"creation_date":1686042158,"question_id":76413008,"body_markdown":"I think a hardcoded String is error-prone, but I didnt found any Consants to set the algorithm for \r\n\r\n    Cipher.getInstance(...)\r\n\r\nAm I blind or is there nothing out there?","title":"Are there no constants for javax.crypto.Cipher in Java?","body":"<p>I think a hardcoded String is error-prone, but I didnt found any Consants to set the algorithm for</p>\n<pre><code>Cipher.getInstance(...)\n</code></pre>\n<p>Am I blind or is there nothing out there?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1000261,"reputation":2029,"user_id":1015289,"accept_rate":100,"display_name":"Wayne Phipps"},"score":0,"creation_date":1545961801,"post_id":53952118,"comment_id":94744195,"body_markdown":"Please check your applications manifest. It needs to include the SEND_SMS permission mentioned in the error","body":"Please check your applications manifest. It needs to include the SEND_SMS permission mentioned in the error"},{"owner":{"account_id":14868796,"reputation":39,"user_id":10736925,"display_name":"Coder32"},"score":0,"creation_date":1545962066,"post_id":53952118,"comment_id":94744243,"body_markdown":"I did that getting this error: java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS.","body":"I did that getting this error: java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS."},{"owner":{"account_id":7467256,"reputation":3473,"user_id":5676318,"display_name":"GianhTran"},"score":1,"creation_date":1545964042,"post_id":53952118,"comment_id":94744545,"body_markdown":"you should take a look into official document https://developer.android.com/training/permissions/requesting","body":"you should take a look into official document <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">developer.android.com/training/permissions/requesting</a>"}],"answers":[{"tags":[],"owner":{"account_id":14048539,"reputation":2521,"user_id":10148053,"display_name":"Daniel B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545954611,"creation_date":1545954611,"answer_id":53952128,"question_id":53952118,"body_markdown":"Add `&lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot;/&gt;` to your manifest xml file.\r\n\r\nThe error is generated because the app does not have the proper permissions to send an sms.","title":"java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS","body":"<p>Add <code>&lt;uses-permission android:name=\"android.permission.SEND_SMS\"/&gt;</code> to your manifest xml file.</p>\n\n<p>The error is generated because the app does not have the proper permissions to send an sms.</p>\n"},{"tags":[],"owner":{"account_id":7586741,"reputation":364,"user_id":5755569,"display_name":"satyan_android"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545972730,"creation_date":1545971339,"answer_id":53953691,"question_id":53952118,"body_markdown":"You must Use SMS intent or you need to send a declaration Form...\r\n**SMS, CALL LOG.. not allowed from 2019 Jan 9th.. Plesse Check this link android SMS Permissions**\r\n\r\n[Android SMS PErmissions][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53455680/automatically-read-otp-from-smses-in-later-versions-from-api-level-26-is-not-all","title":"java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS","body":"<p>You must Use SMS intent or you need to send a declaration Form...\n<strong>SMS, CALL LOG.. not allowed from 2019 Jan 9th.. Plesse Check this link android SMS Permissions</strong></p>\n\n<p><a href=\"https://stackoverflow.com/questions/53455680/automatically-read-otp-from-smses-in-later-versions-from-api-level-26-is-not-all\">Android SMS PErmissions</a></p>\n"},{"tags":[],"owner":{"account_id":14891413,"reputation":739,"user_id":10752944,"display_name":"Kartik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1545992722,"creation_date":1545971605,"answer_id":53953712,"question_id":53952118,"body_markdown":"Try adding this code in onCreate method of your 1st activity and feel free to contact me again if any error persists.\r\nThis will check for SMS permission and will ask for it in case it hasn&#39;t been granted.\r\n\r\n    Here, &#39;this&#39; is the current activity\r\n\r\n    if ((ContextCompat.checkSelfPermission(this, Manifest.permission.READ_SMS) + \r\n        ContextCompat.checkSelfPermission(this, Manifest.permission.SEND_SMS))\r\n            != PackageManager.PERMISSION_GRANTED) {\r\n\r\n    // Permission is not granted\r\n    // Should we show an explanation?\r\n\r\n    if (ActivityCompat.shouldShowRequestPermissionRationale(this,&quot;Manifest.permission.READ_SMS&quot;) ||\r\n                ActivityCompat.shouldShowRequestPermissionRationale(this,&quot;Manifest.permission.READ_SMS&quot;)) {\r\n\r\n        // Show an explanation to the user *asynchronously* -- don&#39;t block\r\n        // this thread waiting for the user&#39;s response! After the user\r\n        // sees the explanation, try again to request the permission.\r\n\r\n    } else {\r\n\r\n        // No explanation needed; request the permission\r\n        ActivityCompat.requestPermissions(this,\r\n                    new String[]{&quot;Manifest.permission.READ_SMS, Manifest.permission.SEND_SMS&quot;},\r\n                    REQUEST_CODE);\r\n\r\n         // REQUEST_CODE is an\r\n         // app-defined int constant. The callback method gets the\r\n         // result of the request.\r\n      }\r\n    }\r\n\r\n    else {\r\n            // Permission has already been granted\r\n    }","title":"java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS","body":"<p>Try adding this code in onCreate method of your 1st activity and feel free to contact me again if any error persists.\nThis will check for SMS permission and will ask for it in case it hasn't been granted.</p>\n\n<pre><code>Here, 'this' is the current activity\n\nif ((ContextCompat.checkSelfPermission(this, Manifest.permission.READ_SMS) + \n    ContextCompat.checkSelfPermission(this, Manifest.permission.SEND_SMS))\n        != PackageManager.PERMISSION_GRANTED) {\n\n// Permission is not granted\n// Should we show an explanation?\n\nif (ActivityCompat.shouldShowRequestPermissionRationale(this,\"Manifest.permission.READ_SMS\") ||\n            ActivityCompat.shouldShowRequestPermissionRationale(this,\"Manifest.permission.READ_SMS\")) {\n\n    // Show an explanation to the user *asynchronously* -- don't block\n    // this thread waiting for the user's response! After the user\n    // sees the explanation, try again to request the permission.\n\n} else {\n\n    // No explanation needed; request the permission\n    ActivityCompat.requestPermissions(this,\n                new String[]{\"Manifest.permission.READ_SMS, Manifest.permission.SEND_SMS\"},\n                REQUEST_CODE);\n\n     // REQUEST_CODE is an\n     // app-defined int constant. The callback method gets the\n     // result of the request.\n  }\n}\n\nelse {\n        // Permission has already been granted\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1820446,"reputation":3830,"user_id":1654631,"accept_rate":0,"display_name":"Shiv Buyya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586206154,"creation_date":1586206154,"answer_id":61068724,"question_id":53952118,"body_markdown":"Add below code in your **first or main activity**, if added in fragment it may not work.\r\n    \r\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n                    if (checkSelfPermission(Manifest.permission.SEND_SMS) == PackageManager.PERMISSION_DENIED) {\r\n                        Log.d(&quot;permission&quot;, &quot;permission denied to SEND_SMS - requesting it&quot;);\r\n                        String[] permissions = {Manifest.permission.SEND_SMS};\r\n                        requestPermissions(permissions, PERMISSION_REQUEST_CODE);\r\n                    }\r\n                }\r\n\r\nIf you have not added below permission in Manifest file please add:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot;/&gt;","title":"java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS","body":"<p>Add below code in your <strong>first or main activity</strong>, if added in fragment it may not work.</p>\n\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n                if (checkSelfPermission(Manifest.permission.SEND_SMS) == PackageManager.PERMISSION_DENIED) {\n                    Log.d(\"permission\", \"permission denied to SEND_SMS - requesting it\");\n                    String[] permissions = {Manifest.permission.SEND_SMS};\n                    requestPermissions(permissions, PERMISSION_REQUEST_CODE);\n                }\n            }\n</code></pre>\n\n<p>If you have not added below permission in Manifest file please add:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.SEND_SMS\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22462554,"reputation":23,"user_id":16752454,"display_name":"sameera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686042033,"creation_date":1686028249,"answer_id":76411592,"question_id":53952118,"body_markdown":"After you run your project,you project apk file install in your phone.then you have to give sms allow permission from your real device into installed app.\r\n\r\nIn your android phone\r\nGo to setting-&gt; apps-&gt; select your project apk -&gt; permission -&gt; allow send sms permission","title":"java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS","body":"<p>After you run your project,you project apk file install in your phone.then you have to give sms allow permission from your real device into installed app.</p>\n<p>In your android phone\nGo to setting-&gt; apps-&gt; select your project apk -&gt; permission -&gt; allow send sms permission</p>\n"}],"owner":{"account_id":14868796,"reputation":39,"user_id":10736925,"display_name":"Coder32"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9704,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":5,"score":0,"last_activity_date":1686042033,"creation_date":1545954521,"question_id":53952118,"body_markdown":"My app keeps crashing with this error code: \r\n                                                        \r\n    java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS.\r\n\r\nThis is my code \r\n\r\n            Button button2 = (Button) findViewById(R.id.text);\r\n            button2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n            String messageToSend = &quot;this is a text&quot;;\r\n            String number = &quot;XXXXXX&quot;;\r\n\r\n            SmsManager.getDefault().sendTextMessage(number, null, messageToSend, null,null);\r\n\r\n        }\r\n    });\r\n\r\n}","title":"java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS","body":"<p>My app keeps crashing with this error code: </p>\n\n<pre><code>java.lang.SecurityException: Sending SMS message: uid 10282 does not have android.permission.SEND_SMS.\n</code></pre>\n\n<p>This is my code </p>\n\n<pre><code>        Button button2 = (Button) findViewById(R.id.text);\n        button2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n        String messageToSend = \"this is a text\";\n        String number = \"XXXXXX\";\n\n        SmsManager.getDefault().sendTextMessage(number, null, messageToSend, null,null);\n\n    }\n});\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","logging","log4j","release-builds"],"owner":{"account_id":28762997,"reputation":1,"user_id":22028476,"display_name":"Deepanshu Bajaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686041805,"creation_date":1686041805,"question_id":76412969,"body_markdown":"It is working with the Debug mode and Signed Debug APK also, but when I create the Signed Release APK, the build was successful but it crashes when I open it.\r\n\r\nHere is the error and warning after installing and opening the Signed released APK :\r\n\r\n----------ERROR-----------\r\n\r\n```\r\nFATAL EXCEPTION: main                                                                                                     Process: com.coolrgroup.coolrvirtualhub, PID: 2969                                                                                                     java.lang.ExceptionInInitializerError                                                                                                     \tat x.e.&lt;clinit&gt;(Unknown Source:0)                                                                                                     \tat x.f.get(:1)                                                                                                     \tat w2.a.get(Unknown Source:13)                                                                                                     \tat y.b.get(:1)                                                                                                     \tat w2.a.get(Unknown Source:13)                                                                                                     \tat t.a.get(:7)                                                                                                     \tat w2.a.get(Unknown Source:13)                                                                                                     \tat x.c.get(:5)                                                                                                     \tat w2.a.get(Unknown Source:13)                                                                                                     \tat c0.b.get(:1)                                                                                                     \tat w2.a.get(Unknown Source:13)                                                                                                     \tat e0.c.d(:49)                                                                                                     \tat e0.c.c(:7)                                                                                                     \tat o3.f.b(:1)                                                                                                     \tat x3.a.c(Unknown Source:9)                                                                                                     \tat o3.f.b(:1)                                                                                                     \tat n1.e.&lt;init&gt;(Unknown Source:4)                                                                                                     \tat com.bletag.mqtt.HiveMqttClient.startMqtt(:21)                                                                                                     \tat com.coolrgroup.virtualhub.Login.onCreate(Unknown Source:361)                                                                                                     \tat android.app.Activity.performCreate(Activity.java:7023)                                                                                                     \tat android.app.Activity.performCreate(Activity.java:7014)                                                                                                     \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)                                                                                                     \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2758)                                                                                                     \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883)                                                                                                     \tat android.app.ActivityThread.-wrap11(Unknown Source:0)                                                                                                     \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613)                                                                                                     \tat android.os.Handler.dispatchMessage(Handler.java:106)                                                                                                     \tat android.os.Looper.loop(Looper.java:164)                                                                                                     \tat android.app.ActivityThread.main(ActivityThread.java:6523)                                                                                                     \tat java.lang.reflect.Method.invoke(Native Method)                                                                                                     \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)                                                                                                     \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)                                                                                                     Caused by: java.lang.IllegalArgumentException: Can&#39;t find &#39;[toLeakAwareBuffer]&#39; in z2.b                                                                                                     \tat h3.q.a(Unknown Source:130)                                                                                                     \tat z2.b.&lt;clinit&gt;(Unknown Source:8)                                                                                                     \tat x.e.&lt;clinit&gt;(Unknown Source:0)&#160;                                                                                                     \tat x.f.get(:1)&#160;                                                                                                     \tat w2.a.get(Unknown Source:13)&#160;                                                                                                     \tat y.b.get(:1)&#160;                                                                                                     \tat w2.a.get(Unknown Source:13)&#160;                                                                                                     \tat t.a.get(:7)&#160;                                                                                                     \tat w2.a.get(Unknown Source:13)&#160;                                                                                                     \tat x.c.get(:5)&#160;                                                                                                     \tat w2.a.get(Unknown Source:13)&#160;                                                                                                     \tat c0.b.get(:1)&#160;                                                                                                     \tat w2.a.get(Unknown Source:13)&#160;                                                                                                     \tat e0.c.d(:49)&#160;                                                                                                     \tat e0.c.c(:7)&#160;                                                                                                     \tat o3.f.b(:1)&#160;                                                                                                     \tat x3.a.c(Unknown Source:9)&#160;                                                                                                     \tat o3.f.b(:1)&#160;                                                                                                     \tat n1.e.&lt;init&gt;(Unknown Source:4)&#160;                                                                                                     \tat com.bletag.mqtt.HiveMqttClient.startMqtt(:21)&#160;                                                                                                     \tat com.coolrgroup.virtualhub.Login.onCreate(Unknown Source:361)&#160;                                                                                                     \tat android.app.Activity.performCreate(Activity.java:7023)&#160;                                                                                                     \tat android.app.Activity.performCreate(Activity.java:7014)&#160;                                                                                                     \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)&#160;                                                                                                     \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2758)&#160;                                                                                                     \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883)&#160;                                                                                                     \tat android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;                                                                                                     \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613)&#160;                                                                                                     \tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;                                                                                                     \tat android.os.Looper.loop(Looper.java:164)&#160;                                                                                                     \tat android.app.ActivityThread.main(ActivityThread.java:6523)&#160;                                                                                                     \tat java.lang.reflect.Method.invoke(Native Method)&#160;                                                                                                     \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)&#160;                                                                                                     \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)\r\n```\r\n\r\n-----------WARNING AFTER THIS ERROR (LOG4J CLASS NOT FOUND)--------------\r\n\r\n```\r\nlog4j:WARN Caught Exception while in Loader.getResource. This may be innocuous. 2023-06-06 10:59:52.864  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  java.lang.NoClassDefFoundError 2023-06-06 10:59:52.869  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat m4.g.a(Unknown Source:8) 2023-06-06 10:59:52.869  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat m4.g.b(Unknown Source:60) 2023-06-06 10:59:52.869  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat k4.k.&lt;clinit&gt;(Unknown Source:56) 2023-06-06 10:59:52.869  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat k4.k.a(Unknown Source:0) 2023-06-06 10:59:52.869  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat com.coolrgroup.virtualhub.Login.&lt;init&gt;(:2) 2023-06-06 10:59:52.869  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.Class.newInstance(Native Method) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.app.Instrumentation.newActivity(Instrumentation.java:1174) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2696) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.app.ActivityThread.-wrap11(Unknown Source:0) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.os.Handler.dispatchMessage(Handler.java:106) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.os.Looper.loop(Looper.java:164) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.app.ActivityThread.main(ActivityThread.java:6523) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.reflect.Method.invoke(Native Method) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857) 2023-06-06 10:59:52.871  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  Caused by: java.lang.ClassNotFoundException: org.apache.log4j.helpers.Loader 2023-06-06 10:59:52.871  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.Class.classForName(Native Method) 2023-06-06 10:59:52.871  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.Class.forName(Class.java:453) 2023-06-06 10:59:52.871  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.Class.forName(Class.java:378) 2023-06-06 10:59:52.871  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat m4.g.a(Unknown Source:0) 2023-06-06 10:59:52.871  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \t... 16 more 2023-06-06 10:59:52.872  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;org.apache.log4j.helpers.Loader&quot; on path: DexPathList[[zip file &quot;/data/app/com.coolrgroup.coolrvirtualhub-H48SnYDjkBBiZSDa0fRsqA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.coolrgroup.coolrvirtualhub-H48SnYDjkBBiZSDa0fRsqA==/lib/arm, /system/lib, /vendor/lib]] 2023-06-06 10:59:52.872  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:125) 2023-06-06 10:59:52.872  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.ClassLoader.loadClass(ClassLoader.java:379) 2023-06-06 10:59:52.872  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.ClassLoader.loadClass(ClassLoader.java:312) 2023-06-06 10:59:52.873  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \t... 20 more 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  log4j:WARN Caught Exception while in Loader.getResource. This may be innocuous. 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  java.lang.NoClassDefFoundError 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat m4.g.a(Unknown Source:8) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat m4.g.b(Unknown Source:60) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat k4.k.&lt;clinit&gt;(Unknown Source:64) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat k4.k.a(Unknown Source:0) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat com.coolrgroup.virtualhub.Login.&lt;init&gt;(:2) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.Class.newInstance(Native Method) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.app.Instrumentation.newActivity(Instrumentation.java:1174) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2696) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.app.ActivityThread.-wrap11(Unknown Source:0) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.os.Handler.dispatchMessage(Handler.java:106) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.os.Looper.loop(Looper.java:164) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat android.app.ActivityThread.main(ActivityThread.java:6523) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.reflect.Method.invoke(Native Method) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  Caused by: java.lang.ClassNotFoundException: org.apache.log4j.helpers.Loader 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.Class.classForName(Native Method) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.Class.forName(Class.java:453) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.Class.forName(Class.java:378) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat m4.g.a(Unknown Source:0) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \t... 16 more 2023-06-06 10:59:52.880  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;org.apache.log4j.helpers.Loader&quot; on path: DexPathList[[zip file &quot;/data/app/com.coolrgroup.coolrvirtualhub-H48SnYDjkBBiZSDa0fRsqA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.coolrgroup.coolrvirtualhub-H48SnYDjkBBiZSDa0fRsqA==/lib/arm, /system/lib, /vendor/lib]] 2023-06-06 10:59:52.880  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:125) 2023-06-06 10:59:52.880  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.ClassLoader.loadClass(ClassLoader.java:379) 2023-06-06 10:59:52.880  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  \tat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n```\r\n\r\nPreviously my gradle version is 3.3.1 and in that version the DEBUG build is also not creating it was showing error of class not found for com.andorid.log4j.logger... so i have to change the versions and create build again.\r\nthen I upgraded gradle to latest version and build, the build was creating and running on debug, also signed DEBUG but not working on SIGNED RELEASE BUILD APK\r\n\r\nhere is my gradle files \r\n-----------&lt;Project&gt;/Build.gradle--------------\r\n\r\n\r\n```\r\napply plugin: &#39;HIDDEN&#39;\r\n\r\nandroid {\r\n    signingConfigs {\r\n        config {\r\n            keyAlias &#39;platform&#39;\r\n            keyPassword &#39;mypass&#39;\r\n            storeFile file(&#39;../storeFile/debug.keystore&#39;)\r\n            storePassword &#39;mypass&#39;\r\n        }\r\n    }\r\n    compileSdkVersion 27\r\n    buildToolsVersion &#39;28.0.3&#39;\r\n    useLibrary &#39;org.apache.http.legacy&#39;\r\n    defaultConfig {\r\n        resConfigs &quot;en&quot;\r\n        applicationId &quot;HIDDEN&quot;\r\n        multiDexEnabled false\r\n        minSdkVersion 24\r\n        targetSdkVersion 27\r\n    }\r\n    splits {\r\n        // Configures multiple APKs based on ABI.\r\n        abi {\r\n            // Enables building multiple APKs per ABI.\r\n            enable true\r\n\r\n            // By default all ABIs are included, so use reset() and include to specify that we only\r\n            // want APKs for x86, armeabi-v7a, and mips.\r\n            reset()\r\n\r\n            // Specifies a list of ABIs that Gradle should create APKs for.\r\n            include &quot;armeabi-v7a&quot;\r\n\r\n            // Specifies that we want to also generate a universal APK that includes all ABIs.\r\n            universalApk false\r\n        }\r\n\r\n        density {\r\n            enable false\r\n            // Exclude these densities when building multiple APKs.\r\n            exclude &quot;ldpi&quot;, &quot;tvdpi&quot;, &quot;xxxhdpi&quot;, &quot;400dpi&quot;, &quot;560dpi&quot;\r\n        }\r\n    }\r\n    packagingOptions {\r\n        exclude &#39;META-INF/DEPENDENCIES&#39;\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n        exclude &#39;META-INF/LICENSE.txt&#39;\r\n        exclude &#39;META-INF/license.txt&#39;\r\n        exclude &#39;META-INF/NOTICE&#39;\r\n        exclude &#39;META-INF/NOTICE.txt&#39;\r\n        exclude &#39;META-INF/notice.txt&#39;\r\n        exclude &#39;META-INF/ASL2.0&#39;\r\n        exclude &#39;META-INF/io.netty.versions.properties&#39;\r\n        exclude &#39;META-INF/INDEX.LIST&#39;\r\n    }\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            debuggable false\r\n            jniDebuggable false\r\n            renderscriptDebuggable false\r\n            pseudoLocalesEnabled false\r\n            shrinkResources true\r\n            zipAlignEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            signingConfig signingConfigs.config\r\n        }\r\n        debug {\r\n            signingConfig signingConfigs.config\r\n        }\r\n    }\r\n    productFlavors {\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.android.support:support-v4:27+&#39;\r\n    implementation files(&#39;libs/joda-time-2.4.jar&#39;)\r\n    //implementation files(&#39;libs/BLETag/achartengine-1.1.0.jar&#39;)\r\n    //implementation files(&#39;libs/BLETag/gson-2.2.2.jar&#39;)\r\n    implementation &#39;com.squareup.retrofit2:converter-jackson:2.1.0&#39;\r\n    //implementation files(&#39;libs/BLETag/mobileservices-1.1.5.jar&#39;)\r\n    // implementation files(&#39;libs/BLETag/notifications-1.0.1.jar&#39;)\r\n    //implementation files(&#39;libs/androidlelibrary.jar&#39;)\r\n    //implementation files(&#39;libs/universal-image-loader-1.9.3.jar&#39;)\r\n    implementation files(&#39;libs/httpclient-4.3.5.jar&#39;)\r\n    implementation files(&#39;libs/httpclient-cache-4.3.5.jar&#39;)\r\n    implementation files(&#39;libs/httpcore-4.3.2.jar&#39;)\r\n    implementation files(&#39;libs/httpmime-4.3.5.jar&#39;)\r\n    implementation files(&#39;libs/bluetooth le library.jar&#39;)\r\n    implementation files(&#39;libs/log4j-1.2.17.jar&#39;)\r\n    implementation files(&#39;libs/EasyCursor-0.1.1.jar&#39;)\r\n    implementation files(&#39;libs/commons-logging-1.1.3.jar&#39;)\r\n    implementation files(&#39;libs/android-logging-log4j-1.0.3.jar&#39;)\r\n    implementation files(&#39;libs/commons-codec-1.7.jar&#39;)\r\n    //implementation &#39;com.google.code.gson:gson:2.8.4&#39;\r\n    implementation files (&#39;libs/gson-2.3.jar&#39;)\r\n    implementation &quot;com.hivemq:hivemq-mqtt-client:1.3.0&quot;\r\n}\r\n```\r\n\r\n\r\n------------- &lt;app&gt;/build.gradle ----------------\r\n\r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.4&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    gradle.taskGraph.whenReady {\r\n        tasks.each { task -&gt;\r\n            if (task.name.equals(&#39;mockableAndroidJar&#39;)) {\r\n                task.enabled = false\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"com.android.log4j version 1(1.2.17) - (didn&#39;t want to upgrade it) is not supporting with latest gradlew version : 7.0.2","body":"<p>It is working with the Debug mode and Signed Debug APK also, but when I create the Signed Release APK, the build was successful but it crashes when I open it.</p>\n<p>Here is the error and warning after installing and opening the Signed released APK :</p>\n<p>----------ERROR-----------</p>\n<pre><code>FATAL EXCEPTION: main                                                                                                     Process: com.coolrgroup.coolrvirtualhub, PID: 2969                                                                                                     java.lang.ExceptionInInitializerError                                                                                                      at x.e.&lt;clinit&gt;(Unknown Source:0)                                                                                                       at x.f.get(:1)                                                                                                      at w2.a.get(Unknown Source:13)                                                                                                      at y.b.get(:1)                                                                                                      at w2.a.get(Unknown Source:13)                                                                                                      at t.a.get(:7)                                                                                                      at w2.a.get(Unknown Source:13)                                                                                                      at x.c.get(:5)                                                                                                      at w2.a.get(Unknown Source:13)                                                                                                      at c0.b.get(:1)                                                                                                         at w2.a.get(Unknown Source:13)                                                                                                      at e0.c.d(:49)                                                                                                      at e0.c.c(:7)                                                                                                       at o3.f.b(:1)                                                                                                       at x3.a.c(Unknown Source:9)                                                                                                         at o3.f.b(:1)                                                                                                       at n1.e.&lt;init&gt;(Unknown Source:4)                                                                                                        at com.bletag.mqtt.HiveMqttClient.startMqtt(:21)                                                                                                        at com.coolrgroup.virtualhub.Login.onCreate(Unknown Source:361)                                                                                                         at android.app.Activity.performCreate(Activity.java:7023)                                                                                                       at android.app.Activity.performCreate(Activity.java:7014)                                                                                                       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)                                                                                                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2758)                                                                                                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883)                                                                                                        at android.app.ActivityThread.-wrap11(Unknown Source:0)                                                                                                         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613)                                                                                                         at android.os.Handler.dispatchMessage(Handler.java:106)                                                                                                         at android.os.Looper.loop(Looper.java:164)                                                                                                      at android.app.ActivityThread.main(ActivityThread.java:6523)                                                                                                        at java.lang.reflect.Method.invoke(Native Method)                                                                                                       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)                                                                                                     Caused by: java.lang.IllegalArgumentException: Can't find '[toLeakAwareBuffer]' in z2.b                                                                                                         at h3.q.a(Unknown Source:130)                                                                                                       at z2.b.&lt;clinit&gt;(Unknown Source:8)                                                                                                      at x.e.&lt;clinit&gt;(Unknown Source:0)                                                                                                       at x.f.get(:1)                                                                                                          at w2.a.get(Unknown Source:13)                                                                                                          at y.b.get(:1)                                                                                                          at w2.a.get(Unknown Source:13)                                                                                                          at t.a.get(:7)                                                                                                          at w2.a.get(Unknown Source:13)                                                                                                          at x.c.get(:5)                                                                                                          at w2.a.get(Unknown Source:13)                                                                                                          at c0.b.get(:1)                                                                                                         at w2.a.get(Unknown Source:13)                                                                                                          at e0.c.d(:49)                                                                                                          at e0.c.c(:7)                                                                                                       at o3.f.b(:1)                                                                                                       at x3.a.c(Unknown Source:9)                                                                                                         at o3.f.b(:1)                                                                                                       at n1.e.&lt;init&gt;(Unknown Source:4)                                                                                                        at com.bletag.mqtt.HiveMqttClient.startMqtt(:21)                                                                                                        at com.coolrgroup.virtualhub.Login.onCreate(Unknown Source:361)                                                                                                         at android.app.Activity.performCreate(Activity.java:7023)                                                                                                       at android.app.Activity.performCreate(Activity.java:7014)                                                                                                       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)                                                                                                          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2758)                                                                                                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883)                                                                                                        at android.app.ActivityThread.-wrap11(Unknown Source:0)                                                                                                         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613)                                                                                                         at android.os.Handler.dispatchMessage(Handler.java:106)                                                                                                         at android.os.Looper.loop(Looper.java:164)                                                                                                          at android.app.ActivityThread.main(ActivityThread.java:6523)                                                                                                        at java.lang.reflect.Method.invoke(Native Method)                                                                                                       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857)\n</code></pre>\n<p>-----------WARNING AFTER THIS ERROR (LOG4J CLASS NOT FOUND)--------------</p>\n<pre><code>log4j:WARN Caught Exception while in Loader.getResource. This may be innocuous. 2023-06-06 10:59:52.864  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  java.lang.NoClassDefFoundError 2023-06-06 10:59:52.869  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W   at m4.g.a(Unknown Source:8) 2023-06-06 10:59:52.869  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      at m4.g.b(Unknown Source:60) 2023-06-06 10:59:52.869  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W     at k4.k.&lt;clinit&gt;(Unknown Source:56) 2023-06-06 10:59:52.869  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      at k4.k.a(Unknown Source:0) 2023-06-06 10:59:52.869  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      at com.coolrgroup.virtualhub.Login.&lt;init&gt;(:2) 2023-06-06 10:59:52.869  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W    at java.lang.Class.newInstance(Native Method) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W    at android.app.Instrumentation.newActivity(Instrumentation.java:1174) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2696) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W     at android.app.ActivityThread.-wrap11(Unknown Source:0) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      at android.os.Handler.dispatchMessage(Handler.java:106) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      at android.os.Looper.loop(Looper.java:164) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W   at android.app.ActivityThread.main(ActivityThread.java:6523) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W     at java.lang.reflect.Method.invoke(Native Method) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) 2023-06-06 10:59:52.870  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857) 2023-06-06 10:59:52.871  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  Caused by: java.lang.ClassNotFoundException: org.apache.log4j.helpers.Loader 2023-06-06 10:59:52.871  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W     at java.lang.Class.classForName(Native Method) 2023-06-06 10:59:52.871  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W   at java.lang.Class.forName(Class.java:453) 2023-06-06 10:59:52.871  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W   at java.lang.Class.forName(Class.java:378) 2023-06-06 10:59:52.871  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W   at m4.g.a(Unknown Source:0) 2023-06-06 10:59:52.871  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      ... 16 more 2023-06-06 10:59:52.872  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;org.apache.log4j.helpers.Loader&quot; on path: DexPathList[[zip file &quot;/data/app/com.coolrgroup.coolrvirtualhub-H48SnYDjkBBiZSDa0fRsqA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.coolrgroup.coolrvirtualhub-H48SnYDjkBBiZSDa0fRsqA==/lib/arm, /system/lib, /vendor/lib]] 2023-06-06 10:59:52.872  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:125) 2023-06-06 10:59:52.872  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W   at java.lang.ClassLoader.loadClass(ClassLoader.java:379) 2023-06-06 10:59:52.872  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W     at java.lang.ClassLoader.loadClass(ClassLoader.java:312) 2023-06-06 10:59:52.873  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W     ... 20 more 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  log4j:WARN Caught Exception while in Loader.getResource. This may be innocuous. 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  java.lang.NoClassDefFoundError 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W   at m4.g.a(Unknown Source:8) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      at m4.g.b(Unknown Source:60) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W     at k4.k.&lt;clinit&gt;(Unknown Source:64) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      at k4.k.a(Unknown Source:0) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      at com.coolrgroup.virtualhub.Login.&lt;init&gt;(:2) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W    at java.lang.Class.newInstance(Native Method) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W    at android.app.Instrumentation.newActivity(Instrumentation.java:1174) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2696) 2023-06-06 10:59:52.878  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2883) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W     at android.app.ActivityThread.-wrap11(Unknown Source:0) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1613) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      at android.os.Handler.dispatchMessage(Handler.java:106) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      at android.os.Looper.loop(Looper.java:164) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W   at android.app.ActivityThread.main(ActivityThread.java:6523) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W     at java.lang.reflect.Method.invoke(Native Method) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:857) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  Caused by: java.lang.ClassNotFoundException: org.apache.log4j.helpers.Loader 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W     at java.lang.Class.classForName(Native Method) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W   at java.lang.Class.forName(Class.java:453) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W   at java.lang.Class.forName(Class.java:378) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W   at m4.g.a(Unknown Source:0) 2023-06-06 10:59:52.879  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W      ... 16 more 2023-06-06 10:59:52.880  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W  Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;org.apache.log4j.helpers.Loader&quot; on path: DexPathList[[zip file &quot;/data/app/com.coolrgroup.coolrvirtualhub-H48SnYDjkBBiZSDa0fRsqA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.coolrgroup.coolrvirtualhub-H48SnYDjkBBiZSDa0fRsqA==/lib/arm, /system/lib, /vendor/lib]] 2023-06-06 10:59:52.880  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:125) 2023-06-06 10:59:52.880  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W   at java.lang.ClassLoader.loadClass(ClassLoader.java:379) 2023-06-06 10:59:52.880  3026-3026  System.err              com.coolrgroup.coolrvirtualhub       W     at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n</code></pre>\n<p>Previously my gradle version is 3.3.1 and in that version the DEBUG build is also not creating it was showing error of class not found for com.andorid.log4j.logger... so i have to change the versions and create build again.\nthen I upgraded gradle to latest version and build, the build was creating and running on debug, also signed DEBUG but not working on SIGNED RELEASE BUILD APK</p>\n<p>here is my gradle files\n-----------/Build.gradle--------------</p>\n<pre><code>apply plugin: 'HIDDEN'\n\nandroid {\n    signingConfigs {\n        config {\n            keyAlias 'platform'\n            keyPassword 'mypass'\n            storeFile file('../storeFile/debug.keystore')\n            storePassword 'mypass'\n        }\n    }\n    compileSdkVersion 27\n    buildToolsVersion '28.0.3'\n    useLibrary 'org.apache.http.legacy'\n    defaultConfig {\n        resConfigs &quot;en&quot;\n        applicationId &quot;HIDDEN&quot;\n        multiDexEnabled false\n        minSdkVersion 24\n        targetSdkVersion 27\n    }\n    splits {\n        // Configures multiple APKs based on ABI.\n        abi {\n            // Enables building multiple APKs per ABI.\n            enable true\n\n            // By default all ABIs are included, so use reset() and include to specify that we only\n            // want APKs for x86, armeabi-v7a, and mips.\n            reset()\n\n            // Specifies a list of ABIs that Gradle should create APKs for.\n            include &quot;armeabi-v7a&quot;\n\n            // Specifies that we want to also generate a universal APK that includes all ABIs.\n            universalApk false\n        }\n\n        density {\n            enable false\n            // Exclude these densities when building multiple APKs.\n            exclude &quot;ldpi&quot;, &quot;tvdpi&quot;, &quot;xxxhdpi&quot;, &quot;400dpi&quot;, &quot;560dpi&quot;\n        }\n    }\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/ASL2.0'\n        exclude 'META-INF/io.netty.versions.properties'\n        exclude 'META-INF/INDEX.LIST'\n    }\n    lintOptions {\n        checkReleaseBuilds false\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            debuggable false\n            jniDebuggable false\n            renderscriptDebuggable false\n            pseudoLocalesEnabled false\n            shrinkResources true\n            zipAlignEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.config\n        }\n        debug {\n            signingConfig signingConfigs.config\n        }\n    }\n    productFlavors {\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation 'com.android.support:support-v4:27+'\n    implementation files('libs/joda-time-2.4.jar')\n    //implementation files('libs/BLETag/achartengine-1.1.0.jar')\n    //implementation files('libs/BLETag/gson-2.2.2.jar')\n    implementation 'com.squareup.retrofit2:converter-jackson:2.1.0'\n    //implementation files('libs/BLETag/mobileservices-1.1.5.jar')\n    // implementation files('libs/BLETag/notifications-1.0.1.jar')\n    //implementation files('libs/androidlelibrary.jar')\n    //implementation files('libs/universal-image-loader-1.9.3.jar')\n    implementation files('libs/httpclient-4.3.5.jar')\n    implementation files('libs/httpclient-cache-4.3.5.jar')\n    implementation files('libs/httpcore-4.3.2.jar')\n    implementation files('libs/httpmime-4.3.5.jar')\n    implementation files('libs/bluetooth le library.jar')\n    implementation files('libs/log4j-1.2.17.jar')\n    implementation files('libs/EasyCursor-0.1.1.jar')\n    implementation files('libs/commons-logging-1.1.3.jar')\n    implementation files('libs/android-logging-log4j-1.0.3.jar')\n    implementation files('libs/commons-codec-1.7.jar')\n    //implementation 'com.google.code.gson:gson:2.8.4'\n    implementation files ('libs/gson-2.3.jar')\n    implementation &quot;com.hivemq:hivemq-mqtt-client:1.3.0&quot;\n}\n</code></pre>\n<p>------------- /build.gradle ----------------</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.4'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n    gradle.taskGraph.whenReady {\n        tasks.each { task -&gt;\n            if (task.name.equals('mockableAndroidJar')) {\n                task.enabled = false\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","nexus"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686041150,"post_id":76412817,"comment_id":134741144,"body_markdown":"Can other artifacts from the same repo be resolved correctly? If so, check the artifact in your repo. If not, check that the repo is reachable and configured correctly.","body":"Can other artifacts from the same repo be resolved correctly? If so, check the artifact in your repo. If not, check that the repo is reachable and configured correctly."},{"owner":{"account_id":6398567,"reputation":1,"user_id":4962118,"display_name":"Yamigishi"},"score":0,"creation_date":1686043766,"post_id":76412817,"comment_id":134741718,"body_markdown":"I tried with other artifacts and none of them are reachable with gradle (they work fine with maven)","body":"I tried with other artifacts and none of them are reachable with gradle (they work fine with maven)"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1686051143,"post_id":76412817,"comment_id":134743219,"body_markdown":"Can you build by Gradle from the command line? If not, what error are you getting?","body":"Can you build by Gradle from the command line? If not, what error are you getting?"},{"owner":{"account_id":6398567,"reputation":1,"user_id":4962118,"display_name":"Yamigishi"},"score":0,"creation_date":1686057157,"post_id":76412817,"comment_id":134744535,"body_markdown":"Running `gradle dependencies` has a build successful, however it fails to get the dependencies\n``` \ntestCompileClasspath - Compile classpath for source set &#39;test&#39;.\n\\--- org.junit.jupiter:junit-jupiter:5.9.3 FAILED\n```","body":"Running <code>gradle dependencies</code> has a build successful, however it fails to get the dependencies ```  testCompileClasspath - Compile classpath for source set &#39;test&#39;. \\--- org.junit.jupiter:junit-jupiter:5.9.3 FAILED ```"}],"owner":{"account_id":6398567,"reputation":1,"user_id":4962118,"display_name":"Yamigishi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686040502,"creation_date":1686040502,"question_id":76412817,"body_markdown":"I&#39;m trying to set up a new Gradle project, while being on a corporate network that has heavily restricted internet access (basically only the company related websites are allowed through it)\r\nI&#39;ve got a local installation of gradle (8.1.1), and i&#39;m trying to connect to a private Nexus repository for dependencies. \r\n\r\nHere&#39;s my build.gradle.kts file:\r\n\r\n\r\n```kotlin\r\nplugins {\r\n    id(&quot;java&quot;)\r\n}\r\n\r\ngroup = &quot;org.example&quot;\r\nversion = &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n    maven {\r\n        url = uri(&quot;http://company.nexus.url/maven-repository&quot;)\r\n        credentials {\r\n            username = &quot;user&quot;\r\n            password = &quot;password&quot;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    testImplementation(platform(&quot;org.junit:junit-bom:5.9.1&quot;))\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\r\n}\r\n\r\ntasks.test {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nIf i try to reload the project in IntelliJ, it tells me `Could not resolve org.junit:junit-bom:5.9.1 Possible solution: Declare repository providing the artifact` \r\nIf i try to use the command line to do `gradle dependencies` it tells me that junit-bom FAILED with no further explanations.\r\n\r\nAdding -d to `gradle dependencies` shows me that the connection to the nexus repository works, and that it can access the pom file for the dependencies and downloads it. going to the nexus web interface, i can also see that the .jar file is available next to the pom file.\r\n\r\nWhat could the issue be here? The nexus repository is hosting everything for maven projects, so could it be that something is missing in the pom file that gradle requires? And if yes, is there any way to circumvent that without modifying the repository files?","title":"Gradle cannot resolve dependencies from a private nexus repository","body":"<p>I'm trying to set up a new Gradle project, while being on a corporate network that has heavily restricted internet access (basically only the company related websites are allowed through it)\nI've got a local installation of gradle (8.1.1), and i'm trying to connect to a private Nexus repository for dependencies.</p>\n<p>Here's my build.gradle.kts file:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    id(&quot;java&quot;)\n}\n\ngroup = &quot;org.example&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    maven {\n        url = uri(&quot;http://company.nexus.url/maven-repository&quot;)\n        credentials {\n            username = &quot;user&quot;\n            password = &quot;password&quot;\n        }\n    }\n}\n\ndependencies {\n    testImplementation(platform(&quot;org.junit:junit-bom:5.9.1&quot;))\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\n}\n\ntasks.test {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>If i try to reload the project in IntelliJ, it tells me <code>Could not resolve org.junit:junit-bom:5.9.1 Possible solution: Declare repository providing the artifact</code>\nIf i try to use the command line to do <code>gradle dependencies</code> it tells me that junit-bom FAILED with no further explanations.</p>\n<p>Adding -d to <code>gradle dependencies</code> shows me that the connection to the nexus repository works, and that it can access the pom file for the dependencies and downloads it. going to the nexus web interface, i can also see that the .jar file is available next to the pom file.</p>\n<p>What could the issue be here? The nexus repository is hosting everything for maven projects, so could it be that something is missing in the pom file that gradle requires? And if yes, is there any way to circumvent that without modifying the repository files?</p>\n"},{"tags":["javascript","java","android","android-webview"],"answers":[{"tags":[],"owner":{"account_id":8866035,"reputation":199,"user_id":6621188,"accept_rate":50,"display_name":"Oki Doki"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1481627600,"creation_date":1481625094,"answer_id":41118882,"question_id":41087959,"body_markdown":"Well I still can&#39;t get facebook to work, but I got google sign in to work and some other website register/sign ins. SO basically you need to inspect the website&#39;s elements(by using google chrome on desktop) and then get the element id;\r\n\r\nthis is the code to fill out a form/field:\r\n\r\n        webView.loadUrl(&quot;javascript:(function() { document.getElementById(&#39;last_name&#39;).value = &#39;&quot; + lName + &quot;&#39;; ;})()&quot;);\r\n\r\nand this is the code to click a button:\r\n\r\n        webView.loadUrl(&quot;javascript:(function() { var z = document.getElementById(&#39;signInButton&#39;).click(); })()&quot;);\r\n\r\nOh and I used my phone to do this, because with emulator it didn&#39;t do anything.\r\n\r\nEDIT: I actually got facebook to kinda work by inspecting the mobile.facebook.com website, but there was no ID for email, only for password and login button and some other elements.","title":"How can I autofill a websites fields/forms in a WebView in Android Studio?","body":"<p>Well I still can't get facebook to work, but I got google sign in to work and some other website register/sign ins. SO basically you need to inspect the website's elements(by using google chrome on desktop) and then get the element id;</p>\n\n<p>this is the code to fill out a form/field:</p>\n\n<pre><code>    webView.loadUrl(\"javascript:(function() { document.getElementById('last_name').value = '\" + lName + \"'; ;})()\");\n</code></pre>\n\n<p>and this is the code to click a button:</p>\n\n<pre><code>    webView.loadUrl(\"javascript:(function() { var z = document.getElementById('signInButton').click(); })()\");\n</code></pre>\n\n<p>Oh and I used my phone to do this, because with emulator it didn't do anything.</p>\n\n<p>EDIT: I actually got facebook to kinda work by inspecting the mobile.facebook.com website, but there was no ID for email, only for password and login button and some other elements.</p>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686040348,"creation_date":1686040348,"answer_id":76412796,"question_id":41087959,"body_markdown":"Load the web page in the WebView:\r\n\r\nIn your activity or fragment, load the web page containing the login form in the WebView. Make sure to enable JavaScript if the page requires it:\r\n\r\n    WebView webView = findViewById(R.id.webview);\r\n    webView.getSettings().setJavaScriptEnabled(true);\r\n    webView.loadUrl(&quot;https://example.com/login&quot;);\r\n\r\nTo autofill the form with the username and password, you can inject JavaScript into the WebView. You&#39;ll need to know the **IDs or names of the input fields** in the web page&#39;s HTML source. For example, if the input fields have the IDs `username_input` and `password_input`, you can use the following code:\r\n\r\n    String username = &quot;your_username&quot;;\r\n    String password = &quot;your_password&quot;;\r\n    \r\n    String js = &quot;javascript:(function() { &quot; +\r\n            &quot;document.getElementById(&#39;username_input&#39;).value = &#39;&quot; + username + &quot;&#39;;&quot; +\r\n            &quot;document.getElementById(&#39;password_input&#39;).value = &#39;&quot; + password + &quot;&#39;;&quot; +\r\n            &quot;})()&quot;;\r\n    \r\n    webView.setWebViewClient(new WebViewClient() {\r\n        @Override\r\n        public void onPageFinished(WebView view, String url) {\r\n            super.onPageFinished(view, url);\r\n            view.loadUrl(js);\r\n        }\r\n    });\r\n\r\n","title":"How can I autofill a websites fields/forms in a WebView in Android Studio?","body":"<p>Load the web page in the WebView:</p>\n<p>In your activity or fragment, load the web page containing the login form in the WebView. Make sure to enable JavaScript if the page requires it:</p>\n<pre><code>WebView webView = findViewById(R.id.webview);\nwebView.getSettings().setJavaScriptEnabled(true);\nwebView.loadUrl(&quot;https://example.com/login&quot;);\n</code></pre>\n<p>To autofill the form with the username and password, you can inject JavaScript into the WebView. You'll need to know the <strong>IDs or names of the input fields</strong> in the web page's HTML source. For example, if the input fields have the IDs <code>username_input</code> and <code>password_input</code>, you can use the following code:</p>\n<pre><code>String username = &quot;your_username&quot;;\nString password = &quot;your_password&quot;;\n\nString js = &quot;javascript:(function() { &quot; +\n        &quot;document.getElementById('username_input').value = '&quot; + username + &quot;';&quot; +\n        &quot;document.getElementById('password_input').value = '&quot; + password + &quot;';&quot; +\n        &quot;})()&quot;;\n\nwebView.setWebViewClient(new WebViewClient() {\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        super.onPageFinished(view, url);\n        view.loadUrl(js);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":8866035,"reputation":199,"user_id":6621188,"accept_rate":50,"display_name":"Oki Doki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9057,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":41118882,"answer_count":2,"score":6,"last_activity_date":1686040348,"creation_date":1481471143,"question_id":41087959,"body_markdown":"I want to autofill for example Facebook&#39;s login fields(email and password) or Google&#39;s search field. I have gone through many questions about autofill, including [this][1]. \n\nThis is my code at the moment, which opens up the website in the WebView, but doesn&#39;t fill out anything. And for the getElementById I inspected the facebook&#39;s email and password fields and their ID&#39;s were email and pass.\n\n        webView = (WebView) findViewById(R.id.webView1);\n        webView.loadUrl(&quot;https://www.facebook.com&quot;);\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setDomStorageEnabled(true);\n        webView.setWebViewClient(new WebViewClient() {\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                view.loadUrl(url);\n                return true;\n            }\n\n\n            public void onPageFinished(WebView view, String url) {\n                String user = &quot;udb&quot;;\n                String pwd = &quot;abcdefg&quot;;\n                view.loadUrl(&quot;javascript:document.getElementById(&#39;email&#39;).value = &#39;&quot; + user + &quot;&#39;;document.getElementById(&#39;pass&#39;).value=&#39;&quot; + pwd + &quot;&#39;;&quot;);\n                System.out.println(&quot;AUTOFILL&quot;);\n            }\n        });\n\nand it gives me this error\n\n&gt; I/chromium: [INFO:CONSOLE(1)] &quot;Uncaught TypeError: Cannot set property &#39;value&#39; of null&quot;, source:  (1)\n\nI don&#39;t know much about javaScript though.\n\n  [1]: https://stackoverflow.com/questions/7961568/fill-fields-in-webview-automatically","title":"How can I autofill a websites fields/forms in a WebView in Android Studio?","body":"<p>I want to autofill for example Facebook's login fields(email and password) or Google's search field. I have gone through many questions about autofill, including <a href=\"https://stackoverflow.com/questions/7961568/fill-fields-in-webview-automatically\">this</a>.</p>\n<p>This is my code at the moment, which opens up the website in the WebView, but doesn't fill out anything. And for the getElementById I inspected the facebook's email and password fields and their ID's were email and pass.</p>\n<pre><code>    webView = (WebView) findViewById(R.id.webView1);\n    webView.loadUrl(&quot;https://www.facebook.com&quot;);\n    WebSettings webSettings = webView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n    webSettings.setDomStorageEnabled(true);\n    webView.setWebViewClient(new WebViewClient() {\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            view.loadUrl(url);\n            return true;\n        }\n\n\n        public void onPageFinished(WebView view, String url) {\n            String user = &quot;udb&quot;;\n            String pwd = &quot;abcdefg&quot;;\n            view.loadUrl(&quot;javascript:document.getElementById('email').value = '&quot; + user + &quot;';document.getElementById('pass').value='&quot; + pwd + &quot;';&quot;);\n            System.out.println(&quot;AUTOFILL&quot;);\n        }\n    });\n</code></pre>\n<p>and it gives me this error</p>\n<blockquote>\n<p>I/chromium: [INFO:CONSOLE(1)] &quot;Uncaught TypeError: Cannot set property 'value' of null&quot;, source:  (1)</p>\n</blockquote>\n<p>I don't know much about javaScript though.</p>\n"},{"tags":["java","spring-boot","soap","apache-camel","cxf"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1656483629,"post_id":72796253,"comment_id":128580382,"body_markdown":"Can you also show the wsdl ?","body":"Can you also show the wsdl ?"}],"answers":[{"tags":[],"owner":{"account_id":28763021,"reputation":1,"user_id":22028491,"display_name":"Marian Hlavenka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686040329,"creation_date":1686040329,"answer_id":76412793,"question_id":72796253,"body_markdown":"I had this same problem and found this question without an answer, so I want to share my solution.\r\n\r\nThe reason for my error was, that the generated interface had void methods instead of proper return type. The input object fields and output object fields were all added as input parameters of the void method. And my route was setting only the reqeust parameters and not prepareing holders for response parameters.\r\n\r\nFrom the error `IndexOutOfBoundsException: Index 1 out of bounds for length 1` i am guessing you had a single field(index=0) in the request element so its trying to find the first output param holder (HolderInInterceptor.java line 67).\r\n\r\nGenerating void methods should be only when the operation does not have an output message in its definition.\r\n\r\nSo if the interface methods are correctly generated as void methods, you should modify the route to set all the output fileds with holders like `javax.xml.ws.Holder&lt;java.lang.String&gt;` before the `.to()` method.\r\n\r\nIn my case I had both input and output messages, but it still generated void methods. I don&#39;t know if its a bug on the CXF side or the wsdl isn&#39;t correctly defined on the web service side I downloaded it from, but the problem was caused by having an identical name for the element used in message and the name of the operation.\r\n\r\nHere is a github project where i showcase my problem  [Java CXF wsdl2java generation][1]\r\n\r\n\r\n  [1]: https://github.com/marian-hlavenka/java-cxf-wsdl2java-generation-example","title":"Apache Camel: CXF with SOAP: IndexOutOfBoundsException: From HandleInInterceptor handleMessage (line67). How to fix?","body":"<p>I had this same problem and found this question without an answer, so I want to share my solution.</p>\n<p>The reason for my error was, that the generated interface had void methods instead of proper return type. The input object fields and output object fields were all added as input parameters of the void method. And my route was setting only the reqeust parameters and not prepareing holders for response parameters.</p>\n<p>From the error <code>IndexOutOfBoundsException: Index 1 out of bounds for length 1</code> i am guessing you had a single field(index=0) in the request element so its trying to find the first output param holder (HolderInInterceptor.java line 67).</p>\n<p>Generating void methods should be only when the operation does not have an output message in its definition.</p>\n<p>So if the interface methods are correctly generated as void methods, you should modify the route to set all the output fileds with holders like <code>javax.xml.ws.Holder&lt;java.lang.String&gt;</code> before the <code>.to()</code> method.</p>\n<p>In my case I had both input and output messages, but it still generated void methods. I don't know if its a bug on the CXF side or the wsdl isn't correctly defined on the web service side I downloaded it from, but the problem was caused by having an identical name for the element used in message and the name of the operation.</p>\n<p>Here is a github project where i showcase my problem  <a href=\"https://github.com/marian-hlavenka/java-cxf-wsdl2java-generation-example\" rel=\"nofollow noreferrer\">Java CXF wsdl2java generation</a></p>\n"}],"owner":{"account_id":10624480,"reputation":1,"user_id":7824513,"display_name":"Pankaj Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686040329,"creation_date":1656481040,"question_id":72796253,"body_markdown":"I am using Apache Camel Route, where I need to perform Soap API call, for SOAP api, i am using Cxf library, while using it I am getting error like below -\r\n```\r\n09:45:12.430 [default-workqueue-1] WARN org.apache.cxf.phase.PhaseInterceptorChain - Interceptor for {urn:dictionary:com.chargepoint.webservices}chargepointservices#{urn:dictionary:com.chargepoint.webservices}getTransactionData has thrown exception, unwinding now\r\njava.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\r\n\tat java.base/java.util.Objects.checkIndex(Objects.java:372)\r\n\tat java.base/java.util.ArrayList.get(ArrayList.java:459)\r\n\tat org.apache.cxf.jaxws.interceptors.HolderInInterceptor.handleMessage(HolderInInterceptor.java:67)\r\n\tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\r\n\tat org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:808)\r\n\tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1701)\r\n```\r\n\r\nMy Route - \r\n```\r\nfrom(&quot;direct:testSoapStart&quot;)\r\n                .log(&quot;TestSoapApiRoute Initiated.&quot;)\r\n                .process(this.soapRequestProcessor)\r\n                //.setHeader(OPERATION_NAME, constant(&quot;getCPNInstances&quot;))\r\n                //.setHeader(OPERATION_NAME, constant(&quot;getOrgsAndStationGroups&quot;))\r\n                .setHeader(OPERATION_NAME, constant(&quot;getTransactionData&quot;))\r\n                .setHeader(OPERATION_NAMESPACE, constant(&quot;urn:dictionary:com.chargepoint.webservices&quot;))\r\n                .toD(&quot;URL?&quot;\r\n                        + &quot;serviceClass=dictionary.com_chargepoint_webservices.Chargepointservices&quot;\r\n                        + &quot;&amp;wsdlURL=/wsdl/cp_api_5.1.wsdl&quot;)\r\n                .log(&quot;body :: ${body}&quot;)\r\n                .process(this.soapResponseProcessor)\r\n                .log(&quot;TestSoapApiRoute Completed.&quot;)\r\n                .end();\r\n```\r\n\r\nIn My SoapRequestProcessor - I&#39;am adding Header and the body - \r\n```\r\nexchange.getIn().setHeader(Header.HEADER_LIST, soapHeaders);\r\nexchange.getIn().setBody(new Object[]{new GetTransDataSearchRequest()});\r\n```\r\nI don&#39;t know why it&#39;s failing in HolderInInterceptor, The OutHolders List is having size one always, and all elements are null. Which is causing the problem. I am not having any information about this outHolders object, please help in this - \r\n\r\nOr Do i need to replace the HolderInInterceptor ? If so How can we replace it ? \r\n\r\nThanks in advance.\r\n\r\n","title":"Apache Camel: CXF with SOAP: IndexOutOfBoundsException: From HandleInInterceptor handleMessage (line67). How to fix?","body":"<p>I am using Apache Camel Route, where I need to perform Soap API call, for SOAP api, i am using Cxf library, while using it I am getting error like below -</p>\n<pre><code>09:45:12.430 [default-workqueue-1] WARN org.apache.cxf.phase.PhaseInterceptorChain - Interceptor for {urn:dictionary:com.chargepoint.webservices}chargepointservices#{urn:dictionary:com.chargepoint.webservices}getTransactionData has thrown exception, unwinding now\njava.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 1\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\n    at java.base/java.util.Objects.checkIndex(Objects.java:372)\n    at java.base/java.util.ArrayList.get(ArrayList.java:459)\n    at org.apache.cxf.jaxws.interceptors.HolderInInterceptor.handleMessage(HolderInInterceptor.java:67)\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)\n    at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:808)\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1701)\n</code></pre>\n<p>My Route -</p>\n<pre><code>from(&quot;direct:testSoapStart&quot;)\n                .log(&quot;TestSoapApiRoute Initiated.&quot;)\n                .process(this.soapRequestProcessor)\n                //.setHeader(OPERATION_NAME, constant(&quot;getCPNInstances&quot;))\n                //.setHeader(OPERATION_NAME, constant(&quot;getOrgsAndStationGroups&quot;))\n                .setHeader(OPERATION_NAME, constant(&quot;getTransactionData&quot;))\n                .setHeader(OPERATION_NAMESPACE, constant(&quot;urn:dictionary:com.chargepoint.webservices&quot;))\n                .toD(&quot;URL?&quot;\n                        + &quot;serviceClass=dictionary.com_chargepoint_webservices.Chargepointservices&quot;\n                        + &quot;&amp;wsdlURL=/wsdl/cp_api_5.1.wsdl&quot;)\n                .log(&quot;body :: ${body}&quot;)\n                .process(this.soapResponseProcessor)\n                .log(&quot;TestSoapApiRoute Completed.&quot;)\n                .end();\n</code></pre>\n<p>In My SoapRequestProcessor - I'am adding Header and the body -</p>\n<pre><code>exchange.getIn().setHeader(Header.HEADER_LIST, soapHeaders);\nexchange.getIn().setBody(new Object[]{new GetTransDataSearchRequest()});\n</code></pre>\n<p>I don't know why it's failing in HolderInInterceptor, The OutHolders List is having size one always, and all elements are null. Which is causing the problem. I am not having any information about this outHolders object, please help in this -</p>\n<p>Or Do i need to replace the HolderInInterceptor ? If so How can we replace it ?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","gradle","filesystems","rename"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":0,"creation_date":1521624840,"post_id":49402451,"comment_id":85806340,"body_markdown":"Possible duplicate of [Gradle zip: how to include and rename one file easily?](https://stackoverflow.com/questions/44997196/gradle-zip-how-to-include-and-rename-one-file-easily)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/44997196/gradle-zip-how-to-include-and-rename-one-file-easily\">Gradle zip: how to include and rename one file easily?</a>"}],"answers":[{"tags":[],"owner":{"account_id":28583,"reputation":20628,"user_id":76465,"accept_rate":93,"display_name":"Chathuranga Chandrasekara"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1521624903,"creation_date":1521624903,"answer_id":49402656,"question_id":49402451,"body_markdown":"The rename method should do the trick.     \r\n\r\n    task renameArtifacts (type: Copy) {\r\n        from (&#39;project/&#39;)\r\n        include &#39;project-1.5.jar&#39;\r\n        destinationDir file(&#39;project/&#39;)\r\n        rename &#39;project-1.5.jar&#39;, &quot;project.jar&quot;\r\n    }\r\n","title":"Gradle task to rename file","body":"<p>The rename method should do the trick.     </p>\n\n<pre><code>task renameArtifacts (type: Copy) {\n    from ('project/')\n    include 'project-1.5.jar'\n    destinationDir file('project/')\n    rename 'project-1.5.jar', \"project.jar\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7554979,"reputation":427,"user_id":6782994,"accept_rate":75,"display_name":"Krzysztof Wesołowski"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1568031145,"creation_date":1568031145,"answer_id":57853821,"question_id":49402451,"body_markdown":"For me this worked - does not leave source files (no duplications).\r\n\r\n    task pdfDistributions(type: Sync) {\r\n        from(&#39;build/asciidoc/pdf/docs/asciidoc/&#39;)\r\n        into(&#39;build/asciidoc/pdf/docs/asciidoc/&#39;)\r\n        include &#39;*.pdf&#39;\r\n        rename { String filename -&gt;\r\n            filename.replace(&quot;.pdf&quot;, &quot;-${project.version}.pdf&quot;)\r\n        }\r\n    }","title":"Gradle task to rename file","body":"<p>For me this worked - does not leave source files (no duplications).</p>\n\n<pre><code>task pdfDistributions(type: Sync) {\n    from('build/asciidoc/pdf/docs/asciidoc/')\n    into('build/asciidoc/pdf/docs/asciidoc/')\n    include '*.pdf'\n    rename { String filename -&gt;\n        filename.replace(\".pdf\", \"-${project.version}.pdf\")\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2055641,"reputation":504,"user_id":1833472,"display_name":"dpolivaev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615744579,"creation_date":1615744579,"answer_id":66627785,"question_id":49402451,"body_markdown":"Gradle allows to call ant tasks from your task implementation.\r\nIt makes moving files as easy as\r\n\r\n    ant.move(file:&#39;oldFile.txt&#39;, tofile:&#39;newfile.txt&#39;)\r\n\r\n","title":"Gradle task to rename file","body":"<p>Gradle allows to call ant tasks from your task implementation.\nIt makes moving files as easy as</p>\n<pre><code>ant.move(file:'oldFile.txt', tofile:'newfile.txt')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130344,"reputation":61,"user_id":3866217,"display_name":"Greg Henry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686040059,"creation_date":1686040059,"answer_id":76412757,"question_id":49402451,"body_markdown":"Late .. but gradle provide project.file(&#39;xxx&#39;).renameTo(&#39;zzz&#39;)","title":"Gradle task to rename file","body":"<p>Late .. but gradle provide project.file('xxx').renameTo('zzz')</p>\n"}],"owner":{"account_id":8929614,"reputation":934,"user_id":6662665,"accept_rate":78,"display_name":"George Cimpoies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25539,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":49402656,"answer_count":4,"score":15,"last_activity_date":1686040059,"creation_date":1521624382,"question_id":49402451,"body_markdown":"I want to do a simple file rename in a gradle task. I have a jar called project-1.5.jar under the folder src and I want the jar to be renamed to just project.jar\r\n\r\nSo,\r\n\r\nproject/**project-1.5.jar** to project/**project.jar** using **gradle**\r\n\r\nAny ideas are much appreciated.","title":"Gradle task to rename file","body":"<p>I want to do a simple file rename in a gradle task. I have a jar called project-1.5.jar under the folder src and I want the jar to be renamed to just project.jar</p>\n\n<p>So,</p>\n\n<p>project/<strong>project-1.5.jar</strong> to project/<strong>project.jar</strong> using <strong>gradle</strong></p>\n\n<p>Any ideas are much appreciated.</p>\n"},{"tags":["java","maven","static","eclipselink","java-11"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686039993,"post_id":76412719,"comment_id":134740910,"body_markdown":"You should try to use JDK11+ for building ... Apart from that the plugin is simply abandoned (11 years ago) not even maintained for JDK8 or even JDK7... Have you tried to google alternatives?","body":"You should try to use JDK11+ for building ... Apart from that the plugin is simply abandoned (11 years ago) not even maintained for JDK8 or even JDK7... Have you tried to google alternatives?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1686071681,"post_id":76412719,"comment_id":134747933,"body_markdown":"https://github.com/empulse-gmbh/eclipselink-static-weave-plugin seems to have jdk8 support, and a few forks move it forward to support EclipseLink 2.7.4, but someone would need to modify (fork) it to use EclipseLink 3.x and jdk 11 in the pom file.","body":"<a href=\"https://github.com/empulse-gmbh/eclipselink-static-weave-plugin\" rel=\"nofollow noreferrer\">github.com/empulse-gmbh/eclipselink-static-weave-plugin</a> seems to have jdk8 support, and a few forks move it forward to support EclipseLink 2.7.4, but someone would need to modify (fork) it to use EclipseLink 3.x and jdk 11 in the pom file."}],"owner":{"account_id":1710753,"reputation":993,"user_id":1568881,"accept_rate":40,"display_name":"Aguid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686039795,"creation_date":1686039795,"question_id":76412719,"body_markdown":"I need to migrate my project that is using &quot;EclipseLink Staticweave Maven Plugin Maven Plugin&quot; for static weaving to java 11, but this plugin is only compatible with Java 7 + 8. \r\nIs there any alternative of this plugin which is compatible with java 11? \r\n\r\nHere the issue I got when compiling : \r\n\r\n&gt; MyClass has been compiled by a more recent version of the Java Runtime\r\n&gt; (class file version 55.0), this version of the Java Runtime only\r\n&gt; recognizes class file versions up to 52.0\r\n\r\n","title":"alternative of EclipseLink Staticweave Maven Plugin Maven Plugin for java 11?","body":"<p>I need to migrate my project that is using &quot;EclipseLink Staticweave Maven Plugin Maven Plugin&quot; for static weaving to java 11, but this plugin is only compatible with Java 7 + 8.\nIs there any alternative of this plugin which is compatible with java 11?</p>\n<p>Here the issue I got when compiling :</p>\n<blockquote>\n<p>MyClass has been compiled by a more recent version of the Java Runtime\n(class file version 55.0), this version of the Java Runtime only\nrecognizes class file versions up to 52.0</p>\n</blockquote>\n"},{"tags":["java","android","android-camera2"],"comments":[{"owner":{"account_id":3456687,"reputation":648,"user_id":2895045,"display_name":"Orcun"},"score":0,"creation_date":1687860285,"post_id":76412644,"comment_id":134992462,"body_markdown":"I am afraid not all devices would allow you to to reduce zoom below 1.0. Anything below 1.0 is wide angle camera. You can try to set to a value below 1.0 and if you are lucky(if device lets 3rd party apps use wide angle), you will get the wide angle camera. Otherwise, you will get 1.0. Which is the main camera&#39;s minimum. And yes, built in camera apps are whitelisted to use this api. They can access to wide angle camera. Does not mean you can use it too though :(","body":"I am afraid not all devices would allow you to to reduce zoom below 1.0. Anything below 1.0 is wide angle camera. You can try to set to a value below 1.0 and if you are lucky(if device lets 3rd party apps use wide angle), you will get the wide angle camera. Otherwise, you will get 1.0. Which is the main camera&#39;s minimum. And yes, built in camera apps are whitelisted to use this api. They can access to wide angle camera. Does not mean you can use it too though :("}],"owner":{"account_id":18675404,"reputation":13,"user_id":13613188,"display_name":"D-MAN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686039206,"creation_date":1686039206,"question_id":76412644,"body_markdown":"I have a video editing app that requires a wide angel on the camera.\r\nHow could I achieve a wider angle on the camera or the preview, I have tried zooming out using the linear zoom method - this made a very minor difference - and the zoomRatio method, but had no success. The effect that I am trying to achieve is very much similar to when once chooses 0.5 zoom on your built in android camera app. Your assistance would be greatly appreciated!\r\nI am using the following libaries:\r\n```\r\n    def cameraxVersion = &quot;1.1.0-alpha05&quot;\r\n    implementation &quot;androidx.camera:camera-core:${cameraxVersion}&quot;\r\n    implementation &quot;androidx.camera:camera-camera2:${cameraxVersion}&quot;\r\n    implementation &quot;androidx.camera:camera-lifecycle:${cameraxVersion}&quot;\r\n\r\n    // CameraX View class\r\n    implementation &#39;androidx.camera:camera-view:1.0.0-alpha25&#39;```\r\n\r\nHere is an example of my code:\r\n\r\n```\r\n  \r\n\r\n    // cameraManager to interact with camera devices\r\n      cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n    \r\n      // Exception is handled, because to check whether\r\n      // the camera resource is being used by another\r\n      // service or not.\r\n      try {\r\n          // O means back camera unit,\r\n          // 1 means front camera unit\r\n          getCameraID = cameraManager.getCameraIdList()[0];\r\n    \r\n          CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(getCameraID);\r\n    \r\n    \r\n           Log.d(TAG, &quot;charactersistcsX: &quot; + characteristics.toString());\r\n    \r\n      } catch (CameraAccessException e) {\r\n           e.printStackTrace();\r\n      }\r\n    \r\n      camProvider = cameraProvider;\r\n    \r\n      Log.d(TAG, &quot;startCameraX: &quot; + camProvider.getAvailableCameraInfos());\r\n    \r\n      cameraProvider.unbindAll();\r\n    \r\n      Preview preview = new Preview.Builder().build();\r\n    \r\n      preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n    \r\n      previewView.setImplementationMode(PreviewView.ImplementationMode.COMPATIBLE);\r\n    \r\n      // Setup.\r\n      CameraController controller = new LifecycleCameraController(RecordVideo.this);\r\n    \r\n      previewView.setController(controller);\r\n    \r\n      imageCapture = new ImageCapture.Builder()\r\n      .setCaptureMode(ImageCapture.CAPTURE_MODE_MINIMIZE_LATENCY)\r\n      .build();\r\n    \r\n      videoCapture = new VideoCapture.Builder()\r\n      .setVideoFrameRate(60)\r\n      //.setDefaultResolution(new Size(1080, 1920))\r\n      .setTargetResolution(new Size(1080, 1920))\r\n      .build();\r\n\r\n```\r\n\r\n","title":"increasing the Field of View or zooming out more on Android java","body":"<p>I have a video editing app that requires a wide angel on the camera.\nHow could I achieve a wider angle on the camera or the preview, I have tried zooming out using the linear zoom method - this made a very minor difference - and the zoomRatio method, but had no success. The effect that I am trying to achieve is very much similar to when once chooses 0.5 zoom on your built in android camera app. Your assistance would be greatly appreciated!\nI am using the following libaries:</p>\n<pre><code>    def cameraxVersion = &quot;1.1.0-alpha05&quot;\n    implementation &quot;androidx.camera:camera-core:${cameraxVersion}&quot;\n    implementation &quot;androidx.camera:camera-camera2:${cameraxVersion}&quot;\n    implementation &quot;androidx.camera:camera-lifecycle:${cameraxVersion}&quot;\n\n    // CameraX View class\n    implementation 'androidx.camera:camera-view:1.0.0-alpha25'```\n\nHere is an example of my code:\n\n</code></pre>\n<pre><code>// cameraManager to interact with camera devices\n  cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n\n  // Exception is handled, because to check whether\n  // the camera resource is being used by another\n  // service or not.\n  try {\n      // O means back camera unit,\n      // 1 means front camera unit\n      getCameraID = cameraManager.getCameraIdList()[0];\n\n      CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(getCameraID);\n\n\n       Log.d(TAG, &quot;charactersistcsX: &quot; + characteristics.toString());\n\n  } catch (CameraAccessException e) {\n       e.printStackTrace();\n  }\n\n  camProvider = cameraProvider;\n\n  Log.d(TAG, &quot;startCameraX: &quot; + camProvider.getAvailableCameraInfos());\n\n  cameraProvider.unbindAll();\n\n  Preview preview = new Preview.Builder().build();\n\n  preview.setSurfaceProvider(previewView.getSurfaceProvider());\n\n  previewView.setImplementationMode(PreviewView.ImplementationMode.COMPATIBLE);\n\n  // Setup.\n  CameraController controller = new LifecycleCameraController(RecordVideo.this);\n\n  previewView.setController(controller);\n\n  imageCapture = new ImageCapture.Builder()\n  .setCaptureMode(ImageCapture.CAPTURE_MODE_MINIMIZE_LATENCY)\n  .build();\n\n  videoCapture = new VideoCapture.Builder()\n  .setVideoFrameRate(60)\n  //.setDefaultResolution(new Size(1080, 1920))\n  .setTargetResolution(new Size(1080, 1920))\n  .build();\n</code></pre>\n<pre><code>\n</code></pre>\n"},{"tags":["java","android","kotlin","retrofit"],"owner":{"account_id":24493645,"reputation":1,"user_id":18410309,"display_name":"Zaid DA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686039135,"creation_date":1686039135,"question_id":76412633,"body_markdown":"When I use retrofit using https://api.github.com/users it works without problems but when I switch the information where it matches the values I have the following error appears, com.google.gson.stream.MalformedJsonException: Use JsonReader. setLenient(true) to accept malformed JSON at line 1 column 1 path $\r\n\r\nMainActivity code :\r\n\r\n```\r\npackage com.example.databasegames\r\n\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.lifecycle.lifecycleScope\r\nimport androidx.recyclerview.widget.GridLayoutManager\r\nimport com.example.databasegames.databinding.ActivityMainBinding\r\nimport retrofit2.HttpException\r\nimport java.io.IOException\r\n\r\n\r\nconst val TAG = &quot;MainActivity&quot;\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n\r\n    private lateinit var binding: ActivityMainBinding\r\n\r\n    private lateinit var myAdapter: MyAdapter\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n       setupRecyclerview()\r\n\r\n        lifecycleScope.launchWhenCreated {\r\n\r\n            val response = try {\r\n                RetrofitInstance.api.getData()\r\n            }catch (e: IOException){\r\n                Log.e(TAG , e.toString())\r\n                return@launchWhenCreated\r\n            }catch (e: HttpException){\r\n                Log.e(TAG , &quot;HttpException&quot;)\r\n                return@launchWhenCreated\r\n            }\r\n            if (response.isSuccessful &amp;&amp; response.body() != null){\r\n                myAdapter.todos = response.body()!!\r\n            }\r\n            else{\r\n                Log.e(TAG , &quot;Response is not successfully&quot;)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private fun setupRecyclerview() = binding.recyclerView.apply {\r\n         myAdapter = MyAdapter()\r\n         adapter = myAdapter\r\n         layoutManager = GridLayoutManager(context, 3, GridLayoutManager.VERTICAL, false)\r\n        \r\n    }\r\n}\r\n\r\nRetrofitInstance.object :\r\n\r\n\r\npackage com.example.databasegames\r\n\r\nimport retrofit2.Retrofit\r\nimport retrofit2.converter.gson.GsonConverterFactory\r\n\r\nobject RetrofitInstance {\r\n\r\n    val api: ApiService by lazy {\r\n        Retrofit.Builder()\r\n            .baseUrl(&quot;https://overhand-seam.000webhostapp.com/&quot;)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .build()\r\n            .create(ApiService::class.java)\r\n    }\r\n}\r\n\r\n\r\nData class (GamesItems) :\r\n\r\n\r\npackage com.example.databasegames\r\n\r\ndata class GamesItem(\r\n    val id : Int,\r\n    val name: String,\r\n    val imageUrl: String,\r\n    val emulator: String\r\n)\r\n\r\n\r\nAdapter :\r\n\r\npackage com.example.databasegames\r\n\r\nimport android.view.LayoutInflater\r\nimport android.view.ViewGroup\r\nimport androidx.recyclerview.widget.AsyncListDiffer\r\nimport androidx.recyclerview.widget.DiffUtil\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.bumptech.glide.Glide\r\nimport com.example.databasegames.databinding.GamesBinding\r\n\r\n\r\nclass MyAdapter : RecyclerView.Adapter&lt;MyAdapter.TodoViewHolder&gt;(){\r\n\r\n    inner class TodoViewHolder(val binding: GamesBinding) : RecyclerView.ViewHolder(binding.root)\r\n\r\n    private val diffCallback = object : DiffUtil.ItemCallback&lt;GamesItem&gt;(){\r\n\r\n        override fun areItemsTheSame(oldItem: GamesItem, newItem: GamesItem): Boolean {\r\n            return oldItem.id == newItem.id\r\n        }\r\n\r\n        override fun areContentsTheSame(oldItem: GamesItem, newItem: GamesItem): Boolean {\r\n            return oldItem == newItem\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private val differ = AsyncListDiffer(this , diffCallback)\r\n    var todos : List&lt;GamesItem&gt;\r\n        get() = differ.currentList\r\n        set(value){differ.submitList(value)}\r\n\r\n\r\n    override fun getItemCount() = todos.size\r\n\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): TodoViewHolder {\r\n        return TodoViewHolder(GamesBinding.inflate(\r\n            LayoutInflater.from(parent.context),\r\n            parent,\r\n            false\r\n        ))\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: TodoViewHolder, position: Int) {\r\n      holder.binding.apply {\r\n          val todo = todos[position]\r\n          name.text = todo.name\r\n          emulator.text = todo.emulator\r\n          Glide.with(image.context).load(todo.imageUrl).into(image)\r\n      }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &quot;com.squareup.okhttp3:okhttp:4.9.1&quot;\r\n\r\n    // Coroutines\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4&#39;\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4&#39;\r\n\r\n    // Coroutine Lifecycle Scopes\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\r\n\r\n\r\n}\r\n```\r\n\r\n","title":"MalformedJsonException: Use JsonReader.setLenient(true) to accept malformed JSON at line 1 column 1 path $","body":"<p>When I use retrofit using <a href=\"https://api.github.com/users\" rel=\"nofollow noreferrer\">https://api.github.com/users</a> it works without problems but when I switch the information where it matches the values I have the following error appears, com.google.gson.stream.MalformedJsonException: Use JsonReader. setLenient(true) to accept malformed JSON at line 1 column 1 path $</p>\n<p>MainActivity code :</p>\n<pre><code>package com.example.databasegames\n\nimport android.os.Bundle\nimport android.util.Log\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.lifecycle.lifecycleScope\nimport androidx.recyclerview.widget.GridLayoutManager\nimport com.example.databasegames.databinding.ActivityMainBinding\nimport retrofit2.HttpException\nimport java.io.IOException\n\n\nconst val TAG = &quot;MainActivity&quot;\n\nclass MainActivity : AppCompatActivity() {\n\n\n    private lateinit var binding: ActivityMainBinding\n\n    private lateinit var myAdapter: MyAdapter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n       setupRecyclerview()\n\n        lifecycleScope.launchWhenCreated {\n\n            val response = try {\n                RetrofitInstance.api.getData()\n            }catch (e: IOException){\n                Log.e(TAG , e.toString())\n                return@launchWhenCreated\n            }catch (e: HttpException){\n                Log.e(TAG , &quot;HttpException&quot;)\n                return@launchWhenCreated\n            }\n            if (response.isSuccessful &amp;&amp; response.body() != null){\n                myAdapter.todos = response.body()!!\n            }\n            else{\n                Log.e(TAG , &quot;Response is not successfully&quot;)\n            }\n        }\n\n    }\n\n    private fun setupRecyclerview() = binding.recyclerView.apply {\n         myAdapter = MyAdapter()\n         adapter = myAdapter\n         layoutManager = GridLayoutManager(context, 3, GridLayoutManager.VERTICAL, false)\n        \n    }\n}\n\nRetrofitInstance.object :\n\n\npackage com.example.databasegames\n\nimport retrofit2.Retrofit\nimport retrofit2.converter.gson.GsonConverterFactory\n\nobject RetrofitInstance {\n\n    val api: ApiService by lazy {\n        Retrofit.Builder()\n            .baseUrl(&quot;https://overhand-seam.000webhostapp.com/&quot;)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n            .create(ApiService::class.java)\n    }\n}\n\n\nData class (GamesItems) :\n\n\npackage com.example.databasegames\n\ndata class GamesItem(\n    val id : Int,\n    val name: String,\n    val imageUrl: String,\n    val emulator: String\n)\n\n\nAdapter :\n\npackage com.example.databasegames\n\nimport android.view.LayoutInflater\nimport android.view.ViewGroup\nimport androidx.recyclerview.widget.AsyncListDiffer\nimport androidx.recyclerview.widget.DiffUtil\nimport androidx.recyclerview.widget.RecyclerView\nimport com.bumptech.glide.Glide\nimport com.example.databasegames.databinding.GamesBinding\n\n\nclass MyAdapter : RecyclerView.Adapter&lt;MyAdapter.TodoViewHolder&gt;(){\n\n    inner class TodoViewHolder(val binding: GamesBinding) : RecyclerView.ViewHolder(binding.root)\n\n    private val diffCallback = object : DiffUtil.ItemCallback&lt;GamesItem&gt;(){\n\n        override fun areItemsTheSame(oldItem: GamesItem, newItem: GamesItem): Boolean {\n            return oldItem.id == newItem.id\n        }\n\n        override fun areContentsTheSame(oldItem: GamesItem, newItem: GamesItem): Boolean {\n            return oldItem == newItem\n        }\n\n\n    }\n\n    private val differ = AsyncListDiffer(this , diffCallback)\n    var todos : List&lt;GamesItem&gt;\n        get() = differ.currentList\n        set(value){differ.submitList(value)}\n\n\n    override fun getItemCount() = todos.size\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): TodoViewHolder {\n        return TodoViewHolder(GamesBinding.inflate(\n            LayoutInflater.from(parent.context),\n            parent,\n            false\n        ))\n    }\n\n    override fun onBindViewHolder(holder: TodoViewHolder, position: Int) {\n      holder.binding.apply {\n          val todo = todos[position]\n          name.text = todo.name\n          emulator.text = todo.emulator\n          Glide.with(image.context).load(todo.imageUrl).into(image)\n      }\n\n\n\n    }\n\n\n\n\n}\n\ndependencies {\n\n    implementation 'com.google.code.gson:gson:2.9.0'\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation &quot;com.squareup.okhttp3:okhttp:4.9.1&quot;\n\n    // Coroutines\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4'\n\n    // Coroutine Lifecycle Scopes\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&quot;\n\n\n}\n</code></pre>\n"},{"tags":["java","class","oop","factory","enumeration"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1685481550,"post_id":76368681,"comment_id":134665651,"body_markdown":"I do not see a circular dependency on object level. I see, however, a circular dependency on class-level and the choice to couple the `CustomerType` with the `DiscountCalculator(Factory)`. The circular dependency on class-level couples the `Customer` hard to the `DiscountCalculator`. I also do not understand why a `DiscountCalculator` needs to have a state instead of just expecting a `Customer` as argument for its `calculateDiscount(...)`-method.","body":"I do not see a circular dependency on object level. I see, however, a circular dependency on class-level and the choice to couple the <code>CustomerType</code> with the <code>DiscountCalculator(Factory)</code>. The circular dependency on class-level couples the <code>Customer</code> hard to the <code>DiscountCalculator</code>. I also do not understand why a <code>DiscountCalculator</code> needs to have a state instead of just expecting a <code>Customer</code> as argument for its <code>calculateDiscount(...)</code>-method."}],"answers":[{"tags":[],"owner":{"account_id":24307437,"reputation":61,"user_id":18249973,"display_name":"herman2lv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686039010,"creation_date":1686039010,"answer_id":76412617,"question_id":76368681,"body_markdown":"You are right - it is a circular dependency.\r\n\r\nDespite you don&#39;t have this dependency at the object level (your object instances don&#39;t have links one to each other) you have general design circular dependency.\r\nJava Compilers allow you to compile this code if it is within a single module, and will throw an compile-time error if you split it into several modules - circular dependencies are forbidden across modules.\r\nEven if you could compile this code - such circular dependencies are a sign of poor hard coupled design which will be hard to maintain and expand.\r\n\r\nIn this particular situation, the main problem is that your `Customer` is aware of the type of the `DiscountCalcualtor` it should use, as well as the `DiscountCalculator` implementation depends on the `Customer`. It means that if you introduce a new `CustomerType` value, you should implement a new `DiscountCalculator` and tight this Calculator to a particular `Customer` inside `enum CustomerType`. If you redesign your Calculators and for example reduce implementations or add some specific ones, you should &quot;inform&quot; `Customer` by updating your `enum CustomerType`.\r\n\r\nOne change in your design lead to multiple changes in different parts of the system.\r\n\r\nThere are several ways to get rid of circular dependencies and make application design clean. Here are some ideas that you can apply to this situation:\r\n1. Get rid of the `enum CustomerType` or at least remove all &quot;factory-related logic&quot; from the enum. `Customer` shouldn&#39;t be aware of `DiscountCalculator` and the structure of your application (it knows that your use a factory pattern to create `DiscountCalculator`). Add the factory method to `DiscountCalculator`, and make this class responsible for providing you with the right factory.\r\nFor example:\r\n```\r\nclass DiscountCalculatorFactory {\r\n\r\n  private DiscountCalculatorFactory() {}\r\n\r\n  public static DiscountCalculator getDiscountCalculator(Customer customer) {\r\n    CustomerType type = customer.getCustomerType();\r\n    return switch (type) {\r\n      case VIP -&gt; new VIPDiscountCalculator(customer);\r\n      case REGULAR -&gt; new RegularDiscountCalculator(customer);\r\n      default -&gt; throw new IllegalArgumentException(type.toString());\r\n    };\r\n  }\r\n}\r\n```\r\nYou can implement it in different ways, but the general idea - the `Customer` shouldn&#39;t be aware of the `DiscountCalculator` as well as of application structure and other plumbing code.\r\n\r\n2. Do not recommend changing the implementation of `DiscountCalculator` and make it stateless by using `Customer` as an argument to your `public int calculateDiscount()`. It seems the easiest way, but you still have all the problems we discussed above, and circular dependency at the class level is in place - but they are more difficult to spot now. Also if we make the class stateless we lose some advantages of the OOP paradigm - encapsulation of both *data* and *methods* of processing.\r\n","title":"Is this design introducing Circular Dependency?","body":"<p>You are right - it is a circular dependency.</p>\n<p>Despite you don't have this dependency at the object level (your object instances don't have links one to each other) you have general design circular dependency.\nJava Compilers allow you to compile this code if it is within a single module, and will throw an compile-time error if you split it into several modules - circular dependencies are forbidden across modules.\nEven if you could compile this code - such circular dependencies are a sign of poor hard coupled design which will be hard to maintain and expand.</p>\n<p>In this particular situation, the main problem is that your <code>Customer</code> is aware of the type of the <code>DiscountCalcualtor</code> it should use, as well as the <code>DiscountCalculator</code> implementation depends on the <code>Customer</code>. It means that if you introduce a new <code>CustomerType</code> value, you should implement a new <code>DiscountCalculator</code> and tight this Calculator to a particular <code>Customer</code> inside <code>enum CustomerType</code>. If you redesign your Calculators and for example reduce implementations or add some specific ones, you should &quot;inform&quot; <code>Customer</code> by updating your <code>enum CustomerType</code>.</p>\n<p>One change in your design lead to multiple changes in different parts of the system.</p>\n<p>There are several ways to get rid of circular dependencies and make application design clean. Here are some ideas that you can apply to this situation:</p>\n<ol>\n<li>Get rid of the <code>enum CustomerType</code> or at least remove all &quot;factory-related logic&quot; from the enum. <code>Customer</code> shouldn't be aware of <code>DiscountCalculator</code> and the structure of your application (it knows that your use a factory pattern to create <code>DiscountCalculator</code>). Add the factory method to <code>DiscountCalculator</code>, and make this class responsible for providing you with the right factory.\nFor example:</li>\n</ol>\n<pre><code>class DiscountCalculatorFactory {\n\n  private DiscountCalculatorFactory() {}\n\n  public static DiscountCalculator getDiscountCalculator(Customer customer) {\n    CustomerType type = customer.getCustomerType();\n    return switch (type) {\n      case VIP -&gt; new VIPDiscountCalculator(customer);\n      case REGULAR -&gt; new RegularDiscountCalculator(customer);\n      default -&gt; throw new IllegalArgumentException(type.toString());\n    };\n  }\n}\n</code></pre>\n<p>You can implement it in different ways, but the general idea - the <code>Customer</code> shouldn't be aware of the <code>DiscountCalculator</code> as well as of application structure and other plumbing code.</p>\n<ol start=\"2\">\n<li>Do not recommend changing the implementation of <code>DiscountCalculator</code> and make it stateless by using <code>Customer</code> as an argument to your <code>public int calculateDiscount()</code>. It seems the easiest way, but you still have all the problems we discussed above, and circular dependency at the class level is in place - but they are more difficult to spot now. Also if we make the class stateless we lose some advantages of the OOP paradigm - encapsulation of both <em>data</em> and <em>methods</em> of processing.</li>\n</ol>\n"}],"owner":{"account_id":10020543,"reputation":91,"user_id":7410381,"display_name":"Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686039010,"creation_date":1685481167,"question_id":76368681,"body_markdown":"Supposed I have two types of customers - Regular and VIP. I would like to give discounts to them based on CustomerType and their attributes. I have following design in my mind:\r\n\r\n```\r\nclass Customer {\r\n\r\n  CustomerType customerType; \r\n  // Has some attributes\r\n}\r\n\r\nEnum CustomerType {\r\n\r\n  REGULAR(&quot;Regular&quot;, new RegularDiscountCalculatorFactory()),\r\n  VIP(&quot;VIP&quot;, new VIPDiscountCalculatorFactory());\r\n\r\n  String value;\r\n  DiscountCalculatorFactory discountCalculatorFactory;\r\n\r\n  //Constructor and Getters\r\n}\r\n\r\nabstract class DiscountCalculatorFactory {\r\n  public abstract DiscountCalculator getDiscountCalculator(Customer customer);\r\n}\r\n\r\nclass RegularDiscountCalculatorFactory extends DiscountCalculatorFactory {\r\n  public DiscountCalculator getDiscountCalculator(Customer customer) {\r\n    return new RegularDiscountCalculator(customer);\r\n  }\r\n}\r\n\r\nclass VIPDiscountCalculatorFactory extends DiscountCalculatorFactory {\r\n  public DiscountCalculator getDiscountCalculator(Customer customer) {\r\n    return new VIPDiscountCalculator(customer);\r\n  }\r\n}\r\n\r\nabstract class DiscountCalculator {\r\n\r\n  Customer customer;\r\n  public DiscountCalculator(Customer customer) {\r\n    this.customer = customer;\r\n  }\r\n\r\n  public int calculateDiscount() {\r\n    //Common Implementation of calculating discount\r\n  }\r\n}\r\n\r\nclass RegularDiscountCalculator extends DiscountCalculator {\r\n  public RegularDiscountCalculator(Customer customer) {\r\n    super(customer);\r\n  }\r\n}\r\n\r\nclass VIPDiscountCalculator extends DiscountCalculator {\r\n  public RegularDiscountCalculator(Customer customer) {\r\n    super(customer);\r\n  }\r\n\r\n  @Override\r\n  public int calculateDiscount() {\r\n    //Some different implementation\r\n    return super.calculateDiscount();\r\n  }\r\n}\r\n\r\nclass Main {\r\n  Customer customer = new Customer(&quot;VIP&quot;, .../* other attributes */ );\r\n  DiscountCalculatorFactory discountCalculatorFactory = customer.getCustomerType().getDiscountCalculatorFactory()\r\n  DiscountCalculator discountCalculator = discountCalculatorFactory.getDiscountCalculator(customer);\r\n  int discount = discountCalculator.calculateDiscount();\r\n  System.out.println(&quot;Discount: &quot; + discount);\r\n}\r\n```\r\n\r\nI know discount calculator should not contain Customer but please let it slide as this is just an analogy and it makes perfect sense in actual case. I would like to understand here whether I am introducing circular dependency or not?","title":"Is this design introducing Circular Dependency?","body":"<p>Supposed I have two types of customers - Regular and VIP. I would like to give discounts to them based on CustomerType and their attributes. I have following design in my mind:</p>\n<pre><code>class Customer {\n\n  CustomerType customerType; \n  // Has some attributes\n}\n\nEnum CustomerType {\n\n  REGULAR(&quot;Regular&quot;, new RegularDiscountCalculatorFactory()),\n  VIP(&quot;VIP&quot;, new VIPDiscountCalculatorFactory());\n\n  String value;\n  DiscountCalculatorFactory discountCalculatorFactory;\n\n  //Constructor and Getters\n}\n\nabstract class DiscountCalculatorFactory {\n  public abstract DiscountCalculator getDiscountCalculator(Customer customer);\n}\n\nclass RegularDiscountCalculatorFactory extends DiscountCalculatorFactory {\n  public DiscountCalculator getDiscountCalculator(Customer customer) {\n    return new RegularDiscountCalculator(customer);\n  }\n}\n\nclass VIPDiscountCalculatorFactory extends DiscountCalculatorFactory {\n  public DiscountCalculator getDiscountCalculator(Customer customer) {\n    return new VIPDiscountCalculator(customer);\n  }\n}\n\nabstract class DiscountCalculator {\n\n  Customer customer;\n  public DiscountCalculator(Customer customer) {\n    this.customer = customer;\n  }\n\n  public int calculateDiscount() {\n    //Common Implementation of calculating discount\n  }\n}\n\nclass RegularDiscountCalculator extends DiscountCalculator {\n  public RegularDiscountCalculator(Customer customer) {\n    super(customer);\n  }\n}\n\nclass VIPDiscountCalculator extends DiscountCalculator {\n  public RegularDiscountCalculator(Customer customer) {\n    super(customer);\n  }\n\n  @Override\n  public int calculateDiscount() {\n    //Some different implementation\n    return super.calculateDiscount();\n  }\n}\n\nclass Main {\n  Customer customer = new Customer(&quot;VIP&quot;, .../* other attributes */ );\n  DiscountCalculatorFactory discountCalculatorFactory = customer.getCustomerType().getDiscountCalculatorFactory()\n  DiscountCalculator discountCalculator = discountCalculatorFactory.getDiscountCalculator(customer);\n  int discount = discountCalculator.calculateDiscount();\n  System.out.println(&quot;Discount: &quot; + discount);\n}\n</code></pre>\n<p>I know discount calculator should not contain Customer but please let it slide as this is just an analogy and it makes perfect sense in actual case. I would like to understand here whether I am introducing circular dependency or not?</p>\n"},{"tags":["java","postgresql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4349512,"reputation":2216,"user_id":20151367,"display_name":"JohnH"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1686038741,"creation_date":1686037765,"answer_id":76412465,"question_id":76412167,"body_markdown":"In pgAdmin, the literal `&#39;2023-01-01&#39;` is being parsed as a date value, not a text value, because of the context of the expression. In the Java code with Spring Boot and Hibernate, the parameter has been explicitly specified to be of class `String`. PostgreSQL doesn&#39;t perform implicit conversions of text values to date values prior to the comparison. There is a fundamental difference between parsing a SQL statement and evaluating a statement with explicit parameters. Either pass the parameter as a date, or explicitly cast the text value to a date in the query. Passing the parameter as the intended type is the preferred approach.\r\n\r\nThe following statements, which can be run in pgAdmin, demonstrate the differences:\r\n```\r\n-- because &#39;2023-06-06&#39; is parsed as a date, this query will not raise an exception\r\nSELECT current_date = &#39;2023-06-06&#39;;\r\n\r\n-- because test_date is explicitely made a date, this query will not raise an exception\r\n-- this is analogous to passing a date value to a parameterized query\r\nWITH t(test_date) AS (\r\n  VALUES (&#39;2023-06-06&#39;::date)\r\n)\r\nSELECT current_date = t.test_date\r\nFROM t;\r\n\r\n-- this query will raise an exception due to type differences\r\n-- there is no context to cause PostgreSQL to parse &#39;2023-06-06&#39; as a date\r\nWITH t(test_date) AS (\r\n  VALUES (&#39;2023-06-06&#39;)\r\n)\r\nSELECT current_date = t.test_date\r\nFROM t;\r\n\r\n-- because of the explicit type cast, this query will not raise an exception\r\n-- this is similar to passing a string and explicitly casting it to date in the SELECT\r\nWITH t(test_date) AS (\r\n  VALUES (&#39;2023-06-06&#39;)\r\n)\r\nSELECT current_date = t.test_date::date\r\nFROM t;\r\n```","title":"ERROR: operator does not exist: date = character varying","body":"<p>In pgAdmin, the literal <code>'2023-01-01'</code> is being parsed as a date value, not a text value, because of the context of the expression. In the Java code with Spring Boot and Hibernate, the parameter has been explicitly specified to be of class <code>String</code>. PostgreSQL doesn't perform implicit conversions of text values to date values prior to the comparison. There is a fundamental difference between parsing a SQL statement and evaluating a statement with explicit parameters. Either pass the parameter as a date, or explicitly cast the text value to a date in the query. Passing the parameter as the intended type is the preferred approach.</p>\n<p>The following statements, which can be run in pgAdmin, demonstrate the differences:</p>\n<pre><code>-- because '2023-06-06' is parsed as a date, this query will not raise an exception\nSELECT current_date = '2023-06-06';\n\n-- because test_date is explicitely made a date, this query will not raise an exception\n-- this is analogous to passing a date value to a parameterized query\nWITH t(test_date) AS (\n  VALUES ('2023-06-06'::date)\n)\nSELECT current_date = t.test_date\nFROM t;\n\n-- this query will raise an exception due to type differences\n-- there is no context to cause PostgreSQL to parse '2023-06-06' as a date\nWITH t(test_date) AS (\n  VALUES ('2023-06-06')\n)\nSELECT current_date = t.test_date\nFROM t;\n\n-- because of the explicit type cast, this query will not raise an exception\n-- this is similar to passing a string and explicitly casting it to date in the SELECT\nWITH t(test_date) AS (\n  VALUES ('2023-06-06')\n)\nSELECT current_date = t.test_date::date\nFROM t;\n</code></pre>\n"}],"owner":{"display_name":"user19459199"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686038741,"creation_date":1686035101,"question_id":76412167,"body_markdown":"I have this problem:\r\n\r\nthis query in PostgreSQL PG Admin work fine:\r\n\r\n    SELECT ST_AsGeoJSON(t1.\\*) as extent FROM ricepest.forecast t1 where state = &#39;Andhra Pradesh&#39; AND dist = &#39;Ananthapur&#39; AND date_id = &#39;2023-01-01&#39;;\r\n\r\nbut in spring-boot with hibernate i wrote a service like this:\r\n\r\n```\r\n@Query(nativeQuery = true, value = &quot;SELECT ST_AsGeoJSON(t1.*) as extent FROM ricepest.state t1 where state = :val&quot;)\r\n\tList&lt;GetFeature&gt; getFeatureByStateIdService(@Param(&quot;val&quot;) String val);\r\n\t\r\n\t@Query(nativeQuery = true, value = &quot;SELECT ST_AsGeoJSON(t1.*) as extent FROM ricepest.district t1 where state = :state_val AND dist = :dist_val&quot;)\r\n\tList&lt;GetFeature&gt; getFeatureByStateIdService(@Param(&quot;state_val&quot;) String state_val, @Param(&quot;dist_val&quot;) String dist_val);\r\n\t\r\n\t@Query(nativeQuery = true, value = &quot;SELECT ST_AsGeoJSON(t1.*) as extent FROM ricepest.forecast t1 where state = :state_val AND dist = :dist_val AND date_id = :from_date&quot;)\r\n\tList&lt;GetFeature&gt; getFeatureByStateIdService(@Param(&quot;state_val&quot;) String state_val, @Param(&quot;dist_val&quot;) String dist_val, @Param(&quot;from_date&quot;) String from_date);\r\n\t\r\n\tpublic static interface GetFeature {\r\n\t\tString getExtent();\r\n\t}\r\n```\r\n\r\nThis is my java Controller:\r\n\r\n```\r\n@PostMapping(value = &quot;/feature&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;GetFeature&gt;&gt; getFeatureByStateIdService(@RequestBody RequestInputs reqInputs) {\r\n\t\tSystem.out.println(&quot;The state and district input value for getFeature : &quot; + reqInputs.getState_id() + &quot; and &quot; + reqInputs.getDist() + &quot; and &quot; + reqInputs.getFromdate_id());\r\n\t\tList&lt;GetFeature&gt; extent;\r\n\t\tif (reqInputs.getDist().equalsIgnoreCase(&quot;0&quot;) || reqInputs.getDist().equalsIgnoreCase(&quot;-- SELECT DISTRICT--&quot;)) {\r\n\t\t\textent = pestServiceRepository.getFeatureByStateIdService(reqInputs.getState_id());\r\n\t\t} else if (reqInputs.getFromdate_id().equalsIgnoreCase(&quot;0&quot;) || reqInputs.getFromdate_id().equalsIgnoreCase(&quot;-- SELECT DATE--&quot;)) {\r\n\t\t\textent = pestServiceRepository.getFeatureByStateIdService(reqInputs.getDist());\r\n\t\t} else {\r\n\t\t\textent = pestServiceRepository.getFeatureByStateIdService(reqInputs.getState_id(), reqInputs.getDist(), reqInputs.getFromdate_id());\r\n\t\t}\r\n\t\tif (!extent.isEmpty()) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(extent, HttpStatus.OK);\r\n\t\t} else {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI have this ERROR:\r\n\r\n```\r\nERROR: operator does not exist: date = character varying\r\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n```\r\n\r\nI am not getting what has went wrong. Any help would be appreciated.","title":"ERROR: operator does not exist: date = character varying","body":"<p>I have this problem:</p>\n<p>this query in PostgreSQL PG Admin work fine:</p>\n<pre><code>SELECT ST_AsGeoJSON(t1.\\*) as extent FROM ricepest.forecast t1 where state = 'Andhra Pradesh' AND dist = 'Ananthapur' AND date_id = '2023-01-01';\n</code></pre>\n<p>but in spring-boot with hibernate i wrote a service like this:</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;SELECT ST_AsGeoJSON(t1.*) as extent FROM ricepest.state t1 where state = :val&quot;)\n    List&lt;GetFeature&gt; getFeatureByStateIdService(@Param(&quot;val&quot;) String val);\n    \n    @Query(nativeQuery = true, value = &quot;SELECT ST_AsGeoJSON(t1.*) as extent FROM ricepest.district t1 where state = :state_val AND dist = :dist_val&quot;)\n    List&lt;GetFeature&gt; getFeatureByStateIdService(@Param(&quot;state_val&quot;) String state_val, @Param(&quot;dist_val&quot;) String dist_val);\n    \n    @Query(nativeQuery = true, value = &quot;SELECT ST_AsGeoJSON(t1.*) as extent FROM ricepest.forecast t1 where state = :state_val AND dist = :dist_val AND date_id = :from_date&quot;)\n    List&lt;GetFeature&gt; getFeatureByStateIdService(@Param(&quot;state_val&quot;) String state_val, @Param(&quot;dist_val&quot;) String dist_val, @Param(&quot;from_date&quot;) String from_date);\n    \n    public static interface GetFeature {\n        String getExtent();\n    }\n</code></pre>\n<p>This is my java Controller:</p>\n<pre><code>@PostMapping(value = &quot;/feature&quot;)\n    public ResponseEntity&lt;List&lt;GetFeature&gt;&gt; getFeatureByStateIdService(@RequestBody RequestInputs reqInputs) {\n        System.out.println(&quot;The state and district input value for getFeature : &quot; + reqInputs.getState_id() + &quot; and &quot; + reqInputs.getDist() + &quot; and &quot; + reqInputs.getFromdate_id());\n        List&lt;GetFeature&gt; extent;\n        if (reqInputs.getDist().equalsIgnoreCase(&quot;0&quot;) || reqInputs.getDist().equalsIgnoreCase(&quot;-- SELECT DISTRICT--&quot;)) {\n            extent = pestServiceRepository.getFeatureByStateIdService(reqInputs.getState_id());\n        } else if (reqInputs.getFromdate_id().equalsIgnoreCase(&quot;0&quot;) || reqInputs.getFromdate_id().equalsIgnoreCase(&quot;-- SELECT DATE--&quot;)) {\n            extent = pestServiceRepository.getFeatureByStateIdService(reqInputs.getDist());\n        } else {\n            extent = pestServiceRepository.getFeatureByStateIdService(reqInputs.getState_id(), reqInputs.getDist(), reqInputs.getFromdate_id());\n        }\n        if (!extent.isEmpty()) {\n            return new ResponseEntity&lt;&gt;(extent, HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n</code></pre>\n<p>I have this ERROR:</p>\n<pre><code>ERROR: operator does not exist: date = character varying\n  Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n</code></pre>\n<p>I am not getting what has went wrong. Any help would be appreciated.</p>\n"},{"tags":["java","rest","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1360805477,"creation_date":1360805477,"answer_id":14866394,"question_id":14866362,"body_markdown":"&gt; Is there anything wrong I am doing here?\r\n\r\nYes. As stated in [the docs][1]:\r\n\r\n&gt; BasicClientConnectionManager is a simple connection manager that\r\n&gt; maintains only one connection at a time. Even though this class is\r\n&gt; thread-safe it ought to be used by one execution thread only.\r\n&gt; BasicClientConnectionManager will make an effort to reuse the\r\n&gt; connection for subsequent requests with the same route. It will,\r\n&gt; however, close the existing connection and re-open it for the given\r\n&gt; route, if the route of the persistent connection does not match that\r\n&gt; of the connection request. If the connection has been already been\r\n&gt; allocated, then java.lang.IllegalStateException is thrown.\r\n&gt; \r\n&gt; BasicClientConnectionManager is used by HttpClient per default.\r\n\r\nSee [&quot;Multithreaded request execution&quot;][2] on how to use a [pooling connection manager][3] that can handle requests across multiple threads.\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d5e619\r\n  [2]: http://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d5e639\r\n  [3]: http://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d5e627","title":"Invalid use of BasicClientConnManager: connection still allocated","body":"<blockquote>\n  <p>Is there anything wrong I am doing here?</p>\n</blockquote>\n\n<p>Yes. As stated in <a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d5e619\">the docs</a>:</p>\n\n<blockquote>\n  <p>BasicClientConnectionManager is a simple connection manager that\n  maintains only one connection at a time. Even though this class is\n  thread-safe it ought to be used by one execution thread only.\n  BasicClientConnectionManager will make an effort to reuse the\n  connection for subsequent requests with the same route. It will,\n  however, close the existing connection and re-open it for the given\n  route, if the route of the persistent connection does not match that\n  of the connection request. If the connection has been already been\n  allocated, then java.lang.IllegalStateException is thrown.</p>\n  \n  <p>BasicClientConnectionManager is used by HttpClient per default.</p>\n</blockquote>\n\n<p>See <a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d5e639\">\"Multithreaded request execution\"</a> on how to use a <a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d5e627\">pooling connection manager</a> that can handle requests across multiple threads.</p>\n"},{"tags":[],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1686038559,"creation_date":1366883808,"answer_id":16211729,"question_id":14866362,"body_markdown":"Assuming you are using the vanilla `DefaultHttpClient` (which uses `BasicClientConnectionManager` internally), you first need to consume the outstanding/last response.\r\n\r\n`EntityUtils.consumeQuietly(httpResponse.getEntity());`\r\n\r\nElse, you can reallocate `DefaultHttpClient` each time.\r\n\r\nElse, you can wrap the `execute()` plus `EntityUtils.consumeQuietly()` inside a `synchronized()` block to prevent multi-threading bugs.\r\n\r\nSource: https://stackoverflow.com/questions/4728683/workaround-to-not-shutdown-defaulthttpclient-each-time-after-usage","title":"Invalid use of BasicClientConnManager: connection still allocated","body":"<p>Assuming you are using the vanilla <code>DefaultHttpClient</code> (which uses <code>BasicClientConnectionManager</code> internally), you first need to consume the outstanding/last response.</p>\n<p><code>EntityUtils.consumeQuietly(httpResponse.getEntity());</code></p>\n<p>Else, you can reallocate <code>DefaultHttpClient</code> each time.</p>\n<p>Else, you can wrap the <code>execute()</code> plus <code>EntityUtils.consumeQuietly()</code> inside a <code>synchronized()</code> block to prevent multi-threading bugs.</p>\n<p>Source: <a href=\"https://stackoverflow.com/questions/4728683/workaround-to-not-shutdown-defaulthttpclient-each-time-after-usage\">Workaround to not shutdown DefaultHttpClient() each time after usage</a></p>\n"},{"tags":[],"owner":{"account_id":1820061,"reputation":426,"user_id":1654314,"display_name":"Jerry Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394612219,"creation_date":1394612219,"answer_id":22345594,"question_id":14866362,"body_markdown":"This is my configuration for RestTemplate using pool connection manager. It works very well in 5 more concurrent threads.\r\n\r\n    &lt;!-- RestTemplate --&gt;\r\n    &lt;beans:bean id=&quot;restTemplateYT&quot; class=&quot;org.springframework.web.client.RestTemplate&quot;&gt;\r\n    \t&lt;beans:constructor-arg ref=&quot;httpRequestFactoryYT&quot; /&gt;\r\n    &lt;/beans:bean&gt;\r\n    \r\n    &lt;beans:bean id=&quot;httpRequestFactoryYT&quot; class=&quot;org.springframework.http.client.HttpComponentsClientHttpRequestFactory&quot;&gt; \r\n        &lt;beans:constructor-arg&gt;\r\n    \t\t&lt;beans:bean class=&quot;org.apache.http.impl.client.DefaultHttpClient&quot;&gt;\r\n    \t\t    &lt;beans:constructor-arg&gt;\r\n    \t\t    \t&lt;beans:bean class=&quot;org.apache.http.impl.conn.PoolingClientConnectionManager&quot;/&gt;\r\n    \t\t    &lt;/beans:constructor-arg&gt;\r\n    \t\t&lt;/beans:bean&gt;\r\n    \t&lt;/beans:constructor-arg&gt;\r\n    \t&lt;beans:property name=&quot;connectTimeout&quot; value=&quot;5000&quot; /&gt;\r\n    &lt;/beans:bean&gt;\r\n\r\nSpring version: 3.1.0","title":"Invalid use of BasicClientConnManager: connection still allocated","body":"<p>This is my configuration for RestTemplate using pool connection manager. It works very well in 5 more concurrent threads.</p>\n\n<pre><code>&lt;!-- RestTemplate --&gt;\n&lt;beans:bean id=\"restTemplateYT\" class=\"org.springframework.web.client.RestTemplate\"&gt;\n    &lt;beans:constructor-arg ref=\"httpRequestFactoryYT\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"httpRequestFactoryYT\" class=\"org.springframework.http.client.HttpComponentsClientHttpRequestFactory\"&gt; \n    &lt;beans:constructor-arg&gt;\n        &lt;beans:bean class=\"org.apache.http.impl.client.DefaultHttpClient\"&gt;\n            &lt;beans:constructor-arg&gt;\n                &lt;beans:bean class=\"org.apache.http.impl.conn.PoolingClientConnectionManager\"/&gt;\n            &lt;/beans:constructor-arg&gt;\n        &lt;/beans:bean&gt;\n    &lt;/beans:constructor-arg&gt;\n    &lt;beans:property name=\"connectTimeout\" value=\"5000\" /&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>Spring version: 3.1.0</p>\n"}],"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69545,"favorite_count":0,"down_vote_count":1,"up_vote_count":48,"accepted_answer_id":14866394,"answer_count":3,"score":47,"last_activity_date":1686038559,"creation_date":1360805213,"question_id":14866362,"body_markdown":"I am making a call to REST URL and trying to measure how much time it is taking to get the response back.\r\n\r\nI am using `DefaultHttpClient ` for that to get the response back from `REST URL`.\r\n\r\nIn my below program , each thread will be working on a particular range. Like Each Thread will work between `1 - 100` and second thread will work between `101 - 200` etc.\r\n\r\nSO in my below code, for the first time it works fine. But for the second time, it is throwing exception on this line `httpclient.execute` for the second time as-\r\n\r\n    java.lang.IllegalStateException: Invalid use of BasicClientConnManager: connection still allocated.\r\n    Make sure to release the connection before allocating another one.\r\n\r\n\r\nIs there anything wrong I am doing here?-\r\n\r\n\r\nBelow is my code-\r\n\r\n\r\n    class Task implements Runnable {\r\n    \r\n    \tprivate DefaultHttpClient httpclient = new DefaultHttpClient();\r\n    \tprivate HttpGet httpGet;\r\n    \tprivate HttpResponse response;\r\n    \t\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\thttpGet = new HttpGet(\r\n    \t\t\t\t\t&quot;http://localhost:8080/service/BEService/v1/get/USERID=10000/profile.ACCOUNT.SERVICE\r\n    \t\t\thttpGet.getRequestLine();\r\n    \t\t\t\r\n    \t\t\tfor (int userId = id; userId &lt; id + noOfTasks; userId++) {\r\n    \r\n    \t\t\t\t\tlong start = System.nanoTime();\r\n    \r\n    \t\t\t\t\tresponse = httpclient.execute(httpGet);\r\n    \r\n    \t\t\t\t\tlong end = System.nanoTime() - start;\r\n    \t\t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOG.error(&quot;Threw a Exception in &quot; + getClass().getSimpleName(), e);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Updated Code:-**\r\n\r\nIf I am doing it something like this-\r\n\r\n\r\n    class Task implements Runnable {\r\n    \r\n    \tprivate DefaultHttpClient httpclient = new DefaultHttpClient();\r\n    \tprivate HttpGet httpGet;\r\n    \tprivate HttpResponse response;\r\n    \t\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\tfor (int userId = id; userId &lt; id + noOfTasks; userId++) {\r\n    \r\n    \t\t\t\thttpGet = new HttpGet(&quot;http://localhost:8080/service/BEService/v1/get/USERID=10000/profile.ACCOUNT.SERVICE&quot;);\r\n    \t\t\t\thttpGet.getRequestLine();\r\n    \r\n    \t\t\t\tlong start = System.nanoTime();\r\n    \r\n    \t\t\t\tresponse = httpclient.execute(httpGet);\r\n    \r\n    \t\t\t\tlong end = System.nanoTime() - start;\r\n    \r\n    \t\t\t\tHttpEntity entity = response.getEntity();\r\n    \t\t\t\tEntityUtils.consume(entity);\r\n    \t\t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOG.error(&quot;Threw a Exception in &quot; + getClass().getSimpleName(), e);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nthen it is fine or not?\r\n\r\n","title":"Invalid use of BasicClientConnManager: connection still allocated","body":"<p>I am making a call to REST URL and trying to measure how much time it is taking to get the response back.</p>\n\n<p>I am using <code>DefaultHttpClient</code> for that to get the response back from <code>REST URL</code>.</p>\n\n<p>In my below program , each thread will be working on a particular range. Like Each Thread will work between <code>1 - 100</code> and second thread will work between <code>101 - 200</code> etc.</p>\n\n<p>SO in my below code, for the first time it works fine. But for the second time, it is throwing exception on this line <code>httpclient.execute</code> for the second time as-</p>\n\n<pre><code>java.lang.IllegalStateException: Invalid use of BasicClientConnManager: connection still allocated.\nMake sure to release the connection before allocating another one.\n</code></pre>\n\n<p>Is there anything wrong I am doing here?-</p>\n\n<p>Below is my code-</p>\n\n<pre><code>class Task implements Runnable {\n\n    private DefaultHttpClient httpclient = new DefaultHttpClient();\n    private HttpGet httpGet;\n    private HttpResponse response;\n\n    @Override\n    public void run() {\n\n        try {\n\n            httpGet = new HttpGet(\n                    \"http://localhost:8080/service/BEService/v1/get/USERID=10000/profile.ACCOUNT.SERVICE\n            httpGet.getRequestLine();\n\n            for (int userId = id; userId &lt; id + noOfTasks; userId++) {\n\n                    long start = System.nanoTime();\n\n                    response = httpclient.execute(httpGet);\n\n                    long end = System.nanoTime() - start;\n                }\n        } catch (Exception e) {\n            LOG.error(\"Threw a Exception in \" + getClass().getSimpleName(), e);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Updated Code:-</strong></p>\n\n<p>If I am doing it something like this-</p>\n\n<pre><code>class Task implements Runnable {\n\n    private DefaultHttpClient httpclient = new DefaultHttpClient();\n    private HttpGet httpGet;\n    private HttpResponse response;\n\n    @Override\n    public void run() {\n\n        try {\n\n            for (int userId = id; userId &lt; id + noOfTasks; userId++) {\n\n                httpGet = new HttpGet(\"http://localhost:8080/service/BEService/v1/get/USERID=10000/profile.ACCOUNT.SERVICE\");\n                httpGet.getRequestLine();\n\n                long start = System.nanoTime();\n\n                response = httpclient.execute(httpGet);\n\n                long end = System.nanoTime() - start;\n\n                HttpEntity entity = response.getEntity();\n                EntityUtils.consume(entity);\n                }\n        } catch (Exception e) {\n            LOG.error(\"Threw a Exception in \" + getClass().getSimpleName(), e);\n        }\n    }\n}\n</code></pre>\n\n<p>then it is fine or not?</p>\n"},{"tags":["java","json","intellij-idea","build","jar"],"answers":[{"tags":[],"owner":{"account_id":4884700,"reputation":84,"user_id":3937485,"display_name":"cyril wirth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686038401,"creation_date":1686038401,"answer_id":76412531,"question_id":76411043,"body_markdown":"Welcome in the dev community. \r\n\r\nI don&#39;t have all the details but when I see your code, in my opinion the issue is on the line &quot;String myJSON = loadFileIntoString(args[1], &quot;UTF-8&quot;);&quot;\r\n\r\nIndeed your command line : `java -jar Project.jar input.json output.json`\r\nbut the args[1] is not the input.json but the output.json, if you want to read the input.json file you should use args[0].\r\n\r\n","title":"Building a Jar file in Intellij","body":"<p>Welcome in the dev community.</p>\n<p>I don't have all the details but when I see your code, in my opinion the issue is on the line &quot;String myJSON = loadFileIntoString(args[1], &quot;UTF-8&quot;);&quot;</p>\n<p>Indeed your command line : <code>java -jar Project.jar input.json output.json</code>\nbut the args[1] is not the input.json but the output.json, if you want to read the input.json file you should use args[0].</p>\n"}],"owner":{"account_id":24233855,"reputation":5,"user_id":18187244,"display_name":"TheGunner422"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76412531,"answer_count":1,"score":0,"last_activity_date":1686038401,"creation_date":1686017900,"question_id":76411043,"body_markdown":"I am new to Java and I am using Intellij. I have a src folder where I wrote my Java program. I have to build my Jar file but I am struggling so far.\r\n\r\nI have built the Jar file and I try running this in the command line :\r\n\r\n`java -jar Project.jar input.json output.json`\r\n\r\nBut I have this error when running the program :\r\n\r\n```\r\nException in thread &quot;main&quot; net.sf.json.JSONException: JSONObject[&quot;employee_type&quot;] is not a number.\r\n```\r\n\r\nI am not sure to understand why it does that. When I run my code by configuring the arguments and when debugging, the program works without any problem, but not the build. \r\n\r\nI have these libraries but I am not sure if all of them are useful:\r\n\r\n```\r\ncommons-collections-3.2.1.jar\r\ncommons-io-2.4.jar\r\ncommons-lang-2.6.jar\r\ncommons-logging-1.1.1.jar\r\nezmorph-1.0.6.jar\r\njson-lib-2.4-jdk15.jar\r\n```\r\n\r\nHere is my JSON file :\r\n\r\n```\r\n{\r\n &quot;id_employee&quot;:123456789,\r\n &quot;employee_type&quot;:2,\r\n &quot;min_pay&quot;:&quot;35.47 $&quot;,\r\n &quot;max_pay&quot;:&quot;72.03 $&quot;\r\n}\r\n```\r\n\r\nAnd here bit of the code that reads the JSON file, the error happens at the 4th line :\r\n\r\n```\r\nString myJSON = loadFileIntoString(args[1], &quot;UTF-8&quot;);\r\nJSONObject jsonEmployee = JSONObject.fromObject(myJSON);\r\nint employeeID = jsonEmploye.getInt(&quot;id_employee&quot;);\r\nint employeeType = jsonEmploye.getInt(&quot;employee_type&quot;);\r\nString minHourlyRateString = jsonEmploye.getString(&quot;min_pay&quot;);\r\nString maxHourlyRateString = jsonEmploye.getString(&quot;max_pay&quot;);\r\n```\r\n\r\nI have stuggled here for a while, not fully understanding if the build is wrong or anything else. I tried to follow the tutorials to build correctly the program into a jar file, but it still gives me the error that it can&#39;t read correctly my JSON file. My code doesn&#39;t seems to be an issue since the run and debug works as expected, so any advice would be great.","title":"Building a Jar file in Intellij","body":"<p>I am new to Java and I am using Intellij. I have a src folder where I wrote my Java program. I have to build my Jar file but I am struggling so far.</p>\n<p>I have built the Jar file and I try running this in the command line :</p>\n<p><code>java -jar Project.jar input.json output.json</code></p>\n<p>But I have this error when running the program :</p>\n<pre><code>Exception in thread &quot;main&quot; net.sf.json.JSONException: JSONObject[&quot;employee_type&quot;] is not a number.\n</code></pre>\n<p>I am not sure to understand why it does that. When I run my code by configuring the arguments and when debugging, the program works without any problem, but not the build.</p>\n<p>I have these libraries but I am not sure if all of them are useful:</p>\n<pre><code>commons-collections-3.2.1.jar\ncommons-io-2.4.jar\ncommons-lang-2.6.jar\ncommons-logging-1.1.1.jar\nezmorph-1.0.6.jar\njson-lib-2.4-jdk15.jar\n</code></pre>\n<p>Here is my JSON file :</p>\n<pre><code>{\n &quot;id_employee&quot;:123456789,\n &quot;employee_type&quot;:2,\n &quot;min_pay&quot;:&quot;35.47 $&quot;,\n &quot;max_pay&quot;:&quot;72.03 $&quot;\n}\n</code></pre>\n<p>And here bit of the code that reads the JSON file, the error happens at the 4th line :</p>\n<pre><code>String myJSON = loadFileIntoString(args[1], &quot;UTF-8&quot;);\nJSONObject jsonEmployee = JSONObject.fromObject(myJSON);\nint employeeID = jsonEmploye.getInt(&quot;id_employee&quot;);\nint employeeType = jsonEmploye.getInt(&quot;employee_type&quot;);\nString minHourlyRateString = jsonEmploye.getString(&quot;min_pay&quot;);\nString maxHourlyRateString = jsonEmploye.getString(&quot;max_pay&quot;);\n</code></pre>\n<p>I have stuggled here for a while, not fully understanding if the build is wrong or anything else. I tried to follow the tutorials to build correctly the program into a jar file, but it still gives me the error that it can't read correctly my JSON file. My code doesn't seems to be an issue since the run and debug works as expected, so any advice would be great.</p>\n"},{"tags":["java","reactjs","react-native","sms"],"owner":{"account_id":9881712,"reputation":187,"user_id":8906171,"accept_rate":60,"display_name":"Metallistener"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686038394,"creation_date":1686038394,"question_id":76412528,"body_markdown":"My app has SOS feature that uses SMS permission to send SMS from app (without opening native Message application). I can&#39;t find a way how to call a prompt that will ask user to set app as default SMS handler. I need it because Google Play can&#39;t approve my app because app uses sensitive permission like SMS. Can someone help me how to solve this problem?\r\n\r\nThis is message from Google Play below:\r\n\r\n&gt; You declared default SMS handling in your declaration form, but your app isn’t the registered default handler for SMS or its other core functionality.","title":"Ask user to set react native app as default SMS handler","body":"<p>My app has SOS feature that uses SMS permission to send SMS from app (without opening native Message application). I can't find a way how to call a prompt that will ask user to set app as default SMS handler. I need it because Google Play can't approve my app because app uses sensitive permission like SMS. Can someone help me how to solve this problem?</p>\n<p>This is message from Google Play below:</p>\n<blockquote>\n<p>You declared default SMS handling in your declaration form, but your app isn’t the registered default handler for SMS or its other core functionality.</p>\n</blockquote>\n"},{"tags":["java","security","wildfly","credentials"],"answers":[{"tags":[],"owner":{"account_id":2174240,"reputation":1419,"user_id":1925356,"accept_rate":33,"display_name":"Alex Mi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686037280,"creation_date":1686037280,"answer_id":76412408,"question_id":76321337,"body_markdown":"The solution to this problem turned to be quite simple in my case. It was using the first approach as shown below\r\n\r\n    credentialStore.store(&quot;clearPassword&quot;, new PasswordCredential(clearPassword));\r\n\r\nand just adding the line\r\n\r\n    credentialStore.flush();\r\n\r\nThis did &quot;the magic&quot; and the credentials are now permanently stored in the credential store file.","title":"Problems storing a password programmatically in the crednetial store of WildFly, versions 17 and 21","body":"<p>The solution to this problem turned to be quite simple in my case. It was using the first approach as shown below</p>\n<pre><code>credentialStore.store(&quot;clearPassword&quot;, new PasswordCredential(clearPassword));\n</code></pre>\n<p>and just adding the line</p>\n<pre><code>credentialStore.flush();\n</code></pre>\n<p>This did &quot;the magic&quot; and the credentials are now permanently stored in the credential store file.</p>\n"}],"owner":{"account_id":2174240,"reputation":1419,"user_id":1925356,"accept_rate":33,"display_name":"Alex Mi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686037280,"creation_date":1684915531,"question_id":76321337,"body_markdown":"I am developing a JEE application running on WildFly 17 application server. \r\n\r\nI want to store programmatically passwords in the credential store of WildFly following the steps in the link below:\r\n\r\nhttps://github.com/wildfly-security-incubator/elytron-examples/blob/main/credential-store/src/main/java/org/wildfly/security/examples/CredentialStoreExample.java\r\n\r\nSpecifically, to store a password,  I use the line:\r\n\r\n    credentialStore.store(&quot;clearPassword&quot;, new PasswordCredential(clearPassword));\r\n\r\nas shown in the above mentioned link at line 61\r\n\r\nAltough the password is actually stored and I can access it programatically, whenever I restart the application server, the entry is no longer there. \r\nThe same problem occured using WildFly 21.\r\n\r\nI tried then another approach using the code below:\r\n\r\n    // defined as a class member:\r\n    String credentialStoreConfigPath = &quot;/opt/wildfly/standalone/data/credentials/jbcsstore.jceks&quot;\r\n    \r\n    \r\n    public void putPassword(final String credentialAlias, final String password) throws CredentialStoreException {\r\n    \r\n    \tString[] cmd = { &quot;/bin/sh&quot;, &quot;-c&quot;, &quot;cd &quot; +this.wildFlyBinFolderPath };\r\n    \texecuteCommand(cmd);\r\n    \t\r\n    \tString [] command = {&quot;./elytron-tool.sh credential-store --location &quot; + Constants.TWO_DOTS + credentialStoreConfigPath + &quot; --password &quot;+ (wildFlyCredStorePasswordHere) + &quot; --add &quot; + credentialAlias + &quot; --secret &quot; + password};\r\n    \r\n    \texecuteCommand(command);\r\n    }\r\n    \r\n    private void executeCommand(String [] command) {\r\n    \tProcess process = null;\r\n    \ttry {\r\n    \t\tprocess = Runtime.getRuntime().exec(command);\r\n    \t\t\r\n    \t} catch (IOException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \r\n    \tStreamGobbler streamGobbler = new StreamGobbler(process.getInputStream(), System.out::println);\r\n    \tFuture&lt;?&gt; future = Executors.newSingleThreadExecutor().submit(streamGobbler);\r\n    \r\n    \tint exitCode;\r\n    \ttry {\r\n    \t\texitCode = process.waitFor();\r\n    \t\tassert exitCode == 0;\r\n    \t\tfuture.get(); // waits for streamGobbler to finish\r\n    \r\n    \t} catch (InterruptedException | ExecutionException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n    \r\n    private static class StreamGobbler implements Runnable {\r\n    \tprivate InputStream inputStream;\r\n    \tprivate Consumer&lt;String&gt; consumer;\r\n    \r\n    \tpublic StreamGobbler(InputStream inputStream, Consumer&lt;String&gt; consumer) {\r\n    \t\tthis.inputStream = inputStream;\r\n    \t\tthis.consumer = consumer;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tnew BufferedReader(new InputStreamReader(inputStream)).lines().forEach(consumer);\r\n    \t}\r\n    }\r\n\r\nand altough the code gets executed without an exception, the password is actually not stored in the credential store.\r\n\r\nBut why?","title":"Problems storing a password programmatically in the crednetial store of WildFly, versions 17 and 21","body":"<p>I am developing a JEE application running on WildFly 17 application server.</p>\n<p>I want to store programmatically passwords in the credential store of WildFly following the steps in the link below:</p>\n<p><a href=\"https://github.com/wildfly-security-incubator/elytron-examples/blob/main/credential-store/src/main/java/org/wildfly/security/examples/CredentialStoreExample.java\" rel=\"nofollow noreferrer\">https://github.com/wildfly-security-incubator/elytron-examples/blob/main/credential-store/src/main/java/org/wildfly/security/examples/CredentialStoreExample.java</a></p>\n<p>Specifically, to store a password,  I use the line:</p>\n<pre><code>credentialStore.store(&quot;clearPassword&quot;, new PasswordCredential(clearPassword));\n</code></pre>\n<p>as shown in the above mentioned link at line 61</p>\n<p>Altough the password is actually stored and I can access it programatically, whenever I restart the application server, the entry is no longer there.\nThe same problem occured using WildFly 21.</p>\n<p>I tried then another approach using the code below:</p>\n<pre><code>// defined as a class member:\nString credentialStoreConfigPath = &quot;/opt/wildfly/standalone/data/credentials/jbcsstore.jceks&quot;\n\n\npublic void putPassword(final String credentialAlias, final String password) throws CredentialStoreException {\n\n    String[] cmd = { &quot;/bin/sh&quot;, &quot;-c&quot;, &quot;cd &quot; +this.wildFlyBinFolderPath };\n    executeCommand(cmd);\n    \n    String [] command = {&quot;./elytron-tool.sh credential-store --location &quot; + Constants.TWO_DOTS + credentialStoreConfigPath + &quot; --password &quot;+ (wildFlyCredStorePasswordHere) + &quot; --add &quot; + credentialAlias + &quot; --secret &quot; + password};\n\n    executeCommand(command);\n}\n\nprivate void executeCommand(String [] command) {\n    Process process = null;\n    try {\n        process = Runtime.getRuntime().exec(command);\n        \n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    StreamGobbler streamGobbler = new StreamGobbler(process.getInputStream(), System.out::println);\n    Future&lt;?&gt; future = Executors.newSingleThreadExecutor().submit(streamGobbler);\n\n    int exitCode;\n    try {\n        exitCode = process.waitFor();\n        assert exitCode == 0;\n        future.get(); // waits for streamGobbler to finish\n\n    } catch (InterruptedException | ExecutionException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n\nprivate static class StreamGobbler implements Runnable {\n    private InputStream inputStream;\n    private Consumer&lt;String&gt; consumer;\n\n    public StreamGobbler(InputStream inputStream, Consumer&lt;String&gt; consumer) {\n        this.inputStream = inputStream;\n        this.consumer = consumer;\n    }\n\n    @Override\n    public void run() {\n        new BufferedReader(new InputStreamReader(inputStream)).lines().forEach(consumer);\n    }\n}\n</code></pre>\n<p>and altough the code gets executed without an exception, the password is actually not stored in the credential store.</p>\n<p>But why?</p>\n"},{"tags":["java","windows","networking","filesystems","windows-10"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1482073117,"post_id":41209360,"comment_id":69617801,"body_markdown":"[This question might help](http://stackoverflow.com/questions/33640908/how-to-navigate-to-a-network-host-in-jfilechooser)","body":"<a href=\"http://stackoverflow.com/questions/33640908/how-to-navigate-to-a-network-host-in-jfilechooser\">This question might help</a>"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1482231751,"post_id":41209360,"comment_id":69681059,"body_markdown":"@HovercraftFullOfEels thats interesting but Im talking about a network share already mounted as Z:\\ and it doesnt explain why its visible if I run program one way but not another","body":"@HovercraftFullOfEels thats interesting but Im talking about a network share already mounted as Z:\\ and it doesnt explain why its visible if I run program one way but not another"},{"owner":{"account_id":9881101,"reputation":99,"user_id":7317167,"display_name":"EngineerExtraordinaire"},"score":0,"creation_date":1482347548,"post_id":41209360,"comment_id":69741383,"body_markdown":"This isn&#39;t a solution but it could be a debug tip. Did you try running your IDE as admin and then run your app? Perhaps the IDE is quietly stifling permissions.","body":"This isn&#39;t a solution but it could be a debug tip. Did you try running your IDE as admin and then run your app? Perhaps the IDE is quietly stifling permissions."},{"owner":{"account_id":6996707,"reputation":1319,"user_id":5364144,"accept_rate":92,"display_name":"Samuel Tulach"},"score":0,"creation_date":1482580849,"post_id":41209360,"comment_id":69829385,"body_markdown":"Can you post a debug log, please?","body":"Can you post a debug log, please?"},{"owner":{"account_id":550040,"reputation":1590,"user_id":2638049,"accept_rate":84,"display_name":"serge"},"score":0,"creation_date":1482850375,"post_id":41209360,"comment_id":69896365,"body_markdown":"What IDE are you using. And if you do `Open File` in your IDE from the menu, do you see you network drive?","body":"What IDE are you using. And if you do <code>Open File</code> in your IDE from the menu, do you see you network drive?"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1483721745,"post_id":41209360,"comment_id":70226772,"body_markdown":"@serge Im using Jetbrains Intellij, I am running as adminsistrator but you are correct if I do FIle:Open it doesn&#39;t show the networked drives . Maybe I just need to update it Im still using 13.1.2 on Windows","body":"@serge Im using Jetbrains Intellij, I am running as adminsistrator but you are correct if I do FIle:Open it doesn&#39;t show the networked drives . Maybe I just need to update it Im still using 13.1.2 on Windows"},{"owner":{"account_id":550040,"reputation":1590,"user_id":2638049,"accept_rate":84,"display_name":"serge"},"score":0,"creation_date":1483723880,"post_id":41209360,"comment_id":70228049,"body_markdown":"Yeah I would update, and if it doesn&#39;t help maybe look into UAC, like Hani said","body":"Yeah I would update, and if it doesn&#39;t help maybe look into UAC, like Hani said"}],"answers":[{"tags":[],"owner":{"account_id":9893419,"reputation":104,"user_id":7325737,"display_name":"Hani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482335092,"creation_date":1482335092,"answer_id":41266702,"question_id":41209360,"body_markdown":"Its not possible for me to comment, so I have to ask here.\r\n\r\nDid you tried to run your IDE with Administrator Rights? Maybe some minor &#39;problems&#39; with UAC (User Account Control).","title":"Unable to see networked drive on Windows 10 PC using Java Open Dialog in IDE but see it outside of IDE","body":"<p>Its not possible for me to comment, so I have to ask here.</p>\n\n<p>Did you tried to run your IDE with Administrator Rights? Maybe some minor 'problems' with UAC (User Account Control).</p>\n"},{"tags":[],"owner":{"account_id":10420388,"reputation":11,"user_id":7683203,"display_name":"simon binz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489056710,"creation_date":1489051484,"answer_id":42691407,"question_id":41209360,"body_markdown":"I have encountered this behaviour  in other softwares, where the cause was, that the drive was not mapped persistent.\r\n\r\nWhat i did to solve it:\r\nMap your Network Drive with the Windows Explorer GUI and mark &quot;always connect&quot;.\r\n\r\nor in cmd.exe (please try above 1st!):\r\n\r\nnet use z: \\\\nas\\media /user:**usr** **pass** /persistent:yes\r\n\r\n\r\nKind regards.","title":"Unable to see networked drive on Windows 10 PC using Java Open Dialog in IDE but see it outside of IDE","body":"<p>I have encountered this behaviour  in other softwares, where the cause was, that the drive was not mapped persistent.</p>\n\n<p>What i did to solve it:\nMap your Network Drive with the Windows Explorer GUI and mark \"always connect\".</p>\n\n<p>or in cmd.exe (please try above 1st!):</p>\n\n<p>net use z: \\nas\\media /user:<strong>usr</strong> <strong>pass</strong> /persistent:yes</p>\n\n<p>Kind regards.</p>\n"},{"tags":[],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1505377509,"creation_date":1505377509,"answer_id":46214066,"question_id":41209360,"body_markdown":"Solved issue, it seems if you mount a network drive using Windows Explorer, but then run the IDE with administrator privileges then you do not have permission to access the drive because now seen as separate user admin (even though I only have a single user) that wasn&#39;t given permission.\r\n\r\nThe way round is write create batch file to mount the network drive\r\n\r\ni.e\r\n\r\n    net use z: \\\\nas\\media /persistent:yes\r\n\r\nand then right click on the batch file and select *Run as Administrator*\r\n\r\nDon&#39;t know if there is an easier way.\r\n\r\n\r\n","title":"Unable to see networked drive on Windows 10 PC using Java Open Dialog in IDE but see it outside of IDE","body":"<p>Solved issue, it seems if you mount a network drive using Windows Explorer, but then run the IDE with administrator privileges then you do not have permission to access the drive because now seen as separate user admin (even though I only have a single user) that wasn't given permission.</p>\n\n<p>The way round is write create batch file to mount the network drive</p>\n\n<p>i.e</p>\n\n<pre><code>net use z: \\\\nas\\media /persistent:yes\n</code></pre>\n\n<p>and then right click on the batch file and select <em>Run as Administrator</em></p>\n\n<p>Don't know if there is an easier way.</p>\n"},{"tags":[],"owner":{"account_id":1645427,"reputation":8441,"user_id":1870254,"accept_rate":71,"display_name":"jan-glx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686037234,"creation_date":1686037234,"answer_id":76412400,"question_id":41209360,"body_markdown":"(At least in some cases,) there is an easier way: simply **create a shortcut to the drive** and save it somewhere accessible (e.g. on your desktop). Go through that shortcut to open files on the network drive from applications that don&#39;t show the network drive.","title":"Unable to see networked drive on Windows 10 PC using Java Open Dialog in IDE but see it outside of IDE","body":"<p>(At least in some cases,) there is an easier way: simply <strong>create a shortcut to the drive</strong> and save it somewhere accessible (e.g. on your desktop). Go through that shortcut to open files on the network drive from applications that don't show the network drive.</p>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1412,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":46214066,"answer_count":4,"score":9,"last_activity_date":1686037234,"creation_date":1482071675,"question_id":41209360,"body_markdown":"Why am I unable to see networked drive on Windows 10 PC with Java Open Dialog. I have noticed a problem when running my Java application from IDE, the Open Dialog does not show my NAS (NetGear ReadyDuo mounted on Z:drive). Yet when I run the application outside of the IDE on the same machine using the same JVM it is okay.\r\n\r\nIn both cases I&#39;m using **Java 1.8.0_72 25.72-b15 64bit on Windows 10 10.0 amd64**. I&#39;m sure I didn&#39;t used to have this issue but don&#39;t know when it started occurring. Its not such a big issue for me if it doesn&#39;t show in the IDE because of the IDE, but I&#39;m concerned the IDE may be irrelevant and that potential customers are also seeing this behaviour.\r\n\r\nScreenshots below show what I see in the two circumstances\r\n\r\n[![Shows networked drive][1]][1]\r\n[![Doesn&#39;t show networked drive][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2pemZ.jpg\r\n  [2]: https://i.stack.imgur.com/JcZLu.jpg","title":"Unable to see networked drive on Windows 10 PC using Java Open Dialog in IDE but see it outside of IDE","body":"<p>Why am I unable to see networked drive on Windows 10 PC with Java Open Dialog. I have noticed a problem when running my Java application from IDE, the Open Dialog does not show my NAS (NetGear ReadyDuo mounted on Z:drive). Yet when I run the application outside of the IDE on the same machine using the same JVM it is okay.</p>\n\n<p>In both cases I'm using <strong>Java 1.8.0_72 25.72-b15 64bit on Windows 10 10.0 amd64</strong>. I'm sure I didn't used to have this issue but don't know when it started occurring. Its not such a big issue for me if it doesn't show in the IDE because of the IDE, but I'm concerned the IDE may be irrelevant and that potential customers are also seeing this behaviour.</p>\n\n<p>Screenshots below show what I see in the two circumstances</p>\n\n<p><a href=\"https://i.stack.imgur.com/2pemZ.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2pemZ.jpg\" alt=\"Shows networked drive\"></a>\n<a href=\"https://i.stack.imgur.com/JcZLu.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JcZLu.jpg\" alt=\"Doesn&#39;t show networked drive\"></a></p>\n"},{"tags":["java","android","colors"],"comments":[{"owner":{"account_id":15550,"reputation":3041,"user_id":32965,"accept_rate":100,"display_name":"Nemi"},"score":1,"creation_date":1294855808,"post_id":4672271,"comment_id":5149327,"body_markdown":"There are at least two questions on here for this. One is http://stackoverflow.com/questions/596216/formula-to-determine-brightness-of-rgb-color. I know because I implemented an algorithm from one of them and it works well.","body":"There are at least two questions on here for this. One is <a href=\"http://stackoverflow.com/questions/596216/formula-to-determine-brightness-of-rgb-color\" title=\"formula to determine brightness of rgb color\">stackoverflow.com/questions/596216/&hellip;</a>. I know because I implemented an algorithm from one of them and it works well."}],"answers":[{"tags":[],"owner":{"account_id":266173,"reputation":15149,"user_id":553609,"accept_rate":95,"display_name":"Mathias Lykkegaard Lorenzen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294856029,"creation_date":1294856029,"answer_id":4672340,"question_id":4672271,"body_markdown":"You could calculate the difference between each color channel (red, green and blue), and get the average difference - then do some comparison based on that.","title":"Reverse opposing colors","body":"<p>You could calculate the difference between each color channel (red, green and blue), and get the average difference - then do some comparison based on that.</p>\n"},{"tags":[],"owner":{"account_id":268069,"reputation":8191,"user_id":556613,"accept_rate":80,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1294856244,"creation_date":1294856244,"answer_id":4672363,"question_id":4672271,"body_markdown":"Does the text have to be a color derived from the background color?  What if it just alternates between white and black based on the r g b intensity?  The idea being that white will always be visible on r g b values below a certain intensity and black always visible on the rest.\r\n\r\nI don&#39;t have a working algorithm to share, but you could try something along the lines of:\r\n\r\n    int threshold = 50;\r\n    if(r &lt; threshold &amp;&amp; g &lt; threshold &amp;&amp; b &lt; threshold) {\r\n      // set your font color to white\r\n    } else {\r\n      // set your font color to black\r\n    }\r\nYou&#39;ll probably have to fiddle with threshold a bit to get something good looking.  You could also tint the font a bit based on which r g b value is dominant.","title":"Reverse opposing colors","body":"<p>Does the text have to be a color derived from the background color?  What if it just alternates between white and black based on the r g b intensity?  The idea being that white will always be visible on r g b values below a certain intensity and black always visible on the rest.</p>\n\n<p>I don't have a working algorithm to share, but you could try something along the lines of:</p>\n\n<pre><code>int threshold = 50;\nif(r &lt; threshold &amp;&amp; g &lt; threshold &amp;&amp; b &lt; threshold) {\n  // set your font color to white\n} else {\n  // set your font color to black\n}\n</code></pre>\n\n<p>You'll probably have to fiddle with threshold a bit to get something good looking.  You could also tint the font a bit based on which r g b value is dominant.</p>\n"},{"tags":[],"owner":{"account_id":177494,"reputation":18042,"user_id":408863,"accept_rate":83,"display_name":"Sarwar Erfan"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1294857061,"creation_date":1294856374,"answer_id":4672384,"question_id":4672271,"body_markdown":"Use [complementary color][1]:\r\n\r\nAlgo is simple, substract each color component from 255 to get new color components\r\n\r\n    Color textColor = Color.rgb(255-Color.red(bgColor),\r\n                             255-Color.green(bgColor),\r\n                             255-Color.blue(bgColor));\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Complementary_color\r\n\r\n\r\n----- EDIT (As RGB based complement may not work always --------\r\n\r\n\r\nThese two links are very much helpful and on topic:\r\n\r\nhttp://www.splitbrain.org/blog/2008-09/18-calculating_color_contrast_with_php\r\n\r\n\r\nhttp://24ways.org/2010/calculating-color-contrast","title":"Reverse opposing colors","body":"<p>Use <a href=\"http://en.wikipedia.org/wiki/Complementary_color\" rel=\"noreferrer\">complementary color</a>:</p>\n\n<p>Algo is simple, substract each color component from 255 to get new color components</p>\n\n<pre><code>Color textColor = Color.rgb(255-Color.red(bgColor),\n                         255-Color.green(bgColor),\n                         255-Color.blue(bgColor));\n</code></pre>\n\n<p>----- EDIT (As RGB based complement may not work always --------</p>\n\n<p>These two links are very much helpful and on topic:</p>\n\n<p><a href=\"http://www.splitbrain.org/blog/2008-09/18-calculating_color_contrast_with_php\" rel=\"noreferrer\">http://www.splitbrain.org/blog/2008-09/18-calculating_color_contrast_with_php</a></p>\n\n<p><a href=\"http://24ways.org/2010/calculating-color-contrast\" rel=\"noreferrer\">http://24ways.org/2010/calculating-color-contrast</a></p>\n"},{"tags":[],"owner":{"account_id":251038,"reputation":4437,"user_id":528130,"accept_rate":59,"display_name":"Mark Worsnop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1294858641,"creation_date":1294858641,"answer_id":4672805,"question_id":4672271,"body_markdown":"I got it working, I think :)\r\n\r\nHere is the function:\r\n\r\n\r\n    public static int OpposeColor(int ColorToInvert)\r\n    {\r\n    \t int RGBMAX = 255;\r\n    \r\n    \t float[] hsv = new float[3];\r\n    \t float H;\r\n    \t \r\n    \t Log.i(&quot;HSV_H&quot;, &quot;Start Color=&quot; +  ColorToInvert);\r\n    \t \r\n    \t Color.RGBToHSV( Color.red( ColorToInvert),  RGBMAX - Color.green( ColorToInvert), Color.blue(ColorToInvert), hsv);\r\n    \t \r\n    \t Log.i(&quot;HSV_H&quot;, &quot;Hue=&quot; + hsv[0]);\r\n    \t Log.i(&quot;HSV_H&quot;, &quot;Saturation=&quot; + hsv[1]);\r\n    \t Log.i(&quot;HSV_H&quot;, &quot;Value=&quot; + hsv[2]);\r\n    \t \r\n        H = (float) (hsv[0] + 0.5);\r\n    \r\n        if (H &gt; 1) H -= 1;\r\n        \r\n        Log.i(&quot;HSV_H&quot;, &quot;Hue2=&quot; + H);      \t \r\n    \r\n        Log.i(&quot;HSV_H&quot;, &quot;Color=&quot; +  Color.HSVToColor(hsv ));\r\n    \t \t \r\n        return Color.HSVToColor(hsv );\r\n        \r\n        \r\n    }\r\n\r\n","title":"Reverse opposing colors","body":"<p>I got it working, I think :)</p>\n\n<p>Here is the function:</p>\n\n<pre><code>public static int OpposeColor(int ColorToInvert)\n{\n     int RGBMAX = 255;\n\n     float[] hsv = new float[3];\n     float H;\n\n     Log.i(\"HSV_H\", \"Start Color=\" +  ColorToInvert);\n\n     Color.RGBToHSV( Color.red( ColorToInvert),  RGBMAX - Color.green( ColorToInvert), Color.blue(ColorToInvert), hsv);\n\n     Log.i(\"HSV_H\", \"Hue=\" + hsv[0]);\n     Log.i(\"HSV_H\", \"Saturation=\" + hsv[1]);\n     Log.i(\"HSV_H\", \"Value=\" + hsv[2]);\n\n    H = (float) (hsv[0] + 0.5);\n\n    if (H &gt; 1) H -= 1;\n\n    Log.i(\"HSV_H\", \"Hue2=\" + H);         \n\n    Log.i(\"HSV_H\", \"Color=\" +  Color.HSVToColor(hsv ));\n\n    return Color.HSVToColor(hsv );\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1156609,"reputation":9392,"user_id":1137043,"accept_rate":100,"display_name":"brimborium"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1380311845,"creation_date":1350994040,"answer_id":13030061,"question_id":4672271,"body_markdown":"I found that the best solution for me is to convert the RGB values into [YIQ][1] values. As we are only interested in the brightness value (represented by Y), there is one single calculation to be done: `Y = (299*R + 587*G + 114*B)/1000`. The Java code for that would look like this:\r\n\r\n    public static Color getContrastColor(Color color) {\r\n      double y = (299 * color.getRed() + 587 * color.getGreen() + 114 * color.getBlue()) / 1000;\r\n      return y &gt;= 128 ? Color.black : Color.white;\r\n    }\r\n\r\nYou can see that it simply decides to use black or white, based upon the brightness of the original color. And the result works very nice in my opinion. The weights (299, 587, 114) are proportional to the sensitivity of the eyes (or rather the sensitivity of the retina) to the corresponding color.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/YIQ","title":"Reverse opposing colors","body":"<p>I found that the best solution for me is to convert the RGB values into <a href=\"http://en.wikipedia.org/wiki/YIQ\" rel=\"noreferrer\">YIQ</a> values. As we are only interested in the brightness value (represented by Y), there is one single calculation to be done: <code>Y = (299*R + 587*G + 114*B)/1000</code>. The Java code for that would look like this:</p>\n\n<pre><code>public static Color getContrastColor(Color color) {\n  double y = (299 * color.getRed() + 587 * color.getGreen() + 114 * color.getBlue()) / 1000;\n  return y &gt;= 128 ? Color.black : Color.white;\n}\n</code></pre>\n\n<p>You can see that it simply decides to use black or white, based upon the brightness of the original color. And the result works very nice in my opinion. The weights (299, 587, 114) are proportional to the sensitivity of the eyes (or rather the sensitivity of the retina) to the corresponding color.</p>\n"},{"tags":[],"owner":{"account_id":55152,"reputation":13183,"user_id":165106,"accept_rate":83,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1418657707,"creation_date":1418657707,"answer_id":27487587,"question_id":4672271,"body_markdown":"Based on Marks solution I would suggest:\r\n\r\n    public static int getComplementaryColor(int colorToInvert) {\r\n\t\tfloat[] hsv = new float[3];\r\n\t\tColor.RGBToHSV(Color.red(colorToInvert), Color.green(colorToInvert),\r\n\t\t\t\tColor.blue(colorToInvert), hsv);\r\n\t\thsv[0] = (hsv[0] + 180) % 360;\r\n\t\treturn Color.HSVToColor(hsv);\r\n\t}\r\n\r\nAnd additionally I now created a similar method, for calculating a default background for a given color:\r\n\r\n    public static int getContrastVersionForColor(int color) {\r\n\t\tfloat[] hsv = new float[3];\r\n\t\tColor.RGBToHSV(Color.red(color), Color.green(color), Color.blue(color),\r\n\t\t\t\thsv);\r\n\t\tif (hsv[2] &lt; 0.5) {\r\n\t\t\thsv[2] = 0.7f;\r\n\t\t} else {\r\n\t\t\thsv[2] = 0.3f;\r\n\t\t}\r\n\t\thsv[1] = hsv[1] * 0.2f;\r\n\t\treturn Color.HSVToColor(hsv);\r\n\t}","title":"Reverse opposing colors","body":"<p>Based on Marks solution I would suggest:</p>\n\n<pre><code>public static int getComplementaryColor(int colorToInvert) {\n    float[] hsv = new float[3];\n    Color.RGBToHSV(Color.red(colorToInvert), Color.green(colorToInvert),\n            Color.blue(colorToInvert), hsv);\n    hsv[0] = (hsv[0] + 180) % 360;\n    return Color.HSVToColor(hsv);\n}\n</code></pre>\n\n<p>And additionally I now created a similar method, for calculating a default background for a given color:</p>\n\n<pre><code>public static int getContrastVersionForColor(int color) {\n    float[] hsv = new float[3];\n    Color.RGBToHSV(Color.red(color), Color.green(color), Color.blue(color),\n            hsv);\n    if (hsv[2] &lt; 0.5) {\n        hsv[2] = 0.7f;\n    } else {\n        hsv[2] = 0.3f;\n    }\n    hsv[1] = hsv[1] * 0.2f;\n    return Color.HSVToColor(hsv);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6735572,"reputation":47,"user_id":5190503,"display_name":"Eboo"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1449364043,"creation_date":1449364043,"answer_id":34112837,"question_id":4672271,"body_markdown":"integer solution:\r\n\r\n    public static int getContrastColor(int color) {\r\n            double y = (299 * Color.red(color) + 587 * Color.green(color) + 114 * Color.blue(color)) / 1000;\r\n            return y &gt;= 128 ? Color.BLACK : Color.WHITE;\r\n        }\r\n\r\n","title":"Reverse opposing colors","body":"<p>integer solution:</p>\n\n<pre><code>public static int getContrastColor(int color) {\n        double y = (299 * Color.red(color) + 587 * Color.green(color) + 114 * Color.blue(color)) / 1000;\n        return y &gt;= 128 ? Color.BLACK : Color.WHITE;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3642523,"reputation":4487,"user_id":3036320,"display_name":"Ahamadullah Saikat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537452024,"creation_date":1537452024,"answer_id":52426926,"question_id":4672271,"body_markdown":"\r\n    import android.graphics.Color;\r\n    import android.graphics.Paint;\r\n    \r\n    /**\r\n     * Utilities for performing common color-related tasks.\r\n     * @author Ryan Ware\r\n     *\r\n     */\r\n    public class ColorUtils {\r\n      \r\n      public static int getComplimentColor(Paint paint) {\r\n        return getComplimentColor(paint.getColor());\r\n      }\r\n      \r\n      /**\r\n       * Returns the complimentary (opposite) color.\r\n       * @param color int RGB color to return the compliment of\r\n       * @return int RGB of compliment color\r\n       */\r\n      public static int getComplimentColor(int color) {\r\n        // get existing colors\r\n        int alpha = Color.alpha(color);\r\n        int red = Color.red(color);\r\n        int blue = Color.blue(color);\r\n        int green = Color.green(color);\r\n        \r\n        // find compliments\r\n        red = (~red) &amp; 0xff;\r\n        blue = (~blue) &amp; 0xff;\r\n        green = (~green) &amp; 0xff;\r\n        \r\n        return Color.argb(alpha, red, green, blue);\r\n      }\r\n      \r\n      /**\r\n       * Converts an int RGB color representation into a hexadecimal {@link String}.\r\n       * @param argbColor int RGB color\r\n       * @return {@link String} hexadecimal color representation\r\n       */\r\n      public static String getHexStringForARGB(int argbColor) {\r\n        String hexString = &quot;#&quot;;\r\n        hexString += ARGBToHex(Color.alpha(argbColor));\r\n        hexString += ARGBToHex(Color.red(argbColor));\r\n        hexString += ARGBToHex(Color.green(argbColor));\r\n        hexString += ARGBToHex(Color.blue(argbColor));\r\n        \r\n        return hexString;\r\n      }\r\n      \r\n      /**\r\n       * Converts an int R, G, or B value into a hexadecimal {@link String}.\r\n       * @param rgbVal int R, G, or B value\r\n       * @return {@link String} hexadecimal value\r\n       */\r\n      private static String ARGBToHex(int rgbVal) {\r\n        String hexReference = &quot;0123456789ABCDEF&quot;;\r\n        \r\n        rgbVal = Math.max(0,rgbVal);\r\n        rgbVal = Math.min(rgbVal,255);\r\n        rgbVal = Math.round(rgbVal);\r\n      \r\n        return String.valueOf( hexReference.charAt((rgbVal-rgbVal%16)/16) + &quot;&quot; + hexReference.charAt(rgbVal%16) );\r\n      }\r\n    }\r\n\r\nthanks to: http://www.java2s.com/Code/Android/2D-Graphics/Returnsthecomplimentaryoppositecolor.htm","title":"Reverse opposing colors","body":"<pre><code>import android.graphics.Color;\nimport android.graphics.Paint;\n\n/**\n * Utilities for performing common color-related tasks.\n * @author Ryan Ware\n *\n */\npublic class ColorUtils {\n\n  public static int getComplimentColor(Paint paint) {\n    return getComplimentColor(paint.getColor());\n  }\n\n  /**\n   * Returns the complimentary (opposite) color.\n   * @param color int RGB color to return the compliment of\n   * @return int RGB of compliment color\n   */\n  public static int getComplimentColor(int color) {\n    // get existing colors\n    int alpha = Color.alpha(color);\n    int red = Color.red(color);\n    int blue = Color.blue(color);\n    int green = Color.green(color);\n\n    // find compliments\n    red = (~red) &amp; 0xff;\n    blue = (~blue) &amp; 0xff;\n    green = (~green) &amp; 0xff;\n\n    return Color.argb(alpha, red, green, blue);\n  }\n\n  /**\n   * Converts an int RGB color representation into a hexadecimal {@link String}.\n   * @param argbColor int RGB color\n   * @return {@link String} hexadecimal color representation\n   */\n  public static String getHexStringForARGB(int argbColor) {\n    String hexString = \"#\";\n    hexString += ARGBToHex(Color.alpha(argbColor));\n    hexString += ARGBToHex(Color.red(argbColor));\n    hexString += ARGBToHex(Color.green(argbColor));\n    hexString += ARGBToHex(Color.blue(argbColor));\n\n    return hexString;\n  }\n\n  /**\n   * Converts an int R, G, or B value into a hexadecimal {@link String}.\n   * @param rgbVal int R, G, or B value\n   * @return {@link String} hexadecimal value\n   */\n  private static String ARGBToHex(int rgbVal) {\n    String hexReference = \"0123456789ABCDEF\";\n\n    rgbVal = Math.max(0,rgbVal);\n    rgbVal = Math.min(rgbVal,255);\n    rgbVal = Math.round(rgbVal);\n\n    return String.valueOf( hexReference.charAt((rgbVal-rgbVal%16)/16) + \"\" + hexReference.charAt(rgbVal%16) );\n  }\n}\n</code></pre>\n\n<p>thanks to: <a href=\"http://www.java2s.com/Code/Android/2D-Graphics/Returnsthecomplimentaryoppositecolor.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Android/2D-Graphics/Returnsthecomplimentaryoppositecolor.htm</a></p>\n"},{"tags":[],"owner":{"account_id":11227445,"reputation":11,"user_id":8236669,"display_name":"D.Price"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547802057,"creation_date":1547802057,"answer_id":54250567,"question_id":4672271,"body_markdown":"Slight modification of Simons&#39; answer\r\n\r\n    float[] hsv = new float[3];\r\n    java.awt.Color.RGBtoHSB( bgColour.getRed(), bgColour.getGreen(), bgColour.getBlue(), hsv );\r\n    hsv[2] = (hsv[2] + 180) % 360;\r\n    java.awt.Color   invertedColour = java.awt.Color.getHSBColor( hsv[ 0 ], hsv[ 1 ], hsv[ 2 ] );","title":"Reverse opposing colors","body":"<p>Slight modification of Simons' answer</p>\n\n<pre><code>float[] hsv = new float[3];\njava.awt.Color.RGBtoHSB( bgColour.getRed(), bgColour.getGreen(), bgColour.getBlue(), hsv );\nhsv[2] = (hsv[2] + 180) % 360;\njava.awt.Color   invertedColour = java.awt.Color.getHSBColor( hsv[ 0 ], hsv[ 1 ], hsv[ 2 ] );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":484616,"reputation":367,"user_id":900408,"accept_rate":29,"display_name":"davee44"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565013719,"creation_date":1565013719,"answer_id":57360199,"question_id":4672271,"body_markdown":"There is `ColorUtils.calculateLuminance(int color)` which can be used to determine whether to use a dark or bright text color for the given background color.\r\n\r\nexample:\r\n```\r\nif (ColorUtils.calculateLuminance(backgroundColor) &lt;= 0.5) textColor = &lt;bright&gt;\r\nelse textColor = &lt;dark&gt;\r\n```\r\nThe threshold (`0.5` in this example) could be chosen experimentally for the best visual results.\r\n\r\n[Documentation][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/v4/graphics/ColorUtils.html#calculateLuminance(int)","title":"Reverse opposing colors","body":"<p>There is <code>ColorUtils.calculateLuminance(int color)</code> which can be used to determine whether to use a dark or bright text color for the given background color.</p>\n\n<p>example:</p>\n\n<pre><code>if (ColorUtils.calculateLuminance(backgroundColor) &lt;= 0.5) textColor = &lt;bright&gt;\nelse textColor = &lt;dark&gt;\n</code></pre>\n\n<p>The threshold (<code>0.5</code> in this example) could be chosen experimentally for the best visual results.</p>\n\n<p><a href=\"https://developer.android.com/reference/android/support/v4/graphics/ColorUtils.html#calculateLuminance(int)\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":8125310,"reputation":2565,"user_id":6120487,"display_name":"Lev Leontev"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1569506551,"creation_date":1569506551,"answer_id":58118554,"question_id":4672271,"body_markdown":"As Sarwar Erfan pointed out, use complementary colors. For that, you can use an integer mask (which will be faster, than inverting R, G, B color components separately).\r\n\r\n    int textColor = bgColor ^ 0x00ffffff;\r\n\r\n","title":"Reverse opposing colors","body":"<p>As Sarwar Erfan pointed out, use complementary colors. For that, you can use an integer mask (which will be faster, than inverting R, G, B color components separately).</p>\n\n<pre><code>int textColor = bgColor ^ 0x00ffffff;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576248201,"creation_date":1576248201,"answer_id":59324765,"question_id":4672271,"body_markdown":"Another general solution for converting a color in integer format is:  \r\n\r\n    private int getComplementaryColor( int color) {\r\n        int R = color &amp; 255;\r\n        int G = (color &gt;&gt; 8) &amp; 255;\r\n        int B = (color &gt;&gt; 16) &amp; 255;\r\n        int A = (color &gt;&gt; 24) &amp; 255;\r\n        R = 255 - R;\r\n        G = 255 - G;\r\n        B = 255 - B;\r\n        return R + (G &lt;&lt; 8) + ( B &lt;&lt; 16) + ( A &lt;&lt; 24);\r\n    }","title":"Reverse opposing colors","body":"<p>Another general solution for converting a color in integer format is:  </p>\n\n<pre><code>private int getComplementaryColor( int color) {\n    int R = color &amp; 255;\n    int G = (color &gt;&gt; 8) &amp; 255;\n    int B = (color &gt;&gt; 16) &amp; 255;\n    int A = (color &gt;&gt; 24) &amp; 255;\n    R = 255 - R;\n    G = 255 - G;\n    B = 255 - B;\n    return R + (G &lt;&lt; 8) + ( B &lt;&lt; 16) + ( A &lt;&lt; 24);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686036982,"creation_date":1686036982,"answer_id":76412369,"question_id":4672271,"body_markdown":"For API 24+. Warning, threshold `!=` 0.5f, my variant is 0.29f\r\n\r\n    int color_inv = Color.luminance( color) &gt; 0.29f ? Color.BLACK : Color.WHITE;","title":"Reverse opposing colors","body":"<p>For API 24+. Warning, threshold <code>!=</code> 0.5f, my variant is 0.29f</p>\n<pre><code>int color_inv = Color.luminance( color) &gt; 0.29f ? Color.BLACK : Color.WHITE;\n</code></pre>\n"}],"owner":{"account_id":251038,"reputation":4437,"user_id":528130,"accept_rate":59,"display_name":"Mark Worsnop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39435,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":13,"score":22,"last_activity_date":1686036982,"creation_date":1294855585,"question_id":4672271,"body_markdown":"I have a user setup where they can choose the colors of the  alerts.  the Alert is the background color on a text or button.  But the problem comes in that if they select a dark blue and we have black letters the contrast isnt enough and you cannot read it. \r\n\r\nI have tried to make a function to get the reverse opposing color but havent got too far.  \r\n\r\nIs there such a function?\r\n","title":"Reverse opposing colors","body":"<p>I have a user setup where they can choose the colors of the  alerts.  the Alert is the background color on a text or button.  But the problem comes in that if they select a dark blue and we have black letters the contrast isnt enough and you cannot read it. </p>\n\n<p>I have tried to make a function to get the reverse opposing color but havent got too far.  </p>\n\n<p>Is there such a function?</p>\n"},{"tags":["java","spring-data-jpa","spring-data","mapstruct"],"comments":[{"owner":{"account_id":11457947,"reputation":101,"user_id":8413055,"display_name":"Serodv"},"score":0,"creation_date":1686034052,"post_id":76411940,"comment_id":134739834,"body_markdown":"add default (no args) constructor to `BirdTestDTO`","body":"add default (no args) constructor to <code>BirdTestDTO</code>"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1686037401,"post_id":76411940,"comment_id":134740396,"body_markdown":"Why are you posting the Bird-&gt;BirdDTO mapper? The conversion error states it tries to map from `AbstractJpaQuery$TupleConverter$TupleBackedMap`. You&#39;d generally return a domain object from the repo (in your case `Bird`), not a DTO like you declare the method.","body":"Why are you posting the Bird-&gt;BirdDTO mapper? The conversion error states it tries to map from <code>AbstractJpaQuery$TupleConverter$TupleBackedMap</code>. You&#39;d generally return a domain object from the repo (in your case <code>Bird</code>), not a DTO like you declare the method."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1686039629,"post_id":76411940,"comment_id":134740835,"body_markdown":"@daniu with the conversion normally on the controller?","body":"@daniu with the conversion normally on the controller?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1686040351,"post_id":76411940,"comment_id":134740970,"body_markdown":"Yes. It&#39;s possible you can do it your way if you [let your mapper implement Spring&#39;s `Converter` and register it](https://www.baeldung.com/spring-type-conversions).","body":"Yes. It&#39;s possible you can do it your way if you <a href=\"https://www.baeldung.com/spring-type-conversions\" rel=\"nofollow noreferrer\">let your mapper implement Spring&#39;s <code>Converter</code> and register it</a>."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1686040899,"post_id":76411940,"comment_id":134741086,"body_markdown":"@daniu nearly there returning entity now but getting No converter found capable of converting from type [java.lang.String] to type [com.nz.bird.model.Bird]","body":"@daniu nearly there returning entity now but getting No converter found capable of converting from type [java.lang.String] to type [com.nz.bird.model.Bird]"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686036939,"creation_date":1686032732,"question_id":76411940,"body_markdown":"I have a issue converting my return entity to a simple DTO in a Springboot project.\r\n\r\nI presume a converter is used (no springdata magic) and so are using Map Struct. \r\n\r\nThe error is:\r\n\r\n    org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.nz.bird.dto.BirdTestDTO]\r\n\r\nMy bird class:\r\n\r\n    @Entity\r\n    @Data\r\n\r\n    public class Bird {\r\n        @Id\r\n        @GeneratedValue(strategy = IDENTITY)\r\n        private Long id;\r\n        @Column(unique = true)\r\n        @NotEmpty(message = &quot;Name must not be null or empty&quot;)\r\n        private String name;\r\n        @Enumerated(EnumType.STRING)\r\n        private Sex sex;\r\n        // some other fields\r\n\r\nMy my bird test DTO:\r\n\r\n    @Data\r\n    public class BirdTestDTO {\r\n    \r\n    private String name;\r\n    private String sex;\r\n    \r\n        public BirdTestDTO(String name, String sex) {\r\n            this.name = name;\r\n            this.sex = sex;\r\n        }\r\n\r\n        public BirdTestDTO(){};\r\n\r\nThe repository looks like:\r\n\r\n    @Query(&quot;SELECT b.name, b.sex FROM Bird b WHERE b.id = 1&quot;)\r\n    BirdTestDTO findmyBird();\r\n\r\nAnd the Mapper:\r\n\r\n        @MapperConfig(\r\n        componentModel = &quot;spring&quot;,\r\n        builder = @Builder(disableBuilder = true)\r\n        )\r\n\r\n        @Mapper(componentModel = &quot;spring&quot;)\r\n        public interface BirdMapper {\r\n    \r\n            BirdTestDTO birdToBirdTestDTO(Bird bird);\r\n\r\nWhat am I doing wrong?\r\n","title":"No converter found capable of converting from type to type - entity to DTO","body":"<p>I have a issue converting my return entity to a simple DTO in a Springboot project.</p>\n<p>I presume a converter is used (no springdata magic) and so are using Map Struct.</p>\n<p>The error is:</p>\n<pre><code>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.nz.bird.dto.BirdTestDTO]\n</code></pre>\n<p>My bird class:</p>\n<pre><code>@Entity\n@Data\n\npublic class Bird {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    private Long id;\n    @Column(unique = true)\n    @NotEmpty(message = &quot;Name must not be null or empty&quot;)\n    private String name;\n    @Enumerated(EnumType.STRING)\n    private Sex sex;\n    // some other fields\n</code></pre>\n<p>My my bird test DTO:</p>\n<pre><code>@Data\npublic class BirdTestDTO {\n\nprivate String name;\nprivate String sex;\n\n    public BirdTestDTO(String name, String sex) {\n        this.name = name;\n        this.sex = sex;\n    }\n\n    public BirdTestDTO(){};\n</code></pre>\n<p>The repository looks like:</p>\n<pre><code>@Query(&quot;SELECT b.name, b.sex FROM Bird b WHERE b.id = 1&quot;)\nBirdTestDTO findmyBird();\n</code></pre>\n<p>And the Mapper:</p>\n<pre><code>    @MapperConfig(\n    componentModel = &quot;spring&quot;,\n    builder = @Builder(disableBuilder = true)\n    )\n\n    @Mapper(componentModel = &quot;spring&quot;)\n    public interface BirdMapper {\n\n        BirdTestDTO birdToBirdTestDTO(Bird bird);\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"comments":[{"owner":{"account_id":14064733,"reputation":3952,"user_id":10159898,"display_name":"Bruno"},"score":0,"creation_date":1685957853,"post_id":76404976,"comment_id":134728243,"body_markdown":"Have you try to clean and rebuild your project ?","body":"Have you try to clean and rebuild your project ?"},{"owner":{"account_id":11159525,"reputation":33,"user_id":8190154,"display_name":"dev-daru"},"score":0,"creation_date":1685988366,"post_id":76404976,"comment_id":134734959,"body_markdown":"Yes I tried to clean the project and rebuild, it kept on coming after that also.","body":"Yes I tried to clean the project and rebuild, it kept on coming after that also."},{"owner":{"account_id":11159525,"reputation":33,"user_id":8190154,"display_name":"dev-daru"},"score":0,"creation_date":1685988433,"post_id":76404976,"comment_id":134734971,"body_markdown":"The issue was with AndroidX compact Button that was put but not initialized in the code to make it accessible.","body":"The issue was with AndroidX compact Button that was put but not initialized in the code to make it accessible."}],"answers":[{"tags":[],"owner":{"account_id":7399433,"reputation":1391,"user_id":5630361,"display_name":"Marius Razvan Varvarei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686036437,"creation_date":1685980092,"answer_id":76408078,"question_id":76404976,"body_markdown":"I think this is your issue: (ofc would help to see what initViews() does)\r\n\r\n    public class UpdateSchedule extends AppCompatActivity {\r\n    \r\n        Button btnAddRoute, btnAddSource, btnRouteInfo, btnScheduleInfo;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_update_schedule);\r\n    \r\n            btnAddRoute = findViewById(R.id.add_route);\r\n            // do it for all buttons\r\n    \r\n            initViews();\r\n        }","title":"Android app crashes with &quot;Error inflating class Button&quot;","body":"<p>I think this is your issue: (ofc would help to see what initViews() does)</p>\n<pre><code>public class UpdateSchedule extends AppCompatActivity {\n\n    Button btnAddRoute, btnAddSource, btnRouteInfo, btnScheduleInfo;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_update_schedule);\n\n        btnAddRoute = findViewById(R.id.add_route);\n        // do it for all buttons\n\n        initViews();\n    }\n</code></pre>\n"}],"owner":{"account_id":11159525,"reputation":33,"user_id":8190154,"display_name":"dev-daru"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686036437,"creation_date":1685956307,"question_id":76404976,"body_markdown":"I just have a normal Button view in my Schedule activity from where I go to another activity and update the fields and make API call, but to go there onClick I get unexplainable error. How can I understand the code and the error?\r\n\r\n**UpdateSchedule.class**\r\n```\r\npublic class UpdateSchedule extends AppCompatActivity {\r\n\r\n    Button btnAddRoute, btnAddSource, btnRouteInfo, btnScheduleInfo;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_update_schedule);\r\n\r\n        initViews();\r\n    }\r\n```\r\n**activity_update_schedule.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.activity.UpdateSchedule&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;120dp&quot;\r\n        android:background=&quot;@android:color/holo_orange_light&quot;/&gt;\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;70dp&quot;\r\n        android:background=&quot;@drawable/wave__1_&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/add_route&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:layout_marginTop=&quot;80dp&quot;\r\n        android:text=&quot;Add Route&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:text=&quot;Add Halt&quot;\r\n        android:id=&quot;@+id/add_source&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:id=&quot;@+id/btn_route_info&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:text=&quot;add route info&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_schedule_info&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:text=&quot;add schedule info&quot; /&gt;\r\n\r\n    &lt;!--    &lt;FrameLayout--&gt;\r\n&lt;!--        android:id=&quot;@+id/frameLayout_schedule_container&quot;--&gt;\r\n&lt;!--        android:layout_width=&quot;match_parent&quot;--&gt;\r\n&lt;!--        android:layout_height=&quot;match_parent&quot; /&gt;--&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nthis is my logs error that is throwing me\r\n\r\n    FATAL EXCEPTION: main\r\n    Process: com.example.sts_admin, PID: 30636\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sts_admin/com.example.sts_admin.activity.UpdateSchedule}: android.view.InflateException: Binary XML file line #25 in com.example.sts_admin:layout/activity_update_schedule: Binary XML file line #25 in com.example.sts_admin:layout/activity_update_schedule: Error inflating class Button\r\n\t    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3846)\r\n\t    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4022)\r\n\t    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n\t    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n\t    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n\t    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\r\n\t    at android.os.Handler.dispatchMessage(Handler.java:106)\r\n\t    at android.os.Looper.loop(Looper.java:246)\r\n\t    at android.app.ActivityThread.main(ActivityThread.java:8653)\r\n\t    at java.lang.reflect.Method.invoke(Native Method)\r\n\t    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n\t    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n    Caused by: android.view.InflateException: Binary XML file line #25 in com.example.sts_admin:layout/activity_update_schedule: Binary XML file line #25 in com.example.sts_admin:layout/activity_update_schedule: Error inflating class Button\r\n    Caused by: android.view.InflateException: Binary XML file line #25 in com.example.sts_admin:layout/activity_update_schedule: Error inflating class Button\r\n    Caused by: android.content.res.Resources$NotFoundException: File res/color/mtrl_btn_text_color_selector.xml from ComplexColor resource ID #0x7f0602a7\r\n\t    at android.content.res.ResourcesImpl.loadComplexColorForCookie(ResourcesImpl.java:1421)\r\n\t    at android.content.res.ResourcesImpl.loadComplexColorFromName(ResourcesImpl.java:1247)\r\n\t    at android.content.res.ResourcesImpl.loadColorStateList(ResourcesImpl.java:1326)\r\n\t    at android.content.res.Resources.loadColorStateList(Resources.java:1249)\r\n\t    at android.content.res.TypedArray.getColorStateList(TypedArray.java:600)\r\n\t    at android.widget.TextView.readTextAppearance(TextView.java:4326)\r\n\t    at android.widget.TextView.&lt;init&gt;(TextView.java:1360)\r\n\t    at android.widget.Button.&lt;init&gt;(Button.java:174)\r\n\t    at android.widget.Button.&lt;init&gt;(Button.java:149)\r\n\t    at androidx.appcompat.widget.AppCompatButton.&lt;init&gt;(AppCompatButton.java:81)\r\n\t    at com.google.android.material.button.MaterialButton.&lt;init&gt;(MaterialButton.java:228)\r\n\t    at com.google.android.material.button.MaterialButton.&lt;init&gt;(MaterialButton.java:224)\r\n\t    at com.google.android.material.theme.MaterialComponentsViewInflater.createButton(MaterialComponentsViewInflater.java:43)\r\n\t    at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:156)\r\n\t    at androidx.appcompat.app.AppCompatDelegateImpl.createView(AppCompatDelegateImpl.java:1678)\r\n\t    at androidx.appcompat.app.AppCompatDelegateImpl.onCreateView(AppCompatDelegateImpl.java:1729)\r\n\t    at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1059)\r\n\t    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:995)\r\n\t    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n\t    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1121)\r\n\t    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n\t    at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\r\n\t    at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\r\n\t    at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\r\n\t    at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:775)\r\n\t    at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:197)\r\n\t    at com.example.sts_admin.activity.UpdateSchedule.onCreate(UpdateSchedule.java:25)\r\n\t    at android.app.Activity.performCreate(Activity.java:8207) 2023-06-05 14:27:22.679 30636-30636 AndroidRuntime          com.example.sts_admin E  \tat android.app.Activity.performCreate(Activity.java:8191)\r\n\t    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n\t    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3819)\r\n\t    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4022)\r\n\t    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n\t    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n\t    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n\t    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\r\n\t    at android.os.Handler.dispatchMessage(Handler.java:106)\r\n\t    at android.os.Looper.loop(Looper.java:246)\r\n\t    at android.app.ActivityThread.main(ActivityThread.java:8653)\r\n\t    at java.lang.reflect.Method.invoke(Native Method)\r\n\t    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n\t    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n    Caused by: java.lang.UnsupportedOperationException: Can&#39;t convert value at index 0 to color: type=0x1\r\n\t    at android.content.res.TypedArray.getColor(TypedArray.java:533)\r\n\t    at android.content.res.ColorStateList.inflate(ColorStateList.java:332)\r\n\t    at android.content.res.ColorStateList.createFromXmlInner(ColorStateList.java:280)\r\n\t    at android.content.res.ResourcesImpl.loadComplexColorForCookie(ResourcesImpl.java:1414)\r\n\t    ... 41 more\r\n\r\n","title":"Android app crashes with &quot;Error inflating class Button&quot;","body":"<p>I just have a normal Button view in my Schedule activity from where I go to another activity and update the fields and make API call, but to go there onClick I get unexplainable error. How can I understand the code and the error?</p>\n<p><strong>UpdateSchedule.class</strong></p>\n<pre><code>public class UpdateSchedule extends AppCompatActivity {\n\n    Button btnAddRoute, btnAddSource, btnRouteInfo, btnScheduleInfo;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_update_schedule);\n\n        initViews();\n    }\n</code></pre>\n<p><strong>activity_update_schedule.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.activity.UpdateSchedule&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;120dp&quot;\n        android:background=&quot;@android:color/holo_orange_light&quot;/&gt;\n\n    &lt;View\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;70dp&quot;\n        android:background=&quot;@drawable/wave__1_&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/add_route&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:layout_marginTop=&quot;80dp&quot;\n        android:text=&quot;Add Route&quot; /&gt;\n\n    &lt;Button\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:text=&quot;Add Halt&quot;\n        android:id=&quot;@+id/add_source&quot;/&gt;\n\n    &lt;Button\n        android:layout_marginTop=&quot;20dp&quot;\n        android:id=&quot;@+id/btn_route_info&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:text=&quot;add route info&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_schedule_info&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:text=&quot;add schedule info&quot; /&gt;\n\n    &lt;!--    &lt;FrameLayout--&gt;\n&lt;!--        android:id=&quot;@+id/frameLayout_schedule_container&quot;--&gt;\n&lt;!--        android:layout_width=&quot;match_parent&quot;--&gt;\n&lt;!--        android:layout_height=&quot;match_parent&quot; /&gt;--&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>this is my logs error that is throwing me</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.example.sts_admin, PID: 30636\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sts_admin/com.example.sts_admin.activity.UpdateSchedule}: android.view.InflateException: Binary XML file line #25 in com.example.sts_admin:layout/activity_update_schedule: Binary XML file line #25 in com.example.sts_admin:layout/activity_update_schedule: Error inflating class Button\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3846)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4022)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:246)\n    at android.app.ActivityThread.main(ActivityThread.java:8653)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\nCaused by: android.view.InflateException: Binary XML file line #25 in com.example.sts_admin:layout/activity_update_schedule: Binary XML file line #25 in com.example.sts_admin:layout/activity_update_schedule: Error inflating class Button\nCaused by: android.view.InflateException: Binary XML file line #25 in com.example.sts_admin:layout/activity_update_schedule: Error inflating class Button\nCaused by: android.content.res.Resources$NotFoundException: File res/color/mtrl_btn_text_color_selector.xml from ComplexColor resource ID #0x7f0602a7\n    at android.content.res.ResourcesImpl.loadComplexColorForCookie(ResourcesImpl.java:1421)\n    at android.content.res.ResourcesImpl.loadComplexColorFromName(ResourcesImpl.java:1247)\n    at android.content.res.ResourcesImpl.loadColorStateList(ResourcesImpl.java:1326)\n    at android.content.res.Resources.loadColorStateList(Resources.java:1249)\n    at android.content.res.TypedArray.getColorStateList(TypedArray.java:600)\n    at android.widget.TextView.readTextAppearance(TextView.java:4326)\n    at android.widget.TextView.&lt;init&gt;(TextView.java:1360)\n    at android.widget.Button.&lt;init&gt;(Button.java:174)\n    at android.widget.Button.&lt;init&gt;(Button.java:149)\n    at androidx.appcompat.widget.AppCompatButton.&lt;init&gt;(AppCompatButton.java:81)\n    at com.google.android.material.button.MaterialButton.&lt;init&gt;(MaterialButton.java:228)\n    at com.google.android.material.button.MaterialButton.&lt;init&gt;(MaterialButton.java:224)\n    at com.google.android.material.theme.MaterialComponentsViewInflater.createButton(MaterialComponentsViewInflater.java:43)\n    at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:156)\n    at androidx.appcompat.app.AppCompatDelegateImpl.createView(AppCompatDelegateImpl.java:1678)\n    at androidx.appcompat.app.AppCompatDelegateImpl.onCreateView(AppCompatDelegateImpl.java:1729)\n    at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1059)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:995)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1121)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\n    at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:775)\n    at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:197)\n    at com.example.sts_admin.activity.UpdateSchedule.onCreate(UpdateSchedule.java:25)\n    at android.app.Activity.performCreate(Activity.java:8207) 2023-06-05 14:27:22.679 30636-30636 AndroidRuntime          com.example.sts_admin E   at android.app.Activity.performCreate(Activity.java:8191)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3819)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4022)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:246)\n    at android.app.ActivityThread.main(ActivityThread.java:8653)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\nCaused by: java.lang.UnsupportedOperationException: Can't convert value at index 0 to color: type=0x1\n    at android.content.res.TypedArray.getColor(TypedArray.java:533)\n    at android.content.res.ColorStateList.inflate(ColorStateList.java:332)\n    at android.content.res.ColorStateList.createFromXmlInner(ColorStateList.java:280)\n    at android.content.res.ResourcesImpl.loadComplexColorForCookie(ResourcesImpl.java:1414)\n    ... 41 more\n</code></pre>\n"},{"tags":["java","arrays","algorithm","bufferedreader"],"answers":[{"tags":[],"owner":{"account_id":4570820,"reputation":184,"user_id":8487609,"display_name":"hiren207"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686034903,"creation_date":1686034903,"answer_id":76412147,"question_id":76412121,"body_markdown":"I am hoping you are looking for convert string array in buffer\r\n\r\n\r\n  \r\n\r\n    public int[][] convertTo2DArray(String filename) {\r\n        int[][] array = null;\r\n        \r\n        try (BufferedReader reader = new BufferedReader(new FileReader(filename))) {\r\n            String line;\r\n            int row = 0;\r\n            \r\n            while ((line = reader.readLine()) != null) {\r\n                String[] elements = line.split(&quot; &quot;);\r\n                \r\n                if (array == null) {\r\n                    array = new int[elements.length][];\r\n                }\r\n                \r\n                array[row] = new int[elements.length];\r\n                \r\n                for (int i = 0; i &lt; elements.length; i++) {\r\n                    array[row][i] = Integer.parseInt(elements[i]);\r\n                }\r\n                \r\n                row++;\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        return array;\r\n    }\r\n\r\n\r\n    String filename = &quot;path/to/your/file.txt&quot;;\r\n    int[][] result = convertTo2DArray(filename);","title":"Convert 2 text line of integers into 2D array","body":"<p>I am hoping you are looking for convert string array in buffer</p>\n<pre><code>public int[][] convertTo2DArray(String filename) {\n    int[][] array = null;\n    \n    try (BufferedReader reader = new BufferedReader(new FileReader(filename))) {\n        String line;\n        int row = 0;\n        \n        while ((line = reader.readLine()) != null) {\n            String[] elements = line.split(&quot; &quot;);\n            \n            if (array == null) {\n                array = new int[elements.length][];\n            }\n            \n            array[row] = new int[elements.length];\n            \n            for (int i = 0; i &lt; elements.length; i++) {\n                array[row][i] = Integer.parseInt(elements[i]);\n            }\n            \n            row++;\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    \n    return array;\n}\n\n\nString filename = &quot;path/to/your/file.txt&quot;;\nint[][] result = convertTo2DArray(filename);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21940457,"reputation":56,"user_id":16221077,"display_name":"Kyysel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686035316,"creation_date":1686035316,"answer_id":76412195,"question_id":76412121,"body_markdown":"By splitting your lines with the lines() method of BufferedReader, you can then use a map to split numbers with spaces. (using this regular expression allows to split even if there is more than one space character)\r\n\r\n```java\r\n        String input = &quot;14 14 14 14\\n32 32 32 32\\n&quot;;\r\n        BufferedReader reader = new BufferedReader(new StringReader(input));\r\n\r\n        int[][] array = reader.lines()\r\n                .map(line -&gt; Arrays.stream(line.split(&quot;\\\\s+&quot;))\r\n                        .mapToInt(Integer::parseInt)\r\n                        .toArray())\r\n                .toArray(int[][]::new);\r\n```\r\n","title":"Convert 2 text line of integers into 2D array","body":"<p>By splitting your lines with the lines() method of BufferedReader, you can then use a map to split numbers with spaces. (using this regular expression allows to split even if there is more than one space character)</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String input = &quot;14 14 14 14\\n32 32 32 32\\n&quot;;\n        BufferedReader reader = new BufferedReader(new StringReader(input));\n\n        int[][] array = reader.lines()\n                .map(line -&gt; Arrays.stream(line.split(&quot;\\\\s+&quot;))\n                        .mapToInt(Integer::parseInt)\n                        .toArray())\n                .toArray(int[][]::new);\n</code></pre>\n"}],"owner":{"account_id":23302693,"reputation":5,"user_id":17383107,"display_name":"Minh Anh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1686044000,"accepted_answer_id":76412147,"answer_count":2,"score":-1,"last_activity_date":1686035316,"creation_date":1686034589,"question_id":76412121,"body_markdown":"I have some text lines like this\r\n\r\n    14 14 14 14\r\n\r\n    32 32 32 32\r\nI want to convert into 2D array with BufferReader. Any help?","title":"Convert 2 text line of integers into 2D array","body":"<p>I have some text lines like this</p>\n<pre><code>14 14 14 14\n\n32 32 32 32\n</code></pre>\n<p>I want to convert into 2D array with BufferReader. Any help?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1631706678,"post_id":69192073,"comment_id":122293812,"body_markdown":"Can you share a link to that page? I suggested the answer but to give an exact answer we need to see what actually goes on there.","body":"Can you share a link to that page? I suggested the answer but to give an exact answer we need to see what actually goes on there."}],"answers":[{"tags":[],"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1686034723,"creation_date":1631707266,"answer_id":69192730,"question_id":69192073,"body_markdown":"It does not work because it&#39;s not a DOM element you can switch to it. This kind of `xdg-open` alert happens whenever it wants to handle a protocol defined by user preferences. It could be any of (afp, Tel, disk, file, hcp, ...)\r\n\r\nYou can use `ChromeOptions` in order to exclude these kind of schemes\r\n\r\n    chrome_options.add_experimental_option( &quot;prefs&quot;, {&#39;protocol_handler.excluded_schemes.hcp&#39;: false})\r\n\r\nYou should change the protocol above with whatever protocol is on your side or use this code which exclude list of schemes\r\n\r\n    driver.execute_script(&quot;window.confirm = function(msg) { return true; }&quot;)\r\n    \r\n    prefs = {&quot;protocol_handler.excluded_schemes&quot;:{&quot;afp&quot;:True,&quot;data&quot;:True,&quot;disk&quot;:True,&quot;disks&quot;:True,&quot;file&quot;:True,&quot;hcp&quot;:True,&quot;intent&quot;:True, &quot;itms-appss&quot;:True, &quot;itms-apps&quot;:True,&quot;itms&quot;:True,&quot;market&quot;:True,&quot;javascript&quot;:True,&quot;mailto&quot;:True,&quot;ms-help&quot;:True,&quot;news&quot;:True,&quot;nntp&quot;:True,&quot;shell&quot;:True,&quot;sip&quot;:True,&quot;snews&quot;:False,&quot;vbscript&quot;:True,&quot;view-source&quot;:True,&quot;vnd&quot;:{&quot;ms&quot;:{&quot;radio&quot;:True}}}}    \r\n    \r\n    chrome_options.add_experimental_option(&quot;prefs&quot;,prefs)\r\n\r\n","title":"How to verify &#39;Open xdg-open popup&#39; in Chrome via Selenium Webdriver?","body":"<p>It does not work because it's not a DOM element you can switch to it. This kind of <code>xdg-open</code> alert happens whenever it wants to handle a protocol defined by user preferences. It could be any of (afp, Tel, disk, file, hcp, ...)</p>\n<p>You can use <code>ChromeOptions</code> in order to exclude these kind of schemes</p>\n<pre><code>chrome_options.add_experimental_option( &quot;prefs&quot;, {'protocol_handler.excluded_schemes.hcp': false})\n</code></pre>\n<p>You should change the protocol above with whatever protocol is on your side or use this code which exclude list of schemes</p>\n<pre><code>driver.execute_script(&quot;window.confirm = function(msg) { return true; }&quot;)\n\nprefs = {&quot;protocol_handler.excluded_schemes&quot;:{&quot;afp&quot;:True,&quot;data&quot;:True,&quot;disk&quot;:True,&quot;disks&quot;:True,&quot;file&quot;:True,&quot;hcp&quot;:True,&quot;intent&quot;:True, &quot;itms-appss&quot;:True, &quot;itms-apps&quot;:True,&quot;itms&quot;:True,&quot;market&quot;:True,&quot;javascript&quot;:True,&quot;mailto&quot;:True,&quot;ms-help&quot;:True,&quot;news&quot;:True,&quot;nntp&quot;:True,&quot;shell&quot;:True,&quot;sip&quot;:True,&quot;snews&quot;:False,&quot;vbscript&quot;:True,&quot;view-source&quot;:True,&quot;vnd&quot;:{&quot;ms&quot;:{&quot;radio&quot;:True}}}}    \n\nchrome_options.add_experimental_option(&quot;prefs&quot;,prefs)\n</code></pre>\n"}],"owner":{"account_id":18580852,"reputation":45,"user_id":13540456,"display_name":"Dev97M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1610,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69192730,"answer_count":1,"score":1,"last_activity_date":1686034723,"creation_date":1631704554,"question_id":69192073,"body_markdown":"I am writing a testcase where if a certain link is clicked a &quot;Open xdg-open&quot; Popup is triggered in the chrome browser.\r\n\r\nI want to verify in my testcase if an &quot;Open xdg-open&quot; Popup actually appears.\r\n\r\nI tried to use the following Code block:\r\n    \r\n  \r\n\r\n      \r\n    boolean check;\r\n    try {\r\n         driver.switchTo().alert();\r\n         check = true;\r\n    } catch(NoAlertPresentException e) {\r\n       check = false;\r\n    }\r\n\r\n\r\nHowever the &quot;Open xdg-open&quot; Popup triggers the NoAlertPresentExcpetion even though it appears in the browser.\r\n\r\nDo you have any clue how I can verify the &quot;Open xdg-open&quot; Popup?","title":"How to verify &#39;Open xdg-open popup&#39; in Chrome via Selenium Webdriver?","body":"<p>I am writing a testcase where if a certain link is clicked a &quot;Open xdg-open&quot; Popup is triggered in the chrome browser.</p>\n<p>I want to verify in my testcase if an &quot;Open xdg-open&quot; Popup actually appears.</p>\n<p>I tried to use the following Code block:</p>\n<pre><code>boolean check;\ntry {\n     driver.switchTo().alert();\n     check = true;\n} catch(NoAlertPresentException e) {\n   check = false;\n}\n</code></pre>\n<p>However the &quot;Open xdg-open&quot; Popup triggers the NoAlertPresentExcpetion even though it appears in the browser.</p>\n<p>Do you have any clue how I can verify the &quot;Open xdg-open&quot; Popup?</p>\n"},{"tags":["java","docker","containers","memory-footprint","photon-os"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":1,"creation_date":1686035233,"post_id":76412125,"comment_id":134740048,"body_markdown":"Does this answer your question? [Java 11 application as lightweight docker image](https://stackoverflow.com/questions/53669151/java-11-application-as-lightweight-docker-image)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53669151/java-11-application-as-lightweight-docker-image\">Java 11 application as lightweight docker image</a>"},{"owner":{"account_id":10465568,"reputation":840,"user_id":7715095,"display_name":"xyz"},"score":1,"creation_date":1686035284,"post_id":76412125,"comment_id":134740056,"body_markdown":"Can you share your JVM args for the process?","body":"Can you share your JVM args for the process?"},{"owner":{"account_id":10465568,"reputation":840,"user_id":7715095,"display_name":"xyz"},"score":1,"creation_date":1686035892,"post_id":76412125,"comment_id":134740161,"body_markdown":"It will be helpful also to see picture of used heap for some period of time","body":"It will be helpful also to see picture of used heap for some period of time"},{"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"score":0,"creation_date":1686037209,"post_id":76412125,"comment_id":134740363,"body_markdown":"Try both of these: 1- run your application in host without docker and compare memory  2- run another sample java application to check if it consumes huge memory too","body":"Try both of these: 1- run your application in host without docker and compare memory  2- run another sample java application to check if it consumes huge memory too"},{"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"score":0,"creation_date":1686041256,"post_id":76412125,"comment_id":134741159,"body_markdown":"Thanks @xyz, for the response these are the args\n-Dopentracing.spring.cloud.log.enabled=false \n-Dopentracing.jaeger.udp-sender.max-packet-size=1499 \n-Dopentracing.jaeger.log-spans=false\n-Dlog4j2.formatMsgNoLookups=true -Xmx357m. \n\nAnd answering to your 2nd question I have collected these after 48hours of runtime :) .","body":"Thanks @xyz, for the response these are the args -Dopentracing.spring.cloud.log.enabled=false  -Dopentracing.jaeger.udp-sender.max-packet-size=1499  -Dopentracing.jaeger.log-spans=false -Dlog4j2.formatMsgNoLookups=true -Xmx357m.   And answering to your 2nd question I have collected these after 48hours of runtime :) ."},{"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"score":0,"creation_date":1686041468,"post_id":76412125,"comment_id":134741209,"body_markdown":"@HanaBzh , I tried that already, where I connected my application to the visual VM while running it locally. In that scenarion I could capture the heap memory too but results were exactly same as the above heap dump memory i.e memory was in range of 70 to 100Mbs. I didn&#39;t saw a runtime spikes or anything.","body":"@HanaBzh , I tried that already, where I connected my application to the visual VM while running it locally. In that scenarion I could capture the heap memory too but results were exactly same as the above heap dump memory i.e memory was in range of 70 to 100Mbs. I didn&#39;t saw a runtime spikes or anything."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1686055523,"post_id":76412125,"comment_id":134744167,"body_markdown":"`-Xmx357m` configures the JVM up to 357MB of heap memory, plus whatever native memory usage the JVM needs. I&#39;m guessing this adds up to 400MB+","body":"<code>-Xmx357m</code> configures the JVM up to 357MB of heap memory, plus whatever native memory usage the JVM needs. I&#39;m guessing this adds up to 400MB+"},{"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"score":0,"creation_date":1686557070,"post_id":76412125,"comment_id":134809150,"body_markdown":"@aled but doesn&#39;t xmx357 also means the maximum amount of memory that is allocated to the Java heap. I believe its not like fixed memory allocated to heap. So I don&#39;t know how this could be the problem. But let me give this a try","body":"@aled but doesn&#39;t xmx357 also means the maximum amount of memory that is allocated to the Java heap. I believe its not like fixed memory allocated to heap. So I don&#39;t know how this could be the problem. But let me give this a try"},{"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"score":0,"creation_date":1686557151,"post_id":76412125,"comment_id":134809159,"body_markdown":"And @aled , even if I consider that due to this `-Xmx357m` , we are seeing memory spike why it isn&#39;t reflected in heap dump","body":"And @aled , even if I consider that due to this <code>-Xmx357m</code> , we are seeing memory spike why it isn&#39;t reflected in heap dump"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1686564064,"post_id":76412125,"comment_id":134810658,"body_markdown":"Heap could start with less memory and increase until maximum. Non heap memory doesn&#39;t appear in a heap dump.","body":"Heap could start with less memory and increase until maximum. Non heap memory doesn&#39;t appear in a heap dump."},{"owner":{"account_id":2598310,"reputation":739,"user_id":2251418,"accept_rate":50,"display_name":"Vineeth"},"score":0,"creation_date":1699806318,"post_id":76412125,"comment_id":136574691,"body_markdown":"@VaibhavJain : Did you manage to find more insights or solution to your problem ?\nWe kind of have the similar case where our memory limit is close to 4Gb and a heap dump only showing 123 Mb. It is running on openjdk-11-jre image.\n\nContext: We have ocassional OOMKilled events, but can&#39;t find any culprits yet.","body":"@VaibhavJain : Did you manage to find more insights or solution to your problem ? We kind of have the similar case where our memory limit is close to 4Gb and a heap dump only showing 123 Mb. It is running on openjdk-11-jre image.  Context: We have ocassional OOMKilled events, but can&#39;t find any culprits yet."}],"owner":{"account_id":24902187,"reputation":71,"user_id":18772731,"display_name":"Vaibhav Jain"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686034672,"creation_date":1686034672,"question_id":76412125,"body_markdown":"Firstly my setup details.  \r\nI have a remote linux based server where I am running my containerised docker application which has java on jdk 11 and have photon os as the base image(https://vmware.github.io/photon/assets/files/html/3.0/Introduction.html).  \r\n**Queries**\r\n\r\n 1. Now while performing a memory footprint scan using docker stats command I see the following values \r\n ```\r\nCONTAINER ID   NAME                                   CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O        PIDS\r\n5f683918eab7   some-random-agent                      0.31%     474.2MiB / 476.8MiB   99.44%    71.3MB / 2.51MB   45.4MB / 197kB   58\r\n\r\n```\r\n 1. Here we can see a memory consumption of 99.4% aprox. So my first question is **what does this 99.4% memory signifies, from my understanding this all memory has been consumed by all the tenants which are running in our container, this is a sum up of the memory consumption of all the applications running in container. Am I correct ?**\r\n\r\n 2. To gain further insights, I decided to take a heap dump of my Java application. However, the results are a bit perplexing\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FyAG1.jpg\r\n  [2]: https://i.stack.imgur.com/L9LkD.jpg\r\n\r\n 1. So from the above screenshots I see the memory footprints are around 70Mbs I am not able to understand 474.2Mb - 70Mb (I understand this 474Mb is complete container but even inside the container java application is the top memory consuming process with 470Mb memory). Who is taking this much of space. In the above screenshots too the major contributors are system class loaders, I searched for my components in dominator tree they are even less than 10Mb in all. So is this a expected behaviour in java.\r\n\r\n 2. One of my guess is that JDK somehow kicks in some process in the container as soon as the java application triggers which ends up taking this much of space. Is there someway do analysis of that part. Note that I already tried looking into system proc files there also I see some random addresses with some huge memory consumptions but I wasn&#39;t able to understand what they are and where do they belong as they weren&#39;t annotated properly. There sum up was also almost 474Mbs\r\n\r\n 3. On the other hand with the same base image I had few of my  other golang build application files which I ran(consider it to be same business logic as the java ap) and they were falling in range of 20-30mb(docker stats memory footrprint). So I am kind of very confused on these things that who is victim here. All the stars align up to say java is victim here but, what part is victim in java that I am not able to understand.\r\n\r\n\r\nSo any help on the above would be much appreciable","title":"Why java has a huge memory footprint in docker container","body":"<p>Firstly my setup details.<br />\nI have a remote linux based server where I am running my containerised docker application which has java on jdk 11 and have photon os as the base image(<a href=\"https://vmware.github.io/photon/assets/files/html/3.0/Introduction.html\" rel=\"nofollow noreferrer\">https://vmware.github.io/photon/assets/files/html/3.0/Introduction.html</a>).<br />\n<strong>Queries</strong></p>\n<ol>\n<li>Now while performing a memory footprint scan using docker stats command I see the following values</li>\n</ol>\n<pre><code>CONTAINER ID   NAME                                   CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O        PIDS\n5f683918eab7   some-random-agent                      0.31%     474.2MiB / 476.8MiB   99.44%    71.3MB / 2.51MB   45.4MB / 197kB   58\n\n</code></pre>\n<ol>\n<li><p>Here we can see a memory consumption of 99.4% aprox. So my first question is <strong>what does this 99.4% memory signifies, from my understanding this all memory has been consumed by all the tenants which are running in our container, this is a sum up of the memory consumption of all the applications running in container. Am I correct ?</strong></p>\n</li>\n<li><p>To gain further insights, I decided to take a heap dump of my Java application. However, the results are a bit perplexing</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/FyAG1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FyAG1.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/L9LkD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L9LkD.jpg\" alt=\"enter image description here\" /></a></p>\n<ol>\n<li><p>So from the above screenshots I see the memory footprints are around 70Mbs I am not able to understand 474.2Mb - 70Mb (I understand this 474Mb is complete container but even inside the container java application is the top memory consuming process with 470Mb memory). Who is taking this much of space. In the above screenshots too the major contributors are system class loaders, I searched for my components in dominator tree they are even less than 10Mb in all. So is this a expected behaviour in java.</p>\n</li>\n<li><p>One of my guess is that JDK somehow kicks in some process in the container as soon as the java application triggers which ends up taking this much of space. Is there someway do analysis of that part. Note that I already tried looking into system proc files there also I see some random addresses with some huge memory consumptions but I wasn't able to understand what they are and where do they belong as they weren't annotated properly. There sum up was also almost 474Mbs</p>\n</li>\n<li><p>On the other hand with the same base image I had few of my  other golang build application files which I ran(consider it to be same business logic as the java ap) and they were falling in range of 20-30mb(docker stats memory footrprint). So I am kind of very confused on these things that who is victim here. All the stars align up to say java is victim here but, what part is victim in java that I am not able to understand.</p>\n</li>\n</ol>\n<p>So any help on the above would be much appreciable</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":28386551,"reputation":25,"user_id":21712941,"display_name":"Jake"},"score":0,"creation_date":1686054549,"post_id":76412114,"comment_id":134743970,"body_markdown":"@kleopatra wait what?? what have I done???","body":"@kleopatra wait what?? what have I done???"},{"owner":{"account_id":28386551,"reputation":25,"user_id":21712941,"display_name":"Jake"},"score":0,"creation_date":1686055038,"post_id":76412114,"comment_id":134744065,"body_markdown":"damn what&#39;s going on","body":"damn what&#39;s going on"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1686057884,"post_id":76412114,"comment_id":134744734,"body_markdown":"@Jake You haven&#39;t done anything other than post a question which would require some form of moderation. You can see the link above for the list of activities that some moderators and volunteers who moderate questions in various ways are currently not participating, due to a dispute with Stack Exchange, Inc.","body":"@Jake You haven&#39;t done anything other than post a question which would require some form of moderation. You can see the link above for the list of activities that some moderators and volunteers who moderate questions in various ways are currently not participating, due to a dispute with Stack Exchange, Inc."},{"owner":{"account_id":28386551,"reputation":25,"user_id":21712941,"display_name":"Jake"},"score":0,"creation_date":1686119246,"post_id":76412114,"comment_id":134753520,"body_markdown":"Alright, got it","body":"Alright, got it"}],"owner":{"account_id":28386551,"reputation":25,"user_id":21712941,"display_name":"Jake"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686057235,"answer_count":0,"score":0,"last_activity_date":1686034484,"creation_date":1686034484,"question_id":76412114,"body_markdown":"I&#39;ve made a class for a draggable pane but I don&#39;t know how to integrate it into scene builder, I&#39;ve previously added libraries to it like IKonli and JFoenix but since I&#39;ve made this one I&#39;m not sure how to go about adding it to scene builder-\r\nI&#39;ve already tried using every action in the scenebuilder library manager but none worked, I&#39;ve also done some research about it and have found nothing to work with.\r\n\r\nCode:\r\n```java\r\nimport javafx.geometry.Point2D;\r\nimport javafx.geometry.Rectangle2D;\r\nimport javafx.scene.input.MouseButton;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.Region;\r\nimport javafx.scene.layout.StackPane;\r\nimport org.joml.Vector2i;\r\n\r\npublic class Drag extends StackPane {\r\n    public Rectangle2D dragArea;\r\n    public Region parent;\r\n    public Point2D cursor;\r\n    public Vector2i cursorOffset;\r\n    public Drag(Region parent) {\r\n        this.parent = parent;\r\n        setDragArea();\r\n        setOnMousePressed(event -&gt; {\r\n            if (event.getButton() != MouseButton.MIDDLE) {\r\n                setDragArea();\r\n                Point2D cursor = getNewCursor(event);\r\n                setCursor(cursor);\r\n                setCursorOffset();\r\n                toFront();\r\n            } else {\r\n                ((Pane) this.getParent()).getChildren().remove(this);\r\n            }\r\n        });\r\n        setOnMouseDragged(event -&gt; {\r\n            if (event.getButton() != MouseButton.MIDDLE) {\r\n                Point2D cursor = getNewCursor(event);\r\n                Vector2i velocity = getVelocity(cursor);\r\n                if (Math.abs(getCursorOffset().x - getNewCursorOffset().x) &lt; 10) {\r\n                    int futureX = getLayoutX() + getWidth() + velocity.x &gt; parent.getWidth() ? (int) ((int) parent.getWidth() - getWidth()) : (int) Math.max(0, (getLayoutX() + velocity.x));\r\n                    setLayoutX(futureX);\r\n                } else if (parent.contains(cursor) &amp;&amp; Math.abs(getCursorOffset().x - getNewCursorOffset().x) &lt; 10) {\r\n                    setLayoutX(getLayoutX() - getCursorOffset().x);\r\n                }\r\n                if (Math.abs(getCursorOffset().y - getNewCursorOffset().y) &lt; 10) {\r\n                    int futureY = getLayoutY() + getHeight() + velocity.y &gt; parent.getHeight() ? (int) ((int) parent.getHeight() - getHeight()) : (int) Math.max(0, (getLayoutY() + velocity.y));\r\n                    setLayoutY(futureY);\r\n                } else if (parent.contains(cursor) &amp;&amp; Math.abs(getCursorOffset().y - getNewCursorOffset().y) &lt; 10) {\r\n                    setLayoutY(getLayoutY() - getCursorOffset().y);\r\n                }\r\n                setCursor(cursor);\r\n            }\r\n        });\r\n    }\r\n\r\n    public void setCursorOffset() {\r\n        cursorOffset = getNewCursorOffset();\r\n    }\r\n\r\n    public Vector2i getCursorOffset() {\r\n        return cursorOffset;\r\n    }\r\n    public Vector2i getNewCursorOffset() {\r\n        return new Vector2i((int) ((cursor.getX() - getLayoutX())-parent.getLayoutX()), (int) (cursor.getY() - getLayoutY()-parent.getLayoutX()));\r\n    }\r\n\r\n    public Vector2i getVelocity(Point2D newCursor) {\r\n        return new Vector2i((int) (newCursor.getX()-getCurrentCursor().getX()), (int) (newCursor.getY()-getCurrentCursor().getY()));\r\n    }\r\n    public void setDragArea() {\r\n        dragArea = new Rectangle2D(parent.getLayoutX(), parent.getLayoutX(), parent.getWidth(), parent.getHeight());\r\n    }\r\n    public void setCursor(Point2D cursor) {\r\n        this.cursor = cursor;\r\n    }\r\n    public Point2D getCurrentCursor() {\r\n        return cursor;\r\n    }\r\n    public Point2D getNewCursor(MouseEvent event) {\r\n        int x = (int) event.getSceneX();\r\n        int y = (int) event.getSceneY();\r\n        return new Point2D(x,y);\r\n    }\r\n}\r\n```","title":"How to add self made Element to SceneBuilder?","body":"<p>I've made a class for a draggable pane but I don't know how to integrate it into scene builder, I've previously added libraries to it like IKonli and JFoenix but since I've made this one I'm not sure how to go about adding it to scene builder-\nI've already tried using every action in the scenebuilder library manager but none worked, I've also done some research about it and have found nothing to work with.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.geometry.Point2D;\nimport javafx.geometry.Rectangle2D;\nimport javafx.scene.input.MouseButton;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.Region;\nimport javafx.scene.layout.StackPane;\nimport org.joml.Vector2i;\n\npublic class Drag extends StackPane {\n    public Rectangle2D dragArea;\n    public Region parent;\n    public Point2D cursor;\n    public Vector2i cursorOffset;\n    public Drag(Region parent) {\n        this.parent = parent;\n        setDragArea();\n        setOnMousePressed(event -&gt; {\n            if (event.getButton() != MouseButton.MIDDLE) {\n                setDragArea();\n                Point2D cursor = getNewCursor(event);\n                setCursor(cursor);\n                setCursorOffset();\n                toFront();\n            } else {\n                ((Pane) this.getParent()).getChildren().remove(this);\n            }\n        });\n        setOnMouseDragged(event -&gt; {\n            if (event.getButton() != MouseButton.MIDDLE) {\n                Point2D cursor = getNewCursor(event);\n                Vector2i velocity = getVelocity(cursor);\n                if (Math.abs(getCursorOffset().x - getNewCursorOffset().x) &lt; 10) {\n                    int futureX = getLayoutX() + getWidth() + velocity.x &gt; parent.getWidth() ? (int) ((int) parent.getWidth() - getWidth()) : (int) Math.max(0, (getLayoutX() + velocity.x));\n                    setLayoutX(futureX);\n                } else if (parent.contains(cursor) &amp;&amp; Math.abs(getCursorOffset().x - getNewCursorOffset().x) &lt; 10) {\n                    setLayoutX(getLayoutX() - getCursorOffset().x);\n                }\n                if (Math.abs(getCursorOffset().y - getNewCursorOffset().y) &lt; 10) {\n                    int futureY = getLayoutY() + getHeight() + velocity.y &gt; parent.getHeight() ? (int) ((int) parent.getHeight() - getHeight()) : (int) Math.max(0, (getLayoutY() + velocity.y));\n                    setLayoutY(futureY);\n                } else if (parent.contains(cursor) &amp;&amp; Math.abs(getCursorOffset().y - getNewCursorOffset().y) &lt; 10) {\n                    setLayoutY(getLayoutY() - getCursorOffset().y);\n                }\n                setCursor(cursor);\n            }\n        });\n    }\n\n    public void setCursorOffset() {\n        cursorOffset = getNewCursorOffset();\n    }\n\n    public Vector2i getCursorOffset() {\n        return cursorOffset;\n    }\n    public Vector2i getNewCursorOffset() {\n        return new Vector2i((int) ((cursor.getX() - getLayoutX())-parent.getLayoutX()), (int) (cursor.getY() - getLayoutY()-parent.getLayoutX()));\n    }\n\n    public Vector2i getVelocity(Point2D newCursor) {\n        return new Vector2i((int) (newCursor.getX()-getCurrentCursor().getX()), (int) (newCursor.getY()-getCurrentCursor().getY()));\n    }\n    public void setDragArea() {\n        dragArea = new Rectangle2D(parent.getLayoutX(), parent.getLayoutX(), parent.getWidth(), parent.getHeight());\n    }\n    public void setCursor(Point2D cursor) {\n        this.cursor = cursor;\n    }\n    public Point2D getCurrentCursor() {\n        return cursor;\n    }\n    public Point2D getNewCursor(MouseEvent event) {\n        int x = (int) event.getSceneX();\n        int y = (int) event.getSceneY();\n        return new Point2D(x,y);\n    }\n}\n</code></pre>\n"},{"tags":["java","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":958762,"reputation":4773,"user_id":983559,"display_name":"dada67"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686034360,"creation_date":1686034360,"answer_id":76412104,"question_id":76382990,"body_markdown":"The `enginesList` field needs to be part of the main report dataset (along with `cardid`, `regNum`, etc) and not part of the engines subdataset.\r\n\r\nAnd then you need to pass the engines list as a data source to the subdataset:\r\n\r\n                &lt;jr:list xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\r\n                    &lt;datasetRun subDataset=&quot;enginesList&quot; uuid=&quot;17889024-a1dc-4356-be75-f56b4d88a3ef&quot;&gt;\r\n                        &lt;dataSourceExpression&gt;new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{enginesList})&lt;/dataSourceExpression&gt;\r\n                    &lt;/datasetRun&gt;\r\n","title":"How to display the ArrayList in a PDF report. The report template was compiled at JasperStudio","body":"<p>The <code>enginesList</code> field needs to be part of the main report dataset (along with <code>cardid</code>, <code>regNum</code>, etc) and not part of the engines subdataset.</p>\n<p>And then you need to pass the engines list as a data source to the subdataset:</p>\n<pre><code>            &lt;jr:list xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\n                &lt;datasetRun subDataset=&quot;enginesList&quot; uuid=&quot;17889024-a1dc-4356-be75-f56b4d88a3ef&quot;&gt;\n                    &lt;dataSourceExpression&gt;new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{enginesList})&lt;/dataSourceExpression&gt;\n                &lt;/datasetRun&gt;\n</code></pre>\n"}],"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76412104,"answer_count":1,"score":-1,"last_activity_date":1686034360,"creation_date":1685629817,"question_id":76382990,"body_markdown":"Such a problem. Compiled a report template on JasperStudio. Everything is displayed well, except for the ArrayList - it is not displayed at all (blank). Help, can anyone come across such a situation. The report itself on JasperStudio is displayed well, but I need to generate it in Java, so I copied .jrxml to the development environment intellij idea Here is my code:\r\n\r\nController:\r\n\r\n    @GetMapping(&quot;/report&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; generateReport() throws IOException, DocumentException, JRException {\r\n        byte[] result = reportService.exportReport();\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_PDF);\r\n        headers.setContentDispositionFormData(&quot;attachment&quot;, &quot;report.pdf&quot;);\r\n        return ResponseEntity.ok().headers(headers).body(result);\r\n    }\r\n\r\nService class:\r\n\r\n    public byte[] exportReport() throws IOException, JRException, DocumentException {\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        BoatCards boatCards = this.boatCardsDao.getByCardid(137);\r\n        InfoAboutBoatsReport infoAboutBoatsReport = this.boatCardsToInfoAboutBoatsReportConverter.convert(boatCards);\r\n        File file = ResourceUtils.getFile(&quot;classpath:boatCards.jrxml&quot;);\r\n        JasperReport jasperReport = JasperCompileManager.compileReport(file.getAbsolutePath());\r\n        JRBeanCollectionDataSource dataSource = new JRBeanCollectionDataSource(Collections.singletonList(infoAboutBoatsReport));\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;created&quot;, &quot;dataSource&quot;);\r\n        JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, map, dataSource);\r\n        JasperExportManager.exportReportToPdfStream(jasperPrint, outputStream);\r\n        return outputStream.toByteArray();\r\n    }\r\n\r\nIn service class I use converter (boatCardsToInfoAboutBoatsReportConverter.convert):\r\n\r\n\r\n    @Component\r\n    public class BoatCardsToInfoAboutBoatsReportConverter implements Converter&lt;BoatCards, InfoAboutBoatsReport&gt; {\r\n    \r\n        @Autowired\r\n        private EnginesDao enginesDao;\r\n    \r\n        @Override\r\n        public InfoAboutBoatsReport convert(BoatCards boatCards) {\r\n            String cardid = boatCards.getCardid().toString();\r\n            String regNum = boatCards.getRegNum();\r\n            String tiketNum = boatCards.getTiketNum();\r\n            String boatName = boatCards.getBoatName();\r\n            String boatType = boatCards.getBoatType().getBtname();\r\n            String boatYear = boatCards.getBoatYear();\r\n            String boatVin = boatCards.getBoatVin();\r\n            String parkingPlace = boatCards.getParkingPlace();\r\n            String saCategory = boatCards.getSaCategory().getSacName();\r\n            String boatLength = boatCards.getBoatLength().toString();\r\n            String boatWidth = boatCards.getBoatWidth().toString();\r\n            String boatHeight = boatCards.getBoatHeight().toString();\r\n            String bodyMaterial = boatCards.getBodyMaterial().getMatname();\r\n            String boatPayload = boatCards.getBoatPayload().toString();\r\n            String passengersNum = boatCards.getPassengersNum().toString();\r\n            String serviceLife = boatCards.getServiceLife();\r\n            String engineNum = boatCards.getEngineNum()==null?null:boatCards.getEngineNum().toString();\r\n            String agentDoverennost = boatCards.getAgentDoverennost();\r\n            String ownerType = boatCards.getOwnerType().getPtName();\r\n            String ownerSurname = boatCards.getOwnerSurname();\r\n            String ownerName = boatCards.getOwnerName();\r\n            String ownerMidname = boatCards.getOwnerMidname();\r\n            String ownerBirthDate = boatCards.getOwnerBirthDate() == null ? null : boatCards.getOwnerBirthDate().toString();\r\n            String ownerPersNum = boatCards.getOwnerPersNum();\r\n            String ownerDocType = boatCards.getOwnerDocType() == null ? null : boatCards.getOwnerDocType().toString();\r\n            String ownerDocNum = boatCards.getOwnerDocNum();\r\n            String ownerDocDepartment = boatCards.getOwnerDocDepartment();\r\n            String ownerDocDateIssue = boatCards.getOwnerDocDateIssue().toString();\r\n            String leUnp = boatCards.getLeUnp();\r\n            String leName = boatCards.getLeName();\r\n            String leDocDepartment = boatCards.getLeDocDepartment();\r\n            String leEgrNum = boatCards.getLeEgrNum();\r\n            String ownerPhone = boatCards.getOwnerPhone();\r\n            String ownerAddress = boatCards.getOwnerAddress();\r\n            String cardDate = boatCards.getCardDate().toString();\r\n            String cardDateEnd = boatCards.getCardDateEnd() == null ? null : boatCards.getCardDateEnd().toString();\r\n            String note = boatCards.getNote();\r\n            String engpwrmax = boatCards.getEngpwrmax();\r\n            String boatVid = boatCards.getBoatVid().getName();\r\n            String note2 = boatCards.getNote2();\r\n            String section = boatCards.getSection().getSctName();\r\n            String ticketDate = boatCards.getTicketDate() == null ? null : boatCards.getTicketDate().toString();\r\n    \r\n            List&lt;Engines&gt; engines = this.enginesDao.findAllByCardidCardid(boatCards.getCardid());\r\n    \r\n            return new InfoAboutBoatsReport(cardid, regNum, tiketNum, boatName, boatType, boatYear, boatVin, parkingPlace,\r\n                    saCategory, boatLength, boatWidth, boatHeight, bodyMaterial, boatPayload, passengersNum, serviceLife,\r\n                    engineNum, agentDoverennost, ownerType, ownerSurname, ownerName, ownerMidname, ownerBirthDate,\r\n                    ownerPersNum, ownerDocType, ownerDocNum, ownerDocDepartment, ownerDocDateIssue, leUnp, leName, leDocDepartment, leEgrNum,\r\n                    ownerPhone, ownerAddress, cardDate, cardDateEnd, note, engpwrmax, boatVid, note2, section, ticketDate, engines);\r\n        }\r\n    }\r\n\r\nand at the end I must get the class InfoAboutBoatsReport:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class InfoAboutBoatsReport implements Serializable {\r\n        String cardid;\r\n        String regNum;\r\n        String tiketNum;\r\n        String boatName;\r\n        String boatType;\r\n        String boatYear;\r\n        String boatVin;\r\n        String parkingPlace;\r\n        String saCategory;\r\n        String boatLength;\r\n        String boatWidth;\r\n        String boatHeight;\r\n        String bodyMaterial;\r\n        String boatPayload;\r\n        String passengersNum;\r\n        String serviceLife;\r\n        String engineNum;\r\n        String agentDoverennost;\r\n        String ownerType;\r\n        String ownerSurname;\r\n        String ownerName;\r\n        String ownerMidname;\r\n        String ownerBirthDate;\r\n        String ownerPersNum;\r\n        String ownerDocType;\r\n        String ownerDocNum;\r\n        String ownerDocDepartment;\r\n        String ownerDocDateIssue;\r\n        String leUnp;\r\n        String leName;\r\n        String leDocDepartment;\r\n        String leEgrNum;\r\n        String ownerPhone;\r\n        String ownerAddress;\r\n        String cardDate;\r\n        String cardDateEnd;\r\n        String note;\r\n        String engpwrmax;\r\n        String boatVid;\r\n        String note2;\r\n        String section;\r\n        String ticketDate;\r\n    \r\n        List&lt;Engines&gt; enginesList;\r\n    \r\n    }\r\n\r\nHere is my .jrxml file (it is not all, but those fields that are not displayed are present here):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!-- Created with Jaspersoft Studio version 6.20.1.final using JasperReports Library version 6.20.1-7584acb244139816654f64e2fd57a00d3e31921e  --&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;boatInfo&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;301a4691-f830-4257-8a66-d3b29fa5a257&quot;&gt;\r\n        &lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;GIMS&quot;/&gt;\r\n        &lt;property name=&quot;com.jaspersoft.studio.data.sql.tables&quot; value=&quot;&quot;/&gt;\r\n        &lt;property name=&quot;com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1&quot; value=&quot;479&quot;/&gt;\r\n        &lt;property name=&quot;com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2&quot; value=&quot;521&quot;/&gt;\r\n        &lt;property name=&quot;com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w1&quot; value=&quot;544&quot;/&gt;\r\n        &lt;property name=&quot;com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w2&quot; value=&quot;442&quot;/&gt;\r\n        &lt;style name=&quot;Default&quot; isDefault=&quot;true&quot; pdfFontName=&quot;TIMES_NEW_ROMAN.TTF&quot; pdfEncoding=&quot;Cp1251&quot;/&gt;\r\n        &lt;subDataset name=&quot;enginesList&quot; uuid=&quot;cb123b0b-4ea1-4234-bb7c-20ea886e122f&quot;&gt;\r\n            &lt;property name=&quot;com.jaspersoft.studio.data.sql.tables&quot; value=&quot;&quot;/&gt;\r\n            &lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;New Data Adapter&quot;/&gt;\r\n            &lt;queryString &gt;\r\n                &lt;![CDATA[SELECT engname, engvin,engpwr,engtype,date_reg,date_reg_end,\r\n    eng_prod_year\r\n    FROM gims.engines JOIN gims.boat_cards bc on bc.cardid = engines.cardid JOIN gims.boat_deals ba on bc.cardid = ba.cardid join gims.boat_arrests b on bc.cardid = b.cardid]]&gt;\r\n            &lt;/queryString&gt;\r\n            &lt;field name=&quot;engname&quot; class=&quot;java.lang.String&quot;&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;engname&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;engname&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\r\n                &lt;fieldDescription&gt;&lt;![CDATA[engname]]&gt;&lt;/fieldDescription&gt;\r\n            &lt;/field&gt;\r\n            &lt;field name=&quot;engvin&quot; class=&quot;java.lang.String&quot;&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;engvin&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;engvin&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\r\n                &lt;fieldDescription&gt;&lt;![CDATA[Заводской (идентификационный) номер двигателя]]&gt;&lt;/fieldDescription&gt;\r\n            &lt;/field&gt;\r\n            &lt;field name=&quot;engpwr&quot; class=&quot;java.lang.String&quot;&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;engpwr&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;engpwr&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\r\n                &lt;fieldDescription&gt;&lt;![CDATA[Предельная мощность двигателя]]&gt;&lt;/fieldDescription&gt;\r\n            &lt;/field&gt;\r\n            &lt;field name=&quot;engtype&quot; class=&quot;java.lang.Integer&quot;&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;engtype&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;engtype&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\r\n                &lt;fieldDescription&gt;&lt;![CDATA[Тип двигателя]]&gt;&lt;/fieldDescription&gt;\r\n            &lt;/field&gt;\r\n            &lt;field name=&quot;dateReg&quot; class=&quot;java.sql.Date&quot;&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;date_reg&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;date_reg&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\r\n                &lt;fieldDescription&gt;&lt;![CDATA[Дата постановки на учёт]]&gt;&lt;/fieldDescription&gt;\r\n            &lt;/field&gt;\r\n            &lt;field name=&quot;dateRegEnd&quot; class=&quot;java.sql.Date&quot;&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;date_reg_end&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;date_reg_end&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\r\n                &lt;fieldDescription&gt;&lt;![CDATA[Дата снятия с учёта]]&gt;&lt;/fieldDescription&gt;\r\n            &lt;/field&gt;\r\n            &lt;field name=&quot;engProdYear&quot; class=&quot;java.lang.String&quot;&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;eng_prod_year&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;eng_prod_year&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\r\n                &lt;fieldDescription&gt;&lt;![CDATA[Год производства двигателя]]&gt;&lt;/fieldDescription&gt;\r\n            &lt;/field&gt;\r\n    \r\n            &lt;field name=&quot;enginesList&quot; class=&quot;java.util.List&quot;&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;eng_prod_year&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;eng_prod_year&quot;/&gt;\r\n                &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\r\n                &lt;fieldDescription&gt;&lt;![CDATA[Год производства двигателя]]&gt;&lt;/fieldDescription&gt;\r\n            &lt;/field&gt;\r\n        &lt;/subDataset&gt;\r\n        &lt;parameter name=&quot;cardid&quot; class=&quot;java.lang.Integer&quot;/&gt;\r\n        &lt;queryString&gt;\r\n            &lt;![CDATA[SELECT *\r\n    FROM gims.engines JOIN gims.boat_cards bc on bc.cardid = engines.cardid JOIN gims.boat_deals ba on bc.cardid = ba.cardid join gims.boat_arrests b on bc.cardid = b.cardid]]&gt;\r\n        &lt;/queryString&gt;\r\n    &lt;componentElement&gt;\r\n                    &lt;reportElement x=&quot;1&quot; y=&quot;420&quot; width=&quot;555&quot; height=&quot;40&quot; uuid=&quot;7ffc01ff-b13f-46de-9eca-a52dcef4d608&quot;/&gt;\r\n                    &lt;jr:list xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\r\n                        &lt;datasetRun subDataset=&quot;enginesList&quot; uuid=&quot;17889024-a1dc-4356-be75-f56b4d88a3ef&quot;/&gt;\r\n                        &lt;jr:listContents height=&quot;40&quot; width=&quot;555&quot;&gt;\r\n                            &lt;textField&gt;\r\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;90&quot; height=&quot;40&quot; uuid=&quot;956c0c9b-5509-43d4-9119-2bbc1e6b6d50&quot;&gt;\r\n                                    &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\r\n                                    &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\r\n                                &lt;/reportElement&gt;\r\n                                &lt;box&gt;\r\n                                    &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                &lt;/box&gt;\r\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$F{enginesList}]]&gt;&lt;/textFieldExpression&gt;\r\n                            &lt;/textField&gt;\r\n                            &lt;textField&gt;\r\n                                &lt;reportElement x=&quot;90&quot; y=&quot;0&quot; width=&quot;110&quot; height=&quot;40&quot; uuid=&quot;2227d4b1-d5d4-46b4-a870-fad4504135c9&quot;&gt;\r\n                                    &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\r\n                                &lt;/reportElement&gt;\r\n                                &lt;box&gt;\r\n                                    &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                &lt;/box&gt;\r\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$F{engvin}]]&gt;&lt;/textFieldExpression&gt;\r\n                            &lt;/textField&gt;\r\n                            &lt;textField&gt;\r\n                                &lt;reportElement x=&quot;200&quot; y=&quot;0&quot; width=&quot;50&quot; height=&quot;40&quot; uuid=&quot;8974f6a3-20e1-4a5a-94a2-84699bf6e9ff&quot;&gt;\r\n                                    &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\r\n                                    &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\r\n                                &lt;/reportElement&gt;\r\n                                &lt;box&gt;\r\n                                    &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                &lt;/box&gt;\r\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$F{engProdYear}]]&gt;&lt;/textFieldExpression&gt;\r\n                            &lt;/textField&gt;\r\n                            &lt;textField&gt;\r\n                                &lt;reportElement x=&quot;250&quot; y=&quot;0&quot; width=&quot;60&quot; height=&quot;40&quot; uuid=&quot;effd126f-059b-41ca-85fe-3a1a4b5f248e&quot;&gt;\r\n                                    &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\r\n                                    &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\r\n                                &lt;/reportElement&gt;\r\n                                &lt;box&gt;\r\n                                    &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                &lt;/box&gt;\r\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$F{engpwr}]]&gt;&lt;/textFieldExpression&gt;\r\n                            &lt;/textField&gt;\r\n                            &lt;textField&gt;\r\n                                &lt;reportElement x=&quot;310&quot; y=&quot;0&quot; width=&quot;70&quot; height=&quot;40&quot; uuid=&quot;df055a09-aaa7-43c4-905b-2c705757b85f&quot;&gt;\r\n                                    &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\r\n                                    &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\r\n                                &lt;/reportElement&gt;\r\n                                &lt;box&gt;\r\n                                    &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                &lt;/box&gt;\r\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$F{engtype}]]&gt;&lt;/textFieldExpression&gt;\r\n                            &lt;/textField&gt;\r\n                            &lt;textField&gt;\r\n                                &lt;reportElement x=&quot;380&quot; y=&quot;0&quot; width=&quot;85&quot; height=&quot;40&quot; uuid=&quot;e9343045-0d18-4090-b698-f52861824058&quot;&gt;\r\n                                    &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\r\n                                    &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\r\n                                &lt;/reportElement&gt;\r\n                                &lt;box&gt;\r\n                                    &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                &lt;/box&gt;\r\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$F{dateReg}]]&gt;&lt;/textFieldExpression&gt;\r\n                            &lt;/textField&gt;\r\n                            &lt;textField&gt;\r\n                                &lt;reportElement x=&quot;465&quot; y=&quot;0&quot; width=&quot;90&quot; height=&quot;40&quot; uuid=&quot;9ee1b015-6565-4b97-9829-d23d6a891005&quot;&gt;\r\n                                    &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\r\n                                    &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\r\n                                &lt;/reportElement&gt;\r\n                                &lt;box&gt;\r\n                                    &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                    &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n                                &lt;/box&gt;\r\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\r\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$F{dateRegEnd}]]&gt;&lt;/textFieldExpression&gt;\r\n                            &lt;/textField&gt;\r\n                        &lt;/jr:listContents&gt;\r\n                    &lt;/jr:list&gt;\r\n                &lt;/componentElement&gt;\r\n            &lt;/band&gt;\r\n        &lt;/detail&gt;\r\n        &lt;summary&gt;\r\n            &lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\r\n        &lt;/summary&gt;\r\n    &lt;/jasperReport&gt;","title":"How to display the ArrayList in a PDF report. The report template was compiled at JasperStudio","body":"<p>Such a problem. Compiled a report template on JasperStudio. Everything is displayed well, except for the ArrayList - it is not displayed at all (blank). Help, can anyone come across such a situation. The report itself on JasperStudio is displayed well, but I need to generate it in Java, so I copied .jrxml to the development environment intellij idea Here is my code:</p>\n<p>Controller:</p>\n<pre><code>@GetMapping(&quot;/report&quot;)\npublic ResponseEntity&lt;byte[]&gt; generateReport() throws IOException, DocumentException, JRException {\n    byte[] result = reportService.exportReport();\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_PDF);\n    headers.setContentDispositionFormData(&quot;attachment&quot;, &quot;report.pdf&quot;);\n    return ResponseEntity.ok().headers(headers).body(result);\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>public byte[] exportReport() throws IOException, JRException, DocumentException {\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    BoatCards boatCards = this.boatCardsDao.getByCardid(137);\n    InfoAboutBoatsReport infoAboutBoatsReport = this.boatCardsToInfoAboutBoatsReportConverter.convert(boatCards);\n    File file = ResourceUtils.getFile(&quot;classpath:boatCards.jrxml&quot;);\n    JasperReport jasperReport = JasperCompileManager.compileReport(file.getAbsolutePath());\n    JRBeanCollectionDataSource dataSource = new JRBeanCollectionDataSource(Collections.singletonList(infoAboutBoatsReport));\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;created&quot;, &quot;dataSource&quot;);\n    JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, map, dataSource);\n    JasperExportManager.exportReportToPdfStream(jasperPrint, outputStream);\n    return outputStream.toByteArray();\n}\n</code></pre>\n<p>In service class I use converter (boatCardsToInfoAboutBoatsReportConverter.convert):</p>\n<pre><code>@Component\npublic class BoatCardsToInfoAboutBoatsReportConverter implements Converter&lt;BoatCards, InfoAboutBoatsReport&gt; {\n\n    @Autowired\n    private EnginesDao enginesDao;\n\n    @Override\n    public InfoAboutBoatsReport convert(BoatCards boatCards) {\n        String cardid = boatCards.getCardid().toString();\n        String regNum = boatCards.getRegNum();\n        String tiketNum = boatCards.getTiketNum();\n        String boatName = boatCards.getBoatName();\n        String boatType = boatCards.getBoatType().getBtname();\n        String boatYear = boatCards.getBoatYear();\n        String boatVin = boatCards.getBoatVin();\n        String parkingPlace = boatCards.getParkingPlace();\n        String saCategory = boatCards.getSaCategory().getSacName();\n        String boatLength = boatCards.getBoatLength().toString();\n        String boatWidth = boatCards.getBoatWidth().toString();\n        String boatHeight = boatCards.getBoatHeight().toString();\n        String bodyMaterial = boatCards.getBodyMaterial().getMatname();\n        String boatPayload = boatCards.getBoatPayload().toString();\n        String passengersNum = boatCards.getPassengersNum().toString();\n        String serviceLife = boatCards.getServiceLife();\n        String engineNum = boatCards.getEngineNum()==null?null:boatCards.getEngineNum().toString();\n        String agentDoverennost = boatCards.getAgentDoverennost();\n        String ownerType = boatCards.getOwnerType().getPtName();\n        String ownerSurname = boatCards.getOwnerSurname();\n        String ownerName = boatCards.getOwnerName();\n        String ownerMidname = boatCards.getOwnerMidname();\n        String ownerBirthDate = boatCards.getOwnerBirthDate() == null ? null : boatCards.getOwnerBirthDate().toString();\n        String ownerPersNum = boatCards.getOwnerPersNum();\n        String ownerDocType = boatCards.getOwnerDocType() == null ? null : boatCards.getOwnerDocType().toString();\n        String ownerDocNum = boatCards.getOwnerDocNum();\n        String ownerDocDepartment = boatCards.getOwnerDocDepartment();\n        String ownerDocDateIssue = boatCards.getOwnerDocDateIssue().toString();\n        String leUnp = boatCards.getLeUnp();\n        String leName = boatCards.getLeName();\n        String leDocDepartment = boatCards.getLeDocDepartment();\n        String leEgrNum = boatCards.getLeEgrNum();\n        String ownerPhone = boatCards.getOwnerPhone();\n        String ownerAddress = boatCards.getOwnerAddress();\n        String cardDate = boatCards.getCardDate().toString();\n        String cardDateEnd = boatCards.getCardDateEnd() == null ? null : boatCards.getCardDateEnd().toString();\n        String note = boatCards.getNote();\n        String engpwrmax = boatCards.getEngpwrmax();\n        String boatVid = boatCards.getBoatVid().getName();\n        String note2 = boatCards.getNote2();\n        String section = boatCards.getSection().getSctName();\n        String ticketDate = boatCards.getTicketDate() == null ? null : boatCards.getTicketDate().toString();\n\n        List&lt;Engines&gt; engines = this.enginesDao.findAllByCardidCardid(boatCards.getCardid());\n\n        return new InfoAboutBoatsReport(cardid, regNum, tiketNum, boatName, boatType, boatYear, boatVin, parkingPlace,\n                saCategory, boatLength, boatWidth, boatHeight, bodyMaterial, boatPayload, passengersNum, serviceLife,\n                engineNum, agentDoverennost, ownerType, ownerSurname, ownerName, ownerMidname, ownerBirthDate,\n                ownerPersNum, ownerDocType, ownerDocNum, ownerDocDepartment, ownerDocDateIssue, leUnp, leName, leDocDepartment, leEgrNum,\n                ownerPhone, ownerAddress, cardDate, cardDateEnd, note, engpwrmax, boatVid, note2, section, ticketDate, engines);\n    }\n}\n</code></pre>\n<p>and at the end I must get the class InfoAboutBoatsReport:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class InfoAboutBoatsReport implements Serializable {\n    String cardid;\n    String regNum;\n    String tiketNum;\n    String boatName;\n    String boatType;\n    String boatYear;\n    String boatVin;\n    String parkingPlace;\n    String saCategory;\n    String boatLength;\n    String boatWidth;\n    String boatHeight;\n    String bodyMaterial;\n    String boatPayload;\n    String passengersNum;\n    String serviceLife;\n    String engineNum;\n    String agentDoverennost;\n    String ownerType;\n    String ownerSurname;\n    String ownerName;\n    String ownerMidname;\n    String ownerBirthDate;\n    String ownerPersNum;\n    String ownerDocType;\n    String ownerDocNum;\n    String ownerDocDepartment;\n    String ownerDocDateIssue;\n    String leUnp;\n    String leName;\n    String leDocDepartment;\n    String leEgrNum;\n    String ownerPhone;\n    String ownerAddress;\n    String cardDate;\n    String cardDateEnd;\n    String note;\n    String engpwrmax;\n    String boatVid;\n    String note2;\n    String section;\n    String ticketDate;\n\n    List&lt;Engines&gt; enginesList;\n\n}\n</code></pre>\n<p>Here is my .jrxml file (it is not all, but those fields that are not displayed are present here):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- Created with Jaspersoft Studio version 6.20.1.final using JasperReports Library version 6.20.1-7584acb244139816654f64e2fd57a00d3e31921e  --&gt;\n&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;boatInfo&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;301a4691-f830-4257-8a66-d3b29fa5a257&quot;&gt;\n    &lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;GIMS&quot;/&gt;\n    &lt;property name=&quot;com.jaspersoft.studio.data.sql.tables&quot; value=&quot;&quot;/&gt;\n    &lt;property name=&quot;com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1&quot; value=&quot;479&quot;/&gt;\n    &lt;property name=&quot;com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2&quot; value=&quot;521&quot;/&gt;\n    &lt;property name=&quot;com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w1&quot; value=&quot;544&quot;/&gt;\n    &lt;property name=&quot;com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w2&quot; value=&quot;442&quot;/&gt;\n    &lt;style name=&quot;Default&quot; isDefault=&quot;true&quot; pdfFontName=&quot;TIMES_NEW_ROMAN.TTF&quot; pdfEncoding=&quot;Cp1251&quot;/&gt;\n    &lt;subDataset name=&quot;enginesList&quot; uuid=&quot;cb123b0b-4ea1-4234-bb7c-20ea886e122f&quot;&gt;\n        &lt;property name=&quot;com.jaspersoft.studio.data.sql.tables&quot; value=&quot;&quot;/&gt;\n        &lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;New Data Adapter&quot;/&gt;\n        &lt;queryString &gt;\n            &lt;![CDATA[SELECT engname, engvin,engpwr,engtype,date_reg,date_reg_end,\neng_prod_year\nFROM gims.engines JOIN gims.boat_cards bc on bc.cardid = engines.cardid JOIN gims.boat_deals ba on bc.cardid = ba.cardid join gims.boat_arrests b on bc.cardid = b.cardid]]&gt;\n        &lt;/queryString&gt;\n        &lt;field name=&quot;engname&quot; class=&quot;java.lang.String&quot;&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;engname&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;engname&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\n            &lt;fieldDescription&gt;&lt;![CDATA[engname]]&gt;&lt;/fieldDescription&gt;\n        &lt;/field&gt;\n        &lt;field name=&quot;engvin&quot; class=&quot;java.lang.String&quot;&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;engvin&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;engvin&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\n            &lt;fieldDescription&gt;&lt;![CDATA[Заводской (идентификационный) номер двигателя]]&gt;&lt;/fieldDescription&gt;\n        &lt;/field&gt;\n        &lt;field name=&quot;engpwr&quot; class=&quot;java.lang.String&quot;&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;engpwr&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;engpwr&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\n            &lt;fieldDescription&gt;&lt;![CDATA[Предельная мощность двигателя]]&gt;&lt;/fieldDescription&gt;\n        &lt;/field&gt;\n        &lt;field name=&quot;engtype&quot; class=&quot;java.lang.Integer&quot;&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;engtype&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;engtype&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\n            &lt;fieldDescription&gt;&lt;![CDATA[Тип двигателя]]&gt;&lt;/fieldDescription&gt;\n        &lt;/field&gt;\n        &lt;field name=&quot;dateReg&quot; class=&quot;java.sql.Date&quot;&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;date_reg&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;date_reg&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\n            &lt;fieldDescription&gt;&lt;![CDATA[Дата постановки на учёт]]&gt;&lt;/fieldDescription&gt;\n        &lt;/field&gt;\n        &lt;field name=&quot;dateRegEnd&quot; class=&quot;java.sql.Date&quot;&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;date_reg_end&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;date_reg_end&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\n            &lt;fieldDescription&gt;&lt;![CDATA[Дата снятия с учёта]]&gt;&lt;/fieldDescription&gt;\n        &lt;/field&gt;\n        &lt;field name=&quot;engProdYear&quot; class=&quot;java.lang.String&quot;&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;eng_prod_year&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;eng_prod_year&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\n            &lt;fieldDescription&gt;&lt;![CDATA[Год производства двигателя]]&gt;&lt;/fieldDescription&gt;\n        &lt;/field&gt;\n\n        &lt;field name=&quot;enginesList&quot; class=&quot;java.util.List&quot;&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.name&quot; value=&quot;eng_prod_year&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.label&quot; value=&quot;eng_prod_year&quot;/&gt;\n            &lt;property name=&quot;com.jaspersoft.studio.field.tree.path&quot; value=&quot;engines&quot;/&gt;\n            &lt;fieldDescription&gt;&lt;![CDATA[Год производства двигателя]]&gt;&lt;/fieldDescription&gt;\n        &lt;/field&gt;\n    &lt;/subDataset&gt;\n    &lt;parameter name=&quot;cardid&quot; class=&quot;java.lang.Integer&quot;/&gt;\n    &lt;queryString&gt;\n        &lt;![CDATA[SELECT *\nFROM gims.engines JOIN gims.boat_cards bc on bc.cardid = engines.cardid JOIN gims.boat_deals ba on bc.cardid = ba.cardid join gims.boat_arrests b on bc.cardid = b.cardid]]&gt;\n    &lt;/queryString&gt;\n&lt;componentElement&gt;\n                &lt;reportElement x=&quot;1&quot; y=&quot;420&quot; width=&quot;555&quot; height=&quot;40&quot; uuid=&quot;7ffc01ff-b13f-46de-9eca-a52dcef4d608&quot;/&gt;\n                &lt;jr:list xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\n                    &lt;datasetRun subDataset=&quot;enginesList&quot; uuid=&quot;17889024-a1dc-4356-be75-f56b4d88a3ef&quot;/&gt;\n                    &lt;jr:listContents height=&quot;40&quot; width=&quot;555&quot;&gt;\n                        &lt;textField&gt;\n                            &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;90&quot; height=&quot;40&quot; uuid=&quot;956c0c9b-5509-43d4-9119-2bbc1e6b6d50&quot;&gt;\n                                &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\n                                &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\n                            &lt;/reportElement&gt;\n                            &lt;box&gt;\n                                &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                            &lt;/box&gt;\n                            &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\n                            &lt;textFieldExpression&gt;&lt;![CDATA[$F{enginesList}]]&gt;&lt;/textFieldExpression&gt;\n                        &lt;/textField&gt;\n                        &lt;textField&gt;\n                            &lt;reportElement x=&quot;90&quot; y=&quot;0&quot; width=&quot;110&quot; height=&quot;40&quot; uuid=&quot;2227d4b1-d5d4-46b4-a870-fad4504135c9&quot;&gt;\n                                &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\n                            &lt;/reportElement&gt;\n                            &lt;box&gt;\n                                &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                            &lt;/box&gt;\n                            &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\n                            &lt;textFieldExpression&gt;&lt;![CDATA[$F{engvin}]]&gt;&lt;/textFieldExpression&gt;\n                        &lt;/textField&gt;\n                        &lt;textField&gt;\n                            &lt;reportElement x=&quot;200&quot; y=&quot;0&quot; width=&quot;50&quot; height=&quot;40&quot; uuid=&quot;8974f6a3-20e1-4a5a-94a2-84699bf6e9ff&quot;&gt;\n                                &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\n                                &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\n                            &lt;/reportElement&gt;\n                            &lt;box&gt;\n                                &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                            &lt;/box&gt;\n                            &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\n                            &lt;textFieldExpression&gt;&lt;![CDATA[$F{engProdYear}]]&gt;&lt;/textFieldExpression&gt;\n                        &lt;/textField&gt;\n                        &lt;textField&gt;\n                            &lt;reportElement x=&quot;250&quot; y=&quot;0&quot; width=&quot;60&quot; height=&quot;40&quot; uuid=&quot;effd126f-059b-41ca-85fe-3a1a4b5f248e&quot;&gt;\n                                &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\n                                &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\n                            &lt;/reportElement&gt;\n                            &lt;box&gt;\n                                &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                            &lt;/box&gt;\n                            &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\n                            &lt;textFieldExpression&gt;&lt;![CDATA[$F{engpwr}]]&gt;&lt;/textFieldExpression&gt;\n                        &lt;/textField&gt;\n                        &lt;textField&gt;\n                            &lt;reportElement x=&quot;310&quot; y=&quot;0&quot; width=&quot;70&quot; height=&quot;40&quot; uuid=&quot;df055a09-aaa7-43c4-905b-2c705757b85f&quot;&gt;\n                                &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\n                                &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\n                            &lt;/reportElement&gt;\n                            &lt;box&gt;\n                                &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                            &lt;/box&gt;\n                            &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\n                            &lt;textFieldExpression&gt;&lt;![CDATA[$F{engtype}]]&gt;&lt;/textFieldExpression&gt;\n                        &lt;/textField&gt;\n                        &lt;textField&gt;\n                            &lt;reportElement x=&quot;380&quot; y=&quot;0&quot; width=&quot;85&quot; height=&quot;40&quot; uuid=&quot;e9343045-0d18-4090-b698-f52861824058&quot;&gt;\n                                &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\n                                &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\n                            &lt;/reportElement&gt;\n                            &lt;box&gt;\n                                &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                            &lt;/box&gt;\n                            &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\n                            &lt;textFieldExpression&gt;&lt;![CDATA[$F{dateReg}]]&gt;&lt;/textFieldExpression&gt;\n                        &lt;/textField&gt;\n                        &lt;textField&gt;\n                            &lt;reportElement x=&quot;465&quot; y=&quot;0&quot; width=&quot;90&quot; height=&quot;40&quot; uuid=&quot;9ee1b015-6565-4b97-9829-d23d6a891005&quot;&gt;\n                                &lt;property name=&quot;com.jaspersoft.studio.unit.width&quot; value=&quot;px&quot;/&gt;\n                                &lt;property name=&quot;com.jaspersoft.studio.unit.height&quot; value=&quot;px&quot;/&gt;\n                            &lt;/reportElement&gt;\n                            &lt;box&gt;\n                                &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                            &lt;/box&gt;\n                            &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;/&gt;\n                            &lt;textFieldExpression&gt;&lt;![CDATA[$F{dateRegEnd}]]&gt;&lt;/textFieldExpression&gt;\n                        &lt;/textField&gt;\n                    &lt;/jr:listContents&gt;\n                &lt;/jr:list&gt;\n            &lt;/componentElement&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n    &lt;summary&gt;\n        &lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/summary&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n"},{"tags":["java","variables"],"answers":[{"tags":[],"owner":{"account_id":26335795,"reputation":948,"user_id":19995658,"display_name":"Sparkling Marcel "},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686034050,"creation_date":1686032635,"answer_id":76411931,"question_id":76411778,"body_markdown":"    package aviator;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class Main {\r\n        private static int ucakrenk;\r\n        public static void main(String[] args) {\r\n            \r\n            Random random = new Random();\r\n            ucak mainucak = new ucak(7, 8, 9);\r\n            \r\n            int uca = ucakrenk();\r\n            int kusa kusurat();\r\n            test(uca);\r\n            test(kusa)\r\n    \r\n            }\r\n        }\r\n    \r\n        private static void test(int ucakrenk) {\r\n            // TODO Auto-generated method stub\r\n            System.out.println(&quot;Siradaki ucak:&quot;);\r\n            System.out.println(&quot;+-renk: &quot; + ucakrenk);\r\n        }\r\n    \r\n        private static int kusurat() {\r\n            // TODO Auto-generated method stub\r\n            Random random = new Random();\r\n            int kusurat = random.nextInt(100);\r\n            return kusurat\r\n            \r\n        }\r\n    \r\n        public static int ucakrenk() {\r\n            // TODO Auto-generated method stub\r\n            Random random = new Random();\r\n            int ucakrenk = random.nextInt(100);\r\n            return ucakrenk\r\n            \r\n        }\r\n    }\r\n\r\n\r\n\r\nCode sample to &quot;solve&quot; your problem\r\n\r\nI encourage you to check online what is variable scope. When you create a variable in a function in java, it&#39;s scope is the function itself, hence if you don&#39;t return it it gets &quot;deleted&quot; (to make it simple) after the function ends\r\n\r\nWhat you need to do is &quot;return&quot; it (with the return keyword) and then assign it to a variable when you call the function \r\n\r\n( `int uca = ucakrenk();` for example)\r\n\r\nThen pass it as an argument to your next function to reuse it with \r\n\r\n     private static void test(int ucakrenk) { …","title":"How to access same variables in different methods?","body":"<pre><code>package aviator;\n\nimport java.util.Random;\n\npublic class Main {\n    private static int ucakrenk;\n    public static void main(String[] args) {\n        \n        Random random = new Random();\n        ucak mainucak = new ucak(7, 8, 9);\n        \n        int uca = ucakrenk();\n        int kusa kusurat();\n        test(uca);\n        test(kusa)\n\n        }\n    }\n\n    private static void test(int ucakrenk) {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;Siradaki ucak:&quot;);\n        System.out.println(&quot;+-renk: &quot; + ucakrenk);\n    }\n\n    private static int kusurat() {\n        // TODO Auto-generated method stub\n        Random random = new Random();\n        int kusurat = random.nextInt(100);\n        return kusurat\n        \n    }\n\n    public static int ucakrenk() {\n        // TODO Auto-generated method stub\n        Random random = new Random();\n        int ucakrenk = random.nextInt(100);\n        return ucakrenk\n        \n    }\n}\n</code></pre>\n<p>Code sample to &quot;solve&quot; your problem</p>\n<p>I encourage you to check online what is variable scope. When you create a variable in a function in java, it's scope is the function itself, hence if you don't return it it gets &quot;deleted&quot; (to make it simple) after the function ends</p>\n<p>What you need to do is &quot;return&quot; it (with the return keyword) and then assign it to a variable when you call the function</p>\n<p>( <code>int uca = ucakrenk();</code> for example)</p>\n<p>Then pass it as an argument to your next function to reuse it with</p>\n<pre><code> private static void test(int ucakrenk) { …\n</code></pre>\n"}],"owner":{"account_id":28762147,"reputation":3,"user_id":22027814,"display_name":"bogul du"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76411931,"answer_count":1,"score":0,"last_activity_date":1686034050,"creation_date":1686031002,"question_id":76411778,"body_markdown":"I&#39;m a beginner and I&#39;m facing the same issues on different projects.\r\nI want to print the variable I got from my method \r\nI mean, for example: randomNumber method will create random number and in other method I will print that randomNumber variable on print method.\r\nHere is my code please help me.\r\nI wasn&#39;t going to ask here but I&#39;m stuck at this and I can&#39;t understand some other things like constructors so I feel overwhelmed I though it would be nice to get some help.\r\n\r\n```\r\npackage aviator;\r\n\r\nimport java.util.Random;\r\n\r\npublic class Main {\r\n\tprivate static int ucakrenk;\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tRandom random = new Random();\r\n\t\tucak mainucak = new ucak(7, 8, 9);\r\n\t\t\r\n\t\tucakrenk();\r\n\t\tkusurat();\r\n\t\ttest();\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void test() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;Siradaki ucak:&quot;);\r\n\t\tSystem.out.println(&quot;+-renk: &quot; + ucakrenk);\r\n\t}\r\n\r\n\tprivate static void kusurat() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tRandom random = new Random();\r\n\t\tint kusurat = random.nextInt(100);\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void ucakrenk() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tRandom random = new Random();\r\n\t\tint ucakrenk = random.nextInt(100);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n","title":"How to access same variables in different methods?","body":"<p>I'm a beginner and I'm facing the same issues on different projects.\nI want to print the variable I got from my method\nI mean, for example: randomNumber method will create random number and in other method I will print that randomNumber variable on print method.\nHere is my code please help me.\nI wasn't going to ask here but I'm stuck at this and I can't understand some other things like constructors so I feel overwhelmed I though it would be nice to get some help.</p>\n<pre><code>package aviator;\n\nimport java.util.Random;\n\npublic class Main {\n    private static int ucakrenk;\n    public static void main(String[] args) {\n        \n        Random random = new Random();\n        ucak mainucak = new ucak(7, 8, 9);\n        \n        ucakrenk();\n        kusurat();\n        test();\n\n        }\n    }\n\n    private static void test() {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;Siradaki ucak:&quot;);\n        System.out.println(&quot;+-renk: &quot; + ucakrenk);\n    }\n\n    private static void kusurat() {\n        // TODO Auto-generated method stub\n        Random random = new Random();\n        int kusurat = random.nextInt(100);\n        \n    }\n\n    public static void ucakrenk() {\n        // TODO Auto-generated method stub\n        Random random = new Random();\n        int ucakrenk = random.nextInt(100);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","swt","composite"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686033548,"creation_date":1686033018,"answer_id":76411968,"question_id":76411392,"body_markdown":"Just create the control from a list.\r\n```\r\n// Just using a &#39;record&#39; here to represent the data to be display\r\n// Could also be a normal class\r\nrecord Module(String check, String path)\r\n{ }\r\n\r\n...\r\n\r\n   Composite body = .... // Parent composite from somewhere\r\n\r\n   body.setLayout(new GridLayout(3, false));\r\n\r\n   // An example list of modules\r\n   List&lt;Module&gt; modules = List.of(new Module(&quot;Port&quot;, &quot;Path 1&quot;), new Module(&quot;PWM&quot;, &quot;Path 2&quot;), new Module(&quot;CAN&quot;, &quot;Path 3&quot;));\r\n\r\n   modules.forEach(module -&gt; {\r\n      Button checkButton = new Button(body, SWT.CHECK);\r\n      checkButton.setText(module.check());\r\n\r\n      Text pathText = new Text(body, SWT.BORDER | SWT.READ_ONLY);\r\n      pathText.setText(module.path());\r\n      pathText.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\r\n\r\n      Button browseButton = new Button(body, SWT.PUSH);\r\n      browseButton.setText(&quot;Browse&quot;);\r\n      browseButton.addSelectionListener(SelectionListener.widgetSelectedAdapter(event -&gt; {\r\n        // Example action to take when Browse is pressed\r\n        System.out.println(&quot;Browse &quot; + module.path());\r\n      }));\r\n    });\r\n```\r\nIf you want to keep changing the list in the same dialog you can dispose the existing children and redo the Composite layout. The following method does that:\r\n```\r\n void showModules(final Composite body, final List&lt;Module&gt; modules)\r\n  {\r\n    // Dispose any existing children\r\n    Arrays.stream(body.getChildren()).forEach(Control::dispose);\r\n\r\n    modules.forEach(module -&gt; {\r\n      Button checkButton = new Button(body, SWT.CHECK);\r\n      checkButton.setText(module.check());\r\n\r\n      Text pathText = new Text(body, SWT.BORDER | SWT.READ_ONLY);\r\n      pathText.setText(module.path());\r\n      pathText.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\r\n\r\n      Button browseButton = new Button(body, SWT.PUSH);\r\n      browseButton.setText(&quot;Browse&quot;);\r\n      browseButton.addSelectionListener(SelectionListener.widgetSelectedAdapter(event -&gt; {\r\n        System.out.println(&quot;Browse &quot; + module.path());\r\n      }));\r\n    });\r\n\r\n    // Redo Composite layout\r\n    body.layout(true, true);\r\n  }\r\n\r\n```","title":"I want to display multiple modules in a project with a text box and browse button for selecting the input files","body":"<p>Just create the control from a list.</p>\n<pre><code>// Just using a 'record' here to represent the data to be display\n// Could also be a normal class\nrecord Module(String check, String path)\n{ }\n\n...\n\n   Composite body = .... // Parent composite from somewhere\n\n   body.setLayout(new GridLayout(3, false));\n\n   // An example list of modules\n   List&lt;Module&gt; modules = List.of(new Module(&quot;Port&quot;, &quot;Path 1&quot;), new Module(&quot;PWM&quot;, &quot;Path 2&quot;), new Module(&quot;CAN&quot;, &quot;Path 3&quot;));\n\n   modules.forEach(module -&gt; {\n      Button checkButton = new Button(body, SWT.CHECK);\n      checkButton.setText(module.check());\n\n      Text pathText = new Text(body, SWT.BORDER | SWT.READ_ONLY);\n      pathText.setText(module.path());\n      pathText.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\n\n      Button browseButton = new Button(body, SWT.PUSH);\n      browseButton.setText(&quot;Browse&quot;);\n      browseButton.addSelectionListener(SelectionListener.widgetSelectedAdapter(event -&gt; {\n        // Example action to take when Browse is pressed\n        System.out.println(&quot;Browse &quot; + module.path());\n      }));\n    });\n</code></pre>\n<p>If you want to keep changing the list in the same dialog you can dispose the existing children and redo the Composite layout. The following method does that:</p>\n<pre><code> void showModules(final Composite body, final List&lt;Module&gt; modules)\n  {\n    // Dispose any existing children\n    Arrays.stream(body.getChildren()).forEach(Control::dispose);\n\n    modules.forEach(module -&gt; {\n      Button checkButton = new Button(body, SWT.CHECK);\n      checkButton.setText(module.check());\n\n      Text pathText = new Text(body, SWT.BORDER | SWT.READ_ONLY);\n      pathText.setText(module.path());\n      pathText.setLayoutData(new GridData(SWT.FILL, SWT.CENTER, true, false));\n\n      Button browseButton = new Button(body, SWT.PUSH);\n      browseButton.setText(&quot;Browse&quot;);\n      browseButton.addSelectionListener(SelectionListener.widgetSelectedAdapter(event -&gt; {\n        System.out.println(&quot;Browse &quot; + module.path());\n      }));\n    });\n\n    // Redo Composite layout\n    body.layout(true, true);\n  }\n\n</code></pre>\n"}],"owner":{"account_id":28682989,"reputation":7,"user_id":21963792,"display_name":"vmaya003"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686033548,"creation_date":1686024375,"question_id":76411392,"body_markdown":"[![Reference image ](https://i.stack.imgur.com/WoAEd.png)](https://i.stack.imgur.com/WoAEd.png)\r\n\r\ni am thinking how is it possible to generate dynamically the modules along with text and button\r\nIn the image there are three modules but there might be even five or six modules. Please help to populate number of modules along with the text and browse button next to them","title":"I want to display multiple modules in a project with a text box and browse button for selecting the input files","body":"<p><a href=\"https://i.stack.imgur.com/WoAEd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WoAEd.png\" alt=\"Reference image \" /></a></p>\n<p>i am thinking how is it possible to generate dynamically the modules along with text and button\nIn the image there are three modules but there might be even five or six modules. Please help to populate number of modules along with the text and browse button next to them</p>\n"},{"tags":["java","jvm","bytecode","byte-buddy","codegen"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1685953850,"post_id":76393928,"comment_id":134727458,"body_markdown":"That’s a strange detour, to end up calling an interface method on an implementation of that interface.","body":"That’s a strange detour, to end up calling an interface method on an implementation of that interface."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686033230,"creation_date":1686033230,"answer_id":76411990,"question_id":76393928,"body_markdown":"This is a problem you can better solve with reflection/method handles using a simple `Proxy`, I would assume as you do not need to subclass. You can of course use Byte Buddy, and you can use `MethodCall` and supply additional `MethodCall`s as arguments. In these method calls, you would invoke the corresponding getter on the argument value.","title":"Invoke a method based on argument with byte buddy","body":"<p>This is a problem you can better solve with reflection/method handles using a simple <code>Proxy</code>, I would assume as you do not need to subclass. You can of course use Byte Buddy, and you can use <code>MethodCall</code> and supply additional <code>MethodCall</code>s as arguments. In these method calls, you would invoke the corresponding getter on the argument value.</p>\n"}],"owner":{"account_id":7665655,"reputation":31,"user_id":5809448,"display_name":"JeffreyH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686033230,"creation_date":1685747391,"question_id":76393928,"body_markdown":"I have the following interface \r\n\r\n    public interface DatabaseClient {\r\n        void save(Entity entity, Consumer&lt;Long&gt; callback);\r\n        void load(long id, Consumer&lt;Entity&gt; callback);\r\n    }\r\n\r\nand an implementation of this interface called `DatabaseClientImpl`.\r\n\r\nI used byte buddy to subclass the interface `DatabaseClient`. The generated class will delegate each method to a class which creates an `Invocation` record.\r\n\r\n    public record Invocation(Method method, Object[] parameters) {}\r\n\r\n`Invocation` objects will later be passed to an abstract class `ProxyHandler` which implements `java.util.function.Consumer&lt;Invocation&gt;`. What I&#39;m now trying to achieve is to subclass ProxyHandler and call the method stored in `Invocation` with the parameters on an instance of`DatabaseClientImpl`.\r\n\r\nThis is what I&#39;ve done so far..\r\n\r\n    public &lt;T&gt; void register(Class&lt;T&gt; intf, T service) throws ReflectiveOperationException {\r\n        ProxyHandler proxyHandler = new ByteBuddy()\r\n            .subclass(ProxyHandler.class)\r\n            .method(isAbstract())\r\n\r\n            // todo intercept and dynamically call method\r\n            //.intercept(MethodCall.invoke(loadMethod)\r\n            //    .on(service)\r\n            //    .with(1L, callback))\r\n\r\n            .make()\r\n            .load(ProxyHandler.class.getClassLoader())\r\n            .getLoaded()\r\n            .newInstance();\r\n\r\n        proxyHandler.accept(new Invocation(...));\r\n    }\r\n\r\n    public static abstract class ProxyHandler implements Consumer&lt;Invocation&gt; {\r\n    }\r\n\r\nGenerally, the approach using MethodCall works but I only added it for testing. Since there are other interfaces than `DatabaseClient` this rather static approach isn&#39;t going to work.\r\n\r\nSo, is there any way to delegate calls to DatabaseClientImpl based on the properties of Invocation?","title":"Invoke a method based on argument with byte buddy","body":"<p>I have the following interface</p>\n<pre><code>public interface DatabaseClient {\n    void save(Entity entity, Consumer&lt;Long&gt; callback);\n    void load(long id, Consumer&lt;Entity&gt; callback);\n}\n</code></pre>\n<p>and an implementation of this interface called <code>DatabaseClientImpl</code>.</p>\n<p>I used byte buddy to subclass the interface <code>DatabaseClient</code>. The generated class will delegate each method to a class which creates an <code>Invocation</code> record.</p>\n<pre><code>public record Invocation(Method method, Object[] parameters) {}\n</code></pre>\n<p><code>Invocation</code> objects will later be passed to an abstract class <code>ProxyHandler</code> which implements <code>java.util.function.Consumer&lt;Invocation&gt;</code>. What I'm now trying to achieve is to subclass ProxyHandler and call the method stored in <code>Invocation</code> with the parameters on an instance of<code>DatabaseClientImpl</code>.</p>\n<p>This is what I've done so far..</p>\n<pre><code>public &lt;T&gt; void register(Class&lt;T&gt; intf, T service) throws ReflectiveOperationException {\n    ProxyHandler proxyHandler = new ByteBuddy()\n        .subclass(ProxyHandler.class)\n        .method(isAbstract())\n\n        // todo intercept and dynamically call method\n        //.intercept(MethodCall.invoke(loadMethod)\n        //    .on(service)\n        //    .with(1L, callback))\n\n        .make()\n        .load(ProxyHandler.class.getClassLoader())\n        .getLoaded()\n        .newInstance();\n\n    proxyHandler.accept(new Invocation(...));\n}\n\npublic static abstract class ProxyHandler implements Consumer&lt;Invocation&gt; {\n}\n</code></pre>\n<p>Generally, the approach using MethodCall works but I only added it for testing. Since there are other interfaces than <code>DatabaseClient</code> this rather static approach isn't going to work.</p>\n<p>So, is there any way to delegate calls to DatabaseClientImpl based on the properties of Invocation?</p>\n"},{"tags":["java","rad"],"answers":[{"tags":[],"owner":{"account_id":334630,"reputation":5349,"user_id":661196,"accept_rate":79,"display_name":"Cygnusx1"},"down_vote_count":1,"up_vote_count":45,"is_accepted":true,"score":44,"last_activity_date":1317750017,"creation_date":1317750017,"answer_id":7651869,"question_id":7651768,"body_markdown":"My guess is you miss the JRE Runtime Library in your project.  But this would cause all the java.* classes to generate this message!  Can you post your code so we can see what might be the problem?\r\n\r\ntry doing :\r\n\r\nright-click on your project. \r\n-&gt;properites\r\n-&gt;java Build Path\r\n-&gt;tab Librairies\r\n\r\ncheck if the JRE System Library is there.","title":"String cannot be resolved to a type - Java RAD","body":"<p>My guess is you miss the JRE Runtime Library in your project.  But this would cause all the java.* classes to generate this message!  Can you post your code so we can see what might be the problem?</p>\n\n<p>try doing :</p>\n\n<p>right-click on your project. \n->properites\n->java Build Path\n->tab Librairies</p>\n\n<p>check if the JRE System Library is there.</p>\n"},{"tags":[],"owner":{"account_id":6726987,"reputation":101,"user_id":5184607,"display_name":"Hammad Ali Zaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1469185441,"creation_date":1469185441,"answer_id":38524851,"question_id":7651768,"body_markdown":"i am a beginner. i am using Eclipse and got stuck at the Hello World code. Got same error description and also error stating **can&#39;t resolve &#39;system&#39;**.\r\n\r\nAfter staying frustrated for few hours, as I checked JRE library path and stuff,  I just Capitalized &#39;S&#39; of &#39;**string**&#39; and &#39;**system**&#39;.. and bang.. problem solved. I hope this helps.","title":"String cannot be resolved to a type - Java RAD","body":"<p>i am a beginner. i am using Eclipse and got stuck at the Hello World code. Got same error description and also error stating <strong>can't resolve 'system'</strong>.</p>\n\n<p>After staying frustrated for few hours, as I checked JRE library path and stuff,  I just Capitalized 'S' of '<strong>string</strong>' and '<strong>system</strong>'.. and bang.. problem solved. I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":7577510,"reputation":31,"user_id":5749382,"display_name":"TheEliteAlien"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1495907557,"creation_date":1495907557,"answer_id":44219996,"question_id":7651768,"body_markdown":"You need to capitalize the &quot;s&quot; in the string.","title":"String cannot be resolved to a type - Java RAD","body":"<p>You need to capitalize the \"s\" in the string.</p>\n"},{"tags":[],"owner":{"account_id":5636816,"reputation":51,"user_id":9732128,"display_name":"Carlos A. Parra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525290125,"creation_date":1525290125,"answer_id":50142368,"question_id":7651768,"body_markdown":"I don&#39;t know if this helps anyone, but here I go.\r\nI had the same problem just now in Visual Studio Code (I am on Linux). On my **java.home**, I had the options in my directory of:\r\n\r\n - /usr/lib/jvm/*java-**8**-openjdk-amd64*\r\n -  /usr/lib/jvm/*java-**1.8.0**-openjkd-amd64* \r\n\r\nI had the first one as default, but when I switched to the second one, it all started working properly.\r\n\r\n","title":"String cannot be resolved to a type - Java RAD","body":"<p>I don't know if this helps anyone, but here I go.\nI had the same problem just now in Visual Studio Code (I am on Linux). On my <strong>java.home</strong>, I had the options in my directory of:</p>\n\n<ul>\n<li>/usr/lib/jvm/<em>java-<strong>8</strong>-openjdk-amd64</em></li>\n<li>/usr/lib/jvm/<em>java-<strong>1.8.0</strong>-openjkd-amd64</em> </li>\n</ul>\n\n<p>I had the first one as default, but when I switched to the second one, it all started working properly.</p>\n"},{"tags":[],"owner":{"account_id":11877206,"reputation":11,"user_id":8691936,"display_name":"Juan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533960170,"creation_date":1533871075,"answer_id":51778432,"question_id":7651768,"body_markdown":"Another way to solve this problem is in the following way. &lt;br&gt;\r\n\r\n&gt; Right click on the project--&gt;properties--&gt;Java build path--&gt;go to the\r\n&gt; library option\r\n\r\n and delete or remove the library that is in error, after this you select add library and download the library that you deleted and ready.","title":"String cannot be resolved to a type - Java RAD","body":"<p>Another way to solve this problem is in the following way. <br></p>\n\n<blockquote>\n  <p>Right click on the project-->properties-->Java build path-->go to the\n  library option</p>\n</blockquote>\n\n<p>and delete or remove the library that is in error, after this you select add library and download the library that you deleted and ready.</p>\n"},{"tags":[],"owner":{"account_id":18377936,"reputation":1,"user_id":13386598,"display_name":"RMSchreiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588207731,"creation_date":1588207731,"answer_id":61514114,"question_id":7651768,"body_markdown":"\terror- string cannot be resolved to a type\r\nHere in the declaring the method &quot;string&quot; in bold is lower case. \r\nChange string to upper case. \r\nExample:\r\n        public static **string** howManyPass(double grd1, double grd2) {\r\n}","title":"String cannot be resolved to a type - Java RAD","body":"<pre><code>error- string cannot be resolved to a type\n</code></pre>\n\n<p>Here in the declaring the method \"string\" in bold is lower case. \nChange string to upper case. \nExample:\n        public static <strong>string</strong> howManyPass(double grd1, double grd2) {\n}</p>\n"},{"tags":[],"owner":{"account_id":4354891,"reputation":93,"user_id":3553873,"accept_rate":92,"display_name":"Gajen Dissanayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681561781,"creation_date":1681561781,"answer_id":76022283,"question_id":7651768,"body_markdown":"For Spring Boot users, please check your pom.xml file as what are the dependencies you&#39;ve added in latest. For me the problem was gone once I removed some dependencies.","title":"String cannot be resolved to a type - Java RAD","body":"<p>For Spring Boot users, please check your pom.xml file as what are the dependencies you've added in latest. For me the problem was gone once I removed some dependencies.</p>\n"}],"owner":{"account_id":432898,"reputation":581,"user_id":817934,"accept_rate":66,"display_name":"tmaurst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115000,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":7651869,"answer_count":7,"score":15,"last_activity_date":1686032844,"creation_date":1317749370,"question_id":7651768,"body_markdown":"I&#39;ve recently started developing in Java (coming from .Net). The IDE I am using is RAD 7.3.\r\n\r\nAfter importing a project, which I need to do some enhancements on, I am receiving this error:\r\n\r\n&quot;String cannot be resolved to a type&quot;\r\n\r\nThis applies to all variables of the String data type, as well as any methods that take string arguements. I&#39;m very inexperienced with Java so I&#39;m not sure how to go about fixing this. My guess is that it has something to do with the way RAD was installed, and that required libraries are missing. Again, not sure how to address that.\r\n\r\nAny help or guidance would be much appreciated! Thank you","title":"String cannot be resolved to a type - Java RAD","body":"<p>I've recently started developing in Java (coming from .Net). The IDE I am using is RAD 7.3.</p>\n\n<p>After importing a project, which I need to do some enhancements on, I am receiving this error:</p>\n\n<p>\"String cannot be resolved to a type\"</p>\n\n<p>This applies to all variables of the String data type, as well as any methods that take string arguements. I'm very inexperienced with Java so I'm not sure how to go about fixing this. My guess is that it has something to do with the way RAD was installed, and that required libraries are missing. Again, not sure how to address that.</p>\n\n<p>Any help or guidance would be much appreciated! Thank you</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685735580,"creation_date":1685731572,"answer_id":76392765,"question_id":76392599,"body_markdown":"`@StepScope` annotation is wrong for your use case. It causes that the beans are being instantiated before every step execution and your local variable lose the content.\r\n\r\nUse `@JobScope` for item reader instead. Remove the annotation from the other two beans as the default instantiation as singleton will be enough.\r\n\r\nPlease note: to enable job scope add @EnableBatchProcessing to one of the configuration classes.","title":"Custom spring batch flow with custom processing and multiple input/output data types at reader, processor and writer","body":"<p><code>@StepScope</code> annotation is wrong for your use case. It causes that the beans are being instantiated before every step execution and your local variable lose the content.</p>\n<p>Use <code>@JobScope</code> for item reader instead. Remove the annotation from the other two beans as the default instantiation as singleton will be enough.</p>\n<p>Please note: to enable job scope add @EnableBatchProcessing to one of the configuration classes.</p>\n"},{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686032824,"creation_date":1686032824,"answer_id":76411953,"question_id":76392599,"body_markdown":"&gt; I see that the chunks have data appended everytime. So, the same data is getting inserted multiple times. \r\n\r\nThat is not correct. Chunks are cleared and garbage-collected after every transaction. Every new transaction should have a new chunk of data from the reader.\r\n\r\n&gt; How can I write the newly added chunk to database instead of adding everything again and again? Is my other configs are correct?\r\n\r\nThere is nothing to do more than what you shared. Spring Batch will do that with a chunk-oriented step.\r\n\r\n","title":"Custom spring batch flow with custom processing and multiple input/output data types at reader, processor and writer","body":"<blockquote>\n<p>I see that the chunks have data appended everytime. So, the same data is getting inserted multiple times.</p>\n</blockquote>\n<p>That is not correct. Chunks are cleared and garbage-collected after every transaction. Every new transaction should have a new chunk of data from the reader.</p>\n<blockquote>\n<p>How can I write the newly added chunk to database instead of adding everything again and again? Is my other configs are correct?</p>\n</blockquote>\n<p>There is nothing to do more than what you shared. Spring Batch will do that with a chunk-oriented step.</p>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686032824,"creation_date":1685729878,"question_id":76392599,"body_markdown":"I have a custom reader definition something like below:\r\n```\r\n@Component\r\n@StepScope\r\npublic class CustomItemReader implements ItemReader&lt;String&gt; {\r\n\r\n  @Autowired\r\n  BookingInfoRepository bookingInfoRepository;\r\n\r\n  private List&lt;String&gt; bookingIds;\r\n\r\n\r\n  @Override\r\n  public String read() {\r\n    if(Objects.isNull(bookingIds)){\r\n      bookingIds = bookingInfoRepository.findDistinctId();\r\n    }\r\n    if (! bookingIds.isEmpty()) {\r\n      return bookingIds.remove(0);\r\n    }\r\n    return null;\r\n  }\r\n}\r\n```\r\n\r\nSo, I set the variable `bookingIds` with the ids returned from database.\r\n\r\nAnd then, I have some custom processor that will talk to database and return objects:\r\n\r\n```\r\n@Component\r\n@StepScope\r\n@Slf4j\r\npublic class CorrectionProcessor implements ItemProcessor&lt;String, List&lt;BookingInfo&gt;&gt; {\r\n\r\n\r\n  @Autowired\r\n  BookingInfoRepository bookingInfoRepository;\r\n\r\n  @Override\r\n  public List&lt;BookingInfo&gt; process(String bookingId) {\r\n     \r\n     List&lt;BookingInfo&gt; bookingInfoList = bookingInfoRepository.findById(bookingId);\r\n\r\n     //do some processing, modify the objects in the list.\r\n\r\n     return bookingInfoList;\r\n\r\n  }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nAnd then, I have a custom writer as shown below:\r\n```\r\n@Component\r\n@StepScope\r\npublic class CustomItemWriter implements ItemWriter&lt;List&lt;BookingInfo&gt;&gt; {\r\n\r\n\r\n  @Autowired\r\n  BookingInfoRepository bookingInfoRepository;\r\n\r\n  @Override\r\n  public void write(Chunk&lt;? extends List&lt;BookingInfo&gt;&gt; chunk) throws Exception {\r\n    for(List&lt;BookingInfo&gt; bookingInfo: chunk){\r\n      bookingInfoRepository(bookingInfo);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHere is my usecase -&gt;\r\n1) `Reader` expects to operate out of the master data which is a list of bookingIds.\r\n2) Reader passes this individual `bookingId` to `processor` and **Processor** forms a list of custom objects to be returned to the writer. Note that the processor forms a `list` of objects and NOT a single object.\r\n3) Writer need to take all the values in the list and save them to database.\r\n4) Process continues until all `bookingIds` are processed. \r\n\r\nI know that this may not be an ideal way of utilizing spring batch. `Reader` to `Processor` steps may look strange, but I need to stick with this implementation. I feel I&#39;m doing something wrong in one or multiple steps mentioned above. I see that the `chunks` have data appended everytime. So, the same data is getting inserted multiple times. How can I write the newly added chunk to database instead of adding everything again and again? Is my other configs are correct? \r\n\r\n","title":"Custom spring batch flow with custom processing and multiple input/output data types at reader, processor and writer","body":"<p>I have a custom reader definition something like below:</p>\n<pre><code>@Component\n@StepScope\npublic class CustomItemReader implements ItemReader&lt;String&gt; {\n\n  @Autowired\n  BookingInfoRepository bookingInfoRepository;\n\n  private List&lt;String&gt; bookingIds;\n\n\n  @Override\n  public String read() {\n    if(Objects.isNull(bookingIds)){\n      bookingIds = bookingInfoRepository.findDistinctId();\n    }\n    if (! bookingIds.isEmpty()) {\n      return bookingIds.remove(0);\n    }\n    return null;\n  }\n}\n</code></pre>\n<p>So, I set the variable <code>bookingIds</code> with the ids returned from database.</p>\n<p>And then, I have some custom processor that will talk to database and return objects:</p>\n<pre><code>@Component\n@StepScope\n@Slf4j\npublic class CorrectionProcessor implements ItemProcessor&lt;String, List&lt;BookingInfo&gt;&gt; {\n\n\n  @Autowired\n  BookingInfoRepository bookingInfoRepository;\n\n  @Override\n  public List&lt;BookingInfo&gt; process(String bookingId) {\n     \n     List&lt;BookingInfo&gt; bookingInfoList = bookingInfoRepository.findById(bookingId);\n\n     //do some processing, modify the objects in the list.\n\n     return bookingInfoList;\n\n  }\n\n\n}\n</code></pre>\n<p>And then, I have a custom writer as shown below:</p>\n<pre><code>@Component\n@StepScope\npublic class CustomItemWriter implements ItemWriter&lt;List&lt;BookingInfo&gt;&gt; {\n\n\n  @Autowired\n  BookingInfoRepository bookingInfoRepository;\n\n  @Override\n  public void write(Chunk&lt;? extends List&lt;BookingInfo&gt;&gt; chunk) throws Exception {\n    for(List&lt;BookingInfo&gt; bookingInfo: chunk){\n      bookingInfoRepository(bookingInfo);\n    }\n  }\n}\n</code></pre>\n<p>Here is my usecase -&gt;</p>\n<ol>\n<li><code>Reader</code> expects to operate out of the master data which is a list of bookingIds.</li>\n<li>Reader passes this individual <code>bookingId</code> to <code>processor</code> and <strong>Processor</strong> forms a list of custom objects to be returned to the writer. Note that the processor forms a <code>list</code> of objects and NOT a single object.</li>\n<li>Writer need to take all the values in the list and save them to database.</li>\n<li>Process continues until all <code>bookingIds</code> are processed.</li>\n</ol>\n<p>I know that this may not be an ideal way of utilizing spring batch. <code>Reader</code> to <code>Processor</code> steps may look strange, but I need to stick with this implementation. I feel I'm doing something wrong in one or multiple steps mentioned above. I see that the <code>chunks</code> have data appended everytime. So, the same data is getting inserted multiple times. How can I write the newly added chunk to database instead of adding everything again and again? Is my other configs are correct?</p>\n"},{"tags":["java","android-studio","sdk","version","android-bluetooth"],"owner":{"account_id":28204694,"reputation":1,"user_id":21557972,"display_name":"KSS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686032169,"creation_date":1686032169,"question_id":76411885,"body_markdown":"I developed one app minSDKversion = 21 and maxSDKversion = 33\r\nbluetooth is enabled as per my java code upto android version 10 while am running my code in android version 12 and above its not working. My app suddendly crashing, give me the solution How to solve\r\n\r\nI was updated the dependencies and also updated the Androidmanifest.xml file but still facing same issue ","title":"Bluetooth connecting request problem in higher versions of android","body":"<p>I developed one app minSDKversion = 21 and maxSDKversion = 33\nbluetooth is enabled as per my java code upto android version 10 while am running my code in android version 12 and above its not working. My app suddendly crashing, give me the solution How to solve</p>\n<p>I was updated the dependencies and also updated the Androidmanifest.xml file but still facing same issue</p>\n"},{"tags":["java","android","api","android-room"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1686032504,"post_id":76411851,"comment_id":134739622,"body_markdown":"MVVM is a UI pattern.  It is not required to talk to a remote database or web api.  The actual question part of your post isn&#39;t really clear.  You want to use a POST to add data to the database?  That&#39;s fairly standard.  And then a GET to fetch the data?  Also standard, although a naive return everything at once API may not scale.","body":"MVVM is a UI pattern.  It is not required to talk to a remote database or web api.  The actual question part of your post isn&#39;t really clear.  You want to use a POST to add data to the database?  That&#39;s fairly standard.  And then a GET to fetch the data?  Also standard, although a naive return everything at once API may not scale."}],"owner":{"account_id":26394012,"reputation":31,"user_id":20045441,"display_name":"wuad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686031833,"creation_date":1686031833,"question_id":76411851,"body_markdown":"I am very new to the backend and I need your help since I do not understand how a database communicates with the api. I have developed a mobile app with java (I use the android studio IDE) and I was using the ORM room to store the data until I realized that this orm only works locally (bad luck for me). In order for users to be able to remotely access the data, I must use an mvvm architecture consuming apis to fill the db. The issue is that I want to create my own api to which to make http queries but I don&#39;t know how to fill in the api, since the fields that I want to add depend on the mobile app, let me explain: the idea is that the api has logging fields (among others) such as : id, username, email, etc, information that must be sent to the api using the http Post method. My question is, is it a bad practice to Post after the user clicks on a button and send that information to the api and then do a get to see all the users, or should I have a database filled with information with users previously in the database and then pass them to the pi and after that read the data before doing the queries (?)\r\n","title":"how to make an api if i have a database without data","body":"<p>I am very new to the backend and I need your help since I do not understand how a database communicates with the api. I have developed a mobile app with java (I use the android studio IDE) and I was using the ORM room to store the data until I realized that this orm only works locally (bad luck for me). In order for users to be able to remotely access the data, I must use an mvvm architecture consuming apis to fill the db. The issue is that I want to create my own api to which to make http queries but I don't know how to fill in the api, since the fields that I want to add depend on the mobile app, let me explain: the idea is that the api has logging fields (among others) such as : id, username, email, etc, information that must be sent to the api using the http Post method. My question is, is it a bad practice to Post after the user clicks on a button and send that information to the api and then do a get to see all the users, or should I have a database filled with information with users previously in the database and then pass them to the pi and after that read the data before doing the queries (?)</p>\n"},{"tags":["java","android","android-spinner"],"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686031314,"creation_date":1686029351,"question_id":76411658,"body_markdown":"I have developed an application that displays ASCII art using a RecyclerView. Currently, the strings for the ASCII art are stored in the strings.xml file. However, I now realize the need to incorporate a spinner that can filter the strings based on a selected label. By default, the spinner should display all the strings without any filtering applied.\r\n\r\nAs a newcomer to Android development, I&#39;m uncertain about how to implement this functionality in my app. I have searched on Stack Overflow, but I couldn&#39;t find many relevant solutions specific to my problem.\r\n\r\nI would greatly appreciate any assistance or guidance from someone who can help me with this issue.\r\n\r\n\r\nHere is MainActivity\r\n\r\n \r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n           \r\n            initAsciiArts();\r\n            recyclerView = findViewById(R.id.recycler_view);\r\n            recyclerView.setNestedScrollingEnabled(false);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n            try {\r\n                MemeAdapter adapter = new MemeAdapter(asciiArts, this, recyclerView, this);\r\n                recyclerView.setHasFixedSize(true);\r\n                recyclerView.setAdapter(adapter);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                // Handle the exception here\r\n            }\r\n    }\r\n    \r\n     private void initAsciiArts() {\r\n            try {\r\n                asciiArts.addAll(Arrays.asList(\r\n                        getResources().getString(R.string.troll_face1),\r\n                        getResources().getString(R.string.troll_face3),\r\n                        getResources().getString(R.string.troll_face4),\r\n                        getResources().getString(R.string.troll_face_redeyes),\r\n                        getResources().getString(R.string.trollFace6),\r\n                        getResources().getString(R.string.trollFace7),\r\n                        getResources().getString(R.string.nyan_cat),\r\n                        getResources().getString(R.string.mrIncredible),\r\n                        getResources().getString(R.string.mrIncredible2),\r\n                        getResources().getString(R.string.wegogym),\r\n                        getResources().getString(R.string.Awkward_Look_Monkey_Puppet),\r\n                        getResources().getString(R.string.Ghostface),\r\n                        getResources().getString(R.string.ussrFlag),\r\n                        getResources().getString(R.string.apeMonkey),\r\n                        getResources().getString(R.string.cat),\r\n                        getResources().getString(R.string.cat2),\r\n                        getResources().getString(R.string.discordLogo),\r\n                        getResources().getString(R.string.onepunchMan),\r\n                        getResources().getString(R.string.XD),\r\n                        getResources().getString(R.string.putin),\r\n                        getResources().getString(R.string.Jigsaw),\r\n                        getResources().getString(R.string.icanseeyou),\r\n                        getResources().getString(R.string.GG)\r\n                ));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n\r\nhere is MemeAdapter\r\n\r\n    public MemeAdapter(List&lt;String&gt; memeList, Context mContext, RecyclerView recyclerView, MainActivity activity) {\r\n            this.memeList = memeList;\r\n            this.context = mContext;\r\n            this.recyclerView = recyclerView;\r\n            mSharedPrefs = context.getSharedPreferences(SHARED_PREFS_NAME, Context.MODE_PRIVATE);\r\n            rewardGranted = mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false);\r\n            this.binding = activity;\r\n            yourClass = new YourClass();  // Move the initialization here\r\n            adRequest = new AdRequest.Builder().build();  // Create AdRequest once\r\n            yourClass.intertitalAd(context);\r\n        }\r\n    \r\n    \r\n        @NonNull\r\n        @Override\r\n        public MemeViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.card_view_layout, parent, false);\r\n            return new MemeViewHolder(view);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull MemeViewHolder holder, int position) {\r\n            try {\r\n    \r\n                final String meme = memeList.get(position);\r\n    \r\n                holder.memeTextView.setText(meme);\r\n                if (position == 0) {\r\n                    holder.copyImageView.setVisibility(View.VISIBLE);\r\n                    holder.lockImageView.setVisibility(View.GONE);\r\n                } else if (mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false)) {\r\n                    holder.copyImageView.setVisibility(View.VISIBLE);\r\n                    holder.lockImageView.setVisibility(View.GONE);\r\n                } else {\r\n                    holder.copyImageView.setVisibility(View.GONE);\r\n                    holder.lockImageView.setVisibility(View.VISIBLE);\r\n                }\r\n    \r\n                holder.copyImageView.setOnClickListener(v -&gt; {\r\n                    try {\r\n                        clickCounter++;\r\n                        ClipboardManager clipboard = (ClipboardManager) context.getSystemService(Context.CLIPBOARD_SERVICE);\r\n                        String monospaceText = &quot;&lt;font face=&#39;monospace&#39;&gt;&quot; + meme + &quot;&lt;/font&gt;&quot;;\r\n                        ClipData clip = ClipData.newPlainText(&quot;meme&quot;, meme);\r\n                        if (clickCounter == 2) {\r\n                            if (mInterstitialAd != null) {\r\n                                mInterstitialAd.show(binding);\r\n                            }\r\n    \r\n                            clipboard.setPrimaryClip(clip);\r\n                            Toast.makeText(context, &quot;Copied&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                        } else {\r\n                            clipboard.setPrimaryClip(clip);\r\n                            Toast.makeText(context, &quot;Copied&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n    \r\n    \r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                });\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return memeList.size();\r\n        }\r\n\r\n\r\n\r\n","title":"How to Filter a List of Strings by their Labels","body":"<p>I have developed an application that displays ASCII art using a RecyclerView. Currently, the strings for the ASCII art are stored in the strings.xml file. However, I now realize the need to incorporate a spinner that can filter the strings based on a selected label. By default, the spinner should display all the strings without any filtering applied.</p>\n<p>As a newcomer to Android development, I'm uncertain about how to implement this functionality in my app. I have searched on Stack Overflow, but I couldn't find many relevant solutions specific to my problem.</p>\n<p>I would greatly appreciate any assistance or guidance from someone who can help me with this issue.</p>\n<p>Here is MainActivity</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n       \n        initAsciiArts();\n        recyclerView = findViewById(R.id.recycler_view);\n        recyclerView.setNestedScrollingEnabled(false);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        try {\n            MemeAdapter adapter = new MemeAdapter(asciiArts, this, recyclerView, this);\n            recyclerView.setHasFixedSize(true);\n            recyclerView.setAdapter(adapter);\n        } catch (Exception e) {\n            e.printStackTrace();\n            // Handle the exception here\n        }\n}\n\n private void initAsciiArts() {\n        try {\n            asciiArts.addAll(Arrays.asList(\n                    getResources().getString(R.string.troll_face1),\n                    getResources().getString(R.string.troll_face3),\n                    getResources().getString(R.string.troll_face4),\n                    getResources().getString(R.string.troll_face_redeyes),\n                    getResources().getString(R.string.trollFace6),\n                    getResources().getString(R.string.trollFace7),\n                    getResources().getString(R.string.nyan_cat),\n                    getResources().getString(R.string.mrIncredible),\n                    getResources().getString(R.string.mrIncredible2),\n                    getResources().getString(R.string.wegogym),\n                    getResources().getString(R.string.Awkward_Look_Monkey_Puppet),\n                    getResources().getString(R.string.Ghostface),\n                    getResources().getString(R.string.ussrFlag),\n                    getResources().getString(R.string.apeMonkey),\n                    getResources().getString(R.string.cat),\n                    getResources().getString(R.string.cat2),\n                    getResources().getString(R.string.discordLogo),\n                    getResources().getString(R.string.onepunchMan),\n                    getResources().getString(R.string.XD),\n                    getResources().getString(R.string.putin),\n                    getResources().getString(R.string.Jigsaw),\n                    getResources().getString(R.string.icanseeyou),\n                    getResources().getString(R.string.GG)\n            ));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>here is MemeAdapter</p>\n<pre><code>public MemeAdapter(List&lt;String&gt; memeList, Context mContext, RecyclerView recyclerView, MainActivity activity) {\n        this.memeList = memeList;\n        this.context = mContext;\n        this.recyclerView = recyclerView;\n        mSharedPrefs = context.getSharedPreferences(SHARED_PREFS_NAME, Context.MODE_PRIVATE);\n        rewardGranted = mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false);\n        this.binding = activity;\n        yourClass = new YourClass();  // Move the initialization here\n        adRequest = new AdRequest.Builder().build();  // Create AdRequest once\n        yourClass.intertitalAd(context);\n    }\n\n\n    @NonNull\n    @Override\n    public MemeViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.card_view_layout, parent, false);\n        return new MemeViewHolder(view);\n\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MemeViewHolder holder, int position) {\n        try {\n\n            final String meme = memeList.get(position);\n\n            holder.memeTextView.setText(meme);\n            if (position == 0) {\n                holder.copyImageView.setVisibility(View.VISIBLE);\n                holder.lockImageView.setVisibility(View.GONE);\n            } else if (mSharedPrefs.getBoolean(REWARD_GRANTED_KEY, false)) {\n                holder.copyImageView.setVisibility(View.VISIBLE);\n                holder.lockImageView.setVisibility(View.GONE);\n            } else {\n                holder.copyImageView.setVisibility(View.GONE);\n                holder.lockImageView.setVisibility(View.VISIBLE);\n            }\n\n            holder.copyImageView.setOnClickListener(v -&gt; {\n                try {\n                    clickCounter++;\n                    ClipboardManager clipboard = (ClipboardManager) context.getSystemService(Context.CLIPBOARD_SERVICE);\n                    String monospaceText = &quot;&lt;font face='monospace'&gt;&quot; + meme + &quot;&lt;/font&gt;&quot;;\n                    ClipData clip = ClipData.newPlainText(&quot;meme&quot;, meme);\n                    if (clickCounter == 2) {\n                        if (mInterstitialAd != null) {\n                            mInterstitialAd.show(binding);\n                        }\n\n                        clipboard.setPrimaryClip(clip);\n                        Toast.makeText(context, &quot;Copied&quot;, Toast.LENGTH_SHORT).show();\n\n                    } else {\n                        clipboard.setPrimaryClip(clip);\n                        Toast.makeText(context, &quot;Copied&quot;, Toast.LENGTH_SHORT).show();\n                    }\n\n\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            });\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return memeList.size();\n    }\n</code></pre>\n"},{"tags":["java","maven","maven-module","maven-multi-module"],"answers":[{"tags":[],"owner":{"account_id":23351413,"reputation":40,"user_id":17424919,"display_name":"great-jin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686031294,"creation_date":1686031294,"answer_id":76411801,"question_id":76411711,"body_markdown":"The parent of &quot;multimodule&quot; defind &quot;gson&quot; scope is provide, removed it should be work. Becase both of modules &quot;core&quot; and &quot;test&quot; was inherit from &quot;multimodule&quot;, that mean inside the &quot;test&quot; module gson scope also is provide, that why it thrown ClassNotFoud.\r\n\r\nIn your case, you should move gson denpendency in you &quot;core&quot; module and set scope to provide, and introduce &quot;gson&quot; within &quot;test&quot; and set scope to &quot;compile&quot;. Or you just removed the &quot;provide&quot; scope from &quot;multimodule&quot;.","title":"NoClassDefFoundError in Maven multi-module project","body":"<p>The parent of &quot;multimodule&quot; defind &quot;gson&quot; scope is provide, removed it should be work. Becase both of modules &quot;core&quot; and &quot;test&quot; was inherit from &quot;multimodule&quot;, that mean inside the &quot;test&quot; module gson scope also is provide, that why it thrown ClassNotFoud.</p>\n<p>In your case, you should move gson denpendency in you &quot;core&quot; module and set scope to provide, and introduce &quot;gson&quot; within &quot;test&quot; and set scope to &quot;compile&quot;. Or you just removed the &quot;provide&quot; scope from &quot;multimodule&quot;.</p>\n"}],"owner":{"account_id":4431651,"reputation":559,"user_id":3608678,"display_name":"HarleyDavidson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76411801,"answer_count":1,"score":0,"last_activity_date":1686031294,"creation_date":1686030200,"question_id":76411711,"body_markdown":"I have splitted an application to prevent code duplicates in various submodules.  \r\nSo all modules are using the submodule &quot;core&quot; which contain some DAOs and Util-Classes.\r\nWhen I now execute a module and it is calling the Util-Class of core, a NoClassDefFoundError is thrown.\r\n\r\nHere is a small example to reproduce the error:\r\n\r\nParent pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;multimodule&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;core&lt;/module&gt;\r\n        &lt;module&gt;submodule1&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nPom.xml of core submodule:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;multimodule&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\nUtil class of core module:\r\n```\r\npackage org.example;\r\n\r\nimport com.google.gson.Gson;\r\n\r\npublic class Util {\r\n    public static void test() {\r\n        Gson gson = new Gson();\r\n    }\r\n}\r\n```\r\n\r\nPom.xml of submodule1:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;multimodule&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;submodule1&lt;/artifactId&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nMain class of submodule1:\r\n```\r\npackage org.example;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Util.test();\r\n    }\r\n}\r\n```\r\n\r\nWhen I execute the main function, I am getting the following error:\r\n\r\n```\r\n/usr/lib/jvm/java-17-openjdk/bin/java -javaagent:/usr/share/idea/lib/idea_rt.jar=43299:/usr/share/idea/bin -Dfile.encoding=UTF-8 -classpath /tmp/multimodule/submodule1/target/classes:/tmp/multimodule/core/target/classes org.example.Main\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/gson/Gson\r\n\tat org.example.Util.test(Util.java:7)\r\n\tat org.example.Main.main(Main.java:5)\r\nCaused by: java.lang.ClassNotFoundException: com.google.gson.Gson\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 2 more\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nWhat is missing that submodule1 can call the static function in the core module successfully?","title":"NoClassDefFoundError in Maven multi-module project","body":"<p>I have splitted an application to prevent code duplicates in various submodules.<br />\nSo all modules are using the submodule &quot;core&quot; which contain some DAOs and Util-Classes.\nWhen I now execute a module and it is calling the Util-Class of core, a NoClassDefFoundError is thrown.</p>\n<p>Here is a small example to reproduce the error:</p>\n<p>Parent pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;multimodule&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;modules&gt;\n        &lt;module&gt;core&lt;/module&gt;\n        &lt;module&gt;submodule1&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.10.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Pom.xml of core submodule:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\n        &lt;artifactId&gt;multimodule&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Util class of core module:</p>\n<pre><code>package org.example;\n\nimport com.google.gson.Gson;\n\npublic class Util {\n    public static void test() {\n        Gson gson = new Gson();\n    }\n}\n</code></pre>\n<p>Pom.xml of submodule1:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\n        &lt;artifactId&gt;multimodule&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;submodule1&lt;/artifactId&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.example&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Main class of submodule1:</p>\n<pre><code>package org.example;\n\npublic class Main {\n    public static void main(String[] args) {\n        Util.test();\n    }\n}\n</code></pre>\n<p>When I execute the main function, I am getting the following error:</p>\n<pre><code>/usr/lib/jvm/java-17-openjdk/bin/java -javaagent:/usr/share/idea/lib/idea_rt.jar=43299:/usr/share/idea/bin -Dfile.encoding=UTF-8 -classpath /tmp/multimodule/submodule1/target/classes:/tmp/multimodule/core/target/classes org.example.Main\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/gson/Gson\n    at org.example.Util.test(Util.java:7)\n    at org.example.Main.main(Main.java:5)\nCaused by: java.lang.ClassNotFoundException: com.google.gson.Gson\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 2 more\n\nProcess finished with exit code 1\n</code></pre>\n<p>What is missing that submodule1 can call the static function in the core module successfully?</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686031168,"creation_date":1686006049,"answer_id":76410485,"question_id":76409073,"body_markdown":"Try to annotate `toApi` method in all subclass mappers with `@Named`, instead of `toMatchApiMissing` method, as shown below: \r\n\r\n```java\r\n@Mapper(uses = ApiMapper.class,\r\n        // Disable use of the builders which we mostly need for testing.\r\n        builder = @Builder(disableBuilder = true))\r\npublic interface CsgoDetailsApiMapper {\r\n\r\n    @Named(&quot;toApi&quot;)\r\n    @Mapping(target = &quot;title&quot;, source = &quot;match.title&quot;)\r\n    @Mapping(target = &quot;status&quot;, source = &quot;match.state&quot;)\r\n    @Mapping(target = &quot;teams&quot;, source = &quot;match.teams&quot;)\r\n    @Mapping(target = &quot;games&quot;, source = &quot;gameDetails&quot;)\r\n    @Mapping(target = &quot;id&quot;, source = &quot;match.id&quot;)\r\n    @Mapping(target = &quot;facts&quot;, source = &quot;matchDetails&quot;)\r\n    Match toApi(CsgoMatchDetails matchDetails);\r\n\r\n    @Mapping(target = &quot;title&quot;, source = &quot;match.title&quot;)\r\n    @Mapping(target = &quot;status&quot;, source = &quot;match.state&quot;)\r\n    @Mapping(target = &quot;teams&quot;, source = &quot;match.teams&quot;)\r\n    @Mapping(target = &quot;games&quot;, source = &quot;gameDetails&quot;, qualifiedByName = &quot;toGameApiMissing&quot;)\r\n    @Mapping(target = &quot;id&quot;, source = &quot;match.id&quot;)\r\n    @Mapping(target = &quot;facts&quot;, source = &quot;matchDetails&quot;)\r\n    Match toMatchApiMissing(CsgoMatchDetails matchDetails);\r\n}\r\n```\r\n\r\nThen rebuild the project and check the generated mapper implementation. It&#39;s a weird solution, but in my case, Mapstruct picked the right methods for mapping, i.e. those not annotated with `@Named`.\r\n\r\nEDIT:\r\n\r\nI&#39;ve found [the issue][1] related to the topic, and it appears that the upcoming `1.6.0` milestone release will enable the use of qualifiers within the `SubclassMapping` annotation.\r\n\r\nAfter the release, you will be able to define a subclass mapping as follows:\r\n```java\r\n@SubclassMapping(target = Match.class, source = CsgoMatchDetails.class, qualifiedByName = &quot;toMatchApiMissing&quot;)\r\n```\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct/issues/3119?fbclid=IwAR1OtM0--O5Xl8a3Up1NNUjNuFxHlPvlIR0M6zolfwBW5KxexGyme1cBQtQ","title":"How to use qualifiedByName with subclass mapping","body":"<p>Try to annotate <code>toApi</code> method in all subclass mappers with <code>@Named</code>, instead of <code>toMatchApiMissing</code> method, as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(uses = ApiMapper.class,\n        // Disable use of the builders which we mostly need for testing.\n        builder = @Builder(disableBuilder = true))\npublic interface CsgoDetailsApiMapper {\n\n    @Named(&quot;toApi&quot;)\n    @Mapping(target = &quot;title&quot;, source = &quot;match.title&quot;)\n    @Mapping(target = &quot;status&quot;, source = &quot;match.state&quot;)\n    @Mapping(target = &quot;teams&quot;, source = &quot;match.teams&quot;)\n    @Mapping(target = &quot;games&quot;, source = &quot;gameDetails&quot;)\n    @Mapping(target = &quot;id&quot;, source = &quot;match.id&quot;)\n    @Mapping(target = &quot;facts&quot;, source = &quot;matchDetails&quot;)\n    Match toApi(CsgoMatchDetails matchDetails);\n\n    @Mapping(target = &quot;title&quot;, source = &quot;match.title&quot;)\n    @Mapping(target = &quot;status&quot;, source = &quot;match.state&quot;)\n    @Mapping(target = &quot;teams&quot;, source = &quot;match.teams&quot;)\n    @Mapping(target = &quot;games&quot;, source = &quot;gameDetails&quot;, qualifiedByName = &quot;toGameApiMissing&quot;)\n    @Mapping(target = &quot;id&quot;, source = &quot;match.id&quot;)\n    @Mapping(target = &quot;facts&quot;, source = &quot;matchDetails&quot;)\n    Match toMatchApiMissing(CsgoMatchDetails matchDetails);\n}\n</code></pre>\n<p>Then rebuild the project and check the generated mapper implementation. It's a weird solution, but in my case, Mapstruct picked the right methods for mapping, i.e. those not annotated with <code>@Named</code>.</p>\n<p>EDIT:</p>\n<p>I've found <a href=\"https://github.com/mapstruct/mapstruct/issues/3119?fbclid=IwAR1OtM0--O5Xl8a3Up1NNUjNuFxHlPvlIR0M6zolfwBW5KxexGyme1cBQtQ\" rel=\"nofollow noreferrer\">the issue</a> related to the topic, and it appears that the upcoming <code>1.6.0</code> milestone release will enable the use of qualifiers within the <code>SubclassMapping</code> annotation.</p>\n<p>After the release, you will be able to define a subclass mapping as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SubclassMapping(target = Match.class, source = CsgoMatchDetails.class, qualifiedByName = &quot;toMatchApiMissing&quot;)\n</code></pre>\n"}],"owner":{"account_id":1867473,"reputation":3093,"user_id":1690657,"accept_rate":90,"display_name":"Alex P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76410485,"answer_count":1,"score":2,"last_activity_date":1686031168,"creation_date":1685989435,"question_id":76409073,"body_markdown":"I have the following mappers:\r\n\r\n```\r\n@Mapper(uses = ApiMapper.class,\r\n        // Disable use of the builders which we mostly need for testing.\r\n        builder = @Builder(disableBuilder = true))\r\npublic interface CsgoDetailsApiMapper {\r\n\r\n    @Mapping(target = &quot;title&quot;, source = &quot;match.title&quot;)\r\n    @Mapping(target = &quot;status&quot;, source = &quot;match.state&quot;)\r\n    @Mapping(target = &quot;teams&quot;, source = &quot;match.teams&quot;)\r\n    @Mapping(target = &quot;games&quot;, source = &quot;gameDetails&quot;)\r\n    @Mapping(target = &quot;id&quot;, source = &quot;match.id&quot;)\r\n    @Mapping(target = &quot;facts&quot;, source = &quot;matchDetails&quot;)\r\n    Match toApi(CsgoMatchDetails matchDetails);\r\n\r\n    @Named(&quot;toMatchApiMissing&quot;)\r\n    @Mapping(target = &quot;title&quot;, source = &quot;match.title&quot;)\r\n    @Mapping(target = &quot;status&quot;, source = &quot;match.state&quot;)\r\n    @Mapping(target = &quot;teams&quot;, source = &quot;match.teams&quot;)\r\n    @Mapping(target = &quot;games&quot;, source = &quot;gameDetails&quot;, qualifiedByName = &quot;toGameApiMissing&quot;)\r\n    @Mapping(target = &quot;id&quot;, source = &quot;match.id&quot;)\r\n    @Mapping(target = &quot;facts&quot;, source = &quot;matchDetails&quot;)\r\n    Match toMatchApiMissing(CsgoMatchDetails matchDetails);\r\n\r\n    ...\r\n}\r\n```\r\nSimilar to this I have two more mappers looking exactly the same. `LolDetailsApiMapper` and `DotaDetailsApiMapper`\r\n\r\nthen I have a details mapper that should use the implementation of the specific mappers:\r\n```\r\n@Mapper(uses = {\r\n        LolDetailsApiMapper.class,\r\n        CsgoDetailsApiMapper.class,\r\n        DotaDetailsApiMapper.class\r\n})\r\npublic interface DetailsApiMapper {\r\n\r\n    @BeanMapping(unmappedTargetPolicy = IGNORE)\r\n    @SubclassMapping(target = Match.class, source = LolMatchDetails.class)\r\n    @SubclassMapping(target = Match.class, source = CsgoMatchDetails.class)\r\n    @SubclassMapping(target = Match.class, source = DotaMatchDetails.class)\r\n    Match toApi(MatchDetails matchDetails);\r\n\r\n    @BeanMapping(unmappedTargetPolicy = IGNORE)\r\n    @SubclassMapping(target = Match.class, source = LolMatchDetails.class)\r\n    @SubclassMapping(target = Match.class, source = CsgoMatchDetails.class)\r\n    @SubclassMapping(target = Match.class, source = DotaMatchDetails.class)\r\n    Match toMatchApiMissing(MatchDetails matchDetails);\r\n\r\n}\r\n```\r\nHow can I make the `DetailsApiMapper.toMatchApiMissing` use the `toMatchApiMissing` of the other mappers, instead of the `toApi`? I tried adding `@Named(&quot;toMatchApiMissing&quot;)` to the specific mappers and then tried to use `@BeanMapping(unmappedTargetPolicy = IGNORE, qualifiedByName=&quot;toMatchApiMissing&quot;)`, but this didn&#39;t work. Is this possible? Thanks in advance.","title":"How to use qualifiedByName with subclass mapping","body":"<p>I have the following mappers:</p>\n<pre><code>@Mapper(uses = ApiMapper.class,\n        // Disable use of the builders which we mostly need for testing.\n        builder = @Builder(disableBuilder = true))\npublic interface CsgoDetailsApiMapper {\n\n    @Mapping(target = &quot;title&quot;, source = &quot;match.title&quot;)\n    @Mapping(target = &quot;status&quot;, source = &quot;match.state&quot;)\n    @Mapping(target = &quot;teams&quot;, source = &quot;match.teams&quot;)\n    @Mapping(target = &quot;games&quot;, source = &quot;gameDetails&quot;)\n    @Mapping(target = &quot;id&quot;, source = &quot;match.id&quot;)\n    @Mapping(target = &quot;facts&quot;, source = &quot;matchDetails&quot;)\n    Match toApi(CsgoMatchDetails matchDetails);\n\n    @Named(&quot;toMatchApiMissing&quot;)\n    @Mapping(target = &quot;title&quot;, source = &quot;match.title&quot;)\n    @Mapping(target = &quot;status&quot;, source = &quot;match.state&quot;)\n    @Mapping(target = &quot;teams&quot;, source = &quot;match.teams&quot;)\n    @Mapping(target = &quot;games&quot;, source = &quot;gameDetails&quot;, qualifiedByName = &quot;toGameApiMissing&quot;)\n    @Mapping(target = &quot;id&quot;, source = &quot;match.id&quot;)\n    @Mapping(target = &quot;facts&quot;, source = &quot;matchDetails&quot;)\n    Match toMatchApiMissing(CsgoMatchDetails matchDetails);\n\n    ...\n}\n</code></pre>\n<p>Similar to this I have two more mappers looking exactly the same. <code>LolDetailsApiMapper</code> and <code>DotaDetailsApiMapper</code></p>\n<p>then I have a details mapper that should use the implementation of the specific mappers:</p>\n<pre><code>@Mapper(uses = {\n        LolDetailsApiMapper.class,\n        CsgoDetailsApiMapper.class,\n        DotaDetailsApiMapper.class\n})\npublic interface DetailsApiMapper {\n\n    @BeanMapping(unmappedTargetPolicy = IGNORE)\n    @SubclassMapping(target = Match.class, source = LolMatchDetails.class)\n    @SubclassMapping(target = Match.class, source = CsgoMatchDetails.class)\n    @SubclassMapping(target = Match.class, source = DotaMatchDetails.class)\n    Match toApi(MatchDetails matchDetails);\n\n    @BeanMapping(unmappedTargetPolicy = IGNORE)\n    @SubclassMapping(target = Match.class, source = LolMatchDetails.class)\n    @SubclassMapping(target = Match.class, source = CsgoMatchDetails.class)\n    @SubclassMapping(target = Match.class, source = DotaMatchDetails.class)\n    Match toMatchApiMissing(MatchDetails matchDetails);\n\n}\n</code></pre>\n<p>How can I make the <code>DetailsApiMapper.toMatchApiMissing</code> use the <code>toMatchApiMissing</code> of the other mappers, instead of the <code>toApi</code>? I tried adding <code>@Named(&quot;toMatchApiMissing&quot;)</code> to the specific mappers and then tried to use <code>@BeanMapping(unmappedTargetPolicy = IGNORE, qualifiedByName=&quot;toMatchApiMissing&quot;)</code>, but this didn't work. Is this possible? Thanks in advance.</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose"],"comments":[{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1686027833,"post_id":76411462,"comment_id":134739119,"body_markdown":"Kotlin code should be fully compatible with Java code, so I m pretty sure you can use Java in kotlin and vice versa. Just use either. However for android development, a [quick google search](https://www.xenonstack.com/blog/kotlin-android-comparison#:~:text=Kotlin%20Application%20Deployment%20is%20faster,be%20executed%20in%20the%20JVM.) says &quot;Kotlin is faster to compile, lightweight, and prevents applications from increasing size&quot;, which would be beneficial for smartphones considering it wouldnt have as much resources as a regular laptop or server etc","body":"Kotlin code should be fully compatible with Java code, so I m pretty sure you can use Java in kotlin and vice versa. Just use either. However for android development, a <a href=\"https://www.xenonstack.com/blog/kotlin-android-comparison#:~:text=Kotlin%20Application%20Deployment%20is%20faster,be%20executed%20in%20the%20JVM.\" rel=\"nofollow noreferrer\">quick google search</a> says &quot;Kotlin is faster to compile, lightweight, and prevents applications from increasing size&quot;, which would be beneficial for smartphones considering it wouldnt have as much resources as a regular laptop or server etc"},{"owner":{"account_id":25113732,"reputation":155,"user_id":18963042,"display_name":"Vishnu S Dharan"},"score":0,"creation_date":1686028145,"post_id":76411462,"comment_id":134739144,"body_markdown":"Kotlin can do more that Java can&#39;t. For example coroutine, and declarative UI design using compose, Gradle can be written in Kotlin. Kotlin is the future.","body":"Kotlin can do more that Java can&#39;t. For example coroutine, and declarative UI design using compose, Gradle can be written in Kotlin. Kotlin is the future."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":1,"creation_date":1686028446,"post_id":76411462,"comment_id":134739164,"body_markdown":"Kotlin doesn&#39;t exist as an Android development language because of it&#39;s technical merits but because Google needed a language to replace Java because they were not sure of how the copyright law suit between Sun Microsystems and Google would end. It may be a better language, but that was not why it was chosen. However, that doesn&#39;t change the fact that Kotlin is now the language of choice for Android development, so for Android you should use Kotlin. But if you want to learn a language that is more useful in general, then you should choose Java, as Kotlin is still only really used in Android.","body":"Kotlin doesn&#39;t exist as an Android development language because of it&#39;s technical merits but because Google needed a language to replace Java because they were not sure of how the copyright law suit between Sun Microsystems and Google would end. It may be a better language, but that was not why it was chosen. However, that doesn&#39;t change the fact that Kotlin is now the language of choice for Android development, so for Android you should use Kotlin. But if you want to learn a language that is more useful in general, then you should choose Java, as Kotlin is still only really used in Android."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1686028751,"post_id":76411462,"comment_id":134739181,"body_markdown":"And since you are just learning programming, it never hurt anyone to learn several programming languages. Having the ability to choose your tools instead of being forced to use the only one you know, is a really powerful skill. It even makes sense to learn PHP and JavaScript, just so that you know what mistakes to avoid.","body":"And since you are just learning programming, it never hurt anyone to learn several programming languages. Having the ability to choose your tools instead of being forced to use the only one you know, is a really powerful skill. It even makes sense to learn PHP and JavaScript, just so that you know what mistakes to avoid."}],"answers":[{"tags":[],"owner":{"account_id":14398905,"reputation":1364,"user_id":10401258,"display_name":"Muhammad Ahkam Ahmad"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1686030911,"creation_date":1686030911,"answer_id":76411772,"question_id":76411462,"body_markdown":"Although **Java** is very stable and have a vast community support, **Kotlin** is now the recommended language for modern **Android Development**. Not only **Kotlin** makes development more concise, pleasant, and idiomatic, it also offers some great toolkits like **Jetpack Compose**, **Coroutine** which is not available in Java.\r\n\r\nHere you can find more details and Beginners guidelines for **Android Development in Kotlin** \r\n\r\nhttps://developer.android.com/kotlin\r\n","title":"java vs kotlin android development","body":"<p>Although <strong>Java</strong> is very stable and have a vast community support, <strong>Kotlin</strong> is now the recommended language for modern <strong>Android Development</strong>. Not only <strong>Kotlin</strong> makes development more concise, pleasant, and idiomatic, it also offers some great toolkits like <strong>Jetpack Compose</strong>, <strong>Coroutine</strong> which is not available in Java.</p>\n<p>Here you can find more details and Beginners guidelines for <strong>Android Development in Kotlin</strong></p>\n<p><a href=\"https://developer.android.com/kotlin\" rel=\"nofollow noreferrer\">https://developer.android.com/kotlin</a></p>\n"}],"owner":{"account_id":28761682,"reputation":1,"user_id":22027438,"display_name":"NIKHIL KHATRI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1686033730,"answer_count":1,"score":-4,"last_activity_date":1686030911,"creation_date":1686025877,"question_id":76411462,"body_markdown":"plz someone tell me which language should i consider for **Android development,** **java or kotlin**.\r\nTill now i understand main point  about kotlin that it can handle *null safety* but java can&#39;t, but i am confused which language should i use for Android dev, i already completed my java and kotlin.\r\nplz someone help me and also suggest me sources where i can learn without wandering on internet and also share your opinion **if you have to start over, what you do first?**\r\n*sorry for grammar mistakes*\r\n\r\ni am expecting genuine answer about language which i use as a **android dev java or kotlin**. devs can help me in clear my vision on these languages.","title":"java vs kotlin android development","body":"<p>plz someone tell me which language should i consider for <strong>Android development,</strong> <strong>java or kotlin</strong>.\nTill now i understand main point  about kotlin that it can handle <em>null safety</em> but java can't, but i am confused which language should i use for Android dev, i already completed my java and kotlin.\nplz someone help me and also suggest me sources where i can learn without wandering on internet and also share your opinion <strong>if you have to start over, what you do first?</strong>\n<em>sorry for grammar mistakes</em></p>\n<p>i am expecting genuine answer about language which i use as a <strong>android dev java or kotlin</strong>. devs can help me in clear my vision on these languages.</p>\n"},{"tags":["java","swing","joptionpane","uimanager"],"answers":[{"tags":[],"owner":{"account_id":2233181,"reputation":3805,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1543742045,"creation_date":1543739817,"answer_id":53578714,"question_id":53577990,"body_markdown":"You can use this code for achieving what you&#39;re looking for:\r\n\r\n    JDialog.setDefaultLookAndFeelDecorated(true);\r\n    UIManager.put(&quot;OptionPane.minimumSize&quot;,new Dimension(350,200));\r\n    UIManager.put(&quot;OptionPane.background&quot;, Color.gray);\r\n    UIManager.put(&quot;Panel.background&quot;, Color.lightGray);\r\n    UIManager.put(&quot;OptionPane.errorDialog.titlePane.foreground&quot;, Color.lightGray);\r\n    UIManager.put(&quot;OptionPane.errorDialog.titlePane.background&quot;, Color.black);\r\n    UIManager.put(&quot;OptionPane.errorDialog.border.background&quot;, Color.white);\r\n    \r\n    JOptionPane.showMessageDialog(null, &quot;A basic JOptionPane message dialog&quot;, &quot;myBox&quot;,0);\r\n\r\n\r\n*You can also see all possible UIManager options. try to go over this list and choose what is best for you:*\r\n\r\n    UIDefaults uiDefaults = UIManager.getDefaults();\r\n    Enumeration&lt;Object&gt; keys = uiDefaults.keys();\r\n    List&lt;String&gt; allUIManagerConfigs=  new ArrayList&lt;&gt;();\r\n\r\n    for(;keys.hasMoreElements();){\r\n        Object key = keys.nextElement();\r\n        String value = String.valueOf(key);\r\n        allUIManagerConfigs.add(value);\r\n    }\r\n\r\n    Collections.sort(allUIManagerConfigs);\r\n\r\n    for(String keyName:allUIManagerConfigs){\r\n        System.out.println(keyName);\r\n    }\r\n\r\nThe output of this code is this:\r\n\r\n    AATextInfoPropertyKey\r\n    AuditoryCues.allAuditoryCues\r\n    AuditoryCues.cueList\r\n    AuditoryCues.defaultCueList\r\n    AuditoryCues.noAuditoryCues\r\n    Button.background\r\n    Button.border\r\n    Button.darkShadow\r\n    Button.defaultButtonFollowsFocus\r\n    Button.disabledText\r\n    Button.disabledToolBarBorderBackground\r\n    Button.focus\r\n    Button.focusInputMap\r\n    Button.font\r\n    Button.foreground\r\n    Button.gradient\r\n    Button.highlight\r\n    Button.light\r\n    Button.margin\r\n    Button.rollover\r\n    Button.rolloverIconType\r\n    Button.select\r\n    Button.shadow\r\n    Button.textIconGap\r\n    Button.textShiftOffset\r\n    Button.toolBarBorderBackground\r\n    ButtonUI\r\n    CheckBox.background\r\n    CheckBox.border\r\n    CheckBox.disabledText\r\n    CheckBox.focus\r\n    CheckBox.focusInputMap\r\n    CheckBox.font\r\n    CheckBox.foreground\r\n    CheckBox.gradient\r\n    CheckBox.icon\r\n    CheckBox.margin\r\n    CheckBox.rollover\r\n    CheckBox.textIconGap\r\n    CheckBox.textShiftOffset\r\n    CheckBox.totalInsets\r\n    CheckBoxMenuItem.acceleratorFont\r\n    CheckBoxMenuItem.acceleratorForeground\r\n    CheckBoxMenuItem.acceleratorSelectionForeground\r\n    CheckBoxMenuItem.arrowIcon\r\n    CheckBoxMenuItem.background\r\n    CheckBoxMenuItem.border\r\n    CheckBoxMenuItem.borderPainted\r\n    CheckBoxMenuItem.checkIcon\r\n    CheckBoxMenuItem.commandSound\r\n    CheckBoxMenuItem.disabledForeground\r\n    CheckBoxMenuItem.font\r\n    CheckBoxMenuItem.foreground\r\n    CheckBoxMenuItem.gradient\r\n    CheckBoxMenuItem.margin\r\n    CheckBoxMenuItem.selectionBackground\r\n    CheckBoxMenuItem.selectionForeground\r\n    CheckBoxMenuItemUI\r\n    CheckBoxUI\r\n    Checkbox.select\r\n    ColorChooser.background\r\n    ColorChooser.font\r\n    ColorChooser.foreground\r\n    ColorChooser.swatchesDefaultRecentColor\r\n    ColorChooser.swatchesRecentSwatchSize\r\n    ColorChooser.swatchesSwatchSize\r\n    ColorChooserUI\r\n    ComboBox.ancestorInputMap\r\n    ComboBox.background\r\n    ComboBox.buttonBackground\r\n    ComboBox.buttonDarkShadow\r\n    ComboBox.buttonHighlight\r\n    ComboBox.buttonShadow\r\n    ComboBox.disabledBackground\r\n    ComboBox.disabledForeground\r\n    ComboBox.font\r\n    ComboBox.foreground\r\n    ComboBox.isEnterSelectablePopup\r\n    ComboBox.noActionOnKeyNavigation\r\n    ComboBox.selectionBackground\r\n    ComboBox.selectionForeground\r\n    ComboBox.timeFactor\r\n    ComboBoxUI\r\n    Desktop.ancestorInputMap\r\n    Desktop.background\r\n    Desktop.minOnScreenInsets\r\n    DesktopIcon.background\r\n    DesktopIcon.border\r\n    DesktopIcon.font\r\n    DesktopIcon.foreground\r\n    DesktopIcon.width\r\n    DesktopIconUI\r\n    DesktopPaneUI\r\n    EditorPane.background\r\n    EditorPane.border\r\n    EditorPane.caretBlinkRate\r\n    EditorPane.caretForeground\r\n    EditorPane.focusInputMap\r\n    EditorPane.font\r\n    EditorPane.foreground\r\n    EditorPane.inactiveForeground\r\n    EditorPane.margin\r\n    EditorPane.selectionBackground\r\n    EditorPane.selectionForeground\r\n    EditorPaneUI\r\n    FileChooser.ancestorInputMap\r\n    FileChooser.detailsViewIcon\r\n    FileChooser.homeFolderIcon\r\n    FileChooser.listViewIcon\r\n    FileChooser.newFolderIcon\r\n    FileChooser.readOnly\r\n    FileChooser.upFolderIcon\r\n    FileChooser.useSystemExtensionHiding\r\n    FileChooser.usesSingleFilePane\r\n    FileChooserUI\r\n    FileView.computerIcon\r\n    FileView.directoryIcon\r\n    FileView.fileIcon\r\n    FileView.floppyDriveIcon\r\n    FileView.hardDriveIcon\r\n    FormattedTextField.background\r\n    FormattedTextField.border\r\n    FormattedTextField.caretBlinkRate\r\n    FormattedTextField.caretForeground\r\n    FormattedTextField.focusInputMap\r\n    FormattedTextField.font\r\n    FormattedTextField.foreground\r\n    FormattedTextField.inactiveBackground\r\n    FormattedTextField.inactiveForeground\r\n    FormattedTextField.margin\r\n    FormattedTextField.selectionBackground\r\n    FormattedTextField.selectionForeground\r\n    FormattedTextFieldUI\r\n    InternalFrame.activeTitleBackground\r\n    InternalFrame.activeTitleForeground\r\n    InternalFrame.activeTitleGradient\r\n    InternalFrame.border\r\n    InternalFrame.borderColor\r\n    InternalFrame.borderDarkShadow\r\n    InternalFrame.borderHighlight\r\n    InternalFrame.borderLight\r\n    InternalFrame.borderShadow\r\n    InternalFrame.closeIcon\r\n    InternalFrame.closeSound\r\n    InternalFrame.icon\r\n    InternalFrame.iconifyIcon\r\n    InternalFrame.inactiveTitleBackground\r\n    InternalFrame.inactiveTitleForeground\r\n    InternalFrame.maximizeIcon\r\n    InternalFrame.maximizeSound\r\n    InternalFrame.minimizeIcon\r\n    InternalFrame.minimizeSound\r\n    InternalFrame.optionDialogBorder\r\n    InternalFrame.paletteBorder\r\n    InternalFrame.paletteCloseIcon\r\n    InternalFrame.paletteTitleHeight\r\n    InternalFrame.restoreDownSound\r\n    InternalFrame.restoreUpSound\r\n    InternalFrame.titleFont\r\n    InternalFrameTitlePane.closeButtonOpacity\r\n    InternalFrameTitlePane.iconifyButtonOpacity\r\n    InternalFrameTitlePane.maximizeButtonOpacity\r\n    InternalFrameUI\r\n    Label.background\r\n    Label.disabledForeground\r\n    Label.disabledShadow\r\n    Label.font\r\n    Label.foreground\r\n    LabelUI\r\n    List.background\r\n    List.cellRenderer\r\n    List.dropCellBackground\r\n    List.dropLineColor\r\n    List.focusCellHighlightBorder\r\n    List.focusInputMap\r\n    List.focusInputMap.RightToLeft\r\n    List.font\r\n    List.foreground\r\n    List.noFocusBorder\r\n    List.selectionBackground\r\n    List.selectionForeground\r\n    List.timeFactor\r\n    ListUI\r\n    Menu.acceleratorFont\r\n    Menu.acceleratorForeground\r\n    Menu.acceleratorSelectionForeground\r\n    Menu.arrowIcon\r\n    Menu.background\r\n    Menu.border\r\n    Menu.borderPainted\r\n    Menu.cancelMode\r\n    Menu.checkIcon\r\n    Menu.crossMenuMnemonic\r\n    Menu.disabledForeground\r\n    Menu.font\r\n    Menu.foreground\r\n    Menu.margin\r\n    Menu.menuPopupOffsetX\r\n    Menu.menuPopupOffsetY\r\n    Menu.opaque\r\n    Menu.preserveTopLevelSelection\r\n    Menu.selectionBackground\r\n    Menu.selectionForeground\r\n    Menu.shortcutKeys\r\n    Menu.submenuPopupOffsetX\r\n    Menu.submenuPopupOffsetY\r\n    MenuBar.background\r\n    MenuBar.border\r\n    MenuBar.borderColor\r\n    MenuBar.font\r\n    MenuBar.foreground\r\n    MenuBar.gradient\r\n    MenuBar.highlight\r\n    MenuBar.shadow\r\n    MenuBar.windowBindings\r\n    MenuBarUI\r\n    MenuItem.acceleratorDelimiter\r\n    MenuItem.acceleratorFont\r\n    MenuItem.acceleratorForeground\r\n    MenuItem.acceleratorSelectionForeground\r\n    MenuItem.arrowIcon\r\n    MenuItem.background\r\n    MenuItem.border\r\n    MenuItem.borderPainted\r\n    MenuItem.checkIcon\r\n    MenuItem.commandSound\r\n    MenuItem.disabledForeground\r\n    MenuItem.font\r\n    MenuItem.foreground\r\n    MenuItem.margin\r\n    MenuItem.selectionBackground\r\n    MenuItem.selectionForeground\r\n    MenuItemUI\r\n    MenuUI\r\n    OptionPane.background\r\n    OptionPane.border\r\n    OptionPane.buttonAreaBorder\r\n    OptionPane.buttonClickThreshhold\r\n    OptionPane.errorDialog.border.background\r\n    OptionPane.errorDialog.titlePane.background\r\n    OptionPane.errorDialog.titlePane.foreground\r\n    OptionPane.errorDialog.titlePane.shadow\r\n    OptionPane.errorIcon\r\n    OptionPane.errorSound\r\n    OptionPane.font\r\n    OptionPane.foreground\r\n    OptionPane.informationIcon\r\n    OptionPane.informationSound\r\n    OptionPane.messageAreaBorder\r\n    OptionPane.messageForeground\r\n    OptionPane.minimumSize\r\n    OptionPane.questionDialog.border.background\r\n    OptionPane.questionDialog.titlePane.background\r\n    OptionPane.questionDialog.titlePane.foreground\r\n    OptionPane.questionDialog.titlePane.shadow\r\n    OptionPane.questionIcon\r\n    OptionPane.questionSound\r\n    OptionPane.warningDialog.border.background\r\n    OptionPane.warningDialog.titlePane.background\r\n    OptionPane.warningDialog.titlePane.foreground\r\n    OptionPane.warningDialog.titlePane.shadow\r\n    OptionPane.warningIcon\r\n    OptionPane.warningSound\r\n    OptionPane.windowBindings\r\n    OptionPaneUI\r\n    Panel.background\r\n    Panel.font\r\n    Panel.foreground\r\n    PanelUI\r\n    PasswordField.background\r\n    PasswordField.border\r\n    PasswordField.caretBlinkRate\r\n    PasswordField.caretForeground\r\n    PasswordField.echoChar\r\n    PasswordField.focusInputMap\r\n    PasswordField.font\r\n    PasswordField.foreground\r\n    PasswordField.inactiveBackground\r\n    PasswordField.inactiveForeground\r\n    PasswordField.margin\r\n    PasswordField.selectionBackground\r\n    PasswordField.selectionForeground\r\n    PasswordFieldUI\r\n    PopupMenu.background\r\n    PopupMenu.border\r\n    PopupMenu.consumeEventOnClose\r\n    PopupMenu.font\r\n    PopupMenu.foreground\r\n    PopupMenu.popupSound\r\n    PopupMenu.selectedWindowInputMapBindings\r\n    PopupMenu.selectedWindowInputMapBindings.RightToLeft\r\n    PopupMenuSeparatorUI\r\n    PopupMenuUI\r\n    ProgressBar.background\r\n    ProgressBar.border\r\n    ProgressBar.cellLength\r\n    ProgressBar.cellSpacing\r\n    ProgressBar.cycleTime\r\n    ProgressBar.font\r\n    ProgressBar.foreground\r\n    ProgressBar.horizontalSize\r\n    ProgressBar.repaintInterval\r\n    ProgressBar.selectionBackground\r\n    ProgressBar.selectionForeground\r\n    ProgressBar.verticalSize\r\n    ProgressBarUI\r\n    RadioButton.background\r\n    RadioButton.border\r\n    RadioButton.darkShadow\r\n    RadioButton.disabledText\r\n    RadioButton.focus\r\n    RadioButton.focusInputMap\r\n    RadioButton.font\r\n    RadioButton.foreground\r\n    RadioButton.gradient\r\n    RadioButton.highlight\r\n    RadioButton.icon\r\n    RadioButton.light\r\n    RadioButton.margin\r\n    RadioButton.rollover\r\n    RadioButton.select\r\n    RadioButton.shadow\r\n    RadioButton.textIconGap\r\n    RadioButton.textShiftOffset\r\n    RadioButton.totalInsets\r\n    RadioButtonMenuItem.acceleratorFont\r\n    RadioButtonMenuItem.acceleratorForeground\r\n    RadioButtonMenuItem.acceleratorSelectionForeground\r\n    RadioButtonMenuItem.arrowIcon\r\n    RadioButtonMenuItem.background\r\n    RadioButtonMenuItem.border\r\n    RadioButtonMenuItem.borderPainted\r\n    RadioButtonMenuItem.checkIcon\r\n    RadioButtonMenuItem.commandSound\r\n    RadioButtonMenuItem.disabledForeground\r\n    RadioButtonMenuItem.font\r\n    RadioButtonMenuItem.foreground\r\n    RadioButtonMenuItem.gradient\r\n    RadioButtonMenuItem.margin\r\n    RadioButtonMenuItem.selectionBackground\r\n    RadioButtonMenuItem.selectionForeground\r\n    RadioButtonMenuItemUI\r\n    RadioButtonUI\r\n    RootPane.ancestorInputMap\r\n    RootPane.colorChooserDialogBorder\r\n    RootPane.defaultButtonWindowKeyBindings\r\n    RootPane.errorDialogBorder\r\n    RootPane.fileChooserDialogBorder\r\n    RootPane.frameBorder\r\n    RootPane.informationDialogBorder\r\n    RootPane.plainDialogBorder\r\n    RootPane.questionDialogBorder\r\n    RootPane.warningDialogBorder\r\n    RootPaneUI\r\n    ScrollBar.allowsAbsolutePositioning\r\n    ScrollBar.ancestorInputMap\r\n    ScrollBar.ancestorInputMap.RightToLeft\r\n    ScrollBar.background\r\n    ScrollBar.darkShadow\r\n    ScrollBar.foreground\r\n    ScrollBar.gradient\r\n    ScrollBar.highlight\r\n    ScrollBar.maximumThumbSize\r\n    ScrollBar.minimumThumbSize\r\n    ScrollBar.shadow\r\n    ScrollBar.thumb\r\n    ScrollBar.thumbDarkShadow\r\n    ScrollBar.thumbHighlight\r\n    ScrollBar.thumbShadow\r\n    ScrollBar.track\r\n    ScrollBar.trackHighlight\r\n    ScrollBar.width\r\n    ScrollBarUI\r\n    ScrollPane.ancestorInputMap\r\n    ScrollPane.ancestorInputMap.RightToLeft\r\n    ScrollPane.background\r\n    ScrollPane.border\r\n    ScrollPane.font\r\n    ScrollPane.foreground\r\n    ScrollPaneUI\r\n    Separator.background\r\n    Separator.foreground\r\n    Separator.highlight\r\n    Separator.shadow\r\n    SeparatorUI\r\n    Slider.altTrackColor\r\n    Slider.background\r\n    Slider.focus\r\n    Slider.focusGradient\r\n    Slider.focusInputMap\r\n    Slider.focusInputMap.RightToLeft\r\n    Slider.focusInsets\r\n    Slider.font\r\n    Slider.foreground\r\n    Slider.gradient\r\n    Slider.highlight\r\n    Slider.horizontalSize\r\n    Slider.horizontalThumbIcon\r\n    Slider.majorTickLength\r\n    Slider.minimumHorizontalSize\r\n    Slider.minimumVerticalSize\r\n    Slider.onlyLeftMouseButtonDrag\r\n    Slider.shadow\r\n    Slider.tickColor\r\n    Slider.trackWidth\r\n    Slider.verticalSize\r\n    Slider.verticalThumbIcon\r\n    SliderUI\r\n    Spinner.ancestorInputMap\r\n    Spinner.arrowButtonBorder\r\n    Spinner.arrowButtonInsets\r\n    Spinner.arrowButtonSize\r\n    Spinner.background\r\n    Spinner.border\r\n    Spinner.editorAlignment\r\n    Spinner.editorBorderPainted\r\n    Spinner.font\r\n    Spinner.foreground\r\n    SpinnerUI\r\n    SplitPane.ancestorInputMap\r\n    SplitPane.background\r\n    SplitPane.border\r\n    SplitPane.centerOneTouchButtons\r\n    SplitPane.darkShadow\r\n    SplitPane.dividerFocusColor\r\n    SplitPane.dividerSize\r\n    SplitPane.highlight\r\n    SplitPane.oneTouchButtonsOpaque\r\n    SplitPane.shadow\r\n    SplitPaneDivider.border\r\n    SplitPaneDivider.draggingColor\r\n    SplitPaneUI\r\n    TabbedPane.ancestorInputMap\r\n    TabbedPane.background\r\n    TabbedPane.borderHightlightColor\r\n    TabbedPane.contentAreaColor\r\n    TabbedPane.contentBorderInsets\r\n    TabbedPane.contentOpaque\r\n    TabbedPane.darkShadow\r\n    TabbedPane.focus\r\n    TabbedPane.focusInputMap\r\n    TabbedPane.font\r\n    TabbedPane.foreground\r\n    TabbedPane.highlight\r\n    TabbedPane.labelShift\r\n    TabbedPane.light\r\n    TabbedPane.selectHighlight\r\n    TabbedPane.selected\r\n    TabbedPane.selectedLabelShift\r\n    TabbedPane.selectedTabPadInsets\r\n    TabbedPane.selectionFollowsFocus\r\n    TabbedPane.shadow\r\n    TabbedPane.tabAreaBackground\r\n    TabbedPane.tabAreaInsets\r\n    TabbedPane.tabInsets\r\n    TabbedPane.tabRunOverlay\r\n    TabbedPane.tabsOpaque\r\n    TabbedPane.tabsOverlapBorder\r\n    TabbedPane.textIconGap\r\n    TabbedPane.unselectedBackground\r\n    TabbedPaneUI\r\n    Table.ancestorInputMap\r\n    Table.ancestorInputMap.RightToLeft\r\n    Table.ascendingSortIcon\r\n    Table.background\r\n    Table.descendingSortIcon\r\n    Table.dropCellBackground\r\n    Table.dropLineColor\r\n    Table.dropLineShortColor\r\n    Table.focusCellBackground\r\n    Table.focusCellForeground\r\n    Table.focusCellHighlightBorder\r\n    Table.font\r\n    Table.foreground\r\n    Table.gridColor\r\n    Table.scrollPaneBorder\r\n    Table.selectionBackground\r\n    Table.selectionForeground\r\n    Table.sortIconColor\r\n    TableHeader.ancestorInputMap\r\n    TableHeader.background\r\n    TableHeader.cellBorder\r\n    TableHeader.focusCellBackground\r\n    TableHeader.font\r\n    TableHeader.foreground\r\n    TableHeaderUI\r\n    TableUI\r\n    TextArea.background\r\n    TextArea.border\r\n    TextArea.caretBlinkRate\r\n    TextArea.caretForeground\r\n    TextArea.focusInputMap\r\n    TextArea.font\r\n    TextArea.foreground\r\n    TextArea.inactiveForeground\r\n    TextArea.margin\r\n    TextArea.selectionBackground\r\n    TextArea.selectionForeground\r\n    TextAreaUI\r\n    TextField.background\r\n    TextField.border\r\n    TextField.caretBlinkRate\r\n    TextField.caretForeground\r\n    TextField.darkShadow\r\n    TextField.focusInputMap\r\n    TextField.font\r\n    TextField.foreground\r\n    TextField.highlight\r\n    TextField.inactiveBackground\r\n    TextField.inactiveForeground\r\n    TextField.light\r\n    TextField.margin\r\n    TextField.selectionBackground\r\n    TextField.selectionForeground\r\n    TextField.shadow\r\n    TextFieldUI\r\n    TextPane.background\r\n    TextPane.border\r\n    TextPane.caretBlinkRate\r\n    TextPane.caretForeground\r\n    TextPane.focusInputMap\r\n    TextPane.font\r\n    TextPane.foreground\r\n    TextPane.inactiveForeground\r\n    TextPane.margin\r\n    TextPane.selectionBackground\r\n    TextPane.selectionForeground\r\n    TextPaneUI\r\n    TitledBorder.border\r\n    TitledBorder.font\r\n    TitledBorder.titleColor\r\n    ToggleButton.background\r\n    ToggleButton.border\r\n    ToggleButton.darkShadow\r\n    ToggleButton.disabledText\r\n    ToggleButton.focus\r\n    ToggleButton.focusInputMap\r\n    ToggleButton.font\r\n    ToggleButton.foreground\r\n    ToggleButton.gradient\r\n    ToggleButton.highlight\r\n    ToggleButton.light\r\n    ToggleButton.margin\r\n    ToggleButton.select\r\n    ToggleButton.shadow\r\n    ToggleButton.textIconGap\r\n    ToggleButton.textShiftOffset\r\n    ToggleButtonUI\r\n    ToolBar.ancestorInputMap\r\n    ToolBar.background\r\n    ToolBar.border\r\n    ToolBar.borderColor\r\n    ToolBar.darkShadow\r\n    ToolBar.dockingBackground\r\n    ToolBar.dockingForeground\r\n    ToolBar.floatingBackground\r\n    ToolBar.floatingForeground\r\n    ToolBar.font\r\n    ToolBar.foreground\r\n    ToolBar.highlight\r\n    ToolBar.isRollover\r\n    ToolBar.light\r\n    ToolBar.nonrolloverBorder\r\n    ToolBar.rolloverBorder\r\n    ToolBar.separatorSize\r\n    ToolBar.shadow\r\n    ToolBarSeparatorUI\r\n    ToolBarUI\r\n    ToolTip.background\r\n    ToolTip.backgroundInactive\r\n    ToolTip.border\r\n    ToolTip.borderInactive\r\n    ToolTip.font\r\n    ToolTip.foreground\r\n    ToolTip.foregroundInactive\r\n    ToolTip.hideAccelerator\r\n    ToolTipManager.enableToolTipMode\r\n    ToolTipUI\r\n    Tree.ancestorInputMap\r\n    Tree.background\r\n    Tree.changeSelectionWithFocus\r\n    Tree.closedIcon\r\n    Tree.collapsedIcon\r\n    Tree.drawsFocusBorderAroundIcon\r\n    Tree.dropCellBackground\r\n    Tree.dropLineColor\r\n    Tree.editorBorder\r\n    Tree.expandedIcon\r\n    Tree.focusInputMap\r\n    Tree.focusInputMap.RightToLeft\r\n    Tree.font\r\n    Tree.foreground\r\n    Tree.hash\r\n    Tree.leafIcon\r\n    Tree.leftChildIndent\r\n    Tree.line\r\n    Tree.lineTypeDashed\r\n    Tree.openIcon\r\n    Tree.paintLines\r\n    Tree.rightChildIndent\r\n    Tree.rowHeight\r\n    Tree.scrollsOnExpand\r\n    Tree.selectionBackground\r\n    Tree.selectionBorderColor\r\n    Tree.selectionForeground\r\n    Tree.textBackground\r\n    Tree.textForeground\r\n    Tree.timeFactor\r\n    TreeUI\r\n    Viewport.background\r\n    Viewport.font\r\n    Viewport.foreground\r\n    ViewportUI\r\n    activeCaption\r\n    activeCaptionBorder\r\n    activeCaptionText\r\n    control\r\n    controlDkShadow\r\n    controlHighlight\r\n    controlLtHighlight\r\n    controlShadow\r\n    controlText\r\n    desktop\r\n    html.missingImage\r\n    html.pendingImage\r\n    inactiveCaption\r\n    inactiveCaptionBorder\r\n    inactiveCaptionText\r\n    info\r\n    infoText\r\n    menu\r\n    menuText\r\n    scrollbar\r\n    text\r\n    textHighlight\r\n    textHighlightText\r\n    textInactiveText\r\n    textText\r\n    window\r\n    windowBorder\r\n    windowText\r\n\r\nIf you could not find any option here to suit your problem, you should get the JDialog of the JOption pane and do write a UI hack code to achieve what you are looking for. You can get the JDialog from JOptionPane using the below code:\r\n\r\n    JOptionPane optionPane = new JOptionPane(&quot;A basic JOptionPane message dialog&quot;,JOptionPane.INFORMATION_MESSAGE);\r\n    JDialog dialog = optionPane.createDialog(null, &quot;myBox&quot;);","title":"JOptionPane How to change the color of the title box","body":"<p>You can use this code for achieving what you're looking for:</p>\n\n<pre><code>JDialog.setDefaultLookAndFeelDecorated(true);\nUIManager.put(\"OptionPane.minimumSize\",new Dimension(350,200));\nUIManager.put(\"OptionPane.background\", Color.gray);\nUIManager.put(\"Panel.background\", Color.lightGray);\nUIManager.put(\"OptionPane.errorDialog.titlePane.foreground\", Color.lightGray);\nUIManager.put(\"OptionPane.errorDialog.titlePane.background\", Color.black);\nUIManager.put(\"OptionPane.errorDialog.border.background\", Color.white);\n\nJOptionPane.showMessageDialog(null, \"A basic JOptionPane message dialog\", \"myBox\",0);\n</code></pre>\n\n<p><em>You can also see all possible UIManager options. try to go over this list and choose what is best for you:</em></p>\n\n<pre><code>UIDefaults uiDefaults = UIManager.getDefaults();\nEnumeration&lt;Object&gt; keys = uiDefaults.keys();\nList&lt;String&gt; allUIManagerConfigs=  new ArrayList&lt;&gt;();\n\nfor(;keys.hasMoreElements();){\n    Object key = keys.nextElement();\n    String value = String.valueOf(key);\n    allUIManagerConfigs.add(value);\n}\n\nCollections.sort(allUIManagerConfigs);\n\nfor(String keyName:allUIManagerConfigs){\n    System.out.println(keyName);\n}\n</code></pre>\n\n<p>The output of this code is this:</p>\n\n<pre><code>AATextInfoPropertyKey\nAuditoryCues.allAuditoryCues\nAuditoryCues.cueList\nAuditoryCues.defaultCueList\nAuditoryCues.noAuditoryCues\nButton.background\nButton.border\nButton.darkShadow\nButton.defaultButtonFollowsFocus\nButton.disabledText\nButton.disabledToolBarBorderBackground\nButton.focus\nButton.focusInputMap\nButton.font\nButton.foreground\nButton.gradient\nButton.highlight\nButton.light\nButton.margin\nButton.rollover\nButton.rolloverIconType\nButton.select\nButton.shadow\nButton.textIconGap\nButton.textShiftOffset\nButton.toolBarBorderBackground\nButtonUI\nCheckBox.background\nCheckBox.border\nCheckBox.disabledText\nCheckBox.focus\nCheckBox.focusInputMap\nCheckBox.font\nCheckBox.foreground\nCheckBox.gradient\nCheckBox.icon\nCheckBox.margin\nCheckBox.rollover\nCheckBox.textIconGap\nCheckBox.textShiftOffset\nCheckBox.totalInsets\nCheckBoxMenuItem.acceleratorFont\nCheckBoxMenuItem.acceleratorForeground\nCheckBoxMenuItem.acceleratorSelectionForeground\nCheckBoxMenuItem.arrowIcon\nCheckBoxMenuItem.background\nCheckBoxMenuItem.border\nCheckBoxMenuItem.borderPainted\nCheckBoxMenuItem.checkIcon\nCheckBoxMenuItem.commandSound\nCheckBoxMenuItem.disabledForeground\nCheckBoxMenuItem.font\nCheckBoxMenuItem.foreground\nCheckBoxMenuItem.gradient\nCheckBoxMenuItem.margin\nCheckBoxMenuItem.selectionBackground\nCheckBoxMenuItem.selectionForeground\nCheckBoxMenuItemUI\nCheckBoxUI\nCheckbox.select\nColorChooser.background\nColorChooser.font\nColorChooser.foreground\nColorChooser.swatchesDefaultRecentColor\nColorChooser.swatchesRecentSwatchSize\nColorChooser.swatchesSwatchSize\nColorChooserUI\nComboBox.ancestorInputMap\nComboBox.background\nComboBox.buttonBackground\nComboBox.buttonDarkShadow\nComboBox.buttonHighlight\nComboBox.buttonShadow\nComboBox.disabledBackground\nComboBox.disabledForeground\nComboBox.font\nComboBox.foreground\nComboBox.isEnterSelectablePopup\nComboBox.noActionOnKeyNavigation\nComboBox.selectionBackground\nComboBox.selectionForeground\nComboBox.timeFactor\nComboBoxUI\nDesktop.ancestorInputMap\nDesktop.background\nDesktop.minOnScreenInsets\nDesktopIcon.background\nDesktopIcon.border\nDesktopIcon.font\nDesktopIcon.foreground\nDesktopIcon.width\nDesktopIconUI\nDesktopPaneUI\nEditorPane.background\nEditorPane.border\nEditorPane.caretBlinkRate\nEditorPane.caretForeground\nEditorPane.focusInputMap\nEditorPane.font\nEditorPane.foreground\nEditorPane.inactiveForeground\nEditorPane.margin\nEditorPane.selectionBackground\nEditorPane.selectionForeground\nEditorPaneUI\nFileChooser.ancestorInputMap\nFileChooser.detailsViewIcon\nFileChooser.homeFolderIcon\nFileChooser.listViewIcon\nFileChooser.newFolderIcon\nFileChooser.readOnly\nFileChooser.upFolderIcon\nFileChooser.useSystemExtensionHiding\nFileChooser.usesSingleFilePane\nFileChooserUI\nFileView.computerIcon\nFileView.directoryIcon\nFileView.fileIcon\nFileView.floppyDriveIcon\nFileView.hardDriveIcon\nFormattedTextField.background\nFormattedTextField.border\nFormattedTextField.caretBlinkRate\nFormattedTextField.caretForeground\nFormattedTextField.focusInputMap\nFormattedTextField.font\nFormattedTextField.foreground\nFormattedTextField.inactiveBackground\nFormattedTextField.inactiveForeground\nFormattedTextField.margin\nFormattedTextField.selectionBackground\nFormattedTextField.selectionForeground\nFormattedTextFieldUI\nInternalFrame.activeTitleBackground\nInternalFrame.activeTitleForeground\nInternalFrame.activeTitleGradient\nInternalFrame.border\nInternalFrame.borderColor\nInternalFrame.borderDarkShadow\nInternalFrame.borderHighlight\nInternalFrame.borderLight\nInternalFrame.borderShadow\nInternalFrame.closeIcon\nInternalFrame.closeSound\nInternalFrame.icon\nInternalFrame.iconifyIcon\nInternalFrame.inactiveTitleBackground\nInternalFrame.inactiveTitleForeground\nInternalFrame.maximizeIcon\nInternalFrame.maximizeSound\nInternalFrame.minimizeIcon\nInternalFrame.minimizeSound\nInternalFrame.optionDialogBorder\nInternalFrame.paletteBorder\nInternalFrame.paletteCloseIcon\nInternalFrame.paletteTitleHeight\nInternalFrame.restoreDownSound\nInternalFrame.restoreUpSound\nInternalFrame.titleFont\nInternalFrameTitlePane.closeButtonOpacity\nInternalFrameTitlePane.iconifyButtonOpacity\nInternalFrameTitlePane.maximizeButtonOpacity\nInternalFrameUI\nLabel.background\nLabel.disabledForeground\nLabel.disabledShadow\nLabel.font\nLabel.foreground\nLabelUI\nList.background\nList.cellRenderer\nList.dropCellBackground\nList.dropLineColor\nList.focusCellHighlightBorder\nList.focusInputMap\nList.focusInputMap.RightToLeft\nList.font\nList.foreground\nList.noFocusBorder\nList.selectionBackground\nList.selectionForeground\nList.timeFactor\nListUI\nMenu.acceleratorFont\nMenu.acceleratorForeground\nMenu.acceleratorSelectionForeground\nMenu.arrowIcon\nMenu.background\nMenu.border\nMenu.borderPainted\nMenu.cancelMode\nMenu.checkIcon\nMenu.crossMenuMnemonic\nMenu.disabledForeground\nMenu.font\nMenu.foreground\nMenu.margin\nMenu.menuPopupOffsetX\nMenu.menuPopupOffsetY\nMenu.opaque\nMenu.preserveTopLevelSelection\nMenu.selectionBackground\nMenu.selectionForeground\nMenu.shortcutKeys\nMenu.submenuPopupOffsetX\nMenu.submenuPopupOffsetY\nMenuBar.background\nMenuBar.border\nMenuBar.borderColor\nMenuBar.font\nMenuBar.foreground\nMenuBar.gradient\nMenuBar.highlight\nMenuBar.shadow\nMenuBar.windowBindings\nMenuBarUI\nMenuItem.acceleratorDelimiter\nMenuItem.acceleratorFont\nMenuItem.acceleratorForeground\nMenuItem.acceleratorSelectionForeground\nMenuItem.arrowIcon\nMenuItem.background\nMenuItem.border\nMenuItem.borderPainted\nMenuItem.checkIcon\nMenuItem.commandSound\nMenuItem.disabledForeground\nMenuItem.font\nMenuItem.foreground\nMenuItem.margin\nMenuItem.selectionBackground\nMenuItem.selectionForeground\nMenuItemUI\nMenuUI\nOptionPane.background\nOptionPane.border\nOptionPane.buttonAreaBorder\nOptionPane.buttonClickThreshhold\nOptionPane.errorDialog.border.background\nOptionPane.errorDialog.titlePane.background\nOptionPane.errorDialog.titlePane.foreground\nOptionPane.errorDialog.titlePane.shadow\nOptionPane.errorIcon\nOptionPane.errorSound\nOptionPane.font\nOptionPane.foreground\nOptionPane.informationIcon\nOptionPane.informationSound\nOptionPane.messageAreaBorder\nOptionPane.messageForeground\nOptionPane.minimumSize\nOptionPane.questionDialog.border.background\nOptionPane.questionDialog.titlePane.background\nOptionPane.questionDialog.titlePane.foreground\nOptionPane.questionDialog.titlePane.shadow\nOptionPane.questionIcon\nOptionPane.questionSound\nOptionPane.warningDialog.border.background\nOptionPane.warningDialog.titlePane.background\nOptionPane.warningDialog.titlePane.foreground\nOptionPane.warningDialog.titlePane.shadow\nOptionPane.warningIcon\nOptionPane.warningSound\nOptionPane.windowBindings\nOptionPaneUI\nPanel.background\nPanel.font\nPanel.foreground\nPanelUI\nPasswordField.background\nPasswordField.border\nPasswordField.caretBlinkRate\nPasswordField.caretForeground\nPasswordField.echoChar\nPasswordField.focusInputMap\nPasswordField.font\nPasswordField.foreground\nPasswordField.inactiveBackground\nPasswordField.inactiveForeground\nPasswordField.margin\nPasswordField.selectionBackground\nPasswordField.selectionForeground\nPasswordFieldUI\nPopupMenu.background\nPopupMenu.border\nPopupMenu.consumeEventOnClose\nPopupMenu.font\nPopupMenu.foreground\nPopupMenu.popupSound\nPopupMenu.selectedWindowInputMapBindings\nPopupMenu.selectedWindowInputMapBindings.RightToLeft\nPopupMenuSeparatorUI\nPopupMenuUI\nProgressBar.background\nProgressBar.border\nProgressBar.cellLength\nProgressBar.cellSpacing\nProgressBar.cycleTime\nProgressBar.font\nProgressBar.foreground\nProgressBar.horizontalSize\nProgressBar.repaintInterval\nProgressBar.selectionBackground\nProgressBar.selectionForeground\nProgressBar.verticalSize\nProgressBarUI\nRadioButton.background\nRadioButton.border\nRadioButton.darkShadow\nRadioButton.disabledText\nRadioButton.focus\nRadioButton.focusInputMap\nRadioButton.font\nRadioButton.foreground\nRadioButton.gradient\nRadioButton.highlight\nRadioButton.icon\nRadioButton.light\nRadioButton.margin\nRadioButton.rollover\nRadioButton.select\nRadioButton.shadow\nRadioButton.textIconGap\nRadioButton.textShiftOffset\nRadioButton.totalInsets\nRadioButtonMenuItem.acceleratorFont\nRadioButtonMenuItem.acceleratorForeground\nRadioButtonMenuItem.acceleratorSelectionForeground\nRadioButtonMenuItem.arrowIcon\nRadioButtonMenuItem.background\nRadioButtonMenuItem.border\nRadioButtonMenuItem.borderPainted\nRadioButtonMenuItem.checkIcon\nRadioButtonMenuItem.commandSound\nRadioButtonMenuItem.disabledForeground\nRadioButtonMenuItem.font\nRadioButtonMenuItem.foreground\nRadioButtonMenuItem.gradient\nRadioButtonMenuItem.margin\nRadioButtonMenuItem.selectionBackground\nRadioButtonMenuItem.selectionForeground\nRadioButtonMenuItemUI\nRadioButtonUI\nRootPane.ancestorInputMap\nRootPane.colorChooserDialogBorder\nRootPane.defaultButtonWindowKeyBindings\nRootPane.errorDialogBorder\nRootPane.fileChooserDialogBorder\nRootPane.frameBorder\nRootPane.informationDialogBorder\nRootPane.plainDialogBorder\nRootPane.questionDialogBorder\nRootPane.warningDialogBorder\nRootPaneUI\nScrollBar.allowsAbsolutePositioning\nScrollBar.ancestorInputMap\nScrollBar.ancestorInputMap.RightToLeft\nScrollBar.background\nScrollBar.darkShadow\nScrollBar.foreground\nScrollBar.gradient\nScrollBar.highlight\nScrollBar.maximumThumbSize\nScrollBar.minimumThumbSize\nScrollBar.shadow\nScrollBar.thumb\nScrollBar.thumbDarkShadow\nScrollBar.thumbHighlight\nScrollBar.thumbShadow\nScrollBar.track\nScrollBar.trackHighlight\nScrollBar.width\nScrollBarUI\nScrollPane.ancestorInputMap\nScrollPane.ancestorInputMap.RightToLeft\nScrollPane.background\nScrollPane.border\nScrollPane.font\nScrollPane.foreground\nScrollPaneUI\nSeparator.background\nSeparator.foreground\nSeparator.highlight\nSeparator.shadow\nSeparatorUI\nSlider.altTrackColor\nSlider.background\nSlider.focus\nSlider.focusGradient\nSlider.focusInputMap\nSlider.focusInputMap.RightToLeft\nSlider.focusInsets\nSlider.font\nSlider.foreground\nSlider.gradient\nSlider.highlight\nSlider.horizontalSize\nSlider.horizontalThumbIcon\nSlider.majorTickLength\nSlider.minimumHorizontalSize\nSlider.minimumVerticalSize\nSlider.onlyLeftMouseButtonDrag\nSlider.shadow\nSlider.tickColor\nSlider.trackWidth\nSlider.verticalSize\nSlider.verticalThumbIcon\nSliderUI\nSpinner.ancestorInputMap\nSpinner.arrowButtonBorder\nSpinner.arrowButtonInsets\nSpinner.arrowButtonSize\nSpinner.background\nSpinner.border\nSpinner.editorAlignment\nSpinner.editorBorderPainted\nSpinner.font\nSpinner.foreground\nSpinnerUI\nSplitPane.ancestorInputMap\nSplitPane.background\nSplitPane.border\nSplitPane.centerOneTouchButtons\nSplitPane.darkShadow\nSplitPane.dividerFocusColor\nSplitPane.dividerSize\nSplitPane.highlight\nSplitPane.oneTouchButtonsOpaque\nSplitPane.shadow\nSplitPaneDivider.border\nSplitPaneDivider.draggingColor\nSplitPaneUI\nTabbedPane.ancestorInputMap\nTabbedPane.background\nTabbedPane.borderHightlightColor\nTabbedPane.contentAreaColor\nTabbedPane.contentBorderInsets\nTabbedPane.contentOpaque\nTabbedPane.darkShadow\nTabbedPane.focus\nTabbedPane.focusInputMap\nTabbedPane.font\nTabbedPane.foreground\nTabbedPane.highlight\nTabbedPane.labelShift\nTabbedPane.light\nTabbedPane.selectHighlight\nTabbedPane.selected\nTabbedPane.selectedLabelShift\nTabbedPane.selectedTabPadInsets\nTabbedPane.selectionFollowsFocus\nTabbedPane.shadow\nTabbedPane.tabAreaBackground\nTabbedPane.tabAreaInsets\nTabbedPane.tabInsets\nTabbedPane.tabRunOverlay\nTabbedPane.tabsOpaque\nTabbedPane.tabsOverlapBorder\nTabbedPane.textIconGap\nTabbedPane.unselectedBackground\nTabbedPaneUI\nTable.ancestorInputMap\nTable.ancestorInputMap.RightToLeft\nTable.ascendingSortIcon\nTable.background\nTable.descendingSortIcon\nTable.dropCellBackground\nTable.dropLineColor\nTable.dropLineShortColor\nTable.focusCellBackground\nTable.focusCellForeground\nTable.focusCellHighlightBorder\nTable.font\nTable.foreground\nTable.gridColor\nTable.scrollPaneBorder\nTable.selectionBackground\nTable.selectionForeground\nTable.sortIconColor\nTableHeader.ancestorInputMap\nTableHeader.background\nTableHeader.cellBorder\nTableHeader.focusCellBackground\nTableHeader.font\nTableHeader.foreground\nTableHeaderUI\nTableUI\nTextArea.background\nTextArea.border\nTextArea.caretBlinkRate\nTextArea.caretForeground\nTextArea.focusInputMap\nTextArea.font\nTextArea.foreground\nTextArea.inactiveForeground\nTextArea.margin\nTextArea.selectionBackground\nTextArea.selectionForeground\nTextAreaUI\nTextField.background\nTextField.border\nTextField.caretBlinkRate\nTextField.caretForeground\nTextField.darkShadow\nTextField.focusInputMap\nTextField.font\nTextField.foreground\nTextField.highlight\nTextField.inactiveBackground\nTextField.inactiveForeground\nTextField.light\nTextField.margin\nTextField.selectionBackground\nTextField.selectionForeground\nTextField.shadow\nTextFieldUI\nTextPane.background\nTextPane.border\nTextPane.caretBlinkRate\nTextPane.caretForeground\nTextPane.focusInputMap\nTextPane.font\nTextPane.foreground\nTextPane.inactiveForeground\nTextPane.margin\nTextPane.selectionBackground\nTextPane.selectionForeground\nTextPaneUI\nTitledBorder.border\nTitledBorder.font\nTitledBorder.titleColor\nToggleButton.background\nToggleButton.border\nToggleButton.darkShadow\nToggleButton.disabledText\nToggleButton.focus\nToggleButton.focusInputMap\nToggleButton.font\nToggleButton.foreground\nToggleButton.gradient\nToggleButton.highlight\nToggleButton.light\nToggleButton.margin\nToggleButton.select\nToggleButton.shadow\nToggleButton.textIconGap\nToggleButton.textShiftOffset\nToggleButtonUI\nToolBar.ancestorInputMap\nToolBar.background\nToolBar.border\nToolBar.borderColor\nToolBar.darkShadow\nToolBar.dockingBackground\nToolBar.dockingForeground\nToolBar.floatingBackground\nToolBar.floatingForeground\nToolBar.font\nToolBar.foreground\nToolBar.highlight\nToolBar.isRollover\nToolBar.light\nToolBar.nonrolloverBorder\nToolBar.rolloverBorder\nToolBar.separatorSize\nToolBar.shadow\nToolBarSeparatorUI\nToolBarUI\nToolTip.background\nToolTip.backgroundInactive\nToolTip.border\nToolTip.borderInactive\nToolTip.font\nToolTip.foreground\nToolTip.foregroundInactive\nToolTip.hideAccelerator\nToolTipManager.enableToolTipMode\nToolTipUI\nTree.ancestorInputMap\nTree.background\nTree.changeSelectionWithFocus\nTree.closedIcon\nTree.collapsedIcon\nTree.drawsFocusBorderAroundIcon\nTree.dropCellBackground\nTree.dropLineColor\nTree.editorBorder\nTree.expandedIcon\nTree.focusInputMap\nTree.focusInputMap.RightToLeft\nTree.font\nTree.foreground\nTree.hash\nTree.leafIcon\nTree.leftChildIndent\nTree.line\nTree.lineTypeDashed\nTree.openIcon\nTree.paintLines\nTree.rightChildIndent\nTree.rowHeight\nTree.scrollsOnExpand\nTree.selectionBackground\nTree.selectionBorderColor\nTree.selectionForeground\nTree.textBackground\nTree.textForeground\nTree.timeFactor\nTreeUI\nViewport.background\nViewport.font\nViewport.foreground\nViewportUI\nactiveCaption\nactiveCaptionBorder\nactiveCaptionText\ncontrol\ncontrolDkShadow\ncontrolHighlight\ncontrolLtHighlight\ncontrolShadow\ncontrolText\ndesktop\nhtml.missingImage\nhtml.pendingImage\ninactiveCaption\ninactiveCaptionBorder\ninactiveCaptionText\ninfo\ninfoText\nmenu\nmenuText\nscrollbar\ntext\ntextHighlight\ntextHighlightText\ntextInactiveText\ntextText\nwindow\nwindowBorder\nwindowText\n</code></pre>\n\n<p>If you could not find any option here to suit your problem, you should get the JDialog of the JOption pane and do write a UI hack code to achieve what you are looking for. You can get the JDialog from JOptionPane using the below code:</p>\n\n<pre><code>JOptionPane optionPane = new JOptionPane(\"A basic JOptionPane message dialog\",JOptionPane.INFORMATION_MESSAGE);\nJDialog dialog = optionPane.createDialog(null, \"myBox\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686030246,"creation_date":1685970518,"answer_id":76406745,"question_id":53577990,"body_markdown":"I got tired of not being able to change that optionPane background color. \r\n&quot;OptionPane.background&quot; or other solutions here does not change the real content background but underlying container. *So my solution was to write my own button without any limitations.* I broke here the java camel case syntax rule because I wanted my message box to be extremely handy to type as I&#39;m lousy typer. It is a special case intended to be used with debugging operations. That said you can change the name easily. The class is static style utility class.\r\n The class can sense if it is running in Java Disptch Thread or was it part of for example main thread execution. \r\nFirst version follows.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    public class msgbox implements ActionListener {\r\n        //**********************************************\r\n        JButton okButton;\r\n        JFrame frame;\r\n    \r\n        public msgbox(String msg) {\r\n    \r\n            frame = new JFrame(&quot;&quot;);\r\n            //buffered image replaces white JAVA icon with nothing\r\n            Image icon = new BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB_PRE);\r\n            frame.setIconImage(icon);\r\n    \r\n            frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            Container contPane = frame.getContentPane();\r\n            contPane.setLayout(new BorderLayout());\r\n            JTextPane info = new JTextPane();\r\n            JScrollPane scroll = initJTextPane(info, msg);\r\n            contPane.add(scroll, BorderLayout.CENTER);\r\n    \r\n            JPanel buttonPanel = new JPanel(); //Flow layout by default\r\n            buttonPanel.setBackground(new Color(0, 0, 0));\r\n            buttonPanel.setForeground(new Color(107, 216, 61));\r\n            okButton = new JButton(&quot;OK&quot;);\r\n            okButton.addActionListener(this);\r\n            okButton.setBackground(new Color(0, 0, 0));\r\n            okButton.setForeground(new Color(107, 216, 61));\r\n            buttonPanel.add(okButton);\r\n            contPane.add(buttonPanel, BorderLayout.SOUTH);\r\n    \r\n            //screen size investigation \r\n            // in case we need to put msg to a particular place\r\n            //this is REAL screen size like GPU sets it for monitor\r\n            GraphicsDevice gd = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\r\n            int width = gd.getDisplayMode().getWidth();//3840 i.e GPU setting\r\n            int height = gd.getDisplayMode().getHeight();//2160  GPU\r\n            //next is what java uses when display in windows desktop scaling setting is set to for example 250%\r\n            //pixels get stretched....\r\n            int screenWidth = Toolkit.getDefaultToolkit().getScreenSize().width;//1536 when desktop is scaled 250%\r\n            int screenHeight = Toolkit.getDefaultToolkit().getScreenSize().height;//864 when desktop is scaled to 250%\r\n            //put message in the middle of the screen\r\n            frame.setLocation(screenWidth / 2, screenHeight / 2);\r\n            frame.pack();//calls addNotify....\r\n            frame.setVisible(true);\r\n        }\r\n        //*************************************************\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            int s = 0;\r\n            String actionCommand = e.getActionCommand();\r\n            String butCommand = okButton.getActionCommand();\r\n            if (actionCommand.equalsIgnoreCase(butCommand))\r\n                frame.dispose();\r\n        }\r\n        //*********************************************\r\n        public JScrollPane initJTextPane(JTextPane infoPan, String msg) {\r\n            infoPan.setBackground(new Color(25, 25, 39));\r\n            infoPan.setForeground(new Color(95, 164, 90));\r\n            infoPan.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 14));\r\n            infoPan.setText(msg);\r\n            infoPan.setVisible(true);\r\n            JScrollPane scrollPane = new JScrollPane(infoPan);\r\n            return scrollPane;\r\n        }\r\n        //********************************************\r\n        public static void info(String msg) {\r\n            try {\r\n                if (!javax.swing.SwingUtilities.isEventDispatchThread()) {\r\n                    //started from plain java main, so assign to EDT\r\n                    Runnable task = () -&gt; {\r\n                        new msgbox(msg);\r\n                    };\r\n                    try{\r\n                        SwingUtilities.invokeLater(task);//non blocking\r\n                        //SwingUtilities.invokeAndWait(task);//blocking\r\n                    }catch(Exception ex){\r\n                        ex.printStackTrace();\r\n                    }\r\n    \r\n                } else {\r\n                    //we are initially in EDT, called from dispatch thread\r\n                    new msgbox(msg);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        //***********************************************\r\n        public static void main(String[] args) throws Exception {\r\n            stackTop(&quot;base message!\\n&quot;, 15);\r\n        }\r\n        //***********************************************\r\n        //UTILS\r\n        //stacktop prints given number of current thread stack items including\r\n        //this stacktop call.Message can be attached as first printed element\r\n        public static void stackTop(String rootMsg, int elemLimit) {\r\n    \r\n            StackTraceElement[] stack = Thread.currentThread().getStackTrace();\r\n            int howMany = elemLimit;\r\n            int available = stack.length;\r\n            if (howMany &gt; available)\r\n                howMany = available;\r\n            for (int i = 1; i &lt; howMany; ++i) {\r\n                rootMsg += stack[i] + &quot;\\n&quot;;\r\n            }\r\n            info(rootMsg);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"JOptionPane How to change the color of the title box","body":"<p>I got tired of not being able to change that optionPane background color.\n&quot;OptionPane.background&quot; or other solutions here does not change the real content background but underlying container. <em>So my solution was to write my own button without any limitations.</em> I broke here the java camel case syntax rule because I wanted my message box to be extremely handy to type as I'm lousy typer. It is a special case intended to be used with debugging operations. That said you can change the name easily. The class is static style utility class.\nThe class can sense if it is running in Java Disptch Thread or was it part of for example main thread execution.\nFirst version follows.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\n\npublic class msgbox implements ActionListener {\n    //**********************************************\n    JButton okButton;\n    JFrame frame;\n\n    public msgbox(String msg) {\n\n        frame = new JFrame(&quot;&quot;);\n        //buffered image replaces white JAVA icon with nothing\n        Image icon = new BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB_PRE);\n        frame.setIconImage(icon);\n\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        Container contPane = frame.getContentPane();\n        contPane.setLayout(new BorderLayout());\n        JTextPane info = new JTextPane();\n        JScrollPane scroll = initJTextPane(info, msg);\n        contPane.add(scroll, BorderLayout.CENTER);\n\n        JPanel buttonPanel = new JPanel(); //Flow layout by default\n        buttonPanel.setBackground(new Color(0, 0, 0));\n        buttonPanel.setForeground(new Color(107, 216, 61));\n        okButton = new JButton(&quot;OK&quot;);\n        okButton.addActionListener(this);\n        okButton.setBackground(new Color(0, 0, 0));\n        okButton.setForeground(new Color(107, 216, 61));\n        buttonPanel.add(okButton);\n        contPane.add(buttonPanel, BorderLayout.SOUTH);\n\n        //screen size investigation \n        // in case we need to put msg to a particular place\n        //this is REAL screen size like GPU sets it for monitor\n        GraphicsDevice gd = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\n        int width = gd.getDisplayMode().getWidth();//3840 i.e GPU setting\n        int height = gd.getDisplayMode().getHeight();//2160  GPU\n        //next is what java uses when display in windows desktop scaling setting is set to for example 250%\n        //pixels get stretched....\n        int screenWidth = Toolkit.getDefaultToolkit().getScreenSize().width;//1536 when desktop is scaled 250%\n        int screenHeight = Toolkit.getDefaultToolkit().getScreenSize().height;//864 when desktop is scaled to 250%\n        //put message in the middle of the screen\n        frame.setLocation(screenWidth / 2, screenHeight / 2);\n        frame.pack();//calls addNotify....\n        frame.setVisible(true);\n    }\n    //*************************************************\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        int s = 0;\n        String actionCommand = e.getActionCommand();\n        String butCommand = okButton.getActionCommand();\n        if (actionCommand.equalsIgnoreCase(butCommand))\n            frame.dispose();\n    }\n    //*********************************************\n    public JScrollPane initJTextPane(JTextPane infoPan, String msg) {\n        infoPan.setBackground(new Color(25, 25, 39));\n        infoPan.setForeground(new Color(95, 164, 90));\n        infoPan.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 14));\n        infoPan.setText(msg);\n        infoPan.setVisible(true);\n        JScrollPane scrollPane = new JScrollPane(infoPan);\n        return scrollPane;\n    }\n    //********************************************\n    public static void info(String msg) {\n        try {\n            if (!javax.swing.SwingUtilities.isEventDispatchThread()) {\n                //started from plain java main, so assign to EDT\n                Runnable task = () -&gt; {\n                    new msgbox(msg);\n                };\n                try{\n                    SwingUtilities.invokeLater(task);//non blocking\n                    //SwingUtilities.invokeAndWait(task);//blocking\n                }catch(Exception ex){\n                    ex.printStackTrace();\n                }\n\n            } else {\n                //we are initially in EDT, called from dispatch thread\n                new msgbox(msg);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    //***********************************************\n    public static void main(String[] args) throws Exception {\n        stackTop(&quot;base message!\\n&quot;, 15);\n    }\n    //***********************************************\n    //UTILS\n    //stacktop prints given number of current thread stack items including\n    //this stacktop call.Message can be attached as first printed element\n    public static void stackTop(String rootMsg, int elemLimit) {\n\n        StackTraceElement[] stack = Thread.currentThread().getStackTrace();\n        int howMany = elemLimit;\n        int available = stack.length;\n        if (howMany &gt; available)\n            howMany = available;\n        for (int i = 1; i &lt; howMany; ++i) {\n            rootMsg += stack[i] + &quot;\\n&quot;;\n        }\n        info(rootMsg);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10462445,"reputation":21,"user_id":7712762,"display_name":"Chrisk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53578714,"answer_count":2,"score":1,"last_activity_date":1686030246,"creation_date":1543732442,"question_id":53577990,"body_markdown":"    public static void main(String[] args)  {\r\n\t\t\r\n\t\tUIManager.put(&quot;OptionPane.minimumSize&quot;,new Dimension(350,200)); \r\n\t\tUIManager.put(&quot;OptionPane.background&quot;, Color.gray);\r\n\t\tUIManager.put(&quot;Panel.background&quot;, Color.lightGray);\r\n\t\t\r\n\t\tJOptionPane.showMessageDialog(null, &quot;A basic JOptionPane message dialog&quot;, &quot;myBox&quot;,0);\r\n\r\n\t\tSystem.exit(0);\r\n    }\r\n\r\n\r\n\r\nCurrently the color of the background on title box is white and I wanted to change it to light gray, like the `Panel.background` color. Is that possible?","title":"JOptionPane How to change the color of the title box","body":"<pre><code>public static void main(String[] args)  {\n\n    UIManager.put(\"OptionPane.minimumSize\",new Dimension(350,200)); \n    UIManager.put(\"OptionPane.background\", Color.gray);\n    UIManager.put(\"Panel.background\", Color.lightGray);\n\n    JOptionPane.showMessageDialog(null, \"A basic JOptionPane message dialog\", \"myBox\",0);\n\n    System.exit(0);\n}\n</code></pre>\n\n<p>Currently the color of the background on title box is white and I wanted to change it to light gray, like the <code>Panel.background</code> color. Is that possible?</p>\n"},{"tags":["java","android","kotlin","opengl-es","3d-model"],"owner":{"account_id":28727605,"reputation":1,"user_id":22000497,"display_name":"Bhavsar Vrajendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686029011,"creation_date":1685944270,"question_id":76403779,"body_markdown":"I’m working on a demo project where I’m using OpenGL with Jetpack Compose. I’m taking reference of this [library](https://github.com/the3deer/android-3D-model-viewer) to move my 3D model in a horizontal scrollable manner which I have achieved but the next thing that I’m trying out is to change the color of a particular portion of the 3D model but it&#39;s not applying during runtime, although it&#39;s taking the initially passed color properly.\r\n\r\nFor demo purpose, I’ve 3 buttons (Orange, Cyan, Blue) on my UI. Initially, I’m setting one color which is applied successfully. Now when I select one out of any of these buttons, the color of a particular part of the 3D Model should change for which Currently I’m passing the Hash color value and converting it into the form of RGB formatted Float Array which will update diffused color property “kd” from the respective “.mtl” file but dynamically it&#39;s not changing the color even though logs of changing colors are being printed at the point where I&#39;m updating &quot;.mtl&quot; file. It would be great if anyone could help me to find out the exact location where I can do changes to make the model change the color dynamically.\r\n\r\n**MainActivity** - Here inside the surface I&#39;m Setting assets and having 3 buttons that pass the Hex value in order to change the color of the model.\r\n\r\n    Box(modifier = Modifier.fillMaxWidth()) {\r\n        LoadModelFromAssets(buttonColor)\r\n        CameraControllerUpdater(mainViewModel.changePositionX.value)\r\n    }\r\n    \r\n    Box(\r\n        modifier = Modifier\r\n            .fillMaxWidth()\r\n    ){\r\n    Row(Modifier.fillMaxWidth()){\r\n    Button(\r\n                onClick ={buttonColor.value = &quot;#FDC984&quot;},\r\n                colors = ButtonDefaults.buttonColors(Color.Yellow)\r\n            ){}\r\n    Button(\r\n                onClick ={buttonColor.value = &quot;#CBE6D2&quot;},\r\n                colors = ButtonDefaults.buttonColors(Color.Cyan)\r\n            ){}\r\n    Button(\r\n                onClick ={buttonColor.value = &quot;#77C9DE&quot;},\r\n                colors = ButtonDefaults.buttonColors(Color.Blue)\r\n            ){}\r\n        }\r\n    }\r\n    \r\n**LoadModelFromAssets()** - Function to load assets and setting up AndroidView within it to render 3D model.\r\n\r\n    @Composable\r\n    private fun LoadModelFromAssets(buttonColor: MutableState&lt;String&gt;?) {\r\n            val TAG: String = MainActivity::class.java.simpleName\r\n            val uri = URI(BASE_URL_SOFA_WITH_PROGRESS_BAR)\r\n            handler = Handler(mainLooper)\r\n        \r\n            // Create our 3D scenario\r\n            paramType = -1\r\n            val rgbArraySofa = buttonColor?.value?.let{\r\n                if (scene != null) {\r\n                    scene?.updateColor(rgbArraySofa)\r\n                } else {\r\n                    scene = SceneLoader(this@MainActivity, uri, paramType, rgbArraySofa)\r\n                    scene?.addListener(this@MainActivity)\r\n                }\r\n            }\r\n        \r\n            if (uri == null) {\r\n                val task: LoaderTask = DemoLoaderTask(this@MainActivity, null, scene)\r\n                task.execute()\r\n            }\r\n        \r\n            try {\r\n                glView = ModelSurfaceView(this@MainActivity, backgroundColor, scene)\r\n                glView?.addListener(this@MainActivity)\r\n            } catch (e: Exception) {\r\n                Log.e(&quot;MainActivity&quot;, &quot;!@# &quot; + e.message, e)\r\n            }\r\n        \r\n            AndroidView(\r\n                factory ={context-&gt;\r\n                    glView?.setZOrderOnTop(true)\r\n                    glView?.holder?.setFormat(PixelFormat.TRANSLUCENT)\r\n                    glView!!\r\n                },\r\n                modifier = Modifier\r\n                    .size(width = 400.dp, height = 500.dp)\r\n                    .focusable(true),\r\n                update ={\r\n                    glView?.setZOrderOnTop(true)\r\n                    glView?.holder?.setFormat(PixelFormat.TRANSLUCENT)\r\n                    glView!!\r\n                    glView?.addListener(this@MainActivity)\r\n                }\r\n            )\r\n        \r\n            try {\r\n                touchController = TouchController(this@MainActivity)\r\n                touchController?.addListener(this@MainActivity)\r\n            } catch (e: java.lang.Exception) {\r\n                Toast.makeText(\r\n        \t          this@MainActivity,\r\n                    &quot;Error loading TouchController: ${e.message}&quot;,\r\n                    Toast.LENGTH_LONG\r\n                ).show()\r\n            }\r\n            try {\r\n                collisionController = CollisionController(glView, scene)\r\n                collisionController?.addListener(this@MainActivity)\r\n            } catch (e: java.lang.Exception) {\r\n                Toast.makeText(\r\n                    this@MainActivity,\r\n                    &quot;Error loading CollisionController: ${e.message}&quot;,\r\n                    Toast.LENGTH_LONG\r\n                ).show()\r\n            }\r\n            setupOrientationListener()\r\n            // load model\r\n            scene?.init()\r\n        }\r\n\r\n**SceneLoader** - Class contains init method where I’m passing user selected color along with “uri”. In my case I’m dealing with “.obj” type model so WavefrontLoaderTask is being used.\r\n\r\n    public void init() {\r\n    camera.setChanged(true); // force first draw\r\n            if (uri == null) {\r\n                return;\r\n            }\r\n            if (uri.toString().toLowerCase().endsWith(&quot;.obj&quot;) || type == 0) {\r\n                new WavefrontLoaderTask(parent, uri, this, userSelectedObjColor).execute();\r\n            } else if (uri.toString().toLowerCase().endsWith(&quot;.stl&quot;) || type == 1) {\r\n                new STLLoaderTask(parent, uri, this).execute();\r\n            } else if (uri.toString().toLowerCase().endsWith(&quot;.dae&quot;) || type == 2) {\r\n                new ColladaLoaderTask(parent, uri, this).execute();\r\n            } else if (uri.toString().toLowerCase().endsWith(&quot;.gltf&quot;) || type == 3) {\r\n                new GltfLoaderTask(parent, uri, this).execute();\r\n            }\r\n        }\r\n\r\n**WavefrontLoaderTask**\r\n\r\n    @Override\r\n    protected List&lt;Object3DData&gt; build() {\r\n        float[] userColor;\r\n        if(object3DData != null) {\r\n            userColor = object3DData.get(0).getColor();\r\n        } else {\r\n            userColor = userSelectedObjColor;\r\n        }\r\n        final WavefrontLoader wfl = new WavefrontLoader(GLES20.GL_TRIANGLE_FAN, this, userColor);\r\n        super.publishProgress(&quot;Loading model...&quot;);\r\n        final List&lt;Object3DData&gt; load = wfl.load(uri);\r\n        return load;\r\n    }\r\n\r\n**WavefrontLoader** - Here I’m loading mesh data along with the user selected color,\r\n\r\n    final WavefrontMaterialsParser materialsParser = new WavefrontMaterialsParser();\r\n    final Materials materials = materialsParser.parse(meshData.getMaterialFile(), inputStream, userSelectedObjColor);\r\n\r\n**WavefrontMaterialsParser** - Here “.mtl” file is being parsed and post filtering for the portion of the model for which i want to change the color I’m setting diffused color (Kd)\r\n\r\n    else if (line.startsWith(&quot;Kd &quot;)) {\r\n            float[] kdColor = Math3DUtils.parseFloat(line.substring(2).trim().split(&quot; &quot;));\r\n            // diffuse color\r\n            if (Objects.equals(currMaterial.getName(), &quot;Procedural_Simple_Cloth&quot;)) {\r\n                currMaterial.setDiffuse(userSelectedObjColor);\r\n            } else {\r\n                currMaterial.setDiffuse(kdColor);\r\n            }\r\n        }\r\n\r\nHere is the portion of the “.mtl” which I’m trying to manipulate in order to change the color. \r\n   \r\n    #Sofa\r\n    newmtl Procedural_Simple_Cloth\r\n    Kd 0.909803 0.882352 0.835294\r\n    Ks 0.500000 0.500000 0.500000\r\n    Ke 0.000000 0.000000 0.000000\r\n    Ni 1.450000\r\n    d 1.000000\r\n    illum2\r\n    Pr 1.000000\r\n    Pm 0.000000\r\n    Ps 0.000000\r\n    Pc 0.000000\r\n    Pcr 0.000000\r\n    aniso 0.000000\r\n    anisor 0.000000","title":"Color manipulation of a 3D model dynamically in OpenGL ES","body":"<p>I’m working on a demo project where I’m using OpenGL with Jetpack Compose. I’m taking reference of this <a href=\"https://github.com/the3deer/android-3D-model-viewer\" rel=\"nofollow noreferrer\">library</a> to move my 3D model in a horizontal scrollable manner which I have achieved but the next thing that I’m trying out is to change the color of a particular portion of the 3D model but it's not applying during runtime, although it's taking the initially passed color properly.</p>\n<p>For demo purpose, I’ve 3 buttons (Orange, Cyan, Blue) on my UI. Initially, I’m setting one color which is applied successfully. Now when I select one out of any of these buttons, the color of a particular part of the 3D Model should change for which Currently I’m passing the Hash color value and converting it into the form of RGB formatted Float Array which will update diffused color property “kd” from the respective “.mtl” file but dynamically it's not changing the color even though logs of changing colors are being printed at the point where I'm updating &quot;.mtl&quot; file. It would be great if anyone could help me to find out the exact location where I can do changes to make the model change the color dynamically.</p>\n<p><strong>MainActivity</strong> - Here inside the surface I'm Setting assets and having 3 buttons that pass the Hex value in order to change the color of the model.</p>\n<pre><code>Box(modifier = Modifier.fillMaxWidth()) {\n    LoadModelFromAssets(buttonColor)\n    CameraControllerUpdater(mainViewModel.changePositionX.value)\n}\n\nBox(\n    modifier = Modifier\n        .fillMaxWidth()\n){\nRow(Modifier.fillMaxWidth()){\nButton(\n            onClick ={buttonColor.value = &quot;#FDC984&quot;},\n            colors = ButtonDefaults.buttonColors(Color.Yellow)\n        ){}\nButton(\n            onClick ={buttonColor.value = &quot;#CBE6D2&quot;},\n            colors = ButtonDefaults.buttonColors(Color.Cyan)\n        ){}\nButton(\n            onClick ={buttonColor.value = &quot;#77C9DE&quot;},\n            colors = ButtonDefaults.buttonColors(Color.Blue)\n        ){}\n    }\n}\n</code></pre>\n<p><strong>LoadModelFromAssets()</strong> - Function to load assets and setting up AndroidView within it to render 3D model.</p>\n<pre><code>@Composable\nprivate fun LoadModelFromAssets(buttonColor: MutableState&lt;String&gt;?) {\n        val TAG: String = MainActivity::class.java.simpleName\n        val uri = URI(BASE_URL_SOFA_WITH_PROGRESS_BAR)\n        handler = Handler(mainLooper)\n    \n        // Create our 3D scenario\n        paramType = -1\n        val rgbArraySofa = buttonColor?.value?.let{\n            if (scene != null) {\n                scene?.updateColor(rgbArraySofa)\n            } else {\n                scene = SceneLoader(this@MainActivity, uri, paramType, rgbArraySofa)\n                scene?.addListener(this@MainActivity)\n            }\n        }\n    \n        if (uri == null) {\n            val task: LoaderTask = DemoLoaderTask(this@MainActivity, null, scene)\n            task.execute()\n        }\n    \n        try {\n            glView = ModelSurfaceView(this@MainActivity, backgroundColor, scene)\n            glView?.addListener(this@MainActivity)\n        } catch (e: Exception) {\n            Log.e(&quot;MainActivity&quot;, &quot;!@# &quot; + e.message, e)\n        }\n    \n        AndroidView(\n            factory ={context-&gt;\n                glView?.setZOrderOnTop(true)\n                glView?.holder?.setFormat(PixelFormat.TRANSLUCENT)\n                glView!!\n            },\n            modifier = Modifier\n                .size(width = 400.dp, height = 500.dp)\n                .focusable(true),\n            update ={\n                glView?.setZOrderOnTop(true)\n                glView?.holder?.setFormat(PixelFormat.TRANSLUCENT)\n                glView!!\n                glView?.addListener(this@MainActivity)\n            }\n        )\n    \n        try {\n            touchController = TouchController(this@MainActivity)\n            touchController?.addListener(this@MainActivity)\n        } catch (e: java.lang.Exception) {\n            Toast.makeText(\n                  this@MainActivity,\n                &quot;Error loading TouchController: ${e.message}&quot;,\n                Toast.LENGTH_LONG\n            ).show()\n        }\n        try {\n            collisionController = CollisionController(glView, scene)\n            collisionController?.addListener(this@MainActivity)\n        } catch (e: java.lang.Exception) {\n            Toast.makeText(\n                this@MainActivity,\n                &quot;Error loading CollisionController: ${e.message}&quot;,\n                Toast.LENGTH_LONG\n            ).show()\n        }\n        setupOrientationListener()\n        // load model\n        scene?.init()\n    }\n</code></pre>\n<p><strong>SceneLoader</strong> - Class contains init method where I’m passing user selected color along with “uri”. In my case I’m dealing with “.obj” type model so WavefrontLoaderTask is being used.</p>\n<pre><code>public void init() {\ncamera.setChanged(true); // force first draw\n        if (uri == null) {\n            return;\n        }\n        if (uri.toString().toLowerCase().endsWith(&quot;.obj&quot;) || type == 0) {\n            new WavefrontLoaderTask(parent, uri, this, userSelectedObjColor).execute();\n        } else if (uri.toString().toLowerCase().endsWith(&quot;.stl&quot;) || type == 1) {\n            new STLLoaderTask(parent, uri, this).execute();\n        } else if (uri.toString().toLowerCase().endsWith(&quot;.dae&quot;) || type == 2) {\n            new ColladaLoaderTask(parent, uri, this).execute();\n        } else if (uri.toString().toLowerCase().endsWith(&quot;.gltf&quot;) || type == 3) {\n            new GltfLoaderTask(parent, uri, this).execute();\n        }\n    }\n</code></pre>\n<p><strong>WavefrontLoaderTask</strong></p>\n<pre><code>@Override\nprotected List&lt;Object3DData&gt; build() {\n    float[] userColor;\n    if(object3DData != null) {\n        userColor = object3DData.get(0).getColor();\n    } else {\n        userColor = userSelectedObjColor;\n    }\n    final WavefrontLoader wfl = new WavefrontLoader(GLES20.GL_TRIANGLE_FAN, this, userColor);\n    super.publishProgress(&quot;Loading model...&quot;);\n    final List&lt;Object3DData&gt; load = wfl.load(uri);\n    return load;\n}\n</code></pre>\n<p><strong>WavefrontLoader</strong> - Here I’m loading mesh data along with the user selected color,</p>\n<pre><code>final WavefrontMaterialsParser materialsParser = new WavefrontMaterialsParser();\nfinal Materials materials = materialsParser.parse(meshData.getMaterialFile(), inputStream, userSelectedObjColor);\n</code></pre>\n<p><strong>WavefrontMaterialsParser</strong> - Here “.mtl” file is being parsed and post filtering for the portion of the model for which i want to change the color I’m setting diffused color (Kd)</p>\n<pre><code>else if (line.startsWith(&quot;Kd &quot;)) {\n        float[] kdColor = Math3DUtils.parseFloat(line.substring(2).trim().split(&quot; &quot;));\n        // diffuse color\n        if (Objects.equals(currMaterial.getName(), &quot;Procedural_Simple_Cloth&quot;)) {\n            currMaterial.setDiffuse(userSelectedObjColor);\n        } else {\n            currMaterial.setDiffuse(kdColor);\n        }\n    }\n</code></pre>\n<p>Here is the portion of the “.mtl” which I’m trying to manipulate in order to change the color.</p>\n<pre><code>#Sofa\nnewmtl Procedural_Simple_Cloth\nKd 0.909803 0.882352 0.835294\nKs 0.500000 0.500000 0.500000\nKe 0.000000 0.000000 0.000000\nNi 1.450000\nd 1.000000\nillum2\nPr 1.000000\nPm 0.000000\nPs 0.000000\nPc 0.000000\nPcr 0.000000\naniso 0.000000\nanisor 0.000000\n</code></pre>\n"},{"tags":["java","openpdf"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1686056969,"post_id":76411626,"comment_id":134744484,"body_markdown":"Try switching to ttf instead of otf as an alternative.\n(be careful, some ttf on the net is not real ttf, it is OTF)","body":"Try switching to ttf instead of otf as an alternative. (be careful, some ttf on the net is not real ttf, it is OTF)"}],"owner":{"account_id":28761987,"reputation":1,"user_id":22027689,"display_name":"Rakesh Pradhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686028887,"creation_date":1686028887,"question_id":76411626,"body_markdown":"In OpenPDF if any of the text is with language other than English (Korean / Chinese) is showing as empty. \r\nI have tried with creating custom font by downloading the otf file from google fonts but no luck it only altered the font style not the Korean text.\r\n\r\nIf any of the text field is in multi language how to support the same while creating the PDF.","title":"Multi Language Support in OpenPDF Java","body":"<p>In OpenPDF if any of the text is with language other than English (Korean / Chinese) is showing as empty.\nI have tried with creating custom font by downloading the otf file from google fonts but no luck it only altered the font style not the Korean text.</p>\n<p>If any of the text field is in multi language how to support the same while creating the PDF.</p>\n"},{"tags":["java","bit-manipulation","bitset"],"comments":[{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":2,"creation_date":1268950060,"post_id":2473597,"comment_id":2464507,"body_markdown":"Personally, I&#39;d say raw bit manipulation is the way to go here. It really isn&#39;t that complicated, and as you say I don&#39;t see a simple way to get an int or long into a BitSet.","body":"Personally, I&#39;d say raw bit manipulation is the way to go here. It really isn&#39;t that complicated, and as you say I don&#39;t see a simple way to get an int or long into a BitSet."}],"answers":[{"tags":[],"owner":{"account_id":20305,"reputation":4874,"user_id":48402,"accept_rate":70,"display_name":"kukudas"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1268950162,"creation_date":1268950162,"answer_id":2473679,"question_id":2473597,"body_markdown":"Isn&#39;t the `public void set(int bit)` method what your looking for?","title":"BitSet to and from integer/long","body":"<p>Isn't the <code>public void set(int bit)</code> method what your looking for?</p>\n"},{"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"down_vote_count":3,"up_vote_count":69,"is_accepted":true,"score":66,"last_activity_date":1330955302,"creation_date":1268950556,"answer_id":2473719,"question_id":2473597,"body_markdown":"The following code creates a bit set from a long value and vice versa:\r\n\r\n    public class Bits {\r\n    \r\n      public static BitSet convert(long value) {\r\n        BitSet bits = new BitSet();\r\n        int index = 0;\r\n        while (value != 0L) {\r\n          if (value % 2L != 0) {\r\n            bits.set(index);\r\n          }\r\n          ++index;\r\n          value = value &gt;&gt;&gt; 1;\r\n        }\r\n        return bits;\r\n      }\r\n    \r\n      public static long convert(BitSet bits) {\r\n        long value = 0L;\r\n        for (int i = 0; i &lt; bits.length(); ++i) {\r\n          value += bits.get(i) ? (1L &lt;&lt; i) : 0L;\r\n        }\r\n        return value;\r\n      }\r\n    }\r\n\r\nEDITED: Now both directions, @leftbrain: of cause, you are right\r\n","title":"BitSet to and from integer/long","body":"<p>The following code creates a bit set from a long value and vice versa:</p>\n\n<pre><code>public class Bits {\n\n  public static BitSet convert(long value) {\n    BitSet bits = new BitSet();\n    int index = 0;\n    while (value != 0L) {\n      if (value % 2L != 0) {\n        bits.set(index);\n      }\n      ++index;\n      value = value &gt;&gt;&gt; 1;\n    }\n    return bits;\n  }\n\n  public static long convert(BitSet bits) {\n    long value = 0L;\n    for (int i = 0; i &lt; bits.length(); ++i) {\n      value += bits.get(i) ? (1L &lt;&lt; i) : 0L;\n    }\n    return value;\n  }\n}\n</code></pre>\n\n<p>EDITED: Now both directions, @leftbrain: of cause, you are right</p>\n"},{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1331575752,"creation_date":1296657771,"answer_id":4875753,"question_id":2473597,"body_markdown":"Java 7 has &lt;code&gt;[BitSet.valueOf(byte[])](http://download.oracle.com/javase/7/docs/api/java/util/%42it%53et.html#value%4ff%28byte%5b%5d%29)&lt;/code&gt; and &lt;code&gt;[BitSet.toByteArray()](http://download.oracle.com/javase/7/docs/api/java/util/%42it%53et.html#to%42yte%41rray%28%29)&lt;/code&gt;\r\n\r\nIf you are stuck with Java 6 or earlier, you can use `BigInteger` if it is not likely to be a performance bottleneck - it has `getLowestSetBit`, `setBit` and `clearBit` methods (the last two will create a new `BigInteger` instead of modifying in-place.)","title":"BitSet to and from integer/long","body":"<p>Java 7 has <code><a href=\"http://download.oracle.com/javase/7/docs/api/java/util/%42it%53et.html#value%4ff%28byte%5b%5d%29\" rel=\"noreferrer\">BitSet.valueOf(byte[])</a></code> and <code><a href=\"http://download.oracle.com/javase/7/docs/api/java/util/%42it%53et.html#to%42yte%41rray%28%29\" rel=\"noreferrer\">BitSet.toByteArray()</a></code></p>\n\n<p>If you are stuck with Java 6 or earlier, you can use <code>BigInteger</code> if it is not likely to be a performance bottleneck - it has <code>getLowestSetBit</code>, <code>setBit</code> and <code>clearBit</code> methods (the last two will create a new <code>BigInteger</code> instead of modifying in-place.)</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1429898229,"creation_date":1395771452,"answer_id":22643062,"question_id":2473597,"body_markdown":"Add to finnw answer: there are also [`BitSet.valueOf(long[])`](http://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#valueOf-long:A-) and [`BitSet.toLongArray()`](http://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#toLongArray--). So:\r\n\r\n    int n = 12345;\r\n    BitSet bs = BitSet.valueOf(new long[]{n});\r\n    long l = bs.toLongArray()[0];","title":"BitSet to and from integer/long","body":"<p>Add to finnw answer: there are also <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#valueOf-long:A-\" rel=\"noreferrer\"><code>BitSet.valueOf(long[])</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#toLongArray--\" rel=\"noreferrer\"><code>BitSet.toLongArray()</code></a>. So:</p>\n\n<pre><code>int n = 12345;\nBitSet bs = BitSet.valueOf(new long[]{n});\nlong l = bs.toLongArray()[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4694315,"reputation":927,"user_id":3799584,"accept_rate":85,"display_name":"user3799584"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1405377375,"creation_date":1405377375,"answer_id":24747154,"question_id":2473597,"body_markdown":"Pretty much straight from the documentation of nextSetBit\r\n\r\n    value=0;\r\n    for (int i = bs.nextSetBit(0); i &gt;= 0; i = bs.nextSetBit(i+1)) {\r\n     value += (1 &lt;&lt; i)\r\n     }","title":"BitSet to and from integer/long","body":"<p>Pretty much straight from the documentation of nextSetBit</p>\n\n<pre><code>value=0;\nfor (int i = bs.nextSetBit(0); i &gt;= 0; i = bs.nextSetBit(i+1)) {\n value += (1 &lt;&lt; i)\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1135767,"reputation":1478,"user_id":1120854,"display_name":"charlie"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467638253,"creation_date":1467638253,"answer_id":38185749,"question_id":2473597,"body_markdown":"To get a `long` back from a **small** `BitSet` in a *&#39;streamy&#39;* way:\r\n\r\n    long l = bitSet.stream()\r\n            .takeWhile(i -&gt; i &lt; Long.SIZE)\r\n            .mapToLong(i -&gt; 1L &lt;&lt; i)\r\n            .reduce(0, (a, b) -&gt; a | b);\r\n\r\nVice-versa:\r\n\r\n    BitSet bitSet = IntStream.range(0, Long.SIZE - 1)\r\n            .filter(i -&gt; 0 != (l &amp; 1L &lt;&lt; i))\r\n            .collect(BitSet::new, BitSet::set, BitSet::or);\r\n\r\nN.B.: Using `BitSet::valueOf` and `BitSet::toLongArray` is of course easier.","title":"BitSet to and from integer/long","body":"<p>To get a <code>long</code> back from a <strong>small</strong> <code>BitSet</code> in a <em>'streamy'</em> way:</p>\n\n<pre><code>long l = bitSet.stream()\n        .takeWhile(i -&gt; i &lt; Long.SIZE)\n        .mapToLong(i -&gt; 1L &lt;&lt; i)\n        .reduce(0, (a, b) -&gt; a | b);\n</code></pre>\n\n<p>Vice-versa:</p>\n\n<pre><code>BitSet bitSet = IntStream.range(0, Long.SIZE - 1)\n        .filter(i -&gt; 0 != (l &amp; 1L &lt;&lt; i))\n        .collect(BitSet::new, BitSet::set, BitSet::or);\n</code></pre>\n\n<p>N.B.: Using <code>BitSet::valueOf</code> and <code>BitSet::toLongArray</code> is of course easier.</p>\n"},{"tags":[],"owner":{"account_id":8029669,"reputation":1291,"user_id":6055194,"display_name":"Eugene Babich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686028612,"creation_date":1686028612,"answer_id":76411613,"question_id":2473597,"body_markdown":"For Kotlin those extensions can be used.\r\n\r\nBitSet to Int extension:\r\n\r\n    fun BitSet.toInt() =\r\n        toLongArray()\r\n            .getOrNull(0)\r\n            ?.toInt()\r\n            ?: 0\r\n\r\nInt to BitSet extension:\r\n\r\n    fun Int.toBitSet(size: Int): BitSet {\r\n        val byteArray = byteArrayOf(toByte())\r\n    \r\n        return BitSet.valueOf(\r\n            if (byteArray.size == size) byteArray\r\n            else byteArray.copyOf(size))\r\n    }\r\n\r\nUsage example:\r\n\r\n    val intValue = 1\r\n\r\n    val bitSetValue = intValue.toBitSet(size = 2)\r\n    println(&quot;bitSetValue: $bitSetValue&quot;)\r\n\r\n    val firstValue = bitSetValue.get(0)\r\n    println(&quot;firstValue: $firstValue&quot;)\r\n\r\n    val secondValue = bitSetValue.get(1)\r\n    println(&quot;secondValue: $secondValue&quot;)\r\n\r\n    bitSetValue.set(0, true)\r\n    bitSetValue.set(1, false)\r\n    println(&quot;bitSetValue: $bitSetValue&quot;)\r\n\r\n    val newIntValue = bitSetValue.toInt()\r\n    println(&quot;newIntValue: $newIntValue&quot;)\r\n\r\n","title":"BitSet to and from integer/long","body":"<p>For Kotlin those extensions can be used.</p>\n<p>BitSet to Int extension:</p>\n<pre><code>fun BitSet.toInt() =\n    toLongArray()\n        .getOrNull(0)\n        ?.toInt()\n        ?: 0\n</code></pre>\n<p>Int to BitSet extension:</p>\n<pre><code>fun Int.toBitSet(size: Int): BitSet {\n    val byteArray = byteArrayOf(toByte())\n\n    return BitSet.valueOf(\n        if (byteArray.size == size) byteArray\n        else byteArray.copyOf(size))\n}\n</code></pre>\n<p>Usage example:</p>\n<pre><code>val intValue = 1\n\nval bitSetValue = intValue.toBitSet(size = 2)\nprintln(&quot;bitSetValue: $bitSetValue&quot;)\n\nval firstValue = bitSetValue.get(0)\nprintln(&quot;firstValue: $firstValue&quot;)\n\nval secondValue = bitSetValue.get(1)\nprintln(&quot;secondValue: $secondValue&quot;)\n\nbitSetValue.set(0, true)\nbitSetValue.set(1, false)\nprintln(&quot;bitSetValue: $bitSetValue&quot;)\n\nval newIntValue = bitSetValue.toInt()\nprintln(&quot;newIntValue: $newIntValue&quot;)\n</code></pre>\n"}],"owner":{"account_id":64432,"reputation":65199,"user_id":190201,"accept_rate":83,"display_name":"ataylor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73284,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":2473719,"answer_count":7,"score":61,"last_activity_date":1686028612,"creation_date":1268949361,"question_id":2473597,"body_markdown":"If I have an integer that I&#39;d like to perform bit manipulation on, how can I load it into a `java.util.BitSet`?  How can I convert it back to an int or long?  I&#39;m not so concerned about the size of the `BitSet` -- it will always be 32 or 64 bits long.  I&#39;d just like to use the `set()`, `clear()`, `nextSetBit()`, and `nextClearBit()` methods rather than bitwise operators, but I can&#39;t find an easy way to initialize a bit set with a numeric type.","title":"BitSet to and from integer/long","body":"<p>If I have an integer that I'd like to perform bit manipulation on, how can I load it into a <code>java.util.BitSet</code>?  How can I convert it back to an int or long?  I'm not so concerned about the size of the <code>BitSet</code> -- it will always be 32 or 64 bits long.  I'd just like to use the <code>set()</code>, <code>clear()</code>, <code>nextSetBit()</code>, and <code>nextClearBit()</code> methods rather than bitwise operators, but I can't find an easy way to initialize a bit set with a numeric type.</p>\n"},{"tags":["java","sql","postgresql","docker","flyway"],"comments":[{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1685805817,"post_id":76394913,"comment_id":134714053,"body_markdown":"1) Per [No images](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557) do not use images for textual information, Copy and paste the `\\d &lt;table&gt;` information as text update to your question. 2) Look at the Postgres log to see what is actually hitting the database.","body":"1) Per <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">No images</a> do not use images for textual information, Copy and paste the <code>\\d &lt;table&gt;</code> information as text update to your question. 2) Look at the Postgres log to see what is actually hitting the database."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1685847463,"post_id":76394913,"comment_id":134717543,"body_markdown":"`varchar(255)` is a default column definition which `Hibernate` uses by default for `String`  fields, so, it is clear that`Hibernate` somehow modifies DB schema upon start of application.  You need to pay attention to [hibernate.hbm2ddl.auto](https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl) setting - I believe you need to set it to `none` because schema is managed by `Flyway`","body":"<code>varchar(255)</code> is a default column definition which <code>Hibernate</code> uses by default for <code>String</code>  fields, so, it is clear that<code>Hibernate</code> somehow modifies DB schema upon start of application.  You need to pay attention to <a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl\" rel=\"nofollow noreferrer\">hibernate.hbm2ddl.auto</a> setting - I believe you need to set it to <code>none</code> because schema is managed by <code>Flyway</code>"},{"owner":{"account_id":1311659,"reputation":982,"user_id":1259544,"display_name":"binhgreat"},"score":0,"creation_date":1685941512,"post_id":76394913,"comment_id":134725738,"body_markdown":"It&#39;s seem you setup springboot to generate the database schema. So, it may overide the flyway behavior","body":"It&#39;s seem you setup springboot to generate the database schema. So, it may overide the flyway behavior"}],"answers":[{"tags":[],"owner":{"account_id":55854,"reputation":5789,"user_id":167364,"display_name":"David Atkinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685830545,"creation_date":1685780065,"answer_id":76395139,"question_id":76394913,"body_markdown":"Text and varchar are [equivalent][1] in this context. \r\n\r\nYou _did_ add a constraint when specifying the ID column as a primary key. Databases don’t store the exact SQL you use to create tables so when you script it out later it might look different although it will be semantically identical. \r\n\r\nEdit: Thanks to @adrian Klaver for pointing out that the actual order of the columns differ from the CREATE TABLE SQL that was passed to Flyway. My current suspicion is that Flyway is executing the scripts successfully (otherwise the OP would have noticed an error), but the tables are being subsequently recreated/altered by a separate process, possibly an ORM, which is resulting in the different column ordering and the &quot;missing&quot; country column.\r\n\r\n  [1]: https://stackoverflow.com/questions/4848964/difference-between-text-and-varchar-character-varying","title":"Docker creates a database different from what i specify","body":"<p>Text and varchar are <a href=\"https://stackoverflow.com/questions/4848964/difference-between-text-and-varchar-character-varying\">equivalent</a> in this context.</p>\n<p>You <em>did</em> add a constraint when specifying the ID column as a primary key. Databases don’t store the exact SQL you use to create tables so when you script it out later it might look different although it will be semantically identical.</p>\n<p>Edit: Thanks to @adrian Klaver for pointing out that the actual order of the columns differ from the CREATE TABLE SQL that was passed to Flyway. My current suspicion is that Flyway is executing the scripts successfully (otherwise the OP would have noticed an error), but the tables are being subsequently recreated/altered by a separate process, possibly an ORM, which is resulting in the different column ordering and the &quot;missing&quot; country column.</p>\n"}],"owner":{"account_id":25990073,"reputation":1,"user_id":19778659,"display_name":"Vee Romanoff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686028145,"creation_date":1685775865,"question_id":76394913,"body_markdown":"I&#39;ve been struggling with this issue for a good while now and I couldn&#39;t find any solution for this so I need your help. I&#39;m using postgres image within Docker container and Java Spring. So basically my database in the docker container.\r\nSo I created this V1 migration with flyway and wrote this SQL code to create a table\r\n\r\n```sql\r\nCREATE TABLE customer(\r\n    id BIGSERIAL PRIMARY KEY,\r\n    name TEXT NOT NULL,\r\n    email TEXT NOT NULL,\r\n    age INT NOT NULL\r\n)\r\n```\r\n\r\nAnd I thought it&#39;s supposed to create this exact table in my docker container.\r\nSo I get inside of docker container and i type `\\d customer` i see a different database like this\r\n\r\n[Have a look. The table is different from what i created](https://i.stack.imgur.com/i1AQI.png)  \r\n  \r\nAs you can see it has &quot;varchar&quot; instead of TEXT, and it also has constraints that i didn&#39;t specify when i was creating the table.\r\n\r\nI thought it might be because of the entity i have (the code snippet below). But i strongly doubt it&#39;s because of that\r\n\r\n```java\r\n@Entity\r\n@Data\r\npublic class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;customer_id_sequence&quot;\r\n    )\r\n    @SequenceGenerator(\r\n            name = &quot;customer_id_sequence&quot;,\r\n            sequenceName = &quot;customer_id_sequence&quot;)\r\n    private Integer id;\r\n\r\n    @Column(nullable = false, name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(nullable = false, name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(nullable = false, name = &quot;age&quot;)\r\n    private Integer age;\r\n```\r\n\r\n\r\nif i for example refresh flyway history and create the same table with another column &quot;country&quot;\r\n\r\n```sql\r\nCREATE TABLE customer(\r\n    id BIGSERIAL PRIMARY KEY,\r\n    name TEXT NOT NULL,\r\n    email TEXT NOT NULL,\r\n    age INT NOT NULL,\r\n    country TEXT NOT NULL \r\n)\r\n```\r\n\r\nand when i save it i get the same issue. have a look, it doesn&#39;t have the &quot;country&quot; column. \r\n\r\n[Still the same different table](https://i.stack.imgur.com/ptAPR.png)\r\n\r\n\r\nHere&#39;s my docker compose: \r\n```yaml\r\n\r\nservices:\r\n  db:\r\n    container_name: postgres\r\n    image: postgres\r\n    environment:\r\n      POSTGRES_USER: smite\r\n      POSTGRES_PASSWORD: 110011\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - db:/data/postgres\r\n    ports:\r\n      - &quot;5332:5432&quot;\r\n    networks:\r\n      - db\r\n    restart: unless-stopped\r\n\r\nnetworks:\r\n  db:\r\n    driver: bridge\r\n\r\nvolumes:\r\n  db:\r\n```","title":"Docker creates a database different from what i specify","body":"<p>I've been struggling with this issue for a good while now and I couldn't find any solution for this so I need your help. I'm using postgres image within Docker container and Java Spring. So basically my database in the docker container.\nSo I created this V1 migration with flyway and wrote this SQL code to create a table</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE customer(\n    id BIGSERIAL PRIMARY KEY,\n    name TEXT NOT NULL,\n    email TEXT NOT NULL,\n    age INT NOT NULL\n)\n</code></pre>\n<p>And I thought it's supposed to create this exact table in my docker container.\nSo I get inside of docker container and i type <code>\\d customer</code> i see a different database like this</p>\n<p><a href=\"https://i.stack.imgur.com/i1AQI.png\" rel=\"nofollow noreferrer\">Have a look. The table is different from what i created</a></p>\n<p>As you can see it has &quot;varchar&quot; instead of TEXT, and it also has constraints that i didn't specify when i was creating the table.</p>\n<p>I thought it might be because of the entity i have (the code snippet below). But i strongly doubt it's because of that</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\npublic class Customer {\n\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;customer_id_sequence&quot;\n    )\n    @SequenceGenerator(\n            name = &quot;customer_id_sequence&quot;,\n            sequenceName = &quot;customer_id_sequence&quot;)\n    private Integer id;\n\n    @Column(nullable = false, name = &quot;name&quot;)\n    private String name;\n\n    @Column(nullable = false, name = &quot;email&quot;)\n    private String email;\n\n    @Column(nullable = false, name = &quot;age&quot;)\n    private Integer age;\n</code></pre>\n<p>if i for example refresh flyway history and create the same table with another column &quot;country&quot;</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE customer(\n    id BIGSERIAL PRIMARY KEY,\n    name TEXT NOT NULL,\n    email TEXT NOT NULL,\n    age INT NOT NULL,\n    country TEXT NOT NULL \n)\n</code></pre>\n<p>and when i save it i get the same issue. have a look, it doesn't have the &quot;country&quot; column.</p>\n<p><a href=\"https://i.stack.imgur.com/ptAPR.png\" rel=\"nofollow noreferrer\">Still the same different table</a></p>\n<p>Here's my docker compose:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>\nservices:\n  db:\n    container_name: postgres\n    image: postgres\n    environment:\n      POSTGRES_USER: smite\n      POSTGRES_PASSWORD: 110011\n      PGDATA: /data/postgres\n    volumes:\n      - db:/data/postgres\n    ports:\n      - &quot;5332:5432&quot;\n    networks:\n      - db\n    restart: unless-stopped\n\nnetworks:\n  db:\n    driver: bridge\n\nvolumes:\n  db:\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1685957729,"post_id":76405080,"comment_id":134728213,"body_markdown":"So what is you question?","body":"So what is you question?"},{"owner":{"account_id":28755273,"reputation":1,"user_id":22022437,"display_name":"kulb inte"},"score":0,"creation_date":1685958138,"post_id":76405080,"comment_id":134728302,"body_markdown":"I want to show download option like facebook shows for  Messenger app.","body":"I want to show download option like facebook shows for  Messenger app."},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1685958201,"post_id":76405080,"comment_id":134728317,"body_markdown":"This is not a question. Please read [How to ask](https://stackoverflow.com/help/how-to-ask)","body":"This is not a question. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a>"},{"owner":{"account_id":28755273,"reputation":1,"user_id":22022437,"display_name":"kulb inte"},"score":0,"creation_date":1685958980,"post_id":76405080,"comment_id":134728483,"body_markdown":"https://i.stack.imgur.com/wi5JS.png\n\ncheck this image how can i show dialog like this","body":"<a href=\"https://i.stack.imgur.com/wi5JS.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/wi5JS.png</a>  check this image how can i show dialog like this"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1685959098,"post_id":76405080,"comment_id":134728510,"body_markdown":"Does this answer your question? [How to open Google Play Install app dialog similar to Youtube ad cliick](https://stackoverflow.com/questions/64709394/how-to-open-google-play-install-app-dialog-similar-to-youtube-ad-cliick)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64709394/how-to-open-google-play-install-app-dialog-similar-to-youtube-ad-cliick\">How to open Google Play Install app dialog similar to Youtube ad cliick</a>"},{"owner":{"account_id":28755273,"reputation":1,"user_id":22022437,"display_name":"kulb inte"},"score":0,"creation_date":1685959316,"post_id":76405080,"comment_id":134728536,"body_markdown":"yes exactly like this","body":"yes exactly like this"},{"owner":{"account_id":28755273,"reputation":1,"user_id":22022437,"display_name":"kulb inte"},"score":0,"creation_date":1685959856,"post_id":76405080,"comment_id":134728630,"body_markdown":"can you tell me how to create that type of link?","body":"can you tell me how to create that type of link?"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1685980387,"post_id":76405080,"comment_id":134733477,"body_markdown":"The post has answered that. The answer is you can&#39;t, unless you become a Google partner.","body":"The post has answered that. The answer is you can&#39;t, unless you become a Google partner."}],"owner":{"account_id":28755273,"reputation":1,"user_id":22022437,"display_name":"kulb inte"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686027609,"creation_date":1685957310,"question_id":76405080,"body_markdown":"Consider: thanks in advance\r\n\r\n```\r\nval appPackageName = &quot;com.facebook.orca&quot;\r\nval launchIntent: Intent? =\r\n    packageManager.getLaunchIntentForPackage(&quot;com.facebook.orca&quot;)\r\ntry {\r\n    if (launchIntent != null) {\r\n        // We found the activity now start the activity\r\n        //  launchIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n        startActivity(launchIntent)\r\n    }\r\n    else {\r\n        val intent = Intent(Intent.ACTION_VIEW).apply {\r\n            data = Uri.parse(\r\n                &quot;https://play.google.com/store/apps/details?id=$appPackageName&quot;)\r\n            setPackage(&quot;com.android.vending&quot;)\r\n        }\r\n        startActivity(intent)\r\n        // startActivity(Intent(Intent.ACTION_VIEW).setData(Uri.parse(&quot;https://play.google.com/store/apps/details?id=&quot; + &quot;com.facebook.orca&quot;)))\r\n    }\r\n} catch (ex: Exception) {\r\n\r\n    val intent = Intent(Intent.ACTION_VIEW).apply {\r\n        data = Uri.parse(\r\n            &quot;https://play.google.com/store/apps/details?id=$appPackageName&quot;)\r\n        setPackage(&quot;com.android.vending&quot;)\r\n    }\r\n    startActivity(intent)\r\n    // startActivity(Intent(Intent.ACTION_VIEW).setData(Uri.parse(&quot;https://play.google.com/store/apps/details?id=&quot; + &quot;com.facebook.orca[enter image description here](https://i.stack.imgur.com/2q1Xh.png)&quot;)))\r\n}\r\n```\r\n\r\n\r\nI just want to add an option in my app to allow downloading  app from play store. As shown in the image. \r\n\r\n[![As shown in the image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wi5JS.png","title":"I want to show a dialog for downloading an app within my app, as Facebook shows for the Messenger app","body":"<p>Consider: thanks in advance</p>\n<pre><code>val appPackageName = &quot;com.facebook.orca&quot;\nval launchIntent: Intent? =\n    packageManager.getLaunchIntentForPackage(&quot;com.facebook.orca&quot;)\ntry {\n    if (launchIntent != null) {\n        // We found the activity now start the activity\n        //  launchIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n        startActivity(launchIntent)\n    }\n    else {\n        val intent = Intent(Intent.ACTION_VIEW).apply {\n            data = Uri.parse(\n                &quot;https://play.google.com/store/apps/details?id=$appPackageName&quot;)\n            setPackage(&quot;com.android.vending&quot;)\n        }\n        startActivity(intent)\n        // startActivity(Intent(Intent.ACTION_VIEW).setData(Uri.parse(&quot;https://play.google.com/store/apps/details?id=&quot; + &quot;com.facebook.orca&quot;)))\n    }\n} catch (ex: Exception) {\n\n    val intent = Intent(Intent.ACTION_VIEW).apply {\n        data = Uri.parse(\n            &quot;https://play.google.com/store/apps/details?id=$appPackageName&quot;)\n        setPackage(&quot;com.android.vending&quot;)\n    }\n    startActivity(intent)\n    // startActivity(Intent(Intent.ACTION_VIEW).setData(Uri.parse(&quot;https://play.google.com/store/apps/details?id=&quot; + &quot;com.facebook.orca[enter image description here](https://i.stack.imgur.com/2q1Xh.png)&quot;)))\n}\n</code></pre>\n<p>I just want to add an option in my app to allow downloading  app from play store. As shown in the image.</p>\n<p><a href=\"https://i.stack.imgur.com/wi5JS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wi5JS.png\" alt=\"As shown in the image\" /></a></p>\n"},{"tags":["java","spring","rest","jackson"],"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686027522,"creation_date":1685970361,"question_id":76406727,"body_markdown":"I have a REST API which provides JSON strings that are stored in a database. \r\nThe creation of the objects is time consuming, that is why I store the created JSON directly in the database.\r\n\r\n|name|json|\r\n|--|--\r\n|foo | &quot;{...}&quot; |\r\n|bar | &quot;{...}&quot; |\r\n\r\nCurrently I return the strings and they have to be parsed on the client side.\r\n\r\n```java\r\n@Slf4j\r\n@RestController\r\npublic class RestApi {\r\n    @GetMapping(value = &quot;getbyname/{name}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;String&gt; getByName(@PathVariable(&quot;name&quot;) final String name) {\r\n        final String json = getJson(name);\r\n        return ResponseEntity.ok(json);\r\n    }\r\n\r\n    public String getJson(final String name) {\r\n        final String json;\r\n        // get json from database\r\n        return json;\r\n    }\r\n}\r\n```\r\n\r\nI want to expose the real classes to the client but use the already present JSON strings from the\r\ndatabase. Is there a way to add an already created JSON string on the server side, without\r\nusing String as return type? I want to do something like:\r\n\r\n```java\r\n@Slf4j\r\n@RestController\r\npublic class RestApi {\r\n    @GetMapping(value = &quot;getbyname/{name}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;MyClass&gt; getByName(@PathVariable(&quot;name&quot;) final String name) {\r\n        final String json = getJson(name);\r\n        return ResponseEntity\r\n            .ok()\r\n            .type(MyClass.class) // Is something like this possible?\r\n            .body(json);\r\n    }\r\n\r\n    public String getJson(final String name) {\r\n        final String json;\r\n        // get json from database\r\n        return json;\r\n    }\r\n}\r\n```\r\n\r\nOf course I could parse the JSON string and return it, but I would be parsed into a JSON again and back to a object on the client side, which would just be unnecessary.","title":"Return already present JSON strings with a Spring REST API","body":"<p>I have a REST API which provides JSON strings that are stored in a database.\nThe creation of the objects is time consuming, that is why I store the created JSON directly in the database.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>name</th>\n<th>json</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>foo</td>\n<td>&quot;{...}&quot;</td>\n</tr>\n<tr>\n<td>bar</td>\n<td>&quot;{...}&quot;</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Currently I return the strings and they have to be parsed on the client side.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestController\npublic class RestApi {\n    @GetMapping(value = &quot;getbyname/{name}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody\n    public ResponseEntity&lt;String&gt; getByName(@PathVariable(&quot;name&quot;) final String name) {\n        final String json = getJson(name);\n        return ResponseEntity.ok(json);\n    }\n\n    public String getJson(final String name) {\n        final String json;\n        // get json from database\n        return json;\n    }\n}\n</code></pre>\n<p>I want to expose the real classes to the client but use the already present JSON strings from the\ndatabase. Is there a way to add an already created JSON string on the server side, without\nusing String as return type? I want to do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RestController\npublic class RestApi {\n    @GetMapping(value = &quot;getbyname/{name}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody\n    public ResponseEntity&lt;MyClass&gt; getByName(@PathVariable(&quot;name&quot;) final String name) {\n        final String json = getJson(name);\n        return ResponseEntity\n            .ok()\n            .type(MyClass.class) // Is something like this possible?\n            .body(json);\n    }\n\n    public String getJson(final String name) {\n        final String json;\n        // get json from database\n        return json;\n    }\n}\n</code></pre>\n<p>Of course I could parse the JSON string and return it, but I would be parsed into a JSON again and back to a object on the client side, which would just be unnecessary.</p>\n"},{"tags":["java","spring","spring-boot","design-patterns","architecture"],"comments":[{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":2,"creation_date":1685833912,"post_id":76398190,"comment_id":134716845,"body_markdown":"Is there a specific reason for not having a collection of commands in your dog entity?\nIt would makes sense I think to declare a \\@OneToMany List&lt;Command&gt; commands; in Dog. You could also check out the javax.persistance @ElementCollection annotation in my opinion, it might be a good tool for your problem.","body":"Is there a specific reason for not having a collection of commands in your dog entity? It would makes sense I think to declare a \\@OneToMany List&lt;Command&gt; commands; in Dog. You could also check out the javax.persistance @ElementCollection annotation in my opinion, it might be a good tool for your problem."},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1685879012,"post_id":76398190,"comment_id":134719731,"body_markdown":"@Csisanyi I spent a lot of time reading through tutorials, and many seem to claim that it&#39;s better to have a unidirectional `@ManyToOne`. After reading the pitfalls of bidirectional relationships (eg the need to keep them synchronized) I don&#39;t feel advanced enough to weather that. For instance, at the start of this tutorial https://www.bezkoder.com/jpa-one-to-many/ they say it&#39;s best to use unidirectional `@ManyToOne`. This example is a simplified version of my bigger project, in which the `Command` class has more fields, so I&#39;m not sure `@ElementCollection` would work for me","body":"@Csisanyi I spent a lot of time reading through tutorials, and many seem to claim that it&#39;s better to have a unidirectional <code>@ManyToOne</code>. After reading the pitfalls of bidirectional relationships (eg the need to keep them synchronized) I don&#39;t feel advanced enough to weather that. For instance, at the start of this tutorial <a href=\"https://www.bezkoder.com/jpa-one-to-many/\" rel=\"nofollow noreferrer\">bezkoder.com/jpa-one-to-many</a> they say it&#39;s best to use unidirectional <code>@ManyToOne</code>. This example is a simplified version of my bigger project, in which the <code>Command</code> class has more fields, so I&#39;m not sure <code>@ElementCollection</code> would work for me"}],"answers":[{"tags":[],"owner":{"account_id":2271101,"reputation":447,"user_id":2971116,"accept_rate":78,"display_name":"Jonas Schreiber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685850131,"creation_date":1685850131,"answer_id":76398850,"question_id":76398190,"body_markdown":"One way to do this is to make use of business objects.\r\n\r\nWe always want to have the freedom to change domain objects without it impacting our view objects. This means that the domain entities can evolve as the business needs begin to change without altering consumers of your API. \r\n\r\nThe constraint here is that the controllers always exchange DTOs with clients of your API and your repository calls are always handling domain objects. When performing business logic on objects, you usually don&#39;t want to choose one over the other. Either choice feels inappropriate. ","title":"DTO to entity conversion: in service or controller, for manytoone owning side, should service accept DTO","body":"<p>One way to do this is to make use of business objects.</p>\n<p>We always want to have the freedom to change domain objects without it impacting our view objects. This means that the domain entities can evolve as the business needs begin to change without altering consumers of your API.</p>\n<p>The constraint here is that the controllers always exchange DTOs with clients of your API and your repository calls are always handling domain objects. When performing business logic on objects, you usually don't want to choose one over the other. Either choice feels inappropriate.</p>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685978830,"creation_date":1685956871,"answer_id":76405027,"question_id":76398190,"body_markdown":"It looks like you use MVC pattern here. If yes, then I would prefer the following choice:\r\n\r\n    boolean editDog(DogDto dog)\r\n\r\nbecause no logic should be placed in controller. Besause:\r\n\r\n- all cohesive logic should be placed in one place. Better to support this code\r\n- simpler to write tests for controller and logic layer\r\n- because of [separation of concerns][1] and the Single Responsibility Principle of [SOLID][2]. Controller ought to handle requests and nothing more, business layer should have business logic, database layer should contain only code which interacts with database without any logic\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/32581/how-do-you-explain-separation-of-concerns-to-others\r\n  [2]: https://softwareengineering.stackexchange.com/questions/155852/programming-solid-principles","title":"DTO to entity conversion: in service or controller, for manytoone owning side, should service accept DTO","body":"<p>It looks like you use MVC pattern here. If yes, then I would prefer the following choice:</p>\n<pre><code>boolean editDog(DogDto dog)\n</code></pre>\n<p>because no logic should be placed in controller. Besause:</p>\n<ul>\n<li>all cohesive logic should be placed in one place. Better to support this code</li>\n<li>simpler to write tests for controller and logic layer</li>\n<li>because of <a href=\"https://softwareengineering.stackexchange.com/questions/32581/how-do-you-explain-separation-of-concerns-to-others\">separation of concerns</a> and the Single Responsibility Principle of <a href=\"https://softwareengineering.stackexchange.com/questions/155852/programming-solid-principles\">SOLID</a>. Controller ought to handle requests and nothing more, business layer should have business logic, database layer should contain only code which interacts with database without any logic</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28753328,"reputation":31,"user_id":22020873,"display_name":"stackoe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686024076,"creation_date":1686024076,"answer_id":76411373,"question_id":76398190,"body_markdown":"In this request : **/api/dog/edit**\r\n&gt; So a dog can know several commands, and each command is unique for a dog (belongs only to one dog).\r\n&gt; I have a view (website page) that allows the admin to add new commands to each dog and also change the dog&#39;s name.\r\n\r\n**First**, we can analyse this business needs.\r\n\r\nIt should be able to be split into two operations: **Edit dog** , **Save many commands**\r\n\r\nanalyse for these operations:\r\n\r\n 1. When we edit dog info, we should not know which command is related to it.(for dog entity)\r\n 2. But , when we save command, we must be know its relationship to the dog.(for command entity)\r\n\r\n1 and 2 on service:\r\n\r\n    // (for normal conditions it should be judge name not null)\r\n    // SQL like this : UPDATE dog SET name = &#39;xxx&#39; WHERE dog_id = int\r\n    int/boolean editDogName(Dog dog);\r\n\r\n    // normal SQL, judge CollectionUtils.isNotEmpty(commands)\r\n    int/boolean saveCommands(List&lt;Command&gt; commands);\r\n\r\n\r\n**Second**, we should build a top model to support this operation/needs.\r\n\r\n    public class EditDogDTO{\r\n\r\n         @NotNull(message = &quot;id cannot be null&quot;)\r\n         private Long id;\r\n         \r\n         private String name;\r\n         \r\n         private List&lt;String&gt; commands;\r\n\r\n         public Dog getDogEntity(){\r\n                // .....\r\n                return mapper.map(this, Dog.class);\r\n         }\r\n        \r\n         public List&lt;Command&gt; getCommandEntities(Dog dog){\r\n        \r\n                if(CollectionUtils.isNotEmpty(commands)){\r\n                       List&lt;Command&gt; result = new ArrayList&lt;&gt;();\r\n                       for(String s : commands){\r\n                             result.add(new Command(null, s, dog);\r\n                       }\r\n                       return result;\r\n                }\r\n                return Collections.EmptyList();\r\n         }\r\n    }\r\n\r\n**Finally**, we should splice these business logic.\r\n\r\n[First answer][1] and [Second answer][2] is right, all architecture should be follow [SOLID principles][3] .\r\n\r\nController layer should focus on check and wrap return value.So we can create another layout to splice business logic(provider, support....)\r\n\r\n    @Service\r\n    public class DogProvider{\r\n\r\n           @Transactional(....)\r\n           public boolean editDogInfo(EditDogDTO editDTO){\r\n\r\n                 Dog dog = editDTO.getDogEntity();\r\n                 // judge is success\r\n                 if(dogService.editDog(dog).....) return false;\r\n                 // \r\n                 commandService.saveCommands(editDTO.getCommandEntities(dog));\r\n\r\n                 return false;\r\n           }\r\n    }\r\n\r\n\r\n****\r\n\r\n    @Controller\r\n    public class DogProvider{\r\n\r\n        @PostMapping(&quot;edit&quot;)\r\n        @CrossOrigin\r\n        public ResponseEntity&lt;boolean&gt; editDog(@RequestBody @Valid EditDogDTO editDogDTO)  {\r\n\r\n             return ResponseEntity\r\n                               .ok(dogProvider.editDogInfo(editDogDTO))\r\n                               .build();\r\n        }\r\n    }\r\n\r\n\r\nHope my answer can help you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76405027/22020873\r\n  [2]: https://stackoverflow.com/a/76398850/22020873\r\n  [3]: https://en.wikipedia.org/wiki/SOLID","title":"DTO to entity conversion: in service or controller, for manytoone owning side, should service accept DTO","body":"<p>In this request : <strong>/api/dog/edit</strong></p>\n<blockquote>\n<p>So a dog can know several commands, and each command is unique for a dog (belongs only to one dog).\nI have a view (website page) that allows the admin to add new commands to each dog and also change the dog's name.</p>\n</blockquote>\n<p><strong>First</strong>, we can analyse this business needs.</p>\n<p>It should be able to be split into two operations: <strong>Edit dog</strong> , <strong>Save many commands</strong></p>\n<p>analyse for these operations:</p>\n<ol>\n<li>When we edit dog info, we should not know which command is related to it.(for dog entity)</li>\n<li>But , when we save command, we must be know its relationship to the dog.(for command entity)</li>\n</ol>\n<p>1 and 2 on service:</p>\n<pre><code>// (for normal conditions it should be judge name not null)\n// SQL like this : UPDATE dog SET name = 'xxx' WHERE dog_id = int\nint/boolean editDogName(Dog dog);\n\n// normal SQL, judge CollectionUtils.isNotEmpty(commands)\nint/boolean saveCommands(List&lt;Command&gt; commands);\n</code></pre>\n<p><strong>Second</strong>, we should build a top model to support this operation/needs.</p>\n<pre><code>public class EditDogDTO{\n\n     @NotNull(message = &quot;id cannot be null&quot;)\n     private Long id;\n     \n     private String name;\n     \n     private List&lt;String&gt; commands;\n\n     public Dog getDogEntity(){\n            // .....\n            return mapper.map(this, Dog.class);\n     }\n    \n     public List&lt;Command&gt; getCommandEntities(Dog dog){\n    \n            if(CollectionUtils.isNotEmpty(commands)){\n                   List&lt;Command&gt; result = new ArrayList&lt;&gt;();\n                   for(String s : commands){\n                         result.add(new Command(null, s, dog);\n                   }\n                   return result;\n            }\n            return Collections.EmptyList();\n     }\n}\n</code></pre>\n<p><strong>Finally</strong>, we should splice these business logic.</p>\n<p><a href=\"https://stackoverflow.com/a/76405027/22020873\">First answer</a> and <a href=\"https://stackoverflow.com/a/76398850/22020873\">Second answer</a> is right, all architecture should be follow <a href=\"https://en.wikipedia.org/wiki/SOLID\" rel=\"nofollow noreferrer\">SOLID principles</a> .</p>\n<p>Controller layer should focus on check and wrap return value.So we can create another layout to splice business logic(provider, support....)</p>\n<pre><code>@Service\npublic class DogProvider{\n\n       @Transactional(....)\n       public boolean editDogInfo(EditDogDTO editDTO){\n\n             Dog dog = editDTO.getDogEntity();\n             // judge is success\n             if(dogService.editDog(dog).....) return false;\n             // \n             commandService.saveCommands(editDTO.getCommandEntities(dog));\n\n             return false;\n       }\n}\n</code></pre>\n<hr />\n<pre><code>@Controller\npublic class DogProvider{\n\n    @PostMapping(&quot;edit&quot;)\n    @CrossOrigin\n    public ResponseEntity&lt;boolean&gt; editDog(@RequestBody @Valid EditDogDTO editDogDTO)  {\n\n         return ResponseEntity\n                           .ok(dogProvider.editDogInfo(editDogDTO))\n                           .build();\n    }\n}\n</code></pre>\n<p>Hope my answer can help you.</p>\n"}],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686024076,"creation_date":1685829531,"question_id":76398190,"body_markdown":"Suppose I have a simple application with entities like these:\r\n\r\n**Dog.java**:\r\n\r\n```\r\n@Entity(name = &quot;dogs&quot;)\r\npublic class Dog  {\r\n    @Id\r\n    @SequenceGenerator(name = &quot;dog_sequence&quot;,\r\n                            sequenceName = &quot;dog_sequence&quot;,\r\n                            allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE,\r\n                            generator = &quot;dog_sequence&quot;)\r\n    private Long id;\r\n  \r\n    @Column(unique = true)\r\n    private String name;\r\n\r\n    // getters, setters, constructors\r\n}\r\n```\r\n**Command.java**:\r\n\r\n```\r\n@Entity(name = &quot;commands&quot;)\r\npublic class Command  {\r\n    @Id\r\n    @SequenceGenerator(name = &quot;command_sequence&quot;,\r\n                            sequenceName = &quot;command_sequence&quot;,\r\n                            allocationSize = 1)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE,\r\n                            generator = &quot;command_sequence&quot;)\r\n    private Long id;\r\n  \r\n    @Column(unique = true)\r\n    private String name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;dog_id&quot;, nullable = false)\r\n    private Dog dog;\r\n\r\n    // getters, setters, constructors\r\n}\r\n```\r\n\r\nSo a dog can know several commands, and each command is unique for a dog (belongs only to one dog).\r\n\r\nI have a view (website page) that allows the admin to add new commands to each dog and also change the dog&#39;s name.\r\n\r\nOnce done, the view would send a `POST` request to `/api/dog/edit` with JSON like this:\r\n\r\n```\r\n{\r\n  &quot;commands&quot;: [&quot;some command name&quot;, &quot;another command name&quot;],\r\n  &quot;id&quot;: 1,\r\n  &quot;name&quot;: &quot;Updated Dog Name&quot;\r\n}\r\n```\r\n\r\nNow, because the `Dog` entity doesn&#39;t contain a `List&lt;Command&gt;` field, the controller can&#39;t map all of the JSON to the `Dog` entity, so I created a `DogDto`:\r\n\r\n**DogDto.java**:\r\n\r\n```\r\npublic class DogDto  {\r\n  private Long id;\r\n  private String name;\r\n  private List&lt;CommandDto&gt; commands;  \r\n  \r\n\r\n  // getters, setters, constructors\r\n}\r\n```\r\n\r\nand `CommandDto`:\r\n\r\n**CommandDto.java**:\r\n\r\n```\r\npublic class CommandDto  {\r\n  private Long id;\r\n  private String name;\r\n  private DogDto dog;\r\n\r\n  // getters, setters, constructors\r\n}\r\n```\r\nNow my controller can map the JSON passed from view to the `DogDto`:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;api/dog&quot;)\r\npublic class DogController {\r\n    ...\r\n\r\n    @PostMapping(&quot;edit&quot;)\r\n    @CrossOrigin\r\n    public ResponseEntity&lt;DogDto&gt; editDog(@RequestBody DogDto dogDto)  {\r\n      ...\r\n      Dog dog = mapper.map(dogDto, Dog.class);\r\n      List&lt;Command&gt; commands = new ArrayList&lt;&gt;();\r\n      for (CommandDto commandDto: dogDto.getCommands())  {\r\n        Command command = mapper.map(commandDto, Command.class);\r\n        commands.add(command);\r\n      }\r\n      ...\r\n    }\r\n}\r\n```\r\n\r\nNow I can map the `DogDto` to a `Dog` and `Command` entities. But what would be the best way to persist them? Currently my `DogService` has a\r\n\r\n```\r\npublic boolean editDog(Dog dog) {...}\r\n```\r\n\r\nmethod that accepts a dog, tries to find it by ID:\r\n\r\n```\r\nDog foundDog = this.dogRepository.findById(dog.getId());\r\n```\r\nand if the dog was found, update its name field and do `this.dogRepository.save(foundDog);`.\r\n\r\nHowever I also need to save the commands. The `Dog` entity doesn&#39;t contain the list of commands. So I either need to change the `editDog` method signature to `boolean editDog(DogDto dog)` or do it in the controller like this:\r\n\r\n```\r\nfor (Command command: commands)  {\r\n  command.setDog(dogFoundById);\r\n  this.commandService.createCommand(command);\r\n}\r\n```\r\n\r\nI&#39;m lost as to what to do here. \r\n\r\n\r\nAnd I&#39;ve also been wondering what if I had a more complex structure, with more nested entities:\r\n\r\n```\r\npublic class A  {\r\n  ...\r\n  @OneToMany\r\n  private List&lt;B&gt; bs;\r\n}\r\n```\r\n```\r\npublic class C  {\r\n  ...\r\n  @ManyToOne\r\n  private B b;\r\n}\r\n```\r\nwould the best design decision be different?","title":"DTO to entity conversion: in service or controller, for manytoone owning side, should service accept DTO","body":"<p>Suppose I have a simple application with entities like these:</p>\n<p><strong>Dog.java</strong>:</p>\n<pre><code>@Entity(name = &quot;dogs&quot;)\npublic class Dog  {\n    @Id\n    @SequenceGenerator(name = &quot;dog_sequence&quot;,\n                            sequenceName = &quot;dog_sequence&quot;,\n                            allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE,\n                            generator = &quot;dog_sequence&quot;)\n    private Long id;\n  \n    @Column(unique = true)\n    private String name;\n\n    // getters, setters, constructors\n}\n</code></pre>\n<p><strong>Command.java</strong>:</p>\n<pre><code>@Entity(name = &quot;commands&quot;)\npublic class Command  {\n    @Id\n    @SequenceGenerator(name = &quot;command_sequence&quot;,\n                            sequenceName = &quot;command_sequence&quot;,\n                            allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE,\n                            generator = &quot;command_sequence&quot;)\n    private Long id;\n  \n    @Column(unique = true)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;dog_id&quot;, nullable = false)\n    private Dog dog;\n\n    // getters, setters, constructors\n}\n</code></pre>\n<p>So a dog can know several commands, and each command is unique for a dog (belongs only to one dog).</p>\n<p>I have a view (website page) that allows the admin to add new commands to each dog and also change the dog's name.</p>\n<p>Once done, the view would send a <code>POST</code> request to <code>/api/dog/edit</code> with JSON like this:</p>\n<pre><code>{\n  &quot;commands&quot;: [&quot;some command name&quot;, &quot;another command name&quot;],\n  &quot;id&quot;: 1,\n  &quot;name&quot;: &quot;Updated Dog Name&quot;\n}\n</code></pre>\n<p>Now, because the <code>Dog</code> entity doesn't contain a <code>List&lt;Command&gt;</code> field, the controller can't map all of the JSON to the <code>Dog</code> entity, so I created a <code>DogDto</code>:</p>\n<p><strong>DogDto.java</strong>:</p>\n<pre><code>public class DogDto  {\n  private Long id;\n  private String name;\n  private List&lt;CommandDto&gt; commands;  \n  \n\n  // getters, setters, constructors\n}\n</code></pre>\n<p>and <code>CommandDto</code>:</p>\n<p><strong>CommandDto.java</strong>:</p>\n<pre><code>public class CommandDto  {\n  private Long id;\n  private String name;\n  private DogDto dog;\n\n  // getters, setters, constructors\n}\n</code></pre>\n<p>Now my controller can map the JSON passed from view to the <code>DogDto</code>:</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;api/dog&quot;)\npublic class DogController {\n    ...\n\n    @PostMapping(&quot;edit&quot;)\n    @CrossOrigin\n    public ResponseEntity&lt;DogDto&gt; editDog(@RequestBody DogDto dogDto)  {\n      ...\n      Dog dog = mapper.map(dogDto, Dog.class);\n      List&lt;Command&gt; commands = new ArrayList&lt;&gt;();\n      for (CommandDto commandDto: dogDto.getCommands())  {\n        Command command = mapper.map(commandDto, Command.class);\n        commands.add(command);\n      }\n      ...\n    }\n}\n</code></pre>\n<p>Now I can map the <code>DogDto</code> to a <code>Dog</code> and <code>Command</code> entities. But what would be the best way to persist them? Currently my <code>DogService</code> has a</p>\n<pre><code>public boolean editDog(Dog dog) {...}\n</code></pre>\n<p>method that accepts a dog, tries to find it by ID:</p>\n<pre><code>Dog foundDog = this.dogRepository.findById(dog.getId());\n</code></pre>\n<p>and if the dog was found, update its name field and do <code>this.dogRepository.save(foundDog);</code>.</p>\n<p>However I also need to save the commands. The <code>Dog</code> entity doesn't contain the list of commands. So I either need to change the <code>editDog</code> method signature to <code>boolean editDog(DogDto dog)</code> or do it in the controller like this:</p>\n<pre><code>for (Command command: commands)  {\n  command.setDog(dogFoundById);\n  this.commandService.createCommand(command);\n}\n</code></pre>\n<p>I'm lost as to what to do here.</p>\n<p>And I've also been wondering what if I had a more complex structure, with more nested entities:</p>\n<pre><code>public class A  {\n  ...\n  @OneToMany\n  private List&lt;B&gt; bs;\n}\n</code></pre>\n<pre><code>public class C  {\n  ...\n  @ManyToOne\n  private B b;\n}\n</code></pre>\n<p>would the best design decision be different?</p>\n"},{"tags":["java","mssql-jdbc"],"owner":{"account_id":27549075,"reputation":9,"user_id":21024451,"display_name":"abhinav singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686023846,"creation_date":1686023846,"question_id":76411365,"body_markdown":"Class not found exception in jdk Class not found exception in jdk 17 apache NetBeans \r\n.Class not found exception in jdk 17 apache NetBeans.\r\n.Class not found exception in jdk 17 apache NetBeans.Class not found exception in jdk 17 apache NetBeans \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Class not found exception in Apache NetBeans jdk version 17,but I&#39;m adding jar file but they still, how to resolve it plz help me","body":"<p>Class not found exception in jdk Class not found exception in jdk 17 apache NetBeans\n.Class not found exception in jdk 17 apache NetBeans.\n.Class not found exception in jdk 17 apache NetBeans.Class not found exception in jdk 17 apache NetBeans</p>\n"},{"tags":["java","file-io","java.util.scanner","filenotfoundexception"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1686006750,"post_id":76410500,"comment_id":134737566,"body_markdown":"It looks like the space in the name of the directory is causing a process to be confused.  As a test, copy the directory to `buzz_lightyear` , use that, and see if it makes a difference.","body":"It looks like the space in the name of the directory is causing a process to be confused.  As a test, copy the directory to <code>buzz_lightyear</code> , use that, and see if it makes a difference."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1686007820,"post_id":76410500,"comment_id":134737643,"body_markdown":"`Scanner.next()` is doing this. Use `Scanner.nextLine()`.","body":"<code>Scanner.next()</code> is doing this. Use <code>Scanner.nextLine()</code>."},{"owner":{"account_id":28760296,"reputation":11,"user_id":22026346,"display_name":"David H."},"score":0,"creation_date":1686008768,"post_id":76410500,"comment_id":134737716,"body_markdown":"okay, I changed the method from scanner.next() to scanner.nextLine(). I am still getting the error message: &quot;C:\\Users\\buzz lightyear\\Desktop\\File Converter\\src\\fileConverter\\&lt;file name&gt;&quot; (The filename, directory name, or volume label syntax is incorrect)&quot;, but I will try changing the file directory to buzz_lightyear. Thanks for the help so far, everyone.","body":"okay, I changed the method from scanner.next() to scanner.nextLine(). I am still getting the error message: &quot;C:\\Users\\buzz lightyear\\Desktop\\File Converter\\src\\fileConverter\\&lt;file name&gt;&quot; (The filename, directory name, or volume label syntax is incorrect)&quot;, but I will try changing the file directory to buzz_lightyear. Thanks for the help so far, everyone."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1686014304,"post_id":76410500,"comment_id":134738137,"body_markdown":"Using a debugger, set a breakpoint, and check what `inputFile` and `outputFile` actually contain.","body":"Using a debugger, set a breakpoint, and check what <code>inputFile</code> and <code>outputFile</code> actually contain."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1686014517,"post_id":76410500,"comment_id":134738146,"body_markdown":"If the problem is caused by the space in `buzz lightyear`, it would also be caused by the space in `File Converter`.  So, change `buzz lightyear` to `buzz_lightyear` **and** `File Converter` to `File_Converter` and anywhere else a space occurs in the pathname.","body":"If the problem is caused by the space in <code>buzz lightyear</code>, it would also be caused by the space in <code>File Converter</code>.  So, change <code>buzz lightyear</code> to <code>buzz_lightyear</code> <b>and</b> <code>File Converter</code> to <code>File_Converter</code> and anywhere else a space occurs in the pathname."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686022538,"post_id":76410500,"comment_id":134738720,"body_markdown":"Please post your current code. Edit it into your question, without removing the original code.","body":"Please post your current code. Edit it into your question, without removing the original code."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1686069403,"post_id":76410500,"comment_id":134747459,"body_markdown":"Also print out names of the paths before you use them, the text you&#39;ve shown can&#39;t match what happens if you&#39;ve switched to `nextLine()`. Don&#39;t type in quotes or extra leading or trailing spaces.","body":"Also print out names of the paths before you use them, the text you&#39;ve shown can&#39;t match what happens if you&#39;ve switched to <code>nextLine()</code>. Don&#39;t type in quotes or extra leading or trailing spaces."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1686089672,"post_id":76410500,"comment_id":134750961,"body_markdown":"Seeing that you expect to enter 2 items from the console, may I suggest using an alternative to `scanner = new Scanner (System.in);`?  For debugging, just after `public static void main (String [] args) {`, add this line: `System.out.println(&quot;Starting program with &quot; + args.length + &quot; args: &quot; + Arrays.toString(args) + &quot;\\n&quot;);`. Instead of using `scanner`, create 2 aliases: `String inputFile = args[0]; String outputFile = args[1];`. When you run the program, include the names or pathnames of the files on the command line. You might want throw an exception if `args.length != 2`.","body":"Seeing that you expect to enter 2 items from the console, may I suggest using an alternative to <code>scanner = new Scanner (System.in);</code>?  For debugging, just after <code>public static void main (String [] args) {</code>, add this line: <code>System.out.println(&quot;Starting program with &quot; + args.length + &quot; args: &quot; + Arrays.toString(args) + &quot;\\n&quot;);</code>. Instead of using <code>scanner</code>, create 2 aliases: <code>String inputFile = args[0]; String outputFile = args[1];</code>. When you run the program, include the names or pathnames of the files on the command line. You might want throw an exception if <code>args.length != 2</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1686104629,"post_id":76410500,"comment_id":134752185,"body_markdown":"Example run: `java -jar misc3.jar &quot;fee fie foe fum&quot; red green blue &quot;\\&quot;Pat\\&quot; \\&quot;Chris\\&quot; \\&quot;Sandy\\&quot;&quot;`  Output: `Starting program with 5 args: [fee fie foe fum, red, green, blue, &quot;Pat&quot; &quot;Chris&quot; &quot;Sandy&quot;]`. This does not attempt to use file names. It shows a quoted String with 3 spaces, 3 Strings, each of which have no whitespace, and  a String with embedded quotes. Note the commas in the output.","body":"Example run: <code>java -jar misc3.jar &quot;fee fie foe fum&quot; red green blue &quot;\\&quot;Pat\\&quot; \\&quot;Chris\\&quot; \\&quot;Sandy\\&quot;&quot;</code>  Output: <code>Starting program with 5 args: [fee fie foe fum, red, green, blue, &quot;Pat&quot; &quot;Chris&quot; &quot;Sandy&quot;]</code>. This does not attempt to use file names. It shows a quoted String with 3 spaces, 3 Strings, each of which have no whitespace, and  a String with embedded quotes. Note the commas in the output."}],"answers":[{"tags":[],"owner":{"account_id":19666618,"reputation":21,"user_id":14396895,"display_name":"James Ledbury"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686008462,"creation_date":1686008462,"answer_id":76410605,"question_id":76410500,"body_markdown":"Your problem seems to be the use of scanner.next() reads until whitespace, so when you give it the path C:\\Buzz Lightyear it will only read C:\\Buzz.\r\n\r\nInstead use nextLine()\r\n\r\nHope this helps.","title":"File I/O Error: filename, directory name, or volume label syntax is incorrect","body":"<p>Your problem seems to be the use of scanner.next() reads until whitespace, so when you give it the path C:\\Buzz Lightyear it will only read C:\\Buzz.</p>\n<p>Instead use nextLine()</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":28760296,"reputation":11,"user_id":22026346,"display_name":"David H."},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686022503,"creation_date":1686006261,"question_id":76410500,"body_markdown":"I am trying to write a program in Java that accepts a CSV file as user input (either as a file name or file path). The program removes all whitespaces greater than or equal to 3, and replaces it with a comma. The program will then save the modified file to a new location with a user-specified name. I&#39;m currently having difficulties reading files from the user. I get the following error message when I provide an input file:\r\n\r\n    An error occurred: &quot;C:\\...\\buzz (The filename, directory name, or volume label syntax is incorrect)&quot;\r\n\r\nHere is my main method that runs the program:\r\n\r\n```\r\npackage fileConverter;\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Program {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter file name or location:&quot;);\r\n        String inputFile = scanner.next();\r\n\r\n        System.out.println(&quot;Enter output file name or location:&quot;);\r\n        String outputFile = scanner.next();\r\n\r\n        try {\r\n            FileConverter.convertWhitespaceToComma(inputFile, outputFile);\r\n            System.out.println(&quot;Conversion complete. Output written to &quot; + outputFile);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;An error occurred: &quot; + e.getMessage());\r\n        } finally { \r\n            scanner.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis main method calls &quot;FileConverter.java&quot; which is provided below:\r\n\r\n```\r\npackage fileConverter;\r\n\r\nimport java.io.*;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class FileConverter {\r\n\r\n    public static void convertWhitespaceToComma(String inputFile, String outputFile) throws IOException {\r\n\r\n        // Create a regex pattern for matching whitespace sequences of length 3 or more\r\n        Pattern pattern = Pattern.compile(&quot;\\\\s{3,}&quot;);\r\n\r\n        FileReader fr = new FileReader(inputFile);\r\n        BufferedReader br = new BufferedReader(fr);\r\n\r\n        FileWriter fw = new FileWriter(outputFile);\r\n        BufferedWriter bw = new BufferedWriter(fw);\r\n\r\n        String line;\r\n\r\n        while ((line = br.readLine()) != null) {\r\n\r\n            // Replace all matched whitespace sequences with commas\r\n            String modifiedLine = line.replaceAll(pattern.pattern(), &quot;,&quot;);\r\n            bw.write(modifiedLine);\r\n            bw.newLine();\r\n        }\r\n        bw.close();\r\n        fw.close();\r\n        br.close();\r\n        fr.close();\r\n    }\r\n}\r\n```\r\n\r\nI have a try-catch block in main which prints an error message (`e.getMessage()`), and that is where this error message is coming from:\r\n\r\n    An error occurred: &quot;C:\\...\\buzz (The filename, directory name, or volume label syntax is incorrect)&quot;\r\n\r\nWhen I compile and run the program this is what comes out of the terminal:\r\n\r\n    Enter file name or location:\r\n    &quot;C:\\...\\buzz lightyear\\...\\File Converter\\src\\fileConverter\\&lt;filename.txt&gt;&quot;\r\n    Enter output file name or location:\r\n    An error occurred: &quot;C:\\Users\\buzz (The filename, directory name, or volume label syntax is incorrect)\r\n    C:\\...\\buzz lightyear\\...\\File Converter&gt; \r\n\r\nI know there are probably other issues with my code, but let me get this figured out and I will work on tackling the rest!\r\n\r\nAny help and/or suggestions are appreciated. I am just trying to identify why the file can&#39;t be recognized. Thank you!\r\n\r\nAs a workaround, I tried providing the file name instead of the full path, but I get this error message instead:\r\n\r\n    The system cannot find the file specified\r\n","title":"File I/O Error: filename, directory name, or volume label syntax is incorrect","body":"<p>I am trying to write a program in Java that accepts a CSV file as user input (either as a file name or file path). The program removes all whitespaces greater than or equal to 3, and replaces it with a comma. The program will then save the modified file to a new location with a user-specified name. I'm currently having difficulties reading files from the user. I get the following error message when I provide an input file:</p>\n<pre><code>An error occurred: &quot;C:\\...\\buzz (The filename, directory name, or volume label syntax is incorrect)&quot;\n</code></pre>\n<p>Here is my main method that runs the program:</p>\n<pre><code>package fileConverter;\n\nimport java.io.*;\nimport java.util.*;\n\npublic class Program {\n\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.println(&quot;Enter file name or location:&quot;);\n        String inputFile = scanner.next();\n\n        System.out.println(&quot;Enter output file name or location:&quot;);\n        String outputFile = scanner.next();\n\n        try {\n            FileConverter.convertWhitespaceToComma(inputFile, outputFile);\n            System.out.println(&quot;Conversion complete. Output written to &quot; + outputFile);\n        } catch (IOException e) {\n            System.out.println(&quot;An error occurred: &quot; + e.getMessage());\n        } finally { \n            scanner.close();\n        }\n    }\n}\n</code></pre>\n<p>This main method calls &quot;FileConverter.java&quot; which is provided below:</p>\n<pre><code>package fileConverter;\n\nimport java.io.*;\nimport java.util.regex.Pattern;\n\npublic class FileConverter {\n\n    public static void convertWhitespaceToComma(String inputFile, String outputFile) throws IOException {\n\n        // Create a regex pattern for matching whitespace sequences of length 3 or more\n        Pattern pattern = Pattern.compile(&quot;\\\\s{3,}&quot;);\n\n        FileReader fr = new FileReader(inputFile);\n        BufferedReader br = new BufferedReader(fr);\n\n        FileWriter fw = new FileWriter(outputFile);\n        BufferedWriter bw = new BufferedWriter(fw);\n\n        String line;\n\n        while ((line = br.readLine()) != null) {\n\n            // Replace all matched whitespace sequences with commas\n            String modifiedLine = line.replaceAll(pattern.pattern(), &quot;,&quot;);\n            bw.write(modifiedLine);\n            bw.newLine();\n        }\n        bw.close();\n        fw.close();\n        br.close();\n        fr.close();\n    }\n}\n</code></pre>\n<p>I have a try-catch block in main which prints an error message (<code>e.getMessage()</code>), and that is where this error message is coming from:</p>\n<pre><code>An error occurred: &quot;C:\\...\\buzz (The filename, directory name, or volume label syntax is incorrect)&quot;\n</code></pre>\n<p>When I compile and run the program this is what comes out of the terminal:</p>\n<pre><code>Enter file name or location:\n&quot;C:\\...\\buzz lightyear\\...\\File Converter\\src\\fileConverter\\&lt;filename.txt&gt;&quot;\nEnter output file name or location:\nAn error occurred: &quot;C:\\Users\\buzz (The filename, directory name, or volume label syntax is incorrect)\nC:\\...\\buzz lightyear\\...\\File Converter&gt; \n</code></pre>\n<p>I know there are probably other issues with my code, but let me get this figured out and I will work on tackling the rest!</p>\n<p>Any help and/or suggestions are appreciated. I am just trying to identify why the file can't be recognized. Thank you!</p>\n<p>As a workaround, I tried providing the file name instead of the full path, but I get this error message instead:</p>\n<pre><code>The system cannot find the file specified\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":7336268,"reputation":4279,"user_id":5587542,"display_name":"Valerio Vaudi"},"score":0,"creation_date":1685996886,"post_id":76409207,"comment_id":134736364,"body_markdown":"please more details otherwise become hard support you to find and solve the issue","body":"please more details otherwise become hard support you to find and solve the issue"}],"owner":{"account_id":28759386,"reputation":1,"user_id":22025654,"display_name":"Ivan Shelemekh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686022433,"creation_date":1685990792,"question_id":76409207,"body_markdown":"I got this error: \r\n\r\nclass com.sun.mail.handlers.text_html cannot be cast to class jakarta.activation.DataContentHandler. \r\n\r\nHow to fix it? \r\n\r\nWhy com.sun instead of Jakarta? \r\n\r\nI tried to add jakarta.activation dependency but I got this error.","title":"When JavaMailSender sends message this error has appeared. Please any ideas?","body":"<p>I got this error:</p>\n<p>class com.sun.mail.handlers.text_html cannot be cast to class jakarta.activation.DataContentHandler.</p>\n<p>How to fix it?</p>\n<p>Why com.sun instead of Jakarta?</p>\n<p>I tried to add jakarta.activation dependency but I got this error.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":131217,"reputation":4366,"user_id":331059,"accept_rate":65,"display_name":"Bwmat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317254884,"creation_date":1317254884,"answer_id":7591081,"question_id":7591063,"body_markdown":"your problem is that * is greedy. Try `\\$(.*?)\\$` instead\r\n\r\n$abc$12def$def$$11$ = $ followed by 0 or more [anything] (which happens to be abc$12def$def$$11 in this case) followed by $\r\n\r\nusing *? makes the regex engine stop consuming characters as early as possible\r\n         ","title":"Get group values in Java using Pattern class?","body":"<p>your problem is that * is greedy. Try <code>\\$(.*?)\\$</code> instead</p>\n\n<p>$abc$12def$def$$11$ = $ followed by 0 or more [anything] (which happens to be abc$12def$def$$11 in this case) followed by $</p>\n\n<p>using *? makes the regex engine stop consuming characters as early as possible</p>\n"}],"owner":{"account_id":809495,"reputation":41,"user_id":914617,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686022377,"creation_date":1317254708,"question_id":7591063,"body_markdown":"I am trying to use Pattern and Matcher class to extract matches out of a string.\r\n\r\nMy string is as follows: `$abc$12def$def$$11$`\r\n\r\nI want to get `$abc$`, `$def$` and `$11$` from this string.\r\n\r\nI thought of using the following regex: `\\$(.*)\\$` (This works fine in normal pattern matching).\r\n\r\nMy java program is unable to get these. All it returns me is the entire string. Here is my program:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public final class dollar {\r\n    \r\n      private static String REGEX = &quot;\\\\$(.*)\\\\$&quot;;\r\n    \r\n      private static String INPUT = &quot;$12f$$555$button button$abc0$&quot;;\r\n    \r\n      public static void main(String[] args) {\r\n        Pattern p = Pattern.compile(REGEX);\r\n        Matcher m = p.matcher(INPUT); // get a matcher object\r\n        boolean found = m.find();\r\n        while (found) {\r\n          System.out.println(&quot;TEST:&quot; + m.start());\r\n          System.out.println(&quot;TEST:&quot; + m.end());\r\n          found = m.find();\r\n        }\r\n      }\r\n    }\r\n\r\nI also tried the following:\r\n\r\n    m.matches()\r\n    m.groupCount()\r\n    m.group(1)\r\n    m.group(2)\r\n\r\nBut this does not work too. How to get this done? Can it be done on jdk6 or something is available in jdk7?","title":"Get group values in Java using Pattern class?","body":"<p>I am trying to use Pattern and Matcher class to extract matches out of a string.</p>\n<p>My string is as follows: <code>$abc$12def$def$$11$</code></p>\n<p>I want to get <code>$abc$</code>, <code>$def$</code> and <code>$11$</code> from this string.</p>\n<p>I thought of using the following regex: <code>\\$(.*)\\$</code> (This works fine in normal pattern matching).</p>\n<p>My java program is unable to get these. All it returns me is the entire string. Here is my program:</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic final class dollar {\n\n  private static String REGEX = &quot;\\\\$(.*)\\\\$&quot;;\n\n  private static String INPUT = &quot;$12f$$555$button button$abc0$&quot;;\n\n  public static void main(String[] args) {\n    Pattern p = Pattern.compile(REGEX);\n    Matcher m = p.matcher(INPUT); // get a matcher object\n    boolean found = m.find();\n    while (found) {\n      System.out.println(&quot;TEST:&quot; + m.start());\n      System.out.println(&quot;TEST:&quot; + m.end());\n      found = m.find();\n    }\n  }\n}\n</code></pre>\n<p>I also tried the following:</p>\n<pre><code>m.matches()\nm.groupCount()\nm.group(1)\nm.group(2)\n</code></pre>\n<p>But this does not work too. How to get this done? Can it be done on jdk6 or something is available in jdk7?</p>\n"},{"tags":["java","java-stream","grouping"],"answers":[{"tags":[],"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685635120,"creation_date":1685635120,"answer_id":76383740,"question_id":76383416,"body_markdown":"groupingBy is such a powerful collector :\r\n\r\n    public Map&lt;String, Boolean&gt; determineActiveGroups(Map&lt;String, PropertyValueDefinitionGroupView&gt; standardPvdgMap) {\r\n        return standardPvdgMap.values()\r\n                .stream()\r\n                .filter(pvdgView -&gt; pvdgView.getPropGroupOid() != null)\r\n                .collect(Collectors.groupingBy(\r\n                        PropertyValueDefinitionGroupView::getPropGroupName,\r\n                        Collectors.mapping(\r\n                                PropertyValueDefinitionGroupView::getPropValActive,\r\n                                Collectors.reducing(false, (a, b) -&gt; a || b))\r\n                ));\r\n    }\r\n\r\nThe trick is knowing that you can apply further collectors on the downstream. In this case I map to the flag, and then reduce the flags using the logical or.","title":"Group list of objects into Map&lt;String, Boolean&gt; with value being true if any object in group has field set as true using Java stream API","body":"<p>groupingBy is such a powerful collector :</p>\n<pre><code>public Map&lt;String, Boolean&gt; determineActiveGroups(Map&lt;String, PropertyValueDefinitionGroupView&gt; standardPvdgMap) {\n    return standardPvdgMap.values()\n            .stream()\n            .filter(pvdgView -&gt; pvdgView.getPropGroupOid() != null)\n            .collect(Collectors.groupingBy(\n                    PropertyValueDefinitionGroupView::getPropGroupName,\n                    Collectors.mapping(\n                            PropertyValueDefinitionGroupView::getPropValActive,\n                            Collectors.reducing(false, (a, b) -&gt; a || b))\n            ));\n}\n</code></pre>\n<p>The trick is knowing that you can apply further collectors on the downstream. In this case I map to the flag, and then reduce the flags using the logical or.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686022280,"creation_date":1686022280,"answer_id":76411281,"question_id":76383416,"body_markdown":"Have you ever tried: [Collectors.toMap(Function, Function, BinaryOperator)][1]?\r\n\r\n    standardPvdgMap.values()\r\n            .stream()\r\n            .filter(pvdgView -&gt; pvdgView.getPropGroupOid() != null)\r\n            .collect(toMap(it -&gt; it.getPropGroupName(), \r\n                           it -&gt; it.getPropValActive(), \r\n                           (a, b) -&gt; a || b))); \r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)","title":"Group list of objects into Map&lt;String, Boolean&gt; with value being true if any object in group has field set as true using Java stream API","body":"<p>Have you ever tried: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\">Collectors.toMap(Function, Function, BinaryOperator)</a>?</p>\n<pre><code>standardPvdgMap.values()\n        .stream()\n        .filter(pvdgView -&gt; pvdgView.getPropGroupOid() != null)\n        .collect(toMap(it -&gt; it.getPropGroupName(), \n                       it -&gt; it.getPropValActive(), \n                       (a, b) -&gt; a || b))); \n</code></pre>\n"}],"owner":{"account_id":1971679,"reputation":3447,"user_id":1770430,"accept_rate":74,"display_name":"Nzall"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76383740,"answer_count":2,"score":0,"last_activity_date":1686022280,"creation_date":1685632697,"question_id":76383416,"body_markdown":"In a Java 17 project, I have a collection of objects with a String field propGroupName representing the group this object belongs to and a Boolean field propValActive representing whether this object is flagged as active internally.\r\n\r\nI want to aggregate these objects by the string field into a Map&lt;String, Boolean&gt; with the key being the String field and the Boolean being false if all the booleans in the group are false and true if 1 or more of the booleans in the group are false. I have a working implementation with a simple for loop, but I want to know if there is a way to do this grouping through the Java Stream API, preferably in a way that short circuits? The goal is that I want to know of every group whether there are any objects in that group flagged as active.\r\n\r\nI currently have this implementation which doesn&#39;t use the Streams API and doesn&#39;t short circuit:\r\n\r\n    public Map&lt;String, Boolean&gt; determineActiveGroups(\r\n\t\t\tHashMap&lt;String, PropertyValueDefinitionGroupView&gt; standardPvdgMap) {\r\n\t\tMap&lt;String, Boolean&gt; activeGroupsMap = new HashMap&lt;String, Boolean&gt;();\r\n\t\tfor (PropertyValueDefinitionGroupView pvdgView : standardPvdgMap.values()) {\r\n\t\t\tif(pvdgView.getPropGroupOid() == null) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tactiveGroupsMap.putIfAbsent(pvdgView.getPropGroupName(), false);\r\n\t\t\tif(pvdgView.getPropValActive()) {\r\n\t\t\t\tactiveGroupsMap.put(pvdgView.getPropGroupName(), true);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn activeGroupsMap;\r\n\t}\r\n\r\nI have a different bit of code somewhere else that does something similar, but it retains the lists, and I managed to adapt something similar for what I need but I don&#39;t know what predicate I can use to finish it with. I assume it&#39;s going to use anyMatch, but I have no idea how to integrate it:\r\n\r\n    Map&lt;String, Boolean&gt; activeGroups = standardPvdgMap.values().stream()\r\n        .collect(Collectors.groupingBy(PropertyValueDefinitionGroupView::getPropGroupName, ???????));","title":"Group list of objects into Map&lt;String, Boolean&gt; with value being true if any object in group has field set as true using Java stream API","body":"<p>In a Java 17 project, I have a collection of objects with a String field propGroupName representing the group this object belongs to and a Boolean field propValActive representing whether this object is flagged as active internally.</p>\n<p>I want to aggregate these objects by the string field into a Map&lt;String, Boolean&gt; with the key being the String field and the Boolean being false if all the booleans in the group are false and true if 1 or more of the booleans in the group are false. I have a working implementation with a simple for loop, but I want to know if there is a way to do this grouping through the Java Stream API, preferably in a way that short circuits? The goal is that I want to know of every group whether there are any objects in that group flagged as active.</p>\n<p>I currently have this implementation which doesn't use the Streams API and doesn't short circuit:</p>\n<pre><code>public Map&lt;String, Boolean&gt; determineActiveGroups(\n        HashMap&lt;String, PropertyValueDefinitionGroupView&gt; standardPvdgMap) {\n    Map&lt;String, Boolean&gt; activeGroupsMap = new HashMap&lt;String, Boolean&gt;();\n    for (PropertyValueDefinitionGroupView pvdgView : standardPvdgMap.values()) {\n        if(pvdgView.getPropGroupOid() == null) {\n            continue;\n        }\n        activeGroupsMap.putIfAbsent(pvdgView.getPropGroupName(), false);\n        if(pvdgView.getPropValActive()) {\n            activeGroupsMap.put(pvdgView.getPropGroupName(), true);\n        }\n    }\n    return activeGroupsMap;\n}\n</code></pre>\n<p>I have a different bit of code somewhere else that does something similar, but it retains the lists, and I managed to adapt something similar for what I need but I don't know what predicate I can use to finish it with. I assume it's going to use anyMatch, but I have no idea how to integrate it:</p>\n<pre><code>Map&lt;String, Boolean&gt; activeGroups = standardPvdgMap.values().stream()\n    .collect(Collectors.groupingBy(PropertyValueDefinitionGroupView::getPropGroupName, ???????));\n</code></pre>\n"},{"tags":["java","regex","scala"],"comments":[{"owner":{"account_id":133275,"reputation":138770,"user_id":334519,"accept_rate":75,"display_name":"Travis Brown"},"score":0,"creation_date":1475086257,"post_id":39754604,"comment_id":66805582,"body_markdown":"Fwiw, in [this little library](https://github.com/travisbrown/expressier) I have a parser for patterns since I needed access to names (among other things).","body":"Fwiw, in <a href=\"https://github.com/travisbrown/expressier\" rel=\"nofollow noreferrer\">this little library</a> I have a parser for patterns since I needed access to names (among other things)."},{"owner":{"account_id":216107,"reputation":32723,"user_id":471136,"accept_rate":77,"display_name":"pathikrit"},"score":0,"creation_date":1475086985,"post_id":39754604,"comment_id":66806074,"body_markdown":"@Tunaki: I provided explanation why this is not a duplicate of the question you marked as.","body":"@Tunaki: I provided explanation why this is not a duplicate of the question you marked as."},{"owner":{"account_id":216107,"reputation":32723,"user_id":471136,"accept_rate":77,"display_name":"pathikrit"},"score":0,"creation_date":1475087014,"post_id":39754604,"comment_id":66806090,"body_markdown":"@TravisBrown: Thanks for the link. Can you give a sketch of how you achieved the named group extraction?","body":"@TravisBrown: Thanks for the link. Can you give a sketch of how you achieved the named group extraction?"},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1475087174,"post_id":39754604,"comment_id":66806175,"body_markdown":"The linked question is also asking how to find the group name for a match, exactly like your question. In that linked question, they could only get the matched value and their index; and they want the name, like you. In order to find a group, you need to match. In fact, the top answer even bolds *from the match*.","body":"The linked question is also asking how to find the group name for a match, exactly like your question. In that linked question, they could only get the matched value and their index; and they want the name, like you. In order to find a group, you need to match. In fact, the top answer even bolds <i>from the match</i>."},{"owner":{"account_id":216107,"reputation":32723,"user_id":471136,"accept_rate":77,"display_name":"pathikrit"},"score":0,"creation_date":1475087355,"post_id":39754604,"comment_id":66806273,"body_markdown":"@Tunaki: If you look at the answers for that question - it is answering how to get a Map from group-name to pattern string given a regex. I am asking, given a Match, I need to know the group name.","body":"@Tunaki: If you look at the answers for that question - it is answering how to get a Map from group-name to pattern string given a regex. I am asking, given a Match, I need to know the group name."},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1475087484,"post_id":39754604,"comment_id":66806345,"body_markdown":"It is not answering that. It is answering the question (and what is also your question) which is &quot;how to get the group name from a captured group&quot;. And the answer show how to do that in an example with a map from the name of the capturing group to the captured value.","body":"It is not answering that. It is answering the question (and what is also your question) which is &quot;how to get the group name from a captured group&quot;. And the answer show how to do that in an example with a map from the name of the capturing group to the captured value."}],"answers":[{"tags":[],"owner":{"account_id":216107,"reputation":32723,"user_id":471136,"accept_rate":77,"display_name":"pathikrit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1475163575,"creation_date":1475163575,"answer_id":39774614,"question_id":39754604,"body_markdown":"Here is my attempt in Scala:\r\n\r\n    import java.util.regex.{MatchResult, Pattern}\r\n    \r\n    class GroupNamedRegex(pattern: Pattern, namedGroups: Set[String]) {\r\n      def this(regex: String) = this(Pattern.compile(regex), \r\n        &quot;\\\\(\\\\?&lt;([a-zA-Z][a-zA-Z0-9]*)&gt;&quot;.r.findAllMatchIn(regex).map(_.group(1)).toSet)\r\n    \r\n      def findNamedMatches(s: String): Iterator[GroupNamedRegex.Match] = new Iterator[GroupNamedRegex.Match] {\r\n        private[this] val m = pattern.matcher(s)\r\n        private[this] var _hasNext = m.find()\r\n    \r\n        override def hasNext = _hasNext\r\n    \r\n        override def next() = {\r\n          val ans = GroupNamedRegex.Match(m.toMatchResult, namedGroups.find(group =&gt; m.group(group) != null))\r\n          _hasNext = m.find()\r\n          ans\r\n        }\r\n      }\r\n    }\r\n    \r\n    object GroupNamedRegex extends App {\r\n      case class Match(result: MatchResult, groupName: Option[String])\r\n    \r\n      val r = new GroupNamedRegex(&quot;(?&lt;FB&gt;(FACE(\\\\p{Space}?)BOOK))|(?&lt;GOOGL&gt;(GOOGL(E)?))&quot;)\r\n      println(r.findNamedMatches(&quot;FACEBOOK is buying GOOGLE and FACE BOOK FB&quot;).map(s =&gt; s.groupName -&gt; s.result.group()).toList)\r\n    }","title":"How to get the names of the regex named capturing group in a match in Java?","body":"<p>Here is my attempt in Scala:</p>\n\n<pre><code>import java.util.regex.{MatchResult, Pattern}\n\nclass GroupNamedRegex(pattern: Pattern, namedGroups: Set[String]) {\n  def this(regex: String) = this(Pattern.compile(regex), \n    \"\\\\(\\\\?&lt;([a-zA-Z][a-zA-Z0-9]*)&gt;\".r.findAllMatchIn(regex).map(_.group(1)).toSet)\n\n  def findNamedMatches(s: String): Iterator[GroupNamedRegex.Match] = new Iterator[GroupNamedRegex.Match] {\n    private[this] val m = pattern.matcher(s)\n    private[this] var _hasNext = m.find()\n\n    override def hasNext = _hasNext\n\n    override def next() = {\n      val ans = GroupNamedRegex.Match(m.toMatchResult, namedGroups.find(group =&gt; m.group(group) != null))\n      _hasNext = m.find()\n      ans\n    }\n  }\n}\n\nobject GroupNamedRegex extends App {\n  case class Match(result: MatchResult, groupName: Option[String])\n\n  val r = new GroupNamedRegex(\"(?&lt;FB&gt;(FACE(\\\\p{Space}?)BOOK))|(?&lt;GOOGL&gt;(GOOGL(E)?))\")\n  println(r.findNamedMatches(\"FACEBOOK is buying GOOGLE and FACE BOOK FB\").map(s =&gt; s.groupName -&gt; s.result.group()).toList)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547206970,"creation_date":1547206970,"answer_id":54145869,"question_id":39754604,"body_markdown":"You could use the [named-regexp][1] Java library. It is a thin wrapper around `java.util.regex` with named capture groups support, primarily for pre-Java-7 users, but it also contains the methods to inspect the group names (which appears to be missing even from Java 11):\r\n\r\n- [Pattern#groupNames][2]\r\n- [Matcher#namedGroups][3]\r\n\r\n[1]: http://tony19.github.io/named-regexp/\r\n[2]: http://tony19.github.io/named-regexp/doc/0.2.5/com/google/code/regexp/Pattern.html#groupNames()\r\n[3]: http://tony19.github.io/named-regexp/doc/0.2.5/com/google/code/regexp/Matcher.html#namedGroups%28%29","title":"How to get the names of the regex named capturing group in a match in Java?","body":"<p>You could use the <a href=\"http://tony19.github.io/named-regexp/\" rel=\"nofollow noreferrer\">named-regexp</a> Java library. It is a thin wrapper around <code>java.util.regex</code> with named capture groups support, primarily for pre-Java-7 users, but it also contains the methods to inspect the group names (which appears to be missing even from Java 11):</p>\n\n<ul>\n<li><a href=\"http://tony19.github.io/named-regexp/doc/0.2.5/com/google/code/regexp/Pattern.html#groupNames()\" rel=\"nofollow noreferrer\">Pattern#groupNames</a></li>\n<li><a href=\"http://tony19.github.io/named-regexp/doc/0.2.5/com/google/code/regexp/Matcher.html#namedGroups%28%29\" rel=\"nofollow noreferrer\">Matcher#namedGroups</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686022143,"creation_date":1686022143,"answer_id":76411275,"question_id":39754604,"body_markdown":"Java 20 is adding the [`namedGroups`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/MatchResult.html#namedGroups()) method to `MatchResult` (which [`Matcher`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html) implements).  This can be used to get the current match group name in your example.\r\n\r\nHere is a Java implementation:\r\n\r\n\r\n```lang-java\r\nwhile(matcher.find()) {\r\n    System.out.printf(&quot;Group=%s matches substring=%s at position=[%s,%s)%n&quot;,\r\n            getCurrentGroupName(matcher), \r\n            matcher.group(), matcher.start(), matcher.end());\r\n}\r\n```\r\n\r\n```lang-java\r\nprivate static String getCurrentGroupName(Matcher matcher) {\r\n    return matcher.namedGroups().keySet().stream()\r\n            .filter(n -&gt; matcher.group(n) != null)\r\n            .findFirst().orElse(null);\r\n}\r\n```","title":"How to get the names of the regex named capturing group in a match in Java?","body":"<p>Java 20 is adding the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/MatchResult.html#namedGroups()\" rel=\"nofollow noreferrer\"><code>namedGroups</code></a> method to <code>MatchResult</code> (which <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\"><code>Matcher</code></a> implements).  This can be used to get the current match group name in your example.</p>\n<p>Here is a Java implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while(matcher.find()) {\n    System.out.printf(&quot;Group=%s matches substring=%s at position=[%s,%s)%n&quot;,\n            getCurrentGroupName(matcher), \n            matcher.group(), matcher.start(), matcher.end());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private static String getCurrentGroupName(Matcher matcher) {\n    return matcher.namedGroups().keySet().stream()\n            .filter(n -&gt; matcher.group(n) != null)\n            .findFirst().orElse(null);\n}\n</code></pre>\n"}],"owner":{"account_id":216107,"reputation":32723,"user_id":471136,"accept_rate":77,"display_name":"pathikrit"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4205,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":39774614,"answer_count":3,"score":2,"last_activity_date":1686022143,"creation_date":1475085659,"question_id":39754604,"body_markdown":"Given:\r\n\r\n\r\n    String text = &quot;FACEBOOK is buying GOOGLE and FACE BOOK&quot;;\r\n\r\nand:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;(?&lt;FB&gt;(FACE(\\\\p{Space}?)BOOK))|(?&lt;GOOGL&gt;(GOOGL(E)?))&quot;);\r\n    Matcher matcher = pattern.matcher(text);\r\n\r\n\r\nI want to get something like this:\r\n\r\n    Group=FB matches substring=&quot;FACEBOOK&quot; at position=[0, 8)\r\n    Group=GOOGL matches substring=&quot;GOOGLE&quot; at position=[19, 25)\r\n    Group=FB matches substring=&quot;FACE BOOK&quot; at position=[30, 39)\r\n\r\nHowever, I have been unable to get the group name. Here is my attempt in Scala:\r\n\r\n    import java.util.regex.Pattern\r\n      val pattern = Pattern.compile(&quot;(?&lt;FB&gt;(FACE(\\\\p{Space}?)BOOK))|(?&lt;GOOGL&gt;(GOOGL(E)?))&quot;)\r\n      val text = &quot;FACEBOOK is buying GOOGLE and FACE BOOK&quot;\r\n      val matcher = pattern.matcher(text)\r\n    \r\n      while(matcher.find()) {\r\n        println(s&quot;Group=???? matches substring=${matcher.group()} at position=[${matcher.start},${matcher.end})&quot;)\r\n      }\r\n\r\n\r\nEDIT:\r\nSomeone marked this as a duplicate of https://stackoverflow.com/questions/15588903/get-group-names-in-java-regex but this is a different question. This is asking given a MATCH, how to find the group name. The other question is asking how to get the group-name to String (or index) given a Pattern object.","title":"How to get the names of the regex named capturing group in a match in Java?","body":"<p>Given:</p>\n\n<pre><code>String text = \"FACEBOOK is buying GOOGLE and FACE BOOK\";\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"(?&lt;FB&gt;(FACE(\\\\p{Space}?)BOOK))|(?&lt;GOOGL&gt;(GOOGL(E)?))\");\nMatcher matcher = pattern.matcher(text);\n</code></pre>\n\n<p>I want to get something like this:</p>\n\n<pre><code>Group=FB matches substring=\"FACEBOOK\" at position=[0, 8)\nGroup=GOOGL matches substring=\"GOOGLE\" at position=[19, 25)\nGroup=FB matches substring=\"FACE BOOK\" at position=[30, 39)\n</code></pre>\n\n<p>However, I have been unable to get the group name. Here is my attempt in Scala:</p>\n\n<pre><code>import java.util.regex.Pattern\n  val pattern = Pattern.compile(\"(?&lt;FB&gt;(FACE(\\\\p{Space}?)BOOK))|(?&lt;GOOGL&gt;(GOOGL(E)?))\")\n  val text = \"FACEBOOK is buying GOOGLE and FACE BOOK\"\n  val matcher = pattern.matcher(text)\n\n  while(matcher.find()) {\n    println(s\"Group=???? matches substring=${matcher.group()} at position=[${matcher.start},${matcher.end})\")\n  }\n</code></pre>\n\n<p>EDIT:\nSomeone marked this as a duplicate of <a href=\"https://stackoverflow.com/questions/15588903/get-group-names-in-java-regex\">Get group names in java regex</a> but this is a different question. This is asking given a MATCH, how to find the group name. The other question is asking how to get the group-name to String (or index) given a Pattern object.</p>\n"},{"tags":["java","security","jar","jogl"],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1356549111,"creation_date":1356549111,"answer_id":14045065,"question_id":14044624,"body_markdown":"It looks as if you have not signed the jar (hence the &quot;sandboxed&quot; bit).\r\n\r\nWriting trusted Java code that can safely be used by untrusted code is *really*, *really* difficult.","title":"Security Exception: Attempted to to open a sandboxed jar as a Trusted-Library","body":"<p>It looks as if you have not signed the jar (hence the \"sandboxed\" bit).</p>\n\n<p>Writing trusted Java code that can safely be used by untrusted code is <em>really</em>, <em>really</em> difficult.</p>\n"},{"tags":[],"owner":{"account_id":1951979,"reputation":109,"user_id":1755873,"display_name":"Artur Witek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381768483,"creation_date":1381768483,"answer_id":19364905,"question_id":14044624,"body_markdown":"I had similar issue - the root cause was Java JRE installed as both 32bit and 64bit versions - basically there were 2 separate app entries visible in the &quot;Control Panel/Add or remove programs&quot; list.\r\n\r\nApparently this was confisung my web browser (IE) and/or java plugin. Removing both JRE versions from the system, then installing the latest JRE from scratch solved the problem.\r\n\r\nMy issue was seen on Java 7u25.","title":"Security Exception: Attempted to to open a sandboxed jar as a Trusted-Library","body":"<p>I had similar issue - the root cause was Java JRE installed as both 32bit and 64bit versions - basically there were 2 separate app entries visible in the \"Control Panel/Add or remove programs\" list.</p>\n\n<p>Apparently this was confisung my web browser (IE) and/or java plugin. Removing both JRE versions from the system, then installing the latest JRE from scratch solved the problem.</p>\n\n<p>My issue was seen on Java 7u25.</p>\n"},{"tags":[],"owner":{"account_id":13087154,"reputation":134,"user_id":9455798,"display_name":"Vishnu Mari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686022025,"creation_date":1686022025,"answer_id":76411269,"question_id":14044624,"body_markdown":"This is due to JRE version, try to use by .01 lower version or higher version.","title":"Security Exception: Attempted to to open a sandboxed jar as a Trusted-Library","body":"<p>This is due to JRE version, try to use by .01 lower version or higher version.</p>\n"}],"owner":{"account_id":1529447,"reputation":2425,"user_id":1427033,"accept_rate":82,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31657,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14045065,"answer_count":3,"score":3,"last_activity_date":1686022025,"creation_date":1356546663,"question_id":14044624,"body_markdown":"I&#39;m trying to run an applet via a webpage but doing so gives me the error:\r\n\r\n    java.lang.reflect.InvocationTargeException\r\n           at com.sun.deploy.util.DeployAWTUtil.invokeAndWait(DeployAWTUtil.java:116)\r\n           at sun.plugin2.applet.Plugin2Manager.runOnEDT(Plugin2Manager.java:3520)\r\n           at sun.plugin2.applet.Plugin2Manager.createApplet(Plugin2Manager.java:3051)\r\n           at sun.plugin2.applet.Plugin2Manager$AppletExecutionRunnable.run(Plugin2Manager.java:1497)\r\n           at java.lang.Thread.run(Thread.java:662)\r\n    Caused by:java.lang.SecurityExcption: attempted to open sandboxed jar file :/home/daniel/workspace/project/jars/jogl/jogl.all.jar as a Trusted-Library\r\n           at com.sun.deploy.security.CPCallbackHandlers$ParentElement.checkResources(CPCallbackHandler.java:358)\r\n           at com.sun.deploy.security.DeployURLClassPath$JarLoader.checkResource(DeployURLClassPath:852)\r\n           ....more stuff I don&#39;t want to have to retype but I can if necessary\r\n\r\nand I don&#39;t understand why. I&#39;m trying to get at several jars with my applet but this is the only one that&#39;s causing the problem (at least for the moment). I looked at [this similar question][1], but since I don&#39;t have an extra library (unless the applet.class counts which I haven&#39;t signed anyway), this doesn&#39;t seem to apply here. I looked at [Mixing Signed and Unsigned Code][2], but &quot;Enable - show warning if needed&quot; is clicked, &quot;Trusted-Library: true&quot; is in the MANAFEST file, and I&#39;m running firefox 3.6.24 (as specific for a Linux machine which I have). I&#39;d appreciated your help.\r\n\r\n\r\njogl.all.jar&#39;s MANAFEST file:\r\n\r\n    Manifer-Version: 1.0\r\n    Ant-Version: Apache Ant 1.8.2\r\n    Created-By: 1.6.0_24-b07 (Sun Microsystems Inc.)\r\n    Specification-Title: Java Bindings for OpenGL API Specification\r\n    Specification-Version: 2.0\r\n    Specificaiton-Vender: JogAMp Community\r\n    Implementation-Title: Java Bindings for OpenGL Runtime Environment\r\n    Implementation-Version: 2.0-b23-20110303\r\n    Implementation-Branch: rc\r\n    Implementation-Commit: bcf5d6ac871a29398b441df617923d3dd2cf35c1\r\n    Implementation-Vendor: JogAmp Community\r\n    Implementation-URL: http://jogamo.org/\r\n    Extension-Name: javax.media.opengl\r\n    Implementation-Vendor-Id: com.jogamp\r\n    Trusted-Library: true\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7093935/java-webstart-attempt-to-sandboxed-jar-as-trusted-library\r\n  [2]: http://docs.oracle.com/javase/6/docs/technotes/guides/jweb/mixed_code.html#manifest","title":"Security Exception: Attempted to to open a sandboxed jar as a Trusted-Library","body":"<p>I'm trying to run an applet via a webpage but doing so gives me the error:</p>\n\n<pre><code>java.lang.reflect.InvocationTargeException\n       at com.sun.deploy.util.DeployAWTUtil.invokeAndWait(DeployAWTUtil.java:116)\n       at sun.plugin2.applet.Plugin2Manager.runOnEDT(Plugin2Manager.java:3520)\n       at sun.plugin2.applet.Plugin2Manager.createApplet(Plugin2Manager.java:3051)\n       at sun.plugin2.applet.Plugin2Manager$AppletExecutionRunnable.run(Plugin2Manager.java:1497)\n       at java.lang.Thread.run(Thread.java:662)\nCaused by:java.lang.SecurityExcption: attempted to open sandboxed jar file :/home/daniel/workspace/project/jars/jogl/jogl.all.jar as a Trusted-Library\n       at com.sun.deploy.security.CPCallbackHandlers$ParentElement.checkResources(CPCallbackHandler.java:358)\n       at com.sun.deploy.security.DeployURLClassPath$JarLoader.checkResource(DeployURLClassPath:852)\n       ....more stuff I don't want to have to retype but I can if necessary\n</code></pre>\n\n<p>and I don't understand why. I'm trying to get at several jars with my applet but this is the only one that's causing the problem (at least for the moment). I looked at <a href=\"https://stackoverflow.com/questions/7093935/java-webstart-attempt-to-sandboxed-jar-as-trusted-library\">this similar question</a>, but since I don't have an extra library (unless the applet.class counts which I haven't signed anyway), this doesn't seem to apply here. I looked at <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/jweb/mixed_code.html#manifest\" rel=\"nofollow noreferrer\">Mixing Signed and Unsigned Code</a>, but \"Enable - show warning if needed\" is clicked, \"Trusted-Library: true\" is in the MANAFEST file, and I'm running firefox 3.6.24 (as specific for a Linux machine which I have). I'd appreciated your help.</p>\n\n<p>jogl.all.jar's MANAFEST file:</p>\n\n<pre><code>Manifer-Version: 1.0\nAnt-Version: Apache Ant 1.8.2\nCreated-By: 1.6.0_24-b07 (Sun Microsystems Inc.)\nSpecification-Title: Java Bindings for OpenGL API Specification\nSpecification-Version: 2.0\nSpecificaiton-Vender: JogAMp Community\nImplementation-Title: Java Bindings for OpenGL Runtime Environment\nImplementation-Version: 2.0-b23-20110303\nImplementation-Branch: rc\nImplementation-Commit: bcf5d6ac871a29398b441df617923d3dd2cf35c1\nImplementation-Vendor: JogAmp Community\nImplementation-URL: http://jogamo.org/\nExtension-Name: javax.media.opengl\nImplementation-Vendor-Id: com.jogamp\nTrusted-Library: true\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1364054856,"post_id":15588903,"comment_id":22103135,"body_markdown":"Where does the pattern come from?","body":"Where does the pattern come from?"},{"owner":{"account_id":1469458,"reputation":2060,"user_id":1381379,"accept_rate":75,"display_name":"Roy Reznik"},"score":0,"creation_date":1364054909,"post_id":15588903,"comment_id":22103158,"body_markdown":"It comes from an loaded XML file, but I don&#39;t know in advance what it&#39;ll be.","body":"It comes from an loaded XML file, but I don&#39;t know in advance what it&#39;ll be."}],"answers":[{"tags":[],"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1450320345,"creation_date":1364055190,"answer_id":15588989,"question_id":15588903,"body_markdown":"There is no API in Java to obtain the names of the named capturing groups. I think this is a missing feature.\r\n\r\nThe easy way out is to pick out candidate named capturing groups from the pattern, then try to access the named group **from the match**. In other words, you don&#39;t know the exact names of the named capturing groups, until you plug in a string that matches the whole pattern.\r\n\r\nThe `Pattern` to capture the names of the named capturing group is `\\(\\?&lt;([a-zA-Z][a-zA-Z0-9]*)&gt;` (derived based on [`Pattern` class documentation](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#groupname)).\r\n\r\n(The hard way is to implement a parser for regex and get the names of the capturing groups).\r\n\r\nA sample implementation:\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Set;\r\n    import java.util.TreeSet;\r\n    import java.util.Iterator;\r\n    import java.util.regex.Pattern;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.MatchResult;\r\n    \r\n    class RegexTester {\r\n    \r\n        public static void main(String args[]) {\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            String regex = scanner.nextLine();\r\n            StringBuilder input = new StringBuilder();\r\n            while (scanner.hasNextLine()) {\r\n                input.append(scanner.nextLine()).append(&#39;\\n&#39;);\r\n            }\r\n    \r\n            Set&lt;String&gt; namedGroups = getNamedGroupCandidates(regex);\r\n    \r\n            Pattern p = Pattern.compile(regex);\r\n            Matcher m = p.matcher(input);\r\n            int groupCount = m.groupCount();\r\n    \r\n            int matchCount = 0;\r\n    \r\n            if (m.find()) {\r\n                // Remove invalid groups\r\n                Iterator&lt;String&gt; i = namedGroups.iterator();\r\n                while (i.hasNext()) {\r\n                    try {\r\n                        m.group(i.next());\r\n                    } catch (IllegalArgumentException e) {\r\n                        i.remove();\r\n                    }\r\n                }\r\n    \r\n                matchCount += 1;\r\n                System.out.println(&quot;Match &quot; + matchCount + &quot;:&quot;);\r\n                System.out.println(&quot;=&quot; + m.group() + &quot;=&quot;);\r\n                System.out.println();\r\n                printMatches(m, namedGroups);\r\n    \r\n                while (m.find()) {\r\n                    matchCount += 1;\r\n                    System.out.println(&quot;Match &quot; + matchCount + &quot;:&quot;);\r\n                    System.out.println(&quot;=&quot; + m.group() + &quot;=&quot;);\r\n                    System.out.println();\r\n                    printMatches(m, namedGroups);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static void printMatches(Matcher matcher, Set&lt;String&gt; namedGroups) {\r\n            for (String name: namedGroups) {\r\n                String matchedString = matcher.group(name);\r\n                if (matchedString != null) {\r\n                    System.out.println(name + &quot;=&quot; + matchedString + &quot;=&quot;);\r\n                } else {\r\n                    System.out.println(name + &quot;_&quot;);\r\n                }\r\n            }\r\n    \r\n            System.out.println();\r\n    \r\n            for (int i = 1; i &lt; matcher.groupCount(); i++) {\r\n                String matchedString = matcher.group(i);\r\n                if (matchedString != null) {\r\n                    System.out.println(i + &quot;=&quot; + matchedString + &quot;=&quot;);\r\n                } else {\r\n                    System.out.println(i + &quot;_&quot;);\r\n                }\r\n            }\r\n    \r\n            System.out.println();\r\n        }\r\n    \r\n        private static Set&lt;String&gt; getNamedGroupCandidates(String regex) {\r\n            Set&lt;String&gt; namedGroups = new TreeSet&lt;String&gt;();\r\n    \r\n            Matcher m = Pattern.compile(&quot;\\\\(\\\\?&lt;([a-zA-Z][a-zA-Z0-9]*)&gt;&quot;).matcher(regex);\r\n    \r\n                while (m.find()) {\r\n                    namedGroups.add(m.group(1));\r\n                }\r\n    \r\n                return namedGroups;\r\n            }\r\n        }\r\n    }\r\n\r\nThere is a caveat to this implementation, though. It currently doesn&#39;t work with regex in [`Pattern.COMMENTS`](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#COMMENTS) mode.","title":"Get group names in java regex","body":"<p>There is no API in Java to obtain the names of the named capturing groups. I think this is a missing feature.</p>\n\n<p>The easy way out is to pick out candidate named capturing groups from the pattern, then try to access the named group <strong>from the match</strong>. In other words, you don't know the exact names of the named capturing groups, until you plug in a string that matches the whole pattern.</p>\n\n<p>The <code>Pattern</code> to capture the names of the named capturing group is <code>\\(\\?&lt;([a-zA-Z][a-zA-Z0-9]*)&gt;</code> (derived based on <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#groupname\"><code>Pattern</code> class documentation</a>).</p>\n\n<p>(The hard way is to implement a parser for regex and get the names of the capturing groups).</p>\n\n<p>A sample implementation:</p>\n\n<pre><code>import java.util.Scanner;\nimport java.util.Set;\nimport java.util.TreeSet;\nimport java.util.Iterator;\nimport java.util.regex.Pattern;\nimport java.util.regex.Matcher;\nimport java.util.regex.MatchResult;\n\nclass RegexTester {\n\n    public static void main(String args[]) {\n        Scanner scanner = new Scanner(System.in);\n\n        String regex = scanner.nextLine();\n        StringBuilder input = new StringBuilder();\n        while (scanner.hasNextLine()) {\n            input.append(scanner.nextLine()).append('\\n');\n        }\n\n        Set&lt;String&gt; namedGroups = getNamedGroupCandidates(regex);\n\n        Pattern p = Pattern.compile(regex);\n        Matcher m = p.matcher(input);\n        int groupCount = m.groupCount();\n\n        int matchCount = 0;\n\n        if (m.find()) {\n            // Remove invalid groups\n            Iterator&lt;String&gt; i = namedGroups.iterator();\n            while (i.hasNext()) {\n                try {\n                    m.group(i.next());\n                } catch (IllegalArgumentException e) {\n                    i.remove();\n                }\n            }\n\n            matchCount += 1;\n            System.out.println(\"Match \" + matchCount + \":\");\n            System.out.println(\"=\" + m.group() + \"=\");\n            System.out.println();\n            printMatches(m, namedGroups);\n\n            while (m.find()) {\n                matchCount += 1;\n                System.out.println(\"Match \" + matchCount + \":\");\n                System.out.println(\"=\" + m.group() + \"=\");\n                System.out.println();\n                printMatches(m, namedGroups);\n            }\n        }\n    }\n\n    private static void printMatches(Matcher matcher, Set&lt;String&gt; namedGroups) {\n        for (String name: namedGroups) {\n            String matchedString = matcher.group(name);\n            if (matchedString != null) {\n                System.out.println(name + \"=\" + matchedString + \"=\");\n            } else {\n                System.out.println(name + \"_\");\n            }\n        }\n\n        System.out.println();\n\n        for (int i = 1; i &lt; matcher.groupCount(); i++) {\n            String matchedString = matcher.group(i);\n            if (matchedString != null) {\n                System.out.println(i + \"=\" + matchedString + \"=\");\n            } else {\n                System.out.println(i + \"_\");\n            }\n        }\n\n        System.out.println();\n    }\n\n    private static Set&lt;String&gt; getNamedGroupCandidates(String regex) {\n        Set&lt;String&gt; namedGroups = new TreeSet&lt;String&gt;();\n\n        Matcher m = Pattern.compile(\"\\\\(\\\\?&lt;([a-zA-Z][a-zA-Z0-9]*)&gt;\").matcher(regex);\n\n            while (m.find()) {\n                namedGroups.add(m.group(1));\n            }\n\n            return namedGroups;\n        }\n    }\n}\n</code></pre>\n\n<p>There is a caveat to this implementation, though. It currently doesn't work with regex in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#COMMENTS\"><code>Pattern.COMMENTS</code></a> mode.</p>\n"},{"tags":[],"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1418710138,"creation_date":1364110103,"answer_id":15596145,"question_id":15588903,"body_markdown":"This is the second easy approach to the problem: we will call the non-public method `namedGroups()` in Pattern class to obtain a `Map&lt;String, Integer&gt;` that maps group names to the group numbers via [**Java Reflection API**](http://docs.oracle.com/javase/tutorial/reflect/index.html). The advantage of this approach is that we don&#39;t need a string that contains a match to the regex to find the exact named groups.\r\n\r\n&lt;sup&gt;Personally, I think it is not much of an advantage, since it is useless to know the named groups of a regex where a match to the regex does not exist among the input strings.&lt;/sup&gt;\r\n\r\n**However, please take note of [the drawbacks](http://docs.oracle.com/javase/tutorial/reflect/index.html)**:\r\n\r\n- This approach may not apply if the code is run in a system with security restrictions to deny any attempts to gain access to non-public methods (no modifier, protected and private methods).\r\n- The code is only applicable to JRE from Oracle or OpenJDK.\r\n- The code may also break in future releases, since we are calling a non-public method.\r\n- There may also be performance hit from calling function via reflection. (In this case, the performance hit mainly comes from the reflection overhead, since there is not much going on in `namedGroups()` method). I do not know *how the performance hit affects overall performance*, so please do measurement on your system.\r\n\r\n---\r\n\r\n    import java.util.Collections;\r\n    import java.util.Map;\r\n    import java.util.Scanner;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import java.lang.reflect.Method;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    \r\n    class RegexTester {\r\n      public static void main(String args[]) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        \r\n        String regex = scanner.nextLine();\r\n        // String regex = &quot;(?&lt;group&gt;[a-z]*)[trick(?&lt;nothing&gt;ha)]\\\\Q(?&lt;quoted&gt;Q+E+)\\\\E(.*)(?&lt;Another6group&gt;\\\\w+)&quot;;\r\n        Pattern p = Pattern.compile(regex);\r\n        \r\n        Map&lt;String, Integer&gt; namedGroups = null;\r\n        try {\r\n          namedGroups = getNamedGroups(p);\r\n        } catch (Exception e) {\r\n          // Just an example here. You need to handle the Exception properly\r\n          e.printStackTrace();\r\n        }\r\n        \r\n        System.out.println(namedGroups);\r\n      }\r\n    \r\n      \r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      private static Map&lt;String, Integer&gt; getNamedGroups(Pattern regex)\r\n          throws NoSuchMethodException, SecurityException,\r\n                 IllegalAccessException, IllegalArgumentException,\r\n                 InvocationTargetException {\r\n\r\n        Method namedGroupsMethod = Pattern.class.getDeclaredMethod(&quot;namedGroups&quot;);\r\n        namedGroupsMethod.setAccessible(true);\r\n     \r\n        Map&lt;String, Integer&gt; namedGroups = null;\r\n        namedGroups = (Map&lt;String, Integer&gt;) namedGroupsMethod.invoke(regex);\r\n        \r\n        if (namedGroups == null) {\r\n          throw new InternalError();\r\n        }\r\n    \r\n        return Collections.unmodifiableMap(namedGroups);\r\n      }\r\n    }","title":"Get group names in java regex","body":"<p>This is the second easy approach to the problem: we will call the non-public method <code>namedGroups()</code> in Pattern class to obtain a <code>Map&lt;String, Integer&gt;</code> that maps group names to the group numbers via <a href=\"http://docs.oracle.com/javase/tutorial/reflect/index.html\"><strong>Java Reflection API</strong></a>. The advantage of this approach is that we don't need a string that contains a match to the regex to find the exact named groups.</p>\n\n<p><sup>Personally, I think it is not much of an advantage, since it is useless to know the named groups of a regex where a match to the regex does not exist among the input strings.</sup></p>\n\n<p><strong>However, please take note of <a href=\"http://docs.oracle.com/javase/tutorial/reflect/index.html\">the drawbacks</a></strong>:</p>\n\n<ul>\n<li>This approach may not apply if the code is run in a system with security restrictions to deny any attempts to gain access to non-public methods (no modifier, protected and private methods).</li>\n<li>The code is only applicable to JRE from Oracle or OpenJDK.</li>\n<li>The code may also break in future releases, since we are calling a non-public method.</li>\n<li>There may also be performance hit from calling function via reflection. (In this case, the performance hit mainly comes from the reflection overhead, since there is not much going on in <code>namedGroups()</code> method). I do not know <em>how the performance hit affects overall performance</em>, so please do measurement on your system.</li>\n</ul>\n\n<hr>\n\n<pre><code>import java.util.Collections;\nimport java.util.Map;\nimport java.util.Scanner;\nimport java.util.regex.Pattern;\n\nimport java.lang.reflect.Method;\nimport java.lang.reflect.InvocationTargetException;\n\nclass RegexTester {\n  public static void main(String args[]) {\n    Scanner scanner = new Scanner(System.in);\n\n    String regex = scanner.nextLine();\n    // String regex = \"(?&lt;group&gt;[a-z]*)[trick(?&lt;nothing&gt;ha)]\\\\Q(?&lt;quoted&gt;Q+E+)\\\\E(.*)(?&lt;Another6group&gt;\\\\w+)\";\n    Pattern p = Pattern.compile(regex);\n\n    Map&lt;String, Integer&gt; namedGroups = null;\n    try {\n      namedGroups = getNamedGroups(p);\n    } catch (Exception e) {\n      // Just an example here. You need to handle the Exception properly\n      e.printStackTrace();\n    }\n\n    System.out.println(namedGroups);\n  }\n\n\n  @SuppressWarnings(\"unchecked\")\n  private static Map&lt;String, Integer&gt; getNamedGroups(Pattern regex)\n      throws NoSuchMethodException, SecurityException,\n             IllegalAccessException, IllegalArgumentException,\n             InvocationTargetException {\n\n    Method namedGroupsMethod = Pattern.class.getDeclaredMethod(\"namedGroups\");\n    namedGroupsMethod.setAccessible(true);\n\n    Map&lt;String, Integer&gt; namedGroups = null;\n    namedGroups = (Map&lt;String, Integer&gt;) namedGroupsMethod.invoke(regex);\n\n    if (namedGroups == null) {\n      throw new InternalError();\n    }\n\n    return Collections.unmodifiableMap(namedGroups);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":150404,"reputation":42099,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1547210805,"creation_date":1429018892,"answer_id":29628979,"question_id":15588903,"body_markdown":"You want to use the small [name-regexp][1] library. It is a thin wrapper around `java.util.regex` with named capture groups support for Java 5 or 6 users.\r\n\r\n###Sample usage:\r\n\r\n    Pattern p = Pattern.compile(&quot;(?&lt;user&gt;.*)&quot;);\r\n    Matcher m = p.matcher(&quot;JohnDoe&quot;);\r\n    System.out.println(m.namedGroups()); // {user=JohnDoe}\r\n\r\n###Maven:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.tony19&lt;/groupId&gt;\r\n      &lt;artifactId&gt;named-regexp&lt;/artifactId&gt;\r\n      &lt;version&gt;0.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n***References:***\r\n\r\n* [name-regexp 0.2.5][1]\r\n* [Matcher#namedGroups][3]\r\n\r\n\r\n  [1]: http://tony19.github.io/named-regexp/\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#group(java.lang.String)\r\n  [3]: http://tony19.github.io/named-regexp/doc/0.2.5/com/google/code/regexp/Matcher.html#namedGroups%28%29\r\n  [4]: https://blogs.oracle.com/xuemingshen/entry/named_capturing_group_in_jdk7","title":"Get group names in java regex","body":"<p>You want to use the small <a href=\"http://tony19.github.io/named-regexp/\" rel=\"nofollow noreferrer\">name-regexp</a> library. It is a thin wrapper around <code>java.util.regex</code> with named capture groups support for Java 5 or 6 users.</p>\n\n<h3>Sample usage:</h3>\n\n<pre><code>Pattern p = Pattern.compile(\"(?&lt;user&gt;.*)\");\nMatcher m = p.matcher(\"JohnDoe\");\nSystem.out.println(m.namedGroups()); // {user=JohnDoe}\n</code></pre>\n\n<h3>Maven:</h3>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.tony19&lt;/groupId&gt;\n  &lt;artifactId&gt;named-regexp&lt;/artifactId&gt;\n  &lt;version&gt;0.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong><em>References:</em></strong></p>\n\n<ul>\n<li><a href=\"http://tony19.github.io/named-regexp/\" rel=\"nofollow noreferrer\">name-regexp 0.2.5</a></li>\n<li><a href=\"http://tony19.github.io/named-regexp/doc/0.2.5/com/google/code/regexp/Matcher.html#namedGroups%28%29\" rel=\"nofollow noreferrer\">Matcher#namedGroups</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541669404,"creation_date":1541669404,"answer_id":53204856,"question_id":15588903,"body_markdown":"There is no way to do this with the standard API. You can use reflection to access these:\r\n\r\n    final Field namedGroups = pattern.getClass().getDeclaredField(&quot;namedGroups&quot;);\r\n    namedGroups.setAccessible(true);\r\n    final Map&lt;String, Integer&gt; nameToGroupIndex = (Map&lt;String, Integer&gt;) namedGroups.get(pattern);\r\n\r\nUse the key set of the map if you don&#39;t care about indexes.","title":"Get group names in java regex","body":"<p>There is no way to do this with the standard API. You can use reflection to access these:</p>\n\n<pre><code>final Field namedGroups = pattern.getClass().getDeclaredField(\"namedGroups\");\nnamedGroups.setAccessible(true);\nfinal Map&lt;String, Integer&gt; nameToGroupIndex = (Map&lt;String, Integer&gt;) namedGroups.get(pattern);\n</code></pre>\n\n<p>Use the key set of the map if you don't care about indexes.</p>\n"},{"tags":[],"owner":{"account_id":16975098,"reputation":21,"user_id":14709165,"display_name":"caiosduarte"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1606337520,"creation_date":1606337520,"answer_id":65012527,"question_id":15588903,"body_markdown":"I used a pattern of groups of regex into the &quot;real&quot; pattern to get the names of the groups, like that:\r\n\r\n    \t\tList&lt;String&gt; namedGroups = new ArrayList&lt;String&gt;();\r\n\t\t{\r\n\t\t\tString normalized = matcher.pattern().toString();\r\n\t\t\tMatcher mG = Pattern.compile(&quot;\\\\(\\\\?&lt;(.+?)&gt;.*?\\\\)&quot;).matcher(normalized);\r\n\r\n\t\t\twhile (mG.find()) {\r\n\t\t\t\tfor (int i = 1; i &lt;= mG.groupCount(); i++) {\r\n\t\t\t\t\tnamedGroups.add(mG.group(i));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\nAnd then, I added the names with the values into a HashMap&lt;String, String&gt;:\r\n\r\n \r\n\r\n\t\t\tMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;(matcher.groupCount());\r\n\t\t\t\r\n\t\t\tnamedGroups.stream().forEach(name -&gt; {\t\t\r\n\t\t\t\tif (matcher.start(name) &gt; 0) {\r\n\t\t\t\t\tmap.put(name, matcher.group(name));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmap.put(name, &quot;&quot;);\r\n\t\t\t\t}\r\n\t\t\t});","title":"Get group names in java regex","body":"<p>I used a pattern of groups of regex into the &quot;real&quot; pattern to get the names of the groups, like that:</p>\n<pre><code>        List&lt;String&gt; namedGroups = new ArrayList&lt;String&gt;();\n    {\n        String normalized = matcher.pattern().toString();\n        Matcher mG = Pattern.compile(&quot;\\\\(\\\\?&lt;(.+?)&gt;.*?\\\\)&quot;).matcher(normalized);\n\n        while (mG.find()) {\n            for (int i = 1; i &lt;= mG.groupCount(); i++) {\n                namedGroups.add(mG.group(i));\n            }\n        }\n    }\n</code></pre>\n<p>And then, I added the names with the values into a HashMap&lt;String, String&gt;:</p>\n<pre><code>        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;(matcher.groupCount());\n        \n        namedGroups.stream().forEach(name -&gt; {      \n            if (matcher.start(name) &gt; 0) {\n                map.put(name, matcher.group(name));\n            } else {\n                map.put(name, &quot;&quot;);\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685996141,"creation_date":1641931230,"answer_id":70672759,"question_id":15588903,"body_markdown":"Versions of Java prior to version 20 had no way to achieve this through the standard API.\r\n\r\nThis was a long-recognized need, as evidenced by JDK Bug System issue [JDK-7032377 &quot;MatchResult and Pattern should provide a way to query names of named-capturing groups&quot;](https://bugs.openjdk.java.net/browse/JDK-7032377).  This issue requested that the named capturing groups be exposed through the `MatchResult` and `Pattern` APIs.  This issue was created in 2011, and the functionality was finally implemented in 2022 for Java 20.","title":"Get group names in java regex","body":"<p>Versions of Java prior to version 20 had no way to achieve this through the standard API.</p>\n<p>This was a long-recognized need, as evidenced by JDK Bug System issue <a href=\"https://bugs.openjdk.java.net/browse/JDK-7032377\" rel=\"nofollow noreferrer\">JDK-7032377 &quot;MatchResult and Pattern should provide a way to query names of named-capturing groups&quot;</a>.  This issue requested that the named capturing groups be exposed through the <code>MatchResult</code> and <code>Pattern</code> APIs.  This issue was created in 2011, and the functionality was finally implemented in 2022 for Java 20.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686020582,"creation_date":1685996008,"answer_id":76409706,"question_id":15588903,"body_markdown":"As of Java 20, this can be achieved using the [`namedGroups`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/MatchResult.html#namedGroups()) method on `MatchResult` (which [`Matcher`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html) implements):\r\n\r\n```lang-java\r\nString name = &quot;2023-06-05 johndoe123&quot;;\r\nPattern regex = Pattern.compile(&quot;(?&lt;date&gt;[0-9-]+) (?&lt;user&gt;\\\\w+)&quot;);\r\nMatcher matcher = regex.matcher(name);\r\nif (matcher.matches()) {\r\n    MatchResult matchResult = matcher.toMatchResult();\r\n    Map&lt;String, String&gt; groups = matcher.namedGroups().keySet().stream()\r\n            .collect(Collectors.toUnmodifiableMap(\r\n                    Function.identity(), matcher::group));\r\n\r\n    System.out.println(groups); // {date=2023-06-05, user=johndoe123}\r\n}\r\n```","title":"Get group names in java regex","body":"<p>As of Java 20, this can be achieved using the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/MatchResult.html#namedGroups()\" rel=\"nofollow noreferrer\"><code>namedGroups</code></a> method on <code>MatchResult</code> (which <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\"><code>Matcher</code></a> implements):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;2023-06-05 johndoe123&quot;;\nPattern regex = Pattern.compile(&quot;(?&lt;date&gt;[0-9-]+) (?&lt;user&gt;\\\\w+)&quot;);\nMatcher matcher = regex.matcher(name);\nif (matcher.matches()) {\n    MatchResult matchResult = matcher.toMatchResult();\n    Map&lt;String, String&gt; groups = matcher.namedGroups().keySet().stream()\n            .collect(Collectors.toUnmodifiableMap(\n                    Function.identity(), matcher::group));\n\n    System.out.println(groups); // {date=2023-06-05, user=johndoe123}\n}\n</code></pre>\n"}],"owner":{"account_id":1469458,"reputation":2060,"user_id":1381379,"accept_rate":75,"display_name":"Roy Reznik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25365,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":15588989,"answer_count":7,"score":42,"last_activity_date":1686020582,"creation_date":1364054661,"question_id":15588903,"body_markdown":"I&#39;m trying to receive both a pattern &amp; a string and return a map of group name -&gt; matched result.\r\n\r\nExample:\r\n\r\n    (?&lt;user&gt;.*)\r\n\r\nI would like to return for a map containing &quot;user&quot; as a key and whatever it matches as its value.\r\n\r\nthe problem is that I can&#39;t seem to get the group name from the Java regex api. I can only get the matched values by name or by index. I don&#39;t have the list of group names and neither Pattern nor Matcher seem to expose this information.\r\nI have checked its source and it seems as if the information is there - it&#39;s just not exposed to the user.\r\n\r\nI tried both Java&#39;s java.util.regex and jregex. (and don&#39;t really care if someone suggested any other library that is good, supported &amp; high in terms performance that supports this feature).","title":"Get group names in java regex","body":"<p>I'm trying to receive both a pattern &amp; a string and return a map of group name -> matched result.</p>\n\n<p>Example:</p>\n\n<pre><code>(?&lt;user&gt;.*)\n</code></pre>\n\n<p>I would like to return for a map containing \"user\" as a key and whatever it matches as its value.</p>\n\n<p>the problem is that I can't seem to get the group name from the Java regex api. I can only get the matched values by name or by index. I don't have the list of group names and neither Pattern nor Matcher seem to expose this information.\nI have checked its source and it seems as if the information is there - it's just not exposed to the user.</p>\n\n<p>I tried both Java's java.util.regex and jregex. (and don't really care if someone suggested any other library that is good, supported &amp; high in terms performance that supports this feature).</p>\n"},{"tags":["java","android-studio","bitmap","png","android-canvas"],"answers":[{"tags":[],"owner":{"account_id":15523752,"reputation":1,"user_id":11199236,"display_name":"Jammamma P"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643053527,"creation_date":1643053527,"answer_id":70839615,"question_id":70304117,"body_markdown":"Try using Open CV and drawing contours. It is the closest available solution","title":"How to draw outline around a PNG image using JAVA in Android Studio?","body":"<p>Try using Open CV and drawing contours. It is the closest available solution</p>\n"}],"owner":{"account_id":3316324,"reputation":103,"user_id":2788613,"display_name":"Muhammad Waqas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686020212,"creation_date":1639137215,"question_id":70304117,"body_markdown":"I have a PNG image (with transparent background) and I want to **draw an outline around its visible pixels only**. (See example GIF attached). I want to get this all done in `JAVA`.\r\n&lt;br&gt;\r\nI&#39;ve read many Q&amp;A over stackoverflow and around the web but I didn&#39;t find anything anyway near to my requirements.\r\n&lt;br&gt;\r\n**P.S:** We don&#39;t have to draw the same image twice on canvas and use the bottom one as outline, so please don&#39;t propose such solutions.\r\n&lt;br&gt;\r\n**P.P.S:** I would be great if this solution lets me draw an outline around all visible objects/elements (images &amp; textviews etc) inside a canvas or inside a layout.[![outline of a png image in Android Canvas][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Cznh0.gif","title":"How to draw outline around a PNG image using JAVA in Android Studio?","body":"<p>I have a PNG image (with transparent background) and I want to <strong>draw an outline around its visible pixels only</strong>. (See example GIF attached). I want to get this all done in <code>JAVA</code>.\n<br>\nI've read many Q&amp;A over stackoverflow and around the web but I didn't find anything anyway near to my requirements.\n<br>\n<strong>P.S:</strong> We don't have to draw the same image twice on canvas and use the bottom one as outline, so please don't propose such solutions.\n<br>\n<strong>P.P.S:</strong> I would be great if this solution lets me draw an outline around all visible objects/elements (images &amp; textviews etc) inside a canvas or inside a layout.<a href=\"https://i.stack.imgur.com/Cznh0.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cznh0.gif\" alt=\"outline of a png image in Android Canvas\" /></a></p>\n"},{"tags":["java","user-interface","javafx","netbeans"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1686035288,"post_id":76411037,"comment_id":134740057,"body_markdown":"More [here](https://stackoverflow.com/a/75962754/230513). Also consider [openjfx](https://openjfx.io/openjfx-docs/).","body":"More <a href=\"https://stackoverflow.com/a/75962754/230513\">here</a>. Also consider <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx</a>."}],"owner":{"account_id":25634212,"reputation":1,"user_id":19404060,"display_name":"软件爱好者"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686017776,"creation_date":1686017776,"question_id":76411037,"body_markdown":"I use the latest release version of zulu that includes the JavaFX SDK and the hairstyle version of Netbeans 18 on my Mac. With the default configuration, Netbeans also recognizes JDK 20, but when I open the configuration panel of the JavaFX tab that configures Java, I encounter the following problems ,How to solve this?\r\n\r\n[enter image description here](https://i.stack.imgur.com/cwikh.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/PzDri.png)\r\n\r\nhow to solve this problem","title":"Netbeans JavaFX SDK installation configuration problem?","body":"<p>I use the latest release version of zulu that includes the JavaFX SDK and the hairstyle version of Netbeans 18 on my Mac. With the default configuration, Netbeans also recognizes JDK 20, but when I open the configuration panel of the JavaFX tab that configures Java, I encounter the following problems ,How to solve this?</p>\n<p><a href=\"https://i.stack.imgur.com/cwikh.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/PzDri.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>how to solve this problem</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10019538,"reputation":2325,"user_id":11446758,"display_name":"I.T Delinquent"},"score":0,"creation_date":1570722347,"post_id":58326682,"comment_id":103011758,"body_markdown":"Please update your question with what you are currently trying and what specific issues/errors you are getting :)","body":"Please update your question with what you are currently trying and what specific issues/errors you are getting :)"},{"owner":{"account_id":1527222,"reputation":2599,"user_id":1425331,"accept_rate":83,"display_name":"Jimmy"},"score":0,"creation_date":1570723362,"post_id":58326682,"comment_id":103012258,"body_markdown":"you can inject the values directly, try the key by adding `.` on each level like to get sub1 hostname, you can use `@Value(&quot;${config.level1.sub1.hostname}&quot;)` on your property. If you do not want to inject the value , you can retrieve these value from Environmetn using key in similar pattern","body":"you can inject the values directly, try the key by adding <code>.</code> on each level like to get sub1 hostname, you can use <code>@Value(&quot;${config.level1.sub1.hostname}&quot;)</code> on your property. If you do not want to inject the value , you can retrieve these value from Environmetn using key in similar pattern"},{"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":0,"creation_date":1570725049,"post_id":58326682,"comment_id":103013079,"body_markdown":"Have you tried `@Value(&quot;${config}&quot;) Map&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt; config;`?","body":"Have you tried <code>@Value(&quot;${config}&quot;) Map&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt; config;</code>?"},{"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"score":0,"creation_date":1570738135,"post_id":58326682,"comment_id":103018677,"body_markdown":"https://dzone.com/articles/read-yaml-in-java-with-jackson","body":"<a href=\"https://dzone.com/articles/read-yaml-in-java-with-jackson\" rel=\"nofollow noreferrer\">dzone.com/articles/read-yaml-in-java-with-jackson</a>"},{"owner":{"account_id":13239720,"reputation":112,"user_id":9560693,"display_name":"Yehouda"},"score":0,"creation_date":1651657450,"post_id":58326682,"comment_id":127413338,"body_markdown":"don&#39;t forget to run ./mvnw clean package after updating your application.yml file","body":"don&#39;t forget to run ./mvnw clean package after updating your application.yml file"}],"answers":[{"tags":[],"owner":{"account_id":9905560,"reputation":641,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570723318,"creation_date":1570723318,"answer_id":58326971,"question_id":58326682,"body_markdown":"You can use `@Value` annotation to get value from YAML file or Type-safe Configuration Properties to bind values, learning about the reference here, [link][1].\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html\r\n\r\n    @Component\r\n    public class MyBean {\r\n        @Value(&quot;${name}&quot;)\r\n        private String name;\r\n        // ...\r\n    }","title":"How to get values from application.yaml file?","body":"<p>You can use <code>@Value</code> annotation to get value from YAML file or Type-safe Configuration Properties to bind values, learning about the reference here, <a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<pre><code>@Component\npublic class MyBean {\n    @Value(\"${name}\")\n    private String name;\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":16866618,"reputation":21,"user_id":12196184,"display_name":"lol123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686016900,"creation_date":1570722316,"question_id":58326682,"body_markdown":"I have a application.yaml file that looks like this:\r\n\r\n     config:\r\n       level1:\r\n        sub1:\r\n          hostname:&quot;abc.xyz.com&quot;\r\n          port:3000\r\n        sub2:\r\n          hostname: &quot;www.xyz.com&quot;\r\n          port:3001\r\n       level2:\r\n        sub1:\r\n          hostname: &quot;www.abc.com&quot;\r\n          port: 3000\r\n        sub2:\r\n          hostname: &quot;www.xyz.com&quot;\r\n          port:3001\r\n\r\nSo far I have tried using @ConfigurationProperties(&quot;config&quot;) and then tried to use a private variable of type `Map&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt;` to parse this but that doesn&#39;t work either.\r\n\r\n\r\nHow do I parse this type of file? I&#39;ve tried pretty much everything I know. Im new to spring so any help with this would be great!","title":"How to get values from application.yaml file?","body":"<p>I have a application.yaml file that looks like this:</p>\n\n<pre><code> config:\n   level1:\n    sub1:\n      hostname:\"abc.xyz.com\"\n      port:3000\n    sub2:\n      hostname: \"www.xyz.com\"\n      port:3001\n   level2:\n    sub1:\n      hostname: \"www.abc.com\"\n      port: 3000\n    sub2:\n      hostname: \"www.xyz.com\"\n      port:3001\n</code></pre>\n\n<p>So far I have tried using @ConfigurationProperties(\"config\") and then tried to use a private variable of type <code>Map&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt;</code> to parse this but that doesn't work either.</p>\n\n<p>How do I parse this type of file? I've tried pretty much everything I know. Im new to spring so any help with this would be great!</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2575233,"reputation":567,"user_id":2233081,"display_name":"Kristijan Rusu"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1528069380,"creation_date":1528069380,"answer_id":50671946,"question_id":50671681,"body_markdown":"You need to add version to MySQL connector dependency and you need to change the \r\n\r\n    spring.datasource.driver-class-name\r\nproperty.\r\nMySQL changed the driver from \r\n    \r\n    com.mysql.jdbc.Driver \r\n\r\nto\r\n    \r\n    com.mysql.cj.jdbc.Driver\r\n\r\nYou are missing the .cj. (This is for connector version above 5.* I think.\r\nHope this helps.\r\n\r\n\r\n    Cannot load driver class: com.mysql.jdbc.Driver \r\n    \r\nclearly states that Hibernate could not find the jdbc driver.","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring Boot","body":"<p>You need to add version to MySQL connector dependency and you need to change the </p>\n\n<pre><code>spring.datasource.driver-class-name\n</code></pre>\n\n<p>property.\nMySQL changed the driver from </p>\n\n<pre><code>com.mysql.jdbc.Driver \n</code></pre>\n\n<p>to</p>\n\n<pre><code>com.mysql.cj.jdbc.Driver\n</code></pre>\n\n<p>You are missing the .cj. (This is for connector version above 5.* I think.\nHope this helps.</p>\n\n<pre><code>Cannot load driver class: com.mysql.jdbc.Driver \n</code></pre>\n\n<p>clearly states that Hibernate could not find the jdbc driver.</p>\n"},{"tags":[],"owner":{"display_name":"user7632649"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1533296105,"creation_date":1533294070,"answer_id":51671167,"question_id":50671681,"body_markdown":"This issue is resolved by changing your `spring.datasource.driverClassName` content and adding `.cj` into it, as Kristijan Rusu said. \r\n\r\n    spring.datasource.driverClassName = com.mysql.cj.jdbc.Driver","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring Boot","body":"<p>This issue is resolved by changing your <code>spring.datasource.driverClassName</code> content and adding <code>.cj</code> into it, as Kristijan Rusu said. </p>\n\n<pre><code>spring.datasource.driverClassName = com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1548898566,"creation_date":1548898566,"answer_id":54452131,"question_id":50671681,"body_markdown":"In addition to changing the driver class name as noted above\r\n\r\n`spring.datasource.driverClassName = com.mysql.cj.jdbc.Driver`\r\n\r\nI also had to modify my pom.xml from\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nto\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.14&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nto make sure the driver is present and have the message disappear.","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring Boot","body":"<p>In addition to changing the driver class name as noted above</p>\n\n<p><code>spring.datasource.driverClassName = com.mysql.cj.jdbc.Driver</code></p>\n\n<p>I also had to modify my pom.xml from</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.14&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>to make sure the driver is present and have the message disappear.</p>\n"},{"tags":[],"owner":{"account_id":11672274,"reputation":47,"user_id":8546971,"display_name":"nagendra babu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570933103,"creation_date":1570933103,"answer_id":58360069,"question_id":50671681,"body_markdown":"change mysql dependency version to 8.0.14..it works for me\r\n\r\nand spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver \r\n\r\nin application.properties","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring Boot","body":"<p>change mysql dependency version to 8.0.14..it works for me</p>\n\n<p>and spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver </p>\n\n<p>in application.properties</p>\n"},{"tags":[],"owner":{"account_id":1185299,"reputation":7276,"user_id":1159404,"accept_rate":75,"display_name":"Nenad Bulatović"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597391511,"creation_date":1597391511,"answer_id":63408727,"question_id":50671681,"body_markdown":"I had same problem. Resolved it by changing in **pom.xml**\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\nto \r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\nand adding in **application.properties**\r\n\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/myproject\r\n\r\n","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring Boot","body":"<p>I had same problem. Resolved it by changing in <strong>pom.xml</strong></p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>and adding in <strong>application.properties</strong></p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/myproject\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10410348,"reputation":11,"user_id":7675953,"display_name":"Dinesh D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605042175,"creation_date":1605023006,"answer_id":64772079,"question_id":50671681,"body_markdown":"This is issue resolved after the below property corrected. \r\n```\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n```","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring Boot","body":"<p>This is issue resolved after the below property corrected.</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6639871,"reputation":159,"user_id":5125902,"accept_rate":86,"display_name":"yang yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686016777,"creation_date":1686016777,"answer_id":76410976,"question_id":50671681,"body_markdown":"I meet this issue when try a third party demo.\r\nthe project is \r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n\r\nto \r\n\r\n    &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n\r\nfixed my problem,it looks like the spring parent project issue.","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring Boot","body":"<p>I meet this issue when try a third party demo.\nthe project is</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n</code></pre>\n<p>fixed my problem,it looks like the spring parent project issue.</p>\n"}],"owner":{"account_id":6553876,"reputation":1434,"user_id":5067276,"accept_rate":35,"display_name":"Abdullah Tellioglu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52547,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":7,"score":13,"last_activity_date":1686016777,"creation_date":1528066232,"question_id":50671681,"body_markdown":"I was working with Spring Boot project, and suddenly I faced with an issue that application can not load MySQL jdbc.(I compiled this project once without changing anything) &lt;br&gt; This is my pom.xml:\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;!-- &lt;scope&gt;runtime&lt;/scope&gt; I tried this too --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.10.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n     &lt;/dependencies&gt;\r\n\r\nThis is my application.properties:\r\n\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver \r\n    spring.datasource.url=jdbc:mysql://localhost/PROJECT_NAME?useUnicode=yes&amp;characterEncoding=UTF-8\r\n    spring.datasource.username=root\r\n    spring.datasource.password=password\r\n\r\nLogcat:\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.tomcat.jdbc.pool.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.jdbc.Driver \r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \t... 26 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.tomcat.jdbc.pool.DataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.jdbc.Driver \r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \t... 39 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: Cannot load driver class: com.mysql.jdbc.Driver \r\n    \tat org.springframework.util.Assert.state(Assert.java:70) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:232) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:184) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:42) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat.dataSource(DataSourceConfiguration.java:56) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n    \t... 40 common frames omitted\r\n\r\nMySQL database is created with hibernate at first. These configurations worked fine but I am not sure what is the real problem here\r\n\r\n**EDIT :** I removed .m2 folder and install all dependencies from beginning as well.","title":"Cannot load driver class: com.mysql.jdbc.Driver Spring Boot","body":"<p>I was working with Spring Boot project, and suddenly I faced with an issue that application can not load MySQL jdbc.(I compiled this project once without changing anything) <br> This is my pom.xml:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;!-- &lt;scope&gt;runtime&lt;/scope&gt; I tried this too --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.2.10.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n &lt;/dependencies&gt;\n</code></pre>\n\n<p>This is my application.properties:</p>\n\n<pre><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver \nspring.datasource.url=jdbc:mysql://localhost/PROJECT_NAME?useUnicode=yes&amp;characterEncoding=UTF-8\nspring.datasource.username=root\nspring.datasource.password=password\n</code></pre>\n\n<p>Logcat:</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.tomcat.jdbc.pool.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.jdbc.Driver \n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    ... 26 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.tomcat.jdbc.pool.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalStateException: Cannot load driver class: com.mysql.jdbc.Driver \n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    ... 39 common frames omitted\nCaused by: java.lang.IllegalStateException: Cannot load driver class: com.mysql.jdbc.Driver \n    at org.springframework.util.Assert.state(Assert.java:70) ~[spring-core-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:232) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:184) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:42) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat.dataSource(DataSourceConfiguration.java:56) ~[spring-boot-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    ... 40 common frames omitted\n</code></pre>\n\n<p>MySQL database is created with hibernate at first. These configurations worked fine but I am not sure what is the real problem here</p>\n\n<p><strong>EDIT :</strong> I removed .m2 folder and install all dependencies from beginning as well.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685988667,"creation_date":1685988667,"answer_id":76408981,"question_id":76408914,"body_markdown":"\r\n&gt; `setFill(...)` ... obviously it fills the text with a single color \r\n\r\nIt is not clear where you get that information from. According to the [documentation](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/shape/Shape.html#setFill(javafx.scene.paint.Paint)), `setFill()` takes any kind of [`Paint`](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/paint/Paint.html) object, which would include both [linear gradients](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/paint/LinearGradient.html) and [radial gradients](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/paint/RadialGradient.html); it is not limited to `Color` instances.\r\n\r\nJust use `setFill(...)` with an appropriate gradient.","title":"How to make text with gradient between two colors?","body":"<blockquote>\n<p><code>setFill(...)</code> ... obviously it fills the text with a single color</p>\n</blockquote>\n<p>It is not clear where you get that information from. According to the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/shape/Shape.html#setFill(javafx.scene.paint.Paint)\" rel=\"nofollow noreferrer\">documentation</a>, <code>setFill()</code> takes any kind of <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/paint/Paint.html\" rel=\"nofollow noreferrer\"><code>Paint</code></a> object, which would include both <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/paint/LinearGradient.html\" rel=\"nofollow noreferrer\">linear gradients</a> and <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/paint/RadialGradient.html\" rel=\"nofollow noreferrer\">radial gradients</a>; it is not limited to <code>Color</code> instances.</p>\n<p>Just use <code>setFill(...)</code> with an appropriate gradient.</p>\n"},{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686015590,"creation_date":1686015590,"answer_id":76410918,"question_id":76408914,"body_markdown":"This is to just show you what @James_D already mentioned.\r\n\r\nYou can set both linear &amp; radial gradients to the text. But you need to keep in mind that the difference in linear vs radial gradients on `Text` will not be as effective as on the normal `Region`/`Rectangle`. They will look like similar with a little difference. So you need to play with the radial gradient parameters for  desired effect.\r\n\r\n    Text text1 = new Text(&quot;Resourceful&quot;);\r\n    text1.setStyle(&quot;-fx-font-size: 50px; -fx-fill:linear-gradient(to right, red, blue, red);&quot;);\r\n    \r\n    Text text2 = new Text(&quot;Resourceful&quot;);\r\n    text2.setStyle(&quot;-fx-font-size: 50px; -fx-fill:radial-gradient(focus-distance 0% , center 50% 50% , radius 50% , blue, red);&quot;);\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bWRnm.png","title":"How to make text with gradient between two colors?","body":"<p>This is to just show you what @James_D already mentioned.</p>\n<p>You can set both linear &amp; radial gradients to the text. But you need to keep in mind that the difference in linear vs radial gradients on <code>Text</code> will not be as effective as on the normal <code>Region</code>/<code>Rectangle</code>. They will look like similar with a little difference. So you need to play with the radial gradient parameters for  desired effect.</p>\n<pre><code>Text text1 = new Text(&quot;Resourceful&quot;);\ntext1.setStyle(&quot;-fx-font-size: 50px; -fx-fill:linear-gradient(to right, red, blue, red);&quot;);\n\nText text2 = new Text(&quot;Resourceful&quot;);\ntext2.setStyle(&quot;-fx-font-size: 50px; -fx-fill:radial-gradient(focus-distance 0% , center 50% 50% , radius 50% , blue, red);&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bWRnm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bWRnm.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4822153,"reputation":13,"user_id":3892557,"display_name":"L10B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76410918,"answer_count":2,"score":-1,"last_activity_date":1686015590,"creation_date":1685987991,"question_id":76408914,"body_markdown":"I would like to recreate an effect where there is one color on the two extreme sides of the text and another in the center.\r\n\r\nThe only method I know of is setFill but obviously it fills the text with a single color.","title":"How to make text with gradient between two colors?","body":"<p>I would like to recreate an effect where there is one color on the two extreme sides of the text and another in the center.</p>\n<p>The only method I know of is setFill but obviously it fills the text with a single color.</p>\n"},{"tags":["java","serialization","default"],"answers":[{"tags":[],"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1329161251,"creation_date":1329161251,"answer_id":9266665,"question_id":9266625,"body_markdown":"Use the keyword `transient` to exclude fields from serialization/deserialization.","title":"Preventing Java serialization setting default values","body":"<p>Use the keyword <code>transient</code> to exclude fields from serialization/deserialization.</p>\n"},{"tags":[],"owner":{"account_id":83613,"reputation":811,"user_id":234278,"display_name":"spdaley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329162209,"creation_date":1329162209,"answer_id":9266933,"question_id":9266625,"body_markdown":"Would adding the following method to your MyObject work for you?\r\n\r\n    private void readObject(ObjectInputStream ois) throws IOException, ClassNotFoundException\r\n    {\r\n        bar = 15;  // Set a default value of 15 if it&#39;s not in the serialized output file\r\n        ois.defaultReadObject();\r\n    }","title":"Preventing Java serialization setting default values","body":"<p>Would adding the following method to your MyObject work for you?</p>\n\n<pre><code>private void readObject(ObjectInputStream ois) throws IOException, ClassNotFoundException\n{\n    bar = 15;  // Set a default value of 15 if it's not in the serialized output file\n    ois.defaultReadObject();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1329162884,"creation_date":1329162884,"answer_id":9267087,"question_id":9266625,"body_markdown":"Serialization doesn&#39;t set default values it defers to Java&#39;s default value initialization scheme.  \r\n\r\nIf I can sum up your question.  You want serialization to merge what&#39;s in the serialized stream with the values in memory.  That&#39;s not possible with Java serialization as it controls what objects to create. You can read in your serialized object, then manually write the code to merge what fields you want merged together.  If your stuck on Java serialization (I&#39;d steer clear of it if I were you), but let&#39;s say you want to continue using it.\r\n\r\n    public class MyObject {\r\n        \r\n        public void merge( MyObject that ) {\r\n            // given some other instance of an object merge this with that.\r\n            // write your code here, and you can figure out the rules for which values win.\r\n        }\r\n    }\r\n\r\n    ObjectInputStream stream = new ObjectInputStream( new FileInputStream( file ) );\r\n    MyObject that = stream.readObject();\r\n    someObject.merge( that );\r\n\r\nViola you control which fields will be merged from that into someObject.  If you want a library to do this merge for you check out http://flexjson.sourceforge.net.  It uses JSON serialization, and works from Beans rather than POJO.  However, there is a way to take an already populated object and overwrite values from a JSON stream.  There are limitations to this.  The other benefit of this is you can actually read the stream back AFTER your object structure has changed something that Java serialization can technically do, but its very very hard.","title":"Preventing Java serialization setting default values","body":"<p>Serialization doesn't set default values it defers to Java's default value initialization scheme.  </p>\n\n<p>If I can sum up your question.  You want serialization to merge what's in the serialized stream with the values in memory.  That's not possible with Java serialization as it controls what objects to create. You can read in your serialized object, then manually write the code to merge what fields you want merged together.  If your stuck on Java serialization (I'd steer clear of it if I were you), but let's say you want to continue using it.</p>\n\n<pre><code>public class MyObject {\n\n    public void merge( MyObject that ) {\n        // given some other instance of an object merge this with that.\n        // write your code here, and you can figure out the rules for which values win.\n    }\n}\n\nObjectInputStream stream = new ObjectInputStream( new FileInputStream( file ) );\nMyObject that = stream.readObject();\nsomeObject.merge( that );\n</code></pre>\n\n<p>Viola you control which fields will be merged from that into someObject.  If you want a library to do this merge for you check out <a href=\"http://flexjson.sourceforge.net\" rel=\"nofollow\">http://flexjson.sourceforge.net</a>.  It uses JSON serialization, and works from Beans rather than POJO.  However, there is a way to take an already populated object and overwrite values from a JSON stream.  There are limitations to this.  The other benefit of this is you can actually read the stream back AFTER your object structure has changed something that Java serialization can technically do, but its very very hard.</p>\n"},{"tags":[],"owner":{"account_id":28753013,"reputation":11,"user_id":22020644,"display_name":"Bene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685944197,"creation_date":1685931707,"answer_id":76403192,"question_id":9266625,"body_markdown":"The problem here is that `ObjectInputStream` does not invoke the default constructor `MyObject()` which usually also initializes the field values. (e.g. `foo=10`, `bar=15`)\r\n    \r\nThe `ObjectInputStream` generates its own empty constructor for deserialization, which does not initialize the fields! (Only uses the values in the stream)\r\n    \r\nBut there is a workaround for this problem as follows:\r\n    \r\n1. Create a superclass `MyParent` which is NOT `Serializable`. (`MyObject extends MyParent`)\r\n \r\n   The default constructor `MyParent()` will then be invoked by the `ObjectInputStream` because `MyParent` is NOT `Serializable`.\r\n    \r\n2. Create an empty method e.g. `MyParent.setDefaults()` which is called by the `MyParent()` constructor.\r\n    \r\n3. Override that method in the subclass `MyObject.setDefaults()` to set your default values BEFORE the `ObjectInputStream` reads the values from the stream.\r\n        \r\n    Example:\r\n    ```\r\n    public class MyParent {\r\n        public MyParent() { // will be invoked by ObjectInputStream !\r\n            super();\r\n            setDefaults();\r\n        }\r\n        public void setDefaults() { // will be invoked by MyParent()\r\n            // to be overwritten by sub-classes.\r\n        }\r\n    }\r\n\r\n    public class MyObject extends MyParent implements Serializable {\r\n        private int foo;\r\n        private int bar;\r\n        public MyObject() { // will NOT be invoked by ObjectInputStream !\r\n            super();\r\n        }\r\n        public void setDefaults() { // will be invoked by MyParent() before ObjectInputStream reads the values\r\n            super();\r\n            foo = 10;\r\n            bar = 15;\r\n        }\r\n    }\r\n    ```","title":"Preventing Java serialization setting default values","body":"<p>The problem here is that <code>ObjectInputStream</code> does not invoke the default constructor <code>MyObject()</code> which usually also initializes the field values. (e.g. <code>foo=10</code>, <code>bar=15</code>)</p>\n<p>The <code>ObjectInputStream</code> generates its own empty constructor for deserialization, which does not initialize the fields! (Only uses the values in the stream)</p>\n<p>But there is a workaround for this problem as follows:</p>\n<ol>\n<li><p>Create a superclass <code>MyParent</code> which is NOT <code>Serializable</code>. (<code>MyObject extends MyParent</code>)</p>\n<p>The default constructor <code>MyParent()</code> will then be invoked by the <code>ObjectInputStream</code> because <code>MyParent</code> is NOT <code>Serializable</code>.</p>\n</li>\n<li><p>Create an empty method e.g. <code>MyParent.setDefaults()</code> which is called by the <code>MyParent()</code> constructor.</p>\n</li>\n<li><p>Override that method in the subclass <code>MyObject.setDefaults()</code> to set your default values BEFORE the <code>ObjectInputStream</code> reads the values from the stream.</p>\n<p>Example:</p>\n<pre><code>public class MyParent {\n    public MyParent() { // will be invoked by ObjectInputStream !\n        super();\n        setDefaults();\n    }\n    public void setDefaults() { // will be invoked by MyParent()\n        // to be overwritten by sub-classes.\n    }\n}\n\npublic class MyObject extends MyParent implements Serializable {\n    private int foo;\n    private int bar;\n    public MyObject() { // will NOT be invoked by ObjectInputStream !\n        super();\n    }\n    public void setDefaults() { // will be invoked by MyParent() before ObjectInputStream reads the values\n        super();\n        foo = 10;\n        bar = 15;\n    }\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28753257,"reputation":1,"user_id":22020823,"display_name":"Bene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686014495,"creation_date":1685954415,"answer_id":76404746,"question_id":9266625,"body_markdown":"The problem with only using a method &quot;merge(obj)&quot; is that you **cannot distinguish** between an already saved old default value of &quot;bar=0&quot; in the stream (**Case X**) and an even older saved object without that field (**Case Y**), and then merging with a newly changed default value from &quot;0&quot; to &quot;15&quot;.\r\n\r\nIn that case the method &quot;merge(obj)&quot; would *maybe* use the new default value &quot;15&quot; for the field that already existed before, but in (**Case X**) it was already saved/changed earlier with value &quot;0&quot; by the user.\r\n\r\n**Case X**: It should restore **&quot;0&quot;** from the saved object in the stream, and **SHOULD NOT** use the new default value *&quot;15&quot;*.\r\n\r\n**Case Y**: For the even older saved object (without the field in the stream), it **SHOULD** use the new default value **&quot;15&quot;**.\r\n\r\n*You could (of course) just introduce a new &quot;version&quot;-field, which then can be handled by the merge-method, but that requires much more code.*\r\n\r\n**Case Z**: Another problem happens if we have references to other objects.\r\nThen the invoker and merge-methods would need to be aware of invoking the merge-methods of all references as well (recursive).\r\n\r\n*Basically, that&#39;s exactly what ObjectOutputStream and ObjectInputStream already do using the methods readObject(ois), etc.*\r\n\r\nSee my workaround with **setDefaults()**, which will be invoked before the ObjectInputStream restores the values from the stream, and/or use the solution with **readObject(ois)**, which also avoids that problem.","title":"Preventing Java serialization setting default values","body":"<p>The problem with only using a method &quot;merge(obj)&quot; is that you <strong>cannot distinguish</strong> between an already saved old default value of &quot;bar=0&quot; in the stream (<strong>Case X</strong>) and an even older saved object without that field (<strong>Case Y</strong>), and then merging with a newly changed default value from &quot;0&quot; to &quot;15&quot;.</p>\n<p>In that case the method &quot;merge(obj)&quot; would <em>maybe</em> use the new default value &quot;15&quot; for the field that already existed before, but in (<strong>Case X</strong>) it was already saved/changed earlier with value &quot;0&quot; by the user.</p>\n<p><strong>Case X</strong>: It should restore <strong>&quot;0&quot;</strong> from the saved object in the stream, and <strong>SHOULD NOT</strong> use the new default value <em>&quot;15&quot;</em>.</p>\n<p><strong>Case Y</strong>: For the even older saved object (without the field in the stream), it <strong>SHOULD</strong> use the new default value <strong>&quot;15&quot;</strong>.</p>\n<p><em>You could (of course) just introduce a new &quot;version&quot;-field, which then can be handled by the merge-method, but that requires much more code.</em></p>\n<p><strong>Case Z</strong>: Another problem happens if we have references to other objects.\nThen the invoker and merge-methods would need to be aware of invoking the merge-methods of all references as well (recursive).</p>\n<p><em>Basically, that's exactly what ObjectOutputStream and ObjectInputStream already do using the methods readObject(ois), etc.</em></p>\n<p>See my workaround with <strong>setDefaults()</strong>, which will be invoked before the ObjectInputStream restores the values from the stream, and/or use the solution with <strong>readObject(ois)</strong>, which also avoids that problem.</p>\n"}],"owner":{"account_id":501376,"reputation":2152,"user_id":1207523,"accept_rate":75,"display_name":"Lindlof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3356,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9267087,"answer_count":5,"score":3,"last_activity_date":1686014495,"creation_date":1329161053,"question_id":9266625,"body_markdown":"I have a serialized object MyObject that contains integer foo. I set a value 10 to integer foo and save the object to a file using writeObject().\r\n\r\nI add integer bar to object MyObject. I set a value 15 to integer bar and then load the old serialized file using readObject().\r\n\r\nThe old serializable file doesn&#39;t contain integer bar so integer bar will get value 0. I want to keep the value 15 in bar if the old serializable file doesn&#39;t contain variable bar.\r\n\r\n\r\nShould I override readObject() or how could I prevent readObject() from setting &quot;default values&quot; to unknown objects?\r\n\r\nI want to do this because in the constructor I&#39;m setting my own default values and would like to use my own default values to control versioning.","title":"Preventing Java serialization setting default values","body":"<p>I have a serialized object MyObject that contains integer foo. I set a value 10 to integer foo and save the object to a file using writeObject().</p>\n\n<p>I add integer bar to object MyObject. I set a value 15 to integer bar and then load the old serialized file using readObject().</p>\n\n<p>The old serializable file doesn't contain integer bar so integer bar will get value 0. I want to keep the value 15 in bar if the old serializable file doesn't contain variable bar.</p>\n\n<p>Should I override readObject() or how could I prevent readObject() from setting \"default values\" to unknown objects?</p>\n\n<p>I want to do this because in the constructor I'm setting my own default values and would like to use my own default values to control versioning.</p>\n"},{"tags":["java","junit","junit5","jacoco"],"answers":[{"tags":[],"owner":{"account_id":13228129,"reputation":162,"user_id":9552662,"display_name":"SebastianX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607443456,"creation_date":1607443456,"answer_id":65202459,"question_id":65201402,"body_markdown":"You use jacoco report maven plugin:\r\n\r\n&gt; org.jacoco:jacoco-maven-plugin:0.8.7-SNAPSHOT:report\r\n\r\ntogether with its optional parameters you could define how do you like it\r\n\r\n[check here][1] \r\n\r\n\r\n  [1]: https://www.eclemma.org/jacoco/trunk/doc/report-mojo.html","title":"How to generate a JaCoCo report with JUnit platform launcher?","body":"<p>You use jacoco report maven plugin:</p>\n<blockquote>\n<p>org.jacoco:jacoco-maven-plugin:0.8.7-SNAPSHOT:report</p>\n</blockquote>\n<p>together with its optional parameters you could define how do you like it</p>\n<p><a href=\"https://www.eclemma.org/jacoco/trunk/doc/report-mojo.html\" rel=\"nofollow noreferrer\">check here</a></p>\n"}],"owner":{"account_id":15729565,"reputation":21,"user_id":11350224,"display_name":"Thijs Nulle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686013669,"creation_date":1607439869,"question_id":65201402,"body_markdown":"I am currently building automated tests which will be generated dynamically in their own class (e.g. TestClass1234567890.class). From those tests (which I will run with the JUnit Platform Launcher) I want to generate a JaCoCo rapport. \r\n\r\nWhenever I look up examples for the JaCoCo API, they only show it with a class that implements Runnable, which does not make sense since you&#39;d want to run it on a test class.\r\n\r\nCan anyone point me in the correct direction on how to combine the JaCoCo API with the JUnit Platform Launcher? Any resource/example would be appreciated.","title":"How to generate a JaCoCo report with JUnit platform launcher?","body":"<p>I am currently building automated tests which will be generated dynamically in their own class (e.g. TestClass1234567890.class). From those tests (which I will run with the JUnit Platform Launcher) I want to generate a JaCoCo rapport.</p>\n<p>Whenever I look up examples for the JaCoCo API, they only show it with a class that implements Runnable, which does not make sense since you'd want to run it on a test class.</p>\n<p>Can anyone point me in the correct direction on how to combine the JaCoCo API with the JUnit Platform Launcher? Any resource/example would be appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686013230,"post_id":76410803,"comment_id":134738067,"body_markdown":"You are using a **raw** `Map`. Don&#39;t do that. `Map&lt;String, ArrayList&lt;Item&gt;&gt; inventories = new TreeMap&lt;&gt;();`","body":"You are using a <b>raw</b> <code>Map</code>. Don&#39;t do that. <code>Map&lt;String, ArrayList&lt;Item&gt;&gt; inventories = new TreeMap&lt;&gt;();</code>"}],"answers":[{"tags":[],"owner":{"account_id":22633544,"reputation":588,"user_id":16810646,"display_name":"Ananta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686013171,"creation_date":1686013171,"answer_id":76410814,"question_id":76410803,"body_markdown":"You have to declare type of your key and value for Java to know which type it should use. Otherwise, java will consider your key and value as type Object.\r\n```\r\nMap&lt;String, ArrayList&lt;Item&gt;&gt; inventories = new TreeMap&lt;&gt;();\r\n```","title":"&quot;cannot find symbol&quot; while trying to get an object from an arrayList in a map","body":"<p>You have to declare type of your key and value for Java to know which type it should use. Otherwise, java will consider your key and value as type Object.</p>\n<pre><code>Map&lt;String, ArrayList&lt;Item&gt;&gt; inventories = new TreeMap&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":20613014,"reputation":53,"user_id":15131767,"display_name":"Misterfinigan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686013269,"accepted_answer_id":76410814,"answer_count":1,"score":0,"last_activity_date":1686013171,"creation_date":1686012859,"question_id":76410803,"body_markdown":"I am trying to modify an ArrayList in a map, but it keeps giving me the &quot;Symbol not found error&quot;\r\n\r\nHere is the code:\r\n\r\n    Map inventories = new TreeMap&lt;String, ArrayList&lt;Item&gt;&gt;();\r\n    inventories.put(&quot;itms_eqped&quot;, new ArrayList&lt;Item&gt;(6));\r\n    System.out.println(inventories.get(&quot;itms_eqped&quot;).get(0));\r\n\r\nHere is the error\r\n\r\n    ./Main.java:29: error: cannot find symbol\r\n    System.out.println(inventories.get(&quot;itms_eqped&quot;).get(0));\r\n                                                    ^\r\n    symbol:   method get(int)\r\n    location: class Object\r\n\r\nI&#39;ve also tried adding stuff to the arrayList and I&#39;m getting the same error: &quot;Cannot find symbol&quot;.","title":"&quot;cannot find symbol&quot; while trying to get an object from an arrayList in a map","body":"<p>I am trying to modify an ArrayList in a map, but it keeps giving me the &quot;Symbol not found error&quot;</p>\n<p>Here is the code:</p>\n<pre><code>Map inventories = new TreeMap&lt;String, ArrayList&lt;Item&gt;&gt;();\ninventories.put(&quot;itms_eqped&quot;, new ArrayList&lt;Item&gt;(6));\nSystem.out.println(inventories.get(&quot;itms_eqped&quot;).get(0));\n</code></pre>\n<p>Here is the error</p>\n<pre><code>./Main.java:29: error: cannot find symbol\nSystem.out.println(inventories.get(&quot;itms_eqped&quot;).get(0));\n                                                ^\nsymbol:   method get(int)\nlocation: class Object\n</code></pre>\n<p>I've also tried adding stuff to the arrayList and I'm getting the same error: &quot;Cannot find symbol&quot;.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":0,"creation_date":1686012626,"post_id":76410785,"comment_id":134738003,"body_markdown":"Please note that [JavaScript is *not* Java](http://javascriptisnotjava.com/).","body":"Please note that <a href=\"http://javascriptisnotjava.com/\" rel=\"nofollow noreferrer\">JavaScript is <i>not</i> Java</a>."}],"owner":{"account_id":13635396,"reputation":1,"user_id":9836538,"display_name":"yego_456"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686012666,"answer_count":0,"score":0,"last_activity_date":1686012588,"creation_date":1686012555,"question_id":76410785,"body_markdown":"Trying to use a Scanner to capture the user&#180;s answer and based on it, activate a if/else command. The code will capture the user answer but wont activate the if/else.\r\n\r\n```java\r\n   System.out.println(&quot;Deseas que restemos algun numero?&quot;);\r\n   valoruno = in.nextLine();\r\n   if(valor=&quot;yes&quot;){\r\n  \r\n    System.out.println(&quot;Ingresa el numero a restar: &quot;);\r\n    num_tres = in.nextInt(); \r\n \r\n   resultado_dos = resultado - num_tres;\r\n   System.out.println(&quot;El resultado de tu resta es: &quot; + resultado_dos);\r\n\r\n    }else if(valor= &quot;No&quot;){\r\n    System.out.println(&quot;Ten un excelente dia&quot;);`\r\n```","title":"Trying to use a Scanner, but wont action what it has captured","body":"<p>Trying to use a Scanner to capture the user´s answer and based on it, activate a if/else command. The code will capture the user answer but wont activate the if/else.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   System.out.println(&quot;Deseas que restemos algun numero?&quot;);\n   valoruno = in.nextLine();\n   if(valor=&quot;yes&quot;){\n  \n    System.out.println(&quot;Ingresa el numero a restar: &quot;);\n    num_tres = in.nextInt(); \n \n   resultado_dos = resultado - num_tres;\n   System.out.println(&quot;El resultado de tu resta es: &quot; + resultado_dos);\n\n    }else if(valor= &quot;No&quot;){\n    System.out.println(&quot;Ten un excelente dia&quot;);`\n</code></pre>\n"},{"tags":["java","spring","jpa","jpql"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1686061199,"post_id":76410763,"comment_id":134745539,"body_markdown":"Assuming your Dates entity has the dayOfWeek property, the JPQL should be of the form &quot;select new DateDto(d.dayOfWeek) from Dates d&quot;.  What does the Dates entity look like, and what object type is returned from a query just selecting &quot;select d.dayOfWeek from dates d&quot;?","body":"Assuming your Dates entity has the dayOfWeek property, the JPQL should be of the form &quot;select new DateDto(d.dayOfWeek) from Dates d&quot;.  What does the Dates entity look like, and what object type is returned from a query just selecting &quot;select d.dayOfWeek from dates d&quot;?"},{"owner":{"account_id":26112588,"reputation":65,"user_id":19806238,"display_name":"planktonchumbucket"},"score":0,"creation_date":1686062650,"post_id":76410763,"comment_id":134745925,"body_markdown":"@Chris Adding an alias d has no affect on the query. Running &quot;select d.dayOfWeek from dates d&quot; only works when the output is a collection of a single value; not multiple values within the same object. So, I could do a Set&lt;DayOfWeek&gt; however, I actually need more than just 1 column of data","body":"@Chris Adding an alias d has no affect on the query. Running &quot;select d.dayOfWeek from dates d&quot; only works when the output is a collection of a single value; not multiple values within the same object. So, I could do a Set&lt;DayOfWeek&gt; however, I actually need more than just 1 column of data"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1686063061,"post_id":76410763,"comment_id":134746025,"body_markdown":"I don&#39;t quite understand your statement. What does the Dates entity look like and what does &quot;select d.dayOfWeek from dates d&quot; return? I&#39;m not asking as a workaround, I&#39;m asking to understand what the DB and hibernate are giving back for the mapping - You mention &quot;a custom user defined data type&quot; but not any details on what it is or how it is mapped, and so we can&#39;t tell what type such a query might be returning for it and why it won&#39;t match your constructor. JPA can handle enums, so why do you need a custom data type for it?","body":"I don&#39;t quite understand your statement. What does the Dates entity look like and what does &quot;select d.dayOfWeek from dates d&quot; return? I&#39;m not asking as a workaround, I&#39;m asking to understand what the DB and hibernate are giving back for the mapping - You mention &quot;a custom user defined data type&quot; but not any details on what it is or how it is mapped, and so we can&#39;t tell what type such a query might be returning for it and why it won&#39;t match your constructor. JPA can handle enums, so why do you need a custom data type for it?"}],"owner":{"account_id":26112588,"reputation":65,"user_id":19806238,"display_name":"planktonchumbucket"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686011906,"creation_date":1686011906,"question_id":76410763,"body_markdown":"I am trying to determine how to resolve the following exception that is getting thrown for an enum custom data type by spring data jpa.\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Could not determine appropriate instantiation strategy - no matching constructor found and one or more arguments did not define alias for bean-injection\r\n```\r\n\r\nThe following jpql query simply creates a new result object for each record in the `Dates` table where the only value selected is a custom user defined data type.\r\n```\r\n@Query(&quot;select new DateDto(dayOfWeek) from Dates&quot;)\r\nSet&lt;DateDto&gt; findAllDaysOfWeek();\r\n```\r\n\r\n```\r\npublic record DateDto(DayOfWeek dayOfWeek) {}\r\n```\r\n\r\n```\r\npublic enum DayOfWeek {\r\n  MONDAY,\r\n  TUESDAY,\r\n  WEDNESDAY,\r\n  THURSDAY,\r\n  FRIDAY,\r\n  SATURDAY,\r\n  SUNDAY;\r\n}\r\n```","title":"JPA - JPQL constructor expression throwing InvalidDataAccessApiUsageException on Enum data type","body":"<p>I am trying to determine how to resolve the following exception that is getting thrown for an enum custom data type by spring data jpa.</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Could not determine appropriate instantiation strategy - no matching constructor found and one or more arguments did not define alias for bean-injection\n</code></pre>\n<p>The following jpql query simply creates a new result object for each record in the <code>Dates</code> table where the only value selected is a custom user defined data type.</p>\n<pre><code>@Query(&quot;select new DateDto(dayOfWeek) from Dates&quot;)\nSet&lt;DateDto&gt; findAllDaysOfWeek();\n</code></pre>\n<pre><code>public record DateDto(DayOfWeek dayOfWeek) {}\n</code></pre>\n<pre><code>public enum DayOfWeek {\n  MONDAY,\n  TUESDAY,\n  WEDNESDAY,\n  THURSDAY,\n  FRIDAY,\n  SATURDAY,\n  SUNDAY;\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","clion","intellij-plugin"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1686037796,"post_id":76410754,"comment_id":134740469,"body_markdown":"I&#39;d recommend you raise this issue at https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development to discuss it with the IDEA team directly.","body":"I&#39;d recommend you raise this issue at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/topics/&hellip;</a> to discuss it with the IDEA team directly."}],"owner":{"account_id":28760885,"reputation":1,"user_id":22026812,"display_name":"Pr3DaSniP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686011805,"creation_date":1686011805,"question_id":76410754,"body_markdown":"I need to add an item to the list of new CLion projects. It&#39;s a plugin written in Java with IntelliJ IDEA 2023.1.2\r\n\r\n\r\nI found [this](https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000055950-how-can-you-add-items-to-CLion-s-New-Project-window)  and followed what he said by adding a &quot;directoryProjectGenerator&quot; in the plugin.xml\r\n\r\nI created the class\r\n\r\n```java\r\npublic class testClionGenerator implements DirectoryProjectGenerator {\r\n\r\n    @Override\r\n    public @NotNull String getName() {\r\n        return &quot;Test CLion Project&quot;;\r\n    }\r\n\r\n    @Override\r\n    public @Nullable Icon getLogo() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void generateProject(@NotNull Project project, @NotNull VirtualFile baseDir, @NotNull Object settings, @NotNull Module module) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public @NotNull ValidationResult validate(@NotNull String baseDirPath) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nBut I don&#39;t know what else to do. How do you change the panel on the right when you do &quot;new project&quot;? What function is called when you click on next/cancel/create?\r\nDo you have any tutorials?\r\n\r\nThis is the first time I&#39;ve used StackOverflow, so I apologise if it&#39;s not very well done ^^&#39;.","title":"Add items to CLion&#39;s New Project window","body":"<p>I need to add an item to the list of new CLion projects. It's a plugin written in Java with IntelliJ IDEA 2023.1.2</p>\n<p>I found <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000055950-how-can-you-add-items-to-CLion-s-New-Project-window\" rel=\"nofollow noreferrer\">this</a>  and followed what he said by adding a &quot;directoryProjectGenerator&quot; in the plugin.xml</p>\n<p>I created the class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class testClionGenerator implements DirectoryProjectGenerator {\n\n    @Override\n    public @NotNull String getName() {\n        return &quot;Test CLion Project&quot;;\n    }\n\n    @Override\n    public @Nullable Icon getLogo() {\n        return null;\n    }\n\n    @Override\n    public void generateProject(@NotNull Project project, @NotNull VirtualFile baseDir, @NotNull Object settings, @NotNull Module module) {\n\n    }\n\n    @Override\n    public @NotNull ValidationResult validate(@NotNull String baseDirPath) {\n        return null;\n    }\n}\n</code></pre>\n<p>But I don't know what else to do. How do you change the panel on the right when you do &quot;new project&quot;? What function is called when you click on next/cancel/create?\nDo you have any tutorials?</p>\n<p>This is the first time I've used StackOverflow, so I apologise if it's not very well done ^^'.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686012584,"post_id":76410630,"comment_id":134737993,"body_markdown":"1)  You say that you are trying to install Eclipse 2019-09, but the installer seems to have chosen jee-2022-09 as the default installation directory.  That implies that you have not downloaded the 2019-09 installer!  2) Don&#39;t use Java 10.  Seriously.  It is end-of-life.  If you *have to* use an old version of Java, use Java 8 or Java 11 ... and make sure you have the latest patch release available.","body":"1)  You say that you are trying to install Eclipse 2019-09, but the installer seems to have chosen jee-2022-09 as the default installation directory.  That implies that you have not downloaded the 2019-09 installer!  2) Don&#39;t use Java 10.  Seriously.  It is end-of-life.  If you <i>have to</i> use an old version of Java, use Java 8 or Java 11 ... and make sure you have the latest patch release available."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1686030692,"post_id":76410630,"comment_id":134739380,"body_markdown":"Choose the recommended external JRE 17.0.7 to be installed as part of Eclipse to run Eclipse. Independent from that, configure the Java VMs you want to use in your project in _Window &gt; Preferences: Java &gt; Installed JREs_.","body":"Choose the recommended external JRE 17.0.7 to be installed as part of Eclipse to run Eclipse. Independent from that, configure the Java VMs you want to use in your project in <i>Window &gt; Preferences: Java &gt; Installed JREs</i>."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686010560,"creation_date":1686010560,"answer_id":76410700,"question_id":76410630,"body_markdown":"[Eclipse 4.25 (2022-09) requires a JVM 17 or greater][1] to execute Eclipse. After Eclipse is installed and launched you can select other versions of the JVM to build and execute your projects.\r\n \r\n\r\n\r\n  [1]: https://wiki.eclipse.org/Eclipse/Installation#Eclipse_4.25_.282022-09.29","title":"Cannot select java vm when installing eclipse","body":"<p><a href=\"https://wiki.eclipse.org/Eclipse/Installation#Eclipse_4.25_.282022-09.29\" rel=\"nofollow noreferrer\">Eclipse 4.25 (2022-09) requires a JVM 17 or greater</a> to execute Eclipse. After Eclipse is installed and launched you can select other versions of the JVM to build and execute your projects.</p>\n"}],"owner":{"account_id":22291795,"reputation":1,"user_id":16518547,"display_name":"주정석"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686010560,"creation_date":1686008929,"question_id":76410630,"body_markdown":"I am trying to install Eclipse 2019-09 version, but it wanted me to Select a Java 17 64 Bit VM while I want to use Java 10 in system.\r\n\r\n![screenshot][1]\r\n\r\nI tried to click jdk 10-0-2 at the system location but it did not recognized, so i went to Eclipse download page to see if 2019-09 if it is compatible with java10 and it says it is ok if i use higher version than java8. Next I opened cmd and input `-javac version` to if it is successfully installed and it worked so I don&#39;t know what the problem is.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XfTTF.png","title":"Cannot select java vm when installing eclipse","body":"<p>I am trying to install Eclipse 2019-09 version, but it wanted me to Select a Java 17 64 Bit VM while I want to use Java 10 in system.</p>\n<p><img src=\"https://i.stack.imgur.com/XfTTF.png\" alt=\"screenshot\" /></p>\n<p>I tried to click jdk 10-0-2 at the system location but it did not recognized, so i went to Eclipse download page to see if 2019-09 if it is compatible with java10 and it says it is ok if i use higher version than java8. Next I opened cmd and input <code>-javac version</code> to if it is successfully installed and it worked so I don't know what the problem is.</p>\n"},{"tags":["java","maven","log4j","multi-release-jar"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1538629858,"post_id":52632802,"comment_id":92211225,"body_markdown":"First why doing some exclusions in maven-compiler plugin? Does not make sense...And wha is the error message ?","body":"First why doing some exclusions in maven-compiler plugin? Does not make sense...And wha is the error message ?"},{"owner":{"account_id":6224088,"reputation":157,"user_id":6169235,"accept_rate":38,"display_name":"Eltorrooo"},"score":1,"creation_date":1538663818,"post_id":52632802,"comment_id":92230651,"body_markdown":"it gives a warning at RUNTIME `sun.reflect.Reflection.getCallerClass is not supported, this might affect performance`, in java11+ they removed that `sun.reflect.*` and log4j has an implementation using `StackWalker`\nit compiles fine but it is just getting the wrong implementation.","body":"it gives a warning at RUNTIME <code>sun.reflect.Reflection.getCallerClass is not supported, this might affect performance</code>, in java11+ they removed that <code>sun.reflect.*</code> and log4j has an implementation using <code>StackWalker</code> it compiles fine but it is just getting the wrong implementation."},{"owner":{"account_id":1580802,"reputation":3558,"user_id":1466233,"accept_rate":94,"display_name":"Victor"},"score":0,"creation_date":1550540053,"post_id":52632802,"comment_id":96296750,"body_markdown":"Same issue, any solution ?","body":"Same issue, any solution ?"},{"owner":{"account_id":6224088,"reputation":157,"user_id":6169235,"accept_rate":38,"display_name":"Eltorrooo"},"score":1,"creation_date":1550767954,"post_id":52632802,"comment_id":96401332,"body_markdown":"@Victor it is a bug in jdk 10 and 11, it will be fixed in jdk 12, but the fix can be ported to jdk 11\nyou can fix it by using java 9 or you can just copy the classes under your src directory (monkey patching)","body":"@Victor it is a bug in jdk 10 and 11, it will be fixed in jdk 12, but the fix can be ported to jdk 11 you can fix it by using java 9 or you can just copy the classes under your src directory (monkey patching)"}],"answers":[{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655710722,"creation_date":1655710722,"answer_id":72683696,"question_id":52632802,"body_markdown":"For me I had to update my `maven-plugin-enforcer` version from `3.0.0` to `3.0.0-M3`, as stated here: https://github.com/jhipster/generator-jhipster/issues/16318#issuecomment-989489090","title":"cannot get log4j-api-java9","body":"<p>For me I had to update my <code>maven-plugin-enforcer</code> version from <code>3.0.0</code> to <code>3.0.0-M3</code>, as stated here: <a href=\"https://github.com/jhipster/generator-jhipster/issues/16318#issuecomment-989489090\" rel=\"nofollow noreferrer\">https://github.com/jhipster/generator-jhipster/issues/16318#issuecomment-989489090</a></p>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686010422,"creation_date":1686010422,"answer_id":76410692,"question_id":52632802,"body_markdown":"There doesn&#39;t seem to be separate `org.apache.logging.log4j:log4j-api-java9` artifact. Instead, Log4j publishes `org.apache.logging.log4j:log4j-api` as a multi-release JAR (see [JEP 238][1]), containing both the old Log4. classes and the Java 9+ Log4j classes. See [`LOG4J2-2537`: Log4j 2 Performance issue with Java 11][2] for more back-story.\r\n\r\nIdeally you want to use an environment that recognizes multi-release JARs. I&#39;m not sure which environment this question originally referenced, but from comments it may have been old plugins that have since been upgraded.\r\n\r\nHowever if you&#39;re on a platform such as AWS Lambda which doesn&#39;t support multi-release JARs, I&#39;ve found a workaround by adding the following to your Maven Shade Plugin `&lt;configuration&gt;` section to copy over the Java 9+ version of the relevant Log4J classes, which apparently don&#39;t even look for `sun.reflect.Reflection.getCallerClass`, thus avoiding the warning related to that class being missing:\r\n\r\n```xml\r\n&lt;relocations&gt;\r\n  &lt;relocation&gt;\r\n    &lt;pattern&gt;META-INF/versions/9/org/apache/logging/log4j/&lt;/pattern&gt;\r\n    &lt;shadedPattern&gt;org/apache/logging/log4j/&lt;/shadedPattern&gt;\r\n  &lt;/relocation&gt;\r\n&lt;/relocations&gt;\r\n```\r\n\r\nSee [my other answer][3] for more discussion.\r\n\r\nHowever it is much preferred to update your environment, if possible, to support multi-release JARs.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/238\r\n  [2]: https://issues.apache.org/jira/browse/LOG4J2-2537\r\n  [3]: https://stackoverflow.com/a/76410649","title":"cannot get log4j-api-java9","body":"<p>There doesn't seem to be separate <code>org.apache.logging.log4j:log4j-api-java9</code> artifact. Instead, Log4j publishes <code>org.apache.logging.log4j:log4j-api</code> as a multi-release JAR (see <a href=\"https://openjdk.org/jeps/238\" rel=\"nofollow noreferrer\">JEP 238</a>), containing both the old Log4. classes and the Java 9+ Log4j classes. See <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2537\" rel=\"nofollow noreferrer\"><code>LOG4J2-2537</code>: Log4j 2 Performance issue with Java 11</a> for more back-story.</p>\n<p>Ideally you want to use an environment that recognizes multi-release JARs. I'm not sure which environment this question originally referenced, but from comments it may have been old plugins that have since been upgraded.</p>\n<p>However if you're on a platform such as AWS Lambda which doesn't support multi-release JARs, I've found a workaround by adding the following to your Maven Shade Plugin <code>&lt;configuration&gt;</code> section to copy over the Java 9+ version of the relevant Log4J classes, which apparently don't even look for <code>sun.reflect.Reflection.getCallerClass</code>, thus avoiding the warning related to that class being missing:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;relocations&gt;\n  &lt;relocation&gt;\n    &lt;pattern&gt;META-INF/versions/9/org/apache/logging/log4j/&lt;/pattern&gt;\n    &lt;shadedPattern&gt;org/apache/logging/log4j/&lt;/shadedPattern&gt;\n  &lt;/relocation&gt;\n&lt;/relocations&gt;\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/a/76410649\">my other answer</a> for more discussion.</p>\n<p>However it is much preferred to update your environment, if possible, to support multi-release JARs.</p>\n"}],"owner":{"account_id":6224088,"reputation":157,"user_id":6169235,"accept_rate":38,"display_name":"Eltorrooo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2291,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1686010422,"creation_date":1538588441,"question_id":52632802,"body_markdown":"I&#39;m building my project with Java11 and maven my pom look like this and i&#39;m trying to get the right log4j-api for my project\r\n\r\nlog4j-api is since 2.9 a multi-release jar with support of java9+ and older java versions\r\n\r\nIn my project i still not able to log4j-api-java9\r\nhttps://github.com/apache/logging-log4j2/tree/master/log4j-api-java9\r\n\r\nmy pom looks like this\r\n\r\n\r\n        ...\r\n        &lt;properties&gt;\r\n                &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n                &lt;vertx.version&gt;3.5.3&lt;/vertx.version&gt;\r\n                &lt;log4j.version&gt;2.11.1&lt;/log4j.version&gt;\r\n                &lt;async-http-client.version&gt;2.5.2&lt;/async-http-client.version&gt;\r\n                &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n        &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                    &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      ...\r\n      ...\r\n    &lt;dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n           ...\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;default-testCompile&lt;/id&gt;\r\n                            &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;testExcludes&gt;\r\n                                    &lt;exclude&gt;**/*IT.java&lt;/exclude&gt;\r\n                                &lt;/testExcludes&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n     &lt;plugins&gt;\r\n    &lt;build&gt;\r\n\r\nusing this is also hopeless\r\n\r\n    &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j-api-java9&lt;/artifactId&gt;\r\n                    &lt;version&gt;${log4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"cannot get log4j-api-java9","body":"<p>I'm building my project with Java11 and maven my pom look like this and i'm trying to get the right log4j-api for my project</p>\n\n<p>log4j-api is since 2.9 a multi-release jar with support of java9+ and older java versions</p>\n\n<p>In my project i still not able to log4j-api-java9\n<a href=\"https://github.com/apache/logging-log4j2/tree/master/log4j-api-java9\" rel=\"nofollow noreferrer\">https://github.com/apache/logging-log4j2/tree/master/log4j-api-java9</a></p>\n\n<p>my pom looks like this</p>\n\n<pre><code>    ...\n    &lt;properties&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n            &lt;vertx.version&gt;3.5.3&lt;/vertx.version&gt;\n            &lt;log4j.version&gt;2.11.1&lt;/log4j.version&gt;\n            &lt;async-http-client.version&gt;2.5.2&lt;/async-http-client.version&gt;\n            &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  ...\n  ...\n&lt;dependencies&gt;\n\n    &lt;build&gt;\n       ...\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-testCompile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;testExcludes&gt;\n                                &lt;exclude&gt;**/*IT.java&lt;/exclude&gt;\n                            &lt;/testExcludes&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n &lt;plugins&gt;\n&lt;build&gt;\n</code></pre>\n\n<p>using this is also hopeless</p>\n\n<pre><code>&lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-api-java9&lt;/artifactId&gt;\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka","confluent-cloud"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1685970386,"post_id":76403219,"comment_id":134730952,"body_markdown":"Typo? `spring.kafka.bootstrap-servers`, without `properties` and with a hyphen https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka","body":"Typo? <code>spring.kafka.bootstrap-servers</code>, without <code>properties</code> and with a hyphen <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":159123,"reputation":2161,"user_id":378214,"accept_rate":75,"display_name":"Bagira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686010043,"creation_date":1686010043,"answer_id":76410674,"question_id":76403219,"body_markdown":"I figured out the problem. \r\n\r\nProblem is spring boot refuses to pick this information from application.properties. I need to inject all the information in Producerfactory bean only then it works. I also tried removing Producerfactory bean altogether thinking there might be a conflict but getting rid of Producerfactory bean also does not help. \r\n\r\nSo here is my updated code for Producerfactory\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n\r\n      //Defining these propeties in application.propeties only does not work. Need to create a Producerfactory bean and inject all these properties. Only then it works.\r\n      return new DefaultKafkaProducerFactory&lt;String, String&gt;(Map.of(\r\n              AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootStrapServer,\r\n              AdminClientConfig.RETRIES_CONFIG, 0,\r\n              ProducerConfig.BUFFER_MEMORY_CONFIG, 33554432,\r\n              ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\r\n              ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\r\n              CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, securityProtocol,\r\n              SaslConfigs.SASL_MECHANISM, saslMechanism,\r\n              SaslConfigs.SASL_JAAS_CONFIG, saslJAAS\r\n      ));\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n      return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n\r\nI have no idea why spring boot would do this.","title":"Bootstrap broker disconnected: Not able to connect to kafka","body":"<p>I figured out the problem.</p>\n<p>Problem is spring boot refuses to pick this information from application.properties. I need to inject all the information in Producerfactory bean only then it works. I also tried removing Producerfactory bean altogether thinking there might be a conflict but getting rid of Producerfactory bean also does not help.</p>\n<p>So here is my updated code for Producerfactory</p>\n<pre><code>@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n\n  //Defining these propeties in application.propeties only does not work. Need to create a Producerfactory bean and inject all these properties. Only then it works.\n  return new DefaultKafkaProducerFactory&lt;String, String&gt;(Map.of(\n          AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootStrapServer,\n          AdminClientConfig.RETRIES_CONFIG, 0,\n          ProducerConfig.BUFFER_MEMORY_CONFIG, 33554432,\n          ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\n          ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\n          CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, securityProtocol,\n          SaslConfigs.SASL_MECHANISM, saslMechanism,\n          SaslConfigs.SASL_JAAS_CONFIG, saslJAAS\n  ));\n}\n\n@Bean\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n  return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n</code></pre>\n<p>I have no idea why spring boot would do this.</p>\n"}],"owner":{"account_id":159123,"reputation":2161,"user_id":378214,"accept_rate":75,"display_name":"Bagira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686010043,"creation_date":1685932460,"question_id":76403219,"body_markdown":"I have created a kafka cluster on confluent Cloud but I am unable to connect to it. When I run producer, I get following error:\r\n\r\n&gt; [Producer clientId=producer-1] Node -1 disconnected.\r\n&gt; 2023-06-05T06:09:20.826+05:30  INFO 25324 --- [ad | producer-1]\r\n&gt; org.apache.kafka.clients.NetworkClient   : [Producer\r\n&gt; clientId=producer-1] Cancelled in-flight API_VERSIONS request with\r\n&gt; correlation id 189 due to node -1 being disconnected (elapsed time\r\n&gt; since creation: 253ms, elapsed time since send: 253ms, request\r\n&gt; timeout: 30000ms) 2023-06-05T06:09:20.827+05:30  WARN 25324 --- [ad |\r\n&gt; producer-1] org.apache.kafka.clients.NetworkClient   : [Producer\r\n&gt; clientId=producer-1] Bootstrap broker &lt;server-address&gt; (id: -1 rack:\r\n&gt; null) disconnected\r\n\r\nI tried created a new cluster but result is same. I am using spring boot to connect to cluster.\r\n\r\nHere is the configuration:\r\n\r\n&gt; spring.kafka.properties.sasl.mechanism=PLAIN\r\n&gt; spring.kafka.properties.bootstrap.servers=broker-address-here:9092\r\n&gt; spring.kafka.properties.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule\r\n&gt; required username=&#39;api-key-here&#39;\r\n&gt; password=&#39;api-secret-here&#39;;\r\n&gt; spring.kafka.properties.security.protocol=SASL_SSL\r\n&gt; spring.kafka.properties.session.timeout.ms=45000\r\n\r\nHere are Spring boot beans:\r\n\r\n    @Configuration\r\n    public class KafkaConfiguration {\r\n      \r\n        @Value(&quot;${spring.kafka.properties.bootstrap.servers}&quot;)\r\n        private String bootStrapServer;\r\n    \r\n        @Bean\r\n        public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n    \r\n          return new DefaultKafkaProducerFactory&lt;String, String&gt;(Map.of(\r\n                  AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootStrapServer,\r\n                  AdminClientConfig.RETRIES_CONFIG, 0,\r\n                  ProducerConfig.BUFFER_MEMORY_CONFIG, 33554432,\r\n                  ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\r\n                  ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class\r\n          ));\r\n        }\r\n    \r\n        @Bean\r\n        public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n          return new KafkaTemplate&lt;&gt;(producerFactory());\r\n        }\r\n    }\r\n\r\nHere is my controller which tries to send message to cluster:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/produce&quot;)\r\n    public final class LogProducer {\r\n    \r\n        @Autowired \r\n        private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n     \r\n        private static final String TOPIC = &quot;logs&quot;;\r\n     \r\n        // Publish messages using the GetMapping\r\n        @PostMapping(&quot;/logs/v1&quot;)\r\n        public String publishMessage()\r\n        {\r\n     \r\n            // Sending the message\r\n            kafkaTemplate.send(TOPIC, &quot;sample log message&quot;);\r\n     \r\n            return &quot;Published Successfully&quot;;\r\n        }    \r\n    }\r\n\r\nAny suggestions, what am I doing wrong?","title":"Bootstrap broker disconnected: Not able to connect to kafka","body":"<p>I have created a kafka cluster on confluent Cloud but I am unable to connect to it. When I run producer, I get following error:</p>\n<blockquote>\n<p>[Producer clientId=producer-1] Node -1 disconnected.\n2023-06-05T06:09:20.826+05:30  INFO 25324 --- [ad | producer-1]\norg.apache.kafka.clients.NetworkClient   : [Producer\nclientId=producer-1] Cancelled in-flight API_VERSIONS request with\ncorrelation id 189 due to node -1 being disconnected (elapsed time\nsince creation: 253ms, elapsed time since send: 253ms, request\ntimeout: 30000ms) 2023-06-05T06:09:20.827+05:30  WARN 25324 --- [ad |\nproducer-1] org.apache.kafka.clients.NetworkClient   : [Producer\nclientId=producer-1] Bootstrap broker  (id: -1 rack:\nnull) disconnected</p>\n</blockquote>\n<p>I tried created a new cluster but result is same. I am using spring boot to connect to cluster.</p>\n<p>Here is the configuration:</p>\n<blockquote>\n<p>spring.kafka.properties.sasl.mechanism=PLAIN\nspring.kafka.properties.bootstrap.servers=broker-address-here:9092\nspring.kafka.properties.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule\nrequired username='api-key-here'\npassword='api-secret-here';\nspring.kafka.properties.security.protocol=SASL_SSL\nspring.kafka.properties.session.timeout.ms=45000</p>\n</blockquote>\n<p>Here are Spring boot beans:</p>\n<pre><code>@Configuration\npublic class KafkaConfiguration {\n  \n    @Value(&quot;${spring.kafka.properties.bootstrap.servers}&quot;)\n    private String bootStrapServer;\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n\n      return new DefaultKafkaProducerFactory&lt;String, String&gt;(Map.of(\n              AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootStrapServer,\n              AdminClientConfig.RETRIES_CONFIG, 0,\n              ProducerConfig.BUFFER_MEMORY_CONFIG, 33554432,\n              ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\n              ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class\n      ));\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n      return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n</code></pre>\n<p>Here is my controller which tries to send message to cluster:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/produce&quot;)\npublic final class LogProducer {\n\n    @Autowired \n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n \n    private static final String TOPIC = &quot;logs&quot;;\n \n    // Publish messages using the GetMapping\n    @PostMapping(&quot;/logs/v1&quot;)\n    public String publishMessage()\n    {\n \n        // Sending the message\n        kafkaTemplate.send(TOPIC, &quot;sample log message&quot;);\n \n        return &quot;Published Successfully&quot;;\n    }    \n}\n</code></pre>\n<p>Any suggestions, what am I doing wrong?</p>\n"},{"tags":["java","generics","kotlin","extends"],"answers":[{"tags":[],"owner":{"account_id":14295595,"reputation":6658,"user_id":10326373,"display_name":"Yoni Gibbs"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1540922647,"creation_date":1540922647,"answer_id":53070321,"question_id":53029320,"body_markdown":"I presume that by &quot;package public&quot; you meant &quot;package private&quot;? In your example, `FooBuilder.FooSettings` has no visibility modifier so uses the Java default of package private. Assuming that&#39;s what you meant...\r\n\r\nYou will be able to access the package private class, `FooSettings`, in your Kotlin code, but only if you put that Kotlin code in a package matching the one where `FooSettings` is declared.\r\n\r\nYou&#39;ll still get the same compilation error, but that&#39;s not because you can&#39;t access the type: it&#39;s because you&#39;re trying to use it in a context which is more visible than the type&#39;s declaration. i.e. you&#39;re trying to take a package private type and use it as part of a public method&#39;s signature, which isn&#39;t allowed. To get round that problem you need to mark your Kotlin class as `internal`.\r\n\r\nIt&#39;s might also be worth mentioning that `internal` for Kotlin means it&#39;s visible in that **module**, not in that **package**. This is all explained in more detail [here][1].\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/visibility-modifiers.html","title":"Kotlin Error : &#39;public&#39; function exposes its &#39;public/*package*/&#39; return type argument","body":"<p>I presume that by \"package public\" you meant \"package private\"? In your example, <code>FooBuilder.FooSettings</code> has no visibility modifier so uses the Java default of package private. Assuming that's what you meant...</p>\n\n<p>You will be able to access the package private class, <code>FooSettings</code>, in your Kotlin code, but only if you put that Kotlin code in a package matching the one where <code>FooSettings</code> is declared.</p>\n\n<p>You'll still get the same compilation error, but that's not because you can't access the type: it's because you're trying to use it in a context which is more visible than the type's declaration. i.e. you're trying to take a package private type and use it as part of a public method's signature, which isn't allowed. To get round that problem you need to mark your Kotlin class as <code>internal</code>.</p>\n\n<p>It's might also be worth mentioning that <code>internal</code> for Kotlin means it's visible in that <strong>module</strong>, not in that <strong>package</strong>. This is all explained in more detail <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":11762528,"reputation":4100,"user_id":8608146,"display_name":"Phani Rithvij"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596906503,"creation_date":1596906503,"answer_id":63318125,"question_id":53029320,"body_markdown":"In my case, I was getting this error because I was importing a kotlin class variable from another java file which raised because of the auto conversion from java to kotlin by Android Studio.\r\n\r\nI was able to fix it by changing all the references of the variable in the java file to its setters and getters.\r\n\r\neg:\r\n\r\n```kt\r\n// kotlin file\r\ninternal open class BubbleBaseLayout : FrameLayout {\r\n    var windowManager: WindowManager? = null\r\n    lateinit var viewParams: WindowManager.LayoutParams\r\n    // defined here\r\n    var layoutCoordinator: BubblesLayoutCoordinator? = null\r\n    \r\n    // ...\r\n}\r\n```\r\n\r\n```java\r\n// Java file\r\n    // This variable\r\n    if (layoutCoordinator != null) { ... }\r\n```\r\n\r\nNeeds to be changed to\r\n\r\n```\r\n// layoutCoordinator to getlayoutCoordinator everywhere\r\n    if(getlayoutCoordinator() != null){ ... }\r\n```","title":"Kotlin Error : &#39;public&#39; function exposes its &#39;public/*package*/&#39; return type argument","body":"<p>In my case, I was getting this error because I was importing a kotlin class variable from another java file which raised because of the auto conversion from java to kotlin by Android Studio.</p>\n<p>I was able to fix it by changing all the references of the variable in the java file to its setters and getters.</p>\n<p>eg:</p>\n<pre><code>// kotlin file\ninternal open class BubbleBaseLayout : FrameLayout {\n    var windowManager: WindowManager? = null\n    lateinit var viewParams: WindowManager.LayoutParams\n    // defined here\n    var layoutCoordinator: BubblesLayoutCoordinator? = null\n    \n    // ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Java file\n    // This variable\n    if (layoutCoordinator != null) { ... }\n</code></pre>\n<p>Needs to be changed to</p>\n<pre><code>// layoutCoordinator to getlayoutCoordinator everywhere\n    if(getlayoutCoordinator() != null){ ... }\n</code></pre>\n"}],"owner":{"account_id":14635143,"reputation":227,"user_id":10569563,"display_name":"Zuerst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15618,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":53070321,"answer_count":2,"score":22,"last_activity_date":1686009850,"creation_date":1540712047,"question_id":53029320,"body_markdown":"I am new to Kotlin and trying out to write some project using the language.\r\nI am using Java library and extending a class from the library in my project and I am seeing this error message.\r\n\r\n    &#39;public&#39; function exposes its &#39;public/*package*/&#39; return type argument FooSettings\r\n\r\nI understand what the problem is, but I am not sure how to fix it in Kotlin since I am still trying get familiar with Kotlin.\r\nI can see that Kotlin is being smart and only trying to return of type that extends `FooSettings`. However the problem is `FooSettings` is package public only which means that I cannot access if in my Kotlin project.\r\n\r\nI did some research about Kotlin generics and use of `in` or `out` but I wasn&#39;t able to fix the problem.\r\n\r\nIs there any work around that I can do in my Kotlin project to fix the error I am seeing?\r\n\r\nCode snippet\r\n-----\r\n\r\n**This is sample of Java library class:**\r\nNote, I have no way to changing the implementation of the library. I must use this Library and extend it in Kotlin.\r\n\r\nIt seems odd to me that the java library is written such a way and expect it to be overridden but that is question for another day. \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public abstract class ClassA {\r\n        public List&lt;FooBuilder&lt;?&gt;&gt; getBuilder(Foo foo) {\r\n            return Collections.emptyList();\r\n        }\r\n    }\r\n\r\n    public class Foo {\r\n    }\r\n\r\n    public abstract class FooBuilder&lt;U extends FooBuilder.FooSettings&gt; {\r\n        // implementation of Class\r\n        abstract static class FooSettings {\r\n            // implementation of Class\r\n        }\r\n    }\r\n\r\n**Normally Java classes would override the method like such:**\r\n\r\n    import java.util.List;\r\n\r\n    public class MyJavaClassA extends ClassA {\r\n        @Override public List&lt;FooBuilder&lt;?&gt;&gt; getBuilder(final Foo foo) {\r\n            // implementation\r\n        }\r\n    }\r\n\r\n**But I am trying to write in Kotlin such that it looks like**: Reminder that this Kotlin is depending on the Java library and does not have access to package public classes.\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n\r\n    class MyKotlinClassA : ClassA() {\r\n        override fun getBuilder(foo: Foo): MutableList&lt;FooBuilder&lt;*&gt;&gt; {\r\n            // implementation\r\n        }\r\n    }\r\n\r\nThis causes error\r\n\r\n    &#39;public&#39; function exposes its &#39;public/*package*/&#39; return type argument FooSettings","title":"Kotlin Error : &#39;public&#39; function exposes its &#39;public/*package*/&#39; return type argument","body":"<p>I am new to Kotlin and trying out to write some project using the language.\nI am using Java library and extending a class from the library in my project and I am seeing this error message.</p>\n<pre><code>'public' function exposes its 'public/*package*/' return type argument FooSettings\n</code></pre>\n<p>I understand what the problem is, but I am not sure how to fix it in Kotlin since I am still trying get familiar with Kotlin.\nI can see that Kotlin is being smart and only trying to return of type that extends <code>FooSettings</code>. However the problem is <code>FooSettings</code> is package public only which means that I cannot access if in my Kotlin project.</p>\n<p>I did some research about Kotlin generics and use of <code>in</code> or <code>out</code> but I wasn't able to fix the problem.</p>\n<p>Is there any work around that I can do in my Kotlin project to fix the error I am seeing?</p>\n<h2>Code snippet</h2>\n<p><strong>This is sample of Java library class:</strong>\nNote, I have no way to changing the implementation of the library. I must use this Library and extend it in Kotlin.</p>\n<p>It seems odd to me that the java library is written such a way and expect it to be overridden but that is question for another day.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Collections;\nimport java.util.List;\n\npublic abstract class ClassA {\n    public List&lt;FooBuilder&lt;?&gt;&gt; getBuilder(Foo foo) {\n        return Collections.emptyList();\n    }\n}\n\npublic class Foo {\n}\n\npublic abstract class FooBuilder&lt;U extends FooBuilder.FooSettings&gt; {\n    // implementation of Class\n    abstract static class FooSettings {\n        // implementation of Class\n    }\n}\n</code></pre>\n<p><strong>Normally Java classes would override the method like such:</strong></p>\n<pre><code>import java.util.List;\n\npublic class MyJavaClassA extends ClassA {\n    @Override public List&lt;FooBuilder&lt;?&gt;&gt; getBuilder(final Foo foo) {\n        // implementation\n    }\n}\n</code></pre>\n<p><strong>But I am trying to write in Kotlin such that it looks like</strong>: Reminder that this Kotlin is depending on the Java library and does not have access to package public classes.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyKotlinClassA : ClassA() {\n    override fun getBuilder(foo: Foo): MutableList&lt;FooBuilder&lt;*&gt;&gt; {\n        // implementation\n    }\n}\n</code></pre>\n<p>This causes error</p>\n<pre><code>'public' function exposes its 'public/*package*/' return type argument FooSettings\n</code></pre>\n"},{"tags":["java","while-loop","java.util.scanner"],"comments":[{"owner":{"account_id":5603010,"reputation":984,"user_id":4438634,"accept_rate":39,"display_name":"Ziad Halabi"},"score":0,"creation_date":1427778235,"post_id":29360889,"comment_id":46905707,"body_markdown":"can u post the whole code so I can test it?","body":"can u post the whole code so I can test it?"},{"owner":{"account_id":4843113,"reputation":3664,"user_id":3907612,"accept_rate":91,"display_name":"Yantraguru"},"score":0,"creation_date":1427779185,"post_id":29360889,"comment_id":46906018,"body_markdown":"yes post the complete code. Difficult to guess. But I think whats happening is totalRain += monthRain; is not in loop and thats the reason all months are not considered","body":"yes post the complete code. Difficult to guess. But I think whats happening is totalRain += monthRain; is not in loop and thats the reason all months are not considered"},{"owner":{"account_id":6026469,"reputation":9,"user_id":4731994,"accept_rate":100,"display_name":"LizzySmit"},"score":0,"creation_date":1427780536,"post_id":29360889,"comment_id":46906511,"body_markdown":"@Kognizant how would I go about putting it in the loop?","body":"@Kognizant how would I go about putting it in the loop?"},{"owner":{"account_id":4843113,"reputation":3664,"user_id":3907612,"accept_rate":91,"display_name":"Yantraguru"},"score":0,"creation_date":1427780775,"post_id":29360889,"comment_id":46906600,"body_markdown":"actually Ziad has already shown how to put it inside the loop","body":"actually Ziad has already shown how to put it inside the loop"}],"answers":[{"tags":[],"owner":{"account_id":5603010,"reputation":984,"user_id":4438634,"accept_rate":39,"display_name":"Ziad Halabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427780064,"creation_date":1427778960,"answer_id":29361052,"question_id":29360889,"body_markdown":"What you can do is add to the total of Rain each time the user inputs a month rain. Then you can do the average once he finishes inputting data.\r\n\r\n`import java.util.Scanner;\r\npublic class test {\r\n\r\n\tpublic static void main(String[]args){\r\n\t\tdouble monthRain=0;\r\n\t\tdouble totalRain=0;\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n\t\tint years = 1;\r\n\t\tint NUM_MONTHS = 12;\r\n\t\tSystem.out.println(&quot;Enter the rainfall, in inches, for each month. &quot;);\r\n\t\tfor(int y = 1; y &lt;= years; y++){\r\n\t\t\tfor(int m = 1; m &lt;= NUM_MONTHS; m++){\r\n\r\n\t\t\t\tSystem.out.print(&quot;Year&quot; + y + &quot;month&quot; + m + &quot;: &quot;);\r\n\t\t\t\tmonthRain = keyboard.nextDouble(); \r\n\t\t\t\ttotalRain+=monthRain;\r\n\t\t\t}\r\n\t\t}\r\n\t\tint totalMonth = years*NUM_MONTHS;\r\n\t\tSystem.out.println(&quot;\\nNumber of months: &quot; + totalMonth );\r\n\t\tSystem.out.println(&quot;Total Rain: &quot;+totalRain+&quot; inches&quot;);\r\n\t\tdouble average = totalRain / totalMonth;\r\n\t\tSystem.out.println(&quot;Average monthly rainfall: &quot; + average + &quot; inches&quot;);\r\n\r\n\t}\r\n\r\n}\r\n`","title":"when executing program, extra input command causes logical errors java","body":"<p>What you can do is add to the total of Rain each time the user inputs a month rain. Then you can do the average once he finishes inputting data.</p>\n\n<p>`import java.util.Scanner;\npublic class test {</p>\n\n<pre><code>public static void main(String[]args){\n    double monthRain=0;\n    double totalRain=0;\n    Scanner keyboard = new Scanner(System.in);\n    int years = 1;\n    int NUM_MONTHS = 12;\n    System.out.println(\"Enter the rainfall, in inches, for each month. \");\n    for(int y = 1; y &lt;= years; y++){\n        for(int m = 1; m &lt;= NUM_MONTHS; m++){\n\n            System.out.print(\"Year\" + y + \"month\" + m + \": \");\n            monthRain = keyboard.nextDouble(); \n            totalRain+=monthRain;\n        }\n    }\n    int totalMonth = years*NUM_MONTHS;\n    System.out.println(\"\\nNumber of months: \" + totalMonth );\n    System.out.println(\"Total Rain: \"+totalRain+\" inches\");\n    double average = totalRain / totalMonth;\n    System.out.println(\"Average monthly rainfall: \" + average + \" inches\");\n\n}\n</code></pre>\n\n<p>}\n`</p>\n"},{"tags":[],"owner":{"account_id":1327847,"reputation":5665,"user_id":1272318,"accept_rate":48,"display_name":"Touchstone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1427781300,"creation_date":1427781300,"answer_id":29361523,"question_id":29360889,"body_markdown":"You were using unnecessary braces. Moreover, some logical flaws were also present in your code. I have fixed your code. Please refer the following code:\r\n\r\n    import java.util.Scanner; //for Scanner class\r\n\r\n    public class AverageRainfall {\r\n\t public static void main(String[] args) {\r\n\t\tfinal int NUM_MONTHS = 12; // Months per year\r\n\t\tint years; // Number of years\r\n\t\tdouble monthRain=0; // Rain for a month\r\n\t\tdouble totalRain = 0; // Rainfall accumulator\r\n\t\tdouble average; // Average rainfall\r\n\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n\r\n\t\tSystem.out.print(&quot;Enter the number of years: &quot;);\r\n\t\tyears = keyboard.nextInt();\r\n\r\n\t\twhile (years &lt; 1) {\r\n\t\t\tSystem.out.print(&quot;Invalid. Enter 1 or greater: &quot;);\r\n\t\t\tyears = keyboard.nextInt();\r\n\t\t\r\n\t\t}\r\n\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter the rainfall, in inches, for each month. &quot;);\r\n\t\tfor (int y = 1; y &lt;= years; y++) {\r\n\r\n\t\t\tfor (int m = 1; m &lt;= NUM_MONTHS; m++) {\r\n\r\n\t\t\t\tSystem.out.print(&quot;Year&quot; + y + &quot;month&quot; + m + &quot;: &quot;);\r\n\t\t\t\tmonthRain = keyboard.nextDouble();\r\n\t\t\t\t\t\r\n\t\t\t\twhile (monthRain &lt; 0) {\r\n\t\t\t\t\tSystem.out.print(&quot;Invalid. Enter 0 or greater: &quot;);\r\n\t\t\t\t\tmonthRain = keyboard.nextDouble();\r\n\t\t\t\t}\r\n\t\t\t\ttotalRain += monthRain;\r\n\t\t\t}\t\r\n\t\t}\t\r\n\t\t\r\n\r\n\t\t\r\n\t\t\r\n\r\n\t\taverage = totalRain / (years * NUM_MONTHS);\r\n\r\n\t\tSystem.out.println(&quot;\\nNumber of months: &quot; + (years * NUM_MONTHS));\r\n\t\tSystem.out.println(&quot;Total rainfall: &quot; + totalRain + &quot; inches&quot;);\r\n\t\tSystem.out.println(&quot;Average monthly rainfall: &quot; + average\r\n\t\t\t\t\t+ &quot; inches&quot;);\r\n\t\t\r\n\t }\r\n    }","title":"when executing program, extra input command causes logical errors java","body":"<p>You were using unnecessary braces. Moreover, some logical flaws were also present in your code. I have fixed your code. Please refer the following code:</p>\n\n<pre><code>import java.util.Scanner; //for Scanner class\n\npublic class AverageRainfall {\n public static void main(String[] args) {\n    final int NUM_MONTHS = 12; // Months per year\n    int years; // Number of years\n    double monthRain=0; // Rain for a month\n    double totalRain = 0; // Rainfall accumulator\n    double average; // Average rainfall\n\n    Scanner keyboard = new Scanner(System.in);\n\n    System.out.print(\"Enter the number of years: \");\n    years = keyboard.nextInt();\n\n    while (years &lt; 1) {\n        System.out.print(\"Invalid. Enter 1 or greater: \");\n        years = keyboard.nextInt();\n\n    }\n\n\n    System.out.println(\"Enter the rainfall, in inches, for each month. \");\n    for (int y = 1; y &lt;= years; y++) {\n\n        for (int m = 1; m &lt;= NUM_MONTHS; m++) {\n\n            System.out.print(\"Year\" + y + \"month\" + m + \": \");\n            monthRain = keyboard.nextDouble();\n\n            while (monthRain &lt; 0) {\n                System.out.print(\"Invalid. Enter 0 or greater: \");\n                monthRain = keyboard.nextDouble();\n            }\n            totalRain += monthRain;\n        }   \n    }   \n\n\n\n\n\n    average = totalRain / (years * NUM_MONTHS);\n\n    System.out.println(\"\\nNumber of months: \" + (years * NUM_MONTHS));\n    System.out.println(\"Total rainfall: \" + totalRain + \" inches\");\n    System.out.println(\"Average monthly rainfall: \" + average\n                + \" inches\");\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":6026469,"reputation":9,"user_id":4731994,"accept_rate":100,"display_name":"LizzySmit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29361523,"answer_count":2,"score":0,"last_activity_date":1686009840,"creation_date":1427777907,"question_id":29360889,"body_markdown":"I am trying to execute a program called AverageRainfall. Most of the input works well (my while statement at the beginning is fine), but there are multiple months under the variable monthRain, and the while statement for monthRain is not functioning with the various months, only the initial input command, which is serving no purpose. \r\n\r\nETA: Posting entire code for testing\r\n\r\n      import java.util.Scanner; //for Scanner class\r\n\r\n      public class AverageRainfall\r\n      {\r\n      public static void main(String[] args)\r\n      {\r\n         final int NUM_MONTHS = 12;\t\t//Months per year\r\n         int years;\t\t\t\t\t    //Number of years\r\n         double monthRain;\t\t\t\t\t//Rain for a month\r\n         double totalRain = 0;\t\t\t\t//Rainfall accumulator\r\n         double average;\t\t\t\t\t//Average rainfall\r\n      \r\n         Scanner keyboard = new Scanner(System.in);\r\n      \r\n         {\r\n         System.out.print(&quot;Enter the number of years: &quot;);\r\n         years = keyboard.nextInt();\r\n      \r\n         while (years &lt; 1)\r\n            {\r\n            System.out.print(&quot;Invalid. Enter 1 or greater: &quot;);\r\n            years = keyboard.nextInt();\r\n            }\r\n         }\r\n      \r\n          { \r\n             System.out.println(&quot;Enter the rainfall, in inches, for each month. &quot;);\r\n             monthRain = keyboard.nextDouble();\r\n         \r\n             for(int y = 1; y &lt;= years; y++){\r\n         \r\n               for(int m = 1; m &lt;= NUM_MONTHS; m++){\r\n           \r\n           System.out.print(&quot;Year&quot; + y + &quot;month&quot; + m + &quot;: &quot;);\r\n           monthRain = keyboard.nextDouble(); \r\n           }\r\n           }\r\n           while (monthRain &lt; 0)\r\n          {\r\n             System.out.print(&quot;Invalid. Enter 0 or greater: &quot;);\r\n             monthRain = keyboard.nextDouble();\r\n          }\r\n          }  \r\n        \r\n           {\r\n            totalRain += monthRain;\r\n        \r\n            average = totalRain / (years * NUM_MONTHS);\r\n        \r\n            System.out.println(&quot;\\nNumber of months: &quot; + (years * NUM_MONTHS) );\r\n            System.out.println(&quot;Total rainfall: &quot; + totalRain + &quot; inches&quot;);\r\n            System.out.println(&quot;Average monthly rainfall: &quot; + average + &quot; inches&quot;);\r\n           }\r\n        }\r\n    }\r\n\r\n\r\nThis is the entire code.","title":"when executing program, extra input command causes logical errors java","body":"<p>I am trying to execute a program called AverageRainfall. Most of the input works well (my while statement at the beginning is fine), but there are multiple months under the variable monthRain, and the while statement for monthRain is not functioning with the various months, only the initial input command, which is serving no purpose. </p>\n\n<p>ETA: Posting entire code for testing</p>\n\n<pre><code>  import java.util.Scanner; //for Scanner class\n\n  public class AverageRainfall\n  {\n  public static void main(String[] args)\n  {\n     final int NUM_MONTHS = 12;     //Months per year\n     int years;                     //Number of years\n     double monthRain;                  //Rain for a month\n     double totalRain = 0;              //Rainfall accumulator\n     double average;                    //Average rainfall\n\n     Scanner keyboard = new Scanner(System.in);\n\n     {\n     System.out.print(\"Enter the number of years: \");\n     years = keyboard.nextInt();\n\n     while (years &lt; 1)\n        {\n        System.out.print(\"Invalid. Enter 1 or greater: \");\n        years = keyboard.nextInt();\n        }\n     }\n\n      { \n         System.out.println(\"Enter the rainfall, in inches, for each month. \");\n         monthRain = keyboard.nextDouble();\n\n         for(int y = 1; y &lt;= years; y++){\n\n           for(int m = 1; m &lt;= NUM_MONTHS; m++){\n\n       System.out.print(\"Year\" + y + \"month\" + m + \": \");\n       monthRain = keyboard.nextDouble(); \n       }\n       }\n       while (monthRain &lt; 0)\n      {\n         System.out.print(\"Invalid. Enter 0 or greater: \");\n         monthRain = keyboard.nextDouble();\n      }\n      }  \n\n       {\n        totalRain += monthRain;\n\n        average = totalRain / (years * NUM_MONTHS);\n\n        System.out.println(\"\\nNumber of months: \" + (years * NUM_MONTHS) );\n        System.out.println(\"Total rainfall: \" + totalRain + \" inches\");\n        System.out.println(\"Average monthly rainfall: \" + average + \" inches\");\n       }\n    }\n}\n</code></pre>\n\n<p>This is the entire code.</p>\n"},{"tags":["java","eclipse","darkmode","sts"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1685883718,"post_id":76400222,"comment_id":134720262,"body_markdown":"The darkes theme plugin patches Eclipse via loadtime weaving which can cause issues and slow down Eclipse (the vendor of this plugin tries to cheat the open source license of Eclipse by doing so). If you don&#39;t like the built-in themes, there are other dark themes that are more ergonomic and don&#39;t do this.","body":"The darkes theme plugin patches Eclipse via loadtime weaving which can cause issues and slow down Eclipse (the vendor of this plugin tries to cheat the open source license of Eclipse by doing so). If you don&#39;t like the built-in themes, there are other dark themes that are more ergonomic and don&#39;t do this."}],"owner":{"account_id":16843971,"reputation":11,"user_id":12178652,"display_name":"Prajwal Makanwar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686009564,"creation_date":1685878952,"question_id":76400222,"body_markdown":"```\r\nAn error occurred while collecting items to be installed\r\nsession context was:(profile=DefaultProfile, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for 810cecf8ba271008.\r\nOK\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for 810cecf8ba271008.\r\nOK\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for 70b824d9a6b4ae29.\r\nOK\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for 70b824d9a6b4ae29.\r\nOK\r\n```\r\nI&#39;ve tried restarting &amp; updating sts to but getting same error ","title":"getting error while installing darkest theme in sts","body":"<pre><code>An error occurred while collecting items to be installed\nsession context was:(profile=DefaultProfile, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for 810cecf8ba271008.\nOK\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for 810cecf8ba271008.\nOK\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for 70b824d9a6b4ae29.\nOK\nResult of processing steps.\nOK\nOK\nOK\nPublic key not found for 70b824d9a6b4ae29.\nOK\n</code></pre>\n<p>I've tried restarting &amp; updating sts to but getting same error</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1685928013,"post_id":76402983,"comment_id":134724761,"body_markdown":"Wondering what that is and why it has to be a &quot;negative&quot;.    -lastNegativeDiscountedCashFlow     Also it would be done safer with circular brackets to define the precedence order of the calculations.","body":"Wondering what that is and why it has to be a &quot;negative&quot;.    -lastNegativeDiscountedCashFlow     Also it would be done safer with circular brackets to define the precedence order of the calculations."},{"owner":{"account_id":11235646,"reputation":919,"user_id":8241951,"display_name":"Byte Ninja"},"score":0,"creation_date":1685928593,"post_id":76402983,"comment_id":134724803,"body_markdown":"The method `calculateDiscountedPaybackPeriod` return type in signature is `double` but you return `int` at the end of method!","body":"The method <code>calculateDiscountedPaybackPeriod</code> return type in signature is <code>double</code> but you return <code>int</code> at the end of method!"},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1685929078,"post_id":76402983,"comment_id":134724842,"body_markdown":"are you calling your method with the correct values? you provide a calculateDiscountedPaybackPeriod() with 3 params, but you call it with 2 params. I assume you have an overload with 2 params that provides a default value that may be different from the test case initialInvestment?","body":"are you calling your method with the correct values? you provide a calculateDiscountedPaybackPeriod() with 3 params, but you call it with 2 params. I assume you have an overload with 2 params that provides a default value that may be different from the test case initialInvestment?"},{"owner":{"account_id":12717944,"reputation":1,"user_id":9239335,"display_name":"B_N"},"score":0,"creation_date":1685932824,"post_id":76402983,"comment_id":134725132,"body_markdown":"@SamuelMarchant its to determine the fractional part of the &quot;period&quot; when the cumulative discounted cash flow becomes positive. also, i tried wrapping it in brackets nothing worked.","body":"@SamuelMarchant its to determine the fractional part of the &quot;period&quot; when the cumulative discounted cash flow becomes positive. also, i tried wrapping it in brackets nothing worked."},{"owner":{"account_id":12717944,"reputation":1,"user_id":9239335,"display_name":"B_N"},"score":0,"creation_date":1685932901,"post_id":76402983,"comment_id":134725136,"body_markdown":"@HosseinTaghizad I changed the return type to double return (double) period. but no change.","body":"@HosseinTaghizad I changed the return type to double return (double) period. but no change."},{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1685936769,"post_id":76402983,"comment_id":134725387,"body_markdown":"Do you pass the `initialInvestment` to the `calculateDiscountedPaybackPeriod` method? Can&#39;t see it in the test method.","body":"Do you pass the <code>initialInvestment</code> to the <code>calculateDiscountedPaybackPeriod</code> method? Can&#39;t see it in the test method."},{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1685980441,"post_id":76402983,"comment_id":134733491,"body_markdown":"In your method `calculateDiscountedPaybackPeriod`, the contents of the if statement never executes since the `period &lt; cashFlows.size()` condition always evaluates to `false`. If you closely look on the while loop above, you can see the exits when `period` is greater than or equal to `cashFlows.size()`. Which means by the time the if statement is executed, `period` is already greater than or equals to `cashFlows.size()`.","body":"In your method <code>calculateDiscountedPaybackPeriod</code>, the contents of the if statement never executes since the <code>period &lt; cashFlows.size()</code> condition always evaluates to <code>false</code>. If you closely look on the while loop above, you can see the exits when <code>period</code> is greater than or equal to <code>cashFlows.size()</code>. Which means by the time the if statement is executed, <code>period</code> is already greater than or equals to <code>cashFlows.size()</code>."}],"answers":[{"tags":[],"owner":{"account_id":11235646,"reputation":919,"user_id":8241951,"display_name":"Byte Ninja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685987390,"creation_date":1685987390,"answer_id":76408855,"question_id":76402983,"body_markdown":"Try this implementation of method *calculateDiscountedPaybackPeriod()*. It takes *initial investment*, *discount rate*, and *cash flow list* as input and returns Discounted Payback Period (DPP).\r\n\r\n    public static double calculateDiscountedPaybackPeriod(double initialInvestment, double discountRate, List&lt;Double&gt; cashFlows) {\r\n        cashFlows.add(0, -initialInvestment);\r\n        List&lt;Double&gt; PV = new ArrayList&lt;&gt;();    //Present Value\r\n        List&lt;Double&gt; DCF = new ArrayList&lt;&gt;();   //Discounted Cash Flow\r\n        List&lt;Double&gt; CCF = new ArrayList&lt;&gt;();   //Cumulative Discounted Cash Flow\r\n        CCF.add(0, -initialInvestment);\r\n        int x = 0;    //x is the last time period where CCF was negative\r\n        double y = 0; //y is the absolute value of the CCF at the end of period X\r\n        for (int j = 0; j &lt; cashFlows.size(); j++) {\r\n            PV.add(j, 1 / Math.pow((1 + discountRate), j));\r\n            DCF.add(j, cashFlows.get(j) * PV.get(j));\r\n            CCF.add(j, DCF.stream().mapToDouble(Double::doubleValue).sum());\r\n            if (CCF.get(j) &gt; 0) {\r\n                x = j - 1;\r\n                y = Math.abs(CCF.get(x));\r\n            }\r\n        }\r\n        double z = DCF.get(x + 1);  //z is the value of the DCF in the next period after x\r\n        return x + y / z;     //The Discounted Payback Period (DPP) is x + y/z\r\n    }\r\n\r\nCalling it with\r\n\r\n    public static void main(String[] args) {\r\n\r\n        double initialInvestment = 10000.0;\r\n        double discountRate = .05;\r\n        List&lt;Double&gt; cashFlows = Stream.of(1000.0, 2000.0, 3000.0, 4000.0, 5000.0).collect(Collectors.toList());\r\n        double DDP = DiscountedPaybackPeriod.calculateDiscountedPaybackPeriod(initialInvestment, discountRate, cashFlows);\r\n        System.out.println(DDP);\r\n    }\r\n\r\nretuned `DDP = 4.344911875`","title":"Discounted payback period: java formula","body":"<p>Try this implementation of method <em>calculateDiscountedPaybackPeriod()</em>. It takes <em>initial investment</em>, <em>discount rate</em>, and <em>cash flow list</em> as input and returns Discounted Payback Period (DPP).</p>\n<pre><code>public static double calculateDiscountedPaybackPeriod(double initialInvestment, double discountRate, List&lt;Double&gt; cashFlows) {\n    cashFlows.add(0, -initialInvestment);\n    List&lt;Double&gt; PV = new ArrayList&lt;&gt;();    //Present Value\n    List&lt;Double&gt; DCF = new ArrayList&lt;&gt;();   //Discounted Cash Flow\n    List&lt;Double&gt; CCF = new ArrayList&lt;&gt;();   //Cumulative Discounted Cash Flow\n    CCF.add(0, -initialInvestment);\n    int x = 0;    //x is the last time period where CCF was negative\n    double y = 0; //y is the absolute value of the CCF at the end of period X\n    for (int j = 0; j &lt; cashFlows.size(); j++) {\n        PV.add(j, 1 / Math.pow((1 + discountRate), j));\n        DCF.add(j, cashFlows.get(j) * PV.get(j));\n        CCF.add(j, DCF.stream().mapToDouble(Double::doubleValue).sum());\n        if (CCF.get(j) &gt; 0) {\n            x = j - 1;\n            y = Math.abs(CCF.get(x));\n        }\n    }\n    double z = DCF.get(x + 1);  //z is the value of the DCF in the next period after x\n    return x + y / z;     //The Discounted Payback Period (DPP) is x + y/z\n}\n</code></pre>\n<p>Calling it with</p>\n<pre><code>public static void main(String[] args) {\n\n    double initialInvestment = 10000.0;\n    double discountRate = .05;\n    List&lt;Double&gt; cashFlows = Stream.of(1000.0, 2000.0, 3000.0, 4000.0, 5000.0).collect(Collectors.toList());\n    double DDP = DiscountedPaybackPeriod.calculateDiscountedPaybackPeriod(initialInvestment, discountRate, cashFlows);\n    System.out.println(DDP);\n}\n</code></pre>\n<p>retuned <code>DDP = 4.344911875</code></p>\n"}],"owner":{"account_id":12717944,"reputation":1,"user_id":9239335,"display_name":"B_N"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686009388,"creation_date":1685926192,"question_id":76402983,"body_markdown":"I am trying to calculate the discounted payback period using this but it keeps failing the test: \r\n```\r\n//test method \r\n@Test\r\npublic void testCalculateDiscountedPaybackPeriod() {\r\n    double initialInvestment = 10000.0;\r\n    List&lt;Double&gt; cashFlows = Arrays.asList(1000.0, 2000.0, 3000.0, 4000.0, 5000.0);\r\n    double discountRate = 5.0;\r\n    double expResult = 4.37; \r\n    double result = calculations.calculateDiscountedPaybackPeriod(cashFlows, discountRate);\r\n    assertEquals(expResult, result, 0.01); \r\n}\r\n//calculateDiscountedPaybackPeriod method: \r\n public static double calculateDiscountedPaybackPeriod(Double initialInvestment, List&lt;Double&gt; cashFlows, double discountRate) {\r\n    double cumulativeDiscountedCashFlow = -initialInvestment;\r\n    int period = 0;\r\n    while (cumulativeDiscountedCashFlow &lt; 0 &amp;&amp; period &lt; cashFlows.size()) {\r\n        cumulativeDiscountedCashFlow += (cashFlows.get(period) / Math.pow(1 + discountRate, period));\r\n        period++;\r\n    }\r\n    if (period &gt; 0 &amp;&amp; period &lt; cashFlows.size()) {\r\n        double lastNegativeDiscountedCashFlow = cumulativeDiscountedCashFlow - (cashFlows.get(period - 1) / Math.pow(1 + discountRate, period - 1));\r\n        double fraction = -lastNegativeDiscountedCashFlow / (cashFlows.get(period) / Math.pow(1 + discountRate, period));\r\n        period += fraction;\r\n    }\r\n    return period;\r\n}\r\n\r\n```\r\n\r\n\r\nSo instead of giving 4.37, the answer its giving is 5. How do I correct the main method so that test can pass? ","title":"Discounted payback period: java formula","body":"<p>I am trying to calculate the discounted payback period using this but it keeps failing the test:</p>\n<pre><code>//test method \n@Test\npublic void testCalculateDiscountedPaybackPeriod() {\n    double initialInvestment = 10000.0;\n    List&lt;Double&gt; cashFlows = Arrays.asList(1000.0, 2000.0, 3000.0, 4000.0, 5000.0);\n    double discountRate = 5.0;\n    double expResult = 4.37; \n    double result = calculations.calculateDiscountedPaybackPeriod(cashFlows, discountRate);\n    assertEquals(expResult, result, 0.01); \n}\n//calculateDiscountedPaybackPeriod method: \n public static double calculateDiscountedPaybackPeriod(Double initialInvestment, List&lt;Double&gt; cashFlows, double discountRate) {\n    double cumulativeDiscountedCashFlow = -initialInvestment;\n    int period = 0;\n    while (cumulativeDiscountedCashFlow &lt; 0 &amp;&amp; period &lt; cashFlows.size()) {\n        cumulativeDiscountedCashFlow += (cashFlows.get(period) / Math.pow(1 + discountRate, period));\n        period++;\n    }\n    if (period &gt; 0 &amp;&amp; period &lt; cashFlows.size()) {\n        double lastNegativeDiscountedCashFlow = cumulativeDiscountedCashFlow - (cashFlows.get(period - 1) / Math.pow(1 + discountRate, period - 1));\n        double fraction = -lastNegativeDiscountedCashFlow / (cashFlows.get(period) / Math.pow(1 + discountRate, period));\n        period += fraction;\n    }\n    return period;\n}\n\n</code></pre>\n<p>So instead of giving 4.37, the answer its giving is 5. How do I correct the main method so that test can pass?</p>\n"},{"tags":["java","android","openai-api","socket-timeout-exception"],"comments":[{"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"score":0,"creation_date":1684174590,"post_id":76256469,"comment_id":134475726,"body_markdown":"As per TheoKanning openAi documentation you can pass timeout as OkHttpClient client = defaultClient(token, timeout) or   OpenAiService service = new OpenAiService(myKey, 30); //  The default value is 10 seconds, so you can set it to a higher value, such as 30 seconds","body":"As per TheoKanning openAi documentation you can pass timeout as OkHttpClient client = defaultClient(token, timeout) or   OpenAiService service = new OpenAiService(myKey, 30); //  The default value is 10 seconds, so you can set it to a higher value, such as 30 seconds"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684174645,"post_id":76256469,"comment_id":134475735,"body_markdown":"The SocketTimeOut is optional and is designed to close connections that don&#39;t have data transmission for a certain time. You can increase it to multiple minutes or simply disable it by setting it to 0.","body":"The SocketTimeOut is optional and is designed to close connections that don&#39;t have data transmission for a certain time. You can increase it to multiple minutes or simply disable it by setting it to 0."},{"owner":{"account_id":191004,"reputation":5546,"user_id":431296,"display_name":"Stan Kurdziel"},"score":0,"creation_date":1686012504,"post_id":76256469,"comment_id":134737985,"body_markdown":"Ask ChatGPT?   ;-)","body":"Ask ChatGPT?   ;-)"}],"answers":[{"tags":[],"owner":{"account_id":228633,"reputation":3657,"user_id":491066,"accept_rate":38,"display_name":"paiego"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686008525,"creation_date":1686008525,"answer_id":76410609,"question_id":76256469,"body_markdown":"The second parameter to OpenAiService is the timeout specified as Duration. Here is 60 seconds.\r\n\r\n    OpenAiService api = new OpenAiService(OPENAI_API_KEY, Duration.ofSeconds(60));","title":"How do I stop java.net.SocketTimeoutException: timeout whilst using the ChatGPT API for my Android app?","body":"<p>The second parameter to OpenAiService is the timeout specified as Duration. Here is 60 seconds.</p>\n<pre><code>OpenAiService api = new OpenAiService(OPENAI_API_KEY, Duration.ofSeconds(60));\n</code></pre>\n"}],"owner":{"account_id":20198137,"reputation":29,"user_id":14814581,"display_name":"TYG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686008525,"creation_date":1684170898,"question_id":76256469,"body_markdown":"I have the issue where whenever I attempt to get a response from the [ChatGPT Java API by Theo Kanning][1], I get the error message ```java.net.SocketTimeoutException: timeout``` after waiting ~10 seconds. I was wondering if there is a way to extend the limit, as all of the responses I&#39;ve seen before regarding this error code mention ```OkHttp``` which I am not using, or editing ```CONTEXT.XML``` which I cannot find in my project files.\r\n\r\nThe code:\r\n```\r\n// [rest of function, does not include Socket class]\r\nThread thread = new Thread(new Runnable() {\r\n  @Override\r\n  public void run() {\r\n    try {\r\n      String response = queryGPT();\r\n      System.out.println(response);\r\n    } catch (Exception e) {\r\n      System.out.println(&quot;There was an error: &quot;+e);\r\n    }\r\n  }\r\n});\r\nthread.start();\r\n```\r\n\r\n```\r\nqueryGPT() {\r\n  String query = myQuery;\r\n  OpenAiService service = new OpenAiService(myKey);\r\n  CompletionRequest request = CompletionRequest.builder()\r\n    .prompt(myQuery)\r\n    .model(&quot;text-davinci-003&quot;)\r\n    .temperature(0.5)\r\n    .maxTokens(1500)\r\n    .frequencyPenalty(0.0)\r\n    .presencePenalty(0.0)\r\n    .bestOf(1)\r\n    .echo(false)\r\n    .build();\r\n  List&lt;CompletionChoice&gt; response = service.createCompletion(request).getChoices();\r\n  return response.get(0).getText();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/TheoKanning/openai-java","title":"How do I stop java.net.SocketTimeoutException: timeout whilst using the ChatGPT API for my Android app?","body":"<p>I have the issue where whenever I attempt to get a response from the <a href=\"https://github.com/TheoKanning/openai-java\" rel=\"nofollow noreferrer\">ChatGPT Java API by Theo Kanning</a>, I get the error message <code>java.net.SocketTimeoutException: timeout</code> after waiting ~10 seconds. I was wondering if there is a way to extend the limit, as all of the responses I've seen before regarding this error code mention <code>OkHttp</code> which I am not using, or editing <code>CONTEXT.XML</code> which I cannot find in my project files.</p>\n<p>The code:</p>\n<pre><code>// [rest of function, does not include Socket class]\nThread thread = new Thread(new Runnable() {\n  @Override\n  public void run() {\n    try {\n      String response = queryGPT();\n      System.out.println(response);\n    } catch (Exception e) {\n      System.out.println(&quot;There was an error: &quot;+e);\n    }\n  }\n});\nthread.start();\n</code></pre>\n<pre><code>queryGPT() {\n  String query = myQuery;\n  OpenAiService service = new OpenAiService(myKey);\n  CompletionRequest request = CompletionRequest.builder()\n    .prompt(myQuery)\n    .model(&quot;text-davinci-003&quot;)\n    .temperature(0.5)\n    .maxTokens(1500)\n    .frequencyPenalty(0.0)\n    .presencePenalty(0.0)\n    .bestOf(1)\n    .echo(false)\n    .build();\n  List&lt;CompletionChoice&gt; response = service.createCompletion(request).getChoices();\n  return response.get(0).getText();\n}\n</code></pre>\n"},{"tags":["java","reflection","annotations"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1682427590,"post_id":76086589,"comment_id":134210795,"body_markdown":"Does it throw exceptions (that you then ignore)? If yes, what are they?","body":"Does it throw exceptions (that you then ignore)? If yes, what are they?"},{"owner":{"account_id":8473468,"reputation":1,"user_id":8276787,"display_name":"clincks"},"score":0,"creation_date":1686005888,"post_id":76086589,"comment_id":134737485,"body_markdown":"It returns NoSuchMethodException. (See my comment bellow). Thanks for your help.","body":"It returns NoSuchMethodException. (See my comment bellow). Thanks for your help."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686007993,"post_id":76086589,"comment_id":134737655,"body_markdown":"No, it *throws* `NoSuchMethodException`.","body":"No, it <i>throws</i> <code>NoSuchMethodException</code>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682275247,"creation_date":1682275247,"answer_id":76086622,"question_id":76086589,"body_markdown":"catching exceptions and ignoring them, then, when things don&#39;t work, running to Stack Overflow is rather obviously a very bad plan. Don&#39;t suppress exceptions unless you know __precisely__ how and why they occur.\r\n\r\nreflection&#39;s `.getMethod()` method __requires__ that you specify the precise method parameter types in addition to the name; in java terms, a method&#39;s full name is not _just_ the actual method name, it&#39;s the name AND the parameter types.\r\n\r\n`.getDeclaredMethod(&quot;myMethod&quot;, String.class, int.class, double.class)` finds that method. You can then ask for that annotation and you&#39;ll find it.\r\n\r\n`.getDeclaredMethod(&quot;myMethod&quot;);` doesn&#39;t find anything.\r\n\r\n","title":"Reflection not working as expected - NoSuchMethodException","body":"<p>catching exceptions and ignoring them, then, when things don't work, running to Stack Overflow is rather obviously a very bad plan. Don't suppress exceptions unless you know <strong>precisely</strong> how and why they occur.</p>\n<p>reflection's <code>.getMethod()</code> method <strong>requires</strong> that you specify the precise method parameter types in addition to the name; in java terms, a method's full name is not <em>just</em> the actual method name, it's the name AND the parameter types.</p>\n<p><code>.getDeclaredMethod(&quot;myMethod&quot;, String.class, int.class, double.class)</code> finds that method. You can then ask for that annotation and you'll find it.</p>\n<p><code>.getDeclaredMethod(&quot;myMethod&quot;);</code> doesn't find anything.</p>\n"}],"owner":{"account_id":8473468,"reputation":1,"user_id":8276787,"display_name":"clincks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686007908,"creation_date":1682274835,"question_id":76086589,"body_markdown":"I try to get statistics on method execution using an annotation on my code.\r\n\r\nHere is the code for the annotation:\r\n\r\n```\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\nimport java.lang.reflect.Method;\r\nimport java.util.function.Supplier;\r\n\r\nimport com.codahale.metrics.MetricRegistry;\r\nimport com.codahale.metrics.Timer;\r\n\r\npublic class StatsMethodCall {\r\n\t\r\n\t@Retention(RetentionPolicy.RUNTIME)\r\n\t@Target(ElementType.METHOD)\r\n\tpublic @interface Stats {\r\n\t}\r\n\t\r\n\tpublic static class StatsRegistry {\r\n\t\tprivate MetricRegistry metricRegistry;\r\n\r\n\t\tpublic StatsRegistry(final MetricRegistry metricRegistry) {\r\n\t\t\tthis.metricRegistry = metricRegistry;\r\n\t\t}\r\n\r\n\t\tpublic void addInvocation(final String methodName, final long duration) {\r\n\t\t\tTimer timer = metricRegistry.timer(methodName);\r\n\t\t\ttimer.update(duration, java.util.concurrent.TimeUnit.MILLISECONDS);\r\n\t\t}\r\n\r\n\t\tpublic Timer getTimer(final String methodName) {\r\n\t\t\treturn metricRegistry.timer(methodName);\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * Get the statistics based on the method name in the Stack.\r\n\t * This is a work around because it doesn&#39;t require the @Stats Annotation. \r\n\t * Check Method statsMethod2.\r\n\t * @param &lt;T&gt;\r\n\t * @param method\r\n\t * @param statsRegistry\r\n\t * @return\r\n\t */\r\n\tpublic static &lt;T&gt; T statsMethod(final Supplier&lt;T&gt; method, final StatsRegistry statsRegistry) {\r\n\t\tfinal String methodName = Thread.currentThread().getStackTrace()[2].getMethodName();\r\n\t\tT result;\r\n\t\tfinal Timer.Context timerContext = statsRegistry.getTimer(methodName).time();\r\n\t\ttry {\r\n\t\t\tresult = method.get();\r\n\t\t} finally {\r\n\t\t\ttimerContext.stop();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\t/**\r\n\t * Get the statistics based on the method with @Stats Annotation.\r\n\t * Doesn&#39;t work has expected\r\n\t * @param &lt;T&gt;\r\n\t * @param method\r\n\t * @param statsRegistry\r\n\t * @return\r\n\t */\r\n\tpublic static &lt;T&gt; T statsMethod2(final Supplier&lt;T&gt; method, final StatsRegistry statsRegistry) {\r\n\t\tString methodName = null;\r\n\t\tfor (final StackTraceElement element : Thread.currentThread().getStackTrace()) {\r\n\t\t\ttry {\r\n\t\t\t\tfinal Method m = Class.forName(element.getClassName()).getDeclaredMethod(element.getMethodName());\r\n\t\t\t\tif (m.getAnnotation(Stats.class) != null) {\r\n\t\t\t\t\tmethodName = m.getName();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t} catch (final ClassNotFoundException | NoSuchMethodException e) {\r\n\t\t\t\t// do nothing\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (methodName == null) {\r\n\t\t\tthrow new IllegalStateException(&quot;Cannot find method annotated with @&quot; + Stats.class.getSimpleName());\r\n\t\t}\r\n\r\n\t\tT result;\r\n\t\tfinal Timer.Context timerContext = statsRegistry.getTimer(methodName).time();\r\n\t\ttry {\r\n\t\t\tresult = method.get();\r\n\t\t} finally {\r\n\t\t\ttimerContext.stop();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n```\r\nAnd I try to test the code with JUnit\r\n\r\n\r\n```\r\n\r\nimport java.util.function.Supplier;\r\n\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport com.codahale.metrics.MetricRegistry;\r\nimport com.codahale.metrics.Timer;\r\n\r\nclass StatsMethodCallTest {\r\n\r\n\tstatic MetricRegistry metricRegistry = new MetricRegistry();\r\n\tstatic StatsRegistry registry = new StatsRegistry(metricRegistry);\r\n\tstatic MyClass myClass = new MyClass();\r\n\t\r\n\r\n\tpublic static class MyClass {\r\n\t\t@Stats\r\n\t\tpublic String myMethod(final String arg1, final int arg2, final double arg3) {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(10);\r\n\t\t\t} catch (final InterruptedException ie) {\r\n\t\t\t\tie.printStackTrace();\r\n\t\t\t}\r\n\t\t\tfinal String result = &quot;Hello &quot; + arg1 + &quot; &quot; + arg2 + &quot; &quot; + arg3;\r\n\t\t\tSystem.out.println(result);\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\n\t@BeforeAll\r\n\tstatic void setUpBeforeClass() throws Exception {\r\n\t\tmetricRegistry = new MetricRegistry();\r\n\t\tregistry = new StatsRegistry(metricRegistry);\r\n\t}\r\n\r\n\t@AfterAll\r\n\tstatic void tearDownAfterClass() throws Exception {\r\n\t}\r\n\r\n\t@BeforeEach\r\n\tvoid setUp() throws Exception {\r\n\t\t\r\n\t}\r\n\r\n\t@AfterEach\r\n\tvoid tearDown() throws Exception {\r\n\t}\r\n\r\n\t/**\r\n\t * Workaround - I&#39;m not fan of this\r\n\t */\r\n\t@Test\r\n\tfinal void test() {\r\n\t\t\r\n\t\tfor(int i =0; i &lt;100; i++) {\r\n\t\t\t//Here is the correct call\r\n\t\t\tStatsMethodCall.statsMethod(() -&gt; myClass.myMethod(&quot;foo&quot;, 42, 3.14), registry);\r\n\t\t}\r\n\t\t\r\n\t\t//I tried without Lambda Expression just in case it was related to this\r\n\t\tfor(int i = 0; i &lt; 100; i++) {\r\n\t\t\tStatsMethodCall.statsMethod(new Supplier&lt;Object&gt;() {\r\n        @Override\r\n        public Object get() {\r\n            return myClass.myMethod(&quot;foo&quot;, 42, 3.14);\r\n        }\r\n\t\t\t}, registry);\r\n\t\t}\t\t\r\n\t\t\r\n\t\t//This works but is weird code\r\n\t\tTimer timer = registry.getTimer(&quot;test&quot;);\r\n\t\tSystem.out.println(&quot;Invocation count: &quot; + timer.getCount());\r\n\t\tSystem.out.println(&quot;Min duration: &quot; + timer.getSnapshot().getMin());\r\n\t\tSystem.out.println(&quot;Max duration: &quot; + timer.getSnapshot().getMax());\r\n\t\tSystem.out.println(&quot;Avg duration: &quot; + timer.getSnapshot().getMean());\r\n\t\t\r\n\t\t//This doesn&#39;t work\r\n\t\tTimer timer2 = registry.getTimer(MyClass.class.getDeclaredMethods()[0].getName());\r\n\t\tSystem.out.println(&quot;Invocation count: &quot; + timer2.getCount());\r\n\t\tSystem.out.println(&quot;Min duration: &quot; + timer2.getSnapshot().getMin());\r\n\t\tSystem.out.println(&quot;Max duration: &quot; + timer2.getSnapshot().getMax());\r\n\t\tSystem.out.println(&quot;Avg duration: &quot; + timer2.getSnapshot().getMean());\r\n\t}\r\n\t\r\n\t/**\r\n\t * This is how I would like it works\r\n\t * Note: I&#39;m calling statsMethod2 here !\r\n\t */\r\n\t@Test\r\n\tfinal void test2() {\r\n\t\t\r\n\t\tfor(int i =0; i &lt;100; i++) {\r\n\t\t\t//Here is the correct call\r\n\t\t\tStatsMethodCall.statsMethod2(() -&gt; myClass.myMethod(&quot;foo&quot;, 42, 3.14), registry);\r\n\t\t}\r\n\t\t\t\t\r\n\t\tTimer timer = registry.getTimer(MyClass.class.getDeclaredMethods()[0].getName());\r\n\t\tSystem.out.println(&quot;Invocation count: &quot; + timer.getCount());\r\n\t\tSystem.out.println(&quot;Min duration: &quot; + timer.getSnapshot().getMin());\r\n\t\tSystem.out.println(&quot;Max duration: &quot; + timer.getSnapshot().getMax());\r\n\t\tSystem.out.println(&quot;Avg duration: &quot; + timer.getSnapshot().getMean());\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nHelp and explanation highly appreciated.\r\n\r\nThanks\r\nKind regards\r\n\r\n\r\nI expect that the Java Reflexion ill find the method with an anntation @Stats.\r\n\r\nBut there is no such method with @Stats annotation in the stack\r\nVery strange","title":"Reflection not working as expected - NoSuchMethodException","body":"<p>I try to get statistics on method execution using an annotation on my code.</p>\n<p>Here is the code for the annotation:</p>\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\nimport java.lang.reflect.Method;\nimport java.util.function.Supplier;\n\nimport com.codahale.metrics.MetricRegistry;\nimport com.codahale.metrics.Timer;\n\npublic class StatsMethodCall {\n    \n    @Retention(RetentionPolicy.RUNTIME)\n    @Target(ElementType.METHOD)\n    public @interface Stats {\n    }\n    \n    public static class StatsRegistry {\n        private MetricRegistry metricRegistry;\n\n        public StatsRegistry(final MetricRegistry metricRegistry) {\n            this.metricRegistry = metricRegistry;\n        }\n\n        public void addInvocation(final String methodName, final long duration) {\n            Timer timer = metricRegistry.timer(methodName);\n            timer.update(duration, java.util.concurrent.TimeUnit.MILLISECONDS);\n        }\n\n        public Timer getTimer(final String methodName) {\n            return metricRegistry.timer(methodName);\n        }\n    }\n    /**\n     * Get the statistics based on the method name in the Stack.\n     * This is a work around because it doesn't require the @Stats Annotation. \n     * Check Method statsMethod2.\n     * @param &lt;T&gt;\n     * @param method\n     * @param statsRegistry\n     * @return\n     */\n    public static &lt;T&gt; T statsMethod(final Supplier&lt;T&gt; method, final StatsRegistry statsRegistry) {\n        final String methodName = Thread.currentThread().getStackTrace()[2].getMethodName();\n        T result;\n        final Timer.Context timerContext = statsRegistry.getTimer(methodName).time();\n        try {\n            result = method.get();\n        } finally {\n            timerContext.stop();\n        }\n        return result;\n    }\n    /**\n     * Get the statistics based on the method with @Stats Annotation.\n     * Doesn't work has expected\n     * @param &lt;T&gt;\n     * @param method\n     * @param statsRegistry\n     * @return\n     */\n    public static &lt;T&gt; T statsMethod2(final Supplier&lt;T&gt; method, final StatsRegistry statsRegistry) {\n        String methodName = null;\n        for (final StackTraceElement element : Thread.currentThread().getStackTrace()) {\n            try {\n                final Method m = Class.forName(element.getClassName()).getDeclaredMethod(element.getMethodName());\n                if (m.getAnnotation(Stats.class) != null) {\n                    methodName = m.getName();\n                    break;\n                }\n            } catch (final ClassNotFoundException | NoSuchMethodException e) {\n                // do nothing\n            }\n        }\n        if (methodName == null) {\n            throw new IllegalStateException(&quot;Cannot find method annotated with @&quot; + Stats.class.getSimpleName());\n        }\n\n        T result;\n        final Timer.Context timerContext = statsRegistry.getTimer(methodName).time();\n        try {\n            result = method.get();\n        } finally {\n            timerContext.stop();\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>And I try to test the code with JUnit</p>\n<pre><code>\nimport java.util.function.Supplier;\n\nimport org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport com.codahale.metrics.MetricRegistry;\nimport com.codahale.metrics.Timer;\n\nclass StatsMethodCallTest {\n\n    static MetricRegistry metricRegistry = new MetricRegistry();\n    static StatsRegistry registry = new StatsRegistry(metricRegistry);\n    static MyClass myClass = new MyClass();\n    \n\n    public static class MyClass {\n        @Stats\n        public String myMethod(final String arg1, final int arg2, final double arg3) {\n            try {\n                Thread.sleep(10);\n            } catch (final InterruptedException ie) {\n                ie.printStackTrace();\n            }\n            final String result = &quot;Hello &quot; + arg1 + &quot; &quot; + arg2 + &quot; &quot; + arg3;\n            System.out.println(result);\n            return result;\n        }\n    }\n\n    @BeforeAll\n    static void setUpBeforeClass() throws Exception {\n        metricRegistry = new MetricRegistry();\n        registry = new StatsRegistry(metricRegistry);\n    }\n\n    @AfterAll\n    static void tearDownAfterClass() throws Exception {\n    }\n\n    @BeforeEach\n    void setUp() throws Exception {\n        \n    }\n\n    @AfterEach\n    void tearDown() throws Exception {\n    }\n\n    /**\n     * Workaround - I'm not fan of this\n     */\n    @Test\n    final void test() {\n        \n        for(int i =0; i &lt;100; i++) {\n            //Here is the correct call\n            StatsMethodCall.statsMethod(() -&gt; myClass.myMethod(&quot;foo&quot;, 42, 3.14), registry);\n        }\n        \n        //I tried without Lambda Expression just in case it was related to this\n        for(int i = 0; i &lt; 100; i++) {\n            StatsMethodCall.statsMethod(new Supplier&lt;Object&gt;() {\n        @Override\n        public Object get() {\n            return myClass.myMethod(&quot;foo&quot;, 42, 3.14);\n        }\n            }, registry);\n        }       \n        \n        //This works but is weird code\n        Timer timer = registry.getTimer(&quot;test&quot;);\n        System.out.println(&quot;Invocation count: &quot; + timer.getCount());\n        System.out.println(&quot;Min duration: &quot; + timer.getSnapshot().getMin());\n        System.out.println(&quot;Max duration: &quot; + timer.getSnapshot().getMax());\n        System.out.println(&quot;Avg duration: &quot; + timer.getSnapshot().getMean());\n        \n        //This doesn't work\n        Timer timer2 = registry.getTimer(MyClass.class.getDeclaredMethods()[0].getName());\n        System.out.println(&quot;Invocation count: &quot; + timer2.getCount());\n        System.out.println(&quot;Min duration: &quot; + timer2.getSnapshot().getMin());\n        System.out.println(&quot;Max duration: &quot; + timer2.getSnapshot().getMax());\n        System.out.println(&quot;Avg duration: &quot; + timer2.getSnapshot().getMean());\n    }\n    \n    /**\n     * This is how I would like it works\n     * Note: I'm calling statsMethod2 here !\n     */\n    @Test\n    final void test2() {\n        \n        for(int i =0; i &lt;100; i++) {\n            //Here is the correct call\n            StatsMethodCall.statsMethod2(() -&gt; myClass.myMethod(&quot;foo&quot;, 42, 3.14), registry);\n        }\n                \n        Timer timer = registry.getTimer(MyClass.class.getDeclaredMethods()[0].getName());\n        System.out.println(&quot;Invocation count: &quot; + timer.getCount());\n        System.out.println(&quot;Min duration: &quot; + timer.getSnapshot().getMin());\n        System.out.println(&quot;Max duration: &quot; + timer.getSnapshot().getMax());\n        System.out.println(&quot;Avg duration: &quot; + timer.getSnapshot().getMean());\n    }\n\n}\n\n</code></pre>\n<p>Help and explanation highly appreciated.</p>\n<p>Thanks\nKind regards</p>\n<p>I expect that the Java Reflexion ill find the method with an anntation @Stats.</p>\n<p>But there is no such method with @Stats annotation in the stack\nVery strange</p>\n"},{"tags":["java","spring","spring-boot","spring-framework-beans","spring-context"],"owner":{"account_id":3185615,"reputation":396,"user_id":2691300,"accept_rate":50,"display_name":"Suyash Khandwe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686006759,"creation_date":1686004797,"question_id":76410418,"body_markdown":"# Background\r\n\r\nI came across a piece of code that looks something like this -\r\n\r\n```java\r\npublic class TestClass {\r\n\r\n    @Profile(&quot;profile&quot;)\r\n    @Bean(name = &quot;beanMethodName&quot;) //I know this is not an accurate way of adding qualifier\r\n    public Function&lt;String, String&gt; beanMethodName(final String arg) {\r\n        // Do something\r\n    }\r\n\r\n    @Profile(&quot;!profile&quot;)\r\n    @Bean(name = &quot;beanMethodName&quot;)\r\n    public Function&lt;String, String&gt; beanMethodName(final String arg1, final String arg2) {\r\n        // Do something\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow, when I start this Spring application for **profile = test**, then the Bean \r\n**beanMethodName** never gets created.\r\n\r\n# Root Cause \r\nThe reason why this happens is how Spring decides which beans to create and which ones to skip.\r\nThe following code block exists in **ConfigurationClassBeanDefinitionReader** - \r\n\r\n```java\r\n// Do we need to mark the bean as skipped by its condition?\r\nif (this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN)) {\r\n\tconfigClass.skippedBeanMethods.add(methodName);\r\n\treturn;\r\n}\r\nif (configClass.skippedBeanMethods.contains(methodName)) {\r\n\treturn;\r\n}\r\n```\r\nRef - \r\n- [Spring Framework 5.1.x](https://github.com/spring-projects/spring-framework/blob/5.1.x/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java#L180-L187)\r\n- [Spring Framework 6.0.x](https://github.com/spring-projects/spring-framework/blob/6.0.x/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java#L182-L189)\r\n- [Spring Framework main](https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java#L182-L189)\r\n\r\nThe first check for `this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN)` results in **TRUE** since the Condition for `Profile` doesn&#39;t match. The ```Bean Method Name``` is added to the `skippedBeanMethods`. The second ```Bean Method Name``` check for `this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN)` results in **FALSE**, but later in the second ```if...``` block the bean registration is skipped again since the ```Bean Method Name``` is present in `skippedBeanMethods`\r\n\r\n\r\n# The Problem / Question\r\n\r\nThe current code block forces the developers to use a separate method name for the bean even if it can probably be an override for a different profile. \r\n\r\nI&#39;ve read in some places that the order of beans defined in the **Configuration** can help, but that still means that it would fail in the other profile where the non-matching-profile bean comes first.\r\n\r\n### Question\r\n\r\nWhy can&#39;t the code be modified to be something like this?\r\n```java\r\n// Do we need to mark the bean as skipped by its condition?\r\nboolean shouldSkip = this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN);\r\nif (configClass.skippedBeanMethods.contains(methodName) &amp;&amp; shouldSkip) {\r\n\treturn;\r\n} else if (shouldSkip) {\r\n\tconfigClass.skippedBeanMethods.add(methodName);\r\n\treturn;\r\n}\r\n```\r\n\r\nThis decouples the ```Bean Method Name``` from the **skippedBeanMethods** check.\r\n\r\n- If a ```Bean Method Name``` is present in the `skippedBeanMethods` **AND** for the Condition evaluator results in ```shouldSkip(..)``` returning **TRUE**, then the bean is skipped.\r\n- If a ```Bean Method Name``` is not present in the `skippedBeanMethods` **AND** for the Condition evaluator results in ```shouldSkip(..)``` returning **TRUE**, then the bean is skipped and it is added to the `skippedBeanMethods`.\r\n- In all other cases, it would still allow bean registration.\r\n\r\nIn other words, the bean registration will be skipped **if and only if** a Condition Evaluator results in ```shouldSkip(..)``` returning **TRUE** for the ```Bean Method Name```.\r\n\r\n### Note\r\n- I understand that the issue here can be resolved by using a different ```Bean Method Name``` or by using appropriate `Qualifier`.\r\n- What I am trying to understand is why can&#39;t the bean registration be decoupled from the ```Bean Method Names```?\r\n\r\n\r\n","title":"Why does Spring Framework consider method names only for deciding if a bean can be skipped?","body":"<h1>Background</h1>\n<p>I came across a piece of code that looks something like this -</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass {\n\n    @Profile(&quot;profile&quot;)\n    @Bean(name = &quot;beanMethodName&quot;) //I know this is not an accurate way of adding qualifier\n    public Function&lt;String, String&gt; beanMethodName(final String arg) {\n        // Do something\n    }\n\n    @Profile(&quot;!profile&quot;)\n    @Bean(name = &quot;beanMethodName&quot;)\n    public Function&lt;String, String&gt; beanMethodName(final String arg1, final String arg2) {\n        // Do something\n    }\n\n}\n</code></pre>\n<p>Now, when I start this Spring application for <strong>profile = test</strong>, then the Bean\n<strong>beanMethodName</strong> never gets created.</p>\n<h1>Root Cause</h1>\n<p>The reason why this happens is how Spring decides which beans to create and which ones to skip.\nThe following code block exists in <strong>ConfigurationClassBeanDefinitionReader</strong> -</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Do we need to mark the bean as skipped by its condition?\nif (this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN)) {\n    configClass.skippedBeanMethods.add(methodName);\n    return;\n}\nif (configClass.skippedBeanMethods.contains(methodName)) {\n    return;\n}\n</code></pre>\n<p>Ref -</p>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-framework/blob/5.1.x/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java#L180-L187\" rel=\"nofollow noreferrer\">Spring Framework 5.1.x</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-framework/blob/6.0.x/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java#L182-L189\" rel=\"nofollow noreferrer\">Spring Framework 6.0.x</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/annotation/ConfigurationClassBeanDefinitionReader.java#L182-L189\" rel=\"nofollow noreferrer\">Spring Framework main</a></li>\n</ul>\n<p>The first check for <code>this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN)</code> results in <strong>TRUE</strong> since the Condition for <code>Profile</code> doesn't match. The <code>Bean Method Name</code> is added to the <code>skippedBeanMethods</code>. The second <code>Bean Method Name</code> check for <code>this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN)</code> results in <strong>FALSE</strong>, but later in the second <code>if...</code> block the bean registration is skipped again since the <code>Bean Method Name</code> is present in <code>skippedBeanMethods</code></p>\n<h1>The Problem / Question</h1>\n<p>The current code block forces the developers to use a separate method name for the bean even if it can probably be an override for a different profile.</p>\n<p>I've read in some places that the order of beans defined in the <strong>Configuration</strong> can help, but that still means that it would fail in the other profile where the non-matching-profile bean comes first.</p>\n<h3>Question</h3>\n<p>Why can't the code be modified to be something like this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Do we need to mark the bean as skipped by its condition?\nboolean shouldSkip = this.conditionEvaluator.shouldSkip(metadata, ConfigurationPhase.REGISTER_BEAN);\nif (configClass.skippedBeanMethods.contains(methodName) &amp;&amp; shouldSkip) {\n    return;\n} else if (shouldSkip) {\n    configClass.skippedBeanMethods.add(methodName);\n    return;\n}\n</code></pre>\n<p>This decouples the <code>Bean Method Name</code> from the <strong>skippedBeanMethods</strong> check.</p>\n<ul>\n<li>If a <code>Bean Method Name</code> is present in the <code>skippedBeanMethods</code> <strong>AND</strong> for the Condition evaluator results in <code>shouldSkip(..)</code> returning <strong>TRUE</strong>, then the bean is skipped.</li>\n<li>If a <code>Bean Method Name</code> is not present in the <code>skippedBeanMethods</code> <strong>AND</strong> for the Condition evaluator results in <code>shouldSkip(..)</code> returning <strong>TRUE</strong>, then the bean is skipped and it is added to the <code>skippedBeanMethods</code>.</li>\n<li>In all other cases, it would still allow bean registration.</li>\n</ul>\n<p>In other words, the bean registration will be skipped <strong>if and only if</strong> a Condition Evaluator results in <code>shouldSkip(..)</code> returning <strong>TRUE</strong> for the <code>Bean Method Name</code>.</p>\n<h3>Note</h3>\n<ul>\n<li>I understand that the issue here can be resolved by using a different <code>Bean Method Name</code> or by using appropriate <code>Qualifier</code>.</li>\n<li>What I am trying to understand is why can't the bean registration be decoupled from the <code>Bean Method Names</code>?</li>\n</ul>\n"},{"tags":["java","reactjs","maven","spring-boot","maven-resources-plugin"],"answers":[{"tags":[],"owner":{"account_id":15310564,"reputation":100,"user_id":11045993,"display_name":"Daniel Prosianikov"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1686006476,"creation_date":1551863846,"answer_id":55019434,"question_id":55019291,"body_markdown":"For similar task it makes sense to use Gradle instead of Maven. The tasks are much more flexible.\r\n\r\nFor example:\r\n\r\n    task buildFE(type: Exec) {\r\n         workingDir &#39;../../FrontEnd&#39;\r\n         commandLine &#39;buildFE.bat&#39;\r\n    }\r\n    \r\n    task CopyJava {\r\n      copy{\r\n        from &#39;../OpenJDK&#39;\r\n        into &#39;../../Release/OpenJDK&#39;\r\n      }\r\n    }","title":"Maven &lt;executions&gt; and npm build","body":"<p>For similar task it makes sense to use Gradle instead of Maven. The tasks are much more flexible.</p>\n<p>For example:</p>\n<pre><code>task buildFE(type: Exec) {\n     workingDir '../../FrontEnd'\n     commandLine 'buildFE.bat'\n}\n\ntask CopyJava {\n  copy{\n    from '../OpenJDK'\n    into '../../Release/OpenJDK'\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1763375,"reputation":581,"user_id":1609846,"accept_rate":36,"display_name":"SudeepShakya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686006476,"creation_date":1551863328,"question_id":55019291,"body_markdown":"I have a `hybrid application` : `Spring Boot and ReactJS.`\r\nWhile r`unning/building/generating WAR`, I have set the `pom.xml` to copy the `npm run build` generated files from `dist` folder to `template`(spring) folder.\r\nBut while running `mvn clean install`, file are copied before the `npm run build` command and then the `npm run build` and WAR is generated. That&#39;swhy the frontend files are stale.\r\n\r\nMy `pom.xml` example is :\r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;prepare-package&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/classes/public&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/src/main/resources/templates&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;resources&gt;\r\n    \t\t\t\t\t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;directory&gt;${basedir}/dist&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n    \t\t\t\t\t\t\t&lt;/resources&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;prepare-package2&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/src/main/resources/static&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;resources&gt;\r\n    \t\t\t\t\t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;directory&gt;${basedir}/dist/static&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n    \t\t\t\t\t\t\t&lt;/resources&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.6&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;install node and npm&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;nodeVersion&gt;v11.10.0&lt;/nodeVersion&gt;\r\n    \t\t\t\t\t\t\t&lt;npmVersion&gt;6.7.0&lt;/npmVersion&gt;\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\t\t\t\t\t\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;npm install&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;arguments&gt;run build&lt;/arguments&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;!-- &lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;test&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;yarn&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;arguments&gt;test&lt;/arguments&gt;\r\n    \t\t\t\t\t\t\t&lt;environmentVariables&gt;\r\n    \t\t\t\t\t\t\t\t&lt;CI&gt;true&lt;/CI&gt;\r\n    \t\t\t\t\t\t\t&lt;/environmentVariables&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt; --&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\nHow do I configure so that the files are copied after `npm run build` ?\r\n","title":"Maven &lt;executions&gt; and npm build","body":"<p>I have a <code>hybrid application</code> : <code>Spring Boot and ReactJS.</code>\nWhile r<code>unning/building/generating WAR</code>, I have set the <code>pom.xml</code> to copy the <code>npm run build</code> generated files from <code>dist</code> folder to <code>template</code>(spring) folder.\nBut while running <code>mvn clean install</code>, file are copied before the <code>npm run build</code> command and then the <code>npm run build</code> and WAR is generated. That'swhy the frontend files are stale.</p>\n\n<p>My <code>pom.xml</code> example is :</p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare-package&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${basedir}/target/classes/public&lt;/outputDirectory&gt;\n                            &lt;outputDirectory&gt;${basedir}/src/main/resources/templates&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;${basedir}/dist&lt;/directory&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare-package2&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${basedir}/src/main/resources/static&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;${basedir}/dist/static&lt;/directory&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install node and npm&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;v11.10.0&lt;/nodeVersion&gt;\n                            &lt;npmVersion&gt;6.7.0&lt;/npmVersion&gt;                          \n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;                    \n                    &lt;execution&gt;\n                        &lt;id&gt;npm install&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- &lt;execution&gt;\n                        &lt;id&gt;test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;yarn&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;test&lt;/arguments&gt;\n                            &lt;environmentVariables&gt;\n                                &lt;CI&gt;true&lt;/CI&gt;\n                            &lt;/environmentVariables&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt; --&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>How do I configure so that the files are copied after <code>npm run build</code> ?</p>\n"},{"tags":["java","android","android-studio","java-home"],"comments":[{"owner":{"account_id":27529599,"reputation":813,"user_id":21008344,"display_name":"Taimoor Sikander"},"score":0,"creation_date":1673765029,"post_id":75120204,"comment_id":132568375,"body_markdown":"If someone faces this error after the Android Studio update to Android Studio Electric Eel | 2022.1.1 then simply follow the following steps:\n\nGo To the android studio directory (Default C:\\Program Files\\Android\\Android Studio) remove jre folder run cmd as administrator\n\ncd C:\\Program Files\\Android\\Android Studio mklink /D &quot;jre&quot; &quot;jbr&quot; Thanks to this link","body":"If someone faces this error after the Android Studio update to Android Studio Electric Eel | 2022.1.1 then simply follow the following steps:  Go To the android studio directory (Default C:\\Program Files\\Android\\Android Studio) remove jre folder run cmd as administrator  cd C:\\Program Files\\Android\\Android Studio mklink /D &quot;jre&quot; &quot;jbr&quot; Thanks to this link"}],"answers":[{"tags":[],"owner":{"account_id":27529599,"reputation":813,"user_id":21008344,"display_name":"Taimoor Sikander"},"down_vote_count":2,"up_vote_count":32,"is_accepted":true,"score":30,"last_activity_date":1673765417,"creation_date":1673765323,"answer_id":75123410,"question_id":75120204,"body_markdown":"SOLVED:\r\n\r\nFor Windows \r\n\r\nGo To the android studio directory \r\n\r\n(Default C:\\Program Files\\Android\\Android Studio) \r\n\r\nremove jre folder \r\n\r\nrun cmd as administrator\r\n\r\n``` \r\ncd C:\\Program Files\\Android\\Android Studio\r\nmklink /D &quot;jre&quot; &quot;jbr&quot;\r\n``` ","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p>SOLVED:</p>\n<p>For Windows</p>\n<p>Go To the android studio directory</p>\n<p>(Default C:\\Program Files\\Android\\Android Studio)</p>\n<p>remove jre folder</p>\n<p>run cmd as administrator</p>\n<pre><code>cd C:\\Program Files\\Android\\Android Studio\nmklink /D &quot;jre&quot; &quot;jbr&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26729828,"reputation":37,"user_id":20332387,"display_name":"jazzfree1213"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1674071336,"creation_date":1674071294,"answer_id":75164561,"question_id":75120204,"body_markdown":"THANKS a LOT. You solve my problem. Only to note that you have to remove all the folders inside C:\\Program Files\\Android\\Android Studio\\jre  by hand\r\n\r\n-1. run cmd as administrator\r\n\r\n0. *cd &quot;C:\\Program Files\\Android\\Android Studio\\&quot;*\r\n1. remove first files from all subfolders of jre  &gt;  *del /s .\\jre*\r\n2. remove jre folder &gt;  *rmdir /s .\\jre*\r\n3. make link to jbr folder containing *bin\\java.exe* named as jre  &gt; *mklink /D &quot;jre&quot; &quot;jbr&quot;*\r\n\r\nThanks","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p>THANKS a LOT. You solve my problem. Only to note that you have to remove all the folders inside C:\\Program Files\\Android\\Android Studio\\jre  by hand</p>\n<p>-1. run cmd as administrator</p>\n<ol start=\"0\">\n<li><em>cd &quot;C:\\Program Files\\Android\\Android Studio&quot;</em></li>\n<li>remove first files from all subfolders of jre  &gt;  <em>del /s .\\jre</em></li>\n<li>remove jre folder &gt;  <em>rmdir /s .\\jre</em></li>\n<li>make link to jbr folder containing <em>bin\\java.exe</em> named as jre  &gt; <em>mklink /D &quot;jre&quot; &quot;jbr&quot;</em></li>\n</ol>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":10162317,"reputation":234,"user_id":7505376,"display_name":"Crain"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674732792,"creation_date":1674652197,"answer_id":75234456,"question_id":75120204,"body_markdown":"These two steps were enough for me:\r\n\r\n1. Set JAVA_HOME to ...\\Android\\AndroidStudio\\jbr\r\n2. Rename or delete ...\\Android\\AndroidStudio\\jar","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p>These two steps were enough for me:</p>\n<ol>\n<li>Set JAVA_HOME to ...\\Android\\AndroidStudio\\jbr</li>\n<li>Rename or delete ...\\Android\\AndroidStudio\\jar</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7201810,"reputation":168,"user_id":5498788,"display_name":"llfbandit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677065231,"creation_date":1677065231,"answer_id":75532087,"question_id":75120204,"body_markdown":"This is an issue with gradle cache mecanism.\r\n\r\nYou need to locate `.gradle/daemon/&lt;version&gt;/registry.bin` file and delete it.\r\n\r\n*Note: you can delete all the `daemon` sub-folders.*\r\n\r\nYou can now compile your project with your JAHA_HOME environment variable as Gradle will regenerate those.","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p>This is an issue with gradle cache mecanism.</p>\n<p>You need to locate <code>.gradle/daemon/&lt;version&gt;/registry.bin</code> file and delete it.</p>\n<p><em>Note: you can delete all the <code>daemon</code> sub-folders.</em></p>\n<p>You can now compile your project with your JAHA_HOME environment variable as Gradle will regenerate those.</p>\n"},{"tags":[],"owner":{"account_id":10858233,"reputation":763,"user_id":7983864,"display_name":"Shahood ul Hassan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677130442,"creation_date":1677130442,"answer_id":75540928,"question_id":75120204,"body_markdown":"1. Delete the folder: `C:\\Program Files\\Android\\Android Studio\\jre`\r\n\r\n2. Restart Android Studio\r\n\r\nIt solves the issue!","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<ol>\n<li><p>Delete the folder: <code>C:\\Program Files\\Android\\Android Studio\\jre</code></p>\n</li>\n<li><p>Restart Android Studio</p>\n</li>\n</ol>\n<p>It solves the issue!</p>\n"},{"tags":[],"owner":{"account_id":27904345,"reputation":21,"user_id":21307895,"display_name":"Puguh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678158519,"creation_date":1677630231,"answer_id":75598555,"question_id":75120204,"body_markdown":"Accepted question will break future Android Studio patch.\r\nSolution for this question is so simple, just delete folder .gradle in your %USER_HOME% (C:/Users/your_user).\r\nMake sure you close Android Studio and all Java.exe process before delete .gradle folder.\r\n\r\nEdit:\r\nUpgrade to Flutter 3.7.6 and this bug will be solved. \r\nIt can be checked here:\r\nhttps://github.com/flutter/flutter/wiki/Hotfixes-to-the-Stable-Channel","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p>Accepted question will break future Android Studio patch.\nSolution for this question is so simple, just delete folder .gradle in your %USER_HOME% (C:/Users/your_user).\nMake sure you close Android Studio and all Java.exe process before delete .gradle folder.</p>\n<p>Edit:\nUpgrade to Flutter 3.7.6 and this bug will be solved.\nIt can be checked here:\n<a href=\"https://github.com/flutter/flutter/wiki/Hotfixes-to-the-Stable-Channel\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/wiki/Hotfixes-to-the-Stable-Channel</a></p>\n"},{"tags":[],"owner":{"account_id":20761416,"reputation":290,"user_id":15246498,"display_name":"regenin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686006200,"creation_date":1686006200,"answer_id":76410493,"question_id":75120204,"body_markdown":"Copy everything in the **jbr** folder `C:\\Program Files\\Android\\Android Studio\\jbr` than =&gt; put it in **jre** folder `C:\\Program Files\\Android\\Android Studio\\jre` and approve the modification of files.\r\n\r\nThe above mentioned methods work but prevent android studio from updating.\r\n\r\nHowever, since Android studio **updates** will break the **jre** folder again, if you get an error after the update, you will have to repeat the same process.\r\n\r\n\r\n\r\n","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p>Copy everything in the <strong>jbr</strong> folder <code>C:\\Program Files\\Android\\Android Studio\\jbr</code> than =&gt; put it in <strong>jre</strong> folder <code>C:\\Program Files\\Android\\Android Studio\\jre</code> and approve the modification of files.</p>\n<p>The above mentioned methods work but prevent android studio from updating.</p>\n<p>However, since Android studio <strong>updates</strong> will break the <strong>jre</strong> folder again, if you get an error after the update, you will have to repeat the same process.</p>\n"}],"owner":{"account_id":27529599,"reputation":813,"user_id":21008344,"display_name":"Taimoor Sikander"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4963,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75123410,"answer_count":7,"score":5,"last_activity_date":1686006200,"creation_date":1673719755,"question_id":75120204,"body_markdown":"**Android Studio Electric Eel** - The supplied javaHome seems invalid. I cannot find the Java executable. Tried location: `C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe` \r\n\r\nThe error occurs after upgrading my Android Studio to Electric Eel,  the latest version. I tried multiple solutions to this problem, but nothing worked. \r\nMy JAVA_HOME and ANDROID_HOME variables are set. I even tried to reinstall Java JDK-19 and reinstalled the Android Studio, but I still have the same issue.\r\n\r\nI even tried to reinstall Java JDK-19 and reinstalled Android Studio, but I still have the same issue.","title":"Android Studio Electric Eel - The supplied javaHome seems to be invalid. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe","body":"<p><strong>Android Studio Electric Eel</strong> - The supplied javaHome seems invalid. I cannot find the Java executable. Tried location: <code>C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe</code></p>\n<p>The error occurs after upgrading my Android Studio to Electric Eel,  the latest version. I tried multiple solutions to this problem, but nothing worked.\nMy JAVA_HOME and ANDROID_HOME variables are set. I even tried to reinstall Java JDK-19 and reinstalled the Android Studio, but I still have the same issue.</p>\n<p>I even tried to reinstall Java JDK-19 and reinstalled Android Studio, but I still have the same issue.</p>\n"},{"tags":["java","opencv","feature-detection","sift"],"comments":[{"owner":{"account_id":2785811,"reputation":4258,"user_id":2397253,"accept_rate":84,"display_name":"oarfish"},"score":0,"creation_date":1467211718,"post_id":38102849,"comment_id":63639915,"body_markdown":"You cannot necessarily drop in one Detector in place of another without adjusting its parameters accordingly. If the kaze detector gives you fewer features then you need to tune its parameters. It has a threshold e.g. which can be set to a lower value. Also the detector is not always &quot;better&quot;, but certainly always faster. But yes, in my experience the quality of keypoints should be at least on par with SIFT.","body":"You cannot necessarily drop in one Detector in place of another without adjusting its parameters accordingly. If the kaze detector gives you fewer features then you need to tune its parameters. It has a threshold e.g. which can be set to a lower value. Also the detector is not always &quot;better&quot;, but certainly always faster. But yes, in my experience the quality of keypoints should be at least on par with SIFT."},{"owner":{"account_id":2481501,"reputation":1002,"user_id":2160887,"accept_rate":19,"display_name":"seriousgeek"},"score":0,"creation_date":1467212595,"post_id":38102849,"comment_id":63640579,"body_markdown":"@oarfish But i guess there is no direct way to calibrate the parameters in Java. Is the threshold by default set to a higher value for AKAZE?","body":"@oarfish But i guess there is no direct way to calibrate the parameters in Java. Is the threshold by default set to a higher value for AKAZE?"},{"owner":{"account_id":2785811,"reputation":4258,"user_id":2397253,"accept_rate":84,"display_name":"oarfish"},"score":0,"creation_date":1467213618,"post_id":38102849,"comment_id":63641285,"body_markdown":"Possibly, I do not know the Java API , but it would be fairly useless if no parameters could be configured. The thresholds of the two detectors may not have thee meaning, so it you can&#39;t really compare them directly. I don&#39;t recall what they mean exactly.","body":"Possibly, I do not know the Java API , but it would be fairly useless if no parameters could be configured. The thresholds of the two detectors may not have thee meaning, so it you can&#39;t really compare them directly. I don&#39;t recall what they mean exactly."}],"answers":[{"tags":[],"owner":{"account_id":261970,"reputation":14545,"user_id":546509,"accept_rate":70,"display_name":"Ethan Allen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686004247,"creation_date":1686004247,"answer_id":76410375,"question_id":38102849,"body_markdown":"This IEEE analysis paper shows that SIFT performs better than KAZE and AKAZE.\r\n\r\nhttps://ieeexplore.ieee.org/document/8346440\r\n\r\n&gt; AKAZE generally detects more features than KAZE.\r\n&gt; \r\n&gt; KAZE detected least number of feature-points.\r\n\r\nand\r\n\r\n&gt; SIFT is found to be the most accurate feature-detector-descriptor for\r\n&gt; scale, rotation and affine variations (overall).\r\n&gt; \r\n&gt; BRISK is at second position with respect to the accuracy for scale and\r\n&gt; rotation changes.\r\n&gt; \r\n&gt; AKAZE&#39;s accuracy is comparable to BRISK for image rotations and scale\r\n&gt; variations in the range of 40% to 400%. Beyond this range its accuracy\r\n&gt; decreases.\r\n\r\nand\r\n\r\n&gt; The overall accuracy of SIFT and BRISK is found to be highest for all\r\n&gt; types of geometric transformations and SIFT is concluded as the most\r\n&gt; accurate algorithm.\r\n\r\nI suggest if you&#39;re looking for overall accuracy and higher feature points, stick with SIFT if computational cost is not a factor.\r\n\r\nApologies for answering this 7 years after you posted the question.","title":"AKAZE not producing good results compared to SIFT in openCV Java","body":"<p>This IEEE analysis paper shows that SIFT performs better than KAZE and AKAZE.</p>\n<p><a href=\"https://ieeexplore.ieee.org/document/8346440\" rel=\"nofollow noreferrer\">https://ieeexplore.ieee.org/document/8346440</a></p>\n<blockquote>\n<p>AKAZE generally detects more features than KAZE.</p>\n<p>KAZE detected least number of feature-points.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>SIFT is found to be the most accurate feature-detector-descriptor for\nscale, rotation and affine variations (overall).</p>\n<p>BRISK is at second position with respect to the accuracy for scale and\nrotation changes.</p>\n<p>AKAZE's accuracy is comparable to BRISK for image rotations and scale\nvariations in the range of 40% to 400%. Beyond this range its accuracy\ndecreases.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>The overall accuracy of SIFT and BRISK is found to be highest for all\ntypes of geometric transformations and SIFT is concluded as the most\naccurate algorithm.</p>\n</blockquote>\n<p>I suggest if you're looking for overall accuracy and higher feature points, stick with SIFT if computational cost is not a factor.</p>\n<p>Apologies for answering this 7 years after you posted the question.</p>\n"}],"owner":{"account_id":2481501,"reputation":1002,"user_id":2160887,"accept_rate":19,"display_name":"seriousgeek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686004247,"creation_date":1467211157,"question_id":38102849,"body_markdown":"I&#39;m new to the world of computer vision and presently I&#39;m working on a project to compare two images to see if there is a match. I have read that AKAZE performs better compared to SIFT, but I have found otherwise. I&#39;m using the Java implementation of openCV and I find that SIFT produces better feature points and thereby better matches as compared to AKAZE. Following is the code I use for detecting keypoints, computing descriptors and finding matches:\r\n\r\n         MatOfKeyPoint objectKeyPoints1 = new MatOfKeyPoint();\r\n          MatOfKeyPoint objectKeyPoints2 = new MatOfKeyPoint();\r\n\r\n          FeatureDetector featureDetector1 = FeatureDetector.create(FeatureDetector.SIFT);\r\n          FeatureDetector featureDetector2 = FeatureDetector.create(FeatureDetector.SIFT);\r\n\r\n          featureDetector1.detect(image1, objectKeyPoints1);\r\n          featureDetector2.detect(image2, objectKeyPoints2);\r\n\r\n          DescriptorExtractor descriptorExtractor = DescriptorExtractor.create(DescriptorExtractor.SIFT);\r\n\r\n          MatOfKeyPoint objectDescriptors1 = new MatOfKeyPoint();\r\n          descriptorExtractor.compute(image1, objectKeyPoints1, objectDescriptors1);\r\n\r\n          MatOfKeyPoint objectDescriptors2 = new MatOfKeyPoint();\r\n          descriptorExtractor.compute(image2, objectKeyPoints2, objectDescriptors2);\r\n          MatOfDMatch mtd=new MatOfDMatch();\r\n\r\n          DescriptorMatcher descriptorMatcher = DescriptorMatcher.create(DescriptorMatcher.BRUTEFORCE)\r\n          descriptorMatcher.match(objectDescriptors1,objectDescriptors2 , mtd);\r\n\r\nThe code is the same for AKAZE as well, just that I substitute SIFT with AKAZE in the code. Out of 900 keypoints I get around 178 matches for SIFT but just 10-20 matches for AKAZE.\r\n\r\nCould you help me in identifying what could be a probable cause of this issue? Could this be anything related to the Java wrapper for openCV?\r\n\r\nThanks","title":"AKAZE not producing good results compared to SIFT in openCV Java","body":"<p>I'm new to the world of computer vision and presently I'm working on a project to compare two images to see if there is a match. I have read that AKAZE performs better compared to SIFT, but I have found otherwise. I'm using the Java implementation of openCV and I find that SIFT produces better feature points and thereby better matches as compared to AKAZE. Following is the code I use for detecting keypoints, computing descriptors and finding matches:</p>\n\n<pre><code>     MatOfKeyPoint objectKeyPoints1 = new MatOfKeyPoint();\n      MatOfKeyPoint objectKeyPoints2 = new MatOfKeyPoint();\n\n      FeatureDetector featureDetector1 = FeatureDetector.create(FeatureDetector.SIFT);\n      FeatureDetector featureDetector2 = FeatureDetector.create(FeatureDetector.SIFT);\n\n      featureDetector1.detect(image1, objectKeyPoints1);\n      featureDetector2.detect(image2, objectKeyPoints2);\n\n      DescriptorExtractor descriptorExtractor = DescriptorExtractor.create(DescriptorExtractor.SIFT);\n\n      MatOfKeyPoint objectDescriptors1 = new MatOfKeyPoint();\n      descriptorExtractor.compute(image1, objectKeyPoints1, objectDescriptors1);\n\n      MatOfKeyPoint objectDescriptors2 = new MatOfKeyPoint();\n      descriptorExtractor.compute(image2, objectKeyPoints2, objectDescriptors2);\n      MatOfDMatch mtd=new MatOfDMatch();\n\n      DescriptorMatcher descriptorMatcher = DescriptorMatcher.create(DescriptorMatcher.BRUTEFORCE)\n      descriptorMatcher.match(objectDescriptors1,objectDescriptors2 , mtd);\n</code></pre>\n\n<p>The code is the same for AKAZE as well, just that I substitute SIFT with AKAZE in the code. Out of 900 keypoints I get around 178 matches for SIFT but just 10-20 matches for AKAZE.</p>\n\n<p>Could you help me in identifying what could be a probable cause of this issue? Could this be anything related to the Java wrapper for openCV?</p>\n\n<p>Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9604,"page":388,"page_size":100}
