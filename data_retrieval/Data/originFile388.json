{"items":[{"tags":["java","generics","swagger"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1686083300,"post_id":76418153,"comment_id":134750076,"body_markdown":"No, it is not, and is not necessary. The generic parameter does not influence the `.class` object. Generics in Java are different from, e.g., template parameters in C++ where each parameterized instance generates a separate &quot;class&quot;.","body":"No, it is not, and is not necessary. The generic parameter does not influence the <code>.class</code> object. Generics in Java are different from, e.g., template parameters in C++ where each parameterized instance generates a separate &quot;class&quot;."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1686083768,"post_id":76418153,"comment_id":134750148,"body_markdown":"[`ideone.com` demo](https://ideone.com/aQ0jbM) for my claim.","body":"<a href=\"https://ideone.com/aQ0jbM\" rel=\"nofollow noreferrer\"><code>ideone.com</code> demo</a> for my claim."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1686084713,"post_id":76418153,"comment_id":134750319,"body_markdown":"Does this answer your question? [Get generic type of class at runtime](https://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime\">Get generic type of class at runtime</a>"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1686085158,"post_id":76418153,"comment_id":134750409,"body_markdown":"You need something like [`TypeToken`](https://guava.dev/typetoken) to do anything like this.","body":"You need something like <a href=\"https://guava.dev/typetoken\" rel=\"nofollow noreferrer\"><code>TypeToken</code></a> to do anything like this."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686150541,"post_id":76418153,"comment_id":134760413,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"score":0,"creation_date":1686253938,"post_id":76418619,"comment_id":134777606,"body_markdown":"OK. Thanks for your answer.","body":"OK. Thanks for your answer."}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686087385,"creation_date":1686087385,"answer_id":76418619,"question_id":76418153,"body_markdown":"First, `ParameterizedClass&lt;MyClass&gt;.class` does not compile …\r\n\r\nBut let&#39;s assume it would …\r\n\r\nThen you would encounter the surprising fact that\r\n\r\n```ParameterizedClass&lt;MyClass&gt;.class.equals( ParameterizedClass&lt;String&gt;.class )``` \r\n\r\nis always true. In fact, even \r\n\r\n```ParameterizedClass&lt;MyClass&gt;.class == ParameterizedClass&lt;String&gt;.class``` \r\n\r\nwould be always true.\r\n\r\nThis means that you can just use `ParameterizedClass.class` to get the `Class`object for your class – and that compiles …\r\n\r\nThe reason for that the TypeParameter will be &#39;erased&#39; during/after compilation. It is not part of the code in the &#39;.class&#39; file.\r\n","title":"Java generics. Getting .class attribute","body":"<p>First, <code>ParameterizedClass&lt;MyClass&gt;.class</code> does not compile …</p>\n<p>But let's assume it would …</p>\n<p>Then you would encounter the surprising fact that</p>\n<p><code>ParameterizedClass&lt;MyClass&gt;.class.equals( ParameterizedClass&lt;String&gt;.class )</code></p>\n<p>is always true. In fact, even</p>\n<p><code>ParameterizedClass&lt;MyClass&gt;.class == ParameterizedClass&lt;String&gt;.class</code></p>\n<p>would be always true.</p>\n<p>This means that you can just use <code>ParameterizedClass.class</code> to get the <code>Class</code>object for your class – and that compiles …</p>\n<p>The reason for that the TypeParameter will be 'erased' during/after compilation. It is not part of the code in the '.class' file.</p>\n"}],"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686087385,"creation_date":1686082736,"question_id":76418153,"body_markdown":"I know that for get a class name from a java Class I can do `MyClass.class`, but I cannot do this on parametrized class. For example I want to do `ParametrizedClass&lt;MyClass&gt;.class`.\r\n\r\nAnyone knows if this is possible?\r\n\r\nI want to get class from parametrized class for generating Swagger documentation.","title":"Java generics. Getting .class attribute","body":"<p>I know that for get a class name from a java Class I can do <code>MyClass.class</code>, but I cannot do this on parametrized class. For example I want to do <code>ParametrizedClass&lt;MyClass&gt;.class</code>.</p>\n<p>Anyone knows if this is possible?</p>\n<p>I want to get class from parametrized class for generating Swagger documentation.</p>\n"},{"tags":["java","swing","jframe","jdialog","joptionpane"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1355387161,"post_id":13855526,"comment_id":19076250,"body_markdown":"See [The Use of Multiple JFrames, Good/Bad Practice?](http://stackoverflow.com/a/9554657/418556)","body":"See <a href=\"http://stackoverflow.com/a/9554657/418556\">The Use of Multiple JFrames, Good/Bad Practice?</a>"}],"answers":[{"comments":[{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1355390166,"post_id":13855761,"comment_id":19077484,"body_markdown":"@Haseeb Wali use `JOptionPane`","body":"@Haseeb Wali use <code>JOptionPane</code>"},{"owner":{"account_id":1335541,"reputation":1181,"user_id":1278397,"accept_rate":55,"display_name":"Haseeb Wali"},"score":0,"creation_date":1355402792,"post_id":13855761,"comment_id":19083182,"body_markdown":"@MadProgrammer A great Idea to deal with these sort of situation...Thanks for giving  your time.","body":"@MadProgrammer A great Idea to deal with these sort of situation...Thanks for giving  your time."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686087198,"creation_date":1355387108,"answer_id":13855761,"question_id":13855526,"body_markdown":"You want to use a modal dialog of some kind.  Dialogs are designed to &quot;halt&quot; execution of the program at the point where they are displayed.\r\n\r\nCheck out [How to Make Dialogs](http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html).\r\n\r\nYou can also use a `JOptionPane` to make your life easier, as they can be configured with different buttons/options relatively easily.  Check out [JOptionPane Features](http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#features) for an overview\r\n\r\n**Updated with Example**\r\n\r\n![enter image description here][1]\r\n\r\n    public class TestOptionPane01 {\r\n\r\n        public static void main(String[] args) {\r\n            new TestOptionPane01();\r\n        }\r\n\r\n        public TestOptionPane01() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n                    \r\n                    FormPane formPane = new FormPane();\r\n                    int result = JOptionPane.showConfirmDialog(\r\n                                    null, \r\n                                    formPane, \r\n                                    &quot;Edit User&quot;, \r\n                                    JOptionPane.OK_CANCEL_OPTION, \r\n                                    -1);\r\n                    \r\n                    switch (result) {\r\n                        \r\n                        case JOptionPane.OK_OPTION:\r\n                            System.out.println(&quot;You selected okay&quot;);\r\n                            break;\r\n                        case JOptionPane.OK_CANCEL_OPTION:\r\n                            System.out.println(&quot;You selected cancel&quot;);\r\n                            break;\r\n                        \r\n                    }\r\n                    \r\n                }\r\n            });\r\n        }\r\n        \r\n        public class FormPane extends JPanel {\r\n        \r\n            public FormPane() {\r\n                \r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.insets = new Insets(2, 2, 2, 2);\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.weightx = 1;\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                gbc.anchor = GridBagConstraints.WEST;\r\n                add(new JLabel(&quot;Edit User&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JSeparator(), gbc);\r\n                \r\n                gbc.gridwidth = 1;\r\n                gbc.weightx = 0;\r\n                gbc.fill = GridBagConstraints.NONE;\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Fill all fields to edit user tecord&quot;), gbc);\r\n\r\n                gbc.gridy++;\r\n                gbc.gridheight = 2;\r\n                add(new JLabel(&quot;Select Image Icon&quot;), gbc);\r\n                gbc.gridheight = 1;\r\n                gbc.gridy += 2;\r\n                add(new JLabel(&quot;First Name&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Last Name&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Password&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Confirm Password&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Email Address&quot;), gbc);\r\n                \r\n                gbc.gridx++;\r\n                gbc.gridy = 3;\r\n                gbc.anchor = GridBagConstraints.EAST;\r\n                add(new JLabel(&quot;Maximum Image Size 32x32&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JButton(&quot;Select&quot;), gbc);\r\n                gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                gbc.gridy++;\r\n                add(new JTextField(10), gbc);\r\n                gbc.gridy++;\r\n                add(new JTextField(10), gbc);\r\n                gbc.gridy++;\r\n                add(new JTextField(10), gbc);\r\n                gbc.gridy++;\r\n                add(new JTextField(10), gbc);\r\n\r\n                gbc.gridx++;\r\n                gbc.gridy = 3;\r\n                gbc.anchor = GridBagConstraints.CENTER;\r\n                gbc.gridheight = 3;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n                JPanel panel = new JPanel();\r\n                panel.setBorder(new BevelBorder(BevelBorder.RAISED));\r\n                add(panel, gbc);\r\n                gbc.gridy += 3;\r\n                gbc.gridheight = 1;\r\n                gbc.fill = GridBagConstraints.NONE;\r\n                add(new JButton(&quot;Clear Image&quot;), gbc);\r\n                \r\n            }\r\n            \r\n        }\r\n        \r\n        \r\n    }\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aostk.png","title":"One JFrame don&#39;t stop other frame&#39;s code","body":"<p>You want to use a modal dialog of some kind.  Dialogs are designed to &quot;halt&quot; execution of the program at the point where they are displayed.</p>\n<p>Check out <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a>.</p>\n<p>You can also use a <code>JOptionPane</code> to make your life easier, as they can be configured with different buttons/options relatively easily.  Check out <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html#features\" rel=\"nofollow noreferrer\">JOptionPane Features</a> for an overview</p>\n<p><strong>Updated with Example</strong></p>\n<p><img src=\"https://i.stack.imgur.com/aostk.png\" alt=\"enter image description here\" /></p>\n<pre><code>public class TestOptionPane01 {\n\n    public static void main(String[] args) {\n        new TestOptionPane01();\n    }\n\n    public TestOptionPane01() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n                \n                FormPane formPane = new FormPane();\n                int result = JOptionPane.showConfirmDialog(\n                                null, \n                                formPane, \n                                &quot;Edit User&quot;, \n                                JOptionPane.OK_CANCEL_OPTION, \n                                -1);\n                \n                switch (result) {\n                    \n                    case JOptionPane.OK_OPTION:\n                        System.out.println(&quot;You selected okay&quot;);\n                        break;\n                    case JOptionPane.OK_CANCEL_OPTION:\n                        System.out.println(&quot;You selected cancel&quot;);\n                        break;\n                    \n                }\n                \n            }\n        });\n    }\n    \n    public class FormPane extends JPanel {\n    \n        public FormPane() {\n            \n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.insets = new Insets(2, 2, 2, 2);\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.weightx = 1;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.anchor = GridBagConstraints.WEST;\n            add(new JLabel(&quot;Edit User&quot;), gbc);\n            gbc.gridy++;\n            add(new JSeparator(), gbc);\n            \n            gbc.gridwidth = 1;\n            gbc.weightx = 0;\n            gbc.fill = GridBagConstraints.NONE;\n            gbc.gridy++;\n            add(new JLabel(&quot;Fill all fields to edit user tecord&quot;), gbc);\n\n            gbc.gridy++;\n            gbc.gridheight = 2;\n            add(new JLabel(&quot;Select Image Icon&quot;), gbc);\n            gbc.gridheight = 1;\n            gbc.gridy += 2;\n            add(new JLabel(&quot;First Name&quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Last Name&quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Password&quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Confirm Password&quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Email Address&quot;), gbc);\n            \n            gbc.gridx++;\n            gbc.gridy = 3;\n            gbc.anchor = GridBagConstraints.EAST;\n            add(new JLabel(&quot;Maximum Image Size 32x32&quot;), gbc);\n            gbc.gridy++;\n            add(new JButton(&quot;Select&quot;), gbc);\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n            gbc.gridy++;\n            add(new JTextField(10), gbc);\n            gbc.gridy++;\n            add(new JTextField(10), gbc);\n            gbc.gridy++;\n            add(new JTextField(10), gbc);\n            gbc.gridy++;\n            add(new JTextField(10), gbc);\n\n            gbc.gridx++;\n            gbc.gridy = 3;\n            gbc.anchor = GridBagConstraints.CENTER;\n            gbc.gridheight = 3;\n            gbc.fill = GridBagConstraints.BOTH;\n            JPanel panel = new JPanel();\n            panel.setBorder(new BevelBorder(BevelBorder.RAISED));\n            add(panel, gbc);\n            gbc.gridy += 3;\n            gbc.gridheight = 1;\n            gbc.fill = GridBagConstraints.NONE;\n            add(new JButton(&quot;Clear Image&quot;), gbc);\n            \n        }\n        \n    }\n    \n    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2138148,"reputation":56,"user_id":1897422,"display_name":"Aworx"},"score":0,"creation_date":1355393709,"post_id":13857290,"comment_id":19079075,"body_markdown":"there are a few other ways to do it, but for this occasion I think this is enough. Glad that I could be of some help.","body":"there are a few other ways to do it, but for this occasion I think this is enough. Glad that I could be of some help."},{"owner":{"account_id":2138148,"reputation":56,"user_id":1897422,"display_name":"Aworx"},"score":0,"creation_date":1355396101,"post_id":13857290,"comment_id":19080217,"body_markdown":"@HaseebWali I notice that you have validation in your form, therefore using the JOptionPane OK_CANCEL is not the ideal solution because you do not have direct access to the OK button - it&#39;s possible to retrieve the OK button its extra work. in short Using the OK_CANCEL type of the JOptionPane is probably not the best solution.","body":"@HaseebWali I notice that you have validation in your form, therefore using the JOptionPane OK_CANCEL is not the ideal solution because you do not have direct access to the OK button - it&#39;s possible to retrieve the OK button its extra work. in short Using the OK_CANCEL type of the JOptionPane is probably not the best solution."},{"owner":{"account_id":1335541,"reputation":1181,"user_id":1278397,"accept_rate":55,"display_name":"Haseeb Wali"},"score":0,"creation_date":1355403087,"post_id":13857290,"comment_id":19083300,"body_markdown":"Agree with you in this situation particularly","body":"Agree with you in this situation particularly"}],"tags":[],"owner":{"account_id":2138148,"reputation":56,"user_id":1897422,"display_name":"Aworx"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1355392763,"creation_date":1355392763,"answer_id":13857290,"question_id":13855526,"body_markdown":"you can use the \r\n\r\n    &#39;editUserFrame.addWindowListener(new WindowAdapter()\r\n    {\r\n        public void windowClosed(WindowEvent e){\r\n        //call your method from here\r\n            RefreshUserTable();\r\n        }\r\n    };&#39;\r\nhope this helps","title":"One JFrame don&#39;t stop other frame&#39;s code","body":"<p>you can use the </p>\n\n<pre><code>'editUserFrame.addWindowListener(new WindowAdapter()\n{\n    public void windowClosed(WindowEvent e){\n    //call your method from here\n        RefreshUserTable();\n    }\n};'\n</code></pre>\n\n<p>hope this helps</p>\n"}],"owner":{"account_id":1335541,"reputation":1181,"user_id":1278397,"accept_rate":55,"display_name":"Haseeb Wali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13857290,"answer_count":2,"score":0,"last_activity_date":1686087198,"creation_date":1355386076,"question_id":13855526,"body_markdown":"When the user clicks on the edit button a new frame is shown to them, and when the new frame is closed i want the refresh line to execute but problem is, the refresh line is executed before closing the new frame...I am using NetBeans for making UI.    \r\n    \r\n    //If user clicks on edit button new frame will be shown to him \r\n    EditUserFrame editUserFrame = new EditUserFrame();\r\n    Iterator itr = userList.iterator();\r\n    while(itr.hasNext()){\r\n        user = (Users)itr.next();\r\n        if((user.getF_name().equals(f_name) &amp;&amp; user.getL_name().equals(l_name))){\r\n            break;\r\n        }\r\n    }//End of While Loop\r\n    editUserFrame.setUserObj(user);\r\n    editUserFrame.getExistingValues();\r\n    editUserFrame.setVisible(true);\r\n    //I want this line to be executed when the editUserFrame is closed..\r\n    RefreshUserTable();\r\nI want new Frame like this is it possible to make form given in picture in JOPtionPane as suggested by you guys.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/POfc0.png","title":"One JFrame don&#39;t stop other frame&#39;s code","body":"<p>When the user clicks on the edit button a new frame is shown to them, and when the new frame is closed i want the refresh line to execute but problem is, the refresh line is executed before closing the new frame...I am using NetBeans for making UI.    </p>\n\n<pre><code>//If user clicks on edit button new frame will be shown to him \nEditUserFrame editUserFrame = new EditUserFrame();\nIterator itr = userList.iterator();\nwhile(itr.hasNext()){\n    user = (Users)itr.next();\n    if((user.getF_name().equals(f_name) &amp;&amp; user.getL_name().equals(l_name))){\n        break;\n    }\n}//End of While Loop\neditUserFrame.setUserObj(user);\neditUserFrame.getExistingValues();\neditUserFrame.setVisible(true);\n//I want this line to be executed when the editUserFrame is closed..\nRefreshUserTable();\n</code></pre>\n\n<p>I want new Frame like this is it possible to make form given in picture in JOPtionPane as suggested by you guys.</p>\n\n<p><img src=\"https://i.stack.imgur.com/POfc0.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","r","stanford-nlp"],"comments":[{"owner":{"account_id":25665501,"reputation":11,"user_id":19430550,"display_name":"Eva Bonning"},"score":0,"creation_date":1686092616,"post_id":76410398,"comment_id":134751241,"body_markdown":"It seems the version of java I had was incorrect, and I needed to download the right version for the M1 chip, which I did using the following resources:\n\nhttps://www.youtube.com/watch?v=mWWMnaFEETc&amp;ab_channel=CodeWithArjun\nhttps://www.oracle.com/nz/java/technologies/downloads/","body":"It seems the version of java I had was incorrect, and I needed to download the right version for the M1 chip, which I did using the following resources:  <a href=\"https://www.youtube.com/watch?v=mWWMnaFEETc&amp;ab_channel=CodeWithArjun\" rel=\"nofollow noreferrer\">youtube.com/watch?v=mWWMnaFEETc&amp;ab_channel=CodeWithArjun</a> <a href=\"https://www.oracle.com/nz/java/technologies/downloads/\" rel=\"nofollow noreferrer\">oracle.com/nz/java/technologies/downloads</a>"}],"owner":{"account_id":25665501,"reputation":11,"user_id":19430550,"display_name":"Eva Bonning"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686085869,"creation_date":1686004513,"question_id":76410398,"body_markdown":"I&#39;ve been trying to use the most recent update of CoreNLP on my mac and I keep getting the following error message when I run the code below. \r\n\r\n    library(coreNLP)\r\n\r\n    Error: package or namespace load failed for ‘coreNLP’:\r\n    .onLoad failed in loadNamespace() for &#39;rJava&#39;, details:\r\n     call: dyn.load(jli, FALSE)\r\n     error: unable to load shared object &#39;/Library/Internet Plug- \r\n    Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39;:\r\n     dlopen(/Library/Internet Plug- \r\n    Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib, \r\n    0x000A): tried: &#39;/Library/Internet Plug- \r\n    Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39; \r\n     (mach-o file, but is an incompatible architecture (have \r\n    &#39;x86_64&#39;, need &#39;arm64&#39;)), \r\n    &#39;/System/Volumes/Preboot/Cryptexes/OS/Library/Internet Plug- \r\n    Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39; \r\n    (no such file), &#39;/Library/Internet Plug- \r\n    Ins/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib&#39; \r\n     (mach-o file, but is an incompatible architecture (have \r\n      &#39;x86_64&#39;, need &#39;arm64&#39;))\r\n\r\nI seem to be able to install the package no problem, but I can&#39;t initiate it. As I understand it, it seems to be some sort of incompatible architecture problem. That is, the error is saying the package is for use on Windows not for Mac. The whole issue seems unusual to me as I used the package before its update last year no problems. Java and R are both up to date on my computer.\r\n","title":"Can&#39;t Get CoreNLP October 2022 Update to run in R on Mac","body":"<p>I've been trying to use the most recent update of CoreNLP on my mac and I keep getting the following error message when I run the code below.</p>\n<pre><code>library(coreNLP)\n\nError: package or namespace load failed for ‘coreNLP’:\n.onLoad failed in loadNamespace() for 'rJava', details:\n call: dyn.load(jli, FALSE)\n error: unable to load shared object '/Library/Internet Plug- \nIns/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib':\n dlopen(/Library/Internet Plug- \nIns/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib, \n0x000A): tried: '/Library/Internet Plug- \nIns/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib' \n (mach-o file, but is an incompatible architecture (have \n'x86_64', need 'arm64')), \n'/System/Volumes/Preboot/Cryptexes/OS/Library/Internet Plug- \nIns/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib' \n(no such file), '/Library/Internet Plug- \nIns/JavaAppletPlugin.plugin/Contents/Home/lib/jli/libjli.dylib' \n (mach-o file, but is an incompatible architecture (have \n  'x86_64', need 'arm64'))\n</code></pre>\n<p>I seem to be able to install the package no problem, but I can't initiate it. As I understand it, it seems to be some sort of incompatible architecture problem. That is, the error is saying the package is for use on Windows not for Mac. The whole issue seems unusual to me as I used the package before its update last year no problems. Java and R are both up to date on my computer.</p>\n"},{"tags":["java","validation","three.js","gltf"],"answers":[{"tags":[],"owner":{"account_id":1381961,"reputation":11280,"user_id":1314762,"display_name":"Don McCurdy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686085673,"creation_date":1686061645,"answer_id":76415718,"question_id":76408872,"body_markdown":"You might be looking for [KhronosGroup/glTF-Validator](https://github.com/KhronosGroup/glTF-Validator). However, the official glTF validator is not written in Java. It can be compiled to WebAssembly, but may take some considerable effort to run in a Java Spring Boot backend. The glTF specification also includes JSON-LD [schema files](https://github.com/KhronosGroup/glTF/tree/main/specification/2.0/schema), and I expect you could find libraries for Java that validate arbitrary JSON data against JSON-LD schema files, although I am not able to recommend such a library myself.\r\n\r\nFurthermore, detecting that the file is a _valid_ glTF asset is not quite the same thing as detecting that it is _non-malicious_ (although it&#39;s certainly a good start). A glTF scene might be valid while also containing a maliciously-crafted JPEG or PNG texture, for example. \r\n\r\nIn my opinion, the only safe approach is to _sanitize_ the glTF asset and any binary resources (like images) it relies on. Essentially this means rebuilding files with a trusted I/O library, not just sniffing them for problems. [Existing Stack Overflow answers](https://security.stackexchange.com/q/17095/241730) describe how to do this for 2D images, although I&#39;m not aware of complete answers as related to 3D scenes.","title":"glTF file validation with Java Spring Boot","body":"<p>You might be looking for <a href=\"https://github.com/KhronosGroup/glTF-Validator\" rel=\"nofollow noreferrer\">KhronosGroup/glTF-Validator</a>. However, the official glTF validator is not written in Java. It can be compiled to WebAssembly, but may take some considerable effort to run in a Java Spring Boot backend. The glTF specification also includes JSON-LD <a href=\"https://github.com/KhronosGroup/glTF/tree/main/specification/2.0/schema\" rel=\"nofollow noreferrer\">schema files</a>, and I expect you could find libraries for Java that validate arbitrary JSON data against JSON-LD schema files, although I am not able to recommend such a library myself.</p>\n<p>Furthermore, detecting that the file is a <em>valid</em> glTF asset is not quite the same thing as detecting that it is <em>non-malicious</em> (although it's certainly a good start). A glTF scene might be valid while also containing a maliciously-crafted JPEG or PNG texture, for example.</p>\n<p>In my opinion, the only safe approach is to <em>sanitize</em> the glTF asset and any binary resources (like images) it relies on. Essentially this means rebuilding files with a trusted I/O library, not just sniffing them for problems. <a href=\"https://security.stackexchange.com/q/17095/241730\">Existing Stack Overflow answers</a> describe how to do this for 2D images, although I'm not aware of complete answers as related to 3D scenes.</p>\n"}],"owner":{"account_id":23310280,"reputation":63,"user_id":17389648,"display_name":"shadowsandlights"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76415718,"answer_count":1,"score":0,"last_activity_date":1686085673,"creation_date":1685987578,"question_id":76408872,"body_markdown":"I want to create an app with Three.js in the frontend and Java Spring Boot in the backend. Furthermore, the users shall be able to upload .glTF files which then shall be stored on the server. One concern I have is that I can&#39;t find a library or solution on how to check the validity or security of the .glTF, hence that it is not e.g. malicious, before storing it. Therefore I wanted to ask if anyone has an idea or solution to this problem. I found this repository https://github.com/javagl/JglTF which provides a gltf validator but it alarms that it is only for internal use and thus the other libraries. A glTF file has a JSON structure if that&#39;s relevant.\r\n\r\nThe options I considered:\r\n - checking for general keys of glTF\r\n - checking the mime type\r\n\r\n ","title":"glTF file validation with Java Spring Boot","body":"<p>I want to create an app with Three.js in the frontend and Java Spring Boot in the backend. Furthermore, the users shall be able to upload .glTF files which then shall be stored on the server. One concern I have is that I can't find a library or solution on how to check the validity or security of the .glTF, hence that it is not e.g. malicious, before storing it. Therefore I wanted to ask if anyone has an idea or solution to this problem. I found this repository <a href=\"https://github.com/javagl/JglTF\" rel=\"nofollow noreferrer\">https://github.com/javagl/JglTF</a> which provides a gltf validator but it alarms that it is only for internal use and thus the other libraries. A glTF file has a JSON structure if that's relevant.</p>\n<p>The options I considered:</p>\n<ul>\n<li>checking for general keys of glTF</li>\n<li>checking the mime type</li>\n</ul>\n"},{"tags":["javascript","java","html","css","node.js"],"comments":[{"owner":{"account_id":11470426,"reputation":469,"user_id":11351620,"display_name":"Vasya"},"score":0,"creation_date":1686074179,"post_id":76417147,"comment_id":134748501,"body_markdown":"At the very least, you need to include MathJax library src=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full&quot;","body":"At the very least, you need to include MathJax library src=&quot;<a href=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full\" rel=\"nofollow noreferrer\">cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/&hellip;</a>&quot;"},{"owner":{"account_id":28766894,"reputation":1,"user_id":22031596,"display_name":"Kernier"},"score":0,"creation_date":1686076013,"post_id":76417147,"comment_id":134748840,"body_markdown":"I added     `&lt;script scr=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML-full&quot;&gt;&lt;/script&gt;` a tthe end of head but what next?","body":"I added     <code>&lt;script scr=&quot;https:&#47;&#47;cdnjs.cloudflare.com&#47;ajax&#47;libs&#47;mathjax&#47;2.7.5&#47;Ma&zwnj;&#8203;thJax.js?config=TeX-&zwnj;&#8203;AMS_HTML-full&quot;&gt;&lt;&#47;scr&zwnj;&#8203;ipt&gt;</code> a tthe end of head but what next?"}],"answers":[{"tags":[],"owner":{"account_id":18383506,"reputation":61,"user_id":13391106,"display_name":"PowerKuu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686085224,"creation_date":1686084125,"answer_id":76418307,"question_id":76417147,"body_markdown":"If youre current code does not work this is the solution:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;./node_modules/@stackoverflow/stacks/dist/css/stacks.css&quot; /&gt;\r\n        &lt;!-- include the bundled styles --&gt;\r\n        &lt;link\r\n            rel=&quot;stylesheet&quot;\r\n            href=&quot;./node_modules/@stackoverflow/stacks-editor/dist/styles.css&quot;\r\n        /&gt;\r\n        \r\n        &lt;!-- highlight.js is not included in the bundle, so include it as well if you want it --&gt;\r\n        &lt;script src=&quot;//unpkg.com/@highlightjs/cdn-assets@latest/highlight.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;!--include Stacks --&gt;\r\n        &lt;script src=&quot;/node_modules/@stackoverflow/stacks/dist/js/stacks.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;!-- include the bundle --&gt;\r\n        &lt;script src=&quot;/node_modules/@stackoverflow/stacks-editor/dist/app.bundle.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n            \r\n        &lt;div id=&quot;editor-container&quot;&gt;&lt;/div&gt;\r\n        &lt;script&gt;\r\n            new stacksEditor.StacksEditor(\r\n                document.querySelector(&quot;#editor-container&quot;),\r\n                &quot;*Your* **markdown** here&quot;,\r\n                {}\r\n            );\r\n        &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nBut i did not find any way of using latex with the StackEditor. But i found a website that have a latex editor [https://stackedit.io/app][1].\r\n\r\nIf you are importing youre script as an external js file instead of using in the body as a &lt;script&gt;&lt;/script&gt; tag. Remember to use defer:\r\n\r\n    &lt;!-- highlight.js is not included in the bundle, so include it as well if you want it --&gt;\r\n    &lt;script src=&quot;//unpkg.com/@highlightjs/cdn-assets@latest/highlight.min.js&quot; defer&gt;&lt;/script&gt;\r\n    &lt;!--include Stacks --&gt;\r\n    &lt;script src=&quot;./node_modules/@stackoverflow/stacks/dist/js/stacks.min.js&quot; defer&gt;&lt;/script&gt;\r\n    &lt;!-- include the bundle --&gt;\r\n    &lt;script src=&quot;./node_modules/@stackoverflow/stacks-editor/dist/app.bundle.js&quot; defer&gt;&lt;/script&gt;\r\n\r\n\r\n  [1]: https://stackedit.io/app","title":"Stack-overflow markdown editor math enhancement","body":"<p>If youre current code does not work this is the solution:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;./node_modules/@stackoverflow/stacks/dist/css/stacks.css&quot; /&gt;\n    &lt;!-- include the bundled styles --&gt;\n    &lt;link\n        rel=&quot;stylesheet&quot;\n        href=&quot;./node_modules/@stackoverflow/stacks-editor/dist/styles.css&quot;\n    /&gt;\n    \n    &lt;!-- highlight.js is not included in the bundle, so include it as well if you want it --&gt;\n    &lt;script src=&quot;//unpkg.com/@highlightjs/cdn-assets@latest/highlight.min.js&quot;&gt;&lt;/script&gt;\n    &lt;!--include Stacks --&gt;\n    &lt;script src=&quot;/node_modules/@stackoverflow/stacks/dist/js/stacks.min.js&quot;&gt;&lt;/script&gt;\n    &lt;!-- include the bundle --&gt;\n    &lt;script src=&quot;/node_modules/@stackoverflow/stacks-editor/dist/app.bundle.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n        \n    &lt;div id=&quot;editor-container&quot;&gt;&lt;/div&gt;\n    &lt;script&gt;\n        new stacksEditor.StacksEditor(\n            document.querySelector(&quot;#editor-container&quot;),\n            &quot;*Your* **markdown** here&quot;,\n            {}\n        );\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>But i did not find any way of using latex with the StackEditor. But i found a website that have a latex editor <a href=\"https://stackedit.io/app\" rel=\"nofollow noreferrer\">https://stackedit.io/app</a>.</p>\n<p>If you are importing youre script as an external js file instead of using in the body as a  tag. Remember to use defer:</p>\n<pre><code>&lt;!-- highlight.js is not included in the bundle, so include it as well if you want it --&gt;\n&lt;script src=&quot;//unpkg.com/@highlightjs/cdn-assets@latest/highlight.min.js&quot; defer&gt;&lt;/script&gt;\n&lt;!--include Stacks --&gt;\n&lt;script src=&quot;./node_modules/@stackoverflow/stacks/dist/js/stacks.min.js&quot; defer&gt;&lt;/script&gt;\n&lt;!-- include the bundle --&gt;\n&lt;script src=&quot;./node_modules/@stackoverflow/stacks-editor/dist/app.bundle.js&quot; defer&gt;&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":28766894,"reputation":1,"user_id":22031596,"display_name":"Kernier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686085224,"creation_date":1686073217,"question_id":76417147,"body_markdown":"I used the markdown editor from here: https://github.com/StackExchange/Stacks-Editor/tree/main\r\n\r\nMy code look like this:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Markdown Editor&lt;/title&gt;\r\n  &lt;!--include Stacks --&gt;\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;./node_modules/@stackoverflow/stacks/dist/css/stacks.css&quot; /&gt;\r\n&lt;!-- include the bundled styles --&gt;\r\n&lt;link\r\n    rel=&quot;stylesheet&quot;\r\n    href=&quot;./node_modules/@stackoverflow/stacks-editor/dist/styles.css&quot;\r\n/&gt;\r\n\r\n    &lt;!-- highlight.js is not included in the bundle, so include it as well if you want it --&gt;\r\n    &lt;script src=&quot;//unpkg.com/@highlightjs/cdn-assets@latest/highlight.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;!--include Stacks --&gt;\r\n    &lt;script src=&quot;./node_modules/@stackoverflow/stacks/dist/js/stacks.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;!-- include the bundle --&gt;\r\n    &lt;script src=&quot;./node_modules/@stackoverflow/stacks-editor/dist/app.bundle.js&quot;&gt;&lt;/script&gt;\r\n    \r\n\r\n&lt;/head&gt;\r\n\r\n\r\n&lt;body&gt;\r\n\r\n    &lt;div style=&quot;margin:20px; width: 800px;&quot;&gt;\r\n    &lt;div id=&quot;editor-container&quot;&gt;&lt;/div&gt;\r\n        &lt;!-- initialize the editor --&gt;\r\n    &lt;script&gt;\r\n        new window.stacksEditor.StacksEditor(\r\n            document.querySelector(&quot;#editor-container&quot;),\r\n            &quot;*Your* **markdown** here&quot;,\r\n            {}\r\n        );\r\n     &lt;/script&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nUnfortunately, it doesnt have one very important feature - Latex math support. I would like to write simply $\\frac{1}{2}$ and produce a fraction. How can I add it?\r\n\r\n","title":"Stack-overflow markdown editor math enhancement","body":"<p>I used the markdown editor from here: <a href=\"https://github.com/StackExchange/Stacks-Editor/tree/main\" rel=\"nofollow noreferrer\">https://github.com/StackExchange/Stacks-Editor/tree/main</a></p>\n<p>My code look like this:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;Markdown Editor&lt;/title&gt;\n  &lt;!--include Stacks --&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;./node_modules/@stackoverflow/stacks/dist/css/stacks.css&quot; /&gt;\n&lt;!-- include the bundled styles --&gt;\n&lt;link\n    rel=&quot;stylesheet&quot;\n    href=&quot;./node_modules/@stackoverflow/stacks-editor/dist/styles.css&quot;\n/&gt;\n\n    &lt;!-- highlight.js is not included in the bundle, so include it as well if you want it --&gt;\n    &lt;script src=&quot;//unpkg.com/@highlightjs/cdn-assets@latest/highlight.min.js&quot;&gt;&lt;/script&gt;\n    &lt;!--include Stacks --&gt;\n    &lt;script src=&quot;./node_modules/@stackoverflow/stacks/dist/js/stacks.min.js&quot;&gt;&lt;/script&gt;\n    &lt;!-- include the bundle --&gt;\n    &lt;script src=&quot;./node_modules/@stackoverflow/stacks-editor/dist/app.bundle.js&quot;&gt;&lt;/script&gt;\n    \n\n&lt;/head&gt;\n\n\n&lt;body&gt;\n\n    &lt;div style=&quot;margin:20px; width: 800px;&quot;&gt;\n    &lt;div id=&quot;editor-container&quot;&gt;&lt;/div&gt;\n        &lt;!-- initialize the editor --&gt;\n    &lt;script&gt;\n        new window.stacksEditor.StacksEditor(\n            document.querySelector(&quot;#editor-container&quot;),\n            &quot;*Your* **markdown** here&quot;,\n            {}\n        );\n     &lt;/script&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Unfortunately, it doesnt have one very important feature - Latex math support. I would like to write simply $\\frac{1}{2}$ and produce a fraction. How can I add it?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1686081740,"post_id":76417732,"comment_id":134749843,"body_markdown":"I mean, if you say `&lt;skip&gt;true&lt;/skip&gt;`, it is just skipped...","body":"I mean, if you say <code>&lt;skip&gt;true&lt;&#47;skip&gt;</code>, it is just skipped..."},{"owner":{"account_id":5315079,"reputation":314,"user_id":5322269,"display_name":"Wesley"},"score":0,"creation_date":1686082665,"post_id":76417732,"comment_id":134749988,"body_markdown":"But that is the thing it is not skipping the enforcer. I also have tried a different config directly from maven and also adjusted it to exclude some snapshots wild a wild card for example but that was not honored either it would still throw the snapshot error\n\n`nuxeo-studio:xxx-xxx-dam:jar:lts2021-SNAPSHOT &lt;--- is not a release dependency` I will get this even when having added this:\n\n`&lt;requireReleaseDeps&gt;\n  &lt;message&gt;No Snapshots Allowed!!!!&lt;/message&gt;\n  &lt;excludes&gt;\n    &lt;exclude&gt;nuxeo-studio:*&lt;/exclude&gt;\n  &lt;/excludes&gt;\n&lt;/requireReleaseDeps&gt;`","body":"But that is the thing it is not skipping the enforcer. I also have tried a different config directly from maven and also adjusted it to exclude some snapshots wild a wild card for example but that was not honored either it would still throw the snapshot error  <code>nuxeo-studio:xxx-xxx-dam:jar:lts2021-SNAPSHOT &lt;--- is not a release dependency</code> I will get this even when having added this:  <code>&lt;requireReleaseDeps&gt;   &lt;message&gt;No Snapshots Allowed!!!!&lt;&#47;message&gt;   &lt;excludes&gt;     &lt;exclude&gt;nuxeo-studio:*&lt;&#47;exclude&gt;   &lt;&#47;excludes&gt; &lt;&#47;requireReleaseDeps&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":5315079,"reputation":314,"user_id":5322269,"display_name":"Wesley"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686084823,"creation_date":1686084823,"answer_id":76418385,"question_id":76417732,"body_markdown":"So I have found the solution to this problem due to working with Nuxeo packages the below property is not working\r\n`&lt;properties&gt;\r\n  &lt;enforcer.skip&gt;true&lt;/enforcer.skip&gt;\r\n&lt;/properties&gt;`\r\n\r\nBut this property is\r\n`&lt;properties&gt;\r\n  &lt;nuxeo.skip.enforcer&gt;true&lt;/nuxeo.skip.enforcer&gt;\r\n&lt;/properties&gt;`\r\n","title":"Maven maven-enforcer-plugin POM configuration not honored","body":"<p>So I have found the solution to this problem due to working with Nuxeo packages the below property is not working\n<code>&lt;properties&gt; &lt;enforcer.skip&gt;true&lt;/enforcer.skip&gt; &lt;/properties&gt;</code></p>\n<p>But this property is\n<code>&lt;properties&gt; &lt;nuxeo.skip.enforcer&gt;true&lt;/nuxeo.skip.enforcer&gt; &lt;/properties&gt;</code></p>\n"}],"owner":{"account_id":5315079,"reputation":314,"user_id":5322269,"display_name":"Wesley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76418385,"answer_count":1,"score":0,"last_activity_date":1686084823,"creation_date":1686078629,"question_id":76417732,"body_markdown":"I am having some issues with local non release builds. I am upgrading our Java repository from Java 8 to 11. Ever since I have been updating package dependencies to pass the build which all got resolved but for some reason for our dev package I am getting &quot;No Snapshots allowed&quot; I have been trying different POM configurations to bypass that error as it is a dev build and snapshots should be fine.\r\n\r\nMy latest configuration in the parent pom has the following\r\n```&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skip&gt;true&lt;/skip&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        \r\n    &lt;/build&gt;\r\n```\r\n\r\n\r\nNevertheless I tried many variations by also trying out configurations from the maven site directly like https://maven.apache.org/enforcer/enforcer-rules/requireReleaseDeps.html and have been trying to apply not just to the parent but the child folders as well.\r\n\r\nThe reason I am saying is it is not being honored is when I try a different message for this block: `&lt;message&gt;No Snapshots Allowed!&lt;/message&gt;` I still get the default message and not my custom message. But if I change the version it seems to be honored.\r\n\r\nAny help would be appreciated","title":"Maven maven-enforcer-plugin POM configuration not honored","body":"<p>I am having some issues with local non release builds. I am upgrading our Java repository from Java 8 to 11. Ever since I have been updating package dependencies to pass the build which all got resolved but for some reason for our dev package I am getting &quot;No Snapshots allowed&quot; I have been trying different POM configurations to bypass that error as it is a dev build and snapshots should be fine.</p>\n<p>My latest configuration in the parent pom has the following</p>\n<pre><code>        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skip&gt;true&lt;/skip&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        \n    &lt;/build&gt;\n</code></pre>\n<p>Nevertheless I tried many variations by also trying out configurations from the maven site directly like <a href=\"https://maven.apache.org/enforcer/enforcer-rules/requireReleaseDeps.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/enforcer/enforcer-rules/requireReleaseDeps.html</a> and have been trying to apply not just to the parent but the child folders as well.</p>\n<p>The reason I am saying is it is not being honored is when I try a different message for this block: <code>&lt;message&gt;No Snapshots Allowed!&lt;/message&gt;</code> I still get the default message and not my custom message. But if I change the version it seems to be honored.</p>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","spring","spring-boot","mustache","spring-rest"],"answers":[{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686084211,"creation_date":1686084211,"answer_id":76418316,"question_id":76418202,"body_markdown":"You&#39;re using @RestController while you actually need @Controller. Read about server side rendering, vie resolvers in Spring.","title":"How to connect controller and mustache?","body":"<p>You're using @RestController while you actually need @Controller. Read about server side rendering, vie resolvers in Spring.</p>\n"}],"owner":{"account_id":27959269,"reputation":11,"user_id":21351444,"display_name":"Ira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686084211,"creation_date":1686083095,"question_id":76418202,"body_markdown":"Having problem with sending infprmation to localhost. Using http://localhost:8080 occurs an Whitelabel Error Page (This application has no explicit mapping for /error, so you are seeing this as a fallback.) insted of showing information from mustache file. How can I solve that? Is there something wrong with connection?\r\n\r\nController class: \r\n```\r\nimport com.work.Dormitory.domain.Information;\r\nimport com.work.Dormitory.repositories.InfoRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.Map;\r\n\r\n@RestController\r\npublic class GreetingController {\r\n@Autowired\r\nprivate InfoRepository infoRepository;\r\n    @GetMapping(&quot;/greeting&quot;)\r\n    public String greeting(@RequestParam(name=&quot;name&quot;, required=false, defaultValue=&quot;World&quot;) String name, Model model) {\r\n      model.addAttribute(&quot;name&quot;, name);\r\n        return &quot;greeting&quot;;\r\n    }\r\n\r\n    @GetMapping\r\n    public String main(Map&lt;String,Object&gt; model){\r\n        Iterable&lt;Information&gt; information=infoRepository.findAll();\r\n        model.put(&quot;information&quot;,information);\r\n        return &quot;main&quot;;\r\n    }\r\n\r\n    @PostMapping\r\n    public String add(@RequestParam String numberDormitory, @RequestParam String room, Map&lt;String,Object&gt; model){\r\n        Information information=new Information(numberDormitory,room);\r\n       infoRepository.save(information);\r\n        Iterable&lt;Information&gt; info=infoRepository.findAll();\r\n        model.put(&quot;info&quot;,info);\r\n        return &quot;main&quot;;\r\n    }\r\n}\r\n```\r\n\r\nRepository class:\r\n\r\n```\r\n\r\nimport com.work.Dormitory.domain.Information;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\npublic interface InfoRepository extends CrudRepository&lt;Information,Long&gt; {\r\n}\r\n\r\n```\r\nInformation class:\r\n\r\n\r\n```\r\npackage com.work.Dormitory.domain;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\n@Entity\r\npublic class Information {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n    private String room;\r\n    private String dormitoryNumber;\r\n\r\n    public Information(){}\r\n    public Information(String dormitoryNumber, String room) {\r\n        this.dormitoryNumber = dormitoryNumber;\r\n        this.room=room;\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getRoom() {\r\n        return room;\r\n    }\r\n\r\n    public void setRoom(String room) {\r\n        this.room = room;\r\n    }\r\n\r\n    public String getDormitoryNumber() {\r\n        return dormitoryNumber;\r\n    }\r\n\r\n    public void setDormitoryNumber(String dormitoryNumber) {\r\n        this.dormitoryNumber = dormitoryNumber;\r\n    }\r\n}\r\n\r\n```\r\n\r\nmain.mustache:\r\n\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html xmlns:th=&quot;http://localhost:8080&quot;&gt;\r\n&lt;body&gt;\r\n&lt;div&gt;\r\n    &lt;form method=&quot;post&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;numberDormitory&quot; placeholder=&quot;Write number of dormitory&quot; /&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;room&quot; placeholder=&quot;Number of room: &quot;&gt;\r\n        &lt;button type=&quot;submit&quot;&gt; Add &lt;/button&gt;\r\n    &lt;/form&gt;\r\n&lt;/div&gt;\r\n&lt;div&gt;list &lt;/div&gt;\r\n  {{#messages}}\r\n    &lt;div&gt;\r\n        &lt;b&gt;{{id}}&lt;/b&gt;\r\n        &lt;span&gt;{{room}}&lt;/span&gt;\r\n        &lt;i&gt;{{dormitoryNumber}}&lt;/i&gt;\r\n    &lt;/div&gt;\r\n  {{/messages}}\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\npom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.work&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Dormitory&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;Dormitory&lt;/name&gt;\r\n\t&lt;description&gt;Project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mustache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\nUsing http://localhost:8080/greeting shows just a word &quot;greeting&quot; on a site insted of say &quot;hello world&quot; and http://localhost:8080/greeting?j showing also &quot;greeting&quot; instead of &quot;hello j&quot;. Using http://localhost:8080 occurs an Whitelabel Error Page, when the form user should fill out was expected. The main problem is how to solve this Whitelabel Error Page","title":"How to connect controller and mustache?","body":"<p>Having problem with sending infprmation to localhost. Using http://localhost:8080 occurs an Whitelabel Error Page (This application has no explicit mapping for /error, so you are seeing this as a fallback.) insted of showing information from mustache file. How can I solve that? Is there something wrong with connection?</p>\n<p>Controller class:</p>\n<pre><code>import com.work.Dormitory.domain.Information;\nimport com.work.Dormitory.repositories.InfoRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Map;\n\n@RestController\npublic class GreetingController {\n@Autowired\nprivate InfoRepository infoRepository;\n    @GetMapping(&quot;/greeting&quot;)\n    public String greeting(@RequestParam(name=&quot;name&quot;, required=false, defaultValue=&quot;World&quot;) String name, Model model) {\n      model.addAttribute(&quot;name&quot;, name);\n        return &quot;greeting&quot;;\n    }\n\n    @GetMapping\n    public String main(Map&lt;String,Object&gt; model){\n        Iterable&lt;Information&gt; information=infoRepository.findAll();\n        model.put(&quot;information&quot;,information);\n        return &quot;main&quot;;\n    }\n\n    @PostMapping\n    public String add(@RequestParam String numberDormitory, @RequestParam String room, Map&lt;String,Object&gt; model){\n        Information information=new Information(numberDormitory,room);\n       infoRepository.save(information);\n        Iterable&lt;Information&gt; info=infoRepository.findAll();\n        model.put(&quot;info&quot;,info);\n        return &quot;main&quot;;\n    }\n}\n</code></pre>\n<p>Repository class:</p>\n<pre><code>\nimport com.work.Dormitory.domain.Information;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface InfoRepository extends CrudRepository&lt;Information,Long&gt; {\n}\n\n</code></pre>\n<p>Information class:</p>\n<pre><code>package com.work.Dormitory.domain;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class Information {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n    private String room;\n    private String dormitoryNumber;\n\n    public Information(){}\n    public Information(String dormitoryNumber, String room) {\n        this.dormitoryNumber = dormitoryNumber;\n        this.room=room;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getRoom() {\n        return room;\n    }\n\n    public void setRoom(String room) {\n        this.room = room;\n    }\n\n    public String getDormitoryNumber() {\n        return dormitoryNumber;\n    }\n\n    public void setDormitoryNumber(String dormitoryNumber) {\n        this.dormitoryNumber = dormitoryNumber;\n    }\n}\n\n</code></pre>\n<p>main.mustache:</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;http://localhost:8080&quot;&gt;\n&lt;body&gt;\n&lt;div&gt;\n    &lt;form method=&quot;post&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;numberDormitory&quot; placeholder=&quot;Write number of dormitory&quot; /&gt;\n        &lt;input type=&quot;text&quot; name=&quot;room&quot; placeholder=&quot;Number of room: &quot;&gt;\n        &lt;button type=&quot;submit&quot;&gt; Add &lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;div&gt;list &lt;/div&gt;\n  {{#messages}}\n    &lt;div&gt;\n        &lt;b&gt;{{id}}&lt;/b&gt;\n        &lt;span&gt;{{room}}&lt;/span&gt;\n        &lt;i&gt;{{dormitoryNumber}}&lt;/i&gt;\n    &lt;/div&gt;\n  {{/messages}}\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.work&lt;/groupId&gt;\n    &lt;artifactId&gt;Dormitory&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;Dormitory&lt;/name&gt;\n    &lt;description&gt;Project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mustache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Using http://localhost:8080/greeting shows just a word &quot;greeting&quot; on a site insted of say &quot;hello world&quot; and http://localhost:8080/greeting?j showing also &quot;greeting&quot; instead of &quot;hello j&quot;. Using http://localhost:8080 occurs an Whitelabel Error Page, when the form user should fill out was expected. The main problem is how to solve this Whitelabel Error Page</p>\n"},{"tags":["java","filereader"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":3,"creation_date":1686078397,"post_id":76417659,"comment_id":134749268,"body_markdown":"Do not use `try-catch` to just catch the exception and do nothing. And specially don&#39;t continue you code like you didn&#39;t catch an exception, that doesn&#39;t make sense. At least look inside the error message of the exception to see what the problem is.","body":"Do not use <code>try-catch</code> to just catch the exception and do nothing. And specially don&#39;t continue you code like you didn&#39;t catch an exception, that doesn&#39;t make sense. At least look inside the error message of the exception to see what the problem is."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1686078529,"post_id":76417659,"comment_id":134749284,"body_markdown":"What operating system are you on? And, are you sure the file really exists in that path? The NPE is because you&#39;re getting a FileNotFoundException, but your `catch` block doesn&#39;t return early from the method or rethrow the exception; it just proceeds, even though the `new FileReader` failed.","body":"What operating system are you on? And, are you sure the file really exists in that path? The NPE is because you&#39;re getting a FileNotFoundException, but your <code>catch</code> block doesn&#39;t return early from the method or rethrow the exception; it just proceeds, even though the <code>new FileReader</code> failed."},{"owner":{"account_id":28295883,"reputation":1,"user_id":21635362,"display_name":"luluconcha"},"score":0,"creation_date":1686081270,"post_id":76417659,"comment_id":134749776,"body_markdown":"@Progman thank you for answering. So the try-catch blocks should be in different methods?","body":"@Progman thank you for answering. So the try-catch blocks should be in different methods?"}],"answers":[{"tags":[],"owner":{"account_id":28766474,"reputation":61,"user_id":22031268,"display_name":"Giorgos Athanasopoulos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686078861,"creation_date":1686078861,"answer_id":76417764,"question_id":76417659,"body_markdown":"The code works just fine on my machine. The only way it failed (and got the nullpointerexception that you also get) is when the file doesnt exist. Make sure that the file exists in the location specified.(And early return/handle when catching the error so that the rest of the function doesnt continue while doc is still null)","title":"How to access a file correctly in Java?","body":"<p>The code works just fine on my machine. The only way it failed (and got the nullpointerexception that you also get) is when the file doesnt exist. Make sure that the file exists in the location specified.(And early return/handle when catching the error so that the rest of the function doesnt continue while doc is still null)</p>\n"},{"comments":[{"owner":{"account_id":28295883,"reputation":1,"user_id":21635362,"display_name":"luluconcha"},"score":0,"creation_date":1686217709,"post_id":76418292,"comment_id":134770021,"body_markdown":"Thank you so much @Reilas... it has worked without the &quot;C:&quot; but I will make sure to look into incorporating your suggestions. I don&#39;t have requirements really, I am trying to build my portfolio by doing a Hangman with sentences :)","body":"Thank you so much @Reilas... it has worked without the &quot;C:&quot; but I will make sure to look into incorporating your suggestions. I don&#39;t have requirements really, I am trying to build my portfolio by doing a Hangman with sentences :)"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686083996,"creation_date":1686083996,"answer_id":76418292,"question_id":76417659,"body_markdown":"If _doc_ is _null_ then the _FileNotFoundException_ is being thrown.\r\n\r\nYou should use a _[File](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html)_ object, and check if the file exists using _[File#exists](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html#exists())_.  \r\nAnd, rather than continuing, just exit the method using _return_.\r\n\r\nI&#39;m unsure of your requirements, so I attempted to adapt your code.\r\n\r\nYou can use a _[try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)_ statement, which will automatically close the _BufferedReader_, which will close _FileReader_, also.  \r\nNot doing so can sometimes create I/O issues.\r\n\r\nAdditionally, typically when an _IOException_ occurs during a _readLine_ call, you&#39;ll want to exit the loop.  \r\nAlthough, again, I am unsure of your requirements, so I left it in.\r\n\r\n```java\r\npublic String leeDoc() {\r\n    File file = new File(&quot;C:/Users/apple/Desktop/FRASES_FOR_HANGMAN.txt&quot;);\r\n    if (!file.exists()) {\r\n        System.out.println(&quot;No se encuentra el fichero&quot;);\r\n        return null;\r\n    }\r\n    String linea = &quot;&quot;;\r\n    try (BufferedReader buff = new BufferedReader(new FileReader(file))) {\r\n        while (linea != null) {\r\n            try {\r\n                linea = buff.readLine();\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;No hay frase&quot;);\r\n            }\r\n        }\r\n        return linea;\r\n    } catch (IOException exception) {\r\n        throw new RuntimeException(exception);\r\n    }\r\n}\r\n```\r\n\r\nIf your file has multiple lines, you can review the following example.\r\n\r\n```java\r\ntry (BufferedReader buff = new BufferedReader(new FileReader(file))) {\r\n    StringBuilder string = new StringBuilder();\r\n    String linea;\r\n    String newline = System.lineSeparator();\r\n    int count = 0;\r\n    while ((linea = buff.readLine()) != null) {\r\n        if (count++ != 0) string.append(newline);\r\n        string.append(linea);\r\n    }\r\n    return string.toString();\r\n}\r\n```\r\n\r\nAnd, if your file only has one line you won&#39;t need the loop.\r\n\r\n```java\r\ntry (BufferedReader buff = new BufferedReader(new FileReader(file))) {\r\n    return buff.readLine();\r\n}\r\n```","title":"How to access a file correctly in Java?","body":"<p>If <em>doc</em> is <em>null</em> then the <em>FileNotFoundException</em> is being thrown.</p>\n<p>You should use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html\" rel=\"nofollow noreferrer\">File</a></em> object, and check if the file exists using <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html#exists()\" rel=\"nofollow noreferrer\">File#exists</a></em>.<br />\nAnd, rather than continuing, just exit the method using <em>return</em>.</p>\n<p>I'm unsure of your requirements, so I attempted to adapt your code.</p>\n<p>You can use a <em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a></em> statement, which will automatically close the <em>BufferedReader</em>, which will close <em>FileReader</em>, also.<br />\nNot doing so can sometimes create I/O issues.</p>\n<p>Additionally, typically when an <em>IOException</em> occurs during a <em>readLine</em> call, you'll want to exit the loop.<br />\nAlthough, again, I am unsure of your requirements, so I left it in.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String leeDoc() {\n    File file = new File(&quot;C:/Users/apple/Desktop/FRASES_FOR_HANGMAN.txt&quot;);\n    if (!file.exists()) {\n        System.out.println(&quot;No se encuentra el fichero&quot;);\n        return null;\n    }\n    String linea = &quot;&quot;;\n    try (BufferedReader buff = new BufferedReader(new FileReader(file))) {\n        while (linea != null) {\n            try {\n                linea = buff.readLine();\n            } catch (IOException e) {\n                System.out.println(&quot;No hay frase&quot;);\n            }\n        }\n        return linea;\n    } catch (IOException exception) {\n        throw new RuntimeException(exception);\n    }\n}\n</code></pre>\n<p>If your file has multiple lines, you can review the following example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader buff = new BufferedReader(new FileReader(file))) {\n    StringBuilder string = new StringBuilder();\n    String linea;\n    String newline = System.lineSeparator();\n    int count = 0;\n    while ((linea = buff.readLine()) != null) {\n        if (count++ != 0) string.append(newline);\n        string.append(linea);\n    }\n    return string.toString();\n}\n</code></pre>\n<p>And, if your file only has one line you won't need the loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader buff = new BufferedReader(new FileReader(file))) {\n    return buff.readLine();\n}\n</code></pre>\n"}],"owner":{"account_id":28295883,"reputation":1,"user_id":21635362,"display_name":"luluconcha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1686083996,"creation_date":1686078058,"question_id":76417659,"body_markdown":"I am trying to get Java to access a file on my computer.\r\n\r\nCould anyone help? What&#39;s wrong with the following code?  \r\n&quot;Copy path&quot; copied without the C: but I saw various examples where the name of the hard disk was indicated as such and it didn&#39;t work without the C: either...\r\n\r\n```\r\npublic class GeneradorFrases {\r\n\r\npublic String leeDoc() {\r\n\tFileReader doc = null;\r\n\ttry {\r\n\t\tdoc = new FileReader(&quot;C:/Users/apple/Desktop/FRASES_FOR_HANGMAN.txt&quot;);\r\n\t} catch (FileNotFoundException e) {\r\n\t\tSystem.out.println(&quot;No se encuentra el fichero&quot;);\r\n\t}\r\n\t\r\n\t\r\n\tString linea = &quot;&quot;;\r\n\tBufferedReader buff = new BufferedReader(doc);\r\n\twhile (linea != null) {\r\n\t\ttry {\r\n\t\t\tlinea = buff.readLine();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;No hay frase&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn linea;\r\n\t\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n\r\n}\r\n```\r\n\r\nI have watched various videos, taken notes, somehow I am stuck here.\r\n\r\nDebugging tells me the variable &quot;doc&quot; is null, I get the NullPointerException.","title":"How to access a file correctly in Java?","body":"<p>I am trying to get Java to access a file on my computer.</p>\n<p>Could anyone help? What's wrong with the following code?<br />\n&quot;Copy path&quot; copied without the C: but I saw various examples where the name of the hard disk was indicated as such and it didn't work without the C: either...</p>\n<pre><code>public class GeneradorFrases {\n\npublic String leeDoc() {\n    FileReader doc = null;\n    try {\n        doc = new FileReader(&quot;C:/Users/apple/Desktop/FRASES_FOR_HANGMAN.txt&quot;);\n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;No se encuentra el fichero&quot;);\n    }\n    \n    \n    String linea = &quot;&quot;;\n    BufferedReader buff = new BufferedReader(doc);\n    while (linea != null) {\n        try {\n            linea = buff.readLine();\n        } catch (IOException e) {\n            System.out.println(&quot;No hay frase&quot;);\n        }\n    }\n    \n    return linea;\n    \n    \n    \n    \n}\n\n\n}\n</code></pre>\n<p>I have watched various videos, taken notes, somehow I am stuck here.</p>\n<p>Debugging tells me the variable &quot;doc&quot; is null, I get the NullPointerException.</p>\n"},{"tags":["java","android","proguard","deobfuscation"],"comments":[{"owner":{"account_id":6148867,"reputation":4677,"user_id":4793951,"display_name":"Zircon"},"score":0,"creation_date":1686085113,"post_id":76418215,"comment_id":134750401,"body_markdown":"What `-keepattributes` are you using?","body":"What <code>-keepattributes</code> are you using?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686087668,"post_id":76418215,"comment_id":134750717,"body_markdown":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need. \nAs it&#39;s currently written, it’s hard to tell exactly what you&#39;re asking. See the \n[How to Ask page](https://stackoverflow.com/help/how-to-ask) for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to \nreproduce the issue. See: [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need.  As it&#39;s currently written, it’s hard to tell exactly what you&#39;re asking. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. See: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686150331,"post_id":76418215,"comment_id":134760346,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":5457973,"reputation":1,"user_id":4340848,"display_name":"NEHA NIGAM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686083185,"creation_date":1686083185,"question_id":76418215,"body_markdown":"i am using proguard-retrace 7.0.0 version in my java project but i am not able to obfuscate the line numbers class and method name are working fine, Also is there any way to deobfuscate the lambda menthds as well?\r\n\r\ni have tried different versions but facing similar issue.","title":"using proguard-retrace 7.0.0 not able to deobfuscate the line numbers","body":"<p>i am using proguard-retrace 7.0.0 version in my java project but i am not able to obfuscate the line numbers class and method name are working fine, Also is there any way to deobfuscate the lambda menthds as well?</p>\n<p>i have tried different versions but facing similar issue.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641738253,"post_id":70642136,"comment_id":124878973,"body_markdown":"&quot;*I am getting wrong output to some cases*&quot; - Which ones? What is the expected and what the observed output? Please [edit] the post and add those information.","body":"&quot;<i>I am getting wrong output to some cases</i>&quot; - Which ones? What is the expected and what the observed output? Please <a href=\"https://stackoverflow.com/posts/70642136/edit\">edit</a> the post and add those information."},{"owner":{"account_id":23860783,"reputation":33,"user_id":17863763,"display_name":"Suhas"},"score":0,"creation_date":1641738599,"post_id":70642136,"comment_id":124879048,"body_markdown":"@Turing85 For Input: JuliaZ007 , I should get Valid but getting Invalid.","body":"@Turing85 For Input: JuliaZ007 , I should get Valid but getting Invalid."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641738650,"post_id":70642136,"comment_id":124879056,"body_markdown":"The Hackerrank question expects a solution WITH regular expression.","body":"The Hackerrank question expects a solution WITH regular expression."},{"owner":{"account_id":23860783,"reputation":33,"user_id":17863763,"display_name":"Suhas"},"score":0,"creation_date":1641738831,"post_id":70642136,"comment_id":124879101,"body_markdown":"@hfontanez yeah, but i want to try without it . Can you help.","body":"@hfontanez yeah, but i want to try without it . Can you help."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1641739216,"post_id":70642136,"comment_id":124879199,"body_markdown":"It would be easier to think about if there was a function whose sole purpose was to validate a username amd that was the only code shown.","body":"It would be easier to think about if there was a function whose sole purpose was to validate a username amd that was the only code shown."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1641742894,"post_id":70642136,"comment_id":124880156,"body_markdown":"@Suhas The regex I came up with for HackerRank is the same that JavaMan used in his answer.","body":"@Suhas The regex I came up with for HackerRank is the same that JavaMan used in his answer."}],"answers":[{"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1641739129,"post_id":70642285,"comment_id":124879179,"body_markdown":"The OP already knows this and wants an answer WITHOUT regex. Read the comments, and when in doubt ask the OP. You may be right and this may be the best answer, but it is not helpful to the OP because it is not what it was asked.","body":"The OP already knows this and wants an answer WITHOUT regex. Read the comments, and when in doubt ask the OP. You may be right and this may be the best answer, but it is not helpful to the OP because it is not what it was asked."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1641740119,"post_id":70642285,"comment_id":124879424,"body_markdown":"Code-only answers are discouraged. We should rather explain what causes the problem and how our solution fixes the problem.","body":"Code-only answers are discouraged. We should rather explain what causes the problem and how our solution fixes the problem."},{"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"score":0,"creation_date":1641741417,"post_id":70642285,"comment_id":124879773,"body_markdown":"Thank you @ hfontanez @Turing85 for your recommendations, I improved my answer.","body":"Thank you @ hfontanez @Turing85 for your recommendations, I improved my answer."},{"owner":{"account_id":23860783,"reputation":33,"user_id":17863763,"display_name":"Suhas"},"score":1,"creation_date":1641809552,"post_id":70642285,"comment_id":124894693,"body_markdown":"Thank you @JavaMan I got the correct output.","body":"Thank you @JavaMan I got the correct output."},{"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"score":0,"creation_date":1642332393,"post_id":70642285,"comment_id":125038033,"body_markdown":"You&#39;re welcome @Suhas, don&#39;t hesitate to validate the answer if it was helpful.","body":"You&#39;re welcome @Suhas, don&#39;t hesitate to validate the answer if it was helpful."}],"tags":[],"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641746513,"creation_date":1641738960,"answer_id":70642285,"question_id":70642136,"body_markdown":"## With Regex\r\n\r\nIn your case regular expression is most appropriate:\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Solution {\r\n    private static final Scanner scan = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        final String regex = &quot;^[a-zA-Z][\\\\w_]{7,29}$&quot;;\r\n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n\r\n        int n = Integer.parseInt(scan.nextLine());\r\n        while (n-- != 0) {\r\n            String userName = scan.nextLine();\r\n            if (pattern.matcher(userName).matches())\r\n                System.out.println(&quot;Valid&quot;);\r\n            else\r\n                System.out.println(&quot;InValid&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n__________\r\n## Without Regex\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n    private static final Scanner scan = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        int n = Integer.parseInt(scan.nextLine());\r\n        while (n-- != 0) {\r\n            String userName = scan.nextLine();\r\n            if (isValid(userName))\r\n                System.out.println(&quot;Valid&quot;);\r\n            else\r\n                System.out.println(&quot;InValid&quot;);\r\n        }\r\n    }\r\n\r\n    public static boolean isValid(String userName) {\r\n        if (!Character.isAlphabetic(userName.charAt(0))\r\n                || userName.length() &lt; 8\r\n                || userName.length() &gt; 30)\r\n            return false;\r\n        for (char c : userName.toCharArray()) {\r\n            if (!Character.isLetterOrDigit(c) &amp;&amp; c != &#39;_&#39;)\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n_____\r\n## Explain what causes the problem in the program\r\n\r\nYour problem is caused by the `flag`.\r\n\r\nBefore `JuliaZ007`, you have the name `Samantha?10_2A`, but this name sets the `flag` to `0`.\r\nAnd when you are in the `JuliaZ007`, the `flag` is always `0` and you get a `InValid`.\r\n\r\nTo correct this problem, you can reset `flag` to `1` on each new name.\r\nFor this, you can simply move the `int flag = 1` in the while.\r\n\r\n#### Example :\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Solution {\r\n    private static final Scanner scan = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        int n = Integer.parseInt(scan.nextLine());\r\n        while (n-- != 0) {\r\n            int flag = 1;\r\n            String userName = scan.nextLine();\r\n            char a[] = userName.toCharArray();\r\n            String specialCharactersString = &quot;!@#$%&amp;*()&#39;+,-./:;&lt;=&gt;?[]^`{|}&quot;;\r\n            for (int i = 0; i &lt; userName.length(); i++) {\r\n                char ch = userName.charAt(i);\r\n                if (specialCharactersString.contains(Character.toString(ch))\r\n                        &amp;&amp; Character.isLetterOrDigit(ch) == false) {\r\n                    flag = 0;\r\n                }\r\n            }\r\n            if (userName.length() &gt;= 8 &amp;&amp; userName.length() &lt;= 30 &amp;&amp; Character.isLetter(a[0]) == true &amp;&amp; flag == 1) {\r\n                System.out.println(&quot;Valid&quot;);\r\n            } else {\r\n                System.out.println(&quot;InValid&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Valid Username without Regex","body":"<h2>With Regex</h2>\n<p>In your case regular expression is most appropriate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.regex.Pattern;\n\npublic class Solution {\n    private static final Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        final String regex = &quot;^[a-zA-Z][\\\\w_]{7,29}$&quot;;\n        final Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\n\n        int n = Integer.parseInt(scan.nextLine());\n        while (n-- != 0) {\n            String userName = scan.nextLine();\n            if (pattern.matcher(userName).matches())\n                System.out.println(&quot;Valid&quot;);\n            else\n                System.out.println(&quot;InValid&quot;);\n        }\n    }\n\n}\n</code></pre>\n<hr />\n<h2>Without Regex</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Solution {\n    private static final Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int n = Integer.parseInt(scan.nextLine());\n        while (n-- != 0) {\n            String userName = scan.nextLine();\n            if (isValid(userName))\n                System.out.println(&quot;Valid&quot;);\n            else\n                System.out.println(&quot;InValid&quot;);\n        }\n    }\n\n    public static boolean isValid(String userName) {\n        if (!Character.isAlphabetic(userName.charAt(0))\n                || userName.length() &lt; 8\n                || userName.length() &gt; 30)\n            return false;\n        for (char c : userName.toCharArray()) {\n            if (!Character.isLetterOrDigit(c) &amp;&amp; c != '_')\n                return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n<hr />\n<h2>Explain what causes the problem in the program</h2>\n<p>Your problem is caused by the <code>flag</code>.</p>\n<p>Before <code>JuliaZ007</code>, you have the name <code>Samantha?10_2A</code>, but this name sets the <code>flag</code> to <code>0</code>.\nAnd when you are in the <code>JuliaZ007</code>, the <code>flag</code> is always <code>0</code> and you get a <code>InValid</code>.</p>\n<p>To correct this problem, you can reset <code>flag</code> to <code>1</code> on each new name.\nFor this, you can simply move the <code>int flag = 1</code> in the while.</p>\n<h4>Example :</h4>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.*;\n\npublic class Solution {\n    private static final Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int n = Integer.parseInt(scan.nextLine());\n        while (n-- != 0) {\n            int flag = 1;\n            String userName = scan.nextLine();\n            char a[] = userName.toCharArray();\n            String specialCharactersString = &quot;!@#$%&amp;*()'+,-./:;&lt;=&gt;?[]^`{|}&quot;;\n            for (int i = 0; i &lt; userName.length(); i++) {\n                char ch = userName.charAt(i);\n                if (specialCharactersString.contains(Character.toString(ch))\n                        &amp;&amp; Character.isLetterOrDigit(ch) == false) {\n                    flag = 0;\n                }\n            }\n            if (userName.length() &gt;= 8 &amp;&amp; userName.length() &lt;= 30 &amp;&amp; Character.isLetter(a[0]) == true &amp;&amp; flag == 1) {\n                System.out.println(&quot;Valid&quot;);\n            } else {\n                System.out.println(&quot;InValid&quot;);\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1641740178,"post_id":70642384,"comment_id":124879439,"body_markdown":"&quot;*2.The username can only contain alphanumeric characters and underscores (_)*&quot; - You missed that part of the requirement.","body":"&quot;<i>2.The username can only contain alphanumeric characters and underscores (_)</i>&quot; - You missed that part of the requirement."}],"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641740929,"creation_date":1641739642,"answer_id":70642384,"question_id":70642136,"body_markdown":"&gt; The username consists of 8 to 30 characters inclusive. ***If the username consists of less than 8 or greater than 30 characters, then it is an invalid username***.\r\n\r\n    boolean valid = true;\r\n    if (userName.length() &lt; 8 || userName.length() &gt; 30) { \r\n        valid = false;\r\n    }\r\n\r\n&gt; The username can only contain alphanumeric characters and underscores\r\n\r\n    if (valid) {\r\n        for (int  i = 0; i &lt; userName.length(); i++) {\r\n            boolean temp = c\r\n            Character c = userName.charAt(i);\r\n            valid = Character.isLetterOrDigit(c);\r\n            // before invalidating, check to see if it is an underscore\r\n\t\t\tif (!valid) {\r\n\t\t\t\tvalid = c == &#39;_&#39;;\r\n\t\t\t\tif (!valid)\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n        }\r\n    }\r\n\r\n&gt; The first character of the username must be an alphabetic character\r\n\r\n    if (valid) {\r\n        valid = Character.isLetter(userName.charAt(0));\r\n    }\r\n\r\nOnce you execute all validation steps, simply `return valid;`. On a side note, you can check the rule of the first character while looping to check the validity of the remaining character. I just did separate checks for clarity and for separating all three requirements for validation.\r\n\r\nLASTLY, I want to point out this is most likely NOT the most optimal solution for non-regex. However, I broke it down in these steps because I feel strongly that as a beginner developer, you should attack problems in this manner: first break down the problem into individual, smaller problems. Then, come up to the solution of each independently, and lastly, integrate the smaller solutions into the final product.","title":"Valid Username without Regex","body":"<blockquote>\n<p>The username consists of 8 to 30 characters inclusive. <em><strong>If the username consists of less than 8 or greater than 30 characters, then it is an invalid username</strong></em>.</p>\n</blockquote>\n<pre><code>boolean valid = true;\nif (userName.length() &lt; 8 || userName.length() &gt; 30) { \n    valid = false;\n}\n</code></pre>\n<blockquote>\n<p>The username can only contain alphanumeric characters and underscores</p>\n</blockquote>\n<pre><code>if (valid) {\n    for (int  i = 0; i &lt; userName.length(); i++) {\n        boolean temp = c\n        Character c = userName.charAt(i);\n        valid = Character.isLetterOrDigit(c);\n        // before invalidating, check to see if it is an underscore\n        if (!valid) {\n            valid = c == '_';\n            if (!valid)\n                break;\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>The first character of the username must be an alphabetic character</p>\n</blockquote>\n<pre><code>if (valid) {\n    valid = Character.isLetter(userName.charAt(0));\n}\n</code></pre>\n<p>Once you execute all validation steps, simply <code>return valid;</code>. On a side note, you can check the rule of the first character while looping to check the validity of the remaining character. I just did separate checks for clarity and for separating all three requirements for validation.</p>\n<p>LASTLY, I want to point out this is most likely NOT the most optimal solution for non-regex. However, I broke it down in these steps because I feel strongly that as a beginner developer, you should attack problems in this manner: first break down the problem into individual, smaller problems. Then, come up to the solution of each independently, and lastly, integrate the smaller solutions into the final product.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641793699,"creation_date":1641740425,"answer_id":70642506,"question_id":70642136,"body_markdown":"Note that methods in class `java.lang.Character`, such as `isLetterOrDigit`, will check for characters (or digits) in **any** language.\r\n\r\nSince your question stipulates that the digits must be those commonly referred to as [arabic numerals][1] and the letters must be those in the [English alphabet][2], the below code uses the [unicode code points][3] of each character in the user-entered `userName`.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n    private static final Scanner scan = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        String result;\r\n        int n = Integer.parseInt(scan.nextLine());\r\n        while (n-- != 0) {\r\n            result = &quot;invalid&quot;;\r\n            String userName = scan.nextLine();\r\n            int len = userName.length();\r\n            if (len &gt;= 8  &amp;&amp;  len &lt;= 30) {\r\n                char[] letters = userName.toCharArray();\r\n                if ((letters[0] &gt;= 65  &amp;&amp;  letters[0] &lt;= 90)  ||  (letters[0] &gt;= 97  &amp;&amp;  letters[0] &lt;= 122)) {\r\n                    int i = 1;\r\n                    for (; i &lt; len; i++) {\r\n                        if ((letters[i] &gt;= 48  &amp;&amp;  letters[i] &lt;= 57)  ||\r\n                            (letters[i] &gt;= 65  &amp;&amp;  letters[i] &lt;= 90)  ||\r\n                            (letters[i] &gt;= 97  &amp;&amp;  letters[0] &lt;= 122) ||\r\n                            (letters[i] == 95)) {\r\n                            continue;\r\n                        }\r\n                        break;\r\n                    }\r\n                    if (i == len) {\r\n                        result = &quot;valid&quot;;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(result);\r\n        }\r\n    }\r\n}\r\n```\r\nEdit\r\n----\r\nJust for the sake of it, here is a solution that uses the [stream API][4].\r\n``` lang-java\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n    private static final Scanner scan = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        String result;\r\n        int n = Integer.parseInt(scan.nextLine());\r\n        while (n-- != 0) {\r\n            result = &quot;invalid&quot;;\r\n            String userName = scan.nextLine();\r\n            int len = userName.length();\r\n            if (len &gt;= 8  &amp;&amp;  len &lt;= 30) {\r\n                char letter = userName.charAt(0);\r\n                if ((letter &gt;= 65 &amp;&amp; letter &lt;= 90) || (letter &gt;= 97 &amp;&amp; letter &lt;= 122)) {\r\n                    if (userName.chars()\r\n                                .skip(1L)\r\n                                .allMatch(c -&gt; (c &gt;= 48  &amp;&amp;  c &lt;= 57)  || // c is a digit\r\n                                               (c &gt;= 65  &amp;&amp;  c &lt;= 90)  || // c is uppercase letter\r\n                                               (c &gt;= 97  &amp;&amp;  c &lt;= 122) || // c is lowercase letter\r\n                                               (c == 95))) { // c is underscore\r\n                        result = &quot;valid&quot;;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(result);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Arabic_numerals\r\n  [2]: https://en.wikipedia.org/wiki/English_alphabet\r\n  [3]: https://en.wikipedia.org/wiki/Unicode#Architecture_and_terminology\r\n  [4]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html","title":"Valid Username without Regex","body":"<p>Note that methods in class <code>java.lang.Character</code>, such as <code>isLetterOrDigit</code>, will check for characters (or digits) in <strong>any</strong> language.</p>\n<p>Since your question stipulates that the digits must be those commonly referred to as <a href=\"https://en.wikipedia.org/wiki/Arabic_numerals\" rel=\"nofollow noreferrer\">arabic numerals</a> and the letters must be those in the <a href=\"https://en.wikipedia.org/wiki/English_alphabet\" rel=\"nofollow noreferrer\">English alphabet</a>, the below code uses the <a href=\"https://en.wikipedia.org/wiki/Unicode#Architecture_and_terminology\" rel=\"nofollow noreferrer\">unicode code points</a> of each character in the user-entered <code>userName</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Solution {\n    private static final Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        String result;\n        int n = Integer.parseInt(scan.nextLine());\n        while (n-- != 0) {\n            result = &quot;invalid&quot;;\n            String userName = scan.nextLine();\n            int len = userName.length();\n            if (len &gt;= 8  &amp;&amp;  len &lt;= 30) {\n                char[] letters = userName.toCharArray();\n                if ((letters[0] &gt;= 65  &amp;&amp;  letters[0] &lt;= 90)  ||  (letters[0] &gt;= 97  &amp;&amp;  letters[0] &lt;= 122)) {\n                    int i = 1;\n                    for (; i &lt; len; i++) {\n                        if ((letters[i] &gt;= 48  &amp;&amp;  letters[i] &lt;= 57)  ||\n                            (letters[i] &gt;= 65  &amp;&amp;  letters[i] &lt;= 90)  ||\n                            (letters[i] &gt;= 97  &amp;&amp;  letters[0] &lt;= 122) ||\n                            (letters[i] == 95)) {\n                            continue;\n                        }\n                        break;\n                    }\n                    if (i == len) {\n                        result = &quot;valid&quot;;\n                    }\n                }\n            }\n            System.out.println(result);\n        }\n    }\n}\n</code></pre>\n<h2>Edit</h2>\n<p>Just for the sake of it, here is a solution that uses the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Solution {\n    private static final Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        String result;\n        int n = Integer.parseInt(scan.nextLine());\n        while (n-- != 0) {\n            result = &quot;invalid&quot;;\n            String userName = scan.nextLine();\n            int len = userName.length();\n            if (len &gt;= 8  &amp;&amp;  len &lt;= 30) {\n                char letter = userName.charAt(0);\n                if ((letter &gt;= 65 &amp;&amp; letter &lt;= 90) || (letter &gt;= 97 &amp;&amp; letter &lt;= 122)) {\n                    if (userName.chars()\n                                .skip(1L)\n                                .allMatch(c -&gt; (c &gt;= 48  &amp;&amp;  c &lt;= 57)  || // c is a digit\n                                               (c &gt;= 65  &amp;&amp;  c &lt;= 90)  || // c is uppercase letter\n                                               (c &gt;= 97  &amp;&amp;  c &lt;= 122) || // c is lowercase letter\n                                               (c == 95))) { // c is underscore\n                        result = &quot;valid&quot;;\n                    }\n                }\n            }\n            System.out.println(result);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9607071,"reputation":384,"user_id":7132774,"display_name":"Dave Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686083116,"creation_date":1686083116,"answer_id":76418205,"question_id":70642136,"body_markdown":"Not the best solution but you can simply update the range of number of characters. Here&#39;s an example of regex.\r\n```\r\n/^(?=.{6,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?&lt;![_.])$/\r\n```\r\n","title":"Valid Username without Regex","body":"<p>Not the best solution but you can simply update the range of number of characters. Here's an example of regex.</p>\n<pre><code>/^(?=.{6,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?&lt;![_.])$/\n</code></pre>\n"}],"owner":{"account_id":23860783,"reputation":33,"user_id":17863763,"display_name":"Suhas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1995,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1686083116,"creation_date":1641737819,"question_id":70642136,"body_markdown":"The Question is to check a valid username:\r\n\r\nConditions are:\r\n\r\n1.The username consists of 8 to 30 characters inclusive. If the username consists of less than 8 or greater than 30 characters, then it is an invalid username.\r\n\r\n2.The username can only contain alphanumeric characters and underscores (_). Alphanumeric characters describe the character set consisting of lowercase characters [a-z], uppercase characters [A-Z], and digits [0-9].\r\n\r\n3.The first character of the username must be an alphabetic character, i.e., either lowercase character [a-z] or uppercase character [A-Z].\r\n\r\nSample Input:\r\n\r\n8\r\n\r\nJulia\r\n\r\nSamantha\r\n\r\nSamantha_21\r\n\r\n1Samantha\r\n\r\nSamantha?10_2A\r\n\r\nJuliaZ007\r\n\r\nJulia@007\r\n\r\n_Julia007\r\n\r\nSample Output:\r\n\r\nInvalid\r\n\r\nValid\r\n\r\nValid\r\n\r\nInvalid\r\n\r\nInvalid\r\n\r\nValid\r\n\r\nInvalid\r\n\r\nInvalid\r\n\r\nI am getting wrong output to some cases.\r\n\r\nFor Input: JuliaZ007 , I should get Valid but getting Invalid. Remaining are correct.\r\n\r\nCan I know what&#39;s wrong in the code.\r\n\r\n\r\n\r\n&lt;https://www.hackerrank.com/challenges/valid-username-checker/problem?isFullScreen=false&gt;\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n    public class Solution {\r\n    private static final Scanner scan = new Scanner(System.in);\r\n    \r\n    public static void main(String[] args) {\r\n        int flag=1;\r\n        int n = Integer.parseInt(scan.nextLine());\r\n        while (n-- != 0) {\r\n            String userName = scan.nextLine();\r\n            char a[] = userName.toCharArray();\r\n            String specialCharactersString = &quot;!@#$%&amp;*()&#39;+,-./:;&lt;=&gt;?[]^`{|}&quot;;\r\n            for (int i=0;i&lt;userName.length();i++)\r\n            {\r\n            char ch = userName.charAt(i);\r\n            if(specialCharactersString.contains(Character.toString(ch)) &amp;&amp; Character.isLetterOrDigit(ch)==false) \r\n            {\r\n                flag=0;\r\n            }\r\n            }\r\n            if (userName.length()&gt;=8 &amp;&amp; userName.length()&lt;=30 &amp;&amp; Character.isLetter(a[0])==true &amp;&amp; flag==1)                   {\r\n                System.out.println(&quot;Valid&quot;);\r\n            } else {\r\n                System.out.println(&quot;InValid&quot;);\r\n            }           \r\n        }\r\n    }\r\n}\r\n","title":"Valid Username without Regex","body":"<p>The Question is to check a valid username:</p>\n<p>Conditions are:</p>\n<p>1.The username consists of 8 to 30 characters inclusive. If the username consists of less than 8 or greater than 30 characters, then it is an invalid username.</p>\n<p>2.The username can only contain alphanumeric characters and underscores (_). Alphanumeric characters describe the character set consisting of lowercase characters [a-z], uppercase characters [A-Z], and digits [0-9].</p>\n<p>3.The first character of the username must be an alphabetic character, i.e., either lowercase character [a-z] or uppercase character [A-Z].</p>\n<p>Sample Input:</p>\n<p>8</p>\n<p>Julia</p>\n<p>Samantha</p>\n<p>Samantha_21</p>\n<p>1Samantha</p>\n<p>Samantha?10_2A</p>\n<p>JuliaZ007</p>\n<p>Julia@007</p>\n<p>_Julia007</p>\n<p>Sample Output:</p>\n<p>Invalid</p>\n<p>Valid</p>\n<p>Valid</p>\n<p>Invalid</p>\n<p>Invalid</p>\n<p>Valid</p>\n<p>Invalid</p>\n<p>Invalid</p>\n<p>I am getting wrong output to some cases.</p>\n<p>For Input: JuliaZ007 , I should get Valid but getting Invalid. Remaining are correct.</p>\n<p>Can I know what's wrong in the code.</p>\n<p><a href=\"https://www.hackerrank.com/challenges/valid-username-checker/problem?isFullScreen=false\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/valid-username-checker/problem?isFullScreen=false</a></p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Solution {\nprivate static final Scanner scan = new Scanner(System.in);\n\npublic static void main(String[] args) {\n    int flag=1;\n    int n = Integer.parseInt(scan.nextLine());\n    while (n-- != 0) {\n        String userName = scan.nextLine();\n        char a[] = userName.toCharArray();\n        String specialCharactersString = &quot;!@#$%&amp;*()'+,-./:;&lt;=&gt;?[]^`{|}&quot;;\n        for (int i=0;i&lt;userName.length();i++)\n        {\n        char ch = userName.charAt(i);\n        if(specialCharactersString.contains(Character.toString(ch)) &amp;&amp; Character.isLetterOrDigit(ch)==false) \n        {\n            flag=0;\n        }\n        }\n        if (userName.length()&gt;=8 &amp;&amp; userName.length()&lt;=30 &amp;&amp; Character.isLetter(a[0])==true &amp;&amp; flag==1)                   {\n            System.out.println(&quot;Valid&quot;);\n        } else {\n            System.out.println(&quot;InValid&quot;);\n        }           \n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","concurrency","atomicreference"],"comments":[{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1686083767,"post_id":76418134,"comment_id":134750147,"body_markdown":"Do you want object to be updated exactly once - on the first failure?","body":"Do you want object to be updated exactly once - on the first failure?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686084094,"post_id":76418134,"comment_id":134750204,"body_markdown":"What&#39;s wrong with a simple `volatile` reference?","body":"What&#39;s wrong with a simple <code>volatile</code> reference?"},{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":0,"creation_date":1686084879,"post_id":76418134,"comment_id":134750357,"body_markdown":"@G.Domozhirov that’s correct. I would like to have it updated only once and keep using it as is until next failure.","body":"@G.Domozhirov that’s correct. I would like to have it updated only once and keep using it as is until next failure."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686084996,"post_id":76418134,"comment_id":134750376,"body_markdown":"That&#39;s the opposite of what he said.","body":"That&#39;s the opposite of what he said."},{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":0,"creation_date":1686085086,"post_id":76418134,"comment_id":134750395,"body_markdown":"@shmosel is this for me? Not sure if that’s opposite. Explain if so please.","body":"@shmosel is this for me? Not sure if that’s opposite. Explain if so please."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686085140,"post_id":76418134,"comment_id":134750405,"body_markdown":"@G.Domozhirov asked if you&#39;re updating it only on the first failure and the answer is, no, you&#39;re updating it on every failure.","body":"@G.Domozhirov asked if you&#39;re updating it only on the first failure and the answer is, no, you&#39;re updating it on every failure."},{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":0,"creation_date":1686085313,"post_id":76418134,"comment_id":134750439,"body_markdown":"After a failure happens, in order to use it one has to update the value. I believe your argument is more of philosophical. The aim is pretty clear I suppose.","body":"After a failure happens, in order to use it one has to update the value. I believe your argument is more of philosophical. The aim is pretty clear I suppose."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1686085367,"post_id":76418134,"comment_id":134750445,"body_markdown":"Anyway, you could use both volatile and AtomicReference.","body":"Anyway, you could use both volatile and AtomicReference."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686107546,"post_id":76418134,"comment_id":134752419,"body_markdown":"@shmosel, technically it wouldn&#39;t be updated if it didn&#39;t fail.  They&#39;re saying that they are checking the value before updating it.","body":"@shmosel, technically it wouldn&#39;t be updated if it didn&#39;t fail.  They&#39;re saying that they are checking the value before updating it."}],"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686082953,"creation_date":1686082583,"question_id":76418134,"body_markdown":"I have a scenario where threads using single object and in case of a failure, update object once and other getters/threads uses the new updated object. \r\n\r\nI am planning to use AtomicReference but not sure if updateAndGet makes sure of achieving this.\r\n\r\nI am open to use guave etc too. \r\n\r\nCan you provide an example for this ?","title":"Java threadsafe single update","body":"<p>I have a scenario where threads using single object and in case of a failure, update object once and other getters/threads uses the new updated object.</p>\n<p>I am planning to use AtomicReference but not sure if updateAndGet makes sure of achieving this.</p>\n<p>I am open to use guave etc too.</p>\n<p>Can you provide an example for this ?</p>\n"},{"tags":["java","android","admob"],"comments":[{"owner":{"account_id":8423539,"reputation":3750,"user_id":6770343,"accept_rate":77,"display_name":"Suraj Bahadur"},"score":0,"creation_date":1556019886,"post_id":55810273,"comment_id":98287961,"body_markdown":"It takes time to load real ads on the device and the alternate way to test it to install it on other devices.","body":"It takes time to load real ads on the device and the alternate way to test it to install it on other devices."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1556021380,"post_id":55810273,"comment_id":98288767,"body_markdown":"`AdRequest` also provide a listener . Set a listener and Check Error Code .","body":"<code>AdRequest</code> also provide a listener . Set a listener and Check Error Code ."},{"owner":{"display_name":"user11359248"},"score":0,"creation_date":1556023875,"post_id":55810273,"comment_id":98290071,"body_markdown":"logcat: I/Ads: Use AdRequest.Builder.addTestDevice(&quot;3D3E1F542ADD0C690202584E49A7D658&quot;) to get test ads on this device.","body":"logcat: I/Ads: Use AdRequest.Builder.addTestDevice(&quot;3D3E1F542ADD0C690202584E49A&zwnj;&#8203;7D658&quot;) to get test ads on this device."},{"owner":{"account_id":1632054,"reputation":2618,"user_id":1506395,"display_name":"Rajesh"},"score":0,"creation_date":1556103119,"post_id":55810273,"comment_id":98321245,"body_markdown":"You need to setup payment method for real Ads","body":"You need to setup payment method for real Ads"},{"owner":{"display_name":"user11359248"},"score":0,"creation_date":1556123275,"post_id":55810273,"comment_id":98333807,"body_markdown":"Thank you all so much for help I find out the error and now it works!","body":"Thank you all so much for help I find out the error and now it works!"}],"answers":[{"comments":[{"owner":{"display_name":"user11359248"},"score":0,"creation_date":1556023632,"post_id":55811150,"comment_id":98289934,"body_markdown":"now it shows me that in the logcat  E/onAdFailedToLoad: 0","body":"now it shows me that in the logcat  E/onAdFailedToLoad: 0"},{"owner":{"account_id":13820960,"reputation":390,"user_id":9976418,"display_name":"Mahendra Gohil"},"score":0,"creation_date":1556088042,"post_id":55811150,"comment_id":98312953,"body_markdown":"@julianpjp - now try to remove addTestDevice and you will get the error code or You just need to wait a little. Your ad id is newly created so it will take some time to fetch ads from google servers. So give it some time and it will work soon. At least for me, it happens all the time. Can&#39;t surely say for you but why not give it a try?","body":"@julianpjp - now try to remove addTestDevice and you will get the error code or You just need to wait a little. Your ad id is newly created so it will take some time to fetch ads from google servers. So give it some time and it will work soon. At least for me, it happens all the time. Can&#39;t surely say for you but why not give it a try?"}],"tags":[],"owner":{"account_id":13820960,"reputation":390,"user_id":9976418,"display_name":"Mahendra Gohil"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556022178,"creation_date":1556022178,"answer_id":55811150,"question_id":55810273,"body_markdown":"please try to add testDevice in adRequest, this works for me.\r\n\r\n    AdRequest adRequest = new AdRequest.Builder()\r\n                        .addTestDevice(AdRequest.DEVICE_ID_EMULATOR)\r\n                        .build();\r\n\r\nyou can also create adlistener to track your ads.\r\n\r\n    mAdView.setAdListener(new com.google.android.gms.ads.AdListener() {\r\n                    @Override\r\n                    public void onAdLoaded() {\r\n                        super.onAdLoaded();\r\n                        Log.e(&quot;onAdLoaded&quot;,&quot;AdLoaded&quot;);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToLoad(int errorCode) {\r\n                        super.onAdFailedToLoad(errorCode);\r\n                        Log.e(&quot;onAdFailedToLoad&quot;,&quot;&quot;+errorCode);\r\n                            \r\n                    }\r\n                });\r\n                mAdView.loadAd(adRequest);","title":"Admob banner not showing but with test id it shows","body":"<p>please try to add testDevice in adRequest, this works for me.</p>\n\n<pre><code>AdRequest adRequest = new AdRequest.Builder()\n                    .addTestDevice(AdRequest.DEVICE_ID_EMULATOR)\n                    .build();\n</code></pre>\n\n<p>you can also create adlistener to track your ads.</p>\n\n<pre><code>mAdView.setAdListener(new com.google.android.gms.ads.AdListener() {\n                @Override\n                public void onAdLoaded() {\n                    super.onAdLoaded();\n                    Log.e(\"onAdLoaded\",\"AdLoaded\");\n                }\n\n                @Override\n                public void onAdFailedToLoad(int errorCode) {\n                    super.onAdFailedToLoad(errorCode);\n                    Log.e(\"onAdFailedToLoad\",\"\"+errorCode);\n\n                }\n            });\n            mAdView.loadAd(adRequest);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6817376,"reputation":1524,"user_id":5245571,"display_name":"Marco Aurelio Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586647770,"creation_date":1586647770,"answer_id":61164974,"question_id":55810273,"body_markdown":"Did you add the meta-data inside the tag application \r\n\r\n`&lt;!-- Sample AdMob App ID: ca-app-pub-3940256099942544~3347511713 --&gt;\r\n&lt;application&gt;....\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot;/&gt;`","title":"Admob banner not showing but with test id it shows","body":"<p>Did you add the meta-data inside the tag application </p>\n\n<p><code>&lt;!-- Sample AdMob App ID: ca-app-pub-3940256099942544~3347511713 --&gt;\n&lt;application&gt;....\n        &lt;meta-data\n            android:name=\"com.google.android.gms.ads.APPLICATION_ID\"\n            android:value=\"ca-app-pub-3940256099942544~3347511713\"/&gt;</code></p>\n"}],"owner":{"display_name":"user11359248"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686082952,"creation_date":1556019184,"question_id":55810273,"body_markdown":"Hey guys I am pretty new in android studio but I have code an app which I have uploaded in google play store. My Problem is that I implemented a google admob banner and if I use a test id it show but when I put my real id in the code it not show. I also have wait 7 days and I tested it on 4 devices.\r\n\r\nHere is how I implemented the banner and the output of the logcat.\r\nonCreate method\r\n\r\n    MobileAds.initialize(this, &quot;ca-app-pub-2068566232482245~4672139653&quot;);\r\n            mAdView = findViewById(R.id.adView);\r\n            AdRequest adRequest = new AdRequest.Builder().build();\r\n            mAdView.loadAd(adRequest);\r\n\r\nxml layout code \r\n\r\n        &lt;com.google.android.gms.ads.AdView\r\n            android:id=&quot;@+id/adView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginLeft=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;648dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginRight=&quot;8dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            app:adSize=&quot;LARGE_BANNER&quot;\r\n            app:adUnitId=&quot;ca-app-pub-2068566232482245/9043517552&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.493&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;1.0&quot; /&gt;\r\n\r\n build file\r\n\r\n      dependencies {\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        implementation &#39;com.android.support:appcompat-v7:27.0.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:17.2.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n    \r\n    }\r\n\r\nlogcat\r\n\r\n     2019-04-19 22:13:38.962 12794-12887/de.androidnewcomer.quizallgemeinwissen D/libEGL: loaded /vendor/lib64/egl/libGLES_mali.so\r\n    2019-04-19 22:13:39.165 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Unsupported class loader\r\n    2019-04-19 22:13:39.284 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Skipping duplicate class check due to unsupported classloader\r\n    2019-04-19 22:13:39.289 12794-12875/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:11210\r\n    2019-04-19 22:13:39.289 12794-12875/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 11210\r\n    2019-04-19 22:13:39.365 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Unsupported class loader\r\n    2019-04-19 22:13:39.379 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Skipping duplicate class check due to unsupported classloader\r\n    2019-04-19 22:13:39.444 12794-12910/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Unsupported class loader\r\n    2019-04-19 22:13:39.452 12794-12910/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Skipping duplicate class check due to unsupported classloader\r\n    2019-04-19 22:13:39.717 12794-12943/de.androidnewcomer.quizallgemeinwissen I/Ads: App measurement is starting up, version: 14711\r\n    2019-04-19 22:13:39.717 12794-12943/de.androidnewcomer.quizallgemeinwissen I/Ads: To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\r\n    2019-04-19 22:13:41.348 12794-12794/de.androidnewcomer.quizallgemeinwissen W/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@c6fa434\r\n    2019-04-19 22:13:41.374 12794-12910/de.androidnewcomer.quizallgemeinwissen W/Ads: Got on activity created\r\n    2019-04-19 22:13:41.459 12794-12794/de.androidnewcomer.quizallgemeinwissen I/allgemeinwisse: The ClassLoaderContext is a special shared library.\r\n    2019-04-19 22:13:41.468 12794-12794/de.androidnewcomer.quizallgemeinwissen I/allgemeinwisse: The ClassLoaderContext is a special shared library.\r\n    2019-04-19 22:13:41.531 12794-12794/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:11210\r\n    2019-04-19 22:13:41.532 12794-12794/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 11210\r\n    2019-04-19 22:13:41.536 12794-12794/de.androidnewcomer.quizallgemeinwissen D/DynamitePackage: Instantiating com.google.android.gms.ads.ChimeraMobileAdsSettingManagerCreatorImpl\r\n    2019-04-19 22:13:41.570 12794-12794/de.androidnewcomer.quizallgemeinwissen I/Ads: Updating ad debug logging enablement.\r\n    2019-04-19 22:13:41.594 12794-12794/de.androidnewcomer.quizallgemeinwissen I/WebViewFactory: Loading com.android.chrome version 73.0.3683.90 (code 368309052)\r\n    2019-04-19 22:13:41.694 12794-12794/de.androidnewcomer.quizallgemeinwissen I/cr_LibraryLoader: Time to load native libraries: 4 ms (timestamps 6897-6901)\r\n    2019-04-19 22:13:41.725 12794-12794/de.androidnewcomer.quizallgemeinwissen I/chromium: [INFO:library_loader_hooks.cc(50)] Chromium logging enabled: level = 0, default verbosity = 0\r\n    2019-04-19 22:13:41.726 12794-12794/de.androidnewcomer.quizallgemeinwissen I/cr_LibraryLoader: Expected native library version number &quot;73.0.3683.90&quot;, actual native library version number &quot;73.0.3683.90&quot;\r\n    2019-04-19 22:13:42.025 12794-12794/de.androidnewcomer.quizallgemeinwissen D/DynamitePackage: Instantiating com.google.android.gms.ads.ChimeraAdManagerCreatorImpl\r\n    2019-04-19 22:13:42.044 12794-12794/de.androidnewcomer.quizallgemeinwissen I/Ads: Use AdRequest.Builder.addTestDevice(&quot;3D3E1F542ADD0C690202584E49A7D658&quot;) to get test ads on this device.\r\n    2019-04-19 22:13:42.097 12794-13205/de.androidnewcomer.quizallgemeinwissen W/Ads: Invoke Firebase method getInstance error.\r\n    2019-04-19 22:13:42.097 12794-13205/de.androidnewcomer.quizallgemeinwissen W/Ads: The Google Mobile Ads SDK will not integrate with Firebase. Admob/Firebase integration requires the latest Firebase SDK jar, but Firebase SDK is either missing or out of date\r\n    2019-04-19 22:13:42.105 12794-13151/de.androidnewcomer.quizallgemeinwissen I/allgemeinwisse: The ClassLoaderContext is a special shared library.\r\n    2019-04-19 22:13:42.112 12794-13206/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:11210\r\n    2019-04-19 22:13:42.112 12794-13206/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 11210\r\n    2019-04-19 22:13:42.254 12794-13153/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Accessing hidden field Ljava/nio/Buffer;-&gt;address:J (light greylist, reflection)\r\n    2019-04-19 22:13:42.273 12794-13151/de.androidnewcomer.quizallgemeinwissen W/Ads: Not retrying to fetch app settings\r\n    2019-04-19 22:13:42.360 12794-12794/de.androidnewcomer.quizallgemeinwissen I/Choreographer: Skipped 59 frames!  The application may be doing too much work on its main thread.\r\n    2019-04-19 22:13:42.434 12794-13152/de.androidnewcomer.quizallgemeinwissen W/Ads: Update ad debug logging enablement as false\r\n    2019-04-19 22:13:42.884 12794-12794/de.androidnewcomer.quizallgemeinwissen D/ViewRootImpl@582a837[MainActivity]: Surface release. an\r\n\r\n","title":"Admob banner not showing but with test id it shows","body":"<p>Hey guys I am pretty new in android studio but I have code an app which I have uploaded in google play store. My Problem is that I implemented a google admob banner and if I use a test id it show but when I put my real id in the code it not show. I also have wait 7 days and I tested it on 4 devices.</p>\n\n<p>Here is how I implemented the banner and the output of the logcat.\nonCreate method</p>\n\n<pre><code>MobileAds.initialize(this, \"ca-app-pub-2068566232482245~4672139653\");\n        mAdView = findViewById(R.id.adView);\n        AdRequest adRequest = new AdRequest.Builder().build();\n        mAdView.loadAd(adRequest);\n</code></pre>\n\n<p>xml layout code </p>\n\n<pre><code>    &lt;com.google.android.gms.ads.AdView\n        android:id=\"@+id/adView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginLeft=\"8dp\"\n        android:layout_marginTop=\"648dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginRight=\"8dp\"\n        android:layout_marginBottom=\"8dp\"\n        app:adSize=\"LARGE_BANNER\"\n        app:adUnitId=\"ca-app-pub-2068566232482245/9043517552\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.493\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"1.0\" /&gt;\n</code></pre>\n\n<p>build file</p>\n\n<pre><code>  dependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'com.android.support:appcompat-v7:27.0.0'\n    implementation 'com.google.android.gms:play-services-ads:17.2.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n}\n</code></pre>\n\n<p>logcat</p>\n\n<pre><code> 2019-04-19 22:13:38.962 12794-12887/de.androidnewcomer.quizallgemeinwissen D/libEGL: loaded /vendor/lib64/egl/libGLES_mali.so\n2019-04-19 22:13:39.165 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Unsupported class loader\n2019-04-19 22:13:39.284 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Skipping duplicate class check due to unsupported classloader\n2019-04-19 22:13:39.289 12794-12875/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:11210\n2019-04-19 22:13:39.289 12794-12875/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 11210\n2019-04-19 22:13:39.365 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Unsupported class loader\n2019-04-19 22:13:39.379 12794-12875/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Skipping duplicate class check due to unsupported classloader\n2019-04-19 22:13:39.444 12794-12910/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Unsupported class loader\n2019-04-19 22:13:39.452 12794-12910/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Skipping duplicate class check due to unsupported classloader\n2019-04-19 22:13:39.717 12794-12943/de.androidnewcomer.quizallgemeinwissen I/Ads: App measurement is starting up, version: 14711\n2019-04-19 22:13:39.717 12794-12943/de.androidnewcomer.quizallgemeinwissen I/Ads: To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\n2019-04-19 22:13:41.348 12794-12794/de.androidnewcomer.quizallgemeinwissen W/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@c6fa434\n2019-04-19 22:13:41.374 12794-12910/de.androidnewcomer.quizallgemeinwissen W/Ads: Got on activity created\n2019-04-19 22:13:41.459 12794-12794/de.androidnewcomer.quizallgemeinwissen I/allgemeinwisse: The ClassLoaderContext is a special shared library.\n2019-04-19 22:13:41.468 12794-12794/de.androidnewcomer.quizallgemeinwissen I/allgemeinwisse: The ClassLoaderContext is a special shared library.\n2019-04-19 22:13:41.531 12794-12794/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:11210\n2019-04-19 22:13:41.532 12794-12794/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 11210\n2019-04-19 22:13:41.536 12794-12794/de.androidnewcomer.quizallgemeinwissen D/DynamitePackage: Instantiating com.google.android.gms.ads.ChimeraMobileAdsSettingManagerCreatorImpl\n2019-04-19 22:13:41.570 12794-12794/de.androidnewcomer.quizallgemeinwissen I/Ads: Updating ad debug logging enablement.\n2019-04-19 22:13:41.594 12794-12794/de.androidnewcomer.quizallgemeinwissen I/WebViewFactory: Loading com.android.chrome version 73.0.3683.90 (code 368309052)\n2019-04-19 22:13:41.694 12794-12794/de.androidnewcomer.quizallgemeinwissen I/cr_LibraryLoader: Time to load native libraries: 4 ms (timestamps 6897-6901)\n2019-04-19 22:13:41.725 12794-12794/de.androidnewcomer.quizallgemeinwissen I/chromium: [INFO:library_loader_hooks.cc(50)] Chromium logging enabled: level = 0, default verbosity = 0\n2019-04-19 22:13:41.726 12794-12794/de.androidnewcomer.quizallgemeinwissen I/cr_LibraryLoader: Expected native library version number \"73.0.3683.90\", actual native library version number \"73.0.3683.90\"\n2019-04-19 22:13:42.025 12794-12794/de.androidnewcomer.quizallgemeinwissen D/DynamitePackage: Instantiating com.google.android.gms.ads.ChimeraAdManagerCreatorImpl\n2019-04-19 22:13:42.044 12794-12794/de.androidnewcomer.quizallgemeinwissen I/Ads: Use AdRequest.Builder.addTestDevice(\"3D3E1F542ADD0C690202584E49A7D658\") to get test ads on this device.\n2019-04-19 22:13:42.097 12794-13205/de.androidnewcomer.quizallgemeinwissen W/Ads: Invoke Firebase method getInstance error.\n2019-04-19 22:13:42.097 12794-13205/de.androidnewcomer.quizallgemeinwissen W/Ads: The Google Mobile Ads SDK will not integrate with Firebase. Admob/Firebase integration requires the latest Firebase SDK jar, but Firebase SDK is either missing or out of date\n2019-04-19 22:13:42.105 12794-13151/de.androidnewcomer.quizallgemeinwissen I/allgemeinwisse: The ClassLoaderContext is a special shared library.\n2019-04-19 22:13:42.112 12794-13206/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Considering local module com.google.android.gms.ads.dynamite:0 and remote module com.google.android.gms.ads.dynamite:11210\n2019-04-19 22:13:42.112 12794-13206/de.androidnewcomer.quizallgemeinwissen I/DynamiteModule: Selected remote version of com.google.android.gms.ads.dynamite, version &gt;= 11210\n2019-04-19 22:13:42.254 12794-13153/de.androidnewcomer.quizallgemeinwissen W/allgemeinwisse: Accessing hidden field Ljava/nio/Buffer;-&gt;address:J (light greylist, reflection)\n2019-04-19 22:13:42.273 12794-13151/de.androidnewcomer.quizallgemeinwissen W/Ads: Not retrying to fetch app settings\n2019-04-19 22:13:42.360 12794-12794/de.androidnewcomer.quizallgemeinwissen I/Choreographer: Skipped 59 frames!  The application may be doing too much work on its main thread.\n2019-04-19 22:13:42.434 12794-13152/de.androidnewcomer.quizallgemeinwissen W/Ads: Update ad debug logging enablement as false\n2019-04-19 22:13:42.884 12794-12794/de.androidnewcomer.quizallgemeinwissen D/ViewRootImpl@582a837[MainActivity]: Surface release. an\n</code></pre>\n"},{"tags":["java","apache-axis"],"comments":[{"owner":{"account_id":7814745,"reputation":417,"user_id":5909830,"display_name":"Purushothaman"},"score":0,"creation_date":1494331775,"post_id":9460864,"comment_id":74773924,"body_markdown":"Probably the best solution is given below. But if you are using maven project then you can remove the commons-logging by exclusion.\n&lt;dependency&gt;\n    &lt;groupId&gt;axis&lt;/groupId&gt;\n    &lt;artifactId&gt;axis&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n    \t&lt;exclusions&gt;\n\t        &lt;exclusion&gt; \n\t          \t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\n\t\t    \t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n     &lt;/exclusions&gt; \n&lt;/dependency&gt;","body":"Probably the best solution is given below. But if you are using maven project then you can remove the commons-logging by exclusion. &lt;dependency&gt;     &lt;groupId&gt;axis&lt;/groupId&gt;     &lt;artifactId&gt;axis&lt;/artifactId&gt;     &lt;version&gt;1.4&lt;/version&gt;     \t&lt;exclusions&gt; \t        &lt;exclusion&gt;  \t          \t&lt;groupId&gt;commons-logging&lt;/groupId&gt; \t\t    \t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;             &lt;/exclusion&gt;      &lt;/exclusions&gt;  &lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":330601,"reputation":24990,"user_id":654801,"display_name":"sbridges"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1330324977,"creation_date":1330324977,"answer_id":9461037,"question_id":9460864,"body_markdown":"There is a pretty detailed explanation of what the issue may be and ways to debug it in the [commons logging documentation][1].  Your particular issue may be,\r\n\r\n&gt; There is also another more unusual way in which this cast can fail:\r\n&gt; even when the binary is compatible, the implementation class loaded at\r\n&gt; runtime may be linked to a different instance of the LogFactory class.\r\n&gt; For more information, see the [tech guide][2].\r\n\r\n\r\n  [1]: http://commons.apache.org/logging/troubleshooting.html#The%20Incompatible%20LogFactory%20Issue\r\n  [2]: http://commons.apache.org/logging/tech.html","title":"common logging jar conflict with apache axis soap client","body":"<p>There is a pretty detailed explanation of what the issue may be and ways to debug it in the <a href=\"http://commons.apache.org/logging/troubleshooting.html#The%20Incompatible%20LogFactory%20Issue\">commons logging documentation</a>.  Your particular issue may be,</p>\n\n<blockquote>\n  <p>There is also another more unusual way in which this cast can fail:\n  even when the binary is compatible, the implementation class loaded at\n  runtime may be linked to a different instance of the LogFactory class.\n  For more information, see the <a href=\"http://commons.apache.org/logging/tech.html\">tech guide</a>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4613849,"reputation":91,"user_id":3741067,"display_name":"oliolioli"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1453388976,"creation_date":1453388976,"answer_id":34927311,"question_id":9460864,"body_markdown":"The Link to the above mentioned [Documentation][1] to section &quot;Fixes&quot; suggests to include\r\n\r\n     -Dorg.apache.commons.logging.LogFactory=org.apache.commons.logging.impl.LogFactoryImpl\r\nin your setup.\r\nFor some people it might be easier to include this code instead:\r\n\r\n    static\r\n    {\r\n        System.setProperty(LogFactory.FACTORY_PROPERTY, LogFactory.FACTORY_DEFAULT);\r\n    }\r\n\r\n  [1]: http://commons.apache.org/proper/commons-logging/troubleshooting.html#Fixes","title":"common logging jar conflict with apache axis soap client","body":"<p>The Link to the above mentioned <a href=\"http://commons.apache.org/proper/commons-logging/troubleshooting.html#Fixes\" rel=\"noreferrer\">Documentation</a> to section \"Fixes\" suggests to include</p>\n\n<pre><code> -Dorg.apache.commons.logging.LogFactory=org.apache.commons.logging.impl.LogFactoryImpl\n</code></pre>\n\n<p>in your setup.\nFor some people it might be easier to include this code instead:</p>\n\n<pre><code>static\n{\n    System.setProperty(LogFactory.FACTORY_PROPERTY, LogFactory.FACTORY_DEFAULT);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26939,"reputation":1253,"user_id":70553,"accept_rate":100,"display_name":"Ahi Tuna"},"score":2,"creation_date":1563230710,"post_id":39882916,"comment_id":100623199,"body_markdown":"This should be the accepted answer. Of all the suggestions here, this is the only one that worked for me!","body":"This should be the accepted answer. Of all the suggestions here, this is the only one that worked for me!"}],"tags":[],"owner":{"account_id":6587492,"reputation":165,"user_id":5089850,"accept_rate":100,"display_name":"Kim Tiago Baptista"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1475698501,"creation_date":1475698501,"answer_id":39882916,"question_id":9460864,"body_markdown":"None of this solutions worked for me. I figure out my solution in SLF4J documentation\r\n\r\nhttp://slf4j.org/faq.html#excludingJCL\r\n\r\n&gt; alternative 2) provided scope Commons-logging can be rather simply and\r\n&gt; conveniently excluded as a dependency by declaring it in the provided\r\n&gt; scope within the pom.xml file of your project. The actual\r\n&gt; commons-logging classes would be provided by jcl-over-slf4j. This\r\n&gt; translates into the following pom file snippet: \r\n\r\n    &lt;dependency&gt;  \r\n       &lt;groupId&gt;commons-logging&lt;/groupId&gt;  \r\n       &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n       &lt;version&gt;1.1.1&lt;/version&gt;  \r\n       &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt; \r\n    \r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;  \r\n       &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n       &lt;version&gt;1.7.21&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&gt; The first dependency declaration essentially states that\r\n&gt; commons-logging will be &quot;somehow&quot; provided by your environment. The\r\n&gt; second declaration includes jcl-over-slf4j into your project. As\r\n&gt; jcl-over-slf4j is a perfect binary-compatible replacement for\r\n&gt; commons-logging, the first assertion becomes true. Unfortunately,\r\n&gt; while declaring commons-logging in the provided scope gets the job\r\n&gt; done, your IDE, e.g. Eclipse, will still place commons-logging.jar on\r\n&gt; your project&#39;s class path as seen by your IDE. You would need to make\r\n&gt; sure that jcl-over-slf4j.jar is visible before commons-logging.jar by\r\n&gt; your IDE.\r\n\r\nSLF4J documentation gives more alternatives, this worked for me.","title":"common logging jar conflict with apache axis soap client","body":"<p>None of this solutions worked for me. I figure out my solution in SLF4J documentation</p>\n\n<p><a href=\"http://slf4j.org/faq.html#excludingJCL\" rel=\"noreferrer\">http://slf4j.org/faq.html#excludingJCL</a></p>\n\n<blockquote>\n  <p>alternative 2) provided scope Commons-logging can be rather simply and\n  conveniently excluded as a dependency by declaring it in the provided\n  scope within the pom.xml file of your project. The actual\n  commons-logging classes would be provided by jcl-over-slf4j. This\n  translates into the following pom file snippet: </p>\n</blockquote>\n\n<pre><code>&lt;dependency&gt;  \n   &lt;groupId&gt;commons-logging&lt;/groupId&gt;  \n   &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n   &lt;version&gt;1.1.1&lt;/version&gt;  \n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt; \n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.slf4j&lt;/groupId&gt;  \n   &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n   &lt;version&gt;1.7.21&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<blockquote>\n  <p>The first dependency declaration essentially states that\n  commons-logging will be \"somehow\" provided by your environment. The\n  second declaration includes jcl-over-slf4j into your project. As\n  jcl-over-slf4j is a perfect binary-compatible replacement for\n  commons-logging, the first assertion becomes true. Unfortunately,\n  while declaring commons-logging in the provided scope gets the job\n  done, your IDE, e.g. Eclipse, will still place commons-logging.jar on\n  your project's class path as seen by your IDE. You would need to make\n  sure that jcl-over-slf4j.jar is visible before commons-logging.jar by\n  your IDE.</p>\n</blockquote>\n\n<p>SLF4J documentation gives more alternatives, this worked for me.</p>\n"},{"comments":[{"owner":{"account_id":2450925,"reputation":1291,"user_id":2137237,"accept_rate":25,"display_name":"Markus Deibel"},"score":0,"creation_date":1568795781,"post_id":57987970,"comment_id":102384507,"body_markdown":"As already stated in the OP the error comes from 3rd party libs. So this is not a solution. Also how is this better than the answer that was accepted 7(!) years ago?","body":"As already stated in the OP the error comes from 3rd party libs. So this is not a solution. Also how is this better than the answer that was accepted 7(!) years ago?"},{"owner":{"account_id":2450925,"reputation":1291,"user_id":2137237,"accept_rate":25,"display_name":"Markus Deibel"},"score":0,"creation_date":1568809534,"post_id":57987970,"comment_id":102392314,"body_markdown":"In this case you should add this kind of context to the answer.","body":"In this case you should add this kind of context to the answer."}],"tags":[],"owner":{"account_id":3155402,"reputation":9,"user_id":2667922,"display_name":"basavaraj N"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568797287,"creation_date":1568794140,"answer_id":57987970,"question_id":9460864,"body_markdown":"Replace jcl-over-slf4j jar with commons-logging jar\r\n","title":"common logging jar conflict with apache axis soap client","body":"<p>Replace jcl-over-slf4j jar with commons-logging jar</p>\n"},{"tags":[],"owner":{"account_id":11573210,"reputation":774,"user_id":8479386,"display_name":"Karan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584245208,"creation_date":1584245208,"answer_id":60689645,"question_id":9460864,"body_markdown":"Probably its too late :-) but for me following worked. I am using spring boot and added it as  first line in the main methods. More explanation as suggested above is [here][1].\r\n\r\n\r\n\t\tSystem.setProperty(&quot;org.apache.commons.logging.LogFactory&quot;, &quot;org.apache.commons.logging.impl.LogFactoryImpl&quot;);\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-logging/troubleshooting.html#The%20Incompatible%20LogFactory%20Issue\r\n\r\n","title":"common logging jar conflict with apache axis soap client","body":"<p>Probably its too late :-) but for me following worked. I am using spring boot and added it as  first line in the main methods. More explanation as suggested above is <a href=\"http://commons.apache.org/proper/commons-logging/troubleshooting.html#The%20Incompatible%20LogFactory%20Issue\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>    System.setProperty(\"org.apache.commons.logging.LogFactory\", \"org.apache.commons.logging.impl.LogFactoryImpl\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15215084,"reputation":302,"user_id":10978688,"display_name":"selllami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686082549,"creation_date":1686082549,"answer_id":76418131,"question_id":9460864,"body_markdown":"In some cases, the Eclipse IDE automatically adds additional dependencies from plugins when generating `Web Service Client` classes. To resolve this issue, you need to check the project build path and ensure that there are no other plugin dependencies included, such as Axis, Commons Discovery, JAX-RPC, and others.\r\n\r\nTo do this, follow these steps:\r\n\r\n- Right-click on your project in Eclipse and select `Properties -&gt; Java Build Path -&gt; Libraries TAB`.\r\n- Here, you will see a list of dependencies included in your project&#39;s build path.\r\n- Check for any unwanted plugin dependencies (e.g., `axis`, `commons-discovery`, `jaxrpc`) in the list.\r\n- If you find any unwanted dependencies, select them and click the `Remove` button to remove them from the build path.\r\n\r\nBy `removing these unwanted plugin dependencies` from the build path, you can ensure that they are not included during the compilation and execution of your project.\r\n\r\nPlease note that this solution is specific to resolving the issue of unwanted plugin dependencies in the Eclipse IDE when generating `Web Service Client` classes.","title":"common logging jar conflict with apache axis soap client","body":"<p>In some cases, the Eclipse IDE automatically adds additional dependencies from plugins when generating <code>Web Service Client</code> classes. To resolve this issue, you need to check the project build path and ensure that there are no other plugin dependencies included, such as Axis, Commons Discovery, JAX-RPC, and others.</p>\n<p>To do this, follow these steps:</p>\n<ul>\n<li>Right-click on your project in Eclipse and select <code>Properties -&gt; Java Build Path -&gt; Libraries TAB</code>.</li>\n<li>Here, you will see a list of dependencies included in your project's build path.</li>\n<li>Check for any unwanted plugin dependencies (e.g., <code>axis</code>, <code>commons-discovery</code>, <code>jaxrpc</code>) in the list.</li>\n<li>If you find any unwanted dependencies, select them and click the <code>Remove</code> button to remove them from the build path.</li>\n</ul>\n<p>By <code>removing these unwanted plugin dependencies</code> from the build path, you can ensure that they are not included during the compilation and execution of your project.</p>\n<p>Please note that this solution is specific to resolving the issue of unwanted plugin dependencies in the Eclipse IDE when generating <code>Web Service Client</code> classes.</p>\n"}],"owner":{"account_id":1220499,"reputation":1377,"user_id":1187233,"display_name":"Maneesh Srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19219,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":9461037,"answer_count":6,"score":18,"last_activity_date":1686082549,"creation_date":1330323870,"question_id":9460864,"body_markdown":"I am getting this exception while trying to call SOAP webservice using axis. basically I have written a axis client.\r\n\r\n    org.apache.commons.discovery.DiscoveryException: Class org.apache.commons.logging.impl.SLF4JLogFactory does not implement org.apache.commons.logging.LogFactory.\r\n\r\n\r\nWhen I remove the all the common-logging jars, I would able to remove these errors but these jars are coming from other apis, i dont have control on them.\r\n\r\nIs there any way to overcome this problem?\r\n","title":"common logging jar conflict with apache axis soap client","body":"<p>I am getting this exception while trying to call SOAP webservice using axis. basically I have written a axis client.</p>\n\n<pre><code>org.apache.commons.discovery.DiscoveryException: Class org.apache.commons.logging.impl.SLF4JLogFactory does not implement org.apache.commons.logging.LogFactory.\n</code></pre>\n\n<p>When I remove the all the common-logging jars, I would able to remove these errors but these jars are coming from other apis, i dont have control on them.</p>\n\n<p>Is there any way to overcome this problem?</p>\n"},{"tags":["java","maven","environment-variables"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1686033498,"post_id":76411967,"comment_id":134739749,"body_markdown":"Did you try `echo %JAVA_HOME%` from the same prompt you&#39;re running maven?","body":"Did you try <code>echo %JAVA_HOME%</code> from the same prompt you&#39;re running maven?"},{"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"score":0,"creation_date":1686035518,"post_id":76411967,"comment_id":134740100,"body_markdown":"@matt \n```C:\\Users\\67444&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk-19\n\nC:\\Users\\67444&gt;\n```\nin other words, yes","body":"@matt  <code>C:\\Users\\67444&gt;echo %JAVA_HOME% C:\\Program Files\\Java\\jdk-19  C:\\Users\\67444&gt; </code> in other words, yes"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1686035702,"post_id":76411967,"comment_id":134740131,"body_markdown":"What about `%JAVA_HOME%/bin/java -version` ie is jkd-19 the correct root of your jdk?","body":"What about <code>%JAVA_HOME%&#47;bin&#47;java -version</code> ie is jkd-19 the correct root of your jdk?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686037943,"post_id":76411967,"comment_id":134740504,"body_markdown":"Also check `echo %PATH%` and make sure Maven and Java are right in that","body":"Also check <code>echo %PATH%</code> and make sure Maven and Java are right in that"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686038810,"post_id":76411967,"comment_id":134740674,"body_markdown":"After changing the environment have you ended the box and reopened it?","body":"After changing the environment have you ended the box and reopened it?"},{"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"score":0,"creation_date":1686039633,"post_id":76411967,"comment_id":134740838,"body_markdown":"@g00se i reedited original post, and yes, it&#39;s in path","body":"@g00se i reedited original post, and yes, it&#39;s in path"},{"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"score":0,"creation_date":1686039648,"post_id":76411967,"comment_id":134740842,"body_markdown":"@khmarbasie yes, i think. elaborate on what u mean","body":"@khmarbasie yes, i think. elaborate on what u mean"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686040117,"post_id":76411967,"comment_id":134740927,"body_markdown":"Can you post what you get at the command line? NB after edits to env vars, you will need a *new* instance of cmd.exe in otder to see your changes","body":"Can you post what you get at the command line? NB after edits to env vars, you will need a <i>new</i> instance of cmd.exe in otder to see your changes"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686040495,"post_id":76411967,"comment_id":134741003,"body_markdown":"1. check which exactly `mvn` you are running (in user home... (cmd: `where mvn`, in gitbash even better `which mvn`)) 2. clean your path from (jre) java 8 (first entry..all conflicting;)","body":"1. check which exactly <code>mvn</code> you are running (in user home... (cmd: <code>where mvn</code>, in gitbash even better <code>which mvn</code>)) 2. clean your path from (jre) java 8 (first entry..all conflicting;)"},{"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"score":0,"creation_date":1686044655,"post_id":76411967,"comment_id":134741926,"body_markdown":"@g00se exact same error after env var changes even in a new instance of cmd and restarting comp","body":"@g00se exact same error after env var changes even in a new instance of cmd and restarting comp"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1686045065,"post_id":76411967,"comment_id":134742028,"body_markdown":"It&#39;s not clear what is happening right now. Does `mvn --version` run and give you a valid path? does `java --version` run and use the correct java? Note, you don&#39;t really need the correct java on your path as long as JAVA_HOME points to the correct JDK then you&#39;re fine. What error are you getting when you try using mvn to compile something?","body":"It&#39;s not clear what is happening right now. Does <code>mvn --version</code> run and give you a valid path? does <code>java --version</code> run and use the correct java? Note, you don&#39;t really need the correct java on your path as long as JAVA_HOME points to the correct JDK then you&#39;re fine. What error are you getting when you try using mvn to compile something?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686045176,"post_id":76411967,"comment_id":134742053,"body_markdown":"*Make sure that the 19 jdk is FIRST in PATH*. At the moment it seems to be Java 8. First entry should be `%JAVA_HOME%\\bin` Could we please see the output of the following (posted as formatted code): `C:\\Users\\67444&gt;echo %JAVA_HOME%;echo %PATH%;mvn -version`","body":"<i>Make sure that the 19 jdk is FIRST in PATH</i>. At the moment it seems to be Java 8. First entry should be <code>%JAVA_HOME%\\bin</code> Could we please see the output of the following (posted as formatted code): <code>C:\\Users\\67444&gt;echo %JAVA_HOME%;echo %PATH%;mvn -version</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1686045332,"post_id":76411967,"comment_id":134742093,"body_markdown":"Probably the best way to test this is to use the [quickstart archetype](https://maven.apache.org/archetypes/maven-archetype-quickstart/) that way we don&#39;t have to worry about an error with your pom.xml","body":"Probably the best way to test this is to use the <a href=\"https://maven.apache.org/archetypes/maven-archetype-quickstart/\" rel=\"nofollow noreferrer\">quickstart archetype</a> that way we don&#39;t have to worry about an error with your pom.xml"},{"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"score":0,"creation_date":1686080344,"post_id":76411967,"comment_id":134749599,"body_markdown":"@matt running `mvn --version` yields the JAVA_HOME error. `java --version` says --version is unrecognized, but `java -version` is recognized. Also I am unable to execute this command `mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4` as anything following `mvn` will yield the JAVA_HOME ERROR","body":"@matt running <code>mvn --version</code> yields the JAVA_HOME error. <code>java --version</code> says --version is unrecognized, but <code>java -version</code> is recognized. Also I am unable to execute this command <code>mvn archetype:generate -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4</code> as anything following <code>mvn</code> will yield the JAVA_HOME ERROR"}],"answers":[{"tags":[],"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686082493,"creation_date":1686082493,"answer_id":76418124,"question_id":76411967,"body_markdown":"Fix:\r\nDon&#39;t be an idiot like me, double check your JDK. Although I had a jdk-19 installing in my Program Files, it only had 1 folder, `lib`, which was **empty**\r\n\r\nWhat I did:\r\n\r\nI just removed that and installed latest JDK (jdk-20) although just reinstall JDK if you&#39;re an idiot like me","title":"JAVA_HOME env still not defined correctly windows 10","body":"<p>Fix:\nDon't be an idiot like me, double check your JDK. Although I had a jdk-19 installing in my Program Files, it only had 1 folder, <code>lib</code>, which was <strong>empty</strong></p>\n<p>What I did:</p>\n<p>I just removed that and installed latest JDK (jdk-20) although just reinstall JDK if you're an idiot like me</p>\n"}],"owner":{"account_id":17981016,"reputation":87,"user_id":13067358,"display_name":"walid"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76418124,"answer_count":1,"score":0,"last_activity_date":1686082493,"creation_date":1686033005,"question_id":76411967,"body_markdown":"So recently I&#39;ve been trying to set up a project using maven. After I installing the binary zip, I added it to my path by adding `M2_HOME` as a var name and `C:\\Program Files\\apache-maven-3.9.2` as the var value in my **System Environment Variables**. To confirm, this does exist:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThen I added `JAVA_HOME` as a var name and `C:\\Program Files\\Java\\jdk-19` as the var value to my **System Env Variables** as well:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nNow, whenever I try running `mvn -version` or even `mvn` from terminal that is ran as admin and without admin permissions, I get:\r\n\r\n```\r\nC:\\Users\\67444&gt;mvn -verison\r\nThe JAVA_HOME environment variable is not defined correctly,\r\nthis environment variable is needed to run this program.\r\n\r\nC:\\Users\\67444&gt;\r\n```\r\n\r\nNote: Before I added JAVA_HOME, when I ran `mvn package` I got a compilation error saying that the compiler wasn&#39;t figured, meaning that marven was installed and working. So I decided to add JAVA_HOME and now it fully stopped working for some reason.\r\n\r\nOther Note:\r\nI have these two values in **System Path**:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI tried:\r\n\r\nRemoving both environment variables and re-adding them\r\nFully re-installing Maven and following the steps agains\r\n\r\nAny help would be appreciated :)\r\n\r\nEdit: My Path:\r\n[![enter image description here][4]][4]\r\n\r\nEdit: Request by g00se:\r\n\r\n    C:\\Users\\67444&gt;echo %JAVA_HOME%\r\n    C:\\Program Files\\Java\\jdk-19\\bin\r\n    \r\n    C:\\Users\\67444&gt;echo %PATH%\r\n    C:\\Program Files\\apache-maven-3.9.2\\bin;C:\\Program Files\\Java\\jdk-19\\bin;C:\\Program Files (x86)\\OpenJDK\\jre-8.0.292.10-hotspot\\bin;C:\\Program Files\\OpenJDK\\jdk-8.0.292.10-hotspot\\bin;C:\\Program Files (x86)\\OpenJDK\\jdk-8.0.362.09-hotspot\\bin;C:\\Program Files (x86)\\Razer\\ChromaBroadcast\\bin;C:\\Program Files\\Razer\\ChromaBroadcast\\bin;C:\\MinGW\\bin;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\WINDOWS\\system32;C:\\Users\\67444\\AppData\\Local\\Programs\\Python;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files\\Java\\jdk-19\\bin;C:\\WINDOWS\\system32\\config\\systemprofile\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\Program Files\\Git\\cmd;C:\\Users\\67444\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\67444\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\67444\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\67444\\AppData\\Local\\atom\\bin;C:\\Users\\67444\\.dotnet\\tools;C:\\Users\\67444\\AppData\\Local\\Programs\\Fiddler;C:\\Users\\67444\\AppData\\Roaming\\npm;&quot;;C:\\Program Files\\nodejs\\&quot;;C:\\Users\\67444\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\67444\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\67444\\.dotnet\\tools;C:\\Program Files\\MongoDB\\Server\\6.0\\bin;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.1.2\\bin;;C:\\Program Files\\apache-maven-3.9.2\\bin;C:\\Program Files\\Java\\jdk-19\\bin;\r\n    \r\n    C:\\Users\\67444&gt;mvn -version\r\n    The JAVA_HOME environment variable is not defined correctly,\r\n    this environment variable is needed to run this program.\r\n    \r\n    C:\\Users\\67444&gt;\r\n\r\nUPDATE:\r\nRemoving `JAVA_HOME` from my environment vars in both system and user result in this screen:\r\n[![enter image description here][5]][5]\r\n\r\nBut adding JAVA_HOME breaks it. Why?\r\n\r\nAlso there&#39;s these following sequence of commands I tried:\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X8ss5.png\r\n  [2]: https://i.stack.imgur.com/Pbcwa.png\r\n  [3]: https://i.stack.imgur.com/xeb9Q.png\r\n  [4]: https://i.stack.imgur.com/Fr3YE.png\r\n  [5]: https://i.stack.imgur.com/rihh9.png\r\n  [6]: https://i.stack.imgur.com/1NhNc.png","title":"JAVA_HOME env still not defined correctly windows 10","body":"<p>So recently I've been trying to set up a project using maven. After I installing the binary zip, I added it to my path by adding <code>M2_HOME</code> as a var name and <code>C:\\Program Files\\apache-maven-3.9.2</code> as the var value in my <strong>System Environment Variables</strong>. To confirm, this does exist:</p>\n<p><a href=\"https://i.stack.imgur.com/X8ss5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X8ss5.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I added <code>JAVA_HOME</code> as a var name and <code>C:\\Program Files\\Java\\jdk-19</code> as the var value to my <strong>System Env Variables</strong> as well:</p>\n<p><a href=\"https://i.stack.imgur.com/Pbcwa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pbcwa.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, whenever I try running <code>mvn -version</code> or even <code>mvn</code> from terminal that is ran as admin and without admin permissions, I get:</p>\n<pre><code>C:\\Users\\67444&gt;mvn -verison\nThe JAVA_HOME environment variable is not defined correctly,\nthis environment variable is needed to run this program.\n\nC:\\Users\\67444&gt;\n</code></pre>\n<p>Note: Before I added JAVA_HOME, when I ran <code>mvn package</code> I got a compilation error saying that the compiler wasn't figured, meaning that marven was installed and working. So I decided to add JAVA_HOME and now it fully stopped working for some reason.</p>\n<p>Other Note:\nI have these two values in <strong>System Path</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/xeb9Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xeb9Q.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried:</p>\n<p>Removing both environment variables and re-adding them\nFully re-installing Maven and following the steps agains</p>\n<p>Any help would be appreciated :)</p>\n<p>Edit: My Path:\n<a href=\"https://i.stack.imgur.com/Fr3YE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fr3YE.png\" alt=\"enter image description here\" /></a></p>\n<p>Edit: Request by g00se:</p>\n<pre><code>C:\\Users\\67444&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk-19\\bin\n\nC:\\Users\\67444&gt;echo %PATH%\nC:\\Program Files\\apache-maven-3.9.2\\bin;C:\\Program Files\\Java\\jdk-19\\bin;C:\\Program Files (x86)\\OpenJDK\\jre-8.0.292.10-hotspot\\bin;C:\\Program Files\\OpenJDK\\jdk-8.0.292.10-hotspot\\bin;C:\\Program Files (x86)\\OpenJDK\\jdk-8.0.362.09-hotspot\\bin;C:\\Program Files (x86)\\Razer\\ChromaBroadcast\\bin;C:\\Program Files\\Razer\\ChromaBroadcast\\bin;C:\\MinGW\\bin;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\WINDOWS\\system32;C:\\Users\\67444\\AppData\\Local\\Programs\\Python;C:\\Program Files\\dotnet\\;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\dotnet\\;C:\\Program Files\\Java\\jdk-19\\bin;C:\\WINDOWS\\system32\\config\\systemprofile\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Microsoft SQL Server\\150\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\170\\Tools\\Binn\\;C:\\Program Files\\Git\\cmd;C:\\Users\\67444\\AppData\\Local\\Programs\\Python\\Python310\\Scripts\\;C:\\Users\\67444\\AppData\\Local\\Programs\\Python\\Python310\\;C:\\Users\\67444\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\67444\\AppData\\Local\\atom\\bin;C:\\Users\\67444\\.dotnet\\tools;C:\\Users\\67444\\AppData\\Local\\Programs\\Fiddler;C:\\Users\\67444\\AppData\\Roaming\\npm;&quot;;C:\\Program Files\\nodejs\\&quot;;C:\\Users\\67444\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\67444\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\67444\\.dotnet\\tools;C:\\Program Files\\MongoDB\\Server\\6.0\\bin;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2023.1.2\\bin;;C:\\Program Files\\apache-maven-3.9.2\\bin;C:\\Program Files\\Java\\jdk-19\\bin;\n\nC:\\Users\\67444&gt;mvn -version\nThe JAVA_HOME environment variable is not defined correctly,\nthis environment variable is needed to run this program.\n\nC:\\Users\\67444&gt;\n</code></pre>\n<p>UPDATE:\nRemoving <code>JAVA_HOME</code> from my environment vars in both system and user result in this screen:\n<a href=\"https://i.stack.imgur.com/rihh9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rihh9.png\" alt=\"enter image description here\" /></a></p>\n<p>But adding JAVA_HOME breaks it. Why?</p>\n<p>Also there's these following sequence of commands I tried:\n<a href=\"https://i.stack.imgur.com/1NhNc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1NhNc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","interceptor"],"owner":{"account_id":1820313,"reputation":1528,"user_id":1654526,"accept_rate":36,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686082372,"creation_date":1686082372,"question_id":76418113,"body_markdown":"I&#39;m not able to make interceptors work in my spring boot application.\r\n\r\nWhat I&#39;ve done so far is a annotation for methods:\r\n\r\n    @Inerithed\r\n    @InterceptorBinding\r\n    @Target({METHOD})\r\n    @Retention(RUNTIME)\r\n    public @interface Log {}\r\n\r\nThe interceptor itself:\r\n\r\n    @Interceptor\r\n    @Log\r\n    public class LogInterceptor {\r\n        @AroundInvoke\r\n        public Object logInterceptor(InvocationContext ctx) throws Exception {\r\n            return ctx.proceed();\r\n        }\r\n    }\r\n\r\nThen in my class I&#39;m using:\r\n\r\n    @Interceptors({LogInterceptor.class})\r\n    @Service\r\n    public class MyService {\r\n        @Log\r\n        public void compute() {}\r\n    }\r\n    \r\nBut `LogInterceptor::logInterceptor()` method is never executed when I call `myService.compute()`.\r\nWhat am I doing wrong?","title":"Interceptors in a Spring Boot application","body":"<p>I'm not able to make interceptors work in my spring boot application.</p>\n<p>What I've done so far is a annotation for methods:</p>\n<pre><code>@Inerithed\n@InterceptorBinding\n@Target({METHOD})\n@Retention(RUNTIME)\npublic @interface Log {}\n</code></pre>\n<p>The interceptor itself:</p>\n<pre><code>@Interceptor\n@Log\npublic class LogInterceptor {\n    @AroundInvoke\n    public Object logInterceptor(InvocationContext ctx) throws Exception {\n        return ctx.proceed();\n    }\n}\n</code></pre>\n<p>Then in my class I'm using:</p>\n<pre><code>@Interceptors({LogInterceptor.class})\n@Service\npublic class MyService {\n    @Log\n    public void compute() {}\n}\n</code></pre>\n<p>But <code>LogInterceptor::logInterceptor()</code> method is never executed when I call <code>myService.compute()</code>.\nWhat am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686121016,"post_id":76418077,"comment_id":134753835,"body_markdown":"There is no difference in importing an internal or external dependency in the end it is one classpath. If it cannot be found the dependency isn&#39;t there, what is the scope of the dependency, how are you running/building this.","body":"There is no difference in importing an internal or external dependency in the end it is one classpath. If it cannot be found the dependency isn&#39;t there, what is the scope of the dependency, how are you running/building this."},{"owner":{"account_id":21439563,"reputation":1,"user_id":15794402,"display_name":"SteveWonderbelt"},"score":0,"creation_date":1686147103,"post_id":76418077,"comment_id":134759459,"body_markdown":"This dependency has system scope, since I had to manually add the jar to the project. The Pom entry looks like: \n\n`\t\t&lt;dependency&gt;\n\n\t\t\t&lt;groupId&gt;com.company.project&lt;/groupId&gt;\n\n\t\t\t&lt;artifactId&gt;postgres&lt;/artifactId&gt;\n\n\t\t\t&lt;version&gt;2.0.2-SNAPSHOT&lt;/version&gt;\n\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\n\n\t\t\t&lt;systemPath&gt;${basedir}/src/lib/postgres-2.0.2-SNAPSHOT.jar&lt;/systemPath&gt;\n\t\t&lt;/dependency&gt;`\nI&#39;m building the project&#39; with the normal `mvn package` command","body":"This dependency has system scope, since I had to manually add the jar to the project. The Pom entry looks like:   `\t\t&lt;dependency&gt;  \t\t\t&lt;groupId&gt;com.company.project&lt;/groupId&gt;  \t\t\t&lt;artifactId&gt;postgres&lt;/artifactId&gt;  \t\t\t&lt;version&gt;2.0.2-SNAPSHOT&lt;/version&gt;  \t\t\t&lt;scope&gt;system&lt;/scope&gt;  \t\t\t&lt;systemPath&gt;${basedir}/src/lib/postgres-2.0.2-SNAPSHOT.ja&zwnj;&#8203;r&lt;/systemPath&gt; \t\t&lt;/dependency&gt;` I&#39;m building the project&#39; with the normal <code>mvn package</code> command"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686147281,"post_id":76418077,"comment_id":134759518,"body_markdown":"system scoped dependency aren&#39;t included in  your project by default.","body":"system scoped dependency aren&#39;t included in  your project by default."},{"owner":{"account_id":21439563,"reputation":1,"user_id":15794402,"display_name":"SteveWonderbelt"},"score":0,"creation_date":1686151683,"post_id":76418077,"comment_id":134760685,"body_markdown":"Okay so I added the dependency through the `mvn install:install-file -Dfile=&lt;path-to-file&gt;` command, which installs the jar in the local repo, then I removed the scope and systempath tags so that Maven looks in the local repo by default. Started getting a different error about the dependency jar not being able to find its parent POM but I think I fixed that, so I think I&#39;m good now, no longer seeing the above error. Thank you so much @M.Deinum","body":"Okay so I added the dependency through the <code>mvn install:install-file -Dfile=&lt;path-to-file&gt;</code> command, which installs the jar in the local repo, then I removed the scope and systempath tags so that Maven looks in the local repo by default. Started getting a different error about the dependency jar not being able to find its parent POM but I think I fixed that, so I think I&#39;m good now, no longer seeing the above error. Thank you so much @M.Deinum"}],"owner":{"account_id":21439563,"reputation":1,"user_id":15794402,"display_name":"SteveWonderbelt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686082023,"creation_date":1686082023,"question_id":76418077,"body_markdown":"I&#39;m working on a Maven-based Spring Boot App that just connects to our databases and generates reports based on the data. The main method looks like this:\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.setProperty(&quot;spring.config.name&quot;,&quot;reports&quot;);\r\n\r\n\t\tSystem.out.println(System.getProperty(&quot;java.class.path&quot;));\r\n\t\tSystem.setProperty(&quot;spring.profiles.active&quot;,&quot;JTEST&quot;);\r\n\r\n\t\tnew SpringApplicationBuilder(ReportsRunner.class)\r\n\t\t\t\t.web(WebApplicationType.NONE)\r\n\t\t\t\t.bannerMode(Mode.OFF)\r\n\t\t\t\t.run(args);\r\n\t}\r\n```\r\nWhen it gets to the Run call, the following error(s) generate:\r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class[com.company.dept.reports.ReportsRunner]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:178) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:398) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:747) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar!/:3.0.6]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar!/:3.0.6]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar!/:3.0.6]\r\n        at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150) ~[spring-boot-3.0.6.jar!/:3.0.6]\r\n        at com.company.dept.reports.ReportsRunner.main(ReportsRunner.java:37) ~[classes!/:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[reports.jar:?]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[reports.jar:?]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[reports.jar:?]\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[reports.jar:?]\r\nCaused by: java.lang.IllegalArgumentException: Could not find class [com.company.dept.postgres.PostGresAppConfig]\r\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:333) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:465) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:390) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:278) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:301) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:102) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:81) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:280) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:289) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        ... 19 more\r\nCaused by: java.lang.ClassNotFoundException: com.company.dept.postgres.PostGresAppConfig\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:432) ~[?:?]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:586) ~[?:?]\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[reports.jar:?]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[?:?]\r\n        at java.lang.Class.forName0(Native Method) ~[?:?]\r\n        at java.lang.Class.forName(Class.java:466) ~[?:?]\r\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:283) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:323) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:465) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:390) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:278) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81) ~[spring-core-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:301) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:102) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:81) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:280) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:289) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164) ~[spring-context-6.0.8.jar!/:6.0.8]\r\n        ... 19 more\r\n\r\n```\r\n\r\n\r\nA BeanDefinitionStoreException triggered by an IllegalArgumentException, triggered by a ClassNotFoundException. \r\n\r\n\r\n\r\nSo it seems like it&#39;s unable to find a class. PostGresAppConfig is from a separate jar/package that I&#39;ve added as a dependency to this project. It looks like this:\r\n\r\n```\r\n@Configuration\r\n@ComponentScan(basePackages = {&quot;com.company.dept.postgres.configuration&quot;})\r\npublic class PostGresAppConfig {\r\n\r\n    @Autowired\r\n    Environment env;\r\n    @Bean\r\n    public PostGresAppConfig postGresAppConfig(){\r\n        return new PostGresAppConfig();\r\n    }\r\n}\r\n```\r\nI believe it&#39;s some kind of issue with this file, because when I remove its import from the the config file, the error goes away:\r\n\r\n```\r\n//This throws no errors\r\n@Configuration\r\n@PropertySource(&quot;classpath:reports.properties&quot;)\r\n@Import({\r\n        BasicCoreConfiguration.class, //internal\r\n        ReportsConfigurationDev.class, //internal\r\n        ReportsConfigurationTest.class, //internal\r\n        ReportsConfigurationProd.class}) //internal\r\n@ComponentScan(basePackages = {&quot;com.company.dept.reports.runner&quot;,\r\n        &quot;com.company.dept.beans.utilities&quot;,\r\n        &quot;com.company.dept.beans.errorHandling&quot;,\r\n        &quot;com.company.dept.foundation.service&quot;,\r\n        &quot;com.company.dept.foundation.configuration.service&quot;,\r\n        &quot;com.company.dept.postgres.service&quot;})\r\npublic class ReportsCommonConfiguration {\r\n```\r\n```\r\n\r\n//This throws errors\r\n@Configuration\r\n@PropertySource(&quot;classpath:reports.properties&quot;)\r\n@Import({\r\n        PostGresAppConfig.class,//external\r\n        BasicCoreConfiguration.class, //internal\r\n        ReportsConfigurationDev.class, //internal\r\n        ReportsConfigurationTest.class, //internal\r\n        ReportsConfigurationProd.class}) //internal\r\n@ComponentScan(basePackages = {&quot;com.company.dept.reports.runner&quot;,\r\n        &quot;com.company.dept.beans.utilities&quot;,\r\n        &quot;com.company.dept.beans.errorHandling&quot;,\r\n        &quot;com.company.dept.foundation.service&quot;,\r\n        &quot;com.company.dept.foundation.configuration.service&quot;,\r\n        &quot;com.company.dept.postgres.service&quot;})\r\npublic class ReportsCommonConfiguration {\r\n```\r\nJust not sure what&#39;s causing this behavior. Maybe something to do with trying to import a configuration from an external jar/dependency? The other imported classes are from inside this project. \r\n\r\nI tried finding other questions related to this set of errors but didn&#39;t have much luck. Any help would be very appreciated. \r\n","title":"How to fix ClassNotFoundException thrown by configuration @Import in Spring Boot Application","body":"<p>I'm working on a Maven-based Spring Boot App that just connects to our databases and generates reports based on the data. The main method looks like this:</p>\n<pre><code>    public static void main(String[] args) {\n        System.setProperty(&quot;spring.config.name&quot;,&quot;reports&quot;);\n\n        System.out.println(System.getProperty(&quot;java.class.path&quot;));\n        System.setProperty(&quot;spring.profiles.active&quot;,&quot;JTEST&quot;);\n\n        new SpringApplicationBuilder(ReportsRunner.class)\n                .web(WebApplicationType.NONE)\n                .bannerMode(Mode.OFF)\n                .run(args);\n    }\n</code></pre>\n<p>When it gets to the Run call, the following error(s) generate:</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class[com.company.dept.reports.ReportsRunner]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:178) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:398) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:747) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar!/:3.0.6]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar!/:3.0.6]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar!/:3.0.6]\n        at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150) ~[spring-boot-3.0.6.jar!/:3.0.6]\n        at com.company.dept.reports.ReportsRunner.main(ReportsRunner.java:37) ~[classes!/:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[reports.jar:?]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[reports.jar:?]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[reports.jar:?]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[reports.jar:?]\nCaused by: java.lang.IllegalArgumentException: Could not find class [com.company.dept.postgres.PostGresAppConfig]\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:333) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:465) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:390) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:278) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:301) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:102) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:81) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:280) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:289) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164) ~[spring-context-6.0.8.jar!/:6.0.8]\n        ... 19 more\nCaused by: java.lang.ClassNotFoundException: com.company.dept.postgres.PostGresAppConfig\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:432) ~[?:?]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:586) ~[?:?]\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:149) ~[reports.jar:?]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[?:?]\n        at java.lang.Class.forName0(Native Method) ~[?:?]\n        at java.lang.Class.forName(Class.java:466) ~[?:?]\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:283) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.util.ClassUtils.resolveClassName(ClassUtils.java:323) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.TypeMappedAnnotation.adapt(TypeMappedAnnotation.java:465) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.TypeMappedAnnotation.getValue(TypeMappedAnnotation.java:390) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.TypeMappedAnnotation.asMap(TypeMappedAnnotation.java:278) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.annotation.AbstractMergedAnnotation.asAnnotationAttributes(AbstractMergedAnnotation.java:193) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:106) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.core.type.AnnotatedTypeMetadata.getAnnotationAttributes(AnnotatedTypeMetadata.java:81) ~[spring-core-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.AnnotationConfigUtils.attributesFor(AnnotationConfigUtils.java:301) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.determineBeanNameFromAnnotation(AnnotationBeanNameGenerator.java:102) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.AnnotationBeanNameGenerator.generateBeanName(AnnotationBeanNameGenerator.java:81) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:280) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:289) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196) ~[spring-context-6.0.8.jar!/:6.0.8]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164) ~[spring-context-6.0.8.jar!/:6.0.8]\n        ... 19 more\n\n</code></pre>\n<p>A BeanDefinitionStoreException triggered by an IllegalArgumentException, triggered by a ClassNotFoundException.</p>\n<p>So it seems like it's unable to find a class. PostGresAppConfig is from a separate jar/package that I've added as a dependency to this project. It looks like this:</p>\n<pre><code>@Configuration\n@ComponentScan(basePackages = {&quot;com.company.dept.postgres.configuration&quot;})\npublic class PostGresAppConfig {\n\n    @Autowired\n    Environment env;\n    @Bean\n    public PostGresAppConfig postGresAppConfig(){\n        return new PostGresAppConfig();\n    }\n}\n</code></pre>\n<p>I believe it's some kind of issue with this file, because when I remove its import from the the config file, the error goes away:</p>\n<pre><code>//This throws no errors\n@Configuration\n@PropertySource(&quot;classpath:reports.properties&quot;)\n@Import({\n        BasicCoreConfiguration.class, //internal\n        ReportsConfigurationDev.class, //internal\n        ReportsConfigurationTest.class, //internal\n        ReportsConfigurationProd.class}) //internal\n@ComponentScan(basePackages = {&quot;com.company.dept.reports.runner&quot;,\n        &quot;com.company.dept.beans.utilities&quot;,\n        &quot;com.company.dept.beans.errorHandling&quot;,\n        &quot;com.company.dept.foundation.service&quot;,\n        &quot;com.company.dept.foundation.configuration.service&quot;,\n        &quot;com.company.dept.postgres.service&quot;})\npublic class ReportsCommonConfiguration {\n</code></pre>\n<pre><code>\n//This throws errors\n@Configuration\n@PropertySource(&quot;classpath:reports.properties&quot;)\n@Import({\n        PostGresAppConfig.class,//external\n        BasicCoreConfiguration.class, //internal\n        ReportsConfigurationDev.class, //internal\n        ReportsConfigurationTest.class, //internal\n        ReportsConfigurationProd.class}) //internal\n@ComponentScan(basePackages = {&quot;com.company.dept.reports.runner&quot;,\n        &quot;com.company.dept.beans.utilities&quot;,\n        &quot;com.company.dept.beans.errorHandling&quot;,\n        &quot;com.company.dept.foundation.service&quot;,\n        &quot;com.company.dept.foundation.configuration.service&quot;,\n        &quot;com.company.dept.postgres.service&quot;})\npublic class ReportsCommonConfiguration {\n</code></pre>\n<p>Just not sure what's causing this behavior. Maybe something to do with trying to import a configuration from an external jar/dependency? The other imported classes are from inside this project.</p>\n<p>I tried finding other questions related to this set of errors but didn't have much luck. Any help would be very appreciated.</p>\n"},{"tags":["java","selenium-webdriver","testing","testng","testng.xml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686150390,"post_id":76418053,"comment_id":134760360,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28767565,"reputation":1,"user_id":22032095,"display_name":"Sandip Chopkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686081804,"creation_date":1686081804,"question_id":76418053,"body_markdown":"I want to run &#39;method A&#39; from class A ,then &#39;method B&#39; from class B, then again &#39;method A&#39; from class A. \r\n  Is it is possible in testng to repeat run, already run classes.\r\n  In my case testng not calculating already run classes at the next time in same xml file. Anybody from you can help me?\r\n\r\nI create two testng class Class A and Class B. In class A I wrote a method like method A And in class B I wrote another method like method B. And in testng.xml I call Class A method then I call class B method then I again call Class A method. But on first time class A is run after that Class B also run but then execution gets stop and my driver gets closed.and class A which is called at second time doesn&#39;t run and testng also not calculating it into the passed, failed or skipped test case. ","title":"How to run class A ,Class B and again Class A in testng.xml","body":"<p>I want to run 'method A' from class A ,then 'method B' from class B, then again 'method A' from class A.\nIs it is possible in testng to repeat run, already run classes.\nIn my case testng not calculating already run classes at the next time in same xml file. Anybody from you can help me?</p>\n<p>I create two testng class Class A and Class B. In class A I wrote a method like method A And in class B I wrote another method like method B. And in testng.xml I call Class A method then I call class B method then I again call Class A method. But on first time class A is run after that Class B also run but then execution gets stop and my driver gets closed.and class A which is called at second time doesn't run and testng also not calculating it into the passed, failed or skipped test case.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1685987777,"post_id":76408889,"comment_id":134734870,"body_markdown":"&quot;`i &gt; 0 &amp;&amp; listOfNonConsolidatedHoldings.get(j - 1)`&quot; do you mean `i` rather than `j`? (Or `j` rather than `i`?)","body":"&quot;<code>i &gt; 0 &amp;&amp; listOfNonConsolidatedHoldings.get(j - 1)</code>&quot; do you mean <code>i</code> rather than <code>j</code>? (Or <code>j</code> rather than <code>i</code>?)"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1685987830,"post_id":76408889,"comment_id":134734885,"body_markdown":"&quot;is not entering ... if it enters&quot;???","body":"&quot;is not entering ... if it enters&quot;???"},{"owner":{"account_id":27528457,"reputation":39,"user_id":21007380,"display_name":"Pratik"},"score":0,"creation_date":1685987973,"post_id":76408889,"comment_id":134734904,"body_markdown":"If it enters it is giving Index out of bounds at one point","body":"If it enters it is giving Index out of bounds at one point"}],"answers":[{"comments":[{"owner":{"account_id":27528457,"reputation":39,"user_id":21007380,"display_name":"Pratik"},"score":0,"creation_date":1685989564,"post_id":76408970,"comment_id":134735170,"body_markdown":"I have provided the whole code","body":"I have provided the whole code"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686002692,"post_id":76408970,"comment_id":134737166,"body_markdown":"Alright.  Now what is the relationship that is being iterated on.  If a date in _holdings_ appears in _fff_.  Or is it, if a date in _fff_ appears in _holdings_?","body":"Alright.  Now what is the relationship that is being iterated on.  If a date in <i>holdings</i> appears in <i>fff</i>.  Or is it, if a date in <i>fff</i> appears in <i>holdings</i>?"},{"owner":{"account_id":27528457,"reputation":39,"user_id":21007380,"display_name":"Pratik"},"score":0,"creation_date":1686032152,"post_id":76408970,"comment_id":134739579,"body_markdown":"Date in fff appears in holdings","body":"Date in fff appears in holdings"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686081768,"post_id":76408970,"comment_id":134749849,"body_markdown":"@Pratik, I&#39;ve updated my answer.","body":"@Pratik, I&#39;ve updated my answer."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686081752,"creation_date":1685988571,"answer_id":76408970,"question_id":76408889,"body_markdown":"The following code will iterate on _fff_, and attempt to match a _start_date_ with a value in _holdings_.\r\n\r\nYou mention checking if the _holder_ names are the same, that I&#39;m not sure of, there only appears to be one _holder_name_ column.\r\n\r\nYou&#39;ll have to adapt your code.  \r\nI&#39;m using two _List\\&lt;List\\&lt;String\\&gt;\\&gt;_ objects, _fff_, and _holdings_.\r\n\r\n```java\r\nString fffStartDate, fffHoldings, fffEndDate;\r\nString holdingsStartDate, holdingsHolderName;\r\nboolean found;\r\nfor (List&lt;String&gt; fffRow : fff) {\r\n    fffStartDate = fffRow.get(0);\r\n    fffHoldings = fffRow.get(1);\r\n    fffEndDate = fffRow.get(2);\r\n    found = false;\r\n    for (List&lt;String&gt; holdingsRow : holdings) {\r\n        holdingsStartDate = holdingsRow.get(0);\r\n        holdingsHolderName = holdingsRow.get(1);\r\n        if (fffStartDate.equals(holdingsStartDate)) {\r\n\r\n            found = true;\r\n            break;\r\n        }\r\n    }\r\n    if (!found) {\r\n\r\n    }\r\n}\r\n```","title":"Java Index out of bounds or code not entering If condition","body":"<p>The following code will iterate on <em>fff</em>, and attempt to match a <em>start_date</em> with a value in <em>holdings</em>.</p>\n<p>You mention checking if the <em>holder</em> names are the same, that I'm not sure of, there only appears to be one <em>holder_name</em> column.</p>\n<p>You'll have to adapt your code.<br />\nI'm using two <em>List&lt;List&lt;String&gt;&gt;</em> objects, <em>fff</em>, and <em>holdings</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fffStartDate, fffHoldings, fffEndDate;\nString holdingsStartDate, holdingsHolderName;\nboolean found;\nfor (List&lt;String&gt; fffRow : fff) {\n    fffStartDate = fffRow.get(0);\n    fffHoldings = fffRow.get(1);\n    fffEndDate = fffRow.get(2);\n    found = false;\n    for (List&lt;String&gt; holdingsRow : holdings) {\n        holdingsStartDate = holdingsRow.get(0);\n        holdingsHolderName = holdingsRow.get(1);\n        if (fffStartDate.equals(holdingsStartDate)) {\n\n            found = true;\n            break;\n        }\n    }\n    if (!found) {\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27528457,"reputation":39,"user_id":21007380,"display_name":"Pratik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1686081752,"creation_date":1685987710,"question_id":76408889,"body_markdown":"I am writing a code for the following condition. Below are the two tables I am having. \r\n\r\n\r\n\r\n**fff** table\r\n    \r\n    start_date | holdings    |end_date  |\r\n    2022-09-09 | 1000        |08-08-2023|\r\n    2022-09-10 | 1000        |08-08-2023|\r\n    2022-09-12 | 1000        |08-08-2023|\r\n    2023-09-08 | 1000        |08-08-2023|\r\n    2022-09-09 | 1000        |08-08-2023|\r\n    2022-09-10 | 1000        |08-08-2023|\r\n    2022-09-12 | 1000        |08-08-2023|\r\n\r\n**holdings** table\r\n\r\n    start_date | holder_name |\r\n    2022-09-09 | Pratik      |\r\n    2022-09-10 | Pratik      |\r\n    2022-09-12 | Sarvesh     |\r\n\r\nI am trying to pass dates into a query wherein I am checking if the holder names are the same consecutively, some condition should be executed for the dates to be passed and if different, some condition should be executed. Following is the code I am writing.\r\n\r\n    for (int i = 0; i &lt; filteredEndDate.size(); i++) {\r\n    \t\t\t\ttry {\r\n    \r\n    \t\t\t\t\tBigDecimal sum = null;\r\n    \r\n    \t\t\t\t\tfor (int a = 0; a &lt; tosstartDateList.size(); a++) {\r\n    \t\t\t\t\t\tif (filteredStartDate.get(i).equals(tosstartDateList.get(a))) {\r\n    \t\t\t\t\t\t\tif (restrictedHoldings.size() == 0) {\r\n    \t\t\t\t\t\t\t\tsum = (BigDecimal) rdsSession\r\n    \t\t\t\t\t\t\t\t\t\t.createNativeQuery(DBQueries.GET_FLOAT_SHARES_BOTH_CONSOLIDATED_NON_CONSILIDATED)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;startDate&quot;, filteredStartDate.get(0), LocalDateType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.getSingleResult();\r\n    \t\t\t\t\t\t\t\trestrictedHoldings.add(sum.longValue());\r\n    \t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\t//for (int k = 0; k &lt; restrictedHoldings.size(); k++) {\r\n    \t\t\t\t\t\t\t\t\trestrictedHoldings.add(restrictedHoldings.get(i - 1));\r\n    \t\t\t\t\t\t\t\t//}\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tint count=0;\r\n    \t\t\t\t\tfor (int j = 0; j &lt; listOfNonConsolidatedHoldings.size(); j++) {\r\n    \t\t\t\t\t\tif (filteredStartDate.get(i).equals(listOfNonConsolidatedHoldings.get(j).getId().getStartDate())) {\r\n    \t\t\t\t\t\t\t//for (int b = 0; b &lt; holderNames.size(); b++) {\r\n    \t\t\t\t\t\t\tif (i &gt; 0 &amp;&amp; listOfNonConsolidatedHoldings.get(j - 1).getHolderName().\r\n    \t\t\t\t\t\t\t\t\tequals(listOfNonConsolidatedHoldings.get(j).getHolderName()))\r\n    \t\t\t\t\t\t\t\tsum = (BigDecimal) rdsSession\r\n    \t\t\t\t\t\t\t\t\t\t.createNativeQuery(DBQueries.GET_FLOAT_SHARES_BOTH_CONSOLIDATED_NON_CONSILIDATED)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;startDate&quot;, filteredStartDate.get(i), LocalDateType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.getSingleResult();\r\n    \r\n    \t\t\t\t\t\t\telse {\r\n    \t\t\t\t\t\t\t\tsum = (BigDecimal) rdsSession\r\n    \t\t\t\t\t\t\t\t\t\t.createNativeQuery(DBQueries.GET_FLOAT_SHARES_BOTH_CONSOLIDATED_NON_CONSILIDATED)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;startDate&quot;, filteredStartDate.get(0), LocalDateType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE)\r\n    \t\t\t\t\t\t\t\t\t\t.getSingleResult();\r\n    \r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\trestrictedHoldings.add(sum.longValue());\r\n    \t\t\t\t\t\t\tcount++;\r\n    \t\t\t\t\t\t\t//}\r\n    \r\n    \r\n    \r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n\r\nThe code is not entering inside if condition after the line\r\n\r\n \r\n\r\n     if (filteredStartDate.get(i).equals(listOfNonConsolidatedHoldings.get(j).getId().getStartDate())) {\r\n\r\n\r\nAnd if it enters, it is giving Index out of bounds at line \r\n\r\n    if (i &gt; 0 &amp;&amp; listOfNonConsolidatedHoldings.get(j - 1).getHolderName().\r\n                                        equals(listOfNonConsolidatedHoldings.get(j).getHolderName()))\r\n\r\nThe size of both the tables does not match. The listOfNonConsolidatedHoldings represents holdings table and the filteredStartDate and filteredEndDate represent the date I am passing from the fff table. \r\n","title":"Java Index out of bounds or code not entering If condition","body":"<p>I am writing a code for the following condition. Below are the two tables I am having.</p>\n<p><strong>fff</strong> table</p>\n<pre><code>start_date | holdings    |end_date  |\n2022-09-09 | 1000        |08-08-2023|\n2022-09-10 | 1000        |08-08-2023|\n2022-09-12 | 1000        |08-08-2023|\n2023-09-08 | 1000        |08-08-2023|\n2022-09-09 | 1000        |08-08-2023|\n2022-09-10 | 1000        |08-08-2023|\n2022-09-12 | 1000        |08-08-2023|\n</code></pre>\n<p><strong>holdings</strong> table</p>\n<pre><code>start_date | holder_name |\n2022-09-09 | Pratik      |\n2022-09-10 | Pratik      |\n2022-09-12 | Sarvesh     |\n</code></pre>\n<p>I am trying to pass dates into a query wherein I am checking if the holder names are the same consecutively, some condition should be executed for the dates to be passed and if different, some condition should be executed. Following is the code I am writing.</p>\n<pre><code>for (int i = 0; i &lt; filteredEndDate.size(); i++) {\n                try {\n\n                    BigDecimal sum = null;\n\n                    for (int a = 0; a &lt; tosstartDateList.size(); a++) {\n                        if (filteredStartDate.get(i).equals(tosstartDateList.get(a))) {\n                            if (restrictedHoldings.size() == 0) {\n                                sum = (BigDecimal) rdsSession\n                                        .createNativeQuery(DBQueries.GET_FLOAT_SHARES_BOTH_CONSOLIDATED_NON_CONSILIDATED)\n                                        .setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\n                                        .setParameter(&quot;startDate&quot;, filteredStartDate.get(0), LocalDateType.INSTANCE)\n                                        .setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE)\n                                        .getSingleResult();\n                                restrictedHoldings.add(sum.longValue());\n                            } else {\n                                //for (int k = 0; k &lt; restrictedHoldings.size(); k++) {\n                                    restrictedHoldings.add(restrictedHoldings.get(i - 1));\n                                //}\n                            }\n                        }\n                        break;\n                    }\n                    int count=0;\n                    for (int j = 0; j &lt; listOfNonConsolidatedHoldings.size(); j++) {\n                        if (filteredStartDate.get(i).equals(listOfNonConsolidatedHoldings.get(j).getId().getStartDate())) {\n                            //for (int b = 0; b &lt; holderNames.size(); b++) {\n                            if (i &gt; 0 &amp;&amp; listOfNonConsolidatedHoldings.get(j - 1).getHolderName().\n                                    equals(listOfNonConsolidatedHoldings.get(j).getHolderName()))\n                                sum = (BigDecimal) rdsSession\n                                        .createNativeQuery(DBQueries.GET_FLOAT_SHARES_BOTH_CONSOLIDATED_NON_CONSILIDATED)\n                                        .setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\n                                        .setParameter(&quot;startDate&quot;, filteredStartDate.get(i), LocalDateType.INSTANCE)\n                                        .setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE)\n                                        .getSingleResult();\n\n                            else {\n                                sum = (BigDecimal) rdsSession\n                                        .createNativeQuery(DBQueries.GET_FLOAT_SHARES_BOTH_CONSOLIDATED_NON_CONSILIDATED)\n                                        .setParameter(&quot;investmentId&quot;, investmentId, StringType.INSTANCE)\n                                        .setParameter(&quot;startDate&quot;, filteredStartDate.get(0), LocalDateType.INSTANCE)\n                                        .setParameter(&quot;endDate&quot;, filteredEndDate.get(i), LocalDateType.INSTANCE)\n                                        .getSingleResult();\n\n                            }\n                            restrictedHoldings.add(sum.longValue());\n                            count++;\n                            //}\n\n\n\n                        }\n\n                        break;\n                    }\n\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n</code></pre>\n<p>The code is not entering inside if condition after the line</p>\n<pre><code> if (filteredStartDate.get(i).equals(listOfNonConsolidatedHoldings.get(j).getId().getStartDate())) {\n</code></pre>\n<p>And if it enters, it is giving Index out of bounds at line</p>\n<pre><code>if (i &gt; 0 &amp;&amp; listOfNonConsolidatedHoldings.get(j - 1).getHolderName().\n                                    equals(listOfNonConsolidatedHoldings.get(j).getHolderName()))\n</code></pre>\n<p>The size of both the tables does not match. The listOfNonConsolidatedHoldings represents holdings table and the filteredStartDate and filteredEndDate represent the date I am passing from the fff table.</p>\n"},{"tags":["java","apache-flink"],"comments":[{"owner":{"account_id":11083003,"reputation":529,"user_id":8137669,"accept_rate":50,"display_name":"Snakienn"},"score":0,"creation_date":1562809722,"post_id":56980350,"comment_id":100496960,"body_markdown":"when you read the end of file, the stream is closed. What is the purpose to keep the job running? There is no new data coming in.","body":"when you read the end of file, the stream is closed. What is the purpose to keep the job running? There is no new data coming in."},{"owner":{"account_id":7826766,"reputation":11,"user_id":5918067,"display_name":"mathew"},"score":1,"creation_date":1562837635,"post_id":56980350,"comment_id":100506749,"body_markdown":"@Snakienn, the idea is for the stream to keep running that is why the input file keeps growing. Indeed there is new data coming in.","body":"@Snakienn, the idea is for the stream to keep running that is why the input file keeps growing. Indeed there is new data coming in."}],"owner":{"account_id":7826766,"reputation":11,"user_id":5918067,"display_name":"mathew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686081589,"creation_date":1562806684,"question_id":56980350,"body_markdown":"Hello I am new with Flink and currently trying to set-up a basic pipeline that:\r\n* receives data from a random string generator, \r\n* does a `wordCount` \r\n* and saves the output to a file.\r\n\r\nI am interested in ensuring the Flink programs keeps running until I decide to stop it manually, or when there are no input data anymore. However, the program starts and ends even while the input data is still being generated.\r\n\r\nI have tried using either of these 2 windowing line of code but no success:\r\n\r\n```\r\n.window(ProcessingTimeSessionWindows.withGap(Time.minutes(10)))\r\n.timeWindow(Time.of(2500, MILLISECONDS), Time.of(500, MILLISECONDS))\r\n```\r\n\r\nBelow is an example of the input file which runs continuously:\r\n```\r\nACBAB\r\nCEECC\r\nBCCAD\r\nEADAE\r\nBBCDA\r\nDCADD\r\n```\r\n\r\nThis is the code i am currently running:\r\n\r\n``` \r\npublic static void main(String[] args) throws Exception {\r\n\r\n        final ParameterTool params = ParameterTool.fromArgs(args);\r\n\r\n        // set up the execution environment\r\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\r\n        // get input data\r\n        DataStream&lt;String&gt; text = null;\r\n        if (params.has(&quot;input&quot;)) {\r\n            // read the text file from given input path\r\n            text = env.readTextFile(params.get(&quot;input&quot;));\r\n        } else {\r\n            System.out.println(&quot;Executing WindowWordCount example with default input data set.&quot;);\r\n            System.out.println(&quot;Use --input to specify file input.&quot;);\r\n            // get default test text data\r\n            text = env.fromElements(&quot;input&quot;);\r\n        }\r\n\r\n        // make parameters available in the web interface\r\n        env.getConfig().setGlobalJobParameters(params);\r\n\r\n       \r\n        DataStream&lt;Tuple2&lt;String, Integer&gt;&gt; stream = \r\n        \ttext.flatMap(new WindowWordCount.Tokenizer())\r\n\t\t\t.keyBy(0)\r\n\t\t\t.timeWindow(Time.of(2500, MILLISECONDS), Time.of(500, MILLISECONDS))\r\n\t\t\t.sum(1);\r\n\r\n        // emit result\r\n        if (params.has(&quot;output&quot;)) {\r\n        \tstream.writeAsText(params.get(&quot;output&quot;));\r\n        } else {\r\n            System.out.println(&quot;Printing result to stdout. Use --output to specify output path.&quot;);\r\n            stream.print();\r\n        }\r\n\r\n        // execute program\r\n        env.execute(&quot;WindowWordCount&quot;);\r\n    }\r\n    \r\n  \r\n    public static final class Tokenizer implements FlatMapFunction&lt;String, Tuple2&lt;String, Integer&gt;&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic void flatMap(String value, Collector&lt;Tuple2&lt;String, Integer&gt;&gt; out) {\r\n\t\t\t// normalize and split the line\r\n\t\t\tString[] tokens = value.toLowerCase().split(&quot;\\\\W+&quot;);\r\n\r\n\t\t\t// emit the pairs\r\n\t\t\tfor (String token : tokens) {\r\n\t\t\t\tif (token.length() &gt; 0) {\r\n\t\t\t\t\tout.collect(new Tuple2&lt;&gt;(token, 1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe Programs runs fine and stops after a while with the following message:\r\n\r\n&gt;Starting execution of program\r\n&gt;Program execution finished\r\n&gt;Job with JobID 74a6f54d80af96f029a8e6c32d9bc8da has finished.\r\n&gt;Job Runtime: 176994 ms\r\n\r\nWhat I want is for the program to keep running because I am interested in analyzing the performance metrics of the Flink engine.","title":"My Flink Streaming job execution finishes while the data source still produces data?","body":"<p>Hello I am new with Flink and currently trying to set-up a basic pipeline that:</p>\n<ul>\n<li>receives data from a random string generator,</li>\n<li>does a <code>wordCount</code></li>\n<li>and saves the output to a file.</li>\n</ul>\n<p>I am interested in ensuring the Flink programs keeps running until I decide to stop it manually, or when there are no input data anymore. However, the program starts and ends even while the input data is still being generated.</p>\n<p>I have tried using either of these 2 windowing line of code but no success:</p>\n<pre><code>.window(ProcessingTimeSessionWindows.withGap(Time.minutes(10)))\n.timeWindow(Time.of(2500, MILLISECONDS), Time.of(500, MILLISECONDS))\n</code></pre>\n<p>Below is an example of the input file which runs continuously:</p>\n<pre><code>ACBAB\nCEECC\nBCCAD\nEADAE\nBBCDA\nDCADD\n</code></pre>\n<p>This is the code i am currently running:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n        final ParameterTool params = ParameterTool.fromArgs(args);\n\n        // set up the execution environment\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n        // get input data\n        DataStream&lt;String&gt; text = null;\n        if (params.has(&quot;input&quot;)) {\n            // read the text file from given input path\n            text = env.readTextFile(params.get(&quot;input&quot;));\n        } else {\n            System.out.println(&quot;Executing WindowWordCount example with default input data set.&quot;);\n            System.out.println(&quot;Use --input to specify file input.&quot;);\n            // get default test text data\n            text = env.fromElements(&quot;input&quot;);\n        }\n\n        // make parameters available in the web interface\n        env.getConfig().setGlobalJobParameters(params);\n\n       \n        DataStream&lt;Tuple2&lt;String, Integer&gt;&gt; stream = \n            text.flatMap(new WindowWordCount.Tokenizer())\n            .keyBy(0)\n            .timeWindow(Time.of(2500, MILLISECONDS), Time.of(500, MILLISECONDS))\n            .sum(1);\n\n        // emit result\n        if (params.has(&quot;output&quot;)) {\n            stream.writeAsText(params.get(&quot;output&quot;));\n        } else {\n            System.out.println(&quot;Printing result to stdout. Use --output to specify output path.&quot;);\n            stream.print();\n        }\n\n        // execute program\n        env.execute(&quot;WindowWordCount&quot;);\n    }\n    \n  \n    public static final class Tokenizer implements FlatMapFunction&lt;String, Tuple2&lt;String, Integer&gt;&gt; {\n\n        @Override\n        public void flatMap(String value, Collector&lt;Tuple2&lt;String, Integer&gt;&gt; out) {\n            // normalize and split the line\n            String[] tokens = value.toLowerCase().split(&quot;\\\\W+&quot;);\n\n            // emit the pairs\n            for (String token : tokens) {\n                if (token.length() &gt; 0) {\n                    out.collect(new Tuple2&lt;&gt;(token, 1));\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>The Programs runs fine and stops after a while with the following message:</p>\n<blockquote>\n<p>Starting execution of program\nProgram execution finished\nJob with JobID 74a6f54d80af96f029a8e6c32d9bc8da has finished.\nJob Runtime: 176994 ms</p>\n</blockquote>\n<p>What I want is for the program to keep running because I am interested in analyzing the performance metrics of the Flink engine.</p>\n"},{"tags":["java","spring-mvc","bean-validation","spring-restcontroller"],"comments":[{"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"score":0,"creation_date":1684843249,"post_id":76310236,"comment_id":134573545,"body_markdown":"See this answer  https://stackoverflow.com/questions/28150405/validation-of-a-list-of-objects-in-spring the same problem is described there. Seems nothing changed since then and the spring controller still has this issue with collection validation.","body":"See this answer  <a href=\"https://stackoverflow.com/questions/28150405/validation-of-a-list-of-objects-in-spring\" title=\"validation of a list of objects in spring\">stackoverflow.com/questions/28150405/&hellip;</a> the same problem is described there. Seems nothing changed since then and the spring controller still has this issue with collection validation."},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1684848441,"post_id":76310236,"comment_id":134574882,"body_markdown":"@mark_o it is different, on the question you mention, he is only applying one validation, instead, I need to apply different validations based on validation group, so a little bit more complex.","body":"@mark_o it is different, on the question you mention, he is only applying one validation, instead, I need to apply different validations based on validation group, so a little bit more complex."}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686080649,"creation_date":1686080649,"answer_id":76417939,"question_id":76310236,"body_markdown":"I&#39;m still looking to find a solution using annotation but until then, I solved it in that way:\r\n\r\nI have created a ValidatorUtils\r\n\r\n\r\n    @NoArgsConstructor(access = AccessLevel.PRIVATE)\r\n    public class ValidatorUtils {\r\n    \r\n    \tpublic static &lt;TO_VALIDATE&gt; void validate(Collection&lt;TO_VALIDATE&gt; collectionToValidate) {\r\n    \t\tValidator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n    \t\tfor (TO_VALIDATE toValidate : collectionToValidate) {\r\n    \t\t\tSet&lt;ConstraintViolation&lt;TO_VALIDATE&gt;&gt; violations = validator.validate(toValidate);\r\n    \t\t\tif (!violations.isEmpty()) {\r\n    \t\t\t\tthrow new ConstraintViolationException(violations);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static &lt;TO_VALIDATE&gt; void validateGroups(Collection&lt;TO_VALIDATE&gt; collectionToValidate, Class&lt;?&gt;... groups) {\r\n    \t\tValidator validator = Validation.buildDefaultValidatorFactory().getValidator();\r\n    \t\tfor (TO_VALIDATE toValidate : collectionToValidate) {\r\n    \t\t\tSet&lt;ConstraintViolation&lt;TO_VALIDATE&gt;&gt; violations = validator.validate(toValidate, groups);\r\n    \t\t\tif (!violations.isEmpty()) {\r\n    \t\t\t\tthrow new ConstraintViolationException(violations);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nand then I&#39;m using it in the controller before calling the service:\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/continent&quot;)\r\n    public class ContinentRestController {\r\n    \r\n        private final ContinentService service;\r\n    \r\n        @PostMapping(value = &quot;/save-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public @ResponseBody Integer save(\r\n               @Validated(ContinentDto.CreateValidation.class) \r\n               @RequestBody final ContinentDto dto) throws TechnicalException {\r\n    \r\n            return service.save(dto);\r\n    \r\n        }\r\n    \r\n        @PostMapping(value = &quot;/save-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public @ResponseBody Collection&lt;Integer&gt; saveAll(\r\n               @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws TechnicalException {\r\n    \r\n            ValidatorUtils.validateGroups(dtos, ContinentDto.CreateValidation.class);\r\n            return service.save(dtos);\r\n    \r\n        }\r\n    \r\n        @PutMapping(value = &quot;/update-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public @ResponseBody Integer update(\r\n               @Validated(ContinentDto.UpdateValidation.class) \r\n               @RequestBody final ContinentDto dto) throws FunctionalException, TechnicalException {\r\n        \r\n            return service.update(dto);\r\n    \r\n        }\r\n    \r\n        @PutMapping(value = &quot;/update-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public @ResponseBody Collection&lt;Integer&gt; updateAll(\r\n               @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws FunctionalException, TechnicalException {\r\n        \r\n            ValidatorUtils.validateGroups(dtos, ContinentDto.UpdateValidation.class);\r\n            return service.update(dtos);\r\n        \r\n        }\r\n    \r\n    }","title":"How to validate objects of collection on Controller with Validated?","body":"<p>I'm still looking to find a solution using annotation but until then, I solved it in that way:</p>\n<p>I have created a ValidatorUtils</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class ValidatorUtils {\n\n    public static &lt;TO_VALIDATE&gt; void validate(Collection&lt;TO_VALIDATE&gt; collectionToValidate) {\n        Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n        for (TO_VALIDATE toValidate : collectionToValidate) {\n            Set&lt;ConstraintViolation&lt;TO_VALIDATE&gt;&gt; violations = validator.validate(toValidate);\n            if (!violations.isEmpty()) {\n                throw new ConstraintViolationException(violations);\n            }\n        }\n    }\n\n    public static &lt;TO_VALIDATE&gt; void validateGroups(Collection&lt;TO_VALIDATE&gt; collectionToValidate, Class&lt;?&gt;... groups) {\n        Validator validator = Validation.buildDefaultValidatorFactory().getValidator();\n        for (TO_VALIDATE toValidate : collectionToValidate) {\n            Set&lt;ConstraintViolation&lt;TO_VALIDATE&gt;&gt; violations = validator.validate(toValidate, groups);\n            if (!violations.isEmpty()) {\n                throw new ConstraintViolationException(violations);\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>and then I'm using it in the controller before calling the service:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/continent&quot;)\npublic class ContinentRestController {\n\n    private final ContinentService service;\n\n    @PostMapping(value = &quot;/save-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Integer save(\n           @Validated(ContinentDto.CreateValidation.class) \n           @RequestBody final ContinentDto dto) throws TechnicalException {\n\n        return service.save(dto);\n\n    }\n\n    @PostMapping(value = &quot;/save-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Collection&lt;Integer&gt; saveAll(\n           @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws TechnicalException {\n\n        ValidatorUtils.validateGroups(dtos, ContinentDto.CreateValidation.class);\n        return service.save(dtos);\n\n    }\n\n    @PutMapping(value = &quot;/update-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Integer update(\n           @Validated(ContinentDto.UpdateValidation.class) \n           @RequestBody final ContinentDto dto) throws FunctionalException, TechnicalException {\n    \n        return service.update(dto);\n\n    }\n\n    @PutMapping(value = &quot;/update-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Collection&lt;Integer&gt; updateAll(\n           @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws FunctionalException, TechnicalException {\n    \n        ValidatorUtils.validateGroups(dtos, ContinentDto.UpdateValidation.class);\n        return service.update(dtos);\n    \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76417939,"answer_count":1,"score":1,"last_activity_date":1686080649,"creation_date":1684794115,"question_id":76310236,"body_markdown":"I have the following DTO that I want to validate:\r\n\r\n    @Data\r\n    public class ContinentDto {\r\n    \r\n    \t@Null(groups = { CreateValidation.class }, message = &quot;ID must be null&quot;)\r\n    \t@NotNull(groups = { UpdateValidation.class }, message = &quot;ID must not be null&quot;)\r\n    \t@JsonProperty\r\n    \tprivate Integer id;\r\n    \r\n    \t@NotBlank(groups = { CreateValidation.class, UpdateValidation.class }, message = &quot;continentName must not be blank&quot;)\r\n    \t@JsonProperty\r\n    \tprivate String continentName;\r\n    \r\n    \tpublic interface CreateValidation {\r\n    \t\t// validation group marker interface\r\n    \t}\r\n    \r\n    \tpublic interface UpdateValidation {\r\n    \t\t// validation group marker interface\r\n    \t}\r\n    \r\n    }\r\n\r\nIt contains two `Validation Groups`: `CreateValidation` and `UpdateValidation` with different validations to be applied.\r\n\r\nI&#39;m perfectly able to validate the DTO when it is passed as a single argument, but for the API that has a collection of DTO as a request, the validation is not applied anymore.\r\n\r\nThis is my controller:\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/continent&quot;)\r\n    public class ContinentRestController {\r\n    \r\n        private final ContinentService service;\r\n\r\n    \t@PostMapping(value = &quot;/save-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody Integer save(\r\n               @Validated(ContinentDto.CreateValidation.class) \r\n               @RequestBody final ContinentDto dto) throws TechnicalException {\r\n\r\n    \t\treturn service.save(dto);\r\n\r\n    \t}\r\n    \r\n    \t@PostMapping(value = &quot;/save-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic @ResponseBody Collection&lt;Integer&gt; saveAll(\r\n               @Validated(ContinentDto.CreateValidation.class) \r\n               @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws TechnicalException {\r\n\r\n    \t\treturn service.save(dtos);\r\n\r\n    \t}\r\n\r\n\t    @PutMapping(value = &quot;/update-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\t    public @ResponseBody Integer update(\r\n               @Validated(ContinentDto.UpdateValidation.class) \r\n               @RequestBody final ContinentDto dto) throws FunctionalException, TechnicalException {\r\n\t\t\r\n            return service.update(dto);\r\n\r\n\t    }\r\n\r\n\t    @PutMapping(value = &quot;/update-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\t    public @ResponseBody Collection&lt;Integer&gt; updateAll(\r\n               @Validated(ContinentDto.UpdateValidation.class)\r\n               @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws FunctionalException, TechnicalException {\r\n\t\t\r\n            return service.update(dtos);\r\n\t    \r\n        }\r\n    \r\n    }\r\n\r\nI have also tried to add the `@Valid` annotation inside the diamond brackets of the collection but nothing changed.\r\n\r\nI see on other questions about list validation that the suggested answer was to apply the `@Validated` annotation at the class level, but in my case, I think it is not possible because I&#39;m using `Validation Groups`.","title":"How to validate objects of collection on Controller with Validated?","body":"<p>I have the following DTO that I want to validate:</p>\n<pre><code>@Data\npublic class ContinentDto {\n\n    @Null(groups = { CreateValidation.class }, message = &quot;ID must be null&quot;)\n    @NotNull(groups = { UpdateValidation.class }, message = &quot;ID must not be null&quot;)\n    @JsonProperty\n    private Integer id;\n\n    @NotBlank(groups = { CreateValidation.class, UpdateValidation.class }, message = &quot;continentName must not be blank&quot;)\n    @JsonProperty\n    private String continentName;\n\n    public interface CreateValidation {\n        // validation group marker interface\n    }\n\n    public interface UpdateValidation {\n        // validation group marker interface\n    }\n\n}\n</code></pre>\n<p>It contains two <code>Validation Groups</code>: <code>CreateValidation</code> and <code>UpdateValidation</code> with different validations to be applied.</p>\n<p>I'm perfectly able to validate the DTO when it is passed as a single argument, but for the API that has a collection of DTO as a request, the validation is not applied anymore.</p>\n<p>This is my controller:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/continent&quot;)\npublic class ContinentRestController {\n\n    private final ContinentService service;\n\n    @PostMapping(value = &quot;/save-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Integer save(\n           @Validated(ContinentDto.CreateValidation.class) \n           @RequestBody final ContinentDto dto) throws TechnicalException {\n\n        return service.save(dto);\n\n    }\n\n    @PostMapping(value = &quot;/save-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Collection&lt;Integer&gt; saveAll(\n           @Validated(ContinentDto.CreateValidation.class) \n           @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws TechnicalException {\n\n        return service.save(dtos);\n\n    }\n\n    @PutMapping(value = &quot;/update-one&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Integer update(\n           @Validated(ContinentDto.UpdateValidation.class) \n           @RequestBody final ContinentDto dto) throws FunctionalException, TechnicalException {\n    \n        return service.update(dto);\n\n    }\n\n    @PutMapping(value = &quot;/update-all&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody Collection&lt;Integer&gt; updateAll(\n           @Validated(ContinentDto.UpdateValidation.class)\n           @RequestBody final Collection&lt;ContinentDto&gt; dtos) throws FunctionalException, TechnicalException {\n    \n        return service.update(dtos);\n    \n    }\n\n}\n</code></pre>\n<p>I have also tried to add the <code>@Valid</code> annotation inside the diamond brackets of the collection but nothing changed.</p>\n<p>I see on other questions about list validation that the suggested answer was to apply the <code>@Validated</code> annotation at the class level, but in my case, I think it is not possible because I'm using <code>Validation Groups</code>.</p>\n"},{"tags":["java","android","payment-gateway"],"owner":{"account_id":11713270,"reputation":51,"user_id":8574568,"display_name":"Ahmed Rehman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686080107,"creation_date":1686080107,"question_id":76417888,"body_markdown":"I&#39;m facing trouble on login with vipps application, i simply want user sign-up with vipps app just like gmail, facebook etc....\r\n\r\nanyone have any solution please share with me !\r\n\r\nI tried to find solution but not succeeded yet!","title":"I want to Login through Vipps App, i tried many solution but not succeed","body":"<p>I'm facing trouble on login with vipps application, i simply want user sign-up with vipps app just like gmail, facebook etc....</p>\n<p>anyone have any solution please share with me !</p>\n<p>I tried to find solution but not succeeded yet!</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-restcontroller"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677720379,"post_id":75610220,"comment_id":133395734,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1677725853,"post_id":75610220,"comment_id":133396436,"body_markdown":"What is your application configuration seems like? Did you add context? If yes, please call with context name","body":"What is your application configuration seems like? Did you add context? If yes, please call with context name"}],"answers":[{"comments":[{"owner":{"account_id":27913618,"reputation":3,"user_id":21315237,"display_name":"Timmy"},"score":0,"creation_date":1677737763,"post_id":75610660,"comment_id":133397841,"body_markdown":"I created a new project with a downgraded version of spring and it worked fine. Much thanks!","body":"I created a new project with a downgraded version of spring and it worked fine. Much thanks!"}],"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686079916,"creation_date":1677721859,"answer_id":75610660,"question_id":75610220,"body_markdown":"Downgrade/upgrade your spring to a different version, 3.0.3 has a bug with component scanning\r\nhttps://github.com/spring-projects/spring-boot/issues/34379","title":"Spring-Boot Endpoint/Controller Not Found 404","body":"<p>Downgrade/upgrade your spring to a different version, 3.0.3 has a bug with component scanning\n<a href=\"https://github.com/spring-projects/spring-boot/issues/34379\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/34379</a></p>\n"}],"owner":{"account_id":27913618,"reputation":3,"user_id":21315237,"display_name":"Timmy"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1090,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678196396,"accepted_answer_id":75610660,"answer_count":1,"score":0,"last_activity_date":1686079916,"creation_date":1677715577,"question_id":75610220,"body_markdown":"When I create a new spring-boot project and then add a simple controller and try to hit the endpoint, I get 404 (Not found). If I move the same code to the main spring boot application it works (I&#39;ve added the annotations @RestController.. as you can see)\r\nThe other strange thing is that if I get the &quot;not working code&quot; from another machine (create the project on another PC and clone/transfer it to my current machine), it works completely fine.\r\nWhat may be the issue?\r\nCurrent machine(Mac Air M1)\r\nSpring-Boot -v 3.0.3\r\nGradle 8.0.1\r\nInstalled using brew\r\n\r\nI tried other things from different sources. Nothing helped for now.\r\n\r\n[Main App](https://i.stack.imgur.com/5PTfS.png)\r\n[Controller](https://i.stack.imgur.com/nro5d.png)\r\n","title":"Spring-Boot Endpoint/Controller Not Found 404","body":"<p>When I create a new spring-boot project and then add a simple controller and try to hit the endpoint, I get 404 (Not found). If I move the same code to the main spring boot application it works (I've added the annotations @RestController.. as you can see)\nThe other strange thing is that if I get the &quot;not working code&quot; from another machine (create the project on another PC and clone/transfer it to my current machine), it works completely fine.\nWhat may be the issue?\nCurrent machine(Mac Air M1)\nSpring-Boot -v 3.0.3\nGradle 8.0.1\nInstalled using brew</p>\n<p>I tried other things from different sources. Nothing helped for now.</p>\n<p><a href=\"https://i.stack.imgur.com/5PTfS.png\" rel=\"nofollow noreferrer\">Main App</a>\n<a href=\"https://i.stack.imgur.com/nro5d.png\" rel=\"nofollow noreferrer\">Controller</a></p>\n"},{"tags":["python","java","python-3.x","subprocess","stdin"],"comments":[{"owner":{"account_id":5864219,"reputation":1087,"user_id":4720957,"display_name":"user47"},"score":0,"creation_date":1686085715,"post_id":76417710,"comment_id":134750504,"body_markdown":"Hi. Sorry if it sounds silly but did you wait for more than 10 seconds before realizing that Python script is unable to send input to your Java program? I tested your Java code with your Python code. They seem to work together fine on my end.","body":"Hi. Sorry if it sounds silly but did you wait for more than 10 seconds before realizing that Python script is unable to send input to your Java program? I tested your Java code with your Python code. They seem to work together fine on my end."}],"owner":{"account_id":12106935,"reputation":13,"user_id":8845408,"display_name":"user8845408"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686078457,"creation_date":1686078457,"question_id":76417710,"body_markdown":"I have a Java process that has the following logic:\r\n```\r\n      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n      while (true) {\r\n        String line;\r\n        LOGGER.info(&quot;Waiting to read data&quot;);\r\n        while ((line = in.readLine()) != null) {\r\n          LOGGER.info(&quot;Got a line!&quot;);\r\n          String[] words = line.split(&quot; &quot;);\r\n          for (String word : words) {\r\n              // do something with words\r\n```\r\nI can verify that `stdin` is read from successfully as I can run it via `java -jar myprogram.jar` and manually type in words where it is received once I hit &quot;enter&quot;. \r\n\r\nMy python process looks like so:\r\n```\r\n    from subprocess import Popen, PIPE, STDOUT\r\n    command = [&#39;java&#39;, &#39;-jar&#39;, &#39;myprogram.jar&#39;]\r\n    p = Popen(command, stdin=PIPE)\r\n    time.sleep(10)\r\n    print(&quot;Process opened and waiting input\\n\\n\\n&quot;)\r\n    for word in [&#39;foo&#39;, &#39;bar&#39;, &#39;baz&#39;]:\r\n        try:\r\n            p.stdin.write(word.encode() + b&#39;\\n&#39; )\r\n        except Exception as e:\r\n            print(e)\r\n```\r\nFrom what I can tell, my Java program does not complete any of the `readLine` calls as I can see the &quot;Waiting to read data&quot; line but I never see a &quot;Got a line!&quot; line emitted. What is the proper way to wire up stdin between the Python process and Java? From what I can tell this is the correct way to wire these up.\r\n\r\nI was expecting the Java process to receive the input from stdin as supplied by the Python process.","title":"Pipeing input to a Java process from Python - Java process does not receive input","body":"<p>I have a Java process that has the following logic:</p>\n<pre><code>      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n      while (true) {\n        String line;\n        LOGGER.info(&quot;Waiting to read data&quot;);\n        while ((line = in.readLine()) != null) {\n          LOGGER.info(&quot;Got a line!&quot;);\n          String[] words = line.split(&quot; &quot;);\n          for (String word : words) {\n              // do something with words\n</code></pre>\n<p>I can verify that <code>stdin</code> is read from successfully as I can run it via <code>java -jar myprogram.jar</code> and manually type in words where it is received once I hit &quot;enter&quot;.</p>\n<p>My python process looks like so:</p>\n<pre><code>    from subprocess import Popen, PIPE, STDOUT\n    command = ['java', '-jar', 'myprogram.jar']\n    p = Popen(command, stdin=PIPE)\n    time.sleep(10)\n    print(&quot;Process opened and waiting input\\n\\n\\n&quot;)\n    for word in ['foo', 'bar', 'baz']:\n        try:\n            p.stdin.write(word.encode() + b'\\n' )\n        except Exception as e:\n            print(e)\n</code></pre>\n<p>From what I can tell, my Java program does not complete any of the <code>readLine</code> calls as I can see the &quot;Waiting to read data&quot; line but I never see a &quot;Got a line!&quot; line emitted. What is the proper way to wire up stdin between the Python process and Java? From what I can tell this is the correct way to wire these up.</p>\n<p>I was expecting the Java process to receive the input from stdin as supplied by the Python process.</p>\n"},{"tags":["java","android","storage","storage-access-framework"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686081760,"post_id":76417698,"comment_id":134749847,"body_markdown":"ACTION_OPEN_DOCUMENT does indeed not need any permission. And it has nothing to do \nwith media files as the user can select any type of file. From device storage, external drive and cloud. And you did not even tell which permission you have in mind.","body":"ACTION_OPEN_DOCUMENT does indeed not need any permission. And it has nothing to do  with media files as the user can select any type of file. From device storage, external drive and cloud. And you did not even tell which permission you have in mind."},{"owner":{"account_id":27329849,"reputation":15,"user_id":20842166,"display_name":"steeveKA1"},"score":0,"creation_date":1686132629,"post_id":76417698,"comment_id":134756157,"body_markdown":"Okay i searched a little bit further and now i see that its possible to use the MediaStore API or the Storage Access Framewrok SAF for reaching Data in the shared storage. The example above shows, that its possible to read a MediaFile with the SAF. So now i want to know what is the benefit of MediaStore API? When do i have to use it instead of SAF?","body":"Okay i searched a little bit further and now i see that its possible to use the MediaStore API or the Storage Access Framewrok SAF for reaching Data in the shared storage. The example above shows, that its possible to read a MediaFile with the SAF. So now i want to know what is the benefit of MediaStore API? When do i have to use it instead of SAF?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686134029,"post_id":76417698,"comment_id":134756434,"body_markdown":"You cann do what you want and you will know that a difference for instance is that with SAF you need user interaction. With media store not.","body":"You cann do what you want and you will know that a difference for instance is that with SAF you need user interaction. With media store not."},{"owner":{"account_id":27329849,"reputation":15,"user_id":20842166,"display_name":"steeveKA1"},"score":0,"creation_date":1686329127,"post_id":76417698,"comment_id":134788813,"body_markdown":"Ok thanks a lot","body":"Ok thanks a lot"}],"owner":{"account_id":27329849,"reputation":15,"user_id":20842166,"display_name":"steeveKA1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686078363,"creation_date":1686078363,"question_id":76417698,"body_markdown":"im just wondering. Wasnt it declared by devs that to open media files in shared storage, who comes from another app, need to declare permission in Manifest?\r\n\r\nLike why is this code working without any permissions? I can open nearly every picture in shared storage i have on my phone and use it inside my owner app.\r\n\r\n    button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                \r\n                Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n                intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                intent.setType(&quot;image/*&quot;);\r\n                activityResultLauncher.launch(intent);\r\n            }\r\n        });\r\n\r\n\r\n    } \r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n        @Override\r\n        public void onActivityResult(ActivityResult result) {\r\n            Uri uri = result.getData().getData();\r\n            imageView.setImageURI(uri);\r\n        }\r\n    });","title":"Android Shared Storage Open Picture inside own App","body":"<p>im just wondering. Wasnt it declared by devs that to open media files in shared storage, who comes from another app, need to declare permission in Manifest?</p>\n<p>Like why is this code working without any permissions? I can open nearly every picture in shared storage i have on my phone and use it inside my owner app.</p>\n<pre><code>button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            \n            Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n            intent.addCategory(Intent.CATEGORY_OPENABLE);\n            intent.setType(&quot;image/*&quot;);\n            activityResultLauncher.launch(intent);\n        }\n    });\n\n\n} \n\nActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n    @Override\n    public void onActivityResult(ActivityResult result) {\n        Uri uri = result.getData().getData();\n        imageView.setImageURI(uri);\n    }\n});\n</code></pre>\n"},{"tags":["java","keylistener","2d-games"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686078438,"post_id":76417393,"comment_id":134749273,"body_markdown":"A KeyListener only responds to the component with focus. Your component doesn&#39;t have focus. Instead you should be using `Key Bindings`. Key Bindings can be configured to work even when the component doesn&#39;t have focus. Check out [Motion Using the Keyboard](https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/) for more information and examples.","body":"A KeyListener only responds to the component with focus. Your component doesn&#39;t have focus. Instead you should be using <code>Key Bindings</code>. Key Bindings can be configured to work even when the component doesn&#39;t have focus. Check out <a href=\"https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/\" rel=\"nofollow noreferrer\">Motion Using the Keyboard</a> for more information and examples."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686085640,"post_id":76417393,"comment_id":134750490,"body_markdown":"It worked fine here.","body":"It worked fine here."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686096075,"post_id":76417393,"comment_id":134751516,"body_markdown":"Also, don&#39;t use a Thread for the game loop. The state of Swing components should be updated on the Event Dispatch Thread (EDT). Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information. Instead you should be using a `Swing Timer`. The tutorial also has a section on the Swing Timer.","body":"Also, don&#39;t use a Thread for the game loop. The state of Swing components should be updated on the Event Dispatch Thread (EDT). Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information. Instead you should be using a <code>Swing Timer</code>. The tutorial also has a section on the Swing Timer."}],"owner":{"account_id":27796901,"reputation":1,"user_id":21222186,"display_name":"Suvile"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686078315,"creation_date":1686075452,"question_id":76417393,"body_markdown":"\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args){\r\n            var gameWindow = new GameWindow();\r\n            var gamePanel = new GamePanel();\r\n    \r\n            gamePanel.startGameThread();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    import javax.swing.*;\r\n    \r\n    public class GameWindow extends JFrame {\r\n    \r\n        GameWindow() {\r\n            var gamePanel = new GamePanel();\r\n    \r\n            this.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            this.setResizable(false);\r\n            this.setTitle(&quot;Rycoon Alpha Version 0.1&quot;);\r\n            this.setLocationRelativeTo(null);\r\n            this.setVisible(true);\r\n    \r\n            this.add(gamePanel);\r\n            this.pack();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class GamePanel extends JPanel implements Runnable{\r\n    \r\n        final int originalTileSize = 16;\r\n        final int scale = 6;\r\n    \r\n        final int tileSize = originalTileSize * scale;\r\n        final int maxScreenCol = 10;\r\n        final int maxScreenRow = 6;\r\n        final int screenWidth = tileSize * maxScreenCol;\r\n        final int screenHeight = tileSize * maxScreenRow;\r\n    \r\n        KeyInput keyI = new KeyInput();\r\n        Thread gameThread;\r\n    \r\n        int playerX = 250;\r\n        int playerY = 480;\r\n        int playerSpeed = 4;\r\n    \r\n        public GamePanel(){\r\n            this.addKeyListener(keyI);\r\n            this.setPreferredSize(new Dimension(screenWidth,screenHeight));\r\n            this.setBackground(Color.CYAN);\r\n            this.setDoubleBuffered(true);\r\n            this.setFocusable(true);\r\n        }\r\n    \r\n        public void startGameThread(){\r\n    \r\n            gameThread = new Thread(this);\r\n            gameThread.start();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n    \r\n            while(gameThread != null){\r\n    \r\n                update();\r\n                repaint();\r\n            }\r\n        }\r\n    \r\n        public void update(){\r\n    \r\n            if(keyI.jumped == true){\r\n                playerY -= playerSpeed;\r\n                System.out.println(&quot;test&quot;);\r\n            }\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        public void paintComponent(Graphics g){\r\n    \r\n            super.paintComponent(g);\r\n            Graphics2D g2 = (Graphics2D)g;\r\n    \r\n            g2.setColor(Color.white);\r\n            g2.fillRect(playerX, playerY, tileSize, tileSize);\r\n            g2.dispose();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    \r\n    public class KeyInput implements KeyListener {\r\n    \r\n        public boolean jumped = false;\r\n    \r\n        @Override\r\n        public void keyTyped(KeyEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void keyPressed(KeyEvent e) {\r\n    \r\n            int code = e.getKeyCode();\r\n    \r\n            if(code == KeyEvent.VK_W){\r\n                jumped = true;\r\n                System.out.println(&quot;hi&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void keyReleased(KeyEvent e) {\r\n        }\r\n    }\r\n\r\nI&#39;ve tried switching to different key inputs but I can&#39;t even get it to print anything\r\n\r\n\r\n\r\n\r\n","title":"key listener is not responding","body":"<pre><code>public class Main {\n\n    public static void main(String[] args){\n        var gameWindow = new GameWindow();\n        var gamePanel = new GamePanel();\n\n        gamePanel.startGameThread();\n    }\n}\n\n\n\nimport javax.swing.*;\n\npublic class GameWindow extends JFrame {\n\n    GameWindow() {\n        var gamePanel = new GamePanel();\n\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setResizable(false);\n        this.setTitle(&quot;Rycoon Alpha Version 0.1&quot;);\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n\n        this.add(gamePanel);\n        this.pack();\n    }\n}\n\n\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class GamePanel extends JPanel implements Runnable{\n\n    final int originalTileSize = 16;\n    final int scale = 6;\n\n    final int tileSize = originalTileSize * scale;\n    final int maxScreenCol = 10;\n    final int maxScreenRow = 6;\n    final int screenWidth = tileSize * maxScreenCol;\n    final int screenHeight = tileSize * maxScreenRow;\n\n    KeyInput keyI = new KeyInput();\n    Thread gameThread;\n\n    int playerX = 250;\n    int playerY = 480;\n    int playerSpeed = 4;\n\n    public GamePanel(){\n        this.addKeyListener(keyI);\n        this.setPreferredSize(new Dimension(screenWidth,screenHeight));\n        this.setBackground(Color.CYAN);\n        this.setDoubleBuffered(true);\n        this.setFocusable(true);\n    }\n\n    public void startGameThread(){\n\n        gameThread = new Thread(this);\n        gameThread.start();\n    }\n\n    @Override\n    public void run() {\n\n        while(gameThread != null){\n\n            update();\n            repaint();\n        }\n    }\n\n    public void update(){\n\n        if(keyI.jumped == true){\n            playerY -= playerSpeed;\n            System.out.println(&quot;test&quot;);\n        }\n\n\n\n    }\n\n    public void paintComponent(Graphics g){\n\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D)g;\n\n        g2.setColor(Color.white);\n        g2.fillRect(playerX, playerY, tileSize, tileSize);\n        g2.dispose();\n    }\n}\n\n\n\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class KeyInput implements KeyListener {\n\n    public boolean jumped = false;\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n\n        int code = e.getKeyCode();\n\n        if(code == KeyEvent.VK_W){\n            jumped = true;\n            System.out.println(&quot;hi&quot;);\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n    }\n}\n</code></pre>\n<p>I've tried switching to different key inputs but I can't even get it to print anything</p>\n"},{"tags":["java","caching","redisson"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686081396,"post_id":76417692,"comment_id":134749793,"body_markdown":"Heap memory usage? What is the CPU being used for?","body":"Heap memory usage? What is the CPU being used for?"},{"owner":{"account_id":2814933,"reputation":2695,"user_id":2420280,"accept_rate":54,"display_name":"Osama Jetawe"},"score":0,"creation_date":1686082042,"post_id":76417692,"comment_id":134749887,"body_markdown":"Sorry @aled, I&#39;m not getting your point , do you mean its a Heap memory issue ?","body":"Sorry @aled, I&#39;m not getting your point , do you mean its a Heap memory issue ?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686086872,"post_id":76417692,"comment_id":134750640,"body_markdown":"There are many possible causes for high CPU in Java applications. Static analysis of code is most of the time useless by itself. Information about the dynamic state of the running application is needed. What analysis have you realized so far?","body":"There are many possible causes for high CPU in Java applications. Static analysis of code is most of the time useless by itself. Information about the dynamic state of the running application is needed. What analysis have you realized so far?"}],"owner":{"account_id":2814933,"reputation":2695,"user_id":2420280,"accept_rate":54,"display_name":"Osama Jetawe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686078298,"creation_date":1686078298,"question_id":76417692,"body_markdown":"I&#39;m usign Java Redisson client version 3.16.0 and java version 1.8\r\n\r\nbelow is my cache config `ttl` \r\n\r\n    {\r\n      &quot;cache1&quot;: {\r\n        &quot;ttl&quot;: 12000000\r\n      },\r\n      &quot;cache2&quot;: {\r\n        &quot;ttl&quot;: 12000000\r\n      },\r\n      &quot;cache3&quot;: {\r\n        &quot;ttl&quot;: 12000000\r\n      }\r\n    }\r\n\r\nI can see that there many calls using `RedisExecutor` which causing **high CPU utilization** even the TTL is very high around 6 hours, however the `RedisExecutor` keep calling redis doing many commands to evict the cache and it runs every seconds even if there is no traffic on the application\r\n\r\n    1- RedisExecutor- connection released for command (EVAL) and params [if redis.call(&#39;setnx&#39;, KEYS[6]\r\n\r\n    2- RedisExecutor- acquired connection for command (EVAL) and params [if redis.call(&#39;setnx&#39;, KEYS[6], ARGV[4]) ==\r\n\r\nany recommendation to reduce number if these calls to maintain the CPU usage ? \r\n\r\n","title":"Redisson RedisExecutor too many calls causing high CPU load","body":"<p>I'm usign Java Redisson client version 3.16.0 and java version 1.8</p>\n<p>below is my cache config <code>ttl</code></p>\n<pre><code>{\n  &quot;cache1&quot;: {\n    &quot;ttl&quot;: 12000000\n  },\n  &quot;cache2&quot;: {\n    &quot;ttl&quot;: 12000000\n  },\n  &quot;cache3&quot;: {\n    &quot;ttl&quot;: 12000000\n  }\n}\n</code></pre>\n<p>I can see that there many calls using <code>RedisExecutor</code> which causing <strong>high CPU utilization</strong> even the TTL is very high around 6 hours, however the <code>RedisExecutor</code> keep calling redis doing many commands to evict the cache and it runs every seconds even if there is no traffic on the application</p>\n<pre><code>1- RedisExecutor- connection released for command (EVAL) and params [if redis.call('setnx', KEYS[6]\n\n2- RedisExecutor- acquired connection for command (EVAL) and params [if redis.call('setnx', KEYS[6], ARGV[4]) ==\n</code></pre>\n<p>any recommendation to reduce number if these calls to maintain the CPU usage ?</p>\n"},{"tags":["java","sql","mysql","jdbc"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":1,"creation_date":1686070509,"post_id":76416840,"comment_id":134747685,"body_markdown":"`Duplicate entry &#39;4&#39; for key &#39;employee` does that really not give you a big clue","body":"<code>Duplicate entry &#39;4&#39; for key &#39;employee</code> does that really not give you a big clue"},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1686070628,"post_id":76416840,"comment_id":134747707,"body_markdown":"Try entering a number other than 4","body":"Try entering a number other than 4"}],"answers":[{"tags":[],"owner":{"account_id":12363836,"reputation":509,"user_id":9016872,"display_name":"Jainam Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686078044,"creation_date":1686078044,"answer_id":76417657,"question_id":76416840,"body_markdown":"Try querying the database, check against the database if there is a value 4 already in the column which is set as Primary Key in your db table. If yes, you need to use a different value as suggested in comments.\r\nI would suggest altering the table to use [AUTO_INCREMENT][1] for your ID Column. \r\n\r\n \r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/5.7/en/example-auto-increment.html","title":"Java JDBC Connection Integrity Constraint Violation","body":"<p>Try querying the database, check against the database if there is a value 4 already in the column which is set as Primary Key in your db table. If yes, you need to use a different value as suggested in comments.\nI would suggest altering the table to use <a href=\"https://dev.mysql.com/doc/refman/5.7/en/example-auto-increment.html\" rel=\"nofollow noreferrer\">AUTO_INCREMENT</a> for your ID Column.</p>\n"}],"owner":{"account_id":28187561,"reputation":1,"user_id":21543485,"display_name":"Siddhi Sattur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686078044,"creation_date":1686070431,"question_id":76416840,"body_markdown":"I created a switch case and created different classes to create Employee. \r\nwhen I create an employee an entry is added in the table but i get this error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;4&#39; for key &#39;employee.PRIMARY&#39;\r\n\tat com.siddhi.empapp.EmployeeDaoImpl.createEmployee(EmployeeDaoImpl.java:26)\r\n\tat com.siddhi.empapp.Main.main(Main.java:36)\r\nCaused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;4&#39; for key &#39;employee.PRIMARY&#39;\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\r\n\tat com.siddhi.empapp.EmployeeDaoImpl.createEmployee(EmployeeDaoImpl.java:22)\r\n\t... 1 more\r\n```\r\n\r\n\r\nThis is the main class switch case :\r\n```\r\ncase 1:\r\n                    Employee emp=new Employee();\r\n                    System.out.print(&quot;Enter ID: &quot;);\r\n                     id=sc.nextInt();\r\n                    System.out.print(&quot;Enter Name: &quot;);\r\n                     name=sc.next();\r\n                    System.out.print(&quot;Enter Salary: &quot;);\r\n                    double salary=sc.nextDouble();\r\n                    System.out.print(&quot;Enter Age: &quot;);\r\n                    int age=sc.nextInt();\r\n                    emp.setId(id);\r\n                    emp.setName(name);\r\n                    emp.setSalary(salary);\r\n                    emp.setAge(age);\r\n                    dao.createEmployee(emp);\r\n                    break;\r\n```\r\n\r\nThis is the implementation:\r\n\r\n```\r\n@Override\r\n    public void createEmployee(Employee emp) {\r\n        con=DBConnection.createDBConnetion();\r\n        String query=&quot;insert into employee values(?,?,?,?)&quot;;\r\n        try {\r\n            PreparedStatement pstm=con.prepareStatement(query);\r\n            pstm.setInt(1,emp.getId());\r\n            pstm.setString(2,emp.getName());\r\n            pstm.setDouble(3,emp.getSalary());\r\n            pstm.setInt(4,emp.getAge());\r\n            pstm.executeUpdate();\r\n\r\n            int cnt = pstm . executeUpdate();\r\n            if(cnt!=0)\r\n                System.out.println(&quot;Employee Inserted Successfully&quot;);\r\n        }catch (SQLException e){\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n```","title":"Java JDBC Connection Integrity Constraint Violation","body":"<p>I created a switch case and created different classes to create Employee.\nwhen I create an employee an entry is added in the table but i get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '4' for key 'employee.PRIMARY'\n    at com.siddhi.empapp.EmployeeDaoImpl.createEmployee(EmployeeDaoImpl.java:26)\n    at com.siddhi.empapp.Main.main(Main.java:36)\nCaused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '4' for key 'employee.PRIMARY'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\n    at com.siddhi.empapp.EmployeeDaoImpl.createEmployee(EmployeeDaoImpl.java:22)\n    ... 1 more\n</code></pre>\n<p>This is the main class switch case :</p>\n<pre><code>case 1:\n                    Employee emp=new Employee();\n                    System.out.print(&quot;Enter ID: &quot;);\n                     id=sc.nextInt();\n                    System.out.print(&quot;Enter Name: &quot;);\n                     name=sc.next();\n                    System.out.print(&quot;Enter Salary: &quot;);\n                    double salary=sc.nextDouble();\n                    System.out.print(&quot;Enter Age: &quot;);\n                    int age=sc.nextInt();\n                    emp.setId(id);\n                    emp.setName(name);\n                    emp.setSalary(salary);\n                    emp.setAge(age);\n                    dao.createEmployee(emp);\n                    break;\n</code></pre>\n<p>This is the implementation:</p>\n<pre><code>@Override\n    public void createEmployee(Employee emp) {\n        con=DBConnection.createDBConnetion();\n        String query=&quot;insert into employee values(?,?,?,?)&quot;;\n        try {\n            PreparedStatement pstm=con.prepareStatement(query);\n            pstm.setInt(1,emp.getId());\n            pstm.setString(2,emp.getName());\n            pstm.setDouble(3,emp.getSalary());\n            pstm.setInt(4,emp.getAge());\n            pstm.executeUpdate();\n\n            int cnt = pstm . executeUpdate();\n            if(cnt!=0)\n                System.out.println(&quot;Employee Inserted Successfully&quot;);\n        }catch (SQLException e){\n            throw new RuntimeException(e);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","azure","azureservicebus","spring-cloud-stream"],"answers":[{"comments":[{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1685519957,"post_id":76369687,"comment_id":134669918,"body_markdown":"I think your final update is using the standard Azure Service Bus java SDK, but I am using the Spring Cloud Steam Binder for Azure, so quite a different library (that might use this one beneath).","body":"I think your final update is using the standard Azure Service Bus java SDK, but I am using the Spring Cloud Steam Binder for Azure, so quite a different library (that might use this one beneath)."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1685520036,"post_id":76369687,"comment_id":134669935,"body_markdown":"As about my code, setting `auto-closeable` to false and manually checkpointing solves the issue, but my understanding is that you shouldn&#39;t be forced to manually checkpoint, as this is only something left to the preference of the caller (ie., not something that impacts how concurrency works).","body":"As about my code, setting <code>auto-closeable</code> to false and manually checkpointing solves the issue, but my understanding is that you shouldn&#39;t be forced to manually checkpoint, as this is only something left to the preference of the caller (ie., not something that impacts how concurrency works)."},{"owner":{"account_id":7880151,"reputation":773,"user_id":5954452,"display_name":"BlackFox"},"score":0,"creation_date":1685557780,"post_id":76369687,"comment_id":134678539,"body_markdown":"next the MS doc I shared clearly states they thought about your issue. and they have a special way to dump the logs for both completed and abandoned flows. this is made available to end users and dev/admins....Im going to stop my research here. I personal feal this is a great place to end this question for SME in Spring and Java.","body":"next the MS doc I shared clearly states they thought about your issue. and they have a special way to dump the logs for both completed and abandoned flows. this is made available to end users and dev/admins....Im going to stop my research here. I personal feal this is a great place to end this question for SME in Spring and Java."},{"owner":{"account_id":7880151,"reputation":773,"user_id":5954452,"display_name":"BlackFox"},"score":0,"creation_date":1685568374,"post_id":76369687,"comment_id":134680351,"body_markdown":"https://stackoverflow.com/questions/63603152/for-the-azure-servicebus-jms-spring-boot-starter-is-there-a-properties-setting - see here about PeekLock with spring java","body":"<a href=\"https://stackoverflow.com/questions/63603152/for-the-azure-servicebus-jms-spring-boot-starter-is-there-a-properties-setting\" title=\"for the azure servicebus jms spring boot starter is there a properties setting\">stackoverflow.com/questions/63603152/&hellip;</a> - see here about PeekLock with spring java"}],"tags":[],"owner":{"account_id":7880151,"reputation":773,"user_id":5954452,"display_name":"BlackFox"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685568462,"creation_date":1685498550,"answer_id":76369687,"question_id":76332172,"body_markdown":"so, it looks like you have concurrent messages? if a few fail at the same time, it can be hard to understand the issue and fix it.\r\n\r\nI&#39;m going to give this a try for you...but I hate java. \r\n\r\nQuestion 1. have you tried messageContent.abandon()? next, i would find a video breaking down concurrent flows. My limited understanding of the logic is it helps with speed and scale. It is weak at providing and order to the process for a human lol. I understand it like set() vs array in programing python (the language I know best).  concurrency will split the load across CPU&#39;s in an order that will increase the speed of processing the data over all. it does this by not repeating its self using a data structure like or better than the set() function in python. \r\n\r\n(here is a video i watch to research the problem: https://www.youtube.com/watch?v=0LQPNjjfolk)\r\n\r\nI speed up looping through data by using set() over arrays. This is because only unique values can go in set() and a true or false check is quicker than indexing the data. It also saves memory in some languages too. \r\n\r\nif you are processing many concurrent events, you would want to design an approach similar to set().\r\n\r\nmy understanding of service bus consumers, when you use auto-complete and its set to true if an exception is thrown the message is considered failed and is automatically abandon and requeued.\r\n\r\nthe system needs a broker acknowledgment. it may never get it during concurrent processing. Logging this kind of exception is a must in Networking for IT systems. as an ex-support engineer i remember many hard days analysis Unidirectional data flow with packet capture:(\r\n\r\n\r\n\r\nIf this is so, you should try **messageContent.abandon()**.  This will let you further process even with concurrent message processing.\r\n\r\nI would recommend reviewing best practice architecture for service bus: \r\n\r\n 1. https://learn.microsoft.com/en-us/azure/architecture/patterns/competing-consumers\r\n    \r\n 2. https://learn.microsoft.com/en-us/azure/well-architected/services/messaging/service-bus/operational-excellence\r\n\r\nI would also recommend planning testing your system. by thinking about how you will test your system, you can better, plan, research and solve new issues in house:). I got to a solution by review best practices for java and service bus architecture (the video i shared), then i looked at the Microsoft documentation for service bus, then I thought of the logic in python (because i hate java :) \r\n\r\nI am in my first year at Microsoft as an Azure Cloud Architect. Thank you for choosing Microsoft and please let me know your feedback. I will update this post if you have any questions.\r\n\r\n**Update:**\r\n\r\nAs i contune to read through the documentation it looks like we may have a solution for your use case: **PeekLock**.\r\n\r\nhttps://learn.microsoft.com/en-us/azure/architecture/patterns/competing-consumers\r\n\r\nPlease tell me if the above fit your use case.\r\n\r\n**Final update (I found you a solution in java :):**\r\n\r\naccording to the MS Java SDK documentation here is example code for using PeekLock in java:\r\n\r\n**docs:** https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/servicebus/azure-m\r\n\r\ncode: \r\n\r\n**send messages**\r\n\r\n    ServiceBusSenderClient sender = new ServiceBusClientBuilder()\r\n        .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\r\n        .sender()\r\n        .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\r\n        .buildClient();\r\n    List&lt;ServiceBusMessage&gt; messages = Arrays.asList(\r\n        new ServiceBusMessage(&quot;Hello world&quot;).setMessageId(&quot;1&quot;),\r\n        new ServiceBusMessage(&quot;Bonjour&quot;).setMessageId(&quot;2&quot;));\r\n    \r\n    sender.sendMessages(messages);\r\n    \r\n    // When you are done using the sender, dispose of it.\r\n    sender. Close();\r\n\r\n\r\n**Receive messages:**\r\n   \r\n\r\n     // Sample code that processes a single message which is received in PeekLock mode.\r\n    Consumer&lt;ServiceBusReceivedMessageContext&gt; processMessage = context -&gt; {\r\n        final ServiceBusReceivedMessage message = context.getMessage();\r\n        // Randomly complete or abandon each message. Ideally, in real-world scenarios, if the business logic\r\n        // handling message reaches desired state such that it doesn&#39;t require Service Bus to redeliver\r\n        // the same message, then context.complete() should be called otherwise context.abandon().\r\n        final boolean success = Math.random() &lt; 0.5;\r\n        if (success) {\r\n            try {\r\n                context.complete();\r\n            } catch (Exception completionError) {\r\n                System.out.printf(&quot;Completion of the message %s failed\\n&quot;, message.getMessageId());\r\n                completionError.printStackTrace();\r\n            }\r\n        } else {\r\n            try {\r\n                context.abandon();\r\n            } catch (Exception abandonError) {\r\n                System.out.printf(&quot;Abandoning of the message %s failed\\n&quot;, message.getMessageId());\r\n                abandonError.printStackTrace();\r\n            }\r\n        }\r\n    };\r\n    \r\n    // Sample code that gets called if there&#39;s an error\r\n    Consumer&lt;ServiceBusErrorContext&gt; processError = errorContext -&gt; {\r\n        System.err.println(&quot;Error occurred while receiving message: &quot; + errorContext.getException());\r\n    };\r\n    \r\n    // create the processor client via the builder and its sub-builder\r\n    ServiceBusProcessorClient processorClient = new ServiceBusClientBuilder()\r\n                                    .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\r\n                                    .processor()\r\n                                    .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\r\n                                    .receiveMode(ServiceBusReceiveMode.PEEK_LOCK)\r\n                                    .disableAutoComplete() // Make sure to explicitly opt in to manual settlement (e.g. complete, abandon).\r\n                                    .processMessage(processMessage)\r\n                                    .processError(processError)\r\n                                    .disableAutoComplete()\r\n                                    .buildProcessorClient();\r\n    \r\n    // Starts the processor in the background and returns immediately\r\n    processorClient.start();\r\n\r\nThe above is an example for the java SDK. Here is a questions in relation to Spring Java and PeekLock: \r\n\r\nhttps://stackoverflow.com/questions/63603152/for-the-azure-servicebus-jms-spring-boot-starter-is-there-a-properties-setting - see here about PeekLock with spring java","title":"Increasing concurrent calls undefined behaviour in Spring Cloud Stream Azure Service Bus","body":"<p>so, it looks like you have concurrent messages? if a few fail at the same time, it can be hard to understand the issue and fix it.</p>\n<p>I'm going to give this a try for you...but I hate java.</p>\n<p>Question 1. have you tried messageContent.abandon()? next, i would find a video breaking down concurrent flows. My limited understanding of the logic is it helps with speed and scale. It is weak at providing and order to the process for a human lol. I understand it like set() vs array in programing python (the language I know best).  concurrency will split the load across CPU's in an order that will increase the speed of processing the data over all. it does this by not repeating its self using a data structure like or better than the set() function in python.</p>\n<p>(here is a video i watch to research the problem: <a href=\"https://www.youtube.com/watch?v=0LQPNjjfolk\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=0LQPNjjfolk</a>)</p>\n<p>I speed up looping through data by using set() over arrays. This is because only unique values can go in set() and a true or false check is quicker than indexing the data. It also saves memory in some languages too.</p>\n<p>if you are processing many concurrent events, you would want to design an approach similar to set().</p>\n<p>my understanding of service bus consumers, when you use auto-complete and its set to true if an exception is thrown the message is considered failed and is automatically abandon and requeued.</p>\n<p>the system needs a broker acknowledgment. it may never get it during concurrent processing. Logging this kind of exception is a must in Networking for IT systems. as an ex-support engineer i remember many hard days analysis Unidirectional data flow with packet capture:(</p>\n<p>If this is so, you should try <strong>messageContent.abandon()</strong>.  This will let you further process even with concurrent message processing.</p>\n<p>I would recommend reviewing best practice architecture for service bus:</p>\n<ol>\n<li><p><a href=\"https://learn.microsoft.com/en-us/azure/architecture/patterns/competing-consumers\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/architecture/patterns/competing-consumers</a></p>\n</li>\n<li><p><a href=\"https://learn.microsoft.com/en-us/azure/well-architected/services/messaging/service-bus/operational-excellence\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/well-architected/services/messaging/service-bus/operational-excellence</a></p>\n</li>\n</ol>\n<p>I would also recommend planning testing your system. by thinking about how you will test your system, you can better, plan, research and solve new issues in house:). I got to a solution by review best practices for java and service bus architecture (the video i shared), then i looked at the Microsoft documentation for service bus, then I thought of the logic in python (because i hate java :)</p>\n<p>I am in my first year at Microsoft as an Azure Cloud Architect. Thank you for choosing Microsoft and please let me know your feedback. I will update this post if you have any questions.</p>\n<p><strong>Update:</strong></p>\n<p>As i contune to read through the documentation it looks like we may have a solution for your use case: <strong>PeekLock</strong>.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/architecture/patterns/competing-consumers\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/architecture/patterns/competing-consumers</a></p>\n<p>Please tell me if the above fit your use case.</p>\n<p><strong>Final update (I found you a solution in java :):</strong></p>\n<p>according to the MS Java SDK documentation here is example code for using PeekLock in java:</p>\n<p><strong>docs:</strong> <a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/servicebus/azure-m\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/servicebus/azure-m</a></p>\n<p>code:</p>\n<p><strong>send messages</strong></p>\n<pre><code>ServiceBusSenderClient sender = new ServiceBusClientBuilder()\n    .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\n    .sender()\n    .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\n    .buildClient();\nList&lt;ServiceBusMessage&gt; messages = Arrays.asList(\n    new ServiceBusMessage(&quot;Hello world&quot;).setMessageId(&quot;1&quot;),\n    new ServiceBusMessage(&quot;Bonjour&quot;).setMessageId(&quot;2&quot;));\n\nsender.sendMessages(messages);\n\n// When you are done using the sender, dispose of it.\nsender. Close();\n</code></pre>\n<p><strong>Receive messages:</strong></p>\n<pre><code> // Sample code that processes a single message which is received in PeekLock mode.\nConsumer&lt;ServiceBusReceivedMessageContext&gt; processMessage = context -&gt; {\n    final ServiceBusReceivedMessage message = context.getMessage();\n    // Randomly complete or abandon each message. Ideally, in real-world scenarios, if the business logic\n    // handling message reaches desired state such that it doesn't require Service Bus to redeliver\n    // the same message, then context.complete() should be called otherwise context.abandon().\n    final boolean success = Math.random() &lt; 0.5;\n    if (success) {\n        try {\n            context.complete();\n        } catch (Exception completionError) {\n            System.out.printf(&quot;Completion of the message %s failed\\n&quot;, message.getMessageId());\n            completionError.printStackTrace();\n        }\n    } else {\n        try {\n            context.abandon();\n        } catch (Exception abandonError) {\n            System.out.printf(&quot;Abandoning of the message %s failed\\n&quot;, message.getMessageId());\n            abandonError.printStackTrace();\n        }\n    }\n};\n\n// Sample code that gets called if there's an error\nConsumer&lt;ServiceBusErrorContext&gt; processError = errorContext -&gt; {\n    System.err.println(&quot;Error occurred while receiving message: &quot; + errorContext.getException());\n};\n\n// create the processor client via the builder and its sub-builder\nServiceBusProcessorClient processorClient = new ServiceBusClientBuilder()\n                                .connectionString(&quot;&lt;&lt; CONNECTION STRING FOR THE SERVICE BUS NAMESPACE &gt;&gt;&quot;)\n                                .processor()\n                                .queueName(&quot;&lt;&lt; QUEUE NAME &gt;&gt;&quot;)\n                                .receiveMode(ServiceBusReceiveMode.PEEK_LOCK)\n                                .disableAutoComplete() // Make sure to explicitly opt in to manual settlement (e.g. complete, abandon).\n                                .processMessage(processMessage)\n                                .processError(processError)\n                                .disableAutoComplete()\n                                .buildProcessorClient();\n\n// Starts the processor in the background and returns immediately\nprocessorClient.start();\n</code></pre>\n<p>The above is an example for the java SDK. Here is a questions in relation to Spring Java and PeekLock:</p>\n<p><a href=\"https://stackoverflow.com/questions/63603152/for-the-azure-servicebus-jms-spring-boot-starter-is-there-a-properties-setting\">For the Azure servicebus jms spring boot starter, is there a properties setting to requeue messages if the processing fails?</a> - see here about PeekLock with spring java</p>\n"},{"comments":[{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1686042741,"post_id":76393552,"comment_id":134741484,"body_markdown":"Okay, but then my question is: how do I reject messages? That is, without the checkpoint object.","body":"Okay, but then my question is: how do I reject messages? That is, without the checkpoint object."},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1686051052,"post_id":76393552,"comment_id":134743196,"body_markdown":"Maybe by setting this to true: spring.cloud.stream.servicebus.bindings.consume-in-0.consumer.auto-complete","body":"Maybe by setting this to true: spring.cloud.stream.servicebus.bindings.consume-in-0.consume&zwnj;&#8203;r.auto-complete"},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1686053183,"post_id":76393552,"comment_id":134743641,"body_markdown":"If I set that one to true, then the prescribed behaviour is I have described it: finishing without exception is success, throwing an exception is failute. no checkpointing to be done on the caller side.","body":"If I set that one to true, then the prescribed behaviour is I have described it: finishing without exception is success, throwing an exception is failute. no checkpointing to be done on the caller side."},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1686076979,"post_id":76393552,"comment_id":134749034,"body_markdown":"See that example code : https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue and see this interface : https://azuresdkdocs.blob.core.windows.net/$web/java/azure-spring-integration-core/2.0.0-beta.1/index.html?com/azure/spring/integration/core/api/Checkpointer.html. In the example, you know how to get a Checkpointer. In the javadoc, you see that a method is available to let know the service that the message processing failed.","body":"See that example code : <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/developer/java/spring-framew&zwnj;&#8203;ork/&hellip;</a> and see this interface : <a href=\"https://azuresdkdocs.blob.core.windows.net/$web/java/azure-spring-integration-core/2.0.0-beta.1/index.html?com/azure/spring/integration/core/api/Checkpointer.html\" rel=\"nofollow noreferrer\">azuresdkdocs.blob.core.windows.net/$web/java/&hellip;</a>. In the example, you know how to get a Checkpointer. In the javadoc, you see that a method is available to let know the service that the message processing failed."},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":1,"creation_date":1686077179,"post_id":76393552,"comment_id":134749068,"body_markdown":"So I guess you&#39;re supposed to do something like : \n```\ncheckpointer.success()\n                        .doOnSuccess(s-&gt;LOGGER.info(&quot;Message &#39;{}&#39; successfully checkpointed&quot;, message.getPayload()))\n                        .doOnError(checkpointer.failure())\n                        .block();\n```\nor try/catch and `checkpointer.failure inside the catch block when it fails.","body":"So I guess you&#39;re supposed to do something like :  ``` checkpointer.success()                         .doOnSuccess(s-&gt;LOGGER.info(&quot;Message &#39;{}&#39; successfully checkpointed&quot;, message.getPayload()))                         .doOnError(checkpointer.failure())                         .block(); ``` or try/catch and `checkpointer.failure inside the catch block when it fails."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1686114995,"post_id":76393552,"comment_id":134753044,"body_markdown":"yes, as I stated at the bottom of the question, manually checkpointing the messages makes multithreading work as expected. My whole concern is why it does not work when *not* doing manual checkpointing, as there is no documentation guideline do avoid automatic checkpointing.","body":"yes, as I stated at the bottom of the question, manually checkpointing the messages makes multithreading work as expected. My whole concern is why it does not work when <i>not</i> doing manual checkpointing, as there is no documentation guideline do avoid automatic checkpointing."},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1686119299,"post_id":76393552,"comment_id":134753521,"body_markdown":"OK, sorry, as I don&#39;t know very well azure service bus, I focused on your code. Now, I fully understand your concern. According to this doc, https://learn.microsoft.com/en-us/java/api/com.microsoft.azure.servicebus.messagehandleroptions?view=azure-java-stable, &quot;autoComplete - true if the pump should automatically complete message after onMessageHandler action is completed. false otherwise. &quot; We can see in your error message that the onMessageHandler action is considered as failed.  It should unlock the message.","body":"OK, sorry, as I don&#39;t know very well azure service bus, I focused on your code. Now, I fully understand your concern. According to this doc, <a href=\"https://learn.microsoft.com/en-us/java/api/com.microsoft.azure.servicebus.messagehandleroptions?view=azure-java-stable\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/java/api/&hellip;</a>, &quot;autoComplete - true if the pump should automatically complete message after onMessageHandler action is completed. false otherwise. &quot; We can see in your error message that the onMessageHandler action is considered as failed.  It should unlock the message."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1686119425,"post_id":76393552,"comment_id":134753545,"body_markdown":"Yes, that is what I was expecting. But instead of unlocking the messages normally, they are rather either eaten up or abandoned randomly.","body":"Yes, that is what I was expecting. But instead of unlocking the messages normally, they are rather either eaten up or abandoned randomly."},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":1,"creation_date":1686120714,"post_id":76393552,"comment_id":134753784,"body_markdown":"I think you should create an issue there: https://github.com/Azure/azure-sdk-for-java/issues","body":"I think you should create an issue there: <a href=\"https://github.com/Azure/azure-sdk-for-java/issues\" rel=\"nofollow noreferrer\">github.com/Azure/azure-sdk-for-java/issues</a>"}],"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686077688,"creation_date":1685741125,"answer_id":76393552,"question_id":76332172,"body_markdown":"**Probable solution**\r\n\r\nconsidering the example code on this page: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue\r\n\r\nand this interface : https://azuresdkdocs.blob.core.windows.net/$web/java/azure-spring-integration-core/2.0.0-beta.1/index.html?com/azure/spring/integration/core/api/Checkpointer.html\r\n\r\nI think you&#39;re supposed to do something like this :\r\n\r\n```java\r\npublic Consumer&lt;Message&lt;String&gt;&gt; consume() {\r\n        return message-&gt;{\r\n            Checkpointer checkpointer = (Checkpointer) message.getHeaders().get(CHECKPOINTER);\r\n            LOGGER.info(&quot;New message received: &#39;{}&#39;&quot;, message.getPayload());\r\n            checkpointer.success()\r\n                        .doOnSuccess(s-&gt;someProcessing(message))\r\n                        .doOnError(e-&gt; checkpointer.falure())\r\n                        .block();\r\n        };\r\n    }\r\n```\r\n\r\n--------------\r\n**Old answer**\r\n\r\nAccording to the Javadoc there : https://github.com/Azure/azure-sdk-for-java/blob/fd4ed4402038bf529d02642ed037a4669b396f1a/sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/models/ServiceBusReceiveMode.java#L50\r\n\r\nwhen you use the default &quot;ReceiveMode&quot;, you are supposed to let know the service what you want it to do with the message if you fail to process it.\r\n\r\nSo, I think @BlackFox is right even if the API he&#39;s using is not the same as yours. You cannot just throw an exception, you must tell to the azure bus what to do with the message. Until you tell it what to do, the message is locked.","title":"Increasing concurrent calls undefined behaviour in Spring Cloud Stream Azure Service Bus","body":"<p><strong>Probable solution</strong></p>\n<p>considering the example code on this page: <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue</a></p>\n<p>and this interface : <a href=\"https://azuresdkdocs.blob.core.windows.net/$web/java/azure-spring-integration-core/2.0.0-beta.1/index.html?com/azure/spring/integration/core/api/Checkpointer.html\" rel=\"nofollow noreferrer\">https://azuresdkdocs.blob.core.windows.net/$web/java/azure-spring-integration-core/2.0.0-beta.1/index.html?com/azure/spring/integration/core/api/Checkpointer.html</a></p>\n<p>I think you're supposed to do something like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Consumer&lt;Message&lt;String&gt;&gt; consume() {\n        return message-&gt;{\n            Checkpointer checkpointer = (Checkpointer) message.getHeaders().get(CHECKPOINTER);\n            LOGGER.info(&quot;New message received: '{}'&quot;, message.getPayload());\n            checkpointer.success()\n                        .doOnSuccess(s-&gt;someProcessing(message))\n                        .doOnError(e-&gt; checkpointer.falure())\n                        .block();\n        };\n    }\n</code></pre>\n<hr />\n<p><strong>Old answer</strong></p>\n<p>According to the Javadoc there : <a href=\"https://github.com/Azure/azure-sdk-for-java/blob/fd4ed4402038bf529d02642ed037a4669b396f1a/sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/models/ServiceBusReceiveMode.java#L50\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-sdk-for-java/blob/fd4ed4402038bf529d02642ed037a4669b396f1a/sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/models/ServiceBusReceiveMode.java#L50</a></p>\n<p>when you use the default &quot;ReceiveMode&quot;, you are supposed to let know the service what you want it to do with the message if you fail to process it.</p>\n<p>So, I think @BlackFox is right even if the API he's using is not the same as yours. You cannot just throw an exception, you must tell to the azure bus what to do with the message. Until you tell it what to do, the message is locked.</p>\n"}],"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1686077688,"creation_date":1685016964,"question_id":76332172,"body_markdown":"I have a simple Spring Cloud Azure Service Bus consumer defined as simply as follows, following the [official documentation][1]:\r\n```\r\n    @Bean\r\n    public Consumer&lt;Message&lt;byte[]&gt;&gt; consume() {\r\n        return message -&gt; someProcessing(message);\r\n    }\r\n``` \r\nThe default policy, if the `spring.cloud.stream.servicebus.bindings.consume-in-0.consumer.requeue-rejected` flag is `false`, is that messages that fail during consummation are requeued on the main queue for `MaxDeliveryCount` times, before going to the DLQ. I tested this behaviour and it consistently works - if, for example, I update the code to\r\n```\r\n    @Bean\r\n    public Consumer&lt;Message&lt;byte[]&gt;&gt; consume() {\r\n        return message -&gt; {\r\n           someProcessing(message);\r\n           throw new IllegalStateException();\r\n        }\r\n    }\r\n```\r\nthe message gets requeued as expected.\r\n\r\nIf I bump the number of consecutive calls, however, by setting `spring.cloud.stream.servicebus.bindings.consume-in-0.consumer.max-concurrent-calls=2`, the behaviour becomes undefined. **Some times it abandons the messages altogether, other times it requeues them in the main queue.** I don&#39;t understand why the behaviour is not consistent, i.e., the messages are always requeued. Part of the stack trace is as following.\r\n```\r\n2023-05-26 12:03:47.955 ERROR 52176 --- [undedElastic-12] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@71c11ee9]; nested exception is java.lang.IllegalStateException, failedMessage=GenericMessage [payload=byte[1948], headers={azure_service_bus_expires_at=2023-06-11T11:29:47.566Z, OwnedBy=owner, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@780ad3f2, azure_service_bus_message_id=ede22e431e0642ee9d3be263b3989c77, azure_service_bus_enqueued_sequence_number=132449, azure_service_bus_enqueued_time=2023-05-12T11:29:47.566Z, azure_service_bus_lock_token=c2167e9a-b6f5-4aed-b390-0f9714caf2a9, azure_service_bus_sequence_number=6969, azure_service_bus_time_to_live=PT720H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=fd556d60-a851-e39c-bca0-59e90d83722d, contentType=application/json, azure_service_bus_locked_until=2023-05-26T09:04:47.840Z, timestamp=1685091827953}]\r\n\tat org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:65)\r\n\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\tat org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:216)\r\n\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73)\r\n\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201)\r\n\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186)\r\n\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:383)\r\n\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:362)\r\n\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\r\n\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.IllegalStateException\r\n\tat com.subscriptions.Consumer.lambda$consume$0(Consumer.java:70)\r\n\tat com.helper.AnonymousAuthenticationRunner.runAnonymously(AnonymousAuthenticationRunner.java:24)\r\n\tat com.subscriptions.Consumer.lambda$consume$1(Consumer.java:50)\r\n\tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeConsumer(SimpleFunctionRegistry.java:1007)\r\n\tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:742)\r\n\tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:588)\r\n\tat org.springframework.cloud.stream.function.PartitionAwareFunctionWrapper.apply(PartitionAwareFunctionWrapper.java:84)\r\n\tat org.springframework.cloud.stream.function.FunctionConfiguration$FunctionWrapper.apply(FunctionConfiguration.java:791)\r\n\tat org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1.handleMessageInternal(FunctionConfiguration.java:623)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56)\r\n\t... 25 more\r\n\r\n2023-05-26 12:03:47.955 ERROR 52176 --- [undedElastic-12] .s.i.s.i.ServiceBusInboundChannelAdapter : Error in the operation USER_CALLBACK occurred on entity service/subscriptions/Subscription. Error: {}\r\n\r\ncom.azure.messaging.servicebus.ServiceBusException: failed to send Message to channel &#39;service.Subscription.errors&#39;; nested exception is com.azure.messaging.servicebus.ServiceBusException: A disposition requested earlier is waiting for the broker&#39;s ack; a new disposition request is not allowed.\r\n\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:387)\r\n\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:362)\r\n\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\r\n\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.springframework.messaging.MessageDeliveryException: failed to send Message to channel &#39;service.Subscription.errors&#39;; nested exception is com.azure.messaging.servicebus.ServiceBusException: A disposition requested earlier is waiting for the broker&#39;s ack; a new disposition request is not allowed.\r\n\tat org.springframework.integration.support.utils.IntegrationUtils.wrapInDeliveryExceptionIfNecessary(IntegrationUtils.java:166)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:339)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\tat org.springframework.integration.endpoint.MessageProducerSupport.sendErrorMessageIfNecessary(MessageProducerSupport.java:262)\r\n\tat org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:219)\r\n\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73)\r\n\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201)\r\n\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186)\r\n\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:383)\r\n\t... 10 common frames omitted\r\nCaused by: com.azure.messaging.servicebus.ServiceBusException: A disposition requested earlier is waiting for the broker&#39;s ack; a new disposition request is not allowed.\r\n\tat com.azure.messaging.servicebus.ServiceBusReceiverAsyncClient.lambda$updateDisposition$52(ServiceBusReceiverAsyncClient.java:1480)\r\n\tat reactor.core.publisher.Mono.lambda$onErrorMap$31(Mono.java:3733)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:278)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\r\n\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.onError(Operators.java:1863)\r\n\tat reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.signalCached(MonoCacheTime.java:340)\r\n\tat reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.onError(MonoCacheTime.java:363)\r\n\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\r\n\tat com.azure.core.amqp.implementation.handler.ReceiverUnsettledDeliveries$DispositionWork.onComplete(ReceiverUnsettledDeliveries.java:736)\r\n\tat com.azure.core.amqp.implementation.handler.ReceiverUnsettledDeliveries.lambda$sendDispositionImpl$3(ReceiverUnsettledDeliveries.java:334)\r\n\tat com.azure.core.amqp.implementation.handler.DispatchHandler.onTimerTask(DispatchHandler.java:32)\r\n\tat com.azure.core.amqp.implementation.ReactorDispatcher$WorkScheduler.run(ReactorDispatcher.java:207)\r\n\tat org.apache.qpid.proton.reactor.impl.SelectableImpl.readable(SelectableImpl.java:118)\r\n\tat org.apache.qpid.proton.reactor.impl.IOHandler.handleQuiesced(IOHandler.java:61)\r\n\tat org.apache.qpid.proton.reactor.impl.IOHandler.onUnhandled(IOHandler.java:390)\r\n\tat org.apache.qpid.proton.engine.BaseHandler.onReactorQuiesced(BaseHandler.java:87)\r\n\tat org.apache.qpid.proton.engine.BaseHandler.handle(BaseHandler.java:206)\r\n\tat org.apache.qpid.proton.engine.impl.EventImpl.dispatch(EventImpl.java:108)\r\n\tat org.apache.qpid.proton.reactor.impl.ReactorImpl.dispatch(ReactorImpl.java:324)\r\n\tat org.apache.qpid.proton.reactor.impl.ReactorImpl.process(ReactorImpl.java:292)\r\n\tat com.azure.core.amqp.implementation.ReactorExecutor.run(ReactorExecutor.java:91)\r\n\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)\r\n\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)\r\n\t... 5 common frames omitted\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1707)\r\n\t\tat com.azure.messaging.servicebus.ServiceBusReceivedMessageContext.abandon(ServiceBusReceivedMessageContext.java:65)\r\n\t\tat com.azure.spring.cloud.stream.binder.servicebus.ServiceBusMessageChannelBinder.abandon(ServiceBusMessageChannelBinder.java:230)\r\n\t\tat com.azure.spring.cloud.stream.binder.servicebus.ServiceBusMessageChannelBinder.lambda$getErrorMessageHandler$1(ServiceBusMessageChannelBinder.java:189)\r\n\t\tat org.springframework.integration.dispatcher.BroadcastingDispatcher.invokeHandler(BroadcastingDispatcher.java:222)\r\n\t\tat org.springframework.integration.dispatcher.BroadcastingDispatcher.dispatch(BroadcastingDispatcher.java:178)\r\n\t\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\t\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\r\n\t\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\r\n\t\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\t\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\t\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\t\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\t\tat org.springframework.integration.endpoint.MessageProducerSupport.sendErrorMessageIfNecessary(MessageProducerSupport.java:262)\r\n\t\tat org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:219)\r\n\t\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73)\r\n\t\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201)\r\n\t\tat com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186)\r\n\t\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:383)\r\n\t\tat com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:362)\r\n\t\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\r\n\t\tat reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\r\n\t\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\r\n\t\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\r\n\t\t... 5 common frames omitted\r\nCaused by: com.azure.core.amqp.exception.AmqpException: A disposition requested earlier is waiting for the broker&#39;s ack; a new disposition request is not allowed.\r\n\t... 19 common frames omitted\r\n\r\n```\r\n\r\nI noticed that setting `spring.cloud.stream.servicebus.bindings.consume-in-0.consumer.auto-complete=false` makes messages be delivered correctly, as I am checkpointing the messages manually. Could the issue be from somewhere around that?\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue","title":"Increasing concurrent calls undefined behaviour in Spring Cloud Stream Azure Service Bus","body":"<p>I have a simple Spring Cloud Azure Service Bus consumer defined as simply as follows, following the <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-cloud-stream-binder-java-app-with-service-bus?tabs=use-a-service-bus-queue\" rel=\"nofollow noreferrer\">official documentation</a>:</p>\n<pre><code>    @Bean\n    public Consumer&lt;Message&lt;byte[]&gt;&gt; consume() {\n        return message -&gt; someProcessing(message);\n    }\n</code></pre>\n<p>The default policy, if the <code>spring.cloud.stream.servicebus.bindings.consume-in-0.consumer.requeue-rejected</code> flag is <code>false</code>, is that messages that fail during consummation are requeued on the main queue for <code>MaxDeliveryCount</code> times, before going to the DLQ. I tested this behaviour and it consistently works - if, for example, I update the code to</p>\n<pre><code>    @Bean\n    public Consumer&lt;Message&lt;byte[]&gt;&gt; consume() {\n        return message -&gt; {\n           someProcessing(message);\n           throw new IllegalStateException();\n        }\n    }\n</code></pre>\n<p>the message gets requeued as expected.</p>\n<p>If I bump the number of consecutive calls, however, by setting <code>spring.cloud.stream.servicebus.bindings.consume-in-0.consumer.max-concurrent-calls=2</code>, the behaviour becomes undefined. <strong>Some times it abandons the messages altogether, other times it requeues them in the main queue.</strong> I don't understand why the behaviour is not consistent, i.e., the messages are always requeued. Part of the stack trace is as following.</p>\n<pre><code>2023-05-26 12:03:47.955 ERROR 52176 --- [undedElastic-12] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessageHandlingException: error occurred in message handler [org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1@71c11ee9]; nested exception is java.lang.IllegalStateException, failedMessage=GenericMessage [payload=byte[1948], headers={azure_service_bus_expires_at=2023-06-11T11:29:47.566Z, OwnedBy=owner, azure_service_bus_received_message_context=com.azure.messaging.servicebus.ServiceBusReceivedMessageContext@780ad3f2, azure_service_bus_message_id=ede22e431e0642ee9d3be263b3989c77, azure_service_bus_enqueued_sequence_number=132449, azure_service_bus_enqueued_time=2023-05-12T11:29:47.566Z, azure_service_bus_lock_token=c2167e9a-b6f5-4aed-b390-0f9714caf2a9, azure_service_bus_sequence_number=6969, azure_service_bus_time_to_live=PT720H, azure_service_bus_delivery_count=0, azure_service_bus_state=ACTIVE, id=fd556d60-a851-e39c-bca0-59e90d83722d, contentType=application/json, azure_service_bus_locked_until=2023-05-26T09:04:47.840Z, timestamp=1685091827953}]\n    at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:65)\n    at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:216)\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73)\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201)\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186)\n    at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:383)\n    at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:362)\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.IllegalStateException\n    at com.subscriptions.Consumer.lambda$consume$0(Consumer.java:70)\n    at com.helper.AnonymousAuthenticationRunner.runAnonymously(AnonymousAuthenticationRunner.java:24)\n    at com.subscriptions.Consumer.lambda$consume$1(Consumer.java:50)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeConsumer(SimpleFunctionRegistry.java:1007)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:742)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:588)\n    at org.springframework.cloud.stream.function.PartitionAwareFunctionWrapper.apply(PartitionAwareFunctionWrapper.java:84)\n    at org.springframework.cloud.stream.function.FunctionConfiguration$FunctionWrapper.apply(FunctionConfiguration.java:791)\n    at org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1.handleMessageInternal(FunctionConfiguration.java:623)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56)\n    ... 25 more\n\n2023-05-26 12:03:47.955 ERROR 52176 --- [undedElastic-12] .s.i.s.i.ServiceBusInboundChannelAdapter : Error in the operation USER_CALLBACK occurred on entity service/subscriptions/Subscription. Error: {}\n\ncom.azure.messaging.servicebus.ServiceBusException: failed to send Message to channel 'service.Subscription.errors'; nested exception is com.azure.messaging.servicebus.ServiceBusException: A disposition requested earlier is waiting for the broker's ack; a new disposition request is not allowed.\n    at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:387)\n    at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:362)\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\n    at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.springframework.messaging.MessageDeliveryException: failed to send Message to channel 'service.Subscription.errors'; nested exception is com.azure.messaging.servicebus.ServiceBusException: A disposition requested earlier is waiting for the broker's ack; a new disposition request is not allowed.\n    at org.springframework.integration.support.utils.IntegrationUtils.wrapInDeliveryExceptionIfNecessary(IntegrationUtils.java:166)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:339)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.endpoint.MessageProducerSupport.sendErrorMessageIfNecessary(MessageProducerSupport.java:262)\n    at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:219)\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73)\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201)\n    at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186)\n    at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:383)\n    ... 10 common frames omitted\nCaused by: com.azure.messaging.servicebus.ServiceBusException: A disposition requested earlier is waiting for the broker's ack; a new disposition request is not allowed.\n    at com.azure.messaging.servicebus.ServiceBusReceiverAsyncClient.lambda$updateDisposition$52(ServiceBusReceiverAsyncClient.java:1480)\n    at reactor.core.publisher.Mono.lambda$onErrorMap$31(Mono.java:3733)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:278)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\n    at reactor.core.publisher.Operators.error(Operators.java:198)\n    at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at reactor.core.publisher.Operators$MonoSubscriber.onError(Operators.java:1863)\n    at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.signalCached(MonoCacheTime.java:340)\n    at reactor.core.publisher.MonoCacheTime$CoordinatorSubscriber.onError(MonoCacheTime.java:363)\n    at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\n    at com.azure.core.amqp.implementation.handler.ReceiverUnsettledDeliveries$DispositionWork.onComplete(ReceiverUnsettledDeliveries.java:736)\n    at com.azure.core.amqp.implementation.handler.ReceiverUnsettledDeliveries.lambda$sendDispositionImpl$3(ReceiverUnsettledDeliveries.java:334)\n    at com.azure.core.amqp.implementation.handler.DispatchHandler.onTimerTask(DispatchHandler.java:32)\n    at com.azure.core.amqp.implementation.ReactorDispatcher$WorkScheduler.run(ReactorDispatcher.java:207)\n    at org.apache.qpid.proton.reactor.impl.SelectableImpl.readable(SelectableImpl.java:118)\n    at org.apache.qpid.proton.reactor.impl.IOHandler.handleQuiesced(IOHandler.java:61)\n    at org.apache.qpid.proton.reactor.impl.IOHandler.onUnhandled(IOHandler.java:390)\n    at org.apache.qpid.proton.engine.BaseHandler.onReactorQuiesced(BaseHandler.java:87)\n    at org.apache.qpid.proton.engine.BaseHandler.handle(BaseHandler.java:206)\n    at org.apache.qpid.proton.engine.impl.EventImpl.dispatch(EventImpl.java:108)\n    at org.apache.qpid.proton.reactor.impl.ReactorImpl.dispatch(ReactorImpl.java:324)\n    at org.apache.qpid.proton.reactor.impl.ReactorImpl.process(ReactorImpl.java:292)\n    at com.azure.core.amqp.implementation.ReactorExecutor.run(ReactorExecutor.java:91)\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)\n    ... 5 common frames omitted\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n        at reactor.core.publisher.Mono.block(Mono.java:1707)\n        at com.azure.messaging.servicebus.ServiceBusReceivedMessageContext.abandon(ServiceBusReceivedMessageContext.java:65)\n        at com.azure.spring.cloud.stream.binder.servicebus.ServiceBusMessageChannelBinder.abandon(ServiceBusMessageChannelBinder.java:230)\n        at com.azure.spring.cloud.stream.binder.servicebus.ServiceBusMessageChannelBinder.lambda$getErrorMessageHandler$1(ServiceBusMessageChannelBinder.java:189)\n        at org.springframework.integration.dispatcher.BroadcastingDispatcher.invokeHandler(BroadcastingDispatcher.java:222)\n        at org.springframework.integration.dispatcher.BroadcastingDispatcher.dispatch(BroadcastingDispatcher.java:178)\n        at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n        at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\n        at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n        at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n        at org.springframework.integration.endpoint.MessageProducerSupport.sendErrorMessageIfNecessary(MessageProducerSupport.java:262)\n        at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:219)\n        at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter.access$600(ServiceBusInboundChannelAdapter.java:73)\n        at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:201)\n        at com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter$IntegrationRecordMessageListener.onMessage(ServiceBusInboundChannelAdapter.java:186)\n        at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:383)\n        at com.azure.messaging.servicebus.ServiceBusProcessorClient$1.onNext(ServiceBusProcessorClient.java:362)\n        at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.runAsync(FluxPublishOn.java:440)\n        at reactor.core.publisher.FluxPublishOn$PublishOnSubscriber.run(FluxPublishOn.java:527)\n        at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n        at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n        ... 5 common frames omitted\nCaused by: com.azure.core.amqp.exception.AmqpException: A disposition requested earlier is waiting for the broker's ack; a new disposition request is not allowed.\n    ... 19 common frames omitted\n\n</code></pre>\n<p>I noticed that setting <code>spring.cloud.stream.servicebus.bindings.consume-in-0.consumer.auto-complete=false</code> makes messages be delivered correctly, as I am checkpointing the messages manually. Could the issue be from somewhere around that?</p>\n"},{"tags":["java","android","exception","android-asynctask","concurrentmodificationexception"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1686078520,"post_id":76417571,"comment_id":134749282,"body_markdown":"My first guess is that `newAdditionalItems` is being modified while the new `ArrayList` is being initialized. See if you can create a [mre] that exhibits the problem, pleas?","body":"My first guess is that <code>newAdditionalItems</code> is being modified while the new <code>ArrayList</code> is being initialized. See if you can create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that exhibits the problem, pleas?"}],"owner":{"account_id":9458732,"reputation":306,"user_id":7033181,"display_name":"Dash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686077329,"creation_date":1686077329,"question_id":76417571,"body_markdown":"I am encountering a `ConcurrentModificationException` for the following:\r\n\r\n```\r\n  @MainThread\r\n  private void notifyAdditionalItemsLoaded(\r\n      final @Nullable List&lt;RandomItem&gt; newAdditionalItems) {\r\n    if (newAdditionalItems != null) {\r\n      eventListener.onAdditionalItemsLoaded(\r\n          new ArrayList&lt;&gt;(newAdditionalItems));\r\n    }\r\n  }\r\n```\r\n\r\nThe stack trace for the exception is:\r\n```\r\njava.util.ConcurrentModificationException\r\n\tat java.util.ArrayList$SubList.size(ArrayList.java:1057)\r\n\tat java.util.AbstractCollection.toArray(AbstractCollection.java:139)\r\n\tat java.util.ArrayList.&lt;init&gt;(ArrayList.java:191)\r\n\tat com.dash.module.component.model.datasource.notifyAdditionalItemsLoaded(datasource.java:434)\r\n\tat com.dash.module.component.model.datasource.access$2300(datasource.java:42)\r\n\tat com.dash.module.component.model.datasource$LoadAdditionalRecordsTask.onPostExecute(datasource.java:599)\r\n\tat com.dash.module.component.model.datasource$LoadAdditionalRecordsTask.onPostExecute(datasource.java:540)\r\n\tat com.dash.util.BreadcrumbTask.onPostExecute(BreadcrumbTask.java:43)\r\n\tat android.os.AsyncTask.finish(AsyncTask.java:771)\r\n\tat android.os.AsyncTask.-$$Nest$mfinish(Unknown Source:0)\r\n\tat android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:788)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loopOnce(Looper.java:226)\r\n\tat android.os.Looper.loop(Looper.java:313)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8757)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\r\n```\r\n\r\nAs seen with the stack trace, `notifyAdditionalItemsLoaded()` is called from an async task&#39;s `onPostExecute()` method which simply sets the processing task to `null` and calls the `notify..` method:\r\n\r\n```\r\n    @Override\r\n    protected void onPostExecute(@Nullable List&lt;RandomItem&gt; items) {\r\n      loadAdditionalItemsTask = null; // reset\r\n      notifyAdditionalItemsLoaded(items);\r\n    }\r\n```\r\n\r\nAnd the `items` list is initialized within task, where new `RandomItem` objects are initialized and added to the list.\r\n\r\nBut, I am not sure why the CME is being thrown for shallow copying of objects to the list. And, this is not consistently reproducing.\r\n\r\nAny help here would be very much appreciated. TYIA!","title":"CME Thrown for new ArrayList Initialization","body":"<p>I am encountering a <code>ConcurrentModificationException</code> for the following:</p>\n<pre><code>  @MainThread\n  private void notifyAdditionalItemsLoaded(\n      final @Nullable List&lt;RandomItem&gt; newAdditionalItems) {\n    if (newAdditionalItems != null) {\n      eventListener.onAdditionalItemsLoaded(\n          new ArrayList&lt;&gt;(newAdditionalItems));\n    }\n  }\n</code></pre>\n<p>The stack trace for the exception is:</p>\n<pre><code>java.util.ConcurrentModificationException\n    at java.util.ArrayList$SubList.size(ArrayList.java:1057)\n    at java.util.AbstractCollection.toArray(AbstractCollection.java:139)\n    at java.util.ArrayList.&lt;init&gt;(ArrayList.java:191)\n    at com.dash.module.component.model.datasource.notifyAdditionalItemsLoaded(datasource.java:434)\n    at com.dash.module.component.model.datasource.access$2300(datasource.java:42)\n    at com.dash.module.component.model.datasource$LoadAdditionalRecordsTask.onPostExecute(datasource.java:599)\n    at com.dash.module.component.model.datasource$LoadAdditionalRecordsTask.onPostExecute(datasource.java:540)\n    at com.dash.util.BreadcrumbTask.onPostExecute(BreadcrumbTask.java:43)\n    at android.os.AsyncTask.finish(AsyncTask.java:771)\n    at android.os.AsyncTask.-$$Nest$mfinish(Unknown Source:0)\n    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:788)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:226)\n    at android.os.Looper.loop(Looper.java:313)\n    at android.app.ActivityThread.main(ActivityThread.java:8757)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\n</code></pre>\n<p>As seen with the stack trace, <code>notifyAdditionalItemsLoaded()</code> is called from an async task's <code>onPostExecute()</code> method which simply sets the processing task to <code>null</code> and calls the <code>notify..</code> method:</p>\n<pre><code>    @Override\n    protected void onPostExecute(@Nullable List&lt;RandomItem&gt; items) {\n      loadAdditionalItemsTask = null; // reset\n      notifyAdditionalItemsLoaded(items);\n    }\n</code></pre>\n<p>And the <code>items</code> list is initialized within task, where new <code>RandomItem</code> objects are initialized and added to the list.</p>\n<p>But, I am not sure why the CME is being thrown for shallow copying of objects to the list. And, this is not consistently reproducing.</p>\n<p>Any help here would be very much appreciated. TYIA!</p>\n"},{"tags":["java","android","android-permissions","android-external-storage"],"owner":{"account_id":28190274,"reputation":11,"user_id":21545769,"display_name":"Sedat Kağan Aktaş"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686077067,"creation_date":1685586273,"question_id":76378305,"body_markdown":"```java\r\npublic class UploadActivity extends AppCompatActivity {\r\n\r\n\r\n    private FirebaseStorage firebaseStorage;\r\n    private StorageReference storageReference;\r\n    Uri imageData;\r\n    private FirebaseFirestore firebaseFirestore;\r\n    private FirebaseAuth firebaseAuth;\r\n    private ActivityUploadBinding binding;\r\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\r\n    ActivityResultLauncher&lt;String&gt; permissionLauncher;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityUploadBinding.inflate(getLayoutInflater());\r\n        View view = binding.getRoot();\r\n        setContentView(view);\r\n\r\n        registerLauncher();\r\n\r\n\r\n    }\r\n```\r\n| Column A | Column B |\r\n| -------- | -------- |\r\n| Cell 1   | Cell 2   |\r\n| Cell 3   | Cell 4   |\r\n\r\n\r\n  \r\n```java\r\n    public void selectImage(View view) {\r\n        if (ContextCompat.checkSelfPermission(this,Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.READ_EXTERNAL_STORAGE)) {\r\n\r\n                Snackbar.make(view,&quot;Permission needed for gallery&quot;, Snackbar.LENGTH_INDEFINITE).setAction(&quot;Give Permission&quot;, new View.OnClickListener() {\r\n                    @Override`your text`\r\n                    public void onClick(View v) {\r\n\r\n                        Toast.makeText(UploadActivity.this,&quot;1.&quot;,Toast.LENGTH_LONG).show();\r\n                        // permissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\r\n                    }\r\n                }).show();\r\n            } else {\r\n                Toast.makeText(UploadActivity.this,&quot;2.&quot;,Toast.LENGTH_LONG).show();\r\n                //permissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\r\n            }\r\n        } else {\r\n            Intent intentToGallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n            activityResultLauncher.launch(intentToGallery);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    private void registerLauncher() {\r\n\r\n        activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(ActivityResult result) {\r\n                        if (result.getResultCode() == Activity.RESULT_OK) {\r\n                            Intent intentFromResult = result.getData();\r\n                            if (intentFromResult != null) {\r\n                                imageData = intentFromResult.getData();\r\n                                binding.imageView.setImageURI(imageData);\r\n                            }\r\n\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n        permissionLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), new ActivityResultCallback&lt;Boolean&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(Boolean result) {\r\n                        if(result) {\r\n                            //permission granted\r\n                            Intent intentToGallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                            activityResultLauncher.launch(intentToGallery);\r\n\r\n                        } else {\r\n                            //permission denied\r\n                            Toast.makeText(UploadActivity.this,&quot;Permisson needed!&quot;,Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }\r\n\r\n                });\r\n    }\r\n}\r\n```\r\n\r\nı try take permission for gallery. When I run this code it did not worked. I cannot see any permission. I did not give any permission and app shows 2. toast message. My other apps it was worked but I cannot find difference between them. \r\n","title":"Why is my Android app not showing a permission request for external storage access?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class UploadActivity extends AppCompatActivity {\n\n\n    private FirebaseStorage firebaseStorage;\n    private StorageReference storageReference;\n    Uri imageData;\n    private FirebaseFirestore firebaseFirestore;\n    private FirebaseAuth firebaseAuth;\n    private ActivityUploadBinding binding;\n    ActivityResultLauncher&lt;Intent&gt; activityResultLauncher;\n    ActivityResultLauncher&lt;String&gt; permissionLauncher;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityUploadBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n        setContentView(view);\n\n        registerLauncher();\n\n\n    }\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Column A</th>\n<th>Column B</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Cell 1</td>\n<td>Cell 2</td>\n</tr>\n<tr>\n<td>Cell 3</td>\n<td>Cell 4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre class=\"lang-java prettyprint-override\"><code>    public void selectImage(View view) {\n        if (ContextCompat.checkSelfPermission(this,Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n\n            if(ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.READ_EXTERNAL_STORAGE)) {\n\n                Snackbar.make(view,&quot;Permission needed for gallery&quot;, Snackbar.LENGTH_INDEFINITE).setAction(&quot;Give Permission&quot;, new View.OnClickListener() {\n                    @Override`your text`\n                    public void onClick(View v) {\n\n                        Toast.makeText(UploadActivity.this,&quot;1.&quot;,Toast.LENGTH_LONG).show();\n                        // permissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\n                    }\n                }).show();\n            } else {\n                Toast.makeText(UploadActivity.this,&quot;2.&quot;,Toast.LENGTH_LONG).show();\n                //permissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\n            }\n        } else {\n            Intent intentToGallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n            activityResultLauncher.launch(intentToGallery);\n\n        }\n\n    }\n\n    private void registerLauncher() {\n\n        activityResultLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n                    @Override\n                    public void onActivityResult(ActivityResult result) {\n                        if (result.getResultCode() == Activity.RESULT_OK) {\n                            Intent intentFromResult = result.getData();\n                            if (intentFromResult != null) {\n                                imageData = intentFromResult.getData();\n                                binding.imageView.setImageURI(imageData);\n                            }\n\n                        }\n                    }\n                });\n\n\n        permissionLauncher = registerForActivityResult(new ActivityResultContracts.RequestPermission(), new ActivityResultCallback&lt;Boolean&gt;() {\n                    @Override\n                    public void onActivityResult(Boolean result) {\n                        if(result) {\n                            //permission granted\n                            Intent intentToGallery = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                            activityResultLauncher.launch(intentToGallery);\n\n                        } else {\n                            //permission denied\n                            Toast.makeText(UploadActivity.this,&quot;Permisson needed!&quot;,Toast.LENGTH_LONG).show();\n                        }\n                    }\n\n                });\n    }\n}\n</code></pre>\n<p>ı try take permission for gallery. When I run this code it did not worked. I cannot see any permission. I did not give any permission and app shows 2. toast message. My other apps it was worked but I cannot find difference between them.</p>\n"},{"tags":["java","opencv","segmentation-fault","glibc","onnx"],"owner":{"account_id":16991047,"reputation":1,"user_id":12290647,"display_name":"Paulofski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686076936,"creation_date":1683204236,"question_id":76173337,"body_markdown":"Running a Java Rest API application with a ONNX machine learning model inside a container deployed on OpenShift. Day to day performance is fine for now, but for a new business case we want to increase the load.\r\n\r\nUnfortunately increasing the load of the performance test throws segmentation faults at &#39;random&#39; moments.\r\nSometimes the throughput is 150+ API calls per second before it breaks and sometimes &lt;20 API calls per second before the crash.\r\n\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007fcd018b4023, pid=516, tid=615\r\n#\r\n# JRE version: OpenJDK Runtime Environment (Red_Hat-11.0.19.0.7-1.el8_7) (11.0.19+7) (build 11.0.19+7-LTS)\r\n# Java VM: OpenJDK 64-Bit Server VM (Red_Hat-11.0.19.0.7-1.el8_7) (11.0.19+7-LTS, mixed mode, sharing, tiered, compressed oops, parallel gc, linux-amd64)\r\n# Problematic frame:\r\n# C  [libc.so.6+0xd0023]  __memmove_avx_unaligned_erms+0x53\r\n#\r\n\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: -Xlog:os=debug:file=os.txt:uptime,level,tags -XX:+UseParallelGC -XX:MaxRAMPercentage=85 app.jar\r\n\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x00007fcbdc003800):  JavaThread &quot;http-nio-8080-exec-12&quot; daemon [_thread_in_native, id=615, stack(0x00007fcc1f2f7000,0x00007fcc1f3f8000)]\r\n\r\nStack: [0x00007fcc1f2f7000,0x00007fcc1f3f8000],  sp=0x00007fcc1f3f3ea8,  free space=1011k\r\nNative frames: (J=compiled Java code, A=aot compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nC  [libc.so.6+0xd0023]  __memmove_avx_unaligned_erms+0x53\r\n\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nJ 14698  org.opencv.core.Mat.nGetF(JIII[F)I (0 bytes) @ 0x00007fcce87f3d32 [0x00007fcce87f3cc0+0x0000000000000072]\r\n```\r\n\r\nThe complete core-dump is available, but i am a bit lost where to search for the solution. Any help or tips are welcome.\r\n\r\nIncreased the memory and cpu limits in OpenShift and set the requested equal to the limits, to claim a Guaranteed Quality of Service, but the faults occurs before hitting the limits.\r\n\r\nEdit:\r\nAfter tweaking the Onnx settings (intra_op_num_threads and execution mode) and resources the segmentation faults occur less. But still once a week in one of the pods.","title":"org.opencv.core.Mat.nGetF causes segmentation fault __memmove_avx_unaligned_erms","body":"<p>Running a Java Rest API application with a ONNX machine learning model inside a container deployed on OpenShift. Day to day performance is fine for now, but for a new business case we want to increase the load.</p>\n<p>Unfortunately increasing the load of the performance test throws segmentation faults at 'random' moments.\nSometimes the throughput is 150+ API calls per second before it breaks and sometimes &lt;20 API calls per second before the crash.</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007fcd018b4023, pid=516, tid=615\n#\n# JRE version: OpenJDK Runtime Environment (Red_Hat-11.0.19.0.7-1.el8_7) (11.0.19+7) (build 11.0.19+7-LTS)\n# Java VM: OpenJDK 64-Bit Server VM (Red_Hat-11.0.19.0.7-1.el8_7) (11.0.19+7-LTS, mixed mode, sharing, tiered, compressed oops, parallel gc, linux-amd64)\n# Problematic frame:\n# C  [libc.so.6+0xd0023]  __memmove_avx_unaligned_erms+0x53\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -Xlog:os=debug:file=os.txt:uptime,level,tags -XX:+UseParallelGC -XX:MaxRAMPercentage=85 app.jar\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x00007fcbdc003800):  JavaThread &quot;http-nio-8080-exec-12&quot; daemon [_thread_in_native, id=615, stack(0x00007fcc1f2f7000,0x00007fcc1f3f8000)]\n\nStack: [0x00007fcc1f2f7000,0x00007fcc1f3f8000],  sp=0x00007fcc1f3f3ea8,  free space=1011k\nNative frames: (J=compiled Java code, A=aot compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [libc.so.6+0xd0023]  __memmove_avx_unaligned_erms+0x53\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nJ 14698  org.opencv.core.Mat.nGetF(JIII[F)I (0 bytes) @ 0x00007fcce87f3d32 [0x00007fcce87f3cc0+0x0000000000000072]\n</code></pre>\n<p>The complete core-dump is available, but i am a bit lost where to search for the solution. Any help or tips are welcome.</p>\n<p>Increased the memory and cpu limits in OpenShift and set the requested equal to the limits, to claim a Guaranteed Quality of Service, but the faults occurs before hitting the limits.</p>\n<p>Edit:\nAfter tweaking the Onnx settings (intra_op_num_threads and execution mode) and resources the segmentation faults occur less. But still once a week in one of the pods.</p>\n"},{"tags":["java","swing","miglayout"],"owner":{"account_id":25188076,"reputation":23,"user_id":19028647,"display_name":"GamingLegion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686076821,"creation_date":1686076777,"question_id":76417527,"body_markdown":"I&#39;m trying to have two checkboxes be next to each other, maybe with a slight gap, but it is doing [this][1]. I wanted to get some help to try and shift it over. Here is the MiGLayout parameters and the code for the checkboxes.\r\n```\r\nred.setLayout(new MigLayout(&quot;fillx, inset 0&quot;));\r\n```\r\n```\r\nJCustomCheckbox snorlax = new JCustomCheckbox(null, new Color(255, 255, 255), 1.5, &quot;Catch both Snorlax&quot;, 2);\r\nred.add(snorlax, &quot;newline, grow, pad 0 &quot; + sub2 + &quot; 0 0&quot;);\r\n\r\nJCustomCheckbox snorlax12 = new JCustomCheckbox(null, new Color(255, 255, 255), 1.25, &quot;Route 12&quot;, 3);\r\nred.add(snorlax12, &quot;newline, grow, pad 0 &quot; + sub3 + &quot; 0 0&quot;);\r\n\r\nJCustomCheckbox snorlax16 = new JCustomCheckbox(null, new Color(255, 255, 255), 1.25, &quot;Route 16&quot;, 3);\r\nred.add(snorlax16, &quot;grow&quot;);\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9b7kZ.png","title":"How to align these items in MiGLayout","body":"<p>I'm trying to have two checkboxes be next to each other, maybe with a slight gap, but it is doing <a href=\"https://i.stack.imgur.com/9b7kZ.png\" rel=\"nofollow noreferrer\">this</a>. I wanted to get some help to try and shift it over. Here is the MiGLayout parameters and the code for the checkboxes.</p>\n<pre><code>red.setLayout(new MigLayout(&quot;fillx, inset 0&quot;));\n</code></pre>\n<pre><code>JCustomCheckbox snorlax = new JCustomCheckbox(null, new Color(255, 255, 255), 1.5, &quot;Catch both Snorlax&quot;, 2);\nred.add(snorlax, &quot;newline, grow, pad 0 &quot; + sub2 + &quot; 0 0&quot;);\n\nJCustomCheckbox snorlax12 = new JCustomCheckbox(null, new Color(255, 255, 255), 1.25, &quot;Route 12&quot;, 3);\nred.add(snorlax12, &quot;newline, grow, pad 0 &quot; + sub3 + &quot; 0 0&quot;);\n\nJCustomCheckbox snorlax16 = new JCustomCheckbox(null, new Color(255, 255, 255), 1.25, &quot;Route 16&quot;, 3);\nred.add(snorlax16, &quot;grow&quot;);\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1686062896,"post_id":76415864,"comment_id":134745982,"body_markdown":"Try `apply()` instead of `commit()`.","body":"Try <code>apply()</code> instead of <code>commit()</code>."},{"owner":{"account_id":5352889,"reputation":29,"user_id":21360841,"display_name":"Amorphous"},"score":0,"creation_date":1686063149,"post_id":76415864,"comment_id":134746046,"body_markdown":"Tried that, didnt work. These codes are in two different activity classes btw.","body":"Tried that, didnt work. These codes are in two different activity classes btw."},{"owner":{"account_id":5352889,"reputation":29,"user_id":21360841,"display_name":"Amorphous"},"score":0,"creation_date":1686063918,"post_id":76415864,"comment_id":134746232,"body_markdown":"It works if I stop the app or close it completely and then restart it. But it doesn&#39;t work otherwise.","body":"It works if I stop the app or close it completely and then restart it. But it doesn&#39;t work otherwise."}],"answers":[{"tags":[],"owner":{"account_id":22352554,"reputation":146,"user_id":16570381,"display_name":"Prem Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686076007,"creation_date":1686076007,"answer_id":76417442,"question_id":76415864,"body_markdown":"Instead of using the `commit()` method, which immediately writes changes to the disk and may fail, you can use the `apply()` method for more reliable results. Unlike `commit()`, `apply()` writes changes asynchronously in the background without blocking the main thread. It returns immediately, without indicating whether the operation was successful or not.\r\n\r\nBy using `apply()`, you can ensure that changes to `SharedPreferences` are reliably saved, even if the app is not fully stopped or closed before restarting it.\r\n\r\nKeep in mind that changes made with `apply()` may not be immediately reflected when retrieving preferences in the same execution sequence. If you need to guarantee the immediate removal of the token before performing subsequent actions, you may need to implement additional logic or callbacks to handle the timing appropriately.","title":"Not able to clear or save in SharedPreferences in Android Project","body":"<p>Instead of using the <code>commit()</code> method, which immediately writes changes to the disk and may fail, you can use the <code>apply()</code> method for more reliable results. Unlike <code>commit()</code>, <code>apply()</code> writes changes asynchronously in the background without blocking the main thread. It returns immediately, without indicating whether the operation was successful or not.</p>\n<p>By using <code>apply()</code>, you can ensure that changes to <code>SharedPreferences</code> are reliably saved, even if the app is not fully stopped or closed before restarting it.</p>\n<p>Keep in mind that changes made with <code>apply()</code> may not be immediately reflected when retrieving preferences in the same execution sequence. If you need to guarantee the immediate removal of the token before performing subsequent actions, you may need to implement additional logic or callbacks to handle the timing appropriately.</p>\n"}],"owner":{"account_id":5352889,"reputation":29,"user_id":21360841,"display_name":"Amorphous"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686076007,"creation_date":1686062743,"question_id":76415864,"body_markdown":"Saving code in Login.java activity : \r\n\r\n     SharedPreferences preferences =getSharedPreferences(&quot;MyPrefs&quot;,Context.MODE_PRIVATE);\r\n     preferences.edit().putString(&quot;token&quot;, token).commit();\r\n\r\nDeleting code in MainActivity.java class : \r\n\r\n      SharedPreferences preferences =getSharedPreferences(&quot;MyPrefs&quot;,Context.MODE_PRIVATE);\r\n      preferences.edit().remove(&quot;token&quot;).commit();\r\n\r\nIt works if I stop the app or close it completely and then restart it. But it doesn&#39;t work otherwise. \r\n\r\nWhat am I doing wrong? Please help.","title":"Not able to clear or save in SharedPreferences in Android Project","body":"<p>Saving code in Login.java activity :</p>\n<pre><code> SharedPreferences preferences =getSharedPreferences(&quot;MyPrefs&quot;,Context.MODE_PRIVATE);\n preferences.edit().putString(&quot;token&quot;, token).commit();\n</code></pre>\n<p>Deleting code in MainActivity.java class :</p>\n<pre><code>  SharedPreferences preferences =getSharedPreferences(&quot;MyPrefs&quot;,Context.MODE_PRIVATE);\n  preferences.edit().remove(&quot;token&quot;).commit();\n</code></pre>\n<p>It works if I stop the app or close it completely and then restart it. But it doesn't work otherwise.</p>\n<p>What am I doing wrong? Please help.</p>\n"},{"tags":["java","android","kill-process","binders"],"owner":{"account_id":17725897,"reputation":1,"user_id":12869623,"display_name":"Justin Cornelius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686075696,"creation_date":1685981993,"question_id":76408293,"body_markdown":"So I am running into an issue where Android OS eventually kills my foreground process because of the amount of binders being sent to the system (&quot;Too many Binders sent to SYSTEM&quot;). My app, every second, checks to see what app is on screen and every 15 minutes checks some other system details like battery percentage and if the phone is plugged in. The amount of binders which can be sent is arbitrarily set to 2500. Here is the [source code](https://android.googlesource.com/platform/frameworks/native/+/master/libs/binder/BpBinder.cpp#116) for Android OS. Line 54 is the limit I am speaking of. The purpose of this value is to distinguish a bad and or behaving app and fails to distinguish an app which needs to do work over long periods of time.\r\n\r\nI have a question around this line of code on [187](https://android.googlesource.com/platform/frameworks/native/+/master/libs/binder/BpBinder.cpp#116) &quot;Throttling binder proxy created from uid %d in uid %d until binder proxy count drops below %d&quot;\r\n\r\nIs there a way for me to release binder proxies? If my count is approaching 2500, can I reduce this from within my code?\r\n\r\n\r\n\r\nMy main way to improve the amount of time my app can run before getting killed is removing calls to the underlining android server by way of getSystemService and registering to broadcast events where applicable, but eventually, the app is still killed due to the amount of binders sent to the system.","title":"Android applicaton getting killed by OS with message &quot;Too many Binders sent to SYSTEM&quot;","body":"<p>So I am running into an issue where Android OS eventually kills my foreground process because of the amount of binders being sent to the system (&quot;Too many Binders sent to SYSTEM&quot;). My app, every second, checks to see what app is on screen and every 15 minutes checks some other system details like battery percentage and if the phone is plugged in. The amount of binders which can be sent is arbitrarily set to 2500. Here is the <a href=\"https://android.googlesource.com/platform/frameworks/native/+/master/libs/binder/BpBinder.cpp#116\" rel=\"nofollow noreferrer\">source code</a> for Android OS. Line 54 is the limit I am speaking of. The purpose of this value is to distinguish a bad and or behaving app and fails to distinguish an app which needs to do work over long periods of time.</p>\n<p>I have a question around this line of code on <a href=\"https://android.googlesource.com/platform/frameworks/native/+/master/libs/binder/BpBinder.cpp#116\" rel=\"nofollow noreferrer\">187</a> &quot;Throttling binder proxy created from uid %d in uid %d until binder proxy count drops below %d&quot;</p>\n<p>Is there a way for me to release binder proxies? If my count is approaching 2500, can I reduce this from within my code?</p>\n<p>My main way to improve the amount of time my app can run before getting killed is removing calls to the underlining android server by way of getSystemService and registering to broadcast events where applicable, but eventually, the app is still killed due to the amount of binders sent to the system.</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1686076064,"post_id":76406715,"comment_id":134748848,"body_markdown":"The short answer is &quot;no&quot;. But you could instead return `String` from your controller and manipulate the json according to your desire.","body":"The short answer is &quot;no&quot;. But you could instead return <code>String</code> from your controller and manipulate the json according to your desire."}],"owner":{"account_id":20775240,"reputation":23,"user_id":15256895,"display_name":"usersman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686075653,"creation_date":1685970274,"question_id":76406715,"body_markdown":"I have a class:\r\n```\r\n@Data\r\npublic class Myclass {\r\n    private String myString;\r\n    private Int myint;\r\n}\r\n```\r\nand a controller \r\n\r\n    @GetMapping\r\n    @ServicesAuditLog\r\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;)\r\n    public Mono&lt;ResponseEntity&lt;List&lt;MyClass&gt;&gt;&gt; getMyClass(@RequestParam(required = false, defaultValue = &quot;false&quot;) Boolean includeString) {\r\n        return service.getMyClass(includeString)\r\n            .collectList()\r\n            .map(response -&gt; new ResponseEntity&lt;&gt;(response, HttpStatus.OK));\r\n    }\r\n\r\nMy problem is that if `includeString` is `true` and `myString` is `null`, I still want the response to have `myString = null`, so I cannot use\r\n\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n\r\nIs there any way to dynamically add the `@JsonIgnore`?","title":"Ignore specific java class values based on controller input","body":"<p>I have a class:</p>\n<pre><code>@Data\npublic class Myclass {\n    private String myString;\n    private Int myint;\n}\n</code></pre>\n<p>and a controller</p>\n<pre><code>@GetMapping\n@ServicesAuditLog\n@ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;)\npublic Mono&lt;ResponseEntity&lt;List&lt;MyClass&gt;&gt;&gt; getMyClass(@RequestParam(required = false, defaultValue = &quot;false&quot;) Boolean includeString) {\n    return service.getMyClass(includeString)\n        .collectList()\n        .map(response -&gt; new ResponseEntity&lt;&gt;(response, HttpStatus.OK));\n}\n</code></pre>\n<p>My problem is that if <code>includeString</code> is <code>true</code> and <code>myString</code> is <code>null</code>, I still want the response to have <code>myString = null</code>, so I cannot use</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n</code></pre>\n<p>Is there any way to dynamically add the <code>@JsonIgnore</code>?</p>\n"},{"tags":["java","wildfly","war","objectsize"],"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1685113880,"post_id":76341989,"comment_id":134620906,"body_markdown":"Maybe JOL is expecting a &#39;flat&#39; classpath. In WildFly each module has its own loader and ensure a separation so maybe that is the issue you are encountering.","body":"Maybe JOL is expecting a &#39;flat&#39; classpath. In WildFly each module has its own loader and ensure a separation so maybe that is the issue you are encountering."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685113908,"post_id":76341989,"comment_id":134620920,"body_markdown":"Why are you trying to do this? Having more context could be useful to suggest alternatives.","body":"Why are you trying to do this? Having more context could be useful to suggest alternatives."},{"owner":{"account_id":432653,"reputation":6827,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1685430994,"post_id":76341989,"comment_id":134654613,"body_markdown":"@ehsavoie: Could be - any idea how to use it nevertheless or achieve it with another tool?","body":"@ehsavoie: Could be - any idea how to use it nevertheless or achieve it with another tool?"},{"owner":{"account_id":432653,"reputation":6827,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1685431078,"post_id":76341989,"comment_id":134654629,"body_markdown":"@aled: We saw by taking heap dumps that this one list may have a memory leak or at least is very large. So I wanted to log continuously its size to see when and how it raises in size.","body":"@aled: We saw by taking heap dumps that this one list may have a memory leak or at least is very large. So I wanted to log continuously its size to see when and how it raises in size."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685440889,"post_id":76341989,"comment_id":134656743,"body_markdown":"Use Eclipse MAT to analyze the heap dump.","body":"Use Eclipse MAT to analyze the heap dump."},{"owner":{"account_id":432653,"reputation":6827,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1685442527,"post_id":76341989,"comment_id":134657100,"body_markdown":"@aled That&#39;s what I did and how I came to the suspected data structure. By logging, I like to see how it behaves over time.","body":"@aled That&#39;s what I did and how I came to the suspected data structure. By logging, I like to see how it behaves over time."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1685616085,"post_id":76341989,"comment_id":134686374,"body_markdown":"Regarding the Classnotfound: The org.jboss.vfs.VirtualFile class is part of a JBoss module and not automatically part of your EAR classpath. You need to add it first. For that add a `jboss-deployment-structure.xml` in your META-INF folder and specify the module as a dependecy `&lt;module name=&quot;org.jboss.vfs&quot;/&gt;`","body":"Regarding the Classnotfound: The org.jboss.vfs.VirtualFile class is part of a JBoss module and not automatically part of your EAR classpath. You need to add it first. For that add a <code>jboss-deployment-structure.xml</code> in your META-INF folder and specify the module as a dependecy <code>&lt;module name=&quot;org.jboss.vfs&quot;&#47;&gt;</code>"},{"owner":{"account_id":432653,"reputation":6827,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1685625184,"post_id":76341989,"comment_id":134688504,"body_markdown":"@Lonzak If you could write that as an answer and provide a little bit more details where exactly to put that file in the ear deployment and how it looks like, I will try that out and if it works happily award the bounty.","body":"@Lonzak If you could write that as an answer and provide a little bit more details where exactly to put that file in the ear deployment and how it looks like, I will try that out and if it works happily award the bounty."}],"answers":[{"comments":[{"owner":{"account_id":432653,"reputation":6827,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1685962070,"post_id":76382663,"comment_id":134729131,"body_markdown":"I tried this path, but unfortunately, it didn&#39;t change anything. I put it in the WAR, but still got the same exception.","body":"I tried this path, but unfortunately, it didn&#39;t change anything. I put it in the WAR, but still got the same exception."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1685966993,"post_id":76382663,"comment_id":134730184,"body_markdown":"@AlexanderR&#252;hl But you have written &quot;We have a Java EE application on WildFly 26 and OpenJDK 1.8, deployed as **EAR** ...&quot; Deploying it as part of the WAR file might not be enough since you have a classloader [hierarchy](https://docs.jboss.org/jbossas/docs/Server_Configuration_Guide/4/html/Inside_the_JBoss_Class_Loading_Architecture-The_Complete_Class_Loading_Model.html)","body":"@AlexanderR&#252;hl But you have written &quot;We have a Java EE application on WildFly 26 and OpenJDK 1.8, deployed as <b>EAR</b> ...&quot; Deploying it as part of the WAR file might not be enough since you have a classloader <a href=\"https://docs.jboss.org/jbossas/docs/Server_Configuration_Guide/4/html/Inside_the_JBoss_Class_Loading_Architecture-The_Complete_Class_Loading_Model.html\" rel=\"nofollow noreferrer\">hierarchy</a>"},{"owner":{"account_id":432653,"reputation":6827,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1686129397,"post_id":76382663,"comment_id":134755505,"body_markdown":"It&#39;s like a curse, whatever I do, I end up with the same error. Sorry, the bounty is expiring now, I would have liked to honor the help, but could not yet make it run. Thanks anyway, I think I will take another path and avoid that size measring completely, allthough I like to have it seen running.","body":"It&#39;s like a curse, whatever I do, I end up with the same error. Sorry, the bounty is expiring now, I would have liked to honor the help, but could not yet make it run. Thanks anyway, I think I will take another path and avoid that size measring completely, allthough I like to have it seen running."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1686134369,"post_id":76382663,"comment_id":134756509,"body_markdown":"Yes don&#39;t worry about the bounty...Did you try to put the file into the EAR (and not the WAR)? Also I another possibility to measure the size would be to serialize the object - have you considered that option?","body":"Yes don&#39;t worry about the bounty...Did you try to put the file into the EAR (and not the WAR)? Also I another possibility to measure the size would be to serialize the object - have you considered that option?"},{"owner":{"account_id":432653,"reputation":6827,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1686143177,"post_id":76382663,"comment_id":134758465,"body_markdown":"Yes I put it in the EAR&#39;s META-INF. And serilization was not possible as in that list there were non serializable Objects.","body":"Yes I put it in the EAR&#39;s META-INF. And serilization was not possible as in that list there were non serializable Objects."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1686228202,"post_id":76382663,"comment_id":134772143,"body_markdown":"That&#39;s strange. One last idea would be to put your code that calculates the size in a separate JAR, and put that JAR directly into WildFly, e.g., wildfly.home/standalone/lib/ext.","body":"That&#39;s strange. One last idea would be to put your code that calculates the size in a separate JAR, and put that JAR directly into WildFly, e.g., wildfly.home/standalone/lib/ext."}],"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685628535,"creation_date":1685627733,"answer_id":76382663,"question_id":76341989,"body_markdown":"As mentioned in the comment I try to provide a bit more detail. (Disclaimer: I didn&#39;t try it out...)\r\n\r\nJBoss and Wildfly have the [possibility][1] to include a jboss deployment descriptor. It gives you control over the classloading in the deployment. So you can for example include or exclude dependencies or modules. We used this in the past to exclude libraries coming with the application server which (might) conflict with dependencies bundled in the deployment.\r\n\r\nIf your application does not have one, create a new file called `jboss-deployment-structure.xml` and add it to the project. This is an XML file with the root element `&lt;jboss-deployment-structure&gt;`. Yours would look something like this (others like [this][2]):\r\n\r\n    &lt;jboss-deployment-structure&gt;\r\n        &lt;deployment&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;module name=&quot;org.jboss.vfs&quot;/&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\nFor a web application (WAR), add this file to the WEB-INF/ directory. For an EAR archive, add it to the META-INF/ directory.\r\nThis should make the ClassNotFoundException go away. If it doesn&#39;t try to use `&lt;module name=&quot;org.jboss.as.weld&quot;/&gt;`\r\n\r\nIf it doesn&#39;t then there might be other issues with the system classloader. Another approach might be to serialize the object and check the size of the object.This would also give you a rough estimate of the size. But this presumes that the object is serializable...\r\n\r\n\r\n  [1]: https://access.redhat.com/documentation/de-de/red_hat_jboss_enterprise_application_platform/7.1/html/development_guide/class_loading_and_modules#jboss_deployment_structure_xml\r\n  [2]: https://github.com/apache/syncope/blob/master/fit/core-reference/src/main/webapp/WEB-INF/jboss-deployment-structure.xml","title":"How to use OpenJDK JOL (or similar tool) in WAR on WildFly to measure object size?","body":"<p>As mentioned in the comment I try to provide a bit more detail. (Disclaimer: I didn't try it out...)</p>\n<p>JBoss and Wildfly have the <a href=\"https://access.redhat.com/documentation/de-de/red_hat_jboss_enterprise_application_platform/7.1/html/development_guide/class_loading_and_modules#jboss_deployment_structure_xml\" rel=\"nofollow noreferrer\">possibility</a> to include a jboss deployment descriptor. It gives you control over the classloading in the deployment. So you can for example include or exclude dependencies or modules. We used this in the past to exclude libraries coming with the application server which (might) conflict with dependencies bundled in the deployment.</p>\n<p>If your application does not have one, create a new file called <code>jboss-deployment-structure.xml</code> and add it to the project. This is an XML file with the root element <code>&lt;jboss-deployment-structure&gt;</code>. Yours would look something like this (others like <a href=\"https://github.com/apache/syncope/blob/master/fit/core-reference/src/main/webapp/WEB-INF/jboss-deployment-structure.xml\" rel=\"nofollow noreferrer\">this</a>):</p>\n<pre><code>&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;dependencies&gt;\n            &lt;module name=&quot;org.jboss.vfs&quot;/&gt;\n        &lt;/dependencies&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>For a web application (WAR), add this file to the WEB-INF/ directory. For an EAR archive, add it to the META-INF/ directory.\nThis should make the ClassNotFoundException go away. If it doesn't try to use <code>&lt;module name=&quot;org.jboss.as.weld&quot;/&gt;</code></p>\n<p>If it doesn't then there might be other issues with the system classloader. Another approach might be to serialize the object and check the size of the object.This would also give you a rough estimate of the size. But this presumes that the object is serializable...</p>\n"},{"comments":[{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1685700381,"post_id":76388325,"comment_id":134701007,"body_markdown":"As you mentioned this is only a **workaround** since this dependency is part of the wildfly application server (Check e.g. `wildfly-26.0.1.Final\\modules\\system\\layers\\base\\org\\jboss\\vfs\\main\\jboss-vfs-3.2.XX.Final.jar` If the manually added version doesn&#39;t match, both bring different versions along which might lead to conflicts later.","body":"As you mentioned this is only a <b>workaround</b> since this dependency is part of the wildfly application server (Check e.g. <code>wildfly-26.0.1.Final\\modules\\system\\layers\\base\\org\\jboss\\vf&zwnj;&#8203;s\\main\\jboss-vfs-3.2&zwnj;&#8203;.XX.Final.jar</code> If the manually added version doesn&#39;t match, both bring different versions along which might lead to conflicts later."}],"tags":[],"owner":{"account_id":7879809,"reputation":610,"user_id":5954248,"display_name":"Nilupul Heshan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685693432,"creation_date":1685693432,"answer_id":76388325,"question_id":76341989,"body_markdown":"When using JOL to determine the size of HttpSession objects, the problem with the NoClassDefFoundError that you&#39;re encountering is caused by the absence of the class org.jboss.vfs.VirtualFile. The needed dependency is missing from your application&#39;s classpath, which leads to this error.\r\n\r\nInclude the relevant JAR file containing the org.jboss.vfs.VirtualFile class in your application&#39;s classpath as a potential workaround. You may find the JAR file containing this class and add it to your JSF application&#39;s WAR file&#39;s WEB-INF/lib directory. In this manner, when the application is deployed, it will be added to the classpath.\r\n\r\nAlternatively, if you are using Maven or another build tool, you can add the dependency to your project&#39;s configuration file (pom.xml for Maven) to automatically include the required JAR file during the build process. You&#39;ll need to find the appropriate Maven coordinates for the JAR containing org.jboss.vfs.VirtualFile and add them to your project&#39;s dependencies.\r\n\r\nHere&#39;s an example of how you can add a Maven dependency for the JBoss VFS module in your pom.xml file:\r\n\r\n    &lt;dependencies&gt;\r\n    &lt;!-- Other dependencies --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jboss-vfs&lt;/artifactId&gt;\r\n        &lt;version&gt;&lt;!-- Specify the appropriate version here --&gt;&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n","title":"How to use OpenJDK JOL (or similar tool) in WAR on WildFly to measure object size?","body":"<p>When using JOL to determine the size of HttpSession objects, the problem with the NoClassDefFoundError that you're encountering is caused by the absence of the class org.jboss.vfs.VirtualFile. The needed dependency is missing from your application's classpath, which leads to this error.</p>\n<p>Include the relevant JAR file containing the org.jboss.vfs.VirtualFile class in your application's classpath as a potential workaround. You may find the JAR file containing this class and add it to your JSF application's WAR file's WEB-INF/lib directory. In this manner, when the application is deployed, it will be added to the classpath.</p>\n<p>Alternatively, if you are using Maven or another build tool, you can add the dependency to your project's configuration file (pom.xml for Maven) to automatically include the required JAR file during the build process. You'll need to find the appropriate Maven coordinates for the JAR containing org.jboss.vfs.VirtualFile and add them to your project's dependencies.</p>\n<p>Here's an example of how you can add a Maven dependency for the JBoss VFS module in your pom.xml file:</p>\n<pre><code>&lt;dependencies&gt;\n&lt;!-- Other dependencies --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jboss&lt;/groupId&gt;\n    &lt;artifactId&gt;jboss-vfs&lt;/artifactId&gt;\n    &lt;version&gt;&lt;!-- Specify the appropriate version here --&gt;&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n"},{"comments":[{"owner":{"account_id":432653,"reputation":6827,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1685962000,"post_id":76393397,"comment_id":134729110,"body_markdown":"That sounded very promising, but didn&#39;t help. But this may have to do with re-setting the property at another place. I added it within the start script as well und this time, I did not get the original exception, but a `Caused by: java.lang.NoClassDefFoundError: org/openjdk/jol/info/GraphLayout`, allthough I added the jol jar to the war and then to the lib ear folder. Any idea what could cause this now?","body":"That sounded very promising, but didn&#39;t help. But this may have to do with re-setting the property at another place. I added it within the start script as well und this time, I did not get the original exception, but a <code>Caused by: java.lang.NoClassDefFoundError: org&#47;openjdk&#47;jol&#47;info&#47;GraphLayout</code>, allthough I added the jol jar to the war and then to the lib ear folder. Any idea what could cause this now?"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685966135,"post_id":76393397,"comment_id":134730018,"body_markdown":"Yes, I think. Now, JOL is loaded in an &quot;application server&quot; level classloader. Its classes are not available anymore in your &quot;war scope&quot; classloader. Maybe you should deploy the JOL package as a global module (see there https://www.mastertheboss.com/jbossas/jboss-configuration/configuring-global-modules-and-directories-in-wildfly/) and define the dependency in your app as &quot;provided&quot;.","body":"Yes, I think. Now, JOL is loaded in an &quot;application server&quot; level classloader. Its classes are not available anymore in your &quot;war scope&quot; classloader. Maybe you should deploy the JOL package as a global module (see there <a href=\"https://www.mastertheboss.com/jbossas/jboss-configuration/configuring-global-modules-and-directories-in-wildfly/\" rel=\"nofollow noreferrer\">mastertheboss.com/jbossas/jboss-configuration/&hellip;</a>) and define the dependency in your app as &quot;provided&quot;."},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1686075579,"post_id":76393397,"comment_id":134748757,"body_markdown":"I have a far simpler solution for you. See the &quot;Edit&quot; part.","body":"I have a far simpler solution for you. See the &quot;Edit&quot; part."},{"owner":{"account_id":432653,"reputation":6827,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1686129358,"post_id":76393397,"comment_id":134755499,"body_markdown":"It&#39;s like a curse, whatever I do, I end up with the same error. Sorry, the bounty is expiring now, I would have liked to honor the help, but could not yet make it run. Thanks anyway, I think I will take another path and avoid that size measring completely, allthough I like to have it seen running.","body":"It&#39;s like a curse, whatever I do, I end up with the same error. Sorry, the bounty is expiring now, I would have liked to honor the help, but could not yet make it run. Thanks anyway, I think I will take another path and avoid that size measring completely, allthough I like to have it seen running."},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1686129948,"post_id":76393397,"comment_id":134755627,"body_markdown":"Don&#39;t worry about the bounty, I want the riddle to be solved lol But did you try to put your code using JOL in org.openjdk.jol package ? Do you get the same error ? Let me know, I&#39;m curious.","body":"Don&#39;t worry about the bounty, I want the riddle to be solved lol But did you try to put your code using JOL in org.openjdk.jol package ? Do you get the same error ? Let me know, I&#39;m curious."},{"owner":{"account_id":432653,"reputation":6827,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1686130277,"post_id":76393397,"comment_id":134755702,"body_markdown":"Yes I did, but the very same exception occured.","body":"Yes I did, but the very same exception occured."}],"tags":[],"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686075505,"creation_date":1685738963,"answer_id":76393397,"question_id":76341989,"body_markdown":"1. Your JOL problem\r\n\r\nAfter reading how JOL works, I understand that it tries to attach itself to the JVM as an agent.\r\n\r\nI had some similar issues with another java agent on wildfly, about loading some classes etc. It&#39;s probably a class loader issue. You webapp does not have access to some classes because your app has a &quot;isolated&quot; classloader. I think you need to say to Wildfly that JOL must have access to all modules in the JVM. I did not succeed to reproduce your error. so I&#39;m really not sure about my answer but it does not cost a lot to try. \r\n\r\nYou just need to configure a JVM system property. Try to make your JVM start with the following :\r\n\r\n`-Djboss.modules.system.pkgs=org.jboss.byteman,org.openjdk.jol`\r\n\r\nYour Wildfly probably already starts with `-Djboss.modules.system.pkgs=org.jboss.byteman&#39; already defined. Just add the JOL package to the property.\r\n\r\nIn a standalone wildfly instance, you can change this in the &quot;&lt;wildfly root&gt;/bin/standalone.conf&quot; file, defined like this :\r\n\r\n```bash\r\nif [ &quot;x$JBOSS_MODULES_SYSTEM_PKGS&quot; = &quot;x&quot; ]; then\r\n   JBOSS_MODULES_SYSTEM_PKGS=&quot;org.jboss.byteman&quot;\r\nfi\r\n```\r\n\r\nJust replace this piece of code with:\r\n\r\n```bash\r\nif [ &quot;x$JBOSS_MODULES_SYSTEM_PKGS&quot; = &quot;x&quot; ]; then\r\n   JBOSS_MODULES_SYSTEM_PKGS=&quot;org.jboss.byteman,org.openjdk.jol&quot;\r\nfi\r\n```\r\n\r\n**Edit:**\r\nPut the code doing this :\r\n`GraphLayout.parseInstance(sessions).totalSize());`\r\nin a dedicated class. Put this class in the package `org.openjdk.jol&#39; in your app.\r\n\r\nI think it will work.\r\n\r\n2. Does your suspected memory leak cause some OutOfMemoryError ? If it does, add this option to your JVM: -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath:&quot;folder where you want your heap dump to be stored&quot;\r\n\r\nIt&#39;s the best way to get an accurate heap dump. You will have the exact image of your heap when the OutOfMemoryError occurs. By inspecting the sessions, you will know what kind of objects occupy too much heap.","title":"How to use OpenJDK JOL (or similar tool) in WAR on WildFly to measure object size?","body":"<ol>\n<li>Your JOL problem</li>\n</ol>\n<p>After reading how JOL works, I understand that it tries to attach itself to the JVM as an agent.</p>\n<p>I had some similar issues with another java agent on wildfly, about loading some classes etc. It's probably a class loader issue. You webapp does not have access to some classes because your app has a &quot;isolated&quot; classloader. I think you need to say to Wildfly that JOL must have access to all modules in the JVM. I did not succeed to reproduce your error. so I'm really not sure about my answer but it does not cost a lot to try.</p>\n<p>You just need to configure a JVM system property. Try to make your JVM start with the following :</p>\n<p><code>-Djboss.modules.system.pkgs=org.jboss.byteman,org.openjdk.jol</code></p>\n<p>Your Wildfly probably already starts with `-Djboss.modules.system.pkgs=org.jboss.byteman' already defined. Just add the JOL package to the property.</p>\n<p>In a standalone wildfly instance, you can change this in the &quot;/bin/standalone.conf&quot; file, defined like this :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>if [ &quot;x$JBOSS_MODULES_SYSTEM_PKGS&quot; = &quot;x&quot; ]; then\n   JBOSS_MODULES_SYSTEM_PKGS=&quot;org.jboss.byteman&quot;\nfi\n</code></pre>\n<p>Just replace this piece of code with:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>if [ &quot;x$JBOSS_MODULES_SYSTEM_PKGS&quot; = &quot;x&quot; ]; then\n   JBOSS_MODULES_SYSTEM_PKGS=&quot;org.jboss.byteman,org.openjdk.jol&quot;\nfi\n</code></pre>\n<p><strong>Edit:</strong>\nPut the code doing this :\n<code>GraphLayout.parseInstance(sessions).totalSize());</code>\nin a dedicated class. Put this class in the package `org.openjdk.jol' in your app.</p>\n<p>I think it will work.</p>\n<ol start=\"2\">\n<li>Does your suspected memory leak cause some OutOfMemoryError ? If it does, add this option to your JVM: -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath:&quot;folder where you want your heap dump to be stored&quot;</li>\n</ol>\n<p>It's the best way to get an accurate heap dump. You will have the exact image of your heap when the OutOfMemoryError occurs. By inspecting the sessions, you will know what kind of objects occupy too much heap.</p>\n"}],"owner":{"account_id":432653,"reputation":6827,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1686075505,"creation_date":1685113105,"question_id":76341989,"body_markdown":"We have a Java EE application on WildFly 26 and OpenJDK 1.8, deployed as EAR and containing a JSF application in a WAR file.\r\n\r\nI like to measure the size of a list of HttpSession objects, so I need something to calculate deep object size.\r\n\r\nI tried different approaches and ended up with Java Object Layout (JOL, https://github.com/openjdk/jol) and its GraphLayout class:\r\n\r\n    GraphLayout.parseInstance(sessions).totalSize());\r\n\r\nWhen the application runs, I get \r\n\r\n    java.lang.NoClassDefFoundError: Lorg/jboss/vfs/VirtualFile;\r\n            at java.lang.Class.getDeclaredFields0(Native Method) [rt.jar:1.8.0_345]\r\n            at java.lang.Class.privateGetDeclaredFields(Class.java:2583) [rt.jar:1.8.0_345]\r\n            at java.lang.Class.getDeclaredFields(Class.java:1916) [rt.jar:1.8.0_345]\r\n            at org.openjdk.jol.info.GraphWalker.getAllReferences(GraphWalker.java:128)\r\n            at org.openjdk.jol.info.GraphWalker.walk(GraphWalker.java:96)\r\n            at org.openjdk.jol.info.GraphLayout.parseInstance(GraphLayout.java:63)\r\n            at &lt;myClass&gt; [..]\r\n    Caused by: java.lang.ClassNotFoundException: org.jboss.vfs.VirtualFile from [Module &quot;org.jboss.as.weld.ejb&quot; version 26.1.1.Final from local module loader [..]\r\nIt seems the dependency to the vfs module is missing somewhere, but I don&#39;t know how and where to configure that.\r\n\r\nCan anyone help me to make this work or propose a different approach, which works for an application as described above?\r\n\r\n**Edit 1**: I put org.jboss.vfs in org/jboss/as/weld/ejb module but this only lead to another class not found in infinispan. Besides JOL, I tested two other approaches, but they ended up in the same error. And I tried to use the approach via an agent as decribed [in this SO post][1], but couldn&#39;t make it work in combination with WildFly.\r\n\r\n**Edit 2**: I saw, that the described problem has to do with using reflection, since using an old approach from [Heinz Kabutz][2] led to the very same exception:\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: Lorg/jboss/vfs/VirtualFile;\r\n            at java.lang.Class.getDeclaredFields0(Native Method [rt.jar:1.8.0_345]\r\n            at java.lang.Class.getDeclaredFields0(Native Method)    [rt.jar:1.8.0_345]\r\n            at java.lang.Class.privateGetDeclaredFields(Class.java:2583) [rt.jar:1.8.0_345]\r\n            at java.lang.Class.getDeclaredFields(Class.java:1916) [rt.jar:1.8.0_345]\r\n            at MemoryCounter._estimate( [..]\r\n\r\n  [1]: https://stackoverflow.com/questions/52353/how-to-determine-the-size-of-an-object-in-java\r\n  [2]: https://www.infoworld.com/article/2077408/sizeof-for-java.html\r\n","title":"How to use OpenJDK JOL (or similar tool) in WAR on WildFly to measure object size?","body":"<p>We have a Java EE application on WildFly 26 and OpenJDK 1.8, deployed as EAR and containing a JSF application in a WAR file.</p>\n<p>I like to measure the size of a list of HttpSession objects, so I need something to calculate deep object size.</p>\n<p>I tried different approaches and ended up with Java Object Layout (JOL, <a href=\"https://github.com/openjdk/jol\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jol</a>) and its GraphLayout class:</p>\n<pre><code>GraphLayout.parseInstance(sessions).totalSize());\n</code></pre>\n<p>When the application runs, I get</p>\n<pre><code>java.lang.NoClassDefFoundError: Lorg/jboss/vfs/VirtualFile;\n        at java.lang.Class.getDeclaredFields0(Native Method) [rt.jar:1.8.0_345]\n        at java.lang.Class.privateGetDeclaredFields(Class.java:2583) [rt.jar:1.8.0_345]\n        at java.lang.Class.getDeclaredFields(Class.java:1916) [rt.jar:1.8.0_345]\n        at org.openjdk.jol.info.GraphWalker.getAllReferences(GraphWalker.java:128)\n        at org.openjdk.jol.info.GraphWalker.walk(GraphWalker.java:96)\n        at org.openjdk.jol.info.GraphLayout.parseInstance(GraphLayout.java:63)\n        at &lt;myClass&gt; [..]\nCaused by: java.lang.ClassNotFoundException: org.jboss.vfs.VirtualFile from [Module &quot;org.jboss.as.weld.ejb&quot; version 26.1.1.Final from local module loader [..]\n</code></pre>\n<p>It seems the dependency to the vfs module is missing somewhere, but I don't know how and where to configure that.</p>\n<p>Can anyone help me to make this work or propose a different approach, which works for an application as described above?</p>\n<p><strong>Edit 1</strong>: I put org.jboss.vfs in org/jboss/as/weld/ejb module but this only lead to another class not found in infinispan. Besides JOL, I tested two other approaches, but they ended up in the same error. And I tried to use the approach via an agent as decribed <a href=\"https://stackoverflow.com/questions/52353/how-to-determine-the-size-of-an-object-in-java\">in this SO post</a>, but couldn't make it work in combination with WildFly.</p>\n<p><strong>Edit 2</strong>: I saw, that the described problem has to do with using reflection, since using an old approach from <a href=\"https://www.infoworld.com/article/2077408/sizeof-for-java.html\" rel=\"nofollow noreferrer\">Heinz Kabutz</a> led to the very same exception:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: Lorg/jboss/vfs/VirtualFile;\n        at java.lang.Class.getDeclaredFields0(Native Method [rt.jar:1.8.0_345]\n        at java.lang.Class.getDeclaredFields0(Native Method)    [rt.jar:1.8.0_345]\n        at java.lang.Class.privateGetDeclaredFields(Class.java:2583) [rt.jar:1.8.0_345]\n        at java.lang.Class.getDeclaredFields(Class.java:1916) [rt.jar:1.8.0_345]\n        at MemoryCounter._estimate( [..]\n</code></pre>\n"},{"tags":["java","arrays","binary-search"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1686075974,"post_id":76417376,"comment_id":134748831,"body_markdown":"When you find the number, you should stop the binary search. You should then somehow traverse the list to the left and right of the found index to find the first and last occurrences of the found variable because you don&#39;t know if the binary search has found the first, last, or any other occurrence of the number.","body":"When you find the number, you should stop the binary search. You should then somehow traverse the list to the left and right of the found index to find the first and last occurrences of the found variable because you don&#39;t know if the binary search has found the first, last, or any other occurrence of the number."}],"owner":{"account_id":27854525,"reputation":1,"user_id":21268308,"display_name":"KISHORE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686075303,"creation_date":1686075303,"question_id":76417376,"body_markdown":"Actually this is a leetcode problem no \\*\\*34. Find First and Last Position of Element in Sorted Array.\\*\\*In this I code solution in java in vscode.but I can&#39;t able to get expected answer.\r\n\r\n*MY Code:-*\r\n\r\n```\r\nclass OrdAgsBS{\r\n    public static void main(String[] args) {\r\n        int[] ans={-1,-1};\r\n        int[] nums={1,2,3,4,5,3,1};\r\n        int target=3;\r\n     ans[0]=search(nums,target,true);\r\n    ans[1]=search(nums,target,false);\r\n\r\n        for(int ch:ans)\r\n         System.out.print(ch+&quot; &quot;);\r\n\r\n    }\r\n       public static int search(int[] nums,int target,boolean startInd){\r\n             int start=0,end=nums.length-1,ans=-1;\r\n         while(start&lt;=end){\r\n          int mid=start+(end-start)/2;\r\n             if(target&lt;nums[mid])\r\n              end=mid-1;\r\n             else if(target&gt;nums[mid])\r\n              start=mid+1;\r\n             else{\r\n                 ans=mid;\r\n                 if(startInd)\r\n                       end=mid-1;\r\n                 else\r\n                   start=mid+1;\r\n         } \r\n       }\r\n       return ans;\r\n      }\r\n}\r\n```\r\n\r\nIn this above code I builded logic correctly according to my intutive approach.But I expect answer for this will be\r\n\r\n\\[2,5\\].The first index of 3 and last index value of 3.But If i compile above code I get answer \\[2,2\\].I don&#39;t know what is the problem.Can anyone help me to rectify it.","title":"Not getting expected answer on OrderAgnostic Binary Search.Leetcode problem no &quot;34. Find First and Last Position of Element in Sorted Array&quot;","body":"<p>Actually this is a leetcode problem no **34. Find First and Last Position of Element in Sorted Array.**In this I code solution in java in vscode.but I can't able to get expected answer.</p>\n<p><em>MY Code:-</em></p>\n<pre><code>class OrdAgsBS{\n    public static void main(String[] args) {\n        int[] ans={-1,-1};\n        int[] nums={1,2,3,4,5,3,1};\n        int target=3;\n     ans[0]=search(nums,target,true);\n    ans[1]=search(nums,target,false);\n\n        for(int ch:ans)\n         System.out.print(ch+&quot; &quot;);\n\n    }\n       public static int search(int[] nums,int target,boolean startInd){\n             int start=0,end=nums.length-1,ans=-1;\n         while(start&lt;=end){\n          int mid=start+(end-start)/2;\n             if(target&lt;nums[mid])\n              end=mid-1;\n             else if(target&gt;nums[mid])\n              start=mid+1;\n             else{\n                 ans=mid;\n                 if(startInd)\n                       end=mid-1;\n                 else\n                   start=mid+1;\n         } \n       }\n       return ans;\n      }\n}\n</code></pre>\n<p>In this above code I builded logic correctly according to my intutive approach.But I expect answer for this will be</p>\n<p>[2,5].The first index of 3 and last index value of 3.But If i compile above code I get answer [2,2].I don't know what is the problem.Can anyone help me to rectify it.</p>\n"},{"tags":["java","swing","user-interface","layout-manager"],"comments":[{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1363097961,"post_id":15363706,"comment_id":21707218,"body_markdown":"What is your problem exactly? Which space would you like to introduce and causes issues? You can always use `BorderFactory.createEmptyBorder(int, int, int, int)`","body":"What is your problem exactly? Which space would you like to introduce and causes issues? You can always use <code>BorderFactory.createEmptyBorder(int, int, int, int)</code>"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1363098330,"post_id":15363706,"comment_id":21707480,"body_markdown":"@Guillaume Polet not sure, please not attack, are you meaning, to use `EmptyBorder` to avoiding `setPreferredSize`, or to use `EmptyBorder` to avoiding `SpringLayout` with `GridBagLayout` in the `NestedLayout` form , `MigLayout` or ...","body":"@Guillaume Polet not sure, please not attack, are you meaning, to use <code>EmptyBorder</code> to avoiding <code>setPreferredSize</code>, or to use <code>EmptyBorder</code> to avoiding <code>SpringLayout</code> with <code>GridBagLayout</code> in the <code>NestedLayout</code> form , <code>MigLayout</code> or ..."},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1363098775,"post_id":15363706,"comment_id":21707785,"body_markdown":"@mKorbel Empty borders are a very easy (and sometime elegant) solution to properly position components in their container without having to switch to another LayoutManager. If the OP feels comfortable with those LayoutManager&#39;s, empty borders may be a good solution to his actual problems.","body":"@mKorbel Empty borders are a very easy (and sometime elegant) solution to properly position components in their container without having to switch to another LayoutManager. If the OP feels comfortable with those LayoutManager&#39;s, empty borders may be a good solution to his actual problems."}],"answers":[{"comments":[{"owner":{"account_id":909310,"reputation":189,"user_id":943528,"accept_rate":85,"display_name":"DaveQuinn"},"score":0,"creation_date":1363098674,"post_id":15363806,"comment_id":21707719,"body_markdown":"Which Layout Managers do you recommend for this design? That is the motivation behind my question.","body":"Which Layout Managers do you recommend for this design? That is the motivation behind my question."},{"owner":{"account_id":2461139,"reputation":4729,"user_id":2145295,"display_name":"Jean Waghetti"},"score":0,"creation_date":1363099093,"post_id":15363806,"comment_id":21708038,"body_markdown":"GridBagLayout is the most flexible in my opinion. But maybe I would mix some layout managers. Put a panel on top and in the bottom and table in the middle with BorderLayout. The panels in the bottom I would use FlowLayout and the panel int top maybe FlowLayout or GridBagLayout. Or do everything with GridBagLayout (a lot lot of coding).","body":"GridBagLayout is the most flexible in my opinion. But maybe I would mix some layout managers. Put a panel on top and in the bottom and table in the middle with BorderLayout. The panels in the bottom I would use FlowLayout and the panel int top maybe FlowLayout or GridBagLayout. Or do everything with GridBagLayout (a lot lot of coding)."}],"tags":[],"owner":{"account_id":2461139,"reputation":4729,"user_id":2145295,"display_name":"Jean Waghetti"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363098756,"creation_date":1363098024,"answer_id":15363806,"question_id":15363706,"body_markdown":"The best way is to create a GUI is to code in a way you and others will understand . Take a look at this [Guide to Layout Managers][1]. You can use different layout managers for different components. This will help you setting correct spacing.\r\n\r\nIf your problem is just the spacing around the components, set its [Insets][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Insets.html","title":"How to program this GUI in Java Swing","body":"<p>The best way is to create a GUI is to code in a way you and others will understand . Take a look at this <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow\">Guide to Layout Managers</a>. You can use different layout managers for different components. This will help you setting correct spacing.</p>\n\n<p>If your problem is just the spacing around the components, set its <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Insets.html\" rel=\"nofollow\">Insets</a>.</p>\n"},{"comments":[{"owner":{"account_id":909310,"reputation":189,"user_id":943528,"accept_rate":85,"display_name":"DaveQuinn"},"score":0,"creation_date":1363099162,"post_id":15364176,"comment_id":21708097,"body_markdown":"Will try @Gilbert Le Blanc. Thanks for your input. Much appreciated.","body":"Will try @Gilbert Le Blanc. Thanks for your input. Much appreciated."}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363098983,"creation_date":1363098983,"answer_id":15364176,"question_id":15363706,"body_markdown":"Here&#39;s how I would arrange your GUI.  This is just one way.  It&#39;s not the only way.\r\n\r\n- The `JTable` goes inside of a `JScrollPane`.\r\n\r\n- `Button2` and `Button3` go inside of a button `JPanel` with a `FlowLayout`.\r\n\r\n- `Label` and `Button1` go inside of a label `JPanel` with a `FlowLayout`.\r\n\r\n- File, Report, and Help are `JMenuItem`s on a `JMenuBar`.\r\n\r\n- The main `JPanel` has a `BoxLayout` with a Y_AXIS orientation.\r\n\r\n- Add the label `JPanel`, the `JScrollPane`, and the button `JPanel` to the main `JPanel`.","title":"How to program this GUI in Java Swing","body":"<p>Here's how I would arrange your GUI.  This is just one way.  It's not the only way.</p>\n\n<ul>\n<li><p>The <code>JTable</code> goes inside of a <code>JScrollPane</code>.</p></li>\n<li><p><code>Button2</code> and <code>Button3</code> go inside of a button <code>JPanel</code> with a <code>FlowLayout</code>.</p></li>\n<li><p><code>Label</code> and <code>Button1</code> go inside of a label <code>JPanel</code> with a <code>FlowLayout</code>.</p></li>\n<li><p>File, Report, and Help are <code>JMenuItem</code>s on a <code>JMenuBar</code>.</p></li>\n<li><p>The main <code>JPanel</code> has a <code>BoxLayout</code> with a Y_AXIS orientation.</p></li>\n<li><p>Add the label <code>JPanel</code>, the <code>JScrollPane</code>, and the button <code>JPanel</code> to the main <code>JPanel</code>.</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":909310,"reputation":189,"user_id":943528,"accept_rate":85,"display_name":"DaveQuinn"},"score":0,"creation_date":1363099209,"post_id":15364181,"comment_id":21708140,"body_markdown":"That&#39;s exactly what i wanted. Thank you @Guillaume Polet.\nI also tried GridBagLayout but i can&#39;t seem to grasp the concept. Any good tutorias you&#39;d recommend? Tha one&#39;s on orcles&#39;s webpage are not that easy for a beginner.","body":"That&#39;s exactly what i wanted. Thank you @Guillaume Polet. I also tried GridBagLayout but i can&#39;t seem to grasp the concept. Any good tutorias you&#39;d recommend? Tha one&#39;s on orcles&#39;s webpage are not that easy for a beginner."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1363099276,"post_id":15364181,"comment_id":21708204,"body_markdown":"hmmmm are you know that Empty JPanels added to W, E, S, N area to JFrame to create this gap automatically, there no reason to add EmptyBorders for this idea :-)","body":"hmmmm are you know that Empty JPanels added to W, E, S, N area to JFrame to create this gap automatically, there no reason to add EmptyBorders for this idea :-)"},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1363099413,"post_id":15364181,"comment_id":21708321,"body_markdown":"@mKorbel Do you suggest to rather add empty `JPanel` with a forced preferred size to the West, East, North and South of the JFrame?","body":"@mKorbel Do you suggest to rather add empty <code>JPanel</code> with a forced preferred size to the West, East, North and South of the JFrame?"},{"owner":{"account_id":909310,"reputation":189,"user_id":943528,"accept_rate":85,"display_name":"DaveQuinn"},"score":0,"creation_date":1363100192,"post_id":15364181,"comment_id":21708908,"body_markdown":"Like @Gilbert Le Blanc suggested, using FlowLayout instead of GridLayout should be much more flexible and allow me to create the gap between the label and the button, on the north, and the two buttons, on the South area. What&#39;s your opinion?","body":"Like @Gilbert Le Blanc suggested, using FlowLayout instead of GridLayout should be much more flexible and allow me to create the gap between the label and the button, on the north, and the two buttons, on the South area. What&#39;s your opinion?"},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1363101304,"post_id":15364181,"comment_id":21709662,"body_markdown":"@PMMP Depends on what you are trying to achieve. If you like to have buttons &quot;equally&quot; sized, `GridLayout` is the way to go. If now you prefer that each button has its own size and be aligned in some way, `FlowLayout` or `BoxLayout` are better candidates. There is no right or wrong `LayoutManager`&#39;s, only appropriate ones for given needs/wishes.","body":"@PMMP Depends on what you are trying to achieve. If you like to have buttons &quot;equally&quot; sized, <code>GridLayout</code> is the way to go. If now you prefer that each button has its own size and be aligned in some way, <code>FlowLayout</code> or <code>BoxLayout</code> are better candidates. There is no right or wrong <code>LayoutManager</code>&#39;s, only appropriate ones for given needs/wishes."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1363101785,"post_id":15364181,"comment_id":21710004,"body_markdown":"@Guillaume Polet this gap is automatically created in Top-Level Container, BorderLayout, empty JPanel, no required any size, done by BorderLayout","body":"@Guillaume Polet this gap is automatically created in Top-Level Container, BorderLayout, empty JPanel, no required any size, done by BorderLayout"},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":1,"creation_date":1363102099,"post_id":15364181,"comment_id":21710214,"body_markdown":"@mKorbel OK I see what you mean now. If I add empty JPanels, the hGap and vGap of the BorderLayout will enter in action and will make an empty border appear automatically. Personnally, I still prefer the explicit empty border which has been created precisely to achieve the described effect. _Colors and tastes can always be argued...._ ;-)","body":"@mKorbel OK I see what you mean now. If I add empty JPanels, the hGap and vGap of the BorderLayout will enter in action and will make an empty border appear automatically. Personnally, I still prefer the explicit empty border which has been created precisely to achieve the described effect. <i>Colors and tastes can always be argued....</i> ;-)"}],"tags":[],"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1363099000,"creation_date":1363099000,"answer_id":15364181,"question_id":15363706,"body_markdown":"2 things you can use to make this happen:\r\n\r\n1. Use `BorderFactory.createEmptyBorder(int, int, int, int)`\r\n2. Use the 4-args constructor of `GridLayout`\r\n\r\nThere are other LayoutManager&#39;s which can bring the same functionality (like `GridBagLayout`, or using nested `BorderLayout`), but if you feel comfortable with the current `LayoutManager`&#39;s, there is no imperious need to change to those. The way you did is also acceptable.\r\n\r\n![enter image description here][1]\r\n\r\nYou might consider wrapping the table in a `JScrollPane` to make it nicer, with headers and scrollbars if ever needed.\r\n\r\nSmall example code:\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuBar;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSeparator;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class GUI extends JFrame {\r\n    \r\n    \tprivate JButton loadFileBtn = new JButton(&quot;Load File&quot;);\r\n    \tprivate JButton generateReportBtn = new JButton(&quot;Generate Report&quot;);\r\n    \tprivate JButton exitBtn = new JButton(&quot;Exit&quot;);\r\n    \tprivate JLabel fileNameLbl = new JLabel(&quot;File Name Here&quot;);\r\n    \tprivate JMenuBar menuBar = new JMenuBar();\r\n    \tprivate JMenu fileMI = new JMenu(&quot;File&quot;);\r\n    \tprivate JMenuItem openFileMenu = new JMenuItem(&quot;Open File&quot;);\r\n    \tprivate JSeparator separator = new JSeparator();\r\n    \tprivate JMenuItem exitMenu = new JMenuItem(&quot;Exit&quot;);\r\n    \tprivate JMenu reportMI = new JMenu(&quot;Report&quot;);\r\n    \tprivate JMenuItem generateReportMenu = new JMenuItem(&quot;Generate Report&quot;);\r\n    \tprivate JMenu helpMI = new JMenu(&quot;Help&quot;);\r\n    \tprivate JMenuItem aboutMenu = new JMenuItem(&quot;About&quot;);\r\n    \tprivate JTable table = new JTable(5, 2);\r\n    \tprivate JPanel mainPanel = new JPanel(new BorderLayout(10, 10));\r\n    \tprivate JPanel panel1 = new JPanel(new BorderLayout());\r\n    \tprivate JPanel panel2 = new JPanel(new GridLayout(1, 2, 10, 10));\r\n    \tprivate JPanel panel3 = new JPanel(new GridLayout(1, 2, 10, 10));\r\n    \r\n    \tpublic GUI() {\r\n    \r\n    \t\tsuper(&quot;Sample GUI&quot;);\r\n    \r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetSize(new Dimension(300, 300));\r\n    \t\tsetResizable(false);\r\n    \r\n    \t\tsetLayout(new BorderLayout(10, 10));\r\n    \r\n    \t\tfileMI.add(openFileMenu);\r\n    \t\tfileMI.add(separator);\r\n    \t\tfileMI.add(exitMenu);\r\n    \r\n    \t\treportMI.add(generateReportMenu);\r\n    \r\n    \t\thelpMI.add(aboutMenu);\r\n    \r\n    \t\tmenuBar.add(fileMI);\r\n    \t\tmenuBar.add(reportMI);\r\n    \t\tmenuBar.add(helpMI);\r\n    \r\n    \t\tsetJMenuBar(menuBar);\r\n    \r\n    \t\tpanel1.add(table, BorderLayout.CENTER);\r\n    \r\n    \t\tpanel2.add(fileNameLbl);\r\n    \t\tpanel2.add(loadFileBtn);\r\n    \r\n    \t\tpanel3.add(generateReportBtn);\r\n    \t\tpanel3.add(exitBtn);\r\n    \r\n    \t\tmainPanel.add(panel2, BorderLayout.NORTH);\r\n    \t\tmainPanel.add(panel1, BorderLayout.CENTER);\r\n    \t\tmainPanel.add(panel3, BorderLayout.SOUTH);\r\n    \t\tmainPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\r\n    \t\tadd(mainPanel);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tGUI app = new GUI();\r\n    \t\t\t\tapp.setVisible(true);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/w2Ky3.png","title":"How to program this GUI in Java Swing","body":"<p>2 things you can use to make this happen:</p>\n\n<ol>\n<li>Use <code>BorderFactory.createEmptyBorder(int, int, int, int)</code></li>\n<li>Use the 4-args constructor of <code>GridLayout</code></li>\n</ol>\n\n<p>There are other LayoutManager's which can bring the same functionality (like <code>GridBagLayout</code>, or using nested <code>BorderLayout</code>), but if you feel comfortable with the current <code>LayoutManager</code>'s, there is no imperious need to change to those. The way you did is also acceptable.</p>\n\n<p><img src=\"https://i.stack.imgur.com/w2Ky3.png\" alt=\"enter image description here\"></p>\n\n<p>You might consider wrapping the table in a <code>JScrollPane</code> to make it nicer, with headers and scrollbars if ever needed.</p>\n\n<p>Small example code:</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.JSeparator;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\n\npublic class GUI extends JFrame {\n\n    private JButton loadFileBtn = new JButton(\"Load File\");\n    private JButton generateReportBtn = new JButton(\"Generate Report\");\n    private JButton exitBtn = new JButton(\"Exit\");\n    private JLabel fileNameLbl = new JLabel(\"File Name Here\");\n    private JMenuBar menuBar = new JMenuBar();\n    private JMenu fileMI = new JMenu(\"File\");\n    private JMenuItem openFileMenu = new JMenuItem(\"Open File\");\n    private JSeparator separator = new JSeparator();\n    private JMenuItem exitMenu = new JMenuItem(\"Exit\");\n    private JMenu reportMI = new JMenu(\"Report\");\n    private JMenuItem generateReportMenu = new JMenuItem(\"Generate Report\");\n    private JMenu helpMI = new JMenu(\"Help\");\n    private JMenuItem aboutMenu = new JMenuItem(\"About\");\n    private JTable table = new JTable(5, 2);\n    private JPanel mainPanel = new JPanel(new BorderLayout(10, 10));\n    private JPanel panel1 = new JPanel(new BorderLayout());\n    private JPanel panel2 = new JPanel(new GridLayout(1, 2, 10, 10));\n    private JPanel panel3 = new JPanel(new GridLayout(1, 2, 10, 10));\n\n    public GUI() {\n\n        super(\"Sample GUI\");\n\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(new Dimension(300, 300));\n        setResizable(false);\n\n        setLayout(new BorderLayout(10, 10));\n\n        fileMI.add(openFileMenu);\n        fileMI.add(separator);\n        fileMI.add(exitMenu);\n\n        reportMI.add(generateReportMenu);\n\n        helpMI.add(aboutMenu);\n\n        menuBar.add(fileMI);\n        menuBar.add(reportMI);\n        menuBar.add(helpMI);\n\n        setJMenuBar(menuBar);\n\n        panel1.add(table, BorderLayout.CENTER);\n\n        panel2.add(fileNameLbl);\n        panel2.add(loadFileBtn);\n\n        panel3.add(generateReportBtn);\n        panel3.add(exitBtn);\n\n        mainPanel.add(panel2, BorderLayout.NORTH);\n        mainPanel.add(panel1, BorderLayout.CENTER);\n        mainPanel.add(panel3, BorderLayout.SOUTH);\n        mainPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        add(mainPanel);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                GUI app = new GUI();\n                app.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":909310,"reputation":189,"user_id":943528,"accept_rate":85,"display_name":"DaveQuinn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6958,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1691789764,"accepted_answer_id":15364181,"answer_count":3,"score":3,"last_activity_date":1686075267,"creation_date":1363097757,"question_id":15363706,"body_markdown":"I&#39;m currently developing a small utility with the following GUI:\r\n\r\n![Sample GUI][1]\r\n\r\nRight now i have a container (JPanel) with the BorderLayout layout that holds everything in place. The i have another 2 JPanels placed on BorderLayout.NORTH and BorderLayout.SOUTH respectively, each whith the GridLayout (2 columns by 1 row). The table is on the main container placed at the CENTER of it.\r\n\r\nDo you think this is the best approach? I&#39;m having a rough time dealing with spacing between the components and the borders of the frame.\r\n\r\nRight now i have this code:\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuBar;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSeparator;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class GUI extends JFrame {\r\n    \r\n        private JButton loadFileBtn = new JButton(&quot;Load File&quot;);\r\n        private JButton generateReportBtn = new JButton(&quot;Generate Report&quot;);\r\n        private JButton exitBtn = new JButton(&quot;Exit&quot;);\r\n        private JLabel fileNameLbl = new JLabel(&quot;File Name Here&quot;);\r\n        private JMenuBar menuBar = new JMenuBar();\r\n        private JMenu fileMI = new JMenu(&quot;File&quot;);\r\n        private JMenuItem openFileMenu = new JMenuItem(&quot;Open File&quot;);\r\n        private JSeparator separator = new JSeparator();\r\n        private JMenuItem exitMenu = new JMenuItem(&quot;Exit&quot;);\r\n        private JMenu reportMI = new JMenu(&quot;Report&quot;);\r\n        private JMenuItem generateReportMenu = new JMenuItem(&quot;Generate Report&quot;);\r\n        private JMenu helpMI = new JMenu(&quot;Help&quot;);\r\n        private JMenuItem aboutMenu = new JMenuItem(&quot;About&quot;);\r\n        private JTable table = new JTable(5, 2);\r\n        private JPanel mainPanel = new JPanel(new BorderLayout(10, 10));\r\n        private JPanel panel1 = new JPanel(new BorderLayout());\r\n        private JPanel panel2 = new JPanel(new GridLayout(1, 2));\r\n        private JPanel panel3 = new JPanel(new GridLayout(1, 2));\r\n    \r\n        public GUI() {\r\n    \r\n            super(&quot;Sample GUI&quot;);\r\n    \r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setSize(new Dimension(300, 300));\r\n            setResizable(false);\r\n    \r\n            setLayout(new BorderLayout(10, 10));\r\n    \r\n            fileMI.add(openFileMenu);\r\n            fileMI.add(separator);\r\n            fileMI.add(exitMenu);\r\n    \r\n            reportMI.add(generateReportMenu);\r\n    \r\n            helpMI.add(aboutMenu);\r\n    \r\n            menuBar.add(fileMI);\r\n            menuBar.add(reportMI);\r\n            menuBar.add(helpMI);\r\n    \r\n            setJMenuBar(menuBar);\r\n    \r\n            panel1.add(table, BorderLayout.CENTER);\r\n    \r\n            panel2.add(fileNameLbl);\r\n            panel2.add(loadFileBtn);\r\n    \r\n            panel3.add(generateReportBtn);\r\n            panel3.add(exitBtn);\r\n    \r\n            mainPanel.add(panel2, BorderLayout.NORTH);\r\n            mainPanel.add(panel1, BorderLayout.CENTER);\r\n            mainPanel.add(panel3, BorderLayout.SOUTH);\r\n    \r\n            add(mainPanel);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    GUI app = new GUI();\r\n                    app.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nWhat do you think would be the best approach to do this?\r\n\r\nAny help would be appreciated. Thanks.\r\n\r\n&lt;br/&gt;\r\n**UPDATE:**\r\n\r\n\r\nRight now, i have the following GUI\r\n\r\n![enter image description here][2]\r\n\r\nI want the components to space away from the borders evenly, like in the mockup.\r\n \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Y7py2.png\r\n  [2]: http://i.stack.imgur.com/1mlJt.png","title":"How to program this GUI in Java Swing","body":"<p>I'm currently developing a small utility with the following GUI:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Y7py2.png\" alt=\"Sample GUI\"></p>\n\n<p>Right now i have a container (JPanel) with the BorderLayout layout that holds everything in place. The i have another 2 JPanels placed on BorderLayout.NORTH and BorderLayout.SOUTH respectively, each whith the GridLayout (2 columns by 1 row). The table is on the main container placed at the CENTER of it.</p>\n\n<p>Do you think this is the best approach? I'm having a rough time dealing with spacing between the components and the borders of the frame.</p>\n\n<p>Right now i have this code:</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.JSeparator;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\n\npublic class GUI extends JFrame {\n\n    private JButton loadFileBtn = new JButton(\"Load File\");\n    private JButton generateReportBtn = new JButton(\"Generate Report\");\n    private JButton exitBtn = new JButton(\"Exit\");\n    private JLabel fileNameLbl = new JLabel(\"File Name Here\");\n    private JMenuBar menuBar = new JMenuBar();\n    private JMenu fileMI = new JMenu(\"File\");\n    private JMenuItem openFileMenu = new JMenuItem(\"Open File\");\n    private JSeparator separator = new JSeparator();\n    private JMenuItem exitMenu = new JMenuItem(\"Exit\");\n    private JMenu reportMI = new JMenu(\"Report\");\n    private JMenuItem generateReportMenu = new JMenuItem(\"Generate Report\");\n    private JMenu helpMI = new JMenu(\"Help\");\n    private JMenuItem aboutMenu = new JMenuItem(\"About\");\n    private JTable table = new JTable(5, 2);\n    private JPanel mainPanel = new JPanel(new BorderLayout(10, 10));\n    private JPanel panel1 = new JPanel(new BorderLayout());\n    private JPanel panel2 = new JPanel(new GridLayout(1, 2));\n    private JPanel panel3 = new JPanel(new GridLayout(1, 2));\n\n    public GUI() {\n\n        super(\"Sample GUI\");\n\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(new Dimension(300, 300));\n        setResizable(false);\n\n        setLayout(new BorderLayout(10, 10));\n\n        fileMI.add(openFileMenu);\n        fileMI.add(separator);\n        fileMI.add(exitMenu);\n\n        reportMI.add(generateReportMenu);\n\n        helpMI.add(aboutMenu);\n\n        menuBar.add(fileMI);\n        menuBar.add(reportMI);\n        menuBar.add(helpMI);\n\n        setJMenuBar(menuBar);\n\n        panel1.add(table, BorderLayout.CENTER);\n\n        panel2.add(fileNameLbl);\n        panel2.add(loadFileBtn);\n\n        panel3.add(generateReportBtn);\n        panel3.add(exitBtn);\n\n        mainPanel.add(panel2, BorderLayout.NORTH);\n        mainPanel.add(panel1, BorderLayout.CENTER);\n        mainPanel.add(panel3, BorderLayout.SOUTH);\n\n        add(mainPanel);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                GUI app = new GUI();\n                app.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>What do you think would be the best approach to do this?</p>\n\n<p>Any help would be appreciated. Thanks.</p>\n\n<p><br/>\n<strong>UPDATE:</strong></p>\n\n<p>Right now, i have the following GUI</p>\n\n<p><img src=\"https://i.stack.imgur.com/1mlJt.png\" alt=\"enter image description here\"></p>\n\n<p>I want the components to space away from the borders evenly, like in the mockup.</p>\n"},{"tags":["java","elasticsearch","opensearch","amazon-opensearch","resthighlevelclient"],"owner":{"account_id":5330022,"reputation":173,"user_id":4250855,"display_name":"Gengis Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686075221,"creation_date":1686075221,"question_id":76417368,"body_markdown":"I am using the java high level rest client to construct and perform a search on my opensearch index. The query is a knn query with a few postfilter filters. I have built the query using XContentBuilder. I have converted the query to a string and run it on the opensearch dashboard and it works perfectly fine. I would like to know how do I use this XContentBuilder to perform a search programmatically? Is there a way to convert it to SearchSourceBuilder? Appreciate any help. Thanks!\r\n\r\nThis example on the opensearch website is similar to how my query looks like:\r\n\r\n```\r\n{\r\n  &quot;size&quot;: 2,\r\n  &quot;query&quot;: {\r\n    &quot;knn&quot;: {\r\n      &quot;my_vector2&quot;: {\r\n        &quot;vector&quot;: [2, 3, 5, 6],\r\n        &quot;k&quot;: 2\r\n      }\r\n    }\r\n  },\r\n  &quot;post_filter&quot;: {\r\n    &quot;range&quot;: {\r\n      &quot;price&quot;: {\r\n        &quot;gte&quot;: 5,\r\n        &quot;lte&quot;: 10\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"Construct search request from XContentBuilder (Elasticsearch/Opensearch)","body":"<p>I am using the java high level rest client to construct and perform a search on my opensearch index. The query is a knn query with a few postfilter filters. I have built the query using XContentBuilder. I have converted the query to a string and run it on the opensearch dashboard and it works perfectly fine. I would like to know how do I use this XContentBuilder to perform a search programmatically? Is there a way to convert it to SearchSourceBuilder? Appreciate any help. Thanks!</p>\n<p>This example on the opensearch website is similar to how my query looks like:</p>\n<pre><code>{\n  &quot;size&quot;: 2,\n  &quot;query&quot;: {\n    &quot;knn&quot;: {\n      &quot;my_vector2&quot;: {\n        &quot;vector&quot;: [2, 3, 5, 6],\n        &quot;k&quot;: 2\n      }\n    }\n  },\n  &quot;post_filter&quot;: {\n    &quot;range&quot;: {\n      &quot;price&quot;: {\n        &quot;gte&quot;: 5,\n        &quot;lte&quot;: 10\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","windows","winsw"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677504251,"post_id":75580185,"comment_id":133344653,"body_markdown":"Are you aware that on some platforms the java command has a flag -d32 or -d64 . Aside that, in Windows, there is a console on the start menu for running services. It may been installed but I don&#39;t see any command to start it. Type &quot;services&quot; into the start menu search bar.","body":"Are you aware that on some platforms the java command has a flag -d32 or -d64 . Aside that, in Windows, there is a console on the start menu for running services. It may been installed but I don&#39;t see any command to start it. Type &quot;services&quot; into the start menu search bar."},{"owner":{"account_id":13200526,"reputation":75,"user_id":9533915,"display_name":"Ganesh Shinde"},"score":0,"creation_date":1677513881,"post_id":75580185,"comment_id":133348066,"body_markdown":"I am running this in a nanoserver container, there is no UI. anyway I have found a workaround, can use %BASE% to get to jar file.","body":"I am running this in a nanoserver container, there is no UI. anyway I have found a workaround, can use %BASE% to get to jar file."}],"answers":[{"tags":[],"owner":{"account_id":28767005,"reputation":1,"user_id":22031680,"display_name":"Fiso Nleya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686075180,"creation_date":1686075180,"answer_id":76417360,"question_id":75580185,"body_markdown":"\r\n&lt;service&gt;\r\n\r\n  &lt;executable&gt;java&lt;/executable&gt;\r\n  &lt;arguments&gt;-jar myjar.jar &quot;.&quot;&lt;/arguments&gt;\r\n\r\n&lt;/service&gt;\r\n\r\n\r\n- Add &quot;.&quot; if the .properties file is in the same folder as WinSW-x64.exe or else specify the path of your config file in the quotation marks\r\n- Specify the command in the &quot;arguments&quot; tag","title":"How to use environment variable into winsw xml configuration?","body":"\n<p>java\n-jar myjar.jar &quot;.&quot;</p>\n\n<ul>\n<li>Add &quot;.&quot; if the .properties file is in the same folder as WinSW-x64.exe or else specify the path of your config file in the quotation marks</li>\n<li>Specify the command in the &quot;arguments&quot; tag</li>\n</ul>\n"}],"owner":{"account_id":13200526,"reputation":75,"user_id":9533915,"display_name":"Ganesh Shinde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686075180,"creation_date":1677499049,"question_id":75580185,"body_markdown":"I have exposed SGW_HOME variable on windows nanoserver and trying to use it in the xml file \r\n\r\n```\r\n&lt;service&gt;\r\n\r\n  &lt;!-- ID of the service. It should be unique across the Windows system--&gt;\r\n  &lt;id&gt;SGWJavaService&lt;/id&gt;\r\n  &lt;name&gt;SGWJavaService&lt;/name&gt;\r\n  &lt;description&gt;SGW Java service&lt;/description&gt;\r\n  &lt;env name=&quot;SGW_HOME&quot; value=&quot;%SGW_HOME%&quot;/&gt;\r\n  &lt;!-- Path to the executable, which should be started --&gt;\r\n  &lt;!-- CAUTION: Don&#39;t put arguments here. Use &lt;arguments&gt; instead. --&gt;\r\n  &lt;executable&gt;java&lt;/executable&gt;\r\n  &lt;arguments&gt;-jar %SGW_HOME%\\\\lib\\\\mgmt-node-1.0.0.jar&lt;/arguments&gt;\r\n&lt;/service&gt;\r\n```\r\nI can create service with command\r\n```\r\nWinSW-x64.exe install sgw.xml\r\n```\r\nbut service failed to start \r\n```\r\nC:\\program-files&gt;sc query SGWJavaService\r\n\r\nSERVICE_NAME: SGWJavaService\r\n        TYPE               : 10  WIN32_OWN_PROCESS\r\n        STATE              : 1  STOPPED\r\n        WIN32_EXIT_CODE    : 1067  (0x42b)\r\n        SERVICE_EXIT_CODE  : 0  (0x0)\r\n        CHECKPOINT         : 0x0\r\n        WAIT_HINT          : 0x0\r\n\r\nC:\\program-files&gt;\r\n```\r\nHow do I use env variable into xml file? ","title":"How to use environment variable into winsw xml configuration?","body":"<p>I have exposed SGW_HOME variable on windows nanoserver and trying to use it in the xml file</p>\n<pre><code>&lt;service&gt;\n\n  &lt;!-- ID of the service. It should be unique across the Windows system--&gt;\n  &lt;id&gt;SGWJavaService&lt;/id&gt;\n  &lt;name&gt;SGWJavaService&lt;/name&gt;\n  &lt;description&gt;SGW Java service&lt;/description&gt;\n  &lt;env name=&quot;SGW_HOME&quot; value=&quot;%SGW_HOME%&quot;/&gt;\n  &lt;!-- Path to the executable, which should be started --&gt;\n  &lt;!-- CAUTION: Don't put arguments here. Use &lt;arguments&gt; instead. --&gt;\n  &lt;executable&gt;java&lt;/executable&gt;\n  &lt;arguments&gt;-jar %SGW_HOME%\\\\lib\\\\mgmt-node-1.0.0.jar&lt;/arguments&gt;\n&lt;/service&gt;\n</code></pre>\n<p>I can create service with command</p>\n<pre><code>WinSW-x64.exe install sgw.xml\n</code></pre>\n<p>but service failed to start</p>\n<pre><code>C:\\program-files&gt;sc query SGWJavaService\n\nSERVICE_NAME: SGWJavaService\n        TYPE               : 10  WIN32_OWN_PROCESS\n        STATE              : 1  STOPPED\n        WIN32_EXIT_CODE    : 1067  (0x42b)\n        SERVICE_EXIT_CODE  : 0  (0x0)\n        CHECKPOINT         : 0x0\n        WAIT_HINT          : 0x0\n\nC:\\program-files&gt;\n</code></pre>\n<p>How do I use env variable into xml file?</p>\n"},{"tags":["java","maven","swagger"],"answers":[{"tags":[],"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686074401,"creation_date":1686074401,"answer_id":76417272,"question_id":76416833,"body_markdown":"This is because matrix parameters are URL path parameters, and path parameters [are always required](https://spec.openapis.org/oas/latest.html#parameterRequired) according to the OpenAPI Specification.\r\n\r\nTo have an optional path parameter, you&#39;ll have to [define 2 paths](https://stackoverflow.com/a/65335044/113116) - one with and one without that parameter.\r\n\r\n&lt;br/&gt;\r\n\r\nOther parameter types - query, header, cookie, and form parameters - can be either required and optional.","title":"Why are Matrix parameters always generated as required by Swagger / OpenAPI plugin?","body":"<p>This is because matrix parameters are URL path parameters, and path parameters <a href=\"https://spec.openapis.org/oas/latest.html#parameterRequired\" rel=\"nofollow noreferrer\">are always required</a> according to the OpenAPI Specification.</p>\n<p>To have an optional path parameter, you'll have to <a href=\"https://stackoverflow.com/a/65335044/113116\">define 2 paths</a> - one with and one without that parameter.</p>\n<br/>\n<p>Other parameter types - query, header, cookie, and form parameters - can be either required and optional.</p>\n"}],"owner":{"account_id":168550,"reputation":1164,"user_id":394071,"accept_rate":53,"display_name":"eerriicc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76417272,"answer_count":1,"score":1,"last_activity_date":1686074401,"creation_date":1686070388,"question_id":76416833,"body_markdown":"In our Java code, we annotate our REST endpoints with Swagger annotations to document them. However, regardless whethere a Matrix parameter is configured as required or not, it is generated in the `openapi.yaml` as `required`.\r\n\r\nHere&#39;s the parameter in Java:\r\n\r\n      @Parameter(required = false, allowEmptyValue = false)\r\n      @MatrixParam(&quot;fristId&quot;) final Integer fristId\r\n\r\nWe use the Maven plugin `io.openapitools.swagger:swagger-maven-plugin:2.1.6` which generates the following:\r\n\r\n          parameters:\r\n          - name: fristId\r\n            in: path\r\n            required: true\r\n            style: matrix\r\n            schema:\r\n              type: integer\r\n              format: int32\r\n\r\nAm I doing something wrong? Is this a bug in the plugin? Any help is greatly appreciated!","title":"Why are Matrix parameters always generated as required by Swagger / OpenAPI plugin?","body":"<p>In our Java code, we annotate our REST endpoints with Swagger annotations to document them. However, regardless whethere a Matrix parameter is configured as required or not, it is generated in the <code>openapi.yaml</code> as <code>required</code>.</p>\n<p>Here's the parameter in Java:</p>\n<pre><code>  @Parameter(required = false, allowEmptyValue = false)\n  @MatrixParam(&quot;fristId&quot;) final Integer fristId\n</code></pre>\n<p>We use the Maven plugin <code>io.openapitools.swagger:swagger-maven-plugin:2.1.6</code> which generates the following:</p>\n<pre><code>      parameters:\n      - name: fristId\n        in: path\n        required: true\n        style: matrix\n        schema:\n          type: integer\n          format: int32\n</code></pre>\n<p>Am I doing something wrong? Is this a bug in the plugin? Any help is greatly appreciated!</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":28725993,"reputation":21,"user_id":21998803,"display_name":"谢良基"},"score":0,"creation_date":1686089951,"post_id":76417158,"comment_id":134750989,"body_markdown":"well, iI&#39;m trying not to create this hierarchical relationship. Just let clients use the symbols of context","body":"well, iI&#39;m trying not to create this hierarchical relationship. Just let clients use the symbols of context"}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686073322,"creation_date":1686073322,"answer_id":76417158,"question_id":76416332,"body_markdown":"You already have a contract established with the other party in the interface:\r\n``` lang-java\r\n    void execute(Map&lt;String, ?&gt; someArgPairs);\r\n```\r\n`someArgPairs` is actually a map of variable names to values. Instead of magically injected variables use that map.\r\n","title":"what is the best practice to inject variables into a java class method","body":"<p>You already have a contract established with the other party in the interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    void execute(Map&lt;String, ?&gt; someArgPairs);\n</code></pre>\n<p><code>someArgPairs</code> is actually a map of variable names to values. Instead of magically injected variables use that map.</p>\n"}],"owner":{"account_id":28725993,"reputation":21,"user_id":21998803,"display_name":"谢良基"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686073322,"creation_date":1686066468,"question_id":76416332,"body_markdown":"i want to dynamic run some java source code which post from remoting.\r\nnow, my solution:\r\n1. compile the source code with `JavaCompiler`  \r\n2. load the class with `URLClassLoader`\r\n3. invoke the target _**method**_ (which is my pre-defined interface)\r\n\r\nthe following is my sample code.\r\n\r\n```java\r\npackage com.pkg;\r\n\r\n// Pre-defined interface\r\npublic interface Executor {\r\n    void execute(Map&lt;String, ?&gt; someArgPairs);\r\n}\r\n```\r\n```java\r\n// source code received from remoting\r\n\r\n// imports block\r\nimport com.pkg.Executor;\r\nimport ...;\r\n\r\npublic class WhateverExecutor implements Executor {\r\n    @Override\r\n    public void execute(Map&lt;String, ?&gt; someArgPairs) {\r\n        // do something with &lt;someArgParis&gt;\r\n    }\r\n\r\n}\r\n```\r\n```java\r\n// imports block\r\nimport ...;\r\n\r\n// main\r\npublic class SampleEntry {\r\n    public static void main(String... args) {\r\n        // 0. define map argument - the interface method need\r\n        var someArgPairs = new HashMap&lt;&gt;();\r\n\r\n        // 1. compile - compile the code, and generate a local .class file\r\n        JavaCompiler compiler = ...;\r\n        \r\n        // 2. load - load the class from the local .class file\r\n        URLClassLoader loader = ...;\r\n        Class&lt;?&gt; clazz = loader.load(className); // assume the class name correct.\r\n\r\n        // 3. call - invoke the interface&#39;s method\r\n        Method method = clazz.getMethod(&quot;execute&quot;, Map.class);\r\n        method.invoke(clazz.getDeclaredConstructor().newInstance(), someArgPairs);\r\n        \r\n        // more ...\r\n    }\r\n}\r\n```\r\n\r\nyou see, i need define the interface `Executor` firstly, then force remote guys implements it.\r\n\r\nnow, i wanna know that, is there some tech that can allow me to inject a variable into the method.\r\nwith this, the remote guy and i just reach an agreement that within the context of execution, he/she can use pre-named variables.\r\n\r\nlike:\r\n```java\r\n// source code from remote\r\npublic class FreedomClassName {\r\n    public void freedomMethod() {\r\n        System.out.println(namedVar);  // namedVar will be injected \r\n    }\r\n}\r\n```\r\nwith code above, i just need invoke the specified method with reflection, he/she be free.\r\n\r\nAny one can help?\r\n\r\n\r\n**the best practice to inject a `named variable` into method without parameter declaration** (like lombok generate a `log` for the annotated class)\r\n\r\n","title":"what is the best practice to inject variables into a java class method","body":"<p>i want to dynamic run some java source code which post from remoting.\nnow, my solution:</p>\n<ol>\n<li>compile the source code with <code>JavaCompiler</code></li>\n<li>load the class with <code>URLClassLoader</code></li>\n<li>invoke the target <em><strong>method</strong></em> (which is my pre-defined interface)</li>\n</ol>\n<p>the following is my sample code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.pkg;\n\n// Pre-defined interface\npublic interface Executor {\n    void execute(Map&lt;String, ?&gt; someArgPairs);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// source code received from remoting\n\n// imports block\nimport com.pkg.Executor;\nimport ...;\n\npublic class WhateverExecutor implements Executor {\n    @Override\n    public void execute(Map&lt;String, ?&gt; someArgPairs) {\n        // do something with &lt;someArgParis&gt;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// imports block\nimport ...;\n\n// main\npublic class SampleEntry {\n    public static void main(String... args) {\n        // 0. define map argument - the interface method need\n        var someArgPairs = new HashMap&lt;&gt;();\n\n        // 1. compile - compile the code, and generate a local .class file\n        JavaCompiler compiler = ...;\n        \n        // 2. load - load the class from the local .class file\n        URLClassLoader loader = ...;\n        Class&lt;?&gt; clazz = loader.load(className); // assume the class name correct.\n\n        // 3. call - invoke the interface's method\n        Method method = clazz.getMethod(&quot;execute&quot;, Map.class);\n        method.invoke(clazz.getDeclaredConstructor().newInstance(), someArgPairs);\n        \n        // more ...\n    }\n}\n</code></pre>\n<p>you see, i need define the interface <code>Executor</code> firstly, then force remote guys implements it.</p>\n<p>now, i wanna know that, is there some tech that can allow me to inject a variable into the method.\nwith this, the remote guy and i just reach an agreement that within the context of execution, he/she can use pre-named variables.</p>\n<p>like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// source code from remote\npublic class FreedomClassName {\n    public void freedomMethod() {\n        System.out.println(namedVar);  // namedVar will be injected \n    }\n}\n</code></pre>\n<p>with code above, i just need invoke the specified method with reflection, he/she be free.</p>\n<p>Any one can help?</p>\n<p><strong>the best practice to inject a <code>named variable</code> into method without parameter declaration</strong> (like lombok generate a <code>log</code> for the annotated class)</p>\n"},{"tags":["java","multithreading","thread-local"],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1347627990,"post_id":12424895,"comment_id":16703119,"body_markdown":"@Jim Good question, have added an answer.","body":"@Jim Good question, have added an answer."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1347628736,"post_id":12424895,"comment_id":16703501,"body_markdown":"Peter, leak can happen on extended ThreadLocals since the thread is going to keep a reference to. Think of undeploying and dynamic classloaders.","body":"Peter, leak can happen on extended ThreadLocals since the thread is going to keep a reference to. Think of undeploying and dynamic classloaders."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1347629431,"post_id":12424895,"comment_id":16703836,"body_markdown":"The ThreadLocal doesn&#39;t actually hold the object. The object is held in a ThreadLocalMap in the Thread itself where the ThreadLocal object is the key. When the Thread stops, all its thread local objects can become unreachable (unless they are held elsewhere)","body":"The ThreadLocal doesn&#39;t actually hold the object. The object is held in a ThreadLocalMap in the Thread itself where the ThreadLocal object is the key. When the Thread stops, all its thread local objects can become unreachable (unless they are held elsewhere)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1347629582,"post_id":12424895,"comment_id":16703894,"body_markdown":"ThreadLocal is not `final` but the only time I have seen it subclassed is to define an initialValue. If this is defined in the Thread&#39;s context you have a problem, but sub-classing Thread is generally considered a bad idea.","body":"ThreadLocal is not <code>final</code> but the only time I have seen it subclassed is to define an initialValue. If this is defined in the Thread&#39;s context you have a problem, but sub-classing Thread is generally considered a bad idea."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1347629997,"post_id":12424895,"comment_id":16704074,"body_markdown":"Yeah, initalValue is the culprit usually but not necessarily. The point is that threads can be orthogonal and if they are not: calling services or responding to RMI would create a instance in the Thread map. I&#39;d say left/forgotten ThreadLocals are #1 offender when it comes to class loader leaks.","body":"Yeah, initalValue is the culprit usually but not necessarily. The point is that threads can be orthogonal and if they are not: calling services or responding to RMI would create a instance in the Thread map. I&#39;d say left/forgotten ThreadLocals are #1 offender when it comes to class loader leaks."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1347630213,"post_id":12424895,"comment_id":16704150,"body_markdown":"It tried constructing a sub-classed ThreadLocal with a reference to the Thread itself. But I couldn&#39;t produce a memory leak.","body":"It tried constructing a sub-classed ThreadLocal with a reference to the Thread itself. But I couldn&#39;t produce a memory leak."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1347630265,"post_id":12424895,"comment_id":16704173,"body_markdown":"@bestsss I will have to take your word for it :)","body":"@bestsss I will have to take your word for it :)"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1347641843,"post_id":12424895,"comment_id":16709020,"body_markdown":"The leak doesn&#39;t work like that, just long lived threads keep stale references to objects that should have been long gone. If the thread dies everything is well and fine but threadpools/designated threads can live until the end of the process while many others objects/classloaders can by dynamically loaded/unloaded.","body":"The leak doesn&#39;t work like that, just long lived threads keep stale references to objects that should have been long gone. If the thread dies everything is well and fine but threadpools/designated threads can live until the end of the process while many others objects/classloaders can by dynamically loaded/unloaded."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":1,"creation_date":1347642364,"post_id":12424895,"comment_id":16709181,"body_markdown":"The entry in the ThreadLocalMap extends WeakReference&lt;ThreadLocal&gt; and the value has a HARD ref in the ThreadLocalMap.Entry[] -- since the value will have a reference to the classloader and the classloader to the ThreadLocal --&gt; #1 leak offender. You need dynamic classloading to exploit it fully, though.","body":"The entry in the ThreadLocalMap extends WeakReference&lt;ThreadLocal&gt; and the value has a HARD ref in the ThreadLocalMap.Entry[] -- since the value will have a reference to the classloader and the classloader to the ThreadLocal --&gt; #1 leak offender. You need dynamic classloading to exploit it fully, though."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":9,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1347630164,"creation_date":1347626864,"answer_id":12424895,"question_id":12424838,"body_markdown":"`set` always replaces the old value.\r\n\r\nThis is true for\r\n\r\n- Calendar.set() and Date.set()\r\n- BitSet.set()\r\n- List.set()\r\n- setters\r\n\r\n&gt; You mean without remove it will not be GCed?\r\n\r\nIt will not be removed until the thread dies.  It won&#39;t disappear on you without you calling  remove() \r\n\r\nWhether this is a memory leak or not depends on your program.  You would have to create lots of threads with large thread local objects which you didn&#39;t need for some reason for it to matter. e.g. 1000 threads with a 1 KB object could waste up to 1 MB, but this suggest a design issue if you are doing this sort of thing.\r\n\r\n---\r\n\r\nThe only place you might get a memory leak is.\r\n\r\n    for (int i = 0; ; i++) {\r\n        // don&#39;t subclass Thread.\r\n        new Thread() {\r\n            // this is somewhat pointless as you are defining a ThreadLocal per thread.\r\n            final ThreadLocal&lt;Object&gt; tlObject = new ThreadLocal&lt;Object&gt;() {\r\n            };\r\n\r\n            public void run() {\r\n                tlObject.set(new byte[8 * 1024 * 1024]);\r\n            }\r\n        }.start();\r\n        Thread.sleep(1);\r\n        if (i % 1000 == 0) {\r\n            System.gc();\r\n            System.out.println(i);\r\n        }\r\n    }\r\n\r\nwith `-verbosegc` prints.\r\n\r\n    [Full GC 213548K-&gt;49484K(3832192K), 0.0334194 secs]\r\n    39000\r\n    [GC 2786060K-&gt;82412K(3836864K), 0.0132035 secs]\r\n    [GC 2815569K-&gt;107052K(3836544K), 0.0212252 secs]\r\n    [GC 2836162K-&gt;131628K(3837824K), 0.0199268 secs]\r\n    [GC 2867613K-&gt;156204K(3837568K), 0.0209828 secs]\r\n    [GC 2886894K-&gt;180780K(3838272K), 0.0191244 secs]\r\n    [GC 2911942K-&gt;205356K(3838080K), 0.0187482 secs]\r\n    [GC 421535K-&gt;229932K(3838208K), 0.0192605 secs]\r\n    [Full GC 229932K-&gt;49484K(3838208K), 0.0344509 secs]\r\n    40000\r\n\r\nNote: the size after a full GC is the same `49484K`\r\n\r\nIn the above case you will have a ThreadLocal which refers to the Thread which refers to the ThreadLocal. However, as the Thread is dead it doesn&#39;t cause a memory leak becasue it becomes a regard object i.e. when A -&gt; B and B -&gt; A\r\n   \r\nI ran the above example in a loop for a couple of minutes and the GC levels moved around alot but the minimum size was still small.\r\n","title":"Threadlocal remove?","body":"<p><code>set</code> always replaces the old value.</p>\n\n<p>This is true for</p>\n\n<ul>\n<li>Calendar.set() and Date.set()</li>\n<li>BitSet.set()</li>\n<li>List.set()</li>\n<li>setters</li>\n</ul>\n\n<blockquote>\n  <p>You mean without remove it will not be GCed?</p>\n</blockquote>\n\n<p>It will not be removed until the thread dies.  It won't disappear on you without you calling  remove() </p>\n\n<p>Whether this is a memory leak or not depends on your program.  You would have to create lots of threads with large thread local objects which you didn't need for some reason for it to matter. e.g. 1000 threads with a 1 KB object could waste up to 1 MB, but this suggest a design issue if you are doing this sort of thing.</p>\n\n<hr>\n\n<p>The only place you might get a memory leak is.</p>\n\n<pre><code>for (int i = 0; ; i++) {\n    // don't subclass Thread.\n    new Thread() {\n        // this is somewhat pointless as you are defining a ThreadLocal per thread.\n        final ThreadLocal&lt;Object&gt; tlObject = new ThreadLocal&lt;Object&gt;() {\n        };\n\n        public void run() {\n            tlObject.set(new byte[8 * 1024 * 1024]);\n        }\n    }.start();\n    Thread.sleep(1);\n    if (i % 1000 == 0) {\n        System.gc();\n        System.out.println(i);\n    }\n}\n</code></pre>\n\n<p>with <code>-verbosegc</code> prints.</p>\n\n<pre><code>[Full GC 213548K-&gt;49484K(3832192K), 0.0334194 secs]\n39000\n[GC 2786060K-&gt;82412K(3836864K), 0.0132035 secs]\n[GC 2815569K-&gt;107052K(3836544K), 0.0212252 secs]\n[GC 2836162K-&gt;131628K(3837824K), 0.0199268 secs]\n[GC 2867613K-&gt;156204K(3837568K), 0.0209828 secs]\n[GC 2886894K-&gt;180780K(3838272K), 0.0191244 secs]\n[GC 2911942K-&gt;205356K(3838080K), 0.0187482 secs]\n[GC 421535K-&gt;229932K(3838208K), 0.0192605 secs]\n[Full GC 229932K-&gt;49484K(3838208K), 0.0344509 secs]\n40000\n</code></pre>\n\n<p>Note: the size after a full GC is the same <code>49484K</code></p>\n\n<p>In the above case you will have a ThreadLocal which refers to the Thread which refers to the ThreadLocal. However, as the Thread is dead it doesn't cause a memory leak becasue it becomes a regard object i.e. when A -> B and B -> A</p>\n\n<p>I ran the above example in a loop for a couple of minutes and the GC levels moved around alot but the minimum size was still small.</p>\n"},{"tags":[],"owner":{"account_id":58318,"reputation":62072,"user_id":174614,"accept_rate":80,"display_name":"Tony The Lion"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1347626921,"creation_date":1347626921,"answer_id":12424916,"question_id":12424838,"body_markdown":"`set`: Sets the current thread&#39;s copy of this thread-local variable to the specified value.\r\n\r\nMeaning whatever was in that memory location, will now be overwritten by what you passed through `set`","title":"Threadlocal remove?","body":"<p><code>set</code>: Sets the current thread's copy of this thread-local variable to the specified value.</p>\n\n<p>Meaning whatever was in that memory location, will now be overwritten by what you passed through <code>set</code></p>\n"},{"comments":[{"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1347627267,"post_id":12424925,"comment_id":16702722,"body_markdown":"You mean without `remove` it will not be GCed?","body":"You mean without <code>remove</code> it will not be GCed?"},{"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"score":1,"creation_date":1347627417,"post_id":12424925,"comment_id":16702806,"body_markdown":"It is not about value it is about `Thread` which has reference in `ThreadLocal` if you don&#39;t call remove it will never get GCed.","body":"It is not about value it is about <code>Thread</code> which has reference in <code>ThreadLocal</code> if you don&#39;t call remove it will never get GCed."},{"owner":{"account_id":2039472,"reputation":385,"user_id":1821029,"display_name":"Tomasz"},"score":0,"creation_date":1631012971,"post_id":12424925,"comment_id":122103536,"body_markdown":"This answer is now outdated. The current implementation of ThreadLocal has a per-thread map of values. From JavaDoc: &quot;after a thread goes away, all of its copies of thread-local instances are subject to garbage collection&quot;.","body":"This answer is now outdated. The current implementation of ThreadLocal has a per-thread map of values. From JavaDoc: &quot;after a thread goes away, all of its copies of thread-local instances are subject to garbage collection&quot;."},{"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"score":0,"creation_date":1666464976,"post_id":12424925,"comment_id":130945428,"body_markdown":"how about thread-pool? If a thread is reused, old thread local will be reused? Will App server clear all thread locals before putting a thread in a pool?","body":"how about thread-pool? If a thread is reused, old thread local will be reused? Will App server clear all thread locals before putting a thread in a pool?"}],"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"comment_count":4,"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1347630206,"creation_date":1347626945,"answer_id":12424925,"question_id":12424838,"body_markdown":"Because `ThreadLocal` has `Map` of `currentThread` and `value`, Now if you don&#39;t remove the value in the thread which was using it then it will create a memory leak.\r\n\r\n&gt;You should always call **remove** because **ThreadLocal** class puts values  from the **Thread** Class defined by  **ThreadLocal.Values localValues;** This will also cause to hold reference of Thread and associated objects.\r\n\r\nFrom the source code of `ThreadLocal`\r\n&gt; **the value will be set to null and the underlying entry will still be present.**\r\n\r\n","title":"Threadlocal remove?","body":"<p>Because <code>ThreadLocal</code> has <code>Map</code> of <code>currentThread</code> and <code>value</code>, Now if you don't remove the value in the thread which was using it then it will create a memory leak.</p>\n\n<blockquote>\n  <p>You should always call <strong>remove</strong> because <strong>ThreadLocal</strong> class puts values  from the <strong>Thread</strong> Class defined by  <strong>ThreadLocal.Values localValues;</strong> This will also cause to hold reference of Thread and associated objects.</p>\n</blockquote>\n\n<p>From the source code of <code>ThreadLocal</code></p>\n\n<blockquote>\n  <p><strong>the value will be set to null and the underlying entry will still be present.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1347627948,"creation_date":1347627023,"answer_id":12424945,"question_id":12424838,"body_markdown":"If the variable you&#39;re trying to `remove` will be always `set` in next executions of the thread, I wouldn&#39;t worry about removing it. `set` will overwrite its value. \r\n\r\nBut if you&#39;re setting that variable only in some circusmtances (for instance, when treating only a specific kind of requests), removing it might be convenient so that it doesn&#39;t stay around when, for instance, the thread is put back into the pool.","title":"Threadlocal remove?","body":"<p>If the variable you're trying to <code>remove</code> will be always <code>set</code> in next executions of the thread, I wouldn't worry about removing it. <code>set</code> will overwrite its value. </p>\n\n<p>But if you're setting that variable only in some circusmtances (for instance, when treating only a specific kind of requests), removing it might be convenient so that it doesn't stay around when, for instance, the thread is put back into the pool.</p>\n"},{"comments":[{"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"score":0,"creation_date":1347630304,"post_id":12425383,"comment_id":16704194,"body_markdown":"I don&#39;t understand your differentiation of `set(null)` and `remove`. Should I call `set(null)` before calling `set`?Why would this cause a leak?","body":"I don&#39;t understand your differentiation of <code>set(null)</code> and <code>remove</code>. Should I call <code>set(null)</code> before calling <code>set</code>?Why would this cause a leak?"},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":0,"creation_date":1347641437,"post_id":12425383,"comment_id":16708874,"body_markdown":"@bestsss interesting distinction.","body":"@bestsss interesting distinction."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1347642055,"post_id":12425383,"comment_id":16709087,"body_markdown":"@Jim, not removing the object via either `set(null)` or `remove()` and the thread keeps going would be the thing causing the leak. There is absolutely no need to call set prior to set(xxx).","body":"@Jim, not removing the object via either <code>set(null)</code> or <code>remove()</code> and the thread keeps going would be the thing causing the leak. There is absolutely no need to call set prior to set(xxx)."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1347642546,"post_id":12425383,"comment_id":16709259,"body_markdown":"@irreputable, yeah I never extend ThreadLocals and keep non-bootstap/system classloder loaded classes in there unless in try/finally{remove}. Link to [my guidelines](http://stackoverflow.com/a/11826736/554431) to avoid leaks.","body":"@irreputable, yeah I never extend ThreadLocals and keep non-bootstap/system classloder loaded classes in there unless in try/finally{remove}. Link to <a href=\"http://stackoverflow.com/a/11826736/554431\">my guidelines</a> to avoid leaks."},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":1,"creation_date":1347643737,"post_id":12425383,"comment_id":16709700,"body_markdown":"@bestsss recent jdk&#39;s ThreadLocalMap references keys weakly, so it should be fine. are you worried about other ThreadLocal impls?","body":"@bestsss recent jdk&#39;s ThreadLocalMap references keys weakly, so it should be fine. are you worried about other ThreadLocal impls?"}],"tags":[],"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347628599,"creation_date":1347628599,"answer_id":12425383,"question_id":12424838,"body_markdown":"I will make it simple:\r\nIf you extend the ThreadLocal for any reason use `remove()`. On vanilla ThreadLocal use `set(null)`.\r\nBasically not using `ThreadLocal.remove()` on an *extended* ThreadLocal can lead to memory leaks (ClassLoader ones most likely)\r\n\r\nIf you need more details why, post a comment.","title":"Threadlocal remove?","body":"<p>I will make it simple:\nIf you extend the ThreadLocal for any reason use <code>remove()</code>. On vanilla ThreadLocal use <code>set(null)</code>.\nBasically not using <code>ThreadLocal.remove()</code> on an <em>extended</em> ThreadLocal can lead to memory leaks (ClassLoader ones most likely)</p>\n\n<p>If you need more details why, post a comment.</p>\n"},{"tags":[],"owner":{"account_id":7395051,"reputation":1919,"user_id":5627271,"display_name":"R&#233;mi Bantos"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1686073310,"creation_date":1537193803,"answer_id":52369827,"question_id":12424838,"body_markdown":"**No**, it is not required to call *remove()* everytime instead of *set()*\r\n\r\nIf you fear memory leaks, here is what the [javadoc][1] says\r\n\r\n&gt; Each thread holds an implicit reference to its copy of a thread-local variable as long as the thread is alive and the ThreadLocal instance is accessible; after a thread goes away, all of its copies of thread-local instances are subject to garbage collection (unless other references to these copies exist).\r\n\r\nThus not calling *remove()* will not prevent a thread-local instance to be properly garbage collected, and will not cause any memory leak by nature.\r\n\r\nYou can also take a look to ThreadLocal implementation, which use [WeakReferences][2] for this &quot;implicit reference&quot; mechanism\r\n\r\n**But** beware of consistency with thread pools\r\n\r\nUsing *set()* method only with a thread pool, you might prefer to *remove()* a ThreadLocal instance, instead of overriding it in another &quot;work unit&quot; using the same thread.\r\nBecause you might want to avoid the situation where, for some reason, the set method is not invoked, and your ThreadLocal remains attached to a context/treatment it does not belong.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/lang/ThreadLocal.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/ref/WeakReference.html","title":"Threadlocal remove?","body":"<p><strong>No</strong>, it is not required to call <em>remove()</em> everytime instead of <em>set()</em></p>\n<p>If you fear memory leaks, here is what the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/ThreadLocal.html\" rel=\"nofollow noreferrer\">javadoc</a> says</p>\n<blockquote>\n<p>Each thread holds an implicit reference to its copy of a thread-local variable as long as the thread is alive and the ThreadLocal instance is accessible; after a thread goes away, all of its copies of thread-local instances are subject to garbage collection (unless other references to these copies exist).</p>\n</blockquote>\n<p>Thus not calling <em>remove()</em> will not prevent a thread-local instance to be properly garbage collected, and will not cause any memory leak by nature.</p>\n<p>You can also take a look to ThreadLocal implementation, which use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ref/WeakReference.html\" rel=\"nofollow noreferrer\">WeakReferences</a> for this &quot;implicit reference&quot; mechanism</p>\n<p><strong>But</strong> beware of consistency with thread pools</p>\n<p>Using <em>set()</em> method only with a thread pool, you might prefer to <em>remove()</em> a ThreadLocal instance, instead of overriding it in another &quot;work unit&quot; using the same thread.\nBecause you might want to avoid the situation where, for some reason, the set method is not invoked, and your ThreadLocal remains attached to a context/treatment it does not belong.</p>\n"},{"tags":[],"owner":{"account_id":15181840,"reputation":1,"user_id":10954927,"display_name":"lupeng ge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548241142,"creation_date":1548237455,"answer_id":54324500,"question_id":12424838,"body_markdown":"If the thread is done the `threadLocalMap` will be done with the thread. You do not need to remove it. But if the thread is used recycling you need to remove the value of `threadLocalMap`.","title":"Threadlocal remove?","body":"<p>If the thread is done the <code>threadLocalMap</code> will be done with the thread. You do not need to remove it. But if the thread is used recycling you need to remove the value of <code>threadLocalMap</code>.</p>\n"}],"owner":{"account_id":1136549,"reputation":18946,"user_id":1197249,"accept_rate":39,"display_name":"Jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29573,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":7,"score":23,"last_activity_date":1686073310,"creation_date":1347626672,"question_id":12424838,"body_markdown":"When using a `ThreadLocal` should I always call `remove()` when I am done or when I do `set` the old value is replaced anyway so `remove` is redundant?","title":"Threadlocal remove?","body":"<p>When using a <code>ThreadLocal</code> should I always call <code>remove()</code> when I am done or when I do <code>set</code> the old value is replaced anyway so <code>remove</code> is redundant?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":4338431,"reputation":1014,"user_id":3542351,"display_name":"terpinmd"},"score":1,"creation_date":1686071924,"post_id":76416923,"comment_id":134747996,"body_markdown":"Sir you should also add a check to see if iterator is less than the size of the string.  Also consider using Scanner.  Lastly, nice test data strings :)","body":"Sir you should also add a check to see if iterator is less than the size of the string.  Also consider using Scanner.  Lastly, nice test data strings :)"}],"answers":[{"comments":[{"owner":{"account_id":24963958,"reputation":35,"user_id":18827675,"display_name":"Dean Loyals"},"score":0,"creation_date":1686084046,"post_id":76417067,"comment_id":134750193,"body_markdown":"Oh that&#39;s what i was looking to do. Shoul&#39;dve just used String.split() thanks","body":"Oh that&#39;s what i was looking to do. Shoul&#39;dve just used String.split() thanks"}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686072467,"creation_date":1686072467,"answer_id":76417067,"question_id":76416923,"body_markdown":"I don&#39;t get, what you exactly want to achieve with your code, but you created an endless loop that only adds the first word of your input string to an `ArrayList`:\r\n\r\nYou initialize `iter = 0;`.\r\nWith your input string, the first `if` is not exiting the loop, because the input contains a space.\r\nThe condition of the second `if` is true, because `iter == 0` from the initialization. You add the first word to the list.\r\nBut then, you don&#39;t modify the value of `iter`, and so the loop goes on endless with `iter == 0`.\r\n\r\nThe whole body inside the loop will never work as intended, because your split into &quot;handle the first word&quot; and &quot;other words&quot; does not really work out properly.\r\n\r\nI would recommend this much simpler implementation that makes use of a very simple regular expression and a built in method of `String`:\r\n\r\n``` lang-java\r\npublic static List&lt;String&gt; keywordsFromString(String s) {\r\n    String[] resultArray = s.split(&quot; &quot;);\r\n    List&lt;String&gt; unmodifiableList = Arrays.asList(resultArray)\r\n    List&lt;String&gt; modifiableList = new ArrayList&lt;&gt;(unmodifiableList);\r\n    return modifiableList\r\n}\r\n```\r\n\r\nI artificially split it up to several lines to make it easier understandable.\r\nYou also should not return an `ArrayList` because it is very likely that you will not need to know that implementation detail outside your method.\r\n\r\n`String.split` splits the string into an array by a regular expression - in your case it is the same as if it were a plain delimiter, but for other expressions it could be trickier, so you have to take care a bit, especially when it comes to things like `.`, `(`, `[` and so on.\r\n\r\nIf you don&#39;t need to modify the resulting list later, you could simply return the result of `Arrays.asList` directly. The use of `List&lt;String&gt;` as return type instead of `ArrayList` makes this possible.","title":"Stripping String(Paragraphs) into words using Java","body":"<p>I don't get, what you exactly want to achieve with your code, but you created an endless loop that only adds the first word of your input string to an <code>ArrayList</code>:</p>\n<p>You initialize <code>iter = 0;</code>.\nWith your input string, the first <code>if</code> is not exiting the loop, because the input contains a space.\nThe condition of the second <code>if</code> is true, because <code>iter == 0</code> from the initialization. You add the first word to the list.\nBut then, you don't modify the value of <code>iter</code>, and so the loop goes on endless with <code>iter == 0</code>.</p>\n<p>The whole body inside the loop will never work as intended, because your split into &quot;handle the first word&quot; and &quot;other words&quot; does not really work out properly.</p>\n<p>I would recommend this much simpler implementation that makes use of a very simple regular expression and a built in method of <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; keywordsFromString(String s) {\n    String[] resultArray = s.split(&quot; &quot;);\n    List&lt;String&gt; unmodifiableList = Arrays.asList(resultArray)\n    List&lt;String&gt; modifiableList = new ArrayList&lt;&gt;(unmodifiableList);\n    return modifiableList\n}\n</code></pre>\n<p>I artificially split it up to several lines to make it easier understandable.\nYou also should not return an <code>ArrayList</code> because it is very likely that you will not need to know that implementation detail outside your method.</p>\n<p><code>String.split</code> splits the string into an array by a regular expression - in your case it is the same as if it were a plain delimiter, but for other expressions it could be trickier, so you have to take care a bit, especially when it comes to things like <code>.</code>, <code>(</code>, <code>[</code> and so on.</p>\n<p>If you don't need to modify the resulting list later, you could simply return the result of <code>Arrays.asList</code> directly. The use of <code>List&lt;String&gt;</code> as return type instead of <code>ArrayList</code> makes this possible.</p>\n"}],"owner":{"account_id":24963958,"reputation":35,"user_id":18827675,"display_name":"Dean Loyals"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1686072467,"creation_date":1686071163,"question_id":76416923,"body_markdown":"Tried using a while loop and str.subtring() but am getting a Heap Space error(assuming it is because the while loop isn&#39;t breaking?)\r\n\r\n``` lang-java\r\npackage pckg;\r\nimport java.util.ArrayList;\r\n\r\npublic class KeywordMatcher \r\n{\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tString s_0 = &quot;apple pie bitch cunt whore ass dick big nib crunch&quot;;\r\n\t\tString s_1 = &quot;john stewart ass loser bitch lee dick cook ally die&quot;;\r\n\t\t\r\n\t\tSystem.out.println(keywordsFromString(s_0));\r\n\t}\r\n\t\r\n\tpublic static ArrayList&lt;String&gt; keywordsFromString(String s)\r\n\t{\r\n\t\tArrayList&lt;String&gt; ans = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\tint iter=0;\r\n\t\twhile(iter&lt;s.length()) \r\n\t\t{\r\n\t\t\tif(s.indexOf(&quot; &quot;) == -1)\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(iter == 0) \r\n\t\t\t{\r\n\t\t\t\tans.add(s.substring(0, s.indexOf(&quot; &quot;)));\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\ts = s.substring(iter+1,s.length());\r\n\t\t\t\tans.add(s.substring(iter+1,s.indexOf(&quot; &quot;)));\r\n\t\t\t\titer = s.indexOf(&quot; &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ans;\r\n\t}\r\n}\r\n```","title":"Stripping String(Paragraphs) into words using Java","body":"<p>Tried using a while loop and str.subtring() but am getting a Heap Space error(assuming it is because the while loop isn't breaking?)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pckg;\nimport java.util.ArrayList;\n\npublic class KeywordMatcher \n{\n    public static void main(String[] args) \n    {\n        String s_0 = &quot;apple pie bitch cunt whore ass dick big nib crunch&quot;;\n        String s_1 = &quot;john stewart ass loser bitch lee dick cook ally die&quot;;\n        \n        System.out.println(keywordsFromString(s_0));\n    }\n    \n    public static ArrayList&lt;String&gt; keywordsFromString(String s)\n    {\n        ArrayList&lt;String&gt; ans = new ArrayList&lt;String&gt;();\n        \n        int iter=0;\n        while(iter&lt;s.length()) \n        {\n            if(s.indexOf(&quot; &quot;) == -1)\n            {\n                break;\n            }\n            \n            if(iter == 0) \n            {\n                ans.add(s.substring(0, s.indexOf(&quot; &quot;)));\n            }\n            else \n            {\n                s = s.substring(iter+1,s.length());\n                ans.add(s.substring(iter+1,s.indexOf(&quot; &quot;)));\n                iter = s.indexOf(&quot; &quot;);\n            }\n        }\n        return ans;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest","keystore"],"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686071721,"creation_date":1686071721,"question_id":76416984,"body_markdown":"I&#39;m facing below issue for my Spring Boot project which is on Java8. \r\n\r\n***ISSUE***\r\n\r\nI/O error on POST request for &quot;https://testservice/find&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\r\njava.lang.Exception: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://testservice/find&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\r\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://testservice/find&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset.\r\n\r\n***REST CONFIGURATION:***\r\n\r\n```\r\npublic class RestTemplateConfig {\r\npublic RestTemplate getRestTemplate()\r\nKeyStore identityKeyStore = KeyStore.getInstance(&quot;jks&quot;);\r\ntry (InputStream in = new FileInputStream(&quot;MY.jks&quot;)) {\r\n                identityKeyStore.load(in, &quot;test123&quot;.toCharArray());\r\n            }\r\n            SSLContext sslContext = new SSLContextBuilder()\r\n                    .loadKeyMaterial(identityKeyStore,\r\n                            &quot;test123&quot;.toCharArray()\r\n                    ).build();\r\n            HttpClientBuilder clientBuilder = HttpClientBuilder.create();\r\n            clientBuilder.useSystemProperties().setSSLContext(sslContext).\r\n                    setSSLHostnameVerifier(new NoopHostnameVerifier()).disableCookieManagement().disableAuthCaching();\r\n            CloseableHttpClient client = clientBuilder.build();\r\n            HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\r\n            factory.setHttpClient(client);\r\n            RestTemplate restTemplate = new RestTemplate(factory);\r\nreturn restTemplate;\r\n}\r\n```\r\n\r\n```\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n            HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(Translator.getApiRequest(1213), headers);\r\n            ResponseEntity&lt;String&gt; responseEntity = restTemplateConfig.getRestTemplate().exchange(apiurl, HttpMethod.POST, requestEntity, String.class);\r\n            return responseEntity.toString();\r\n```\r\nMy suspect is spring boot is doing some thing with HTTP basic configuration behind the picture or my rest template is  not configured properly. Can anyone assist me please here ?\r\n\r\nand I believe configuring my keystore to rest template is right ? please correct if something is incorrect. ","title":"Facing issue Connection reset; nested exception is java.net.SocketException: Connection reset","body":"<p>I'm facing below issue for my Spring Boot project which is on Java8.</p>\n<p><em><strong>ISSUE</strong></em></p>\n<p>I/O error on POST request for &quot;https://testservice/find&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\njava.lang.Exception: org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://testservice/find&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://testservice/find&quot;: Connection reset; nested exception is java.net.SocketException: Connection reset.</p>\n<p><em><strong>REST CONFIGURATION:</strong></em></p>\n<pre><code>public class RestTemplateConfig {\npublic RestTemplate getRestTemplate()\nKeyStore identityKeyStore = KeyStore.getInstance(&quot;jks&quot;);\ntry (InputStream in = new FileInputStream(&quot;MY.jks&quot;)) {\n                identityKeyStore.load(in, &quot;test123&quot;.toCharArray());\n            }\n            SSLContext sslContext = new SSLContextBuilder()\n                    .loadKeyMaterial(identityKeyStore,\n                            &quot;test123&quot;.toCharArray()\n                    ).build();\n            HttpClientBuilder clientBuilder = HttpClientBuilder.create();\n            clientBuilder.useSystemProperties().setSSLContext(sslContext).\n                    setSSLHostnameVerifier(new NoopHostnameVerifier()).disableCookieManagement().disableAuthCaching();\n            CloseableHttpClient client = clientBuilder.build();\n            HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory();\n            factory.setHttpClient(client);\n            RestTemplate restTemplate = new RestTemplate(factory);\nreturn restTemplate;\n}\n</code></pre>\n<pre><code>            HttpHeaders headers = new HttpHeaders();\n            headers.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n            HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(Translator.getApiRequest(1213), headers);\n            ResponseEntity&lt;String&gt; responseEntity = restTemplateConfig.getRestTemplate().exchange(apiurl, HttpMethod.POST, requestEntity, String.class);\n            return responseEntity.toString();\n</code></pre>\n<p>My suspect is spring boot is doing some thing with HTTP basic configuration behind the picture or my rest template is  not configured properly. Can anyone assist me please here ?</p>\n<p>and I believe configuring my keystore to rest template is right ? please correct if something is incorrect.</p>\n"},{"tags":["java","caching","console"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686072594,"post_id":76416924,"comment_id":134748141,"body_markdown":"I would try to `transerTo` a `ByteArrayOutputStream` and then create a string from it or write it to a file","body":"I would try to <code>transerTo</code> a <code>ByteArrayOutputStream</code> and then create a string from it or write it to a file"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1686082622,"post_id":76416924,"comment_id":134749981,"body_markdown":"I would guess how the `InputStream` receives data is implementation dependent. You shouldn&#39;t worry about that too much. Instead, just use the `InputStream` based on how it&#39;s defined to work. Note the `InputStream` is giving you _bytes_, not characters. If you know you&#39;re getting text output, then you need to decode those bytes into characters. The easiest way to do that is to wrap the `InputStream` in a `Reader`. Note you&#39;ll need to choose an appropriate character encoding. Then just continually read characters from the `Reader` until there&#39;s no more to read.","body":"I would guess how the <code>InputStream</code> receives data is implementation dependent. You shouldn&#39;t worry about that too much. Instead, just use the <code>InputStream</code> based on how it&#39;s defined to work. Note the <code>InputStream</code> is giving you <i>bytes</i>, not characters. If you know you&#39;re getting text output, then you need to decode those bytes into characters. The easiest way to do that is to wrap the <code>InputStream</code> in a <code>Reader</code>. Note you&#39;ll need to choose an appropriate character encoding. Then just continually read characters from the <code>Reader</code> until there&#39;s no more to read."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1686082955,"post_id":76416924,"comment_id":134750017,"body_markdown":"From there, I would try simply appending the characters to a `StringBuffer` / `StringBuilder`. See if that works well enough for you before you try to implement more complicated solutions. The `StringBuffer` / `StringBuilder` would function as your cache. When ready, have your UI register a listener (you&#39;ll have to write the code for listeners, or e.g., maybe use an existing reactive library) that is immediately notified of the cached data, then subsequently notified of any new data as it comes in.","body":"From there, I would try simply appending the characters to a <code>StringBuffer</code> / <code>StringBuilder</code>. See if that works well enough for you before you try to implement more complicated solutions. The <code>StringBuffer</code> / <code>StringBuilder</code> would function as your cache. When ready, have your UI register a listener (you&#39;ll have to write the code for listeners, or e.g., maybe use an existing reactive library) that is immediately notified of the cached data, then subsequently notified of any new data as it comes in."},{"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"score":0,"creation_date":1686167581,"post_id":76416924,"comment_id":134763745,"body_markdown":"@Slaw why not make this an answer (so I can upvote and accept it)? Btw, as I found out, `StringBuilder#toString()` can be called any number of times on the same instance, making it a suitable solution for attaching a GUI more than once and getting output from the start each time. Last remaining question: how do I know what character encoding the console uses? OS is Android, by the way.","body":"@Slaw why not make this an answer (so I can upvote and accept it)? Btw, as I found out, <code>StringBuilder#toString()</code> can be called any number of times on the same instance, making it a suitable solution for attaching a GUI more than once and getting output from the start each time. Last remaining question: how do I know what character encoding the console uses? OS is Android, by the way."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686176380,"post_id":76416924,"comment_id":134765152,"body_markdown":"A `StringBuilder` will use more memory than a `ByteArrayOutputStream` since you&#39;re appending not `byte`s but `char`s, which are twice as long. They will be on a par *at the end* (when the final `String` is created) but not leading to the end","body":"A <code>StringBuilder</code> will use more memory than a <code>ByteArrayOutputStream</code> since you&#39;re appending not <code>byte</code>s but <code>char</code>s, which are twice as long. They will be on a par <i>at the end</i> (when the final <code>String</code> is created) but not leading to the end"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686177842,"post_id":76416924,"comment_id":134765315,"body_markdown":"@g00se Depends on the implementation. `String` / `StringBuilder` / `StringBuffer` in modern versions of OpenJDK-based Java use a `byte[]` for storage, which will only use two bytes per char if needed. Not sure what Android does though.","body":"@g00se Depends on the implementation. <code>String</code> / <code>StringBuilder</code> / <code>StringBuffer</code> in modern versions of OpenJDK-based Java use a <code>byte[]</code> for storage, which will only use two bytes per char if needed. Not sure what Android does though."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686178027,"post_id":76416924,"comment_id":134765331,"body_markdown":"@user149408 If you notice a memory problem with `StringBuilder` then you can use `ByteArrayOutputStream` as suggested by g00se. To change it to a `String` you can simply do `new String(baos.toByteArray(), encoding)`. The reason I suggested a `StringBuilder` and `Reader` is I _think_ it&#39;d make it easier to work with characters. At least if you want to keep everything in memory. As for knowing which character encoding to use, not sure. Perhaps all Android devices use the same encoding and that&#39;s documented somewhere. Or maybe you can query the information somehow.","body":"@user149408 If you notice a memory problem with <code>StringBuilder</code> then you can use <code>ByteArrayOutputStream</code> as suggested by g00se. To change it to a <code>String</code> you can simply do <code>new String(baos.toByteArray(), encoding)</code>. The reason I suggested a <code>StringBuilder</code> and <code>Reader</code> is I <i>think</i> it&#39;d make it easier to work with characters. At least if you want to keep everything in memory. As for knowing which character encoding to use, not sure. Perhaps all Android devices use the same encoding and that&#39;s documented somewhere. Or maybe you can query the information somehow."}],"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686071167,"creation_date":1686071167,"question_id":76416924,"body_markdown":"I am calling a native console executable from Java code using `ProcessBuilder`. This requires me to get an `InputStream` from the child process (which will receive `stdout` and optionally `stderr`) and process its data, to prevent the process from blocking due to buffer exhaustion.\r\n\r\nThere is a GUI to display the output, but it may not get created/opened until the process has started running (or even finished). However, the user needs to see the entire output (UX similar to GitLab CI).\r\n\r\nSo my idea is to create a helper class that reads the input stream from the moment the child process is started, and caches the data so it can be displayed later.\r\n\r\nThe buffer is read in a loop like this:\r\n\r\n    int nRead;\r\n    byte[] buff = new byte[size];\r\n    while ((nRead = in.read(buff)) != -1)\r\n        // process the data\r\n\r\nWe are talking about console output, thus:\r\n\r\n* Data volume can be anything from below 1K to several megabytes of data. The true amount is unknown, thus pre-allocating a buffer would risk either wasting memory or running out at some point. A dynamically growing structure is preferred.\r\n* The data itself consists of human-readable strings.\r\n* Without knowing details of how Java delivers console output, I would expect most data to arrive one line at a time (usually below 80 characters), possibly multiple lines in one burst, sometimes just one character at a time (think primitive progress indicators).\r\n* The cache only needs to support appending data – altering something in the cache is not a use case. However, there is also no need to actively prevent alteration of data.\r\n* I need to be able to retrieve data any number of times (not just once), possibly adding data in between.\r\n\r\nStructures that came to mind are either some form of `List&lt;String&gt;`, with the data from each iteration converted into a string that is then appended to the list. Drawback is that storage overhead can get very large if data arrives in tiny chunks – for data arriving one character at a time, storage overhead would likely be a multiple of the payload. Also, what `List` subclass is the preferred one for an append-only use case – `ArrayList`, `LinkedList` or something else?\r\n\r\nAnother candidate would be `StringBuilder`, in conjunction with the `append()` method.\r\n\r\nQuestion: What is the most efficient approach?\r\n\r\n* How does the `InputStream` for a console application in Java receive data? Does one cycle of the receiving loop roughly correspond to a `print` operation by the child process, or does data get split and merged – and if so, does that happen in a somewhat predictable manner?\r\n* What are considerations for choosing `size`, i.e. the size of `buf`?\r\n* Which of the data structures is more efficient in terms of memory usage (performance is probably less of an issue)? Or is there a better alternative that I haven’t thought of?","title":"Caching console output in Java","body":"<p>I am calling a native console executable from Java code using <code>ProcessBuilder</code>. This requires me to get an <code>InputStream</code> from the child process (which will receive <code>stdout</code> and optionally <code>stderr</code>) and process its data, to prevent the process from blocking due to buffer exhaustion.</p>\n<p>There is a GUI to display the output, but it may not get created/opened until the process has started running (or even finished). However, the user needs to see the entire output (UX similar to GitLab CI).</p>\n<p>So my idea is to create a helper class that reads the input stream from the moment the child process is started, and caches the data so it can be displayed later.</p>\n<p>The buffer is read in a loop like this:</p>\n<pre><code>int nRead;\nbyte[] buff = new byte[size];\nwhile ((nRead = in.read(buff)) != -1)\n    // process the data\n</code></pre>\n<p>We are talking about console output, thus:</p>\n<ul>\n<li>Data volume can be anything from below 1K to several megabytes of data. The true amount is unknown, thus pre-allocating a buffer would risk either wasting memory or running out at some point. A dynamically growing structure is preferred.</li>\n<li>The data itself consists of human-readable strings.</li>\n<li>Without knowing details of how Java delivers console output, I would expect most data to arrive one line at a time (usually below 80 characters), possibly multiple lines in one burst, sometimes just one character at a time (think primitive progress indicators).</li>\n<li>The cache only needs to support appending data – altering something in the cache is not a use case. However, there is also no need to actively prevent alteration of data.</li>\n<li>I need to be able to retrieve data any number of times (not just once), possibly adding data in between.</li>\n</ul>\n<p>Structures that came to mind are either some form of <code>List&lt;String&gt;</code>, with the data from each iteration converted into a string that is then appended to the list. Drawback is that storage overhead can get very large if data arrives in tiny chunks – for data arriving one character at a time, storage overhead would likely be a multiple of the payload. Also, what <code>List</code> subclass is the preferred one for an append-only use case – <code>ArrayList</code>, <code>LinkedList</code> or something else?</p>\n<p>Another candidate would be <code>StringBuilder</code>, in conjunction with the <code>append()</code> method.</p>\n<p>Question: What is the most efficient approach?</p>\n<ul>\n<li>How does the <code>InputStream</code> for a console application in Java receive data? Does one cycle of the receiving loop roughly correspond to a <code>print</code> operation by the child process, or does data get split and merged – and if so, does that happen in a somewhat predictable manner?</li>\n<li>What are considerations for choosing <code>size</code>, i.e. the size of <code>buf</code>?</li>\n<li>Which of the data structures is more efficient in terms of memory usage (performance is probably less of an issue)? Or is there a better alternative that I haven’t thought of?</li>\n</ul>\n"},{"tags":["java","java-native-interface","graalvm","graalvm-native-image","reflections"],"owner":{"account_id":19710145,"reputation":118,"user_id":14430875,"display_name":"daysling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686070675,"creation_date":1685966948,"question_id":76406274,"body_markdown":"I am having difficulties in accessing java methods from a shared library built with GraalVM.\r\n\r\nImagine this code loading a GraalVM Shared library:\r\n```java\r\npublic class Main {\r\n    static native int onEnable(long isolateThread, int a);\r\n    static native long createIsolate();\r\n    public static void main(String[] args) throws Exception {\r\n        try {\r\n            System.loadLibrary(&quot;simplelib&quot;);\r\n        } catch (UnsatisfiedLinkError e) {\r\n            NativeHelper.loadFromJar(&quot;simplelib&quot;, Main.class);\r\n        }\r\n        System.out.println(&quot;Loaded simplelib&quot;);\r\n        System.out.println(\r\n            &quot;onEnable returned: &quot; + onEnable(createIsolate(), 1)\r\n        );\r\n    }\r\n\r\n    public static void printedFromGraal() {\r\n        System.out.println(&quot;Printed from GraalVM&quot;);\r\n    }\r\n}\r\n```\r\nThen, I can easily implement `onEnable()` with GraalVM as follows:\r\n```java\r\n    @CEntryPoint(name = &quot;Java_com_daysling_dllloader_Main_onEnable&quot;)\r\n    public static int onEnable(Pointer env, Pointer clazz, IsolateThread thread, int a) throws Exception {\r\n        return a + 10;\r\n    }\r\n\r\n    @CEntryPoint(name = &quot;Java_com_daysling_dllloader_Main_createIsolate&quot;, builtin=CEntryPoint.Builtin.CREATE_ISOLATE)\r\n    public static native IsolateThread createIsolate();\r\n```\r\n\r\nIt&#39;s not really a big deal, but the problem comes when trying to call the `printedFromGraal()` function from inside the GraalVM shared library. I&#39;ve read documentation, searched on slack and much more but I still haven&#39;t found anything useful or any kind of examples.\r\n\r\nThe most concerning thing to be me is, if I were to implement a `ReflectionHelper` in my main application in order to ease JNI (if this is even possible possible) from the GraalVM:\r\n```java\r\npackage com.daysling.simplelib.reflections;\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.Method;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ReflectionHelper {\r\n    public static ReflectionPackage getPackage(String packageName) {\r\n        return new ReflectionPackage(packageName);\r\n    }\r\n\r\n    public static class ReflectionPackage {\r\n        private final String packageName;\r\n\r\n        private ReflectionPackage(String packageName) {\r\n            this.packageName = packageName;\r\n        }\r\n\r\n        public ReflectedClass getClass(String className) throws ClassNotFoundException {\r\n            String fullClassName = packageName + &quot;.&quot; + className;\r\n            Class&lt;?&gt; clazz = Class.forName(fullClassName);\r\n            return new ReflectedClass(clazz);\r\n        }\r\n\r\n        public List&lt;ReflectedClass&gt; findAllClasses() throws ClassNotFoundException {\r\n            List&lt;ReflectedClass&gt; classes = new ArrayList&lt;&gt;();\r\n            String packagePath = packageName.replace(&#39;.&#39;, &#39;/&#39;);\r\n            ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n            if (classLoader == null) {\r\n                classLoader = ReflectionHelper.class.getClassLoader();\r\n            }\r\n            java.net.URL resource = classLoader.getResource(packagePath);\r\n            if (resource != null) {\r\n                String filePath = resource.getFile();\r\n                if (filePath != null) {\r\n                    java.io.File folder = new java.io.File(filePath);\r\n                    java.io.File[] files = folder.listFiles();\r\n                    if (files != null) {\r\n                        for (java.io.File file : files) {\r\n                            if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.class&quot;)) {\r\n                                String className = file.getName().substring(0, file.getName().lastIndexOf(&#39;.&#39;));\r\n                                classes.add(getClass(className));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return classes;\r\n        }\r\n\r\n        public static class ReflectedClass {\r\n            private final Class&lt;?&gt; clazz;\r\n\r\n            private ReflectedClass(Class&lt;?&gt; clazz) {\r\n                this.clazz = clazz;\r\n            }\r\n\r\n            public String getName() {\r\n                return clazz.getName();\r\n            }\r\n\r\n            public ReflectedClass getSuperclass() {\r\n                Class&lt;?&gt; superclass = clazz.getSuperclass();\r\n                return (superclass != null) ? new ReflectedClass(superclass) : null;\r\n            }\r\n\r\n            public List&lt;ReflectedMethod&gt; findAllMethods() {\r\n                List&lt;ReflectedMethod&gt; methods = new ArrayList&lt;&gt;();\r\n                Method[] declaredMethods = clazz.getDeclaredMethods();\r\n                for (Method method : declaredMethods) {\r\n                    methods.add(new ReflectedMethod(method));\r\n                }\r\n                return methods;\r\n            }\r\n\r\n            public List&lt;ReflectedField&gt; findAllFields() {\r\n                List&lt;ReflectedField&gt; fields = new ArrayList&lt;&gt;();\r\n                Field[] declaredFields = clazz.getDeclaredFields();\r\n                for (Field field : declaredFields) {\r\n                    fields.add(new ReflectedField(field));\r\n                }\r\n                return fields;\r\n            }\r\n\r\n            public ReflectedMethod findMethod(String methodName, Class&lt;?&gt;... parameterTypes) throws NoSuchMethodException {\r\n                Method method = clazz.getDeclaredMethod(methodName, parameterTypes);\r\n                return new ReflectedMethod(method);\r\n            }\r\n\r\n            public ReflectedField findField(String fieldName) throws NoSuchFieldException {\r\n                Field field = clazz.getDeclaredField(fieldName);\r\n                return new ReflectedField(field);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static class ReflectedMethod {\r\n        private final Method method;\r\n\r\n        private ReflectedMethod(Method method) {\r\n            this.method = method;\r\n        }\r\n\r\n        public String getName() {\r\n            return method.getName();\r\n        }\r\n\r\n        public Class&lt;?&gt; getReturnType() {\r\n            return method.getReturnType();\r\n        }\r\n\r\n        public Class&lt;?&gt;[] getParameterTypes() {\r\n            return method.getParameterTypes();\r\n        }\r\n\r\n        public ReflectedObject invoke(Object object, Object... args) throws Exception {\r\n            Object result = method.invoke(object, args);\r\n            return new ReflectedObject(result);\r\n        }\r\n\r\n    }\r\n    public static class ReflectedObject {\r\n        private final Object object;\r\n\r\n        public ReflectedObject(Object object) {\r\n            this.object = object;\r\n        }\r\n\r\n        public ReflectionPackage.ReflectedClass getJavaClass() {\r\n            return new ReflectionPackage.ReflectedClass(object.getClass());\r\n        }\r\n\r\n        public ReflectedObject callMethod(String methodName, Object... args) throws Exception {\r\n            Class&lt;?&gt;[] parameterTypes = new Class&lt;?&gt;[args.length];\r\n            for (int i = 0; i &lt; args.length; i++) {\r\n                parameterTypes[i] = args[i].getClass();\r\n            }\r\n            Method method = object.getClass().getDeclaredMethod(methodName, parameterTypes);\r\n            Object result = method.invoke(object, args);\r\n            return new ReflectedObject(result);\r\n        }\r\n\r\n        public Object getObject() {\r\n            return object;\r\n        }\r\n\r\n        public static ReflectedObject getAsReflectedObject(Object object) {\r\n            return new ReflectedObject(object);\r\n        }\r\n    }\r\n\r\n    public static class ReflectedField {\r\n        private final Field field;\r\n\r\n        private ReflectedField(Field field) {\r\n            this.field = field;\r\n        }\r\n\r\n        public String getName() {\r\n            return field.getName();\r\n        }\r\n\r\n        public Class&lt;?&gt; getType() {\r\n            return field.getType();\r\n        }\r\n\r\n        public Object get(Object object) throws IllegalAccessException {\r\n            return field.get(object);\r\n        }\r\n\r\n        public void set(Object object, Object value) throws IllegalAccessException {\r\n            field.set(object, value);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t think I can replicate an wrapper exact to how it&#39;d looking in any java code.","title":"Access Java functions (JNI/JNA) from a GraalVM Native Image shared Library","body":"<p>I am having difficulties in accessing java methods from a shared library built with GraalVM.</p>\n<p>Imagine this code loading a GraalVM Shared library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    static native int onEnable(long isolateThread, int a);\n    static native long createIsolate();\n    public static void main(String[] args) throws Exception {\n        try {\n            System.loadLibrary(&quot;simplelib&quot;);\n        } catch (UnsatisfiedLinkError e) {\n            NativeHelper.loadFromJar(&quot;simplelib&quot;, Main.class);\n        }\n        System.out.println(&quot;Loaded simplelib&quot;);\n        System.out.println(\n            &quot;onEnable returned: &quot; + onEnable(createIsolate(), 1)\n        );\n    }\n\n    public static void printedFromGraal() {\n        System.out.println(&quot;Printed from GraalVM&quot;);\n    }\n}\n</code></pre>\n<p>Then, I can easily implement <code>onEnable()</code> with GraalVM as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @CEntryPoint(name = &quot;Java_com_daysling_dllloader_Main_onEnable&quot;)\n    public static int onEnable(Pointer env, Pointer clazz, IsolateThread thread, int a) throws Exception {\n        return a + 10;\n    }\n\n    @CEntryPoint(name = &quot;Java_com_daysling_dllloader_Main_createIsolate&quot;, builtin=CEntryPoint.Builtin.CREATE_ISOLATE)\n    public static native IsolateThread createIsolate();\n</code></pre>\n<p>It's not really a big deal, but the problem comes when trying to call the <code>printedFromGraal()</code> function from inside the GraalVM shared library. I've read documentation, searched on slack and much more but I still haven't found anything useful or any kind of examples.</p>\n<p>The most concerning thing to be me is, if I were to implement a <code>ReflectionHelper</code> in my main application in order to ease JNI (if this is even possible possible) from the GraalVM:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.daysling.simplelib.reflections;\n\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ReflectionHelper {\n    public static ReflectionPackage getPackage(String packageName) {\n        return new ReflectionPackage(packageName);\n    }\n\n    public static class ReflectionPackage {\n        private final String packageName;\n\n        private ReflectionPackage(String packageName) {\n            this.packageName = packageName;\n        }\n\n        public ReflectedClass getClass(String className) throws ClassNotFoundException {\n            String fullClassName = packageName + &quot;.&quot; + className;\n            Class&lt;?&gt; clazz = Class.forName(fullClassName);\n            return new ReflectedClass(clazz);\n        }\n\n        public List&lt;ReflectedClass&gt; findAllClasses() throws ClassNotFoundException {\n            List&lt;ReflectedClass&gt; classes = new ArrayList&lt;&gt;();\n            String packagePath = packageName.replace('.', '/');\n            ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n            if (classLoader == null) {\n                classLoader = ReflectionHelper.class.getClassLoader();\n            }\n            java.net.URL resource = classLoader.getResource(packagePath);\n            if (resource != null) {\n                String filePath = resource.getFile();\n                if (filePath != null) {\n                    java.io.File folder = new java.io.File(filePath);\n                    java.io.File[] files = folder.listFiles();\n                    if (files != null) {\n                        for (java.io.File file : files) {\n                            if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.class&quot;)) {\n                                String className = file.getName().substring(0, file.getName().lastIndexOf('.'));\n                                classes.add(getClass(className));\n                            }\n                        }\n                    }\n                }\n            }\n            return classes;\n        }\n\n        public static class ReflectedClass {\n            private final Class&lt;?&gt; clazz;\n\n            private ReflectedClass(Class&lt;?&gt; clazz) {\n                this.clazz = clazz;\n            }\n\n            public String getName() {\n                return clazz.getName();\n            }\n\n            public ReflectedClass getSuperclass() {\n                Class&lt;?&gt; superclass = clazz.getSuperclass();\n                return (superclass != null) ? new ReflectedClass(superclass) : null;\n            }\n\n            public List&lt;ReflectedMethod&gt; findAllMethods() {\n                List&lt;ReflectedMethod&gt; methods = new ArrayList&lt;&gt;();\n                Method[] declaredMethods = clazz.getDeclaredMethods();\n                for (Method method : declaredMethods) {\n                    methods.add(new ReflectedMethod(method));\n                }\n                return methods;\n            }\n\n            public List&lt;ReflectedField&gt; findAllFields() {\n                List&lt;ReflectedField&gt; fields = new ArrayList&lt;&gt;();\n                Field[] declaredFields = clazz.getDeclaredFields();\n                for (Field field : declaredFields) {\n                    fields.add(new ReflectedField(field));\n                }\n                return fields;\n            }\n\n            public ReflectedMethod findMethod(String methodName, Class&lt;?&gt;... parameterTypes) throws NoSuchMethodException {\n                Method method = clazz.getDeclaredMethod(methodName, parameterTypes);\n                return new ReflectedMethod(method);\n            }\n\n            public ReflectedField findField(String fieldName) throws NoSuchFieldException {\n                Field field = clazz.getDeclaredField(fieldName);\n                return new ReflectedField(field);\n            }\n        }\n    }\n\n    public static class ReflectedMethod {\n        private final Method method;\n\n        private ReflectedMethod(Method method) {\n            this.method = method;\n        }\n\n        public String getName() {\n            return method.getName();\n        }\n\n        public Class&lt;?&gt; getReturnType() {\n            return method.getReturnType();\n        }\n\n        public Class&lt;?&gt;[] getParameterTypes() {\n            return method.getParameterTypes();\n        }\n\n        public ReflectedObject invoke(Object object, Object... args) throws Exception {\n            Object result = method.invoke(object, args);\n            return new ReflectedObject(result);\n        }\n\n    }\n    public static class ReflectedObject {\n        private final Object object;\n\n        public ReflectedObject(Object object) {\n            this.object = object;\n        }\n\n        public ReflectionPackage.ReflectedClass getJavaClass() {\n            return new ReflectionPackage.ReflectedClass(object.getClass());\n        }\n\n        public ReflectedObject callMethod(String methodName, Object... args) throws Exception {\n            Class&lt;?&gt;[] parameterTypes = new Class&lt;?&gt;[args.length];\n            for (int i = 0; i &lt; args.length; i++) {\n                parameterTypes[i] = args[i].getClass();\n            }\n            Method method = object.getClass().getDeclaredMethod(methodName, parameterTypes);\n            Object result = method.invoke(object, args);\n            return new ReflectedObject(result);\n        }\n\n        public Object getObject() {\n            return object;\n        }\n\n        public static ReflectedObject getAsReflectedObject(Object object) {\n            return new ReflectedObject(object);\n        }\n    }\n\n    public static class ReflectedField {\n        private final Field field;\n\n        private ReflectedField(Field field) {\n            this.field = field;\n        }\n\n        public String getName() {\n            return field.getName();\n        }\n\n        public Class&lt;?&gt; getType() {\n            return field.getType();\n        }\n\n        public Object get(Object object) throws IllegalAccessException {\n            return field.get(object);\n        }\n\n        public void set(Object object, Object value) throws IllegalAccessException {\n            field.set(object, value);\n        }\n    }\n}\n</code></pre>\n<p>I don't think I can replicate an wrapper exact to how it'd looking in any java code.</p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":15602203,"reputation":149,"user_id":11256018,"display_name":"IbrahimTG99"},"score":0,"creation_date":1686071235,"post_id":76416863,"comment_id":134747849,"body_markdown":"can you share your gradle files?","body":"can you share your gradle files?"},{"owner":{"account_id":15488032,"reputation":23,"user_id":11615829,"display_name":"SOULEYMANE TOURE"},"score":0,"creation_date":1686092333,"post_id":76416863,"comment_id":134751214,"body_markdown":"android/build.gradle  :  https://gist.github.com/toure5013/7ba7dfb6ecb1810a18f780d826672543\n\n/android/app/build.gradle  :  https://gist.github.com/toure5013/d42abf6ddf08f73f807fb2ec12eff872\n\n\n\n\n\nandroid/gradle/wrapper/gradle-wrapper.properties : \n\n\n#Fri Jun 23 08:50:38 CEST 2017\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-all.zip","body":"android/build.gradle  :  <a href=\"https://gist.github.com/toure5013/7ba7dfb6ecb1810a18f780d826672543\" rel=\"nofollow noreferrer\">gist.github.com/toure5013/7ba7dfb6ecb1810a18f780d826672543</a>  /android/app/build.gradle  :  <a href=\"https://gist.github.com/toure5013/d42abf6ddf08f73f807fb2ec12eff872\" rel=\"nofollow noreferrer\">gist.github.com/toure5013/d42abf6ddf08f73f807fb2ec12eff872</a>      android/gradle/wrapper/gradle-wrapper.properties :    #Fri Jun 23 08:50:38 CEST 2017 distributionBase=GRADLE_USER_HOME distributionPath=wrapper/dists zipStoreBase=GRADLE_USER_HOME zipStorePath=wrapper/dists distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-7.4-all.zip"}],"owner":{"account_id":15488032,"reputation":23,"user_id":11615829,"display_name":"SOULEYMANE TOURE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686070626,"creation_date":1686070626,"question_id":76416863,"body_markdown":"My local config : Flutter doctor\r\n\r\n Doctor summary (to see all details, run flutter doctor -v): \r\n\r\n\\[✓\\] Flutter (Channel stable, 3.10.3, on macOS 13.4 22F66 darwin-arm64, locale     fr-FR) \r\n\r\n\\[✓\\] Android toolchain - develop for Android devices (Android SDK version 33.0.2) \r\n\r\n\\[✓\\] Xcode - develop for iOS and macOS (Xcode 14.3.1) \r\n\r\n\\[✓\\] Chrome - develop for the web \r\n\r\n\\[✓\\] Android Studio (version 2022.1) \r\n\r\n\\[✓\\] VS Code (version 1.78.2) \r\n\r\n\\[✓\\] Connected device (3 available) \r\n\r\n\\[✓\\] Network resources  • No issues found!\r\n\r\n**When I try to launch my flutter app on android I got this error above.**\r\n\r\n```\r\nLaunching lib/main.dart on SM G973F in debug mode...\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class com.google.zxing.BarcodeFormat found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\r\n     Duplicate class com.google.zxing.Binarizer found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\r\n     Duplicate class com.google.zxing.qrcode.decoder.Version found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\r\n     Duplicate class com.google.zxing.qrcode.decoder.Version$ECB found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\r\n     Duplicate class com.google.zxing.qrcode.decoder.Version$ECBlocks found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\r\n\r\n     Go to the documentation to learn how to &lt;a href=&quot;d.android.com/r/tools/classpath-sync-errors&quot;&gt;Fix dependency resolution errors&lt;/a&gt;.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 2m 59s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```\r\n\r\n**Why I Tried in order to resolve :** \r\n\r\n- Ideleted my cashes\r\n\r\n- I updated dependences &amp; repaired  cashes\r\n\r\n-   I deleted .gradle \r\n    cd \\~\r\n    rm -rf .gradle","title":"Can&#39;t build again my flutter app for android untile I install new android studio and update my configs [Duplicate class]","body":"<p>My local config : Flutter doctor</p>\n<p>Doctor summary (to see all details, run flutter doctor -v):</p>\n<p>[✓] Flutter (Channel stable, 3.10.3, on macOS 13.4 22F66 darwin-arm64, locale     fr-FR)</p>\n<p>[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.2)</p>\n<p>[✓] Xcode - develop for iOS and macOS (Xcode 14.3.1)</p>\n<p>[✓] Chrome - develop for the web</p>\n<p>[✓] Android Studio (version 2022.1)</p>\n<p>[✓] VS Code (version 1.78.2)</p>\n<p>[✓] Connected device (3 available)</p>\n<p>[✓] Network resources  • No issues found!</p>\n<p><strong>When I try to launch my flutter app on android I got this error above.</strong></p>\n<pre><code>Launching lib/main.dart on SM G973F in debug mode...\nRunning Gradle task 'assembleDebug'...\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:checkDebugDuplicateClasses'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\n   &gt; Duplicate class com.google.zxing.BarcodeFormat found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\n     Duplicate class com.google.zxing.Binarizer found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\n     Duplicate class com.google.zxing.qrcode.decoder.Version found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\n     Duplicate class com.google.zxing.qrcode.decoder.Version$ECB found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\n     Duplicate class com.google.zxing.qrcode.decoder.Version$ECBlocks found in modules jetified-android-zxingLibrary-0.1.4-PRE-runtime (com.github.leyan95:android-zxingLibrary:0.1.4-PRE) and jetified-core-3.3.0 (com.google.zxing:core:3.3.0)\n\n     Go to the documentation to learn how to &lt;a href=&quot;d.android.com/r/tools/classpath-sync-errors&quot;&gt;Fix dependency resolution errors&lt;/a&gt;.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2m 59s\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p><strong>Why I Tried in order to resolve :</strong></p>\n<ul>\n<li><p>Ideleted my cashes</p>\n</li>\n<li><p>I updated dependences &amp; repaired  cashes</p>\n</li>\n<li><p>I deleted .gradle\ncd ~\nrm -rf .gradle</p>\n</li>\n</ul>\n"},{"tags":["java","minecraft-fabric"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1681294946,"post_id":75994341,"comment_id":134032310,"body_markdown":"Is [this](https://docproject.github.io/fabricmc_fabric/net/fabricmc/fabric/api/command/v1/CommandRegistrationCallback.html) the class you&#39;re trying to use? Because you&#39;re not importing it.","body":"Is <a href=\"https://docproject.github.io/fabricmc_fabric/net/fabricmc/fabric/api/command/v1/CommandRegistrationCallback.html\" rel=\"nofollow noreferrer\">this</a> the class you&#39;re trying to use? Because you&#39;re not importing it."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1681297565,"post_id":75994341,"comment_id":134032897,"body_markdown":"Your question is *close to* well-written, but a very important part that you are missing is the exact error message that you get. You have paraphrased it, but next time please make sure to copy-and-paste it and to format it as code. The **specifics** of an error message can often help figure out the concrete problem (though I think Federico got it right: you are probably just missing the `import`  statement for that class).","body":"Your question is <i>close to</i> well-written, but a very important part that you are missing is the exact error message that you get. You have paraphrased it, but next time please make sure to copy-and-paste it and to format it as code. The <b>specifics</b> of an error message can often help figure out the concrete problem (though I think Federico got it right: you are probably just missing the <code>import</code>  statement for that class)."}],"answers":[{"comments":[{"owner":{"account_id":28189864,"reputation":917,"user_id":21545421,"display_name":"amycodes"},"score":0,"creation_date":1686002864,"post_id":76390280,"comment_id":134737187,"body_markdown":"This does not answer the question. OP already imported the `CommandManager` class statically, so `literal` will be available in scope.","body":"This does not answer the question. OP already imported the <code>CommandManager</code> class statically, so <code>literal</code> will be available in scope."},{"owner":{"account_id":28736658,"reputation":1,"user_id":22007596,"display_name":"GowLi"},"score":0,"creation_date":1686382921,"post_id":76390280,"comment_id":134793893,"body_markdown":"The main literal function must be from &quot;net.minecraft.text.Text&quot;. Just at the register you need the method from CommandManager now.","body":"The main literal function must be from &quot;net.minecraft.text.Text&quot;. Just at the register you need the method from CommandManager now."}],"tags":[],"owner":{"account_id":28736658,"reputation":1,"user_id":22007596,"display_name":"GowLi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686070584,"creation_date":1685709995,"answer_id":76390280,"question_id":75994341,"body_markdown":"It is necessary in&gt;=1.19.4 to register with &quot;CommandManager.literal(&quot;test&quot;)&quot; instead of &quot;literal(&quot;test&quot;)&quot;. when registering.\r\n\r\n```\r\n    CommandRegistrationCallback.EVENT.register((dispatcher, registryAccess, environment) -&gt; {\r\n        dispatcher.register(CommandManager.literal(&quot;test&quot;).executes(context -&gt; {\r\n            context.getSource().sendMessage(literal(&quot;working&quot;));\r\n            return 1;\r\n         }));\r\n    });\r\n```\r\n\r\n","title":"Having problems to run a Fabric Minecraft Mod","body":"<p>It is necessary in&gt;=1.19.4 to register with &quot;CommandManager.literal(&quot;test&quot;)&quot; instead of &quot;literal(&quot;test&quot;)&quot;. when registering.</p>\n<pre><code>    CommandRegistrationCallback.EVENT.register((dispatcher, registryAccess, environment) -&gt; {\n        dispatcher.register(CommandManager.literal(&quot;test&quot;).executes(context -&gt; {\n            context.getSource().sendMessage(literal(&quot;working&quot;));\n            return 1;\n         }));\n    });\n</code></pre>\n"}],"owner":{"account_id":25992864,"reputation":1,"user_id":19704720,"display_name":"Gabocota"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686070584,"creation_date":1681294778,"question_id":75994341,"body_markdown":"I have been fighting trying to get a fabric mod to work but to no avail. I have followed every tutorial known to man but I always get stuck in the same place. \r\n\r\n```\r\npackage net.example;\r\n\r\nimport net.fabricmc.api.ModInitializer;\r\n\r\nimport static net.minecraft.server.command.CommandManager.*;\r\n\r\n\r\npublic class ExampleMod implements ModInitializer {\r\n  @Override\r\n  public void onInitialize() {\r\n    CommandRegistrationCallback.EVENT.register((dispatcher, registryAccess, environment) -&gt; dispatcher.register(literal(&quot;foo&quot;)\r\n        .executes(context -&gt; {\r\n      // For versions below 1.19, replace &quot;Text.literal&quot; with &quot;new LiteralText&quot;.\r\n      context.getSource().sendMessage(LiteralText(&quot;Called /foo with no arguments&quot;));\r\n \r\n      return 1;\r\n    })));\r\n  }\r\n}\r\n```\r\n\r\nwith that code this thing tells me that &quot;CommandRegistrationCallback&quot; &quot;cannot be resolved&quot; this is literally the code provided in https://fabricmc.net/wiki/tutorial:commands so I don&#39;t know what I&#39;m doing wrong.\r\n\r\nHere&#39;s my other files:\r\n\r\nbuild.gradle:\r\n\r\n```\r\nplugins {\r\n\tid &#39;fabric-loom&#39; version &#39;1.1-SNAPSHOT&#39;\r\n\tid &#39;maven-publish&#39;\r\n}\r\n\r\nversion = project.mod_version\r\ngroup = project.maven_group\r\n\r\nrepositories {\r\n\t// Add repositories to retrieve artifacts from in here.\r\n\t// You should only use this when depending on other mods because\r\n\t// Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\r\n\t// See https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\t// for more information about repositories.\r\n}\r\n\r\ndependencies {\r\n\t// To change the versions see the gradle.properties file\r\n\tminecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\r\n\tmappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\r\n\tmodImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\r\n\r\n\t// Fabric API. This is technically optional, but you probably want it anyway.\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\r\n\r\n\t// Uncomment the following line to enable the deprecated Fabric API modules. \r\n\t// These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\r\n\r\n\t// modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\r\n}\r\n\r\nbase {\r\n\tarchivesName = project.archives_base_name\r\n}\r\n\r\nprocessResources {\r\n\tinputs.property &quot;version&quot;, project.version\r\n\r\n\tfilesMatching(&quot;fabric.mod.json&quot;) {\r\n\t\texpand &quot;version&quot;: project.version\r\n\t}\r\n}\r\n\r\ntasks.withType(JavaCompile).configureEach {\r\n\t// Minecraft 1.18 (1.18-pre2) upwards uses Java 17.\r\n\tit.options.release = 17\r\n}\r\n\r\njava {\r\n\t// Loom will automatically attach sourcesJar to a RemapSourcesJar task and to the &quot;build&quot; task\r\n\t// if it is present.\r\n\t// If you remove this line, sources will not be generated.\r\n\twithSourcesJar()\r\n\r\n\tsourceCompatibility = JavaVersion.VERSION_17\r\n\ttargetCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\njar {\r\n\tfrom(&quot;LICENSE&quot;) {\r\n\t\trename { &quot;${it}_${base.archivesName.get()}&quot;}\r\n\t}\r\n}\r\n\r\n// configure the maven publication\r\npublishing {\r\n\tpublications {\r\n\t\tmavenJava(MavenPublication) {\r\n\t\t\tfrom components.java\r\n\t\t}\r\n\t}\r\n\r\n\t// See https://docs.gradle.org/current/userguide/publishing_maven.html for information on how to set up publishing.\r\n\trepositories {\r\n\t\t// Add repositories to publish to here.\r\n\t\t// Notice: This block does NOT have the same function as the block in the top level.\r\n\t\t// The repositories here will be used for publishing your artifact, not for\r\n\t\t// retrieving dependencies.\r\n\t}\r\n}\r\n```\r\n\r\nfabric.mod.json:\r\n\r\n```\r\n{\r\n  &quot;schemaVersion&quot;: 1,\r\n  &quot;id&quot;: &quot;example&quot;,\r\n  &quot;version&quot;: &quot;${version}&quot;,\r\n\r\n  &quot;name&quot;: &quot;example&quot;,\r\n  &quot;description&quot;: &quot;idk&quot;,\r\n  &quot;authors&quot;: [\r\n    &quot;me&quot;\r\n  ],\r\n  &quot;contact&quot;: {\r\n  },\r\n\r\n  &quot;license&quot;: &quot;CC0-1.0&quot;,\r\n  &quot;icon&quot;: &quot;assets/example/icon.png&quot;,\r\n\r\n  &quot;environment&quot;: &quot;*&quot;,\r\n  &quot;entrypoints&quot;: {\r\n    &quot;main&quot;: [\r\n      &quot;net.example.ExampleMod&quot;\r\n    ]\r\n  },\r\n  &quot;mixins&quot;: [\r\n  ],\r\n\r\n  &quot;depends&quot;: {\r\n    &quot;fabricloader&quot;: &quot;&gt;=0.14.17&quot;,\r\n    &quot;fabric-api&quot;: &quot;*&quot;,\r\n    &quot;minecraft&quot;: &quot;~1.19.4&quot;,\r\n    &quot;java&quot;: &quot;&gt;=17&quot;\r\n  },\r\n  &quot;suggests&quot;: {\r\n    &quot;another-mod&quot;: &quot;*&quot;\r\n  }\r\n}\r\n\r\n```\r\n\r\ngradle.properties:\r\n\r\n\r\n```\r\n# Done to increase the memory available to gradle.\r\norg.gradle.jvmargs=-Xmx10G\r\norg.gradle.parallel=true\r\n\r\n# Fabric Properties\r\n\t# check these on https://fabricmc.net/develop\r\n\tminecraft_version=1.19.4\r\n\tyarn_mappings=1.19.4+build.2\r\n\tloader_version=0.14.19\r\n\r\n# Mod Properties\r\n\tmod_version = 1.0.0\r\n\tmaven_group = net.byescreen\r\n\tarchives_base_name = byescreen\r\n\r\n# Dependencies\r\n\tfabric_version=0.78.0+1.19.4\r\n\r\n```\r\n\r\nand here&#39;s my folder structure:\r\n[Folder Structure](https://i.stack.imgur.com/AIRDv.png)\r\n\r\nI am beyond myself, its 4am and I have achieved nothing. I need the internet&#39;s help for this one.\r\n\r\n\r\n\r\n\r\nAlready have all the latest versions of everything. Well java had version 20 and had to downgrade to the last 17 one. That&#39;s about it. \r\n\r\nAlready rebuilt with gradlew about 200 times, copied an pasted dozens of examples from the internet and nothing works. I always get to the problem that it doesn&#39;t find the &quot;CommandRegistrationCallback&quot; or any other class I need to just read the players commands. \r\n\r\n","title":"Having problems to run a Fabric Minecraft Mod","body":"<p>I have been fighting trying to get a fabric mod to work but to no avail. I have followed every tutorial known to man but I always get stuck in the same place.</p>\n<pre><code>package net.example;\n\nimport net.fabricmc.api.ModInitializer;\n\nimport static net.minecraft.server.command.CommandManager.*;\n\n\npublic class ExampleMod implements ModInitializer {\n  @Override\n  public void onInitialize() {\n    CommandRegistrationCallback.EVENT.register((dispatcher, registryAccess, environment) -&gt; dispatcher.register(literal(&quot;foo&quot;)\n        .executes(context -&gt; {\n      // For versions below 1.19, replace &quot;Text.literal&quot; with &quot;new LiteralText&quot;.\n      context.getSource().sendMessage(LiteralText(&quot;Called /foo with no arguments&quot;));\n \n      return 1;\n    })));\n  }\n}\n</code></pre>\n<p>with that code this thing tells me that &quot;CommandRegistrationCallback&quot; &quot;cannot be resolved&quot; this is literally the code provided in <a href=\"https://fabricmc.net/wiki/tutorial:commands\" rel=\"nofollow noreferrer\">https://fabricmc.net/wiki/tutorial:commands</a> so I don't know what I'm doing wrong.</p>\n<p>Here's my other files:</p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'fabric-loom' version '1.1-SNAPSHOT'\n    id 'maven-publish'\n}\n\nversion = project.mod_version\ngroup = project.maven_group\n\nrepositories {\n    // Add repositories to retrieve artifacts from in here.\n    // You should only use this when depending on other mods because\n    // Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\n    // See https://docs.gradle.org/current/userguide/declaring_repositories.html\n    // for more information about repositories.\n}\n\ndependencies {\n    // To change the versions see the gradle.properties file\n    minecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\n    mappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\n    modImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\n\n    // Fabric API. This is technically optional, but you probably want it anyway.\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api:${project.fabric_version}&quot;\n\n    // Uncomment the following line to enable the deprecated Fabric API modules. \n    // These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\n\n    // modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\n}\n\nbase {\n    archivesName = project.archives_base_name\n}\n\nprocessResources {\n    inputs.property &quot;version&quot;, project.version\n\n    filesMatching(&quot;fabric.mod.json&quot;) {\n        expand &quot;version&quot;: project.version\n    }\n}\n\ntasks.withType(JavaCompile).configureEach {\n    // Minecraft 1.18 (1.18-pre2) upwards uses Java 17.\n    it.options.release = 17\n}\n\njava {\n    // Loom will automatically attach sourcesJar to a RemapSourcesJar task and to the &quot;build&quot; task\n    // if it is present.\n    // If you remove this line, sources will not be generated.\n    withSourcesJar()\n\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\njar {\n    from(&quot;LICENSE&quot;) {\n        rename { &quot;${it}_${base.archivesName.get()}&quot;}\n    }\n}\n\n// configure the maven publication\npublishing {\n    publications {\n        mavenJava(MavenPublication) {\n            from components.java\n        }\n    }\n\n    // See https://docs.gradle.org/current/userguide/publishing_maven.html for information on how to set up publishing.\n    repositories {\n        // Add repositories to publish to here.\n        // Notice: This block does NOT have the same function as the block in the top level.\n        // The repositories here will be used for publishing your artifact, not for\n        // retrieving dependencies.\n    }\n}\n</code></pre>\n<p>fabric.mod.json:</p>\n<pre><code>{\n  &quot;schemaVersion&quot;: 1,\n  &quot;id&quot;: &quot;example&quot;,\n  &quot;version&quot;: &quot;${version}&quot;,\n\n  &quot;name&quot;: &quot;example&quot;,\n  &quot;description&quot;: &quot;idk&quot;,\n  &quot;authors&quot;: [\n    &quot;me&quot;\n  ],\n  &quot;contact&quot;: {\n  },\n\n  &quot;license&quot;: &quot;CC0-1.0&quot;,\n  &quot;icon&quot;: &quot;assets/example/icon.png&quot;,\n\n  &quot;environment&quot;: &quot;*&quot;,\n  &quot;entrypoints&quot;: {\n    &quot;main&quot;: [\n      &quot;net.example.ExampleMod&quot;\n    ]\n  },\n  &quot;mixins&quot;: [\n  ],\n\n  &quot;depends&quot;: {\n    &quot;fabricloader&quot;: &quot;&gt;=0.14.17&quot;,\n    &quot;fabric-api&quot;: &quot;*&quot;,\n    &quot;minecraft&quot;: &quot;~1.19.4&quot;,\n    &quot;java&quot;: &quot;&gt;=17&quot;\n  },\n  &quot;suggests&quot;: {\n    &quot;another-mod&quot;: &quot;*&quot;\n  }\n}\n\n</code></pre>\n<p>gradle.properties:</p>\n<pre><code># Done to increase the memory available to gradle.\norg.gradle.jvmargs=-Xmx10G\norg.gradle.parallel=true\n\n# Fabric Properties\n    # check these on https://fabricmc.net/develop\n    minecraft_version=1.19.4\n    yarn_mappings=1.19.4+build.2\n    loader_version=0.14.19\n\n# Mod Properties\n    mod_version = 1.0.0\n    maven_group = net.byescreen\n    archives_base_name = byescreen\n\n# Dependencies\n    fabric_version=0.78.0+1.19.4\n\n</code></pre>\n<p>and here's my folder structure:\n<a href=\"https://i.stack.imgur.com/AIRDv.png\" rel=\"nofollow noreferrer\">Folder Structure</a></p>\n<p>I am beyond myself, its 4am and I have achieved nothing. I need the internet's help for this one.</p>\n<p>Already have all the latest versions of everything. Well java had version 20 and had to downgrade to the last 17 one. That's about it.</p>\n<p>Already rebuilt with gradlew about 200 times, copied an pasted dozens of examples from the internet and nothing works. I always get to the problem that it doesn't find the &quot;CommandRegistrationCallback&quot; or any other class I need to just read the players commands.</p>\n"},{"tags":["java","exception","junit","mockito"],"answers":[{"comments":[{"owner":{"account_id":445792,"reputation":1039,"user_id":838444,"display_name":"Sneg"},"score":4,"creation_date":1495649238,"post_id":16243626,"comment_id":75347695,"body_markdown":"this approach is unacceptable for case when you&#39;re testing method of an object that has some state. For example there is an object method that throws exception if you call it the second time. And you need to test to test that it does throw exception during the second method call, not the first one. If it throws MyException during the first method call (in the preparation stage) then it should fail the test. But with this approach we are not able to check during which method call the exception is thrown.","body":"this approach is unacceptable for case when you&#39;re testing method of an object that has some state. For example there is an object method that throws exception if you call it the second time. And you need to test to test that it does throw exception during the second method call, not the first one. If it throws MyException during the first method call (in the preparation stage) then it should fail the test. But with this approach we are not able to check during which method call the exception is thrown."},{"owner":{"account_id":445792,"reputation":1039,"user_id":838444,"display_name":"Sneg"},"score":0,"creation_date":1495649972,"post_id":16243626,"comment_id":75348111,"body_markdown":"Though in this case we can catch exception from the first method call and wrap it in RuntimeException.","body":"Though in this case we can catch exception from the first method call and wrap it in RuntimeException."},{"owner":{"account_id":2908204,"reputation":1283,"user_id":2493020,"accept_rate":67,"display_name":"Abdul Mohsin"},"score":1,"creation_date":1633671790,"post_id":16243626,"comment_id":122826575,"body_markdown":"this does not work if the method doSomething() return type is void?","body":"this does not work if the method doSomething() return type is void?"}],"tags":[],"owner":{"account_id":2491540,"reputation":13743,"user_id":2168879,"accept_rate":40,"display_name":"NilsH"},"comment_count":3,"down_vote_count":1,"up_vote_count":251,"is_accepted":false,"score":250,"last_activity_date":1367003534,"creation_date":1367003534,"answer_id":16243626,"question_id":16243580,"body_markdown":"To answer your second question first. If you&#39;re using JUnit 4, you can annotate your test with \r\n\r\n    @Test(expected=MyException.class)\r\n\r\nto assert that an exception has occured. And to &quot;mock&quot; an exception with mockito, use\r\n\r\n    when(myMock.doSomething()).thenThrow(new MyException());","title":"Mockito How to mock and assert a thrown exception?","body":"<p>To answer your second question first. If you're using JUnit 4, you can annotate your test with </p>\n\n<pre><code>@Test(expected=MyException.class)\n</code></pre>\n\n<p>to assert that an exception has occured. And to \"mock\" an exception with mockito, use</p>\n\n<pre><code>when(myMock.doSomething()).thenThrow(new MyException());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2491540,"reputation":13743,"user_id":2168879,"accept_rate":40,"display_name":"NilsH"},"score":0,"creation_date":1367003753,"post_id":16243628,"comment_id":23238937,"body_markdown":"Does the `verify` call assert the exception?","body":"Does the <code>verify</code> call assert the exception?"},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1367003832,"post_id":16243628,"comment_id":23238970,"body_markdown":"@NilsH No. But provided the `when` clause is correct, it must have thrown an exception.","body":"@NilsH No. But provided the <code>when</code> clause is correct, it must have thrown an exception."},{"owner":{"account_id":2908204,"reputation":1283,"user_id":2493020,"accept_rate":67,"display_name":"Abdul Mohsin"},"score":1,"creation_date":1633671845,"post_id":16243628,"comment_id":122826587,"body_markdown":"if the method someMethod() return type is void, then it does not work like this. is there any way we can mock throw exception for void methods?","body":"if the method someMethod() return type is void, then it does not work like this. is there any way we can mock throw exception for void methods?"}],"tags":[],"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1367004024,"creation_date":1367003552,"answer_id":16243628,"question_id":16243580,"body_markdown":"Make the exception happen like this:\r\n\r\n    when(obj.someMethod()).thenThrow(new AnException());\r\n\r\nVerify it has happened either by asserting that your test will throw such an exception:\r\n\r\n    @Test(expected = AnException.class)\r\n\r\nOr by normal mock verification:\r\n\r\n    verify(obj).someMethod();\r\n\r\nThe latter option is required if your test is designed to prove intermediate code handles the exception (i.e. the exception won&#39;t be thrown from your test method).","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Make the exception happen like this:</p>\n\n<pre><code>when(obj.someMethod()).thenThrow(new AnException());\n</code></pre>\n\n<p>Verify it has happened either by asserting that your test will throw such an exception:</p>\n\n<pre><code>@Test(expected = AnException.class)\n</code></pre>\n\n<p>Or by normal mock verification:</p>\n\n<pre><code>verify(obj).someMethod();\n</code></pre>\n\n<p>The latter option is required if your test is designed to prove intermediate code handles the exception (i.e. the exception won't be thrown from your test method).</p>\n"},{"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":3,"creation_date":1367003944,"post_id":16243661,"comment_id":23239024,"body_markdown":"What is &quot;catch-exception&quot;? Got a link?","body":"What is &quot;catch-exception&quot;? Got a link?"},{"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"score":0,"creation_date":1589477469,"post_id":16243661,"comment_id":109317557,"body_markdown":"what&#39;s `caughtException` ?","body":"what&#39;s <code>caughtException</code> ?"},{"owner":{"account_id":6878158,"reputation":1996,"user_id":5285894,"accept_rate":62,"display_name":"Arar"},"score":0,"creation_date":1589477913,"post_id":16243661,"comment_id":109317794,"body_markdown":"Got it, it&#39;s coming from `com.googlecode.catchexception.CatchException.caughtException;`","body":"Got it, it&#39;s coming from <code>com.googlecode.catchexception.CatchException.caughtException&zwnj;&#8203;;</code>"},{"owner":{"account_id":2931095,"reputation":321,"user_id":2511298,"display_name":"Ahmed Hasn."},"score":0,"creation_date":1663058986,"post_id":16243661,"comment_id":130144002,"body_markdown":"will catch-exception still print the stacktrace?","body":"will catch-exception still print the stacktrace?"}],"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"comment_count":4,"down_vote_count":6,"up_vote_count":91,"is_accepted":true,"score":85,"last_activity_date":1554836242,"creation_date":1367003756,"answer_id":16243661,"question_id":16243580,"body_markdown":"[BDD](http://guide.agilealliance.org/guide/gwt.html) Style Solution (Updated to Java 8)\r\n==\r\n*Mockito* alone is not the best solution for handling exceptions, use *Mockito* with *Catch-Exception* \r\n    \r\nMockito + [Catch-Exception][1] + [AssertJ][2]\r\n========\r\n\r\n    given(otherServiceMock.bar()).willThrow(new MyException());\r\n \r\n    when(() -&gt; myService.foo());\r\n \r\n    then(caughtException()).isInstanceOf(MyException.class);\r\n\r\nSample code\r\n--\r\n - [Mockito + Catch-Exception + Assertj full sample](https://gist.github.com/mariuszs/7489190)\r\n\r\n\r\n  [1]: https://github.com/Codearte/catch-exception\r\n  [2]: https://github.com/joel-costigliola/assertj-core\r\n\r\nDependencies\r\n--\r\n\r\n - [eu.codearte.catch-exception:catch-exception:2.0](https://search.maven.org/artifact/eu.codearte.catch-exception/catch-exception/2.0/jar)\r\n - [org.assertj:assertj-core:3.12.2](https://search.maven.org/search?q=g:%22org.assertj%22%20AND%20a:%22assertj-core%22)\r\n\r\n\r\n\r\n","title":"Mockito How to mock and assert a thrown exception?","body":"<h1><a href=\"http://guide.agilealliance.org/guide/gwt.html\" rel=\"noreferrer\">BDD</a> Style Solution (Updated to Java 8)</h1>\n\n<p><em>Mockito</em> alone is not the best solution for handling exceptions, use <em>Mockito</em> with <em>Catch-Exception</em> </p>\n\n<h1>Mockito + <a href=\"https://github.com/Codearte/catch-exception\" rel=\"noreferrer\">Catch-Exception</a> + <a href=\"https://github.com/joel-costigliola/assertj-core\" rel=\"noreferrer\">AssertJ</a></h1>\n\n<pre><code>given(otherServiceMock.bar()).willThrow(new MyException());\n\nwhen(() -&gt; myService.foo());\n\nthen(caughtException()).isInstanceOf(MyException.class);\n</code></pre>\n\n<h2>Sample code</h2>\n\n<ul>\n<li><a href=\"https://gist.github.com/mariuszs/7489190\" rel=\"noreferrer\">Mockito + Catch-Exception + Assertj full sample</a></li>\n</ul>\n\n<h2>Dependencies</h2>\n\n<ul>\n<li><a href=\"https://search.maven.org/artifact/eu.codearte.catch-exception/catch-exception/2.0/jar\" rel=\"noreferrer\">eu.codearte.catch-exception:catch-exception:2.0</a></li>\n<li><a href=\"https://search.maven.org/search?q=g:%22org.assertj%22%20AND%20a:%22assertj-core%22\" rel=\"noreferrer\">org.assertj:assertj-core:3.12.2</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":5173763,"reputation":955,"user_id":4141569,"accept_rate":32,"display_name":"Sritam Jagadev"},"score":1,"creation_date":1572939246,"post_id":30930478,"comment_id":103707337,"body_markdown":"worked for me...Also we can check the exception message as well.assertThatThrownBy(() -&gt; myService.sumTingWong(&quot;badArg&quot;)).hasMessage(&quot;test&quot;)\n                                  .isInstanceOf(IllegalArgumentException.class);","body":"worked for me...Also we can check the exception message as well.assertThatThrownBy(() -&gt; myService.sumTingWong(&quot;badArg&quot;)).hasMessage(&quot;test&quot;)                                   .isInstanceOf(IllegalArgumentException.class);"},{"owner":{"account_id":952905,"reputation":15132,"user_id":1235929,"accept_rate":68,"display_name":"Dave"},"score":1,"creation_date":1658971840,"post_id":30930478,"comment_id":129186884,"body_markdown":"This answer needs more upvotes.","body":"This answer needs more upvotes."}],"tags":[],"owner":{"account_id":1033192,"reputation":3148,"user_id":1041083,"accept_rate":43,"display_name":"Selwyn"},"comment_count":2,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1434691368,"creation_date":1434691368,"answer_id":30930478,"question_id":16243580,"body_markdown":"Updated answer for 06/19/2015 (if you&#39;re using java 8)\r\n\r\nJust use assertj\r\n\r\n**Using assertj-core-3.0.0    +   Java 8 Lambdas** \r\n\r\n    @Test\r\n    public void shouldThrowIllegalArgumentExceptionWhenPassingBadArg() {\r\n    assertThatThrownBy(() -&gt; myService.sumTingWong(&quot;badArg&quot;))\r\n    \t\t\t\t\t\t\t      .isInstanceOf(IllegalArgumentException.class);\r\n    }\r\n\r\nReference: http://blog.codeleak.pl/2015/04/junit-testing-exceptions-with-java-8.html","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Updated answer for 06/19/2015 (if you're using java 8)</p>\n\n<p>Just use assertj</p>\n\n<p><strong>Using assertj-core-3.0.0    +   Java 8 Lambdas</strong> </p>\n\n<pre><code>@Test\npublic void shouldThrowIllegalArgumentExceptionWhenPassingBadArg() {\nassertThatThrownBy(() -&gt; myService.sumTingWong(\"badArg\"))\n                                  .isInstanceOf(IllegalArgumentException.class);\n}\n</code></pre>\n\n<p>Reference: <a href=\"http://blog.codeleak.pl/2015/04/junit-testing-exceptions-with-java-8.html\" rel=\"noreferrer\">http://blog.codeleak.pl/2015/04/junit-testing-exceptions-with-java-8.html</a></p>\n"},{"tags":[],"owner":{"account_id":4371251,"reputation":311,"user_id":3909050,"display_name":"Prashant Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1477061377,"creation_date":1477055809,"answer_id":40177703,"question_id":16243580,"body_markdown":"If you&#39;re using JUnit 4, and Mockito 1.10.x\r\nAnnotate your test method with:\r\n\r\n    @Test(expected = AnyException.class)\r\n\r\nand to throw your desired exception use:\r\n\r\n    Mockito.doThrow(new AnyException()).when(obj).callAnyMethod();\r\n\r\n\r\n","title":"Mockito How to mock and assert a thrown exception?","body":"<p>If you're using JUnit 4, and Mockito 1.10.x\nAnnotate your test method with:</p>\n\n<pre><code>@Test(expected = AnyException.class)\n</code></pre>\n\n<p>and to throw your desired exception use:</p>\n\n<pre><code>Mockito.doThrow(new AnyException()).when(obj).callAnyMethod();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"score":0,"creation_date":1545142015,"post_id":41386406,"comment_id":94517640,"body_markdown":"`given()` where does this come from?","body":"<code>given()</code> where does this come from?"},{"owner":{"account_id":8712860,"reputation":1431,"user_id":6518514,"display_name":"Daniel Treiber"},"score":2,"creation_date":1545142328,"post_id":41386406,"comment_id":94517816,"body_markdown":"From mockito-core: https://static.javadoc.io/org.mockito/mockito-core/2.23.4/org/mockito/BDDMockito.html","body":"From mockito-core: <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.23.4/org/mockito/BDDMockito.html\" rel=\"nofollow noreferrer\">static.javadoc.io/org.mockito/mockito-core/2.23.4/org/mockit&zwnj;&#8203;o/&hellip;</a>"},{"owner":{"account_id":5851030,"reputation":526,"user_id":4609700,"display_name":"Crenguta S"},"score":0,"creation_date":1558513215,"post_id":41386406,"comment_id":99121929,"body_markdown":"I also prefer to use the @Rule, because this way I can test for expected message or cause or other stuff pertaining to the exception. For checking the cause of the exception, I use: expectedException.expectCause(Mockito.sameInstance(expectedException)) or expectedException.expectCause(Mockito.instanceOf(MyException.class))  and a few others that come in handy.","body":"I also prefer to use the @Rule, because this way I can test for expected message or cause or other stuff pertaining to the exception. For checking the cause of the exception, I use: expectedException.expectCause(Mockito.sameInstance(expectedE&zwnj;&#8203;xception)) or expectedException.expectCause(Mockito.instanceOf(MyException&zwnj;&#8203;.class))  and a few others that come in handy."}],"tags":[],"owner":{"account_id":8712860,"reputation":1431,"user_id":6518514,"display_name":"Daniel Treiber"},"comment_count":3,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1483041497,"creation_date":1483041497,"answer_id":41386406,"question_id":16243580,"body_markdown":"If you want to test the exception message as well you can use JUnit&#39;s ExpectedException with Mockito:\r\n\r\n    @Rule\r\n    public ExpectedException expectedException = ExpectedException.none();\r\n\r\n    @Test\r\n    public void testExceptionMessage() throws Exception {\r\n        expectedException.expect(AnyException.class);\r\n        expectedException.expectMessage(&quot;The expected message&quot;);\r\n\r\n        given(foo.bar()).willThrow(new AnyException(&quot;The expected message&quot;));\r\n    }","title":"Mockito How to mock and assert a thrown exception?","body":"<p>If you want to test the exception message as well you can use JUnit's ExpectedException with Mockito:</p>\n\n<pre><code>@Rule\npublic ExpectedException expectedException = ExpectedException.none();\n\n@Test\npublic void testExceptionMessage() throws Exception {\n    expectedException.expect(AnyException.class);\n    expectedException.expectMessage(\"The expected message\");\n\n    given(foo.bar()).willThrow(new AnyException(\"The expected message\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7320546,"reputation":1178,"user_id":5576721,"accept_rate":50,"display_name":"Anupama Boorlagadda"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1498587479,"creation_date":1498587479,"answer_id":44787242,"question_id":16243580,"body_markdown":"Using mockito, you can make the exception happen.\r\n\r\n`when(testingClassObj.testSomeMethod).thenThrow(new CustomException());`\r\n\r\nUsing Junit5, you can assert exception, asserts whether *that* exception is thrown when *testing method* is invoked.\r\n\r\n    @Test\r\n\t@DisplayName(&quot;Test assert exception&quot;)\r\n\tvoid testCustomException(TestInfo testInfo) {\r\n\t\tfinal ExpectCustomException expectEx = new ExpectCustomException();\r\n\t\t\r\n\t\t InvalidParameterCountException exception = assertThrows(InvalidParameterCountException.class, () -&gt; {\r\n\t\t        expectEx.constructErrorMessage(&quot;sample &quot;,&quot;error&quot;);\r\n\t\t    });\r\n\t\tassertEquals(&quot;Invalid parametercount: expected=3, passed=2&quot;, exception.getMessage());\r\n\t}\r\n\r\nFind a sample here: [assert exception junit][1]\r\n\r\n\r\n  [1]: https://github.com/anupama513/junit5-starter/blob/master/src/test/java/com/junit5/recipes/demoexception/ExpectCustomExceptionTest.java#L23","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Using mockito, you can make the exception happen.</p>\n\n<p><code>when(testingClassObj.testSomeMethod).thenThrow(new CustomException());</code></p>\n\n<p>Using Junit5, you can assert exception, asserts whether <em>that</em> exception is thrown when <em>testing method</em> is invoked.</p>\n\n<pre><code>@Test\n@DisplayName(\"Test assert exception\")\nvoid testCustomException(TestInfo testInfo) {\n    final ExpectCustomException expectEx = new ExpectCustomException();\n\n     InvalidParameterCountException exception = assertThrows(InvalidParameterCountException.class, () -&gt; {\n            expectEx.constructErrorMessage(\"sample \",\"error\");\n        });\n    assertEquals(\"Invalid parametercount: expected=3, passed=2\", exception.getMessage());\n}\n</code></pre>\n\n<p>Find a sample here: <a href=\"https://github.com/anupama513/junit5-starter/blob/master/src/test/java/com/junit5/recipes/demoexception/ExpectCustomExceptionTest.java#L23\" rel=\"noreferrer\">assert exception junit</a></p>\n"},{"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1512040587,"post_id":47013229,"comment_id":82101194,"body_markdown":"@MariuszS response correctly answers what you are saying is unrelated to Mockito","body":"@MariuszS response correctly answers what you are saying is unrelated to Mockito"},{"owner":{"account_id":29800,"reputation":1196,"user_id":80772,"display_name":"eel ghEEz"},"score":0,"creation_date":1513831364,"post_id":47013229,"comment_id":82803973,"body_markdown":"@pringi Thanks, I see that the question concerned both mocking an exception and catching it.  I wonder though if this depends on any behaviour of the code under test.","body":"@pringi Thanks, I see that the question concerned both mocking an exception and catching it.  I wonder though if this depends on any behaviour of the code under test."}],"tags":[],"owner":{"account_id":29800,"reputation":1196,"user_id":80772,"display_name":"eel ghEEz"},"comment_count":2,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1511195207,"creation_date":1509359941,"answer_id":47013229,"question_id":16243580,"body_markdown":"Unrelated to mockito, one can catch the exception and assert its properties.  To verify that the exception did happen, assert a false condition within the try block after the statement that throws the exception.","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Unrelated to mockito, one can catch the exception and assert its properties.  To verify that the exception did happen, assert a false condition within the try block after the statement that throws the exception.</p>\n"},{"comments":[{"owner":{"account_id":8451021,"reputation":369,"user_id":6339960,"display_name":"Christian Lim"},"score":3,"creation_date":1595576959,"post_id":50810545,"comment_id":111528732,"body_markdown":"If written like this, when there is *no* exception thrown, the test will *still pass*. Which is what we want to avoid in the first place","body":"If written like this, when there is <i>no</i> exception thrown, the test will <i>still pass</i>. Which is what we want to avoid in the first place"}],"tags":[],"owner":{"account_id":2729575,"reputation":536,"user_id":2353652,"display_name":"Sam"},"comment_count":1,"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1528784917,"creation_date":1528784917,"answer_id":50810545,"question_id":16243580,"body_markdown":"Assert by exception message:\r\n\r\n        try {\r\n            MyAgent.getNameByNode(&quot;d&quot;);\r\n        } catch (Exception e) {\r\n            Assert.assertEquals(&quot;Failed to fetch data.&quot;, e.getMessage());\r\n        }\r\n","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Assert by exception message:</p>\n\n<pre><code>    try {\n        MyAgent.getNameByNode(\"d\");\n    } catch (Exception e) {\n        Assert.assertEquals(\"Failed to fetch data.\", e.getMessage());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7792408,"reputation":412,"user_id":5894853,"display_name":"JediCate"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531805110,"creation_date":1531805110,"answer_id":51373751,"question_id":16243580,"body_markdown":"Or if your exception is thrown from the constructor of a class: \r\n\r\n    @Rule\r\n    public ExpectedException exception = ExpectedException.none();\r\n\r\n    @Test\r\n    public void myTest() {    \r\n    \r\n        exception.expect(MyException.class);\r\n        CustomClass myClass= mock(CustomClass.class);\r\n        doThrow(new MyException(&quot;constructor failed&quot;)).when(myClass);  \r\n      \r\n    }\r\n\r\n","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Or if your exception is thrown from the constructor of a class: </p>\n\n<pre><code>@Rule\npublic ExpectedException exception = ExpectedException.none();\n\n@Test\npublic void myTest() {    \n\n    exception.expect(MyException.class);\n    CustomClass myClass= mock(CustomClass.class);\n    doThrow(new MyException(\"constructor failed\")).when(myClass);  \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":519017,"reputation":1472,"user_id":2468458,"accept_rate":85,"display_name":"Rodrigo Oliveira"},"comment_count":0,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1548693865,"creation_date":1548693865,"answer_id":54406590,"question_id":16243580,"body_markdown":"Use [Mockito&#39;s doThrow][1] and then catch the desired exception to assert it was thrown later.\r\n\r\n    @Test\r\n    public void fooShouldThrowMyException() {\r\n        // given\r\n        val myClass = new MyClass();\r\n        val arg = mock(MyArgument.class);\r\n        doThrow(MyException.class).when(arg).argMethod(any());\r\n        Exception exception = null;\r\n\r\n        // when\r\n        try {\r\n            myClass.foo(arg);\r\n        } catch (MyException t) {\r\n            exception = t;\r\n        }\r\n        \r\n        // then\r\n        assertNotNull(exception);\r\n    }\r\n\r\n\r\n  [1]: https://static.javadoc.io/org.mockito/mockito-core/2.23.4/org/mockito/Mockito.html#12","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Use <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.23.4/org/mockito/Mockito.html#12\" rel=\"noreferrer\">Mockito's doThrow</a> and then catch the desired exception to assert it was thrown later.</p>\n\n<pre><code>@Test\npublic void fooShouldThrowMyException() {\n    // given\n    val myClass = new MyClass();\n    val arg = mock(MyArgument.class);\n    doThrow(MyException.class).when(arg).argMethod(any());\n    Exception exception = null;\n\n    // when\n    try {\n        myClass.foo(arg);\n    } catch (MyException t) {\n        exception = t;\n    }\n\n    // then\n    assertNotNull(exception);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19804202,"reputation":161,"user_id":14504459,"display_name":"Chetan Botre"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1677706574,"creation_date":1609753597,"answer_id":65560548,"question_id":16243580,"body_markdown":"I think this should do it for you.\r\n```\r\nassertThrows(someException.class,\r\n()-&gt; mockedServiceReference.someMethod(param1,parme2,..));\r\n```","title":"Mockito How to mock and assert a thrown exception?","body":"<p>I think this should do it for you.</p>\n<pre><code>assertThrows(someException.class,\n()-&gt; mockedServiceReference.someMethod(param1,parme2,..));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26833698,"reputation":61,"user_id":20421268,"display_name":"belal"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1667596703,"creation_date":1667596663,"answer_id":74323057,"question_id":16243580,"body_markdown":"An easy and short way that worked for me was:\r\n\r\n    assertThrows(YourException.class, () -&gt; yourLogic())","title":"Mockito How to mock and assert a thrown exception?","body":"<p>An easy and short way that worked for me was:</p>\n<pre><code>assertThrows(YourException.class, () -&gt; yourLogic())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686068052,"creation_date":1686063970,"answer_id":76416003,"question_id":16243580,"body_markdown":"Here is a way, how you can Mock and Assert the exception:\r\n\r\n 1. Java 8 or above\r\n 2. JUnit 5 -&gt; `org.junit.jupiter:5.X.X` &amp; `org.mockito:4.X.X`\r\n\r\n\r\n```\r\n// Mock an exception\r\nwhen(mapperService.convertRequest(any())).thenThrow(new RuntimeException());\r\n\r\n// Assert the exception\r\nRuntimeException thrown = Assertions.assertThrows(RuntimeException.class, () -&gt; {\r\n            addOfferService.processData(deltaDetails);\r\n        });\r\nAssertions.assertEquals(&quot;Exception occurred during create data&quot;, thrown.getMessage());\r\n```","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Here is a way, how you can Mock and Assert the exception:</p>\n<ol>\n<li>Java 8 or above</li>\n<li>JUnit 5 -&gt; <code>org.junit.jupiter:5.X.X</code> &amp; <code>org.mockito:4.X.X</code></li>\n</ol>\n<pre><code>// Mock an exception\nwhen(mapperService.convertRequest(any())).thenThrow(new RuntimeException());\n\n// Assert the exception\nRuntimeException thrown = Assertions.assertThrows(RuntimeException.class, () -&gt; {\n            addOfferService.processData(deltaDetails);\n        });\nAssertions.assertEquals(&quot;Exception occurred during create data&quot;, thrown.getMessage());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686070574,"creation_date":1686070574,"answer_id":76416855,"question_id":16243580,"body_markdown":"Mockito fully supports stubbing methods to throw an exception,\r\nAssertJ is not necessary.\r\n\r\nCode below.\r\nFirst the stuff that will be tested:\r\n```Java\r\n@Component\r\npublic class Blam\r\n{\r\n\tpublic void blamIt()\r\n\t{\r\n\t\tSystem.out.println(&quot;blam&quot;);\r\n\t}\r\n}\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class Kapow\r\n{\r\n\tprivate final Blam blam;\r\n\r\n\tpublic void aMethod()\r\n\t{\r\n\t\tblam.blamIt();\r\n\t}\r\n}\r\n```\r\n\r\nNow the actual unit test (using Mockito and Junit 5):\r\n```Java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class TestKapow\r\n{\r\n\tprivate Kapow classToTest;\r\n\r\n\t@Mock\r\n\tprivate Blam mockBlam;\r\n\r\n\t@Mock\r\n\tprivate RuntimeException mockRuntimeException;\r\n\r\n\t@BeforeEach\r\n\tvoid beforeEach()\r\n\t{\r\n\t\tclassToTest = new Kapow(mockBlam);\r\n\t}\r\n\r\n\t@Test\r\n\tvoid aMethod_blamItThrowsRuntimeException_exceptionEscapes()\r\n\t{\r\n\t\tfinal RuntimeException actualException;\r\n\r\n\r\n\t\tdoThrow(mockRuntimeException).when(mockBlam).blamIt();\r\n\r\n\r\n\t\tactualException = assertThrows(RuntimeException.class, () -&gt; classToTest.aMethod());\r\n\r\n\t\tassertNotNull(actualException);\r\n\r\n\t\tassertSame(mockRuntimeException, actualException);\r\n\t}\r\n}\r\n```\r\n\r\nSome Notes:\r\n 1. I find it to be a good practice to instantiate mock objects via the `@Mock` annotation.\r\n 1. I prefer the `doThrow(xxx).when(mockXxx).method` form for throwing and exception during a unit test.\r\n 1. You can &quot;catch&quot; the thrown exception when using the `assertThrows` method.","title":"Mockito How to mock and assert a thrown exception?","body":"<p>Mockito fully supports stubbing methods to throw an exception,\nAssertJ is not necessary.</p>\n<p>Code below.\nFirst the stuff that will be tested:</p>\n<pre><code>@Component\npublic class Blam\n{\n    public void blamIt()\n    {\n        System.out.println(&quot;blam&quot;);\n    }\n}\n\n@Component\n@RequiredArgsConstructor\npublic class Kapow\n{\n    private final Blam blam;\n\n    public void aMethod()\n    {\n        blam.blamIt();\n    }\n}\n</code></pre>\n<p>Now the actual unit test (using Mockito and Junit 5):</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class TestKapow\n{\n    private Kapow classToTest;\n\n    @Mock\n    private Blam mockBlam;\n\n    @Mock\n    private RuntimeException mockRuntimeException;\n\n    @BeforeEach\n    void beforeEach()\n    {\n        classToTest = new Kapow(mockBlam);\n    }\n\n    @Test\n    void aMethod_blamItThrowsRuntimeException_exceptionEscapes()\n    {\n        final RuntimeException actualException;\n\n\n        doThrow(mockRuntimeException).when(mockBlam).blamIt();\n\n\n        actualException = assertThrows(RuntimeException.class, () -&gt; classToTest.aMethod());\n\n        assertNotNull(actualException);\n\n        assertSame(mockRuntimeException, actualException);\n    }\n}\n</code></pre>\n<p>Some Notes:</p>\n<ol>\n<li>I find it to be a good practice to instantiate mock objects via the <code>@Mock</code> annotation.</li>\n<li>I prefer the <code>doThrow(xxx).when(mockXxx).method</code> form for throwing and exception during a unit test.</li>\n<li>You can &quot;catch&quot; the thrown exception when using the <code>assertThrows</code> method.</li>\n</ol>\n"}],"owner":{"account_id":387473,"reputation":18600,"user_id":745835,"accept_rate":80,"display_name":"stackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627018,"favorite_count":0,"down_vote_count":2,"up_vote_count":186,"accepted_answer_id":16243661,"answer_count":15,"score":184,"last_activity_date":1686070574,"creation_date":1367003333,"question_id":16243580,"body_markdown":"I&#39;m using mockito in a junit test. How do you make an exception happen and then assert that it has (generic pseudo-code)","title":"Mockito How to mock and assert a thrown exception?","body":"<p>I'm using mockito in a junit test. How do you make an exception happen and then assert that it has (generic pseudo-code)</p>\n"},{"tags":["java","exception","java.util.scanner"],"comments":[{"owner":{"account_id":27097249,"reputation":13,"user_id":20644326,"display_name":"Alexandru Vrincianu"},"score":0,"creation_date":1686070325,"post_id":76416718,"comment_id":134747639,"body_markdown":"Yes!! Thank you very much. It makes sense now why it wasn&#39;t working","body":"Yes!! Thank you very much. It makes sense now why it wasn&#39;t working"}],"owner":{"account_id":27097249,"reputation":13,"user_id":20644326,"display_name":"Alexandru Vrincianu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686070346,"answer_count":0,"score":0,"last_activity_date":1686070443,"creation_date":1686069314,"question_id":76416718,"body_markdown":"I have a problem with my scanner in the main method. I know that this topic has been addressed before, but everything I&#39;ve tried doesn&#39;t solve my problem. I hope you can help me.\r\n\r\n```\r\nimport java.utill.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner c = new Scanner(System.in);\r\n        Grades grade = new Grades(4, 2);\r\n\r\n\r\n        System.out.println(&quot;1 is finished&quot;);\r\n\r\n        System.out.println(&quot;2 is starting&quot;);\r\n\r\n        int n = c.nextInt();\r\n\r\n        System.out.println(&quot;2.1 is starting&quot;);\r\n\r\n        int gr;\r\n        for (int i = grade.getTotal(); i &lt; grade.getTotal() + n; i++) {\r\n            gr = c.nextInt();\r\n            grade.setGrades(gr, i, grade.getTotal() + n);\r\n        }\r\n\r\n        System.out.println(&quot;2 is finished&quot;);\r\n        System.out.println();\r\n\r\n        System.out.println(&quot;3 is starting&quot;);\r\n\r\n        for (int i = 0; i &lt; grade.getTotal(); i++) {\r\n        System.out.println(grade.getGrade(i));\r\n        }\r\n\r\n        System.out.println(&quot;3 is finished&quot;);\r\n        System.out.println();\r\n\r\n        c.close();\r\n    }\r\n\r\n\r\n}\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Grades {\r\n\r\n    public Grades(int total, int totalCurriculum) {\r\n        Scanner sc = new Scanner(System.in);\r\n    \r\n        setTotalCurriculum(totalCurriculum);\r\n        setTotal(total);\r\n    \r\n        for (int i = 0; i &lt; total; i++) {\r\n            this.grades[i] = sc.nextInt();\r\n        }\r\n    \r\n        sc.close();\r\n    }\r\n    \r\n    public void setGrades(int grade, int index, int total) {\r\n        this.grades[index] = grade;\r\n        if (index &lt; total) {\r\n            setTotal(this.total + total);\r\n        }\r\n    }\r\n    \r\n    public int getGrade(int nr) {\r\n        return grades[nr];\r\n    }\r\n    \r\n    public int getLocalAverage(int nr) {\r\n        return localAverage[nr];\r\n    }\r\n    \r\n    public float globalAverageCalc(int[] localAverage) {\r\n        int sum = 0;\r\n    \r\n        for (int i = 0; i &lt; getTotal(); i++) {\r\n            sum = sum + getGrade(i);\r\n        }\r\n    \r\n        return (float) sum / getTotalCurriculum();\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen i try to input the int value for `int n` (under `System.out.println(&quot;2 is starting&quot;);`) the error appears and the program stops.\r\n\r\nThis is the console output:\r\n\r\n```\r\n5\r\n4\r\n7\r\n9\r\n1 is finished\r\n2 is starting\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:945)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1602)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2267)\r\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2221)\r\n\tat Test.Main.main(Main.java:22)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nThank you for the help!","title":"I have a problem with the scanner in Java","body":"<p>I have a problem with my scanner in the main method. I know that this topic has been addressed before, but everything I've tried doesn't solve my problem. I hope you can help me.</p>\n<pre><code>import java.utill.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner c = new Scanner(System.in);\n        Grades grade = new Grades(4, 2);\n\n\n        System.out.println(&quot;1 is finished&quot;);\n\n        System.out.println(&quot;2 is starting&quot;);\n\n        int n = c.nextInt();\n\n        System.out.println(&quot;2.1 is starting&quot;);\n\n        int gr;\n        for (int i = grade.getTotal(); i &lt; grade.getTotal() + n; i++) {\n            gr = c.nextInt();\n            grade.setGrades(gr, i, grade.getTotal() + n);\n        }\n\n        System.out.println(&quot;2 is finished&quot;);\n        System.out.println();\n\n        System.out.println(&quot;3 is starting&quot;);\n\n        for (int i = 0; i &lt; grade.getTotal(); i++) {\n        System.out.println(grade.getGrade(i));\n        }\n\n        System.out.println(&quot;3 is finished&quot;);\n        System.out.println();\n\n        c.close();\n    }\n\n\n}\n\nimport java.util.Scanner;\n\npublic class Grades {\n\n    public Grades(int total, int totalCurriculum) {\n        Scanner sc = new Scanner(System.in);\n    \n        setTotalCurriculum(totalCurriculum);\n        setTotal(total);\n    \n        for (int i = 0; i &lt; total; i++) {\n            this.grades[i] = sc.nextInt();\n        }\n    \n        sc.close();\n    }\n    \n    public void setGrades(int grade, int index, int total) {\n        this.grades[index] = grade;\n        if (index &lt; total) {\n            setTotal(this.total + total);\n        }\n    }\n    \n    public int getGrade(int nr) {\n        return grades[nr];\n    }\n    \n    public int getLocalAverage(int nr) {\n        return localAverage[nr];\n    }\n    \n    public float globalAverageCalc(int[] localAverage) {\n        int sum = 0;\n    \n        for (int i = 0; i &lt; getTotal(); i++) {\n            sum = sum + getGrade(i);\n        }\n    \n        return (float) sum / getTotalCurriculum();\n    }\n\n}\n</code></pre>\n<p>When i try to input the int value for <code>int n</code> (under <code>System.out.println(&quot;2 is starting&quot;);</code>) the error appears and the program stops.</p>\n<p>This is the console output:</p>\n<pre><code>5\n4\n7\n9\n1 is finished\n2 is starting\nException in thread &quot;main&quot; java.util.NoSuchElementException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:945)\n    at java.base/java.util.Scanner.next(Scanner.java:1602)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2267)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2221)\n    at Test.Main.main(Main.java:22)\n\nProcess finished with exit code 1\n</code></pre>\n<p>Thank you for the help!</p>\n"},{"tags":["java","optimization","casting","numbers","boolean"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1685797776,"post_id":76396214,"comment_id":134713256,"body_markdown":"Why are you using `char`s in the first place? We could use a `boolean[][]`, `boolean[]` or - if we want to stay with the bit-juggling - an `int`.","body":"Why are you using <code>char</code>s in the first place? We could use a <code>boolean[][]</code>, <code>boolean[]</code> or - if we want to stay with the bit-juggling - an <code>int</code>."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1685798261,"post_id":76396214,"comment_id":134713309,"body_markdown":"Or a [`BitSet`](https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html).","body":"Or a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html\" rel=\"nofollow noreferrer\"><code>BitSet</code></a>."},{"owner":{"account_id":26223755,"reputation":1,"user_id":19900735,"display_name":"Shooper"},"score":0,"creation_date":1685800047,"post_id":76396214,"comment_id":134713467,"body_markdown":"@Turing85 i want to stay with the bit-juggling because I guess its faster to use bitmaps to determine if someone won. int is 32 bit but I only need 9 bits to represent the field state. and char is 16 bit so i have less always 0 bits in my memory\n\nBut yes, if booleans are stored with 1 bit in jvm, not with 1 byte as in C or on our physical machine, this would be a good optimization in memusage","body":"@Turing85 i want to stay with the bit-juggling because I guess its faster to use bitmaps to determine if someone won. int is 32 bit but I only need 9 bits to represent the field state. and char is 16 bit so i have less always 0 bits in my memory  But yes, if booleans are stored with 1 bit in jvm, not with 1 byte as in C or on our physical machine, this would be a good optimization in memusage"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1685802035,"post_id":76396214,"comment_id":134713676,"body_markdown":"You do know that, in bytecode, there is no code to load a `char` from local memory, right? Every datatype `&lt; int` (i..e `boolean`, `byte`, `short`, `char`) is handled through `iload`, `istore`, ... (array-types are the exception, there are codes to, e.g., load `boolean`s from an array).","body":"You do know that, in bytecode, there is no code to load a <code>char</code> from local memory, right? Every datatype <code>&lt; int</code> (i..e <code>boolean</code>, <code>byte</code>, <code>short</code>, <code>char</code>) is handled through <code>iload</code>, <code>istore</code>, ... (array-types are the exception, there are codes to, e.g., load <code>boolean</code>s from an array)."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1685802955,"post_id":76396214,"comment_id":134713761,"body_markdown":"Besides... if we really want to optimize, we could use a single `int` to encode both player&#39;s marks, as well as whose player&#39;s turn it is. We would use `19` out of `32` bits. But to be honest, I smell a case of premature optimization, and [&quot;*premature optimization is the root of all evil*&quot; -- Donald Ervin Knuth: *Computer Programming as an Art* (1974), p. 671](https://dl.acm.org/ft_gateway.cfm?id=361612&amp;ftid=289767)","body":"Besides... if we really want to optimize, we could use a single <code>int</code> to encode both player&#39;s marks, as well as whose player&#39;s turn it is. We would use <code>19</code> out of <code>32</code> bits. But to be honest, I smell a case of premature optimization, and <a href=\"https://dl.acm.org/ft_gateway.cfm?id=361612&amp;ftid=289767\" rel=\"nofollow noreferrer\">&quot;<i>premature optimization is the root of all evil</i>&quot; -- Donald Ervin Knuth: <i>Computer Programming as an Art</i> (1974), p. 671</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686057553,"post_id":76396214,"comment_id":134744658,"body_markdown":"@Shooper the HotSpot JVM uses a `byte` per `boolean` for arrays. If you want to use a single bit per `boolean` you have to use `BitSet` or stay with your `char`.","body":"@Shooper the HotSpot JVM uses a <code>byte</code> per <code>boolean</code> for arrays. If you want to use a single bit per <code>boolean</code> you have to use <code>BitSet</code> or stay with your <code>char</code>."}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1686070779,"post_id":76416827,"comment_id":134747740,"body_markdown":"One thing to suggest, even when done as a fun exercise is to always *test* performance before and after &quot;optimizing&quot;. This might involve reading up and learning about [how to microbenchmark in Java](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java). Otherwise there&#39;s a risk they are learning and reinforcing some wrong assumptions.","body":"One thing to suggest, even when done as a fun exercise is to always <i>test</i> performance before and after &quot;optimizing&quot;. This might involve reading up and learning about <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\">how to microbenchmark in Java</a>. Otherwise there&#39;s a risk they are learning and reinforcing some wrong assumptions."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686071329,"post_id":76416827,"comment_id":134747865,"body_markdown":"@JoachimSauer Even correct assumptions should not be memorized as eternal truths, as they may become wrong in the future. It’s also worth noting that a variant winning in a microbenchmark may still perform worse in the context of a specific application. This specific program will be dominated by the time waiting for the user, so it’s possible that the JVM’s optimizer does not do much with this code, as it doesn’t pay off. So the code may perform differently than in a benchmark loop.","body":"@JoachimSauer Even correct assumptions should not be memorized as eternal truths, as they may become wrong in the future. It’s also worth noting that a variant winning in a microbenchmark may still perform worse in the context of a specific application. This specific program will be dominated by the time waiting for the user, so it’s possible that the JVM’s optimizer does not do much with this code, as it doesn’t pay off. So the code may perform differently than in a benchmark loop."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686070338,"creation_date":1686070338,"answer_id":76416827,"question_id":76396214,"body_markdown":"As long as your code lacks correctness, i.e. the condition of `while(evaluateWinner())` is wrong and there’s no check for a draw, you should not worry about performance.\r\n\r\nLetting aside that in this simple program, performance doesn’t matter at all, you are focusing on the wrong things. You are performing string concatenation in a loop and calling `print` nine times in a row. The form of the boolean expression is entirely irrelevant. Even performing modulo 3 is more expensive here (unless the JVM’s optimizer replaces it).\r\n\r\nIf you want to continue, as a fun exercise, consider the following points:\r\n\r\n - Reduce the number of I/O operations (i.e. one `print` instead of nine)\r\n - Prefer local variables\r\n - Use the smaller integer types (`byte`, `short`, `char`) only for arrays. For most operations, especially local variables and arithmetic, they may counter the intended effect: Java actually uses `int`, but has to perform additional truncation\r\n - If you need an immutable `char[]`, use `String`. The encapsulation has no noticeable performance penalty but enables lots of potential optimizations.\r\n - If your replace `player1 &amp; 1 &lt;&lt; i` with `player1 &gt;&gt; i &amp; 1` you get zero or one, then, instead of testing against zero and conditionally using `&#39;X&#39;` or `&#39;O&#39;`, you can use it as an index into `&quot;OX&quot;`, avoiding the conditional.\r\n\r\nE.g.\r\n\r\n```java\r\npublic class TicTacToe {\r\n    static final String WIN_CONDITIONS=&quot;\\u01c0\\070\\007\\u0124\\222\\111\\u0111\\124&quot;;\r\n\r\n    final Scanner scanner = new Scanner(System.in);\r\n    int player1 = 0b000_000_000, player2 = 0b000_000_000;\r\n\r\n    boolean evaluateWinner(int current) {\r\n        for(int ix = 0; ix &lt; WIN_CONDITIONS.length(); ix++) {\r\n            char condition = WIN_CONDITIONS.charAt(ix);\r\n            if((condition == (current &amp; condition))) return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    int getInput() {\r\n        int field = player1 | player2;\r\n        for(;;) {\r\n            System.out.println(&quot;Give Input: 0 1 ... 8 &quot;);\r\n            int out = 1 &lt;&lt; scanner.nextInt();\r\n            if((out &amp; field) == 0) return out;\r\n            System.out.println(&quot;already occupied&quot;);\r\n        }\r\n    }\r\n\r\n    public void start() {\r\n      for(boolean swap = false; ; swap = !swap) {\r\n            draw();\r\n            int p = swap? player2: player1;\r\n            p |= getInput();\r\n            if(evaluateWinner(p)) {\r\n                System.out.println(swap? &quot;O wins&quot;: &quot;X wins&quot;);\r\n                break;\r\n            }\r\n            if(swap) player2 = p; else player1 = p;\r\n            if((player1 | player2) == 0x1FF) {\r\n                System.out.println(&quot;Draw&quot;);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    void draw() {\r\n        char[] chars = &quot;|0|1|2|\\n|3|4|5|\\n|6|7|8|\\n&quot;.toCharArray();\r\n        int p1 = player1, field = p1 | player2;\r\n        for(int i = 0, j = 1; i &lt; 9; j += 2)\r\n            for(int c = 0; c &lt; 3; c++, i++, j+=2)\r\n              if((field &amp; 1 &lt;&lt; i) != 0) chars[j] = &quot;OX&quot;.charAt(p1 &gt;&gt; i &amp; 1);\r\n        System.out.print(chars);\r\n    }\r\n}\r\n```\r\n\r\nAs said, you won’t notice actual performance differences with such a simple program, but it’s a fun exercise providing some ideas.","title":"How do I optimize casting number to boolean, the most efficient way, Optimizing Tic Tac Toe","body":"<p>As long as your code lacks correctness, i.e. the condition of <code>while(evaluateWinner())</code> is wrong and there’s no check for a draw, you should not worry about performance.</p>\n<p>Letting aside that in this simple program, performance doesn’t matter at all, you are focusing on the wrong things. You are performing string concatenation in a loop and calling <code>print</code> nine times in a row. The form of the boolean expression is entirely irrelevant. Even performing modulo 3 is more expensive here (unless the JVM’s optimizer replaces it).</p>\n<p>If you want to continue, as a fun exercise, consider the following points:</p>\n<ul>\n<li>Reduce the number of I/O operations (i.e. one <code>print</code> instead of nine)</li>\n<li>Prefer local variables</li>\n<li>Use the smaller integer types (<code>byte</code>, <code>short</code>, <code>char</code>) only for arrays. For most operations, especially local variables and arithmetic, they may counter the intended effect: Java actually uses <code>int</code>, but has to perform additional truncation</li>\n<li>If you need an immutable <code>char[]</code>, use <code>String</code>. The encapsulation has no noticeable performance penalty but enables lots of potential optimizations.</li>\n<li>If your replace <code>player1 &amp; 1 &lt;&lt; i</code> with <code>player1 &gt;&gt; i &amp; 1</code> you get zero or one, then, instead of testing against zero and conditionally using <code>'X'</code> or <code>'O'</code>, you can use it as an index into <code>&quot;OX&quot;</code>, avoiding the conditional.</li>\n</ul>\n<p>E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TicTacToe {\n    static final String WIN_CONDITIONS=&quot;\\u01c0\\070\\007\\u0124\\222\\111\\u0111\\124&quot;;\n\n    final Scanner scanner = new Scanner(System.in);\n    int player1 = 0b000_000_000, player2 = 0b000_000_000;\n\n    boolean evaluateWinner(int current) {\n        for(int ix = 0; ix &lt; WIN_CONDITIONS.length(); ix++) {\n            char condition = WIN_CONDITIONS.charAt(ix);\n            if((condition == (current &amp; condition))) return true;\n        }\n        return false;\n    }\n\n    int getInput() {\n        int field = player1 | player2;\n        for(;;) {\n            System.out.println(&quot;Give Input: 0 1 ... 8 &quot;);\n            int out = 1 &lt;&lt; scanner.nextInt();\n            if((out &amp; field) == 0) return out;\n            System.out.println(&quot;already occupied&quot;);\n        }\n    }\n\n    public void start() {\n      for(boolean swap = false; ; swap = !swap) {\n            draw();\n            int p = swap? player2: player1;\n            p |= getInput();\n            if(evaluateWinner(p)) {\n                System.out.println(swap? &quot;O wins&quot;: &quot;X wins&quot;);\n                break;\n            }\n            if(swap) player2 = p; else player1 = p;\n            if((player1 | player2) == 0x1FF) {\n                System.out.println(&quot;Draw&quot;);\n                break;\n            }\n        }\n    }\n\n    void draw() {\n        char[] chars = &quot;|0|1|2|\\n|3|4|5|\\n|6|7|8|\\n&quot;.toCharArray();\n        int p1 = player1, field = p1 | player2;\n        for(int i = 0, j = 1; i &lt; 9; j += 2)\n            for(int c = 0; c &lt; 3; c++, i++, j+=2)\n              if((field &amp; 1 &lt;&lt; i) != 0) chars[j] = &quot;OX&quot;.charAt(p1 &gt;&gt; i &amp; 1);\n        System.out.print(chars);\n    }\n}\n</code></pre>\n<p>As said, you won’t notice actual performance differences with such a simple program, but it’s a fun exercise providing some ideas.</p>\n"}],"owner":{"account_id":26223755,"reputation":1,"user_id":19900735,"display_name":"Shooper"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686070338,"creation_date":1685797163,"question_id":76396214,"body_markdown":"I am new to java and I am trying to optimize my code as far as possible.\r\n\r\nI want to know what is the most efficient way for the machine to convert a number, lets say int or char, to a boolean.\r\n\r\nI am implementing TicTacToe in java. I am using bitmaps to represent the state of the game.\r\nI am aware of the unreadability, but I don&#39;t want to optimize that. Code efficient \\&lt; machine efficient.\r\n\r\n```Java\r\nimport java.util.Scanner;\r\n\r\npublic class TicTacToe {\r\n    boolean swap = false;\r\n    char player1 = 0b000000000;\r\n    char player2 = 0b000000000;\r\n    static char[] winconditions = new char[]{0b111000000, 0b000111000, 0b000000111, 0b100100100, 0b010010010, 0b001001001, 0b100010001, 0b001010100};\r\n    Scanner scanner = new Scanner(System.in);\r\n\r\n    boolean evaluateWinner() {\r\n        char current = swap ? player2 : player1;\r\n        for (char condition : winconditions)\r\n            if ((condition == (current &amp; condition))) return true;\r\n        return false;\r\n    }\r\n\r\n    int getInput() {\r\n        int field = player1 | player2;\r\n        while (true) {\r\n            System.out.println(&quot;Give Input: 0 1 ... 8 &quot;);\r\n            int out = 1 &lt;&lt; scanner.nextInt();\r\n            if ((out &amp; field) == 0) return out;\r\n        }\r\n    }\r\n\r\n    public void start() {\r\n        do {\r\n            draw();\r\n            if (swap) player2 |= getInput();\r\n            else player1 |= getInput();\r\n            swap = !swap;\r\n        } while (evaluateWinner());\r\n    }\r\n\r\n    void draw() {\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            boolean isP1 = (player1 &amp; 1 &lt;&lt; i) != 0;\r\n            boolean isAny = (player2 &amp; 1 &lt;&lt; i) != 0 || isP1;\r\n            String out = isAny ? (is1 ? &quot;X&quot; : &quot;O&quot;) : String.valueOf(i);\r\n            if (i % 3 == 2) out += &quot;|\\n&quot;;\r\n            System.out.print(&quot;|&quot; + out);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCall `var game = new TicTacToe(); game.start();` to run the game.\r\n\r\nIn `TicTacToe.draw` I need to determine if a specific bit is set to 1 or 0. With a few bitwise operations I am getting a number. In C I wouldn&#39;t have to convert the number to boolean.\r\nBut in Java I have to. What is the most efficient way to do that?\r\n\r\n1. n != 0\r\n\r\n```\r\nboolean isP1 = (player1 &amp; 1 &lt;&lt; i) != 0;\r\nboolean isAny = (player2 &amp; 1 &lt;&lt; i) != 0 || isP1;\r\n```\r\n\r\n2. (boolean) n\r\n\r\n```\r\nboolean isP1 = (boolean) (player1 &amp; 1 &lt;&lt; i) ;\r\nboolean isAny = ((boolean)(player2 &amp; 1 &lt;&lt; i))|| isP1;\r\n```\r\n\r\nIs it the same or are there more efficient ways to do convert numbers to a boolean?\r\n\r\n------------------------------------------------\r\n\r\nIf you have more ideas how to optimize the code in cpu runtime and in memory usage. Let me know.\r\nI don&#39;t think there is much more I can do. But proof me wrong if you want.\r\n\r\nKind reagards\r\n: )\r\n\r\n--------------------","title":"How do I optimize casting number to boolean, the most efficient way, Optimizing Tic Tac Toe","body":"<p>I am new to java and I am trying to optimize my code as far as possible.</p>\n<p>I want to know what is the most efficient way for the machine to convert a number, lets say int or char, to a boolean.</p>\n<p>I am implementing TicTacToe in java. I am using bitmaps to represent the state of the game.\nI am aware of the unreadability, but I don't want to optimize that. Code efficient &lt; machine efficient.</p>\n<pre><code>import java.util.Scanner;\n\npublic class TicTacToe {\n    boolean swap = false;\n    char player1 = 0b000000000;\n    char player2 = 0b000000000;\n    static char[] winconditions = new char[]{0b111000000, 0b000111000, 0b000000111, 0b100100100, 0b010010010, 0b001001001, 0b100010001, 0b001010100};\n    Scanner scanner = new Scanner(System.in);\n\n    boolean evaluateWinner() {\n        char current = swap ? player2 : player1;\n        for (char condition : winconditions)\n            if ((condition == (current &amp; condition))) return true;\n        return false;\n    }\n\n    int getInput() {\n        int field = player1 | player2;\n        while (true) {\n            System.out.println(&quot;Give Input: 0 1 ... 8 &quot;);\n            int out = 1 &lt;&lt; scanner.nextInt();\n            if ((out &amp; field) == 0) return out;\n        }\n    }\n\n    public void start() {\n        do {\n            draw();\n            if (swap) player2 |= getInput();\n            else player1 |= getInput();\n            swap = !swap;\n        } while (evaluateWinner());\n    }\n\n    void draw() {\n        for (int i = 0; i &lt; 9; i++) {\n            boolean isP1 = (player1 &amp; 1 &lt;&lt; i) != 0;\n            boolean isAny = (player2 &amp; 1 &lt;&lt; i) != 0 || isP1;\n            String out = isAny ? (is1 ? &quot;X&quot; : &quot;O&quot;) : String.valueOf(i);\n            if (i % 3 == 2) out += &quot;|\\n&quot;;\n            System.out.print(&quot;|&quot; + out);\n        }\n    }\n}\n</code></pre>\n<p>Call <code>var game = new TicTacToe(); game.start();</code> to run the game.</p>\n<p>In <code>TicTacToe.draw</code> I need to determine if a specific bit is set to 1 or 0. With a few bitwise operations I am getting a number. In C I wouldn't have to convert the number to boolean.\nBut in Java I have to. What is the most efficient way to do that?</p>\n<ol>\n<li>n != 0</li>\n</ol>\n<pre><code>boolean isP1 = (player1 &amp; 1 &lt;&lt; i) != 0;\nboolean isAny = (player2 &amp; 1 &lt;&lt; i) != 0 || isP1;\n</code></pre>\n<ol start=\"2\">\n<li>(boolean) n</li>\n</ol>\n<pre><code>boolean isP1 = (boolean) (player1 &amp; 1 &lt;&lt; i) ;\nboolean isAny = ((boolean)(player2 &amp; 1 &lt;&lt; i))|| isP1;\n</code></pre>\n<p>Is it the same or are there more efficient ways to do convert numbers to a boolean?</p>\n<hr />\n<p>If you have more ideas how to optimize the code in cpu runtime and in memory usage. Let me know.\nI don't think there is much more I can do. But proof me wrong if you want.</p>\n<p>Kind reagards\n: )</p>\n<hr />\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1686048019,"post_id":76412065,"comment_id":134742618,"body_markdown":"`ThreadPoolExecutor` is not a thread. An instance of `ThreadPoolExecutor` is not a thread. The thread that calls `shutdownNow()` is the interrupting thread.","body":"<code>ThreadPoolExecutor</code> is not a thread. An instance of <code>ThreadPoolExecutor</code> is not a thread. The thread that calls <code>shutdownNow()</code> is the interrupting thread."}],"owner":{"account_id":28762452,"reputation":1,"user_id":22028051,"display_name":"Emma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686070282,"creation_date":1686033945,"question_id":76412065,"body_markdown":"I am reading Java Concurrency in practice.\r\n\r\nI have question about the content in 7.1.3: &quot;Responding to interruption&quot;.\r\n~~~\r\nCancellation can involve state other than the interruption status; interruption can be used to get the thread’s attention, and information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread. (Be sure to use synchronization when accessing that information.)\r\n\r\nFor example, when a worker thread owned by a ThreadPoolExecutor detects interruption, it checks whether the pool is being shut down. If so, it performs some pool cleanup before terminating; otherwise it may create a new thread to restore the thread pool to the desired size. \r\n~~~\r\n\r\nI cannot imagine a scenario about &quot;information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread.&quot;\r\n\r\nI think maybe `ThreadPoolExecutor` is the example, but the shutdown information is stored by `ThreadPoolExecutor` instead of the interrupting thread.\r\n\r\nCould someone provide an example of &quot;information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread&quot;?","title":"Example of &quot;information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread&quot; in JCIP","body":"<p>I am reading Java Concurrency in practice.</p>\n<p>I have question about the content in 7.1.3: &quot;Responding to interruption&quot;.</p>\n<pre><code>Cancellation can involve state other than the interruption status; interruption can be used to get the thread’s attention, and information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread. (Be sure to use synchronization when accessing that information.)\n\nFor example, when a worker thread owned by a ThreadPoolExecutor detects interruption, it checks whether the pool is being shut down. If so, it performs some pool cleanup before terminating; otherwise it may create a new thread to restore the thread pool to the desired size. \n</code></pre>\n<p>I cannot imagine a scenario about &quot;information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread.&quot;</p>\n<p>I think maybe <code>ThreadPoolExecutor</code> is the example, but the shutdown information is stored by <code>ThreadPoolExecutor</code> instead of the interrupting thread.</p>\n<p>Could someone provide an example of &quot;information stored elsewhere by the interrupting thread can be used to provide further instructions for the interrupted thread&quot;?</p>\n"},{"tags":["java","spring-mvc","junit","mockito"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":1,"creation_date":1686075930,"post_id":76416819,"comment_id":134748825,"body_markdown":"Please, add the code of the tested class (especially the place where RestTemplate is declared, e.g. a field) and the complete code of your test (especially the tested class instance with annotations, any `before` methods etc.).","body":"Please, add the code of the tested class (especially the place where RestTemplate is declared, e.g. a field) and the complete code of your test (especially the tested class instance with annotations, any <code>before</code> methods etc.)."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686101456,"post_id":76416819,"comment_id":134751948,"body_markdown":"You haven&#39;t shown how your mock is getting injected into the class you are testing. Please look at https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test","body":"You haven&#39;t shown how your mock is getting injected into the class you are testing. Please look at <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\" title=\"why are my mocked methods not called when executing a unit test\">stackoverflow.com/questions/74027324/&hellip;</a>"}],"owner":{"account_id":28220747,"reputation":1,"user_id":21571516,"display_name":"Deepak Mandlik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686070236,"creation_date":1686070236,"question_id":76416819,"body_markdown":"I&#39;m trying write unit tests for the class which has a\r\n\r\nrestTemplate.getForObject(  Url, Response.class);\r\n\r\nI&#39;ve mocked the RestTemplate in the test class still when I run test case, request hit&#39;s server and I get error\r\n\r\nrestTemplate.getForObject(configDiyUrl, BaseResponse.class);\r\n\r\nerror:\r\n\r\nI/O error on GET request for &quot;http://localhost:8080/WMService/api/v1/BulkDataSync&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\r\n\r\nI&#39;ve mocked the RestTemplate like this,\r\n\r\n```\r\n@Mock\r\nRestTemplate restTemplate\r\n```\r\n\r\nthen I&#39;ve written the when/then mocking like this,\r\n\r\n```\r\nwhen(restTemplate.getForObject(anyString(), eq(Response.class))).thenReturn(br);\r\n```\r\n\r\nstill when I run test case I get above  mentioned error.\r\n\r\nAs per my understanding it should not hit the server when it is mocked.\r\n\r\nI&#39;m looking for some help about mocking RestTemplate so that it won&#39;t hit server.\r\n\r\nI&#39;ve gone throgh [this example](https://www.baeldung.com/spring-mock-rest-template) still I&#39;m getting error as it hit&#39;s server.","title":"how to mock RestTemplate to mock it&#39;s methods","body":"<p>I'm trying write unit tests for the class which has a</p>\n<p>restTemplate.getForObject(  Url, Response.class);</p>\n<p>I've mocked the RestTemplate in the test class still when I run test case, request hit's server and I get error</p>\n<p>restTemplate.getForObject(configDiyUrl, BaseResponse.class);</p>\n<p>error:</p>\n<p>I/O error on GET request for &quot;http://localhost:8080/WMService/api/v1/BulkDataSync&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect</p>\n<p>I've mocked the RestTemplate like this,</p>\n<pre><code>@Mock\nRestTemplate restTemplate\n</code></pre>\n<p>then I've written the when/then mocking like this,</p>\n<pre><code>when(restTemplate.getForObject(anyString(), eq(Response.class))).thenReturn(br);\n</code></pre>\n<p>still when I run test case I get above  mentioned error.</p>\n<p>As per my understanding it should not hit the server when it is mocked.</p>\n<p>I'm looking for some help about mocking RestTemplate so that it won't hit server.</p>\n<p>I've gone throgh <a href=\"https://www.baeldung.com/spring-mock-rest-template\" rel=\"nofollow noreferrer\">this example</a> still I'm getting error as it hit's server.</p>\n"},{"tags":["java","google-cloud-platform","google-bigquery","apache-beam"],"comments":[{"owner":{"account_id":14783924,"reputation":217619,"user_id":10676716,"display_name":"GMB"},"score":0,"creation_date":1684933317,"post_id":76323746,"comment_id":134589742,"body_markdown":"Just `mycol timestamp default current_timestamp`. https://cloud.google.com/bigquery/docs/default-values","body":"Just <code>mycol timestamp default current_timestamp</code>. <a href=\"https://cloud.google.com/bigquery/docs/default-values\" rel=\"nofollow noreferrer\">cloud.google.com/bigquery/docs/default-values</a>"}],"answers":[{"tags":[],"owner":{"account_id":25595958,"reputation":1,"user_id":19371728,"display_name":"Poala Astrid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686007966,"creation_date":1686007966,"answer_id":76410591,"question_id":76323746,"body_markdown":"According to @GMB, you can use this line of query:\r\n```\r\nmycol timestamp default current_timestamp\r\n```\r\n\r\nPosting this answer as a Community Wiki since this is a possible workaround and for the benefit of the community that might encounter this use case in the future.","title":"Automatically Adding Current Timestamp on Row Insertion in GCP BigQuery","body":"<p>According to @GMB, you can use this line of query:</p>\n<pre><code>mycol timestamp default current_timestamp\n</code></pre>\n<p>Posting this answer as a Community Wiki since this is a possible workaround and for the benefit of the community that might encounter this use case in the future.</p>\n"}],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686070193,"creation_date":1684932679,"question_id":76323746,"body_markdown":"I am seeking advice regarding the insertion of rows in a Google Cloud Platform (GCP) BigQuery table. Specifically, I am interested in understanding if it is possible for BigQuery to automatically add the current timestamp into a dedicated column each time a new row is inserted.\r\n\r\nI am aware that I can accomplish this by generating a timestamp from my Java code and including it in the data that I&#39;m sending to BigQuery. However, I am curious to know if there&#39;s a way for BigQuery itself to handle this functionality, similar to the DEFAULT CURRENT_TIMESTAMP feature available in some SQL-based relational databases.\r\n\r\nIs there a built-in feature or SQL command in BigQuery that would allow me to do this, or would this functionality always need to be handled at the application level (in my case, Java)?","title":"Automatically Adding Current Timestamp on Row Insertion in GCP BigQuery","body":"<p>I am seeking advice regarding the insertion of rows in a Google Cloud Platform (GCP) BigQuery table. Specifically, I am interested in understanding if it is possible for BigQuery to automatically add the current timestamp into a dedicated column each time a new row is inserted.</p>\n<p>I am aware that I can accomplish this by generating a timestamp from my Java code and including it in the data that I'm sending to BigQuery. However, I am curious to know if there's a way for BigQuery itself to handle this functionality, similar to the DEFAULT CURRENT_TIMESTAMP feature available in some SQL-based relational databases.</p>\n<p>Is there a built-in feature or SQL command in BigQuery that would allow me to do this, or would this functionality always need to be handled at the application level (in my case, Java)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"score":1,"creation_date":1519207331,"post_id":35752497,"comment_id":84811285,"body_markdown":"The answer is here: https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users","body":"The answer is here: <a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\" title=\"how to set java home in linux for all users\">stackoverflow.com/questions/24641536/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2985148,"reputation":385,"user_id":2534177,"accept_rate":67,"display_name":"Soumav"},"score":0,"creation_date":1667508202,"post_id":35752607,"comment_id":131189613,"body_markdown":"In macOS Ventura, it&#39;s ~/.zprofile","body":"In macOS Ventura, it&#39;s ~/.zprofile"}],"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1456935395,"creation_date":1456935395,"answer_id":35752607,"question_id":35752497,"body_markdown":"`$JAVA_HOME` is a global variable that you typically must set yourself. \r\n\r\nIn certain (most?) platforms, installing Java will not set your `JAVA_HOME` variable. \r\n\r\nThe advantage here is that you can have multiple Java versions co-existing within one system. \r\n\r\nSince you&#39;re running on *nix system, you can do that in your own logon scripts, such as `~/.bashrc` or `~/.bash_profile`, etc. ","title":"echo $JAVA_HOME returns nothing","body":"<p><code>$JAVA_HOME</code> is a global variable that you typically must set yourself. </p>\n\n<p>In certain (most?) platforms, installing Java will not set your <code>JAVA_HOME</code> variable. </p>\n\n<p>The advantage here is that you can have multiple Java versions co-existing within one system. </p>\n\n<p>Since you're running on *nix system, you can do that in your own logon scripts, such as <code>~/.bashrc</code> or <code>~/.bash_profile</code>, etc. </p>\n"},{"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1456977390,"post_id":35752657,"comment_id":59198608,"body_markdown":"I think JAVA_HOME should be till the java folder not java/bin","body":"I think JAVA_HOME should be till the java folder not java/bin"}],"tags":[],"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1457015895,"creation_date":1456935489,"answer_id":35752657,"question_id":35752497,"body_markdown":"set it first?\r\n\r\n    export JAVA_HOME=/usr/bin/java\r\n\r\nSee more here:\r\n\r\nhttps://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users","title":"echo $JAVA_HOME returns nothing","body":"<p>set it first?</p>\n\n<pre><code>export JAVA_HOME=/usr/bin/java\n</code></pre>\n\n<p>See more here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\">How to set JAVA_HOME in Linux for all users</a></p>\n"},{"comments":[{"owner":{"account_id":3292970,"reputation":841,"user_id":2770840,"accept_rate":69,"display_name":"Longblog"},"score":1,"creation_date":1568823826,"post_id":49778178,"comment_id":102400613,"body_markdown":"Excellent answer. I know the original poster didn&#39;t mark your answer as correct, but the detailed instructions worked for me. Thank you.","body":"Excellent answer. I know the original poster didn&#39;t mark your answer as correct, but the detailed instructions worked for me. Thank you."},{"owner":{"account_id":16765025,"reputation":1190,"user_id":12118888,"display_name":"Payel Senapati"},"score":1,"creation_date":1606504566,"post_id":49778178,"comment_id":114989460,"body_markdown":"does not work, https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users has the correct answer","body":"does not work, <a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users\" title=\"how to set java home in linux for all users\">stackoverflow.com/questions/24641536/&hellip;</a> has the correct answer"},{"owner":{"account_id":194924,"reputation":113,"user_id":437529,"display_name":"JeremyP"},"score":1,"creation_date":1682081026,"post_id":49778178,"comment_id":134163630,"body_markdown":"Upon reboot, the /etc/environment variables are NOT loaded. This is not a workable solution.","body":"Upon reboot, the /etc/environment variables are NOT loaded. This is not a workable solution."}],"tags":[],"owner":{"account_id":8387630,"reputation":488,"user_id":6297483,"display_name":"Sahil Khurana"},"comment_count":3,"down_vote_count":2,"up_vote_count":48,"is_accepted":false,"score":46,"last_activity_date":1523458066,"creation_date":1523458066,"answer_id":49778178,"question_id":35752497,"body_markdown":"You need to set the $JAVA_HOME variable\r\n\r\n**In my case while setting up Maven, I had to set it up to where JDK is installed.**\r\n\r\nFirst find out where JAVA is installed: \r\n\r\n    $ whereis java\r\n    java: /usr/bin/java /usr/share/java /usr/share/man/man1/java.1.gz\r\n\r\nNow dig deeper- \r\n\r\n    $ ls -l /usr/bin/java\r\n    lrwxrwxrwx 1 root root 46 Aug 25  2016 /etc/alternatives/java -&gt; /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n\r\nDig deeper: \r\n\r\n    $ ls -l /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n    -rwxr-xr-x 1 root root 6464 Mar 14 18:28 /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n\r\nAs it is not being referenced to any other directory, we&#39;ll use this.\r\n\r\nOpen /etc/environment using nano\r\n\r\n`$ sudo nano /etc/environment`\r\n\r\nAppend the following lines\r\n\r\n    JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64\r\n    export JAVA_HOME\r\n\r\nReload PATH using `$ . /etc/environment`\r\n\r\nNow,\r\n`$ echo $JAVA_HOME`\r\n\r\nHere is your output:\r\n\r\n`/usr/lib/jvm/java-1.8.0-openjdk-amd64`\r\n\r\nSources I referred to:\r\n\r\nhttps://askubuntu.com/a/175519\r\n\r\nhttps://stackoverflow.com/a/23427862/6297483\r\n\r\n","title":"echo $JAVA_HOME returns nothing","body":"<p>You need to set the $JAVA_HOME variable</p>\n\n<p><strong>In my case while setting up Maven, I had to set it up to where JDK is installed.</strong></p>\n\n<p>First find out where JAVA is installed: </p>\n\n<pre><code>$ whereis java\njava: /usr/bin/java /usr/share/java /usr/share/man/man1/java.1.gz\n</code></pre>\n\n<p>Now dig deeper- </p>\n\n<pre><code>$ ls -l /usr/bin/java\nlrwxrwxrwx 1 root root 46 Aug 25  2016 /etc/alternatives/java -&gt; /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\n</code></pre>\n\n<p>Dig deeper: </p>\n\n<pre><code>$ ls -l /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\n-rwxr-xr-x 1 root root 6464 Mar 14 18:28 /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\n</code></pre>\n\n<p>As it is not being referenced to any other directory, we'll use this.</p>\n\n<p>Open /etc/environment using nano</p>\n\n<p><code>$ sudo nano /etc/environment</code></p>\n\n<p>Append the following lines</p>\n\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64\nexport JAVA_HOME\n</code></pre>\n\n<p>Reload PATH using <code>$ . /etc/environment</code></p>\n\n<p>Now,\n<code>$ echo $JAVA_HOME</code></p>\n\n<p>Here is your output:</p>\n\n<p><code>/usr/lib/jvm/java-1.8.0-openjdk-amd64</code></p>\n\n<p>Sources I referred to:</p>\n\n<p><a href=\"https://askubuntu.com/a/175519\">https://askubuntu.com/a/175519</a></p>\n\n<p><a href=\"https://stackoverflow.com/a/23427862/6297483\">https://stackoverflow.com/a/23427862/6297483</a></p>\n"},{"comments":[{"owner":{"account_id":2985148,"reputation":385,"user_id":2534177,"accept_rate":67,"display_name":"Soumav"},"score":0,"creation_date":1667508219,"post_id":58512131,"comment_id":131189617,"body_markdown":"In macOS Ventura, it&#39;s ~/.zprofile","body":"In macOS Ventura, it&#39;s ~/.zprofile"}],"tags":[],"owner":{"account_id":10312554,"reputation":301,"user_id":7607873,"display_name":"Thiago Farias"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571777382,"creation_date":1571777382,"answer_id":58512131,"question_id":35752497,"body_markdown":"1.\tOpen your terminal, and open your .bash_profile file by executing:\r\n\r\n    nano ~/.bash_profile\r\n\r\n(If it is the first time, it should be empty)\r\n2.\tAd an echo message just to see a greeting message by pasting \r\n\r\n    echo &quot;Hello, Your Bash Profile Is Running…&quot; \r\n\r\nType: ctrl + x  to exit from nano\r\nType:  Y           to save change and press enter \r\n\r\n3.\tIn order to get the message to appear every time we open a terminal execute:\r\n    source ~/.bash_profile\r\n4.\tIn the file ~/.bash_profile, set the $JAVA_HOME environment variable by adding the\r\nfollowing to the end of the file:\r\n\r\n    export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk13.jdk/Contents/Home&quot;\r\n    export PATH=&quot;$JAVA_HOME/bin:$PATH&quot;\r\n\r\nType: ctrl + x  to exit from nano\r\nType:  Y           to save change and press enter \r\n\r\n5.\tClose and reopen your terminal to update the environment variables.\r\n\r\n6.\tVerify JAVA_HOME by executing echo $JAVA_HOME.\r\n\r\nSource: https://www.youtube.com/watch?v=0gceUrMnjzo\r\n\r\n","title":"echo $JAVA_HOME returns nothing","body":"<ol>\n<li><p>Open your terminal, and open your .bash_profile file by executing:</p>\n\n<p>nano ~/.bash_profile</p></li>\n</ol>\n\n<p>(If it is the first time, it should be empty)\n2.  Ad an echo message just to see a greeting message by pasting </p>\n\n<pre><code>echo \"Hello, Your Bash Profile Is Running…\" \n</code></pre>\n\n<p>Type: ctrl + x  to exit from nano\nType:  Y           to save change and press enter </p>\n\n<ol start=\"3\">\n<li>In order to get the message to appear every time we open a terminal execute:\nsource ~/.bash_profile</li>\n<li><p>In the file ~/.bash_profile, set the $JAVA_HOME environment variable by adding the\nfollowing to the end of the file:</p>\n\n<p>export JAVA_HOME=\"/Library/Java/JavaVirtualMachines/jdk13.jdk/Contents/Home\"\nexport PATH=\"$JAVA_HOME/bin:$PATH\"</p></li>\n</ol>\n\n<p>Type: ctrl + x  to exit from nano\nType:  Y           to save change and press enter </p>\n\n<ol start=\"5\">\n<li><p>Close and reopen your terminal to update the environment variables.</p></li>\n<li><p>Verify JAVA_HOME by executing echo $JAVA_HOME.</p></li>\n</ol>\n\n<p>Source: <a href=\"https://www.youtube.com/watch?v=0gceUrMnjzo\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=0gceUrMnjzo</a></p>\n"},{"tags":[],"owner":{"account_id":6257966,"reputation":1846,"user_id":6585238,"accept_rate":100,"display_name":"nanquim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579872058,"creation_date":1579872058,"answer_id":59897294,"question_id":35752497,"body_markdown":"What solved to me, using Ubuntu 18, was removing java from /etc/profile\r\n\r\nSo, export JAVA_HOME=/usr/bin","title":"echo $JAVA_HOME returns nothing","body":"<p>What solved to me, using Ubuntu 18, was removing java from /etc/profile</p>\n\n<p>So, export JAVA_HOME=/usr/bin</p>\n"},{"tags":[],"owner":{"account_id":4919836,"reputation":237,"user_id":3962688,"accept_rate":25,"display_name":"Ilham Safeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592852039,"creation_date":1592852039,"answer_id":62521542,"question_id":35752497,"body_markdown":"If you are using latest versions of OS, then you cannot use ~/.bash_profile to export your environment variable since bash shell is deprecated in the latest version of OS. \r\n\r\nThis answer may give you the exact solution:[https://stackoverflow.com/a/62192114/3962688][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62192114/3962688","title":"echo $JAVA_HOME returns nothing","body":"<p>If you are using latest versions of OS, then you cannot use ~/.bash_profile to export your environment variable since bash shell is deprecated in the latest version of OS.</p>\n<p>This answer may give you the exact solution:<a href=\"https://stackoverflow.com/a/62192114/3962688\">https://stackoverflow.com/a/62192114/3962688</a></p>\n"},{"comments":[{"owner":{"account_id":2985148,"reputation":385,"user_id":2534177,"accept_rate":67,"display_name":"Soumav"},"score":0,"creation_date":1667508228,"post_id":69709809,"comment_id":131189622,"body_markdown":"In macOS Ventura, it&#39;s ~/.zprofile","body":"In macOS Ventura, it&#39;s ~/.zprofile"},{"owner":{"account_id":13471275,"reputation":890,"user_id":9719695,"display_name":"Wai Han Ko"},"score":0,"creation_date":1701504714,"post_id":69709809,"comment_id":136786218,"body_markdown":"It worked, Thanks !","body":"It worked, Thanks !"}],"tags":[],"owner":{"account_id":4722999,"reputation":593,"user_id":3820418,"display_name":"Jlearner"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635329163,"creation_date":1635172030,"answer_id":69709809,"question_id":35752497,"body_markdown":"If the terminal is `zsh` and not `bash` then we need to set JAVA_HOME in either of these files `~/.zshenv` or `~/.zshrc` [more details about zsh terminal here][1]\r\n\r\nsteps:\r\n\r\n - run this command in the terminal `open ~/.zshrc`\r\n - in the zshrc file append java_home path (refer below two lines)\r\n- `export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk-x.x.x.jdk/Contents/Home&quot;`\r\n- `export PATH=&quot;$JAVA_HOME/bin:$PATH&quot;}`\r\n- re-launch zsh terminal\r\n- In the zsh terminal run this command `echo $JAVA_HOME`\r\n\r\n\r\n  [1]: https://sourabhbajaj.com/mac-setup/iTerm/zsh.html","title":"echo $JAVA_HOME returns nothing","body":"<p>If the terminal is <code>zsh</code> and not <code>bash</code> then we need to set JAVA_HOME in either of these files <code>~/.zshenv</code> or <code>~/.zshrc</code> <a href=\"https://sourabhbajaj.com/mac-setup/iTerm/zsh.html\" rel=\"nofollow noreferrer\">more details about zsh terminal here</a></p>\n<p>steps:</p>\n<ul>\n<li>run this command in the terminal <code>open ~/.zshrc</code></li>\n<li>in the zshrc file append java_home path (refer below two lines)</li>\n<li><code>export JAVA_HOME=&quot;/Library/Java/JavaVirtualMachines/jdk-x.x.x.jdk/Contents/Home&quot;</code></li>\n<li><code>export PATH=&quot;$JAVA_HOME/bin:$PATH&quot;}</code></li>\n<li>re-launch zsh terminal</li>\n<li>In the zsh terminal run this command <code>echo $JAVA_HOME</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3922559,"reputation":131,"user_id":3244248,"display_name":"kpgan8204"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686070139,"creation_date":1686070139,"answer_id":76416805,"question_id":35752497,"body_markdown":"after saving JAVA_HOME in enviroment file \r\n\r\n$ source /etc/environment \r\n$ echo  $JAVA_HOME\r\n\r\nthis worked for me\r\n","title":"echo $JAVA_HOME returns nothing","body":"<p>after saving JAVA_HOME in enviroment file</p>\n<p>$ source /etc/environment\n$ echo  $JAVA_HOME</p>\n<p>this worked for me</p>\n"}],"owner":{"account_id":267200,"reputation":27145,"user_id":555222,"accept_rate":76,"display_name":"clarkk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51330,"favorite_count":0,"down_vote_count":1,"up_vote_count":26,"answer_count":8,"score":25,"last_activity_date":1686070139,"creation_date":1456935149,"question_id":35752497,"body_markdown":"How to get the java home dir?\r\n\r\nWhen doing this\r\n\r\n    echo $JAVA_HOME\r\n\r\nNothing is returned\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/d3s66.png","title":"echo $JAVA_HOME returns nothing","body":"<p>How to get the java home dir?</p>\n\n<p>When doing this</p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n\n<p>Nothing is returned</p>\n\n<p><a href=\"https://i.stack.imgur.com/d3s66.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/d3s66.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android-studio","kotlin"],"owner":{"account_id":28725324,"reputation":1,"user_id":21998236,"display_name":"Muhammad usman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686069754,"creation_date":1686069754,"question_id":76416766,"body_markdown":"whenever i try to build my android studio project it throw these errors\r\n\r\n**Error 1**\r\n```2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:gpuv2:compileReleaseJavaWithJavac&#39;.\r\n&gt; Failed to calculate the value of task &#39;:gpuv2:compileReleaseJavaWithJavac&#39; property &#39;options.generatedSourceOutputDirectory&#39;.\r\n   &gt; Querying the mapped value of map(java.io.File property(org.gradle.api.file.Directory, fixed(class org.gradle.api.internal.file.DefaultFilePropertyFactory$FixedDirectory, G:\\1 New apps\\codecanyon-WMgBo0f2-video-maker-editor-photo-slideshow-allinone\\videomaker\\gpuv2\\build\\generated\\ap_generated_sources\\release\\out)) org.gradle.api.internal.file.DefaultFilePropertyFactory$ToFileTransformer@7b2f9d5) before task &#39;:gpuv2:compileReleaseJavaWithJavac&#39; has completed is not supported`\r\n```\r\n\r\n**Error 2**\r\n```java.lang.IllegalAccessError: class org.jetbrains.kotlin.com.intellij.util.io.FileChannelUtil (in unnamed module @0x5876a9af) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x5876a9af```\r\n\r\n***Error 3***\r\n```\r\nCreateProcess error=206, The filename or extension is too long\r\n```\r\n\r\n\r\ni searched on google but didn&#39;t find any solution","title":"What could be the cause of the error message &quot;Caused by: java.lang.IllegalAccessError: class org.jetbrains.kotlin.com.intellij.util.io.FileChannelUtil","body":"<p>whenever i try to build my android studio project it throw these errors</p>\n<p><strong>Error 1</strong></p>\n<pre><code>-----------\n* What went wrong:\nExecution failed for task ':gpuv2:compileReleaseJavaWithJavac'.\n&gt; Failed to calculate the value of task ':gpuv2:compileReleaseJavaWithJavac' property 'options.generatedSourceOutputDirectory'.\n   &gt; Querying the mapped value of map(java.io.File property(org.gradle.api.file.Directory, fixed(class org.gradle.api.internal.file.DefaultFilePropertyFactory$FixedDirectory, G:\\1 New apps\\codecanyon-WMgBo0f2-video-maker-editor-photo-slideshow-allinone\\videomaker\\gpuv2\\build\\generated\\ap_generated_sources\\release\\out)) org.gradle.api.internal.file.DefaultFilePropertyFactory$ToFileTransformer@7b2f9d5) before task ':gpuv2:compileReleaseJavaWithJavac' has completed is not supported`\n</code></pre>\n<p><strong>Error 2</strong>\n<code>java.lang.IllegalAccessError: class org.jetbrains.kotlin.com.intellij.util.io.FileChannelUtil (in unnamed module @0x5876a9af) cannot access class sun.nio.ch.FileChannelImpl (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x5876a9af</code></p>\n<p><em><strong>Error 3</strong></em></p>\n<pre><code>CreateProcess error=206, The filename or extension is too long\n</code></pre>\n<p>i searched on google but didn't find any solution</p>\n"},{"tags":["java","sorting","insertion-sort"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1685896154,"post_id":76401347,"comment_id":134721821,"body_markdown":"You&#39;re printing the same list (the same variable, even) twice. Why would you expect different results?","body":"You&#39;re printing the same list (the same variable, even) twice. Why would you expect different results?"},{"owner":{"account_id":21892257,"reputation":1,"user_id":16179072,"display_name":"williamj987"},"score":0,"creation_date":1686078711,"post_id":76401347,"comment_id":134749316,"body_markdown":"I got mixed up and had a tough time trying to print the list based on the compare interface.","body":"I got mixed up and had a tough time trying to print the list based on the compare interface."}],"answers":[{"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1685896331,"post_id":76401381,"comment_id":134721844,"body_markdown":"Don&#39;t put Java code in a Stack Snippet; it doesn&#39;t work.","body":"Don&#39;t put Java code in a Stack Snippet; it doesn&#39;t work."},{"owner":{"account_id":21892257,"reputation":1,"user_id":16179072,"display_name":"williamj987"},"score":0,"creation_date":1686078252,"post_id":76401381,"comment_id":134749248,"body_markdown":"I was able to figure it out, I still appreciate the feedback.","body":"I was able to figure it out, I still appreciate the feedback."}],"tags":[],"owner":{"account_id":20955698,"reputation":684,"user_id":15396268,"display_name":"Wahlstrommm"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686069624,"creation_date":1685896119,"answer_id":76401381,"question_id":76401347,"body_markdown":"The problem is that you are printing the **same** list object for both the `original` and `sorted lists`. \r\n\r\nSo when you modify the list during the sorting process the modifications are reflected in both the original and sorted list outputs.\r\n\r\nSo you can create a separate copy of the list before sorting it and then print the copy as the orignal list.\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n\r\n    public class InsertionSort&lt;E extends Comparable&lt;E&gt;&gt; {\r\n\r\n        public void insertionSort(ArrayList&lt;E&gt; list) {\r\n            int n = list.size();\r\n            for (int i = 1; i &lt; n; i++) {\r\n                E key = list.get(i);\r\n                int j = i - 1;\r\n                while (j &gt;= 0 &amp;&amp; list.get(j).compareTo(key) &gt; 0) {\r\n                    list.set(j + 1, list.get(j));\r\n                    j--;\r\n                }\r\n                list.set(j + 1, key);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            int[] test1 = {3, 5, 2, 4, 1, 8, 7, 6, 9};\r\n            double[] test2 = {1.99, 2.05, 9.01, 6.49, 3.14, 5.55};\r\n            char[] test3 = &quot;algorithm&quot;.toCharArray();\r\n\r\n            ArrayList&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\r\n            for (int num : test1) {\r\n                list1.add(num);\r\n            }\r\n            InsertionSort&lt;Integer&gt; integerSorter = new InsertionSort&lt;&gt;();\r\n            ArrayList&lt;Integer&gt; list1Copy = new ArrayList&lt;&gt;(list1); // Create a copy of the original list\r\n            integerSorter.insertionSort(list1);\r\n            System.out.println(&quot;Test Example 1&quot;);\r\n            System.out.println(&quot;Original List: &quot; + list1Copy);\r\n            System.out.println(&quot;Sorted List: &quot; + list1);\r\n\r\n            ArrayList&lt;Double&gt; list2 = new ArrayList&lt;&gt;();\r\n            for (double num : test2) {\r\n                list2.add(num);\r\n            }\r\n            InsertionSort&lt;Double&gt; doubleSorter = new InsertionSort&lt;&gt;();\r\n            ArrayList&lt;Double&gt; list2Copy = new ArrayList&lt;&gt;(list2); // Create a copy of the original list\r\n            doubleSorter.insertionSort(list2);\r\n            System.out.println(&quot;\\nTest Example 2&quot;);\r\n            System.out.println(&quot;Original List: &quot; + list2Copy);\r\n            System.out.println(&quot;Sorted List: &quot; + list2);\r\n\r\n            ArrayList&lt;Character&gt; list3 = new ArrayList&lt;&gt;();\r\n            for (char ch : test3) {\r\n                list3.add(ch);\r\n            }\r\n            InsertionSort&lt;Character&gt; charSorter = new InsertionSort&lt;&gt;();\r\n            ArrayList&lt;Character&gt; list3Copy = new ArrayList&lt;&gt;(list3); // Create a copy of the original list\r\n            charSorter.insertionSort(list3);\r\n            System.out.println(&quot;\\nTest Example 3&quot;);\r\n            System.out.println(&quot;Original List: &quot; + list3Copy);\r\n            System.out.println(&quot;Sorted List: &quot; + list3);\r\n        }\r\n    }\r\n\r\n\r\nSo by creating separate copies of the original lists (`list1Copy`, `list2Copy`, `list3Copy`).\r\n\r\nYou can print them as the original lists before sorting, while the original lists (`list1`, `list2`, `list3`) are modified during the sorting process.\r\n\r\n","title":"Original list to sorted list","body":"<p>The problem is that you are printing the <strong>same</strong> list object for both the <code>original</code> and <code>sorted lists</code>.</p>\n<p>So when you modify the list during the sorting process the modifications are reflected in both the original and sorted list outputs.</p>\n<p>So you can create a separate copy of the list before sorting it and then print the copy as the orignal list.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class InsertionSort&lt;E extends Comparable&lt;E&gt;&gt; {\n\n    public void insertionSort(ArrayList&lt;E&gt; list) {\n        int n = list.size();\n        for (int i = 1; i &lt; n; i++) {\n            E key = list.get(i);\n            int j = i - 1;\n            while (j &gt;= 0 &amp;&amp; list.get(j).compareTo(key) &gt; 0) {\n                list.set(j + 1, list.get(j));\n                j--;\n            }\n            list.set(j + 1, key);\n        }\n    }\n\n    public static void main(String[] args) {\n        int[] test1 = {3, 5, 2, 4, 1, 8, 7, 6, 9};\n        double[] test2 = {1.99, 2.05, 9.01, 6.49, 3.14, 5.55};\n        char[] test3 = &quot;algorithm&quot;.toCharArray();\n\n        ArrayList&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\n        for (int num : test1) {\n            list1.add(num);\n        }\n        InsertionSort&lt;Integer&gt; integerSorter = new InsertionSort&lt;&gt;();\n        ArrayList&lt;Integer&gt; list1Copy = new ArrayList&lt;&gt;(list1); // Create a copy of the original list\n        integerSorter.insertionSort(list1);\n        System.out.println(&quot;Test Example 1&quot;);\n        System.out.println(&quot;Original List: &quot; + list1Copy);\n        System.out.println(&quot;Sorted List: &quot; + list1);\n\n        ArrayList&lt;Double&gt; list2 = new ArrayList&lt;&gt;();\n        for (double num : test2) {\n            list2.add(num);\n        }\n        InsertionSort&lt;Double&gt; doubleSorter = new InsertionSort&lt;&gt;();\n        ArrayList&lt;Double&gt; list2Copy = new ArrayList&lt;&gt;(list2); // Create a copy of the original list\n        doubleSorter.insertionSort(list2);\n        System.out.println(&quot;\\nTest Example 2&quot;);\n        System.out.println(&quot;Original List: &quot; + list2Copy);\n        System.out.println(&quot;Sorted List: &quot; + list2);\n\n        ArrayList&lt;Character&gt; list3 = new ArrayList&lt;&gt;();\n        for (char ch : test3) {\n            list3.add(ch);\n        }\n        InsertionSort&lt;Character&gt; charSorter = new InsertionSort&lt;&gt;();\n        ArrayList&lt;Character&gt; list3Copy = new ArrayList&lt;&gt;(list3); // Create a copy of the original list\n        charSorter.insertionSort(list3);\n        System.out.println(&quot;\\nTest Example 3&quot;);\n        System.out.println(&quot;Original List: &quot; + list3Copy);\n        System.out.println(&quot;Sorted List: &quot; + list3);\n    }\n}\n</code></pre>\n<p>So by creating separate copies of the original lists (<code>list1Copy</code>, <code>list2Copy</code>, <code>list3Copy</code>).</p>\n<p>You can print them as the original lists before sorting, while the original lists (<code>list1</code>, <code>list2</code>, <code>list3</code>) are modified during the sorting process.</p>\n"},{"tags":[],"owner":{"account_id":16876016,"reputation":21,"user_id":15387642,"display_name":"Vishal Kriplani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685896413,"creation_date":1685896413,"answer_id":76401399,"question_id":76401347,"body_markdown":"You are using same list to print the original list and sorted list.\r\nSo you created **list1** as original list.\r\nAfter that you sorted **list1**.\r\nNow **list1** contains the sorted items. It no longer contains the original order of items.\r\nNow you are printing the **list1** as original and sorted but they are the same in the end.\r\n\r\n```\r\nSystem.out.println(&quot;Original List: &quot; + list1);\r\nSystem.out.println(&quot;Sorted List: &quot; + list1);\r\n```\r\n\r\n","title":"Original list to sorted list","body":"<p>You are using same list to print the original list and sorted list.\nSo you created <strong>list1</strong> as original list.\nAfter that you sorted <strong>list1</strong>.\nNow <strong>list1</strong> contains the sorted items. It no longer contains the original order of items.\nNow you are printing the <strong>list1</strong> as original and sorted but they are the same in the end.</p>\n<pre><code>System.out.println(&quot;Original List: &quot; + list1);\nSystem.out.println(&quot;Sorted List: &quot; + list1);\n</code></pre>\n"}],"owner":{"account_id":21892257,"reputation":1,"user_id":16179072,"display_name":"williamj987"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76401381,"answer_count":2,"score":-1,"last_activity_date":1686069624,"creation_date":1685895545,"question_id":76401347,"body_markdown":"So I was trying to practice implementing the insertion sort algorithm using the integer, double, and character values, I was able to sort my list but my original list is displaying me the wrong result. Supposed to display the  data values from test1, test2, test3 in my code. Can anyone show me what am I missing because I have been stuck for quite sometime?\r\n```\r\nimport java.util.ArrayList;\r\npublic class InsertionSort&lt;E extends Comparable&lt;E&gt;&gt; {\r\n  \r\n    public void insertionSort(ArrayList&lt;E&gt; list) {\r\nint n = list.size();\r\n        for (int i = 1; i &lt; n; i++) {\r\n            E key = list.get(i);\r\n            int j = i - 1;\r\n            while (j &gt;= 0 &amp;&amp; list.get(j).compareTo(key) &gt; 0) {\r\n                list.set(j + 1, list.get(j));\r\n                j--;\r\n            }\r\n            list.set(j + 1, key);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] test1 = {3, 5, 2, 4, 1, 8, 7, 6, 9};\r\n        double[] test2 = {1.99, 2.05, 9.01, 6.49, 3.14, 5.55};\r\n        char[] test3 =  &quot;algorithm&quot;.toCharArray();\r\nArrayList&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\r\n        for (int num : test1) {\r\n            list1.add(num);\r\n        }\r\n        InsertionSort&lt;Integer&gt; integerSorter = new InsertionSort&lt;&gt;();\r\n        integerSorter.insertionSort(list1);\r\n        System.out.println(&quot;Test Example 1&quot;);\r\n        System.out.println(&quot;Original List: &quot; + list1);\r\n        System.out.println(&quot;Sorted List: &quot; + list1);\r\n  \r\n    ArrayList&lt;Double&gt; list2 = new ArrayList&lt;&gt;();\r\n        for (double num : test2) {\r\n            list2.add(num);\r\n        }\r\n        InsertionSort&lt;Double&gt; doubleSorter = new InsertionSort&lt;&gt;();\r\n        doubleSorter.insertionSort(list2);\r\n        System.out.println(&quot;\\nTest Example 2&quot;);\r\n        System.out.println(&quot;Original List: &quot; + list2);\r\n        System.out.println(&quot;Sorted List: &quot; + list2);\r\n\r\n        ArrayList&lt;Character&gt; list3 = new ArrayList&lt;&gt;();\r\n        for (char ch : test3) {\r\n            list3.add(ch);\r\n        }\r\n        InsertionSort&lt;Character&gt; charSorter = new InsertionSort&lt;&gt;();\r\n        charSorter.insertionSort(list3);\r\n        System.out.println(&quot;\\nTest Example 3&quot;);\r\n        System.out.println(&quot;Original List: &quot; + list3);\r\n        System.out.println(&quot;Sorted List: &quot; + list3);\r\n \r\n    }\r\n}\r\n```","title":"Original list to sorted list","body":"<p>So I was trying to practice implementing the insertion sort algorithm using the integer, double, and character values, I was able to sort my list but my original list is displaying me the wrong result. Supposed to display the  data values from test1, test2, test3 in my code. Can anyone show me what am I missing because I have been stuck for quite sometime?</p>\n<pre><code>import java.util.ArrayList;\npublic class InsertionSort&lt;E extends Comparable&lt;E&gt;&gt; {\n  \n    public void insertionSort(ArrayList&lt;E&gt; list) {\nint n = list.size();\n        for (int i = 1; i &lt; n; i++) {\n            E key = list.get(i);\n            int j = i - 1;\n            while (j &gt;= 0 &amp;&amp; list.get(j).compareTo(key) &gt; 0) {\n                list.set(j + 1, list.get(j));\n                j--;\n            }\n            list.set(j + 1, key);\n        }\n    }\n\n    public static void main(String[] args) {\n        int[] test1 = {3, 5, 2, 4, 1, 8, 7, 6, 9};\n        double[] test2 = {1.99, 2.05, 9.01, 6.49, 3.14, 5.55};\n        char[] test3 =  &quot;algorithm&quot;.toCharArray();\nArrayList&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\n        for (int num : test1) {\n            list1.add(num);\n        }\n        InsertionSort&lt;Integer&gt; integerSorter = new InsertionSort&lt;&gt;();\n        integerSorter.insertionSort(list1);\n        System.out.println(&quot;Test Example 1&quot;);\n        System.out.println(&quot;Original List: &quot; + list1);\n        System.out.println(&quot;Sorted List: &quot; + list1);\n  \n    ArrayList&lt;Double&gt; list2 = new ArrayList&lt;&gt;();\n        for (double num : test2) {\n            list2.add(num);\n        }\n        InsertionSort&lt;Double&gt; doubleSorter = new InsertionSort&lt;&gt;();\n        doubleSorter.insertionSort(list2);\n        System.out.println(&quot;\\nTest Example 2&quot;);\n        System.out.println(&quot;Original List: &quot; + list2);\n        System.out.println(&quot;Sorted List: &quot; + list2);\n\n        ArrayList&lt;Character&gt; list3 = new ArrayList&lt;&gt;();\n        for (char ch : test3) {\n            list3.add(ch);\n        }\n        InsertionSort&lt;Character&gt; charSorter = new InsertionSort&lt;&gt;();\n        charSorter.insertionSort(list3);\n        System.out.println(&quot;\\nTest Example 3&quot;);\n        System.out.println(&quot;Original List: &quot; + list3);\n        System.out.println(&quot;Sorted List: &quot; + list3);\n \n    }\n}\n</code></pre>\n"},{"tags":["java","debugging","jnlp","java-web-start"],"answers":[{"comments":[{"owner":{"account_id":237034,"reputation":1208,"user_id":504921,"accept_rate":67,"display_name":"Joaquim Oliveira"},"score":1,"creation_date":1400011908,"post_id":686181,"comment_id":36304335,"body_markdown":"Just a note: using Ubuntu 10.04 and 12.04 and webstart 6.0, it only worked after I set **server=y** parameter. Otherwise, I got the error `ERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)`, even if the port was not in use.","body":"Just a note: using Ubuntu 10.04 and 12.04 and webstart 6.0, it only worked after I set <b>server=y</b> parameter. Otherwise, I got the error <code>ERROR: JDWP Transport dt_socket failed to initialize, TRANSPORT_INIT(510)</code>, even if the port was not in use."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1535680026,"post_id":686181,"comment_id":91165682,"body_markdown":"This answer doesn&#39;t work for me (for the same reason as another) because the command `javaws` will open the debugger on the specified port then launch another JVM, which will try to do the same. The end result is &quot;address already in use&quot; and the JVM exits.","body":"This answer doesn&#39;t work for me (for the same reason as another) because the command <code>javaws</code> will open the debugger on the specified port then launch another JVM, which will try to do the same. The end result is &quot;address already in use&quot; and the JVM exits."}],"tags":[],"owner":{"account_id":21808,"reputation":10725,"user_id":2660952,"accept_rate":76,"display_name":"Kai Huppmann"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1432309931,"creation_date":1238079977,"answer_id":686181,"question_id":686061,"body_markdown":"It&#39;s quite the same like with any other Java process you want to debug remotely: You have to set up some arguments for the VM (&lt;code&gt;-Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,server=n,suspend=y,address=12345\r\n&lt;/code&gt;) and then connect to the given port. In Java webstart 6.0 this can be done with the -J option, in earlier version via environment variable  JAVAWS_VM_ARGS. See details [here][1].\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/guide/javaws/developersguide/troubleshooting.03.06.html","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>It's quite the same like with any other Java process you want to debug remotely: You have to set up some arguments for the VM (<code>-Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,server=n,suspend=y,address=12345\n</code>) and then connect to the given port. In Java webstart 6.0 this can be done with the -J option, in earlier version via environment variable  JAVAWS_VM_ARGS. See details <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/javaws/developersguide/troubleshooting.03.06.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":945079,"reputation":2425,"user_id":972463,"display_name":"Sergey Ushakov"},"score":0,"creation_date":1416223898,"post_id":686208,"comment_id":42479107,"body_markdown":"That&#39;s really cool to have direct control over all aspects of running the JVM... And you can also look up all the stuff that WS launcher adds from its initial screen upon running it...","body":"That&#39;s really cool to have direct control over all aspects of running the JVM... And you can also look up all the stuff that WS launcher adds from its initial screen upon running it..."}],"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1238080356,"creation_date":1238080356,"answer_id":686208,"question_id":686061,"body_markdown":"Have you tried printing a debug log? That is a useful thing to have at any rate, and might help in this case.\r\n\r\nIf you want real debugging, see e.g. here:\r\n[How can I debug under WebStart?][1]\r\n\r\n\r\n  [1]: http://lopica.sourceforge.net/faq.html#debug","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>Have you tried printing a debug log? That is a useful thing to have at any rate, and might help in this case.</p>\n\n<p>If you want real debugging, see e.g. here:\n<a href=\"http://lopica.sourceforge.net/faq.html#debug\" rel=\"nofollow noreferrer\">How can I debug under WebStart?</a></p>\n"},{"comments":[{"owner":{"account_id":99786,"reputation":2155,"user_id":269361,"accept_rate":79,"display_name":"fool4jesus"},"score":1,"creation_date":1303270562,"post_id":686219,"comment_id":6547377,"body_markdown":"+1 for awesome answer. However, this thing won&#39;t let me edit it to fix a typo in the answer. There should be no space before the &quot;address=8989&quot;.","body":"+1 for awesome answer. However, this thing won&#39;t let me edit it to fix a typo in the answer. There should be no space before the &quot;address=8989&quot;."},{"owner":{"account_id":939914,"reputation":1401,"user_id":968161,"accept_rate":86,"display_name":"Rekha"},"score":0,"creation_date":1327897451,"post_id":686219,"comment_id":11369039,"body_markdown":"@mkoeller in javaws http://server:port/descriptor.jnlp which port number should i give","body":"@mkoeller in javaws <a href=\"http://server:port/descriptor.jnlp\" rel=\"nofollow noreferrer\">server:port/descriptor.jnlp</a> which port number should i give"},{"owner":{"account_id":125069,"reputation":6156,"user_id":320594,"accept_rate":77,"display_name":"Jaime Hablutzel"},"score":6,"creation_date":1347471117,"post_id":686219,"comment_id":16652036,"body_markdown":"Just a note, in Windows (Tested on XP) when you set `JAVAWS_VM_ARGS` you have to OMIT THE DOUBLE QUOTES `set JAVAWS_VM_ARGS=-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=n`","body":"Just a note, in Windows (Tested on XP) when you set <code>JAVAWS_VM_ARGS</code> you have to OMIT THE DOUBLE QUOTES <code>set JAVAWS_VM_ARGS=-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=&zwnj;&#8203;n</code>"},{"owner":{"account_id":2455144,"reputation":7303,"user_id":6337545,"display_name":"Vincent Gerris"},"score":0,"creation_date":1533034029,"post_id":686219,"comment_id":90187708,"body_markdown":"instead of using &#39;set&#39; using &#39;export&#39; works for me on Mac OS X High Sierra.\nExport sets the variables in the shell and is available in child processes from it.","body":"instead of using &#39;set&#39; using &#39;export&#39; works for me on Mac OS X High Sierra. Export sets the variables in the shell and is available in child processes from it."},{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1535678954,"post_id":686219,"comment_id":91165504,"body_markdown":"This answer is not working for me on macOS High Sierra. The problem seems to be the &quot;javaws&quot; command starts in debug mode (opening port 8989) and later starts my application with a new VM which tries to also open that port. The second VM gives me the error &quot;address already in use&quot; and then quits.","body":"This answer is not working for me on macOS High Sierra. The problem seems to be the &quot;javaws&quot; command starts in debug mode (opening port 8989) and later starts my application with a new VM which tries to also open that port. The second VM gives me the error &quot;address already in use&quot; and then quits."},{"owner":{"account_id":1642959,"reputation":1645,"user_id":1515065,"display_name":"aimhaj"},"score":0,"creation_date":1551176381,"post_id":686219,"comment_id":96535493,"body_markdown":"Thanks a lot, this helped me :). Works perfectly with java 8 (tested with batch file).","body":"Thanks a lot, this helped me :). Works perfectly with java 8 (tested with batch file)."}],"tags":[],"owner":{"account_id":15706,"reputation":4489,"user_id":33433,"display_name":"mkoeller"},"comment_count":6,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1336728229,"creation_date":1238080548,"answer_id":686219,"question_id":686061,"body_markdown":"Start the JWS VM manually. This way you can provide the startup parameters to open the debug port. Here is a [description][1], it goes like this:\r\n\r\n    set JAVAWS_TRACE_NATIVE=1\r\n    set JAVAWS_VM_ARGS=&quot;-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=n&quot;\r\n    javaws http://server:port/descriptor.jnlp\r\n\r\n\r\n  [1]: http://icoloma.blogspot.com/2005/06/how-to-debug-jwsjnlp.html","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>Start the JWS VM manually. This way you can provide the startup parameters to open the debug port. Here is a <a href=\"http://icoloma.blogspot.com/2005/06/how-to-debug-jwsjnlp.html\" rel=\"noreferrer\">description</a>, it goes like this:</p>\n\n<pre><code>set JAVAWS_TRACE_NATIVE=1\nset JAVAWS_VM_ARGS=\"-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=n\"\njavaws http://server:port/descriptor.jnlp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":998774,"reputation":581,"user_id":1686533,"display_name":"Marco Montel"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1369124367,"creation_date":1369123867,"answer_id":16665121,"question_id":686061,"body_markdown":"You can also provide the debug parameter to the javaws executable using the -J option\r\n\r\nExample: \r\n\r\n    javaws.exe -J-Xdebug -J-Xnoagent -J-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000 http://server:port/descriptor.jnlp","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>You can also provide the debug parameter to the javaws executable using the -J option</p>\n\n<p>Example: </p>\n\n<pre><code>javaws.exe -J-Xdebug -J-Xnoagent -J-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000 http://server:port/descriptor.jnlp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":414996,"reputation":13220,"user_id":789544,"display_name":"Nicholas Sushkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371228590,"creation_date":1371228590,"answer_id":17113515,"question_id":686061,"body_markdown":"To debug a Web Start application in Linux, create a shell script ~/bin/javaws-debug.sh with the javaws invocation in debug mode as described above:\r\n\r\n~/bin/javaws-debug.sh:\r\n\r\n    #!/bin/sh\r\n    export JAVAWS_TRACE_NATIVE=1\r\n    export JAVAWS_VM_ARGS=&quot;-Xdebug -Xnoagent -Djava.compiler=NONE \r\n      -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=n&quot;\r\n    javaws &quot;$@&quot;\r\n\r\nThen, in your browser, choose that script as the application to invoke on jnlp files.\r\n\r\nFor example, in Firefox, go to Edit→Preferences→Applications, Content Type: Java Web Start, and choose &quot;Use Other&quot; in Action and pick the script from the &quot;Select Helper Application&quot; dialog. In Chrome, you need to alter Linux system settings. In KDE, go to System Settings→File Associations, Known Types: application:x-java-jnlp-file, add a new Application, pick ~/bin/javaws-debug.sh from the &quot;Choose Application for application/x-java-jnlp-file&quot; dialog.\r\n\r\nOnce your browser is configured, Java Web Start application will start using your wrapper, which will enable debugger to connect on port 8989.","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>To debug a Web Start application in Linux, create a shell script ~/bin/javaws-debug.sh with the javaws invocation in debug mode as described above:</p>\n\n<p>~/bin/javaws-debug.sh:</p>\n\n<pre><code>#!/bin/sh\nexport JAVAWS_TRACE_NATIVE=1\nexport JAVAWS_VM_ARGS=\"-Xdebug -Xnoagent -Djava.compiler=NONE \n  -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=n\"\njavaws \"$@\"\n</code></pre>\n\n<p>Then, in your browser, choose that script as the application to invoke on jnlp files.</p>\n\n<p>For example, in Firefox, go to Edit→Preferences→Applications, Content Type: Java Web Start, and choose \"Use Other\" in Action and pick the script from the \"Select Helper Application\" dialog. In Chrome, you need to alter Linux system settings. In KDE, go to System Settings→File Associations, Known Types: application:x-java-jnlp-file, add a new Application, pick ~/bin/javaws-debug.sh from the \"Choose Application for application/x-java-jnlp-file\" dialog.</p>\n\n<p>Once your browser is configured, Java Web Start application will start using your wrapper, which will enable debugger to connect on port 8989.</p>\n"},{"comments":[{"owner":{"account_id":477949,"reputation":5606,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":1,"creation_date":1427959718,"post_id":26779670,"comment_id":46988872,"body_markdown":"Thanks for writing this, you solved it for me. Needed to delete the debug options from JAVAWS_VM_ARGS and move them to JAVA_TOOL_OPTIONS when moving from 1.7.0_10 to 1.7.0_75","body":"Thanks for writing this, you solved it for me. Needed to delete the debug options from JAVAWS_VM_ARGS and move them to JAVA_TOOL_OPTIONS when moving from 1.7.0_10 to 1.7.0_75"},{"owner":{"account_id":205984,"reputation":2548,"user_id":455020,"accept_rate":78,"display_name":"bakoyaro"},"score":0,"creation_date":1432306303,"post_id":26779670,"comment_id":48887219,"body_markdown":"This worked for me as well, I have several jdks on my machine so I never quite know which will be started :-|","body":"This worked for me as well, I have several jdks on my machine so I never quite know which will be started :-|"},{"owner":{"account_id":116234,"reputation":8075,"user_id":304874,"accept_rate":84,"display_name":"Graeme Moss"},"score":3,"creation_date":1442492780,"post_id":26779670,"comment_id":53109573,"body_markdown":"I tried this but some kind of security check must have prevented my javaws from starting (with JAVA_TOOL_OPTIONS it would not start, without this it would start).","body":"I tried this but some kind of security check must have prevented my javaws from starting (with JAVA_TOOL_OPTIONS it would not start, without this it would start)."}],"tags":[],"owner":{"account_id":5289932,"reputation":161,"user_id":4222820,"display_name":"Vojtěch Tůma"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1415277399,"creation_date":1415277399,"answer_id":26779670,"question_id":686061,"body_markdown":"As for newer versions of Java (Java 8u20+ and Java 7u70+) i experienced that parameters like -Xrunjdwp cannot be passed directly nor using JAVAWS_VM_ARGS. \r\nMessage \r\n`Rejecting attempt to specify insecure property: -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000` \r\nstarted to show up in console output.\r\n\r\nThe only solution that worked for me was to pass those arguments into JAVA_TOOL_OPTIONS system variable. \r\n","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>As for newer versions of Java (Java 8u20+ and Java 7u70+) i experienced that parameters like -Xrunjdwp cannot be passed directly nor using JAVAWS_VM_ARGS. \nMessage \n<code>Rejecting attempt to specify insecure property: -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000</code> \nstarted to show up in console output.</p>\n\n<p>The only solution that worked for me was to pass those arguments into JAVA_TOOL_OPTIONS system variable. </p>\n"},{"comments":[{"owner":{"account_id":996124,"reputation":939,"user_id":1012003,"accept_rate":0,"display_name":"J Slick"},"score":1,"creation_date":1669763091,"post_id":45046336,"comment_id":131716005,"body_markdown":"About debugging a .jnlp in Eclipse.   In Eclipse, you can create a remote Java application with a declared debug port.  If you start the remote debug app (pointing to the same debug port) *before( you start the .jnlp app then the .jnlp app won&#39;t connect to the open debug port.  Solution is to terminate and relaunch the debug process.","body":"About debugging a .jnlp in Eclipse.   In Eclipse, you can create a remote Java application with a declared debug port.  If you start the remote debug app (pointing to the same debug port) *before( you start the .jnlp app then the .jnlp app won&#39;t connect to the open debug port.  Solution is to terminate and relaunch the debug process."},{"owner":{"account_id":936266,"reputation":16127,"user_id":965176,"accept_rate":33,"display_name":"qwertzguy"},"score":0,"creation_date":1675463980,"post_id":45046336,"comment_id":132942154,"body_markdown":"@JSlick thank you for the note! I updated my answer to add the instructions for Eclipse.","body":"@JSlick thank you for the note! I updated my answer to add the instructions for Eclipse."}],"tags":[],"owner":{"account_id":936266,"reputation":16127,"user_id":965176,"accept_rate":33,"display_name":"qwertzguy"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675463917,"creation_date":1499818374,"answer_id":45046336,"question_id":686061,"body_markdown":"With Java 8 and Windows 10, open command prompt (cmd.exe) and type this:\r\n\r\n    set JAVAWS_TRACE_NATIVE=1\r\n    set JAVA_TOOL_OPTIONS=-Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000\r\n    javaws java-app.jnlp\r\n\r\nAfter that, in Eclipse (or another IDE) start the normal remote java application debugging set to the port used in the command above (in this case `8000`)","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>With Java 8 and Windows 10, open command prompt (cmd.exe) and type this:</p>\n<pre><code>set JAVAWS_TRACE_NATIVE=1\nset JAVA_TOOL_OPTIONS=-Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000\njavaws java-app.jnlp\n</code></pre>\n<p>After that, in Eclipse (or another IDE) start the normal remote java application debugging set to the port used in the command above (in this case <code>8000</code>)</p>\n"},{"comments":[{"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"score":1,"creation_date":1502887610,"post_id":45552291,"comment_id":78385935,"body_markdown":"You mix up debugging with logging/tracing.","body":"You mix up debugging with logging/tracing."},{"owner":{"account_id":3187759,"reputation":3112,"user_id":2692914,"accept_rate":93,"display_name":"lmiguelmh"},"score":0,"creation_date":1502897666,"post_id":45552291,"comment_id":78393442,"body_markdown":"@Horcrux7 you right. I think logging can be seen as a way of debugging :)","body":"@Horcrux7 you right. I think logging can be seen as a way of debugging :)"}],"tags":[],"owner":{"account_id":3187759,"reputation":3112,"user_id":2692914,"accept_rate":93,"display_name":"lmiguelmh"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1502125991,"creation_date":1502125991,"answer_id":45552291,"question_id":686061,"body_markdown":"You will need to do the following:\r\n\r\n1. Enable the Java logs and tracing in the Java Control Panel &gt; Advanced.\r\n[![Java Control Panel: logs and tracing][1]][1]\r\n\r\n2. Enable parameters for debugging Java (optional but useful i.e. problems with tls/ssl handshake as close_notify or handshake_failure) &amp; launching the JNLP, there are two ways you can do it: \r\n\r\n 2.a. Download the JNLP file and execute it from command line (the `SET` command is not required in this particular case).\r\n\r\n        set JAVA_TOOL_OPTIONS=-Djavax.net.debug=all\r\n        javaws -wait jnlp.jnlp\r\n\r\n 2.b. Add arguments (i.e. `-Djavax.net.debug=all`) for the JVM in the Java Control Panel &gt; Java &gt; View (this is not required in this particular), and launch the JNLP file from browser:\r\n\r\n    [![Java Control Panel: jvm arguments][2]][2]\r\n\r\n3. The logs and traces are located in the `log` directory from the [Java Deployment Home][3] from where I paste these locations:\r\n\r\n a. Windows XP: `%HOME%\\Application Data\\Sun\\Java\\Deployment`\r\n\r\n b. Windows 7/Vista: `%APPDATA%\\..\\LocalLow\\Sun\\Java\\Deployment`\r\n\r\n c. Linux/Solaris: `%HOME%/.java/deployment`\r\n\r\nWith javax.net.debug=all you will see the handshake if the jar inside the jnlp is loaded from an https connection. This kind of problems are hard to debug.\r\n\r\n    ...\r\n    %% No cached client session\r\n    *** ClientHello, TLSv1.2\r\n    ...\r\n    ***\r\n    ... \r\n    Java Web Start Main Thread, received EOFException: error\r\n    Java Web Start Main Thread, handling exception: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake\r\n    Java Web Start Main Thread, SEND TLSv1.2 ALERT:  fatal, description = handshake_failure\r\n    Java Web Start Main Thread, WRITE: TLSv1.2 Alert, length = 2\r\n    Java Web Start Main Thread, called closeSocket()\r\n    #### Java Web Start Error:\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ISYDd.jpg\r\n  [2]: https://i.stack.imgur.com/B9stP.png\r\n  [3]: http://docs.oracle.com/javase/7/docs/webnotes/tsg/TSG-Desktop/html/plugin.html#gcexde\r\n","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>You will need to do the following:</p>\n\n<ol>\n<li><p>Enable the Java logs and tracing in the Java Control Panel > Advanced.\n<a href=\"https://i.stack.imgur.com/ISYDd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ISYDd.jpg\" alt=\"Java Control Panel: logs and tracing\"></a></p></li>\n<li><p>Enable parameters for debugging Java (optional but useful i.e. problems with tls/ssl handshake as close_notify or handshake_failure) &amp; launching the JNLP, there are two ways you can do it: </p>\n\n<p>2.a. Download the JNLP file and execute it from command line (the <code>SET</code> command is not required in this particular case).</p>\n\n<pre><code>set JAVA_TOOL_OPTIONS=-Djavax.net.debug=all\njavaws -wait jnlp.jnlp\n</code></pre>\n\n<p>2.b. Add arguments (i.e. <code>-Djavax.net.debug=all</code>) for the JVM in the Java Control Panel > Java > View (this is not required in this particular), and launch the JNLP file from browser:</p>\n\n<p><a href=\"https://i.stack.imgur.com/B9stP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B9stP.png\" alt=\"Java Control Panel: jvm arguments\"></a></p></li>\n<li><p>The logs and traces are located in the <code>log</code> directory from the <a href=\"http://docs.oracle.com/javase/7/docs/webnotes/tsg/TSG-Desktop/html/plugin.html#gcexde\" rel=\"nofollow noreferrer\">Java Deployment Home</a> from where I paste these locations:</p>\n\n<p>a. Windows XP: <code>%HOME%\\Application Data\\Sun\\Java\\Deployment</code></p>\n\n<p>b. Windows 7/Vista: <code>%APPDATA%\\..\\LocalLow\\Sun\\Java\\Deployment</code></p>\n\n<p>c. Linux/Solaris: <code>%HOME%/.java/deployment</code></p></li>\n</ol>\n\n<p>With javax.net.debug=all you will see the handshake if the jar inside the jnlp is loaded from an https connection. This kind of problems are hard to debug.</p>\n\n<pre><code>...\n%% No cached client session\n*** ClientHello, TLSv1.2\n...\n***\n... \nJava Web Start Main Thread, received EOFException: error\nJava Web Start Main Thread, handling exception: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake\nJava Web Start Main Thread, SEND TLSv1.2 ALERT:  fatal, description = handshake_failure\nJava Web Start Main Thread, WRITE: TLSv1.2 Alert, length = 2\nJava Web Start Main Thread, called closeSocket()\n#### Java Web Start Error:\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6575945,"reputation":1269,"user_id":5081990,"accept_rate":100,"display_name":"Corey"},"score":0,"creation_date":1568627433,"post_id":57832296,"comment_id":102320620,"body_markdown":"Would you mind explaining more details about &quot;attach to process&quot;? In IDE or command line.","body":"Would you mind explaining more details about &quot;attach to process&quot;? In IDE or command line."}],"tags":[],"owner":{"account_id":5734730,"reputation":61,"user_id":4529258,"display_name":"Jorduino"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567847536,"creation_date":1567847536,"answer_id":57832296,"question_id":686061,"body_markdown":"You can run your JNLP with debugging enabled:\r\n\r\n```\r\njavaws -Xnosplash -J-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5009 &lt;application&gt;.jnlp\r\n```\r\n\r\nOutput:\r\n**Listening for transport dt_socket at address: 5009**\r\n\r\nAttach to this with your favorite IDE, I use IntelliJ IDEA\r\n**Run&gt;Attach to process** ","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>You can run your JNLP with debugging enabled:</p>\n\n<pre><code>javaws -Xnosplash -J-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5009 &lt;application&gt;.jnlp\n</code></pre>\n\n<p>Output:\n<strong>Listening for transport dt_socket at address: 5009</strong></p>\n\n<p>Attach to this with your favorite IDE, I use IntelliJ IDEA\n<strong>Run>Attach to process</strong> </p>\n"},{"tags":[],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686069521,"creation_date":1686069521,"answer_id":76416738,"question_id":686061,"body_markdown":"This is what worked for me with [IcedTea-Web][1] :\r\n\r\n    set JAVAWS_TRACE_NATIVE=1\r\n    set JAVA_TOOL_OPTIONS=-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=y\r\n    javaws -Xnofork my_jnlp_file.jnlp\r\n\r\nOption `-Xnofork` was required or else the settings didn&#39;t apply to the forked jvm of the application.\r\n\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/IcedTea-Web","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>This is what worked for me with <a href=\"https://github.com/AdoptOpenJDK/IcedTea-Web\" rel=\"nofollow noreferrer\">IcedTea-Web</a> :</p>\n<pre><code>set JAVAWS_TRACE_NATIVE=1\nset JAVA_TOOL_OPTIONS=-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=8989,server=y,suspend=y\njavaws -Xnofork my_jnlp_file.jnlp\n</code></pre>\n<p>Option <code>-Xnofork</code> was required or else the settings didn't apply to the forked jvm of the application.</p>\n"}],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65230,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":686181,"answer_count":10,"score":50,"last_activity_date":1686069521,"creation_date":1238078151,"question_id":686061,"body_markdown":"I know how I can debug a remote Java VM with Eclipse, but how can I do it with a Java Web Start program. I have a problem that only occurs in Java Web Start. It must be security related.\r\n\r\nI need a solution that will work with a current Java VM like 1.6.0_12.","title":"How can I debug applications under Java Web Start (JNLP)?","body":"<p>I know how I can debug a remote Java VM with Eclipse, but how can I do it with a Java Web Start program. I have a problem that only occurs in Java Web Start. It must be security related.</p>\n\n<p>I need a solution that will work with a current Java VM like 1.6.0_12.</p>\n"},{"tags":["java","cxf"],"answers":[{"tags":[],"owner":{"account_id":24108985,"reputation":21,"user_id":18079802,"display_name":"franc.rovetto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686068862,"creation_date":1686068862,"answer_id":76416662,"question_id":74436469,"body_markdown":"You could change the approach a bit and try my example, which worked for me:\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n      &lt;groupId&gt;com.example.project&lt;/groupId&gt;\r\n      &lt;artifactId&gt;awi&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;name&gt;awi&lt;/name&gt;\r\n      &lt;description&gt;awi&lt;/description&gt;\r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n          &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n          &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;!-- those dependencies down here are relevant --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n          &lt;version&gt;4.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;exampleName&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;xjc&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;xjc&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\r\n                  &lt;sources&gt;\r\n                    &lt;source&gt;${project.basedir}/src/main/resources/wsdl&lt;/source&gt;\r\n                  &lt;/sources&gt;\r\n                  &lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\r\n                  &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n                  &lt;packageName&gt;com.example.soap.objects&lt;/packageName&gt;\r\n                  &lt;noPackageLevelAnnotations&gt;true&lt;/noPackageLevelAnnotations&gt;\r\n                &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Failed to execute goal org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java","body":"<p>You could change the approach a bit and try my example, which worked for me:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.6&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n  &lt;groupId&gt;com.example.project&lt;/groupId&gt;\n  &lt;artifactId&gt;awi&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;name&gt;awi&lt;/name&gt;\n  &lt;description&gt;awi&lt;/description&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n          &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n      &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n      &lt;version&gt;5.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;!-- those dependencies down here are relevant --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n      &lt;version&gt;4.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;exampleName&lt;/finalName&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;xjc&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;xjc&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n            &lt;configuration&gt;\n              &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\n              &lt;sources&gt;\n                &lt;source&gt;${project.basedir}/src/main/resources/wsdl&lt;/source&gt;\n              &lt;/sources&gt;\n              &lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\n              &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n              &lt;packageName&gt;com.example.soap.objects&lt;/packageName&gt;\n              &lt;noPackageLevelAnnotations&gt;true&lt;/noPackageLevelAnnotations&gt;\n            &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":2432712,"reputation":1113,"user_id":2123288,"accept_rate":22,"display_name":"user2123288"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":948,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686068862,"creation_date":1668451753,"question_id":74436469,"body_markdown":"I&#39;m trying to generate the code from WSDL file with CXF in Maven. Currently using Java 19 which I&#39;d like to keep.\r\n\r\nMy plugin is configured with:\r\n\r\n```\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sourceRoot&gt;${project.build.directory}/generated/cxf&lt;/sourceRoot&gt;\r\n                            &lt;wsdlOptions&gt;\r\n                                &lt;wsdlOption&gt;\r\n                                    &lt;wsdl&gt;${basedir}/src/main/wsdl/sample.wsdl&lt;/wsdl&gt;\r\n                                &lt;/wsdlOption&gt;\r\n                            &lt;/wsdlOptions&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;4.0.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n                        &lt;version&gt;4.0.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n\r\n                    &lt;!--dependency&gt;\r\n                        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n                        &lt;version&gt;4.0.1&lt;/version&gt;\r\n                    &lt;/dependency--&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nAnd always get error:\r\n\r\n[ERROR] Failed to execute goal org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java (default) on project customsx: Execution default of goal org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java failed: A required class was missing while executing org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java: **javax/xml/bind/annotation/adapters/HexBinaryAdapter**\r\n\r\n\r\nI&#39;m familiar with the bind-api removal in Java 11, and always was able to solve usual JAXB troubles using jakarta libs.\r\nIn this particular case the error seems to come from wsdl2java itself. If I do not set the jakarta dependencies the error is exclusively on javax.xml.bind.annotation as expected. If I add the dependency the error is now on HexBinaryAdapter, which I can&#39;t seem able to solve.\r\n\r\nAny ideas ?","title":"Failed to execute goal org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java","body":"<p>I'm trying to generate the code from WSDL file with CXF in Maven. Currently using Java 19 which I'd like to keep.</p>\n<p>My plugin is configured with:</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceRoot&gt;${project.build.directory}/generated/cxf&lt;/sourceRoot&gt;\n                            &lt;wsdlOptions&gt;\n                                &lt;wsdlOption&gt;\n                                    &lt;wsdl&gt;${basedir}/src/main/wsdl/sample.wsdl&lt;/wsdl&gt;\n                                &lt;/wsdlOption&gt;\n                            &lt;/wsdlOptions&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n                        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n                        &lt;version&gt;4.0.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n                        &lt;version&gt;4.0.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n\n                    &lt;!--dependency&gt;\n                        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n                        &lt;version&gt;4.0.1&lt;/version&gt;\n                    &lt;/dependency--&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>And always get error:</p>\n<p>[ERROR] Failed to execute goal org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java (default) on project customsx: Execution default of goal org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java failed: A required class was missing while executing org.apache.cxf:cxf-codegen-plugin:3.5.4:wsdl2java: <strong>javax/xml/bind/annotation/adapters/HexBinaryAdapter</strong></p>\n<p>I'm familiar with the bind-api removal in Java 11, and always was able to solve usual JAXB troubles using jakarta libs.\nIn this particular case the error seems to come from wsdl2java itself. If I do not set the jakarta dependencies the error is exclusively on javax.xml.bind.annotation as expected. If I add the dependency the error is now on HexBinaryAdapter, which I can't seem able to solve.</p>\n<p>Any ideas ?</p>\n"},{"tags":["java","hibernate","spring-data"],"comments":[{"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"score":0,"creation_date":1642675466,"post_id":65980495,"comment_id":125136455,"body_markdown":"Didn&#39;t even work for findAll() for me, even after enabling the filter explicitly by `entityManager.unwrap(Session.class).enableFilter(&quot;myFilter&quot;).setFilterParam(&quot;myParam&quot;, &quot;myValue&quot;);` The code is accepted, the filter is enabled, I did it exactly like above. But it&#39;s just not working., the condition is not added to the query. Giving up on this. :(","body":"Didn&#39;t even work for findAll() for me, even after enabling the filter explicitly by <code>entityManager.unwrap(Session.class).enableFilter(&quot;myFilter&quot;)&zwnj;&#8203;.setFilterParam(&quot;myP&zwnj;&#8203;aram&quot;, &quot;myValue&quot;);</code> The code is accepted, the filter is enabled, I did it exactly like above. But it&#39;s just not working., the condition is not added to the query. Giving up on this. :("}],"answers":[{"comments":[{"owner":{"account_id":459938,"reputation":4412,"user_id":860721,"accept_rate":69,"display_name":"Hossein Mobasher"},"score":0,"creation_date":1612105533,"post_id":65980582,"comment_id":116656882,"body_markdown":"Thanks for your response. But, is there any other way to force not using `EntityManager::find`? (Instead of what I&#39;ve tried in the question).","body":"Thanks for your response. But, is there any other way to force not using <code>EntityManager::find</code>? (Instead of what I&#39;ve tried in the question)."},{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":1,"creation_date":1612105786,"post_id":65980582,"comment_id":116656955,"body_markdown":"I do not see another way as joust write own query, like you did.","body":"I do not see another way as joust write own query, like you did."},{"owner":{"account_id":973518,"reputation":5174,"user_id":995514,"accept_rate":54,"display_name":"Half_Duplex"},"score":2,"creation_date":1636582786,"post_id":65980582,"comment_id":123599398,"body_markdown":"This should be fixed in Hibernate 6 Beta 1. See https://hibernate.atlassian.net/browse/HHH-14772","body":"This should be fixed in Hibernate 6 Beta 1. See <a href=\"https://hibernate.atlassian.net/browse/HHH-14772\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-14772</a>"},{"owner":{"account_id":7421518,"reputation":861,"user_id":5645646,"accept_rate":17,"display_name":"Spring"},"score":0,"creation_date":1687429609,"post_id":65980582,"comment_id":134937107,"body_markdown":"Appreciate this, thank you so much !","body":"Appreciate this, thank you so much !"}],"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1612105295,"creation_date":1612105295,"answer_id":65980582,"question_id":65980495,"body_markdown":"As it is stated in the hibernate [documentation](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-filter):\r\n\r\n&gt; Filters apply to entity queries, but not to direct fetching.\r\n\r\nBut under the hood `repository.findById(ID id)` method calls `EntityManager.find`.\r\nSo, this is expected behaviour.","title":"Hibernate @Filter does not work with Spring JpaRepository.findById method","body":"<p>As it is stated in the hibernate <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#pc-filter\" rel=\"noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Filters apply to entity queries, but not to direct fetching.</p>\n</blockquote>\n<p>But under the hood <code>repository.findById(ID id)</code> method calls <code>EntityManager.find</code>.\nSo, this is expected behaviour.</p>\n"},{"tags":[],"owner":{"account_id":4321053,"reputation":31,"user_id":3529268,"display_name":"Saku"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686068607,"creation_date":1686068607,"answer_id":76416621,"question_id":65980495,"body_markdown":"Hi there try this will apply any filter by bypass default springboot findById\r\n\r\n```java\r\n\r\n@Repository\r\npublic interface PharmacyRepository extends JpaRepository&lt;Pharmacy, Long&gt; {\r\n    \r\n\r\n   @Override\r\n    default Optional&lt;Pharmacy&gt; findById(Long id) {\r\n        return findOne(Example.of(Pharmacy.builder().id(id).build()));\r\n        // or with predicate\r\n    }\r\n}\r\n```\r\n\r\n","title":"Hibernate @Filter does not work with Spring JpaRepository.findById method","body":"<p>Hi there try this will apply any filter by bypass default springboot findById</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Repository\npublic interface PharmacyRepository extends JpaRepository&lt;Pharmacy, Long&gt; {\n    \n\n   @Override\n    default Optional&lt;Pharmacy&gt; findById(Long id) {\n        return findOne(Example.of(Pharmacy.builder().id(id).build()));\n        // or with predicate\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":459938,"reputation":4412,"user_id":860721,"accept_rate":69,"display_name":"Hossein Mobasher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3706,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":65980582,"answer_count":2,"score":8,"last_activity_date":1686068607,"creation_date":1612104761,"question_id":65980495,"body_markdown":"In order to create row-level authorization, I want to use `@Filter` and `@FilterDef` hibernate annotations in combination with `JpaRepository&lt;T, ID&gt;` interface of [spring-data][1]. Suppose that, we have a following entities:\r\n\r\n``` java\r\n@Entity\r\npublic class User {\r\n   @Id\r\n   private Long id;\r\n   private String name;\r\n    \r\n   @ManyToOne\r\n   private Pharmacy pharmacy;\r\n}\r\n    \r\n@Entity\r\npublic class Pharmacy {\r\n   @Id\r\n   private Long id;\r\n   private String name;\r\n}\r\n```\r\nI want to create authorization based on whom send requests to server. For this purpose, I&#39;ve added `@Filter` and `@FilterDef` annotations top of the `Pharmacy` entity. So, the pharmacy should be like below:\r\n\r\n``` java\r\n@Entity\r\n@FilterDef(name = &quot;pharmacyFilter&quot;, parameters = {@ParamDef(name = &quot;userId&quot;, type = &quot;long&quot;)})\r\n@Filters({\r\n   @Filter(name = &quot;pharmacyFilter&quot;, condition = &quot;id in (select user.pharmacy_id from user where user.id = :userId)&quot;)\r\n})\r\npublic class Pharmacy {\r\n   //...\r\n}\r\n```\r\nThe repository that I&#39;ve created to access database is one that seen below:\r\n\r\n``` java\r\n@Repository\r\npublic interface PharmacyRepository extends JpaRepository&lt;Pharmacy, Long&gt; {\r\n    \r\n}\r\n```\r\nWhen I make `pharmacyFilter` enabled, everything works fine and the filter applied on all queries. You can see the query generated for `repository.findAll()` as follows:\r\n\r\n``` sql\r\nselect pharmacy0_.id as id1_0_, pharmacy0_.name as name2_0_ from pharmacy pharmacy0_ where pharmacy0_.id in (select user.pharmacy_id from user where user.id = ?)\r\n```\r\nBut, the problem occurred when I want to try using `repository.findById(ID id)`. When I use the mentioned method, the filter won&#39;t applied to the final query and we will see the following sql in the terminal:\r\n\r\n``` sql\r\nselect pharmacy0_.id as id1_0_0_, pharmacy0_.name as name2_0_0_ from pharmacy pharmacy0_ where pharmacy0_.id=?\r\n```\r\nI guessed the problem is due to using id multiple times. One in `findById` and another in filter condition. But when I tried to create query using `session` object, this problem didn&#39;t occurred and output is desirable:\r\n\r\n``` sql\r\nselect pharmacy0_.id as id1_0_, pharmacy0_.name as name2_0_ from pharmacy pharmacy0_ where pharmacy0_.id in (select user.pharmacy_id from user where user.id = ?) and pharmacy0_.id=2\r\n```\r\nThe problem is resolved using the following approach, but what happens when we use the JpaRepository#findById default implementation?\r\n\r\n``` java\r\n@Query(value = &quot;from Pharmacy where id = :id&quot;)\r\nOptional&lt;Pharmacy&gt; findById(Long id);\r\n```\r\n\r\nThanks in advance.\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\r\n\r\n","title":"Hibernate @Filter does not work with Spring JpaRepository.findById method","body":"<p>In order to create row-level authorization, I want to use <code>@Filter</code> and <code>@FilterDef</code> hibernate annotations in combination with <code>JpaRepository&lt;T, ID&gt;</code> interface of <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\" rel=\"noreferrer\">spring-data</a>. Suppose that, we have a following entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class User {\n   @Id\n   private Long id;\n   private String name;\n    \n   @ManyToOne\n   private Pharmacy pharmacy;\n}\n    \n@Entity\npublic class Pharmacy {\n   @Id\n   private Long id;\n   private String name;\n}\n</code></pre>\n<p>I want to create authorization based on whom send requests to server. For this purpose, I've added <code>@Filter</code> and <code>@FilterDef</code> annotations top of the <code>Pharmacy</code> entity. So, the pharmacy should be like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@FilterDef(name = &quot;pharmacyFilter&quot;, parameters = {@ParamDef(name = &quot;userId&quot;, type = &quot;long&quot;)})\n@Filters({\n   @Filter(name = &quot;pharmacyFilter&quot;, condition = &quot;id in (select user.pharmacy_id from user where user.id = :userId)&quot;)\n})\npublic class Pharmacy {\n   //...\n}\n</code></pre>\n<p>The repository that I've created to access database is one that seen below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface PharmacyRepository extends JpaRepository&lt;Pharmacy, Long&gt; {\n    \n}\n</code></pre>\n<p>When I make <code>pharmacyFilter</code> enabled, everything works fine and the filter applied on all queries. You can see the query generated for <code>repository.findAll()</code> as follows:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select pharmacy0_.id as id1_0_, pharmacy0_.name as name2_0_ from pharmacy pharmacy0_ where pharmacy0_.id in (select user.pharmacy_id from user where user.id = ?)\n</code></pre>\n<p>But, the problem occurred when I want to try using <code>repository.findById(ID id)</code>. When I use the mentioned method, the filter won't applied to the final query and we will see the following sql in the terminal:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select pharmacy0_.id as id1_0_0_, pharmacy0_.name as name2_0_0_ from pharmacy pharmacy0_ where pharmacy0_.id=?\n</code></pre>\n<p>I guessed the problem is due to using id multiple times. One in <code>findById</code> and another in filter condition. But when I tried to create query using <code>session</code> object, this problem didn't occurred and output is desirable:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select pharmacy0_.id as id1_0_, pharmacy0_.name as name2_0_ from pharmacy pharmacy0_ where pharmacy0_.id in (select user.pharmacy_id from user where user.id = ?) and pharmacy0_.id=2\n</code></pre>\n<p>The problem is resolved using the following approach, but what happens when we use the JpaRepository#findById default implementation?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;from Pharmacy where id = :id&quot;)\nOptional&lt;Pharmacy&gt; findById(Long id);\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","opencsv"],"answers":[{"tags":[],"owner":{"account_id":7258992,"reputation":2411,"user_id":5536516,"accept_rate":86,"display_name":"nyg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685751374,"creation_date":1685751374,"answer_id":76394097,"question_id":65882442,"body_markdown":"I really doubt for that to be possible. Looking at the code of `StatefulBeanToCsv`, nothing is written if the list is empty.\r\n\r\n    public void write(List&lt;T&gt; beans) throws CsvDataTypeMismatchException, CsvRequiredFieldEmptyException {\r\n        if (CollectionUtils.isNotEmpty(beans)) {\r\n            write(beans.iterator());\r\n        }\r\n    }","title":"OpenCSV doesn&#39;t write headers in case of empty bean list","body":"<p>I really doubt for that to be possible. Looking at the code of <code>StatefulBeanToCsv</code>, nothing is written if the list is empty.</p>\n<pre><code>public void write(List&lt;T&gt; beans) throws CsvDataTypeMismatchException, CsvRequiredFieldEmptyException {\n    if (CollectionUtils.isNotEmpty(beans)) {\n        write(beans.iterator());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686068350,"creation_date":1686068350,"answer_id":76416591,"question_id":65882442,"body_markdown":"## If you don&#39;t mind an extra empty line after the header\r\n\r\nWe can \r\n- add an empty bean to the when the list is empty \r\n- override [`HeaderColumnNameMappingStrategy#transmuteBean`][1], which return empty array(empty line in csv) when the input is the empty bean.\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport com.opencsv.CSVWriter;\r\nimport com.opencsv.bean.CsvBindByName;\r\nimport com.opencsv.bean.HeaderColumnNameMappingStrategy;\r\nimport com.opencsv.bean.StatefulBeanToCsv;\r\nimport com.opencsv.bean.StatefulBeanToCsvBuilder;\r\nimport com.opencsv.exceptions.CsvChainedException;\r\nimport com.opencsv.exceptions.CsvException;\r\nimport com.opencsv.exceptions.CsvFieldAssignmentException;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.StringWriter;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class EmptyListButWriteHeader {\r\n\r\n    @Test\r\n    public void testOpenCsvEmptyBeanList() throws CsvException {\r\n        StringWriter sw = new StringWriter();\r\n\r\n        HeaderColumnNameMappingStrategy&lt;Bean1&gt; mappingStrategy = new HeaderColumnNameMappingStrategy&lt;&gt;() {\r\n            @Override\r\n            public String[] transmuteBean(Bean1 bean) throws CsvFieldAssignmentException, CsvChainedException {\r\n                // compare by reference to avoid other bean matches\r\n                if (bean == Bean1.EMPTY_LINE_INSTANCE) {\r\n                    return new String[0];\r\n                }\r\n                return super.transmuteBean(bean);\r\n            }\r\n        };\r\n        mappingStrategy.setType(Bean1.class);\r\n        StatefulBeanToCsv&lt;Bean1&gt; sbc = new StatefulBeanToCsvBuilder&lt;Bean1&gt;(sw)\r\n                .withLineEnd(CSVWriter.DEFAULT_LINE_END)\r\n                .withApplyQuotesToAll(false)\r\n                .withMappingStrategy(mappingStrategy)\r\n                .build();\r\n\r\n        List&lt;Bean1&gt; bean1s = new ArrayList&lt;&gt;();\r\n        if (bean1s.isEmpty()) {\r\n            // add empty line bean when list is empty\r\n            bean1s.add(Bean1.EMPTY_LINE_INSTANCE);\r\n        }\r\n        sbc.write(bean1s);\r\n\r\n        assertEquals(&quot;COLUMN1&quot; + CSVWriter.DEFAULT_LINE_END.repeat(2), sw.toString());\r\n    }\r\n}\r\n\r\nclass Bean1 {\r\n    public static final Bean1 EMPTY_LINE_INSTANCE = new Bean1();\r\n    @CsvBindByName(column = &quot;column1&quot;)\r\n    private String col1;\r\n\r\n    public String getCol1() {\r\n        return col1;\r\n    }\r\n\r\n    public void setCol1(String col1) {\r\n        this.col1 = col1;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/MappingStrategy.html#transmuteBean-T-","title":"OpenCSV doesn&#39;t write headers in case of empty bean list","body":"<h2>If you don't mind an extra empty line after the header</h2>\n<p>We can</p>\n<ul>\n<li>add an empty bean to the when the list is empty</li>\n<li>override <a href=\"https://opencsv.sourceforge.net/apidocs/com/opencsv/bean/MappingStrategy.html#transmuteBean-T-\" rel=\"nofollow noreferrer\"><code>HeaderColumnNameMappingStrategy#transmuteBean</code></a>, which return empty array(empty line in csv) when the input is the empty bean.</li>\n</ul>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\nimport com.opencsv.CSVWriter;\nimport com.opencsv.bean.CsvBindByName;\nimport com.opencsv.bean.HeaderColumnNameMappingStrategy;\nimport com.opencsv.bean.StatefulBeanToCsv;\nimport com.opencsv.bean.StatefulBeanToCsvBuilder;\nimport com.opencsv.exceptions.CsvChainedException;\nimport com.opencsv.exceptions.CsvException;\nimport com.opencsv.exceptions.CsvFieldAssignmentException;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.StringWriter;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class EmptyListButWriteHeader {\n\n    @Test\n    public void testOpenCsvEmptyBeanList() throws CsvException {\n        StringWriter sw = new StringWriter();\n\n        HeaderColumnNameMappingStrategy&lt;Bean1&gt; mappingStrategy = new HeaderColumnNameMappingStrategy&lt;&gt;() {\n            @Override\n            public String[] transmuteBean(Bean1 bean) throws CsvFieldAssignmentException, CsvChainedException {\n                // compare by reference to avoid other bean matches\n                if (bean == Bean1.EMPTY_LINE_INSTANCE) {\n                    return new String[0];\n                }\n                return super.transmuteBean(bean);\n            }\n        };\n        mappingStrategy.setType(Bean1.class);\n        StatefulBeanToCsv&lt;Bean1&gt; sbc = new StatefulBeanToCsvBuilder&lt;Bean1&gt;(sw)\n                .withLineEnd(CSVWriter.DEFAULT_LINE_END)\n                .withApplyQuotesToAll(false)\n                .withMappingStrategy(mappingStrategy)\n                .build();\n\n        List&lt;Bean1&gt; bean1s = new ArrayList&lt;&gt;();\n        if (bean1s.isEmpty()) {\n            // add empty line bean when list is empty\n            bean1s.add(Bean1.EMPTY_LINE_INSTANCE);\n        }\n        sbc.write(bean1s);\n\n        assertEquals(&quot;COLUMN1&quot; + CSVWriter.DEFAULT_LINE_END.repeat(2), sw.toString());\n    }\n}\n\nclass Bean1 {\n    public static final Bean1 EMPTY_LINE_INSTANCE = new Bean1();\n    @CsvBindByName(column = &quot;column1&quot;)\n    private String col1;\n\n    public String getCol1() {\n        return col1;\n    }\n\n    public void setCol1(String col1) {\n        this.col1 = col1;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14164770,"reputation":103,"user_id":10233010,"display_name":"Jey350"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1686068350,"creation_date":1611568551,"question_id":65882442,"body_markdown":"When using opencsv with annotation and StatefulBeanToCsv, headers are not written when bean list is empty.\r\nI would assume this test successful but it&#39;s not.\r\n\r\n    private class bean1 {\r\n        @CsvBindByName(column = &quot;column1&quot;)\r\n        private String col1;\r\n\r\n        public String getCol1() {\r\n            return col1;\r\n        }\r\n\r\n        public void setCol1(String col1) {\r\n            this.col1 = col1;\r\n        }\r\n    }\r\n    \r\n    @Test\r\n    public void testOpenCsvEmptyBeanList() throws CsvException {\r\n        StringWriter sw = new StringWriter();\r\n        \r\n        StatefulBeanToCsv&lt;bean1&gt; sbc = new StatefulBeanToCsvBuilder&lt;bean1&gt;(sw)\r\n                .withLineEnd(CSVWriter.DEFAULT_LINE_END)\r\n                .build();\r\n        \r\n        // empty bean list\r\n        sbc.write(new ArrayList&lt;&gt;());\r\n        \r\n        assertEquals(&quot;column1&quot; + CSVWriter.DEFAULT_LINE_END, sw.toString());\r\n    }\r\n\r\nAny idea to make this test works ?\r\n","title":"OpenCSV doesn&#39;t write headers in case of empty bean list","body":"<p>When using opencsv with annotation and StatefulBeanToCsv, headers are not written when bean list is empty.\nI would assume this test successful but it's not.</p>\n<pre><code>private class bean1 {\n    @CsvBindByName(column = &quot;column1&quot;)\n    private String col1;\n\n    public String getCol1() {\n        return col1;\n    }\n\n    public void setCol1(String col1) {\n        this.col1 = col1;\n    }\n}\n\n@Test\npublic void testOpenCsvEmptyBeanList() throws CsvException {\n    StringWriter sw = new StringWriter();\n    \n    StatefulBeanToCsv&lt;bean1&gt; sbc = new StatefulBeanToCsvBuilder&lt;bean1&gt;(sw)\n            .withLineEnd(CSVWriter.DEFAULT_LINE_END)\n            .build();\n    \n    // empty bean list\n    sbc.write(new ArrayList&lt;&gt;());\n    \n    assertEquals(&quot;column1&quot; + CSVWriter.DEFAULT_LINE_END, sw.toString());\n}\n</code></pre>\n<p>Any idea to make this test works ?</p>\n"},{"tags":["java","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686067830,"creation_date":1686067830,"answer_id":76416524,"question_id":76406661,"body_markdown":"`option java_generic_services = true` is not related to gRPC. That&#39;s why you are getting RpcChannel. You can remove it.\r\n\r\nThe gRPC code generation is separate from protoc, using a custom plugin named protoc-gen-grpc-java. To use it you need the `compile-custom` goal for `protobuf-maven-plugin`.\r\n\r\nFrom the [grpc-java README](https://github.com/grpc/grpc-java/blob/master/README.md#generated-code):\r\n\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;0.6.1&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;protocArtifact&gt;com.google.protobuf:protoc:3.21.7:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\r\n        &lt;!-- IMPORTANT: --&gt;\r\n        &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n        &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.54.1:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\r\n      &lt;/configuration&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;compile&lt;/goal&gt;\r\n            &lt;goal&gt;compile-custom&lt;/goal&gt; &lt;!-- IMPORTANT --&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"RpcChannel instead of io.grpc.Channel","body":"<p><code>option java_generic_services = true</code> is not related to gRPC. That's why you are getting RpcChannel. You can remove it.</p>\n<p>The gRPC code generation is separate from protoc, using a custom plugin named protoc-gen-grpc-java. To use it you need the <code>compile-custom</code> goal for <code>protobuf-maven-plugin</code>.</p>\n<p>From the <a href=\"https://github.com/grpc/grpc-java/blob/master/README.md#generated-code\" rel=\"nofollow noreferrer\">grpc-java README</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;0.6.1&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;protocArtifact&gt;com.google.protobuf:protoc:3.21.7:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\n        &lt;!-- IMPORTANT: --&gt;\n        &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n        &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.54.1:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\n      &lt;/configuration&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;goal&gt;compile-custom&lt;/goal&gt; &lt;!-- IMPORTANT --&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":7409932,"reputation":187,"user_id":5637611,"display_name":"Jorge Dieguez Perez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686067830,"creation_date":1685969905,"question_id":76406661,"body_markdown":"I&#39;m having issues with gRPC Java protobuf code generation. When I use the protobuf-maven-plugin to generate Java classes from my .proto files, it creates deprecated classes that use RpcChannel instead of io.grpc.Channel. I&#39;m using protobuf-maven-plugin version 0.6.1, protoc version 3.23.2, and grpc-java version 1.55.1.\r\n\r\nHere are the versions I&#39;m using:\r\n\r\nApache Maven 3.9.2\r\ngrpc-netty-shaded 1.55.1\r\ngrpc-protobuf 1.55.1\r\ngrpc-stub 1.55.1\r\nprotobuf-java 3.23.2\r\nJDK 11.0.19\r\nmacOS 13.4 on Apple Silicon architecture\r\nMy .proto file looks like this:\r\n\r\n```\r\nsyntax = &quot;proto3&quot;;\r\npackage agent;\r\n\r\noption java_multiple_files = true;\r\noption java_generic_services = true;\r\noption java_package = &quot;grpc&quot;;\r\noption java_outer_classname = &quot;AgentServerProto&quot;;\r\noption objc_class_prefix = &quot;Utm&quot;;\r\n\r\n// Service and message definitions omitted for brevity...\r\n```\r\n\r\nDespite setting option java_generic_services = true;, the generated Java code does not contain any of the expected service implementation base classes, like PanelServiceImplBase for my service definition.\r\n\r\nEven after updating the protoc version and following the appropriate steps for installation, I&#39;m still encountering this issue.\r\n\r\nCould someone provide guidance on what could be causing this issue and how to resolve it? Thank you in advance.\r\n\r\n\r\nI initially encountered the problem when trying to generate gRPC Java classes using the protobuf-maven-plugin. My expectation was to have classes generated that are up-to-date, using io.grpc.Channel instead of the deprecated RpcChannel. I was also expecting to see the service implementation base classes generated based on my .proto file.\r\n\r\nI even tried different versions of the protobuf-maven-plugin, java SDK, generate the code from a windows laptop","title":"RpcChannel instead of io.grpc.Channel","body":"<p>I'm having issues with gRPC Java protobuf code generation. When I use the protobuf-maven-plugin to generate Java classes from my .proto files, it creates deprecated classes that use RpcChannel instead of io.grpc.Channel. I'm using protobuf-maven-plugin version 0.6.1, protoc version 3.23.2, and grpc-java version 1.55.1.</p>\n<p>Here are the versions I'm using:</p>\n<p>Apache Maven 3.9.2\ngrpc-netty-shaded 1.55.1\ngrpc-protobuf 1.55.1\ngrpc-stub 1.55.1\nprotobuf-java 3.23.2\nJDK 11.0.19\nmacOS 13.4 on Apple Silicon architecture\nMy .proto file looks like this:</p>\n<pre><code>syntax = &quot;proto3&quot;;\npackage agent;\n\noption java_multiple_files = true;\noption java_generic_services = true;\noption java_package = &quot;grpc&quot;;\noption java_outer_classname = &quot;AgentServerProto&quot;;\noption objc_class_prefix = &quot;Utm&quot;;\n\n// Service and message definitions omitted for brevity...\n</code></pre>\n<p>Despite setting option java_generic_services = true;, the generated Java code does not contain any of the expected service implementation base classes, like PanelServiceImplBase for my service definition.</p>\n<p>Even after updating the protoc version and following the appropriate steps for installation, I'm still encountering this issue.</p>\n<p>Could someone provide guidance on what could be causing this issue and how to resolve it? Thank you in advance.</p>\n<p>I initially encountered the problem when trying to generate gRPC Java classes using the protobuf-maven-plugin. My expectation was to have classes generated that are up-to-date, using io.grpc.Channel instead of the deprecated RpcChannel. I was also expecting to see the service implementation base classes generated based on my .proto file.</p>\n<p>I even tried different versions of the protobuf-maven-plugin, java SDK, generate the code from a windows laptop</p>\n"},{"tags":["java","spring","gradle","jar"],"comments":[{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1686075241,"post_id":76416505,"comment_id":134748696,"body_markdown":"I think you would end up with more complexity keeping them together in the end.  You would have to manage dependencies, paths, artifacts, and everything else otherwise, all with custom tasks and lots of other work.  Multi-module builds are pretty common, and the support is directly in gradle/directory structure.  As long as you recognize the pattern, there isn&#39;t a whole lot of complexity introduced doing it that way.","body":"I think you would end up with more complexity keeping them together in the end.  You would have to manage dependencies, paths, artifacts, and everything else otherwise, all with custom tasks and lots of other work.  Multi-module builds are pretty common, and the support is directly in gradle/directory structure.  As long as you recognize the pattern, there isn&#39;t a whole lot of complexity introduced doing it that way."}],"owner":{"account_id":28251515,"reputation":33,"user_id":21597685,"display_name":"Mateusz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686067703,"creation_date":1686067703,"question_id":76416505,"body_markdown":"Recently I got a requirement to separete a very small portion of the logic from a single-module gradle project into shared library, and upload it into private nexus. The logic behind it is that I want to create new micro service that will execute scheduled jobs (until now it was the responsibility of this single-module service), but we want to use the same repository classes that we already have in current project. I was wondering what is the best practice in this situation.\r\n\r\nAt first I didn&#39;t want to refactor the project into multi-module, because I would need to create two modules, move over 200 classes to the &quot;main&quot; module, and only few to &quot;shared&quot; module, so I just created a simple gradle task that will create a jar from files in one source set, and push it to maven, but i started to wondering if it is a anti-pattern this approach could be problematic in the future. Should I instead refactor the project into multiple modules and introduce more complexity but avoid custom gradle task?\r\n\r\ncode sample:\r\n\r\n```\r\nsourceSets {\r\n    create(&quot;shared&quot;) {\r\n        java.srcDirs(&quot;src/shared/java&quot;)\r\n        resources.srcDir(&quot;src/shared/resources&quot;)\r\n        compileClasspath += sourceSets.main.get().output + sourceSets.test.get().output\r\n        runtimeClasspath += sourceSets.main.get().output + sourceSets.test.get().output\r\n        addExtendsFromRelation(&quot;sharedImplementation&quot;, &quot;implementation&quot;, true)\r\n        addExtendsFromRelation(&quot;sharedRuntimeOnly&quot;, &quot;runtimeOnly&quot;, true)\r\n    }\r\n\r\nval sharedLibJar = tasks.register(&quot;sharedLibJar&quot;, Jar::class){\r\n    from(sourceSets[&quot;shared&quot;].output)\r\n    archiveFileName.set(&quot;foo.jar&quot;)\r\n}\r\npublishing{\r\n    publications{\r\n        create&lt;MavenPublication&gt;(&quot;fooLibrary&quot;) {\r\n            artifact(sharedLibJar)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Gradle - creating multiple jars within project","body":"<p>Recently I got a requirement to separete a very small portion of the logic from a single-module gradle project into shared library, and upload it into private nexus. The logic behind it is that I want to create new micro service that will execute scheduled jobs (until now it was the responsibility of this single-module service), but we want to use the same repository classes that we already have in current project. I was wondering what is the best practice in this situation.</p>\n<p>At first I didn't want to refactor the project into multi-module, because I would need to create two modules, move over 200 classes to the &quot;main&quot; module, and only few to &quot;shared&quot; module, so I just created a simple gradle task that will create a jar from files in one source set, and push it to maven, but i started to wondering if it is a anti-pattern this approach could be problematic in the future. Should I instead refactor the project into multiple modules and introduce more complexity but avoid custom gradle task?</p>\n<p>code sample:</p>\n<pre><code>sourceSets {\n    create(&quot;shared&quot;) {\n        java.srcDirs(&quot;src/shared/java&quot;)\n        resources.srcDir(&quot;src/shared/resources&quot;)\n        compileClasspath += sourceSets.main.get().output + sourceSets.test.get().output\n        runtimeClasspath += sourceSets.main.get().output + sourceSets.test.get().output\n        addExtendsFromRelation(&quot;sharedImplementation&quot;, &quot;implementation&quot;, true)\n        addExtendsFromRelation(&quot;sharedRuntimeOnly&quot;, &quot;runtimeOnly&quot;, true)\n    }\n\nval sharedLibJar = tasks.register(&quot;sharedLibJar&quot;, Jar::class){\n    from(sourceSets[&quot;shared&quot;].output)\n    archiveFileName.set(&quot;foo.jar&quot;)\n}\npublishing{\n    publications{\n        create&lt;MavenPublication&gt;(&quot;fooLibrary&quot;) {\n            artifact(sharedLibJar)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","actionlistener"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1686066964,"post_id":76416390,"comment_id":134746942,"body_markdown":"Due to a [moderator/volunteer strike](https://meta.stackexchange.com/questions/389811/moderator-strike-stack-overflow-inc-cannot-consistently-ignore-mistreat-and?r=Saves_AllUserSaves) I will not be performing any content curation on this question.","body":"Due to a <a href=\"https://meta.stackexchange.com/questions/389811/moderator-strike-stack-overflow-inc-cannot-consistently-ignore-mistreat-and?r=Saves_AllUserSaves\">moderator/volunteer strike</a> I will not be performing any content curation on this question."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1686068213,"post_id":76416390,"comment_id":134747198,"body_markdown":"This is too broad a question for stack overflow. You need to decide how the two applications are going to communicate (peer-to-peer/central server, protocol, etc.). Then you need to design each application to listen for incoming messages. When a message is received, perform an action based on the content/type of the message. Part of that action, or at least a consequence of that action, should be an update to the UI. All this will involve multithreading. But remember: The live scene graph of a JavaFX application _must_ only be interacted with on the _JavaFX Application Thread_.","body":"This is too broad a question for stack overflow. You need to decide how the two applications are going to communicate (peer-to-peer/central server, protocol, etc.). Then you need to design each application to listen for incoming messages. When a message is received, perform an action based on the content/type of the message. Part of that action, or at least a consequence of that action, should be an update to the UI. All this will involve multithreading. But remember: The live scene graph of a JavaFX application <i>must</i> only be interacted with on the <i>JavaFX Application Thread</i>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686150442,"post_id":76416390,"comment_id":134760382,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23969386,"reputation":21,"user_id":17958322,"display_name":"ahmad fakher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686066850,"creation_date":1686066850,"question_id":76416390,"body_markdown":"I have two separate java projects and I want to make something that w a button is clicked in the first project, the scene in project two changes.\r\nThe application is something that have the same idea of Uber so when the confirm button is clicked in the customer application, the scene in the employee app changes to show the location of the customer","title":"How to change a scene in project from another project","body":"<p>I have two separate java projects and I want to make something that w a button is clicked in the first project, the scene in project two changes.\nThe application is something that have the same idea of Uber so when the confirm button is clicked in the customer application, the scene in the employee app changes to show the location of the customer</p>\n"},{"tags":["java","python","excel","apache-poi","openpyxl"],"comments":[{"owner":{"account_id":14974112,"reputation":1060,"user_id":10810019,"display_name":"wstk"},"score":0,"creation_date":1588669383,"post_id":61609377,"comment_id":108980186,"body_markdown":"Take a look at OpenPyXL [https://openpyxl.readthedocs.io/en/stable/]","body":"Take a look at OpenPyXL [<a href=\"https://openpyxl.readthedocs.io/en/stable/]\" rel=\"nofollow noreferrer\">openpyxl.readthedocs.io/en/stable/]</a>"},{"owner":{"account_id":1486097,"reputation":11154,"user_id":1394353,"accept_rate":71,"display_name":"JL Peyret"},"score":0,"creation_date":1588697452,"post_id":61609377,"comment_id":108996161,"body_markdown":"why do you need a Java tag on this question, if it&#39;s not at all about Java?","body":"why do you need a Java tag on this question, if it&#39;s not at all about Java?"}],"answers":[{"tags":[],"owner":{"account_id":7681744,"reputation":33628,"user_id":5820814,"accept_rate":43,"display_name":"Mayank Porwal"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1588669445,"creation_date":1588669445,"answer_id":61609513,"question_id":61609377,"body_markdown":"Below are a few libraries which do that. Recommend going through them as per your requirements.\r\n\r\n 1. [`Pycel`](https://github.com/dgorissen/pycel)\r\n 2. [`formulas`](https://pypi.org/project/formulas/)\r\n 3. [`Pandas`](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_excel.html)\r\n 4. [`xlwt`](https://pypi.org/project/xlwt/)\r\n 5. [`Openpyxl`](https://openpyxl.readthedocs.io/en/stable/)\r\n\r\nThey all blend with excel really well. You can try these out.","title":"What is the best library in python to deal with excel files?","body":"<p>Below are a few libraries which do that. Recommend going through them as per your requirements.</p>\n\n<ol>\n<li><a href=\"https://github.com/dgorissen/pycel\" rel=\"nofollow noreferrer\"><code>Pycel</code></a></li>\n<li><a href=\"https://pypi.org/project/formulas/\" rel=\"nofollow noreferrer\"><code>formulas</code></a></li>\n<li><a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_excel.html\" rel=\"nofollow noreferrer\"><code>Pandas</code></a></li>\n<li><a href=\"https://pypi.org/project/xlwt/\" rel=\"nofollow noreferrer\"><code>xlwt</code></a></li>\n<li><a href=\"https://openpyxl.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\"><code>Openpyxl</code></a></li>\n</ol>\n\n<p>They all blend with excel really well. You can try these out.</p>\n"},{"tags":[],"owner":{"account_id":18407697,"reputation":116,"user_id":13408916,"display_name":"Adarsh"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1588671017,"creation_date":1588671017,"answer_id":61609928,"question_id":61609377,"body_markdown":"I would like to add some more libraries to Mayanks\r\n\r\n 1. matplotlib for data visualisation\r\n 2. Numpy\r\n 3. OpenpyXl\r\n 4. xlrd\r\n 5. xlwt\r\n 6. XlsxWriter\r\n\r\nYou can go through each and choose what suits best to your needs\r\n\r\n\r\n","title":"What is the best library in python to deal with excel files?","body":"<p>I would like to add some more libraries to Mayanks</p>\n\n<ol>\n<li>matplotlib for data visualisation</li>\n<li>Numpy</li>\n<li>OpenpyXl</li>\n<li>xlrd</li>\n<li>xlwt</li>\n<li>XlsxWriter</li>\n</ol>\n\n<p>You can go through each and choose what suits best to your needs</p>\n"},{"tags":[],"owner":{"account_id":11193371,"reputation":348,"user_id":8212940,"display_name":"Reza K Ghazi"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1686066296,"creation_date":1630772188,"answer_id":69057019,"question_id":61609377,"body_markdown":"The best ones as I worked with them are `XlsxWriter` and `xlwings`.\r\nBoth work smoothly and efficiently, and they are compatible with Python and Excel.\r\n\r\n`Xlwings` has two versions, `Free` and `Pro (paid version)`. The free** version has the complete ability and can do almost anything you need to work with an Excel file. With the paid version, you can get more functionality and support, which developers (not regular users) do not need most of the time.\r\n\r\nOn the other hand, `XlsxWriter` is also an excellent choice, and its user community has been growing fast recently. It supports all you need to work with an Excel file.\r\n\r\nBoth can be installed simply with `pip` and `conda`.\r\n\r\nThe other libraries, such as `xlrd` and `xlwt`, are designed in the past for handling the old version (**.xls**) files. They are not comparable with the other two libraries that I mentioned.\r\n\r\n`OpenPyXl` also is a decent library that can handle most of your needs. The library needs more support to grow. In my opinion, it is not well mature yet.\r\n\r\n`Pandas` and `pyexcel` libraries are also suitable for reading and writing data to an Excel file. I prefer **Pandas** because it is a mature and fast library that can handle big data. **pyexcel** is a wrapper API that is not capable as *Pandas*, and working with it is more complicated.\r\n\r\n`PyXLL` is a professional library that can handle almost everything a user wants in Excel with Python. One of the famous companies working on Python distributions, `Enthought`, supports the library. Unfortunately, there is no free or community version of it, and you can only choose a 30 days trial of the pro version. After that, you must pay at least $29 per month. It is powerful, but it is an expensive choice for a single developer.\r\n\r\nOf course, there are more `Libraries`, `Wrapers` and `APIs` for handling Excel files, but I mentioned the most mature and popular libraries.","title":"What is the best library in python to deal with excel files?","body":"<p>The best ones as I worked with them are <code>XlsxWriter</code> and <code>xlwings</code>.\nBoth work smoothly and efficiently, and they are compatible with Python and Excel.</p>\n<p><code>Xlwings</code> has two versions, <code>Free</code> and <code>Pro (paid version)</code>. The free** version has the complete ability and can do almost anything you need to work with an Excel file. With the paid version, you can get more functionality and support, which developers (not regular users) do not need most of the time.</p>\n<p>On the other hand, <code>XlsxWriter</code> is also an excellent choice, and its user community has been growing fast recently. It supports all you need to work with an Excel file.</p>\n<p>Both can be installed simply with <code>pip</code> and <code>conda</code>.</p>\n<p>The other libraries, such as <code>xlrd</code> and <code>xlwt</code>, are designed in the past for handling the old version (<strong>.xls</strong>) files. They are not comparable with the other two libraries that I mentioned.</p>\n<p><code>OpenPyXl</code> also is a decent library that can handle most of your needs. The library needs more support to grow. In my opinion, it is not well mature yet.</p>\n<p><code>Pandas</code> and <code>pyexcel</code> libraries are also suitable for reading and writing data to an Excel file. I prefer <strong>Pandas</strong> because it is a mature and fast library that can handle big data. <strong>pyexcel</strong> is a wrapper API that is not capable as <em>Pandas</em>, and working with it is more complicated.</p>\n<p><code>PyXLL</code> is a professional library that can handle almost everything a user wants in Excel with Python. One of the famous companies working on Python distributions, <code>Enthought</code>, supports the library. Unfortunately, there is no free or community version of it, and you can only choose a 30 days trial of the pro version. After that, you must pay at least $29 per month. It is powerful, but it is an expensive choice for a single developer.</p>\n<p>Of course, there are more <code>Libraries</code>, <code>Wrapers</code> and <code>APIs</code> for handling Excel files, but I mentioned the most mature and popular libraries.</p>\n"}],"owner":{"account_id":15988700,"reputation":119,"user_id":11538410,"display_name":"Aniket Kalamkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29190,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"closed_date":1631467674,"answer_count":3,"score":8,"last_activity_date":1686066296,"creation_date":1588668995,"question_id":61609377,"body_markdown":"I have big excel with lot of sheets and formulas interlinked within the sheets. I need to populate input in one sheet using the code and recalculate all the formulas to get my output from another sheet.\r\n\r\nI am able to do this with apache POI using Java but it is too slow in formula recalculation. Looking for libraries in Python to do the same.","title":"What is the best library in python to deal with excel files?","body":"<p>I have big excel with lot of sheets and formulas interlinked within the sheets. I need to populate input in one sheet using the code and recalculate all the formulas to get my output from another sheet.</p>\n<p>I am able to do this with apache POI using Java but it is too slow in formula recalculation. Looking for libraries in Python to do the same.</p>\n"},{"tags":["java","html","spring","templates","thymeleaf"],"owner":{"account_id":27643776,"reputation":1,"user_id":21100156,"display_name":"Bryan William"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686066181,"creation_date":1686066181,"question_id":76416304,"body_markdown":"On the following thymeleaf template trying to build a Resume, I applied classes with styles on the tags but thymeleaf just ignores it. For exemple the class pagina, sidebar, personal-data and dados-gerais, they are supose to be a flex display with one on eachside, but they are setas column, can anyone help?\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\r\n    &lt;title&gt;Meu Curr&#237;culo&lt;/title&gt;\r\n    &lt;style type=&quot;text/css&quot;&gt;\r\n        body,\r\n        html {\r\n            font-family: Arial, sans-serif;\r\n            height: 100vh;\r\n            margin: 0;\r\n            padding: 0;\r\n        }\r\n\r\n        .personal-data {\r\n            margin-bottom: 20px;\r\n            margin-top: 30px;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            padding: 30px;\r\n        }\r\n\r\n        .personal-data label {\r\n            font-weight: bold;\r\n        }\r\n\r\n        .personal-data p {\r\n            margin: 5px 0;\r\n        }\r\n\r\n        .imagem {\r\n            width: 80px;\r\n            height: 95px;\r\n            margin-right: 10px;\r\n            margin-bottom: 10px;\r\n            float: left;\r\n        }\r\n\r\n        .personal-data-content {\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n\r\n        .section {\r\n            clear: both;\r\n        }\r\n\r\n        .sidebar {\r\n            display: flex;\r\n            flex-direction: column;\r\n        }\r\n\r\n        .pagina {\r\n            display: flex;\r\n            flex-direction: row;\r\n        }\r\n\r\n        .dados-gerais {\r\n            margin-left: 30px;\r\n        }\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n&lt;div class=&quot;pagina&quot;&gt;\r\n    &lt;div class=&quot;sidebar&quot; th:style=&quot;&#39;background-color: &#39; + ${ctr.getCorCurriculo()}&quot;&gt;\r\n        &lt;div class=&quot;personal-data-content&quot;&gt;\r\n            &lt;div class=&quot;personal-data&quot; style=&quot;display: flex&quot;&gt;\r\n                &lt;div&gt;\r\n                    &lt;img th:src=&quot;${foto}&quot; class=&quot;imagem&quot;/&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;dados-gerais&quot;&gt;\r\n                    &lt;p th:style=&quot;&#39;color: &#39; + ${ctr.getCorDadosPessoaisCurriculo()}&quot;&gt;\r\n                        &lt;strong&gt;Localiza&#231;&#227;o:&lt;/strong&gt;&lt;span th:text=&quot;${localizacao}&quot;/&gt;\r\n                    &lt;/p&gt;\r\n                    &lt;p th:style=&quot;&#39;color: &#39; + ${ctr.getCorDadosPessoaisCurriculo()}&quot;&gt;\r\n                        &lt;strong&gt;Telefone:&lt;/strong&gt;&lt;span th:text=&quot;${telefone}&quot;/&gt;\r\n                    &lt;/p&gt;\r\n                    &lt;p th:style=&quot;&#39;color: &#39; + ${ctr.getCorDadosPessoaisCurriculo()}&quot;&gt;\r\n                        &lt;strong&gt;Email:&lt;/strong&gt;&lt;span th:text=&quot;${email}&quot;/&gt;\r\n                    &lt;/p&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n        &lt;div style=&quot;margin-top: 20px&quot;&gt;\r\n            &lt;div class=&quot;dados-gerais&quot;&gt;\r\n                &lt;h1 th:text=&quot;${nome}&quot;&gt;&lt;/h1&gt;\r\n                &lt;div th:each=&quot;campo: ${campos}&quot; class=&quot;section&quot;&gt;\r\n                    &lt;h2 th:class=&quot;section-title&quot; th:style=&quot;&#39;color: &#39; + ${ctr.getCorOutrosDadosCurriculo()}&quot;\r\n                        th:text=&quot;${campo.key}&quot;&gt;&lt;/h2&gt;\r\n                    &lt;div th:utext=&quot;${#strings.replace(campo.getValue(), &#39;\\n&#39;, &#39;&lt;br/&gt;&#39;)}&quot; th:class=&quot;section-content&quot;\r\n                         th:style=&quot;&#39;color: &#39; + ${ctr.getCorOutrosDadosCurriculo()}&quot; th:text=&quot;${campo.getValue()}&quot;&gt;&lt;/div&gt;\r\n                &lt;/div&gt;\r\n\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nTryied to use th:class tryied to rebuild the html file.\r\nI did use the sme html on a .html file on my browser and it works perfectly.\r\n\r\nI&#39;m creating the .pdf file this way:\r\n\r\n```\r\nContext context = new Context();\r\n\r\n        context.clearVariables();\r\n        templateEngine.clearTemplateCache();\r\n\r\n        context.setVariable(&quot;nome&quot;, fixos.get(&quot;nome&quot;));\r\n        context.setVariable(&quot;foto&quot;, fixos.get(&quot;foto&quot;));\r\n        context.setVariable(&quot;localizacao&quot;, fixos.get(&quot;localizacao&quot;));\r\n        context.setVariable(&quot;telefone&quot;, fixos.get(&quot;telefone&quot;));\r\n        context.setVariable(&quot;email&quot;, fixos.get(&quot;email&quot;));\r\n        context.setVariable(&quot;ctr&quot;, ctr);\r\n        context.setVariable(&quot;fixos&quot;, fixos);\r\n        context.setVariable(&quot;campos&quot;, campos);\r\n\r\n\r\n        String template = templateEngine.process(&quot;curriculo/curriculo2&quot;, context);\r\n        byte[] retorno = ThymeleafUtils.generatePdf(template);\r\n\r\n        context.clearVariables();\r\n        templateEngine.clearTemplateCache();\r\n\r\n        String base64 = Base64.getEncoder().encodeToString(retorno);\r\n        return amazonS3Service.uploadBase64 (base64, &quot;curriculo-&quot;+tr.getCidadao().getNome() + LocalDateTime.now() +&quot;.pdf&quot;, &quot;application/pdf&quot;);\r\n\r\npublic static byte[] generatePdf(String template) throws IOException, DocumentException {\r\n        try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\r\n            ITextRenderer renderer = new ITextRenderer();\r\n\r\n            String xHtml = convertToXhtml(template);\r\n\r\n            String baseUrl = FileSystems\r\n                    .getDefault()\r\n                    .getPath(&quot;src&quot;, &quot;test&quot;, &quot;resources&quot;)\r\n                    .toUri()\r\n                    .toURL()\r\n                    .toString();\r\n            renderer.setDocumentFromString(xHtml, baseUrl);\r\n            renderer.layout();\r\n            renderer.createPDF(out);\r\n\r\n            return out.toByteArray();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n```","title":"Thymeleaf html template do not respect the classes and styles","body":"<p>On the following thymeleaf template trying to build a Resume, I applied classes with styles on the tags but thymeleaf just ignores it. For exemple the class pagina, sidebar, personal-data and dados-gerais, they are supose to be a flex display with one on eachside, but they are setas column, can anyone help?</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\n    &lt;title&gt;Meu Currículo&lt;/title&gt;\n    &lt;style type=&quot;text/css&quot;&gt;\n        body,\n        html {\n            font-family: Arial, sans-serif;\n            height: 100vh;\n            margin: 0;\n            padding: 0;\n        }\n\n        .personal-data {\n            margin-bottom: 20px;\n            margin-top: 30px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            padding: 30px;\n        }\n\n        .personal-data label {\n            font-weight: bold;\n        }\n\n        .personal-data p {\n            margin: 5px 0;\n        }\n\n        .imagem {\n            width: 80px;\n            height: 95px;\n            margin-right: 10px;\n            margin-bottom: 10px;\n            float: left;\n        }\n\n        .personal-data-content {\n            display: flex;\n            align-items: center;\n        }\n\n        .section {\n            clear: both;\n        }\n\n        .sidebar {\n            display: flex;\n            flex-direction: column;\n        }\n\n        .pagina {\n            display: flex;\n            flex-direction: row;\n        }\n\n        .dados-gerais {\n            margin-left: 30px;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;div class=&quot;pagina&quot;&gt;\n    &lt;div class=&quot;sidebar&quot; th:style=&quot;'background-color: ' + ${ctr.getCorCurriculo()}&quot;&gt;\n        &lt;div class=&quot;personal-data-content&quot;&gt;\n            &lt;div class=&quot;personal-data&quot; style=&quot;display: flex&quot;&gt;\n                &lt;div&gt;\n                    &lt;img th:src=&quot;${foto}&quot; class=&quot;imagem&quot;/&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;dados-gerais&quot;&gt;\n                    &lt;p th:style=&quot;'color: ' + ${ctr.getCorDadosPessoaisCurriculo()}&quot;&gt;\n                        &lt;strong&gt;Localização:&lt;/strong&gt;&lt;span th:text=&quot;${localizacao}&quot;/&gt;\n                    &lt;/p&gt;\n                    &lt;p th:style=&quot;'color: ' + ${ctr.getCorDadosPessoaisCurriculo()}&quot;&gt;\n                        &lt;strong&gt;Telefone:&lt;/strong&gt;&lt;span th:text=&quot;${telefone}&quot;/&gt;\n                    &lt;/p&gt;\n                    &lt;p th:style=&quot;'color: ' + ${ctr.getCorDadosPessoaisCurriculo()}&quot;&gt;\n                        &lt;strong&gt;Email:&lt;/strong&gt;&lt;span th:text=&quot;${email}&quot;/&gt;\n                    &lt;/p&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n        &lt;div style=&quot;margin-top: 20px&quot;&gt;\n            &lt;div class=&quot;dados-gerais&quot;&gt;\n                &lt;h1 th:text=&quot;${nome}&quot;&gt;&lt;/h1&gt;\n                &lt;div th:each=&quot;campo: ${campos}&quot; class=&quot;section&quot;&gt;\n                    &lt;h2 th:class=&quot;section-title&quot; th:style=&quot;'color: ' + ${ctr.getCorOutrosDadosCurriculo()}&quot;\n                        th:text=&quot;${campo.key}&quot;&gt;&lt;/h2&gt;\n                    &lt;div th:utext=&quot;${#strings.replace(campo.getValue(), '\\n', '&lt;br/&gt;')}&quot; th:class=&quot;section-content&quot;\n                         th:style=&quot;'color: ' + ${ctr.getCorOutrosDadosCurriculo()}&quot; th:text=&quot;${campo.getValue()}&quot;&gt;&lt;/div&gt;\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Tryied to use th:class tryied to rebuild the html file.\nI did use the sme html on a .html file on my browser and it works perfectly.</p>\n<p>I'm creating the .pdf file this way:</p>\n<pre><code>Context context = new Context();\n\n        context.clearVariables();\n        templateEngine.clearTemplateCache();\n\n        context.setVariable(&quot;nome&quot;, fixos.get(&quot;nome&quot;));\n        context.setVariable(&quot;foto&quot;, fixos.get(&quot;foto&quot;));\n        context.setVariable(&quot;localizacao&quot;, fixos.get(&quot;localizacao&quot;));\n        context.setVariable(&quot;telefone&quot;, fixos.get(&quot;telefone&quot;));\n        context.setVariable(&quot;email&quot;, fixos.get(&quot;email&quot;));\n        context.setVariable(&quot;ctr&quot;, ctr);\n        context.setVariable(&quot;fixos&quot;, fixos);\n        context.setVariable(&quot;campos&quot;, campos);\n\n\n        String template = templateEngine.process(&quot;curriculo/curriculo2&quot;, context);\n        byte[] retorno = ThymeleafUtils.generatePdf(template);\n\n        context.clearVariables();\n        templateEngine.clearTemplateCache();\n\n        String base64 = Base64.getEncoder().encodeToString(retorno);\n        return amazonS3Service.uploadBase64 (base64, &quot;curriculo-&quot;+tr.getCidadao().getNome() + LocalDateTime.now() +&quot;.pdf&quot;, &quot;application/pdf&quot;);\n\npublic static byte[] generatePdf(String template) throws IOException, DocumentException {\n        try (ByteArrayOutputStream out = new ByteArrayOutputStream()) {\n            ITextRenderer renderer = new ITextRenderer();\n\n            String xHtml = convertToXhtml(template);\n\n            String baseUrl = FileSystems\n                    .getDefault()\n                    .getPath(&quot;src&quot;, &quot;test&quot;, &quot;resources&quot;)\n                    .toUri()\n                    .toURL()\n                    .toString();\n            renderer.setDocumentFromString(xHtml, baseUrl);\n            renderer.layout();\n            renderer.createPDF(out);\n\n            return out.toByteArray();\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1686067402,"post_id":76416278,"comment_id":134747026,"body_markdown":"This is a message about `java.lang.SecurityManager` which should not be used anymore.","body":"This is a message about <code>java.lang.SecurityManager</code> which should not be used anymore."},{"owner":{"account_id":28766041,"reputation":11,"user_id":22030934,"display_name":"Yusuf amr"},"score":0,"creation_date":1686129945,"post_id":76416278,"comment_id":134755626,"body_markdown":"How can I disable it?","body":"How can I disable it?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1686152255,"post_id":76416278,"comment_id":134760803,"body_markdown":"You don&#39;t &quot;disable&quot; it. The message means some code is using the `SecurityManager` class and should be rewritten not to use SecurityManager.","body":"You don&#39;t &quot;disable&quot; it. The message means some code is using the <code>SecurityManager</code> class and should be rewritten not to use SecurityManager."},{"owner":{"account_id":28766041,"reputation":11,"user_id":22030934,"display_name":"Yusuf amr"},"score":0,"creation_date":1686157845,"post_id":76416278,"comment_id":134761945,"body_markdown":"Okay I got it Thank you","body":"Okay I got it Thank you"}],"owner":{"account_id":28766041,"reputation":11,"user_id":22030934,"display_name":"Yusuf amr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686066101,"creation_date":1686065887,"question_id":76416278,"body_markdown":"[problem that appears](https://i.stack.imgur.com/r2gEU.png)\r\nwhen I try to export Deployment Features for my plugins In Capella studio security problem occurred  .\r\n\r\nI tried to disable security manager but didn&#39;t find it. \r\n\r\nI use JDK-17 and Capella-studio 6.0.0.","title":"when I try to export Deployment Features In Capella studio security problem occurred","body":"<p><a href=\"https://i.stack.imgur.com/r2gEU.png\" rel=\"nofollow noreferrer\">problem that appears</a>\nwhen I try to export Deployment Features for my plugins In Capella studio security problem occurred  .</p>\n<p>I tried to disable security manager but didn't find it.</p>\n<p>I use JDK-17 and Capella-studio 6.0.0.</p>\n"},{"tags":["java","spring-boot","maven","azure-devops","gitversion"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1686066269,"post_id":76416268,"comment_id":134746801,"body_markdown":"https://maven.apache.org/maven-ci-friendly.html#install-deploy: If you like to install or deploy artifacts by using the above setup you **have to** use the flatten-maven-plugin otherwise you will install/deploy artifacts in your repository which will not be consumable by Maven anymore","body":"<a href=\"https://maven.apache.org/maven-ci-friendly.html#install-deploy\" rel=\"nofollow noreferrer\">maven.apache.org/maven-ci-friendly.html#install-deploy</a>: If you like to install or deploy artifacts by using the above setup you <b>have to</b> use the flatten-maven-plugin otherwise you will install/deploy artifacts in your repository which will not be consumable by Maven anymore"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1686146078,"post_id":76416268,"comment_id":134759176,"body_markdown":"Well, you chose microservices - of course version changing will always be tedious. no way around that. Plus i disagree that you say you should not put the version in the pom. Of course things are not working when you dont do that...","body":"Well, you chose microservices - of course version changing will always be tedious. no way around that. Plus i disagree that you say you should not put the version in the pom. Of course things are not working when you dont do that..."}],"owner":{"account_id":5315020,"reputation":639,"user_id":4240189,"accept_rate":56,"display_name":"Fernando Martin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686065819,"creation_date":1686065819,"question_id":76416268,"body_markdown":"I have a development in course, based on many projects (each of which represents a microservice). All of them are using the Spring Boot Framework and must be compiled in Azure Devops in order to generate the final docker image that must be archived into Azure Artifacts.\r\n\r\n* Ideally, the project version should not be entered manually into the **pom.xml** file. That would make version changing tedious. Instead, gitversion is being used (GitVersion.yml file used to determine the version according to some rules (not the scope of this question))\r\n\r\n```\r\n$ gitversion | jq .SemVer     \r\n&quot;1.0.10&quot;\r\n```\r\n\r\n* Since Maven version 3.5 placeholders are allowed in **version** property and so, are being used:\r\n\r\n```\r\n    ...\r\n    &lt;artifactId&gt;service1&lt;/artifactId&gt;\r\n\t&lt;version&gt;${revision}${changelist}&lt;/version&gt;\r\n    ...\r\n```\r\n\r\nLocally this can be compiled with a mvn command like this one:\r\n\r\n```\r\n$ mvn clean package -Drevision=$(gitversion | jq .SemVer | sed &#39;s/^&quot;\\|&quot;$//g&#39;) -Dchangelist=&quot;-SNAPSHOT&quot; -DskipTests=true\r\n```\r\n\r\nAnd in Azure, everything also works as expected thanks to this pipelines that makes usage of GitTools extension:\r\n\r\n```\r\n# Maven\r\n# Build your Java project and run tests with Apache Maven.\r\n# Add steps that analyze code, save build artifacts, deploy, and more:\r\n# https://docs.microsoft.com/azure/devops/pipelines/languages/java\r\n\r\ntrigger:\r\n- main\r\n\r\npool:\r\n  vmImage: ubuntu-latest\r\n\r\nsteps:\r\n- checkout: self\r\n  displayName: Git Checkout\r\n  persistCredentials: true\r\n\r\n- script: git fetch --unshallow\r\n  displayName: Git Fetch\r\n\r\n- task: gitversion/setup@0\r\n  displayName: GitVersion Setup\r\n  inputs:\r\n    versionSpec: &#39;5.x&#39;\r\n\r\n- task: gitversion/execute@0\r\n  displayName: GitVersion Execute\r\n  inputs:\r\n    useConfigFile: true\r\n    configFilePath: &#39;GitVersion.yml&#39;\r\n\r\n- task: Bash@3\r\n  displayName: Display Semantic Version\r\n  inputs:\r\n    targetType: &#39;inline&#39;\r\n    script: |\r\n      echo &quot;Semantic Version equal to &#39;$(GitVersion.SemVer)&#39;&quot;\r\n      echo &quot;Changelist equal to &#39;$(changelist)&#39;&quot;\r\n\r\n- task: Maven@3\r\n  displayName: Maven Compilation\r\n  inputs:\r\n    mavenPomFile: &#39;pom.xml&#39;\r\n    mavenOptions: &#39;-Xmx3072m&#39;\r\n    javaHomeOption: &#39;JDKVersion&#39;\r\n    jdkVersionOption: &#39;1.17&#39;\r\n    jdkArchitectureOption: &#39;x64&#39;\r\n    publishJUnitResults: true\r\n    testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n    codeCoverageToolOption: &#39;JaCoCo&#39;\r\n    goals: &#39;package deploy -Drevision=$(GitVersion.SemVer) -Dchangelist=$(changelist)&#39;\r\n    options: &#39;-DskipTests=true&#39;\r\n    mavenAuthenticateFeed: true\r\n    effectivePomSkip: true\r\n\r\n- task: Docker@2\r\n  displayName: Build and Push Docker image\r\n  inputs:\r\n    containerRegistry: &#39;mycontainerregistry&#39;\r\n    repository: &#39;service1&#39;\r\n    dockerfile: &#39;Dockerfile&#39;\r\n    command: &#39;buildAndPush&#39;\r\n    tags: |\r\n      $(GitVersion.SemVer)$(changelist)\r\n      latest\r\n```\r\n\r\nSo basically all requirements are satisfied except for the following issue:\r\n\r\nI have intentionally forgotten one important thing, some projects are treated as libraries, and so, are being used/imported by the other projects. Here is where versioning gains importance.\r\n\r\n1. IDE (STS (eclipse fork)) is not capable (or at least i have no idea of setting it up properly) of resolving those version placeholders. This is uncomfortable to navigate through source code (see attached image) but mainly, it is very annoying because it affects the development flow:\r\n\r\n[![Source not found][1]][1]\r\n\r\nmake changes in library requires...\r\n1. git commit\r\n2. azure compilation\r\n3. jar download from artifacts\r\n\r\n...in order to apply those changes in project that makes usage of it. Of course I would like that flow to be completely transparent.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KHxDj.png","title":"Proper maven projects versioning strategy","body":"<p>I have a development in course, based on many projects (each of which represents a microservice). All of them are using the Spring Boot Framework and must be compiled in Azure Devops in order to generate the final docker image that must be archived into Azure Artifacts.</p>\n<ul>\n<li>Ideally, the project version should not be entered manually into the <strong>pom.xml</strong> file. That would make version changing tedious. Instead, gitversion is being used (GitVersion.yml file used to determine the version according to some rules (not the scope of this question))</li>\n</ul>\n<pre><code>$ gitversion | jq .SemVer     \n&quot;1.0.10&quot;\n</code></pre>\n<ul>\n<li>Since Maven version 3.5 placeholders are allowed in <strong>version</strong> property and so, are being used:</li>\n</ul>\n<pre><code>    ...\n    &lt;artifactId&gt;service1&lt;/artifactId&gt;\n    &lt;version&gt;${revision}${changelist}&lt;/version&gt;\n    ...\n</code></pre>\n<p>Locally this can be compiled with a mvn command like this one:</p>\n<pre><code>$ mvn clean package -Drevision=$(gitversion | jq .SemVer | sed 's/^&quot;\\|&quot;$//g') -Dchangelist=&quot;-SNAPSHOT&quot; -DskipTests=true\n</code></pre>\n<p>And in Azure, everything also works as expected thanks to this pipelines that makes usage of GitTools extension:</p>\n<pre><code># Maven\n# Build your Java project and run tests with Apache Maven.\n# Add steps that analyze code, save build artifacts, deploy, and more:\n# https://docs.microsoft.com/azure/devops/pipelines/languages/java\n\ntrigger:\n- main\n\npool:\n  vmImage: ubuntu-latest\n\nsteps:\n- checkout: self\n  displayName: Git Checkout\n  persistCredentials: true\n\n- script: git fetch --unshallow\n  displayName: Git Fetch\n\n- task: gitversion/setup@0\n  displayName: GitVersion Setup\n  inputs:\n    versionSpec: '5.x'\n\n- task: gitversion/execute@0\n  displayName: GitVersion Execute\n  inputs:\n    useConfigFile: true\n    configFilePath: 'GitVersion.yml'\n\n- task: Bash@3\n  displayName: Display Semantic Version\n  inputs:\n    targetType: 'inline'\n    script: |\n      echo &quot;Semantic Version equal to '$(GitVersion.SemVer)'&quot;\n      echo &quot;Changelist equal to '$(changelist)'&quot;\n\n- task: Maven@3\n  displayName: Maven Compilation\n  inputs:\n    mavenPomFile: 'pom.xml'\n    mavenOptions: '-Xmx3072m'\n    javaHomeOption: 'JDKVersion'\n    jdkVersionOption: '1.17'\n    jdkArchitectureOption: 'x64'\n    publishJUnitResults: true\n    testResultsFiles: '**/surefire-reports/TEST-*.xml'\n    codeCoverageToolOption: 'JaCoCo'\n    goals: 'package deploy -Drevision=$(GitVersion.SemVer) -Dchangelist=$(changelist)'\n    options: '-DskipTests=true'\n    mavenAuthenticateFeed: true\n    effectivePomSkip: true\n\n- task: Docker@2\n  displayName: Build and Push Docker image\n  inputs:\n    containerRegistry: 'mycontainerregistry'\n    repository: 'service1'\n    dockerfile: 'Dockerfile'\n    command: 'buildAndPush'\n    tags: |\n      $(GitVersion.SemVer)$(changelist)\n      latest\n</code></pre>\n<p>So basically all requirements are satisfied except for the following issue:</p>\n<p>I have intentionally forgotten one important thing, some projects are treated as libraries, and so, are being used/imported by the other projects. Here is where versioning gains importance.</p>\n<ol>\n<li>IDE (STS (eclipse fork)) is not capable (or at least i have no idea of setting it up properly) of resolving those version placeholders. This is uncomfortable to navigate through source code (see attached image) but mainly, it is very annoying because it affects the development flow:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/KHxDj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KHxDj.png\" alt=\"Source not found\" /></a></p>\n<p>make changes in library requires...</p>\n<ol>\n<li>git commit</li>\n<li>azure compilation</li>\n<li>jar download from artifacts</li>\n</ol>\n<p>...in order to apply those changes in project that makes usage of it. Of course I would like that flow to be completely transparent.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":15602203,"reputation":149,"user_id":11256018,"display_name":"IbrahimTG99"},"score":0,"creation_date":1686071066,"post_id":76416183,"comment_id":134747808,"body_markdown":"You should look into viewbinding aswell it will help you when dealing with multiple views https://developer.android.com/topic/libraries/view-binding#java","body":"You should look into viewbinding aswell it will help you when dealing with multiple views <a href=\"https://developer.android.com/topic/libraries/view-binding#java\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/view-binding#java</a>"}],"answers":[{"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1686071404,"post_id":76416262,"comment_id":134747876,"body_markdown":"Great, can you also accept the answer?","body":"Great, can you also accept the answer?"}],"tags":[],"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686065790,"creation_date":1686065790,"answer_id":76416262,"question_id":76416183,"body_markdown":"Your views variables are indeed `null`.\\\r\nTry like this:\r\n\r\n```java\r\nrecyclerView = findViewById(R.id.recycle_home);\r\nfabAdd = findViewById(R.id.fab_add);\r\n```","title":"What i am missing? RecyclingView findViewById returns java.lang.NullPointerException","body":"<p>Your views variables are indeed <code>null</code>.<br />\nTry like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>recyclerView = findViewById(R.id.recycle_home);\nfabAdd = findViewById(R.id.fab_add);\n</code></pre>\n"}],"owner":{"account_id":13469594,"reputation":3,"user_id":9718616,"display_name":"Gherasim Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76416262,"answer_count":1,"score":-1,"last_activity_date":1686065790,"creation_date":1686065315,"question_id":76416183,"body_markdown":"I don&#39;t get what I am missing. Can someone help me with this please?\r\n**I tried invalidate caches. Delete all imports. Nothing is working.**\r\n\r\n`The error i get is this:`\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.circleapp/com.example.circleapp.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)&#39; on a null object reference\r\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\nat android.os.Handler.dispatchMessage(Handler.java:106)\r\nat android.os.Looper.loop(Looper.java:223)\r\nat android.app.ActivityThread.main(ActivityThread.java:7656)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```\r\n\r\n**This is my main MainActivity class **\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView;\r\n    NotesListAdapter notesListAdapter;\r\n    List&lt;Notes&gt; notes = new ArrayList&lt;&gt;();\r\n    RoomDB database;\r\n    FloatingActionButton fabAdd;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n```\r\nWhen I cltrl + click on recycle_home it redirects me to the activity-main.xml.\r\n\r\nHere, on recyclerView i get the nullpointer.\r\n\r\n```\r\n        recyclerView.findViewById(R.id.recycle_home);\r\n        fabAdd.findViewById(R.id.fab_add);\r\n\r\n        database = RoomDB.getInstance(this);\r\n\r\n        notes = database.mainDAO().getAll();\r\n\r\n        updateRecycler(notes);\r\n\r\n        fabAdd.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, NotesActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n```\r\nThis is my main activity_main.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@color/black&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/recycle_home&quot;\r\n        android:layout_margin=&quot;8dp&quot;\r\n        /&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_margin=&quot;24dp&quot;\r\n        android:src=&quot;@drawable/ic_add&quot;\r\n        android:id=&quot;@+id/fab_add&quot;\r\n        /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```","title":"What i am missing? RecyclingView findViewById returns java.lang.NullPointerException","body":"<p>I don't get what I am missing. Can someone help me with this please?\n<strong>I tried invalidate caches. Delete all imports. Nothing is working.</strong></p>\n<p><code>The error i get is this:</code></p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.circleapp/com.example.circleapp.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View androidx.recyclerview.widget.RecyclerView.findViewById(int)' on a null object reference\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>**This is my main MainActivity class **</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n    NotesListAdapter notesListAdapter;\n    List&lt;Notes&gt; notes = new ArrayList&lt;&gt;();\n    RoomDB database;\n    FloatingActionButton fabAdd;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n</code></pre>\n<p>When I cltrl + click on recycle_home it redirects me to the activity-main.xml.</p>\n<p>Here, on recyclerView i get the nullpointer.</p>\n<pre><code>        recyclerView.findViewById(R.id.recycle_home);\n        fabAdd.findViewById(R.id.fab_add);\n\n        database = RoomDB.getInstance(this);\n\n        notes = database.mainDAO().getAll();\n\n        updateRecycler(notes);\n\n        fabAdd.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MainActivity.this, NotesActivity.class);\n                startActivity(intent);\n            }\n        });\n    }\n\n</code></pre>\n<p>This is my main activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@color/black&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/recycle_home&quot;\n        android:layout_margin=&quot;8dp&quot;\n        /&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_margin=&quot;24dp&quot;\n        android:src=&quot;@drawable/ic_add&quot;\n        android:id=&quot;@+id/fab_add&quot;\n        /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":334953,"reputation":3321,"user_id":661740,"accept_rate":58,"display_name":"Greg Dougherty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686065644,"creation_date":1686065644,"question_id":76416233,"body_markdown":"I am moving Spring 4 to 5.\r\n\r\nWhat I&#39;d really like is to find a fully fleshed out Spring 5 app with MSSql DB access and a pom that has all the dependencies I need, that I can grab from as desired.\r\n\r\nI can&#39;t find such a thing.\r\n\r\nMy current problem is that my existing app uses org/springframework/data/jdbc/support/ConnectionPreparer.class from \r\n~/.m2/repository/org/springframework/data/spring-data-jdbc-core/1.1.0.RELEASE/spring-data-jdbc-core-1.1.0.RELEASE.jar\r\n\r\nI can&#39;t get Spring 5 to admit that such a class should exist.  Where do I find it?\r\n","title":"What has replaced org/springframework/data/jdbc/support/ConnectionPreparer.class in Spring 5?","body":"<p>I am moving Spring 4 to 5.</p>\n<p>What I'd really like is to find a fully fleshed out Spring 5 app with MSSql DB access and a pom that has all the dependencies I need, that I can grab from as desired.</p>\n<p>I can't find such a thing.</p>\n<p>My current problem is that my existing app uses org/springframework/data/jdbc/support/ConnectionPreparer.class from\n~/.m2/repository/org/springframework/data/spring-data-jdbc-core/1.1.0.RELEASE/spring-data-jdbc-core-1.1.0.RELEASE.jar</p>\n<p>I can't get Spring 5 to admit that such a class should exist.  Where do I find it?</p>\n"},{"tags":["java","spring-boot","maven","swagger"],"owner":{"account_id":394930,"reputation":2674,"user_id":757634,"accept_rate":91,"display_name":"Jayanga Kaushalya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686065528,"creation_date":1686065528,"question_id":76416221,"body_markdown":"I have a application which is Swagger First and code is generated by `openapi-generator-maven-plugin` using `spring` generator. \r\n\r\nI have variable in the server url as below (`{tenant-domain}`). \r\n```\r\nservers:\r\n  - url: https://{host-name}/t/{tenant-domain}/api/\r\n```\r\nPaths begin after this and I have no issue in accessing path parameters using the generated code.\r\n```\r\npaths:\r\n  /{org-uuid}/status\r\n```\r\n\r\nHow can I access the {tenant-domain} parameter in the base URL? \r\n\r\nI would like to use the generated code as it is without modifying manually because if I do that, I have to modify it at every maven code build. \r\n\r\n(I know I can modify the code manually and add the `tenant-domain` parameter to the which ever the method I need it. But I was hoping a mechanism without manually modifying the generated code.)\r\n\r\nThanks in advance. ","title":"How to access parameter in base url in Swagger + Spring Boot","body":"<p>I have a application which is Swagger First and code is generated by <code>openapi-generator-maven-plugin</code> using <code>spring</code> generator.</p>\n<p>I have variable in the server url as below (<code>{tenant-domain}</code>).</p>\n<pre><code>servers:\n  - url: https://{host-name}/t/{tenant-domain}/api/\n</code></pre>\n<p>Paths begin after this and I have no issue in accessing path parameters using the generated code.</p>\n<pre><code>paths:\n  /{org-uuid}/status\n</code></pre>\n<p>How can I access the {tenant-domain} parameter in the base URL?</p>\n<p>I would like to use the generated code as it is without modifying manually because if I do that, I have to modify it at every maven code build.</p>\n<p>(I know I can modify the code manually and add the <code>tenant-domain</code> parameter to the which ever the method I need it. But I was hoping a mechanism without manually modifying the generated code.)</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","file-io","fileinputstream","objectinputstream"],"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1277159315,"post_id":2626163,"comment_id":3166640,"body_markdown":"I&#39;m doing the same thing--but I&#39;m tailing an active log.  I would like it to wait until more data is there as long as the program is writing, but tell me when it&#39;s done writing.  I&#39;m not sure if there is any way to do this without catching the exception.  (The tailing part works fine, it&#39;s just getting it to exit when it&#39;s done that&#39;s bugging me)","body":"I&#39;m doing the same thing--but I&#39;m tailing an active log.  I would like it to wait until more data is there as long as the program is writing, but tell me when it&#39;s done writing.  I&#39;m not sure if there is any way to do this without catching the exception.  (The tailing part works fine, it&#39;s just getting it to exit when it&#39;s done that&#39;s bugging me)"}],"answers":[{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":8,"creation_date":1271118863,"post_id":2626193,"comment_id":2639292,"body_markdown":"If the last &#39;object&#39; written to the stream was `null`, then you would read the `null` reference fine. It&#39;s normal for `null`s to be a part of the serial form, and there is a special representation for it in the serial format. A `null` at the end, or some other sentinel, is much cleaner that a count.","body":"If the last &#39;object&#39; written to the stream was <code>null</code>, then you would read the <code>null</code> reference fine. It&#39;s normal for <code>null</code>s to be a part of the serial form, and there is a special representation for it in the serial format. A <code>null</code> at the end, or some other sentinel, is much cleaner that a count."},{"owner":{"account_id":26634,"reputation":27155,"user_id":69514,"accept_rate":70,"display_name":"user69514"},"score":0,"creation_date":1271122454,"post_id":2626193,"comment_id":2639467,"body_markdown":"Thanks I just wrote null after all the contents so signal where the end of the file was. It worked prefect.","body":"Thanks I just wrote null after all the contents so signal where the end of the file was. It worked prefect."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1271144190,"post_id":2626193,"comment_id":2640762,"body_markdown":"But it doesn&#39;t accomplish that, unless you assume you&#39;ve never written a null at any other point.\n\nThe *correct* answer is to catch EOFException and use *that* to terminate the loop.","body":"But it doesn&#39;t accomplish that, unless you assume you&#39;ve never written a null at any other point.  The <i>correct</i> answer is to catch EOFException and use <i>that</i> to terminate the loop."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1271154529,"post_id":2626193,"comment_id":2641739,"body_markdown":"@EJP No really, don&#39;t go around catch `EOFException` to terminate loops.","body":"@EJP No really, don&#39;t go around catch <code>EOFException</code> to terminate loops."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1271161996,"post_id":2626193,"comment_id":2642523,"body_markdown":"A pointless comment. You don&#39;t have any choice except in the case of InputStream.read(), Reader.read(), and the various readLine() methods.","body":"A pointless comment. You don&#39;t have any choice except in the case of InputStream.read(), Reader.read(), and the various readLine() methods."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":5,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1686065527,"creation_date":1271116753,"answer_id":2626193,"question_id":2626163,"body_markdown":"`readObject()` doesn&#39;t return `null` at EOF. You could catch the `EOFException` and interpret it as EOF, but this would fail to distinguish a normal EOF from a file that has been truncated. \r\n\r\nA better approach would be to use some meta-data. That is, rather than asking the `ObjectInput` how many objects are in the stream, you should store the count somewhere. For example, you could create a meta-data class that records the count and other meta-data and store an instance as the first object in each file. Or you could create a special EOF marker class and store an instance as the last object in each file.","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p><code>readObject()</code> doesn't return <code>null</code> at EOF. You could catch the <code>EOFException</code> and interpret it as EOF, but this would fail to distinguish a normal EOF from a file that has been truncated.</p>\n<p>A better approach would be to use some meta-data. That is, rather than asking the <code>ObjectInput</code> how many objects are in the stream, you should store the count somewhere. For example, you could create a meta-data class that records the count and other meta-data and store an instance as the first object in each file. Or you could create a special EOF marker class and store an instance as the last object in each file.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1271144075,"post_id":2626201,"comment_id":2640751,"body_markdown":"&#39;No, you need to know how many objects there is in the binary file&#39;. No you don&#39;t. &#39;I am not sure if this is 100% sure.&#39; It isn&#39;t. There&#39;s a specific statement in the Javadoc about that.","body":"&#39;No, you need to know how many objects there is in the binary file&#39;. No you don&#39;t. &#39;I am not sure if this is 100% sure.&#39; It isn&#39;t. There&#39;s a specific statement in the Javadoc about that."}],"tags":[],"owner":{"account_id":109947,"reputation":4595,"user_id":291108,"accept_rate":79,"display_name":"Manuel Darveau"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1271116976,"creation_date":1271116976,"answer_id":2626201,"question_id":2626163,"body_markdown":"No, you need to know how many objects there is in the binary file. You could write the number of objects at the beginning of the file (using writeInt for example) and read it while loading it.\r\n\r\nAnother option is to call ois.available() and loop until it returns 0. However, I am not sure if this is 100% sure.","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>No, you need to know how many objects there is in the binary file. You could write the number of objects at the beginning of the file (using writeInt for example) and read it while loading it.</p>\n\n<p>Another option is to call ois.available() and loop until it returns 0. However, I am not sure if this is 100% sure.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1271144038,"post_id":2626292,"comment_id":2640748,"body_markdown":"Incorrect. EOFException is normal, and unless he wrote a null there is no reason to terminate the loop at null so his loop is wrong.","body":"Incorrect. EOFException is normal, and unless he wrote a null there is no reason to terminate the loop at null so his loop is wrong."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1271154438,"post_id":2626292,"comment_id":2641722,"body_markdown":"@EJP You what?! Why wouldn&#39;t a `null` be written if a `null` was expected to be read?","body":"@EJP You what?! Why wouldn&#39;t a <code>null</code> be written if a <code>null</code> was expected to be read?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1271234347,"post_id":2626292,"comment_id":2649906,"body_markdown":"That&#39;s exactly my point. If you want a null to be read, write a null. If you want EOFException to be caught, close the stream. These are two different actions. Conflating them serves no useful purpose.","body":"That&#39;s exactly my point. If you want a null to be read, write a null. If you want EOFException to be caught, close the stream. These are two different actions. Conflating them serves no useful purpose."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1271119048,"creation_date":1271118742,"answer_id":2626292,"question_id":2626163,"body_markdown":"It looks like the problem is with the data that you wrote out. Assuming the data is written as expected by this code, there shouldn&#39;t be a problem.\r\n\r\n(I see you are reading `String`s. This `ObectInputStream` isn&#39;t for reading text files. Use `InputStreamReader` and `BufferedReader.readLine` for that. Similarly if you have written the file with `DataOutputSteam.writeUTF`, read it with `DataInputStream.readUTF`)","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>It looks like the problem is with the data that you wrote out. Assuming the data is written as expected by this code, there shouldn't be a problem.</p>\n\n<p>(I see you are reading <code>String</code>s. This <code>ObectInputStream</code> isn't for reading text files. Use <code>InputStreamReader</code> and <code>BufferedReader.readLine</code> for that. Similarly if you have written the file with <code>DataOutputSteam.writeUTF</code>, read it with <code>DataInputStream.readUTF</code>)</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1271234276,"post_id":2627746,"comment_id":2649901,"body_markdown":"How exactly is it dangerous? Chapter and verse please.\n\nIn any case as I have already said here, you don&#39;t have any alternative, unless you write a &#39;null&#39; to the ObjectOutputStream, in which case you are removing all the other useful uses of that action.","body":"How exactly is it dangerous? Chapter and verse please.  In any case as I have already said here, you don&#39;t have any alternative, unless you write a &#39;null&#39; to the ObjectOutputStream, in which case you are removing all the other useful uses of that action."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1271319982,"post_id":2627746,"comment_id":2658680,"body_markdown":"Tom\n\n1. Please stop waffling and answer the question. Tell us exactly what is &#39;dangerous&#39; about this:\n\ncatch (EOFException exc)\n{\n  break;\n}\n\n2. Please tell us how to read an entire ObjectInputStream without catching EOFException and without constraining the writer of that stream as to how to do it. You can&#39;t. It can&#39;t be done. EOFException is the only mechanism.","body":"Tom  1. Please stop waffling and answer the question. Tell us exactly what is &#39;dangerous&#39; about this:  catch (EOFException exc) {   break; }  2. Please tell us how to read an entire ObjectInputStream without catching EOFException and without constraining the writer of that stream as to how to do it. You can&#39;t. It can&#39;t be done. EOFException is the only mechanism."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":2,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1500943636,"creation_date":1271144231,"answer_id":2627746,"question_id":2626163,"body_markdown":"No. Catch `EOFException` and use that to terminate the loop.","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>No. Catch <code>EOFException</code> and use that to terminate the loop.</p>\n"},{"comments":[{"owner":{"account_id":324071,"reputation":18486,"user_id":644450,"accept_rate":100,"display_name":"oers"},"score":4,"creation_date":1320829743,"post_id":7991448,"comment_id":9876948,"body_markdown":"you answer seems to be incomplete, the last sentence does not finish","body":"you answer seems to be incomplete, the last sentence does not finish"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1410641087,"post_id":7991448,"comment_id":40405368,"body_markdown":"And what you&#39;ve written so far is incorrect, as it makes it impossible to write null in any other place.","body":"And what you&#39;ve written so far is incorrect, as it makes it impossible to write null in any other place."}],"tags":[],"owner":{"account_id":915770,"reputation":532,"user_id":948600,"accept_rate":6,"display_name":"Aditya"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1320305262,"creation_date":1320305262,"answer_id":7991448,"question_id":2626163,"body_markdown":"The best possible way to end the loop could be done by adding a null object at the end. While reading the null object can be used as a boundary condition to exit the loop. Catching the EOFException also solves the purpose but it takes few m","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>The best possible way to end the loop could be done by adding a null object at the end. While reading the null object can be used as a boundary condition to exit the loop. Catching the EOFException also solves the purpose but it takes few m</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1510466868,"post_id":11953441,"comment_id":81442332,"body_markdown":"The `available()` method cannot be used for this purpose *because that&#39;s not what it&#39;s for.* See the Javadoc.","body":"The <code>available()</code> method cannot be used for this purpose <i>because that&#39;s not what it&#39;s for.</i> See the Javadoc."}],"tags":[],"owner":{"account_id":398363,"reputation":750,"user_id":763002,"display_name":"Eun Woo Song"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1344951266,"creation_date":1344951266,"answer_id":11953441,"question_id":2626163,"body_markdown":"The available method of ObjectInputStream cannot used to terminate the loop as it returns 0 even if there are objects to be read in a file. Writing a null to a file doen&#39;t seem to be a good solution either since objects can be null which then would be interpreted as the end of file. I think catching the EOFException to terminate the loops is a better practice since if EOFException occurs(either because you reached the end of the file or some other reason), you have to terminate the loop anyway.","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>The available method of ObjectInputStream cannot used to terminate the loop as it returns 0 even if there are objects to be read in a file. Writing a null to a file doen't seem to be a good solution either since objects can be null which then would be interpreted as the end of file. I think catching the EOFException to terminate the loops is a better practice since if EOFException occurs(either because you reached the end of the file or some other reason), you have to terminate the loop anyway.</p>\n"},{"comments":[{"owner":{"account_id":1431635,"reputation":5085,"user_id":1353930,"accept_rate":50,"display_name":"Daniel Alder"},"score":4,"creation_date":1395832799,"post_id":13362503,"comment_id":34514351,"body_markdown":"This only works if ObjectInputStream doesn&#39;t do any buffering. Is this the case? The javadoc doesn&#39;t tell anything about this.","body":"This only works if ObjectInputStream doesn&#39;t do any buffering. Is this the case? The javadoc doesn&#39;t tell anything about this."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1410640929,"post_id":13362503,"comment_id":40405320,"body_markdown":"available() is not a valid test for end of stream. See the Javadoc.","body":"available() is not a valid test for end of stream. See the Javadoc."},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1439498197,"post_id":13362503,"comment_id":51899546,"body_markdown":"how is this supposed to help? the one method call, `ois.readObject()`, which throws the error, will still be called in your example and thus throw an error. at least, it didn&#39;t work for me.. :/","body":"how is this supposed to help? the one method call, <code>ois.readObject()</code>, which throws the error, will still be called in your example and thus throw an error. at least, it didn&#39;t work for me.. :/"},{"owner":{"account_id":9804504,"reputation":670,"user_id":7264777,"display_name":"Sam"},"score":0,"creation_date":1521198984,"post_id":13362503,"comment_id":85639814,"body_markdown":"To elaborate on what EJP has written, FileInputStream.available() gives a count of how many bytes are available to read only. This can be 0 for something as normal as IO input delay. Your code may start breaking unexpectedly.","body":"To elaborate on what EJP has written, FileInputStream.available() gives a count of how many bytes are available to read only. This can be 0 for something as normal as IO input delay. Your code may start breaking unexpectedly."}],"tags":[],"owner":{"account_id":2039472,"reputation":385,"user_id":1821029,"display_name":"Tomasz"},"comment_count":4,"down_vote_count":6,"up_vote_count":24,"is_accepted":false,"score":18,"last_activity_date":1396044680,"creation_date":1352816952,"answer_id":13362503,"question_id":2626163,"body_markdown":"I had the same problem today. Although the question is quite old, the problem remains and there was no clean solution provided. Ignoring `EOFException` should be avoided as it may be thrown when some object was not saved correctly. Writing null obviously prevents you from using null values for any other purposes. Finally using `available()` on the objects stream always returns zero, as the number of objects is unknown. \r\n\r\nMy solution is quite simple. `ObjectInputStream` is just a wrapper for some other stream, such as FileInputStream. Although `ObjectInputStream.available ()` returns zero, the FileInputStream.available will return some value.\r\n\r\n       FileInputStream istream = new FileInputStream(fileName);\r\n       ObjectInputStream ois = new ObjectInputStream(istream);\r\n\r\n       /** calculate number of items **/\r\n       int line_count = 0;\r\n       while( istream.available() &gt; 0) // check if the file stream is at the end\r\n       {\r\n          (String)ois.readObject();    // read from the object stream,\r\n                                       //    which wraps the file stream\r\n          line_count++;\r\n       }","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>I had the same problem today. Although the question is quite old, the problem remains and there was no clean solution provided. Ignoring <code>EOFException</code> should be avoided as it may be thrown when some object was not saved correctly. Writing null obviously prevents you from using null values for any other purposes. Finally using <code>available()</code> on the objects stream always returns zero, as the number of objects is unknown. </p>\n\n<p>My solution is quite simple. <code>ObjectInputStream</code> is just a wrapper for some other stream, such as FileInputStream. Although <code>ObjectInputStream.available ()</code> returns zero, the FileInputStream.available will return some value.</p>\n\n<pre><code>   FileInputStream istream = new FileInputStream(fileName);\n   ObjectInputStream ois = new ObjectInputStream(istream);\n\n   /** calculate number of items **/\n   int line_count = 0;\n   while( istream.available() &gt; 0) // check if the file stream is at the end\n   {\n      (String)ois.readObject();    // read from the object stream,\n                                   //    which wraps the file stream\n      line_count++;\n   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1410641040,"post_id":20444741,"comment_id":40405350,"body_markdown":"The API *can&#39;t* provide a &#39;more elegant solution than this&#39;. An out of band result is required. An exception is the only possibility.","body":"The API <i>can&#39;t</i> provide a &#39;more elegant solution than this&#39;. An out of band result is required. An exception is the only possibility."}],"tags":[],"owner":{"account_id":3697142,"reputation":19,"user_id":3078152,"display_name":"Kevin Leahy"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1386441961,"creation_date":1386439791,"answer_id":20444741,"question_id":2626163,"body_markdown":"It&#39;s curious that the API doesn&#39;t supply a more elegant solution to this. I guess the `EOFException` would work but I&#39;ve always been encouraged to see exceptions as unexpected events whereas here you would often expect the object stream to come to an end. \r\n&lt;br&gt;&lt;br&gt;I tried to work around this by writing a kind of &quot;marker&quot; object to signify the end of the object stream:\r\n\r\n    import java.io.Serializable;\r\n    \r\n    public enum ObjectStreamStatus implements Serializable {\r\n    \tEOF\r\n    }\r\n&lt;br&gt;Then in the code reading the object i checked for this EOF object in the object reading loop.\r\n\r\n","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>It's curious that the API doesn't supply a more elegant solution to this. I guess the <code>EOFException</code> would work but I've always been encouraged to see exceptions as unexpected events whereas here you would often expect the object stream to come to an end. \n<br><br>I tried to work around this by writing a kind of \"marker\" object to signify the end of the object stream:</p>\n\n<pre><code>import java.io.Serializable;\n\npublic enum ObjectStreamStatus implements Serializable {\n    EOF\n}\n</code></pre>\n\n<p><br>Then in the code reading the object i checked for this EOF object in the object reading loop.</p>\n"},{"comments":[{"owner":{"account_id":273623,"reputation":1437,"user_id":565341,"display_name":"Christoph Henkelmann"},"score":0,"creation_date":1540640496,"post_id":49778951,"comment_id":92945373,"body_markdown":"I do not understand why this does not get more upvotes. Simple and works like a charm for me.","body":"I do not understand why this does not get more upvotes. Simple and works like a charm for me."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1574905991,"post_id":49778951,"comment_id":104398225,"body_markdown":"@ChristophHenkelmann Because it means you can&#39;t write a `null` anywhere else in the stream, and because you still have to handle `EOFException in case the writing application failed to finish writing the file.","body":"@ChristophHenkelmann Because it means you can&#39;t write a <code>null</code> anywhere else in the stream, and because you still have to handle `EOFException in case the writing application failed to finish writing the file."}],"tags":[],"owner":{"account_id":5021967,"reputation":159,"user_id":4035211,"display_name":"C. Paul Bond"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1523460286,"creation_date":1523460286,"answer_id":49778951,"question_id":2626163,"body_markdown":"If you write a null object at the end of the file, when you read it back you will get a null value and can terminate your loop.\r\n\r\nJust add:\r\nout.writeObject(null);\r\n\r\nwhen you serialize the data.","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>If you write a null object at the end of the file, when you read it back you will get a null value and can terminate your loop.</p>\n\n<p>Just add:\nout.writeObject(null);</p>\n\n<p>when you serialize the data.</p>\n"}],"owner":{"account_id":26634,"reputation":27155,"user_id":69514,"accept_rate":70,"display_name":"user69514"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67931,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":2626193,"answer_count":9,"score":26,"last_activity_date":1686065527,"creation_date":1271116231,"question_id":2626163,"body_markdown":"I am trying to read the number of line in a binary file using readObject, but I get IOException EOF. Am I doing this the right way?\r\n\r\n\r\n        \r\n        FileInputStream istream = new FileInputStream(fileName);\r\n        ObjectInputStream ois = new ObjectInputStream(istream);\r\n\r\n        /** calculate number of items **/\r\n        int line_count = 0;\r\n        while( (String)ois.readObject() != null){            \r\n            line_count++;\r\n        }","title":"Java FileInputStream ObjectInputStream reaches end of file EOF","body":"<p>I am trying to read the number of line in a binary file using readObject, but I get IOException EOF. Am I doing this the right way?</p>\n\n<pre><code>    FileInputStream istream = new FileInputStream(fileName);\n    ObjectInputStream ois = new ObjectInputStream(istream);\n\n    /** calculate number of items **/\n    int line_count = 0;\n    while( (String)ois.readObject() != null){            \n        line_count++;\n    }\n</code></pre>\n"},{"tags":["java","testing","netbeans"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1685746846,"post_id":76393018,"comment_id":134709581,"body_markdown":"Where does ARPprofile come from? What is ARProfile.ARProfile?","body":"Where does ARPprofile come from? What is ARProfile.ARProfile?"},{"owner":{"account_id":12878454,"reputation":81,"user_id":9314277,"display_name":"Madd"},"score":0,"creation_date":1685757026,"post_id":76393018,"comment_id":134710252,"body_markdown":"My mistake, it would actually be com.ClassA to keep it consistent with the example I left.","body":"My mistake, it would actually be com.ClassA to keep it consistent with the example I left."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1685795575,"post_id":76393018,"comment_id":134713011,"body_markdown":"Not sure by just looking at it. Could you create a complete, (non-)compilabe example?","body":"Not sure by just looking at it. Could you create a complete, (non-)compilabe example?"},{"owner":{"account_id":12878454,"reputation":81,"user_id":9314277,"display_name":"Madd"},"score":0,"creation_date":1685982432,"post_id":76393018,"comment_id":134733908,"body_markdown":"Sure, what else should I add to the example? I mean, the problem is with the actual opened project I have on my PC. If I try to open a new one it works fine. I think its worth mentioning this is an Ant based project.","body":"Sure, what else should I add to the example? I mean, the problem is with the actual opened project I have on my PC. If I try to open a new one it works fine. I think its worth mentioning this is an Ant based project."},{"owner":{"account_id":12878454,"reputation":81,"user_id":9314277,"display_name":"Madd"},"score":0,"creation_date":1685995170,"post_id":76393018,"comment_id":134736113,"body_markdown":"I&#39;ve made some progress. I detailed it in the post.","body":"I&#39;ve made some progress. I detailed it in the post."},{"owner":{"account_id":12878454,"reputation":81,"user_id":9314277,"display_name":"Madd"},"score":0,"creation_date":1685997165,"post_id":76393018,"comment_id":134736405,"body_markdown":"Found the problem. I had a library/jar that had the same classes so I guess it must have been overriding the source code implementation, which I think its wrong since .class files should be priority over libs. Correct me if im wrong.","body":"Found the problem. I had a library/jar that had the same classes so I guess it must have been overriding the source code implementation, which I think its wrong since .class files should be priority over libs. Correct me if im wrong."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1686040460,"post_id":76393018,"comment_id":134740992,"body_markdown":"Duplicate resources would usually be resolved by the first hit. That means the sequence on the classpath matters. But you should not have duplicate classes, especially not those that you develop yourself. So the removal sounds as the real fix.","body":"Duplicate resources would usually be resolved by the first hit. That means the sequence on the classpath matters. But you should not have duplicate classes, especially not those that you develop yourself. So the removal sounds as the real fix."}],"answers":[{"tags":[],"owner":{"account_id":12878454,"reputation":81,"user_id":9314277,"display_name":"Madd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686065473,"creation_date":1686065473,"answer_id":76416212,"question_id":76393018,"body_markdown":"There was a duplicate resource that was overriding the one being updated. Specifically a jar containing sources which were also present in the Source Packages and was being loaded first, not taking into account the last one. Removing the JAR file fixed the problem.","title":"Test file doesnt detect updated method in source class","body":"<p>There was a duplicate resource that was overriding the one being updated. Specifically a jar containing sources which were also present in the Source Packages and was being loaded first, not taking into account the last one. Removing the JAR file fixed the problem.</p>\n"}],"owner":{"account_id":12878454,"reputation":81,"user_id":9314277,"display_name":"Madd"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686065473,"creation_date":1685734178,"question_id":76393018,"body_markdown":"Im having this problem in Netbeans 15. Im using JDK 17 from OpenJDK. I&#39;ve configured a web project with _Source Packages_ and _Test Packages_.Im using Ant for this project. It runs with Tomcat 9. Usual stuff for me is changing source code and hot reloading it in the Tomcat server which it works fine. No problems upto here.\r\n\r\n\r\nRecently, I tried to change a class constructor and it compiles perfectly fine. Here goes a similar class example for context.\r\n\r\n```\r\npackage com;\r\n\r\nimport javax.servlet.http.*;\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\n\r\n\r\npublic class ClassA extends ClassAAbstract{\r\n\r\n\r\n    /**\r\n     * Creates a new instance of ClassA\r\n     */\r\n    public ClassA(HttpServletRequest request) throws SQLException {\r\n        super(request);\r\n    }\r\n\r\n    public ClassA(HttpServletRequest request, String id) throws SQLException {\r\n        super(request, id);\r\n    }\r\n\r\n    public ClassA(String str1, String str2, Connection conn) throws SQLException {\r\n        super(str1, str2, conn);\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nBuuut... when I wanted to create the class test I&#39;ve encountered this problem. Similar test class for context:\r\n\r\n```\r\npackage com;\r\n\r\nimport Types.DatabaseDependableTest;\r\nimport com.ClassA;\r\nimport java.sql.SQLException;\r\nimport org.junit.Test;\r\n\r\npublic class ClassATest extends DatabaseDependableTest {\r\n\r\n    public ClassATest () {\r\n        super();\r\n    }\r\n\r\n    @Test\r\n    public void test() throws SQLException {\r\n        new ClassA(&quot;&quot;, &quot;&quot;, this.conn); -&gt; error\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nThe error shown shows the following:\r\n\r\n_no suitable constructor found for ClassA(String,String,Connection) constructor com.ClassA(HttpServletRequest) is not applicable_\r\n\r\nIt suggests using the other two constructors. Any guesses on what might be happening?\r\n\r\nI&#39;ve tried:\r\n\r\n1. Closing and reopening the project.\r\n2. Deleting NetBeans project folder and opening it again\r\n3. Deleted cache and tried both options again.\r\n\r\nIt&#39;s worth mentioning that I have a copy of this environment ( A previous version. Same components though, JDK 17, Tomcat 9...) and the tests there work perfectly fine when I update a class method in the source code.\r\n\r\n__Edit 1__\r\n\r\nI made progress and found out the following.\r\n\r\nIf I have a package A and classes A1,A2,A3 inside of it, the tests in Test Packages wont recognize any further updates, for these classes, since its initial configuration. \r\n\r\nExample:\r\n\r\n```\r\npackage A;\r\n\r\nclass A {\r\n    public A(String str){\r\n    }\r\n}\r\n```\r\n\r\nA test like the following __WILL__ work:\r\n\r\n```\r\npackage Test;\r\n\r\nclass ATest {\r\n    public ATest (){\r\n    }\r\n    \r\n    @Test\r\n    public void test(){\r\n        new A(&quot;STRING&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf I add a new constructor to class A then I wont be able to use in the test.\r\n\r\n```\r\npackage A;\r\n\r\nclass A {\r\n    public A(String str){\r\n    }\r\n    public A(String str,String str2){ -&gt; New constructor\r\n    }\r\n}\r\n```\r\n\r\nA test like the following __WILL NOT__ work:\r\n\r\n```\r\npackage Test;\r\n\r\nclass ATest {\r\n    public ATest (){\r\n    }\r\n    \r\n    @Test\r\n    public void test(){\r\n        new A(&quot;STRING&quot;,&quot;STRING&quot;); -&gt; error ( constructor A in...)\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhereas, if I create a new class inside package A, lets say, ANewClass well then I can create a compilable test and change its code as it will be taken into account in the test being made.\r\n\r\n```\r\npackage A;\r\n\r\nclass ANewClass  {\r\n    public ANewClass (String str){\r\n    }\r\n    public ANewClass (String str,String str2){\r\n    }\r\n}\r\n```\r\n\r\nA test like the following __WILL__ work:\r\n\r\n```\r\npackage Test;\r\n\r\nclass ATest {\r\n    public ATest (){\r\n    }\r\n    \r\n    @Test\r\n    public void test(){\r\n        new ANewClass(&quot;STRING&quot;);\r\n        new ANewClass(&quot;STRING&quot;,&quot;STRING&quot;);\r\n    // Both OK!\r\n    }\r\n}\r\n```\r\n\r\nIm guessing there might be a problem with the classpath or some cached build somewhere.\r\n\r\n__Edit 2__\r\n\r\nAs I also deploy this code to Tomcat using the Netbeans integration, I checked and, effectively, the code works while deployed. The problem is specifically in the tests packages or related to it.\r\n\r\n__Solution__\r\n\r\nI had a library/jar that had the same classes so I guess it must have been overriding the source code implementation, which I think its wrong since _.class_ files should be priority over libs. Anyway, since the code was the same as the jar, I removed it and work well.\r\n","title":"Test file doesnt detect updated method in source class","body":"<p>Im having this problem in Netbeans 15. Im using JDK 17 from OpenJDK. I've configured a web project with <em>Source Packages</em> and <em>Test Packages</em>.Im using Ant for this project. It runs with Tomcat 9. Usual stuff for me is changing source code and hot reloading it in the Tomcat server which it works fine. No problems upto here.</p>\n<p>Recently, I tried to change a class constructor and it compiles perfectly fine. Here goes a similar class example for context.</p>\n<pre><code>package com;\n\nimport javax.servlet.http.*;\nimport java.sql.Connection;\nimport java.sql.SQLException;\n\n\npublic class ClassA extends ClassAAbstract{\n\n\n    /**\n     * Creates a new instance of ClassA\n     */\n    public ClassA(HttpServletRequest request) throws SQLException {\n        super(request);\n    }\n\n    public ClassA(HttpServletRequest request, String id) throws SQLException {\n        super(request, id);\n    }\n\n    public ClassA(String str1, String str2, Connection conn) throws SQLException {\n        super(str1, str2, conn);\n    }\n\n}\n\n\n</code></pre>\n<p>Buuut... when I wanted to create the class test I've encountered this problem. Similar test class for context:</p>\n<pre><code>package com;\n\nimport Types.DatabaseDependableTest;\nimport com.ClassA;\nimport java.sql.SQLException;\nimport org.junit.Test;\n\npublic class ClassATest extends DatabaseDependableTest {\n\n    public ClassATest () {\n        super();\n    }\n\n    @Test\n    public void test() throws SQLException {\n        new ClassA(&quot;&quot;, &quot;&quot;, this.conn); -&gt; error\n\n    }\n\n}\n\n\n</code></pre>\n<p>The error shown shows the following:</p>\n<p><em>no suitable constructor found for ClassA(String,String,Connection) constructor com.ClassA(HttpServletRequest) is not applicable</em></p>\n<p>It suggests using the other two constructors. Any guesses on what might be happening?</p>\n<p>I've tried:</p>\n<ol>\n<li>Closing and reopening the project.</li>\n<li>Deleting NetBeans project folder and opening it again</li>\n<li>Deleted cache and tried both options again.</li>\n</ol>\n<p>It's worth mentioning that I have a copy of this environment ( A previous version. Same components though, JDK 17, Tomcat 9...) and the tests there work perfectly fine when I update a class method in the source code.</p>\n<p><strong>Edit 1</strong></p>\n<p>I made progress and found out the following.</p>\n<p>If I have a package A and classes A1,A2,A3 inside of it, the tests in Test Packages wont recognize any further updates, for these classes, since its initial configuration.</p>\n<p>Example:</p>\n<pre><code>package A;\n\nclass A {\n    public A(String str){\n    }\n}\n</code></pre>\n<p>A test like the following <strong>WILL</strong> work:</p>\n<pre><code>package Test;\n\nclass ATest {\n    public ATest (){\n    }\n    \n    @Test\n    public void test(){\n        new A(&quot;STRING&quot;);\n    }\n\n}\n</code></pre>\n<p>If I add a new constructor to class A then I wont be able to use in the test.</p>\n<pre><code>package A;\n\nclass A {\n    public A(String str){\n    }\n    public A(String str,String str2){ -&gt; New constructor\n    }\n}\n</code></pre>\n<p>A test like the following <strong>WILL NOT</strong> work:</p>\n<pre><code>package Test;\n\nclass ATest {\n    public ATest (){\n    }\n    \n    @Test\n    public void test(){\n        new A(&quot;STRING&quot;,&quot;STRING&quot;); -&gt; error ( constructor A in...)\n    }\n}\n</code></pre>\n<p>Whereas, if I create a new class inside package A, lets say, ANewClass well then I can create a compilable test and change its code as it will be taken into account in the test being made.</p>\n<pre><code>package A;\n\nclass ANewClass  {\n    public ANewClass (String str){\n    }\n    public ANewClass (String str,String str2){\n    }\n}\n</code></pre>\n<p>A test like the following <strong>WILL</strong> work:</p>\n<pre><code>package Test;\n\nclass ATest {\n    public ATest (){\n    }\n    \n    @Test\n    public void test(){\n        new ANewClass(&quot;STRING&quot;);\n        new ANewClass(&quot;STRING&quot;,&quot;STRING&quot;);\n    // Both OK!\n    }\n}\n</code></pre>\n<p>Im guessing there might be a problem with the classpath or some cached build somewhere.</p>\n<p><strong>Edit 2</strong></p>\n<p>As I also deploy this code to Tomcat using the Netbeans integration, I checked and, effectively, the code works while deployed. The problem is specifically in the tests packages or related to it.</p>\n<p><strong>Solution</strong></p>\n<p>I had a library/jar that had the same classes so I guess it must have been overriding the source code implementation, which I think its wrong since <em>.class</em> files should be priority over libs. Anyway, since the code was the same as the jar, I removed it and work well.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1686072073,"post_id":76416177,"comment_id":134748025,"body_markdown":"In most cases you can omit any credential information when initializing the client and allow the default credential chain to do its thing. See: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html","body":"In most cases you can omit any credential information when initializing the client and allow the default credential chain to do its thing. See: <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-chain.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdk-for-java/latest/developer-guide/&hellip;</a>"},{"owner":{"account_id":2215372,"reputation":419,"user_id":1956139,"accept_rate":57,"display_name":"Curtis Snowden"},"score":0,"creation_date":1686075143,"post_id":76416177,"comment_id":134748675,"body_markdown":"Right, but unless I&#39;m reading that incorrectly, it&#39;s just doing the exact same thing I have in my question, just finding the viable option. 1 fails, 2 fails, 3 fails, but then 4 succeeds (the credentials/config files) and goes from there. That&#39;s actually how I had originally configured things. I changed it to bypass the credentials/config file. In either case, that&#39;s still utilizing pre-configured values for AWS_SESSION_TOKEN. The default chain is just finding the viable path to that value. I&#39;m trying to generate an AWS_SESSION_TOKEN in code and not have it set anywhere in the system.","body":"Right, but unless I&#39;m reading that incorrectly, it&#39;s just doing the exact same thing I have in my question, just finding the viable option. 1 fails, 2 fails, 3 fails, but then 4 succeeds (the credentials/config files) and goes from there. That&#39;s actually how I had originally configured things. I changed it to bypass the credentials/config file. In either case, that&#39;s still utilizing pre-configured values for AWS_SESSION_TOKEN. The default chain is just finding the viable path to that value. I&#39;m trying to generate an AWS_SESSION_TOKEN in code and not have it set anywhere in the system."},{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1686075548,"post_id":76416177,"comment_id":134748748,"body_markdown":"In a deployed env credentials won&#39;t come from SSO like a regular user fetches them. If you want to get your own session token via SSO from the code, you&#39;ll need to not pass AWS_SESSION_TOKEN and use the SSO provider https://docs.aws.amazon.com/sdkref/latest/guide/feature-sso-credentials.html. You can use `aws configure sso` to configure default credential chains to use SSO.","body":"In a deployed env credentials won&#39;t come from SSO like a regular user fetches them. If you want to get your own session token via SSO from the code, you&#39;ll need to not pass AWS_SESSION_TOKEN and use the SSO provider <a href=\"https://docs.aws.amazon.com/sdkref/latest/guide/feature-sso-credentials.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdkref/latest/guide/&hellip;</a>. You can use <code>aws configure sso</code> to configure default credential chains to use SSO."},{"owner":{"account_id":2215372,"reputation":419,"user_id":1956139,"accept_rate":57,"display_name":"Curtis Snowden"},"score":0,"creation_date":1686087525,"post_id":76416177,"comment_id":134750693,"body_markdown":"That&#39;s the problem I have. That documentation says &quot;The aws configure sso-session command only updates the sso-session sections in the ~/.aws/config file.&quot; So again, it&#39;s the config/credentials files. I want to avoid having those files on my host if at all possible, as I don&#39;t have access to the host. I only have application level access following a deployment.","body":"That&#39;s the problem I have. That documentation says &quot;The aws configure sso-session command only updates the sso-session sections in the ~/.aws/config file.&quot; So again, it&#39;s the config/credentials files. I want to avoid having those files on my host if at all possible, as I don&#39;t have access to the host. I only have application level access following a deployment."},{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1686095629,"post_id":76416177,"comment_id":134751481,"body_markdown":"I am not suggesting you use SSO in your deployed env. I am suggesting to use the default credential chain so that you use SSO for your local usage, and it will still work for your deployed configuration. If it&#39;s hosted on an ec2 server you can use an instance-profile role.","body":"I am not suggesting you use SSO in your deployed env. I am suggesting to use the default credential chain so that you use SSO for your local usage, and it will still work for your deployed configuration. If it&#39;s hosted on an ec2 server you can use an instance-profile role."},{"owner":{"account_id":2215372,"reputation":419,"user_id":1956139,"accept_rate":57,"display_name":"Curtis Snowden"},"score":0,"creation_date":1686146594,"post_id":76416177,"comment_id":134759316,"body_markdown":"The problem with the hosting is that it&#39;s somewhat unknown. In the sense that we have about 6 different production level instances and they are all different, ranging from an EC2 server, to local Tomcat hosting. That&#39;s why I&#39;m very focused on application specific configuration rather than environment configuration. But I apologize, I&#39;m not really understanding the main point about the default credential chain. When you say local usage, do you mean for development? I have everything working locally already. AWS connects and all of the S3 services are utilized with no problems.","body":"The problem with the hosting is that it&#39;s somewhat unknown. In the sense that we have about 6 different production level instances and they are all different, ranging from an EC2 server, to local Tomcat hosting. That&#39;s why I&#39;m very focused on application specific configuration rather than environment configuration. But I apologize, I&#39;m not really understanding the main point about the default credential chain. When you say local usage, do you mean for development? I have everything working locally already. AWS connects and all of the S3 services are utilized with no problems."}],"owner":{"account_id":2215372,"reputation":419,"user_id":1956139,"accept_rate":57,"display_name":"Curtis Snowden"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686065268,"creation_date":1686065268,"question_id":76416177,"body_markdown":"I&#39;m having trouble determining how to prepare Amazon Web Service integration with my application for production. Specifically, I need to be able to have long-term credentials that will work for at a bare minimum several months uninterrupted.\r\n\r\nIn my application, we&#39;ve had problems with extremely large files utilized for custom export/import processes. Previously, we had the files stored on the web-host file system for both purposes. Given the nature of the data being processed, these can get to be several gigabytes in size, which has become untenable. So, we&#39;ve been working on utilizing Amazon S3 for the files. I have everything now in place and functioning as desired - exports are streamed directly to S3 storage, downloads are made from Pre-Signed URLs, and uploads for import are handled with Pre-Signed URLS and then read as an input stream from the S3 storage for processing. So there are no issues I have with the functional usage of the AWS SDK in Java. The problem I have is being able to prepare this for use in a production environment.\r\n\r\nDuring my development, I have utilized temporary credentials as described in the documentation - https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-temporary.html. An example of how this is utilized inside the application is as follows:\r\n\r\n```\r\ntry (S3Client s3Client = S3Client.builder()\r\n    .region(Region.of(getAwsSettings().getAwsPrimaryRegion()))\r\n    .credentialsProvider(software.amazon.awssdk.auth.credentials.StaticCredentialsProvider.create(\r\n        software.amazon.awssdk.auth.credentials.AwsSessionCredentials.create(\r\n            getAwsSettings().getAwsAccessKeyId(),\r\n            getAwsSettings().getAwsSecretAccessKey(),\r\n            getAwsSettings().getAwsSessionToken()\r\n        )\r\n    ))\r\n    .build()\r\n) {\r\n    //Functional code omitted for brevity.\r\n}\r\n```\r\nTo clarify the &#39;getAwsSettings&#39;, I put the information found in the ~/.aws/credentials and ~/.aws/config files into the application as settings that a user is able to configure.\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\npublic class AwsSettings implements Serializable {\r\n    /*****************************************************************\r\n     * Statics &amp; Enums\r\n     *****************************************************************/\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    /*****************************************************************\r\n     * Fields\r\n     *****************************************************************/\r\n\r\n    /**\r\n     * Credentials file &#39;aws_access_key_id&#39; field.\r\n     */\r\n    private String awsAccessKeyId;\r\n\r\n    /**\r\n     * Credentials file &#39;aws_secret_access_key&#39; field.\r\n     */\r\n    private String awsSecretAccessKey;\r\n\r\n    /**\r\n     * Credentials file &#39;aws_session_token&#39; field.\r\n     */\r\n    private String awsSessionToken;\r\n\r\n    /**\r\n     * Config file &#39;region&#39; field.\r\n     */\r\n    private String awsPrimaryRegion;\r\n}\r\n```\r\n\r\nIt works, but the problem I have is that I need to keep re-entering my credentials every few hours. This was perfectly fine for development, but it simply will not work long-term in production. I have no idea when users will be performing operations that relate to S3.\r\n\r\nWhat I&#39;ve been trying to determine is if there is a standard token generation service for AWS. I have an IAM account with very limited access (S3 only) and that&#39;s what I&#39;ve used to retrieve my session tokens by going to the web. (https://d-xxxx.awsapps.com/start). Is it possible to have the username/password and the SSO Start URL (The AWS IAM Identity Center credentials) to request session tokens through the code on demand? \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThere would be no problem if the session tokens were only viable for an hour or two, so long as the code could generate new session tokens for use when required. I have been researching for days and have yet to find anything covering this. So far everything I have found describes the temporary credentials.\r\n\r\nI have read the &quot;Learn More&quot; link in the image (https://docs.aws.amazon.com/cli/latest/userguide/sso-configure-profile-token.html#sso-configure-profile-token-auto-sso), but it describes doing things via the command line and still utilizing the config/credential files in the web hosts .aws directory. I need something that will be strictly within the application itself.\r\n\r\nIf I&#39;m approaching this entirely incorrectly I&#39;m willing to go a different route so long as the following needs are met:\r\n1) Users of the application with no connection to AWS are able to utilize S3 services (via the server-side code and pre-signed URLs)\r\n2) Credentials for SDK services can be obtained at any time with no requirements on the part of the application users. No need to contact outside support for AWS access.\r\n3) Configuration and function should be entirely contained within the application. All settings should be configurable by an application administrator, but there can be no expectation of a system administrator needing to perform any operations on the host server itself.\r\n\r\n  [1]: https://i.stack.imgur.com/R4Ye0.png","title":"AWS S3 Java SDK V2 Long Term Credentials","body":"<p>I'm having trouble determining how to prepare Amazon Web Service integration with my application for production. Specifically, I need to be able to have long-term credentials that will work for at a bare minimum several months uninterrupted.</p>\n<p>In my application, we've had problems with extremely large files utilized for custom export/import processes. Previously, we had the files stored on the web-host file system for both purposes. Given the nature of the data being processed, these can get to be several gigabytes in size, which has become untenable. So, we've been working on utilizing Amazon S3 for the files. I have everything now in place and functioning as desired - exports are streamed directly to S3 storage, downloads are made from Pre-Signed URLs, and uploads for import are handled with Pre-Signed URLS and then read as an input stream from the S3 storage for processing. So there are no issues I have with the functional usage of the AWS SDK in Java. The problem I have is being able to prepare this for use in a production environment.</p>\n<p>During my development, I have utilized temporary credentials as described in the documentation - <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-temporary.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/credentials-temporary.html</a>. An example of how this is utilized inside the application is as follows:</p>\n<pre><code>try (S3Client s3Client = S3Client.builder()\n    .region(Region.of(getAwsSettings().getAwsPrimaryRegion()))\n    .credentialsProvider(software.amazon.awssdk.auth.credentials.StaticCredentialsProvider.create(\n        software.amazon.awssdk.auth.credentials.AwsSessionCredentials.create(\n            getAwsSettings().getAwsAccessKeyId(),\n            getAwsSettings().getAwsSecretAccessKey(),\n            getAwsSettings().getAwsSessionToken()\n        )\n    ))\n    .build()\n) {\n    //Functional code omitted for brevity.\n}\n</code></pre>\n<p>To clarify the 'getAwsSettings', I put the information found in the ~/.aws/credentials and ~/.aws/config files into the application as settings that a user is able to configure.</p>\n<pre><code>@Data\n@NoArgsConstructor\npublic class AwsSettings implements Serializable {\n    /*****************************************************************\n     * Statics &amp; Enums\n     *****************************************************************/\n\n    private static final long serialVersionUID = 1L;\n\n    /*****************************************************************\n     * Fields\n     *****************************************************************/\n\n    /**\n     * Credentials file 'aws_access_key_id' field.\n     */\n    private String awsAccessKeyId;\n\n    /**\n     * Credentials file 'aws_secret_access_key' field.\n     */\n    private String awsSecretAccessKey;\n\n    /**\n     * Credentials file 'aws_session_token' field.\n     */\n    private String awsSessionToken;\n\n    /**\n     * Config file 'region' field.\n     */\n    private String awsPrimaryRegion;\n}\n</code></pre>\n<p>It works, but the problem I have is that I need to keep re-entering my credentials every few hours. This was perfectly fine for development, but it simply will not work long-term in production. I have no idea when users will be performing operations that relate to S3.</p>\n<p>What I've been trying to determine is if there is a standard token generation service for AWS. I have an IAM account with very limited access (S3 only) and that's what I've used to retrieve my session tokens by going to the web. (<a href=\"https://d-xxxx.awsapps.com/start\" rel=\"nofollow noreferrer\">https://d-xxxx.awsapps.com/start</a>). Is it possible to have the username/password and the SSO Start URL (The AWS IAM Identity Center credentials) to request session tokens through the code on demand?</p>\n<p><a href=\"https://i.stack.imgur.com/R4Ye0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R4Ye0.png\" alt=\"enter image description here\" /></a></p>\n<p>There would be no problem if the session tokens were only viable for an hour or two, so long as the code could generate new session tokens for use when required. I have been researching for days and have yet to find anything covering this. So far everything I have found describes the temporary credentials.</p>\n<p>I have read the &quot;Learn More&quot; link in the image (<a href=\"https://docs.aws.amazon.com/cli/latest/userguide/sso-configure-profile-token.html#sso-configure-profile-token-auto-sso\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/cli/latest/userguide/sso-configure-profile-token.html#sso-configure-profile-token-auto-sso</a>), but it describes doing things via the command line and still utilizing the config/credential files in the web hosts .aws directory. I need something that will be strictly within the application itself.</p>\n<p>If I'm approaching this entirely incorrectly I'm willing to go a different route so long as the following needs are met:</p>\n<ol>\n<li>Users of the application with no connection to AWS are able to utilize S3 services (via the server-side code and pre-signed URLs)</li>\n<li>Credentials for SDK services can be obtained at any time with no requirements on the part of the application users. No need to contact outside support for AWS access.</li>\n<li>Configuration and function should be entirely contained within the application. All settings should be configurable by an application administrator, but there can be no expectation of a system administrator needing to perform any operations on the host server itself.</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","logging","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1686151732,"post_id":76416122,"comment_id":134760696,"body_markdown":"Please follow the link to my other answer and select either of the workarounds described there, i.e. one of the native AspectJ solutions (you are currently not_ using AspectJ but Spring AOP) or Spring AOP&#39;s `ControlFlowPointcut`. Ideally, your application and aspect design should not depend on which method is called by which class, because it means tight coupling and low refactorability. You did not describe which problem you are actually trying to solve, so I cannot suggest a better alternative now. But chances are, you can change your application design to not need a control flow pointcut.","body":"Please follow the link to my other answer and select either of the workarounds described there, i.e. one of the native AspectJ solutions (you are currently not_ using AspectJ but Spring AOP) or Spring AOP&#39;s <code>ControlFlowPointcut</code>. Ideally, your application and aspect design should not depend on which method is called by which class, because it means tight coupling and low refactorability. You did not describe which problem you are actually trying to solve, so I cannot suggest a better alternative now. But chances are, you can change your application design to not need a control flow pointcut."}],"owner":{"account_id":18664812,"reputation":13,"user_id":13605067,"display_name":"jerriestjerry137"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686151392,"answer_count":0,"score":0,"last_activity_date":1686064781,"creation_date":1686064781,"question_id":76416122,"body_markdown":"I&#39;m using AspectJ with Spring to add logging to my application. I have an @Aspect class with an advice method that I want to trigger only for service methods invoked from a specific class. However, I&#39;m having trouble constructing the correct pointcut expression to achieve this.\r\n\r\nHere is my current code:\r\n\r\n**Aspect**:\r\n```java\r\n@Component\r\n@Aspect\r\npublic class LoggingAspect {\r\n\r\n    private final static Logger logger = LogManager.getLogger(LoggingAspect.class);\r\n\r\n    @Pointcut(&quot;within(com.example.demo.controller.CustomerController)&quot;)\r\n    private void withinCustomerController() {\r\n    }\r\n\r\n    @Pointcut(&quot;execution(* com.example.demo.service.impl.CustomerServiceImpl.*(..))&quot;)\r\n    private void customerServiceMethods() {\r\n    }\r\n\r\n    @AfterReturning(pointcut = &quot;withinCustomerController() &amp;&amp; customerServiceMethods()&quot;, returning = &quot;result&quot;)\r\n    public void logServiceResult(JoinPoint joinPoint, Object result) {\r\n        logger.info(&quot;Service method {} returned: {}&quot;, joinPoint.getSignature().getName(), result);\r\n    }\r\n}\r\n```\r\n\r\n**Controller**:\r\n```java\r\n@RestController\r\n@RequestMapping(value = &quot;/api&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n@RequiredArgsConstructor\r\npublic class CustomerController {\r\n\r\nprivate final CustomerService customerService;\r\n\r\n@PostMapping(value = &quot;/customer&quot;)\r\n    public KafkaMessage createCustomer(@RequestBody  RequestDto requestDto) throws IOException {\r\n        ResponseDto responseDto = customerService.createCuistomer(requestDto);\r\n        KafkaMessage kafkaMessage = new KafkaMessage();\r\n        kafkaMessage.setContent(&quot;Event published&quot;);\r\n        return kafkaMessage;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd the Service and Implementations:\r\n\r\n```java\r\npublic interface CustomerService {\r\n\r\n    ResponseDto createCustomer(RequestDto requestDto);\r\n}\r\n@Service\r\npublic class CustomerServiceImpl implements CustomerService {\r\n    @Override\r\n    ResponseDto createCustomer(RequestDto requestDto) {\r\n        // business logic\r\n    }\r\n    \r\n}\r\n```\r\n\r\nPlease note that I have all the necessary dependencies added and used `@EnableAspectJAutoProxy` annotation. Also, the locations used in the pointcut expressions are 100% accurate (I am using Intellij Idea).If I remove the `&amp;&amp;` from the pointcut in `@AfterReturning`, it works perfectly. Here&#39;s the working expression:\r\n\r\n```\r\n@AfterReturning(pointcut = &quot;customerServiceMethods()&quot;, returning = &quot;result&quot;)\r\n    public void logServiceResult(JoinPoint joinPoint, Object result) {\r\n        logger.info(&quot;Service method {} returned: {}&quot;, joinPoint.getSignature().getName(), result);\r\n    }\r\n```\r\n\r\nBut I **need** to make sure this aspect works only if the service method is invoked from the `CustomerController`.\r\n\r\nCan someone help me construct the correct pointcut expression to achieve this behavior? Any suggestions or guidance would be greatly appreciated. Thank you!","title":"AspectJ pointcut expression to target service methods invoked from a specific class","body":"<p>I'm using AspectJ with Spring to add logging to my application. I have an @Aspect class with an advice method that I want to trigger only for service methods invoked from a specific class. However, I'm having trouble constructing the correct pointcut expression to achieve this.</p>\n<p>Here is my current code:</p>\n<p><strong>Aspect</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Aspect\npublic class LoggingAspect {\n\n    private final static Logger logger = LogManager.getLogger(LoggingAspect.class);\n\n    @Pointcut(&quot;within(com.example.demo.controller.CustomerController)&quot;)\n    private void withinCustomerController() {\n    }\n\n    @Pointcut(&quot;execution(* com.example.demo.service.impl.CustomerServiceImpl.*(..))&quot;)\n    private void customerServiceMethods() {\n    }\n\n    @AfterReturning(pointcut = &quot;withinCustomerController() &amp;&amp; customerServiceMethods()&quot;, returning = &quot;result&quot;)\n    public void logServiceResult(JoinPoint joinPoint, Object result) {\n        logger.info(&quot;Service method {} returned: {}&quot;, joinPoint.getSignature().getName(), result);\n    }\n}\n</code></pre>\n<p><strong>Controller</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value = &quot;/api&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n@RequiredArgsConstructor\npublic class CustomerController {\n\nprivate final CustomerService customerService;\n\n@PostMapping(value = &quot;/customer&quot;)\n    public KafkaMessage createCustomer(@RequestBody  RequestDto requestDto) throws IOException {\n        ResponseDto responseDto = customerService.createCuistomer(requestDto);\n        KafkaMessage kafkaMessage = new KafkaMessage();\n        kafkaMessage.setContent(&quot;Event published&quot;);\n        return kafkaMessage;\n    }\n\n}\n</code></pre>\n<p>And the Service and Implementations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CustomerService {\n\n    ResponseDto createCustomer(RequestDto requestDto);\n}\n@Service\npublic class CustomerServiceImpl implements CustomerService {\n    @Override\n    ResponseDto createCustomer(RequestDto requestDto) {\n        // business logic\n    }\n    \n}\n</code></pre>\n<p>Please note that I have all the necessary dependencies added and used <code>@EnableAspectJAutoProxy</code> annotation. Also, the locations used in the pointcut expressions are 100% accurate (I am using Intellij Idea).If I remove the <code>&amp;&amp;</code> from the pointcut in <code>@AfterReturning</code>, it works perfectly. Here's the working expression:</p>\n<pre><code>@AfterReturning(pointcut = &quot;customerServiceMethods()&quot;, returning = &quot;result&quot;)\n    public void logServiceResult(JoinPoint joinPoint, Object result) {\n        logger.info(&quot;Service method {} returned: {}&quot;, joinPoint.getSignature().getName(), result);\n    }\n</code></pre>\n<p>But I <strong>need</strong> to make sure this aspect works only if the service method is invoked from the <code>CustomerController</code>.</p>\n<p>Can someone help me construct the correct pointcut expression to achieve this behavior? Any suggestions or guidance would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","spring","spring-boot","rest","gradle"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686063634,"post_id":76415784,"comment_id":134746160,"body_markdown":"Replace `@Controller` with `@RestController`. `@Controller` is used for view based applications. Yours will look for a `yes.html` (or whatever view technology you want to use). It doesn&#39;t find it hence 404. Next to that you will need something to map to so try `@GetMapping(&quot;/github/v1&quot;)` (you don&#39;t need the toplevel request mapping annotation. Finally make sure that your `@SpringBootApplication` annotated class is either in `controller` as a package as well or another top-level package, that being said `controller` isn&#39;t really a good package name.","body":"Replace <code>@Controller</code> with <code>@RestController</code>. <code>@Controller</code> is used for view based applications. Yours will look for a <code>yes.html</code> (or whatever view technology you want to use). It doesn&#39;t find it hence 404. Next to that you will need something to map to so try <code>@GetMapping(&quot;&#47;github&#47;v1&quot;)</code> (you don&#39;t need the toplevel request mapping annotation. Finally make sure that your <code>@SpringBootApplication</code> annotated class is either in <code>controller</code> as a package as well or another top-level package, that being said <code>controller</code> isn&#39;t really a good package name."}],"answers":[{"tags":[],"owner":{"account_id":21965965,"reputation":55,"user_id":16243208,"display_name":"Raikiri13"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686064745,"creation_date":1686064745,"answer_id":76416114,"question_id":76415784,"body_markdown":"Never mind, I didn&#39;t had my packages at the top level\r\n\r\nThat&#39;s how it should look. Sorry for your time guys.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SoMSE.png","title":"Freshly created spring boot web app endpoints won&#39;t work","body":"<p>Never mind, I didn't had my packages at the top level</p>\n<p>That's how it should look. Sorry for your time guys.</p>\n<p><a href=\"https://i.stack.imgur.com/SoMSE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SoMSE.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21965965,"reputation":55,"user_id":16243208,"display_name":"Raikiri13"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686064745,"creation_date":1686062095,"question_id":76415784,"body_markdown":"I have used the https://start.spring.io/ to create new Spring Boot app.\r\n\r\nThis is build.gradle so you can see what i choose at the start.\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;temp&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-batch&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;org.springframework.batch:spring-batch-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nI have created simple endpoint just to see if everything is all right.\r\n\r\n```\r\npackage controller;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.RequestEntity;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@Controller\r\n//@RequestMapping(&quot;github/v1&quot;)\r\npublic class RepositoriesController {\r\n\r\n    @GetMapping\r\n    @CrossOrigin\r\n    public String test(){\r\n        return &quot;yes&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nBut whenever i try accesing it either with postman or in the browser I&#39;m gettting 404 Not Found. I Tried to duck around with @RestController, different @GetMapping&#39;s anniontions or @RequestMapping before the class as well as @ComponentScan. But nothing seems to work here. I had never had this kind of issue from the get go.\r\n\r\n\r\n\r\n","title":"Freshly created spring boot web app endpoints won&#39;t work","body":"<p>I have used the <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> to create new Spring Boot app.</p>\n<p>This is build.gradle so you can see what i choose at the start.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'temp'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-batch'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.batch:spring-batch-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I have created simple endpoint just to see if everything is all right.</p>\n<pre><code>package controller;\n\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.RequestEntity;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\n\n@Controller\n//@RequestMapping(&quot;github/v1&quot;)\npublic class RepositoriesController {\n\n    @GetMapping\n    @CrossOrigin\n    public String test(){\n        return &quot;yes&quot;;\n    }\n\n}\n</code></pre>\n<p>But whenever i try accesing it either with postman or in the browser I'm gettting 404 Not Found. I Tried to duck around with @RestController, different @GetMapping's anniontions or @RequestMapping before the class as well as @ComponentScan. But nothing seems to work here. I had never had this kind of issue from the get go.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-sqs"],"comments":[{"owner":{"account_id":11299355,"reputation":726,"user_id":9377977,"display_name":"Mike"},"score":0,"creation_date":1699515465,"post_id":76416045,"comment_id":136542216,"body_markdown":"Related question [here](https://stackoverflow.com/questions/77299060/my-sqslistener-is-not-listening-the-queue).","body":"Related question <a href=\"https://stackoverflow.com/questions/77299060/my-sqslistener-is-not-listening-the-queue\">here</a>."}],"owner":{"account_id":5564083,"reputation":11,"user_id":4412011,"display_name":"Deepika"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686064629,"creation_date":1686064207,"question_id":76416045,"body_markdown":"I have a basic spring boot app that tries to listen to SQS messages via `@SQSListener`. \r\n\r\nBelow are the dependencies : \r\n```\r\n implementation(&quot;org.springframework.boot:spring-boot-starter-parent:3.1.0&quot;)\r\n\r\n implementation(&quot;org.springframework.cloud:spring-cloud-starter-aws-messaging:2.2.6.RELEASE&quot;)\r\n implementation(&quot;org.springframework.boot:spring-boot-starter-web:3.1.0&quot;)\r\n```\r\nBelow is the service class with the listener : \r\n```\r\n@Service\r\npublic class QueueListenerService {\r\n\r\n    @SqsListener(value = &quot;test-queue&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\r\n    public void receiveMessage(String message){\r\n        System.out.println(&quot;Received message : &quot; + message);\r\n    }\r\n}\r\n```\r\n\r\nThe application comes up successfully and there’s no error however the listener won’t get invoked at all! Any thoughts on what could be going wrong","title":"SQSListener not getting triggered","body":"<p>I have a basic spring boot app that tries to listen to SQS messages via <code>@SQSListener</code>.</p>\n<p>Below are the dependencies :</p>\n<pre><code> implementation(&quot;org.springframework.boot:spring-boot-starter-parent:3.1.0&quot;)\n\n implementation(&quot;org.springframework.cloud:spring-cloud-starter-aws-messaging:2.2.6.RELEASE&quot;)\n implementation(&quot;org.springframework.boot:spring-boot-starter-web:3.1.0&quot;)\n</code></pre>\n<p>Below is the service class with the listener :</p>\n<pre><code>@Service\npublic class QueueListenerService {\n\n    @SqsListener(value = &quot;test-queue&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS)\n    public void receiveMessage(String message){\n        System.out.println(&quot;Received message : &quot; + message);\n    }\n}\n</code></pre>\n<p>The application comes up successfully and there’s no error however the listener won’t get invoked at all! Any thoughts on what could be going wrong</p>\n"},{"tags":["java","cryptography","encryption"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1296824833,"post_id":4895773,"comment_id":5451440,"body_markdown":"Hmm, that code looks ok to me. The problem must be in some code you are not showing.","body":"Hmm, that code looks ok to me. The problem must be in some code you are not showing."},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1297938538,"post_id":4895773,"comment_id":5623215,"body_markdown":"Greg : all the code is here now.","body":"Greg : all the code is here now."},{"owner":{"account_id":278703,"reputation":4948,"user_id":573420,"accept_rate":67,"display_name":"Peter Taylor"},"score":0,"creation_date":1297939867,"post_id":4895773,"comment_id":5623440,"body_markdown":"Things which occur. 1. If you encrypt the same string twice, do you get the same array back? (This is to rule out the possibility that there&#39;s a reset method you should be calling).  2. Do you encrypt all the strings which you&#39;re trying to decrypt? That is, is this code everything cryptographic? 3. Could it be an IO error elsewhere which is truncating the array before you try to decrypt it?","body":"Things which occur. 1. If you encrypt the same string twice, do you get the same array back? (This is to rule out the possibility that there&#39;s a reset method you should be calling).  2. Do you encrypt all the strings which you&#39;re trying to decrypt? That is, is this code everything cryptographic? 3. Could it be an IO error elsewhere which is truncating the array before you try to decrypt it?"},{"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"score":0,"creation_date":1297944944,"post_id":4895773,"comment_id":5624479,"body_markdown":"Is there a test case that can be reproduced? Hope you must have already seen this, if not refer http://www.coderanch.com/t/133352/Security/BadPaddingException-DES","body":"Is there a test case that can be reproduced? Hope you must have already seen this, if not refer <a href=\"http://www.coderanch.com/t/133352/Security/BadPaddingException-DES\" rel=\"nofollow noreferrer\">coderanch.com/t/133352/Security/BadPaddingException-DES</a>"},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1298389851,"post_id":4895773,"comment_id":5691302,"body_markdown":"@Peter Taylor. yes, if i encrypt the same thing twice, i get the same arrays.","body":"@Peter Taylor. yes, if i encrypt the same thing twice, i get the same arrays."},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1298389911,"post_id":4895773,"comment_id":5691319,"body_markdown":"@Peter Taylor. Actually, a failling code of cypher.doFinal() and a succefull one have the exact same byte array in input.","body":"@Peter Taylor. Actually, a failling code of cypher.doFinal() and a succefull one have the exact same byte array in input."},{"owner":{"account_id":44625,"reputation":698,"user_id":131099,"display_name":"Luzifer42"},"score":0,"creation_date":1298392656,"post_id":4895773,"comment_id":5692084,"body_markdown":"Your example is incorrect: new EncryptDecryptUtil(&quot;pass&quot;).encrypt(&quot;YES&quot;) returns &quot;Q3qWLKo6yJY=&quot; and not &quot;cjTMylJXfFQ=&quot;","body":"Your example is incorrect: new EncryptDecryptUtil(&quot;pass&quot;).encrypt(&quot;YES&quot;) returns &quot;Q3qWLKo6yJY=&quot; and not &quot;cjTMylJXfFQ=&quot;"},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1298395359,"post_id":4895773,"comment_id":5692808,"body_markdown":"@Luzifer42. Indeed. I used another passphrase. Response edited","body":"@Luzifer42. Indeed. I used another passphrase. Response edited"},{"owner":{"account_id":7106089,"reputation":2961,"user_id":5435658,"accept_rate":17,"display_name":"raditya gumay"},"score":0,"creation_date":1463715485,"post_id":4895773,"comment_id":62192390,"body_markdown":"Hi, @AntoineClaval have you fix this issue?","body":"Hi, @AntoineClaval have you fix this issue?"},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1464014222,"post_id":4895773,"comment_id":62296597,"body_markdown":"@radityagumay , The application was jumping from provider to provider.","body":"@radityagumay , The application was jumping from provider to provider."},{"owner":{"account_id":7106089,"reputation":2961,"user_id":5435658,"accept_rate":17,"display_name":"raditya gumay"},"score":0,"creation_date":1464502848,"post_id":4895773,"comment_id":62508074,"body_markdown":"@AntoineClaval i was solve this problem then. this because i enable app backup in manifest.","body":"@AntoineClaval i was solve this problem then. this because i enable app backup in manifest."}],"answers":[{"comments":[{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1296817659,"post_id":4896232,"comment_id":5450264,"body_markdown":"Thanks for the shot... hum, i think i have done the reverse shot :). Let me check SVN... yes. It was like that","body":"Thanks for the shot... hum, i think i have done the reverse shot :). Let me check SVN... yes. It was like that"},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1296817955,"post_id":4896232,"comment_id":5450321,"body_markdown":"Hum. But the SecretKeyFactory were still intialised with only the Algorithm. Let try that.","body":"Hum. But the SecretKeyFactory were still intialised with only the Algorithm. Let try that."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1296824164,"post_id":4896232,"comment_id":5451290,"body_markdown":"No, PBE ciphers specify their own padding and mode.","body":"No, PBE ciphers specify their own padding and mode."},{"owner":{"account_id":86702,"reputation":8869,"user_id":240921,"accept_rate":70,"display_name":"ZoFreX"},"score":0,"creation_date":1296830599,"post_id":4896232,"comment_id":5452609,"body_markdown":"In that case I&#39;m stumped. Any ideas, GregS?","body":"In that case I&#39;m stumped. Any ideas, GregS?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1296865526,"post_id":4896232,"comment_id":5459750,"body_markdown":"None. Suspiciously little information was given by the OP however.","body":"None. Suspiciously little information was given by the OP however."},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1297938629,"post_id":4896232,"comment_id":5623226,"body_markdown":"I like you&#39;r &quot;suspiciously&quot; greg :p. Full transparency, i hate to do that, but i posted the whole class. ( i dont like to do that, it&#39;s like &quot;solve my problem for me please ... but hey, it&#39;s actually the case here )","body":"I like you&#39;r &quot;suspiciously&quot; greg :p. Full transparency, i hate to do that, but i posted the whole class. ( i dont like to do that, it&#39;s like &quot;solve my problem for me please ... but hey, it&#39;s actually the case here )"}],"tags":[],"owner":{"account_id":86702,"reputation":8869,"user_id":240921,"accept_rate":70,"display_name":"ZoFreX"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296810448,"creation_date":1296810448,"answer_id":4896232,"question_id":4895773,"body_markdown":"This is a bit of a shot in the dark, but try instantiating your cipher like this:\r\n\r\n    dcipher = Cipher.getInstance(&quot;PBEWithMD5AndDES/CBC/PKCS5Padding&quot;);","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>This is a bit of a shot in the dark, but try instantiating your cipher like this:</p>\n\n<pre><code>dcipher = Cipher.getInstance(\"PBEWithMD5AndDES/CBC/PKCS5Padding\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1298390294,"post_id":5068336,"comment_id":5691424,"body_markdown":"Indeed, i saw this thread on the sun website. I dont have really the choice, the encrypted text will come as a string. But i dont think it&#39;s the problem, as the same byte arrays. ( dec ) will sometime fail and sometime not.","body":"Indeed, i saw this thread on the sun website. I dont have really the choice, the encrypted text will come as a string. But i dont think it&#39;s the problem, as the same byte arrays. ( dec ) will sometime fail and sometime not."},{"owner":{"account_id":44625,"reputation":698,"user_id":131099,"display_name":"Luzifer42"},"score":0,"creation_date":1298390840,"post_id":5068336,"comment_id":5691565,"body_markdown":"Can you give us an example plaintext and ciphertext where the Exception is thrown? So we can try to reproduce this. It is unlikely that the same byte array will sometimes fail to decrypt and some times not. this would mean that the decryption differs.","body":"Can you give us an example plaintext and ciphertext where the Exception is thrown? So we can try to reproduce this. It is unlikely that the same byte array will sometimes fail to decrypt and some times not. this would mean that the decryption differs."},{"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"score":0,"creation_date":1298451216,"post_id":5068336,"comment_id":5702007,"body_markdown":"No, i cant, actually it&#39;s almost always the same string who is decrypted. ( a YES/NO string ). As you see, in the catch of the BadPaddingException, i display the encrypted string and the byte array : it&#39;s the same with a successfull or failled decryption. It&#39;s pretty suspiscious if you ask me... Could it come from a switch in the security provider ? ( i need to use bouncyCastle, that&#39;s why he is inserted in first position. But in the failled stackTrace, the standard sun JCE is used ( see stackTrace in edited post ))","body":"No, i cant, actually it&#39;s almost always the same string who is decrypted. ( a YES/NO string ). As you see, in the catch of the BadPaddingException, i display the encrypted string and the byte array : it&#39;s the same with a successfull or failled decryption. It&#39;s pretty suspiscious if you ask me... Could it come from a switch in the security provider ? ( i need to use bouncyCastle, that&#39;s why he is inserted in first position. But in the failled stackTrace, the standard sun JCE is used ( see stackTrace in edited post ))"}],"tags":[],"owner":{"account_id":44625,"reputation":698,"user_id":131099,"display_name":"Luzifer42"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298305635,"creation_date":1298304967,"answer_id":5068336,"question_id":4895773,"body_markdown":"Maybe it is related to this bug: https://bugs.java.com/bugdatabase/view_bug?bug_id=4414138\r\n\r\n&gt; Bottom line: Don&#39;t use String to store\r\n&gt; encrypted text!\r\n\r\nMaybe this could fix it:\r\n\r\n    dec = Base64.decode(str.getBytes(&quot;UTF-8&quot;));\r\n\r\n","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>Maybe it is related to this bug: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4414138\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=4414138</a></p>\n<blockquote>\n<p>Bottom line: Don't use String to store\nencrypted text!</p>\n</blockquote>\n<p>Maybe this could fix it:</p>\n<pre><code>dec = Base64.decode(str.getBytes(&quot;UTF-8&quot;));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":73525,"reputation":21116,"user_id":211674,"display_name":"SimonJ"},"score":0,"creation_date":1298513483,"post_id":5099061,"comment_id":5716165,"body_markdown":"+1, this would explain why the stack trace contained traces of Sun JCE and not BC. I can reproduce the error semi-reliably by scheduling another thread to remove BC after the loop starts executing... perhaps one of your other Spring beans is doing something like this?","body":"+1, this would explain why the stack trace contained traces of Sun JCE and not BC. I can reproduce the error semi-reliably by scheduling another thread to remove BC after the loop starts executing... perhaps one of your other Spring beans is doing something like this?"}],"tags":[],"owner":{"account_id":34578,"reputation":4133,"user_id":97799,"accept_rate":100,"display_name":"ATorras"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298507381,"creation_date":1298507381,"answer_id":5099061,"question_id":4895773,"body_markdown":"Just an idea: Maybe you are _jumping_ among different providers (Sun/BC/etc)\r\n\r\nRegards.","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>Just an idea: Maybe you are <em>jumping</em> among different providers (Sun/BC/etc)</p>\n\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":109571,"reputation":4085,"user_id":290254,"display_name":"Julius Musseau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1298523267,"creation_date":1298523267,"answer_id":5100519,"question_id":4895773,"body_markdown":"badPaddingException usually means the password was wrong.  Using &quot;wrong_password&quot; as the password recreates the error:\r\n\r\n\r\n    EncryptDecryptUtil encryptDecript = new EncryptDecryptUtil(&quot;wrong_password&quot;);\r\n    encryptDecript.decrypt(&quot;Q3qWLKo6yJY=&quot;);\r\n\r\nResults:\r\n\r\n    error during decryption. String to decode was : Q3qWLKo6yJY=\r\n    byte array to decode was : [67, 122, -106, 44, -86, 58, -56, 106]\r\n    javax.crypto.BadPaddingException: Given final block not properly padded\r\n\r\n","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>badPaddingException usually means the password was wrong.  Using \"wrong_password\" as the password recreates the error:</p>\n\n<pre><code>EncryptDecryptUtil encryptDecript = new EncryptDecryptUtil(\"wrong_password\");\nencryptDecript.decrypt(\"Q3qWLKo6yJY=\");\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>error during decryption. String to decode was : Q3qWLKo6yJY=\nbyte array to decode was : [67, 122, -106, 44, -86, 58, -56, 106]\njavax.crypto.BadPaddingException: Given final block not properly padded\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"score":0,"creation_date":1298574953,"post_id":5100805,"comment_id":5728311,"body_markdown":"I removed the comment about position of the Provider, because the javadoc says I was wrong and the OP was doing it right...","body":"I removed the comment about position of the Provider, because the javadoc says I was wrong and the OP was doing it right..."}],"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298574904,"creation_date":1298525944,"answer_id":5100805,"question_id":4895773,"body_markdown":"Some thoughts:\r\n\r\nThe stack trace indicates that the BouncyCastle provider might not be getting picked up. You can try to pass the provider explicitly to the Cipher and the KeyFactory.\r\n\r\nThe code you provided is the only code that&#39;s running, right? No other threads in the process?\r\n\r\nI wonder if you might be confusing the cipher by specifying the salt and the iterationCount both on the KeySpec, and ParameterSpec. The examples I see ( https://stackoverflow.com/questions/4060515/encrypt-pbewithmd5anddes-in-j2me, http://cs.saddleback.edu/rwatkins/CS4B/Crypto/FileEncryptor.html), do not specify those when creating the KeySpec.\r\n","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>Some thoughts:</p>\n\n<p>The stack trace indicates that the BouncyCastle provider might not be getting picked up. You can try to pass the provider explicitly to the Cipher and the KeyFactory.</p>\n\n<p>The code you provided is the only code that's running, right? No other threads in the process?</p>\n\n<p>I wonder if you might be confusing the cipher by specifying the salt and the iterationCount both on the KeySpec, and ParameterSpec. The examples I see ( <a href=\"https://stackoverflow.com/questions/4060515/encrypt-pbewithmd5anddes-in-j2me\">encrypt PBEWithMD5AndDES in j2me</a>, <a href=\"http://cs.saddleback.edu/rwatkins/CS4B/Crypto/FileEncryptor.html\" rel=\"nofollow noreferrer\">http://cs.saddleback.edu/rwatkins/CS4B/Crypto/FileEncryptor.html</a>), do not specify those when creating the KeySpec.</p>\n"},{"tags":[],"owner":{"account_id":916486,"reputation":193,"user_id":949186,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379373919,"creation_date":1379373919,"answer_id":18838982,"question_id":4895773,"body_markdown":"I&#39;m going to go out on a limb and suggest that it&#39;s a thread-safety issue. \r\nTry adding `synchronized` blocks around the `ecipher/dcipher#doFinal` calls, you can easily use the associated Cipher object as an object to synchronize with.\r\n\r\n    byte[] enc;\r\n    synchronized (ecipher) {\r\n          enc = ecipher.doFinal(utf8);\r\n    }","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>I'm going to go out on a limb and suggest that it's a thread-safety issue. \nTry adding <code>synchronized</code> blocks around the <code>ecipher/dcipher#doFinal</code> calls, you can easily use the associated Cipher object as an object to synchronize with.</p>\n\n<pre><code>byte[] enc;\nsynchronized (ecipher) {\n      enc = ecipher.doFinal(utf8);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22392334,"reputation":23,"user_id":16604165,"display_name":"Jo&#227;o Paulo Marinho Izar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686064559,"creation_date":1686064533,"answer_id":76416089,"question_id":4895773,"body_markdown":"I know this question is old, but I was facing the same problem on a Spring Boot 2.7.12 application. Turns out my cipher object was retaining some cache, I don&#39;t know why, so the workaround was to set my cipher class with the @RequestScope from Spring boot annotations. It runs fine now","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>I know this question is old, but I was facing the same problem on a Spring Boot 2.7.12 application. Turns out my cipher object was retaining some cache, I don't know why, so the workaround was to set my cipher class with the @RequestScope from Spring boot annotations. It runs fine now</p>\n"}],"owner":{"account_id":34245,"reputation":4933,"user_id":96613,"accept_rate":71,"display_name":"Antoine Claval"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11403,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":7,"score":18,"last_activity_date":1686064559,"creation_date":1296806459,"question_id":4895773,"body_markdown":"I use a javax.crypto.cipher for encrypt and decrypt some data.\r\nIt&#39;s working well. But sometimes, the decryption faill with a badPaddingException. If i compare a succefull call with a failling call, the input given to the cipher are the same, and the cipher is initialised the same way.\r\n\r\nthat how i instanciate my cipher \r\n\r\n    dcipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n    KeySpec keySpec = new PBEKeySpec(passPhrase.toCharArray(), salt, iterationCount);\r\n    SecretKey key = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;).generateSecret(keySpec);\r\n    dcipher.init(Cipher.DECRYPT_MODE, key, paramSpec);\r\n\r\nThat how i use it\r\n\r\n    dec = Base64.decode(str) ;\r\n    byte[] utf8 = dcipher.doFinal(dec);\r\n\r\nThe exception is raised on the doFinal.\r\n\r\nAny idea ?\r\n\r\nThanks !\r\n\r\nOh, btw, i use bouncyCastle as a provider, and add it on top on the list with \r\n\r\n    Security.insertProviderAt(new org.bouncycastle.jce.provider.BouncyCastleProvider(), 1);\r\n\r\n\r\nFor the sake of the completeness, and because the problem still appeart from time to time. Here is the complete class. \r\n\r\n\tpublic class EncryptDecryptUtil {\r\n\t\t/** Encryption Cipher */\r\n\t\tprivate static Cipher ecipher;\r\n\t\t/** Decription Cipher */\r\n\t\tprivate static Cipher dcipher;\r\n\t\t\r\n\t\tprivate static Logger logger = Logger.getLogger(EncryptDecryptUtil.class);\r\n\r\n\t\t/**\r\n\t\t * Constructor used to create this object. Responsible for setting and initializing this object&#39;s encrypter and\r\n\t\t * decrypter Cipher instances given a Secret Key and algorithm.\r\n\t\t * \r\n\t\t * @param key Secret Key used to initialize both the encrypter and decrypter instances.\r\n\t\t * @param algorithm Which algorithm to use for creating the encrypter and decrypter instances.\r\n\t\t */\r\n\t\tpublic EncryptDecryptUtil(SecretKey key, String algorithm) {\r\n\t\t\tSecurity.insertProviderAt(new org.bouncycastle.jce.provider.BouncyCastleProvider(), 1);\r\n\t\t\ttry {\r\n\t\t\t\tecipher = Cipher.getInstance(algorithm);\r\n\t\t\t\tdcipher = Cipher.getInstance(algorithm);\r\n\t\t\t\tecipher.init(Cipher.ENCRYPT_MODE, key);\r\n\t\t\t\tdcipher.init(Cipher.DECRYPT_MODE, key);\r\n\t\t\t} catch (NoSuchPaddingException e) {\r\n\t\t\t\tSystem.out.println(&quot;EXCEPTION: NoSuchPaddingException&quot;);\r\n\t\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t\tSystem.out.println(&quot;EXCEPTION: NoSuchAlgorithmException&quot;);\r\n\t\t\t} catch (InvalidKeyException e) {\r\n\t\t\t\tSystem.out.println(&quot;EXCEPTION: InvalidKeyException&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Constructor used to create this object. Responsible for setting and initializing this object&#39;s encrypter and\r\n\t\t * decrypter Chipher instances given a Pass Phrase and algorithm.\r\n\t\t * \r\n\t\t * @param passPhrase Pass Phrase used to initialize both the encrypter and decrypter instances.\r\n\t\t */\r\n\t\tpublic EncryptDecryptUtil(String passPhrase) {\r\n\t\t\tSecurity.insertProviderAt(new org.bouncycastle.jce.provider.BouncyCastleProvider(), 1);\r\n\t\t\t// 8-bytes Salt\r\n\t\t\tbyte[] salt = { (byte) 0xB9, (byte) 0x8B, (byte) 0xD8, (byte) 0x31, (byte) 0x55, (byte) 0x24, (byte) 0xF3, (byte) 0x13 };\r\n\r\n\t\t\t// Iteration count\r\n\t\t\tint iterationCount = 19;\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// Generate the secret key associated to the passphrase.\r\n\t\t\t\tKeySpec keySpec = new PBEKeySpec(passPhrase.toCharArray(), salt, iterationCount);\r\n\t\t\t\tSecretKey key = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;).generateSecret(keySpec);\r\n\t\t\t\t\r\n\t\t\t\t// Get instance of the cipher\r\n\t\t\t\tecipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n\t\t\t\tdcipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n\r\n\t\t\t\t// Prepare the parameters to the cipthers\r\n\t\t\t\tAlgorithmParameterSpec paramSpec = new PBEParameterSpec(salt, iterationCount);\r\n\r\n\t\t\t\tecipher.init(Cipher.ENCRYPT_MODE, key, paramSpec);\r\n\t\t\t\tdcipher.init(Cipher.DECRYPT_MODE, key, paramSpec);\r\n\r\n\t\t\t} catch (InvalidAlgorithmParameterException e) {\r\n\t\t\t\tlogger.error(&quot;during encrypter instantiation&quot;,e);\r\n\t\t\t} catch (InvalidKeySpecException e) {\r\n\t\t\t\tlogger.error(&quot;during encrypter instantiation&quot;,e);\r\n\t\t\t} catch (NoSuchPaddingException e) {\r\n\t\t\t\tlogger.error(&quot;during encrypter instantiation&quot;,e);\r\n\t\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t\tlogger.error(&quot;during encrypter instantiation&quot;,e);\r\n\t\t\t} catch (InvalidKeyException e) {\r\n\t\t\t\tlogger.error(&quot;during encrypter instantiation&quot;,e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Takes a single String as an argument and returns an Encrypted version of that String.\r\n\t\t * \r\n\t\t * @param str String to be encrypted\r\n\t\t * @return &lt;code&gt;String&lt;/code&gt; Encrypted version of the provided String\r\n\t\t */\r\n\t\tpublic String encrypt(String str) {\r\n\t\t\ttry {\r\n\t\t\t\t// Encode the string into bytes using utf-8\r\n\t\t\t\tbyte[] utf8 = str.getBytes(&quot;UTF8&quot;);\r\n\r\n\t\t\t\t// Encrypt\r\n\t\t\t\tbyte[] enc = ecipher.doFinal(utf8);\r\n\r\n\t\t\t\t// Encode bytes to base64 to get a string\r\n\t\t\t\treturn new String( Base64.encode(enc), &quot;UTF8&quot;);\r\n\r\n\t\t\t} catch (BadPaddingException e) {\r\n\t\t\t\tlogger.error(&quot;during encryption : &quot;,e);\r\n\t\t\t} catch (IllegalBlockSizeException e) {\r\n\t\t\t\tlogger.error(&quot;during encryption : &quot;,e);\r\n\t\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t\tlogger.error(&quot;during encryption : &quot;,e);\r\n\t\t\t} \r\n\t\t\treturn new String();\r\n\t\t}\r\n\t\t\r\n\r\n\t\t/**\r\n\t\t * Takes a encrypted String as an argument, decrypts and returns the decrypted String.\r\n\t\t * \r\n\t\t * @param str Encrypted String to be decrypted\r\n\t\t * @return &lt;code&gt;String&lt;/code&gt; Decrypted version of the provided String\r\n\t\t */\r\n\t\tpublic String decrypt(String str) {\r\n\t\t\tbyte[] dec = new byte[0];\r\n\t\t\ttry {\r\n\t\t\t\t// Decode base64 to get bytes. Not sure to understand why.\r\n\t\t\t\tdec = Base64.decode(str) ;\r\n\t\t\t\t// Decrypt\r\n\t\t\t\tbyte[] utf8 = dcipher.doFinal(dec);\r\n\t\t\t\t// Decode using utf-8\r\n\t\t\t\treturn new String(utf8, &quot;UTF8&quot;);\r\n\r\n\t\t\t} catch (BadPaddingException e) {\r\n\t\t\t\tlogger.error(&quot;error during decryption. String to decode was : &quot;+str + &quot; byte array to decode was : &quot;+ Arrays.toString(dec) ,e);\r\n\t\t\t} catch (IllegalBlockSizeException e) {\r\n\t\t\t\tlogger.error(&quot;during decryption : &quot;,e);\r\n\t\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t\tlogger.error(&quot;during decryption : &quot;,e);\r\n\t\t\t}  \r\n\t\t\treturn new String();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n**Edit :** \r\nI would like to stress this 2 points : \r\n\r\n- the same input will sometime fail / sometime be sucessfully decrypted. ( i know that thanks to the logs in the BadPaddingException )\r\n- this main calling the decrypt method 1 000 000 000 times doest reproduce the issus.\r\n\r\n...\r\n\r\n    for( int i = 0 ; i&lt;1000000000 ; i++){\r\n        EncryptDecryptUtil encryptDecript = new EncryptDecryptUtil(&quot;pass&quot;);\r\n        if ( !&quot;YES&quot;.equals(encryptDecript.decrypt(&quot;Q3qWLKo6yJY=&quot;))){\r\n            System.out.println(&quot;Fail at call &quot; + i);\r\n            throw new InvalidParameterException() ;\r\n        }\r\n    }\r\n\r\n\r\nSo maybe it could come from the way i use the EncryptDecryptUtils class ? It&#39;s a field of a Spring bean, instancied one time. \r\n\r\n    com.myStuff.dlm.cryptography.EncryptDecryptUtil  error during decryption. String to   decode was : Q3qWLKo6yJY= byte array to decode was : [114, 52, -52, -54, 82, 87, 124, 84]\r\n    javax.crypto.BadPaddingException: Given final block not properly padded\r\n        at com.sun.crypto.provider.SunJCE_f.b(DashoA13*..)\r\n        at com.sun.crypto.provider.SunJCE_f.b(DashoA13*..)\r\n        at com.sun.crypto.provider.SunJCE_ab.b(DashoA13*..)\r\n        at com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineDoFinal(DashoA13*..)\r\n        at javax.crypto.Cipher.doFinal(DashoA13*..)\r\n        at com.dvidea.dlm.cryptography.EncryptDecryptUtil.decrypt(EncryptDecryptUtil.java:166)","title":"badPaddingException on some call of the doFinal. Not all. Same input","body":"<p>I use a javax.crypto.cipher for encrypt and decrypt some data.\nIt's working well. But sometimes, the decryption faill with a badPaddingException. If i compare a succefull call with a failling call, the input given to the cipher are the same, and the cipher is initialised the same way.</p>\n\n<p>that how i instanciate my cipher </p>\n\n<pre><code>dcipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\nKeySpec keySpec = new PBEKeySpec(passPhrase.toCharArray(), salt, iterationCount);\nSecretKey key = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\").generateSecret(keySpec);\ndcipher.init(Cipher.DECRYPT_MODE, key, paramSpec);\n</code></pre>\n\n<p>That how i use it</p>\n\n<pre><code>dec = Base64.decode(str) ;\nbyte[] utf8 = dcipher.doFinal(dec);\n</code></pre>\n\n<p>The exception is raised on the doFinal.</p>\n\n<p>Any idea ?</p>\n\n<p>Thanks !</p>\n\n<p>Oh, btw, i use bouncyCastle as a provider, and add it on top on the list with </p>\n\n<pre><code>Security.insertProviderAt(new org.bouncycastle.jce.provider.BouncyCastleProvider(), 1);\n</code></pre>\n\n<p>For the sake of the completeness, and because the problem still appeart from time to time. Here is the complete class. </p>\n\n<pre><code>public class EncryptDecryptUtil {\n    /** Encryption Cipher */\n    private static Cipher ecipher;\n    /** Decription Cipher */\n    private static Cipher dcipher;\n\n    private static Logger logger = Logger.getLogger(EncryptDecryptUtil.class);\n\n    /**\n     * Constructor used to create this object. Responsible for setting and initializing this object's encrypter and\n     * decrypter Cipher instances given a Secret Key and algorithm.\n     * \n     * @param key Secret Key used to initialize both the encrypter and decrypter instances.\n     * @param algorithm Which algorithm to use for creating the encrypter and decrypter instances.\n     */\n    public EncryptDecryptUtil(SecretKey key, String algorithm) {\n        Security.insertProviderAt(new org.bouncycastle.jce.provider.BouncyCastleProvider(), 1);\n        try {\n            ecipher = Cipher.getInstance(algorithm);\n            dcipher = Cipher.getInstance(algorithm);\n            ecipher.init(Cipher.ENCRYPT_MODE, key);\n            dcipher.init(Cipher.DECRYPT_MODE, key);\n        } catch (NoSuchPaddingException e) {\n            System.out.println(\"EXCEPTION: NoSuchPaddingException\");\n        } catch (NoSuchAlgorithmException e) {\n            System.out.println(\"EXCEPTION: NoSuchAlgorithmException\");\n        } catch (InvalidKeyException e) {\n            System.out.println(\"EXCEPTION: InvalidKeyException\");\n        }\n    }\n\n    /**\n     * Constructor used to create this object. Responsible for setting and initializing this object's encrypter and\n     * decrypter Chipher instances given a Pass Phrase and algorithm.\n     * \n     * @param passPhrase Pass Phrase used to initialize both the encrypter and decrypter instances.\n     */\n    public EncryptDecryptUtil(String passPhrase) {\n        Security.insertProviderAt(new org.bouncycastle.jce.provider.BouncyCastleProvider(), 1);\n        // 8-bytes Salt\n        byte[] salt = { (byte) 0xB9, (byte) 0x8B, (byte) 0xD8, (byte) 0x31, (byte) 0x55, (byte) 0x24, (byte) 0xF3, (byte) 0x13 };\n\n        // Iteration count\n        int iterationCount = 19;\n\n        try {\n            // Generate the secret key associated to the passphrase.\n            KeySpec keySpec = new PBEKeySpec(passPhrase.toCharArray(), salt, iterationCount);\n            SecretKey key = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\").generateSecret(keySpec);\n\n            // Get instance of the cipher\n            ecipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n            dcipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n\n            // Prepare the parameters to the cipthers\n            AlgorithmParameterSpec paramSpec = new PBEParameterSpec(salt, iterationCount);\n\n            ecipher.init(Cipher.ENCRYPT_MODE, key, paramSpec);\n            dcipher.init(Cipher.DECRYPT_MODE, key, paramSpec);\n\n        } catch (InvalidAlgorithmParameterException e) {\n            logger.error(\"during encrypter instantiation\",e);\n        } catch (InvalidKeySpecException e) {\n            logger.error(\"during encrypter instantiation\",e);\n        } catch (NoSuchPaddingException e) {\n            logger.error(\"during encrypter instantiation\",e);\n        } catch (NoSuchAlgorithmException e) {\n            logger.error(\"during encrypter instantiation\",e);\n        } catch (InvalidKeyException e) {\n            logger.error(\"during encrypter instantiation\",e);\n        }\n    }\n\n    /**\n     * Takes a single String as an argument and returns an Encrypted version of that String.\n     * \n     * @param str String to be encrypted\n     * @return &lt;code&gt;String&lt;/code&gt; Encrypted version of the provided String\n     */\n    public String encrypt(String str) {\n        try {\n            // Encode the string into bytes using utf-8\n            byte[] utf8 = str.getBytes(\"UTF8\");\n\n            // Encrypt\n            byte[] enc = ecipher.doFinal(utf8);\n\n            // Encode bytes to base64 to get a string\n            return new String( Base64.encode(enc), \"UTF8\");\n\n        } catch (BadPaddingException e) {\n            logger.error(\"during encryption : \",e);\n        } catch (IllegalBlockSizeException e) {\n            logger.error(\"during encryption : \",e);\n        } catch (UnsupportedEncodingException e) {\n            logger.error(\"during encryption : \",e);\n        } \n        return new String();\n    }\n\n\n    /**\n     * Takes a encrypted String as an argument, decrypts and returns the decrypted String.\n     * \n     * @param str Encrypted String to be decrypted\n     * @return &lt;code&gt;String&lt;/code&gt; Decrypted version of the provided String\n     */\n    public String decrypt(String str) {\n        byte[] dec = new byte[0];\n        try {\n            // Decode base64 to get bytes. Not sure to understand why.\n            dec = Base64.decode(str) ;\n            // Decrypt\n            byte[] utf8 = dcipher.doFinal(dec);\n            // Decode using utf-8\n            return new String(utf8, \"UTF8\");\n\n        } catch (BadPaddingException e) {\n            logger.error(\"error during decryption. String to decode was : \"+str + \" byte array to decode was : \"+ Arrays.toString(dec) ,e);\n        } catch (IllegalBlockSizeException e) {\n            logger.error(\"during decryption : \",e);\n        } catch (UnsupportedEncodingException e) {\n            logger.error(\"during decryption : \",e);\n        }  \n        return new String();\n    }\n}\n</code></pre>\n\n<p><strong>Edit :</strong> \nI would like to stress this 2 points : </p>\n\n<ul>\n<li>the same input will sometime fail / sometime be sucessfully decrypted. ( i know that thanks to the logs in the BadPaddingException )</li>\n<li>this main calling the decrypt method 1 000 000 000 times doest reproduce the issus.</li>\n</ul>\n\n<p>...</p>\n\n<pre><code>for( int i = 0 ; i&lt;1000000000 ; i++){\n    EncryptDecryptUtil encryptDecript = new EncryptDecryptUtil(\"pass\");\n    if ( !\"YES\".equals(encryptDecript.decrypt(\"Q3qWLKo6yJY=\"))){\n        System.out.println(\"Fail at call \" + i);\n        throw new InvalidParameterException() ;\n    }\n}\n</code></pre>\n\n<p>So maybe it could come from the way i use the EncryptDecryptUtils class ? It's a field of a Spring bean, instancied one time. </p>\n\n<pre><code>com.myStuff.dlm.cryptography.EncryptDecryptUtil  error during decryption. String to   decode was : Q3qWLKo6yJY= byte array to decode was : [114, 52, -52, -54, 82, 87, 124, 84]\njavax.crypto.BadPaddingException: Given final block not properly padded\n    at com.sun.crypto.provider.SunJCE_f.b(DashoA13*..)\n    at com.sun.crypto.provider.SunJCE_f.b(DashoA13*..)\n    at com.sun.crypto.provider.SunJCE_ab.b(DashoA13*..)\n    at com.sun.crypto.provider.PBEWithMD5AndDESCipher.engineDoFinal(DashoA13*..)\n    at javax.crypto.Cipher.doFinal(DashoA13*..)\n    at com.dvidea.dlm.cryptography.EncryptDecryptUtil.decrypt(EncryptDecryptUtil.java:166)\n</code></pre>\n"},{"tags":["java","azure-devops","vmware","java-11"],"owner":{"account_id":1972100,"reputation":1314,"user_id":1770778,"accept_rate":72,"display_name":"ffonz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686064417,"creation_date":1686064417,"question_id":76416073,"body_markdown":"I have followed [this article][1] to set up Azure DevOps to revert a snapshot with the [VMware extension][2].\r\n\r\nI managed to get it working with vSphere Management SDK 7.0 U3f and adding Java 8 (jdk1.8.0_221) to the path-variable of Windows.\r\n\r\nBut now we want to install Visual Studio 2022 on the agent. But because of Visual Studio 2022 installing Microsoft Build of OpenJDK with Hotspot 11 in the path-variable, I have to get it working with this version of Java. According to the release notes, SDK 7.0 U3f should support Java 11.\r\n\r\nAzure DevOps generates this command:\r\n\r\n    C:\\Program Files\\Microsoft\\jdk-11.0.12.7-hotspot\\bin\\java.exe -classpath vmOpsTool-1.0.jar;C:\\vSphereSDK\\SDK\\vsphere-ws\\java\\JAXWS\\lib\\vim25.jar VmOpsTool -snapshotOps restore -snapshotName DeploymentReadySnapshot -timeout 60 -vCenterUrl https://XXXXXXXXXXXXXX/sdk/vimService -vCenterUserName *** -vCenterPassword *** -vmList VM-DPL-001 -targetdc BuildManagement -skipca true\r\n\r\nAnd this is the output:\r\n\r\n    2023-06-02T10:50:33.3249971Z Parsing input parameters...\r\n    2023-06-02T10:50:33.3342795Z Checking for active session...\r\n    2023-06-02T10:50:33.3345005Z No active session found.. establishing new session.\r\n    2023-06-02T10:50:34.3238705Z java.lang.NoClassDefFoundError: jakarta/xml/ws/Service\r\n\r\nHow can I get the SDK working with Java 11?\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/devops/pipelines/targets/vmware?view=azure-devops\r\n  [2]: https://marketplace.visualstudio.com/items?itemName=ms-vscs-rm.vmwareapp","title":"Use VMware extension on Azure DevOps with Java 11","body":"<p>I have followed <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/targets/vmware?view=azure-devops\" rel=\"nofollow noreferrer\">this article</a> to set up Azure DevOps to revert a snapshot with the <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscs-rm.vmwareapp\" rel=\"nofollow noreferrer\">VMware extension</a>.</p>\n<p>I managed to get it working with vSphere Management SDK 7.0 U3f and adding Java 8 (jdk1.8.0_221) to the path-variable of Windows.</p>\n<p>But now we want to install Visual Studio 2022 on the agent. But because of Visual Studio 2022 installing Microsoft Build of OpenJDK with Hotspot 11 in the path-variable, I have to get it working with this version of Java. According to the release notes, SDK 7.0 U3f should support Java 11.</p>\n<p>Azure DevOps generates this command:</p>\n<pre><code>C:\\Program Files\\Microsoft\\jdk-11.0.12.7-hotspot\\bin\\java.exe -classpath vmOpsTool-1.0.jar;C:\\vSphereSDK\\SDK\\vsphere-ws\\java\\JAXWS\\lib\\vim25.jar VmOpsTool -snapshotOps restore -snapshotName DeploymentReadySnapshot -timeout 60 -vCenterUrl https://XXXXXXXXXXXXXX/sdk/vimService -vCenterUserName *** -vCenterPassword *** -vmList VM-DPL-001 -targetdc BuildManagement -skipca true\n</code></pre>\n<p>And this is the output:</p>\n<pre><code>2023-06-02T10:50:33.3249971Z Parsing input parameters...\n2023-06-02T10:50:33.3342795Z Checking for active session...\n2023-06-02T10:50:33.3345005Z No active session found.. establishing new session.\n2023-06-02T10:50:34.3238705Z java.lang.NoClassDefFoundError: jakarta/xml/ws/Service\n</code></pre>\n<p>How can I get the SDK working with Java 11?</p>\n"},{"tags":["java","android","google-maps","google-maps-markers"],"answers":[{"comments":[{"owner":{"account_id":11406086,"reputation":3,"user_id":8361477,"display_name":"Diego Trujillo"},"score":0,"creation_date":1504060939,"post_id":45951019,"comment_id":78860648,"body_markdown":"Hi, thanks for your answer, i&#39;ve been searching for a change event listener but cant resolve the issue... the thing is that theese &quot;variables&quot; (latitude, longitude of the cab that has change its position) come from a firebase database and that&#39;s why i dont know how to make conditions with them...","body":"Hi, thanks for your answer, i&#39;ve been searching for a change event listener but cant resolve the issue... the thing is that theese &quot;variables&quot; (latitude, longitude of the cab that has change its position) come from a firebase database and that&#39;s why i dont know how to make conditions with them..."},{"owner":{"account_id":11406086,"reputation":3,"user_id":8361477,"display_name":"Diego Trujillo"},"score":0,"creation_date":1504061024,"post_id":45951019,"comment_id":78860665,"body_markdown":"i&#39;ve been thinking about a hashmap, but not quite sure how to introduce the markers on it.}","body":"i&#39;ve been thinking about a hashmap, but not quite sure how to introduce the markers on it.}"}],"tags":[],"owner":{"account_id":11638276,"reputation":136,"user_id":8523706,"display_name":"Javdroider"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504060556,"creation_date":1504060556,"answer_id":45951019,"question_id":45950952,"body_markdown":"In the method `drawMarker`, you **add all the markers** into `markersToClear`, ofcourse all will the markers will be errased when you call the function `eraseMarkers`.\r\n\r\nI think you should just add the markers into markersToClear **when the marker is changed**. Maybe there is a `change event listener` in android, try to use it.","title":"Erase a specific marker","body":"<p>In the method <code>drawMarker</code>, you <strong>add all the markers</strong> into <code>markersToClear</code>, ofcourse all will the markers will be errased when you call the function <code>eraseMarkers</code>.</p>\n\n<p>I think you should just add the markers into markersToClear <strong>when the marker is changed</strong>. Maybe there is a <code>change event listener</code> in android, try to use it.</p>\n"}],"owner":{"account_id":11406086,"reputation":3,"user_id":8361477,"display_name":"Diego Trujillo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686064397,"creation_date":1504059960,"question_id":45950952,"body_markdown":"I&#39;m working on a App in which I have a map with markers that are cabs (like UBER cabs). I&#39;m working with firebase and the thing is I need to erase just the marker (the child on firebase) which has changed its location, if the others haven&#39;t change yet I need to keep them in the map... I have already worked on a function but it erases every single marker from the map, not just the one(the cab) that has &quot;moved&quot;...\r\n\r\n     private void loadLocationsFromCloud() {\r\n\r\n        Bundle extras = getIntent().getExtras();\r\n        String company= extras.getString(&quot;cabs-company&quot;).toString();\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference myRef = database.getReference(&quot;company&quot;);\r\n        Query groupQuery = myRef.child(company);\r\n\r\n        groupQuery.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(DataSnapshot dataSnapshot, String s) {\r\n              //nothing to do here.\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\r\n                Log.d(TAG, &quot;onDataChange&quot;);\r\n                eraseMarkers();\r\n                LastLocation item = dataSnapshot.getValue(LastLocation.class);\r\n                LatLng newLatLng = new LatLng(item.getmLatitud(), \r\n                item.getmLongitud());\r\n                Integer cabId = new Integer(item.getcabId());\r\n                drawMarker(newLatLng, cabId);\r\n\r\n                \r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\r\n                Log.d(TAG, &quot;onDataChange&quot;);\r\n\r\n           \r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\r\n               \r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n//the method to draw the marker\r\n\r\n      private void drawMarker(LatLng pos, final Integer cabId) {\r\n        final String id = cabId.toString();\r\n        final String cabId = &quot;u&quot; + id;\r\n        Bundle bundle = getIntent().getExtras();\r\n        final String company = bundle.getString(&quot;company&quot;);\r\n        final MarkerOptions markerOptions = new MarkerOptions().position(pos);\r\n        markerOptions.position(pos);\r\n        \r\n     markerOptions.icon(BitmapDescriptorFactory.fromResource(R.mipmap.rutixxx));\r\n        markerOptions.snippet(&quot;Cab #: &quot; + num);\r\n        markerOptions.title(company);\r\n\r\n\r\n        if (mMap != null) {\r\n            marker = mMap.addMarker(markerOptions);\r\n            markersToClear.add(marker);\r\n        }\r\n\r\n    }\r\n\r\n//the method to erase markers.\r\n\r\n     private void eraseMarkers() {\r\n\r\n        for (Marker marker : markersToClear) {\r\n            marker.remove();\r\n        }\r\n        markersToClear.clear();\r\n    }\r\n\r\n\r\n\r\nAppreciate any help","title":"Erase a specific marker","body":"<p>I'm working on a App in which I have a map with markers that are cabs (like UBER cabs). I'm working with firebase and the thing is I need to erase just the marker (the child on firebase) which has changed its location, if the others haven't change yet I need to keep them in the map... I have already worked on a function but it erases every single marker from the map, not just the one(the cab) that has &quot;moved&quot;...</p>\n<pre><code> private void loadLocationsFromCloud() {\n\n    Bundle extras = getIntent().getExtras();\n    String company= extras.getString(&quot;cabs-company&quot;).toString();\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    DatabaseReference myRef = database.getReference(&quot;company&quot;);\n    Query groupQuery = myRef.child(company);\n\n    groupQuery.addChildEventListener(new ChildEventListener() {\n        @Override\n        public void onChildAdded(DataSnapshot dataSnapshot, String s) {\n          //nothing to do here.\n        }\n\n        @Override\n        public void onChildChanged(DataSnapshot dataSnapshot, String s) {\n            Log.d(TAG, &quot;onDataChange&quot;);\n            eraseMarkers();\n            LastLocation item = dataSnapshot.getValue(LastLocation.class);\n            LatLng newLatLng = new LatLng(item.getmLatitud(), \n            item.getmLongitud());\n            Integer cabId = new Integer(item.getcabId());\n            drawMarker(newLatLng, cabId);\n\n            \n        }\n\n        @Override\n        public void onChildRemoved(DataSnapshot dataSnapshot) {\n            Log.d(TAG, &quot;onDataChange&quot;);\n\n       \n        }\n\n        @Override\n        public void onChildMoved(DataSnapshot dataSnapshot, String s) {\n           \n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n\n        }\n    });\n}\n</code></pre>\n<p>//the method to draw the marker</p>\n<pre><code>  private void drawMarker(LatLng pos, final Integer cabId) {\n    final String id = cabId.toString();\n    final String cabId = &quot;u&quot; + id;\n    Bundle bundle = getIntent().getExtras();\n    final String company = bundle.getString(&quot;company&quot;);\n    final MarkerOptions markerOptions = new MarkerOptions().position(pos);\n    markerOptions.position(pos);\n    \n markerOptions.icon(BitmapDescriptorFactory.fromResource(R.mipmap.rutixxx));\n    markerOptions.snippet(&quot;Cab #: &quot; + num);\n    markerOptions.title(company);\n\n\n    if (mMap != null) {\n        marker = mMap.addMarker(markerOptions);\n        markersToClear.add(marker);\n    }\n\n}\n</code></pre>\n<p>//the method to erase markers.</p>\n<pre><code> private void eraseMarkers() {\n\n    for (Marker marker : markersToClear) {\n        marker.remove();\n    }\n    markersToClear.clear();\n}\n</code></pre>\n<p>Appreciate any help</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":7106895,"reputation":33839,"user_id":5436257,"accept_rate":100,"display_name":"Joe Clay"},"score":0,"creation_date":1670935602,"post_id":74785032,"comment_id":131983950,"body_markdown":"I&#39;m not sure of the answer to this, but for what it&#39;s worth, [`PathPatternParser.setMatchOptionalTrailingSeparator`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPatternParser.html#setMatchOptionalTrailingSeparator(boolean)) also seems to be deprecated now, with a message saying &#39;*transparent support for trailing slashes is deprecated as of 6.0 in favor of configuring explicit redirects through a proxy, Servlet/web filter, or a controller*&#39;.","body":"I&#39;m not sure of the answer to this, but for what it&#39;s worth, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPatternParser.html#setMatchOptionalTrailingSeparator(boolean)\" rel=\"nofollow noreferrer\"><code>PathPatternParser.setMatchOptionalTrailingSeparator</code></a> also seems to be deprecated now, with a message saying &#39;<i>transparent support for trailing slashes is deprecated as of 6.0 in favor of configuring explicit redirects through a proxy, Servlet/web filter, or a controller</i>&#39;."}],"answers":[{"comments":[{"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"score":1,"creation_date":1671088559,"post_id":74786037,"comment_id":132023349,"body_markdown":"You don&#39;t happen to know the rationale for removing this option? I can understand that it&#39;s not default anymore, but given that it seems to be this difficult to re-enable it again, they must have really disliked it :)","body":"You don&#39;t happen to know the rationale for removing this option? I can understand that it&#39;s not default anymore, but given that it seems to be this difficult to re-enable it again, they must have really disliked it :)"},{"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"score":0,"creation_date":1671089484,"post_id":74786037,"comment_id":132023575,"body_markdown":"There&#39;s a discussion on github which you can refer, esp this comment: https://github.com/spring-projects/spring-framework/issues/28552#issuecomment-1152391820","body":"There&#39;s a discussion on github which you can refer, esp this comment: <a href=\"https://github.com/spring-projects/spring-framework/issues/28552#issuecomment-1152391820\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/&hellip;</a>"},{"owner":{"account_id":16249042,"reputation":86,"user_id":11733458,"display_name":"Deyvid Dimitrov"},"score":0,"creation_date":1692109895,"post_id":74786037,"comment_id":135578146,"body_markdown":"Is there any cleaner or better-looking way nowadays, a few versions later?","body":"Is there any cleaner or better-looking way nowadays, a few versions later?"},{"owner":{"account_id":2259435,"reputation":275,"user_id":1989863,"accept_rate":55,"display_name":"XZen"},"score":0,"creation_date":1696937088,"post_id":74786037,"comment_id":136213710,"body_markdown":"Thank you for the options, but wow.. how verbose it is, very weird update from the Spring ream","body":"Thank you for the options, but wow.. how verbose it is, very weird update from the Spring ream"}],"tags":[],"owner":{"account_id":7777159,"reputation":1084,"user_id":6886283,"display_name":"priyanksriv"},"comment_count":4,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1670940470,"creation_date":1670940096,"answer_id":74786037,"question_id":74785032,"body_markdown":"As @joe-clay has mentioned in his comment, `PathPatternParser.setMatchOptionalTrailingSeparator(boolean)` is deprecated as well in favour of explicit redirects. So you have 3 options:\r\n\r\n1. Declare both routes explicitly in the controller handler `@GetMapping(&quot;/users&quot;, &quot;/users/&quot;)`. Downside is that you need to do this for every controller, but can be used as a stop-gap solution.\r\n\r\n2. Implement `org.springframework.web.server.WebFilter` interface to explicitly redirect to the desired url. Something along these lines:\r\n```java\r\n@Override\r\npublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n\r\n    URI originalUri = exchange.getRequest().getURI();\r\n\r\n    if (/* check condition for trailing slash using originalUri getPath(), getQuery() etc. */) {\r\n        String originalPath = originalUri.getPath();\r\n    \tString newPath = originalPath.substring(0, originalPath.length() - 1); // ignore trailing slash\r\n\t    try {\r\n\t        URI newUri = new URI(originalUri.getScheme(),\r\n\t                originalUri.getUserInfo(),\r\n\t                originalUri.getHost(),\r\n\t                originalUri.getPort(),\r\n\t                newPath,\r\n\t                originalUri.getQuery(),\r\n\t                originalUri.getFragment());\r\n\r\n\t        ServerHttpResponse response = exchange.getResponse();\r\n\t        response.setStatusCode(HttpStatus.MOVED_PERMANENTLY);    // optional\r\n\t        response.getHeaders().setLocation(mutatedUri);\r\n\r\n\t        return Mono.empty();\r\n\r\n\t    } catch (URISyntaxException e) {\r\n\t        throw new IllegalStateException(e.getMessage(), e);\r\n\t    }\r\n    }\r\n    return chain.filter(exchange);\r\n}\r\n```\r\n\r\n3. Explicitly rewrite the incoming url in the proxy (for example using `rewrite` rules in nginx) to match the expected url.\r\n\r\nIn options 2 and 3, you may choose to return an `HTTP 301` response as well. ","title":"How do you ignore trailing slash in webflux in spring boot 3?","body":"<p>As @joe-clay has mentioned in his comment, <code>PathPatternParser.setMatchOptionalTrailingSeparator(boolean)</code> is deprecated as well in favour of explicit redirects. So you have 3 options:</p>\n<ol>\n<li><p>Declare both routes explicitly in the controller handler <code>@GetMapping(&quot;/users&quot;, &quot;/users/&quot;)</code>. Downside is that you need to do this for every controller, but can be used as a stop-gap solution.</p>\n</li>\n<li><p>Implement <code>org.springframework.web.server.WebFilter</code> interface to explicitly redirect to the desired url. Something along these lines:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n\n    URI originalUri = exchange.getRequest().getURI();\n\n    if (/* check condition for trailing slash using originalUri getPath(), getQuery() etc. */) {\n        String originalPath = originalUri.getPath();\n        String newPath = originalPath.substring(0, originalPath.length() - 1); // ignore trailing slash\n        try {\n            URI newUri = new URI(originalUri.getScheme(),\n                    originalUri.getUserInfo(),\n                    originalUri.getHost(),\n                    originalUri.getPort(),\n                    newPath,\n                    originalUri.getQuery(),\n                    originalUri.getFragment());\n\n            ServerHttpResponse response = exchange.getResponse();\n            response.setStatusCode(HttpStatus.MOVED_PERMANENTLY);    // optional\n            response.getHeaders().setLocation(mutatedUri);\n\n            return Mono.empty();\n\n        } catch (URISyntaxException e) {\n            throw new IllegalStateException(e.getMessage(), e);\n        }\n    }\n    return chain.filter(exchange);\n}\n</code></pre>\n<ol start=\"3\">\n<li>Explicitly rewrite the incoming url in the proxy (for example using <code>rewrite</code> rules in nginx) to match the expected url.</li>\n</ol>\n<p>In options 2 and 3, you may choose to return an <code>HTTP 301</code> response as well.</p>\n"}],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8171,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74786037,"answer_count":1,"score":5,"last_activity_date":1686064222,"creation_date":1670935292,"question_id":74785032,"body_markdown":"In Spring Boot 3, they have changed so that trailing slashes, by default, are no longer ignored. For example, if I have a GET resource, `/users`, and I navigate to `/users/` then Spring Boot webflux will now respond with 404.\r\n\r\nYou can change this by implementing a `WebFluxConfigurer` and overriding the `configurePathMatching` method:\r\n\r\n```java\r\n@Override\r\npublic void configurePathMatching(PathMatchConfigurer configurer) {\r\n     configurer.setUseTrailingSlashMatch();\r\n}\r\n```\r\n\r\nHowever, `setUseTrailingSlashMatch` is deprecated, and the docs says to use `PathPatternParser.setMatchOptionalTrailingSeparator(boolean)` instead. However, I don&#39;t understand how/where you actually configure this. \r\n\r\nSo the question is, how do I set `PathPatternParser.setMatchOptionalTrailingSeparator(boolean)`?","title":"How do you ignore trailing slash in webflux in spring boot 3?","body":"<p>In Spring Boot 3, they have changed so that trailing slashes, by default, are no longer ignored. For example, if I have a GET resource, <code>/users</code>, and I navigate to <code>/users/</code> then Spring Boot webflux will now respond with 404.</p>\n<p>You can change this by implementing a <code>WebFluxConfigurer</code> and overriding the <code>configurePathMatching</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void configurePathMatching(PathMatchConfigurer configurer) {\n     configurer.setUseTrailingSlashMatch();\n}\n</code></pre>\n<p>However, <code>setUseTrailingSlashMatch</code> is deprecated, and the docs says to use <code>PathPatternParser.setMatchOptionalTrailingSeparator(boolean)</code> instead. However, I don't understand how/where you actually configure this.</p>\n<p>So the question is, how do I set <code>PathPatternParser.setMatchOptionalTrailingSeparator(boolean)</code>?</p>\n"},{"tags":["java","compiler-errors","syntax-error","string-formatting"],"comments":[{"owner":{"account_id":6532198,"reputation":54726,"user_id":5053002,"display_name":"Jaromanda X"},"score":3,"creation_date":1686019618,"post_id":76411129,"comment_id":134738521,"body_markdown":"Three issues: you&#39;ve put text in a code block making it hard to read, and tagged javascript when this is not javascript, and linked a picture of code, rather than put code in the question","body":"Three issues: you&#39;ve put text in a code block making it hard to read, and tagged javascript when this is not javascript, and linked a picture of code, rather than put code in the question"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686019619,"post_id":76411129,"comment_id":134738522,"body_markdown":"Don&#39;t post code as an image. Everywhere you have ``\\%`` in your format string should be ``\\\\%`` (assuming you want an actual ``\\`` in your output).","body":"Don&#39;t post code as an image. Everywhere you have <code>\\%</code> in your format string should be <code>\\\\%</code> (assuming you want an actual <code>\\</code> in your output)."},{"owner":{"account_id":28761208,"reputation":1,"user_id":22027064,"display_name":"iEdit4Fun"},"score":0,"creation_date":1686022716,"post_id":76411129,"comment_id":134738733,"body_markdown":"I tried to post it in the text box but it didn&#39;t work","body":"I tried to post it in the text box but it didn&#39;t work"},{"owner":{"account_id":28761208,"reputation":1,"user_id":22027064,"display_name":"iEdit4Fun"},"score":0,"creation_date":1686022877,"post_id":76411129,"comment_id":134738747,"body_markdown":"I tried to put it in the questions but it didn&#39;t work. I also tried the \\\\% but it didn&#39;t work I still got an error","body":"I tried to put it in the questions but it didn&#39;t work. I also tried the \\\\% but it didn&#39;t work I still got an error"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1686032626,"post_id":76411129,"comment_id":134739640,"body_markdown":"Welcome to Stack Overflow. For users here to consider your issue you need to paste your program, or better yet, a [mre], into the question proper and format it as code (there’s a button for that). And paste the error output in the same way (format as code too to preserve line breaks). And point out which line is line 44 (the `System.out.println()` line).","body":"Welcome to Stack Overflow. For users here to consider your issue you need to paste your program, or better yet, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, into the question proper and format it as code (there’s a button for that). And paste the error output in the same way (format as code too to preserve line breaks). And point out which line is line 44 (the <code>System.out.println()</code> line)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1686032629,"post_id":76411129,"comment_id":134739641,"body_markdown":"Take into account that most readers here are not following your link to the image of your IDE. And also that the first thing many readers will want to do is either paste the error message into their search engine, which they canot do from an image, or run the program themselves, which they canot do from an image either.","body":"Take into account that most readers here are not following your link to the image of your IDE. And also that the first thing many readers will want to do is either paste the error message into their search engine, which they canot do from an image, or run the program themselves, which they canot do from an image either."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1686063809,"post_id":76411129,"comment_id":134746211,"body_markdown":"Since you’re new here, in an attempt to show you a question format we generally like I have added a [mre] showing your problem to your question. I would really have preferred to delete the original text and link since I don’t think they contribute anything once we have the MRE; but deleting your text entirely would probably have been too brutal, so I compromised there. I hope you can use it as inspiration for your next Stack Overflow questions. And if you didn’t like it at all, just revert my edit.","body":"Since you’re new here, in an attempt to show you a question format we generally like I have added a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing your problem to your question. I would really have preferred to delete the original text and link since I don’t think they contribute anything once we have the MRE; but deleting your text entirely would probably have been too brutal, so I compromised there. I hope you can use it as inspiration for your next Stack Overflow questions. And if you didn’t like it at all, just revert my edit."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1686064366,"post_id":76411129,"comment_id":134746351,"body_markdown":"Similar but maybe not exactly the same: [Illegal Escape Character &quot;\\&quot;](https://stackoverflow.com/questions/6257316/illegal-escape-character)","body":"Similar but maybe not exactly the same: <a href=\"https://stackoverflow.com/questions/6257316/illegal-escape-character\">Illegal Escape Character &quot;\\&quot;</a>"}],"answers":[{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686074534,"post_id":76411300,"comment_id":134748562,"body_markdown":"@OleV.V., no thanks man.  Take your comments elsewhere.","body":"@OleV.V., no thanks man.  Take your comments elsewhere."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686022754,"creation_date":1686022754,"answer_id":76411300,"question_id":76411129,"body_markdown":"You can review the _format specifiers_ on the _[Formatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html#conversions-heading)_ class _JavaDoc_.\r\n\r\nReal number values use _%f_.  \r\nAnd, integer number values use _%d_.\r\n\r\nYou can use the following, to obtain a similar output as required.\r\n\r\n```java\r\n&quot;%7f %7f %5d %5s %s&quot;\r\n```\r\n\r\n```none\r\n1299.970000 465.640000  1963 00694 ATLAS CENTAUR 2\r\n```\r\n\r\nYou can specify a scale using _%.2f_, where _.2_ is the scale.  \r\nAnd, you can add leading zeros by adding a _0_ before the width.\r\n\r\n```java\r\n&quot;%7.2f %7.2f %5d %5s %s&quot;\r\n```\r\n\r\n```none\r\n1299.97  465.64  1963 00694 ATLAS CENTAUR 2\r\n```","title":"illegal escape character from String.format()","body":"<p>You can review the <em>format specifiers</em> on the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html#conversions-heading\" rel=\"nofollow noreferrer\">Formatter</a></em> class <em>JavaDoc</em>.</p>\n<p>Real number values use <em>%f</em>.<br />\nAnd, integer number values use <em>%d</em>.</p>\n<p>You can use the following, to obtain a similar output as required.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;%7f %7f %5d %5s %s&quot;\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1299.970000 465.640000  1963 00694 ATLAS CENTAUR 2\n</code></pre>\n<p>You can specify a scale using <em>%.2f</em>, where <em>.2</em> is the scale.<br />\nAnd, you can add leading zeros by adding a <em>0</em> before the width.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;%7.2f %7.2f %5d %5s %s&quot;\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>1299.97  465.64  1963 00694 ATLAS CENTAUR 2\n</code></pre>\n"}],"owner":{"account_id":28761208,"reputation":1,"user_id":22027064,"display_name":"iEdit4Fun"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686064188,"creation_date":1686019402,"question_id":76411129,"body_markdown":"### Edit:\r\n\r\nI am getting &quot;error: illegal escape character&quot; when I try to compile my Java program.\r\n\r\nMinimal reproducible example:\r\n\r\n    public static void main(String... args) {\r\n        String output = String.format(&quot;%7d\\%7d\\%5d\\t%%5s\\t%s&quot;, 1299.97, 465.64, 1963, &quot;00694&quot;, &quot;ATLAS CENTAUR 2&quot;);\r\n    }\r\n\r\nExpected output:\r\n\r\n```none\r\n 1299.97      465.64    1963      00694        ATLAS CENTAUR 2         \r\n```\r\n\r\nOutput from javac:\r\n\r\n```none\r\nMain.java:6: error: illegal escape character\r\n        String output = String.format(&quot;%7d\\%7d\\%5d\\t%%5s\\t%s&quot;, 1299.97, 465.64, 1963, &quot;00694&quot;, &quot;ATLAS CENTAUR 2&quot;);\r\n                                           ^\r\nMain.java:6: error: illegal escape character\r\n        String output = String.format(&quot;%7d\\%7d\\%5d\\t%%5s\\t%s&quot;, 1299.97, 465.64, 1963, &quot;00694&quot;, &quot;ATLAS CENTAUR 2&quot;);\r\n                                               ^\r\n2 errors\r\n```\r\n\r\nHow do I fix this?\r\n\r\n### Original question, can be ignored:\r\n\r\n[error at line 44 and I don&#39;t know how to fix it](https://i.stack.imgur.com/1yknx.png)\r\n\r\n```\r\n\r\nHi I am new to java programming. I want to write a java program to print out the satilites from a website. Error at line 44 and I don&#39;t know how to fix it. I&#39;m not sure if I&#39;m using the .format right. Can I please have some help?\r\n\r\nThis is the assignment:\r\n\r\n```\r\nAssignment 3 is:\r\n\r\nWrite 3 functions:\r\n\r\n    apogee which takes 2 parameters, mean motion and eccentricity and returns the apogee in kilometers.\r\n\r\n    perigee which takes 2 parameters, mean motion and eccentricity and returns the perigee in kilometers.\r\n\r\n    launch year yyyy which takes an integer parameter, the 2 digit launch year, and returns an integer, the 4 digit launch year.\r\n\r\n        hint: use the date for the 1st ever artificial satellite launch to write a function that will work until 2057\r\n\r\nDon&#39;t forget about the &quot;assumed decimal point&quot; for the eccentricity. (Use String concatenation to pre-pend a leading &quot;0.&quot; to the extracted substring before converting it to double).\r\n\r\nIt should look like this :\r\n\r\n```none\r\n 1299.97      465.64    1963      00694        ATLAS CENTAUR 2         \r\n  813.27      765.76    1964      00733        THOR AGENA D R/B        \r\n  753.32      648.28    1964      00877        SL-3 R/B                \r\n  799.01      704.45    1967      02802        SL-8 R/B                \r\n  616.16      574.02    1968      03230        SL-8 R/B                \r\n  .....................................................\r\n```","title":"illegal escape character from String.format()","body":"<h3>Edit:</h3>\n<p>I am getting &quot;error: illegal escape character&quot; when I try to compile my Java program.</p>\n<p>Minimal reproducible example:</p>\n<pre><code>public static void main(String... args) {\n    String output = String.format(&quot;%7d\\%7d\\%5d\\t%%5s\\t%s&quot;, 1299.97, 465.64, 1963, &quot;00694&quot;, &quot;ATLAS CENTAUR 2&quot;);\n}\n</code></pre>\n<p>Expected output:</p>\n<pre class=\"lang-none prettyprint-override\"><code> 1299.97      465.64    1963      00694        ATLAS CENTAUR 2         \n</code></pre>\n<p>Output from javac:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Main.java:6: error: illegal escape character\n        String output = String.format(&quot;%7d\\%7d\\%5d\\t%%5s\\t%s&quot;, 1299.97, 465.64, 1963, &quot;00694&quot;, &quot;ATLAS CENTAUR 2&quot;);\n                                           ^\nMain.java:6: error: illegal escape character\n        String output = String.format(&quot;%7d\\%7d\\%5d\\t%%5s\\t%s&quot;, 1299.97, 465.64, 1963, &quot;00694&quot;, &quot;ATLAS CENTAUR 2&quot;);\n                                               ^\n2 errors\n</code></pre>\n<p>How do I fix this?</p>\n<h3>Original question, can be ignored:</h3>\n<p><a href=\"https://i.stack.imgur.com/1yknx.png\" rel=\"nofollow noreferrer\">error at line 44 and I don't know how to fix it</a></p>\n<pre><code>\nHi I am new to java programming. I want to write a java program to print out the satilites from a website. Error at line 44 and I don't know how to fix it. I'm not sure if I'm using the .format right. Can I please have some help?\n\nThis is the assignment:\n\n</code></pre>\n<p>Assignment 3 is:</p>\n<p>Write 3 functions:</p>\n<pre><code>apogee which takes 2 parameters, mean motion and eccentricity and returns the apogee in kilometers.\n\nperigee which takes 2 parameters, mean motion and eccentricity and returns the perigee in kilometers.\n\nlaunch year yyyy which takes an integer parameter, the 2 digit launch year, and returns an integer, the 4 digit launch year.\n\n    hint: use the date for the 1st ever artificial satellite launch to write a function that will work until 2057\n</code></pre>\n<p>Don't forget about the &quot;assumed decimal point&quot; for the eccentricity. (Use String concatenation to pre-pend a leading &quot;0.&quot; to the extracted substring before converting it to double).</p>\n<p>It should look like this :</p>\n<pre class=\"lang-none prettyprint-override\"><code> 1299.97      465.64    1963      00694        ATLAS CENTAUR 2         \n  813.27      765.76    1964      00733        THOR AGENA D R/B        \n  753.32      648.28    1964      00877        SL-3 R/B                \n  799.01      704.45    1967      02802        SL-8 R/B                \n  616.16      574.02    1968      03230        SL-8 R/B                \n  .....................................................\n</code></pre>\n"},{"tags":["java","maven","dependencies","google-ads-api"],"owner":{"account_id":28707898,"reputation":1,"user_id":21983906,"display_name":"Corentin Fortes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686064180,"creation_date":1685908798,"question_id":76402187,"body_markdown":"i am trying to run this example from the google ads api doc : https://developers.google.com/google-ads/api/samples/get-invoices?hl=fr .\r\n\r\nwhen i try to compile i have this error : java: package com.google.ads.googleads.examples.utils does not exist\r\n\r\ni have added the maven dependency for google ads api in version 25.0.0 (the last one) but the includes from the part example of the dependency are still not found.\r\n","title":"my import is not found in the google ads api while i have the dependency","body":"<p>i am trying to run this example from the google ads api doc : <a href=\"https://developers.google.com/google-ads/api/samples/get-invoices?hl=fr\" rel=\"nofollow noreferrer\">https://developers.google.com/google-ads/api/samples/get-invoices?hl=fr</a> .</p>\n<p>when i try to compile i have this error : java: package com.google.ads.googleads.examples.utils does not exist</p>\n<p>i have added the maven dependency for google ads api in version 25.0.0 (the last one) but the includes from the part example of the dependency are still not found.</p>\n"},{"tags":["java","amazon-web-services","spring-cloud-function"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1686064169,"post_id":76415961,"comment_id":134746298,"body_markdown":"The error says you need to provide configuration parameters that were not provided.","body":"The error says you need to provide configuration parameters that were not provided."},{"owner":{"account_id":19297553,"reputation":51,"user_id":14106209,"display_name":"PereZix"},"score":0,"creation_date":1686066029,"post_id":76415961,"comment_id":134746757,"body_markdown":"what parameters and where?","body":"what parameters and where?"},{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":1,"creation_date":1686067978,"post_id":76415961,"comment_id":134747154,"body_markdown":"The error says you need to either set `spring.cloud.function.definition` or `spring.cloud.function.routing-expression`. If you&#39;re using spring boot, docs for configuration can be found here https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html/boot-features-external-config.html","body":"The error says you need to either set <code>spring.cloud.function.definition</code> or <code>spring.cloud.function.routing-expression</code>. If you&#39;re using spring boot, docs for configuration can be found here <a href=\"https://docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.5.6.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1686560402,"post_id":76415961,"comment_id":134809851,"body_markdown":"The error message could not have been more clear `since neither were provided: &#39;spring.cloud.function.definition&#39; as Message header or as application property or &#39;spring.cloud.function.routing-expression&#39; as application property.` as well as documentation - https://cloud.spring.io/spring-cloud-function/reference/html/spring-cloud-function.html#_function_routing","body":"The error message could not have been more clear <code>since neither were provided: &#39;spring.cloud.function.definition&#39; as Message header or as application property or &#39;spring.cloud.function.routing-expression&#39; as application property.</code> as well as documentation - <a href=\"https://cloud.spring.io/spring-cloud-function/reference/html/spring-cloud-function.html#_function_routing\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-function/reference/html/&hellip;</a>"},{"owner":{"account_id":19297553,"reputation":51,"user_id":14106209,"display_name":"PereZix"},"score":0,"creation_date":1686577733,"post_id":76415961,"comment_id":134813664,"body_markdown":"Yes, now it&#39;s working! thanks!!","body":"Yes, now it&#39;s working! thanks!!"}],"owner":{"account_id":19297553,"reputation":51,"user_id":14106209,"display_name":"PereZix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686064128,"creation_date":1686063647,"question_id":76415961,"body_markdown":"I have a problem with a lambda project in java, when the elements arrive to the queue, the lambda consumes them and when they are going to enter the lambda this error comes up\r\n\r\n    Failed to establish route, since neither were provided: &#39;spring.cloud.function.definition&#39; as Message header or as application property or &#39;spring.cloud.function.routing-expression&#39; as application property. Incoming message: GenericMessage [payload=byte[973], headers={aws-context=lambdainternal.api.LambdaContext@13b29b34, id=7e00385d-ff52-2e7e-0a6a-c68df012c679, timestamp=1685986732788}]: java.lang.IllegalStateException\r\n    java.lang.IllegalStateException: Failed to establish route, since neither were provided: &#39;spring.cloud.function.definition&#39; as Message header or as application property or &#39;spring.cloud.function.routing-expression&#39; as application property. Incoming message: GenericMessage [payload=byte[973], headers={aws-context=lambdainternal.api.LambdaContext@13b29b34, id=7e00385d-ff52-2e7e-0a6a-c68df012c679, timestamp=1685986732788}]\r\n    \tat org.springframework.cloud.function.context.config.RoutingFunction.route(RoutingFunction.java:156)\r\n    \tat org.springframework.cloud.function.context.config.RoutingFunction.apply(RoutingFunction.java:103)\r\n    \tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:710)\r\n    \tat org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:562)\r\n    \tat org.springframework.cloud.function.adapter.aws.FunctionInvoker.handleRequest(FunctionInvoker.java:113)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Unknown Source)*","title":"Failed to establish route, since neither were provided: &#39;spring.cloud.function.definition&#39;","body":"<p>I have a problem with a lambda project in java, when the elements arrive to the queue, the lambda consumes them and when they are going to enter the lambda this error comes up</p>\n<pre><code>Failed to establish route, since neither were provided: 'spring.cloud.function.definition' as Message header or as application property or 'spring.cloud.function.routing-expression' as application property. Incoming message: GenericMessage [payload=byte[973], headers={aws-context=lambdainternal.api.LambdaContext@13b29b34, id=7e00385d-ff52-2e7e-0a6a-c68df012c679, timestamp=1685986732788}]: java.lang.IllegalStateException\njava.lang.IllegalStateException: Failed to establish route, since neither were provided: 'spring.cloud.function.definition' as Message header or as application property or 'spring.cloud.function.routing-expression' as application property. Incoming message: GenericMessage [payload=byte[973], headers={aws-context=lambdainternal.api.LambdaContext@13b29b34, id=7e00385d-ff52-2e7e-0a6a-c68df012c679, timestamp=1685986732788}]\n    at org.springframework.cloud.function.context.config.RoutingFunction.route(RoutingFunction.java:156)\n    at org.springframework.cloud.function.context.config.RoutingFunction.apply(RoutingFunction.java:103)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:710)\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:562)\n    at org.springframework.cloud.function.adapter.aws.FunctionInvoker.handleRequest(FunctionInvoker.java:113)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)*\n</code></pre>\n"},{"tags":["java","gson","udpclient"],"answers":[{"tags":[],"owner":{"account_id":21650464,"reputation":45,"user_id":15971176,"display_name":"Idan Zehavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686063970,"creation_date":1686063970,"answer_id":76416004,"question_id":76414659,"body_markdown":"Downloading the gson library and adding it as a library solved the problem. ","title":"Exception in thread &quot;UdpClientThread_1&quot; java.lang.NoClassDefFoundError: com/google/gson/JsonSyntaxException","body":"<p>Downloading the gson library and adding it as a library solved the problem.</p>\n"}],"owner":{"account_id":21650464,"reputation":45,"user_id":15971176,"display_name":"Idan Zehavi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686063970,"creation_date":1686054574,"question_id":76414659,"body_markdown":"Im running a Java maven project and am using an sdk provided to me by a certain company\r\nand I keep getting an error:\r\n&gt;&gt;&gt;&gt;Exception in thread &quot;UdpClientThread_1&quot; java.lang.NoClassDefFoundError: com/google/gson/JsonSyntaxException\r\n\tat novj.platform.vxkit.handy.api.SearchManager.onPacketReceived(SearchManager.java:172)\r\n\tat novj.publ.net.udp.UdpSession.onReceived(UdpSession.java:99)\r\n\tat novj.publ.net.udp.UdpClient$1.run(UdpClient.java:93)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.ClassNotFoundException: com.google.gson.JsonSyntaxException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\r\n\r\nHere&#39;s the code\r\n\r\n        package org.example;\r\n    \r\n    import novj.platform.vxkit.common.bean.search.SearchResult;\r\n    import novj.platform.vxkit.handy.api.SearchManager;\r\n    import novj.publ.api.NovaOpt;\r\n    import novj.publ.net.exception.ErrorDetail;\r\n    \r\n    // Press Shift twice to open the Search Everywhere dialog and type `show whitespaces`,\r\n    // then press Enter. You can now see whitespace characters in your code.\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            NovaOpt novaOpt = NovaOpt.GetInstance();\r\n            SearchManager.OnScreenSearchListener searchListener = new SearchManager.OnScreenSearchListener() {\r\n                @Override\r\n                public void onSuccess(SearchResult searchResult) {\r\n                    System.out.printf(&quot;Connection to target successful&quot;);\r\n                }\r\n    \r\n                @Override\r\n                public void onError(ErrorDetail errorDetail) {\r\n                    System.out.printf(&quot;Connection to target unsuccessful&quot;);\r\n                }\r\n            };\r\n            novaOpt.searchScreen(searchListener , &quot;172.24.100.75&quot;);\r\n        }\r\n    }\r\n\r\n\r\nAnyone solved this problem ?","title":"Exception in thread &quot;UdpClientThread_1&quot; java.lang.NoClassDefFoundError: com/google/gson/JsonSyntaxException","body":"<p>Im running a Java maven project and am using an sdk provided to me by a certain company\nand I keep getting an error:</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>Exception in thread &quot;UdpClientThread_1&quot; java.lang.NoClassDefFoundError: com/google/gson/JsonSyntaxException\nat novj.platform.vxkit.handy.api.SearchManager.onPacketReceived(SearchManager.java:172)\nat novj.publ.net.udp.UdpSession.onReceived(UdpSession.java:99)\nat novj.publ.net.udp.UdpClient$1.run(UdpClient.java:93)\nat java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.ClassNotFoundException: com.google.gson.JsonSyntaxException\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)</p>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>Here's the code</p>\n<pre><code>    package org.example;\n\nimport novj.platform.vxkit.common.bean.search.SearchResult;\nimport novj.platform.vxkit.handy.api.SearchManager;\nimport novj.publ.api.NovaOpt;\nimport novj.publ.net.exception.ErrorDetail;\n\n// Press Shift twice to open the Search Everywhere dialog and type `show whitespaces`,\n// then press Enter. You can now see whitespace characters in your code.\npublic class Main {\n    public static void main(String[] args) {\n        NovaOpt novaOpt = NovaOpt.GetInstance();\n        SearchManager.OnScreenSearchListener searchListener = new SearchManager.OnScreenSearchListener() {\n            @Override\n            public void onSuccess(SearchResult searchResult) {\n                System.out.printf(&quot;Connection to target successful&quot;);\n            }\n\n            @Override\n            public void onError(ErrorDetail errorDetail) {\n                System.out.printf(&quot;Connection to target unsuccessful&quot;);\n            }\n        };\n        novaOpt.searchScreen(searchListener , &quot;172.24.100.75&quot;);\n    }\n}\n</code></pre>\n<p>Anyone solved this problem ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1686064065,"post_id":76415989,"comment_id":134746266,"body_markdown":"Your import statement has to include the package name. Also, please confirm to Java naming conventions.","body":"Your import statement has to include the package name. Also, please confirm to Java naming conventions."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686064110,"post_id":76415989,"comment_id":134746280,"body_markdown":"You don&#39;t `import classname` you `import pkgpath.classname`. So `import JavaProject.rect;` But you need to get those names in the correct [format](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions)","body":"You don&#39;t <code>import classname</code> you <code>import pkgpath.classname</code>. So <code>import JavaProject.rect;</code> But you need to get those names in the correct <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">format</a>"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686064283,"post_id":76415989,"comment_id":134746327,"body_markdown":"Your classes are in different packages (`MyJavaProject` != `JavaProject`). Was that intentional?","body":"Your classes are in different packages (<code>MyJavaProject</code> != <code>JavaProject</code>). Was that intentional?"},{"owner":{"account_id":28765080,"reputation":13,"user_id":22030162,"display_name":"All In One Coder304751"},"score":0,"creation_date":1686064304,"post_id":76415989,"comment_id":134746332,"body_markdown":"@g00se Thanks now i understand how to do it :D","body":"@g00se Thanks now i understand how to do it :D"},{"owner":{"account_id":28765080,"reputation":13,"user_id":22030162,"display_name":"All In One Coder304751"},"score":0,"creation_date":1686064362,"post_id":76415989,"comment_id":134746350,"body_markdown":"@ElliottFrisch Don&#39;t need now :l","body":"@ElliottFrisch Don&#39;t need now :l"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1686065263,"post_id":76415989,"comment_id":134746586,"body_markdown":"I&#39;d *strongly* advise you to start following Java naming conventions as soon as possible. It&#39;s much easier to get into the right habit from the start than to &quot;unlearn&quot; a bad habit.","body":"I&#39;d <i>strongly</i> advise you to start following Java naming conventions as soon as possible. It&#39;s much easier to get into the right habit from the start than to &quot;unlearn&quot; a bad habit."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1686067883,"post_id":76415989,"comment_id":134747131,"body_markdown":"If your classes are in the same package (have the same package name), you don’t need to import them at all. Import is for accessing classes and interfaces in *other* packages.","body":"If your classes are in the same package (have the same package name), you don’t need to import them at all. Import is for accessing classes and interfaces in <i>other</i> packages."}],"owner":{"account_id":28765080,"reputation":13,"user_id":22030162,"display_name":"All In One Coder304751"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686063847,"creation_date":1686063847,"question_id":76415989,"body_markdown":"I was making a project but a error popped when i run it says\r\n&#39;illegal class main.java trying to access rect.java&#39;\r\nHeres the code \r\n```\r\npackage MyJavaProject;\r\nimport rect;\r\nimport box;\r\npublic class main{\r\n public static void main(String[] args){\r\n  rect r = new box(100);\r\n  r.getArea();\r\n }\r\n}\r\n```\r\nrect.java\r\n```\r\npackage JavaProject;\r\npublic class box extends rect{\r\n private int size;\r\n public rect(size){\r\n  super(size,size);\r\n }\r\n}\r\npublic class rect{\r\n private int height,width;\r\n public rect(height,width){\r\n  this.height = height;\r\n  this.width = width;\r\n }\r\n public int getArea(){\r\n  System.out.println(height * width);\r\n  return 0;\r\n }\r\n}\r\n```\r\nCan you please fix it?\r\n\r\nI was expecting output:\r\n&#39;10000&#39;\r\nBut it came:\r\nerror illegal class main.java trying to access rect.java\r\nIf anybody knows how to fix it then give me the answer.","title":"Error: illegal class main.java trying to access rect.java, how to fix this","body":"<p>I was making a project but a error popped when i run it says\n'illegal class main.java trying to access rect.java'\nHeres the code</p>\n<pre><code>package MyJavaProject;\nimport rect;\nimport box;\npublic class main{\n public static void main(String[] args){\n  rect r = new box(100);\n  r.getArea();\n }\n}\n</code></pre>\n<p>rect.java</p>\n<pre><code>package JavaProject;\npublic class box extends rect{\n private int size;\n public rect(size){\n  super(size,size);\n }\n}\npublic class rect{\n private int height,width;\n public rect(height,width){\n  this.height = height;\n  this.width = width;\n }\n public int getArea(){\n  System.out.println(height * width);\n  return 0;\n }\n}\n</code></pre>\n<p>Can you please fix it?</p>\n<p>I was expecting output:\n'10000'\nBut it came:\nerror illegal class main.java trying to access rect.java\nIf anybody knows how to fix it then give me the answer.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1685788827,"post_id":76395470,"comment_id":134712376,"body_markdown":"Please add the definition of InvoiceItemId.","body":"Please add the definition of InvoiceItemId."},{"owner":{"account_id":975589,"reputation":196,"user_id":8621330,"display_name":"Fareez Ahamed"},"score":0,"creation_date":1685800981,"post_id":76395470,"comment_id":134713559,"body_markdown":"@JohnWilliams done. Thanks for highlighting it","body":"@JohnWilliams done. Thanks for highlighting it"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686063843,"creation_date":1686046328,"answer_id":76413563,"question_id":76395470,"body_markdown":"I found that the following worked. \r\n\r\nSadly I had to first persist the `Invoice` and separately persist the `InvoiceItems` so that I had access to the `invoiceId`. Also the lombok Builder did not populate the `@EmbeddedId` properly.\r\n\r\n\r\n\r\n    List&lt;InvoiceItem&gt; invoiceItems = new ArrayList&lt;&gt;();\r\n    \r\n    var invoice = Invoice.builder()\r\n                     .customer(customer)\r\n                     .timestamp(new Date()).build();\r\n    \t\t\r\n    invoice = invoiceRepository.save(invoice); // to get the invoiceId\r\n    \r\n    \r\n    for (var itemDto : invoiceRequest.getInvoiceItems()) {\r\n      // prepare invoice items here\r\n        InvoiceItemId invoiceItemId = new InvoiceItemId(invoice.getId(), product.getId());\r\n    \tInvoiceItem invoiceItem = new InvoiceItem(invoiceItemId , invoice, product, price );\r\n    \r\n      invoiceItems.add(\r\n            invoiceItem )\r\n    }\r\n    \r\n    invoice.setInvoiceItems(invoiceItems);\r\n    invoice.setPrice(totalPrice);\r\n    \r\n    invoiceRepository.save(invoice);\r\n\r\nI also had to set `invoiceItems` to `CascadeType.ALL`\r\n\r\n    @OneToMany(mappedBy = &quot;invoice&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;InvoiceItem&gt; invoiceItems;\r\n\r\n","title":"Entity persistence using Composite/Dependent primary key is failing","body":"<p>I found that the following worked.</p>\n<p>Sadly I had to first persist the <code>Invoice</code> and separately persist the <code>InvoiceItems</code> so that I had access to the <code>invoiceId</code>. Also the lombok Builder did not populate the <code>@EmbeddedId</code> properly.</p>\n<pre><code>List&lt;InvoiceItem&gt; invoiceItems = new ArrayList&lt;&gt;();\n\nvar invoice = Invoice.builder()\n                 .customer(customer)\n                 .timestamp(new Date()).build();\n        \ninvoice = invoiceRepository.save(invoice); // to get the invoiceId\n\n\nfor (var itemDto : invoiceRequest.getInvoiceItems()) {\n  // prepare invoice items here\n    InvoiceItemId invoiceItemId = new InvoiceItemId(invoice.getId(), product.getId());\n    InvoiceItem invoiceItem = new InvoiceItem(invoiceItemId , invoice, product, price );\n\n  invoiceItems.add(\n        invoiceItem )\n}\n\ninvoice.setInvoiceItems(invoiceItems);\ninvoice.setPrice(totalPrice);\n\ninvoiceRepository.save(invoice);\n</code></pre>\n<p>I also had to set <code>invoiceItems</code> to <code>CascadeType.ALL</code></p>\n<pre><code>@OneToMany(mappedBy = &quot;invoice&quot;, cascade = CascadeType.ALL)\nprivate List&lt;InvoiceItem&gt; invoiceItems;\n</code></pre>\n"}],"owner":{"account_id":975589,"reputation":196,"user_id":8621330,"display_name":"Fareez Ahamed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686063843,"creation_date":1685785645,"question_id":76395470,"body_markdown":"Saving an Entity along with a Child Entity which has Composite keys is failing in Spring Boot 3.1 (with Spring Data JPA Starter). I have three Entities named `Invoice`, `Product` &amp; `InvoiceItem`. InvoiceItem doesn&#39;t have its own unique key, instead it uses a composite key of `invoice_id`, `product_id`. Now I&#39;m using `EmbeddedId` technique to model this in my application. But when I&#39;m saving my first Invoice, I get  the following error\r\n\r\n```\r\nCould not set value of type [java.lang.Long] : `info.fareez.goldin.entities.embeddables.InvoiceItemId.invoiceId` (setter)\r\n```\r\n\r\nI have checked all the fields and compared with the JPA Spec and examples [here](https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a149). Still I&#39;m unable to solve this.\r\n\r\nNote: I also tried with @IdClass technique, and it has repeated field names in IdClass and Entity, so I wanted to solve it with EmbeddedId\r\n\r\nHere is the code,\r\n\r\n**Invoice:**\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class Invoice {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;customer_id&quot;, nullable = true)\r\n    private Customer customer;\r\n\r\n    @OneToMany(mappedBy = &quot;invoice&quot;, cascade = CascadeType.PERSIST)\r\n    private List&lt;InvoiceItem&gt; invoiceItems;\r\n\r\n    private Date timestamp;\r\n\r\n    private double price;\r\n}\r\n```\r\n\r\n**Product**\r\n\r\n```java\r\n@Builder\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Setter\r\n@Getter\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String code;\r\n\r\n    private String name;\r\n\r\n    private double purity;\r\n\r\n    private double weight;\r\n\r\n    private int stock;\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;)\r\n    private List&lt;InventoryTransaction&gt; inventoryTransactions;\r\n\r\n}\r\n```\r\n\r\n**InvoiceItem**\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Embeddable\r\npublic class InvoiceItemId {\r\n    private Long invoiceId;\r\n    private Long productId;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class InvoiceItem {\r\n\r\n    @EmbeddedId\r\n    private InvoiceItemId invoiceItemId;\r\n\r\n    @MapsId(&quot;invoiceId&quot;)\r\n    @ManyToOne\r\n    private Invoice invoice;\r\n\r\n    @MapsId(&quot;productId&quot;)\r\n    @OneToOne\r\n    private Product product;\r\n\r\n    private Double price;\r\n}\r\n```\r\n\r\nAnd when I tried to save a new Invoice with the following code\r\n\r\n```\r\nList&lt;InvoiceItem&gt; invoiceItems = new ArrayList&lt;&gt;();\r\n\r\nvar invoice = Invoice.builder()\r\n                 .customer(customer)\r\n                 .timestamp(new Date()).build();\r\n\r\nfor (var itemDto : invoiceRequest.getInvoiceItems()) {\r\n  // prepare invoice items here\r\n  invoiceItems.add(\r\n        InvoiceItem.builder()\r\n            .invoice(invoice)\r\n            .product(product.toProduct())\r\n            // other fields\r\n            .build())\r\n}\r\n\r\ninvoice.setInvoiceItems(invoiceItems);\r\ninvoice.setPrice(totalPrice);\r\n\r\ninvoiceRepository.save(invoice);\r\n```\r\n\r\nI get the following error\r\n\r\n```\r\nCaused by: org.hibernate.PropertyAccessException: Could not set value of type [java.lang.Long] : `info.fareez.goldin.entities.embeddables.InvoiceItemId.invoiceId` (setter)\r\n\tat org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:81) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.mapping.Component$ValueGenerationPlan.execute(Component.java:538) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.id.CompositeNestedGeneratedValueGenerator.generate(CompositeNestedGeneratedValueGenerator.java:113) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:779) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:727) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:301) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:291) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:513) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:547) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:477) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:437) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:474) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:298) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy122.persist(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:613) ~[spring-data-jpa-3.0.4.jar:3.0.4]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.4.jar:3.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.7.jar:6.0.7]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.7.jar:6.0.7]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.7.jar:6.0.7]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.7.jar:6.0.7]\r\n\t... 35 common frames omitted\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;o&quot; is null\r\n```","title":"Entity persistence using Composite/Dependent primary key is failing","body":"<p>Saving an Entity along with a Child Entity which has Composite keys is failing in Spring Boot 3.1 (with Spring Data JPA Starter). I have three Entities named <code>Invoice</code>, <code>Product</code> &amp; <code>InvoiceItem</code>. InvoiceItem doesn't have its own unique key, instead it uses a composite key of <code>invoice_id</code>, <code>product_id</code>. Now I'm using <code>EmbeddedId</code> technique to model this in my application. But when I'm saving my first Invoice, I get  the following error</p>\n<pre><code>Could not set value of type [java.lang.Long] : `info.fareez.goldin.entities.embeddables.InvoiceItemId.invoiceId` (setter)\n</code></pre>\n<p>I have checked all the fields and compared with the JPA Spec and examples <a href=\"https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a149\" rel=\"nofollow noreferrer\">here</a>. Still I'm unable to solve this.</p>\n<p>Note: I also tried with @IdClass technique, and it has repeated field names in IdClass and Entity, so I wanted to solve it with EmbeddedId</p>\n<p>Here is the code,</p>\n<p><strong>Invoice:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class Invoice {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;, nullable = true)\n    private Customer customer;\n\n    @OneToMany(mappedBy = &quot;invoice&quot;, cascade = CascadeType.PERSIST)\n    private List&lt;InvoiceItem&gt; invoiceItems;\n\n    private Date timestamp;\n\n    private double price;\n}\n</code></pre>\n<p><strong>Product</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Setter\n@Getter\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String code;\n\n    private String name;\n\n    private double purity;\n\n    private double weight;\n\n    private int stock;\n\n    @OneToMany(mappedBy = &quot;product&quot;)\n    private List&lt;InventoryTransaction&gt; inventoryTransactions;\n\n}\n</code></pre>\n<p><strong>InvoiceItem</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Embeddable\npublic class InvoiceItemId {\n    private Long invoiceId;\n    private Long productId;\n}\n\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class InvoiceItem {\n\n    @EmbeddedId\n    private InvoiceItemId invoiceItemId;\n\n    @MapsId(&quot;invoiceId&quot;)\n    @ManyToOne\n    private Invoice invoice;\n\n    @MapsId(&quot;productId&quot;)\n    @OneToOne\n    private Product product;\n\n    private Double price;\n}\n</code></pre>\n<p>And when I tried to save a new Invoice with the following code</p>\n<pre><code>List&lt;InvoiceItem&gt; invoiceItems = new ArrayList&lt;&gt;();\n\nvar invoice = Invoice.builder()\n                 .customer(customer)\n                 .timestamp(new Date()).build();\n\nfor (var itemDto : invoiceRequest.getInvoiceItems()) {\n  // prepare invoice items here\n  invoiceItems.add(\n        InvoiceItem.builder()\n            .invoice(invoice)\n            .product(product.toProduct())\n            // other fields\n            .build())\n}\n\ninvoice.setInvoiceItems(invoiceItems);\ninvoice.setPrice(totalPrice);\n\ninvoiceRepository.save(invoice);\n</code></pre>\n<p>I get the following error</p>\n<pre><code>Caused by: org.hibernate.PropertyAccessException: Could not set value of type [java.lang.Long] : `info.fareez.goldin.entities.embeddables.InvoiceItemId.invoiceId` (setter)\n    at org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:81) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.mapping.Component$ValueGenerationPlan.execute(Component.java:538) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.id.CompositeNestedGeneratedValueGenerator.generate(CompositeNestedGeneratedValueGenerator.java:113) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:779) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:727) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:301) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:291) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:513) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:434) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:547) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:477) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:437) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:220) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:153) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:474) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:298) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.7.jar:6.0.7]\n    at jdk.proxy3/jdk.proxy3.$Proxy122.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:613) ~[spring-data-jpa-3.0.4.jar:3.0.4]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.4.jar:3.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.7.jar:6.0.7]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.7.jar:6.0.7]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.7.jar:6.0.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.7.jar:6.0.7]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.7.jar:6.0.7]\n    ... 35 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;o&quot; is null\n</code></pre>\n"},{"tags":["java","json","spring-boot","spring-hateoas"],"comments":[{"owner":{"account_id":4375851,"reputation":595,"user_id":3568904,"accept_rate":83,"display_name":"ypriverol"},"score":0,"creation_date":1525861298,"post_id":45963893,"comment_id":87519092,"body_markdown":"Any comments on this?","body":"Any comments on this?"}],"owner":{"account_id":8481268,"reputation":61,"user_id":6360911,"accept_rate":20,"display_name":"Ily&#232;s Youssef"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1686063645,"creation_date":1504105507,"question_id":45963893,"body_markdown":"I am using spring boot to develop an small rest API that returns information about an object named *Chapter* in HAL representation and using pagination.\r\n\r\nA normal HAL representation would require the following controller\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/chapters&quot;)\r\n    public class ChapterController {\r\n\t@Autowired ChapterRepository chapterRepo;\t\r\n\t\r\n\t@RequestMapping(value=&quot;/slice&quot;, produces=&quot;application/hal+json&quot;)\r\n\tpublic PagedResources&lt;Chapter&gt; slice(Pageable p, PagedResourcesAssembler assembler){\r\n\t\tPage&lt;Chapter&gt; page = chapterRepo.findAll(p);\r\n\t\t\r\n\t\treturn assembler.toResource(page);\r\n\t  }\r\n    }\r\n\r\nwhich will return the following \r\n\r\n    {  \r\n      &quot;_embedded&quot;:{  \r\n      &quot;chapterList&quot;:[  \r\n          //list of chapters here\r\n      ]\r\n      },\r\n      &quot;_links&quot;:{  \r\n        &quot;self&quot;:{  \r\n           &quot;href&quot;:&quot;http://localhost:8090/chapters/slice?page=0&amp;size=20&quot;\r\n        }\r\n     },\r\n      &quot;page&quot;:{  \r\n      &quot;size&quot;:20,\r\n      &quot;totalElements&quot;:4,\r\n      &quot;totalPages&quot;:1,\r\n      &quot;number&quot;:0\r\n      }\r\n    }\r\n\r\nBut there is one thing I want to change which is the &quot;chapterList&quot; nomination.\r\n\r\nIs there a way to do it?","title":"Change PagedResources&lt;T&gt;&#39;s name in JSON representation","body":"<p>I am using spring boot to develop an small rest API that returns information about an object named <em>Chapter</em> in HAL representation and using pagination.</p>\n<p>A normal HAL representation would require the following controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/chapters&quot;)\npublic class ChapterController {\n@Autowired ChapterRepository chapterRepo;   \n\n@RequestMapping(value=&quot;/slice&quot;, produces=&quot;application/hal+json&quot;)\npublic PagedResources&lt;Chapter&gt; slice(Pageable p, PagedResourcesAssembler assembler){\n    Page&lt;Chapter&gt; page = chapterRepo.findAll(p);\n    \n    return assembler.toResource(page);\n  }\n}\n</code></pre>\n<p>which will return the following</p>\n<pre><code>{  \n  &quot;_embedded&quot;:{  \n  &quot;chapterList&quot;:[  \n      //list of chapters here\n  ]\n  },\n  &quot;_links&quot;:{  \n    &quot;self&quot;:{  \n       &quot;href&quot;:&quot;http://localhost:8090/chapters/slice?page=0&amp;size=20&quot;\n    }\n },\n  &quot;page&quot;:{  \n  &quot;size&quot;:20,\n  &quot;totalElements&quot;:4,\n  &quot;totalPages&quot;:1,\n  &quot;number&quot;:0\n  }\n}\n</code></pre>\n<p>But there is one thing I want to change which is the &quot;chapterList&quot; nomination.</p>\n<p>Is there a way to do it?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1686060075,"post_id":76415421,"comment_id":134745267,"body_markdown":"Due to a [moderator/volunteer strike](https://meta.stackexchange.com/questions/389811/moderator-strike-stack-overflow-inc-cannot-consistently-ignore-mistreat-and?r=Saves_AllUserSaves) I will not be performing any content curation on this question.","body":"Due to a <a href=\"https://meta.stackexchange.com/questions/389811/moderator-strike-stack-overflow-inc-cannot-consistently-ignore-mistreat-and?r=Saves_AllUserSaves\">moderator/volunteer strike</a> I will not be performing any content curation on this question."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1686060389,"post_id":76415421,"comment_id":134745358,"body_markdown":"Create a [BackgroundImage](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/BackgroundImage.html) object and assign it as the [background property](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/Region.html#backgroundProperty).","body":"Create a <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/BackgroundImage.html\" rel=\"nofollow noreferrer\">BackgroundImage</a> object and assign it as the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/layout/Region.html#backgroundProperty\" rel=\"nofollow noreferrer\">background property</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686144751,"post_id":76415421,"comment_id":134758844,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28765284,"reputation":1,"user_id":22030329,"display_name":"Andrea G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686063340,"creation_date":1686059632,"question_id":76415421,"body_markdown":"I&#39;m new to JavaFX and I&#39;m trying to set an image as background (both Pane and the image have the same resolution) but I can&#39;t get it to work.\r\n\r\nCurrently I tried to add this property:\r\n`style=&quot;-fx-background-image: url(&#39;arena.png&#39;); -fx-background-size: cover;&quot;`\r\n\r\nand to the various containers above I added this to set their background as transparent:\r\n`style=&quot;-fx-background-color: rgba(0, 0, 0, 0);&quot;`\r\n\r\nI also tried setting the background of the Pane to red:\r\n`style=&quot;-fx-background-color: rgba(255, 0, 0);&quot;` and it worked correctly\r\n\r\nThe two files are both located in the &#39;resources&#39; folder of the project as seen in the [screen][1].\r\n\r\n\r\n  [1]: https://imgur.com/a/a8Hjuew","title":"(JavaFX) How to set Pane background image","body":"<p>I'm new to JavaFX and I'm trying to set an image as background (both Pane and the image have the same resolution) but I can't get it to work.</p>\n<p>Currently I tried to add this property:\n<code>style=&quot;-fx-background-image: url('arena.png'); -fx-background-size: cover;&quot;</code></p>\n<p>and to the various containers above I added this to set their background as transparent:\n<code>style=&quot;-fx-background-color: rgba(0, 0, 0, 0);&quot;</code></p>\n<p>I also tried setting the background of the Pane to red:\n<code>style=&quot;-fx-background-color: rgba(255, 0, 0);&quot;</code> and it worked correctly</p>\n<p>The two files are both located in the 'resources' folder of the project as seen in the <a href=\"https://imgur.com/a/a8Hjuew\" rel=\"nofollow noreferrer\">screen</a>.</p>\n"},{"tags":["java","spring-boot","error-handling","resttemplate"],"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686063303,"creation_date":1686061799,"question_id":76415741,"body_markdown":"I am mapping an application that in the case of parameter errors returns a (different) message that always has the following structure:\r\n\r\n    {\r\n      &quot;error&quot;: true,\r\n      &quot;reason&quot;: &quot;No data is available for this location&quot;\r\n    }\r\n\r\nI am trying to implement a custom `ResponseErrorHandler` for the `RestTemplate` that intercepts this message and then reads an error handling (e.g., using Logs). The problem is that I do not understand how to extract from the `httpResponse` object of `ClientHttpResponse`, in the `handleError` method, the previous message:\r\n\r\n    public class OpenMeteoResponseErrorHandler implements ResponseErrorHandler {\r\n        @Override\r\n        public boolean hasError(ClientHttpResponse httpResponse)\r\n                throws IOException {\r\n            return httpResponse.getStatusCode().is4xxClientError()\r\n                    || httpResponse.getStatusCode().is5xxServerError();\r\n        }\r\n    \r\n        @Override\r\n        public void handleError(ClientHttpResponse httpResponse)\r\n                throws IOException {\r\n            if(httpResponse.getStatusCode() == HttpStatus.SERVICE_UNAVAILABLE){\r\n                throw new ServiceUnAvailableException(&quot;Service is currently unavailable&quot;);\r\n            } else if (httpResponse.getStatusCode() == HttpStatus.BAD_REQUEST) {\r\n                throw new BadRequestException(&quot;Bad request&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n**note**, \r\n\r\n    System.out.println(httpResponse.getBody());\r\n\r\nreturns:\r\n\r\n     sun.net.www.protocol.http.HttpURLConnection$HttpInputStream@79821fea\r\n\r\nwhere:\r\n\r\n    public class BadRequestException extends RuntimeException{\r\n    \r\n        public BadRequestException(){\r\n            super();\r\n        }\r\n    \r\n        public BadRequestException(String message){\r\n            super(message);\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    public class ServiceUnAvailableException extends RuntimeException{\r\n    \r\n        public ServiceUnAvailableException() {\r\n            super();\r\n        }\r\n        public ServiceUnAvailableException(String message) {\r\n            super(message);\r\n        }\r\n    }\r\n\r\nlastly:\r\n\r\n    @Configuration\r\n    public class RestTemplateWithErrorHandlerConfig {\r\n    \r\n        @Bean\r\n        RestTemplate restTemplateWithErrorHandler(){\r\n            return new RestTemplateBuilder()\r\n                    .errorHandler(new OpenMeteoResponseErrorHandler())\r\n                    .build();\r\n        }\r\n    }\r\n\r\nThis is to intercept the possible error in the case of the RestTemplate within the @controller of Spring Boot: \r\n\r\n    Collection&lt;String&gt; queryStringValues = apiQueryMap.values();\r\n    try {\r\n        List&lt;ForecastDataDocument&gt; resultDocuments = queryStringValues.stream().map(query -&gt; restTemplateWithErrorHandler.getForObject(query, ForecastWeatherDataDTO.class)).map(dto -&gt; modelMapper.map(dto, ForecastDataDocument.class)).toList();\r\n        forecastDataService.saveForecastData(resultDocuments);\r\n    } catch (BadRequestException | ServiceUnAvailableException ex) {\r\n      System.out.println(ex.getMessage());\r\n    }\r\n\r\n\r\n\r\n","title":"RestTemplate custom ResponseErrorHandler to catch api service real message","body":"<p>I am mapping an application that in the case of parameter errors returns a (different) message that always has the following structure:</p>\n<pre><code>{\n  &quot;error&quot;: true,\n  &quot;reason&quot;: &quot;No data is available for this location&quot;\n}\n</code></pre>\n<p>I am trying to implement a custom <code>ResponseErrorHandler</code> for the <code>RestTemplate</code> that intercepts this message and then reads an error handling (e.g., using Logs). The problem is that I do not understand how to extract from the <code>httpResponse</code> object of <code>ClientHttpResponse</code>, in the <code>handleError</code> method, the previous message:</p>\n<pre><code>public class OpenMeteoResponseErrorHandler implements ResponseErrorHandler {\n    @Override\n    public boolean hasError(ClientHttpResponse httpResponse)\n            throws IOException {\n        return httpResponse.getStatusCode().is4xxClientError()\n                || httpResponse.getStatusCode().is5xxServerError();\n    }\n\n    @Override\n    public void handleError(ClientHttpResponse httpResponse)\n            throws IOException {\n        if(httpResponse.getStatusCode() == HttpStatus.SERVICE_UNAVAILABLE){\n            throw new ServiceUnAvailableException(&quot;Service is currently unavailable&quot;);\n        } else if (httpResponse.getStatusCode() == HttpStatus.BAD_REQUEST) {\n            throw new BadRequestException(&quot;Bad request&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>note</strong>,</p>\n<pre><code>System.out.println(httpResponse.getBody());\n</code></pre>\n<p>returns:</p>\n<pre><code> sun.net.www.protocol.http.HttpURLConnection$HttpInputStream@79821fea\n</code></pre>\n<p>where:</p>\n<pre><code>public class BadRequestException extends RuntimeException{\n\n    public BadRequestException(){\n        super();\n    }\n\n    public BadRequestException(String message){\n        super(message);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class ServiceUnAvailableException extends RuntimeException{\n\n    public ServiceUnAvailableException() {\n        super();\n    }\n    public ServiceUnAvailableException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>lastly:</p>\n<pre><code>@Configuration\npublic class RestTemplateWithErrorHandlerConfig {\n\n    @Bean\n    RestTemplate restTemplateWithErrorHandler(){\n        return new RestTemplateBuilder()\n                .errorHandler(new OpenMeteoResponseErrorHandler())\n                .build();\n    }\n}\n</code></pre>\n<p>This is to intercept the possible error in the case of the RestTemplate within the @controller of Spring Boot:</p>\n<pre><code>Collection&lt;String&gt; queryStringValues = apiQueryMap.values();\ntry {\n    List&lt;ForecastDataDocument&gt; resultDocuments = queryStringValues.stream().map(query -&gt; restTemplateWithErrorHandler.getForObject(query, ForecastWeatherDataDTO.class)).map(dto -&gt; modelMapper.map(dto, ForecastDataDocument.class)).toList();\n    forecastDataService.saveForecastData(resultDocuments);\n} catch (BadRequestException | ServiceUnAvailableException ex) {\n  System.out.println(ex.getMessage());\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686029771,"post_id":76411346,"comment_id":134739278,"body_markdown":"I can&#39;t reproduce that problem. If I print the value of `&quot;-50.00 Dining out&quot;.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;)` it is `5000`. Are you sure that the code in your question is the code you&#39;re running?","body":"I can&#39;t reproduce that problem. If I print the value of <code>&quot;-50.00 Dining out&quot;.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;)</code> it is <code>5000</code>. Are you sure that the code in your question is the code you&#39;re running?"}],"answers":[{"comments":[{"owner":{"account_id":27886063,"reputation":1,"user_id":22027399,"display_name":"Garish19"},"score":0,"creation_date":1686059278,"post_id":76411727,"comment_id":134745054,"body_markdown":"Okay so I tried using the code given.  However, I&#39;m getting an error message saying, &quot;Unparseable number: &quot;-&quot;. I&#39;d like to keep the negative sign as well, but I&#39;m not sure how to do it.","body":"Okay so I tried using the code given.  However, I&#39;m getting an error message saying, &quot;Unparseable number: &quot;-&quot;. I&#39;d like to keep the negative sign as well, but I&#39;m not sure how to do it."},{"owner":{"account_id":27886063,"reputation":1,"user_id":22027399,"display_name":"Garish19"},"score":0,"creation_date":1686060369,"post_id":76411727,"comment_id":134745356,"body_markdown":"Update, it worked!!! I just forgot the space .split(&quot;&quot;). One more question, how can I have the number be two decimal places, for example, -50.00?","body":"Update, it worked!!! I just forgot the space .split(&quot;&quot;). One more question, how can I have the number be two decimal places, for example, -50.00?"},{"owner":{"account_id":2396133,"reputation":2138,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"score":0,"creation_date":1686060991,"post_id":76411727,"comment_id":134745485,"body_markdown":"The `parseDouble()` method already handles the double value regardless of decimal places.","body":"The <code>parseDouble()</code> method already handles the double value regardless of decimal places."},{"owner":{"account_id":2396133,"reputation":2138,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"score":0,"creation_date":1686062519,"post_id":76411727,"comment_id":134745894,"body_markdown":"I think I misunderstood your question. Do you want to *display* the numbers with 2 decimal places?","body":"I think I misunderstood your question. Do you want to <i>display</i> the numbers with 2 decimal places?"},{"owner":{"account_id":27886063,"reputation":1,"user_id":22027399,"display_name":"Garish19"},"score":0,"creation_date":1686062990,"post_id":76411727,"comment_id":134746007,"body_markdown":"yea two decimal places, I find that everything else you provided was exactly what i wanted, however, I would like to store the expense with two decimal places. Thank you so much for helping","body":"yea two decimal places, I find that everything else you provided was exactly what i wanted, however, I would like to store the expense with two decimal places. Thank you so much for helping"},{"owner":{"account_id":2396133,"reputation":2138,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"score":0,"creation_date":1686063183,"post_id":76411727,"comment_id":134746054,"body_markdown":"I have just edited my answer. Please look at the end of the answer.","body":"I have just edited my answer. Please look at the end of the answer."}],"tags":[],"owner":{"account_id":2396133,"reputation":2138,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686063137,"creation_date":1686030393,"answer_id":76411727,"question_id":76411346,"body_markdown":"Parse the lines using the following code:\r\n\r\n    // Sample line: &quot;-50.00  Dining out&quot;\r\n    String[] parts = line.split(&quot; &quot;);\r\n    // First part is the expense/deposit value\r\n    double expense = parseDouble(parts[0]);\r\n    // Now get the text parts\r\n    String category = &quot;&quot;;\r\n    for (int i = 1; i &lt; parts.length; i++) {\r\n    \tcategory += &quot; &quot; + parts[i];\r\n    }\r\n    category = category.trim();\r\n\r\nEDIT: I just realized that there are commas in some double values and you should use the following method to parse these values gracefully:\r\n\r\n\tprivate static double parseDouble(String strNumber) throws ParseException{\r\n\t\tNumberFormat format = NumberFormat.getInstance(Locale.ENGLISH);\r\n\t\tNumber number = format.parse(strNumber);\r\n\t\treturn number.doubleValue();\r\n\t}\r\n\r\nTo display/format the double values with two decimal places:\r\n\r\n    DecimalFormat decimalFormat = new DecimalFormat(&quot;#.00&quot;);\r\n    System.out.println(&quot;expense: &quot; + decimalFormat.format(expense));\r\n\r\n","title":"Extracting negative and positive floats from a string read from a file","body":"<p>Parse the lines using the following code:</p>\n<pre><code>// Sample line: &quot;-50.00  Dining out&quot;\nString[] parts = line.split(&quot; &quot;);\n// First part is the expense/deposit value\ndouble expense = parseDouble(parts[0]);\n// Now get the text parts\nString category = &quot;&quot;;\nfor (int i = 1; i &lt; parts.length; i++) {\n    category += &quot; &quot; + parts[i];\n}\ncategory = category.trim();\n</code></pre>\n<p>EDIT: I just realized that there are commas in some double values and you should use the following method to parse these values gracefully:</p>\n<pre><code>private static double parseDouble(String strNumber) throws ParseException{\n    NumberFormat format = NumberFormat.getInstance(Locale.ENGLISH);\n    Number number = format.parse(strNumber);\n    return number.doubleValue();\n}\n</code></pre>\n<p>To display/format the double values with two decimal places:</p>\n<pre><code>DecimalFormat decimalFormat = new DecimalFormat(&quot;#.00&quot;);\nSystem.out.println(&quot;expense: &quot; + decimalFormat.format(expense));\n</code></pre>\n"}],"owner":{"account_id":27886063,"reputation":1,"user_id":22027399,"display_name":"Garish19"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686063137,"creation_date":1686023638,"question_id":76411346,"body_markdown":"I&#39;ve been having issues on this for some time now, and I&#39;m completely lost. \r\nThe program Im trying to create is for school, and its simply a bank account, with their expenses and deposits. Im having trouble trying to extract the positive and negative numbers from the file. When I do &quot;[^0-9]&quot; it works fine but when I try using a pattern for negative numbers, the code doesnt work. \r\n\r\nHere it is \r\n\r\n\r\n```\r\npackage recursionReadFile;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\n\r\npublic class bankAccount {\r\n\r\npublic static float[] bankTransactionsValues (int lines)throws IOException{\r\n        \r\n\t\t//Create a object reader\r\n\t\tBufferedReader readFile;\r\n        readFile = new BufferedReader (new FileReader(&quot;D:\\\\Garis\\\\Desktop\\\\Programs\\\\recursionReadFile\\\\src\\\\recursionReadFile\\\\BankAccount.txt&quot;));\r\n        \r\n   \r\n      \r\n        \r\n        \r\n        //Array that holds all transactions values\r\n        float [] totalTransactionsValues = new float[lines];\r\n        //For loop that reads the notepad to the array\r\n        for (int index = 0 ; index &lt; totalTransactionsValues.length ;index++)\r\n        {\t//Read the file onto to the array\r\n        \tString currentTransAction = readFile.readLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n        \ttotalTransactionsValues [index] = Float.parseFloat(currentTransAction);\r\n        }\r\n        readFile.close();//end of the reading\r\n        //Return array of the strings with time slots\r\n        return totalTransactionsValues;\r\n    }\r\n\r\npublic static String[] bankTransactions (int lines)throws IOException{\r\n    \r\n\t//Create a object reader\r\n\tBufferedReader readFile;\r\n    readFile = new BufferedReader (new FileReader(&quot;D:\\\\Garis\\\\Desktop\\\\Programs\\\\recursionReadFile\\\\src\\\\recursionReadFile\\\\BankAccount.txt&quot;));\r\n \r\n  \r\n    \r\n    //Array that holds all transactions values\r\n    String [] totalTransactions = new String[lines];\r\n    //For loop that reads the notepad to the array\r\n    for (int index = 0 ; index &lt; totalTransactions.length ;index++)\r\n    {\t//Read the file onto to the array\r\n    \ttotalTransactions [index] = readFile.readLine();\r\n    }\r\n    \r\n    readFile.close();//end of the reading\r\n    //Return array of the strings with time slots\r\n    return totalTransactions;\r\n}\r\n\r\npublic static int numberOfTransactions() throws IOException{\r\n\t//Create a object reader\r\n\t\tBufferedReader readFile;\r\n\t    readFile = new BufferedReader (new FileReader(&quot;D:\\\\Garis\\\\Desktop\\\\Programs\\\\recursionReadFile\\\\src\\\\recursionReadFile\\\\BankAccount.txt&quot;));\r\n\t    \r\n\t    //Count the number of lines\r\n\t    int lines = 0; \r\n\t    \r\n\t    //For loop that contiues if there is a non empty space in the file\r\n\t    while (readFile.readLine() != null) {\r\n\t    \t//Increase the variable count\r\n\t    \tlines++;\r\n\t    }\r\n\t    readFile.close();\r\n\t  \r\n\t    return lines;\r\n}\r\n\r\n\t\r\n\r\n\r\n\r\n\t\r\n\t\r\n\tpublic static String [] sortLowToHigh(String [] transactionValues) {\r\n\r\n\t\t\r\n\t\t for (int index = 1 ; index &lt; transactionValues.length ; index++)\r\n\t        {\r\n\t            String item = transactionValues[index];\r\n\t            float itemValue =  Float.parseFloat(item.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\r\n\t            \r\n\t            int toPlace = index;\r\n\t            \r\n\t            while (toPlace &gt; 0 &amp;&amp;  itemValue &lt; Float.parseFloat(transactionValues[toPlace - 1].replaceAll(&quot;[^0-9]&quot;, &quot;&quot;)) )\r\n\t            {\r\n\t            \ttransactionValues [toPlace] = transactionValues [toPlace - 1];\r\n\t                toPlace--;\r\n\t            }//while\r\n\t            transactionValues [toPlace] = item;\r\n\t         }//for index\r\n\t  \r\n\t\t \r\n\t\t return transactionValues;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic static String[] sortHighToLow(String [] transactionValues) {\r\n\r\n\t    for (int index = 1; index &lt; transactionValues.length; index++) {\r\n\t        String item = transactionValues[index];\r\n\t        \r\n\t        int toPlace = index;\r\n\t        while (toPlace &gt; 0 &amp;&amp; Float.parseFloat(item)  &gt;  Float.parseFloat(transactionValues[toPlace - 1])) { \r\n\t            transactionValues[toPlace] = transactionValues[toPlace - 1];\r\n\t            toPlace--;\r\n\t        }\r\n\t        transactionValues[toPlace] = item;\r\n\t    }\r\n\r\n\t    return transactionValues;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tpublic static void introduction() throws IOException {\r\n\t\tint lines = numberOfTransactions(); \t\r\n\t\t\r\n\t\r\n\t\tString [] transactions = bankTransactions(lines);\r\n\t\t\r\n\r\n\t\t\r\n\t\ttransactions = sortLowToHigh(transactions);\r\n\t\t\r\n\t\tfor (int index =0;index&lt; transactions.length; index++){\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSystem.out.println(transactions[index]);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\r\n\tintroduction();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the error message I am getting.\r\n\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;-50.00  Dining out&quot;\r\n\tat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)\r\n\tat java.base/jdk.internal.math.FloatingDecimal.parseFloat(FloatingDecimal.java:122)\r\n\tat java.base/java.lang.Float.parseFloat(Float.java:555)\r\n\tat recursionReadFile/recursionReadFile.bankAccount.sortLowToHigh(bankAccount.java:85)\r\n\tat recursionReadFile/recursionReadFile.bankAccount.introduction(bankAccount.java:132)\r\n\tat recursionReadFile/recursionReadFile.bankAccount.main(bankAccount.java:149)\r\n\r\n\r\n\r\nAnd here is the text file\r\n\r\n\r\n```\r\n-100.00  Groceries\r\n-50.00  Dining out\r\n-200.00  Rent payment\r\n-75.00  Utility bill\r\n-30.00  Gasoline\r\n-150.00  Shopping\r\n-80.00  Internet bill\r\n-60.00  Entertainment\r\n-100.00  Medical expenses\r\n-50.00  Gym membership\r\n1,000.00  Salary\r\n200.00  Freelance work payment\r\n300.00  Tax refund\r\n150.00  Gift from a family member\r\n500.00  Reimbursement from insurance\r\n100.00  Bonus\r\n250.00  Cashback rewards\r\n400.00  Investment dividend\r\n75.00  Sale of a personal item\r\n150.00  Rental income```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Extracting negative and positive floats from a string read from a file","body":"<p>I've been having issues on this for some time now, and I'm completely lost.\nThe program Im trying to create is for school, and its simply a bank account, with their expenses and deposits. Im having trouble trying to extract the positive and negative numbers from the file. When I do &quot;[^0-9]&quot; it works fine but when I try using a pattern for negative numbers, the code doesnt work.</p>\n<p>Here it is</p>\n<pre><code>package recursionReadFile;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class bankAccount {\n\npublic static float[] bankTransactionsValues (int lines)throws IOException{\n        \n        //Create a object reader\n        BufferedReader readFile;\n        readFile = new BufferedReader (new FileReader(&quot;D:\\\\Garis\\\\Desktop\\\\Programs\\\\recursionReadFile\\\\src\\\\recursionReadFile\\\\BankAccount.txt&quot;));\n        \n   \n      \n        \n        \n        //Array that holds all transactions values\n        float [] totalTransactionsValues = new float[lines];\n        //For loop that reads the notepad to the array\n        for (int index = 0 ; index &lt; totalTransactionsValues.length ;index++)\n        {   //Read the file onto to the array\n            String currentTransAction = readFile.readLine().replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n            totalTransactionsValues [index] = Float.parseFloat(currentTransAction);\n        }\n        readFile.close();//end of the reading\n        //Return array of the strings with time slots\n        return totalTransactionsValues;\n    }\n\npublic static String[] bankTransactions (int lines)throws IOException{\n    \n    //Create a object reader\n    BufferedReader readFile;\n    readFile = new BufferedReader (new FileReader(&quot;D:\\\\Garis\\\\Desktop\\\\Programs\\\\recursionReadFile\\\\src\\\\recursionReadFile\\\\BankAccount.txt&quot;));\n \n  \n    \n    //Array that holds all transactions values\n    String [] totalTransactions = new String[lines];\n    //For loop that reads the notepad to the array\n    for (int index = 0 ; index &lt; totalTransactions.length ;index++)\n    {   //Read the file onto to the array\n        totalTransactions [index] = readFile.readLine();\n    }\n    \n    readFile.close();//end of the reading\n    //Return array of the strings with time slots\n    return totalTransactions;\n}\n\npublic static int numberOfTransactions() throws IOException{\n    //Create a object reader\n        BufferedReader readFile;\n        readFile = new BufferedReader (new FileReader(&quot;D:\\\\Garis\\\\Desktop\\\\Programs\\\\recursionReadFile\\\\src\\\\recursionReadFile\\\\BankAccount.txt&quot;));\n        \n        //Count the number of lines\n        int lines = 0; \n        \n        //For loop that contiues if there is a non empty space in the file\n        while (readFile.readLine() != null) {\n            //Increase the variable count\n            lines++;\n        }\n        readFile.close();\n      \n        return lines;\n}\n\n    \n\n\n\n    \n    \n    public static String [] sortLowToHigh(String [] transactionValues) {\n\n        \n         for (int index = 1 ; index &lt; transactionValues.length ; index++)\n            {\n                String item = transactionValues[index];\n                float itemValue =  Float.parseFloat(item.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\n                \n                int toPlace = index;\n                \n                while (toPlace &gt; 0 &amp;&amp;  itemValue &lt; Float.parseFloat(transactionValues[toPlace - 1].replaceAll(&quot;[^0-9]&quot;, &quot;&quot;)) )\n                {\n                    transactionValues [toPlace] = transactionValues [toPlace - 1];\n                    toPlace--;\n                }//while\n                transactionValues [toPlace] = item;\n             }//for index\n      \n         \n         return transactionValues;\n        \n    }\n    \n    \n    public static String[] sortHighToLow(String [] transactionValues) {\n\n        for (int index = 1; index &lt; transactionValues.length; index++) {\n            String item = transactionValues[index];\n            \n            int toPlace = index;\n            while (toPlace &gt; 0 &amp;&amp; Float.parseFloat(item)  &gt;  Float.parseFloat(transactionValues[toPlace - 1])) { \n                transactionValues[toPlace] = transactionValues[toPlace - 1];\n                toPlace--;\n            }\n            transactionValues[toPlace] = item;\n        }\n\n        return transactionValues;\n    }\n    \n    \n    \n    \n    \n    \n    public static void introduction() throws IOException {\n        int lines = numberOfTransactions();     \n        \n    \n        String [] transactions = bankTransactions(lines);\n        \n\n        \n        transactions = sortLowToHigh(transactions);\n        \n        for (int index =0;index&lt; transactions.length; index++){\n            \n            \n            System.out.println(transactions[index]);\n        }\n        \n    }\n    \n    \n    \n    \n    public static void main(String[] args) throws IOException {\n        // TODO Auto-generated method stub\n\n        \n    introduction();\n        \n        \n        \n    }\n\n}\n\n</code></pre>\n<p>This is the error message I am getting.</p>\n<p>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;-50.00  Dining out&quot;\nat java.base/jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:2054)\nat java.base/jdk.internal.math.FloatingDecimal.parseFloat(FloatingDecimal.java:122)\nat java.base/java.lang.Float.parseFloat(Float.java:555)\nat recursionReadFile/recursionReadFile.bankAccount.sortLowToHigh(bankAccount.java:85)\nat recursionReadFile/recursionReadFile.bankAccount.introduction(bankAccount.java:132)\nat recursionReadFile/recursionReadFile.bankAccount.main(bankAccount.java:149)</p>\n<p>And here is the text file</p>\n<pre><code>-100.00  Groceries\n-50.00  Dining out\n-200.00  Rent payment\n-75.00  Utility bill\n-30.00  Gasoline\n-150.00  Shopping\n-80.00  Internet bill\n-60.00  Entertainment\n-100.00  Medical expenses\n-50.00  Gym membership\n1,000.00  Salary\n200.00  Freelance work payment\n300.00  Tax refund\n150.00  Gift from a family member\n500.00  Reimbursement from insurance\n100.00  Bonus\n250.00  Cashback rewards\n400.00  Investment dividend\n75.00  Sale of a personal item\n150.00  Rental income```\n\n\n\n\n\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1631980465,"post_id":69236202,"comment_id":122372435,"body_markdown":"Where do you get that error?","body":"Where do you get that error?"},{"owner":{"account_id":22146863,"reputation":21,"user_id":16395961,"display_name":"Allen Vieira"},"score":0,"creation_date":1631980551,"post_id":69236202,"comment_id":122372459,"body_markdown":"Oh, sorry. The error is in SecurityConfig: return readerRepository.findOne(username); right in this line.","body":"Oh, sorry. The error is in SecurityConfig: return readerRepository.findOne(username); right in this line."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1631981489,"post_id":69236202,"comment_id":122372670,"body_markdown":"A similar issue has been found [here](https://stackoverflow.com/questions/52634362/inferred-type-s-for-type-parameter-s-is-not-within-its-bound-should-extend). Check if the solution there works for you.","body":"A similar issue has been found <a href=\"https://stackoverflow.com/questions/52634362/inferred-type-s-for-type-parameter-s-is-not-within-its-bound-should-extend\">here</a>. Check if the solution there works for you."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1631981636,"post_id":69236202,"comment_id":122372698,"body_markdown":"You&#39;re passing in a String. A String isn&#39;t a Reader.","body":"You&#39;re passing in a String. A String isn&#39;t a Reader."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1631988536,"post_id":69236202,"comment_id":122374405,"body_markdown":"change findOne to findByUsername","body":"change findOne to findByUsername"}],"answers":[{"tags":[],"owner":{"account_id":3134034,"reputation":3273,"user_id":2650960,"accept_rate":57,"display_name":"Alexey Semenyuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631990016,"creation_date":1631990016,"answer_id":69237445,"question_id":69236202,"body_markdown":"You need \r\n\r\n    Optional&lt;Reader&gt; findByUsername(String username);\r\n\r\ninstead of \r\n\r\n    &lt;S extends T&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example)\r\n\r\nhttps://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/query/QueryByExampleExecutor.html\r\n","title":"Why does I&#39;m getting Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; in my SecurityConfig?","body":"<p>You need</p>\n<pre><code>Optional&lt;Reader&gt; findByUsername(String username);\n</code></pre>\n<p>instead of</p>\n<pre><code>&lt;S extends T&gt; Optional&lt;S&gt; findOne(Example&lt;S&gt; example)\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/query/QueryByExampleExecutor.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/query/QueryByExampleExecutor.html</a></p>\n"}],"owner":{"account_id":22146863,"reputation":21,"user_id":16395961,"display_name":"Allen Vieira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4023,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69237445,"answer_count":1,"score":0,"last_activity_date":1686062601,"creation_date":1631980292,"question_id":69236202,"body_markdown":"The error: Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;br.com.allen.readinglist.model.Reader&#39;. I tried to read in other questions but none that I tried worked. And I&#39;m not even understanding what the error is.\r\n\r\n[Edit]\r\nThe error is in the line: return readerRepository.findOne(username); of SecurityConfig.\r\n\r\n**SecurityConfig Class:**\r\n\r\n\r\n    package br.com.allen.readinglist.security;\r\n    \r\n    import br.com.allen.readinglist.repository.ReaderRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Autowired\r\n        private ReaderRepository readerRepository;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception{\r\n            httpSecurity.authorizeRequests().antMatchers(&quot;/&quot;).access(&quot;hasRole(&#39;READER&#39;)&quot;).antMatchers(&quot;/**&quot;).permitAll().and().formLogin().loginPage(&quot;/login&quot;).failureUrl(&quot;/login?error=true&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception{\r\n            auth.userDetailsService(new UserDetailsService() {\r\n                @Override\r\n                public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n                    return readerRepository.findOne(username);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n**ReaderRepository Class:**\r\n\r\n    package br.com.allen.readinglist.repository;\r\n    \r\n    import br.com.allen.readinglist.model.Reader;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface ReaderRepository extends JpaRepository&lt;Reader, String&gt; {\r\n    }\r\n\r\n**Reader class:**\r\n\r\n    package br.com.allen.readinglist.model;\r\n    \r\n    import lombok.*;\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    public class Reader implements UserDetails {\r\n        private static final long serialVersionUID = 1L;\r\n        @Id\r\n        private String username;\r\n        private String fullname;\r\n        private String password;\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities(){\r\n            return Arrays.asList(new SimpleGrantedAuthority(&quot;READER&quot;));\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired(){\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked(){\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired(){\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled(){\r\n            return true;\r\n        }\r\n    }\r\n\r\n","title":"Why does I&#39;m getting Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; in my SecurityConfig?","body":"<p>The error: Inferred type 'S' for type parameter 'S' is not within its bound; should extend 'br.com.allen.readinglist.model.Reader'. I tried to read in other questions but none that I tried worked. And I'm not even understanding what the error is.</p>\n<p>[Edit]\nThe error is in the line: return readerRepository.findOne(username); of SecurityConfig.</p>\n<p><strong>SecurityConfig Class:</strong></p>\n<pre><code>package br.com.allen.readinglist.security;\n\nimport br.com.allen.readinglist.repository.ReaderRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private ReaderRepository readerRepository;\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception{\n        httpSecurity.authorizeRequests().antMatchers(&quot;/&quot;).access(&quot;hasRole('READER')&quot;).antMatchers(&quot;/**&quot;).permitAll().and().formLogin().loginPage(&quot;/login&quot;).failureUrl(&quot;/login?error=true&quot;);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception{\n        auth.userDetailsService(new UserDetailsService() {\n            @Override\n            public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n                return readerRepository.findOne(username);\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>ReaderRepository Class:</strong></p>\n<pre><code>package br.com.allen.readinglist.repository;\n\nimport br.com.allen.readinglist.model.Reader;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ReaderRepository extends JpaRepository&lt;Reader, String&gt; {\n}\n</code></pre>\n<p><strong>Reader class:</strong></p>\n<pre><code>package br.com.allen.readinglist.model;\n\nimport lombok.*;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport java.util.Arrays;\nimport java.util.Collection;\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class Reader implements UserDetails {\n    private static final long serialVersionUID = 1L;\n    @Id\n    private String username;\n    private String fullname;\n    private String password;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities(){\n        return Arrays.asList(new SimpleGrantedAuthority(&quot;READER&quot;));\n    }\n\n    @Override\n    public boolean isAccountNonExpired(){\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked(){\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired(){\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled(){\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":6621553,"reputation":4538,"user_id":5113071,"accept_rate":55,"display_name":"Shawn Mehan"},"score":0,"creation_date":1440712445,"post_id":32259865,"comment_id":52400002,"body_markdown":"I don&#39;t think so, but something that might help you arrive at a more definitive answer is [here](http://codebeautify.org/Xpath-Tester).","body":"I don&#39;t think so, but something that might help you arrive at a more definitive answer is <a href=\"http://codebeautify.org/Xpath-Tester\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1440712665,"post_id":32259865,"comment_id":52400076,"body_markdown":"Is there even at least a way to wildcard just the attribute-specific portion (like turning just @title into any attribute) but leaving out text()?","body":"Is there even at least a way to wildcard just the attribute-specific portion (like turning just @title into any attribute) but leaving out text()?"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1440713547,"post_id":32259865,"comment_id":52400340,"body_markdown":"Can you give us an idea of why you want to do this? How are you using this?","body":"Can you give us an idea of why you want to do this? How are you using this?"},{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1440715713,"post_id":32259865,"comment_id":52401053,"body_markdown":"Basically I have 3 different pages, each with an element containing this string in different ways as I&#39;ve described above, and I want to implement an ExpectedConditions wait that waits for this element to be present or visible.","body":"Basically I have 3 different pages, each with an element containing this string in different ways as I&#39;ve described above, and I want to implement an ExpectedConditions wait that waits for this element to be present or visible."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1440725825,"post_id":32259865,"comment_id":52403656,"body_markdown":"So you&#39;d have to write 3 different functions and you&#39;re trying to boil it down to just one? Why?","body":"So you&#39;d have to write 3 different functions and you&#39;re trying to boil it down to just one? Why?"},{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1440770106,"post_id":32259865,"comment_id":52424324,"body_markdown":"Both for learning&#39;s sake and if I get a 4th page in the future that uses it differently than the other three, the code will still successfully find the element.","body":"Both for learning&#39;s sake and if I get a 4th page in the future that uses it differently than the other three, the code will still successfully find the element."}],"answers":[{"comments":[{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1440773861,"post_id":32260275,"comment_id":52426952,"body_markdown":"Doesn&#39;t seem either of the top two will cover the case where an attribute like @title contains the string.","body":"Doesn&#39;t seem either of the top two will cover the case where an attribute like @title contains the string."},{"owner":{"account_id":1483810,"reputation":3590,"user_id":1392498,"accept_rate":76,"display_name":"LINGS"},"score":0,"creation_date":1440779519,"post_id":32260275,"comment_id":52430227,"body_markdown":"@user2150250 when you say `@title`, you mean the title of the page right? The `&lt;title&gt;` tag inside `&lt;head&gt;`. I tested the xpath for this page itself, `//*[text() = &#39;java - Selenium Find Element Based on String in Text or Attribute - Stack Overflow&#39;]` and it gave the `title` webelement. I am not sure if I understand right, the last 2 lines of your question is a little unclear to me.","body":"@user2150250 when you say <code>@title</code>, you mean the title of the page right? The <code>&lt;title&gt;</code> tag inside <code>&lt;head&gt;</code>. I tested the xpath for this page itself, <code>&#47;&#47;*[text() = &#39;java - Selenium Find Element Based on String in Text or Attribute - Stack Overflow&#39;]</code> and it gave the <code>title</code> webelement. I am not sure if I understand right, the last 2 lines of your question is a little unclear to me."},{"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"score":0,"creation_date":1441742841,"post_id":32260275,"comment_id":52794724,"body_markdown":"Actually it&#39;s just the `title` attribute of a WebElement, in this case a `button` element.  It&#39;s not the page title.","body":"Actually it&#39;s just the <code>title</code> attribute of a WebElement, in this case a <code>button</code> element.  It&#39;s not the page title."}],"tags":[],"owner":{"account_id":1483810,"reputation":3590,"user_id":1392498,"accept_rate":76,"display_name":"LINGS"},"comment_count":3,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1440713806,"creation_date":1440713472,"answer_id":32260275,"question_id":32259865,"body_markdown":"This will give all elements that contains text `foobar`\r\n    \r\n    driver.findElement(By.xpath(&quot;//*[text()[contains(.,&#39;foobar&#39;)]]&quot;));\r\n\r\nIf you want exact match,\r\n\r\n    driver.findElement(By.xpath(&quot;//*[text() = &#39;foobar&#39;]&quot;));\r\n\r\nOr you can execute Javascript using JQuery in Selenium\r\n\r\nThis will return all web elements containing the text from parent to the last child, hence I am using the jquery selector `:last` to get the inner most node that contains this text, but this may not be always accurate, if you have multiple nodes containing same text.\r\n\r\n    (WebElement)((JavascriptExecutor)driver).executeScript(&quot;return $(\\&quot;:contains(&#39;foobar&#39;):last\\&quot;).get(0);&quot;);\r\n\r\nIf you want exact match for the above, you need to run a filter on the results,\r\n\r\n    (WebElement)((JavascriptExecutor)driver).executeScript(&quot;return $(\\&quot;:contains(&#39;foobar&#39;)\\&quot;).filter(function() {&quot; +\r\n        &quot;return $(this).text().trim() === &#39;foobar&#39;}).get(0);&quot;);\r\n\r\njQuery returns an array of Elements, if you have only one web element on the page with that particular text you will get an array of one element. I am doing `.get(0)` to get that first element of the array and cast it to a `WebElement`\r\n\r\nHope this helps.\r\n","title":"Selenium Find Element Based on String in Text or Attribute","body":"<p>This will give all elements that contains text <code>foobar</code></p>\n\n<pre><code>driver.findElement(By.xpath(\"//*[text()[contains(.,'foobar')]]\"));\n</code></pre>\n\n<p>If you want exact match,</p>\n\n<pre><code>driver.findElement(By.xpath(\"//*[text() = 'foobar']\"));\n</code></pre>\n\n<p>Or you can execute Javascript using JQuery in Selenium</p>\n\n<p>This will return all web elements containing the text from parent to the last child, hence I am using the jquery selector <code>:last</code> to get the inner most node that contains this text, but this may not be always accurate, if you have multiple nodes containing same text.</p>\n\n<pre><code>(WebElement)((JavascriptExecutor)driver).executeScript(\"return $(\\\":contains('foobar'):last\\\").get(0);\");\n</code></pre>\n\n<p>If you want exact match for the above, you need to run a filter on the results,</p>\n\n<pre><code>(WebElement)((JavascriptExecutor)driver).executeScript(\"return $(\\\":contains('foobar')\\\").filter(function() {\" +\n    \"return $(this).text().trim() === 'foobar'}).get(0);\");\n</code></pre>\n\n<p>jQuery returns an array of Elements, if you have only one web element on the page with that particular text you will get an array of one element. I am doing <code>.get(0)</code> to get that first element of the array and cast it to a <code>WebElement</code></p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":2261458,"reputation":421,"user_id":1991441,"display_name":"Shubhasmit Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1440767710,"creation_date":1440767710,"answer_id":32271968,"question_id":32259865,"body_markdown":"This will return the element with text `foobar`\r\n\r\n    driver.findElement(By.xpath(&quot;//*[text()=&#39;foobar&#39;]&quot;))","title":"Selenium Find Element Based on String in Text or Attribute","body":"<p>This will return the element with text <code>foobar</code></p>\n\n<pre><code>driver.findElement(By.xpath(\"//*[text()='foobar']\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16697058,"reputation":62,"user_id":12067957,"display_name":"PhPires13"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686062480,"creation_date":1686062480,"answer_id":76415831,"question_id":32259865,"body_markdown":"Text Containing\r\n===============\r\n\r\nTo find an **element with the text** (displayed in the HTML page) **containing a specific text**, you can use the following XPath:\r\n\r\n    //*[contains(text(), &#39;text_to_be_contained&#39;)]\r\n\r\n - ***&#39;\\*&#39;***, **selects all elements** in the document, regardless of the tag name. You can **replace the asterisk (*) with a specific tag name** if you want to search within a particular tag type.\r\n - ***[contains(text(), &#39;text_to_be_contained&#39;)]*** is a condition that **checks if the text contains** the **specified text (&#39;text_to_be_contained&#39;)**. This will match elements whose text attribute contains the specified text, even if it is part of a larger text value.\r\n - ***&#39;text_to_be_contained&#39;,*** should be the **text you want to find**\r\n\r\nAttribute Containing\r\n====================\r\n\r\nTo find an **element with** the **attribute containing** a specific text, you can use the following XPath expression:\r\n\r\n    //*[contains(@attribute_name, &#39;text_to_be_contained&#39;)]\r\n\r\n - Replace ***&#39;attribute_name&#39;*** with the actual **name of the attribute** you want to search within, such as: ***class***, ***name***, ***href***, ***value***, or ***any other***\r\n\r\nText/Attribute Is Equal\r\n=======================\r\n\r\nTo find an **element with** the **text or attribute** a **matching exactly** a specific text, you can use the following XPath expressions:\r\nFor the text\r\n\r\n **For the text:**\r\n\r\n    //*[text()=&#39;exact_text&#39;]\r\n\r\n **For the attribute:**\r\n\r\n    //*[@attribute_name=&#39;exact_text&#39;]\r\n\r\n - ***&#39;exact_text&#39;,*** should be the **text you want to find**","title":"Selenium Find Element Based on String in Text or Attribute","body":"<h1>Text Containing</h1>\n<p>To find an <strong>element with the text</strong> (displayed in the HTML page) <strong>containing a specific text</strong>, you can use the following XPath:</p>\n<pre><code>//*[contains(text(), 'text_to_be_contained')]\n</code></pre>\n<ul>\n<li><em><strong>'*'</strong></em>, <strong>selects all elements</strong> in the document, regardless of the tag name. You can <strong>replace the asterisk (*) with a specific tag name</strong> if you want to search within a particular tag type.</li>\n<li><em><strong>[contains(text(), 'text_to_be_contained')]</strong></em> is a condition that <strong>checks if the text contains</strong> the <strong>specified text ('text_to_be_contained')</strong>. This will match elements whose text attribute contains the specified text, even if it is part of a larger text value.</li>\n<li><em><strong>'text_to_be_contained',</strong></em> should be the <strong>text you want to find</strong></li>\n</ul>\n<h1>Attribute Containing</h1>\n<p>To find an <strong>element with</strong> the <strong>attribute containing</strong> a specific text, you can use the following XPath expression:</p>\n<pre><code>//*[contains(@attribute_name, 'text_to_be_contained')]\n</code></pre>\n<ul>\n<li>Replace <em><strong>'attribute_name'</strong></em> with the actual <strong>name of the attribute</strong> you want to search within, such as: <em><strong>class</strong></em>, <em><strong>name</strong></em>, <em><strong>href</strong></em>, <em><strong>value</strong></em>, or <em><strong>any other</strong></em></li>\n</ul>\n<h1>Text/Attribute Is Equal</h1>\n<p>To find an <strong>element with</strong> the <strong>text or attribute</strong> a <strong>matching exactly</strong> a specific text, you can use the following XPath expressions:\nFor the text</p>\n<p><strong>For the text:</strong></p>\n<pre><code>//*[text()='exact_text']\n</code></pre>\n<p><strong>For the attribute:</strong></p>\n<pre><code>//*[@attribute_name='exact_text']\n</code></pre>\n<ul>\n<li><em><strong>'exact_text',</strong></em> should be the <strong>text you want to find</strong></li>\n</ul>\n"}],"owner":{"account_id":2467504,"reputation":4897,"user_id":2150250,"accept_rate":91,"display_name":"user2150250"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55488,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1686062480,"creation_date":1440711408,"question_id":32259865,"body_markdown":"I&#39;m trying to have Selenium find an element based on a string that can be contained in the element&#39;s text or any attribute, and I&#39;m wondering if there&#39;s some wildcard I can implement to capture all this without having to use multi-condition OR logic.  What I&#39;m using right now that works is ...\r\n\r\n    driver.findElement(By.xpath(&quot;//*[contains(@title,&#39;foobar&#39;) or contains(.,&#39;foobar&#39;)]&quot;));\r\n\r\nAnd I wanted to know if there&#39;s a way to use a wildcard instead of the specific attribute (@title) that also encapsulates element text like the 2nd part of the OR condition does.","title":"Selenium Find Element Based on String in Text or Attribute","body":"<p>I'm trying to have Selenium find an element based on a string that can be contained in the element's text or any attribute, and I'm wondering if there's some wildcard I can implement to capture all this without having to use multi-condition OR logic.  What I'm using right now that works is ...</p>\n\n<pre><code>driver.findElement(By.xpath(\"//*[contains(@title,'foobar') or contains(.,'foobar')]\"));\n</code></pre>\n\n<p>And I wanted to know if there's a way to use a wildcard instead of the specific attribute (@title) that also encapsulates element text like the 2nd part of the OR condition does.</p>\n"},{"tags":["java","testing","testng"],"owner":{"account_id":28765441,"reputation":1,"user_id":22030470,"display_name":"Flemin Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686062251,"creation_date":1686062251,"question_id":76415804,"body_markdown":"Trying to learn about TestNG Framework but encountered an error which says it is unable to instantiate the class\r\n\r\nmade a class SomeClassToTest with one public method which finds out the sum of two numbers\r\nmade another test class to learn about annotations in testNG\r\n\r\nCode for TestAnnotation class\r\n```\r\npackage testclasses;\r\n\r\nimport org.testng.annotations.Test;\r\n\r\nimport appcode.SomeClassToTest;\r\n\r\npublic class TestAnnotation {\r\n\r\n\t@Test\r\n\tpublic void testMethod1() {\r\n\r\n\t\tSomeClassToTest obj = new SomeClassToTest();\r\n\t\tint result = obj.sumNumbers(1, 2);\r\n\r\n\t\tSystem.out.println(&quot;Running test -&gt; testMethod1&quot;);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testMethod2() {\r\n\t\tSystem.out.println(&quot;Running test -&gt; testMethod2&quot;);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testMethod3() {\r\n\t\tSystem.out.println(&quot;Running test -&gt; testMethod3&quot;);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nCode for SomeClassToTest\r\n```\r\npackage appcode;\r\n\r\npublic class SomeClassToTest {\r\n\r\n\tpublic int sumNumbers(int a, int b)\r\n\t{\r\n\t\treturn a+b;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nlog - \r\n\r\n```\r\n[RemoteTestNG] failed to get TestNG version from class: java.lang.IllegalArgumentException: invalid version &quot;[WORKING]&quot;: non-numeric &quot;[WORKING]&quot;\r\n[RemoteTestNG] now trying to parse the version from pom.properties\r\n[RemoteTestNG] now trying to parse the version from MANIFEST.MF\r\n[RemoteTestNG] parsing TestNG version at jar:file:///C:/Users/Flemin/OneDrive/Documents/testng/testng-7.4.0.jar!/META-INF/MANIFEST.MF\r\n[RemoteTestNG] detected TestNG version 7.4.0\r\norg.testng.TestNGException: \r\nCannot instantiate class appcode.TestAnnotation\r\n\tat org.testng@7.4.0/org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:30)\r\n\tat org.testng@7.4.0/org.testng.internal.InstanceCreator.instantiateUsingDefaultConstructor(InstanceCreator.java:193)\r\n\tat org.testng@7.4.0/org.testng.internal.InstanceCreator.createInstanceUsingObjectFactory(InstanceCreator.java:113)\r\n\tat org.testng@7.4.0/org.testng.internal.InstanceCreator.createInstance(InstanceCreator.java:79)\r\n\tat org.testng@7.4.0/org.testng.internal.objects.SimpleObjectDispenser.dispense(SimpleObjectDispenser.java:25)\r\n\tat org.testng@7.4.0/org.testng.internal.objects.GuiceBasedObjectDispenser.dispense(GuiceBasedObjectDispenser.java:30)\r\n\tat org.testng@7.4.0/org.testng.internal.ClassImpl.getDefaultInstance(ClassImpl.java:112)\r\n\tat org.testng@7.4.0/org.testng.internal.ClassImpl.getInstances(ClassImpl.java:165)\r\n\tat org.testng@7.4.0/org.testng.TestClass.getInstances(TestClass.java:122)\r\n\tat org.testng@7.4.0/org.testng.TestClass.initTestClassesAndInstances(TestClass.java:102)\r\n\tat org.testng@7.4.0/org.testng.TestClass.init(TestClass.java:94)\r\n\tat org.testng@7.4.0/org.testng.TestClass.&lt;init&gt;(TestClass.java:59)\r\n\tat org.testng@7.4.0/org.testng.TestRunner.initMethods(TestRunner.java:463)\r\n\tat org.testng@7.4.0/org.testng.TestRunner.init(TestRunner.java:339)\r\n\tat org.testng@7.4.0/org.testng.TestRunner.init(TestRunner.java:292)\r\n\tat org.testng@7.4.0/org.testng.TestRunner.&lt;init&gt;(TestRunner.java:223)\r\n\tat org.testng.remote.support.RemoteTestNG6_12$1.newTestRunner(RemoteTestNG6_12.java:33)\r\n\tat org.testng.remote.support.RemoteTestNG6_12$DelegatingTestRunnerFactory.newTestRunner(RemoteTestNG6_12.java:66)\r\n\tat org.testng@7.4.0/org.testng.ITestRunnerFactory.newTestRunner(ITestRunnerFactory.java:55)\r\n\tat org.testng@7.4.0/org.testng.SuiteRunner$ProxyTestRunnerFactory.newTestRunner(SuiteRunner.java:659)\r\n\tat org.testng@7.4.0/org.testng.SuiteRunner.init(SuiteRunner.java:173)\r\n\tat org.testng@7.4.0/org.testng.SuiteRunner.&lt;init&gt;(SuiteRunner.java:107)\r\n\tat org.testng@7.4.0/org.testng.TestNG.createSuiteRunner(TestNG.java:1300)\r\n\tat org.testng@7.4.0/org.testng.TestNG.createSuiteRunners(TestNG.java:1276)\r\n\tat org.testng@7.4.0/org.testng.TestNG.runSuitesLocally(TestNG.java:1125)\r\n\tat org.testng@7.4.0/org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng@7.4.0/org.testng.TestNG.run(TestNG.java:1031)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make public appcode.TestAnnotation() accessible: module TestNGTutorial does not &quot;exports appcode&quot; to module org.testng\r\n\tat java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\r\n\tat java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:192)\r\n\tat java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:185)\r\n\tat org.testng@7.4.0/org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:22)\r\n\t... 29 more\r\n\r\n```\r\n\r\n\r\n","title":"New to learning TestNG, getting an &quot;org.testng.TestNGException: Cannot instantiate class&quot; error in Java code","body":"<p>Trying to learn about TestNG Framework but encountered an error which says it is unable to instantiate the class</p>\n<p>made a class SomeClassToTest with one public method which finds out the sum of two numbers\nmade another test class to learn about annotations in testNG</p>\n<p>Code for TestAnnotation class</p>\n<pre><code>package testclasses;\n\nimport org.testng.annotations.Test;\n\nimport appcode.SomeClassToTest;\n\npublic class TestAnnotation {\n\n    @Test\n    public void testMethod1() {\n\n        SomeClassToTest obj = new SomeClassToTest();\n        int result = obj.sumNumbers(1, 2);\n\n        System.out.println(&quot;Running test -&gt; testMethod1&quot;);\n    }\n\n    @Test\n    public void testMethod2() {\n        System.out.println(&quot;Running test -&gt; testMethod2&quot;);\n    }\n\n    @Test\n    public void testMethod3() {\n        System.out.println(&quot;Running test -&gt; testMethod3&quot;);\n    }\n}\n\n</code></pre>\n<p>Code for SomeClassToTest</p>\n<pre><code>package appcode;\n\npublic class SomeClassToTest {\n\n    public int sumNumbers(int a, int b)\n    {\n        return a+b;\n    }\n    \n}\n\n</code></pre>\n<p>log -</p>\n<pre><code>[RemoteTestNG] failed to get TestNG version from class: java.lang.IllegalArgumentException: invalid version &quot;[WORKING]&quot;: non-numeric &quot;[WORKING]&quot;\n[RemoteTestNG] now trying to parse the version from pom.properties\n[RemoteTestNG] now trying to parse the version from MANIFEST.MF\n[RemoteTestNG] parsing TestNG version at jar:file:///C:/Users/Flemin/OneDrive/Documents/testng/testng-7.4.0.jar!/META-INF/MANIFEST.MF\n[RemoteTestNG] detected TestNG version 7.4.0\norg.testng.TestNGException: \nCannot instantiate class appcode.TestAnnotation\n    at org.testng@7.4.0/org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:30)\n    at org.testng@7.4.0/org.testng.internal.InstanceCreator.instantiateUsingDefaultConstructor(InstanceCreator.java:193)\n    at org.testng@7.4.0/org.testng.internal.InstanceCreator.createInstanceUsingObjectFactory(InstanceCreator.java:113)\n    at org.testng@7.4.0/org.testng.internal.InstanceCreator.createInstance(InstanceCreator.java:79)\n    at org.testng@7.4.0/org.testng.internal.objects.SimpleObjectDispenser.dispense(SimpleObjectDispenser.java:25)\n    at org.testng@7.4.0/org.testng.internal.objects.GuiceBasedObjectDispenser.dispense(GuiceBasedObjectDispenser.java:30)\n    at org.testng@7.4.0/org.testng.internal.ClassImpl.getDefaultInstance(ClassImpl.java:112)\n    at org.testng@7.4.0/org.testng.internal.ClassImpl.getInstances(ClassImpl.java:165)\n    at org.testng@7.4.0/org.testng.TestClass.getInstances(TestClass.java:122)\n    at org.testng@7.4.0/org.testng.TestClass.initTestClassesAndInstances(TestClass.java:102)\n    at org.testng@7.4.0/org.testng.TestClass.init(TestClass.java:94)\n    at org.testng@7.4.0/org.testng.TestClass.&lt;init&gt;(TestClass.java:59)\n    at org.testng@7.4.0/org.testng.TestRunner.initMethods(TestRunner.java:463)\n    at org.testng@7.4.0/org.testng.TestRunner.init(TestRunner.java:339)\n    at org.testng@7.4.0/org.testng.TestRunner.init(TestRunner.java:292)\n    at org.testng@7.4.0/org.testng.TestRunner.&lt;init&gt;(TestRunner.java:223)\n    at org.testng.remote.support.RemoteTestNG6_12$1.newTestRunner(RemoteTestNG6_12.java:33)\n    at org.testng.remote.support.RemoteTestNG6_12$DelegatingTestRunnerFactory.newTestRunner(RemoteTestNG6_12.java:66)\n    at org.testng@7.4.0/org.testng.ITestRunnerFactory.newTestRunner(ITestRunnerFactory.java:55)\n    at org.testng@7.4.0/org.testng.SuiteRunner$ProxyTestRunnerFactory.newTestRunner(SuiteRunner.java:659)\n    at org.testng@7.4.0/org.testng.SuiteRunner.init(SuiteRunner.java:173)\n    at org.testng@7.4.0/org.testng.SuiteRunner.&lt;init&gt;(SuiteRunner.java:107)\n    at org.testng@7.4.0/org.testng.TestNG.createSuiteRunner(TestNG.java:1300)\n    at org.testng@7.4.0/org.testng.TestNG.createSuiteRunners(TestNG.java:1276)\n    at org.testng@7.4.0/org.testng.TestNG.runSuitesLocally(TestNG.java:1125)\n    at org.testng@7.4.0/org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng@7.4.0/org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make public appcode.TestAnnotation() accessible: module TestNGTutorial does not &quot;exports appcode&quot; to module org.testng\n    at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:387)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:363)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:311)\n    at java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:192)\n    at java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:185)\n    at org.testng@7.4.0/org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:22)\n    ... 29 more\n\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686061597,"creation_date":1686061597,"question_id":76415711,"body_markdown":"I know I can do the queries using a findXXX method in another class.  However I was wondering... is it possible to perform the query on the entity itself such that instead of invoking the &quot;real method&quot; it will perform a query instead when run in a JPA runtime?\r\n\r\ne.g.\r\n\r\n```\r\n@Query(&quot;this.contracts where contracts.startDate &lt;= :date and contracts.stopDate &gt;= :date)\r\nSet&lt;Contract&gt; activeContracts(LocalDate date) {\r\n  return contracts\r\n    .stream()\r\n    .filter(c-&gt;c.isActive(date))\r\n    .toSet();\r\n}\r\n```\r\n\r\nFrom what I can tell it&#39;s not supported by the standard and the Hibernate `@Where` clause limits the entire entity not just the single method.\r\n\r\nHowever, from what I can tell, the only performant way to do this assuming the related collection is large is to create a separate repository method like\r\n\r\n```java\r\n@Query(&quot;&quot;&quot;\r\n  from Contract contract\r\n  where contract.startDate &lt;= :date \r\n    and contract.stopDate &gt;= :date\r\n    and contract.container = :container\r\n  &quot;&quot;&quot;)\r\nSet&lt;Contract&gt; activeContractsForContainer(Container container, LocalDate date);\r\n```\r\n","title":"In Spring-Data-JPA, can we annotate an Entity method such that it applies a where clause on a related collection?","body":"<p>I know I can do the queries using a findXXX method in another class.  However I was wondering... is it possible to perform the query on the entity itself such that instead of invoking the &quot;real method&quot; it will perform a query instead when run in a JPA runtime?</p>\n<p>e.g.</p>\n<pre><code>@Query(&quot;this.contracts where contracts.startDate &lt;= :date and contracts.stopDate &gt;= :date)\nSet&lt;Contract&gt; activeContracts(LocalDate date) {\n  return contracts\n    .stream()\n    .filter(c-&gt;c.isActive(date))\n    .toSet();\n}\n</code></pre>\n<p>From what I can tell it's not supported by the standard and the Hibernate <code>@Where</code> clause limits the entire entity not just the single method.</p>\n<p>However, from what I can tell, the only performant way to do this assuming the related collection is large is to create a separate repository method like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\n  from Contract contract\n  where contract.startDate &lt;= :date \n    and contract.stopDate &gt;= :date\n    and contract.container = :container\n  &quot;&quot;&quot;)\nSet&lt;Contract&gt; activeContractsForContainer(Container container, LocalDate date);\n</code></pre>\n"},{"tags":["java","alfresco"],"comments":[{"owner":{"account_id":8819384,"reputation":1348,"user_id":6589776,"display_name":"Vikash Patel"},"score":0,"creation_date":1518670176,"post_id":48792336,"comment_id":84602947,"body_markdown":"You wanted to get Id of uploaded document ?","body":"You wanted to get Id of uploaded document ?"},{"owner":{"account_id":2358103,"reputation":121,"user_id":2065484,"display_name":"josemaria_liso"},"score":0,"creation_date":1518680053,"post_id":48792336,"comment_id":84606551,"body_markdown":"The process is: \n- I upload a document,\n- The rule in Alfresco&#39;s configuration folder where the document is uploaded generates a thumbnail (in this case for images) into another folder.\n- I get the id from the document uploaded, but I don&#39;t know how to get the id from the document generated by the rule","body":"The process is:  - I upload a document, - The rule in Alfresco&#39;s configuration folder where the document is uploaded generates a thumbnail (in this case for images) into another folder. - I get the id from the document uploaded, but I don&#39;t know how to get the id from the document generated by the rule"},{"owner":{"account_id":50383,"reputation":2186,"user_id":150295,"accept_rate":50,"display_name":"Lista"},"score":0,"creation_date":1518909338,"post_id":48792336,"comment_id":84697795,"body_markdown":"From where/when are you trying to get thumbnail&#39;s ID?","body":"From where/when are you trying to get thumbnail&#39;s ID?"}],"answers":[{"tags":[],"owner":{"account_id":381622,"reputation":10498,"user_id":736391,"display_name":"Jeff Potts"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518822946,"creation_date":1518822946,"answer_id":48836194,"question_id":48792336,"body_markdown":"The challenge is that all you have is a reference to the uploaded document and rules do not return values. Based on the uploaded document, you&#39;d like to get a reference to the thumbnail your rule generated.\r\n\r\nThe best way to do this would be to generate a pointer or reference to the generated thumbnail. A common way to do this is with associations, but you could also set a property on the uploaded document that has the node reference of the thumbnail as its value. Either way, given a reference to the uploaded document you can always get to the thumbnail by either following the association or grabbing the thumbnail&#39;s node reference from the property value.\r\n\r\nAnother alternative would be to store the thumbnail in a location that is easily retrievable given the reference to the original document. This is one reason why Alfresco stores thumbnails as renditions, which are persisted as children of the document they are thumbnails of. You too could store your thumbnail as a rendition. In fact, you could configure the thumbnail service to generate the thumbnail for you, and it will automatically be stored alongside other renditions.\r\n\r\nIf you use one of these suggestions you&#39;ll have to use either a custom rule action or the &quot;execute script&quot; action to point to your custom server-side JavaScript. In that script you will implement the logic depending on whichever alternative described above works best for you.\r\n\r\nLast, be aware that what you included as an example &quot;Alfresco document ID&quot; looks to me like a CMIS object ID. That is different from an Alfresco node reference. Sometimes Alfresco will accept either one, but you should be conscious of which one you are using to avoid potential confusion.","title":"How to retrieve a document id from a custom rule created in Alfresco","body":"<p>The challenge is that all you have is a reference to the uploaded document and rules do not return values. Based on the uploaded document, you'd like to get a reference to the thumbnail your rule generated.</p>\n\n<p>The best way to do this would be to generate a pointer or reference to the generated thumbnail. A common way to do this is with associations, but you could also set a property on the uploaded document that has the node reference of the thumbnail as its value. Either way, given a reference to the uploaded document you can always get to the thumbnail by either following the association or grabbing the thumbnail's node reference from the property value.</p>\n\n<p>Another alternative would be to store the thumbnail in a location that is easily retrievable given the reference to the original document. This is one reason why Alfresco stores thumbnails as renditions, which are persisted as children of the document they are thumbnails of. You too could store your thumbnail as a rendition. In fact, you could configure the thumbnail service to generate the thumbnail for you, and it will automatically be stored alongside other renditions.</p>\n\n<p>If you use one of these suggestions you'll have to use either a custom rule action or the \"execute script\" action to point to your custom server-side JavaScript. In that script you will implement the logic depending on whichever alternative described above works best for you.</p>\n\n<p>Last, be aware that what you included as an example \"Alfresco document ID\" looks to me like a CMIS object ID. That is different from an Alfresco node reference. Sometimes Alfresco will accept either one, but you should be conscious of which one you are using to avoid potential confusion.</p>\n"}],"owner":{"account_id":2358103,"reputation":121,"user_id":2065484,"display_name":"josemaria_liso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686061456,"creation_date":1518627076,"question_id":48792336,"body_markdown":"I have a Alfresco Comunity Manager 5.0\r\n\r\nIn Alfresco&#39;s configuration, I have created this rule: when an image is uploaded at any folder, it automatically generates a thumbnail from that image into a specific folder. \r\n\r\nI am uploading documents to Alfresco using a Java&#39;s web service. The problem is how to retrieve the Alfresco&#39;s document id (this is... the 12344414341;0.1) from the thumbnail generated in that folder.\r\n\r\nI am already retrieving the Alfresco&#39;s document id from the uploaded image (the original), but I don&#39;t know how to retrieve the one generated by the created rule. I guess it could be solved with a cmis query, but I am completely new to this.\r\n\r\nThanks in advance.\r\n\r\nEdit: rule details\r\n------------------\r\n1. Rule type: inbound\r\n2. Conditions: Element has a mimetype &quot;JPEG Image&quot;\r\n3. Actions: copy image to &quot;thumbnails&quot; and transform it with &quot;-thumbnail 365x275&quot;\r\n4. Details: Apply this rule to subspaces, title &quot;on create - thumbnail&quot;.\r\n","title":"How to retrieve a document id from a custom rule created in Alfresco","body":"<p>I have a Alfresco Comunity Manager 5.0</p>\n\n<p>In Alfresco's configuration, I have created this rule: when an image is uploaded at any folder, it automatically generates a thumbnail from that image into a specific folder. </p>\n\n<p>I am uploading documents to Alfresco using a Java's web service. The problem is how to retrieve the Alfresco's document id (this is... the 12344414341;0.1) from the thumbnail generated in that folder.</p>\n\n<p>I am already retrieving the Alfresco's document id from the uploaded image (the original), but I don't know how to retrieve the one generated by the created rule. I guess it could be solved with a cmis query, but I am completely new to this.</p>\n\n<p>Thanks in advance.</p>\n\n<h2>Edit: rule details</h2>\n\n<ol>\n<li>Rule type: inbound</li>\n<li>Conditions: Element has a mimetype \"JPEG Image\"</li>\n<li>Actions: copy image to \"thumbnails\" and transform it with \"-thumbnail 365x275\"</li>\n<li>Details: Apply this rule to subspaces, title \"on create - thumbnail\".</li>\n</ol>\n"},{"tags":["java","mysql","flyway"],"answers":[{"tags":[],"owner":{"account_id":22150081,"reputation":444,"user_id":16398766,"display_name":"Barry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644934626,"creation_date":1644934626,"answer_id":71128018,"question_id":71127397,"body_markdown":"It somewhat depends on your database structure but you can have the insert statements for your country names as a migration script with set primary keys. \r\n\r\nIf you have Flyway as part of your Java application, you would have Flyway Migrate run on application start up. This would allow the application to deploy the country names to a new environment when run and since its a migration script it would not run again if the environment has already had it run prior as it would be in the schema history table. You could also add to the table if more names are required and alter names as well via subsequent migration scripts.  \r\n\r\nThe only issue with this would be making sure nothing else adds to this table outside of the migration scripts you have created as primary key clashes would cause the migration to fail. ","title":"How to populate seed data using flyway","body":"<p>It somewhat depends on your database structure but you can have the insert statements for your country names as a migration script with set primary keys.</p>\n<p>If you have Flyway as part of your Java application, you would have Flyway Migrate run on application start up. This would allow the application to deploy the country names to a new environment when run and since its a migration script it would not run again if the environment has already had it run prior as it would be in the schema history table. You could also add to the table if more names are required and alter names as well via subsequent migration scripts.</p>\n<p>The only issue with this would be making sure nothing else adds to this table outside of the migration scripts you have created as primary key clashes would cause the migration to fail.</p>\n"},{"tags":[],"owner":{"account_id":3188714,"reputation":1014,"user_id":2693608,"display_name":"ezer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686061309,"creation_date":1645436549,"answer_id":71204099,"question_id":71127397,"body_markdown":"you can use `flyway migrate` \r\nassuming this is the first scheme modification (otherwise start from consecutive `V#`)\r\n\r\n`V1__create_countries_table.sql`:\r\n```\r\ncreate table COUNTRY (\r\n    ID int not null,\r\n    NAME varchar(100) not null\r\n    -- additional fields and constraints\r\n);\r\n```\r\n\r\n`V2__add_values_to_country_table.sql`:\r\n```\r\ninsert into COUNTRY (ID, NAME) values (1, &#39;Afghanistan&#39;);\r\ninsert into COUNTRY (ID, NAME) values (2, &#39;Albania&#39;);\r\n... \r\n```\r\n\r\nsince this is data is static and immutable you can protect it by overwriting create/update/delete on your java `Country` JPA Repository with `throw new UnsupportedOperationException(&quot;country table is read only&quot;)`\r\n\r\n\r\n","title":"How to populate seed data using flyway","body":"<p>you can use <code>flyway migrate</code>\nassuming this is the first scheme modification (otherwise start from consecutive <code>V#</code>)</p>\n<p><code>V1__create_countries_table.sql</code>:</p>\n<pre><code>create table COUNTRY (\n    ID int not null,\n    NAME varchar(100) not null\n    -- additional fields and constraints\n);\n</code></pre>\n<p><code>V2__add_values_to_country_table.sql</code>:</p>\n<pre><code>insert into COUNTRY (ID, NAME) values (1, 'Afghanistan');\ninsert into COUNTRY (ID, NAME) values (2, 'Albania');\n... \n</code></pre>\n<p>since this is data is static and immutable you can protect it by overwriting create/update/delete on your java <code>Country</code> JPA Repository with <code>throw new UnsupportedOperationException(&quot;country table is read only&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":17687074,"reputation":61,"user_id":12839794,"display_name":"Phil Factor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647547009,"creation_date":1647547009,"answer_id":71518319,"question_id":71127397,"body_markdown":"In a SQL database, you should use views to do this. These are considered to be DDL and will be included in all build scripts, whereas data inserts aren’t. They are read-only, and so a hacker cannot add a spurious currency etc. Here is a rather impractical example that allows you to lookup the words used in the Brythonic language for counting up to twenty.\r\n\r\n    CREATE VIEW BrythonicCounting\r\n    AS\r\n      SELECT TheName, TheValue\r\n        FROM\r\n          (VALUES (&#39;oinos&#39;, 1), (&#39;dewou&#39;, 2), (&#39;trīs &#39;, 3), (&#39;petwār&#39;, 4),\r\n                  (&#39;pimpe&#39;, 5), (&#39;swexs&#39;, 6), (&#39;sextam&#39;, 7), (&#39;oxtū&#39;, 8),\r\n                  (&#39;nawam&#39;, 9), (&#39;dekam&#39;, 10), (&#39;oindekam&#39;, 11),\r\n                  (&#39;deudekam&#39;, 12), (&#39;trīdekam&#39;, 13), (&#39;petwārdekam&#39;, 14),\r\n                  (&#39;penpedekam&#39;, 15), (&#39;swedekam&#39;, 16), (&#39;sextandekam&#39;, 17),\r\n                  (&#39;oxtūdekam&#39;, 18), (&#39;nawandekam&#39;, 19), (&#39;ukintī&#39;, 20)\r\n    \t  ) Brythonic ( TheName, TheValue);\r\n    go\r\n    Select TheName from BrythonicCounting where Thevalue=12;\r\n\r\n\r\nAs you see, the data is in the definition of the view and is part of the DDL, so will be part of the schema, not the data.\r\n\r\nYou don&#39;t say what relational database system you&#39;re using, but just about every relational database will support this syntax. for a view with static read-only data in it.\r\n\r\n    go\r\n    CREATE VIEW AltBrythonicCounting\r\n    AS\r\n      SELECT TheName, TheValue\r\n        FROM\r\n          (select &#39;oinos&#39;, 1\r\n    \t  UNION\r\n    \t   SELECT &#39;dewou&#39;, 2\r\n    \t  UNION \r\n    \t    SELECT &#39;trīs &#39;, 3\r\n    \t  UNION \r\n    \t   SELECT &#39;petwār&#39;, 4\r\n    \t  ) Brythonic ( TheName, TheValue);\r\n    go\r\n    Select * from AltBrythonicCounting","title":"How to populate seed data using flyway","body":"<p>In a SQL database, you should use views to do this. These are considered to be DDL and will be included in all build scripts, whereas data inserts aren’t. They are read-only, and so a hacker cannot add a spurious currency etc. Here is a rather impractical example that allows you to lookup the words used in the Brythonic language for counting up to twenty.</p>\n<pre><code>CREATE VIEW BrythonicCounting\nAS\n  SELECT TheName, TheValue\n    FROM\n      (VALUES ('oinos', 1), ('dewou', 2), ('trīs ', 3), ('petwār', 4),\n              ('pimpe', 5), ('swexs', 6), ('sextam', 7), ('oxtū', 8),\n              ('nawam', 9), ('dekam', 10), ('oindekam', 11),\n              ('deudekam', 12), ('trīdekam', 13), ('petwārdekam', 14),\n              ('penpedekam', 15), ('swedekam', 16), ('sextandekam', 17),\n              ('oxtūdekam', 18), ('nawandekam', 19), ('ukintī', 20)\n      ) Brythonic ( TheName, TheValue);\ngo\nSelect TheName from BrythonicCounting where Thevalue=12;\n</code></pre>\n<p>As you see, the data is in the definition of the view and is part of the DDL, so will be part of the schema, not the data.</p>\n<p>You don't say what relational database system you're using, but just about every relational database will support this syntax. for a view with static read-only data in it.</p>\n<pre><code>go\nCREATE VIEW AltBrythonicCounting\nAS\n  SELECT TheName, TheValue\n    FROM\n      (select 'oinos', 1\n      UNION\n       SELECT 'dewou', 2\n      UNION \n        SELECT 'trīs ', 3\n      UNION \n       SELECT 'petwār', 4\n      ) Brythonic ( TheName, TheValue);\ngo\nSelect * from AltBrythonicCounting\n</code></pre>\n"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3488,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71204099,"answer_count":3,"score":3,"last_activity_date":1686061309,"creation_date":1644932116,"question_id":71127397,"body_markdown":"We have a countries table, which contains the country names which will never change.\r\n\r\nHow to populate country specific seed data using flyway on application start preferably with the same primary keys, so that it doesn&#39;t change across environments (say dev, qa, prod)","title":"How to populate seed data using flyway","body":"<p>We have a countries table, which contains the country names which will never change.</p>\n<p>How to populate country specific seed data using flyway on application start preferably with the same primary keys, so that it doesn't change across environments (say dev, qa, prod)</p>\n"},{"tags":["java","spring-boot","design-patterns","microservices","saga"],"answers":[{"tags":[],"owner":{"account_id":9887818,"reputation":67,"user_id":7321816,"display_name":"Ahmeric"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1686061304,"creation_date":1686061304,"answer_id":76415670,"question_id":76162979,"body_markdown":"Sure, here&#39;s a concise version:\r\n\r\nThe SAGA pattern can be beneficial in your scenario:\r\n\r\n1. **SAGA with REST APIs:**\r\n   - Can be used if services are visible to each other. \r\n   - Offers centralized control but might create tight coupling and lacks automatic retry policies.\r\n\r\n2. **SAGA with an Event Bus:**\r\n   - Promotes loose coupling, scalability, and resilience. \r\n   - Allows use of features like retries and parallel processing.\r\n   - Scatters logic across services, making it harder to manage.\r\n\r\n3. **Handling Failure:**\r\n   - Even if you don&#39;t need a compensation mechanism, handling failures is crucial in SAGA for maintaining data consistency. \r\n\r\nChoosing between REST APIs, an event bus, or a combination depends on your system&#39;s complexity and requirements.","title":"SAGA Pattern in a macro-services Spring Boot Web application","body":"<p>Sure, here's a concise version:</p>\n<p>The SAGA pattern can be beneficial in your scenario:</p>\n<ol>\n<li><p><strong>SAGA with REST APIs:</strong></p>\n<ul>\n<li>Can be used if services are visible to each other.</li>\n<li>Offers centralized control but might create tight coupling and lacks automatic retry policies.</li>\n</ul>\n</li>\n<li><p><strong>SAGA with an Event Bus:</strong></p>\n<ul>\n<li>Promotes loose coupling, scalability, and resilience.</li>\n<li>Allows use of features like retries and parallel processing.</li>\n<li>Scatters logic across services, making it harder to manage.</li>\n</ul>\n</li>\n<li><p><strong>Handling Failure:</strong></p>\n<ul>\n<li>Even if you don't need a compensation mechanism, handling failures is crucial in SAGA for maintaining data consistency.</li>\n</ul>\n</li>\n</ol>\n<p>Choosing between REST APIs, an event bus, or a combination depends on your system's complexity and requirements.</p>\n"}],"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76415670,"answer_count":1,"score":1,"last_activity_date":1686061304,"creation_date":1683111053,"question_id":76162979,"body_markdown":"\r\n\r\nI&#39;m trying to understand what could be the best solution to manage a Web application in Spring Boot made of &quot;**Macro-services**&quot; and if the **SAGA Pattern (Orchestrator)** can be adequate in this context with or without the use of an Event Bus .\r\n\r\nI try to describe the scenario we have:\r\n\r\nN &quot;Macro-services&quot; where each is a particular workflow to manage the onboarding - unboarding of users in a system made up of different databases.\r\n\r\n**Flow A (Onboarding utente) Spring Boot App A**\r\n\r\nStep 1\r\n1) Filling in a form\r\n2) Data entry on a MongoDB database\r\n3) Entering data into a MySQL database\r\n4) Entering data on Active Directory\r\n5) Create an account on Salesforce\r\n6) Sending an email with a link to user X\r\n\r\nStep 2\r\n1) User X receives the email with a link\r\n2) Click on the link that leads to a form\r\n3) Compilation of the form\r\n4) Data update on MongoDB\r\n4) Data update on MySQL\r\n\r\n**Flow B (Unboarding utente) Spring Boot App B**\r\n- Conceptually similar to flow A but with reverse operations regarding data entry and updating.\r\n\r\nCurrently Flow A and B are two separate applications built with Spring Boot and share the code for the &quot;Repository Layer&quot; (external Lib in a multi-module Maven application) when there is a need to write/read from databases\r\n(MongoDB, MySQL, ActiveDirectory etc.)\r\n\r\nThe order of operations within the single flow is important and should be able to have a mechanism to manage the restart of the flow from its point of interruption.\r\n\r\nExample without errors:\r\nWriting to MongoDB =&gt; Writing to MySQL =&gt; Writing to Active Directory =&gt; Salesforce API call =&gt; Sending email\r\n\r\nExample with errors:\r\n\r\n    Writing to MongoDB =&gt; Writing to MySQL =&gt; Failure Writing to Active Directory =&gt; Error log\r\n\r\nManual Flow Restart:\r\n\r\n    Skip Writing to MongoDB =&gt; Skip Writing to MySQL =&gt; Writing to Active Directory =&gt; Salesforce API Call =&gt; Sending Email\r\n\r\nImportant note: in our case we don&#39;t need a compensation mechanism to revert the operations.\r\n\r\nAs I indicated above we don&#39;t have separate micro-services that communicate via an Event Bus but several monolithic applications each dedicated to a distinct application flow that affects different databases (and not only).\r\n\r\nIs it possible/recommended to use the SAGA pattern (Orchestrator) with REST APIs instead of an Event bus in this case?\r\n\r\nAdvantages and disadvantages?\r\n\r\nIf we wish we could still use an Event bus since we are working on AWS.\r\n\r\nThanks\r\n","title":"SAGA Pattern in a macro-services Spring Boot Web application","body":"<p>I'm trying to understand what could be the best solution to manage a Web application in Spring Boot made of &quot;<strong>Macro-services</strong>&quot; and if the <strong>SAGA Pattern (Orchestrator)</strong> can be adequate in this context with or without the use of an Event Bus .</p>\n<p>I try to describe the scenario we have:</p>\n<p>N &quot;Macro-services&quot; where each is a particular workflow to manage the onboarding - unboarding of users in a system made up of different databases.</p>\n<p><strong>Flow A (Onboarding utente) Spring Boot App A</strong></p>\n<p>Step 1</p>\n<ol>\n<li>Filling in a form</li>\n<li>Data entry on a MongoDB database</li>\n<li>Entering data into a MySQL database</li>\n<li>Entering data on Active Directory</li>\n<li>Create an account on Salesforce</li>\n<li>Sending an email with a link to user X</li>\n</ol>\n<p>Step 2</p>\n<ol>\n<li>User X receives the email with a link</li>\n<li>Click on the link that leads to a form</li>\n<li>Compilation of the form</li>\n<li>Data update on MongoDB</li>\n<li>Data update on MySQL</li>\n</ol>\n<p><strong>Flow B (Unboarding utente) Spring Boot App B</strong></p>\n<ul>\n<li>Conceptually similar to flow A but with reverse operations regarding data entry and updating.</li>\n</ul>\n<p>Currently Flow A and B are two separate applications built with Spring Boot and share the code for the &quot;Repository Layer&quot; (external Lib in a multi-module Maven application) when there is a need to write/read from databases\n(MongoDB, MySQL, ActiveDirectory etc.)</p>\n<p>The order of operations within the single flow is important and should be able to have a mechanism to manage the restart of the flow from its point of interruption.</p>\n<p>Example without errors:\nWriting to MongoDB =&gt; Writing to MySQL =&gt; Writing to Active Directory =&gt; Salesforce API call =&gt; Sending email</p>\n<p>Example with errors:</p>\n<pre><code>Writing to MongoDB =&gt; Writing to MySQL =&gt; Failure Writing to Active Directory =&gt; Error log\n</code></pre>\n<p>Manual Flow Restart:</p>\n<pre><code>Skip Writing to MongoDB =&gt; Skip Writing to MySQL =&gt; Writing to Active Directory =&gt; Salesforce API Call =&gt; Sending Email\n</code></pre>\n<p>Important note: in our case we don't need a compensation mechanism to revert the operations.</p>\n<p>As I indicated above we don't have separate micro-services that communicate via an Event Bus but several monolithic applications each dedicated to a distinct application flow that affects different databases (and not only).</p>\n<p>Is it possible/recommended to use the SAGA pattern (Orchestrator) with REST APIs instead of an Event bus in this case?</p>\n<p>Advantages and disadvantages?</p>\n<p>If we wish we could still use an Event bus since we are working on AWS.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-mvc","cors","cross-origin-resource-policy"],"comments":[{"owner":{"account_id":970256,"reputation":892,"user_id":992940,"accept_rate":67,"display_name":"Dmitrii Bocharov"},"score":0,"creation_date":1685954746,"post_id":76402537,"comment_id":134727591,"body_markdown":"what error do you have? Could please add the stacktrace or error message from the client call?","body":"what error do you have? Could please add the stacktrace or error message from the client call?"},{"owner":{"account_id":23540128,"reputation":3,"user_id":17584447,"display_name":"Achraf Ait Ibba"},"score":0,"creation_date":1685975003,"post_id":76402537,"comment_id":134732063,"body_markdown":"Here is it, when I test endpoints that requires authentication it shows me this error, but endpoints that doesn&#39;t require authentication works fine, http://localhost:8080/api/v1/account/update/user-infos/7057765138195429892&#39; from origin &#39;http://127.0.0.1:5500&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.","body":"Here is it, when I test endpoints that requires authentication it shows me this error, but endpoints that doesn&#39;t require authentication works fine, <a href=\"http://localhost:8080/api/v1/account/update/user-infos/7057765138195429892\" rel=\"nofollow noreferrer\">localhost:8080/api/v1/account/update/user-infos/&hellip;</a>&#39; from origin &#39;<a href=\"http://127.0.0.1:5500\" rel=\"nofollow noreferrer\">127.0.0.1:5500</a>&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled."}],"answers":[{"tags":[],"owner":{"account_id":23540128,"reputation":3,"user_id":17584447,"display_name":"Achraf Ait Ibba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686060793,"creation_date":1686060793,"answer_id":76415588,"question_id":76402537,"body_markdown":"I think I found the solution, if you have the same problem with the same configuration in securityFilter bean, you should add the following line right after .disable() in the configuration, you will have something like this : \r\n\r\n     @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity)throws Exception{\r\n\r\n        httpSecurity\r\n                .csrf()\r\n                .disable()\r\n                .cors()  // this is how to disable cors \r\n                .authorizeHttpRequests()\r\n.... the rest of the configuration","title":"I get the CORS error while testing my api, I already set the crossorigin configuration but it&#39;s not working, Java Spring, Authentication JWT","body":"<p>I think I found the solution, if you have the same problem with the same configuration in securityFilter bean, you should add the following line right after .disable() in the configuration, you will have something like this :</p>\n<pre><code> @Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity)throws Exception{\n\n    httpSecurity\n            .csrf()\n            .disable()\n            .cors()  // this is how to disable cors \n            .authorizeHttpRequests()\n</code></pre>\n<p>.... the rest of the configuration</p>\n"}],"owner":{"account_id":23540128,"reputation":3,"user_id":17584447,"display_name":"Achraf Ait Ibba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76415588,"answer_count":1,"score":0,"last_activity_date":1686060793,"creation_date":1685915354,"question_id":76402537,"body_markdown":"I created a web application with java spring, I&#39;m using JWT as authentication mechanism, I always get the cors problem even after adding the configuration to allow cross origins, how could I fix it? \r\nI&#39;m using spring 6, and spring boot 3\r\nI will provide some of the code, the informations provided are not enough, you could see the whole code on my github repo:\r\n[Github](https://github.com/achrafaitibba/where_is_my_money)\r\nThe problem only happens when I call endpoints that requires authentication,\r\nI think there is a problem with the request or the response sent by the server, or maybe the header of the request,\r\nit would be better if any of you have the solution to provide me an example of the request I should send using &quot;axios or fetch&quot;\r\nHere is my authentication filter :\r\n\r\n```\r\npublic class securityConfigurationFilter {\r\n\r\n    private final jwtAuthenticationFIlter jwtAuthFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n    private final LogoutHandler logoutHandler;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity)throws Exception{\r\n\r\n        httpSecurity\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(\r\n                        &quot;/api/v1/account/register&quot;,\r\n                        &quot;/api/v1/account/password-recovery/*/*&quot;,\r\n                        &quot;/api/v1/account/authenticate&quot;,\r\n                        &quot;/api/v1/account/emailValidation/*&quot;,\r\n                        &quot;/api/v1/questions&quot;,\r\n                        &quot;/swagger-ui/index.html#&quot;,\r\n                        &quot;/v2/api-docs&quot;,\r\n                        &quot;/v3/api-docs&quot;,\r\n                        &quot;/v3/api-docs/**&quot;,\r\n                        &quot;/swagger-ressources&quot;,\r\n                        &quot;/swagger-ressources/**&quot;,\r\n                        &quot;/configuration/ui&quot;,\r\n                        &quot;/configuration/security&quot;,\r\n                        &quot;/swagger-ui/**&quot;,\r\n                        &quot;/webjars/**&quot;,\r\n                        &quot;/swagger-ui.html&quot;\r\n                )\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n\r\n\r\n\r\n                .logout()\r\n                .logoutUrl(&quot;/api/v1/account/logout&quot;)\r\n                .addLogoutHandler(logoutHandler)\r\n                .logoutSuccessHandler(\r\n                        (request,\r\n                         response,\r\n                         authentication) -&gt;\r\n                        SecurityContextHolder.clearContext());\r\n  return httpSecurity.build();\r\n    }\r\n```\r\nAnd here is the webConfiguration : \r\n\r\n```\r\n@Configuration\r\npublic class webConfigCors implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry coreRegistry) {\r\n        coreRegistry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;*&quot;)\r\n                .allowedHeaders(&quot;*&quot;)\r\n                .allowedMethods(&quot;*&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n \r\n\r\nI tried to add the crossorigin annotation for each endpoint,\r\nI also tried to change the webcross configuration to accept credentiels like this : \r\n\r\n```\r\n@Bean\r\n    public CorsWebFilter corsWebFilter() {\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOrigins(Arrays.asList(&quot;http://127.0.0.1:5500&quot;));\r\n        config.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n        config.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n        return new CorsWebFilter(source);\r\n    }\r\n```\r\n,\r\nAnd by the way I want it to be accessible by all the origins not only my local host as fixed in the configuration above","title":"I get the CORS error while testing my api, I already set the crossorigin configuration but it&#39;s not working, Java Spring, Authentication JWT","body":"<p>I created a web application with java spring, I'm using JWT as authentication mechanism, I always get the cors problem even after adding the configuration to allow cross origins, how could I fix it?\nI'm using spring 6, and spring boot 3\nI will provide some of the code, the informations provided are not enough, you could see the whole code on my github repo:\n<a href=\"https://github.com/achrafaitibba/where_is_my_money\" rel=\"nofollow noreferrer\">Github</a>\nThe problem only happens when I call endpoints that requires authentication,\nI think there is a problem with the request or the response sent by the server, or maybe the header of the request,\nit would be better if any of you have the solution to provide me an example of the request I should send using &quot;axios or fetch&quot;\nHere is my authentication filter :</p>\n<pre><code>public class securityConfigurationFilter {\n\n    private final jwtAuthenticationFIlter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n    private final LogoutHandler logoutHandler;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity)throws Exception{\n\n        httpSecurity\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .requestMatchers(\n                        &quot;/api/v1/account/register&quot;,\n                        &quot;/api/v1/account/password-recovery/*/*&quot;,\n                        &quot;/api/v1/account/authenticate&quot;,\n                        &quot;/api/v1/account/emailValidation/*&quot;,\n                        &quot;/api/v1/questions&quot;,\n                        &quot;/swagger-ui/index.html#&quot;,\n                        &quot;/v2/api-docs&quot;,\n                        &quot;/v3/api-docs&quot;,\n                        &quot;/v3/api-docs/**&quot;,\n                        &quot;/swagger-ressources&quot;,\n                        &quot;/swagger-ressources/**&quot;,\n                        &quot;/configuration/ui&quot;,\n                        &quot;/configuration/security&quot;,\n                        &quot;/swagger-ui/**&quot;,\n                        &quot;/webjars/**&quot;,\n                        &quot;/swagger-ui.html&quot;\n                )\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n\n\n\n                .logout()\n                .logoutUrl(&quot;/api/v1/account/logout&quot;)\n                .addLogoutHandler(logoutHandler)\n                .logoutSuccessHandler(\n                        (request,\n                         response,\n                         authentication) -&gt;\n                        SecurityContextHolder.clearContext());\n  return httpSecurity.build();\n    }\n</code></pre>\n<p>And here is the webConfiguration :</p>\n<pre><code>@Configuration\npublic class webConfigCors implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry coreRegistry) {\n        coreRegistry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedHeaders(&quot;*&quot;)\n                .allowedMethods(&quot;*&quot;);\n    }\n}\n\n</code></pre>\n<p>I tried to add the crossorigin annotation for each endpoint,\nI also tried to change the webcross configuration to accept credentiels like this :</p>\n<pre><code>@Bean\n    public CorsWebFilter corsWebFilter() {\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOrigins(Arrays.asList(&quot;http://127.0.0.1:5500&quot;));\n        config.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n        config.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        return new CorsWebFilter(source);\n    }\n</code></pre>\n<p>,\nAnd by the way I want it to be accessible by all the origins not only my local host as fixed in the configuration above</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9837,"page":388,"page_size":100}
