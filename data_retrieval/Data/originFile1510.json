{"items":[{"tags":["java","google-api","gmail","google-oauth"],"answers":[{"tags":[],"owner":{"account_id":14320707,"reputation":582,"user_id":10344196,"display_name":"Yancy Godoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647469875,"creation_date":1647469875,"answer_id":71504976,"question_id":71504848,"body_markdown":"Using a Service Account you need to declare impersonation, are you doing that in your code? There&#39;s a similar question that was [answered here][1] that corresponds to the same error you are getting.\r\n\r\nBasically, as instructed you need to make sure impersonation is done as:\r\n\r\n    private static GoogleCredential _createCredentialUsingServerToken(final HttpTransport httpTransport,\r\n                                                                  final JsonFactory jsonFactory) throws IOException,\r\n                                                                                                        GeneralSecurityException {\r\n    // Use the client ID when making the OAuth 2.0 access token request (see Google&#39;s OAuth 2.0 Service Account documentation).\r\n    String serviceAccountClientID = &quot;327116756300-thcjqf1mvrn0geefnu6ef3pe2sm61i2q.apps.googleusercontent.com&quot;; \r\n\r\n    // Use the email address when granting the service account access to supported Google APIs \r\n    String serviceAccountUserEmail = &quot;xxxx@developer.gserviceaccount.com&quot;;\r\n\r\n    GoogleCredential credential = new GoogleCredential.Builder()\r\n                                                .setTransport(httpTransport)\r\n                                                .setJsonFactory(jsonFactory)\r\n                                                .setServiceAccountId(serviceAccountUserEmail)    // requesting the token\r\n                                                .setServiceAccountPrivateKeyFromP12File(new File(SERVER_P12_SECRET_PATH))\r\n                                                .setServiceAccountScopes(SCOPES)    // see https://developers.google.com/gmail/api/auth/scopes\r\n                                                .setServiceAccountUser(&quot;user@example.com&quot;)\r\n                                                .build();    \r\n    credential.refreshToken();\r\n    return credential;}\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29327846/gmail-rest-api-400-bad-request-failed-precondition?rq=1","title":"Using GMAIL API without OAuth for my own account","body":"<p>Using a Service Account you need to declare impersonation, are you doing that in your code? There's a similar question that was <a href=\"https://stackoverflow.com/questions/29327846/gmail-rest-api-400-bad-request-failed-precondition?rq=1\">answered here</a> that corresponds to the same error you are getting.</p>\n<p>Basically, as instructed you need to make sure impersonation is done as:</p>\n<pre><code>private static GoogleCredential _createCredentialUsingServerToken(final HttpTransport httpTransport,\n                                                              final JsonFactory jsonFactory) throws IOException,\n                                                                                                    GeneralSecurityException {\n// Use the client ID when making the OAuth 2.0 access token request (see Google's OAuth 2.0 Service Account documentation).\nString serviceAccountClientID = &quot;327116756300-thcjqf1mvrn0geefnu6ef3pe2sm61i2q.apps.googleusercontent.com&quot;; \n\n// Use the email address when granting the service account access to supported Google APIs \nString serviceAccountUserEmail = &quot;xxxx@developer.gserviceaccount.com&quot;;\n\nGoogleCredential credential = new GoogleCredential.Builder()\n                                            .setTransport(httpTransport)\n                                            .setJsonFactory(jsonFactory)\n                                            .setServiceAccountId(serviceAccountUserEmail)    // requesting the token\n                                            .setServiceAccountPrivateKeyFromP12File(new File(SERVER_P12_SECRET_PATH))\n                                            .setServiceAccountScopes(SCOPES)    // see https://developers.google.com/gmail/api/auth/scopes\n                                            .setServiceAccountUser(&quot;user@example.com&quot;)\n                                            .build();    \ncredential.refreshToken();\nreturn credential;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647502072,"creation_date":1647501584,"answer_id":71508370,"question_id":71504848,"body_markdown":"&gt;Precondition check failed.\r\n\r\nMeans that you are trying to use a service account but did not declare which user you would like to delegate to.  What its trying to do is access the service accounts gmail account, google wont let you do that. This is normally done by using the  `setServiceAccountUser` method.\r\n\r\nHowever if i understand you correctly you are using a standard gmail account. To use service accounts with gmail you need to have a google workspace domain account.  Then the admin of your domain will be able to set up [domain wide delegation][1] for you.  It will only work with domain emails.\r\n\r\nYou can **not** use a service account with a standard google gmail account.\r\n\r\nHere is the section of the documentation that relats to service accounts and delegation [Managing Delegates](https://developers.google.com/gmail/api/guides/delegate_settings)\r\n&gt;Google Workspace organizations can use the Delegates resource to manage the delegates of accounts in their organization. This requires use of a service account that has been delegated domain-wide authority.\r\n\r\nThe solution to your problem is to use oauth2.\r\n\r\nI recommend following the [official tutorial][2].\r\n\r\n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n            // Load client secrets.\r\n            InputStream in = GmailQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n            if (in == null) {\r\n                throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n            }\r\n            GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n    \r\n            // Build flow and trigger user authorization request.\r\n            GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                    HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                    .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                    .setAccessType(&quot;offline&quot;)\r\n                    .build();\r\n            LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n            Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n            //returns an authorized Credential object.\r\n            return credential;\r\n        }\r\n\r\n\r\n  [1]: https://developers.google.com/admin-sdk/directory/v1/guides/delegation\r\n  [2]: https://developers.google.com/gmail/api/quickstart/java","title":"Using GMAIL API without OAuth for my own account","body":"<blockquote>\n<p>Precondition check failed.</p>\n</blockquote>\n<p>Means that you are trying to use a service account but did not declare which user you would like to delegate to.  What its trying to do is access the service accounts gmail account, google wont let you do that. This is normally done by using the  <code>setServiceAccountUser</code> method.</p>\n<p>However if i understand you correctly you are using a standard gmail account. To use service accounts with gmail you need to have a google workspace domain account.  Then the admin of your domain will be able to set up <a href=\"https://developers.google.com/admin-sdk/directory/v1/guides/delegation\" rel=\"nofollow noreferrer\">domain wide delegation</a> for you.  It will only work with domain emails.</p>\n<p>You can <strong>not</strong> use a service account with a standard google gmail account.</p>\n<p>Here is the section of the documentation that relats to service accounts and delegation <a href=\"https://developers.google.com/gmail/api/guides/delegate_settings\" rel=\"nofollow noreferrer\">Managing Delegates</a></p>\n<blockquote>\n<p>Google Workspace organizations can use the Delegates resource to manage the delegates of accounts in their organization. This requires use of a service account that has been delegated domain-wide authority.</p>\n</blockquote>\n<p>The solution to your problem is to use oauth2.</p>\n<p>I recommend following the <a href=\"https://developers.google.com/gmail/api/quickstart/java\" rel=\"nofollow noreferrer\">official tutorial</a>.</p>\n<pre><code>private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n        // Load client secrets.\n        InputStream in = GmailQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n        if (in == null) {\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n        }\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        // Build flow and trigger user authorization request.\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(&quot;offline&quot;)\n                .build();\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n        Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n        //returns an authorized Credential object.\n        return credential;\n    }\n</code></pre>\n"}],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1972,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647502072,"creation_date":1647468905,"question_id":71504848,"body_markdown":"I&#39;m trying to create a very simple script to automate some stuff **ON MY OWN GMAIL ACCOUNT**\r\n\r\nAll the tutorials on google to use GMAIL API focus on accessing someones else data so it right goes through an OAuth access request in the browser, but i&#39;m trying to read my own mails and i&#39;m using an ubuntu server so i have no access to graphical browser.\r\n\r\nHow can I do that?\r\n\r\nplease do not answer to say &quot;is impossible, google requires it bla bla bla security&quot; I&#39;ve done something similar in the past I just don&#39;t have the previous code...\r\n\r\nI believe if I create a service account and grant some permission to this account i would be able to do this, but i cant find which permission i need to grant or what step i&#39;m missing currently i get\r\n\r\n    public static Gmail createGmailServiceClient(final List&lt;String&gt; scopes, final String jsonCredentials) throws GeneralSecurityException, IOException {\r\n    \t\tfinal NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n    \t\t\r\n    \t\t  \r\n    \t\treturn new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, GoogleCredential.fromStream(new ByteArrayInputStream(jsonCredentials.getBytes())).createScoped(scopes)).build();\r\n    \r\n    \t}\r\n\r\n\t\r\n\r\n    Gmail gmail = SimpleGmail.createGmailServiceClient(Arrays.asList(GmailScopes.GMAIL_READONLY), json);\r\n    \r\n    \t\t \r\n    \t\tListMessagesResponse mails = gmail.users().messages().list(&quot;me&quot;).execute();\r\n    \t\tSystem.out.println(mails);\r\n\r\n\r\nbut when doing this i get \r\n\r\n    {\r\n      &quot;code&quot; : 400,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;message&quot; : &quot;Precondition check failed.&quot;,\r\n        &quot;reason&quot; : &quot;failedPrecondition&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;Precondition check failed.&quot;,\r\n      &quot;status&quot; : &quot;FAILED_PRECONDITION&quot;\r\n    }","title":"Using GMAIL API without OAuth for my own account","body":"<p>I'm trying to create a very simple script to automate some stuff <strong>ON MY OWN GMAIL ACCOUNT</strong></p>\n<p>All the tutorials on google to use GMAIL API focus on accessing someones else data so it right goes through an OAuth access request in the browser, but i'm trying to read my own mails and i'm using an ubuntu server so i have no access to graphical browser.</p>\n<p>How can I do that?</p>\n<p>please do not answer to say &quot;is impossible, google requires it bla bla bla security&quot; I've done something similar in the past I just don't have the previous code...</p>\n<p>I believe if I create a service account and grant some permission to this account i would be able to do this, but i cant find which permission i need to grant or what step i'm missing currently i get</p>\n<pre><code>public static Gmail createGmailServiceClient(final List&lt;String&gt; scopes, final String jsonCredentials) throws GeneralSecurityException, IOException {\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n        \n          \n        return new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, GoogleCredential.fromStream(new ByteArrayInputStream(jsonCredentials.getBytes())).createScoped(scopes)).build();\n\n    }\n\n\n\nGmail gmail = SimpleGmail.createGmailServiceClient(Arrays.asList(GmailScopes.GMAIL_READONLY), json);\n\n         \n        ListMessagesResponse mails = gmail.users().messages().list(&quot;me&quot;).execute();\n        System.out.println(mails);\n</code></pre>\n<p>but when doing this i get</p>\n<pre><code>{\n  &quot;code&quot; : 400,\n  &quot;errors&quot; : [ {\n    &quot;domain&quot; : &quot;global&quot;,\n    &quot;message&quot; : &quot;Precondition check failed.&quot;,\n    &quot;reason&quot; : &quot;failedPrecondition&quot;\n  } ],\n  &quot;message&quot; : &quot;Precondition check failed.&quot;,\n  &quot;status&quot; : &quot;FAILED_PRECONDITION&quot;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647441052,"post_id":71498726,"comment_id":126372199,"body_markdown":"Just implement it as you normally would do. Why would that change when you add security?","body":"Just implement it as you normally would do. Why would that change when you add security?"},{"owner":{"account_id":23604382,"reputation":225,"user_id":17640327,"display_name":"sullyh7"},"score":0,"creation_date":1647441465,"post_id":71498726,"comment_id":126372398,"body_markdown":"basically with security I would have a user table right? Would I have all my user details within that user class or would I only use the user table for username, password and roles","body":"basically with security I would have a user table right? Would I have all my user details within that user class or would I only use the user table for username, password and roles"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1647441656,"post_id":71498726,"comment_id":126372486,"body_markdown":"Again why would it change... Why if you start using security all your transaction information should suddenly move to the user table? Why? What makes you think that should happen?","body":"Again why would it change... Why if you start using security all your transaction information should suddenly move to the user table? Why? What makes you think that should happen?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1647441730,"post_id":71498726,"comment_id":126372519,"body_markdown":"@sullyh7 you can have whatever is required business wise in that UserDto. The important thing though is that the controller is allowed to disclose only information of the current user and not other users ;)","body":"@sullyh7 you can have whatever is required business wise in that UserDto. The important thing though is that the controller is allowed to disclose only information of the current user and not other users ;)"}],"answers":[{"tags":[],"owner":{"account_id":2258060,"reputation":3689,"user_id":1988798,"accept_rate":83,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647502019,"creation_date":1647502019,"answer_id":71508440,"question_id":71498726,"body_markdown":"I believe there should be clear separation between domain model and data model.\r\nIf your application demands that for each transaction that may be initiated from the front end, balance, transaction count needs to be used, then you can put these details in your `Authentication` object. But in case they don&#39;t, please go ahead with minimum set of attributes that are absolutely requried for each transaction - `userId` / `bankId` / `clientId`.\r\n\r\nWith this sorted out, your application can send a `GET /user` request on front end application initialization where you can pull all details that are required at front end. \r\n\r\n**TLDR**: Store attributes that are required in each request and which should never come from user - logged in user id - in `SecurityContext` as these end up in `Session` object. For everything else, you can trigger a `GET` request to fetch and cache it on your front end application.","title":"How would I implement retrieving user details with spring security using using spring security","body":"<p>I believe there should be clear separation between domain model and data model.\nIf your application demands that for each transaction that may be initiated from the front end, balance, transaction count needs to be used, then you can put these details in your <code>Authentication</code> object. But in case they don't, please go ahead with minimum set of attributes that are absolutely requried for each transaction - <code>userId</code> / <code>bankId</code> / <code>clientId</code>.</p>\n<p>With this sorted out, your application can send a <code>GET /user</code> request on front end application initialization where you can pull all details that are required at front end.</p>\n<p><strong>TLDR</strong>: Store attributes that are required in each request and which should never come from user - logged in user id - in <code>SecurityContext</code> as these end up in <code>Session</code> object. For everything else, you can trigger a <code>GET</code> request to fetch and cache it on your front end application.</p>\n"}],"owner":{"account_id":23604382,"reputation":225,"user_id":17640327,"display_name":"sullyh7"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71508440,"answer_count":1,"score":1,"last_activity_date":1647502019,"creation_date":1647440417,"question_id":71498726,"body_markdown":"So I want to make a bank spring rest api, which after the user logs in, their details will be available for frontend to use.\r\n\r\nI am really confused on how to structure this program as I want it so that the front end which consumes the api retrieves your data.\r\n\r\nI know how to implement the controllers etc, however when implementing spring security, would I have all the fields including balance, transaction count, creation date etc in the User class which spring security uses for login, or would I have it in a separate DTO class.\r\n\r\nI&#39;ve done some research on Baeldungs website but I&#39;m still really confused for my use case.\r\n\r\nIm new to Spring REST, any advice would be appreciated","title":"How would I implement retrieving user details with spring security using using spring security","body":"<p>So I want to make a bank spring rest api, which after the user logs in, their details will be available for frontend to use.</p>\n<p>I am really confused on how to structure this program as I want it so that the front end which consumes the api retrieves your data.</p>\n<p>I know how to implement the controllers etc, however when implementing spring security, would I have all the fields including balance, transaction count, creation date etc in the User class which spring security uses for login, or would I have it in a separate DTO class.</p>\n<p>I've done some research on Baeldungs website but I'm still really confused for my use case.</p>\n<p>Im new to Spring REST, any advice would be appreciated</p>\n"},{"tags":["java","maven","rest-assured","web-api-testing"],"comments":[{"owner":{"account_id":2569410,"reputation":545,"user_id":2228525,"display_name":"Nitesh Sharma"},"score":0,"creation_date":1590437855,"post_id":62009724,"comment_id":109674516,"body_markdown":"What&#39;s your build status ?","body":"What&#39;s your build status ?"},{"owner":{"account_id":17911040,"reputation":235,"user_id":13013164,"display_name":"abbas"},"score":0,"creation_date":1590473024,"post_id":62009724,"comment_id":109684011,"body_markdown":"Build failure, compilation error","body":"Build failure, compilation error"},{"owner":{"account_id":6836018,"reputation":803,"user_id":5257981,"display_name":"kaweesha"},"score":1,"creation_date":1590474178,"post_id":62009724,"comment_id":109684412,"body_markdown":"Do you write this test in the &#39;Test&#39; folder (in src folder) in the maven project structure?","body":"Do you write this test in the &#39;Test&#39; folder (in src folder) in the maven project structure?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1590475836,"post_id":62009724,"comment_id":109685078,"body_markdown":"What do you mean by `I have imported jar files from &quot;https://github.com/rest-assured/rest-assured/wiki/Downloads&quot;,` I don&#39;t understand that? Have you downloaded them?","body":"What do you mean by <code>I have imported jar files from &quot;https:&#47;&#47;github.com&#47;rest-assured&#47;rest-assured&#47;wiki&#47;Downloads&zwnj;&#8203;&quot;,</code> I don&#39;t understand that? Have you downloaded them?"},{"owner":{"account_id":17911040,"reputation":235,"user_id":13013164,"display_name":"abbas"},"score":0,"creation_date":1590517794,"post_id":62009724,"comment_id":109707985,"body_markdown":"I first downloaded them and import them manually in Intellij.","body":"I first downloaded them and import them manually in Intellij."},{"owner":{"account_id":17911040,"reputation":235,"user_id":13013164,"display_name":"abbas"},"score":0,"creation_date":1590517842,"post_id":62009724,"comment_id":109708002,"body_markdown":"I am using Cucumber, so steps are in test folder but this specific file is not.","body":"I am using Cucumber, so steps are in test folder but this specific file is not."}],"answers":[{"tags":[],"owner":{"account_id":8732610,"reputation":11,"user_id":6532161,"display_name":"Christian M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647501909,"creation_date":1647501909,"answer_id":71508415,"question_id":62009724,"body_markdown":"adding the dependencies solved this issue on my end\r\n\r\nused a stsarter projec from [https://code.quarkus.io/][1] and added the dependencies afterwards\r\n\r\n\r\n  [1]: https://code.quarkus.io/","title":"Maven compilation error &quot;package io.restassured.specification does not exist&quot;","body":"<p>adding the dependencies solved this issue on my end</p>\n<p>used a stsarter projec from <a href=\"https://code.quarkus.io/\" rel=\"nofollow noreferrer\">https://code.quarkus.io/</a> and added the dependencies afterwards</p>\n"}],"owner":{"account_id":17911040,"reputation":235,"user_id":13013164,"display_name":"abbas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647501909,"creation_date":1590436287,"question_id":62009724,"body_markdown":"I have imported jar files from &quot;https://github.com/rest-assured/rest-assured/wiki/Downloads&quot;, the first 6. \r\nAnd, I have already imported static class &quot;import static io.restassured.RestAssured.*&quot; but still get this compile error. \r\nBeside the above error I also get this error &quot;package io.restassured does not exist&quot;.\r\n\r\n\r\n\r\nAlso my Maven dependency is as follows:\r\n\r\n    &lt;!-- rest assured library for API-level testing --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n      &lt;version&gt;4.3.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/json-path --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n      &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- to validate that a JSON response conforms to a Json Schema --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n      &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThe code snippet:\r\n\r\n    public static List&lt;String&gt; passParams(List&lt;String&gt; list){\r\n        RestAssured.baseURI = freightRootURL;\r\n        RequestSpecification requestSpecification = given();\r\n        for (int i = 0; i &lt; list.size() ; i ++ ) {\r\n            requestSpecification = requestSpecification.queryParam(freightParams.get(i), list.get(i));\r\n        }\r\n        String result = requestSpecification.when().get().then().assertThat().statusCode(200).extract().response().asString();\r\n\r\n        JsonPath js = new JsonPath(result);\r\n        String offers = js.getString(&quot;offers.key&quot;);\r\n\r\n        return Arrays.asList(offers.split(&quot;,&quot;));","title":"Maven compilation error &quot;package io.restassured.specification does not exist&quot;","body":"<p>I have imported jar files from \"<a href=\"https://github.com/rest-assured/rest-assured/wiki/Downloads\" rel=\"nofollow noreferrer\">https://github.com/rest-assured/rest-assured/wiki/Downloads</a>\", the first 6. \nAnd, I have already imported static class \"import static io.restassured.RestAssured.*\" but still get this compile error. \nBeside the above error I also get this error \"package io.restassured does not exist\".</p>\n\n<p>Also my Maven dependency is as follows:</p>\n\n<pre><code>&lt;!-- rest assured library for API-level testing --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n  &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n  &lt;version&gt;4.3.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/io.rest-assured/json-path --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n  &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n  &lt;version&gt;3.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- to validate that a JSON response conforms to a Json Schema --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n  &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n  &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The code snippet:</p>\n\n<pre><code>public static List&lt;String&gt; passParams(List&lt;String&gt; list){\n    RestAssured.baseURI = freightRootURL;\n    RequestSpecification requestSpecification = given();\n    for (int i = 0; i &lt; list.size() ; i ++ ) {\n        requestSpecification = requestSpecification.queryParam(freightParams.get(i), list.get(i));\n    }\n    String result = requestSpecification.when().get().then().assertThat().statusCode(200).extract().response().asString();\n\n    JsonPath js = new JsonPath(result);\n    String offers = js.getString(\"offers.key\");\n\n    return Arrays.asList(offers.split(\",\"));\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1647499786,"post_id":71508054,"comment_id":126387731,"body_markdown":"How about fixing all the broken name-space references in the XML files, too?","body":"How about fixing all the broken name-space references in the XML files, too?"},{"owner":{"account_id":24562939,"reputation":1,"user_id":18470427,"display_name":"CesaarZapzz"},"score":0,"creation_date":1647500177,"post_id":71508054,"comment_id":126387840,"body_markdown":"I&#39;m not sure how to, to be honest. How do I code the &quot;tools:context&quot; line of the xml file to  its respective java class that is inside a package?","body":"I&#39;m not sure how to, to be honest. How do I code the &quot;tools:context&quot; line of the xml file to  its respective java class that is inside a package?"},{"owner":{"account_id":24562939,"reputation":1,"user_id":18470427,"display_name":"CesaarZapzz"},"score":0,"creation_date":1647500807,"post_id":71508054,"comment_id":126388004,"body_markdown":"Or perhaps is it because I have not declared the java classes as activities yet in my project&#39;s AndroidManifest.xml file?","body":"Or perhaps is it because I have not declared the java classes as activities yet in my project&#39;s AndroidManifest.xml file?"}],"owner":{"account_id":24562939,"reputation":1,"user_id":18470427,"display_name":"CesaarZapzz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647501777,"creation_date":1647499588,"question_id":71508054,"body_markdown":"I imported a set of Java classes and their respective layout xml files into my project in Android Studio, I wanted to organize things so I placed the imported classes inside a package which is located inside my project&#39;s java folder (com.example.MYPROJECT). Problem is, that the project is giving errors of &quot;unresolved class&quot; from the xml files of the imported classes. The xml files can&#39;t seem to locate the Java classes inside the package I made to organize them. Should I not place the imported classes in a package? I&#39;m looking for a cleaner solution to my problem..\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.LoginFeature.HomeActivity&quot;&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nIn this case, the package name is &quot;LoginFeature&quot;, and the imported java class is called HomeActivity. The .LoginFeature part is not red, which I assume the context:tools understands that this exists. But the **.HomeActivity** part itself is **red** in tools:context=&quot;.LoginFeature.HomeActivity&quot;","title":"How to target &quot;tools:context&quot; to an activity inside a package of my app in Android Studio?","body":"<p>I imported a set of Java classes and their respective layout xml files into my project in Android Studio, I wanted to organize things so I placed the imported classes inside a package which is located inside my project's java folder (com.example.MYPROJECT). Problem is, that the project is giving errors of &quot;unresolved class&quot; from the xml files of the imported classes. The xml files can't seem to locate the Java classes inside the package I made to organize them. Should I not place the imported classes in a package? I'm looking for a cleaner solution to my problem..</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.LoginFeature.HomeActivity&quot;&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>In this case, the package name is &quot;LoginFeature&quot;, and the imported java class is called HomeActivity. The .LoginFeature part is not red, which I assume the context:tools understands that this exists. But the <strong>.HomeActivity</strong> part itself is <strong>red</strong> in tools:context=&quot;.LoginFeature.HomeActivity&quot;</p>\n"},{"tags":["java","selenium","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1647499093,"post_id":71507887,"comment_id":126387576,"body_markdown":"Can you share that HTML in text format here? Stpes `Press F12 in Chrome -&gt; go to element section -&gt; then right click on the element you want to share the outer HTML - &gt; select copy and then outer HTML`","body":"Can you share that HTML in text format here? Stpes <code>Press F12 in Chrome -&gt; go to element section -&gt; then right click on the element you want to share the outer HTML - &gt; select copy and then outer HTML</code>"},{"owner":{"account_id":13561483,"reputation":45,"user_id":9783025,"display_name":"LaN tHe MaN"},"score":0,"creation_date":1647499224,"post_id":71507887,"comment_id":126387608,"body_markdown":"Please find the below :\nuser@phptravels.com \n\nThe outer xml itself is a text. \n\nThe url is &lt;https://phptravels.com/demo/&gt;\n\nIts an automation practice website, you can have have a look","body":"Please find the below : user@phptravels.com   The outer xml itself is a text.   The url is &lt;<a href=\"https://phptravels.com/demo/\" rel=\"nofollow noreferrer\">phptravels.com/demo</a>&gt;  Its an automation practice website, you can have have a look"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1647500037,"post_id":71507887,"comment_id":126387798,"body_markdown":"do you want to retrieve just `demouser` or `user@phptravels.com` along with `demouser` ?","body":"do you want to retrieve just <code>demouser</code> or <code>user@phptravels.com</code> along with <code>demouser</code> ?"},{"owner":{"account_id":13561483,"reputation":45,"user_id":9783025,"display_name":"LaN tHe MaN"},"score":0,"creation_date":1647501032,"post_id":71507887,"comment_id":126388065,"body_markdown":"I want both user@phptravels.com and demouser in different String variables so I can use them on the next url as inputs for id and password","body":"I want both user@phptravels.com and demouser in different String variables so I can use them on the next url as inputs for id and password"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1647501634,"post_id":71507887,"comment_id":126388229,"body_markdown":"okay for storing into different string variable I have updated my answer below.","body":"okay for storing into different string variable I have updated my answer below."}],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647501561,"creation_date":1647500771,"answer_id":71508250,"question_id":71507887,"body_markdown":"You can use the below xpath:\r\n\r\n    //strong[text()=&#39;Customer&#39;]/../following-sibling::div/descendant::div[starts-with(@class,&#39;col-md-10&#39;)]\r\n\r\nlike this:\r\n\r\n    String gottenText = new WebDriverWait(driver, Duration.ofSeconds(20)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//strong[text()=&#39;Customer&#39;]/../following-sibling::div/descendant::div[@class=&#39;col-md-10&#39;]&quot;))).getAttribute(&quot;innerText&quot;);\r\n\tSystem.out.println(gottenText);\r\n\r\n\r\nthat shall provide the below output:\r\n\r\n\r\n    Email user@phptravels.com\r\n    Password demouser\r\n\r\n\r\n**Update:**\r\n\r\nyou can store them into String variable like below:\r\n\r\n\r\n\r\n    String gottenText = new WebDriverWait(driver, Duration.ofSeconds(20)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//strong[text()=&#39;Customer&#39;]/../following-sibling::div/descendant::div[@class=&#39;col-md-10&#39;]&quot;))).getAttribute(&quot;innerText&quot;);\r\n    String[] arr = gottenText.split(&quot; &quot;);\r\n    String[] userNames = arr[1].split(&quot;\\\\r?\\\\n&quot;);\r\n    String userName = userNames[0];\r\n    String password = arr[2];\r\n        \r\n    System.out.println(userName + &quot; &quot; + password);","title":"Extract Text from Website without any HTML tags with selenium","body":"<p>You can use the below xpath:</p>\n<pre><code>//strong[text()='Customer']/../following-sibling::div/descendant::div[starts-with(@class,'col-md-10')]\n</code></pre>\n<p>like this:</p>\n<pre><code>String gottenText = new WebDriverWait(driver, Duration.ofSeconds(20)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//strong[text()='Customer']/../following-sibling::div/descendant::div[@class='col-md-10']&quot;))).getAttribute(&quot;innerText&quot;);\nSystem.out.println(gottenText);\n</code></pre>\n<p>that shall provide the below output:</p>\n<pre><code>Email user@phptravels.com\nPassword demouser\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>you can store them into String variable like below:</p>\n<pre><code>String gottenText = new WebDriverWait(driver, Duration.ofSeconds(20)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//strong[text()='Customer']/../following-sibling::div/descendant::div[@class='col-md-10']&quot;))).getAttribute(&quot;innerText&quot;);\nString[] arr = gottenText.split(&quot; &quot;);\nString[] userNames = arr[1].split(&quot;\\\\r?\\\\n&quot;);\nString userName = userNames[0];\nString password = arr[2];\n    \nSystem.out.println(userName + &quot; &quot; + password);\n</code></pre>\n"}],"owner":{"account_id":13561483,"reputation":45,"user_id":9783025,"display_name":"LaN tHe MaN"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":482,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71508250,"answer_count":1,"score":1,"last_activity_date":1647501561,"creation_date":1647498527,"question_id":71507887,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Myg2Z.png\r\n\r\nNot able to extract the highlighted text alone as a string with selenium since those two are hardcoded texts without tags, kindly let me know any possiblilities.","title":"Extract Text from Website without any HTML tags with selenium","body":"<p><a href=\"https://i.stack.imgur.com/Myg2Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Myg2Z.png\" alt=\"enter image description here\" /></a></p>\n<p>Not able to extract the highlighted text alone as a string with selenium since those two are hardcoded texts without tags, kindly let me know any possiblilities.</p>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"score":0,"creation_date":1647473931,"post_id":71502454,"comment_id":126383464,"body_markdown":"You should copy the code here, it makes it so much easier to understand and give the right answer. Next time feel free to copy here.","body":"You should copy the code here, it makes it so much easier to understand and give the right answer. Next time feel free to copy here."}],"answers":[{"tags":[],"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647474980,"creation_date":1647474980,"answer_id":71505559,"question_id":71502454,"body_markdown":"Maybe because of language differences I don&#39;t get the problem right I discuss what I&#39;ve found out.\r\n\r\nYou had some kind of seats and viewers/spectators. The seats are placed in rows and columns like a 2D array. You have to iterate over this array and you have problems with it.\r\n\r\nSpeaking about arrays in java, they don&#39;t have `length()` method but `length` field, which can be accessed like `myArray.length`. You can further read about arrays [here][1].\r\n\r\nIn your code you have defined butacas as some kind of `Espectador` object. It looks like `Espectador` doesn&#39;t have the method `getLength()` and neither can be used like an array with the brackets. (For example: `myArray[index]`)  If butacas is some other kind of object, then I cannot tell which method does it have for its length.\r\n\r\nIf butacas is a 2D array, your method should look like this:\r\n```java\r\nstatic void asignarButacaEspectador(String espectador, Espectador[][] butacas) {\r\n    for (int i = 0; i &lt; butacas.length; i++) {\r\n        for (int j = 0; j &lt; butacas[i].length; j++) {\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nAlso please note, that we usually start the variable/parameter names with lowercase letters in java. You can find some basic naming conventions at [Oracle&#39;s site][2].\r\n\r\nIf you have a different data structure for butacas please share it with me. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\r\n  [2]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"The type of the expression must be an array type but it resolved to Espectador","body":"<p>Maybe because of language differences I don't get the problem right I discuss what I've found out.</p>\n<p>You had some kind of seats and viewers/spectators. The seats are placed in rows and columns like a 2D array. You have to iterate over this array and you have problems with it.</p>\n<p>Speaking about arrays in java, they don't have <code>length()</code> method but <code>length</code> field, which can be accessed like <code>myArray.length</code>. You can further read about arrays <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>In your code you have defined butacas as some kind of <code>Espectador</code> object. It looks like <code>Espectador</code> doesn't have the method <code>getLength()</code> and neither can be used like an array with the brackets. (For example: <code>myArray[index]</code>)  If butacas is some other kind of object, then I cannot tell which method does it have for its length.</p>\n<p>If butacas is a 2D array, your method should look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void asignarButacaEspectador(String espectador, Espectador[][] butacas) {\n    for (int i = 0; i &lt; butacas.length; i++) {\n        for (int j = 0; j &lt; butacas[i].length; j++) {\n\n        }\n    }\n}\n</code></pre>\n<p>Also please note, that we usually start the variable/parameter names with lowercase letters in java. You can find some basic naming conventions at <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Oracle's site</a>.</p>\n<p>If you have a different data structure for butacas please share it with me.</p>\n"},{"tags":[],"owner":{"account_id":24470323,"reputation":1,"user_id":18390166,"display_name":"Borjaren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647501472,"creation_date":1647501472,"answer_id":71508351,"question_id":71502454,"body_markdown":"I needed to only use espectador as an attribute and butacas was in the class already therefore I deleted the butacas attribute and ended up with this:\r\n  [1]: https://i.stack.imgur.com/e3ab4.png","title":"The type of the expression must be an array type but it resolved to Espectador","body":"<p>I needed to only use espectador as an attribute and butacas was in the class already therefore I deleted the butacas attribute and ended up with this:\n[1]: <a href=\"https://i.stack.imgur.com/e3ab4.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/e3ab4.png</a></p>\n"}],"owner":{"account_id":24470323,"reputation":1,"user_id":18390166,"display_name":"Borjaren"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647501472,"creation_date":1647454864,"question_id":71502454,"body_markdown":"I&#180;m having problems with this part of the code, but I&#180;m not sure why.\r\nI&#180;m struggling to understand objects, I cant find the error here.\r\n\r\n\r\n[The butacas 2D matrix is created in main.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/alnwJ.png","title":"The type of the expression must be an array type but it resolved to Espectador","body":"<p>I´m having problems with this part of the code, but I´m not sure why.\nI´m struggling to understand objects, I cant find the error here.</p>\n<p><a href=\"https://i.stack.imgur.com/alnwJ.png\" rel=\"nofollow noreferrer\">The butacas 2D matrix is created in main.</a></p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":2258060,"reputation":3689,"user_id":1988798,"accept_rate":83,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647500891,"creation_date":1647500891,"answer_id":71508272,"question_id":71508226,"body_markdown":"From the stacktrace, it seems that template engine is not able to process in for loop:\r\n` ${/EmployeeManagementSystemUsingSpringBoot/src/main/resources/templates/employees.html}`\r\n\r\nSo, it **wanted** to redirect you to configured error page generally hosted at `/error`. \r\n\r\nBut you also don&#39;t have an `/error` request mapping defined, so Spring has to take matters into its own hands and render a default error page.","title":"while running the spring boot application there was an error showing","body":"<p>From the stacktrace, it seems that template engine is not able to process in for loop:\n<code> ${/EmployeeManagementSystemUsingSpringBoot/src/main/resources/templates/employees.html}</code></p>\n<p>So, it <strong>wanted</strong> to redirect you to configured error page generally hosted at <code>/error</code>.</p>\n<p>But you also don't have an <code>/error</code> request mapping defined, so Spring has to take matters into its own hands and render a default error page.</p>\n"}],"owner":{"account_id":22329850,"reputation":1,"user_id":16551256,"display_name":"Krishna "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647500891,"creation_date":1647500651,"question_id":71508226,"body_markdown":"This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\n    Thu Mar 17 12:22:57 IST 2022\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    An error happened during template parsing (template: &quot;class path resource [templates/employees.html]&quot;)\r\n    org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/employees.html]&quot;)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n    \tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: org.attoparser.ParseException: Could not parse as each: &quot; ${/EmployeeManagementSystemUsingSpringBoot/src/main/resources/templates/employees.html}&quot; (template: &quot;employees&quot; - line 58, col 9)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n    \tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n    \t... 48 more\r\n    Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as each: &quot; ${/EmployeeManagementSystemUsingSpringBoot/src/main/resources/templates/employees.html}&quot; (template: &quot;employees&quot; - line 58, col 9)\r\n    \tat org.thymeleaf.standard.expression.EachUtils.parseEach(EachUtils.java:68)\r\n    \tat org.thymeleaf.standard.processor.StandardEachTagProcessor.doProcess(StandardEachTagProcessor.java:59)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n    \tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n    \tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n    \tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\r\n    \tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\r\n    \tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\r\n    \tat org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\r\n    \tat org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\r\n    \tat org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\r\n    \tat org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\r\n    \tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n    \t... 50 more","title":"while running the spring boot application there was an error showing","body":"<p>This application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<pre><code>Thu Mar 17 12:22:57 IST 2022\nThere was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: &quot;class path resource [templates/employees.html]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/employees.html]&quot;)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.attoparser.ParseException: Could not parse as each: &quot; ${/EmployeeManagementSystemUsingSpringBoot/src/main/resources/templates/employees.html}&quot; (template: &quot;employees&quot; - line 58, col 9)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 48 more\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as each: &quot; ${/EmployeeManagementSystemUsingSpringBoot/src/main/resources/templates/employees.html}&quot; (template: &quot;employees&quot; - line 58, col 9)\n    at org.thymeleaf.standard.expression.EachUtils.parseEach(EachUtils.java:68)\n    at org.thymeleaf.standard.processor.StandardEachTagProcessor.doProcess(StandardEachTagProcessor.java:59)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\n    at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\n    at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\n    at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\n    at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 50 more\n</code></pre>\n"},{"tags":["java","android","android-studio","android-recyclerview","android-viewpager"],"comments":[{"owner":{"account_id":982079,"reputation":705,"user_id":1001566,"accept_rate":33,"display_name":"Paulo Coutinho"},"score":0,"creation_date":1618016052,"post_id":63230005,"comment_id":118482754,"body_markdown":"I made a new project that can help everyone that is trying do it: https://github.com/paulo-coutinho/rvplayer","body":"I made a new project that can help everyone that is trying do it: <a href=\"https://github.com/paulo-coutinho/rvplayer\" rel=\"nofollow noreferrer\">github.com/paulo-coutinho/rvplayer</a>"}],"answers":[{"tags":[],"owner":{"account_id":4765705,"reputation":2639,"user_id":4711030,"accept_rate":64,"display_name":"NehaK"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1612099608,"creation_date":1612099608,"answer_id":65979638,"question_id":63230005,"body_markdown":"This code is based on ExoPlayer with RecyclerView : \r\n\r\nhttps://github.com/NehaKushwah993/InstagramVideoFeedClone/blob/main/README.md","title":"How to implement exoplayer with recyclerview and viewpager2?","body":"<p>This code is based on ExoPlayer with RecyclerView :</p>\n<p><a href=\"https://github.com/NehaKushwah993/InstagramVideoFeedClone/blob/main/README.md\" rel=\"nofollow noreferrer\">https://github.com/NehaKushwah993/InstagramVideoFeedClone/blob/main/README.md</a></p>\n"},{"tags":[],"owner":{"account_id":24559488,"reputation":75,"user_id":18467494,"display_name":"Abdullah Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647500870,"creation_date":1647500870,"answer_id":71508269,"question_id":63230005,"body_markdown":"I have already answered it on other question. Please check that implementation where I have integrated **exo player** with **viewpager2** and complete code is available there. Here is the link :\r\n[https://stackoverflow.com/questions/61505255/exoplayer-with-viewpager2-and-recycler-view-adapter][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61505255/exoplayer-with-viewpager2-and-recycler-view-adapter","title":"How to implement exoplayer with recyclerview and viewpager2?","body":"<p>I have already answered it on other question. Please check that implementation where I have integrated <strong>exo player</strong> with <strong>viewpager2</strong> and complete code is available there. Here is the link :\n<a href=\"https://stackoverflow.com/questions/61505255/exoplayer-with-viewpager2-and-recycler-view-adapter\">Exoplayer with Viewpager2 and recycler view adapter</a></p>\n"}],"owner":{"account_id":19066430,"reputation":143,"user_id":13921452,"display_name":"WebDiva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3013,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647500870,"creation_date":1596459906,"question_id":63230005,"body_markdown":"I am creating a video feed and was using the VideoView to preview video in the viewpager2. But because it was slow, I tried to shift to exoplayer. Everything works kind of okay but the problem is that every video in the adapter loads at once and when I swipe from the viewpager, the video does not pause. Here is the code for the adapter:\r\n```\r\npublic class VideosAdapter extends RecyclerView.Adapter&lt;VideosAdapter.VideoViewHolder&gt; {\r\n\r\n    private List&lt;VideoItem&gt; videoItems;\r\n\r\n    public VideosAdapter(List&lt;VideoItem&gt; videoItems) {\r\n        this.videoItems = videoItems;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public VideoViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new VideoViewHolder(\r\n               LayoutInflater.from(parent.getContext()).inflate(\r\n                       R.layout.item_container_video,\r\n                       parent,\r\n                       false\r\n               )\r\n        );\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull VideoViewHolder holder, int position) {\r\n      holder.setVideoData(videoItems.get(position));\r\n    }\r\n\r\n    \r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return videoItems.size();\r\n    }\r\n\r\n\r\n    static class VideoViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        PlayerView playerView;\r\n        TextView video__description;\r\n        ProgressBar videoProgressBar;\r\n        SimpleExoPlayer simpleExoPlayer;\r\n        LoopingMediaSource loopingMediaSource;\r\n        DefaultHttpDataSourceFactory factory;\r\n        ExtractorsFactory extractorsFactory;\r\n        BandwidthMeter bandwidthMeter;\r\n        TrackSelector trackSelector;\r\n\r\n        public VideoViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            playerView = itemView.findViewById(R.id.player__view);\r\n            video__description = itemView.findViewById(R.id.video__description);\r\n            videoProgressBar = itemView.findViewById(R.id.videoLoader);\r\n            factory = new DefaultHttpDataSourceFactory(&quot;exoplayer_video&quot;);\r\n            extractorsFactory = new DefaultExtractorsFactory();\r\n            bandwidthMeter = new DefaultBandwidthMeter();\r\n            trackSelector = new DefaultTrackSelector(\r\n                    new AdaptiveTrackSelection.Factory(bandwidthMeter)\r\n            );\r\n        }\r\n\r\n        void setVideoData(VideoItem videoItem) {\r\n            Uri videoUrl =Uri.parse(videoItem.videoURL);\r\n            simpleExoPlayer = ExoPlayerFactory.newSimpleInstance(videoItem.context, trackSelector);\r\n            MediaSource mediaSource = new ExtractorMediaSource(videoUrl,factory,extractorsFactory,null,null);\r\n            loopingMediaSource = new LoopingMediaSource(mediaSource);\r\n            playerView.setPlayer(simpleExoPlayer);\r\n            playerView.setKeepScreenOn(true);\r\n            simpleExoPlayer.prepare(loopingMediaSource);\r\n            simpleExoPlayer.setPlayWhenReady(true);\r\n            video__description.setText(videoItem.videoDescription);\r\n            simpleExoPlayer.addListener(new Player.DefaultEventListener() {\r\n                @Override\r\n                public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\r\n                    super.onPlayerStateChanged(playWhenReady, playbackState);\r\n                    if(playbackState==Player.STATE_BUFFERING) {\r\n                        videoProgressBar.setVisibility(View.VISIBLE);\r\n                    } else if(playbackState==Player.STATE_READY) {\r\n                        videoProgressBar.setVisibility(View.GONE);\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onPlayerError(ExoPlaybackException error) {\r\n                    super.onPlayerError(error);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```  \r\n\r\nHere is the code for the videoItems Class:\r\n```\r\npublic class VideoItem {\r\n    public String videoURL, videoDescription;\r\n    public Context context;\r\n\r\n    public VideoItem(String videoURL, String videoDescription, Context context) {\r\n        this.videoURL = videoURL;\r\n        this.videoDescription = videoDescription;\r\n        this.context = context;\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the code for setting the adapter:\r\n\r\n```\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        // Inflate the layout for this fragment\r\n        View root = inflater.inflate(R.layout.fragment_first, container, false);\r\n\r\n\r\n        final ViewPager2 videosViewPager = root.findViewById(R.id.videosViewPager);\r\n\r\n            List&lt;VideoItem&gt; videoItems = new ArrayList&lt;&gt;();\r\n\r\nVideoItem videoItemFirst = new VideoItem(&quot;https://www.infinityandroid.com/videos/video1.mp4&quot;,&quot;Hello World&quot;, requireActivity().getApplicationContext());\r\n            videoItems.add(videoItemFirst);\r\n\r\n            VideoItem videoItemSecond = new VideoItem(&quot;https://www.infinityandroid.com/videos/video2.mp4&quot;,&quot;Hello World&quot;, requireActivity().getApplicationContext());\r\n            videoItems.add(videoItemSecond);\r\n\r\n            VideoItem videoItemThird = new VideoItem(&quot;https://www.infinityandroid.com/videos/video3.mp4&quot;,&quot;Hello World&quot;, requireActivity().getApplicationContext());\r\n            videoItems.add(videoItemThird);\r\n\r\nvideosViewPager.setAdapter(new VideosAdapter(videoItems));\r\n\r\n\r\nreturn root;\r\n}\r\n\r\n```\r\n\r\nHere is the layout file:\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    tools:context=&quot;.fragments.firstFragment&quot;\r\n    &gt;\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/videosViewPager&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;parent&quot;\r\n         /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\nIt seems to be loading all the videos at once when the fragment is loaded and when I swipe to get to the next video, the previous video does not get paused. How to fix this? Is there a better method? Hope you will answer.","title":"How to implement exoplayer with recyclerview and viewpager2?","body":"<p>I am creating a video feed and was using the VideoView to preview video in the viewpager2. But because it was slow, I tried to shift to exoplayer. Everything works kind of okay but the problem is that every video in the adapter loads at once and when I swipe from the viewpager, the video does not pause. Here is the code for the adapter:</p>\n<pre><code>public class VideosAdapter extends RecyclerView.Adapter&lt;VideosAdapter.VideoViewHolder&gt; {\n\n    private List&lt;VideoItem&gt; videoItems;\n\n    public VideosAdapter(List&lt;VideoItem&gt; videoItems) {\n        this.videoItems = videoItems;\n    }\n\n    @NonNull\n    @Override\n    public VideoViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new VideoViewHolder(\n               LayoutInflater.from(parent.getContext()).inflate(\n                       R.layout.item_container_video,\n                       parent,\n                       false\n               )\n        );\n    }\n\n\n\n    @Override\n    public void onBindViewHolder(@NonNull VideoViewHolder holder, int position) {\n      holder.setVideoData(videoItems.get(position));\n    }\n\n    \n\n    @Override\n    public int getItemCount() {\n        return videoItems.size();\n    }\n\n\n    static class VideoViewHolder extends RecyclerView.ViewHolder {\n\n        PlayerView playerView;\n        TextView video__description;\n        ProgressBar videoProgressBar;\n        SimpleExoPlayer simpleExoPlayer;\n        LoopingMediaSource loopingMediaSource;\n        DefaultHttpDataSourceFactory factory;\n        ExtractorsFactory extractorsFactory;\n        BandwidthMeter bandwidthMeter;\n        TrackSelector trackSelector;\n\n        public VideoViewHolder(@NonNull View itemView) {\n            super(itemView);\n            playerView = itemView.findViewById(R.id.player__view);\n            video__description = itemView.findViewById(R.id.video__description);\n            videoProgressBar = itemView.findViewById(R.id.videoLoader);\n            factory = new DefaultHttpDataSourceFactory(&quot;exoplayer_video&quot;);\n            extractorsFactory = new DefaultExtractorsFactory();\n            bandwidthMeter = new DefaultBandwidthMeter();\n            trackSelector = new DefaultTrackSelector(\n                    new AdaptiveTrackSelection.Factory(bandwidthMeter)\n            );\n        }\n\n        void setVideoData(VideoItem videoItem) {\n            Uri videoUrl =Uri.parse(videoItem.videoURL);\n            simpleExoPlayer = ExoPlayerFactory.newSimpleInstance(videoItem.context, trackSelector);\n            MediaSource mediaSource = new ExtractorMediaSource(videoUrl,factory,extractorsFactory,null,null);\n            loopingMediaSource = new LoopingMediaSource(mediaSource);\n            playerView.setPlayer(simpleExoPlayer);\n            playerView.setKeepScreenOn(true);\n            simpleExoPlayer.prepare(loopingMediaSource);\n            simpleExoPlayer.setPlayWhenReady(true);\n            video__description.setText(videoItem.videoDescription);\n            simpleExoPlayer.addListener(new Player.DefaultEventListener() {\n                @Override\n                public void onPlayerStateChanged(boolean playWhenReady, int playbackState) {\n                    super.onPlayerStateChanged(playWhenReady, playbackState);\n                    if(playbackState==Player.STATE_BUFFERING) {\n                        videoProgressBar.setVisibility(View.VISIBLE);\n                    } else if(playbackState==Player.STATE_READY) {\n                        videoProgressBar.setVisibility(View.GONE);\n                    }\n                }\n\n                @Override\n                public void onPlayerError(ExoPlaybackException error) {\n                    super.onPlayerError(error);\n                }\n            });\n        }\n    }\n}\n\n\n</code></pre>\n<p>Here is the code for the videoItems Class:</p>\n<pre><code>public class VideoItem {\n    public String videoURL, videoDescription;\n    public Context context;\n\n    public VideoItem(String videoURL, String videoDescription, Context context) {\n        this.videoURL = videoURL;\n        this.videoDescription = videoDescription;\n        this.context = context;\n    }\n}\n</code></pre>\n<p>And here is the code for setting the adapter:</p>\n<pre><code>public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        // Inflate the layout for this fragment\n        View root = inflater.inflate(R.layout.fragment_first, container, false);\n\n\n        final ViewPager2 videosViewPager = root.findViewById(R.id.videosViewPager);\n\n            List&lt;VideoItem&gt; videoItems = new ArrayList&lt;&gt;();\n\nVideoItem videoItemFirst = new VideoItem(&quot;https://www.infinityandroid.com/videos/video1.mp4&quot;,&quot;Hello World&quot;, requireActivity().getApplicationContext());\n            videoItems.add(videoItemFirst);\n\n            VideoItem videoItemSecond = new VideoItem(&quot;https://www.infinityandroid.com/videos/video2.mp4&quot;,&quot;Hello World&quot;, requireActivity().getApplicationContext());\n            videoItems.add(videoItemSecond);\n\n            VideoItem videoItemThird = new VideoItem(&quot;https://www.infinityandroid.com/videos/video3.mp4&quot;,&quot;Hello World&quot;, requireActivity().getApplicationContext());\n            videoItems.add(videoItemThird);\n\nvideosViewPager.setAdapter(new VideosAdapter(videoItems));\n\n\nreturn root;\n}\n\n</code></pre>\n<p>Here is the layout file:</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    tools:context=&quot;.fragments.firstFragment&quot;\n    &gt;\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/videosViewPager&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;parent&quot;\n         /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>It seems to be loading all the videos at once when the fragment is loaded and when I swipe to get to the next video, the previous video does not get paused. How to fix this? Is there a better method? Hope you will answer.</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":3950689,"reputation":187,"user_id":3261220,"accept_rate":20,"display_name":"Surendheran"},"score":1,"creation_date":1409107623,"post_id":1181969,"comment_id":39837430,"body_markdown":"Instead of this you can get using substring and indexof.","body":"Instead of this you can get using substring and indexof."},{"owner":{"account_id":4489466,"reputation":541,"user_id":3650944,"accept_rate":92,"display_name":"Adam Jensen"},"score":0,"creation_date":1409111974,"post_id":1181969,"comment_id":39838242,"body_markdown":"@SurendarKannan The top voted answer has an example of that, with lastIndexOf.","body":"@SurendarKannan The top voted answer has an example of that, with lastIndexOf."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":208,"is_accepted":true,"score":207,"last_activity_date":1579249958,"creation_date":1248523398,"answer_id":1181972,"question_id":1181969,"body_markdown":"Save the array in a local variable and use the array&#39;s `length` field to find its length. Subtract one to account for it being 0-based:\r\n\r\n    String[] bits = one.split(&quot;-&quot;);\r\n    String lastOne = bits[bits.length-1];\r\n\r\nCaveat emptor: if the original string is composed of only the separator, for example `&quot;-&quot;` or `&quot;---&quot;`, `bits.length` will be 0 and this will throw an ArrayIndexOutOfBoundsException. Example: https://onlinegdb.com/r1M-TJkZ8","title":"Java: Get last element after split","body":"<p>Save the array in a local variable and use the array's <code>length</code> field to find its length. Subtract one to account for it being 0-based:</p>\n\n<pre><code>String[] bits = one.split(\"-\");\nString lastOne = bits[bits.length-1];\n</code></pre>\n\n<p>Caveat emptor: if the original string is composed of only the separator, for example <code>\"-\"</code> or <code>\"---\"</code>, <code>bits.length</code> will be 0 and this will throw an ArrayIndexOutOfBoundsException. Example: <a href=\"https://onlinegdb.com/r1M-TJkZ8\" rel=\"noreferrer\">https://onlinegdb.com/r1M-TJkZ8</a></p>\n"},{"tags":[],"owner":{"account_id":48300,"reputation":24071,"user_id":143473,"accept_rate":56,"display_name":"Sean A.O. Harney"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1248524741,"creation_date":1248523488,"answer_id":1181975,"question_id":1181969,"body_markdown":"You mean you don&#39;t know the sizes of the arrays at compile-time? At run-time they could be found by the value of `lastone.length` and `lastwo.length` .","title":"Java: Get last element after split","body":"<p>You mean you don't know the sizes of the arrays at compile-time? At run-time they could be found by the value of <code>lastone.length</code> and <code>lastwo.length</code> .</p>\n"},{"tags":[],"owner":{"account_id":21918,"reputation":9785,"user_id":53658,"accept_rate":80,"display_name":"Denis Bazhenov"},"down_vote_count":1,"up_vote_count":323,"is_accepted":false,"score":322,"last_activity_date":1647500049,"creation_date":1248523532,"answer_id":1181976,"question_id":1181969,"body_markdown":"You could use `lastIndexOf()` method on String\r\n\r\n    String last = string.substring(string.lastIndexOf(&#39;-&#39;) + 1);","title":"Java: Get last element after split","body":"<p>You could use <code>lastIndexOf()</code> method on String</p>\n<pre><code>String last = string.substring(string.lastIndexOf('-') + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1248524763,"creation_date":1248523624,"answer_id":1181979,"question_id":1181969,"body_markdown":"using a simple, yet generic, helper method like this:\r\n\r\n    public static &lt;T&gt; T last(T[] array) {\r\n        return array[array.length - 1];\r\n    }\r\n\r\nyou can rewrite:\r\n\r\n    lastone = one.split(&quot;-&quot;)[..];\r\n\r\nas:\r\n\r\n    lastone = last(one.split(&quot;-&quot;));\r\n\r\n","title":"Java: Get last element after split","body":"<p>using a simple, yet generic, helper method like this:</p>\n\n<pre><code>public static &lt;T&gt; T last(T[] array) {\n    return array[array.length - 1];\n}\n</code></pre>\n\n<p>you can rewrite:</p>\n\n<pre><code>lastone = one.split(\"-\")[..];\n</code></pre>\n\n<p>as:</p>\n\n<pre><code>lastone = last(one.split(\"-\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3809070,"reputation":18333,"user_id":3160597,"accept_rate":47,"display_name":"azerafati"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1390812226,"creation_date":1390812226,"answer_id":21376305,"question_id":1181969,"body_markdown":"Since he was asking to do it all in the same line using split so i suggest this:\r\n\r\n    lastone = one.split(&quot;-&quot;)[(one.split(&quot;-&quot;)).length -1]  \r\n\r\n\r\nI always avoid defining new variables as far as I can, and I find it a very good practice","title":"Java: Get last element after split","body":"<p>Since he was asking to do it all in the same line using split so i suggest this:</p>\n\n<pre><code>lastone = one.split(\"-\")[(one.split(\"-\")).length -1]  \n</code></pre>\n\n<p>I always avoid defining new variables as far as I can, and I find it a very good practice</p>\n"},{"tags":[],"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1502263376,"creation_date":1397540277,"answer_id":23075419,"question_id":1181969,"body_markdown":"    String str = &quot;www.anywebsite.com/folder/subfolder/directory&quot;;\r\n    int index = str.lastIndexOf(&#39;/&#39;);\r\n    String lastString = str.substring(index +1);\r\n\r\nNow `lastString` has the value `&quot;directory&quot;`","title":"Java: Get last element after split","body":"<pre><code>String str = \"www.anywebsite.com/folder/subfolder/directory\";\nint index = str.lastIndexOf('/');\nString lastString = str.substring(index +1);\n</code></pre>\n\n<p>Now <code>lastString</code> has the value <code>\"directory\"</code></p>\n"},{"tags":[],"owner":{"account_id":449171,"reputation":28526,"user_id":843804,"accept_rate":89,"display_name":"palacsint"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1403810949,"creation_date":1403810949,"answer_id":24438645,"question_id":1181969,"body_markdown":"With [Guava][guava]:\r\n\r\n    final Splitter splitter = Splitter.on(&quot;-&quot;).trimResults();\r\n    assertEquals(&quot;G&#252;nnewig Uebachs&quot;, Iterables.getLast(splitter.split(one)));\r\n    assertEquals(&quot;Madison&quot;, Iterables.getLast(splitter.split(two)));\r\n\r\n\r\n[`Splitter`][splitter], [`Iterables`][iterables]\r\n\r\n[guava]: https://code.google.com/p/guava-libraries/\r\n[splitter]: http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/base/Splitter.html\r\n[iterables]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Iterables.html","title":"Java: Get last element after split","body":"<p>With <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Guava</a>:</p>\n\n<pre><code>final Splitter splitter = Splitter.on(\"-\").trimResults();\nassertEquals(\"Günnewig Uebachs\", Iterables.getLast(splitter.split(one)));\nassertEquals(\"Madison\", Iterables.getLast(splitter.split(two)));\n</code></pre>\n\n<p><a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/base/Splitter.html\" rel=\"noreferrer\"><code>Splitter</code></a>, <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Iterables.html\" rel=\"noreferrer\"><code>Iterables</code></a></p>\n"},{"tags":[],"owner":{"account_id":5309422,"reputation":649,"user_id":4236274,"display_name":"Ranosama"},"down_vote_count":1,"up_vote_count":54,"is_accepted":false,"score":53,"last_activity_date":1493816356,"creation_date":1493715775,"answer_id":43733970,"question_id":1181969,"body_markdown":"You can use the [StringUtils](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#substringAfterLast-java.lang.String-java.lang.String-) class in Apache Commons: \r\n \r\n    StringUtils.substringAfterLast(one, &quot;-&quot;);\r\n","title":"Java: Get last element after split","body":"<p>You can use the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#substringAfterLast-java.lang.String-java.lang.String-\" rel=\"noreferrer\">StringUtils</a> class in Apache Commons: </p>\n\n<pre><code>StringUtils.substringAfterLast(one, \"-\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3956750,"reputation":902,"user_id":3983004,"accept_rate":67,"display_name":"irJvV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512641112,"creation_date":1512639172,"answer_id":47691787,"question_id":1181969,"body_markdown":"I guess you want to do this in i line. It is possible (a bit of juggling though  =^)\r\n\r\n    new StringBuilder(new StringBuilder(&quot;D&#252;sseldorf - Zentrum - G&#252;nnewig Uebachs&quot;).reverse().toString().split(&quot; - &quot;)[0]).reverse()\r\n\r\ntadaa, one line -&gt; the result you want (if you split on &quot; - &quot; (space minus space) instead of only &quot;-&quot; (minus) you will loose the annoying space before the partition too =^) so &quot;G&#252;nnewig Uebachs&quot; instead of &quot; G&#252;nnewig Uebachs&quot; (with a space as first character)\r\n\r\nNice extra -&gt; no need for extra JAR files in the lib folder so you can keep your application light weight.","title":"Java: Get last element after split","body":"<p>I guess you want to do this in i line. It is possible (a bit of juggling though  =^)</p>\n\n<pre><code>new StringBuilder(new StringBuilder(\"Düsseldorf - Zentrum - Günnewig Uebachs\").reverse().toString().split(\" - \")[0]).reverse()\n</code></pre>\n\n<p>tadaa, one line -> the result you want (if you split on \" - \" (space minus space) instead of only \"-\" (minus) you will loose the annoying space before the partition too =^) so \"Günnewig Uebachs\" instead of \" Günnewig Uebachs\" (with a space as first character)</p>\n\n<p>Nice extra -> no need for extra JAR files in the lib folder so you can keep your application light weight.</p>\n"},{"tags":[],"owner":{"account_id":2029211,"reputation":41,"user_id":1813422,"display_name":"Maxim Sidorov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1515600193,"creation_date":1515600193,"answer_id":48191463,"question_id":1181969,"body_markdown":"Also you can use [`java.util.ArrayDeque`][1]\r\n\r\n    String last = new ArrayDeque&lt;&gt;(Arrays.asList(&quot;1-2&quot;.split(&quot;-&quot;))).getLast();\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/java/util/java_util_arraydeque.htm","title":"Java: Get last element after split","body":"<p>Also you can use <a href=\"https://www.tutorialspoint.com/java/util/java_util_arraydeque.htm\" rel=\"nofollow noreferrer\"><code>java.util.ArrayDeque</code></a></p>\n\n<pre><code>String last = new ArrayDeque&lt;&gt;(Arrays.asList(\"1-2\".split(\"-\"))).getLast();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1516602192,"creation_date":1516602192,"answer_id":48375691,"question_id":1181969,"body_markdown":"In java 8 \r\n\r\n\r\n    String lastItem = Stream.of(str.split(&quot;-&quot;)).reduce((first,last)-&gt;last).get();","title":"Java: Get last element after split","body":"<p>In java 8 </p>\n\n<pre><code>String lastItem = Stream.of(str.split(\"-\")).reduce((first,last)-&gt;last).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1520507026,"creation_date":1520507026,"answer_id":49171551,"question_id":1181969,"body_markdown":"Gathered all possible ways together!!\r\n\r\n-----\r\n\r\nBy using `lastIndexOf()` &amp; `substring()` methods of [`Java.lang.String`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html)\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\t// int firstIndex = str.indexOf( separator );\r\n\tint lastIndexOf = str.lastIndexOf( separator );\r\n\tString begningPortion = str.substring( 0, lastIndexOf );\r\n\tString endPortion = str.substring( lastIndexOf + 1 );\r\n\tSystem.out.println(&quot;First Portion : &quot; + begningPortion );\r\n\tSystem.out.println(&quot;Last  Portion : &quot; + endPortion );\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n-----\r\n\r\n`split()`&lt;sup&gt;_[Java SE 1.4](https://docs.oracle.com/javase/8/docs/technotes/guides/lang/enhancements.html#jdk1.4)_&lt;/sup&gt;. Splits the provided text into an array.\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\tString[] split = str.split( Pattern.quote( separator ) );\r\n\tString lastOne = split[split.length-1];\r\n\tSystem.out.println(&quot;Split Array : &quot;+ lastOne);\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n * [How to split String before first comma?](https://stackoverflow.com/a/47590792/5081877)\r\n\r\n---\r\n\r\nJava 8 sequential ordered [**stream**](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html) from an array.\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\tString firstItem = Stream.of( split )\r\n\t\t\t\t\t\t\t .reduce( (first,last) -&gt; first ).get();\r\n\tString lastItem = Stream.of( split )\r\n\t\t\t\t\t\t\t.reduce( (first,last) -&gt; last ).get();\r\n\tSystem.out.println(&quot;First Item : &quot;+ firstItem);\r\n\tSystem.out.println(&quot;Last  Item : &quot;+ lastItem);\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n---\r\n\r\nApache Commons Lang&lt;sup&gt;[jar](https://mvnrepository.com/artifact/org.apache.commons/commons-lang3)&lt;/sup&gt; &#171; [`org.apache.commons.lang3.StringUtils`](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html)\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\tString afterLast = StringUtils.substringAfterLast(str, separator);\r\n\tSystem.out.println(&quot;StringUtils AfterLast : &quot;+ afterLast);\r\n\t\r\n\tString beforeLast = StringUtils.substringBeforeLast(str, separator);\r\n\tSystem.out.println(&quot;StringUtils BeforeLast : &quot;+ beforeLast);\r\n\t\r\n\tString open = &quot;[&quot;, close = &quot;]&quot;;\r\n\tString[] groups = StringUtils.substringsBetween(&quot;Yash[777]Sam[7]&quot;, open, close);\r\n\tSystem.out.println(&quot;String that is nested in between two Strings &quot;+ groups[0]);\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n---\r\n\r\n[**`Guava`**](https://github.com/google/guava): Google Core Libraries for Java. &#171; com.google.common.base.Splitter\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\tSplitter splitter = Splitter.on( separator ).trimResults();\r\n\tIterable&lt;String&gt; iterable = splitter.split( str );\r\n\tString first_Iterable = Iterables.getFirst(iterable, &quot;&quot;);\r\n\tString last_Iterable = Iterables.getLast( iterable );\r\n\tSystem.out.println(&quot; Guava FirstElement : &quot;+ first_Iterable);\r\n\tSystem.out.println(&quot; Guava LastElement  : &quot;+ last_Iterable);\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n---\r\n\r\n[Scripting for the Java Platform](https://docs.oracle.com/javase/8/docs/technotes/guides/scripting/) &#171; Run Javascript on the JVM with Rhino/Nashorn\r\n\r\n * [Rhino](https://developer.mozilla.org/en-US/docs/Mozilla/Projects/Rhino) &#171; Rhino is an open-source implementation of JavaScript written entirely in Java. It is typically embedded into Java applications to provide scripting to end users. It is embedded in J2SE 6 as the default Java scripting engine.\r\n \r\n * Nashorn is a JavaScript engine developed in the Java programming language by Oracle. It is based on the Da Vinci Machine and has been released with Java 8.\r\n\r\nJava Scripting [Programmer&#39;s Guide](https://docs.oracle.com/javase/6/docs/technotes/guides/scripting/programmer_guide/index.html)\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\tpublic class SplitOperations {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString str = &quot;my.file.png.jpeg&quot;, separator = &quot;.&quot;;\r\n\t\t\tjavascript_Split(str, separator);\r\n\t\t}\r\n\t\tpublic static void javascript_Split( String str, String separator ) {\r\n\t\t\tScriptEngineManager manager = new ScriptEngineManager();\r\n\t\t\tScriptEngine engine = manager.getEngineByName(&quot;JavaScript&quot;);\r\n\t\t\t\r\n\t\t\t// Script Variables &#171; expose java objects as variable to script.\r\n\t\t\tengine.put(&quot;strJS&quot;, str);\r\n\t\t\t\r\n\t\t\t// JavaScript code from file\r\n\t\t\tFile file = new File(&quot;E:/StringSplit.js&quot;);\r\n\t\t\t// expose File object as variable to script\r\n\t\t\tengine.put(&quot;file&quot;, file);\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tengine.eval(&quot;print(&#39;Script Variables &#171; expose java objects as variable to script.&#39;, strJS)&quot;);\r\n\t\t\t\t\r\n\t\t\t\t// javax.script.Invocable is an optional interface.\r\n\t\t\t\tInvocable inv = (Invocable) engine;\r\n\t\t\t\t\r\n\t\t\t\t// JavaScript code in a String\r\n\t\t\t\tString functions = &quot;function functionName( functionParam ) { print(&#39;Hello, &#39; + functionParam); }&quot;;\r\n\t\t\t\tengine.eval(functions);\r\n\t\t\t\t// invoke the global function named &quot;functionName&quot;\r\n\t\t\t\tinv.invokeFunction(&quot;functionName&quot;, &quot;function Param value!!&quot; );\r\n\t\t\t\t\r\n\t\t\t\t// evaluate a script string. The script accesses &quot;file&quot; variable and calls method on it\r\n\t\t\t\tengine.eval(&quot;print(file.getAbsolutePath())&quot;);\r\n\t\t\t\t// evaluate JavaScript code from given file - specified by first argument\r\n\t\t\t\tengine.eval( new java.io.FileReader( file ) );\r\n\t\t\t\t\r\n\t\t\t\tString[] typedArray = (String[]) inv.invokeFunction(&quot;splitasJavaArray&quot;, str );\r\n\t\t\t\tSystem.out.println(&quot;File : Function returns an array : &quot;+ typedArray[1] );\r\n\t\t\t\t\r\n\t\t\t\tScriptObjectMirror scriptObject = (ScriptObjectMirror) inv.invokeFunction(&quot;splitasJavaScriptArray&quot;, str, separator );\r\n\t\t\t\tSystem.out.println(&quot;File : Function return script obj : &quot;+ convert( scriptObject ) );\r\n\t\t\t\t\r\n\t\t\t\tObject eval = engine.eval(&quot;(function() {return [&#39;a&#39;, &#39;b&#39;];})()&quot;);\r\n\t\t\t\tObject result = convert(eval);\r\n\t\t\t\tSystem.out.println(&quot;Result: {}&quot;+ result);\r\n\t\t\t\t\r\n\t\t\t\t// JavaScript code in a String. This code defines a script object &#39;obj&#39; with one method called &#39;hello&#39;.\r\n\t\t\t\tString objectFunction = &quot;var obj = new Object(); obj.hello = function(name) { print(&#39;Hello, &#39; + name); }&quot;;\r\n\t\t\t\tengine.eval(objectFunction);\r\n\t\t\t\t// get script object on which we want to call the method\r\n\t\t\t\tObject object = engine.get(&quot;obj&quot;);\r\n\t\t\t\tinv.invokeMethod(object, &quot;hello&quot;, &quot;Yash !!&quot; );\r\n\t\t\t\t\r\n\t\t\t\tObject fileObjectFunction = engine.get(&quot;objfile&quot;);\r\n\t\t\t\tinv.invokeMethod(fileObjectFunction, &quot;hello&quot;, &quot;Yashwanth !!&quot; );\r\n\t\t\t} catch (ScriptException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (NoSuchMethodException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static Object convert(final Object obj) {\r\n\t\t\tSystem.out.println(&quot;\\tJAVASCRIPT OBJECT: {}&quot;+ obj.getClass());\r\n\t\t\tif (obj instanceof Bindings) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfinal Class&lt;?&gt; cls = Class.forName(&quot;jdk.nashorn.api.scripting.ScriptObjectMirror&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;\\tNashorn detected&quot;);\r\n\t\t\t\t\tif (cls.isAssignableFrom(obj.getClass())) {\r\n\t\t\t\t\t\tfinal Method isArray = cls.getMethod(&quot;isArray&quot;);\r\n\t\t\t\t\t\tfinal Object result = isArray.invoke(obj);\r\n\t\t\t\t\t\tif (result != null &amp;&amp; result.equals(true)) {\r\n\t\t\t\t\t\t\tfinal Method values = cls.getMethod(&quot;values&quot;);\r\n\t\t\t\t\t\t\tfinal Object vals = values.invoke(obj);\r\n\t\t\t\t\t\t\tSystem.err.println( vals );\r\n\t\t\t\t\t\t\tif (vals instanceof Collection&lt;?&gt;) {\r\n\t\t\t\t\t\t\t\tfinal Collection&lt;?&gt; coll = (Collection&lt;?&gt;) vals;\r\n\t\t\t\t\t\t\t\tObject[] array = coll.toArray(new Object[0]);\r\n\t\t\t\t\t\t\t\treturn array;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (ClassNotFoundException | NoSuchMethodException | SecurityException\r\n\t\t\t\t\t\t| IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (obj instanceof List&lt;?&gt;) {\r\n\t\t\t\tfinal List&lt;?&gt; list = (List&lt;?&gt;) obj;\r\n\t\t\t\tObject[] array = list.toArray(new Object[0]);\r\n\t\t\t\treturn array;\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t}\r\n\t}\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\nJavaScript file &#171; `StringSplit.js`\r\n\r\n&lt;!-- language-all: lang-js --&gt;\r\n\r\n\t// var str = &#39;angular.1.5.6.js&#39;, separator = &quot;.&quot;;\r\n\tfunction splitasJavaArray( str ) {\r\n\t  var result = str.replace(/\\.([^.]+)$/, &#39;:$1&#39;).split(&#39;:&#39;);\r\n\t  print(&#39;Regex Split : &#39;, result);\r\n\t  var JavaArray = Java.to(result, &quot;java.lang.String[]&quot;);\r\n\t  return JavaArray;\r\n\t  // return result;\r\n\t}\r\n\tfunction splitasJavaScriptArray( str, separator) {\r\n\t\tvar arr = str.split( separator ); // Split the string using dot as separator\r\n\t\tvar lastVal = arr.pop(); // remove from the end\r\n\t\tvar firstVal = arr.shift(); // remove from the front\r\n\t\tvar middleVal = arr.join( separator ); // Re-join the remaining substrings\r\n\r\n\t\tvar mainArr = new Array();\r\n\t\tmainArr.push( firstVal ); // add to the end\r\n\t\tmainArr.push( middleVal );\r\n\t\tmainArr.push( lastVal );\r\n\t\t\r\n\t\treturn mainArr;\r\n\t}\r\n\r\n\tvar objfile = new Object();\r\n\tobjfile.hello = function(name) { print(&#39;File : Hello, &#39; + name); }\r\n\r\n&lt;!-- language-all: lang-js --&gt;\r\n\r\n * JavaScript [Array constructor or array literal](https://stackoverflow.com/a/37134649/5081877).","title":"Java: Get last element after split","body":"<p>Gathered all possible ways together!!</p>\n\n<hr>\n\n<p>By using <code>lastIndexOf()</code> &amp; <code>substring()</code> methods of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"noreferrer\"><code>Java.lang.String</code></a></p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>// int firstIndex = str.indexOf( separator );\nint lastIndexOf = str.lastIndexOf( separator );\nString begningPortion = str.substring( 0, lastIndexOf );\nString endPortion = str.substring( lastIndexOf + 1 );\nSystem.out.println(\"First Portion : \" + begningPortion );\nSystem.out.println(\"Last  Portion : \" + endPortion );\n</code></pre>\n\n\n\n<hr>\n\n<p><code>split()</code><sup><em><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/lang/enhancements.html#jdk1.4\" rel=\"noreferrer\">Java SE 1.4</a></em></sup>. Splits the provided text into an array.</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>String[] split = str.split( Pattern.quote( separator ) );\nString lastOne = split[split.length-1];\nSystem.out.println(\"Split Array : \"+ lastOne);\n</code></pre>\n\n\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/47590792/5081877\">How to split String before first comma?</a></li>\n</ul>\n\n<hr>\n\n<p>Java 8 sequential ordered <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"noreferrer\"><strong>stream</strong></a> from an array.</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>String firstItem = Stream.of( split )\n                         .reduce( (first,last) -&gt; first ).get();\nString lastItem = Stream.of( split )\n                        .reduce( (first,last) -&gt; last ).get();\nSystem.out.println(\"First Item : \"+ firstItem);\nSystem.out.println(\"Last  Item : \"+ lastItem);\n</code></pre>\n\n\n\n<hr>\n\n<p>Apache Commons Lang<sup><a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-lang3\" rel=\"noreferrer\">jar</a></sup> « <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"noreferrer\"><code>org.apache.commons.lang3.StringUtils</code></a></p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>String afterLast = StringUtils.substringAfterLast(str, separator);\nSystem.out.println(\"StringUtils AfterLast : \"+ afterLast);\n\nString beforeLast = StringUtils.substringBeforeLast(str, separator);\nSystem.out.println(\"StringUtils BeforeLast : \"+ beforeLast);\n\nString open = \"[\", close = \"]\";\nString[] groups = StringUtils.substringsBetween(\"Yash[777]Sam[7]\", open, close);\nSystem.out.println(\"String that is nested in between two Strings \"+ groups[0]);\n</code></pre>\n\n\n\n<hr>\n\n<p><a href=\"https://github.com/google/guava\" rel=\"noreferrer\"><strong><code>Guava</code></strong></a>: Google Core Libraries for Java. « com.google.common.base.Splitter</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>Splitter splitter = Splitter.on( separator ).trimResults();\nIterable&lt;String&gt; iterable = splitter.split( str );\nString first_Iterable = Iterables.getFirst(iterable, \"\");\nString last_Iterable = Iterables.getLast( iterable );\nSystem.out.println(\" Guava FirstElement : \"+ first_Iterable);\nSystem.out.println(\" Guava LastElement  : \"+ last_Iterable);\n</code></pre>\n\n\n\n<hr>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/scripting/\" rel=\"noreferrer\">Scripting for the Java Platform</a> « Run Javascript on the JVM with Rhino/Nashorn</p>\n\n<ul>\n<li><p><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Projects/Rhino\" rel=\"noreferrer\">Rhino</a> « Rhino is an open-source implementation of JavaScript written entirely in Java. It is typically embedded into Java applications to provide scripting to end users. It is embedded in J2SE 6 as the default Java scripting engine.</p></li>\n<li><p>Nashorn is a JavaScript engine developed in the Java programming language by Oracle. It is based on the Da Vinci Machine and has been released with Java 8.</p></li>\n</ul>\n\n<p>Java Scripting <a href=\"https://docs.oracle.com/javase/6/docs/technotes/guides/scripting/programmer_guide/index.html\" rel=\"noreferrer\">Programmer's Guide</a></p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SplitOperations {\n    public static void main(String[] args) {\n        String str = \"my.file.png.jpeg\", separator = \".\";\n        javascript_Split(str, separator);\n    }\n    public static void javascript_Split( String str, String separator ) {\n        ScriptEngineManager manager = new ScriptEngineManager();\n        ScriptEngine engine = manager.getEngineByName(\"JavaScript\");\n\n        // Script Variables « expose java objects as variable to script.\n        engine.put(\"strJS\", str);\n\n        // JavaScript code from file\n        File file = new File(\"E:/StringSplit.js\");\n        // expose File object as variable to script\n        engine.put(\"file\", file);\n\n        try {\n            engine.eval(\"print('Script Variables « expose java objects as variable to script.', strJS)\");\n\n            // javax.script.Invocable is an optional interface.\n            Invocable inv = (Invocable) engine;\n\n            // JavaScript code in a String\n            String functions = \"function functionName( functionParam ) { print('Hello, ' + functionParam); }\";\n            engine.eval(functions);\n            // invoke the global function named \"functionName\"\n            inv.invokeFunction(\"functionName\", \"function Param value!!\" );\n\n            // evaluate a script string. The script accesses \"file\" variable and calls method on it\n            engine.eval(\"print(file.getAbsolutePath())\");\n            // evaluate JavaScript code from given file - specified by first argument\n            engine.eval( new java.io.FileReader( file ) );\n\n            String[] typedArray = (String[]) inv.invokeFunction(\"splitasJavaArray\", str );\n            System.out.println(\"File : Function returns an array : \"+ typedArray[1] );\n\n            ScriptObjectMirror scriptObject = (ScriptObjectMirror) inv.invokeFunction(\"splitasJavaScriptArray\", str, separator );\n            System.out.println(\"File : Function return script obj : \"+ convert( scriptObject ) );\n\n            Object eval = engine.eval(\"(function() {return ['a', 'b'];})()\");\n            Object result = convert(eval);\n            System.out.println(\"Result: {}\"+ result);\n\n            // JavaScript code in a String. This code defines a script object 'obj' with one method called 'hello'.\n            String objectFunction = \"var obj = new Object(); obj.hello = function(name) { print('Hello, ' + name); }\";\n            engine.eval(objectFunction);\n            // get script object on which we want to call the method\n            Object object = engine.get(\"obj\");\n            inv.invokeMethod(object, \"hello\", \"Yash !!\" );\n\n            Object fileObjectFunction = engine.get(\"objfile\");\n            inv.invokeMethod(fileObjectFunction, \"hello\", \"Yashwanth !!\" );\n        } catch (ScriptException e) {\n            e.printStackTrace();\n        } catch (NoSuchMethodException e) {\n            e.printStackTrace();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static Object convert(final Object obj) {\n        System.out.println(\"\\tJAVASCRIPT OBJECT: {}\"+ obj.getClass());\n        if (obj instanceof Bindings) {\n            try {\n                final Class&lt;?&gt; cls = Class.forName(\"jdk.nashorn.api.scripting.ScriptObjectMirror\");\n                System.out.println(\"\\tNashorn detected\");\n                if (cls.isAssignableFrom(obj.getClass())) {\n                    final Method isArray = cls.getMethod(\"isArray\");\n                    final Object result = isArray.invoke(obj);\n                    if (result != null &amp;&amp; result.equals(true)) {\n                        final Method values = cls.getMethod(\"values\");\n                        final Object vals = values.invoke(obj);\n                        System.err.println( vals );\n                        if (vals instanceof Collection&lt;?&gt;) {\n                            final Collection&lt;?&gt; coll = (Collection&lt;?&gt;) vals;\n                            Object[] array = coll.toArray(new Object[0]);\n                            return array;\n                        }\n                    }\n                }\n            } catch (ClassNotFoundException | NoSuchMethodException | SecurityException\n                    | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\n            }\n        }\n        if (obj instanceof List&lt;?&gt;) {\n            final List&lt;?&gt; list = (List&lt;?&gt;) obj;\n            Object[] array = list.toArray(new Object[0]);\n            return array;\n        }\n        return obj;\n    }\n}\n</code></pre>\n\n\n\n<p>JavaScript file « <code>StringSplit.js</code></p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>// var str = 'angular.1.5.6.js', separator = \".\";\nfunction splitasJavaArray( str ) {\n  var result = str.replace(/\\.([^.]+)$/, ':$1').split(':');\n  print('Regex Split : ', result);\n  var JavaArray = Java.to(result, \"java.lang.String[]\");\n  return JavaArray;\n  // return result;\n}\nfunction splitasJavaScriptArray( str, separator) {\n    var arr = str.split( separator ); // Split the string using dot as separator\n    var lastVal = arr.pop(); // remove from the end\n    var firstVal = arr.shift(); // remove from the front\n    var middleVal = arr.join( separator ); // Re-join the remaining substrings\n\n    var mainArr = new Array();\n    mainArr.push( firstVal ); // add to the end\n    mainArr.push( middleVal );\n    mainArr.push( lastVal );\n\n    return mainArr;\n}\n\nvar objfile = new Object();\nobjfile.hello = function(name) { print('File : Hello, ' + name); }\n</code></pre>\n\n\n\n<ul>\n<li>JavaScript <a href=\"https://stackoverflow.com/a/37134649/5081877\">Array constructor or array literal</a>.</li>\n</ul>\n"}],"owner":{"account_id":24916,"reputation":14629,"user_id":63679,"accept_rate":100,"display_name":"n00ki3"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326659,"favorite_count":0,"down_vote_count":1,"up_vote_count":177,"accepted_answer_id":1181972,"answer_count":12,"score":176,"last_activity_date":1647500049,"creation_date":1248523254,"question_id":1181969,"body_markdown":"I am using the String split method and I want to have the last element.\r\nThe size of the Array can change.\r\n\r\n**Example:**\r\n\r\n    String one = &quot;D&#252;sseldorf - Zentrum - G&#252;nnewig Uebachs&quot;\r\n    String two = &quot;D&#252;sseldorf - Madison&quot;\r\n\r\nI want to split the above Strings and get the last item:\r\n   \r\n\r\n    lastone = one.split(&quot;-&quot;)[here the last item] // &lt;- how?\r\n    lasttwo = two.split(&quot;-&quot;)[here the last item] // &lt;- how?\r\n\r\nI don&#39;t know the sizes of the arrays at runtime :(\r\n\r\n   \r\n\r\n","title":"Java: Get last element after split","body":"<p>I am using the String split method and I want to have the last element.\nThe size of the Array can change.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>String one = \"Düsseldorf - Zentrum - Günnewig Uebachs\"\nString two = \"Düsseldorf - Madison\"\n</code></pre>\n\n<p>I want to split the above Strings and get the last item:</p>\n\n<pre><code>lastone = one.split(\"-\")[here the last item] // &lt;- how?\nlasttwo = two.split(\"-\")[here the last item] // &lt;- how?\n</code></pre>\n\n<p>I don't know the sizes of the arrays at runtime :(</p>\n"},{"tags":["java","generics","comparator"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1647499084,"post_id":71507898,"comment_id":126387572,"body_markdown":"`argument mismatch; java.util.Comparator&lt;java.lang.Object&gt; cannot be converted to java.util.Comparator&lt;java.lang.String&gt;`","body":"<code>argument mismatch; java.util.Comparator&lt;java.lang.Object&gt; cannot be converted to java.util.Comparator&lt;java.lang.String&gt;</code>"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1647499117,"post_id":71507898,"comment_id":126387580,"body_markdown":"Please read through [Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?](https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po)","body":"Please read through <a href=\"https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po\">Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?</a>"}],"answers":[{"tags":[],"owner":{"account_id":22467756,"reputation":46,"user_id":16668645,"display_name":"harrison1017"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647499547,"creation_date":1647499547,"answer_id":71508042,"question_id":71507898,"body_markdown":"    pq = new PQ&lt;String&gt;(c) // T is String\r\nIn this way, you specified the generic parameters T is String, so those two constructors will accept `Comparator&lt;String&gt;` or `ImList&lt;String&gt;`.You just give the wrong parameter `Comparator&lt;Object&gt;`.\r\n\r\n    pq = new PQ&lt;Object&gt;(c) // T is Object, any subclass can be accept\r\nYou can change to this get it worked.","title":"Getting Error from Generic Class and Comparator","body":"<pre><code>pq = new PQ&lt;String&gt;(c) // T is String\n</code></pre>\n<p>In this way, you specified the generic parameters T is String, so those two constructors will accept <code>Comparator&lt;String&gt;</code> or <code>ImList&lt;String&gt;</code>.You just give the wrong parameter <code>Comparator&lt;Object&gt;</code>.</p>\n<pre><code>pq = new PQ&lt;Object&gt;(c) // T is Object, any subclass can be accept\n</code></pre>\n<p>You can change to this get it worked.</p>\n"}],"owner":{"account_id":24117134,"reputation":3,"user_id":18349650,"display_name":"user1020761"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71508042,"answer_count":1,"score":0,"last_activity_date":1647499547,"creation_date":1647498579,"question_id":71507898,"body_markdown":"I have encountered some issues while coding my generic class with a comparator. I have a class called PQ&lt;T&gt; that takes in a Comparator&lt;T&gt;. \r\nThis is my class PQ&lt;T&gt;.\r\n```\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\n  \r\nclass PQ&lt;T extends Comparable&lt;T&gt;&gt; {\r\n    private final ArrayList&lt;T&gt; queue;\r\n\r\n    PQ(Comparator&lt;T&gt; cmp){\r\n        this.queue = new ArrayList&lt;T&gt;();\r\n    }\r\n\r\n    PQ(ArrayList&lt;T&gt; queue) {\r\n        this.queue = queue;\r\n    }\r\n```\r\n\r\nSo the error happens when the question requires my code to take in\r\n\r\n```\r\nComparator&lt;Object&gt; c = (x, y) -&gt; x.hashCode() - y.hashCode()\r\n```\r\n```\r\npq = new PQ&lt;String&gt;(c)\r\n```\r\n\r\nThis error pops up.\r\n```\r\n|  Error:\r\n|  cannot find symbol\r\n|    symbol:   variable pq\r\n|  pq = new PQ&lt;String&gt;(c)\r\n|  ^^\r\n|  Error:\r\n|  no suitable constructor found for PQ(java.util.Comparator&lt;java.lang.Object&gt;)\r\n|      constructor PQ.PQ(java.util.Comparator&lt;java.lang.String&gt;) is not applicable\r\n|        (argument mismatch; java.util.Comparator&lt;java.lang.Object&gt; cannot be converted to java.util.Comparator&lt;java.lang.String&gt;)\r\n|      constructor PQ.PQ(ImList&lt;java.lang.String&gt;) is not applicable\r\n|        (argument mismatch; java.util.Comparator&lt;java.lang.Object&gt; cannot be converted to ImList&lt;java.lang.String&gt;)\r\n|  pq = new PQ&lt;String&gt;(c)\r\n|       ^---------------^\r\n```\r\n\r\nWould really appreciate any help! Thanks!","title":"Getting Error from Generic Class and Comparator","body":"<p>I have encountered some issues while coding my generic class with a comparator. I have a class called PQ that takes in a Comparator.\nThis is my class PQ.</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\n  \nclass PQ&lt;T extends Comparable&lt;T&gt;&gt; {\n    private final ArrayList&lt;T&gt; queue;\n\n    PQ(Comparator&lt;T&gt; cmp){\n        this.queue = new ArrayList&lt;T&gt;();\n    }\n\n    PQ(ArrayList&lt;T&gt; queue) {\n        this.queue = queue;\n    }\n</code></pre>\n<p>So the error happens when the question requires my code to take in</p>\n<pre><code>Comparator&lt;Object&gt; c = (x, y) -&gt; x.hashCode() - y.hashCode()\n</code></pre>\n<pre><code>pq = new PQ&lt;String&gt;(c)\n</code></pre>\n<p>This error pops up.</p>\n<pre><code>|  Error:\n|  cannot find symbol\n|    symbol:   variable pq\n|  pq = new PQ&lt;String&gt;(c)\n|  ^^\n|  Error:\n|  no suitable constructor found for PQ(java.util.Comparator&lt;java.lang.Object&gt;)\n|      constructor PQ.PQ(java.util.Comparator&lt;java.lang.String&gt;) is not applicable\n|        (argument mismatch; java.util.Comparator&lt;java.lang.Object&gt; cannot be converted to java.util.Comparator&lt;java.lang.String&gt;)\n|      constructor PQ.PQ(ImList&lt;java.lang.String&gt;) is not applicable\n|        (argument mismatch; java.util.Comparator&lt;java.lang.Object&gt; cannot be converted to ImList&lt;java.lang.String&gt;)\n|  pq = new PQ&lt;String&gt;(c)\n|       ^---------------^\n</code></pre>\n<p>Would really appreciate any help! Thanks!</p>\n"},{"tags":["java","spring","jpa","expression","querydsl"],"owner":{"account_id":24585961,"reputation":21,"user_id":18490475,"display_name":"hwijin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1647499231,"creation_date":1647499231,"question_id":71507990,"body_markdown":"\r\nIn mariadb, I created the function to calucate distance between user point and place point\r\n```\r\n    /* create function */\r\n    DELIMITER $$\r\n\r\n    CREATE\r\n    FUNCTION `u_st_distance_sphere`(`user_point` POINT, `place_point` POINT)\r\n    RETURNS double\r\n    BEGIN\r\n    return (6371*acos(cos(radians(ST_X(user_point)))*cos(radians(ST_X(place_point)))*cos(radians(ST_Y(place_point))\r\n        -radians(ST_Y(user_point)))+sin(radians(ST_X(user_point)))*sin(radians(ST_X(place_point)))));\r\n    END$$\r\n    DELIMITER ;\r\n```\r\n\r\nTo use the function, register function in CustomDialect class and apply in .yml\r\n```\r\npublic class MariadbCustomDialect extends MariaDB103Dialect {\r\n    public MariadbCustomDialect() {\r\n        super();\r\n        this.registerFunction(\r\n                &quot;u_st_distance_sphere&quot;,\r\n                new StandardSQLFunction(&quot;u_st_distance_sphere&quot;, StandardBasicTypes.DOUBLE)\r\n        );\r\n    }\r\n}\r\n```\r\n```\r\nspring:\r\n  ...\r\n  jpa:\r\n    ...\r\n    database-platform: ...global.config.MariadbCustomDialect\r\n```\r\n\r\nAnd I want to make distance column that calculated with points and sort by distance ascending order\r\n\r\n```\r\n//in PlaceCustomRepository\r\n//making filtered JPQLQuery\r\n\r\nString pointWKT = String.format(&quot;POINT(%s %s)&quot;, \r\n                                 placeFilterParam.getLatitude(),\r\n                                 placeFilterParam.getLongitude());\r\n\r\nNumberTemplate&lt;Double&gt; expr = Expressions.numberTemplate(\r\n    Double.class, \r\n    &quot;u_st_distance_sphere( ST_GeomFromText({0}), ST_GeomFromText({1}) )&quot;, \r\n    pointWKT, \r\n    place.point);\r\n\r\nJPQLQuery&lt;PlaceResponseTest&gt; query = jpaQueryFactory\r\n    .select(\r\n            new QPlaceResponseTest(place.id, \r\n                                   expr.as(&quot;distance&quot;)))\r\n    .from(place)\r\n    .orderBy();\r\n```\r\n\r\nHow to specify distance column??\r\n\r\nThanks","title":"How to order by Query dsl NumberExpression column","body":"<p>In mariadb, I created the function to calucate distance between user point and place point</p>\n<pre><code>    /* create function */\n    DELIMITER $$\n\n    CREATE\n    FUNCTION `u_st_distance_sphere`(`user_point` POINT, `place_point` POINT)\n    RETURNS double\n    BEGIN\n    return (6371*acos(cos(radians(ST_X(user_point)))*cos(radians(ST_X(place_point)))*cos(radians(ST_Y(place_point))\n        -radians(ST_Y(user_point)))+sin(radians(ST_X(user_point)))*sin(radians(ST_X(place_point)))));\n    END$$\n    DELIMITER ;\n</code></pre>\n<p>To use the function, register function in CustomDialect class and apply in .yml</p>\n<pre><code>public class MariadbCustomDialect extends MariaDB103Dialect {\n    public MariadbCustomDialect() {\n        super();\n        this.registerFunction(\n                &quot;u_st_distance_sphere&quot;,\n                new StandardSQLFunction(&quot;u_st_distance_sphere&quot;, StandardBasicTypes.DOUBLE)\n        );\n    }\n}\n</code></pre>\n<pre><code>spring:\n  ...\n  jpa:\n    ...\n    database-platform: ...global.config.MariadbCustomDialect\n</code></pre>\n<p>And I want to make distance column that calculated with points and sort by distance ascending order</p>\n<pre><code>//in PlaceCustomRepository\n//making filtered JPQLQuery\n\nString pointWKT = String.format(&quot;POINT(%s %s)&quot;, \n                                 placeFilterParam.getLatitude(),\n                                 placeFilterParam.getLongitude());\n\nNumberTemplate&lt;Double&gt; expr = Expressions.numberTemplate(\n    Double.class, \n    &quot;u_st_distance_sphere( ST_GeomFromText({0}), ST_GeomFromText({1}) )&quot;, \n    pointWKT, \n    place.point);\n\nJPQLQuery&lt;PlaceResponseTest&gt; query = jpaQueryFactory\n    .select(\n            new QPlaceResponseTest(place.id, \n                                   expr.as(&quot;distance&quot;)))\n    .from(place)\n    .orderBy();\n</code></pre>\n<p>How to specify distance column??</p>\n<p>Thanks</p>\n"},{"tags":["java","maven","javafx","jar","jar-signing"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1647328349,"post_id":71477520,"comment_id":126337030,"body_markdown":"You need to rebuild and re-sign the JAR file. Something is wrong with its signature.","body":"You need to rebuild and re-sign the JAR file. Something is wrong with its signature."},{"owner":{"account_id":22451370,"reputation":197,"user_id":17424390,"display_name":"Abdelrahman Nassar"},"score":0,"creation_date":1647412365,"post_id":71477520,"comment_id":126361393,"body_markdown":"@user207421 how do I re-sign my JAR file ?","body":"@user207421 how do I re-sign my JAR file ?"},{"owner":{"account_id":22451370,"reputation":197,"user_id":17424390,"display_name":"Abdelrahman Nassar"},"score":1,"creation_date":1647499167,"post_id":71477520,"comment_id":126387591,"body_markdown":"THE SOLUTION IS IN THE QUESTION","body":"THE SOLUTION IS IN THE QUESTION"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":2,"creation_date":1647507102,"post_id":71477520,"comment_id":126389999,"body_markdown":"I&#39;m voting to reopen this since this is a Maven question, but the duplicate target isn&#39;t, and frankly doesn&#39;t even look particularly reproducible.  Further, the question asker of this one appears to have found a solution, so reopening it would allow them to post it as an answer to their own question.","body":"I&#39;m voting to reopen this since this is a Maven question, but the duplicate target isn&#39;t, and frankly doesn&#39;t even look particularly reproducible.  Further, the question asker of this one appears to have found a solution, so reopening it would allow them to post it as an answer to their own question."},{"owner":{"account_id":22451370,"reputation":197,"user_id":17424390,"display_name":"Abdelrahman Nassar"},"score":0,"creation_date":1647516510,"post_id":71477520,"comment_id":126393270,"body_markdown":"@M.Justin thanks for voting for opening the question again, unfortunately the question could not be opened","body":"@M.Justin thanks for voting for opening the question again, unfortunately the question could not be opened"}],"owner":{"account_id":22451370,"reputation":197,"user_id":17424390,"display_name":"Abdelrahman Nassar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1647328426,"answer_count":0,"score":1,"last_activity_date":1647499145,"creation_date":1647322609,"question_id":71477520,"body_markdown":"I have created my .jar file using `mvn package` command in the CMD, but when I try to run it I get the following error:\r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.SecurityException: Invalid signature file digest for Manifest main attributes\r\n        at java.base/sun.security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:340)\r\n        at java.base/sun.security.util.SignatureFileVerifier.process(SignatureFileVerifier.java:282)\r\n        at java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:321)\r\n        at java.base/java.util.jar.JarVerifier.update(JarVerifier.java:234)\r\n        at java.base/java.util.jar.JarFile.initializeVerifier(JarFile.java:762)\r\n        at java.base/java.util.jar.JarFile.ensureInitialization(JarFile.java:1033)\r\n        at java.base/java.util.jar.JavaUtilJarAccessImpl.ensureInitialization(JavaUtilJarAccessImpl.java:72)\r\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader$2.getManifest(URLClassPath.java:883)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:848)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:467)\r\n        at java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:780)\r\n        at java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:675)\r\n```\r\n\r\nI tried many solutions like:\r\n\r\n1- make sure that java and javac are the same version (17.0.2)\r\n\r\n2-https://stackoverflow.com/a/34856095/17424390\r\n\r\nBut still I got the same error\r\n\r\nMy POM.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;DevicesHistoryInfoCards_Maven&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;DevicesHistoryInfoCards_Maven&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;11.3.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://jmaven.com/maven/org.guppy4j/jdbc --&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/commons-logging/commons-logging --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-digester3 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-digester&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security.extensions&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-saml2-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports --&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports --&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n            &lt;version&gt;6.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://jmaven.com/maven/org.apache.maven.plugins/maven-assembly-plugin --&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;application.MainLauncher&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;application.MainLauncher&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;\r\n                                application/application.MainLauncher\r\n                            &lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n[This is the solution][1] was suggested to me, but I did not understand how to do it although I have searched a lot for hoe to apply it.\r\n\r\n\r\nNotes:\r\nthe project is javafx project, it uses maven, the java version is 17.0.2, the javac version is 17.0.2\r\n\r\n\r\n\r\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;**UPDATE_17/Mar/2022_THE_SOLUTION**\r\n\r\nAfter 1 week of searching for a solution, I did the following\r\n\r\n1- Add the `maven-dependency-plugin` like that:\r\n\r\n```\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;unpack-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;excludes&gt;META-INF/*.SF,META-INF/*.DSA,META-INF/*.RSA&lt;/excludes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n2- add the following to your &#39;maven-shade-plugin&#39;(if you are using it) to the configuration section:\r\n\r\n```\r\n&lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/19002777/java-lang-securityexception-invalid-signature-file-digest-for-manifest-main-att","title":"JNI error: java.lang.SecurityException: Invalid signature file digest for Manifest main attributes","body":"<p>I have created my .jar file using <code>mvn package</code> command in the CMD, but when I try to run it I get the following error:</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.SecurityException: Invalid signature file digest for Manifest main attributes\n        at java.base/sun.security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:340)\n        at java.base/sun.security.util.SignatureFileVerifier.process(SignatureFileVerifier.java:282)\n        at java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:321)\n        at java.base/java.util.jar.JarVerifier.update(JarVerifier.java:234)\n        at java.base/java.util.jar.JarFile.initializeVerifier(JarFile.java:762)\n        at java.base/java.util.jar.JarFile.ensureInitialization(JarFile.java:1033)\n        at java.base/java.util.jar.JavaUtilJarAccessImpl.ensureInitialization(JavaUtilJarAccessImpl.java:72)\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader$2.getManifest(URLClassPath.java:883)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:848)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:467)\n        at java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:780)\n        at java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:675)\n</code></pre>\n<p>I tried many solutions like:</p>\n<p>1- make sure that java and javac are the same version (17.0.2)</p>\n<p>2-https://stackoverflow.com/a/34856095/17424390</p>\n<p>But still I got the same error</p>\n<p>My POM.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;DevicesHistoryInfoCards_Maven&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;DevicesHistoryInfoCards_Maven&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.8.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;17.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n            &lt;version&gt;11.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\n            &lt;version&gt;11.3.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://jmaven.com/maven/org.guppy4j/jdbc --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\n            &lt;version&gt;12.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.25&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-logging/commons-logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-digester3 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-digester&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\n            &lt;version&gt;1.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.extensions&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-saml2-core&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;6.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://jmaven.com/maven/org.apache.maven.plugins/maven-assembly-plugin --&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;application.MainLauncher&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;application.MainLauncher&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;\n                                application/application.MainLauncher\n                            &lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/19002777/java-lang-securityexception-invalid-signature-file-digest-for-manifest-main-att\">This is the solution</a> was suggested to me, but I did not understand how to do it although I have searched a lot for hoe to apply it.</p>\n<p>Notes:\nthe project is javafx project, it uses maven, the java version is 17.0.2, the javac version is 17.0.2</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<blockquote>\n<blockquote>\n<blockquote>\n<blockquote>\n<blockquote>\n<p><strong>UPDATE_17/Mar/2022_THE_SOLUTION</strong></p>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>After 1 week of searching for a solution, I did the following</p>\n<p>1- Add the <code>maven-dependency-plugin</code> like that:</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;unpack-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;unpack-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;excludes&gt;META-INF/*.SF,META-INF/*.DSA,META-INF/*.RSA&lt;/excludes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>2- add the following to your 'maven-shade-plugin'(if you are using it) to the configuration section:</p>\n<pre><code>&lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n</code></pre>\n"},{"tags":["java","spring","caching","hazelcast","hazelcast-jet"],"comments":[{"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"score":0,"creation_date":1647353018,"post_id":71483375,"comment_id":126346031,"body_markdown":"What is the version of Hazelcast server you are using?","body":"What is the version of Hazelcast server you are using?"},{"owner":{"account_id":13351149,"reputation":530,"user_id":9636333,"display_name":"Maram Sreerama Reddy"},"score":0,"creation_date":1647353159,"post_id":71483375,"comment_id":126346100,"body_markdown":"Hi, Version: 5.1 ($ hz -V)","body":"Hi, Version: 5.1 ($ hz -V)"}],"answers":[{"tags":[],"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647353444,"creation_date":1647353444,"answer_id":71483706,"question_id":71483375,"body_markdown":"You should use a compatible version on the client-side. While the 4.x client is mostly compatible with 5.x, the SQL feature was in BETA until 5.0. So you should use 5.0 or newer.\r\n\r\nIn Spring boot you can just add the following property to override the version, if you are using Maven:\r\n\r\n    &lt;hazelcast.version&gt;5.1&lt;/hazelcast.version&gt;\r\n\r\nor Gradle:\r\n\r\n    ext[&#39;hazelcast.version&#39;] = &#39;5.1&#39;","title":"Hazelcast getSql().execute() throws Unrecognized client message received with type: 0x210100","body":"<p>You should use a compatible version on the client-side. While the 4.x client is mostly compatible with 5.x, the SQL feature was in BETA until 5.0. So you should use 5.0 or newer.</p>\n<p>In Spring boot you can just add the following property to override the version, if you are using Maven:</p>\n<pre><code>&lt;hazelcast.version&gt;5.1&lt;/hazelcast.version&gt;\n</code></pre>\n<p>or Gradle:</p>\n<pre><code>ext['hazelcast.version'] = '5.1'\n</code></pre>\n"}],"owner":{"account_id":13351149,"reputation":530,"user_id":9636333,"display_name":"Maram Sreerama Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71483706,"answer_count":1,"score":0,"last_activity_date":1647499053,"creation_date":1647352071,"question_id":71483375,"body_markdown":"I am trying out Hazelcast client-server.\r\nSo far, I\r\n- Got up hazelcast server members\r\n- Create a spring boot application and connected to hazelcast\r\n- Inserted/updated/queried Imap in hazelcast instance\r\n- Used SQL Predicate to query map objects\r\n\r\nNow I am trying to run an sql query on the object (https://docs.hazelcast.com/imdg/latest/sql/distributed-sql) but couldn&#39;t make it work. Am I missing something here ? Do I need to do something else ?\r\n\r\nMy bean\r\n```java\r\nHazelcastInstance hazelcastInstance() {\r\n\tClientConfig clientConfig = new ClientConfig();\r\n\tclientConfig.getUserCodeDeploymentConfig().setEnabled(true);\r\n\tClientUserCodeDeploymentConfig distCLConfig = clientConfig.getUserCodeDeploymentConfig();\r\n\tList&lt;String&gt; classNames = new ArrayList&lt;&gt;();\r\n\tclassNames.add(&quot;com.varane.models.Student&quot;);\r\n\tdistCLConfig.setEnabled(true).setClassNames(classNames);\r\n\treturn HazelcastClient.newHazelcastClient(clientConfig);\r\n}\r\n```\r\n\r\nMy model\r\n\r\n```java\r\npackage com.varane.models;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport java.io.Serializable;\r\n\r\n/**\r\n * Model class for students\r\n */\r\n@Entity\r\npublic class Student implements Serializable {\r\n    @Id\r\n    Integer id;\r\n    String name;\r\n    String contact;\r\n\r\n    public Student(){}\r\n\r\n    public Student(Integer id, String name, String contact) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.contact = contact;\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getContact() {\r\n        return contact;\r\n    }\r\n\r\n    public void setContact(String contact) {\r\n        this.contact = contact;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Student{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, contact=&#39;&quot; + contact + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nAnd my controller\r\n\r\n```java\r\n@Autowired\r\nprivate HazelcastInstance hazelcastInstance;\r\n\r\n@GetMapping(&quot;/sql-test&quot;)\r\nvoid sqlTest(){\r\n\tSqlService sqlService = hazelcastInstance.getSql();\r\n\tsqlService.execute(&quot;SELECT * FROM student&quot;);\r\n}\r\n```\r\n\r\nDependencies in `build.gradle`\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    runtimeOnly &#39;mysql:mysql-connector-java&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-tomcat&#39;\r\n    implementation &#39;com.h2database:h2:2.1.210&#39;\r\n    implementation &#39;com.hazelcast:hazelcast&#39;\r\n    implementation &#39;com.hazelcast:hazelcast-sql:4.2.4&#39;\r\n}\r\n```\r\n\r\nWhen I hit the endpoint this is error I get on server (500)\r\n\r\n```\r\njava.lang.UnsupportedOperationException: Unrecognized client message received with type: 0x210100\r\n\tat com.hazelcast.client.impl.protocol.task.NoSuchMessageTask.processMessage(NoSuchMessageTask.java:45) ~[hazelcast-4.1.5.jar:4.1.5]\r\n\tat com.hazelcast.client.impl.protocol.task.AbstractMessageTask.initializeAndProcessMessage(AbstractMessageTask.java:153) ~[hazelcast-4.1.5.jar:4.1.5]\r\n\tat com.hazelcast.client.impl.protocol.task.AbstractMessageTask.run(AbstractMessageTask.java:116) ~[hazelcast-4.1.5.jar:4.1.5]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n\tat java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\tat com.hazelcast.internal.util.executor.HazelcastManagedThread.executeRun(HazelcastManagedThread.java:76) ~[hazelcast-4.1.5.jar:4.1.5]\r\n\tat com.hazelcast.internal.util.executor.HazelcastManagedThread.run(HazelcastManagedThread.java:102) ~[hazelcast-4.1.5.jar:4.1.5]\r\n\tat ------ submitted from ------.() ~[na:na]\r\n\tat com.hazelcast.internal.util.ExceptionUtil.cloneExceptionWithFixedAsyncStackTrace(ExceptionUtil.java:279) ~[hazelcast-4.1.5.jar:4.1.5]\r\n\tat com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.returnOrThrowWithGetConventions(InvocationFuture.java:112) ~[hazelcast-4.1.5.jar:4.1.5]\r\n\tat com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:95) ~[hazelcast-4.1.5.jar:4.1.5]\r\n\tat com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:40) ~[hazelcast-4.1.5.jar:4.1.5]\r\n\tat com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:614) ~[hazelcast-4.1.5.jar:4.1.5]\r\n\tat com.hazelcast.sql.impl.client.SqlClientService.invoke(SqlClientService.java:215) ~[hazelcast-4.1.5.jar:4.1.5]\r\n\tat com.hazelcast.sql.impl.client.SqlClientService.execute(SqlClientService.java:96) ~[hazelcast-4.1.5.jar:4.1.5]\r\n\tat com.hazelcast.sql.SqlService.execute(SqlService.java:144) ~[hazelcast-4.1.5.jar:4.1.5]\r\n\tat com.varane.controllers.StudentController.sqlTest(StudentController.java:95) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.52.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.52.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```","title":"Hazelcast getSql().execute() throws Unrecognized client message received with type: 0x210100","body":"<p>I am trying out Hazelcast client-server.\nSo far, I</p>\n<ul>\n<li>Got up hazelcast server members</li>\n<li>Create a spring boot application and connected to hazelcast</li>\n<li>Inserted/updated/queried Imap in hazelcast instance</li>\n<li>Used SQL Predicate to query map objects</li>\n</ul>\n<p>Now I am trying to run an sql query on the object (<a href=\"https://docs.hazelcast.com/imdg/latest/sql/distributed-sql\" rel=\"nofollow noreferrer\">https://docs.hazelcast.com/imdg/latest/sql/distributed-sql</a>) but couldn't make it work. Am I missing something here ? Do I need to do something else ?</p>\n<p>My bean</p>\n<pre class=\"lang-java prettyprint-override\"><code>HazelcastInstance hazelcastInstance() {\n    ClientConfig clientConfig = new ClientConfig();\n    clientConfig.getUserCodeDeploymentConfig().setEnabled(true);\n    ClientUserCodeDeploymentConfig distCLConfig = clientConfig.getUserCodeDeploymentConfig();\n    List&lt;String&gt; classNames = new ArrayList&lt;&gt;();\n    classNames.add(&quot;com.varane.models.Student&quot;);\n    distCLConfig.setEnabled(true).setClassNames(classNames);\n    return HazelcastClient.newHazelcastClient(clientConfig);\n}\n</code></pre>\n<p>My model</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.varane.models;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport java.io.Serializable;\n\n/**\n * Model class for students\n */\n@Entity\npublic class Student implements Serializable {\n    @Id\n    Integer id;\n    String name;\n    String contact;\n\n    public Student(){}\n\n    public Student(Integer id, String name, String contact) {\n        this.id = id;\n        this.name = name;\n        this.contact = contact;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getContact() {\n        return contact;\n    }\n\n    public void setContact(String contact) {\n        this.contact = contact;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Student{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, contact='&quot; + contact + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>And my controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate HazelcastInstance hazelcastInstance;\n\n@GetMapping(&quot;/sql-test&quot;)\nvoid sqlTest(){\n    SqlService sqlService = hazelcastInstance.getSql();\n    sqlService.execute(&quot;SELECT * FROM student&quot;);\n}\n</code></pre>\n<p>Dependencies in <code>build.gradle</code></p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    runtimeOnly 'mysql:mysql-connector-java'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    implementation 'org.springframework.boot:spring-boot-starter-tomcat'\n    implementation 'com.h2database:h2:2.1.210'\n    implementation 'com.hazelcast:hazelcast'\n    implementation 'com.hazelcast:hazelcast-sql:4.2.4'\n}\n</code></pre>\n<p>When I hit the endpoint this is error I get on server (500)</p>\n<pre><code>java.lang.UnsupportedOperationException: Unrecognized client message received with type: 0x210100\n    at com.hazelcast.client.impl.protocol.task.NoSuchMessageTask.processMessage(NoSuchMessageTask.java:45) ~[hazelcast-4.1.5.jar:4.1.5]\n    at com.hazelcast.client.impl.protocol.task.AbstractMessageTask.initializeAndProcessMessage(AbstractMessageTask.java:153) ~[hazelcast-4.1.5.jar:4.1.5]\n    at com.hazelcast.client.impl.protocol.task.AbstractMessageTask.run(AbstractMessageTask.java:116) ~[hazelcast-4.1.5.jar:4.1.5]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at java.lang.Thread.run(Thread.java:833) ~[na:na]\n    at com.hazelcast.internal.util.executor.HazelcastManagedThread.executeRun(HazelcastManagedThread.java:76) ~[hazelcast-4.1.5.jar:4.1.5]\n    at com.hazelcast.internal.util.executor.HazelcastManagedThread.run(HazelcastManagedThread.java:102) ~[hazelcast-4.1.5.jar:4.1.5]\n    at ------ submitted from ------.() ~[na:na]\n    at com.hazelcast.internal.util.ExceptionUtil.cloneExceptionWithFixedAsyncStackTrace(ExceptionUtil.java:279) ~[hazelcast-4.1.5.jar:4.1.5]\n    at com.hazelcast.spi.impl.operationservice.impl.InvocationFuture.returnOrThrowWithGetConventions(InvocationFuture.java:112) ~[hazelcast-4.1.5.jar:4.1.5]\n    at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:95) ~[hazelcast-4.1.5.jar:4.1.5]\n    at com.hazelcast.client.impl.spi.impl.ClientInvocationFuture.resolveAndThrowIfException(ClientInvocationFuture.java:40) ~[hazelcast-4.1.5.jar:4.1.5]\n    at com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:614) ~[hazelcast-4.1.5.jar:4.1.5]\n    at com.hazelcast.sql.impl.client.SqlClientService.invoke(SqlClientService.java:215) ~[hazelcast-4.1.5.jar:4.1.5]\n    at com.hazelcast.sql.impl.client.SqlClientService.execute(SqlClientService.java:96) ~[hazelcast-4.1.5.jar:4.1.5]\n    at com.hazelcast.sql.SqlService.execute(SqlService.java:144) ~[hazelcast-4.1.5.jar:4.1.5]\n    at com.varane.controllers.StudentController.sqlTest(StudentController.java:95) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.52.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.52.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","docker","apache-zookeeper"],"comments":[{"owner":{"account_id":5733345,"reputation":1271,"user_id":4528229,"display_name":"Peter Majko"},"score":0,"creation_date":1602230057,"post_id":64262177,"comment_id":113660072,"body_markdown":"In the docker compose, you can specify the zookeeper 3 times, every time with a different port. Also, make the 1st one as a master node, the other two as workers.","body":"In the docker compose, you can specify the zookeeper 3 times, every time with a different port. Also, make the 1st one as a master node, the other two as workers."}],"answers":[{"tags":[],"owner":{"account_id":11882897,"reputation":73,"user_id":8696119,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602166434,"creation_date":1602166434,"answer_id":64264412,"question_id":64262177,"body_markdown":"Admin server port 8080 is available only inside the container until you expose it with port mappings. If you want to expose the port to docker host you should assign different port mappings to both of your zookeeper container.\r\n\r\nIn this case, you are trying to change the container&#39;s internal admin server port which is not required. You can take the example of following docker-compose file - \r\n\r\n```\r\nversion: &#39;3.4&#39;\r\n\r\nservices:\r\n  zoo1:\r\n    image: &#39;zookeeper&#39;\r\n    ports:\r\n      - &#39;2181:2181&#39;\r\n      - &#39;8080:8080&#39;\r\n    environment:\r\n      ZOO_SERVER_ID: 1\r\n      ALLOW_ANONYMOUS_LOGIN: &quot;yes&quot;\r\n      ZOO_ADMINSERVER_ENABLED: &quot;true&quot;\r\n      ZOO_SERVERS: &quot;zoo1:2888:3888,zoo2:2888:3888&quot;\r\n  zoo2:\r\n    image: &#39;zookeeper&#39;\r\n    ports:\r\n      - &#39;3181:2181&#39;\r\n      - &#39;8078:8080&#39;\r\n    environment:\r\n      ZOO_SERVER_ID: 2\r\n      ALLOW_ANONYMOUS_LOGIN: &quot;yes&quot;\r\n      ZOO_ADMINSERVER_ENABLED: &quot;true&quot;\r\n      ZOO_SERVERS: &quot;zoo1:2888:3888,zoo2:2888:3888&quot;\r\n``` \r\n**zoo1** - Port 8080 is available inside the container and we are exposing the same port to the docker host.\r\n**zoo2** - Port 8080 is available inside the container but we are exposing different port(8078) to the docker host.\r\n\r\nNow you can access the interface using port `8080` for first container and `8078` for the second container from your docker host.","title":"How to set different admin ports for different Zookeeper Docker containers?","body":"<p>Admin server port 8080 is available only inside the container until you expose it with port mappings. If you want to expose the port to docker host you should assign different port mappings to both of your zookeeper container.</p>\n<p>In this case, you are trying to change the container's internal admin server port which is not required. You can take the example of following docker-compose file -</p>\n<pre><code>version: '3.4'\n\nservices:\n  zoo1:\n    image: 'zookeeper'\n    ports:\n      - '2181:2181'\n      - '8080:8080'\n    environment:\n      ZOO_SERVER_ID: 1\n      ALLOW_ANONYMOUS_LOGIN: &quot;yes&quot;\n      ZOO_ADMINSERVER_ENABLED: &quot;true&quot;\n      ZOO_SERVERS: &quot;zoo1:2888:3888,zoo2:2888:3888&quot;\n  zoo2:\n    image: 'zookeeper'\n    ports:\n      - '3181:2181'\n      - '8078:8080'\n    environment:\n      ZOO_SERVER_ID: 2\n      ALLOW_ANONYMOUS_LOGIN: &quot;yes&quot;\n      ZOO_ADMINSERVER_ENABLED: &quot;true&quot;\n      ZOO_SERVERS: &quot;zoo1:2888:3888,zoo2:2888:3888&quot;\n</code></pre>\n<p><strong>zoo1</strong> - Port 8080 is available inside the container and we are exposing the same port to the docker host.\n<strong>zoo2</strong> - Port 8080 is available inside the container but we are exposing different port(8078) to the docker host.</p>\n<p>Now you can access the interface using port <code>8080</code> for first container and <code>8078</code> for the second container from your docker host.</p>\n"},{"tags":[],"owner":{"account_id":338373,"reputation":267,"user_id":667209,"accept_rate":75,"display_name":"Arvanitis Christos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1602421595,"creation_date":1602421595,"answer_id":64304335,"question_id":64262177,"body_markdown":"Considering the docker compose file you posted, the problematic element is the\r\n`  network_mode: &quot;host&quot;`. Citing the official documentation:\r\n\r\nhttps://docs.docker.com/network/host/\r\n\r\n&gt; If you use the host network mode for a container, that container’s network stack is not isolated from the Docker host (the container shares the host’s networking namespace), and the container does not get its own IP-address allocated. For instance, if you run a container which binds to port 80 and you use host networking, the container’s application is available on port 80 on the host’s IP address.\r\n\r\nSo, in fact, every one of the three zookeeper quorum members that you fire up is competing on allocating the 8080 port, ignoring the port binding you defined later on.","title":"How to set different admin ports for different Zookeeper Docker containers?","body":"<p>Considering the docker compose file you posted, the problematic element is the\n<code>  network_mode: &quot;host&quot;</code>. Citing the official documentation:</p>\n<p><a href=\"https://docs.docker.com/network/host/\" rel=\"nofollow noreferrer\">https://docs.docker.com/network/host/</a></p>\n<blockquote>\n<p>If you use the host network mode for a container, that container’s network stack is not isolated from the Docker host (the container shares the host’s networking namespace), and the container does not get its own IP-address allocated. For instance, if you run a container which binds to port 80 and you use host networking, the container’s application is available on port 80 on the host’s IP address.</p>\n</blockquote>\n<p>So, in fact, every one of the three zookeeper quorum members that you fire up is competing on allocating the 8080 port, ignoring the port binding you defined later on.</p>\n"},{"tags":[],"owner":{"account_id":6289182,"reputation":7879,"user_id":4887423,"accept_rate":100,"display_name":"Willie Cheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647498887,"creation_date":1647498887,"answer_id":71507937,"question_id":64262177,"body_markdown":"Easy way to do this \r\n\r\n    ZOO_ADMIN_SERVER_PORT_NUMBER:9999 \r\n\r\n&gt; ZOO_ADMIN_SERVER_PORT_NUMBER: Admin server port. Default: 8080\r\n\r\n[bitnami/zookeeper Reference URL](https://hub.docker.com/r/bitnami/zookeeper/)","title":"How to set different admin ports for different Zookeeper Docker containers?","body":"<p>Easy way to do this</p>\n<pre><code>ZOO_ADMIN_SERVER_PORT_NUMBER:9999 \n</code></pre>\n<blockquote>\n<p>ZOO_ADMIN_SERVER_PORT_NUMBER: Admin server port. Default: 8080</p>\n</blockquote>\n<p><a href=\"https://hub.docker.com/r/bitnami/zookeeper/\" rel=\"nofollow noreferrer\">bitnami/zookeeper Reference URL</a></p>\n"}],"owner":{"account_id":5138031,"reputation":391,"user_id":6187336,"display_name":"Suvendu Ghosh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2978,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64304335,"answer_count":3,"score":2,"last_activity_date":1647498887,"creation_date":1602158789,"question_id":64262177,"body_markdown":"I am creating a cluster of three zookeeper docker containers on a Single system. \r\nAdmin server of the first zookeeper docker is up using port 8080, so for other two Zoo containers, it is giving &quot;Failed to bind to /0.0.0.0:8080, address in use&quot;. I am using zoo version as &quot;zookeeper:3.5.6&quot;.\r\n\r\nNow my question is how to assign different admin port to the zookeeper admin server other than 8080?\r\n\r\nI have tried different options to set the admin server on different ports, but nothing worked.\r\n\r\n    1) - zookeeper.admin.serverPort=8078\r\n    2) - ZOO_CFG_EXTRA=&quot;admin.serverPort=8077&quot;\r\n    3) - admin.serverPort=8078\r\n    \r\nBelow is the docker compose for one zookeeper.\r\n    \r\n     zk2:\r\n      hostname: ${LOCAL_HOST}\r\n      image: ${ZOOKEEPER_IMAGE}\r\n      environment:\r\n        - u=${USER}:${USER}\r\n        - JVM_OPTS=-Xmx12g -Xms12g -XX:MaxPermSize=2048m\r\n        - ZOO_MY_ID=${ZOO_MY_ID2}\r\n        - ZOO_SERVERS=${ZOO_SERVER_1} ${ZOO_SERVER_2} ${ZOO_SERVER_3}\r\n        - ZOO_ADMINSERVER_ENABLED=true\r\n        - ZOO_STANDALONE_ENABLED=false\r\n        - zookeeper.admin.serverPort=8078\r\n      volumes:\r\n        - ${VOLUMES_PATH}/zk2/data:/data\r\n        - ${VOLUMES_PATH}/zk2/logs:/datalog\r\n      network_mode: &quot;host&quot;\r\n      ports:\r\n        - ${ZOOK_CL_PORT2}:${ZOOK_CL_PORT2}\r\n        - ${ZOOK_SR_PORT2}:${ZOOK_SR_PORT2}\r\n        - ${ZOOK_EL_PORT2}:${ZOOK_EL_PORT2}\r\n        - ${ZOOK_ADM_PORT2}:8078&quot;\r\n\r\nCan anyone suggest me how to do that?","title":"How to set different admin ports for different Zookeeper Docker containers?","body":"<p>I am creating a cluster of three zookeeper docker containers on a Single system.\nAdmin server of the first zookeeper docker is up using port 8080, so for other two Zoo containers, it is giving &quot;Failed to bind to /0.0.0.0:8080, address in use&quot;. I am using zoo version as &quot;zookeeper:3.5.6&quot;.</p>\n<p>Now my question is how to assign different admin port to the zookeeper admin server other than 8080?</p>\n<p>I have tried different options to set the admin server on different ports, but nothing worked.</p>\n<pre><code>1) - zookeeper.admin.serverPort=8078\n2) - ZOO_CFG_EXTRA=&quot;admin.serverPort=8077&quot;\n3) - admin.serverPort=8078\n</code></pre>\n<p>Below is the docker compose for one zookeeper.</p>\n<pre><code> zk2:\n  hostname: ${LOCAL_HOST}\n  image: ${ZOOKEEPER_IMAGE}\n  environment:\n    - u=${USER}:${USER}\n    - JVM_OPTS=-Xmx12g -Xms12g -XX:MaxPermSize=2048m\n    - ZOO_MY_ID=${ZOO_MY_ID2}\n    - ZOO_SERVERS=${ZOO_SERVER_1} ${ZOO_SERVER_2} ${ZOO_SERVER_3}\n    - ZOO_ADMINSERVER_ENABLED=true\n    - ZOO_STANDALONE_ENABLED=false\n    - zookeeper.admin.serverPort=8078\n  volumes:\n    - ${VOLUMES_PATH}/zk2/data:/data\n    - ${VOLUMES_PATH}/zk2/logs:/datalog\n  network_mode: &quot;host&quot;\n  ports:\n    - ${ZOOK_CL_PORT2}:${ZOOK_CL_PORT2}\n    - ${ZOOK_SR_PORT2}:${ZOOK_SR_PORT2}\n    - ${ZOOK_EL_PORT2}:${ZOOK_EL_PORT2}\n    - ${ZOOK_ADM_PORT2}:8078&quot;\n</code></pre>\n<p>Can anyone suggest me how to do that?</p>\n"},{"tags":["java","security","encryption"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1543971465,"post_id":53623548,"comment_id":94107551,"body_markdown":"See: https://stackoverflow.com/questions/2242055/is-java-code-obfuscation-actually-effective-vs-decompilers","body":"See: <a href=\"https://stackoverflow.com/questions/2242055/is-java-code-obfuscation-actually-effective-vs-decompilers\" title=\"is java code obfuscation actually effective vs decompilers\">stackoverflow.com/questions/2242055/&hellip;</a>"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1543972204,"post_id":53623548,"comment_id":94107716,"body_markdown":"&quot;but it would be completely useless without the secret word (cipher)....&quot; But there is no place to keep the secret that isn&#39;t easy to find with basic tools like the jd gui you mentioned.","body":"&quot;but it would be completely useless without the secret word (cipher)....&quot; But there is no place to keep the secret that isn&#39;t easy to find with basic tools like the jd gui you mentioned."},{"owner":{"account_id":5781840,"reputation":5843,"user_id":4562204,"display_name":"Jake Holzinger"},"score":1,"creation_date":1543973334,"post_id":53623548,"comment_id":94107994,"body_markdown":"This is what software licenses are for... you can&#39;t stop someone from reverse engineering your code. Adding an encryption layer does nothing but add an extra step for the attacker. You&#39;re going to have to distribute the decryption key in some way to the end user, so what&#39;s to stop them from using it to decrypt the JAR?","body":"This is what software licenses are for... you can&#39;t stop someone from reverse engineering your code. Adding an encryption layer does nothing but add an extra step for the attacker. You&#39;re going to have to distribute the decryption key in some way to the end user, so what&#39;s to stop them from using it to decrypt the JAR?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1543974468,"post_id":53623548,"comment_id":94108284,"body_markdown":"Curiosity causes me to ask: What programming concept worth stealing, would not be easier to reverse engineer simply by looking at the inputs and outputs, then forming a spec. from that &amp; handing it to a software engineering team with the instructions &quot;write this app.&quot;? As an aside, the software team would likely implement it better than the &#39;loan wolf&#39; programmer who had the great idea in the first place. Oh, and that would be 100% legal in just about every country. I agree with @JakeHolzinger - a software license is the most practical approach.","body":"Curiosity causes me to ask: What programming concept worth stealing, would not be easier to reverse engineer simply by looking at the inputs and outputs, then forming a spec. from that &amp; handing it to a software engineering team with the instructions &quot;write this app.&quot;? As an aside, the software team would likely implement it better than the &#39;loan wolf&#39; programmer who had the great idea in the first place. Oh, and that would be 100% legal in just about every country. I agree with @JakeHolzinger - a software license is the most practical approach."},{"owner":{"account_id":14882736,"reputation":577,"user_id":10746872,"display_name":"VoidTwo"},"score":0,"creation_date":1543974967,"post_id":53623548,"comment_id":94108392,"body_markdown":"@JamesKPolk, you would be right except the decryption method wouldn&#39;t be as simple as if (cipher.equals(secretWord)) {decrypt();}\n\nIt would be an algorithom using &#39;math&#39; to decrypt the code using the exact cipher. Look into AES 256 to understand it better.","body":"@JamesKPolk, you would be right except the decryption method wouldn&#39;t be as simple as if (cipher.equals(secretWord)) {decrypt();}  It would be an algorithom using &#39;math&#39; to decrypt the code using the exact cipher. Look into AES 256 to understand it better."},{"owner":{"account_id":14882736,"reputation":577,"user_id":10746872,"display_name":"VoidTwo"},"score":0,"creation_date":1543975342,"post_id":53623548,"comment_id":94108483,"body_markdown":"And @JakeHolzinger. This isn&#39;t something I want to sell or distribute on a commercial scale. I want to use this like a password protected java program. For myself and a couple friends.","body":"And @JakeHolzinger. This isn&#39;t something I want to sell or distribute on a commercial scale. I want to use this like a password protected java program. For myself and a couple friends."},{"owner":{"account_id":5781840,"reputation":5843,"user_id":4562204,"display_name":"Jake Holzinger"},"score":0,"creation_date":1543981622,"post_id":53623548,"comment_id":94109851,"body_markdown":"@VoidTwo if you really want to do this you could simply run the executable JAR with a command line argument or environment variable that points to an encryption key, then you can implement a custom class loader that reads the encryption key, decrypts the necessary JAR, and loads the JAR it into the Java runtime.","body":"@VoidTwo if you really want to do this you could simply run the executable JAR with a command line argument or environment variable that points to an encryption key, then you can implement a custom class loader that reads the encryption key, decrypts the necessary JAR, and loads the JAR it into the Java runtime."},{"owner":{"account_id":14882736,"reputation":577,"user_id":10746872,"display_name":"VoidTwo"},"score":0,"creation_date":1543981883,"post_id":53623548,"comment_id":94109907,"body_markdown":"@JakeHolzinger, thank you. Do you mind demonstrating how I would do that?","body":"@JakeHolzinger, thank you. Do you mind demonstrating how I would do that?"}],"answers":[{"tags":[],"owner":{"account_id":5781840,"reputation":5843,"user_id":4562204,"display_name":"Jake Holzinger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1543994896,"creation_date":1543994896,"answer_id":53627229,"question_id":53623548,"body_markdown":"Imagine you have a JAR file where some of the classes have been encrypted after compilation. \r\n\r\nLet&#39;s say you have an encrypted class called `SecureMain` that you want to decrypt and execute:\r\n\r\n    public class SecureMain implements Runnable {\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tSystem.out.println(&quot;Running...&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nGiven the following JAR file structure:\r\n\r\n    org\r\n    `---stackoveflow\r\n        `---example\r\n            |---EncryptedClassLoader.class\r\n            |---Main.class\r\n            `---SecureMain.enc\r\n\r\nWhere the files with an `enc` file extension are encrypted using some secret key.\r\n\r\nThe `EncryptedClassLoader` can be implemented to decrypt the class file before it is loaded:\r\n\r\n    public class EncryptedClassLoader extends ClassLoader {\r\n    \r\n    \tprivate final SecretKeySpec key;\r\n    \r\n    \tpublic EncryptedClassLoader(SecretKeySpec key) {\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \r\n    \tprotected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\r\n    \t\ttry {\r\n    \t\t\tString[] segments = name.split(&quot;\\\\.&quot;);\r\n    \t\t\tString filePath = String.join(&quot;/&quot;, segments) + &quot;.enc&quot;;\r\n    \t\t\tbyte[] bytes = decryptResource(filePath);\r\n    \t\t\treturn defineClass(name, bytes, 0, bytes.length);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new ClassNotFoundException(&quot;Unable to load class: &quot; + name, e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate byte[] decryptResource(String filePath) throws Exception {\r\n    \t\tFile file = new File(getResource(filePath).getFile());\r\n    \t\tbyte[] bytes = Files.readAllBytes(file.toPath());\r\n    \t\tCipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n    \t\tcipher.init(Cipher.DECRYPT_MODE, key);\r\n    \t\treturn cipher.doFinal(bytes);\r\n    \t}\r\n    \r\n    }\r\n\r\nThen the `Main` class can be implemented to load the secret key from the command line arguments, then load an execute the encrypted `SecureMain` class:\r\n\r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tbyte[] bytes = Base64.getDecoder().decode(args[0]);\r\n    \t\tSecretKeySpec key = new SecretKeySpec(bytes, &quot;AES&quot;);\r\n    \t\tClassLoader loader = new EncryptedClassLoader(key);\r\n    \t\tClass&lt;?&gt; cls = loader.loadClass(&quot;com.stackoverflow.example.SecureMain&quot;);\r\n    \t\tRunnable main = (Runnable) cls.newInstance();\r\n    \t\tmain.run();\r\n    \t}\r\n    \r\n    }\r\n\r\nFinally the JAR should be executed with the secret key passed as an argument.\r\n\r\n    java -jar myjar.jar &lt;base64 encoded key&gt;\r\n\r\n\r\n\r\n","title":"Encrypting an executable jar","body":"<p>Imagine you have a JAR file where some of the classes have been encrypted after compilation. </p>\n\n<p>Let's say you have an encrypted class called <code>SecureMain</code> that you want to decrypt and execute:</p>\n\n<pre><code>public class SecureMain implements Runnable {\n\n    @Override\n    public void run() {\n        System.out.println(\"Running...\");\n    }\n\n}\n</code></pre>\n\n<p>Given the following JAR file structure:</p>\n\n<pre><code>org\n`---stackoveflow\n    `---example\n        |---EncryptedClassLoader.class\n        |---Main.class\n        `---SecureMain.enc\n</code></pre>\n\n<p>Where the files with an <code>enc</code> file extension are encrypted using some secret key.</p>\n\n<p>The <code>EncryptedClassLoader</code> can be implemented to decrypt the class file before it is loaded:</p>\n\n<pre><code>public class EncryptedClassLoader extends ClassLoader {\n\n    private final SecretKeySpec key;\n\n    public EncryptedClassLoader(SecretKeySpec key) {\n        this.key = key;\n    }\n\n    protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n        try {\n            String[] segments = name.split(\"\\\\.\");\n            String filePath = String.join(\"/\", segments) + \".enc\";\n            byte[] bytes = decryptResource(filePath);\n            return defineClass(name, bytes, 0, bytes.length);\n        } catch (Exception e) {\n            throw new ClassNotFoundException(\"Unable to load class: \" + name, e);\n        }\n    }\n\n    private byte[] decryptResource(String filePath) throws Exception {\n        File file = new File(getResource(filePath).getFile());\n        byte[] bytes = Files.readAllBytes(file.toPath());\n        Cipher cipher = Cipher.getInstance(\"AES\");\n        cipher.init(Cipher.DECRYPT_MODE, key);\n        return cipher.doFinal(bytes);\n    }\n\n}\n</code></pre>\n\n<p>Then the <code>Main</code> class can be implemented to load the secret key from the command line arguments, then load an execute the encrypted <code>SecureMain</code> class:</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws Exception {\n        byte[] bytes = Base64.getDecoder().decode(args[0]);\n        SecretKeySpec key = new SecretKeySpec(bytes, \"AES\");\n        ClassLoader loader = new EncryptedClassLoader(key);\n        Class&lt;?&gt; cls = loader.loadClass(\"com.stackoverflow.example.SecureMain\");\n        Runnable main = (Runnable) cls.newInstance();\n        main.run();\n    }\n\n}\n</code></pre>\n\n<p>Finally the JAR should be executed with the secret key passed as an argument.</p>\n\n<pre><code>java -jar myjar.jar &lt;base64 encoded key&gt;\n</code></pre>\n"}],"owner":{"account_id":14882736,"reputation":577,"user_id":10746872,"display_name":"VoidTwo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5390,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":53627229,"answer_count":1,"score":2,"last_activity_date":1647498851,"creation_date":1543970586,"question_id":53623548,"body_markdown":"&lt;p&gt;To get the basics out of the way, I&#39;m using Eclipse to code and create my executable jar files.&lt;br&gt;&lt;br&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;Some background research:&lt;/b&gt;&lt;br&gt;I&#39;m aware that you can decompile jar files and see the source code. In fact, there are free programs out there like &lt;i&gt;JD GUI&lt;/i&gt; that can easily decompile a jar file and reveal all its contents. This is an issue especially if you want to distribute a java program.&lt;br&gt;When I learned about this, I immediately began looking around for a solution, but I couldn&#39;t find a straight answer.&lt;br&gt;&lt;br&gt;&lt;/p&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;The issue:&lt;/b&gt;&lt;br&gt;My question is, how do you encrypt a jar file, or at least encrypt the class file so that it isn&#39;t readable if you decompile it?&lt;br&gt;One solution I keep seeing is that you can obfuscate your code, but the issue with this is that your code still has to be able to run, and therefore the obfuscation can be reverse engineered with a little effort. The only other solution I could think of is having two separate jar files so that one of the jar files is encrypted and requires the other jar file to decrypt it. Now, before you say &quot;they could just decompile the other jar and use it to decrypt the first jar&quot;. My idea was using a cipher that would be used to decrypt the first jar. In theory, the user could know the exact decryption method, but it would be completely useless without the secret word (cipher).&lt;br&gt;&lt;/P&gt;\r\n\r\n&lt;p&gt;&lt;b&gt;My question:&lt;/b&gt;&lt;br&gt;How would I implement this? I&#39;m asking how do I run a jar file to encrypt/decrypt another jar with a user-specified cipher?&lt;br&gt;Feel free to give example code, I&#39;m looking for any help I can get.&lt;br&gt;&lt;br&gt;Thanks in advance!&lt;/p&gt;","title":"Encrypting an executable jar","body":"<p>To get the basics out of the way, I'm using Eclipse to code and create my executable jar files.<br><br></p>\n\n<p><b>Some background research:</b><br>I'm aware that you can decompile jar files and see the source code. In fact, there are free programs out there like <i>JD GUI</i> that can easily decompile a jar file and reveal all its contents. This is an issue especially if you want to distribute a java program.<br>When I learned about this, I immediately began looking around for a solution, but I couldn't find a straight answer.<br><br></p>\n\n<p><p><b>The issue:</b><br>My question is, how do you encrypt a jar file, or at least encrypt the class file so that it isn't readable if you decompile it?<br>One solution I keep seeing is that you can obfuscate your code, but the issue with this is that your code still has to be able to run, and therefore the obfuscation can be reverse engineered with a little effort. The only other solution I could think of is having two separate jar files so that one of the jar files is encrypted and requires the other jar file to decrypt it. Now, before you say \"they could just decompile the other jar and use it to decrypt the first jar\". My idea was using a cipher that would be used to decrypt the first jar. In theory, the user could know the exact decryption method, but it would be completely useless without the secret word (cipher).<br></P></p>\n\n<p><b>My question:</b><br>How would I implement this? I'm asking how do I run a jar file to encrypt/decrypt another jar with a user-specified cipher?<br>Feel free to give example code, I'm looking for any help I can get.<br><br>Thanks in advance!</p>\n"},{"tags":["java","selenium","testing"],"answers":[{"tags":[],"owner":{"account_id":18348172,"reputation":302,"user_id":13362939,"display_name":"Kumar Rishabh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647498597,"creation_date":1647498597,"answer_id":71507900,"question_id":71505956,"body_markdown":"    var options = new ChromeOptions();\r\n                options.AddArguments(&quot;--enable-javascript&quot;);\r\n    options.AddUserProfilePreference(&quot;profile.cookie_controls_mode&quot;, 0);\r\n                driver = new ChromeDriver(&quot;C:\\\\Program Files (x86)\\\\Google\\\\Chrome\\\\Application&quot;, options);\r\n    \r\n                driver.Navigate().GoToUrl(loginUrl);\r\n\r\n\r\nTry the above for javascript and cookies enabled. The code is in c#. You may try the desired option in your own programming language.","title":"how to enable cookies/javascript","body":"<pre><code>var options = new ChromeOptions();\n            options.AddArguments(&quot;--enable-javascript&quot;);\noptions.AddUserProfilePreference(&quot;profile.cookie_controls_mode&quot;, 0);\n            driver = new ChromeDriver(&quot;C:\\\\Program Files (x86)\\\\Google\\\\Chrome\\\\Application&quot;, options);\n\n            driver.Navigate().GoToUrl(loginUrl);\n</code></pre>\n<p>Try the above for javascript and cookies enabled. The code is in c#. You may try the desired option in your own programming language.</p>\n"}],"owner":{"account_id":7262069,"reputation":3,"user_id":5538374,"display_name":"Yamarai Akizuki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647498597,"creation_date":1647479364,"question_id":71505956,"body_markdown":"I&#39;m trying to create a scenario on chegg.com\r\n but it seems that it is programmed to detect automation tools \r\n\r\n[enter image description here][1]\r\n\r\n\r\nis there a way to enable javascript and cookies before and preconfig or at least a way to not trigger this issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KRhix.png","title":"how to enable cookies/javascript","body":"<p>I'm trying to create a scenario on chegg.com\nbut it seems that it is programmed to detect automation tools</p>\n<p><a href=\"https://i.stack.imgur.com/KRhix.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>is there a way to enable javascript and cookies before and preconfig or at least a way to not trigger this issue?</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":14605352,"reputation":151,"user_id":10548414,"display_name":"Subham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647495414,"creation_date":1647495414,"answer_id":71507506,"question_id":71497619,"body_markdown":"Jackson might not serialize the field because the following field is null. Try removing @JsonInclude() annotation from the field like this \r\n\r\n    @Transient\r\n    @JsonSerialize\r\n    @JsonDeserialize\r\n    private String centre_rc;\r\n\r\nAnd add @JsonInclude annotation at the class level\r\n\r\n    @Entity\r\n    @Table(name = &quot;utilisateur&quot;)\r\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class Utilisateur implements Serializable {\r\n        // your code goes here\r\n    }","title":"field with @Transient annotation doesn&#39;t appear in returned JSON","body":"<p>Jackson might not serialize the field because the following field is null. Try removing @JsonInclude() annotation from the field like this</p>\n<pre><code>@Transient\n@JsonSerialize\n@JsonDeserialize\nprivate String centre_rc;\n</code></pre>\n<p>And add @JsonInclude annotation at the class level</p>\n<pre><code>@Entity\n@Table(name = &quot;utilisateur&quot;)\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Utilisateur implements Serializable {\n    // your code goes here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22467756,"reputation":46,"user_id":16668645,"display_name":"harrison1017"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647497571,"creation_date":1647497571,"answer_id":71507768,"question_id":71497619,"body_markdown":"    @Transient\r\n    @JsonProperty\r\n    private String centre_rc;\r\nYou can try to use this annotation `@JsonProperty`, I use this in my project and it works.","title":"field with @Transient annotation doesn&#39;t appear in returned JSON","body":"<pre><code>@Transient\n@JsonProperty\nprivate String centre_rc;\n</code></pre>\n<p>You can try to use this annotation <code>@JsonProperty</code>, I use this in my project and it works.</p>\n"}],"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647497571,"creation_date":1647435857,"question_id":71497619,"body_markdown":"I need to get a custom json containing the fields of the class **Utilisateur** plus a fied `centre_rc)` of another class **Operateur** I tried to implement this using @Transient with `centre_rc` in Utilisateur.java but when i get my json this field `centre_rc` is missing.\r\n\r\nhere is Utilisateur class\r\n``` \r\n@Entity\r\n@Table(name = &quot;utilisateur&quot;)\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class Utilisateur implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;nom_utilisateur&quot;)\r\n    private String nomUtilisateur;\r\n\r\n    @Column(name = &quot;prenom&quot;)\r\n    private String prenom;\r\n\r\n    @Column(name = &quot;nom&quot;)\r\n    private String nom;\r\n\r\n    @Column(name = &quot;date_inscription&quot;)\r\n    private LocalDate dateInscription;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n \r\n    @Transient\r\n    @JsonSerialize\r\n    //@JsonView\r\n    @JsonDeserialize\r\n    @JsonInclude()\r\n    private String centre_rc;\r\n\r\n    @ManyToOne\r\n    @JsonIgnoreProperties(value = { &quot;utilisateurs&quot; }, allowSetters = true)\r\n    private Operateur operateur;\r\n//getters &amp; setters\r\n}\r\n``` \r\nhere is Operateur class\r\n``` \r\n@Entity\r\n@Table(name = &quot;operateur&quot;)\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class Operateur implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;centre_rc&quot;)\r\n    private String centreRc;\r\n\r\n    @Column(name = &quot;numero_rc&quot;)\r\n    private String numeroRc;\r\n\r\n    @OneToMany(mappedBy = &quot;operateur&quot;)\r\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n    @JsonIgnoreProperties(value = { &quot;operateur&quot; }, allowSetters = true)\r\n    private Set&lt;Utilisateur&gt; utilisateurs = new HashSet&lt;&gt;();\r\n    //getters &amp; setters\r\n}\r\n``` \r\nIn UtilisateurRepository.java here is my SQL query:\r\n``` \r\n@Query(value = &quot;select u.*, o.centre_rc from utilisateur u inner join operateur o on o.id=u.operateur_id&quot;, nativeQuery = true)\r\n    Page&lt;Utilisateur&gt; findAllOperateurs(Pageable pageable);\r\n``` \r\nIn UtilisateurResource.java\r\n```\r\n@GetMapping(&quot;/utilisateursOperateurs&quot;)\r\n    public ResponseEntity&lt;List&lt;Utilisateur&gt;&gt; getAllUtilisateursCalledOperateurs(\r\n        @org.springdoc.api.annotations.ParameterObject Pageable pageable\r\n    ) {\r\n        log.debug(&quot;REST request to get a page of Utilisateurs&quot;);\r\n        Page&lt;Utilisateur&gt; page = utilisateurRepository.findAllOperateurs(pageable);\r\n        HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\r\n        return ResponseEntity.ok().headers(headers).body(page.getContent());\r\n    }\r\n```\r\nthe result of this query return something like this:\r\n\r\n    [\r\n      {\r\n        &quot;id&quot;: 3,\r\n        &quot;nomUtilisateur&quot;: &quot;e-business Granite drive&quot;,\r\n        &quot;prenom&quot;: &quot;context-sensitive strategic calculate&quot;,\r\n        &quot;nom&quot;: &quot;maximized Oberkampf withdrawal&quot;,\r\n        &quot;dateInscription&quot;: &quot;2022-03-11&quot;,\r\n        &quot;password&quot;: &quot;viral&quot;,\r\n        &quot;operateur&quot;: {\r\n          &quot;id&quot;: 8,\r\n          &quot;centreRc&quot;: &quot;parsing primary invoice&quot;,\r\n          &quot;numeroRc&quot;: &quot;Harpe&quot;\r\n        }\r\n      }\r\n    ]\r\n\r\n\r\n\r\n","title":"field with @Transient annotation doesn&#39;t appear in returned JSON","body":"<p>I need to get a custom json containing the fields of the class <strong>Utilisateur</strong> plus a fied <code>centre_rc)</code> of another class <strong>Operateur</strong> I tried to implement this using @Transient with <code>centre_rc</code> in Utilisateur.java but when i get my json this field <code>centre_rc</code> is missing.</p>\n<p>here is Utilisateur class</p>\n<pre><code>@Entity\n@Table(name = &quot;utilisateur&quot;)\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Utilisateur implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;nom_utilisateur&quot;)\n    private String nomUtilisateur;\n\n    @Column(name = &quot;prenom&quot;)\n    private String prenom;\n\n    @Column(name = &quot;nom&quot;)\n    private String nom;\n\n    @Column(name = &quot;date_inscription&quot;)\n    private LocalDate dateInscription;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n \n    @Transient\n    @JsonSerialize\n    //@JsonView\n    @JsonDeserialize\n    @JsonInclude()\n    private String centre_rc;\n\n    @ManyToOne\n    @JsonIgnoreProperties(value = { &quot;utilisateurs&quot; }, allowSetters = true)\n    private Operateur operateur;\n//getters &amp; setters\n}\n</code></pre>\n<p>here is Operateur class</p>\n<pre><code>@Entity\n@Table(name = &quot;operateur&quot;)\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Operateur implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;centre_rc&quot;)\n    private String centreRc;\n\n    @Column(name = &quot;numero_rc&quot;)\n    private String numeroRc;\n\n    @OneToMany(mappedBy = &quot;operateur&quot;)\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n    @JsonIgnoreProperties(value = { &quot;operateur&quot; }, allowSetters = true)\n    private Set&lt;Utilisateur&gt; utilisateurs = new HashSet&lt;&gt;();\n    //getters &amp; setters\n}\n</code></pre>\n<p>In UtilisateurRepository.java here is my SQL query:</p>\n<pre><code>@Query(value = &quot;select u.*, o.centre_rc from utilisateur u inner join operateur o on o.id=u.operateur_id&quot;, nativeQuery = true)\n    Page&lt;Utilisateur&gt; findAllOperateurs(Pageable pageable);\n</code></pre>\n<p>In UtilisateurResource.java</p>\n<pre><code>@GetMapping(&quot;/utilisateursOperateurs&quot;)\n    public ResponseEntity&lt;List&lt;Utilisateur&gt;&gt; getAllUtilisateursCalledOperateurs(\n        @org.springdoc.api.annotations.ParameterObject Pageable pageable\n    ) {\n        log.debug(&quot;REST request to get a page of Utilisateurs&quot;);\n        Page&lt;Utilisateur&gt; page = utilisateurRepository.findAllOperateurs(pageable);\n        HttpHeaders headers = PaginationUtil.generatePaginationHttpHeaders(ServletUriComponentsBuilder.fromCurrentRequest(), page);\n        return ResponseEntity.ok().headers(headers).body(page.getContent());\n    }\n</code></pre>\n<p>the result of this query return something like this:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 3,\n    &quot;nomUtilisateur&quot;: &quot;e-business Granite drive&quot;,\n    &quot;prenom&quot;: &quot;context-sensitive strategic calculate&quot;,\n    &quot;nom&quot;: &quot;maximized Oberkampf withdrawal&quot;,\n    &quot;dateInscription&quot;: &quot;2022-03-11&quot;,\n    &quot;password&quot;: &quot;viral&quot;,\n    &quot;operateur&quot;: {\n      &quot;id&quot;: 8,\n      &quot;centreRc&quot;: &quot;parsing primary invoice&quot;,\n      &quot;numeroRc&quot;: &quot;Harpe&quot;\n    }\n  }\n]\n</code></pre>\n"},{"tags":["java","spring-boot","spring-jdbc","itext7"],"answers":[{"tags":[],"owner":{"account_id":345916,"reputation":461,"user_id":679116,"display_name":"S_G"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647496951,"creation_date":1647496951,"answer_id":71507698,"question_id":71507417,"body_markdown":"You can basically use another overloaded constructor  of Table class that is specially meant for large tables.  It takes boolean as an argument to basically reduce memory footprint if you set it to true. Please refer to this example of how it can be done in iText 7 https://kb.itextpdf.com/home/it7kb/examples/large-tables\r\n\r\n\r\n        // The second argument determines &#39;large table&#39; functionality is used\r\n        // It defines whether parts of the table will be written before all data is added.\r\n        Table table = new Table(UnitValue.createPercentArray(5), true);","title":"PDF generation fails with large number of records","body":"<p>You can basically use another overloaded constructor  of Table class that is specially meant for large tables.  It takes boolean as an argument to basically reduce memory footprint if you set it to true. Please refer to this example of how it can be done in iText 7 <a href=\"https://kb.itextpdf.com/home/it7kb/examples/large-tables\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/home/it7kb/examples/large-tables</a></p>\n<pre><code>    // The second argument determines 'large table' functionality is used\n    // It defines whether parts of the table will be written before all data is added.\n    Table table = new Table(UnitValue.createPercentArray(5), true);\n</code></pre>\n"}],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":71507698,"answer_count":1,"score":2,"last_activity_date":1647496951,"creation_date":1647494456,"question_id":71507417,"body_markdown":"I am using itext 7 pdf to generate PDF from jdbc query . It works fine for 4000 records but once we inserted 17000 records in the table, I started getting Java Out of Memory space . I am getting all the data in one shot as shown below , how do I modify it to use paginated query and stitch all the paginated results into one PDF .\r\n\r\nThis is my driver code which gets in table name and HttpServlet and passes it to class which implements ResultSetExtractor. \r\n\r\n```\r\npublic void generatePDF(String tableName, HttpServletResponse response, String[] filter) throws DataAccessException, IOException {\r\n        //Table validation logic\r\n\t\tString sql = &quot;select * from table&quot;;\r\n\t\tmainJdbcTemplate.query(sql, paramMap,\r\n\t\t\t\tnew StreamingPDFResultSetExtractor(response.getOutputStream(), tableName));\r\n\t}\r\n``` \r\nCustom class which implements Result Set extractor . I get in all the result set data and use itext to generate PDF. \r\n\r\n```\r\npublic class StreamingPDFResultSetExtractor implements ResultSetExtractor&lt;Void&gt; {\r\n\r\n\tprivate final OutputStream os;\r\n\tprivate String tableName;\r\n\r\n\t/**\r\n\t * @param os the OutputStream to stream the PDF to\r\n\t */\r\n\tpublic StreamingPDFResultSetExtractor(final OutputStream os, final String tableName) {\r\n\t\tthis.os = os;\r\n\t\tthis.tableName = tableName;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Void extractData(final ResultSet rs) throws SQLException {\r\n\t\t// Creating a PdfDocument\r\n\t\tPdfDocument pdfDoc = new PdfDocument(new PdfWriter(os));\r\n\t\t// Creating a Document and setting page size\r\n\t\tDocument document = new Document(pdfDoc, new PageSize(2384, 3370));\r\n\t\t// Adding a new page\r\n\t\tpdfDoc.addNewPage();\r\n\t\tfinal var rsmd = rs.getMetaData();\r\n\t\tfinal var columnCount = rsmd.getColumnCount();\r\n\t\ttry {\r\n\t\t\tlog.info(&quot;Generating PDF&quot;);\r\n\t\t\tParagraph tablename = new Paragraph(tableName);\r\n\t\t\ttablename.setFontSize(20);\r\n\t\t\t// Add table\r\n\t\t\tTable table = new Table(columnCount);\r\n\t\t\t// Set width of table\r\n\t\t\ttable.setWidth(UnitValue.createPercentValue(100)).setFixedLayout();\r\n\t\t\ttable.setHorizontalAlignment(HorizontalAlignment.CENTER);\r\n\t\t\ttable.setTextAlignment(TextAlignment.CENTER);\r\n\t\t\t// Header Font and color\r\n\t\t\tDeviceRgb hColor = new DeviceRgb(3, 148, 252);\r\n\r\n\t\t\tfor (var i = 1; i &lt;= columnCount; i++) {\r\n\t\t\t\tCell hcell = new Cell();\r\n\t\t\t\thcell.add(new Paragraph(rsmd.getColumnName(i)));\r\n\t\t\t\thcell.setFontSize(14);\r\n\t\t\t\thcell.setBackgroundColor(hColor);\r\n\t\t\t\ttable.addHeaderCell(hcell);\r\n\t\t\t}\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\tfor (var i = 1; i &lt;= columnCount; i++) {\r\n\t\t\t\t\tfinal var value = rs.getObject(i);\r\n\t\t\t\t\tString v = value == null ? &quot;&quot; : value.toString();\r\n\t\t\t\t\t\tCell cell = new Cell();\r\n\t\t\t\t\t\tcell.add(new Paragraph(v));\r\n\t\t\t\t\t\ttable.addCell(cell);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdocument.add(tablename);\r\n\t\t\tdocument.add(table);\r\n\t\t\tdocument.close();\r\n\t\t\tlog.info(&quot;PDF generation complete&quot;);\r\n\r\n\t\t} catch (Exception ex) {\r\n\r\n\t\t\tlog.error(&quot;Error occurred: {0}&quot;, ex);\r\n\t\t}\r\n\t\treturn null;\r\n\r\n\t}\r\n}\r\n```","title":"PDF generation fails with large number of records","body":"<p>I am using itext 7 pdf to generate PDF from jdbc query . It works fine for 4000 records but once we inserted 17000 records in the table, I started getting Java Out of Memory space . I am getting all the data in one shot as shown below , how do I modify it to use paginated query and stitch all the paginated results into one PDF .</p>\n<p>This is my driver code which gets in table name and HttpServlet and passes it to class which implements ResultSetExtractor.</p>\n<pre><code>public void generatePDF(String tableName, HttpServletResponse response, String[] filter) throws DataAccessException, IOException {\n        //Table validation logic\n        String sql = &quot;select * from table&quot;;\n        mainJdbcTemplate.query(sql, paramMap,\n                new StreamingPDFResultSetExtractor(response.getOutputStream(), tableName));\n    }\n</code></pre>\n<p>Custom class which implements Result Set extractor . I get in all the result set data and use itext to generate PDF.</p>\n<pre><code>public class StreamingPDFResultSetExtractor implements ResultSetExtractor&lt;Void&gt; {\n\n    private final OutputStream os;\n    private String tableName;\n\n    /**\n     * @param os the OutputStream to stream the PDF to\n     */\n    public StreamingPDFResultSetExtractor(final OutputStream os, final String tableName) {\n        this.os = os;\n        this.tableName = tableName;\n    }\n\n    @Override\n    public Void extractData(final ResultSet rs) throws SQLException {\n        // Creating a PdfDocument\n        PdfDocument pdfDoc = new PdfDocument(new PdfWriter(os));\n        // Creating a Document and setting page size\n        Document document = new Document(pdfDoc, new PageSize(2384, 3370));\n        // Adding a new page\n        pdfDoc.addNewPage();\n        final var rsmd = rs.getMetaData();\n        final var columnCount = rsmd.getColumnCount();\n        try {\n            log.info(&quot;Generating PDF&quot;);\n            Paragraph tablename = new Paragraph(tableName);\n            tablename.setFontSize(20);\n            // Add table\n            Table table = new Table(columnCount);\n            // Set width of table\n            table.setWidth(UnitValue.createPercentValue(100)).setFixedLayout();\n            table.setHorizontalAlignment(HorizontalAlignment.CENTER);\n            table.setTextAlignment(TextAlignment.CENTER);\n            // Header Font and color\n            DeviceRgb hColor = new DeviceRgb(3, 148, 252);\n\n            for (var i = 1; i &lt;= columnCount; i++) {\n                Cell hcell = new Cell();\n                hcell.add(new Paragraph(rsmd.getColumnName(i)));\n                hcell.setFontSize(14);\n                hcell.setBackgroundColor(hColor);\n                table.addHeaderCell(hcell);\n            }\n            while (rs.next()) {\n                for (var i = 1; i &lt;= columnCount; i++) {\n                    final var value = rs.getObject(i);\n                    String v = value == null ? &quot;&quot; : value.toString();\n                        Cell cell = new Cell();\n                        cell.add(new Paragraph(v));\n                        table.addCell(cell);\n                    }\n\n                }\n            }\n            document.add(tablename);\n            document.add(table);\n            document.close();\n            log.info(&quot;PDF generation complete&quot;);\n\n        } catch (Exception ex) {\n\n            log.error(&quot;Error occurred: {0}&quot;, ex);\n        }\n        return null;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14605352,"reputation":151,"user_id":10548414,"display_name":"Subham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647495702,"creation_date":1647495702,"answer_id":71507550,"question_id":71504942,"body_markdown":"Spring boot with Kafka comes with various autoconfiguration out-of-the-box to save you from the trouble of configuring each and everything (though you can definitely override spring-boot opinionated autoconfiguration). \r\n\r\n- So, if you want a ready-made application to work quickly, you can take the help of spring-boot and its utilities. \r\n\r\n- If your preference is configuring each and everything to gain fine control, use core libraries.\r\n\r\nI&#39;d say it&#39;s just a matter of choice or preference. ","title":"what are the benefits of using a spring-boot library instead of the core libs?","body":"<p>Spring boot with Kafka comes with various autoconfiguration out-of-the-box to save you from the trouble of configuring each and everything (though you can definitely override spring-boot opinionated autoconfiguration).</p>\n<ul>\n<li><p>So, if you want a ready-made application to work quickly, you can take the help of spring-boot and its utilities.</p>\n</li>\n<li><p>If your preference is configuring each and everything to gain fine control, use core libraries.</p>\n</li>\n</ul>\n<p>I'd say it's just a matter of choice or preference.</p>\n"}],"owner":{"account_id":216544,"reputation":647,"user_id":471861,"accept_rate":75,"display_name":"trio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647497455,"accepted_answer_id":71507550,"answer_count":1,"score":0,"last_activity_date":1647495702,"creation_date":1647469652,"question_id":71504942,"body_markdown":"I need to use Kafka in my spring-boot application and I see spring-boot has its own spring-kafka library. I am new to spring and java and confused if I should be using spring-kafka or any other application&#39;s spring-based lib rather than using the core libraries and what are the benefits of either one of them.","title":"what are the benefits of using a spring-boot library instead of the core libs?","body":"<p>I need to use Kafka in my spring-boot application and I see spring-boot has its own spring-kafka library. I am new to spring and java and confused if I should be using spring-kafka or any other application's spring-based lib rather than using the core libraries and what are the benefits of either one of them.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1647495624,"post_id":71507352,"comment_id":126386858,"body_markdown":"It is only a warning. Not an error.","body":"It is only a warning. Not an error."}],"answers":[{"tags":[],"owner":{"account_id":15339968,"reputation":1,"user_id":11067262,"display_name":"Satyarth Shankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647495572,"creation_date":1647495572,"answer_id":71507525,"question_id":71507352,"body_markdown":"I copy pasted your code in a text editor inside a file called `FirstClass.java`\r\n\r\nCompiled your code using `javac FirstClass.java`\r\nRan it using `java FirstClass`\r\n\r\nThis takes the cursor to the next line where an input is expected. I entered the string &quot;hey&quot;, and your code printed out &quot;hey&quot;.\r\n\r\nIn short, your code is working fine. You need to enter an input after you run your code.\r\n\r\nPS: `&#39;sc&#39; is never closed` is a warning and not an error. You should however consider using `try-with-resources` to prevent any resource leaks.","title":"I am not able to get the output for the following code and the error is shown in &#39;sc&#39;. Error shown is &quot;Resource leak: &#39;sc&#39; is never closed&quot;","body":"<p>I copy pasted your code in a text editor inside a file called <code>FirstClass.java</code></p>\n<p>Compiled your code using <code>javac FirstClass.java</code>\nRan it using <code>java FirstClass</code></p>\n<p>This takes the cursor to the next line where an input is expected. I entered the string &quot;hey&quot;, and your code printed out &quot;hey&quot;.</p>\n<p>In short, your code is working fine. You need to enter an input after you run your code.</p>\n<p>PS: <code>'sc' is never closed</code> is a warning and not an error. You should however consider using <code>try-with-resources</code> to prevent any resource leaks.</p>\n"}],"owner":{"account_id":24585232,"reputation":1,"user_id":18489830,"display_name":"Riya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647495572,"creation_date":1647493700,"question_id":71507352,"body_markdown":"  I am trying to take input from the keyboard but I am getting errors. \r\n\r\n     import java.util.*;\r\n            public class FirstClass{\r\n                public static void main(String[] args){\r\n                    Scanner sc=new Scanner(System.in);\r\n                    String name=sc.next();\r\n                    System.out.println(name);\r\n               }\r\n    \r\n    \r\n    }","title":"I am not able to get the output for the following code and the error is shown in &#39;sc&#39;. Error shown is &quot;Resource leak: &#39;sc&#39; is never closed&quot;","body":"<p>I am trying to take input from the keyboard but I am getting errors.</p>\n<pre><code> import java.util.*;\n        public class FirstClass{\n            public static void main(String[] args){\n                Scanner sc=new Scanner(System.in);\n                String name=sc.next();\n                System.out.println(name);\n           }\n\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1647191872,"post_id":71459045,"comment_id":126304044,"body_markdown":"They exist just fine, but there&#39;d be no point in showing them. It&#39;s just pointless noise. Presumably you think you need to see them for some unstated (and likely incorrect) assumption. Perhaps update the question? Nobody wakes up and goes: I know! I want to see class files in my package explorer! You&#39;re trying to accomplish something else. There&#39;s probably a better way than &#39;somehow make class files appear&#39;. Unless you speak of class files from dependencies, those _are_ already in your package explorer, by default. If you don&#39;t see them you didn&#39;t add them to the project yet.","body":"They exist just fine, but there&#39;d be no point in showing them. It&#39;s just pointless noise. Presumably you think you need to see them for some unstated (and likely incorrect) assumption. Perhaps update the question? Nobody wakes up and goes: I know! I want to see class files in my package explorer! You&#39;re trying to accomplish something else. There&#39;s probably a better way than &#39;somehow make class files appear&#39;. Unless you speak of class files from dependencies, those <i>are</i> already in your package explorer, by default. If you don&#39;t see them you didn&#39;t add them to the project yet."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647192069,"post_id":71459045,"comment_id":126304092,"body_markdown":"Why would you want to?","body":"Why would you want to?"},{"owner":{"account_id":19222528,"reputation":11,"user_id":18455446,"display_name":"Salman"},"score":0,"creation_date":1647494477,"post_id":71459045,"comment_id":126386652,"body_markdown":"i just updated, Actually .class files are not visible in my Package Explorer","body":"i just updated, Actually .class files are not visible in my Package Explorer"}],"owner":{"account_id":19222528,"reputation":11,"user_id":18455446,"display_name":"Salman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647494413,"creation_date":1647191653,"question_id":71459045,"body_markdown":"I&#39;m new on java, actually when i create a project in eclipse there are only java files ,i want to see .class files also in Package Explorer  any way to do this.Actually i wana do JAR operations.","title":"Any way to see .class files in Package Explorer in Eclipse","body":"<p>I'm new on java, actually when i create a project in eclipse there are only java files ,i want to see .class files also in Package Explorer  any way to do this.Actually i wana do JAR operations.</p>\n"},{"tags":["java","database","jdbc","netbeans"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647501762,"post_id":71500417,"comment_id":126388259,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1647534274,"post_id":71500417,"comment_id":126400614,"body_markdown":"@Community There is no relevant code to show. The question is about two different tools within NetBeans giving conflicting results. How would providing code be meaningful in any way?","body":"@Community There is no relevant code to show. The question is about two different tools within NetBeans giving conflicting results. How would providing code be meaningful in any way?"}],"owner":{"account_id":12439751,"reputation":31,"user_id":9058554,"display_name":"Dan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647494106,"creation_date":1647446686,"question_id":71500417,"body_markdown":"I have an issue with my database application. When I launch the application I input some data and click the add button. The application window pops up and shows the data in the table.\r\n\r\nHowever, when I go to the **Services** tab in NetBeans and right click on the table and select &#39;View Data&#39; I see nothing but blank rows in the table output window.\r\n\r\nAny ideas why this is happening? Here is a screenshot of the problem:\r\n\r\n[![App and View Data Windows][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xmRou.png","title":"NetBeans: data shows in app window but not in table output window","body":"<p>I have an issue with my database application. When I launch the application I input some data and click the add button. The application window pops up and shows the data in the table.</p>\n<p>However, when I go to the <strong>Services</strong> tab in NetBeans and right click on the table and select 'View Data' I see nothing but blank rows in the table output window.</p>\n<p>Any ideas why this is happening? Here is a screenshot of the problem:</p>\n<p><a href=\"https://i.stack.imgur.com/xmRou.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xmRou.png\" alt=\"App and View Data Windows\" /></a></p>\n"},{"tags":["java","constructor","linked-list","stack","size"],"comments":[{"owner":{"account_id":9207737,"reputation":860,"user_id":6842300,"accept_rate":27,"display_name":"TheCodeCache"},"score":1,"creation_date":1587016385,"post_id":61243409,"comment_id":108343902,"body_markdown":"I think, having capacity to the linked list does not make any sense, because it&#39;s underlying storage data structure is not an array like in case of arraylist,","body":"I think, having capacity to the linked list does not make any sense, because it&#39;s underlying storage data structure is not an array like in case of arraylist,"},{"owner":{"account_id":9207737,"reputation":860,"user_id":6842300,"accept_rate":27,"display_name":"TheCodeCache"},"score":0,"creation_date":1587016463,"post_id":61243409,"comment_id":108343930,"body_markdown":"by the way what is your use case, i mean what if MyStack&#39;s initial capacity gets full, for ex: if the initial capacity is 5, and if we add 6th element should it throw exception?","body":"by the way what is your use case, i mean what if MyStack&#39;s initial capacity gets full, for ex: if the initial capacity is 5, and if we add 6th element should it throw exception?"},{"owner":{"account_id":12336410,"reputation":21,"user_id":9000959,"display_name":"noynoy"},"score":0,"creation_date":1587018504,"post_id":61243409,"comment_id":108344651,"body_markdown":"@Manoranjan, thank you for your reply. it is a homework to implement the stack. We are allowed to implement Array or Linked-list, but the professor holds the usage of capacity as mandatory. I want to back with Linked-list but wasn&#39;t able to initialize with capacity.","body":"@Manoranjan, thank you for your reply. it is a homework to implement the stack. We are allowed to implement Array or Linked-list, but the professor holds the usage of capacity as mandatory. I want to back with Linked-list but wasn&#39;t able to initialize with capacity."},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":1,"creation_date":1587058663,"post_id":61243409,"comment_id":108367198,"body_markdown":"I think the word &quot;capacity&quot; is being used in the assignment differently than we typically use it. Sounds to me like what the professor wants is for the stack to have a maximum allowable size, and for the program to issue an error (maybe throw an exception?) if an attempt is made to push an item that would exceed the stack&#39;s maximum size.","body":"I think the word &quot;capacity&quot; is being used in the assignment differently than we typically use it. Sounds to me like what the professor wants is for the stack to have a maximum allowable size, and for the program to issue an error (maybe throw an exception?) if an attempt is made to push an item that would exceed the stack&#39;s maximum size."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647493461,"creation_date":1587018295,"answer_id":61243964,"question_id":61243409,"body_markdown":"A *capacity* for an `ArrayList` is a hint to say how big to make the initial backing array.  The capacity does not limit how big the `ArrayList` will ultimately grow.\r\n\r\nA `LinkedList` does not have a backing array or anything like it.   There is no preallocation with a linked list, so the capacity of a `LinkedList` is a *meaningless* concept.\r\n\r\nIf you are looking for a way to limit the size of a list, read https://stackoverflow.com/questions/5207162/define-a-fixed-size-list-in-java.  \r\n\r\n-------------\r\n\r\n&gt; It is a homework to implement the stack. We are allowed to implement Array or Linked-list, but the professor holds the usage of capacity as mandatory. I want to back with Linked-list but wasn&#39;t able to initialize with capacity.\r\n\r\nIt is difficult to understand what is meant by that.  \r\n\r\nOne possible interpretation is that your stack API is required to support a *capacity* parameter in the sense of `ArrayList`.  For an implementation using linked lists, you would just ignore that parameter.\r\n\r\nA second interpretation is that you are being asked to implement a stack with a limited size.  In that case, your professor may be using the word &quot;capacity&quot; with a different meaning to what &quot;capacity&quot; means with `ArrayList`.\r\n\r\nIf you cannot work out what is required, I would advise you to ask your professor for clarification.","title":"what is the best option to initialize the size of linkedList in constructor with specified capacity?","body":"<p>A <em>capacity</em> for an <code>ArrayList</code> is a hint to say how big to make the initial backing array.  The capacity does not limit how big the <code>ArrayList</code> will ultimately grow.</p>\n<p>A <code>LinkedList</code> does not have a backing array or anything like it.   There is no preallocation with a linked list, so the capacity of a <code>LinkedList</code> is a <em>meaningless</em> concept.</p>\n<p>If you are looking for a way to limit the size of a list, read <a href=\"https://stackoverflow.com/questions/5207162/define-a-fixed-size-list-in-java\">Define a fixed-size list in Java</a>.</p>\n<hr />\n<blockquote>\n<p>It is a homework to implement the stack. We are allowed to implement Array or Linked-list, but the professor holds the usage of capacity as mandatory. I want to back with Linked-list but wasn't able to initialize with capacity.</p>\n</blockquote>\n<p>It is difficult to understand what is meant by that.</p>\n<p>One possible interpretation is that your stack API is required to support a <em>capacity</em> parameter in the sense of <code>ArrayList</code>.  For an implementation using linked lists, you would just ignore that parameter.</p>\n<p>A second interpretation is that you are being asked to implement a stack with a limited size.  In that case, your professor may be using the word &quot;capacity&quot; with a different meaning to what &quot;capacity&quot; means with <code>ArrayList</code>.</p>\n<p>If you cannot work out what is required, I would advise you to ask your professor for clarification.</p>\n"},{"tags":[],"owner":{"account_id":11983955,"reputation":1,"user_id":8768973,"display_name":"Sam Schweber"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1589396567,"creation_date":1589396567,"answer_id":61782822,"question_id":61243409,"body_markdown":"Typically stacks are implemented with ArrayLists or LinkedLists, but you can implement a stack using an array, and therefore set a capacity for the array/stack size. You cannot set a limit for a Linked Lists size when you declare it. \r\n\r\nFor implementation you should push elements into the first open position of the array. To pop an element implement a loop from the last index of the array until you find an index that contains an element.\r\n\r\nYou can also create a variable that keeps track of the top of the stack in your array","title":"what is the best option to initialize the size of linkedList in constructor with specified capacity?","body":"<p>Typically stacks are implemented with ArrayLists or LinkedLists, but you can implement a stack using an array, and therefore set a capacity for the array/stack size. You cannot set a limit for a Linked Lists size when you declare it. </p>\n\n<p>For implementation you should push elements into the first open position of the array. To pop an element implement a loop from the last index of the array until you find an index that contains an element.</p>\n\n<p>You can also create a variable that keeps track of the top of the stack in your array</p>\n"}],"owner":{"account_id":12336410,"reputation":21,"user_id":9000959,"display_name":"noynoy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1814,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647493461,"creation_date":1587015541,"question_id":61243409,"body_markdown":"```\r\npublic class MyStack {\r\n\r\n  private LinkedList&lt;Integer&gt; stack;\r\n\r\n  public MyStack(int capacity){\r\n      stack = new LinkedList&lt;Integer&gt;(capacity);\r\n  }\r\n}\r\n\r\n```","title":"what is the best option to initialize the size of linkedList in constructor with specified capacity?","body":"<pre><code>public class MyStack {\n\n  private LinkedList&lt;Integer&gt; stack;\n\n  public MyStack(int capacity){\n      stack = new LinkedList&lt;Integer&gt;(capacity);\n  }\n}\n\n</code></pre>\n"},{"tags":["java","scala","maven"],"answers":[{"tags":[],"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647493264,"creation_date":1647493264,"answer_id":71507304,"question_id":71506828,"body_markdown":"I created a Java class instead and used the CronUtils library then  used the Java class in scala \r\n\r\n    \r\n    import com.cronutils.model.Cron;\r\n    import com.cronutils.model.CronType;\r\n    import com.cronutils.model.definition.CronDefinitionBuilder;\r\n    import com.cronutils.model.time.ExecutionTime;\r\n    import com.cronutils.parser.CronParser;\r\n    \r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class CronUtil  {\r\n        public Long getInterval(String schedule ) {\r\n            CronParser parser = new CronParser(CronDefinitionBuilder.instanceDefinitionFor(CronType.UNIX));\r\n            Cron cron = parser.parse(schedule);\r\n            ZonedDateTime currDateTime = ZonedDateTime.parse(ZonedDateTime.now().toString());\r\n            Instant next = ExecutionTime.forCron(cron).nextExecution(currDateTime).get().toInstant();\r\n            Instant prev = ExecutionTime.forCron(cron).lastExecution(currDateTime).get().toInstant();\r\n            return Duration.between(prev, next).toMillis();\r\n        }\r\n    }  \r\n\r\nFinally used it in in scala without any errors \r\n\r\n    val interval = new CronUtil().getInterval(schedule)","title":"Scala code using static method in interface gives error Static methods in interface require -target:jvm-1.8","body":"<p>I created a Java class instead and used the CronUtils library then  used the Java class in scala</p>\n<pre><code>import com.cronutils.model.Cron;\nimport com.cronutils.model.CronType;\nimport com.cronutils.model.definition.CronDefinitionBuilder;\nimport com.cronutils.model.time.ExecutionTime;\nimport com.cronutils.parser.CronParser;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.time.ZonedDateTime;\n\npublic class CronUtil  {\n    public Long getInterval(String schedule ) {\n        CronParser parser = new CronParser(CronDefinitionBuilder.instanceDefinitionFor(CronType.UNIX));\n        Cron cron = parser.parse(schedule);\n        ZonedDateTime currDateTime = ZonedDateTime.parse(ZonedDateTime.now().toString());\n        Instant next = ExecutionTime.forCron(cron).nextExecution(currDateTime).get().toInstant();\n        Instant prev = ExecutionTime.forCron(cron).lastExecution(currDateTime).get().toInstant();\n        return Duration.between(prev, next).toMillis();\n    }\n}  \n</code></pre>\n<p>Finally used it in in scala without any errors</p>\n<pre><code>val interval = new CronUtil().getInterval(schedule)\n</code></pre>\n"}],"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71507304,"answer_count":1,"score":0,"last_activity_date":1647493264,"creation_date":1647488345,"question_id":71506828,"body_markdown":"I have a code which uses a java library cron-utils which uses static methods in interface (though I have set target and source to 1.8 in pom below)\r\nand during compiling throws this error \r\n\r\n`Static methods in interface require -target:jvm-1.8` for the part where a static method from interface is used `ExecutionTime.forCron(cron)`\r\n\r\nThis is the code in the library where static method is defined in interface \r\n\r\n    public interface ExecutionTime {\r\n    \r\n        /**\r\n         * Creates execution time for given Cron.\r\n         *\r\n         * @param cron - Cron instance\r\n         * @return ExecutionTime instance\r\n         */\r\n        public static ExecutionTime forCron(final Cron cron) \r\n\r\n\r\nI have used it like this in my code\r\n\r\n\r\n    def getInterval(schedule: String): Long = {\r\n      val parser = new CronParser(CronDefinitionBuilder.instanceDefinitionFor(CronType.UNIX))\r\n      val cron = parser.parse(schedule)\r\n      val currDateTime = ZonedDateTime.parse(ZonedDateTime.now().toString)\r\n      val next = ExecutionTime.forCron(cron).nextExecution(currDateTime).get().toInstant\r\n      val prev = ExecutionTime.forCron(cron).lastExecution(currDateTime).get().toInstant\r\n      Duration.between(prev, next).toMillis\r\n    }\r\n\r\n\r\nI have set Java 1.8 as source and target in pom \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;compilerArgs&gt;\r\n                &lt;recompileMode&gt;incremental&lt;/recompileMode&gt;\r\n                &lt;args&gt;conf:cat=other-match-analysis:error&lt;/args&gt;\r\n            &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;compile&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;compile&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI have my scala plugin like this \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.6&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;compile&lt;/goal&gt;\r\n                    &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nStill it throws the same error saying `static methods in interface require -target:jvm-1.8`\r\n\r\nI tried using older versions of the library which gives me many more unavoidable errors.\r\n\r\nAny help figuring how I can set the target to java 1.8, is appreciated  ","title":"Scala code using static method in interface gives error Static methods in interface require -target:jvm-1.8","body":"<p>I have a code which uses a java library cron-utils which uses static methods in interface (though I have set target and source to 1.8 in pom below)\nand during compiling throws this error</p>\n<p><code>Static methods in interface require -target:jvm-1.8</code> for the part where a static method from interface is used <code>ExecutionTime.forCron(cron)</code></p>\n<p>This is the code in the library where static method is defined in interface</p>\n<pre><code>public interface ExecutionTime {\n\n    /**\n     * Creates execution time for given Cron.\n     *\n     * @param cron - Cron instance\n     * @return ExecutionTime instance\n     */\n    public static ExecutionTime forCron(final Cron cron) \n</code></pre>\n<p>I have used it like this in my code</p>\n<pre><code>def getInterval(schedule: String): Long = {\n  val parser = new CronParser(CronDefinitionBuilder.instanceDefinitionFor(CronType.UNIX))\n  val cron = parser.parse(schedule)\n  val currDateTime = ZonedDateTime.parse(ZonedDateTime.now().toString)\n  val next = ExecutionTime.forCron(cron).nextExecution(currDateTime).get().toInstant\n  val prev = ExecutionTime.forCron(cron).lastExecution(currDateTime).get().toInstant\n  Duration.between(prev, next).toMillis\n}\n</code></pre>\n<p>I have set Java 1.8 as source and target in pom</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.5.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n        &lt;compilerArgs&gt;\n            &lt;recompileMode&gt;incremental&lt;/recompileMode&gt;\n            &lt;args&gt;conf:cat=other-match-analysis:error&lt;/args&gt;\n        &lt;/compilerArgs&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I have my scala plugin like this</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.5.6&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt;\n                &lt;goal&gt;testCompile&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Still it throws the same error saying <code>static methods in interface require -target:jvm-1.8</code></p>\n<p>I tried using older versions of the library which gives me many more unavoidable errors.</p>\n<p>Any help figuring how I can set the target to java 1.8, is appreciated</p>\n"},{"tags":["java","android","xml","radio-button","findviewbyid"],"answers":[{"tags":[],"owner":{"account_id":24584003,"reputation":1,"user_id":18488737,"display_name":"Colby L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647491450,"creation_date":1647491450,"answer_id":71507135,"question_id":71506331,"body_markdown":"After doing some troubleshooting, I still cannot find the answer to the issue at hand. The getText() method is not evaluating correctly to the given string. However, a work around it to compare directly the intent directly to a static string variable with the same text as the radioButton.getText() method should return. \r\n\r\nWorking code:\r\n ````      \r\n        editCourseStatusG = findViewById(R.id.radioGroup1);\r\n        editStatusComplete = findViewById(R.id.editStatusCompleted);\r\n        editStatusDropped = findViewById(R.id.editStatusDropped);\r\n        editStatusOngoing = findViewById(R.id.editStatusOngoing);\r\n        editStatusPlanned = findViewById(R.id.editStatusPlanned);\r\n\r\n        try {\r\n            switch (courseStatus) {\r\n                case &quot;Completed&quot;:\r\n                    editStatusComplete.setChecked(true);\r\n                    break;\r\n                case &quot;Dropped&quot;:\r\n                    editStatusDropped.setChecked(true);\r\n                    break;\r\n                case &quot;Ongoing&quot;:\r\n                    editStatusOngoing.setChecked(true);\r\n                    break;\r\n                case &quot;Planned&quot;:\r\n                    editStatusPlanned.setChecked(true);\r\n                    break;\r\n                default:\r\n                    editStatusPlanned.setChecked(true);\r\n            }\r\n        } catch(NullPointerException e) {\r\n            editStatusPlanned.setChecked(true);\r\n        }\r\n````","title":"How to check radio button based on intent string","body":"<p>After doing some troubleshooting, I still cannot find the answer to the issue at hand. The getText() method is not evaluating correctly to the given string. However, a work around it to compare directly the intent directly to a static string variable with the same text as the radioButton.getText() method should return.</p>\n<p>Working code:</p>\n<pre><code>       editCourseStatusG = findViewById(R.id.radioGroup1);\n       editStatusComplete = findViewById(R.id.editStatusCompleted);\n       editStatusDropped = findViewById(R.id.editStatusDropped);\n       editStatusOngoing = findViewById(R.id.editStatusOngoing);\n       editStatusPlanned = findViewById(R.id.editStatusPlanned);\n\n       try {\n           switch (courseStatus) {\n               case &quot;Completed&quot;:\n                   editStatusComplete.setChecked(true);\n                   break;\n               case &quot;Dropped&quot;:\n                   editStatusDropped.setChecked(true);\n                   break;\n               case &quot;Ongoing&quot;:\n                   editStatusOngoing.setChecked(true);\n                   break;\n               case &quot;Planned&quot;:\n                   editStatusPlanned.setChecked(true);\n                   break;\n               default:\n                   editStatusPlanned.setChecked(true);\n           }\n       } catch(NullPointerException e) {\n           editStatusPlanned.setChecked(true);\n       }\n</code></pre>\n"}],"owner":{"account_id":24584003,"reputation":1,"user_id":18488737,"display_name":"Colby L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71507135,"answer_count":1,"score":0,"last_activity_date":1647491450,"creation_date":1647483403,"question_id":71506331,"body_markdown":"I&#39;m trying to check a radio button based upon an value derived from an intent sent from the previous activity. Upon screen load, the radioButton.getText().toString() should compare against a specific value and check that particular radio button if it evaluates to true but I am not getting the expected results. \r\n\r\nI&#39;ve looked on stack overflow and various documentation/tutorial sites but I haven&#39;t came across anyone else having this particular issue. Can anyone point me in the right direction of solving this issue?\r\nHere&#39;s the relevant activity code :\r\n\r\n    courseStatus = getIntent().getStringExtra(&quot;course_status&quot;);\r\n    editCourseStatusG = findViewById(R.id.radioGroup1);\r\n    editStatusComplete = findViewById(R.id.editStatusCompleted);\r\n    editStatusDropped = findViewById(R.id.editStatusDropped);\r\n    editStatusOngoing = findViewById(R.id.editStatusOngoing);\r\n    editStatusPlanned = findViewById(R.id.editStatusPlanned);\r\n\r\n        \r\n    if(courseStatus.equals(editStatusComplete.getText().toString())) {\r\n            editStatusComplete.setChecked(true);\r\n    } else if (courseStatus.equals(editStatusDropped.getText().toString())) {\r\n            editStatusDropped.setChecked(true);\r\n    } else if ((courseStatus.equals(editStatusOngoing.getText().toString()))) {\r\n            editStatusOngoing.setChecked(true);\r\n    } else if ((courseStatus.equals(editStatusPlanned.getText().toString()))) {\r\n            editStatusPlanned.setChecked(true);\r\n    }\r\n\r\n\r\nXML code:\r\n```\r\n&lt;RadioGroup\r\n                android:id=&quot;@+id/radioGroup1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;horizontal&quot; &gt;\r\n                &lt;RadioButton\r\n                    android:id=&quot;@+id/editStatusOngoing&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:text=&quot;Ongoing&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:layout_weight=&quot;1&quot;/&gt;\r\n                &lt;RadioButton\r\n                    android:id=&quot;@+id/editStatusCompleted&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;Completed&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:layout_weight=&quot;1&quot;/&gt;\r\n                &lt;RadioButton\r\n                    android:id=&quot;@+id/editStatusDropped&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:text=&quot;Dropped&quot;\r\n                    android:layout_weight=&quot;1&quot;/&gt;\r\n                &lt;RadioButton\r\n                    android:id=&quot;@+id/editStatusPlanned&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:ems=&quot;10&quot;\r\n                    android:text=&quot;Planned&quot;\r\n                    android:layout_weight=&quot;1&quot;/&gt;\r\n\r\n            &lt;/RadioGroup&gt;\r\n```","title":"How to check radio button based on intent string","body":"<p>I'm trying to check a radio button based upon an value derived from an intent sent from the previous activity. Upon screen load, the radioButton.getText().toString() should compare against a specific value and check that particular radio button if it evaluates to true but I am not getting the expected results.</p>\n<p>I've looked on stack overflow and various documentation/tutorial sites but I haven't came across anyone else having this particular issue. Can anyone point me in the right direction of solving this issue?\nHere's the relevant activity code :</p>\n<pre><code>courseStatus = getIntent().getStringExtra(&quot;course_status&quot;);\neditCourseStatusG = findViewById(R.id.radioGroup1);\neditStatusComplete = findViewById(R.id.editStatusCompleted);\neditStatusDropped = findViewById(R.id.editStatusDropped);\neditStatusOngoing = findViewById(R.id.editStatusOngoing);\neditStatusPlanned = findViewById(R.id.editStatusPlanned);\n\n    \nif(courseStatus.equals(editStatusComplete.getText().toString())) {\n        editStatusComplete.setChecked(true);\n} else if (courseStatus.equals(editStatusDropped.getText().toString())) {\n        editStatusDropped.setChecked(true);\n} else if ((courseStatus.equals(editStatusOngoing.getText().toString()))) {\n        editStatusOngoing.setChecked(true);\n} else if ((courseStatus.equals(editStatusPlanned.getText().toString()))) {\n        editStatusPlanned.setChecked(true);\n}\n</code></pre>\n<p>XML code:</p>\n<pre><code>&lt;RadioGroup\n                android:id=&quot;@+id/radioGroup1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;horizontal&quot; &gt;\n                &lt;RadioButton\n                    android:id=&quot;@+id/editStatusOngoing&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:text=&quot;Ongoing&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:ems=&quot;10&quot;\n                    android:layout_weight=&quot;1&quot;/&gt;\n                &lt;RadioButton\n                    android:id=&quot;@+id/editStatusCompleted&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;Completed&quot;\n                    android:ems=&quot;10&quot;\n                    android:layout_weight=&quot;1&quot;/&gt;\n                &lt;RadioButton\n                    android:id=&quot;@+id/editStatusDropped&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:ems=&quot;10&quot;\n                    android:text=&quot;Dropped&quot;\n                    android:layout_weight=&quot;1&quot;/&gt;\n                &lt;RadioButton\n                    android:id=&quot;@+id/editStatusPlanned&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:ems=&quot;10&quot;\n                    android:text=&quot;Planned&quot;\n                    android:layout_weight=&quot;1&quot;/&gt;\n\n            &lt;/RadioGroup&gt;\n</code></pre>\n"},{"tags":["java","android","push-notification","android-manifest"],"owner":{"account_id":24176666,"reputation":15,"user_id":18137930,"display_name":"suns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647490984,"creation_date":1647490984,"question_id":71507085,"body_markdown":"I want to create just like iOS. In iOS when every time you get a push notification, the app icon badge number will be increased by 1.\r\n\r\nI found a git [ShortcutBadger][1]\r\n\r\n\r\n  [1]: https://github.com/leolin310148/ShortcutBadger\r\n\r\nbut when I try it did not work.\r\n\r\nHow Android can mimic iOS, every time you get a push notification, the app icon badge number will be increased by 1. And every time you click push notification, it goes to open the app and the app icon badge number will be decreased by 1?","title":"Received push notification count and show it on app badge icon android","body":"<p>I want to create just like iOS. In iOS when every time you get a push notification, the app icon badge number will be increased by 1.</p>\n<p>I found a git <a href=\"https://github.com/leolin310148/ShortcutBadger\" rel=\"nofollow noreferrer\">ShortcutBadger</a></p>\n<p>but when I try it did not work.</p>\n<p>How Android can mimic iOS, every time you get a push notification, the app icon badge number will be increased by 1. And every time you click push notification, it goes to open the app and the app icon badge number will be decreased by 1?</p>\n"},{"tags":["java","android","pdf"],"answers":[{"tags":[],"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647490803,"creation_date":1647490467,"answer_id":71507033,"question_id":71506739,"body_markdown":"Do you have Specific storage permission? For targetSDK 31 you must have MANAGE_EXTERNAL_STORAGE permission to get PDF list.\r\n\r\n&gt; Permission required to fetch PDF\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n&gt; Then in your Manifest -&gt; application tag to opt out scoped storage on Android 10 devices\r\n\r\n     android:requestLegacyExternalStorage=&quot;true&quot; \r\n\r\n&gt; Take the storage permission at Run time from user. Then to fetch PDF\r\n\r\n    private void walkDir(File dir,String pattern) {\r\n        File[] listFile = dir.listFiles();\r\n        if (listFile != null) {\r\n            for (int i=0;i&lt;listFile.length;i++) {\r\n                if (listFile[i].isDirectory()) {\r\n                    walkDir(listFile[i]);\r\n                } else {\r\n                    if (listFile[i].getName().endsWith(pattern)) {\r\n                        fileList.add(listFile[i]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n&gt; Simple call the method by\r\n\r\n    walkDir(Environment.getExternalStorageDirectory(),&quot;.pdf&quot;)\r\n\r\n\r\n\r\n\r\n","title":"How to get all files PDF in device","body":"<p>Do you have Specific storage permission? For targetSDK 31 you must have MANAGE_EXTERNAL_STORAGE permission to get PDF list.</p>\n<blockquote>\n<p>Permission required to fetch PDF</p>\n</blockquote>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<blockquote>\n<p>Then in your Manifest -&gt; application tag to opt out scoped storage on Android 10 devices</p>\n</blockquote>\n<pre><code> android:requestLegacyExternalStorage=&quot;true&quot; \n</code></pre>\n<blockquote>\n<p>Take the storage permission at Run time from user. Then to fetch PDF</p>\n</blockquote>\n<pre><code>private void walkDir(File dir,String pattern) {\n    File[] listFile = dir.listFiles();\n    if (listFile != null) {\n        for (int i=0;i&lt;listFile.length;i++) {\n            if (listFile[i].isDirectory()) {\n                walkDir(listFile[i]);\n            } else {\n                if (listFile[i].getName().endsWith(pattern)) {\n                    fileList.add(listFile[i]);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>Simple call the method by</p>\n</blockquote>\n<pre><code>walkDir(Environment.getExternalStorageDirectory(),&quot;.pdf&quot;)\n</code></pre>\n"}],"owner":{"account_id":14060384,"reputation":71,"user_id":10156612,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1647490803,"creation_date":1647487550,"question_id":71506739,"body_markdown":"I want get all files PDF in my phone. But When i use code new File(Environment.getExternalStorageDirectory().toString()).listFiles() return null. I am using targetSDK 31\r\nMy code\r\n``` \r\nFile dir = new File(Environment.getExternalStorageDirectory().toString());\r\ngetfile(dir);\r\npublic ArrayList&lt;File&gt; getfile(File dir) {\r\n        File listFile[] = dir.listFiles();\r\n        if(listFile==null){\r\n            Log.d(&quot;kdkkdd&quot;,&quot;day&quot;);\r\n        }\r\n       // Log.d(&quot;kkdkd&quot;,listFile.length+&quot;&quot;);\r\n        if (listFile != null &amp;&amp; listFile.length &gt; 0) {\r\n            Log.d(&quot;ssksks&quot;,listFile.length+&quot;&quot;);\r\n            for (int i = 0; i &lt; listFile.length; i++) {\r\n\r\n                if (listFile[i].isDirectory()) {\r\n                    Log.d(&quot;kkdkkd&quot;,listFile[i].getName());\r\n                    getfile(listFile[i]);\r\n\r\n                } else {\r\n\r\n                    boolean booleanpdf = false;\r\n                    if (listFile[i].getName().endsWith(&quot;.pdf&quot;)) {\r\n\r\n                        for (int j = 0; j &lt; fileList.size(); j++) {\r\n                            if (fileList.get(j).getName().equals(listFile[i].getName())) {\r\n                                booleanpdf = true;\r\n                            } else {\r\n\r\n                            }\r\n                        }\r\n\r\n                        if (booleanpdf) {\r\n                            booleanpdf = false;\r\n                        } else {\r\n                            fileList.add(listFile[i]);\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        Log.d(&quot;kdkdkkd&quot;,fileList.size()+&quot;&quot;);\r\n        return fileList;\r\n    }\r\n\r\n ```\r\n\r\nWhat solution fix ??? How to i can get all files PDF in my phone ???","title":"How to get all files PDF in device","body":"<p>I want get all files PDF in my phone. But When i use code new File(Environment.getExternalStorageDirectory().toString()).listFiles() return null. I am using targetSDK 31\nMy code</p>\n<pre><code>File dir = new File(Environment.getExternalStorageDirectory().toString());\ngetfile(dir);\npublic ArrayList&lt;File&gt; getfile(File dir) {\n        File listFile[] = dir.listFiles();\n        if(listFile==null){\n            Log.d(&quot;kdkkdd&quot;,&quot;day&quot;);\n        }\n       // Log.d(&quot;kkdkd&quot;,listFile.length+&quot;&quot;);\n        if (listFile != null &amp;&amp; listFile.length &gt; 0) {\n            Log.d(&quot;ssksks&quot;,listFile.length+&quot;&quot;);\n            for (int i = 0; i &lt; listFile.length; i++) {\n\n                if (listFile[i].isDirectory()) {\n                    Log.d(&quot;kkdkkd&quot;,listFile[i].getName());\n                    getfile(listFile[i]);\n\n                } else {\n\n                    boolean booleanpdf = false;\n                    if (listFile[i].getName().endsWith(&quot;.pdf&quot;)) {\n\n                        for (int j = 0; j &lt; fileList.size(); j++) {\n                            if (fileList.get(j).getName().equals(listFile[i].getName())) {\n                                booleanpdf = true;\n                            } else {\n\n                            }\n                        }\n\n                        if (booleanpdf) {\n                            booleanpdf = false;\n                        } else {\n                            fileList.add(listFile[i]);\n\n                        }\n                    }\n                }\n            }\n        }\n        Log.d(&quot;kdkdkkd&quot;,fileList.size()+&quot;&quot;);\n        return fileList;\n    }\n\n</code></pre>\n<p>What solution fix ??? How to i can get all files PDF in my phone ???</p>\n"},{"tags":["java","awt","graphics2d","antialiasing"],"comments":[{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":0,"creation_date":1647491152,"post_id":71507038,"comment_id":126386165,"body_markdown":"https://docs.oracle.com/javase/tutorial/2d/advanced/quality.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/2d/advanced/quality.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/2d/advanced/quality.html</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1647491159,"post_id":71507038,"comment_id":126386167,"body_markdown":"Have a look at `Graphics2D#setRenderingHint`, for [example](https://stackoverflow.com/questions/28427566/save-jpanel-as-image-hd-quality/28492187#28492187)","body":"Have a look at <code>Graphics2D#setRenderingHint</code>, for <a href=\"https://stackoverflow.com/questions/28427566/save-jpanel-as-image-hd-quality/28492187#28492187\">example</a>"},{"owner":{"display_name":"user14007170"},"score":0,"creation_date":1647518787,"post_id":71507038,"comment_id":126394019,"body_markdown":"@MadProgrammer Thank you very much, that&#39;s exactly what I needed.","body":"@MadProgrammer Thank you very much, that&#39;s exactly what I needed."}],"owner":{"display_name":"user14007170"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647490500,"creation_date":1647490500,"question_id":71507038,"body_markdown":"I&#39;m not sure if the term &quot;anti-alias&quot; is correct in this instance, I&#39;m quite ignorant about computer graphics, but I&#39;m looking for a way to make the graphics of my Java program look less blocky and jagged. Is there any way to make both the text and shapes of a graphics2d object in Java look more smooth and less pixelated? Is the only solution to apply them at a higher resolution?\r\n\r\nAny help is greatly appreciated. ","title":"Is there a way to anti-alias a graphics2d object in Java?","body":"<p>I'm not sure if the term &quot;anti-alias&quot; is correct in this instance, I'm quite ignorant about computer graphics, but I'm looking for a way to make the graphics of my Java program look less blocky and jagged. Is there any way to make both the text and shapes of a graphics2d object in Java look more smooth and less pixelated? Is the only solution to apply them at a higher resolution?</p>\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["java","android","button"],"answers":[{"tags":[],"owner":{"account_id":10370241,"reputation":56,"user_id":7648130,"display_name":"Khar Varsha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647486835,"creation_date":1647486835,"answer_id":71506666,"question_id":71505875,"body_markdown":"You have to use TouchListener and MotionEvent class. The MotionEvent class has Fields ACTION_UP, ACTION_DOWN, and ACTION_MOVE. You can use the getAction() method of the MotionEvent class.\r\nSomething like this\r\n    \r\n             findViewById(R.id.btn).setOnTouchListener(new View.OnTouchListener() {\r\n        @Override\r\n        public boolean onTouch(View v, MotionEvent event) {\r\n            if (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n                // button pressed\r\n\r\n            } else if (event.getAction() == MotionEvent.ACTION_UP) {\r\n               // button relased.\r\n\r\n            }\r\n            return false;\r\n        }\r\n    });","title":"How to check for hold click Android studio/java","body":"<p>You have to use TouchListener and MotionEvent class. The MotionEvent class has Fields ACTION_UP, ACTION_DOWN, and ACTION_MOVE. You can use the getAction() method of the MotionEvent class.\nSomething like this</p>\n<pre><code>         findViewById(R.id.btn).setOnTouchListener(new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n            // button pressed\n\n        } else if (event.getAction() == MotionEvent.ACTION_UP) {\n           // button relased.\n\n        }\n        return false;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647490477,"creation_date":1647490477,"answer_id":71507035,"question_id":71505875,"body_markdown":"You can use the `onTouchListener` for your use case:\r\n```\r\nboolean isClicking = false;\r\nmyView.setOnTouchListener(new View.OnTouchListener() {\r\n    @Override\r\n    public boolean onTouch(View v, MotionEvent event) {\r\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n            // the view is pressed\r\n            isClicking = true;\r\n        } else if (event.getAction() == MotionEvent.ACTION_UP) {\r\n           // the view is released.\r\n           isClicking = true; \r\n\r\n        }\r\n        return false;\r\n    }\r\n});\r\n```","title":"How to check for hold click Android studio/java","body":"<p>You can use the <code>onTouchListener</code> for your use case:</p>\n<pre><code>boolean isClicking = false;\nmyView.setOnTouchListener(new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n            // the view is pressed\n            isClicking = true;\n        } else if (event.getAction() == MotionEvent.ACTION_UP) {\n           // the view is released.\n           isClicking = true; \n\n        }\n        return false;\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":24581445,"reputation":5,"user_id":18486505,"display_name":"Dzh121"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71506666,"answer_count":2,"score":0,"last_activity_date":1647490477,"creation_date":1647478570,"question_id":71505875,"body_markdown":"I want to make in my app when I hold click it does something and when I release the button it does something else. A variable will change to true when I hold and false when I release. How do I do that \r\n(Android Studio)\r\nThanks","title":"How to check for hold click Android studio/java","body":"<p>I want to make in my app when I hold click it does something and when I release the button it does something else. A variable will change to true when I hold and false when I release. How do I do that\n(Android Studio)\nThanks</p>\n"},{"tags":["java","apache-zookeeper","distributed-system","apache-curator"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1647344640,"post_id":71470902,"comment_id":126342601,"body_markdown":"Based on this: https://curator.apache.org/curator-recipes/leader-latch.html you can call `latch.close()` to give up the latch explicitly. Is there anything wrong with using that?","body":"Based on this: <a href=\"https://curator.apache.org/curator-recipes/leader-latch.html\" rel=\"nofollow noreferrer\">curator.apache.org/curator-recipes/leader-latch.html</a> you can call <code>latch.close()</code> to give up the latch explicitly. Is there anything wrong with using that?"},{"owner":{"account_id":8016571,"reputation":1174,"user_id":6046655,"accept_rate":50,"display_name":"Harshit"},"score":0,"creation_date":1647345485,"post_id":71470902,"comment_id":126342875,"body_markdown":"Thanks Petr. Yes, latch.close() works one time. But &#39;close&#39; being a terminal state, i cannot toggle it any further. Am looking for something which supports toggling multiple times (contrary to 1 time movement supported by latch).","body":"Thanks Petr. Yes, latch.close() works one time. But &#39;close&#39; being a terminal state, i cannot toggle it any further. Am looking for something which supports toggling multiple times (contrary to 1 time movement supported by latch)."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":1,"creation_date":1647354626,"post_id":71470902,"comment_id":126346757,"body_markdown":"Hm, so unless you can just recreate the latch, I&#39;m afraid you&#39;ll need to write something yourself. It&#39;s not terribly complicated: https://zookeeper.apache.org/doc/current/recipes.html#sc_leaderElection, but obviously you&#39;ll need to test the living soul out of it.","body":"Hm, so unless you can just recreate the latch, I&#39;m afraid you&#39;ll need to write something yourself. It&#39;s not terribly complicated: <a href=\"https://zookeeper.apache.org/doc/current/recipes.html#sc_leaderElection\" rel=\"nofollow noreferrer\">zookeeper.apache.org/doc/current/recipes.html#sc_leaderElect&zwnj;&#8203;ion</a>, but obviously you&#39;ll need to test the living soul out of it."}],"owner":{"account_id":8016571,"reputation":1174,"user_id":6046655,"accept_rate":50,"display_name":"Harshit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1647490305,"creation_date":1647274332,"question_id":71470902,"body_markdown":"***Background***\r\n\r\n\r\nI have a web-socket consumer running on 1 of my backend servers. To keep this system HA,     i want to keep 2 more standby machines in the setup. Expectation is -&gt;  1 of the standby VM should takeover the role of my primary webs-socket consumer, in either of the below scenarios.\r\n\r\n&gt; 1. Primary web-socket consumer going down\r\n&gt; 2. Primary web-socket consumer voluntarily giving up the leadership due to some in-built health-checks failing on it.\r\n\r\n \r\n\r\n\r\n***Question***\r\n\r\nWas wondering if there is an out of the box zookeeper recipe for powering this setup. Initially i tried using &#39;LeaderLatch&#39; as the prefererred recipe. But a Leader Latche doesn&#39;t allows the construct to voluntarily give up the leadership. (Scenario number **2** mentioned above). \r\n\r\n\r\nWhat would be the best suited Curator/Zk recipe for the above scenario. Any example/guidance appreciated.\r\n\r\nThanks","title":"Zookeeper (Curator framework) : explicitly giving up the leaderLatch","body":"<p><em><strong>Background</strong></em></p>\n<p>I have a web-socket consumer running on 1 of my backend servers. To keep this system HA,     i want to keep 2 more standby machines in the setup. Expectation is -&gt;  1 of the standby VM should takeover the role of my primary webs-socket consumer, in either of the below scenarios.</p>\n<blockquote>\n<ol>\n<li>Primary web-socket consumer going down</li>\n<li>Primary web-socket consumer voluntarily giving up the leadership due to some in-built health-checks failing on it.</li>\n</ol>\n</blockquote>\n<p><em><strong>Question</strong></em></p>\n<p>Was wondering if there is an out of the box zookeeper recipe for powering this setup. Initially i tried using 'LeaderLatch' as the prefererred recipe. But a Leader Latche doesn't allows the construct to voluntarily give up the leadership. (Scenario number <strong>2</strong> mentioned above).</p>\n<p>What would be the best suited Curator/Zk recipe for the above scenario. Any example/guidance appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","oauth-2.0","access-token","google-signin"],"comments":[{"owner":{"account_id":16369137,"reputation":424,"user_id":11822798,"display_name":"miso01"},"score":0,"creation_date":1663609344,"post_id":67454894,"comment_id":130275411,"body_markdown":"It would be nice to share the mistake for people who are suffering from this problem.","body":"It would be nice to share the mistake for people who are suffering from this problem."}],"answers":[{"tags":[],"owner":{"account_id":16745318,"reputation":192,"user_id":12103790,"display_name":"multicatch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620804594,"creation_date":1620804594,"answer_id":67499075,"question_id":67454894,"body_markdown":"I think you get a new refresh token after refreshing the access token. You need to update your refresh token as it expires when it is used to refresh an access token. \r\n\r\nIn your provided example you only extract access token and ignore the rest of the response.\r\n\r\nhttps://cloud.google.com/apigee/docs/api-platform/security/oauth/access-tokens","title":"Why I&#39;m Getting Refresh Token for 1 hour only?","body":"<p>I think you get a new refresh token after refreshing the access token. You need to update your refresh token as it expires when it is used to refresh an access token.</p>\n<p>In your provided example you only extract access token and ignore the rest of the response.</p>\n<p><a href=\"https://cloud.google.com/apigee/docs/api-platform/security/oauth/access-tokens\" rel=\"nofollow noreferrer\">https://cloud.google.com/apigee/docs/api-platform/security/oauth/access-tokens</a></p>\n"}],"owner":{"account_id":20195225,"reputation":355,"user_id":14812333,"display_name":"Adarsh Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647489880,"creation_date":1620541802,"question_id":67454894,"body_markdown":"I am trying to get data of user of Google AdSense using OAuth2 and I have followed all the Documentation which is [here](https://developers.google.com/identity/sign-in/android/start-integrating).\r\n\r\nAnd I successfully get all response which is expected but the problem is that the refresh token is expired within access token as access token expires after 1 hour and I&#39;m unable to make another access token request from refresh token because it also expires.\r\n\r\n**In one line, Refreh Token expires after 1 hour and user needs to login again. That&#39;s main problem.**\r\n\r\n\r\n[The Code I have tried to get access token from refresh token](https://stackoverflow.com/questions/50903787/how-to-get-an-access-token-using-a-refresh-token-in-java):\r\n```\r\npublic TokenResponse refreshAccessToken(String refreshToken) throws IOException {\r\n    TokenResponse response = new GoogleRefreshTokenRequest(\r\n            new NetHttpTransport(),\r\n            new JacksonFactory(),\r\n            refreshToken, \r\n            &quot;your clientId&quot;,\r\n            &quot;your clientSecret&quot;)\r\n            .execute();\r\n    System.out.println(&quot;Access token: &quot; + response.getAccessToken());\r\n\r\n    return response;\r\n}\r\n```\r\n[Here&#39;s is app activity code](https://github.com/coderscoding/myapp).\r\n\r\nI have tried many searches but they didn&#39;t help.\r\n**If there is any other method to get the access token, please help me to reach out there.**\r\n\r\nThanks In Advance.\r\n\r\n*Any other working way would be Gold for me.*\r\n\r\n**=========================== UPDATE ========================**\r\n\r\n*I have got my mistake in my project.*","title":"Why I&#39;m Getting Refresh Token for 1 hour only?","body":"<p>I am trying to get data of user of Google AdSense using OAuth2 and I have followed all the Documentation which is <a href=\"https://developers.google.com/identity/sign-in/android/start-integrating\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>And I successfully get all response which is expected but the problem is that the refresh token is expired within access token as access token expires after 1 hour and I'm unable to make another access token request from refresh token because it also expires.</p>\n<p><strong>In one line, Refreh Token expires after 1 hour and user needs to login again. That's main problem.</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/50903787/how-to-get-an-access-token-using-a-refresh-token-in-java\">The Code I have tried to get access token from refresh token</a>:</p>\n<pre><code>public TokenResponse refreshAccessToken(String refreshToken) throws IOException {\n    TokenResponse response = new GoogleRefreshTokenRequest(\n            new NetHttpTransport(),\n            new JacksonFactory(),\n            refreshToken, \n            &quot;your clientId&quot;,\n            &quot;your clientSecret&quot;)\n            .execute();\n    System.out.println(&quot;Access token: &quot; + response.getAccessToken());\n\n    return response;\n}\n</code></pre>\n<p><a href=\"https://github.com/coderscoding/myapp\" rel=\"nofollow noreferrer\">Here's is app activity code</a>.</p>\n<p>I have tried many searches but they didn't help.\n<strong>If there is any other method to get the access token, please help me to reach out there.</strong></p>\n<p>Thanks In Advance.</p>\n<p><em>Any other working way would be Gold for me.</em></p>\n<p><strong>=========================== UPDATE ========================</strong></p>\n<p><em>I have got my mistake in my project.</em></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1454430385,"post_id":35157700,"comment_id":58035639,"body_markdown":"It&#39;s probably interesting to add versions of OS, JVM ... etc to your question. And an [MVCE](https://stackoverflow.com/help/mcve) to play around with.","body":"It&#39;s probably interesting to add versions of OS, JVM ... etc to your question. And an <a href=\"https://stackoverflow.com/help/mcve\">MVCE</a> to play around with."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1454435432,"post_id":35157700,"comment_id":58039096,"body_markdown":"Oracle is not modifying Swing to work on 4K monitors.  Looks like it&#39;s up to you to create a 4K look and feel, give the L &amp; F away for free, and support it forever.","body":"Oracle is not modifying Swing to work on 4K monitors.  Looks like it&#39;s up to you to create a 4K look and feel, give the L &amp; F away for free, and support it forever."},{"owner":{"account_id":1875952,"reputation":344,"user_id":1697165,"accept_rate":60,"display_name":"Null Pointer"},"score":0,"creation_date":1454486371,"post_id":35157700,"comment_id":58060309,"body_markdown":"@TT. Windows 8.1 64bit, Java 1.8.0_60 32bit. I don&#39;t think a MVCE is necessary, since even a template project with a simple jFrame would show you the problem if you have a 4K screen.","body":"@TT. Windows 8.1 64bit, Java 1.8.0_60 32bit. I don&#39;t think a MVCE is necessary, since even a template project with a simple jFrame would show you the problem if you have a 4K screen."},{"owner":{"account_id":1875952,"reputation":344,"user_id":1697165,"accept_rate":60,"display_name":"Null Pointer"},"score":0,"creation_date":1454486517,"post_id":35157700,"comment_id":58060380,"body_markdown":"@GilbertLeBlanc I couldn&#39;t find an official announcement by Oracle related on this topic. How do you know that ? Could you give a source ?","body":"@GilbertLeBlanc I couldn&#39;t find an official announcement by Oracle related on this topic. How do you know that ? Could you give a source ?"},{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1454486586,"post_id":35157700,"comment_id":58060423,"body_markdown":"You need to include that information **in your question**. Edit your question to include that information (use the `edit` link underneath your question to do that).","body":"You need to include that information <b>in your question</b>. Edit your question to include that information (use the <code>edit</code> link underneath your question to do that)."},{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1454486845,"post_id":35157700,"comment_id":58060553,"body_markdown":"Also an MVCE is a minimum for cases like these, check the [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) page, specifically the *Help others reproduce the problem* part.","body":"Also an MVCE is a minimum for cases like these, check the <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> page, specifically the <i>Help others reproduce the problem</i> part."},{"owner":{"account_id":118311,"reputation":9801,"user_id":309259,"accept_rate":100,"display_name":"Rekin"},"score":1,"creation_date":1454487315,"post_id":35157700,"comment_id":58060785,"body_markdown":"I have an idea. Could you set &quot;disable display scaling on HDPI screens&quot;  for the java(w).exe you are using to launch the application? This is done on properties panel for a windows executable. The setting is presented here: http://cdn.makeuseof.com/wp-content/uploads/2014/06/windows-8.1-fix-blurry-text-in-application.png?26523c","body":"I have an idea. Could you set &quot;disable display scaling on HDPI screens&quot;  for the java(w).exe you are using to launch the application? This is done on properties panel for a windows executable. The setting is presented here: <a href=\"http://cdn.makeuseof.com/wp-content/uploads/2014/06/windows-8.1-fix-blurry-text-in-application.png?26523c\" rel=\"nofollow noreferrer\">cdn.makeuseof.com/wp-content/uploads/2014/06/&hellip;</a>"},{"owner":{"account_id":1875952,"reputation":344,"user_id":1697165,"accept_rate":60,"display_name":"Null Pointer"},"score":0,"creation_date":1454487352,"post_id":35157700,"comment_id":58060807,"body_markdown":"@TT. Thanks, I added info to the question. Other than that, I believe in this state of the question (with the detail it contains), problem is already easily reproduceable for anyone with a little java knowledge.","body":"@TT. Thanks, I added info to the question. Other than that, I believe in this state of the question (with the detail it contains), problem is already easily reproduceable for anyone with a little java knowledge."},{"owner":{"account_id":118311,"reputation":9801,"user_id":309259,"accept_rate":100,"display_name":"Rekin"},"score":1,"creation_date":1454488192,"post_id":35157700,"comment_id":58061294,"body_markdown":"@NullPointer: I presume the issue could be related to the new &quot;per display DPI&quot; settings, which was introduced with windows 8.","body":"@NullPointer: I presume the issue could be related to the new &quot;per display DPI&quot; settings, which was introduced with windows 8."},{"owner":{"account_id":1875952,"reputation":344,"user_id":1697165,"accept_rate":60,"display_name":"Null Pointer"},"score":0,"creation_date":1454501011,"post_id":35157700,"comment_id":58070034,"body_markdown":"@Rekin Thanks a lot. That solved my problem. One can think that this scaling could be a plus for a program, but in that case component positions does not match with mouse listeners events etc. So; I&#39;ll disable the scaling. I&#39;ll need to ask users with high dpi screens to use my program with that option checked. I guess there is no possible parameter to run with this setting,that can be added to the shortcut&#39;s path for example. I wished you posted that as a answer so i could select it as the right answer.","body":"@Rekin Thanks a lot. That solved my problem. One can think that this scaling could be a plus for a program, but in that case component positions does not match with mouse listeners events etc. So; I&#39;ll disable the scaling. I&#39;ll need to ask users with high dpi screens to use my program with that option checked. I guess there is no possible parameter to run with this setting,that can be added to the shortcut&#39;s path for example. I wished you posted that as a answer so i could select it as the right answer."},{"owner":{"account_id":118311,"reputation":9801,"user_id":309259,"accept_rate":100,"display_name":"Rekin"},"score":0,"creation_date":1454506042,"post_id":35157700,"comment_id":58073607,"body_markdown":"Ok, I&#39;m adding an answer then.","body":"Ok, I&#39;m adding an answer then."},{"owner":{"account_id":118311,"reputation":9801,"user_id":309259,"accept_rate":100,"display_name":"Rekin"},"score":0,"creation_date":1454506636,"post_id":35157700,"comment_id":58074062,"body_markdown":"Meta: who votes to close this question? It&#39;s genuine and on-topic!","body":"Meta: who votes to close this question? It&#39;s genuine and on-topic!"}],"answers":[{"tags":[],"owner":{"account_id":118311,"reputation":9801,"user_id":309259,"accept_rate":100,"display_name":"Rekin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1454509912,"creation_date":1454506494,"answer_id":35178577,"question_id":35157700,"body_markdown":"I know of one Windows 8+ specific feature, which might manifest in that way: [per-display DPI setting][1]. The feature is supposed to keep application window at the same size physically, even when dragging them across displays with different density.\r\n\r\nThis is achieved by rendering the application&#39;s window into a intermediate buffer, which then is scaled by the [DWM][2] taking the target screen DPI into account.\r\n\r\nThis feature can be disabled, using following dialog:\r\n\r\n[![Compatibility settings][3]][3]\r\n\r\nIt has to be done on the file containing the executable program, which displays any frames. In Java, it&#39;s somewhat convoluted, since it&#39;s a hosting application. Changing this on java(w).exe should alter the behavior globally.\r\n\r\nTypically, this kind of flag adjustment is done by a software installer. It&#39;s possible to wrap the java jar into a exe with a thin wrapper. I like launch4j the most for this task. The wrapper exe and the jar file can be wrapped into a installer script, which sets the flag at installation time.\r\n\r\n\r\n  [1]: https://blogs.windows.com/windowsexperience/2013/07/15/windows-8-1-dpi-scaling-enhancements/\r\n  [2]: https://msdn.microsoft.com/en-us/library/windows/desktop/aa969540%28v=vs.85%29.aspx &quot;DWM&quot;\r\n  [3]: http://i.stack.imgur.com/EISMP.png","title":"False SWING Component Placement in Java with 4K Monitor","body":"<p>I know of one Windows 8+ specific feature, which might manifest in that way: <a href=\"https://blogs.windows.com/windowsexperience/2013/07/15/windows-8-1-dpi-scaling-enhancements/\" rel=\"nofollow noreferrer\">per-display DPI setting</a>. The feature is supposed to keep application window at the same size physically, even when dragging them across displays with different density.</p>\n\n<p>This is achieved by rendering the application's window into a intermediate buffer, which then is scaled by the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa969540%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\" title=\"DWM\">DWM</a> taking the target screen DPI into account.</p>\n\n<p>This feature can be disabled, using following dialog:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EISMP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EISMP.png\" alt=\"Compatibility settings\"></a></p>\n\n<p>It has to be done on the file containing the executable program, which displays any frames. In Java, it's somewhat convoluted, since it's a hosting application. Changing this on java(w).exe should alter the behavior globally.</p>\n\n<p>Typically, this kind of flag adjustment is done by a software installer. It's possible to wrap the java jar into a exe with a thin wrapper. I like launch4j the most for this task. The wrapper exe and the jar file can be wrapped into a installer script, which sets the flag at installation time.</p>\n"}],"owner":{"account_id":1875952,"reputation":344,"user_id":1697165,"accept_rate":60,"display_name":"Null Pointer"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1513,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35178577,"answer_count":1,"score":2,"last_activity_date":1647489875,"creation_date":1454427663,"question_id":35157700,"body_markdown":"I have a component placement problem. First I&#39;ll try to give (possibly useful) information and then tell you about the main problem:\r\n\r\nMy System: Windows 8.1 64bit, Java 1.8.0_60 32bit\r\n\r\nWhat I&#39;m trying to do is: After I learn screen resolutions of all connected screens, I&#39;m placing some swing components around the screen. This means that I need to know the resolutions of the screens.\r\n\r\nI&#39;m using multiple monitors.\r\n\r\n 1. 3840 x 2160 (main monitor)\r\n\r\n 2. 1920 x 1080 (secondary)\r\n\r\nI use:\r\n\r\n    graphicsEnvironment = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n\tdevices = graphicsEnvironment.getScreenDevices();\r\n\r\nAnd for the main screen device:\r\n\r\n    devices[i].getDefaultConfiguration().getBounds()\r\nreturns [0, 0, 2560, 1440]. Instead of the right values 3840 x 2160.\r\n\r\nInteresting thing is;\r\n\r\n    devices[i].getDisplayMode().getWidth() and getHeight() \r\nreturns the right 3840 and 2160 values.\r\n\r\nNote: This difference does not happen in any other resolution selection of the screen. For example, if I select 1920 x 1080 for the main screen, both &quot;getDefaultConfiguration().getBounds()&quot; and &quot;getDisplayMode().getWidth()&quot; returns the right values.\r\n\r\nNow,\r\n\r\nYou can say that I&#39;m already getting the right dimensions. So, what is the matter?\r\n\r\nThe thing is, when I try to position my SWING components, they are placed in wrong positions. For example, an element at [3750, 0, 10, 10] ends up inside the second monitor, while It should have been on the right upper corner of the first screen.\r\n\r\nAnother example: As you know, a fixed sized component would appear smaller in higher resolutions. Since its pixel percentage related to screen gets smaller, the component itself also looks smaller. For example; When I increase my screen&#39;s resolution from 1920x1080 to 2560x1440, my components gets smaller. But, when I increase the resolution from 2560x1440 to 3840x2160; they stay in the same size.\r\n\r\nI hope I was clear about the problem.\r\n","title":"False SWING Component Placement in Java with 4K Monitor","body":"<p>I have a component placement problem. First I'll try to give (possibly useful) information and then tell you about the main problem:</p>\n<p>My System: Windows 8.1 64bit, Java 1.8.0_60 32bit</p>\n<p>What I'm trying to do is: After I learn screen resolutions of all connected screens, I'm placing some swing components around the screen. This means that I need to know the resolutions of the screens.</p>\n<p>I'm using multiple monitors.</p>\n<ol>\n<li><p>3840 x 2160 (main monitor)</p>\n</li>\n<li><p>1920 x 1080 (secondary)</p>\n</li>\n</ol>\n<p>I use:</p>\n<pre><code>graphicsEnvironment = GraphicsEnvironment.getLocalGraphicsEnvironment();\ndevices = graphicsEnvironment.getScreenDevices();\n</code></pre>\n<p>And for the main screen device:</p>\n<pre><code>devices[i].getDefaultConfiguration().getBounds()\n</code></pre>\n<p>returns [0, 0, 2560, 1440]. Instead of the right values 3840 x 2160.</p>\n<p>Interesting thing is;</p>\n<pre><code>devices[i].getDisplayMode().getWidth() and getHeight() \n</code></pre>\n<p>returns the right 3840 and 2160 values.</p>\n<p>Note: This difference does not happen in any other resolution selection of the screen. For example, if I select 1920 x 1080 for the main screen, both &quot;getDefaultConfiguration().getBounds()&quot; and &quot;getDisplayMode().getWidth()&quot; returns the right values.</p>\n<p>Now,</p>\n<p>You can say that I'm already getting the right dimensions. So, what is the matter?</p>\n<p>The thing is, when I try to position my SWING components, they are placed in wrong positions. For example, an element at [3750, 0, 10, 10] ends up inside the second monitor, while It should have been on the right upper corner of the first screen.</p>\n<p>Another example: As you know, a fixed sized component would appear smaller in higher resolutions. Since its pixel percentage related to screen gets smaller, the component itself also looks smaller. For example; When I increase my screen's resolution from 1920x1080 to 2560x1440, my components gets smaller. But, when I increase the resolution from 2560x1440 to 3840x2160; they stay in the same size.</p>\n<p>I hope I was clear about the problem.</p>\n"},{"tags":["java","timer"],"comments":[{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1430053011,"post_id":29877862,"comment_id":47879914,"body_markdown":"The way you are measuring the amount of time the `run` method exectuted for is wrong. You need to calculate it as `current time after print statement ran - current time before print statement ran`.","body":"The way you are measuring the amount of time the <code>run</code> method exectuted for is wrong. You need to calculate it as <code>current time after print statement ran - current time before print statement ran</code>."},{"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1430053137,"post_id":29877862,"comment_id":47879963,"body_markdown":"I don&#39;t think that&#39;s what he wants. He simply wants to record the time at which the method was run","body":"I don&#39;t think that&#39;s what he wants. He simply wants to record the time at which the method was run"},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1430054340,"post_id":29877862,"comment_id":47880379,"body_markdown":"You should take the values you get from `nanoTime()` with a [grain of salt](http://shipilev.net/blog/2014/nanotrusting-nanotime/).","body":"You should take the values you get from <code>nanoTime()</code> with a <a href=\"http://shipilev.net/blog/2014/nanotrusting-nanotime/\" rel=\"nofollow noreferrer\">grain of salt</a>."},{"owner":{"account_id":1195081,"reputation":854,"user_id":1166988,"accept_rate":75,"display_name":"Altair Jones"},"score":0,"creation_date":1430056326,"post_id":29877862,"comment_id":47880981,"body_markdown":"Thank you guys. Well... I understand what @bot says. Too simplify the question... I need to run a task every X milliseconds, where is must be exact! Also 1 ms is too high as an error of approximation. This is because I&#39;m porting my emulator from C to Java, and the computer I&#39;m emulating has a frame rate of 25 fps (or 30 fps if it runs in NTSC). So this kind of jittering influences the overall cpu-loop too much","body":"Thank you guys. Well... I understand what @bot says. Too simplify the question... I need to run a task every X milliseconds, where is must be exact! Also 1 ms is too high as an error of approximation. This is because I&#39;m porting my emulator from C to Java, and the computer I&#39;m emulating has a frame rate of 25 fps (or 30 fps if it runs in NTSC). So this kind of jittering influences the overall cpu-loop too much"}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1430055304,"creation_date":1430053213,"answer_id":29877940,"question_id":29877862,"body_markdown":"I don&#39;t think you&#39;re going to be able to manage this in Java with this level of precision. Unlike your C/Win32 solutions, your Java solution is running in a JVM with multiple threads (of varying priority) and with garbage collection running and taking resources.\n\nHaving said that, I would experiment with the `scheduleAtFixedRate()` method, which executes at a regular period. `scheduleWithFixedDelay()` will execute and upon completion delay for a fixed amount of time. Hence not accounting for the time taken for your method to actually run. ","title":"Java real fixed time interval","body":"<p>I don't think you're going to be able to manage this in Java with this level of precision. Unlike your C/Win32 solutions, your Java solution is running in a JVM with multiple threads (of varying priority) and with garbage collection running and taking resources.</p>\n\n<p>Having said that, I would experiment with the <code>scheduleAtFixedRate()</code> method, which executes at a regular period. <code>scheduleWithFixedDelay()</code> will execute and upon completion delay for a fixed amount of time. Hence not accounting for the time taken for your method to actually run. </p>\n"}],"owner":{"account_id":1195081,"reputation":854,"user_id":1166988,"accept_rate":75,"display_name":"Altair Jones"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29877940,"answer_count":1,"score":2,"last_activity_date":1647489844,"creation_date":1430052731,"question_id":29877862,"body_markdown":"I&#39;m doing some tasks using Java. I have some problems with timing: I need to set up a timer with a fixed period of repetition. I tried both, the standard `Timer`, and `TimerTask` and the `ScheduledExecutor`, but both work in an approximate manner, i.e. if I set an interval of 40 milliseconds, using the following code (for `Executors`)\r\n```java\r\nm_executor = Executors.newScheduledThreadPool(5);\t\t\r\nRunnable thread = new TheThread();\r\nm_executor.scheduleWithFixedDelay(thread, 0, 40000000, TimeUnit.NANOSECONDS);\r\n```\r\n\r\nAnd then I try to print &quot;time&quot; of each execution\r\n```java\r\nprivate static final class TheThread implements Runnable {\r\n    @Override\r\n    public void run() {\r\n        System.out.println(System.nanoTime()/1000000);\r\n    }\r\n}\r\n```\r\n\r\nThe result is something like this:\r\n\r\n    xxxxxx300\r\n    xxxxxx345\r\n    xxxxxx386\r\n    xxxxxx428\r\n    ...\r\n\r\nAs you can see, if I correctly understand `nanoTime()` the function is called at a random intervals, close to that I specified (40 milliseconds), but not exactly what I specified!\r\n\r\nWhen I worked with C and Win32s, for example, I was able to use the `CreateTimerQueueTimer()` function that is highly accurate, and the callback function was called every 40 milliseconds:\r\n\r\n    xxxxxx300\r\n    xxxxxx340\r\n    xxxxxx380\r\n    ...\r\n\r\nI tried to move time measurement to avoid the printing time. I also tried to use `scheduleAtFixedRate()`, but unfortunately the period varies between 35 and 47 ms (set to 40 in the method).\r\n\r\nI&#39;m wondering how people can make software such emulators or similar things, that requires a precise period observance...:-)\r\n\r\nI thought of a possible solution that I would like to show you and ask to you, experts:) how this idea could be applicable (and safe)\r\n\r\nThe problem here is to run some methods every X milliseconds, say 40 ms. The question here is about Java timer/timing, but what about this simple solution?\r\n```java\r\npublic class MyEmulator extends Thread {\r\n    private long start = 0;\r\n    private long end = 0;\r\n\r\n    @Override\r\n    public void run() {\r\n        long exec_time; \r\n\r\n        start = System.nanoTime();\r\n   \r\n        /*\r\n         * Do the emulator-loop\r\n         */\r\n\r\n        end = System.nanoTime();\r\n\r\n        exe_time = (end - start)/1000000;\r\n\r\n        // wait with a whil() (40 - exec_time)\r\n    }\r\n}\r\n```\r\n\r\nWith this solution, when I print the elapsed time after the waiting `whilt()` is ended the result is exactly 40 ms (without decimal, that is not quit important).\r\n\r\nDo you think it would be safe, i.e. are really 40 ms?\r\n","title":"Java real fixed time interval","body":"<p>I'm doing some tasks using Java. I have some problems with timing: I need to set up a timer with a fixed period of repetition. I tried both, the standard <code>Timer</code>, and <code>TimerTask</code> and the <code>ScheduledExecutor</code>, but both work in an approximate manner, i.e. if I set an interval of 40 milliseconds, using the following code (for <code>Executors</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>m_executor = Executors.newScheduledThreadPool(5);       \nRunnable thread = new TheThread();\nm_executor.scheduleWithFixedDelay(thread, 0, 40000000, TimeUnit.NANOSECONDS);\n</code></pre>\n<p>And then I try to print &quot;time&quot; of each execution</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final class TheThread implements Runnable {\n    @Override\n    public void run() {\n        System.out.println(System.nanoTime()/1000000);\n    }\n}\n</code></pre>\n<p>The result is something like this:</p>\n<pre><code>xxxxxx300\nxxxxxx345\nxxxxxx386\nxxxxxx428\n...\n</code></pre>\n<p>As you can see, if I correctly understand <code>nanoTime()</code> the function is called at a random intervals, close to that I specified (40 milliseconds), but not exactly what I specified!</p>\n<p>When I worked with C and Win32s, for example, I was able to use the <code>CreateTimerQueueTimer()</code> function that is highly accurate, and the callback function was called every 40 milliseconds:</p>\n<pre><code>xxxxxx300\nxxxxxx340\nxxxxxx380\n...\n</code></pre>\n<p>I tried to move time measurement to avoid the printing time. I also tried to use <code>scheduleAtFixedRate()</code>, but unfortunately the period varies between 35 and 47 ms (set to 40 in the method).</p>\n<p>I'm wondering how people can make software such emulators or similar things, that requires a precise period observance...:-)</p>\n<p>I thought of a possible solution that I would like to show you and ask to you, experts:) how this idea could be applicable (and safe)</p>\n<p>The problem here is to run some methods every X milliseconds, say 40 ms. The question here is about Java timer/timing, but what about this simple solution?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyEmulator extends Thread {\n    private long start = 0;\n    private long end = 0;\n\n    @Override\n    public void run() {\n        long exec_time; \n\n        start = System.nanoTime();\n   \n        /*\n         * Do the emulator-loop\n         */\n\n        end = System.nanoTime();\n\n        exe_time = (end - start)/1000000;\n\n        // wait with a whil() (40 - exec_time)\n    }\n}\n</code></pre>\n<p>With this solution, when I print the elapsed time after the waiting <code>whilt()</code> is ended the result is exactly 40 ms (without decimal, that is not quit important).</p>\n<p>Do you think it would be safe, i.e. are really 40 ms?</p>\n"},{"tags":["java","https","download","http-status-code-403"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1647490124,"post_id":71506964,"comment_id":126385991,"body_markdown":"It is caused by a missing or incorrect `Authorization` header or auth cookie.","body":"It is caused by a missing or incorrect <code>Authorization</code> header or auth cookie."},{"owner":{"account_id":19199415,"reputation":83,"user_id":14027644,"display_name":"Frank"},"score":0,"creation_date":1647498192,"post_id":71506964,"comment_id":126387401,"body_markdown":"Yes, that&#39;s it. @user207421","body":"Yes, that&#39;s it. @user207421"}],"answers":[{"tags":[],"owner":{"account_id":19199415,"reputation":83,"user_id":14027644,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647489803,"creation_date":1647489803,"answer_id":71506965,"question_id":71506964,"body_markdown":"I found two ways to solve the problem:\r\n\r\n1. set cookie\r\n\r\n        connection.setRequestProperty( &quot;cookie&quot;, cookie );\r\n\r\n2. set basic auth if the website you access need token\r\n\r\n        String userName = &quot;&quot;;\r\n        String password = &quot;&quot;;\r\n        String auth = userName+&quot;:&quot;+password;\r\n        byte[] rel = Base64.encodeBase64( auth.getBytes());\r\n        String res = new String(rel);\r\n        connection.setRequestProperty(&quot;Authorization&quot;,&quot;Basic &quot; + res);\r\nHope it works for you.","title":"Java download with user agent from https url still return 403","body":"<p>I found two ways to solve the problem:</p>\n<ol>\n<li><p>set cookie</p>\n<pre><code> connection.setRequestProperty( &quot;cookie&quot;, cookie );\n</code></pre>\n</li>\n<li><p>set basic auth if the website you access need token</p>\n<pre><code> String userName = &quot;&quot;;\n String password = &quot;&quot;;\n String auth = userName+&quot;:&quot;+password;\n byte[] rel = Base64.encodeBase64( auth.getBytes());\n String res = new String(rel);\n connection.setRequestProperty(&quot;Authorization&quot;,&quot;Basic &quot; + res);\n</code></pre>\n</li>\n</ol>\n<p>Hope it works for you.</p>\n"}],"owner":{"account_id":19199415,"reputation":83,"user_id":14027644,"display_name":"Frank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647489803,"creation_date":1647489803,"question_id":71506964,"body_markdown":"I tried to download a gzip file from a https URL, but it returns 403. I find some post said the problem caused by lacking &quot;user-agent&quot;, but it didn&#39;t work for me. ","title":"Java download with user agent from https url still return 403","body":"<p>I tried to download a gzip file from a https URL, but it returns 403. I find some post said the problem caused by lacking &quot;user-agent&quot;, but it didn't work for me.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1647482812,"post_id":71506206,"comment_id":126384888,"body_markdown":"Are you asking about a [menu bar](https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/menu_controls.htm#BABGHADI)?","body":"Are you asking about a <a href=\"https://docs.oracle.com/javase/8/javafx/user-interface-tutorial/menu_controls.htm#BABGHADI\" rel=\"nofollow noreferrer\">menu bar</a>?"},{"owner":{"account_id":23178316,"reputation":157,"user_id":17276486,"display_name":"Lson"},"score":0,"creation_date":1647483627,"post_id":71506206,"comment_id":126385044,"body_markdown":"@Abra I asking how to set menu bar in stage top","body":"@Abra I asking how to set menu bar in stage top"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1647486303,"post_id":71506206,"comment_id":126385427,"body_markdown":"I think [setting the stage’s style](https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Stage.html#initStyle(javafx.stage.StageStyle)) to [UNIFIED](https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/StageStyle.html#UNIFIED) will do what you want.","body":"I think <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Stage.html#initStyle(javafx.stage.StageStyle)\" rel=\"nofollow noreferrer\">setting the stage’s style</a> to <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/StageStyle.html#UNIFIED\" rel=\"nofollow noreferrer\">UNIFIED</a> will do what you want."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1647639880,"post_id":71506206,"comment_id":126430151,"body_markdown":"UNIFIED works differently across platforms. On a Mac, visually, I can&#39;t tell the difference between a UNIFIED style and no style. Also, on a Mac, Idea does not look like your screenshot.  Mac apps use a common menu bar region for the whole system which is displayed at the top of the screen and not in the window, but Windows has a separate menu bar displayed in each window. Maybe, for a Windows deployment, UNIFIED is the right thing and will provide the desired visuals, (I just can&#39;t test it).","body":"UNIFIED works differently across platforms. On a Mac, visually, I can&#39;t tell the difference between a UNIFIED style and no style. Also, on a Mac, Idea does not look like your screenshot.  Mac apps use a common menu bar region for the whole system which is displayed at the top of the screen and not in the window, but Windows has a separate menu bar displayed in each window. Maybe, for a Windows deployment, UNIFIED is the right thing and will provide the desired visuals, (I just can&#39;t test it)."}],"answers":[{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647489340,"creation_date":1647484566,"answer_id":71506446,"question_id":71506206,"body_markdown":"a possible option is to use a window without decoration `stage.initStyle(StageStyle.UNDECORATED);` by doing this you remove the 3-buttons and will have an empty stage so you can control it and add whatever you want and for more info you can find an example that serve your case inside this link:  \r\nhttps://stackoverflow.com/questions/59050673/javafx-add-window-control-buttons-to-menubar-intellij-like","title":"How to change javafx stage top region","body":"<p>a possible option is to use a window without decoration <code>stage.initStyle(StageStyle.UNDECORATED);</code> by doing this you remove the 3-buttons and will have an empty stage so you can control it and add whatever you want and for more info you can find an example that serve your case inside this link:<br />\n<a href=\"https://stackoverflow.com/questions/59050673/javafx-add-window-control-buttons-to-menubar-intellij-like\">JavaFx add Window-Control-Buttons to Menubar (IntelliJ like)</a></p>\n"}],"owner":{"account_id":23178316,"reputation":157,"user_id":17276486,"display_name":"Lson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71506446,"answer_count":1,"score":1,"last_activity_date":1647489340,"creation_date":1647481989,"question_id":71506206,"body_markdown":"I want to use javaFx to make stage top region like IDEA menu bar,but i can not find any api in stage to set node .Second picture is my app,the menu bar is in BorderPane top,how to move to stage top?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SkTgR.png\r\n  [2]: https://i.stack.imgur.com/dr7t2.png","title":"How to change javafx stage top region","body":"<p>I want to use javaFx to make stage top region like IDEA menu bar,but i can not find any api in stage to set node .Second picture is my app,the menu bar is in BorderPane top,how to move to stage top?</p>\n<p><a href=\"https://i.stack.imgur.com/SkTgR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SkTgR.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/dr7t2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dr7t2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","resultset"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1647487984,"post_id":71506707,"comment_id":126385705,"body_markdown":"Read the Javadoc for `Statement.executeUpdate`,","body":"Read the Javadoc for <code>Statement.executeUpdate</code>,"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1647488758,"post_id":71506707,"comment_id":126385816,"body_markdown":"Method [executeUpdate](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Statement.html#executeUpdate(java.lang.String)) returns the number of rows affected as an `int`. In your case that will be 1 (one) if the INSERT succeeded. The error message is telling you that you cannot assign an `int` to a `ResultSet`. Did you think that `executeUpdate` returns the inserted row?","body":"Method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Statement.html#executeUpdate(java.lang.String)\" rel=\"nofollow noreferrer\">executeUpdate</a> returns the number of rows affected as an <code>int</code>. In your case that will be 1 (one) if the INSERT succeeded. The error message is telling you that you cannot assign an <code>int</code> to a <code>ResultSet</code>. Did you think that <code>executeUpdate</code> returns the inserted row?"}],"owner":{"account_id":22873187,"reputation":1,"user_id":17015906,"display_name":"Iury Damasceno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647489065,"creation_date":1647487256,"question_id":71506707,"body_markdown":"I can&#39;t add items to the database because of this apparently.\r\nNot putting the entire code, hope you can understand.\r\n\r\n    import java.sql.Connection/Driver/ResultSet/SQLException/Statement;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tStatement st = null;\r\n    \t\tResultSet rs = null;\r\n    \t\ttry(Connection conn = everything right here)){\r\n    \t\t\tif(conn != null) {\r\n    \t\t\t\tSystem.out.println(&quot;Success conn!&quot;);\r\n    \t\t\t\tString query = &quot;INSERT INTO students (id, nome) VALUES (1, &#39;College Name&#39;)&quot;;\r\n    \t\t\t\tst = conn.createStatement();\r\n    \t\t\t\trs = st.executeUpdate(query);\r\n\r\nGiving me type mismatch: can&#39;t resolve `int` to `ResultSet` in\r\n```java\r\nrs = st.executeUpdate(query);\r\n```\r\n\r\n                    // continuation of above code\r\n    \t\t\t\twhile(rs.next()) {\r\n    \t\t\t\t\tSystem.out.println(&quot;\\nRegistro&quot;);\r\n    \t\t\t\t\tSystem.out.println(&quot;id: &quot; + rs.getInt(1));\r\n    \t\t\t\t\tSystem.out.println(&quot;nome: &quot; + rs.getString(2));\r\n    \t\t\t\t}\r\n    \t\t\t\trs.close();\r\n    \t\t\t\tst.close();\r\n    \t\t\t\tconn.close();\r\n    \t        }\r\n            }\r\n        }\r\n    }\r\n","title":"Type Mismatch : cannot convert from Int to ResultSet using oracle sql developer. ExecuteUpdate","body":"<p>I can't add items to the database because of this apparently.\nNot putting the entire code, hope you can understand.</p>\n<pre><code>import java.sql.Connection/Driver/ResultSet/SQLException/Statement;\n\npublic class Main {\n    public static void main(String[] args) {\n        Statement st = null;\n        ResultSet rs = null;\n        try(Connection conn = everything right here)){\n            if(conn != null) {\n                System.out.println(&quot;Success conn!&quot;);\n                String query = &quot;INSERT INTO students (id, nome) VALUES (1, 'College Name')&quot;;\n                st = conn.createStatement();\n                rs = st.executeUpdate(query);\n</code></pre>\n<p>Giving me type mismatch: can't resolve <code>int</code> to <code>ResultSet</code> in</p>\n<pre class=\"lang-java prettyprint-override\"><code>rs = st.executeUpdate(query);\n</code></pre>\n<pre><code>                // continuation of above code\n                while(rs.next()) {\n                    System.out.println(&quot;\\nRegistro&quot;);\n                    System.out.println(&quot;id: &quot; + rs.getInt(1));\n                    System.out.println(&quot;nome: &quot; + rs.getString(2));\n                }\n                rs.close();\n                st.close();\n                conn.close();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","bidi"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647516618,"post_id":71506877,"comment_id":126393317,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24584830,"reputation":11,"user_id":18489467,"display_name":"shipitkthx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647488917,"creation_date":1647488917,"question_id":71506877,"body_markdown":"I&#39;m exploring the new NetworkInterceptor class but every example I&#39;ve seen is for modifying the request. What I&#39;m attempting to do is intercept background REST API calls a page makes while loading and store the JSON responses as strings.","title":"How do I intercept a request and store the response using Selenium 4&#39;s BiDi API in Java?","body":"<p>I'm exploring the new NetworkInterceptor class but every example I've seen is for modifying the request. What I'm attempting to do is intercept background REST API calls a page makes while loading and store the JSON responses as strings.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1647119159,"post_id":71452769,"comment_id":126293752,"body_markdown":"Either display a notification or launch an activity. Note that you can use themes to control the look of the activity, so it does not necessarily have to fill the screen.","body":"Either display a notification or launch an activity. Note that you can use themes to control the look of the activity, so it does not necessarily have to fill the screen."},{"owner":{"account_id":4998806,"reputation":473,"user_id":4018420,"accept_rate":71,"display_name":"Regnodulous"},"score":0,"creation_date":1647122966,"post_id":71452769,"comment_id":126294139,"body_markdown":"Thanks so I tried starting an activity from the widget using pending intent but I couldn&#39;t get it to start. I&#39;m not at my pc at the moment to post the code I have but I&#39;ll do that tomorrow. Cheers.","body":"Thanks so I tried starting an activity from the widget using pending intent but I couldn&#39;t get it to start. I&#39;m not at my pc at the moment to post the code I have but I&#39;ll do that tomorrow. Cheers."},{"owner":{"account_id":4998806,"reputation":473,"user_id":4018420,"accept_rate":71,"display_name":"Regnodulous"},"score":0,"creation_date":1647167967,"post_id":71452769,"comment_id":126298546,"body_markdown":"So how do you actually start an activity from a widget? I got about as far as... \n\nIntent myintent = new Intent(context, MyActivity.class);\nPendingIntent.getActivity(context, 0, myintent, FLAG_ACTIVITY_NEW_TASK);\n\nBut this doesn&#39;t work... Whats the equivelent of \n\nIntent intent = new Intent(this, MyActivity.class);\nstartActivity(intent);\n\nwhen trying to do this from a Widget?\n\nThanks","body":"So how do you actually start an activity from a widget? I got about as far as...   Intent myintent = new Intent(context, MyActivity.class); PendingIntent.getActivity(context, 0, myintent, FLAG_ACTIVITY_NEW_TASK);  But this doesn&#39;t work... Whats the equivelent of   Intent intent = new Intent(this, MyActivity.class); startActivity(intent);  when trying to do this from a Widget?  Thanks"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1647172860,"post_id":71452769,"comment_id":126299587,"body_markdown":"&quot;But this doesn&#39;t work&quot; -- what did you do with the `PendingIntent`? If you attached it to the `Notification`, it should be invoked when the user clicks the notification.","body":"&quot;But this doesn&#39;t work&quot; -- what did you do with the <code>PendingIntent</code>? If you attached it to the <code>Notification</code>, it should be invoked when the user clicks the notification."},{"owner":{"account_id":4998806,"reputation":473,"user_id":4018420,"accept_rate":71,"display_name":"Regnodulous"},"score":0,"creation_date":1647188684,"post_id":71452769,"comment_id":126303210,"body_markdown":"Thank you. It&#39;s not being called by a notification. The widget is actually a custom button that runs some code and then displays the output. I need a way of invoking it after the code has run.... Sorry if it&#39;s obvious but I couldn&#39;t seem to work out how you do that... Maybe I&#39;ll post a bit more code to explain...","body":"Thank you. It&#39;s not being called by a notification. The widget is actually a custom button that runs some code and then displays the output. I need a way of invoking it after the code has run.... Sorry if it&#39;s obvious but I couldn&#39;t seem to work out how you do that... Maybe I&#39;ll post a bit more code to explain..."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1647188977,"post_id":71452769,"comment_id":126303283,"body_markdown":"Ah, sorry, I failed to scroll up to re-read the question when I posted my last comment. You attach your `PendingIntent` to the button in the app widget using `setOnClickPendingIntent()`. The app widget documentation is not great, but [this section](https://developer.android.com/guide/topics/appwidgets#handle-events) has a demonstration.","body":"Ah, sorry, I failed to scroll up to re-read the question when I posted my last comment. You attach your <code>PendingIntent</code> to the button in the app widget using <code>setOnClickPendingIntent()</code>. The app widget documentation is not great, but <a href=\"https://developer.android.com/guide/topics/appwidgets#handle-events\" rel=\"nofollow noreferrer\">this section</a> has a demonstration."},{"owner":{"account_id":4998806,"reputation":473,"user_id":4018420,"accept_rate":71,"display_name":"Regnodulous"},"score":0,"creation_date":1647283443,"post_id":71452769,"comment_id":126327905,"body_markdown":"Thank you - but is there another way? Basically when I click the button the app connects to a server in the background and retrieves some data... I don;t want anythign to show up on screen until that bit has finished at which point I would display the message on screen. If I attatch the PendingIntent using setonclickpendingintent the message will show straight away. Hope that makes sense. Thank you again.","body":"Thank you - but is there another way? Basically when I click the button the app connects to a server in the background and retrieves some data... I don;t want anythign to show up on screen until that bit has finished at which point I would display the message on screen. If I attatch the PendingIntent using setonclickpendingintent the message will show straight away. Hope that makes sense. Thank you again."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1647284490,"post_id":71452769,"comment_id":126328279,"body_markdown":"&quot;I don;t want anythign to show up on screen until that bit has finished at which point I would display the message on screen&quot; -- that&#39;s not practical, sorry. Show the UI with a loading state until your data is ready.","body":"&quot;I don;t want anythign to show up on screen until that bit has finished at which point I would display the message on screen&quot; -- that&#39;s not practical, sorry. Show the UI with a loading state until your data is ready."},{"owner":{"account_id":4998806,"reputation":473,"user_id":4018420,"accept_rate":71,"display_name":"Regnodulous"},"score":0,"creation_date":1647291916,"post_id":71452769,"comment_id":126330507,"body_markdown":"Oh Rats - at the minute i run the following... \n\nMaybe a notification could be used to do the same?\n\nOverride\n    public void onReceive(final Context context, Intent intent) {\n        super.onReceive(context, intent);\n\n\t\tRun my code... do some stuff in the background... \n\n\t\t//When the code has finished... \n\t\t\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n\t\t\t\t//show my toast here...\n                    }\n                });\n\t\t\n        } else {\n            super.onReceive(context, intent);\n}","body":"Oh Rats - at the minute i run the following...   Maybe a notification could be used to do the same?  Override     public void onReceive(final Context context, Intent intent) {         super.onReceive(context, intent);  \t\tRun my code... do some stuff in the background...   \t\t//When the code has finished...  \t\t                 runOnUiThread(new Runnable() {                     @Override                     public void run() { \t\t\t\t//show my toast here...                     }                 }); \t\t         } else {             super.onReceive(context, intent); }"}],"answers":[{"tags":[],"owner":{"account_id":4998806,"reputation":473,"user_id":4018420,"accept_rate":71,"display_name":"Regnodulous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647488370,"creation_date":1647488370,"answer_id":71506832,"question_id":71452769,"body_markdown":"Finally worked out how to do this myself... Its kinda obvious when you know but isn&#39;t that always the way?\r\n\r\nCreate a new activity. You can make it look like a dialog by using this theme in your manifest - android:theme=&quot;@style/Theme.AppCompat.Dialog&quot;. Then from your widget simply call showmessage as outlined below... \r\n\r\n\r\n    public void showamessage (String thetitle, String themessage) {\r\n\r\n        PendingIntent pendingIntent;\r\n        Intent intent = new Intent();\r\n        intent.setClass(thecontext,MessageActivity.class);\r\n        intent.putExtra(&quot;TheTitle&quot;,thetitle);\r\n        intent.putExtra(&quot;TheMessage&quot;,themessage);\r\n        pendingIntent =  PendingIntent.getActivity(thecontext, 0, intent, FLAG_IMMUTABLE);\r\n\r\n        try {\r\n            pendingIntent.send(thecontext, 0, intent);\r\n        } catch (PendingIntent.CanceledException e) {\r\n            System.out.println( &quot;Sending pendingintent failed: &quot; );\r\n        }\r\n    }","title":"Alternative for toast when using widgets in Android 12 as toasts are now truncated","body":"<p>Finally worked out how to do this myself... Its kinda obvious when you know but isn't that always the way?</p>\n<p>Create a new activity. You can make it look like a dialog by using this theme in your manifest - android:theme=&quot;@style/Theme.AppCompat.Dialog&quot;. Then from your widget simply call showmessage as outlined below...</p>\n<pre><code>public void showamessage (String thetitle, String themessage) {\n\n    PendingIntent pendingIntent;\n    Intent intent = new Intent();\n    intent.setClass(thecontext,MessageActivity.class);\n    intent.putExtra(&quot;TheTitle&quot;,thetitle);\n    intent.putExtra(&quot;TheMessage&quot;,themessage);\n    pendingIntent =  PendingIntent.getActivity(thecontext, 0, intent, FLAG_IMMUTABLE);\n\n    try {\n        pendingIntent.send(thecontext, 0, intent);\n    } catch (PendingIntent.CanceledException e) {\n        System.out.println( &quot;Sending pendingintent failed: &quot; );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4998806,"reputation":473,"user_id":4018420,"accept_rate":71,"display_name":"Regnodulous"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647488370,"creation_date":1647117279,"question_id":71452769,"body_markdown":"hope someone can point me in the right direction. \r\n\r\nI have created an app with a widget. The widget is a simple button that runs a bit of code and then returns a message to the user via a toast. However, I realise in Android 12 toasts are now truncated to two lines and often the message is longer. I&#39;m not keen on snackbars but appreciate my main app can be converted to use them but what should I use to do the same job via a widget? \r\n\r\nSnackbars require a layout view to work but I can&#39;t figure out how to retirve it from teh widget code. I could use an alertdialogue but although the code compiles they simple don&#39;t seem to show up. I&#39;m open to suggestions here... \r\n\r\nWhat is the best way of popping up a message on the homescreen when a widget is pressed? Is there any way of telling the app not to truncate toasts or if not what&#39;s the best alternative?\r\n\r\nMany thanks\r\n\r\nNat\r\n\r\n\r\n\r\n\r\n\r\n  ","title":"Alternative for toast when using widgets in Android 12 as toasts are now truncated","body":"<p>hope someone can point me in the right direction.</p>\n<p>I have created an app with a widget. The widget is a simple button that runs a bit of code and then returns a message to the user via a toast. However, I realise in Android 12 toasts are now truncated to two lines and often the message is longer. I'm not keen on snackbars but appreciate my main app can be converted to use them but what should I use to do the same job via a widget?</p>\n<p>Snackbars require a layout view to work but I can't figure out how to retirve it from teh widget code. I could use an alertdialogue but although the code compiles they simple don't seem to show up. I'm open to suggestions here...</p>\n<p>What is the best way of popping up a message on the homescreen when a widget is pressed? Is there any way of telling the app not to truncate toasts or if not what's the best alternative?</p>\n<p>Many thanks</p>\n<p>Nat</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":20782878,"reputation":894,"user_id":15982771,"display_name":"Blue Robin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647482168,"creation_date":1647482168,"answer_id":71506228,"question_id":71503792,"body_markdown":"As shown in this post&#39;s answers:\r\nhttps://stackoverflow.com/questions/67506263/how-to-get-a-minecarft-session-id#:~:text=You%20can%20manually%20crash%20your,will%20be%20your%20session%20id.\r\n\r\nThe top answer shows:\r\n\r\n    Minecraft mc = Minecraft.getMinecraft();\r\n\r\n    mc.getSession().getToken();\r\nMaybe this is a capitalization error?","title":"Forge steal session token","body":"<p>As shown in this post's answers:\n<a href=\"https://stackoverflow.com/questions/67506263/how-to-get-a-minecarft-session-id#:%7E:text=You%20can%20manually%20crash%20your,will%20be%20your%20session%20id\">https://stackoverflow.com/questions/67506263/how-to-get-a-minecarft-session-id#:~:text=You%20can%20manually%20crash%20your,will%20be%20your%20session%20id</a>.</p>\n<p>The top answer shows:</p>\n<pre><code>Minecraft mc = Minecraft.getMinecraft();\n\nmc.getSession().getToken();\n</code></pre>\n<p>Maybe this is a capitalization error?</p>\n"}],"owner":{"account_id":22997116,"reputation":13,"user_id":17121684,"display_name":"user17121684"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1647498374,"accepted_answer_id":71506228,"answer_count":1,"score":1,"last_activity_date":1647487724,"creation_date":1647462124,"question_id":71503792,"body_markdown":"I&#39;m wondering how to get Minecraft session id with Forge mod. Normally in Minecraft you use ```mc.session.getToken()``` but in Forge it doesn&#39;t show up. Anyone knows how to do it?","title":"Forge steal session token","body":"<p>I'm wondering how to get Minecraft session id with Forge mod. Normally in Minecraft you use <code>mc.session.getToken()</code> but in Forge it doesn't show up. Anyone knows how to do it?</p>\n"},{"tags":["java","java.util.scanner","chatbot","mirroring"],"comments":[{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1647476558,"post_id":71505537,"comment_id":126383906,"body_markdown":"Change your for loop to `i += 2` from ` 1 &lt; length` and then do `[i] = userWords` and `[i+1] = mirrored`.  Should get you to stop overwriting the words..  Also.. unsnake.","body":"Change your for loop to <code>i += 2</code> from ` 1 &lt; length` and then do <code>[i] = userWords</code> and <code>[i+1] = mirrored</code>.  Should get you to stop overwriting the words..  Also.. unsnake."}],"answers":[{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647484103,"creation_date":1647483775,"answer_id":71506370,"question_id":71505537,"body_markdown":"I made little modification to your code and now it work as you expected:\r\n\r\n    \t public static void main(String[] args) { \r\n\t\t    String[] canned_phrases = {&quot;Yes&quot;, &quot;Hmmm. Please tell me more news&quot;, &quot;Of course&quot;, &quot;Okay&quot;, &quot;Interesting...&quot;, &quot;Indeed&quot;};\r\n\t\t    int canned_times = canned_phrases.length;\r\n\t\t   \r\n\t\t    Scanner conversation_start = new Scanner(System.in);\r\n\t\t    System.out.println(&quot;\\nWelcome!\\n&quot;);\r\n\t\t    System.out.println(&quot;How many rounds of conversation would you like to have?\\n&quot;);\r\n\t\t    \r\n\t\t    int rounds = conversation_start.nextInt();\r\n\t\t    conversation_start.nextLine();\r\n\t\t    String[] transcript = new String[2*rounds+1];\r\n\t\t    transcript[0] = &quot;Sounds great! How are you doing today?&quot;; \r\n\t\t    System.out.println(transcript[0]);\r\n\t\t    \r\n\r\n\t\t      for (int i = 0; i &lt; rounds; i++) {\r\n\t\t        String user_words = conversation_start.nextLine();\r\n\t\t        String mirrored;\r\n\t\t        String new_version = user_words.replace(&quot;I&quot;, &quot;you&quot;);\r\n\t\t        new_version = new_version.replace(&quot;me&quot;,&quot;you&quot;);\r\n\t\t        new_version = new_version.replace(&quot;am&quot;,&quot;are&quot;);\r\n                //1st change as you replaced it above so not swap it again\r\n\t\t        //new_version = new_version.replace(&quot;you&quot;,&quot;I&quot;);\r\n\t\t        new_version = new_version.replace(&quot;my&quot;,&quot;your&quot;);\r\n\t\t        new_version = new_version.replace(&quot;your&quot;,&quot;my&quot;);\r\n\t\t        new_version = new_version.replace(&quot;my&quot;,&quot;you&quot;);\r\n                \r\n                //by commenting the line above, will enter the IF-block\r\n\t\t\t\tif (!new_version.equals(user_words)) {\r\n\t\t\t\t\tmirrored = new_version;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmirrored = canned_phrases[(int) Math.floor(canned_times * Math.random())];\r\n\t\t\t\t}\r\n\t\t        System.out.println(mirrored);\r\n\t\t        \r\n\t\t        transcript[2*i+1] = user_words;\r\n                //2nd change to not overwrite the same index i added 2 instead of 1\r\n\t\t        transcript[2*i+2] = mirrored;\r\n\t\t        \r\n\t\t      }\r\n\t\t    System.out.println(&quot;Thank you for chatting with me! Come back soon!&quot;);\r\n\r\n\t\t    System.out.println(&quot; &quot;);\r\n\t\t    System.out.println(&quot;TRANSCRIPT &quot;);\r\n            //3rd change i removed the = from the loop condition to prevent exception appeared\r\n\t\t    for (int i = 0; i &lt; transcript.length; i++) {\r\n\t\t      System.out.println(transcript[i]);\r\n\t\t    }\r\n\t\t    System.exit(0);\r\n\t\t  } \r\n","title":"Java chatbot mirroring and canned responses","body":"<p>I made little modification to your code and now it work as you expected:</p>\n<pre><code>     public static void main(String[] args) { \n        String[] canned_phrases = {&quot;Yes&quot;, &quot;Hmmm. Please tell me more news&quot;, &quot;Of course&quot;, &quot;Okay&quot;, &quot;Interesting...&quot;, &quot;Indeed&quot;};\n        int canned_times = canned_phrases.length;\n       \n        Scanner conversation_start = new Scanner(System.in);\n        System.out.println(&quot;\\nWelcome!\\n&quot;);\n        System.out.println(&quot;How many rounds of conversation would you like to have?\\n&quot;);\n        \n        int rounds = conversation_start.nextInt();\n        conversation_start.nextLine();\n        String[] transcript = new String[2*rounds+1];\n        transcript[0] = &quot;Sounds great! How are you doing today?&quot;; \n        System.out.println(transcript[0]);\n        \n\n          for (int i = 0; i &lt; rounds; i++) {\n            String user_words = conversation_start.nextLine();\n            String mirrored;\n            String new_version = user_words.replace(&quot;I&quot;, &quot;you&quot;);\n            new_version = new_version.replace(&quot;me&quot;,&quot;you&quot;);\n            new_version = new_version.replace(&quot;am&quot;,&quot;are&quot;);\n            //1st change as you replaced it above so not swap it again\n            //new_version = new_version.replace(&quot;you&quot;,&quot;I&quot;);\n            new_version = new_version.replace(&quot;my&quot;,&quot;your&quot;);\n            new_version = new_version.replace(&quot;your&quot;,&quot;my&quot;);\n            new_version = new_version.replace(&quot;my&quot;,&quot;you&quot;);\n            \n            //by commenting the line above, will enter the IF-block\n            if (!new_version.equals(user_words)) {\n                mirrored = new_version;\n            } else {\n                mirrored = canned_phrases[(int) Math.floor(canned_times * Math.random())];\n            }\n            System.out.println(mirrored);\n            \n            transcript[2*i+1] = user_words;\n            //2nd change to not overwrite the same index i added 2 instead of 1\n            transcript[2*i+2] = mirrored;\n            \n          }\n        System.out.println(&quot;Thank you for chatting with me! Come back soon!&quot;);\n\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;TRANSCRIPT &quot;);\n        //3rd change i removed the = from the loop condition to prevent exception appeared\n        for (int i = 0; i &lt; transcript.length; i++) {\n          System.out.println(transcript[i]);\n        }\n        System.exit(0);\n      } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647486883,"creation_date":1647486883,"answer_id":71506670,"question_id":71505537,"body_markdown":"I think the best way to achieve what you want is to split the user-entered sentence into words and change the individual words according to your rules, for example if the word is *my* then change it to *your*. In the below code, I iterate through all the words in order, changing each word as needed and appending them to a `StringBuilder` so that after iterating through all the words, the `StringBuilder` contains the mirrored sentence.\r\n\r\n(More notes after the code.)\r\n```java\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Conversation {\r\n\r\n    public static void main(String[] args) {\r\n        String[] cannedPhrases = {&quot;Yes&quot;,\r\n                                  &quot;Hmmm. Please tell me more news&quot;,\r\n                                  &quot;Of course&quot;,\r\n                                  &quot;Okay&quot;,\r\n                                  &quot;Interesting...&quot;,\r\n                                  &quot;Indeed&quot;};\r\n        int cannedTimes = cannedPhrases.length;\r\n        Random rand = new Random();\r\n        Scanner conversationStart = new Scanner(System.in);\r\n        System.out.println(&quot;\\nWelcome!\\n&quot;);\r\n        System.out.println(&quot;How many rounds of conversation would you like to have?\\n&quot;);\r\n        int rounds = conversationStart.nextInt();\r\n        conversationStart.nextLine();\r\n        String[] transcript = new String[2 * rounds];\r\n        transcript[0] = &quot;Sounds great! How are you doing today?&quot;;\r\n        System.out.println(transcript[0]);\r\n        int index = -1;\r\n        for (int i = 0; i &lt; rounds; i++) {\r\n            String userWords = conversationStart.nextLine();\r\n            String mirrored;\r\n            StringBuilder result = new StringBuilder();\r\n            String[] words = userWords.split(&quot; &quot;);\r\n            boolean first = true;\r\n            for (String word : words) {\r\n                if (first) {\r\n                    first = false;\r\n                }\r\n                else {\r\n                    result.append(&#39; &#39;);\r\n                }\r\n                switch (word) {\r\n                    case &quot;I&quot;:\r\n                        word = &quot;you&quot;;\r\n                        break;\r\n                    case &quot;me&quot;:\r\n                        word = &quot;you&quot;;\r\n                        break;\r\n                    case &quot;am&quot;:\r\n                        word = &quot;are&quot;;\r\n                        break;\r\n                    case &quot;you&quot;:\r\n                        word = &quot;I&quot;;\r\n                        break;\r\n                    case &quot;my&quot;:\r\n                        word = &quot;your&quot;;\r\n                        break;\r\n                    case &quot;your&quot;:\r\n                        word = &quot;my&quot;;\r\n                        break;\r\n                }\r\n                result.append(word);\r\n            }\r\n            String newVersion = result.toString();\r\n            if (!newVersion.equals(userWords)) {\r\n                mirrored = newVersion;\r\n            }\r\n            else {\r\n                mirrored = cannedPhrases[rand.nextInt(cannedTimes)];\r\n            }\r\n            System.out.println(mirrored);\r\n            transcript[++index] = userWords;\r\n            transcript[++index] = mirrored;\r\n        }\r\n        System.out.println(&quot;Thank you for chatting with me! Come back soon!&quot;);\r\n        System.out.println(&quot; &quot;);\r\n        System.out.println(&quot;TRANSCRIPT &quot;);\r\n        for (int i = 0; i &lt; transcript.length; i++) {\r\n            System.out.println(transcript[i]);\r\n        }\r\n        System.exit(0);\r\n    }\r\n}\r\n```\r\n* You should try to adhere to [Java naming conventions][1]. I changed the variable names in your code accordingly.\r\n* Rather than manipulate the [first] `for` loop variable `i` to handle both the conversation round and the transcript index, I used a separate variable, named `index` for the transcript.\r\n* [Switching on string][2] was added in Java 7.\r\n* The `for` loop that prints the transcript was wrong. The terminating condition should be `i &lt; transcript.length` (and not `i &lt;= transcript.length`).\r\n* The above code assumes that the user-entered sentence consists of words separated by single spaces. If you want more sophisticated handling of the user-entered sentence, for example handling punctuation, like commas, periods, etc, then you will need to change the [split][3] method&#39;s [regular expression][4].\r\n\r\nHere is output from a sample run:\r\n```none\r\n\r\nWelcome!\r\n\r\nHow many rounds of conversation would you like to have?\r\n\r\n2\r\nSounds great! How are you doing today?\r\nOK\r\nOf course\r\nWhy do you say that\r\nWhy do I say that\r\nThank you for chatting with me! Come back soon!\r\n \r\nTRANSCRIPT \r\nOK\r\nOf course\r\nWhy do you say that\r\nWhy do I say that\r\n```\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/language/strings-switch.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String)\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/regex/","title":"Java chatbot mirroring and canned responses","body":"<p>I think the best way to achieve what you want is to split the user-entered sentence into words and change the individual words according to your rules, for example if the word is <em>my</em> then change it to <em>your</em>. In the below code, I iterate through all the words in order, changing each word as needed and appending them to a <code>StringBuilder</code> so that after iterating through all the words, the <code>StringBuilder</code> contains the mirrored sentence.</p>\n<p>(More notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class Conversation {\n\n    public static void main(String[] args) {\n        String[] cannedPhrases = {&quot;Yes&quot;,\n                                  &quot;Hmmm. Please tell me more news&quot;,\n                                  &quot;Of course&quot;,\n                                  &quot;Okay&quot;,\n                                  &quot;Interesting...&quot;,\n                                  &quot;Indeed&quot;};\n        int cannedTimes = cannedPhrases.length;\n        Random rand = new Random();\n        Scanner conversationStart = new Scanner(System.in);\n        System.out.println(&quot;\\nWelcome!\\n&quot;);\n        System.out.println(&quot;How many rounds of conversation would you like to have?\\n&quot;);\n        int rounds = conversationStart.nextInt();\n        conversationStart.nextLine();\n        String[] transcript = new String[2 * rounds];\n        transcript[0] = &quot;Sounds great! How are you doing today?&quot;;\n        System.out.println(transcript[0]);\n        int index = -1;\n        for (int i = 0; i &lt; rounds; i++) {\n            String userWords = conversationStart.nextLine();\n            String mirrored;\n            StringBuilder result = new StringBuilder();\n            String[] words = userWords.split(&quot; &quot;);\n            boolean first = true;\n            for (String word : words) {\n                if (first) {\n                    first = false;\n                }\n                else {\n                    result.append(' ');\n                }\n                switch (word) {\n                    case &quot;I&quot;:\n                        word = &quot;you&quot;;\n                        break;\n                    case &quot;me&quot;:\n                        word = &quot;you&quot;;\n                        break;\n                    case &quot;am&quot;:\n                        word = &quot;are&quot;;\n                        break;\n                    case &quot;you&quot;:\n                        word = &quot;I&quot;;\n                        break;\n                    case &quot;my&quot;:\n                        word = &quot;your&quot;;\n                        break;\n                    case &quot;your&quot;:\n                        word = &quot;my&quot;;\n                        break;\n                }\n                result.append(word);\n            }\n            String newVersion = result.toString();\n            if (!newVersion.equals(userWords)) {\n                mirrored = newVersion;\n            }\n            else {\n                mirrored = cannedPhrases[rand.nextInt(cannedTimes)];\n            }\n            System.out.println(mirrored);\n            transcript[++index] = userWords;\n            transcript[++index] = mirrored;\n        }\n        System.out.println(&quot;Thank you for chatting with me! Come back soon!&quot;);\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;TRANSCRIPT &quot;);\n        for (int i = 0; i &lt; transcript.length; i++) {\n            System.out.println(transcript[i]);\n        }\n        System.exit(0);\n    }\n}\n</code></pre>\n<ul>\n<li>You should try to adhere to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>. I changed the variable names in your code accordingly.</li>\n<li>Rather than manipulate the [first] <code>for</code> loop variable <code>i</code> to handle both the conversation round and the transcript index, I used a separate variable, named <code>index</code> for the transcript.</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/strings-switch.html\" rel=\"nofollow noreferrer\">Switching on string</a> was added in Java 7.</li>\n<li>The <code>for</code> loop that prints the transcript was wrong. The terminating condition should be <code>i &lt; transcript.length</code> (and not <code>i &lt;= transcript.length</code>).</li>\n<li>The above code assumes that the user-entered sentence consists of words separated by single spaces. If you want more sophisticated handling of the user-entered sentence, for example handling punctuation, like commas, periods, etc, then you will need to change the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">split</a> method's <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">regular expression</a>.</li>\n</ul>\n<p>Here is output from a sample run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>\nWelcome!\n\nHow many rounds of conversation would you like to have?\n\n2\nSounds great! How are you doing today?\nOK\nOf course\nWhy do you say that\nWhy do I say that\nThank you for chatting with me! Come back soon!\n \nTRANSCRIPT \nOK\nOf course\nWhy do you say that\nWhy do I say that\n</code></pre>\n"}],"owner":{"account_id":24226925,"reputation":5,"user_id":18181275,"display_name":"cool cat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71506670,"answer_count":2,"score":0,"last_activity_date":1647486883,"creation_date":1647474799,"question_id":71505537,"body_markdown":"So I got this java chatbot program that I&#39;m working on. \r\n\r\nDepending on what the user says, the chatbot either gives a canned response `canned_phrases` or a mirrored response if the user&#39;s response has one of the keywords `I love pizza` --&gt; `you love pizza`.\r\n\r\nThe problem is that the **chatbot does not give back the mirrored version**. I think the problem is that the words are being overwritten by each other but I&#39;m not sure how to fix that.\r\n \r\nThank for your help!\r\n```java\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Conversation {\r\n\r\n    public static void main(String[] args) {\r\n        String[] canned_phrases = {&quot;Yes&quot;,\r\n                                   &quot;Hmmm. Please tell me more news&quot;,\r\n                                   &quot;Of course&quot;,\r\n                                   &quot;Okay&quot;,\r\n                                   &quot;Interesting...&quot;,\r\n                                   &quot;Indeed&quot;};\r\n        int canned_times = canned_phrases.length;\r\n\r\n        Scanner conversation_start = new Scanner(System.in);\r\n        System.out.println(&quot;\\nWelcome!\\n&quot;);\r\n        System.out.println(&quot;How many rounds of conversation would you like to have?\\n&quot;);\r\n        int rounds = conversation_start.nextInt();\r\n        conversation_start.nextLine();\r\n        String[] transcript = new String[2 * rounds + 1];\r\n        transcript[0] = &quot;Sounds great! How are you doing today?&quot;;\r\n        System.out.println(transcript[0]);\r\n        for (int i = 0; i &lt; rounds; i++) {\r\n            String user_words = conversation_start.nextLine();\r\n            String mirrored;\r\n            String new_version = user_words.replace(&quot;I&quot;, &quot;you&quot;);\r\n            new_version = new_version.replace(&quot;me&quot;, &quot;you&quot;);\r\n            new_version = new_version.replace(&quot;am&quot;, &quot;are&quot;);\r\n            new_version = new_version.replace(&quot;you&quot;, &quot;I&quot;);\r\n            new_version = new_version.replace(&quot;my&quot;, &quot;your&quot;);\r\n            new_version = new_version.replace(&quot;your&quot;, &quot;my&quot;);\r\n            new_version = new_version.replace(&quot;my&quot;, &quot;you&quot;);\r\n            if (!new_version.equals(user_words)) {\r\n                mirrored = new_version;\r\n            }\r\n            else {\r\n                mirrored = canned_phrases[(int) Math.floor(canned_times * Math.random())];\r\n            }\r\n            System.out.println(mirrored);\r\n            transcript[2 * i + 1] = user_words;\r\n            transcript[2 * i + 1] = mirrored;\r\n        }\r\n        System.out.println(&quot;Thank you for chatting with me! Come back soon!&quot;);\r\n        System.out.println(&quot; &quot;);\r\n        System.out.println(&quot;TRANSCRIPT &quot;);\r\n        for (int i = 0; i &lt;= transcript.length; i++) {\r\n            System.out.println(transcript[i]);\r\n        }\r\n        System.exit(0);\r\n    }\r\n}\r\n```","title":"Java chatbot mirroring and canned responses","body":"<p>So I got this java chatbot program that I'm working on.</p>\n<p>Depending on what the user says, the chatbot either gives a canned response <code>canned_phrases</code> or a mirrored response if the user's response has one of the keywords <code>I love pizza</code> --&gt; <code>you love pizza</code>.</p>\n<p>The problem is that the <strong>chatbot does not give back the mirrored version</strong>. I think the problem is that the words are being overwritten by each other but I'm not sure how to fix that.</p>\n<p>Thank for your help!</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class Conversation {\n\n    public static void main(String[] args) {\n        String[] canned_phrases = {&quot;Yes&quot;,\n                                   &quot;Hmmm. Please tell me more news&quot;,\n                                   &quot;Of course&quot;,\n                                   &quot;Okay&quot;,\n                                   &quot;Interesting...&quot;,\n                                   &quot;Indeed&quot;};\n        int canned_times = canned_phrases.length;\n\n        Scanner conversation_start = new Scanner(System.in);\n        System.out.println(&quot;\\nWelcome!\\n&quot;);\n        System.out.println(&quot;How many rounds of conversation would you like to have?\\n&quot;);\n        int rounds = conversation_start.nextInt();\n        conversation_start.nextLine();\n        String[] transcript = new String[2 * rounds + 1];\n        transcript[0] = &quot;Sounds great! How are you doing today?&quot;;\n        System.out.println(transcript[0]);\n        for (int i = 0; i &lt; rounds; i++) {\n            String user_words = conversation_start.nextLine();\n            String mirrored;\n            String new_version = user_words.replace(&quot;I&quot;, &quot;you&quot;);\n            new_version = new_version.replace(&quot;me&quot;, &quot;you&quot;);\n            new_version = new_version.replace(&quot;am&quot;, &quot;are&quot;);\n            new_version = new_version.replace(&quot;you&quot;, &quot;I&quot;);\n            new_version = new_version.replace(&quot;my&quot;, &quot;your&quot;);\n            new_version = new_version.replace(&quot;your&quot;, &quot;my&quot;);\n            new_version = new_version.replace(&quot;my&quot;, &quot;you&quot;);\n            if (!new_version.equals(user_words)) {\n                mirrored = new_version;\n            }\n            else {\n                mirrored = canned_phrases[(int) Math.floor(canned_times * Math.random())];\n            }\n            System.out.println(mirrored);\n            transcript[2 * i + 1] = user_words;\n            transcript[2 * i + 1] = mirrored;\n        }\n        System.out.println(&quot;Thank you for chatting with me! Come back soon!&quot;);\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;TRANSCRIPT &quot;);\n        for (int i = 0; i &lt;= transcript.length; i++) {\n            System.out.println(transcript[i]);\n        }\n        System.exit(0);\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","gradle","redhat","amazon-linux-2"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1647317054,"post_id":71476147,"comment_id":126335075,"body_markdown":"You can set envvar(s) in `docker exec` using `--env/-e` or `--env-file` (in the host); see the man page. Or you can make `bash -i` happy by having exec allocate a pty with `-t`; ditto. None of these are specific to AmazonLinux. If your projectdir/gradlew is a script, check if its first line is a &#39;shebang&#39; for /bin/sh or similar -- that runs bash in a POSIX-like mode where BASH_ENV is ignored.","body":"You can set envvar(s) in <code>docker exec</code> using <code>--env&#47;-e</code> or <code>--env-file</code> (in the host); see the man page. Or you can make <code>bash -i</code> happy by having exec allocate a pty with <code>-t</code>; ditto. None of these are specific to AmazonLinux. If your projectdir/gradlew is a script, check if its first line is a &#39;shebang&#39; for /bin/sh or similar -- that runs bash in a POSIX-like mode where BASH_ENV is ignored."}],"answers":[{"tags":[],"owner":{"account_id":874712,"reputation":19505,"user_id":924597,"accept_rate":79,"display_name":"Shorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647486359,"creation_date":1647486359,"answer_id":71506616,"question_id":71476147,"body_markdown":"After digging around on the Googles - I believe there is no standard *Linux* way to set an environment variable for **non-interactive** shells.\r\n\r\nBut there is a *Docker* way to answer the question. On the original `docker create` of the container from the `amazonlinux:2` image, specify the environment variable via `-e JAVA_HOME=/usr/lib/jvm/java-17-amazon-corretto.x86_64`.  This stores the environment variable in the docker metadata for the container and it will be available in all execution contexts, including non-interactive shells invoked directly via `docker exec` (without having to specify it explicitly for every `exec` command).\r\n\r\nAs far as I know, this is the same as what the `ENV` command in a `Dockerfile` does.\r\n\r\n","title":"How to set environment variables so they work in non-interactive bash shells?","body":"<p>After digging around on the Googles - I believe there is no standard <em>Linux</em> way to set an environment variable for <strong>non-interactive</strong> shells.</p>\n<p>But there is a <em>Docker</em> way to answer the question. On the original <code>docker create</code> of the container from the <code>amazonlinux:2</code> image, specify the environment variable via <code>-e JAVA_HOME=/usr/lib/jvm/java-17-amazon-corretto.x86_64</code>.  This stores the environment variable in the docker metadata for the container and it will be available in all execution contexts, including non-interactive shells invoked directly via <code>docker exec</code> (without having to specify it explicitly for every <code>exec</code> command).</p>\n<p>As far as I know, this is the same as what the <code>ENV</code> command in a <code>Dockerfile</code> does.</p>\n"}],"owner":{"account_id":874712,"reputation":19505,"user_id":924597,"accept_rate":79,"display_name":"Shorn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71506616,"answer_count":1,"score":0,"last_activity_date":1647486359,"creation_date":1647309178,"question_id":71476147,"body_markdown":"I am running the `amazonlinux:2` docker image directly from dockerhub and installing the corretto-17 JDK with the following command:\r\n```\r\nyum install -y git java-17-amazon-corretto-devel\r\n```\r\n\r\nNote: I am not using a custom `Dockerfile`, I do not control it and I can&#39;t change it.\r\n\r\nWhen I then try and run my `.gradlew` task, it fails because there&#39;s no `JAVA_HOME` set.\r\nSo I do that by:\r\n```\r\necho &quot;export JAVA_HOME=&#39;/usr/lib/jvm/java-17-amazon-corretto.x86_64&#39;&quot; &gt;&gt; /root/.bashrc\r\n```\r\n\r\nIf I manually connect a terminal to to the container, the `.bashrc` works fine and `gradlew` will run.\r\n\r\nBut when I run commands from outside the container via something like: \r\n```\r\ndocker exec kopibuild /bin/bash -c &quot;cd the-project-code &amp;&amp; ./gradlew build&quot;\r\n````\r\n\r\nThe `.bashrc` is not loaded so `JAVA_HOME` is not set and `gradlew` fails.\r\n\r\nMy workaround is to add the interactive flag `-i` to the `bash` command and then it all works, but there are warnings in the logs about &quot;cannot set terminal process group (-1): Inappropriate ioctl for device&quot;.\r\n\r\n```\r\ndocker exec kopibuild /bin/bash -c &quot;cd the-project-code &amp;&amp; BASH_ENV=/root/.bashrc ./gradlew build&quot;\r\n````\r\nBut it didn&#39;t seem to do anything.\r\n\r\nWhat&#39;s the right way to set environment variables for Amazon Linux so they will exist in non-interactive shell invocations?","title":"How to set environment variables so they work in non-interactive bash shells?","body":"<p>I am running the <code>amazonlinux:2</code> docker image directly from dockerhub and installing the corretto-17 JDK with the following command:</p>\n<pre><code>yum install -y git java-17-amazon-corretto-devel\n</code></pre>\n<p>Note: I am not using a custom <code>Dockerfile</code>, I do not control it and I can't change it.</p>\n<p>When I then try and run my <code>.gradlew</code> task, it fails because there's no <code>JAVA_HOME</code> set.\nSo I do that by:</p>\n<pre><code>echo &quot;export JAVA_HOME='/usr/lib/jvm/java-17-amazon-corretto.x86_64'&quot; &gt;&gt; /root/.bashrc\n</code></pre>\n<p>If I manually connect a terminal to to the container, the <code>.bashrc</code> works fine and <code>gradlew</code> will run.</p>\n<p>But when I run commands from outside the container via something like:</p>\n<pre><code>docker exec kopibuild /bin/bash -c &quot;cd the-project-code &amp;&amp; ./gradlew build&quot;\n</code></pre>\n<p>The <code>.bashrc</code> is not loaded so <code>JAVA_HOME</code> is not set and <code>gradlew</code> fails.</p>\n<p>My workaround is to add the interactive flag <code>-i</code> to the <code>bash</code> command and then it all works, but there are warnings in the logs about &quot;cannot set terminal process group (-1): Inappropriate ioctl for device&quot;.</p>\n<pre><code>docker exec kopibuild /bin/bash -c &quot;cd the-project-code &amp;&amp; BASH_ENV=/root/.bashrc ./gradlew build&quot;\n</code></pre>\n<p>But it didn't seem to do anything.</p>\n<p>What's the right way to set environment variables for Amazon Linux so they will exist in non-interactive shell invocations?</p>\n"},{"tags":["java","oop","subclass","superclass"],"comments":[{"owner":{"account_id":17585753,"reputation":79,"user_id":12800048,"display_name":"Vmir"},"score":0,"creation_date":1647483820,"post_id":71506006,"comment_id":126385080,"body_markdown":"I guess number accounts can be static, so that it can be used throughout classes, the number of accounts created will be then stored permanently until you rerun the activity","body":"I guess number accounts can be static, so that it can be used throughout classes, the number of accounts created will be then stored permanently until you rerun the activity"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1647485590,"post_id":71506006,"comment_id":126385325,"body_markdown":"Inheritance indicates that instances of the subclass *are* instances of the superclass (for instance, every `String` *is* an `Object` in Java). Is it really accurate to say that every bank account *is* a bank?","body":"Inheritance indicates that instances of the subclass <i>are</i> instances of the superclass (for instance, every <code>String</code> <i>is</i> an <code>Object</code> in Java). Is it really accurate to say that every bank account <i>is</i> a bank?"},{"owner":{"account_id":7809187,"reputation":153,"user_id":5905987,"accept_rate":75,"display_name":"Asahi Sara"},"score":0,"creation_date":1647486382,"post_id":71506006,"comment_id":126385441,"body_markdown":"I see your point, make sense, inherit such Bank methods to a Bank Account would be wrong in the given context, I thought  using this mechanism would solve my needs but now I see is bad practice","body":"I see your point, make sense, inherit such Bank methods to a Bank Account would be wrong in the given context, I thought  using this mechanism would solve my needs but now I see is bad practice"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1647489980,"post_id":71506006,"comment_id":126385970,"body_markdown":"Correct. `BankAccount extends Bank` is not a proper object model.","body":"Correct. <code>BankAccount extends Bank</code> is not a proper object model."}],"answers":[{"tags":[],"owner":{"account_id":22467756,"reputation":46,"user_id":16668645,"display_name":"harrison1017"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647485484,"creation_date":1647485484,"answer_id":71506530,"question_id":71506006,"body_markdown":"    registeredAccounts[numberAccounts] = new BankAccount(name, numberBankAccountGenerated); // dumplicate another bank here\r\nWhen you run the code as above, the obj `BankAccount` have their own value of numberAccounts, and its value is not related to the `Bank` created it.\r\nI think you purpose was to share the value and amount in the `Bank`, it might be a way that to seperate the class `Bank` and `BankAccount`, design the way how to share those properties in `Bank`, for example, through parameters.","title":"Childrens can&#39;t get the updated Parent values","body":"<pre><code>registeredAccounts[numberAccounts] = new BankAccount(name, numberBankAccountGenerated); // dumplicate another bank here\n</code></pre>\n<p>When you run the code as above, the obj <code>BankAccount</code> have their own value of numberAccounts, and its value is not related to the <code>Bank</code> created it.\nI think you purpose was to share the value and amount in the <code>Bank</code>, it might be a way that to seperate the class <code>Bank</code> and <code>BankAccount</code>, design the way how to share those properties in <code>Bank</code>, for example, through parameters.</p>\n"}],"owner":{"account_id":7809187,"reputation":153,"user_id":5905987,"accept_rate":75,"display_name":"Asahi Sara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647485484,"creation_date":1647479863,"question_id":71506006,"body_markdown":"I&#39;m trying to create a Bank system using inheritance, the problem comes when the children BankAccount tries to retrive it&#39;s parent values, it gets the initial values of the Bank class, numberAccounts = 0 and empty registeredAccounts.\r\n\r\n*Starts by creating 3 initial bank accounts.*\r\n\r\n    Bank bank = new Bank();\r\n\tbank.createBankAccount(&quot;Tonny&quot;);\r\n\tbank.createBankAccount(&quot;Michael&quot;);\r\n\tbank.createBankAccount(&quot;Mark&quot;);\r\n\r\n\r\n*Then Bank class creates and generate their giving each one&#39;s bank account and number, the current values of numberAccounts and registeredAccounts should&#39;ve changed.*\r\n\r\n    public class Bank{\r\n        protected BankAccount[] registeredAccounts;\r\n        protected int numberAccounts= 0;\r\n        private final int numberAccountAllowed = 50;\r\n        \r\n        public Bank() {\r\n    \t    registeredAccounts= new BankAccount[numberAccountAllowed];\r\n        }\r\n\r\n        public void createBankAccount(String name){\r\n            int numberBankAccountGenerated;\t\t\r\n            if(numberAccounts &gt;= numberAccountAllowed){\r\n                System.out.println(&quot;Max number of bank accounts reached, can&#39;t create another one&quot;);\r\n                return;\r\n            }\r\n\r\n            boolean isNumberAvailable = true;\r\n        \r\n            do{\r\n                numberBankAccountGenerated = new Random().nextInt(99999 + 100000) + 100000;\r\n            \r\n                for(int i = 0; i &lt; numberAccounts &amp;&amp; isNumberAvailable; i++){\r\n            \t    if(numberBankAccountGenerated == registeredAccounts[i].numberAccount)\r\n               \t\t    isNumberAvailable = false;\r\n                }\r\n            }while(!isNumberAvailable);\r\n        \r\n            registeredAccounts[numberAccounts] = new BankAccount(name, numberBankAccountGenerated);\r\n    \t\tnumberAccounts++;\r\n\r\n    \t\tSystem.out.printf(&quot;A new bank account has been created with the name \\&quot;%s\\&quot; and number: #%d.\\n\\n&quot;, name, numberBankAccountGenerated);\r\n        }\r\n    }\r\n\r\n*When I try to call for the super class values to operate the balance transfer between accounts I realize the values are the initial of the class Bank.*\r\n    \r\n    public class BankAccount extends Bank{\r\n        /*\r\n        .\r\n        */\r\n\r\n        public void balanceTransfer(int numberBankAccount, int amount ){\r\n            int match = -1;\r\n\r\n            for(int i = 0; i &lt; super.numberAccounts &amp;&amp; match == -1; i++)\r\n                if(numberBankAccount == super.registeredAccounts[i].numberAccounts)\r\n                    match = i;               \r\n        \r\n            if(match == -1){\r\n                System.out.println(&quot;Bank account not found.&quot;);\r\n                return;\r\n            }\r\n            \r\n            super.registeredAccounts[match].addBalance(amount);\r\n            this.addBalance(-amount);\r\n        }\r\n    }\r\n\r\nI guess I have an execution flow problem but I can&#39;t find out the real issue with my knowlege.","title":"Childrens can&#39;t get the updated Parent values","body":"<p>I'm trying to create a Bank system using inheritance, the problem comes when the children BankAccount tries to retrive it's parent values, it gets the initial values of the Bank class, numberAccounts = 0 and empty registeredAccounts.</p>\n<p><em>Starts by creating 3 initial bank accounts.</em></p>\n<pre><code>Bank bank = new Bank();\nbank.createBankAccount(&quot;Tonny&quot;);\nbank.createBankAccount(&quot;Michael&quot;);\nbank.createBankAccount(&quot;Mark&quot;);\n</code></pre>\n<p><em>Then Bank class creates and generate their giving each one's bank account and number, the current values of numberAccounts and registeredAccounts should've changed.</em></p>\n<pre><code>public class Bank{\n    protected BankAccount[] registeredAccounts;\n    protected int numberAccounts= 0;\n    private final int numberAccountAllowed = 50;\n    \n    public Bank() {\n        registeredAccounts= new BankAccount[numberAccountAllowed];\n    }\n\n    public void createBankAccount(String name){\n        int numberBankAccountGenerated;     \n        if(numberAccounts &gt;= numberAccountAllowed){\n            System.out.println(&quot;Max number of bank accounts reached, can't create another one&quot;);\n            return;\n        }\n\n        boolean isNumberAvailable = true;\n    \n        do{\n            numberBankAccountGenerated = new Random().nextInt(99999 + 100000) + 100000;\n        \n            for(int i = 0; i &lt; numberAccounts &amp;&amp; isNumberAvailable; i++){\n                if(numberBankAccountGenerated == registeredAccounts[i].numberAccount)\n                    isNumberAvailable = false;\n            }\n        }while(!isNumberAvailable);\n    \n        registeredAccounts[numberAccounts] = new BankAccount(name, numberBankAccountGenerated);\n        numberAccounts++;\n\n        System.out.printf(&quot;A new bank account has been created with the name \\&quot;%s\\&quot; and number: #%d.\\n\\n&quot;, name, numberBankAccountGenerated);\n    }\n}\n</code></pre>\n<p><em>When I try to call for the super class values to operate the balance transfer between accounts I realize the values are the initial of the class Bank.</em></p>\n<pre><code>public class BankAccount extends Bank{\n    /*\n    .\n    */\n\n    public void balanceTransfer(int numberBankAccount, int amount ){\n        int match = -1;\n\n        for(int i = 0; i &lt; super.numberAccounts &amp;&amp; match == -1; i++)\n            if(numberBankAccount == super.registeredAccounts[i].numberAccounts)\n                match = i;               \n    \n        if(match == -1){\n            System.out.println(&quot;Bank account not found.&quot;);\n            return;\n        }\n        \n        super.registeredAccounts[match].addBalance(amount);\n        this.addBalance(-amount);\n    }\n}\n</code></pre>\n<p>I guess I have an execution flow problem but I can't find out the real issue with my knowlege.</p>\n"},{"tags":["java","popupmenu","system-tray","tray","systray"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1647480833,"post_id":71505893,"comment_id":126384564,"body_markdown":"Your example code works for me.  Consider providing a [mcve]","body":"Your example code works for me.  Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":24559040,"reputation":96,"user_id":18467121,"display_name":"SteveOh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647485090,"creation_date":1647485090,"answer_id":71506494,"question_id":71505893,"body_markdown":"As it turns out I was making use of a Global Mouse Hook in an old part of the code that I had all but forgotten about. The hook is from [this][1] repository and the fix was changing the hook&#39;s raw input setting from true to false.\r\n```\r\n// True instead of false seems to block JavaFX events\r\nprivate static GlobalMouseHook mouseHook = new GlobalMouseHook(false);\r\n```\r\n  [1]: https://github.com/kristian/system-hook","title":"Why isn&#39;t the popup menu for my System Tray Icon responding to inputs?","body":"<p>As it turns out I was making use of a Global Mouse Hook in an old part of the code that I had all but forgotten about. The hook is from <a href=\"https://github.com/kristian/system-hook\" rel=\"nofollow noreferrer\">this</a> repository and the fix was changing the hook's raw input setting from true to false.</p>\n<pre><code>// True instead of false seems to block JavaFX events\nprivate static GlobalMouseHook mouseHook = new GlobalMouseHook(false);\n</code></pre>\n"}],"owner":{"account_id":24559040,"reputation":96,"user_id":18467121,"display_name":"SteveOh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71506494,"answer_count":1,"score":0,"last_activity_date":1647485090,"creation_date":1647478707,"question_id":71505893,"body_markdown":"I&#39;ve been working on a background java program for a while and its almost ready to be released so I thought I should probably add a way to exit the program. I have this function:\r\n```\r\nprivate static void setupSysTray() {\r\n    if (!SystemTray.isSupported()) {\r\n        System.out.println(&quot;SystemTray is not supported&quot;);\r\n            return;\r\n    }\r\n\r\n    try {\r\n        final PopupMenu popupMenu = new PopupMenu();\r\n        final TrayIcon trayIcon = new TrayIcon(ImageIO.read(new File(workingDirectory +\r\n fileSeparator + &quot;tray.png&quot;)), &quot;Multi&quot;);\r\n        final SystemTray tray = SystemTray.getSystemTray();\r\n\r\n        MenuItem exitItem = new MenuItem(&quot;Exit&quot;);\r\n        exitItem.addActionListener(e -&gt; {\r\n            System.out.println(&quot;Something happened!&quot;);\r\n            System.exit(0);\r\n        });\r\n        popupMenu.add(exitItem);\r\n        trayIcon.setPopupMenu(popupMenu);\r\n\r\n        tray.add(trayIcon);\r\n    } catch (IOException | AWTException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\nI presumed this would handle it, I pieced it together from various stack overflow posts and the offical documentation. The result is that the tray icon appears, with the correct image and tooltip. When I right click it I see the menu item for &quot;exit&quot; show up. But that&#39;s where it breaks, the menu item doesn&#39;t have any hover coloring (leading me to believe input at all with it is broken) and clicking on the item turns up no results. Have I made some silly mistake like ordering the adding of items wrong? What&#39;s going on here?","title":"Why isn&#39;t the popup menu for my System Tray Icon responding to inputs?","body":"<p>I've been working on a background java program for a while and its almost ready to be released so I thought I should probably add a way to exit the program. I have this function:</p>\n<pre><code>private static void setupSysTray() {\n    if (!SystemTray.isSupported()) {\n        System.out.println(&quot;SystemTray is not supported&quot;);\n            return;\n    }\n\n    try {\n        final PopupMenu popupMenu = new PopupMenu();\n        final TrayIcon trayIcon = new TrayIcon(ImageIO.read(new File(workingDirectory +\n fileSeparator + &quot;tray.png&quot;)), &quot;Multi&quot;);\n        final SystemTray tray = SystemTray.getSystemTray();\n\n        MenuItem exitItem = new MenuItem(&quot;Exit&quot;);\n        exitItem.addActionListener(e -&gt; {\n            System.out.println(&quot;Something happened!&quot;);\n            System.exit(0);\n        });\n        popupMenu.add(exitItem);\n        trayIcon.setPopupMenu(popupMenu);\n\n        tray.add(trayIcon);\n    } catch (IOException | AWTException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I presumed this would handle it, I pieced it together from various stack overflow posts and the offical documentation. The result is that the tray icon appears, with the correct image and tooltip. When I right click it I see the menu item for &quot;exit&quot; show up. But that's where it breaks, the menu item doesn't have any hover coloring (leading me to believe input at all with it is broken) and clicking on the item turns up no results. Have I made some silly mistake like ordering the adding of items wrong? What's going on here?</p>\n"},{"tags":["java","spring","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1559733976,"creation_date":1518795212,"answer_id":48830039,"question_id":48828603,"body_markdown":"There are many encoding challenges when it comes to creating URIs. For more flexibility while still being right on the encoding part, `WebClient` provides a builder-based variant for the URI:\r\n\r\n    WebClient.create().get()\r\n    \t.uri(builder -&gt; builder.scheme(&quot;http&quot;)\r\n    \t\t\t\t\t.host(&quot;example.org&quot;).path(&quot;save&quot;)\r\n    \t\t\t\t\t.queryParam(&quot;name&quot;, &quot;spring-framework&quot;)\r\n                        .build())\r\n    \t.retrieve()\r\n        .bodyToMono(String.class);","title":"How to create request with parameters with webflux Webclient?","body":"<p>There are many encoding challenges when it comes to creating URIs. For more flexibility while still being right on the encoding part, <code>WebClient</code> provides a builder-based variant for the URI:</p>\n\n<pre><code>WebClient.create().get()\n    .uri(builder -&gt; builder.scheme(\"http\")\n                    .host(\"example.org\").path(\"save\")\n                    .queryParam(\"name\", \"spring-framework\")\n                    .build())\n    .retrieve()\n    .bodyToMono(String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":441753,"reputation":4372,"user_id":832031,"display_name":"Alexis Gamarra"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1647484739,"creation_date":1535168181,"answer_id":52013826,"question_id":48828603,"body_markdown":"From: https://www.callicoder.com/spring-5-reactive-webclient-webtestclient-examples/\r\n\r\nIn configuration class you can define the host:\r\n\r\n    @Bean(name = &quot;providerWebClient&quot;)\r\n    WebClient providerWebClient(@Value(&quot;${external-rest.provider.base-url}&quot;) String providerBaseUrl) {\r\n    return WebClient.builder().baseUrl(providerBaseUrl)\r\n    \t.clientConnector(clientConnector()).build();\r\n    }\r\n\r\nThen you can use the WebClient instace:\r\n\r\n    @Qualifier(&quot;providerWebClient&quot;)\r\n    private final WebClient webClient;\r\n\r\n    webClient.get()\r\n            .uri(uriBuilder -&gt; uriBuilder.path(&quot;/provider/repos&quot;)\r\n                    .queryParam(&quot;sort&quot;, &quot;updated&quot;)\r\n                    .queryParam(&quot;direction&quot;, &quot;desc&quot;)\r\n                    .build())\r\n            .header(&quot;Authorization&quot;, &quot;Basic &quot; + Base64Utils\r\n                    .encodeToString((username + &quot;:&quot; + token).getBytes(UTF_8)))\r\n            .retrieve()\r\n            .bodyToFlux(GithubRepo.class);","title":"How to create request with parameters with webflux Webclient?","body":"<p>From: <a href=\"https://www.callicoder.com/spring-5-reactive-webclient-webtestclient-examples/\" rel=\"nofollow noreferrer\">https://www.callicoder.com/spring-5-reactive-webclient-webtestclient-examples/</a></p>\n<p>In configuration class you can define the host:</p>\n<pre><code>@Bean(name = &quot;providerWebClient&quot;)\nWebClient providerWebClient(@Value(&quot;${external-rest.provider.base-url}&quot;) String providerBaseUrl) {\nreturn WebClient.builder().baseUrl(providerBaseUrl)\n    .clientConnector(clientConnector()).build();\n}\n</code></pre>\n<p>Then you can use the WebClient instace:</p>\n<pre><code>@Qualifier(&quot;providerWebClient&quot;)\nprivate final WebClient webClient;\n\nwebClient.get()\n        .uri(uriBuilder -&gt; uriBuilder.path(&quot;/provider/repos&quot;)\n                .queryParam(&quot;sort&quot;, &quot;updated&quot;)\n                .queryParam(&quot;direction&quot;, &quot;desc&quot;)\n                .build())\n        .header(&quot;Authorization&quot;, &quot;Basic &quot; + Base64Utils\n                .encodeToString((username + &quot;:&quot; + token).getBytes(UTF_8)))\n        .retrieve()\n        .bodyToFlux(GithubRepo.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15017879,"reputation":460,"user_id":10840312,"display_name":"Emerson Micu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1630512087,"creation_date":1623005687,"answer_id":67862654,"question_id":48828603,"body_markdown":"Assuming that you already created your *WebClient* instance and configured it with ***baseUrl***.\r\n    \r\n## URI Path Component\r\n    \r\n   \r\n\r\n \r\n\r\n    this.webClient.get()\r\n          .uri(&quot;/products&quot;)\r\n          .retrieve();\r\n\r\nresult: ***/products***\r\n    \r\n    \r\n\r\n    this.webClient.get()\r\n          .uri(uriBuilder - &gt; uriBuilder\r\n            .path(&quot;/products/{id}&quot;)\r\n            .build(2))\r\n          .retrieve();\r\n            \r\nresult: ***/products/2***\r\n   \r\n\r\n     this.webClient.get()\r\n          .uri(uriBuilder - &gt; uriBuilder\r\n            .path(&quot;/products/{id}/attributes/{attributeId}&quot;)\r\n            .build(2, 13))\r\n          .retrieve();\r\n    \r\nresult: **/products/2/attributes/13**\r\n## URI Query Parameters\r\n    \r\n    \r\n    this.webClient.get()\r\n      .uri(uriBuilder - &gt; uriBuilder\r\n        .path(&quot;/peoples/&quot;)\r\n        .queryParam(&quot;name&quot;, &quot;Charlei&quot;)\r\n        .queryParam(&quot;job&quot;, &quot;Plumber&quot;)\r\n        .build())\r\n      .retrieve();\r\n    \r\nresult: \r\n\r\n    /peoples/?name=Charlei/job=Plumber\r\n\r\n\r\n","title":"How to create request with parameters with webflux Webclient?","body":"<p>Assuming that you already created your <em>WebClient</em> instance and configured it with <em><strong>baseUrl</strong></em>.</p>\n<h2>URI Path Component</h2>\n<pre><code>this.webClient.get()\n      .uri(&quot;/products&quot;)\n      .retrieve();\n</code></pre>\n<p>result: <em><strong>/products</strong></em></p>\n<pre><code>this.webClient.get()\n      .uri(uriBuilder - &gt; uriBuilder\n        .path(&quot;/products/{id}&quot;)\n        .build(2))\n      .retrieve();\n        \n</code></pre>\n<p>result: <em><strong>/products/2</strong></em></p>\n<pre><code> this.webClient.get()\n      .uri(uriBuilder - &gt; uriBuilder\n        .path(&quot;/products/{id}/attributes/{attributeId}&quot;)\n        .build(2, 13))\n      .retrieve();\n</code></pre>\n<p>result: <strong>/products/2/attributes/13</strong></p>\n<h2>URI Query Parameters</h2>\n<pre><code>this.webClient.get()\n  .uri(uriBuilder - &gt; uriBuilder\n    .path(&quot;/peoples/&quot;)\n    .queryParam(&quot;name&quot;, &quot;Charlei&quot;)\n    .queryParam(&quot;job&quot;, &quot;Plumber&quot;)\n    .build())\n  .retrieve();\n</code></pre>\n<p>result:</p>\n<pre><code>/peoples/?name=Charlei/job=Plumber\n</code></pre>\n"}],"owner":{"account_id":4312581,"reputation":3183,"user_id":3523298,"accept_rate":88,"display_name":"Zufar Muhamadeev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39165,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":48830039,"answer_count":3,"score":18,"last_activity_date":1647484739,"creation_date":1518790269,"question_id":48828603,"body_markdown":"At backend side I have REST controller with POST method:\r\n\r\n    @RequestMapping(value = &quot;/save&quot;, method = RequestMethod.POST)\r\n    public Integer save(@RequestParam String name) {\r\n       //do save\r\n       return 0;\r\n    }\r\n\r\nHow can I create request using [WebClient][1] with request parameter?\r\n\r\n\tWebClient.create(url).post()\r\n\t\t.uri(&quot;/save&quot;)\r\n        //?\r\n\t\t.exchange()\r\n\t\t.block()\r\n\t\t.bodyToMono(Integer.class)\r\n\t\t.block();\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-client","title":"How to create request with parameters with webflux Webclient?","body":"<p>At backend side I have REST controller with POST method:</p>\n<pre><code>@RequestMapping(value = &quot;/save&quot;, method = RequestMethod.POST)\npublic Integer save(@RequestParam String name) {\n   //do save\n   return 0;\n}\n</code></pre>\n<p>How can I create request using <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-client\" rel=\"nofollow noreferrer\">WebClient</a> with request parameter?</p>\n<pre><code>WebClient.create(url).post()\n    .uri(&quot;/save&quot;)\n    //?\n    .exchange()\n    .block()\n    .bodyToMono(Integer.class)\n    .block();\n</code></pre>\n"},{"tags":["java","eclipse","selenium","microsoft-edge"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1646335726,"post_id":71341482,"comment_id":126104182,"body_markdown":"Do you have a `module-info.java` file and if yes, does deleting it fix it?","body":"Do you have a <code>module-info.java</code> file and if yes, does deleting it fix it?"},{"owner":{"account_id":21316508,"reputation":1609,"user_id":15690271,"display_name":"Xudong Peng"},"score":0,"creation_date":1646389314,"post_id":71341482,"comment_id":126116131,"body_markdown":"Did you try the solutions in [this case](https://stackoverflow.com/questions/47823506/exception-in-thread-main-java-lang-noclassdeffounderror-org-openqa-selenium-w#answer-65381262), this might help you.","body":"Did you try the solutions in <a href=\"https://stackoverflow.com/questions/47823506/exception-in-thread-main-java-lang-noclassdeffounderror-org-openqa-selenium-w#answer-65381262\">this case</a>, this might help you."}],"answers":[{"tags":[],"owner":{"account_id":21316508,"reputation":1609,"user_id":15690271,"display_name":"Xudong Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647484445,"creation_date":1647484445,"answer_id":71506436,"question_id":71341482,"body_markdown":"Well, I did some test and reproduced the problem. Something like [this](https://i.stack.imgur.com/SWH71.png). \r\n\r\nThe cause of the problem might be this: You added the jar packages to the `modulepath` instead of the `classpath`.  Just adding them to the `classpath` fixes this issue:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BJS6R.png","title":"Import statement can&#39;t find the jar even though it is in library","body":"<p>Well, I did some test and reproduced the problem. Something like <a href=\"https://i.stack.imgur.com/SWH71.png\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>The cause of the problem might be this: You added the jar packages to the <code>modulepath</code> instead of the <code>classpath</code>.  Just adding them to the <code>classpath</code> fixes this issue:</p>\n<p><a href=\"https://i.stack.imgur.com/BJS6R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BJS6R.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22665929,"reputation":33,"user_id":16838288,"display_name":"Steven S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647484445,"creation_date":1646329298,"question_id":71341482,"body_markdown":"I get this message in the console when trying to run a basic program.\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/edge/EdgeDriver\r\n\r\nIn the picture it clearly shows that i have the class available in my referenced libraries but it is not being picked up during execution.\r\n\r\n\r\n[Picture of Eclipse window][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ww0pL.png\r\n\r\n","title":"Import statement can&#39;t find the jar even though it is in library","body":"<p>I get this message in the console when trying to run a basic program.</p>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/edge/EdgeDriver</p>\n<p>In the picture it clearly shows that i have the class available in my referenced libraries but it is not being picked up during execution.</p>\n<p><a href=\"https://i.stack.imgur.com/Ww0pL.png\" rel=\"nofollow noreferrer\">Picture of Eclipse window</a></p>\n"},{"tags":["java","android","android-studio","intellij-idea","ide"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1647490288,"post_id":71506383,"comment_id":126386023,"body_markdown":"can you share the repo link?","body":"can you share the repo link?"},{"owner":{"account_id":18775206,"reputation":23,"user_id":13726642,"display_name":"cream_pi"},"score":0,"creation_date":1647490476,"post_id":71506383,"comment_id":126386055,"body_markdown":"Sure? Are you trying to vet the repo for me? LOL","body":"Sure? Are you trying to vet the repo for me? LOL"},{"owner":{"account_id":18775206,"reputation":23,"user_id":13726642,"display_name":"cream_pi"},"score":0,"creation_date":1647490494,"post_id":71506383,"comment_id":126386060,"body_markdown":"here you go: https://github.com/freyskill/SerialPortHelper","body":"here you go: <a href=\"https://github.com/freyskill/SerialPortHelper\" rel=\"nofollow noreferrer\">github.com/freyskill/SerialPortHelper</a>"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1647490538,"post_id":71506383,"comment_id":126386066,"body_markdown":"thanks for the repo. I will check the files and let you know","body":"thanks for the repo. I will check the files and let you know"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1647490781,"post_id":71506383,"comment_id":126386103,"body_markdown":"the files seem ok. You can go with `Trust Project`. I tried opening the project in my `AS` and tried to run. It works good! You can go with it","body":"the files seem ok. You can go with <code>Trust Project</code>. I tried opening the project in my <code>AS</code> and tried to run. It works good! You can go with it"},{"owner":{"account_id":18775206,"reputation":23,"user_id":13726642,"display_name":"cream_pi"},"score":0,"creation_date":1647492663,"post_id":71506383,"comment_id":126386368,"body_markdown":"Thank you! I&#39;ll also do a run myself.","body":"Thank you! I&#39;ll also do a run myself."}],"owner":{"account_id":18775206,"reputation":23,"user_id":13726642,"display_name":"cream_pi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647483905,"creation_date":1647483905,"question_id":71506383,"body_markdown":"I&#39;m getting back to developing android apps recently and the latest Android Studio is giving me this pop up upon launch:\r\n\r\n[![Example Pic][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IbDuZ.png\r\n\r\nNote the picture is actually for Maven on IntelliJ IDEA but my environment is actually Android Studio, but the message if my memory serves, is virtually the same.\r\n\r\nI&#39;m opening a project from github with over 100 stars so it&#39;s relatively low risk but still I want to be cautious. As someone who isn&#39;t super knowledgeable about the IJ IDE, can someone tell me what are the coding files and scripts that I should sift through to make sure there is no danger in compiling the project and beyond?\r\n\r\nThanks in advance! \r\n\r\n","title":"Android Studio/IntelliJ IDEA: What should I carefully read through to make sure no malicious code/scripts will be executed?","body":"<p>I'm getting back to developing android apps recently and the latest Android Studio is giving me this pop up upon launch:</p>\n<p><a href=\"https://i.stack.imgur.com/IbDuZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IbDuZ.png\" alt=\"Example Pic\" /></a></p>\n<p>Note the picture is actually for Maven on IntelliJ IDEA but my environment is actually Android Studio, but the message if my memory serves, is virtually the same.</p>\n<p>I'm opening a project from github with over 100 stars so it's relatively low risk but still I want to be cautious. As someone who isn't super knowledgeable about the IJ IDE, can someone tell me what are the coding files and scripts that I should sift through to make sure there is no danger in compiling the project and beyond?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","sql","postgresql","h2","liquibase"],"answers":[{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647483376,"creation_date":1647483376,"answer_id":71506329,"question_id":71505650,"body_markdown":"`[*]` in error messages from H2 marks a position where a syntax error was found. H2 does&#39;t support indexes on expressions, you can index only columns.\r\n\r\nH2 supports indexes on computed columns, so it is possible to add a computed column with your function, index it, and use this computed column in queries instead of function on base column, in that case this index can be used. But I think it isn&#39;t your intention if your primary database system is PostgreSQL. If you use H2 only for some tests, it is more reasonable to remove creation of such incompatible indexes from changesets for H2.","title":"Liquibase and functional index","body":"<p><code>[*]</code> in error messages from H2 marks a position where a syntax error was found. H2 does't support indexes on expressions, you can index only columns.</p>\n<p>H2 supports indexes on computed columns, so it is possible to add a computed column with your function, index it, and use this computed column in queries instead of function on base column, in that case this index can be used. But I think it isn't your intention if your primary database system is PostgreSQL. If you use H2 only for some tests, it is more reasonable to remove creation of such incompatible indexes from changesets for H2.</p>\n"}],"owner":{"account_id":7968615,"reputation":360,"user_id":10335878,"display_name":"Pivoter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71506329,"answer_count":1,"score":0,"last_activity_date":1647483376,"creation_date":1647475825,"question_id":71505650,"body_markdown":"If you try to execute a script to create a functional index on the H2 (PostgreSQL-oriented context) when using Liquibase, a suspicious error occurs.\r\n\r\nThe script itself looks like this:\r\n```\r\n    &lt;changeSet id=&quot;2&quot; author=&quot;...&quot;&gt;\r\n        &lt;createIndex tableName=&quot;test_table&quot; indexName=&quot;test_table_id_idx&quot;&gt;\r\n            &lt;column name=&quot;(date_trunc(&#39;day&#39;, create_date))&quot;/&gt;\r\n        &lt;/createIndex&gt;\r\n    &lt;/changeSet&gt;\r\n\r\n```\r\n\r\nError message:\r\n```\r\nSyntax error in SQL statement &quot;CREATE INDEX TEST_TABLE_ID_IDX ON TEST_TABLE(([*]DATE_TRUNC(&#39;day&#39;, CREATE_DATE)))&quot;; expected &quot;identifier&quot;; \r\nSQL statement: CREATE INDEX test_table_id_idx ON test_table((date_trunc(&#39;day&#39;, create_date))) [42001-200]\r\n```\r\n\r\n[PoC on GitHub][1]\r\n\r\nTo be honest, I do not have ideas from where such a strange supplement of the script appears (about this ```[*]```). Perhaps H2 does not understand which field you need to use and substitutes Vilcard or something like that.\r\n\r\nYes, I know about possible collisions and differences in the implementation of H2 and the real PostgreSQL (if that, on the PostgreSQL script is performed correctly), but I would like to understand what causes the generation of such a change of the script. \r\n\r\n\r\n  [1]: https://github.com/inkarnadin/liquibase-h2-index-poc","title":"Liquibase and functional index","body":"<p>If you try to execute a script to create a functional index on the H2 (PostgreSQL-oriented context) when using Liquibase, a suspicious error occurs.</p>\n<p>The script itself looks like this:</p>\n<pre><code>    &lt;changeSet id=&quot;2&quot; author=&quot;...&quot;&gt;\n        &lt;createIndex tableName=&quot;test_table&quot; indexName=&quot;test_table_id_idx&quot;&gt;\n            &lt;column name=&quot;(date_trunc('day', create_date))&quot;/&gt;\n        &lt;/createIndex&gt;\n    &lt;/changeSet&gt;\n\n</code></pre>\n<p>Error message:</p>\n<pre><code>Syntax error in SQL statement &quot;CREATE INDEX TEST_TABLE_ID_IDX ON TEST_TABLE(([*]DATE_TRUNC('day', CREATE_DATE)))&quot;; expected &quot;identifier&quot;; \nSQL statement: CREATE INDEX test_table_id_idx ON test_table((date_trunc('day', create_date))) [42001-200]\n</code></pre>\n<p><a href=\"https://github.com/inkarnadin/liquibase-h2-index-poc\" rel=\"nofollow noreferrer\">PoC on GitHub</a></p>\n<p>To be honest, I do not have ideas from where such a strange supplement of the script appears (about this <code>[*]</code>). Perhaps H2 does not understand which field you need to use and substitutes Vilcard or something like that.</p>\n<p>Yes, I know about possible collisions and differences in the implementation of H2 and the real PostgreSQL (if that, on the PostgreSQL script is performed correctly), but I would like to understand what causes the generation of such a change of the script.</p>\n"},{"tags":["java","swing","user-interface","awt","jbutton"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1647483584,"post_id":71506325,"comment_id":126385034,"body_markdown":"There&#39;s no &quot;simple&quot; way to achieve this, but you could try something like [this](https://stackoverflow.com/questions/25252127/java-rotating-non-square-jpanel-component/25253453#25253453) and [this](https://stackoverflow.com/questions/22976226/is-there-any-way-i-can-rotate-this-90-degrees/22976755#22976755) and [this](https://stackoverflow.com/questions/50310352/updating-a-rotated-jlabel-using-graphics2d-causes-old-and-new-text-to-merge-toge/50311131#50311131)","body":"There&#39;s no &quot;simple&quot; way to achieve this, but you could try something like <a href=\"https://stackoverflow.com/questions/25252127/java-rotating-non-square-jpanel-component/25253453#25253453\">this</a> and <a href=\"https://stackoverflow.com/questions/22976226/is-there-any-way-i-can-rotate-this-90-degrees/22976755#22976755\">this</a> and <a href=\"https://stackoverflow.com/questions/50310352/updating-a-rotated-jlabel-using-graphics2d-causes-old-and-new-text-to-merge-toge/50311131#50311131\">this</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1647485717,"post_id":71506325,"comment_id":126385347,"body_markdown":"Check out the [Rotated Icon](https://tips4java.wordpress.com/2009/04/06/rotated-icon/) and [Text Icon](https://tips4java.wordpress.com/2009/04/02/text-icon/). It shows how you  can create a TextIcon, rotate the Icon and then add the Icon to the JButton to give the effect of a rotated button.","body":"Check out the <a href=\"https://tips4java.wordpress.com/2009/04/06/rotated-icon/\" rel=\"nofollow noreferrer\">Rotated Icon</a> and <a href=\"https://tips4java.wordpress.com/2009/04/02/text-icon/\" rel=\"nofollow noreferrer\">Text Icon</a>. It shows how you  can create a TextIcon, rotate the Icon and then add the Icon to the JButton to give the effect of a rotated button."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647490524,"post_id":71506325,"comment_id":126386064,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":21282684,"reputation":21,"user_id":15660869,"display_name":"Keham Makene"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647483347,"creation_date":1647483347,"question_id":71506325,"body_markdown":"I was wondering how one could go about rotating a JButton in Java? \r\nI don&#39;t have any code to show for it but wanted to know if there are any built-in or imported methods I could use to rotate a JButton. \r\n\r\nI am new to this environment, so pardon me if I get the format of a question wrong. \r\nThank you!","title":"Rotating a JButton in java swing","body":"<p>I was wondering how one could go about rotating a JButton in Java?\nI don't have any code to show for it but wanted to know if there are any built-in or imported methods I could use to rotate a JButton.</p>\n<p>I am new to this environment, so pardon me if I get the format of a question wrong.\nThank you!</p>\n"},{"tags":["java","spring-boot","microservices","code-duplication"],"comments":[{"owner":{"account_id":14729237,"reputation":261,"user_id":10788507,"display_name":"Franco Berardi"},"score":2,"creation_date":1646695933,"post_id":71388398,"comment_id":126183421,"body_markdown":"You could create a common project to share dog class and import it into both projects","body":"You could create a common project to share dog class and import it into both projects"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1646695992,"post_id":71388398,"comment_id":126183430,"body_markdown":"Or an interface","body":"Or an interface"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1646695995,"post_id":71388398,"comment_id":126183431,"body_markdown":"In other words, create a library which is shared with both applications.","body":"In other words, create a library which is shared with both applications."},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":0,"creation_date":1646696098,"post_id":71388398,"comment_id":126183451,"body_markdown":"jar it and share it","body":"jar it and share it"}],"answers":[{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646701943,"creation_date":1646701943,"answer_id":71388946,"question_id":71388398,"body_markdown":"As @Slaw says you can create a jar/library then use any build tool like maven or gradle and package the jar/library in your archive file when it is built\r\nand here is a link for more info\r\nhttps://christianlydemann.com/a-guide-to-sharing-code-between-projects/ ","title":"How to avoid duplicate code in Java when you require the same class in two separated applications?","body":"<p>As @Slaw says you can create a jar/library then use any build tool like maven or gradle and package the jar/library in your archive file when it is built\nand here is a link for more info\n<a href=\"https://christianlydemann.com/a-guide-to-sharing-code-between-projects/\" rel=\"nofollow noreferrer\">https://christianlydemann.com/a-guide-to-sharing-code-between-projects/</a></p>\n"},{"tags":[],"owner":{"account_id":7473996,"reputation":310,"user_id":5680977,"display_name":"Dhiraj Surve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647482009,"creation_date":1647482009,"answer_id":71506208,"question_id":71388398,"body_markdown":"In addition to above solution you can use sonarqube tool to identify code duplication . It will tell you which code is duplicate and how you can fix it\r\nhttps://docs.sonarqube.org/7.2/MetricDefinitions.html","title":"How to avoid duplicate code in Java when you require the same class in two separated applications?","body":"<p>In addition to above solution you can use sonarqube tool to identify code duplication . It will tell you which code is duplicate and how you can fix it\n<a href=\"https://docs.sonarqube.org/7.2/MetricDefinitions.html\" rel=\"nofollow noreferrer\">https://docs.sonarqube.org/7.2/MetricDefinitions.html</a></p>\n"}],"owner":{"account_id":15212287,"reputation":529,"user_id":10976657,"display_name":"Jsh0s"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71388946,"answer_count":2,"score":0,"last_activity_date":1647482009,"creation_date":1646695826,"question_id":71388398,"body_markdown":"For the sake of simplicity, let&#39;s say that I have a class named &quot;**Dog**&quot;.\r\n\r\nThen I have two separated applications containing implementations of that class.\r\n\r\n 1. Application &quot;**A**&quot; does something with the Dog class.\r\n 2. Application &quot;**B**&quot; does another something with the Dog class.\r\n\r\nBoth applications require the **Dog** class, hence it would be duplicated.\r\n\r\n---\r\n\r\nNow let&#39;s say for a moment that:\r\n\r\n 1. Those applications **can&#39;t** be merged into one.\r\n 2. The implementations from &quot;**A**&quot; and &quot;**B**&quot; **can&#39;t** be moved into another application.\r\n\r\nI&#39;m using Spring Boot, if that info helps somehow.\r\n\r\n#### Is there a way to fix the duplication of the Dog class?","title":"How to avoid duplicate code in Java when you require the same class in two separated applications?","body":"<p>For the sake of simplicity, let's say that I have a class named &quot;<strong>Dog</strong>&quot;.</p>\n<p>Then I have two separated applications containing implementations of that class.</p>\n<ol>\n<li>Application &quot;<strong>A</strong>&quot; does something with the Dog class.</li>\n<li>Application &quot;<strong>B</strong>&quot; does another something with the Dog class.</li>\n</ol>\n<p>Both applications require the <strong>Dog</strong> class, hence it would be duplicated.</p>\n<hr />\n<p>Now let's say for a moment that:</p>\n<ol>\n<li>Those applications <strong>can't</strong> be merged into one.</li>\n<li>The implementations from &quot;<strong>A</strong>&quot; and &quot;<strong>B</strong>&quot; <strong>can't</strong> be moved into another application.</li>\n</ol>\n<p>I'm using Spring Boot, if that info helps somehow.</p>\n<h4>Is there a way to fix the duplication of the Dog class?</h4>\n"},{"tags":["javascript","java","locale"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":2,"creation_date":1647480192,"post_id":71506026,"comment_id":126384463,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/text/Collator.html</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1647481066,"post_id":71506026,"comment_id":126384599,"body_markdown":"[Performing Locale-Independent Comparisons](https://docs.oracle.com/javase/tutorial/i18n/text/locale.html) in the tutorial","body":"<a href=\"https://docs.oracle.com/javase/tutorial/i18n/text/locale.html\" rel=\"nofollow noreferrer\">Performing Locale-Independent Comparisons</a> in the tutorial"}],"answers":[{"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647481390,"creation_date":1647481064,"answer_id":71506121,"question_id":71506026,"body_markdown":"You can use a [`Collator`](https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html):\r\n\r\n```java\r\nCollator collator = Collator.getInstance();\r\n\r\nArrays.sort(array, (JSONObject o1, JSONObject o2) -&gt;\r\n                collator.compare(o1.get(&quot;data&quot;), o2.get(&quot;data&quot;)));\r\n```\r\n---\r\nHere&#39;s a complete example with a collator that uses the default locale to compare an array of JSON objects based on their `data` property:\r\n\r\n```java\r\nimport org.json.JSONObject;\r\n\r\nimport java.text.Collator;\r\nimport java.util.Arrays;\r\n\r\npublic class LocaleCompareTest {\r\n    public static void main(String[] args) {\r\n        JSONObject a = new JSONObject();\r\n        a.put(&quot;data&quot;, &quot;a&quot;);\r\n\r\n        JSONObject b = new JSONObject();\r\n        b.put(&quot;data&quot;, &quot;b&quot;);\r\n\r\n        JSONObject[] array = new JSONObject[]{b, a};\r\n\r\n        Collator collator = Collator.getInstance();\r\n\r\n        Arrays.sort(array, (JSONObject o1, JSONObject o2) -&gt;\r\n                collator.compare(o1.get(&quot;data&quot;), o2.get(&quot;data&quot;)));\r\n\r\n        System.out.println(Arrays.toString(array));\r\n    }\r\n}\r\n```\r\nThis yields the following output:\r\n```json\r\n[{&quot;data&quot;:&quot;a&quot;}, {&quot;data&quot;:&quot;b&quot;}]\r\n```\r\n---\r\nSee the [Javadoc](https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html) for more information on how to configure your collator for your desired locale and collation rules.","title":"Java: What is Java&#39;s alternative to JavaScript&#39;s localeCompare()?","body":"<p>You can use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html\" rel=\"nofollow noreferrer\"><code>Collator</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collator collator = Collator.getInstance();\n\nArrays.sort(array, (JSONObject o1, JSONObject o2) -&gt;\n                collator.compare(o1.get(&quot;data&quot;), o2.get(&quot;data&quot;)));\n</code></pre>\n<hr />\n<p>Here's a complete example with a collator that uses the default locale to compare an array of JSON objects based on their <code>data</code> property:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.json.JSONObject;\n\nimport java.text.Collator;\nimport java.util.Arrays;\n\npublic class LocaleCompareTest {\n    public static void main(String[] args) {\n        JSONObject a = new JSONObject();\n        a.put(&quot;data&quot;, &quot;a&quot;);\n\n        JSONObject b = new JSONObject();\n        b.put(&quot;data&quot;, &quot;b&quot;);\n\n        JSONObject[] array = new JSONObject[]{b, a};\n\n        Collator collator = Collator.getInstance();\n\n        Arrays.sort(array, (JSONObject o1, JSONObject o2) -&gt;\n                collator.compare(o1.get(&quot;data&quot;), o2.get(&quot;data&quot;)));\n\n        System.out.println(Arrays.toString(array));\n    }\n}\n</code></pre>\n<p>This yields the following output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;data&quot;:&quot;a&quot;}, {&quot;data&quot;:&quot;b&quot;}]\n</code></pre>\n<hr />\n<p>See the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/Collator.html\" rel=\"nofollow noreferrer\">Javadoc</a> for more information on how to configure your collator for your desired locale and collation rules.</p>\n"}],"owner":{"account_id":24583553,"reputation":21,"user_id":18488331,"display_name":"wannabedev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647481390,"creation_date":1647480007,"question_id":71506026,"body_markdown":"I am trying to sort the `JSONObject` array in **Java**. Can someone please tell me how can I sort based on `locale` in **Java** just similar to JavaScript&#39;s `localeCompare()`?\r\n\r\nIn JavaScript, we can do locale sort like below,\r\n`arr.sort( ( a, b ) =&gt; a.data[ &quot;nested-name&quot; ].localeCompare(b.data[ &quot;nested-name&quot; ]) )`\r\n\r\nI want to do locale compared sorting in Java.\r\n","title":"Java: What is Java&#39;s alternative to JavaScript&#39;s localeCompare()?","body":"<p>I am trying to sort the <code>JSONObject</code> array in <strong>Java</strong>. Can someone please tell me how can I sort based on <code>locale</code> in <strong>Java</strong> just similar to JavaScript's <code>localeCompare()</code>?</p>\n<p>In JavaScript, we can do locale sort like below,\n<code>arr.sort( ( a, b ) =&gt; a.data[ &quot;nested-name&quot; ].localeCompare(b.data[ &quot;nested-name&quot; ]) )</code></p>\n<p>I want to do locale compared sorting in Java.</p>\n"},{"tags":["java","file","operators","lexical-analysis","operands"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1647473794,"post_id":71505134,"comment_id":126383442,"body_markdown":"Are you trying to support comments that go across lines?  This is not likely to be an easy problem, though it might be manageable depending on the problem constraints.","body":"Are you trying to support comments that go across lines?  This is not likely to be an easy problem, though it might be manageable depending on the problem constraints."},{"owner":{"account_id":17828547,"reputation":47,"user_id":15465584,"display_name":"user15465584"},"score":0,"creation_date":1647478062,"post_id":71505134,"comment_id":126384150,"body_markdown":"@LouisWasserman I&#39;m talking about the operators inside the comment, because they are in the comments, they should not be included in the Total number of operators or operands.","body":"@LouisWasserman I&#39;m talking about the operators inside the comment, because they are in the comments, they should not be included in the Total number of operators or operands."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1647478362,"post_id":71505134,"comment_id":126384194,"body_markdown":"FYI: http://JavaParser.org/ or [ANTLR](https://en.wikipedia.org/wiki/ANTLR)","body":"FYI: <a href=\"http://JavaParser.org/\" rel=\"nofollow noreferrer\">JavaParser.org</a> or <a href=\"https://en.wikipedia.org/wiki/ANTLR\" rel=\"nofollow noreferrer\">ANTLR</a>"},{"owner":{"account_id":1707439,"reputation":236096,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1647481961,"post_id":71505134,"comment_id":126384748,"body_markdown":"The JFlex manual starts with [an example](https://jflex.de/manual.html#ExampleUserCode) which could easily be modified to add the additional operators you need to count.","body":"The JFlex manual starts with <a href=\"https://jflex.de/manual.html#ExampleUserCode\" rel=\"nofollow noreferrer\">an example</a> which could easily be modified to add the additional operators you need to count."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1647484716,"post_id":71505134,"comment_id":126385209,"body_markdown":"Wrong tool for the job entirely. Don&#39;t try this. You will need a Java-compliant lexer and grammar, such as come with JavaCC.","body":"Wrong tool for the job entirely. Don&#39;t try this. You will need a Java-compliant lexer and grammar, such as come with JavaCC."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647480705,"creation_date":1647480705,"answer_id":71506086,"question_id":71505134,"body_markdown":"Your best bet is probably going to be to process the entire file with regexes to remove comments entirely -- to get an entire new version of the file -- and _then_ to scan for operators.","title":"How To Count All Operands And Operators in a Java File","body":"<p>Your best bet is probably going to be to process the entire file with regexes to remove comments entirely -- to get an entire new version of the file -- and <em>then</em> to scan for operators.</p>\n"}],"owner":{"account_id":17828547,"reputation":47,"user_id":15465584,"display_name":"user15465584"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647480705,"creation_date":1647471092,"question_id":71505134,"body_markdown":"I have a java file and i want to count the number of binary,unary,logical operators,and operands in it.I just know  i need to use regex for it and i know the basic of it.The task might be simple but  what i can&#39;t figure out is  that there are comment lines, so I dont know how to do this exactly.\r\nFor example suppose i read a .java file into a EXAMPLE_TEST string;(first line1 has been read and processed in the code, after line2 has been read and processed.To keep it simple, I&#39;m not writing the file reading part.)For line 1 output would be 2 ,but for line 2 output will be a number that unexpected because it is in the comment section.Can you show me a way to do this I&#39;m just a beginner in java and stuck. \r\n\r\n \r\n\r\n     int counter=0;\r\n     Pattern pattern = Pattern.compile(&quot;[+-*%]&quot;);  \r\n     Matcher matcher = pattern.matcher(EXAMPLE_TEST);\r\n          \r\n            while (matcher.find()) {\r\n                \r\n                System.out.println(matcher.group());/*print what have found in string between (+-*%)   */\r\n               counter++;\r\n            }\r\n           System.out.println(counter);//print the number of operators found\r\n content of .java file example:\r\n/* line1 is between comment lines */ \r\n\r\n/* a=a+4 ;   b++; */\r\n\r\n/* line2 is not between comment lines */ \r\n\r\nb=b+8 ;   c=d%10;\r\n","title":"How To Count All Operands And Operators in a Java File","body":"<p>I have a java file and i want to count the number of binary,unary,logical operators,and operands in it.I just know  i need to use regex for it and i know the basic of it.The task might be simple but  what i can't figure out is  that there are comment lines, so I dont know how to do this exactly.\nFor example suppose i read a .java file into a EXAMPLE_TEST string;(first line1 has been read and processed in the code, after line2 has been read and processed.To keep it simple, I'm not writing the file reading part.)For line 1 output would be 2 ,but for line 2 output will be a number that unexpected because it is in the comment section.Can you show me a way to do this I'm just a beginner in java and stuck.</p>\n<pre><code> int counter=0;\n Pattern pattern = Pattern.compile(&quot;[+-*%]&quot;);  \n Matcher matcher = pattern.matcher(EXAMPLE_TEST);\n      \n        while (matcher.find()) {\n            \n            System.out.println(matcher.group());/*print what have found in string between (+-*%)   */\n           counter++;\n        }\n       System.out.println(counter);//print the number of operators found\n</code></pre>\n<p>content of .java file example:\n/* line1 is between comment lines */</p>\n<p>/* a=a+4 ;   b++; */</p>\n<p>/* line2 is not between comment lines */</p>\n<p>b=b+8 ;   c=d%10;</p>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1647051480,"post_id":71446467,"comment_id":126282928,"body_markdown":"If you always need to read by line number, and you must optimize for that use case; then yes, computing (and storing) an *index* of offsets to line-numbers would be fairly efficient. Good luck!","body":"If you always need to read by line number, and you must optimize for that use case; then yes, computing (and storing) an <i>index</i> of offsets to line-numbers would be fairly efficient. Good luck!"},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1647051493,"post_id":71446467,"comment_id":126282930,"body_markdown":"Unfortunately, the line number does not help us much. In the most extreme cases, the entire file could be a single line or it could consist of entirely line breaks. A byte offset would be much more helpful since you could then know how far down the file to start reading.","body":"Unfortunately, the line number does not help us much. In the most extreme cases, the entire file could be a single line or it could consist of entirely line breaks. A byte offset would be much more helpful since you could then know how far down the file to start reading."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1647053004,"post_id":71446467,"comment_id":126283078,"body_markdown":"I would also consider some kind of encodings to make the lines/file smaller.","body":"I would also consider some kind of encodings to make the lines/file smaller."}],"answers":[{"tags":[],"owner":{"account_id":22647896,"reputation":5,"user_id":16822995,"display_name":"Hasibul Hasan Rupok"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647452482,"creation_date":1647052390,"answer_id":71446534,"question_id":71446467,"body_markdown":"You can use BufferedReader to read from a file, it is firster than the other way. If I say simply, If you ask to read a line using BufferedReader it reads multiple lines at a time but it gives you the line that you are looking for the rest lines are stored in the buffer, when you ask again for another line then it checks to the buffer if the line exists in the buffer it will give you that line from the buffer, it does not go to the saved memory every time to read from a file.\r\n \r\n\r\n[BufferedReader.readLine()](https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#readLine-- &quot;this text appears when you mouse over&quot;)!","title":"What is the fastest way to read a line from a very large file when you know the line number","body":"<p>You can use BufferedReader to read from a file, it is firster than the other way. If I say simply, If you ask to read a line using BufferedReader it reads multiple lines at a time but it gives you the line that you are looking for the rest lines are stored in the buffer, when you ask again for another line then it checks to the buffer if the line exists in the buffer it will give you that line from the buffer, it does not go to the saved memory every time to read from a file.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#readLine--\" rel=\"nofollow noreferrer\" title=\"this text appears when you mouse over\">BufferedReader.readLine()</a>!</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647480383,"creation_date":1647054393,"answer_id":71446651,"question_id":71446467,"body_markdown":"&gt; What is the fastest way to read a line from a very large file when you know the line number.\r\n\r\nThe following assumes that the file is too large to hold in memory, either as a data structure or by memory mapping it.\r\n\r\nIf you just know the line number and **you are reading just one line**, then the fastest (simple) way will be to read with a `BufferedReader.read` and count the line separators.\r\n\r\nIf you are doing the operation multiple times per file, then it is more complicated to do this efficiently.  Firstly, you need a data structure to map line numbers to file offsets.  This has to be created by reading the file, counting lines and recording byte offsets.  There are various ways to represent the, but an array of offsets will be the most memory efficient ... and the fastest if you are only going to use it to map a line number to a byte offset.\r\n\r\nUnfortunately, with a `Reader` you cannot get the current byte offset from, and you cannot &quot;seek&quot; a `Reader` to a particular byte or character offset.  \r\n\r\nThus, to implement efficient line no -&gt; byte offset -&gt; line of text retrieval, you will need to use a `BufferedInputStream` or similar.\r\nBut you will also need to make your code aware of the charset of the file you are reading:\r\n\r\n  1. You will need to use `new String(byte[], ..., Charset)` and / or the `Charset` or `CharsetDecoder` APIs to turn the bytes that comprise a line into a Java `String` object.\r\n\r\n  2. If you decide to use `read(byte[], ...)` or `ByteBuffer` for efficiency, you need to be careful to not to mangle multi-byte characters that span buffer boundaries when converting to strings.\r\n\r\n  3. In theory, your code also needs to detect line separators in an encoding aware way.  In a few character sets, simple encoding-agnostic tests for ASCII NL and CR byte values won&#39;t work.  Examples where that would be problematic include EBCDIC (which uses `0x15` as the code for NL), and UTF-16 encodings (where CR and NL are represented as 2 bytes not one).\r\n\r\nThis is not trivial ...\r\n\r\nThe second problem is that each time your application reads the line with a given line number, it will first need to &quot;seek&quot; the stream to the right byte offset.  Depending on the access patterns, that may entail a `seek` system call followed by a `read` system call.  Depending on the access patterns, it may be advisable to implement some kind of caching.  You could cache just the line that you read ... or you could read on a disk block boundary and cache preceding and / or following lines.  The best strategy will depend on access patterns, etc, and probably can only be determined *experimentally*.\r\n\r\n(It might be simpler and/or more efficient to store the lines in a database rather than reading from a 1GB+ text file.  A database will typically do some server-side caching for you, and there various ways of implementing client-side caching.)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/EBCDIC","title":"What is the fastest way to read a line from a very large file when you know the line number","body":"<blockquote>\n<p>What is the fastest way to read a line from a very large file when you know the line number.</p>\n</blockquote>\n<p>The following assumes that the file is too large to hold in memory, either as a data structure or by memory mapping it.</p>\n<p>If you just know the line number and <strong>you are reading just one line</strong>, then the fastest (simple) way will be to read with a <code>BufferedReader.read</code> and count the line separators.</p>\n<p>If you are doing the operation multiple times per file, then it is more complicated to do this efficiently.  Firstly, you need a data structure to map line numbers to file offsets.  This has to be created by reading the file, counting lines and recording byte offsets.  There are various ways to represent the, but an array of offsets will be the most memory efficient ... and the fastest if you are only going to use it to map a line number to a byte offset.</p>\n<p>Unfortunately, with a <code>Reader</code> you cannot get the current byte offset from, and you cannot &quot;seek&quot; a <code>Reader</code> to a particular byte or character offset.</p>\n<p>Thus, to implement efficient line no -&gt; byte offset -&gt; line of text retrieval, you will need to use a <code>BufferedInputStream</code> or similar.\nBut you will also need to make your code aware of the charset of the file you are reading:</p>\n<ol>\n<li><p>You will need to use <code>new String(byte[], ..., Charset)</code> and / or the <code>Charset</code> or <code>CharsetDecoder</code> APIs to turn the bytes that comprise a line into a Java <code>String</code> object.</p>\n</li>\n<li><p>If you decide to use <code>read(byte[], ...)</code> or <code>ByteBuffer</code> for efficiency, you need to be careful to not to mangle multi-byte characters that span buffer boundaries when converting to strings.</p>\n</li>\n<li><p>In theory, your code also needs to detect line separators in an encoding aware way.  In a few character sets, simple encoding-agnostic tests for ASCII NL and CR byte values won't work.  Examples where that would be problematic include EBCDIC (which uses <code>0x15</code> as the code for NL), and UTF-16 encodings (where CR and NL are represented as 2 bytes not one).</p>\n</li>\n</ol>\n<p>This is not trivial ...</p>\n<p>The second problem is that each time your application reads the line with a given line number, it will first need to &quot;seek&quot; the stream to the right byte offset.  Depending on the access patterns, that may entail a <code>seek</code> system call followed by a <code>read</code> system call.  Depending on the access patterns, it may be advisable to implement some kind of caching.  You could cache just the line that you read ... or you could read on a disk block boundary and cache preceding and / or following lines.  The best strategy will depend on access patterns, etc, and probably can only be determined <em>experimentally</em>.</p>\n<p>(It might be simpler and/or more efficient to store the lines in a database rather than reading from a 1GB+ text file.  A database will typically do some server-side caching for you, and there various ways of implementing client-side caching.)</p>\n"},{"tags":[],"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647300187,"creation_date":1647300187,"answer_id":71475286,"question_id":71446467,"body_markdown":"The question is a little unclear, so I&#39;m going to break out multiple possibilities and suggest solutions to each.\r\n\r\n&gt; I keep track of specific line numbers that I will need to reference later\r\n\r\nDo you know all of the lines that you&#39;ll need to retrieve before you start? Or have some mechanism to identify those lines?\r\n\r\nIf yes, then the simplest solution is to read the file once, using `BufferedReader.readLine()`. Store each retrieved line in a `Map`, keyed by its line number.\r\n\r\n&gt; The file is very large (say 1 GB or more)\r\n\r\nAt that size, I&#39;d actually read the entire file into the `Map` -- 1 GB isn&#39;t that big. I&#39;d probably use a `TreeMap`, since its internal structures are slightly smaller than a `HashMap`, and the difference in performance isn&#39;t going to be noticeable.\r\n\r\n&gt; Instead of the line number, would it make more sense to somehow store the byte offset?\r\n\r\nYes, in fact that&#39;s what you _must_ do. In fact, I would store the starting and ending offset of each line, but you can get away with storing just the start -- the end is the start of the next line - 1.\r\n\r\nIt would be most efficient to store in a `long[]` versus an `ArrayList&lt;Long&gt;`, since the latter will have object overhead for each entry. But with the former you&#39;ll have to either allocate an array that&#39;s larger than the likely number of lines, and/or handle resizing yourself.\r\n\r\nYou&#39;ll need to read the entire file to figure out the line separators. However, as long as the file uses the standard `\\n` (or `\\r`) line separator, and is uses an encoding compatible with US-ASCII (eg, iso-8859-x, utf-8, or even utf-16/utf-32 as long as you pay attention to read size), then you don&#39;t need to do any character-set translation when reading the file.\r\n\r\nI would use a `BufferedInputStream`, and read it a character at a time. This translates to retrieving individual bytes out of an array, so is at least as fast as you can do it any other way -- at least using `java.io`.\r\n\r\nIf your files are less than 2GB, then you can used a `MappedByteBuffer`. This will give you a slight performance boost when reading a byte at a time, because it doesn&#39;t need to copy bytes from the OS buffer onto the Java heap. It also leverages the OS to read and cache pages, which may result in more efficient reads (eg, because the OS decides to read more than one block at a time).\r\n\r\nFor reading the lines, you need to seek to the starting offset, grab the bytes between it and the ending offset, and then call `new String(b, charset)`.\r\n\r\nIf you don&#39;t use a `MappedByteBuffer`, then I&#39;d recommend a `FileChannel` rather than a `RandomAccessFile`. This will also leverage the page cache (albeit to a lesser extent), and doesn&#39;t require a syscall for each read.","title":"What is the fastest way to read a line from a very large file when you know the line number","body":"<p>The question is a little unclear, so I'm going to break out multiple possibilities and suggest solutions to each.</p>\n<blockquote>\n<p>I keep track of specific line numbers that I will need to reference later</p>\n</blockquote>\n<p>Do you know all of the lines that you'll need to retrieve before you start? Or have some mechanism to identify those lines?</p>\n<p>If yes, then the simplest solution is to read the file once, using <code>BufferedReader.readLine()</code>. Store each retrieved line in a <code>Map</code>, keyed by its line number.</p>\n<blockquote>\n<p>The file is very large (say 1 GB or more)</p>\n</blockquote>\n<p>At that size, I'd actually read the entire file into the <code>Map</code> -- 1 GB isn't that big. I'd probably use a <code>TreeMap</code>, since its internal structures are slightly smaller than a <code>HashMap</code>, and the difference in performance isn't going to be noticeable.</p>\n<blockquote>\n<p>Instead of the line number, would it make more sense to somehow store the byte offset?</p>\n</blockquote>\n<p>Yes, in fact that's what you <em>must</em> do. In fact, I would store the starting and ending offset of each line, but you can get away with storing just the start -- the end is the start of the next line - 1.</p>\n<p>It would be most efficient to store in a <code>long[]</code> versus an <code>ArrayList&lt;Long&gt;</code>, since the latter will have object overhead for each entry. But with the former you'll have to either allocate an array that's larger than the likely number of lines, and/or handle resizing yourself.</p>\n<p>You'll need to read the entire file to figure out the line separators. However, as long as the file uses the standard <code>\\n</code> (or <code>\\r</code>) line separator, and is uses an encoding compatible with US-ASCII (eg, iso-8859-x, utf-8, or even utf-16/utf-32 as long as you pay attention to read size), then you don't need to do any character-set translation when reading the file.</p>\n<p>I would use a <code>BufferedInputStream</code>, and read it a character at a time. This translates to retrieving individual bytes out of an array, so is at least as fast as you can do it any other way -- at least using <code>java.io</code>.</p>\n<p>If your files are less than 2GB, then you can used a <code>MappedByteBuffer</code>. This will give you a slight performance boost when reading a byte at a time, because it doesn't need to copy bytes from the OS buffer onto the Java heap. It also leverages the OS to read and cache pages, which may result in more efficient reads (eg, because the OS decides to read more than one block at a time).</p>\n<p>For reading the lines, you need to seek to the starting offset, grab the bytes between it and the ending offset, and then call <code>new String(b, charset)</code>.</p>\n<p>If you don't use a <code>MappedByteBuffer</code>, then I'd recommend a <code>FileChannel</code> rather than a <code>RandomAccessFile</code>. This will also leverage the page cache (albeit to a lesser extent), and doesn't require a syscall for each read.</p>\n"}],"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":979,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1647480383,"creation_date":1647051320,"question_id":71446467,"body_markdown":"At first I loop through the file line by line, and in an array I keep track of specific line numbers that I will need to reference later.\r\n\r\nThe file is very large (say 1 GB or more) so I one I scan it and load the specific line numbers into an array, the file is no longer in memory.\r\n\r\nWhat would be be the fastest and most efficient way to read a specific line in a file?\r\n\r\nThe file contains line breaks of string text, where each row represents a transaction.\r\n\r\nInstead of the line number, would it make more sense to somehow store the byte offset?","title":"What is the fastest way to read a line from a very large file when you know the line number","body":"<p>At first I loop through the file line by line, and in an array I keep track of specific line numbers that I will need to reference later.</p>\n<p>The file is very large (say 1 GB or more) so I one I scan it and load the specific line numbers into an array, the file is no longer in memory.</p>\n<p>What would be be the fastest and most efficient way to read a specific line in a file?</p>\n<p>The file contains line breaks of string text, where each row represents a transaction.</p>\n<p>Instead of the line number, would it make more sense to somehow store the byte offset?</p>\n"},{"tags":["java","line","spacing","jtextarea"],"comments":[{"owner":{"account_id":31908,"reputation":21528,"user_id":87979,"accept_rate":83,"display_name":"Tom"},"score":2,"creation_date":1260252222,"post_id":1857577,"comment_id":1761349,"body_markdown":"Hey Surjya, you should upvote and accept answers that you find helpful :-). Did you work out a solution to your problem?","body":"Hey Surjya, you should upvote and accept answers that you find helpful :-). Did you work out a solution to your problem?"}],"answers":[{"tags":[],"owner":{"account_id":31908,"reputation":21528,"user_id":87979,"accept_rate":83,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1417639666,"creation_date":1260158455,"answer_id":1857731,"question_id":1857577,"body_markdown":"Doing a google search suggests you should be using `JTextPane` and in particular the `setParagraphAttributes` located [here](http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextPane.html#setParagraphAttributes(javax.swing.text.AttributeSet,%20boolean)).\r\n\r\nThe way to get the `AttributeSet` you need is as follows:\r\n\r\n    MutableAttributeSet set = new SimpleAttributeSet();\r\n    StyleConstants.setLineSpacing(set, /* your spacing */);\r\n\r\nNow just pass in `set` to the `setParagraphAttributes` method.\r\n\r\nHope this helps.","title":"Line-Spacing in JTextArea","body":"<p>Doing a google search suggests you should be using <code>JTextPane</code> and in particular the <code>setParagraphAttributes</code> located <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextPane.html#setParagraphAttributes(javax.swing.text.AttributeSet,%20boolean)\" rel=\"noreferrer\">here</a>.</p>\n\n<p>The way to get the <code>AttributeSet</code> you need is as follows:</p>\n\n<pre><code>MutableAttributeSet set = new SimpleAttributeSet();\nStyleConstants.setLineSpacing(set, /* your spacing */);\n</code></pre>\n\n<p>Now just pass in <code>set</code> to the <code>setParagraphAttributes</code> method.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5966995,"reputation":189,"user_id":4690527,"display_name":"Izzy Kiefer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647479671,"creation_date":1647479671,"answer_id":71505990,"question_id":1857577,"body_markdown":"dont forget to put \r\n\r\n    textpane.selectAll();\r\nbefore \r\n\r\n    textpane.setParagraphAttributes....\r\n\r\nor it will not work!","title":"Line-Spacing in JTextArea","body":"<p>dont forget to put</p>\n<pre><code>textpane.selectAll();\n</code></pre>\n<p>before</p>\n<pre><code>textpane.setParagraphAttributes....\n</code></pre>\n<p>or it will not work!</p>\n"}],"owner":{"account_id":76183,"reputation":7771,"user_id":218284,"accept_rate":55,"display_name":"Surjya Narayana Padhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6585,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1647479671,"creation_date":1260155038,"question_id":1857577,"body_markdown":"It seems my current JTextArea instance is having line-spcing about 1 or 1.5. Can anybody tell me how to change the line-spacing in JTextArea instance?","title":"Line-Spacing in JTextArea","body":"<p>It seems my current JTextArea instance is having line-spcing about 1 or 1.5. Can anybody tell me how to change the line-spacing in JTextArea instance?</p>\n"},{"tags":["java","sql-server","azure","android-studio","jtds"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1647493084,"post_id":71505988,"comment_id":126386419,"body_markdown":"You shouldn&#39;t use a direct SQL connection from mobile devices at all. Aside from the security issues with exposing an SQL Server to the open internet the MS-TDS protocol is extremely chatty and performs badly when encountering WAN-level latency - it really only works well in LAN environments. Instead of direct SQL connectivity consider other solutions such as RESTful/OData web services, where the clients are exchanging information over HTTP, and the web services can be located at Azure and communicate with SQL Server on behalf of client requests.","body":"You shouldn&#39;t use a direct SQL connection from mobile devices at all. Aside from the security issues with exposing an SQL Server to the open internet the MS-TDS protocol is extremely chatty and performs badly when encountering WAN-level latency - it really only works well in LAN environments. Instead of direct SQL connectivity consider other solutions such as RESTful/OData web services, where the clients are exchanging information over HTTP, and the web services can be located at Azure and communicate with SQL Server on behalf of client requests."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1647493168,"post_id":71505988,"comment_id":126386432,"body_markdown":"Aside... when dealing with Azure SQL instances you&#39;ll probably need to use the official Microsoft JDBC drivers so as to support modern protocol enhancements as well as Azure-related authentication mechanisms.","body":"Aside... when dealing with Azure SQL instances you&#39;ll probably need to use the official Microsoft JDBC drivers so as to support modern protocol enhancements as well as Azure-related authentication mechanisms."}],"owner":{"account_id":24583202,"reputation":1,"user_id":18488014,"display_name":"amr54"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647479662,"creation_date":1647479662,"question_id":71505988,"body_markdown":"I am trying to connect to Azure DB with the jTDS Driver version 1.2.7 in Android Studio.  I got this error: &quot;SQL Error: Reason: Login failed due to client TLS version being less than minimal TLS version allowed by the server.&quot;  Already tried changing the TLS version on Azure and still got the same error.  I also tried adding ssl=request to the end of the connection string, but I end up getting another error:\r\n```\r\nAndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.capstone.rideshareapp, PID: 6440\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/sun/net/ssl/SSLContext;\r\n        at net.sourceforge.jtds.ssl.SocketFactoriesSUN$TdsTlsSocketFactory.factory(SocketFactoriesSUN.java:174)\r\n        at net.sourceforge.jtds.ssl.SocketFactoriesSUN$TdsTlsSocketFactory.getFactory(SocketFactoriesSUN.java:157)\r\n        at net.sourceforge.jtds.ssl.SocketFactoriesSUN$TdsTlsSocketFactory.createSocket(SocketFactoriesSUN.java:86)\r\n        at net.sourceforge.jtds.jdbc.SharedSocket.enableEncryption(SharedSocket.java:332)\r\n        at net.sourceforge.jtds.jdbc.TdsCore.negotiateSSL(TdsCore.java:554)\r\n        at net.sourceforge.jtds.jdbc.ConnectionJDBC2.&lt;init&gt;(ConnectionJDBC2.java:350)\r\n        at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:188)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:580)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:236)\r\n        at com.capstone.rideshareapp.MainActivity.connectionClass(MainActivity.java:68)\r\n        at com.capstone.rideshareapp.MainActivity.onCreate(MainActivity.java:42)\r\n        at android.app.Activity.performCreate(Activity.java:7802)\r\n        at android.app.Activity.performCreate(Activity.java:7791)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.sun.net.ssl.SSLContext&quot; on path: DexPathList[[zip file &quot;/data/app/com.capstone.rideshareapp-c0eguH-FO1sEfSOTqUd8qw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.capstone.rideshareapp-c0eguH-FO1sEfSOTqUd8qw==/lib/x86, /system/lib, /system/product/lib]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at net.sourceforge.jtds.ssl.SocketFactoriesSUN$TdsTlsSocketFactory.factory(SocketFactoriesSUN.java:174)&#160;\r\n        at net.sourceforge.jtds.ssl.SocketFactoriesSUN$TdsTlsSocketFactory.getFactory(SocketFactoriesSUN.java:157)&#160;\r\n        at net.sourceforge.jtds.ssl.SocketFactoriesSUN$TdsTlsSocketFactory.createSocket(SocketFactoriesSUN.java:86)&#160;\r\n        at net.sourceforge.jtds.jdbc.SharedSocket.enableEncryption(SharedSocket.java:332)&#160;\r\n        at net.sourceforge.jtds.jdbc.TdsCore.negotiateSSL(TdsCore.java:554)&#160;\r\n        at net.sourceforge.jtds.jdbc.ConnectionJDBC2.&lt;init&gt;(ConnectionJDBC2.java:350)&#160;\r\n        at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:188)&#160;\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:580)&#160;\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:236)&#160;\r\n        at com.capstone.rideshareapp.MainActivity.connectionClass(MainActivity.java:68)&#160;\r\n        at com.capstone.rideshareapp.MainActivity.onCreate(MainActivity.java:42)&#160;\r\n        at android.app.Activity.performCreate(Activity.java:7802)&#160;\r\n        at android.app.Activity.performCreate(Activity.java:7791)&#160;\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)&#160;\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)&#160;\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)&#160;\r\n```\r\nI haven&#39;t been able to figure out what has been causing this error either.  On top of trying the jTDS Driver, I&#39;ve also tried the Microsoft JDBC Driver and still run into errors that I seem to not be able to figure out either.  The error with the JDBC Driver is this: &quot;SQL&#160;Error: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;Socket is closed&quot;. ClientConnectionId&quot;\r\n\r\nbuild.gradle (:app) :\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.capstone.rideshareapp&quot;\r\n        minSdkVersion 24\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n//        multiDexEnabled true\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n//    def multidex_version = &quot;2.0.1&quot;\r\n//    implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation files(&#39;libs/jtds-1.2.7.jar&#39;)\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n}\r\n```\r\nMainActivity.java :\r\n```\r\npackage com.capstone.rideshareapp;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.StrictMode;\r\nimport android.util.Log;\r\nimport android.widget.Button;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    // db connection string\r\n    static private final String connectionURL = &quot;jdbc:jtds:sqlserver://myschooldata.database.windows&quot; +\r\n            &quot;.net:1433;DatabaseName=MySchoolData;sslProtocol=TLSv1;user=*****@myschooldata;password=******;&quot; +\r\n            &quot;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows&quot; +\r\n            &quot;.net;loginTimeout=30;&quot;;\r\n    static protected Connection connection = null;\r\n\r\n    Button signUpBtn;\r\n    Button loginBtn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        connectionClass();\r\n\r\n        signUpBtn = findViewById(R.id.signUpBtn);\r\n        signUpBtn.setOnClickListener(v -&gt; switchToRegister());\r\n\r\n        loginBtn = findViewById(R.id.loginBtn);\r\n        loginBtn.setOnClickListener(v -&gt; switchToLogin());\r\n    }\r\n\r\n    private void switchToRegister() {\r\n        Intent switchToCreateAccount = new Intent(this, CreateAccount.class);\r\n        startActivity(switchToCreateAccount);\r\n    }\r\n\r\n    private void switchToLogin() {\r\n        Intent switchToLogin = new Intent(this, Login.class);\r\n        startActivity(switchToLogin);\r\n    }\r\n\r\n    // can be called in another activity using MainActivity.connectionClass()\r\n    @SuppressLint(&quot;NewApi&quot;)\r\n    static protected void connectionClass() {\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n        try {\r\n            Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;).newInstance();\r\n            connection = DriverManager.getConnection(connectionURL);\r\n            Log.i(&quot;Connected&quot;, &quot;It works&quot;);\r\n        }\r\n        catch (SQLException se) {\r\n            Log.e(&quot;SQL Error&quot;, se.getMessage());\r\n        }\r\n        catch (ClassNotFoundException e) {\r\n            Log.e(&quot;Loading Error&quot;, e.getMessage());\r\n        }\r\n        catch (Exception e) {\r\n            Log.e(&quot;Error&quot;, e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\nAs a clarification, when using the different drivers, I changed the connection strings, the dependency for the used driver, and the Class.forName().\r\n\r\nDoes anyone know why, after trying different possible solutions, I keep getting these errors for either the jTDS Driver or the JDBC Driver?","title":"Problems Connecting to Azure DB through Android Studio using jTDS Driver","body":"<p>I am trying to connect to Azure DB with the jTDS Driver version 1.2.7 in Android Studio.  I got this error: &quot;SQL Error: Reason: Login failed due to client TLS version being less than minimal TLS version allowed by the server.&quot;  Already tried changing the TLS version on Azure and still got the same error.  I also tried adding ssl=request to the end of the connection string, but I end up getting another error:</p>\n<pre><code>AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.capstone.rideshareapp, PID: 6440\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/sun/net/ssl/SSLContext;\n        at net.sourceforge.jtds.ssl.SocketFactoriesSUN$TdsTlsSocketFactory.factory(SocketFactoriesSUN.java:174)\n        at net.sourceforge.jtds.ssl.SocketFactoriesSUN$TdsTlsSocketFactory.getFactory(SocketFactoriesSUN.java:157)\n        at net.sourceforge.jtds.ssl.SocketFactoriesSUN$TdsTlsSocketFactory.createSocket(SocketFactoriesSUN.java:86)\n        at net.sourceforge.jtds.jdbc.SharedSocket.enableEncryption(SharedSocket.java:332)\n        at net.sourceforge.jtds.jdbc.TdsCore.negotiateSSL(TdsCore.java:554)\n        at net.sourceforge.jtds.jdbc.ConnectionJDBC2.&lt;init&gt;(ConnectionJDBC2.java:350)\n        at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:188)\n        at java.sql.DriverManager.getConnection(DriverManager.java:580)\n        at java.sql.DriverManager.getConnection(DriverManager.java:236)\n        at com.capstone.rideshareapp.MainActivity.connectionClass(MainActivity.java:68)\n        at com.capstone.rideshareapp.MainActivity.onCreate(MainActivity.java:42)\n        at android.app.Activity.performCreate(Activity.java:7802)\n        at android.app.Activity.performCreate(Activity.java:7791)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.sun.net.ssl.SSLContext&quot; on path: DexPathList[[zip file &quot;/data/app/com.capstone.rideshareapp-c0eguH-FO1sEfSOTqUd8qw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.capstone.rideshareapp-c0eguH-FO1sEfSOTqUd8qw==/lib/x86, /system/lib, /system/product/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at net.sourceforge.jtds.ssl.SocketFactoriesSUN$TdsTlsSocketFactory.factory(SocketFactoriesSUN.java:174) \n        at net.sourceforge.jtds.ssl.SocketFactoriesSUN$TdsTlsSocketFactory.getFactory(SocketFactoriesSUN.java:157) \n        at net.sourceforge.jtds.ssl.SocketFactoriesSUN$TdsTlsSocketFactory.createSocket(SocketFactoriesSUN.java:86) \n        at net.sourceforge.jtds.jdbc.SharedSocket.enableEncryption(SharedSocket.java:332) \n        at net.sourceforge.jtds.jdbc.TdsCore.negotiateSSL(TdsCore.java:554) \n        at net.sourceforge.jtds.jdbc.ConnectionJDBC2.&lt;init&gt;(ConnectionJDBC2.java:350) \n        at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:188) \n        at java.sql.DriverManager.getConnection(DriverManager.java:580) \n        at java.sql.DriverManager.getConnection(DriverManager.java:236) \n        at com.capstone.rideshareapp.MainActivity.connectionClass(MainActivity.java:68) \n        at com.capstone.rideshareapp.MainActivity.onCreate(MainActivity.java:42) \n        at android.app.Activity.performCreate(Activity.java:7802) \n        at android.app.Activity.performCreate(Activity.java:7791) \n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299) \n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245) \n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7356) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930) \n</code></pre>\n<p>I haven't been able to figure out what has been causing this error either.  On top of trying the jTDS Driver, I've also tried the Microsoft JDBC Driver and still run into errors that I seem to not be able to figure out either.  The error with the JDBC Driver is this: &quot;SQL Error: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;Socket is closed&quot;. ClientConnectionId&quot;</p>\n<p>build.gradle (:app) :</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.capstone.rideshareapp&quot;\n        minSdkVersion 24\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n//        multiDexEnabled true\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n//    def multidex_version = &quot;2.0.1&quot;\n//    implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\n    implementation 'androidx.appcompat:appcompat:1.3.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation files('libs/jtds-1.2.7.jar')\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n}\n</code></pre>\n<p>MainActivity.java :</p>\n<pre><code>package com.capstone.rideshareapp;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.StrictMode;\nimport android.util.Log;\nimport android.widget.Button;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class MainActivity extends AppCompatActivity {\n    // db connection string\n    static private final String connectionURL = &quot;jdbc:jtds:sqlserver://myschooldata.database.windows&quot; +\n            &quot;.net:1433;DatabaseName=MySchoolData;sslProtocol=TLSv1;user=*****@myschooldata;password=******;&quot; +\n            &quot;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows&quot; +\n            &quot;.net;loginTimeout=30;&quot;;\n    static protected Connection connection = null;\n\n    Button signUpBtn;\n    Button loginBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        connectionClass();\n\n        signUpBtn = findViewById(R.id.signUpBtn);\n        signUpBtn.setOnClickListener(v -&gt; switchToRegister());\n\n        loginBtn = findViewById(R.id.loginBtn);\n        loginBtn.setOnClickListener(v -&gt; switchToLogin());\n    }\n\n    private void switchToRegister() {\n        Intent switchToCreateAccount = new Intent(this, CreateAccount.class);\n        startActivity(switchToCreateAccount);\n    }\n\n    private void switchToLogin() {\n        Intent switchToLogin = new Intent(this, Login.class);\n        startActivity(switchToLogin);\n    }\n\n    // can be called in another activity using MainActivity.connectionClass()\n    @SuppressLint(&quot;NewApi&quot;)\n    static protected void connectionClass() {\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n        StrictMode.setThreadPolicy(policy);\n        try {\n            Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;).newInstance();\n            connection = DriverManager.getConnection(connectionURL);\n            Log.i(&quot;Connected&quot;, &quot;It works&quot;);\n        }\n        catch (SQLException se) {\n            Log.e(&quot;SQL Error&quot;, se.getMessage());\n        }\n        catch (ClassNotFoundException e) {\n            Log.e(&quot;Loading Error&quot;, e.getMessage());\n        }\n        catch (Exception e) {\n            Log.e(&quot;Error&quot;, e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>As a clarification, when using the different drivers, I changed the connection strings, the dependency for the used driver, and the Class.forName().</p>\n<p>Does anyone know why, after trying different possible solutions, I keep getting these errors for either the jTDS Driver or the JDBC Driver?</p>\n"},{"tags":["java","overloading","java-11"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1647445632,"post_id":71500054,"comment_id":126374276,"body_markdown":"Unrelated, regarding naming: dont use Hungarian notation. Do not put that **i** in front of your interface names. For the actual question: how are those interface methods related? Could one of them have a default implementation that invokes the other method for example? You see, there are no generic answers to such problems. In order to really help you, we need more context resp. to really understand your requirements: what problem are you trying to solve here?","body":"Unrelated, regarding naming: dont use Hungarian notation. Do not put that <b>i</b> in front of your interface names. For the actual question: how are those interface methods related? Could one of them have a default implementation that invokes the other method for example? You see, there are no generic answers to such problems. In order to really help you, we need more context resp. to really understand your requirements: what problem are you trying to solve here?"},{"owner":{"account_id":21963415,"reputation":33,"user_id":16241006,"display_name":"freecoderw"},"score":0,"creation_date":1647446314,"post_id":71500054,"comment_id":126374568,"body_markdown":"I&#39;ve edited the code. THanks for the input","body":"I&#39;ve edited the code. THanks for the input"}],"answers":[{"tags":[],"owner":{"account_id":22750553,"reputation":321,"user_id":17236065,"display_name":"Pedro Luiz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647479336,"creation_date":1647479336,"answer_id":71505955,"question_id":71500054,"body_markdown":"**One approach**\r\n\r\nYou can make use of one of the solid principles, wich is Interface Segregation. Following it a class shouldn&#39;t have to implement a method that it doesn&#39;t use.\r\n\r\nThe idea would be to break up the Translate interface into smaller(s) interface(s).\r\n\r\n    interface Translatable {\r\n        void translate(String a);\r\n    }\r\n\r\n    interface SpecificTranslatable {\r\n        void specificTranslate(String a, int b);\r\n    }\r\n\r\n    class A implements Translatable {\r\n\r\n        @Override\r\n        public void translate(String a) {\r\n            System.out.println(&quot;simple translation&quot;);\r\n        }\r\n    }\r\n\r\n    class B implements Translatable, SpecificTranslatable {\r\n\r\n        @Override\r\n        public void translate(String a) {\r\n            System.out.println(&quot;simple translation&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void specificTranslate(String a, int b) {\r\n            System.out.println(&quot;specific translation&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Designing code so that I can benefit of overloading methods","body":"<p><strong>One approach</strong></p>\n<p>You can make use of one of the solid principles, wich is Interface Segregation. Following it a class shouldn't have to implement a method that it doesn't use.</p>\n<p>The idea would be to break up the Translate interface into smaller(s) interface(s).</p>\n<pre><code>interface Translatable {\n    void translate(String a);\n}\n\ninterface SpecificTranslatable {\n    void specificTranslate(String a, int b);\n}\n\nclass A implements Translatable {\n\n    @Override\n    public void translate(String a) {\n        System.out.println(&quot;simple translation&quot;);\n    }\n}\n\nclass B implements Translatable, SpecificTranslatable {\n\n    @Override\n    public void translate(String a) {\n        System.out.println(&quot;simple translation&quot;);\n    }\n\n    @Override\n    public void specificTranslate(String a, int b) {\n        System.out.println(&quot;specific translation&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21963415,"reputation":33,"user_id":16241006,"display_name":"freecoderw"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647479336,"creation_date":1647445392,"question_id":71500054,"body_markdown":"I&#39;m trying to solve the following problem\r\n\r\nCurrent code: \r\n```\r\ninterface Translatable {\r\n   void translate(String a);\r\n}\r\n\r\nclass A implements Translatable{\r\n    void translate(String a){}\r\n}\r\n\r\nclass B implements Translatable{\r\n    void translate(String a){}\r\n}\r\n\r\nclass C implements Translatable{\r\n    void translate(String a){}\r\n}\r\n```\r\n\r\nI would like to obtain something like this in Java 11\r\n```\r\ninterface Translatable {\r\n\r\n    void translate(String a);\r\n\r\n    void translate(String a, int b);\r\n}\r\n\r\n\r\nclass A implements Translatable{\r\n    void translate(String a, int b){}\r\n}\r\n\r\nclass B implements Translatable{\r\n    void translate(String a){}\r\n}\r\n\r\nclass C implements Translatable{\r\n    void translate(String a){}\r\n}\r\n```\r\n\r\nBasically not all the classes implementing &quot;Translatable&quot; need the new param\r\n\r\nHow can I organize my classes so I obtain this without duplicating my code? Thank you \r\n\r\n","title":"Designing code so that I can benefit of overloading methods","body":"<p>I'm trying to solve the following problem</p>\n<p>Current code:</p>\n<pre><code>interface Translatable {\n   void translate(String a);\n}\n\nclass A implements Translatable{\n    void translate(String a){}\n}\n\nclass B implements Translatable{\n    void translate(String a){}\n}\n\nclass C implements Translatable{\n    void translate(String a){}\n}\n</code></pre>\n<p>I would like to obtain something like this in Java 11</p>\n<pre><code>interface Translatable {\n\n    void translate(String a);\n\n    void translate(String a, int b);\n}\n\n\nclass A implements Translatable{\n    void translate(String a, int b){}\n}\n\nclass B implements Translatable{\n    void translate(String a){}\n}\n\nclass C implements Translatable{\n    void translate(String a){}\n}\n</code></pre>\n<p>Basically not all the classes implementing &quot;Translatable&quot; need the new param</p>\n<p>How can I organize my classes so I obtain this without duplicating my code? Thank you</p>\n"},{"tags":["java","eclipse","jdbc","ant","derby"],"comments":[{"owner":{"display_name":"user15358848"},"score":4,"creation_date":1618953966,"post_id":67186350,"comment_id":118758182,"body_markdown":"classpath is probably missing `derbytools.jar (and maybe some more) - check [Configure Embedded Derby](http://db.apache.org/derby/papers/DerbyTut/install_software.html#derby_configure)","body":"classpath is probably missing `derbytools.jar (and maybe some more) - check <a href=\"http://db.apache.org/derby/papers/DerbyTut/install_software.html#derby_configure\" rel=\"nofollow noreferrer\">Configure Embedded Derby</a>"},{"owner":{"account_id":21339414,"reputation":1,"user_id":15710123,"display_name":"burglurs"},"score":0,"creation_date":1619015102,"post_id":67186350,"comment_id":118777762,"body_markdown":"@user15358848 Nevermind, I missed something when modyfing CLASSPATH. **The solution was to include** `derbytools.jar`! Thanks!","body":"@user15358848 Nevermind, I missed something when modyfing CLASSPATH. <b>The solution was to include</b> <code>derbytools.jar</code>! Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618963074,"creation_date":1618963074,"answer_id":67187669,"question_id":67186350,"body_markdown":"Since you&#39;re using Derby 10.15, you have to also have `derbyshared.jar` in your classpath for the embedded driver. \r\n\r\nMore information here: http://db.apache.org/derby/releases/release-10.15.1.3.cgi#Release%20Notes%20for%20Apache%20Derby%2010.15.1.3\r\n\r\nIn particular, note this part:\r\n\r\n&gt; A new jar file (derbyshared.jar) has been added. All Derby configurations require it. In addition, the derbytools.jar library is now required when running the network server, when using Derby DataSources, and when directly referencing the JDBC drivers.\r\n\r\n","title":"&quot;Class Not Found: JDBC driver org.apache.derby.jdbc.EmbeddedDriver could not be loaded&quot; despite having included required JARs in classpath","body":"<p>Since you're using Derby 10.15, you have to also have <code>derbyshared.jar</code> in your classpath for the embedded driver.</p>\n<p>More information here: <a href=\"http://db.apache.org/derby/releases/release-10.15.1.3.cgi#Release%20Notes%20for%20Apache%20Derby%2010.15.1.3\" rel=\"nofollow noreferrer\">http://db.apache.org/derby/releases/release-10.15.1.3.cgi#Release%20Notes%20for%20Apache%20Derby%2010.15.1.3</a></p>\n<p>In particular, note this part:</p>\n<blockquote>\n<p>A new jar file (derbyshared.jar) has been added. All Derby configurations require it. In addition, the derbytools.jar library is now required when running the network server, when using Derby DataSources, and when directly referencing the JDBC drivers.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":24583505,"reputation":11,"user_id":18488284,"display_name":"Wolfgang Fredrich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647479118,"creation_date":1647479118,"answer_id":71505933,"question_id":67186350,"body_markdown":"verry important\r\nSince you&#39;re using Derby 10.15, you have to also have **derbytools.jar** in your classpath for the embedded driver.\r\ndb-derby-10.15.2.0-bin\\lib\\derbytools.jar\\org\\apache\\derby\\jdbc\\EmbeddedDriver.class\r\nUse 7zip to analyse!","title":"&quot;Class Not Found: JDBC driver org.apache.derby.jdbc.EmbeddedDriver could not be loaded&quot; despite having included required JARs in classpath","body":"<p>verry important\nSince you're using Derby 10.15, you have to also have <strong>derbytools.jar</strong> in your classpath for the embedded driver.\ndb-derby-10.15.2.0-bin\\lib\\derbytools.jar\\org\\apache\\derby\\jdbc\\EmbeddedDriver.class\nUse 7zip to analyse!</p>\n"}],"owner":{"account_id":21339414,"reputation":1,"user_id":15710123,"display_name":"burglurs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1065,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647479118,"creation_date":1618952851,"question_id":67186350,"body_markdown":"While following [this tutorial](https://docs.oracle.com/javase/tutorial/jdbc/basics/gettingstarted.html), in order to test if everything is set up correctly, I ran the &#39;setup&#39; Ant target from Eclipse. The following is the error message I got:\r\n\r\n        Buildfile: C:\\Users\\bingis_khan\\eclipse-workspace\\JDBCTutorial\\build.xml\r\n    setup:\r\n    drop-tables:\r\n         [echo] C:\\Users\\bingis_khan\\eclipse-workspace\\JDBCTutorial\\classes;C:\\Users\\bingis_khan\\Downloads\\db-derby-10.15.2.0-bin\\db-derby-10.15.2.0-bin\\lib\\derby.jar;C:\\Users\\bingis_khan\\eclipse-workspace\\JDBCTutorial\\lib\\JDBCTutorial.jar;C:\\apache\\xalan-j_2_7_2\\xalan.jar\r\n    \r\n    BUILD FAILED\r\n    C:\\Users\\bingis_khan\\eclipse-workspace\\JDBCTutorial\\build.xml:141: The following error occurred while executing this line:\r\n    C:\\Users\\bingis_khan\\eclipse-workspace\\JDBCTutorial\\build.xml:84: Class Not Found: JDBC driver org.apache.derby.jdbc.EmbeddedDriver could not be loaded\r\n    \r\n    Total time: 374 milliseconds\r\nThis [echo] here is set up to print the CLASSPATH. As the next section shows, the path(s) in classpath match the actual locations of these archives:\r\n\r\n    Directory of C:\\Users\\bingis_khan\\Downloads\\db-derby-10.15.2.0-bin\\db-derby-10.15.2.0-bin\\lib\r\n    \r\n    04/20/2021  08:57 PM    &lt;DIR&gt;          .\r\n    04/20/2021  08:57 PM    &lt;DIR&gt;          ..\r\n    04/20/2021  08:57 PM         3,683,035 derby.jar\r\n    04/20/2021  08:57 PM             1,490 derby.war\r\n    04/20/2021  08:57 PM           601,103 derbyclient.jar\r\n    04/20/2021  08:57 PM            83,942 derbyLocale_cs.jar\r\n    04/20/2021  08:57 PM            99,882 derbyLocale_de_DE.jar\r\n    *snip*\r\nWhat I&#39;ve tried:\r\n - Experimented with changing backslashes to slashes and vice-versa.\r\n - Tried changing derby.jar to derbyclient.jar.\r\n - Just in case imported the archive (outside of Ant) to the Eclipse project.\r\nNone of the above methods worked (or even changed the output of &quot;setup&quot;).\r\n\r\nWhere I&#39;ve looked:\r\n - [here](https://stackoverflow.com/questions/18720972/trying-to-set-up-java-db-class-not-found-jdbc-driver-org-apache-derby-jdbc-em) - Poster did not add derby.jar to classpath.\r\n - [also here](https://stackoverflow.com/questions/18300815/eclipse-jar-creation-failed-class-files-on-classpath-not-found-or-not-accessi) - Different circumstances, but still applied the solution - nothing.\r\n - Some others, but most referred to **runtime** ClassNotFoundException. I haven&#39;t even gotten that far...\r\n\r\nEDIT:\r\nAlso attaching the relevant Ant target:\r\n\r\n    &lt;target name=&quot;drop-tables&quot;&gt;\r\n      \t&lt;echo&gt;${toString:CLASSPATH}&lt;/echo&gt;\r\n        &lt;sql driver=&quot;${DB.DRIVER}&quot; url=&quot;${DB.URL}&quot; userid=&quot;${DB.USER}&quot;\r\n             password=&quot;${DB.PASSWORD}&quot; classpathref=&quot;CLASSPATH&quot;\r\n             delimiter=&quot;${DB.DELIMITER}&quot; autocommit=&quot;false&quot; onerror=&quot;continue&quot;&gt;\r\n          &lt;transaction src=&quot;./sql/${DB.VENDOR}/drop-tables.sql&quot;&gt;&lt;/transaction&gt;\r\n        &lt;/sql&gt;\r\n      &lt;/target&gt;","title":"&quot;Class Not Found: JDBC driver org.apache.derby.jdbc.EmbeddedDriver could not be loaded&quot; despite having included required JARs in classpath","body":"<p>While following <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/gettingstarted.html\" rel=\"nofollow noreferrer\">this tutorial</a>, in order to test if everything is set up correctly, I ran the 'setup' Ant target from Eclipse. The following is the error message I got:</p>\n<pre><code>    Buildfile: C:\\Users\\bingis_khan\\eclipse-workspace\\JDBCTutorial\\build.xml\nsetup:\ndrop-tables:\n     [echo] C:\\Users\\bingis_khan\\eclipse-workspace\\JDBCTutorial\\classes;C:\\Users\\bingis_khan\\Downloads\\db-derby-10.15.2.0-bin\\db-derby-10.15.2.0-bin\\lib\\derby.jar;C:\\Users\\bingis_khan\\eclipse-workspace\\JDBCTutorial\\lib\\JDBCTutorial.jar;C:\\apache\\xalan-j_2_7_2\\xalan.jar\n\nBUILD FAILED\nC:\\Users\\bingis_khan\\eclipse-workspace\\JDBCTutorial\\build.xml:141: The following error occurred while executing this line:\nC:\\Users\\bingis_khan\\eclipse-workspace\\JDBCTutorial\\build.xml:84: Class Not Found: JDBC driver org.apache.derby.jdbc.EmbeddedDriver could not be loaded\n\nTotal time: 374 milliseconds\n</code></pre>\n<p>This [echo] here is set up to print the CLASSPATH. As the next section shows, the path(s) in classpath match the actual locations of these archives:</p>\n<pre><code>Directory of C:\\Users\\bingis_khan\\Downloads\\db-derby-10.15.2.0-bin\\db-derby-10.15.2.0-bin\\lib\n\n04/20/2021  08:57 PM    &lt;DIR&gt;          .\n04/20/2021  08:57 PM    &lt;DIR&gt;          ..\n04/20/2021  08:57 PM         3,683,035 derby.jar\n04/20/2021  08:57 PM             1,490 derby.war\n04/20/2021  08:57 PM           601,103 derbyclient.jar\n04/20/2021  08:57 PM            83,942 derbyLocale_cs.jar\n04/20/2021  08:57 PM            99,882 derbyLocale_de_DE.jar\n*snip*\n</code></pre>\n<p>What I've tried:</p>\n<ul>\n<li>Experimented with changing backslashes to slashes and vice-versa.</li>\n<li>Tried changing derby.jar to derbyclient.jar.</li>\n<li>Just in case imported the archive (outside of Ant) to the Eclipse project.\nNone of the above methods worked (or even changed the output of &quot;setup&quot;).</li>\n</ul>\n<p>Where I've looked:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18720972/trying-to-set-up-java-db-class-not-found-jdbc-driver-org-apache-derby-jdbc-em\">here</a> - Poster did not add derby.jar to classpath.</li>\n<li><a href=\"https://stackoverflow.com/questions/18300815/eclipse-jar-creation-failed-class-files-on-classpath-not-found-or-not-accessi\">also here</a> - Different circumstances, but still applied the solution - nothing.</li>\n<li>Some others, but most referred to <strong>runtime</strong> ClassNotFoundException. I haven't even gotten that far...</li>\n</ul>\n<p>EDIT:\nAlso attaching the relevant Ant target:</p>\n<pre><code>&lt;target name=&quot;drop-tables&quot;&gt;\n    &lt;echo&gt;${toString:CLASSPATH}&lt;/echo&gt;\n    &lt;sql driver=&quot;${DB.DRIVER}&quot; url=&quot;${DB.URL}&quot; userid=&quot;${DB.USER}&quot;\n         password=&quot;${DB.PASSWORD}&quot; classpathref=&quot;CLASSPATH&quot;\n         delimiter=&quot;${DB.DELIMITER}&quot; autocommit=&quot;false&quot; onerror=&quot;continue&quot;&gt;\n      &lt;transaction src=&quot;./sql/${DB.VENDOR}/drop-tables.sql&quot;&gt;&lt;/transaction&gt;\n    &lt;/sql&gt;\n  &lt;/target&gt;\n</code></pre>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1647456507,"post_id":71502643,"comment_id":126378729,"body_markdown":"can you share the class of a Registration object ? Of whatever class is contained in `this.registration` ?","body":"can you share the class of a Registration object ? Of whatever class is contained in <code>this.registration</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":6074141,"reputation":199,"user_id":4742016,"display_name":"Brendan Hart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647478375,"creation_date":1647456000,"answer_id":71502687,"question_id":71502643,"body_markdown":"You can create the `result` array with a size that matches the `registration` array length, since you know you want to create one result for each `registration` entry. You then can loop over the `registration` array, build the `stringResult` for a given index, and assign it to the corresponding index of the `result` array.\r\n\r\n    String[] result = new String[this.registration.length];\r\n    for (int i = 0; i &lt; this.registration.length; ++i) {\r\n        String stringResult = String.format(&quot;%s(%s)&quot;, this.registration[i].getMarks(), this.registration[i].getGrade());\r\n    \r\n        result[i] = stringResult;\r\n    }\r\n    System.out.println(Arrays.toString(result));","title":"Add strings to an array of strings inside for loop using java","body":"<p>You can create the <code>result</code> array with a size that matches the <code>registration</code> array length, since you know you want to create one result for each <code>registration</code> entry. You then can loop over the <code>registration</code> array, build the <code>stringResult</code> for a given index, and assign it to the corresponding index of the <code>result</code> array.</p>\n<pre><code>String[] result = new String[this.registration.length];\nfor (int i = 0; i &lt; this.registration.length; ++i) {\n    String stringResult = String.format(&quot;%s(%s)&quot;, this.registration[i].getMarks(), this.registration[i].getGrade());\n\n    result[i] = stringResult;\n}\nSystem.out.println(Arrays.toString(result));\n</code></pre>\n"}],"owner":{"account_id":19382184,"reputation":163,"user_id":14173197,"display_name":"sherin_a27"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71502687,"answer_count":1,"score":-1,"last_activity_date":1647478375,"creation_date":1647455791,"question_id":71502643,"body_markdown":"I have a for loop and I want to add strings to a string array inside that loop. \r\n\r\n        String[] result = new String[5];\r\n        for(int i=0; i&lt;this.registration.length; ++i){ //need to start from index 1 for some calculation\r\n            String stringResult = String.format(&quot;%s(%s)&quot;, this.registration[i].getMarks(), this.registration[i].getGrade());\r\n        \r\n            result = new String(){stringResult};\r\n        }\r\n        System.out.println(Arrays.toString(result));\r\n\r\nHow can I achieve that? The output should look like this-\r\n\r\n    {100(A), 70(B),  0(F)}","title":"Add strings to an array of strings inside for loop using java","body":"<p>I have a for loop and I want to add strings to a string array inside that loop.</p>\n<pre><code>    String[] result = new String[5];\n    for(int i=0; i&lt;this.registration.length; ++i){ //need to start from index 1 for some calculation\n        String stringResult = String.format(&quot;%s(%s)&quot;, this.registration[i].getMarks(), this.registration[i].getGrade());\n    \n        result = new String(){stringResult};\n    }\n    System.out.println(Arrays.toString(result));\n</code></pre>\n<p>How can I achieve that? The output should look like this-</p>\n<pre><code>{100(A), 70(B),  0(F)}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7335824,"reputation":83,"user_id":5587251,"display_name":"Callum Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647475363,"creation_date":1647474904,"answer_id":71505548,"question_id":71505505,"body_markdown":"        int [] newArr = new int[arr.length - (last - first) - 1];\r\n        \r\n        int count = 0;\r\n        \r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n             if (i &lt; first || i &gt; last) {\r\n                  newArr[count] = arr[i];\r\n                  count++;\r\n             }\r\n             \r\n        }\r\n\r\nThe code you posted isn&#39;t working because newArr can&#39;t use i as the array index. Easiest way is to introduce a new count variable for this.","title":"How to create new array without elements in certain range?","body":"<pre><code>    int [] newArr = new int[arr.length - (last - first) - 1];\n    \n    int count = 0;\n    \n    for (int i = 0; i &lt; arr.length; i++) {\n         if (i &lt; first || i &gt; last) {\n              newArr[count] = arr[i];\n              count++;\n         }\n         \n    }\n</code></pre>\n<p>The code you posted isn't working because newArr can't use i as the array index. Easiest way is to introduce a new count variable for this.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647475086,"creation_date":1647475086,"answer_id":71505570,"question_id":71505505,"body_markdown":"The simplest approach is probably just to keep track of a separate index for where you are inserting elements into the new array.\r\n\r\n```\r\nint [] newArr = new int[arr.length - (last - first) - 1];\r\nfor (int i = 0, j = 0; i &lt; arr.length; i++) {\r\n     if (i &lt; first || i &gt; last) {\r\n          newArr[j++] = arr[i];\r\n     }\r\n} \r\n```","title":"How to create new array without elements in certain range?","body":"<p>The simplest approach is probably just to keep track of a separate index for where you are inserting elements into the new array.</p>\n<pre><code>int [] newArr = new int[arr.length - (last - first) - 1];\nfor (int i = 0, j = 0; i &lt; arr.length; i++) {\n     if (i &lt; first || i &gt; last) {\n          newArr[j++] = arr[i];\n     }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647477942,"creation_date":1647477942,"answer_id":71505821,"question_id":71505505,"body_markdown":"# `Arrays.copyOfRange`\r\n\r\nThe utility class [`Arrays`][1] can help with your chore. The [`copyOfRange`][2] method gives you a subset of elements.\r\n\r\n```java\r\nint[] inputs = { 5 , 10 , 15 , 20 , 25 };\r\nint first = 1, last = 3; // Inclusive (fully-closed).\r\n\r\nint[] leading = Arrays.copyOfRange( inputs , 0 , first );\r\nint[] trailing = Arrays.copyOfRange( inputs , last + 1 , inputs.length );\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( &quot;leading = &quot; + Arrays.toString( leading ) );\r\nSystem.out.println( &quot;trailing = &quot; + Arrays.toString( trailing ) );\r\n```\r\n\r\n&gt;leading = [5]\r\n&gt;\r\n&gt;trailing = [25]\r\n\r\nYou could [concatenate these two arrays in various ways][3]. \r\n\r\nMy own choice in modern Java would use streams ([`IntStream`][4]) for brevity. If doing much of this, you might want to compare alternatives for performance.\r\n\r\n```java\r\nint[] result =\r\n        IntStream.concat(\r\n                        Arrays.stream( leading ) ,\r\n                        Arrays.stream( trailing )\r\n                )\r\n                .toArray();\r\n```\r\n\r\nDump to console.\r\n\r\n    System.out.println( &quot;result = &quot; + Arrays.toString( result ) );\r\n\r\n&gt;result = [5, 25]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#copyOfRange(int%5B%5D,int,int)\r\n  [3]: https://duckduckgo.com/?q=concatenate%20two%20arrays%20in%20java&amp;t=osx&amp;ia=web\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html","title":"How to create new array without elements in certain range?","body":"<h1><code>Arrays.copyOfRange</code></h1>\n<p>The utility class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\"><code>Arrays</code></a> can help with your chore. The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#copyOfRange(int%5B%5D,int,int)\" rel=\"nofollow noreferrer\"><code>copyOfRange</code></a> method gives you a subset of elements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] inputs = { 5 , 10 , 15 , 20 , 25 };\nint first = 1, last = 3; // Inclusive (fully-closed).\n\nint[] leading = Arrays.copyOfRange( inputs , 0 , first );\nint[] trailing = Arrays.copyOfRange( inputs , last + 1 , inputs.length );\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;leading = &quot; + Arrays.toString( leading ) );\nSystem.out.println( &quot;trailing = &quot; + Arrays.toString( trailing ) );\n</code></pre>\n<blockquote>\n<p>leading = [5]</p>\n<p>trailing = [25]</p>\n</blockquote>\n<p>You could <a href=\"https://duckduckgo.com/?q=concatenate%20two%20arrays%20in%20java&amp;t=osx&amp;ia=web\" rel=\"nofollow noreferrer\">concatenate these two arrays in various ways</a>.</p>\n<p>My own choice in modern Java would use streams (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a>) for brevity. If doing much of this, you might want to compare alternatives for performance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] result =\n        IntStream.concat(\n                        Arrays.stream( leading ) ,\n                        Arrays.stream( trailing )\n                )\n                .toArray();\n</code></pre>\n<p>Dump to console.</p>\n<pre><code>System.out.println( &quot;result = &quot; + Arrays.toString( result ) );\n</code></pre>\n<blockquote>\n<p>result = [5, 25]</p>\n</blockquote>\n"}],"owner":{"account_id":23402077,"reputation":3,"user_id":17465101,"display_name":"Nimai Bhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71505570,"answer_count":3,"score":0,"last_activity_date":1647477942,"creation_date":1647474502,"question_id":71505505,"body_markdown":"So I have a first and last variable which is the starting and ending markers that I want to get rid of. So the starting input for example would be\r\n```[5, 10, 15, 20, 25]```\r\nAnd say ```first = 1``` and ```last = 3```. The would mean that the elements 10, 15, and 20 would not be included in the new array since they are at the indexes between 1-3, inclusive, so that new array without those nums would be the output. Here&#39;s what I have so far:\r\n``` \r\nint [] newArr = new int[arr.length - (last - first) - 1];\r\nfor (int i = 0; i &lt; newArr.length; i++) {\r\n     if (i &lt; first || i &gt; last) {\r\n          newArr[i] = arr[i];\r\n     }\r\n} \r\n```\r\nThey&#39;re just changing to 0&#39;s, and for some reason I can&#39;t think of what to do next. ","title":"How to create new array without elements in certain range?","body":"<p>So I have a first and last variable which is the starting and ending markers that I want to get rid of. So the starting input for example would be\n<code>[5, 10, 15, 20, 25]</code>\nAnd say <code>first = 1</code> and <code>last = 3</code>. The would mean that the elements 10, 15, and 20 would not be included in the new array since they are at the indexes between 1-3, inclusive, so that new array without those nums would be the output. Here's what I have so far:</p>\n<pre><code>int [] newArr = new int[arr.length - (last - first) - 1];\nfor (int i = 0; i &lt; newArr.length; i++) {\n     if (i &lt; first || i &gt; last) {\n          newArr[i] = arr[i];\n     }\n} \n</code></pre>\n<p>They're just changing to 0's, and for some reason I can't think of what to do next.</p>\n"},{"tags":["java","avro","parquet"],"answers":[{"tags":[],"owner":{"account_id":9139039,"reputation":1,"user_id":6797615,"display_name":"Andreas Hailu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647477519,"creation_date":1647477519,"answer_id":71505789,"question_id":67538233,"body_markdown":"For those interested - this required a patch, and it [was merged to master here][1]. Corresponding [JIRA][2].\r\n\r\n\r\n  [1]: https://github.com/apache/parquet-mr/pull/912\r\n  [2]: https://issues.apache.org/jira/browse/PARQUET-2051","title":"AvroParquetOutputFormat - Unable to Write Arrays with Null Elements","body":"<p>For those interested - this required a patch, and it <a href=\"https://github.com/apache/parquet-mr/pull/912\" rel=\"nofollow noreferrer\">was merged to master here</a>. Corresponding <a href=\"https://issues.apache.org/jira/browse/PARQUET-2051\" rel=\"nofollow noreferrer\">JIRA</a>.</p>\n"}],"owner":{"account_id":9139039,"reputation":1,"user_id":6797615,"display_name":"Andreas Hailu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71505789,"answer_count":1,"score":0,"last_activity_date":1647477519,"creation_date":1621011816,"question_id":67538233,"body_markdown":"I&#39;m using v1.11.1 of the parquet-mr library as part of a Java application that takes\r\nAvro records and writes them into Parquet files using the AvroParquetOutputFormat. There are\r\nAvro records with array type fields that will have null elements, e.g. \r\n\r\n    [ &quot;Foo&quot;, &quot;Bar&quot;, null, &quot;Baz&quot;].\r\n\r\nHere&#39;s an example Avro schema:\r\n\r\n    {\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;NullLists&quot;,\r\n      &quot;namespace&quot;: &quot;com.test&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;KeyID&quot;,\r\n          &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;NullableList&quot;,\r\n          &quot;type&quot;: [\r\n            &quot;null&quot;,\r\n            {\r\n                &quot;type&quot;: &quot;array&quot;,\r\n                &quot;items&quot;: [\r\n                    &quot;null&quot;,\r\n                    &quot;string&quot;\r\n                ]\r\n            }\r\n          ],\r\n          &quot;default&quot;: null\r\n        }\r\n      ]\r\n    }\r\n\r\nI&#39;m trying to write the following record:\r\n\r\n    {\r\n      &quot;KeyID&quot;: &quot;0&quot;,\r\n      &quot;NullableList&quot;: [\r\n        &quot;foo&quot;,\r\n        null,\r\n        &quot;baz&quot;\r\n      ]\r\n    }\r\n\r\nI thought I could use the 3-level list writer to support this, however, it results in the\r\nfollowing exception:\r\n\r\n    Caused by: java.lang.ClassCastException: repeated binary array (STRING) is not a group\r\n            at org.apache.parquet.schema.Type.asGroupType(Type.java:250)\r\n            at org.apache.parquet.avro.AvroWriteSupport$ThreeLevelListWriter.writeCollection(AvroWriteSupport.java:612)\r\n            at org.apache.parquet.avro.AvroWriteSupport$ListWriter.writeList(AvroWriteSupport.java:397)\r\n            at org.apache.parquet.avro.AvroWriteSupport.writeValueWithoutConversion(AvroWriteSupport.java:355)\r\n            at org.apache.parquet.avro.AvroWriteSupport.writeValue(AvroWriteSupport.java:278)\r\n            at org.apache.parquet.avro.AvroWriteSupport.writeRecordFields(AvroWriteSupport.java:191)\r\n            at org.apache.parquet.avro.AvroWriteSupport.write(AvroWriteSupport.java:165)\r\n            at org.apache.parquet.hadoop.InternalParquetRecordWriter.write(InternalParquetRecordWriter.java:128)\r\n\r\nIs this kind of record supported? I have also tried the `parquet.avro.add-list-element-records`\r\noption set to false as well, with no luck.\r\n\r\nEDIT: I have created a [Parquet JIRA][1] for tracking this issue.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/PARQUET-2051","title":"AvroParquetOutputFormat - Unable to Write Arrays with Null Elements","body":"<p>I'm using v1.11.1 of the parquet-mr library as part of a Java application that takes\nAvro records and writes them into Parquet files using the AvroParquetOutputFormat. There are\nAvro records with array type fields that will have null elements, e.g.</p>\n<pre><code>[ &quot;Foo&quot;, &quot;Bar&quot;, null, &quot;Baz&quot;].\n</code></pre>\n<p>Here's an example Avro schema:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;NullLists&quot;,\n  &quot;namespace&quot;: &quot;com.test&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;KeyID&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    },\n    {\n      &quot;name&quot;: &quot;NullableList&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        {\n            &quot;type&quot;: &quot;array&quot;,\n            &quot;items&quot;: [\n                &quot;null&quot;,\n                &quot;string&quot;\n            ]\n        }\n      ],\n      &quot;default&quot;: null\n    }\n  ]\n}\n</code></pre>\n<p>I'm trying to write the following record:</p>\n<pre><code>{\n  &quot;KeyID&quot;: &quot;0&quot;,\n  &quot;NullableList&quot;: [\n    &quot;foo&quot;,\n    null,\n    &quot;baz&quot;\n  ]\n}\n</code></pre>\n<p>I thought I could use the 3-level list writer to support this, however, it results in the\nfollowing exception:</p>\n<pre><code>Caused by: java.lang.ClassCastException: repeated binary array (STRING) is not a group\n        at org.apache.parquet.schema.Type.asGroupType(Type.java:250)\n        at org.apache.parquet.avro.AvroWriteSupport$ThreeLevelListWriter.writeCollection(AvroWriteSupport.java:612)\n        at org.apache.parquet.avro.AvroWriteSupport$ListWriter.writeList(AvroWriteSupport.java:397)\n        at org.apache.parquet.avro.AvroWriteSupport.writeValueWithoutConversion(AvroWriteSupport.java:355)\n        at org.apache.parquet.avro.AvroWriteSupport.writeValue(AvroWriteSupport.java:278)\n        at org.apache.parquet.avro.AvroWriteSupport.writeRecordFields(AvroWriteSupport.java:191)\n        at org.apache.parquet.avro.AvroWriteSupport.write(AvroWriteSupport.java:165)\n        at org.apache.parquet.hadoop.InternalParquetRecordWriter.write(InternalParquetRecordWriter.java:128)\n</code></pre>\n<p>Is this kind of record supported? I have also tried the <code>parquet.avro.add-list-element-records</code>\noption set to false as well, with no luck.</p>\n<p>EDIT: I have created a <a href=\"https://issues.apache.org/jira/browse/PARQUET-2051\" rel=\"nofollow noreferrer\">Parquet JIRA</a> for tracking this issue.</p>\n"},{"tags":["java","image-processing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1647467465,"post_id":71504634,"comment_id":126382187,"body_markdown":"The simplest solution I can think of is use a `BufferedImage` and simply paint the other elements directly onto it - see the [2D Graphics Trail](https://docs.oracle.com/javase/tutorial/2d/index.html) for more details","body":"The simplest solution I can think of is use a <code>BufferedImage</code> and simply paint the other elements directly onto it - see the <a href=\"https://docs.oracle.com/javase/tutorial/2d/index.html\" rel=\"nofollow noreferrer\">2D Graphics Trail</a> for more details"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1647469375,"post_id":71504634,"comment_id":126382581,"body_markdown":"You might consider having a look at [Generating Barcodes and QR Codes in Java](https://www.baeldung.com/java-generating-barcodes-qr-codes); [QRGen](https://github.com/kenglxn/QRGen); [Barcode4J](http://barcode4j.sourceforge.net/) for the barcodes","body":"You might consider having a look at <a href=\"https://www.baeldung.com/java-generating-barcodes-qr-codes\" rel=\"nofollow noreferrer\">Generating Barcodes and QR Codes in Java</a>; <a href=\"https://github.com/kenglxn/QRGen\" rel=\"nofollow noreferrer\">QRGen</a>; <a href=\"http://barcode4j.sourceforge.net/\" rel=\"nofollow noreferrer\">Barcode4J</a> for the barcodes"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1647469642,"post_id":71504634,"comment_id":126382634,"body_markdown":"You can look at [iText](https://itextpdf.com/en) for PDF generation, but I&#39;d encourage you to look at [JasperReports](https://community.jaspersoft.com/project/jasperreports-library) instead (which uses iText), while it has a step learning curve, it&#39;s ability to export to a number of different formats makes it worth the time to learn","body":"You can look at <a href=\"https://itextpdf.com/en\" rel=\"nofollow noreferrer\">iText</a> for PDF generation, but I&#39;d encourage you to look at <a href=\"https://community.jaspersoft.com/project/jasperreports-library\" rel=\"nofollow noreferrer\">JasperReports</a> instead (which uses iText), while it has a step learning curve, it&#39;s ability to export to a number of different formats makes it worth the time to learn"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647477442,"creation_date":1647477442,"answer_id":71505779,"question_id":71504634,"body_markdown":"This kind of thing requires a lot of time and effort.\r\n\r\nYou could go the &quot;manual&quot; approach and do all the work yourself, while achievable and generally quick, it can become complicated very quickly and difficult to maintain.\r\n\r\nThe following makes use of both [QRGen](https://github.com/kenglxn/QRGen) and ZXing, for comparisions.  I used Maven to manage the dependencies and you&#39;ll need to add...\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jitpack.io&lt;/id&gt;\r\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.kenglxn.qrgen&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javase&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javase&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;    \r\n    &lt;/dependencies&gt;\r\n\r\nto your `pom.xml` file.\r\n\r\nI just went online and &quot;stole&quot; a basic layout to replicate...\r\n\r\n[![Example][1]][1]\r\n\r\n    import com.google.zxing.BarcodeFormat;\r\n    import com.google.zxing.client.j2se.MatrixToImageWriter;\r\n    import com.google.zxing.common.BitMatrix;\r\n    import com.google.zxing.qrcode.QRCodeWriter;\r\n    import java.awt.BasicStroke;\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GraphicsConfiguration;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.Transparency;\r\n    import java.awt.geom.Line2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import net.glxn.qrgen.javase.QRCode;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        private double fullWidth = PrintSupport.cmsToPixel(16.75, 300);\r\n        private double fullHeight = PrintSupport.cmsToPixel(6.75, 300);\r\n\r\n        private int intFullWidth = (int) Math.ceil(fullWidth);\r\n        private int intFullHeight = (int) Math.ceil(fullHeight);\r\n\r\n        private double mainSectionWidth = PrintSupport.cmsToPixel(13.5, 300);\r\n        private double stubSectionWidth = fullWidth - mainSectionWidth;\r\n\r\n        private double zipperWidth = PrintSupport.cmsToPixel(0.1, 300.0);\r\n\r\n        private double qrCodeSize = PrintSupport.cmsToPixel(2.0, 300.0);\r\n\r\n        private double borderSize = PrintSupport.cmsToPixel(0.45, 300);\r\n\r\n        private Font mainFont = new Font(&quot;Calibri&quot;, Font.PLAIN, 12);\r\n        private float artistFontSize = 128;\r\n        private float venuFontSize = 82;\r\n        private float messageFontSize = 48;\r\n\r\n        private String artistName = &quot;Super Star&quot;;\r\n        private String venuName = &quot;Some place&quot;;\r\n        private String message = &quot;You owe me money&quot;;\r\n\r\n        private DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd MMMM yyyy&quot;);\r\n        private DateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\r\n\r\n        private LocalDateTime dateTime = LocalDateTime.now();\r\n\r\n        private BufferedImage qrCode;\r\n\r\n        private String section = &quot;C&quot;;\r\n        private String row = &quot;24&quot;;\r\n        private String seat = &quot;16&quot;;\r\n\r\n        public Main() {\r\n            String text = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit,\\n&quot;\r\n                    + &quot; sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\\n&quot;\r\n                    + &quot; quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&quot;;\r\n\r\n            try {\r\n                qrCode = generateZXingQRCodeImage(text, qrCodeSize);\r\n    //            qrCode = generateQRGenCodeImage(text, qrCodeSize);\r\n\r\n                BufferedImage baseImage = ImageSupport.createCompatibleImage(intFullWidth, intFullHeight, ImageSupport.Transparancy.OPAQUE);\r\n                Graphics2D g2d = baseImage.createGraphics();\r\n                applyQualitySettings(g2d);\r\n                g2d.setColor(Color.WHITE);\r\n                g2d.fillRect(0, 0, intFullWidth, intFullHeight);\r\n                paintMainSection(g2d);\r\n                paintStubSection(g2d);\r\n                paintZipper(g2d);\r\n                g2d.dispose();\r\n\r\n                ImageIO.write(baseImage, &quot;png&quot;, new File(&quot;Ticket.png&quot;));\r\n\r\n                JOptionPane.showMessageDialog(null, new JLabel(new ImageIcon(baseImage)));\r\n\r\n            } catch (Exception exp) {\r\n                exp.printStackTrace();\r\n            }\r\n        }\r\n\r\n        protected int ceil(double value) {\r\n            return (int) Math.ceil(value);\r\n        }\r\n\r\n        protected void applyQualitySettings(Graphics2D g2d) {\r\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\r\n            g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n            g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n            g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\r\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\r\n        }\r\n\r\n        protected void paintMainSection(Graphics2D g2d) {\r\n            g2d = (Graphics2D) g2d.create();\r\n            g2d.setColor(Color.BLACK);\r\n            int width = ceil(mainSectionWidth);\r\n            g2d.fillRect(0, 0, width, intFullHeight);\r\n\r\n            int x = ceil(borderSize);\r\n            int y = ceil(borderSize);\r\n            width = width - (x * 2);\r\n            int height = intFullHeight - (y * 2);\r\n\r\n            g2d.setColor(Color.WHITE);\r\n            g2d.fillRect(x, y, width, height);\r\n\r\n            g2d.translate(x, y);\r\n            g2d.setColor(Color.BLACK);\r\n\r\n            // &gt;&gt; Ariest name\r\n            int avaliableHeight = (int) (height * 0.5);\r\n            Font artiestFont = mainFont.deriveFont(Font.BOLD, artistFontSize);\r\n            g2d.setFont(artiestFont);\r\n            FontMetrics fm = g2d.getFontMetrics();\r\n            x = (width - fm.stringWidth(artistName)) / 2;\r\n            y = (avaliableHeight - fm.getHeight()) / 2;\r\n            g2d.drawString(artistName, x, y + fm.getAscent());\r\n            // &lt;&lt; Ariest name\r\n\r\n            // &gt;&gt; Venu details\r\n            g2d.translate(0, avaliableHeight);\r\n            avaliableHeight = height - avaliableHeight;\r\n\r\n            g2d.setColor(Color.BLACK);\r\n            Font venuFont = mainFont.deriveFont(Font.PLAIN, venuFontSize);\r\n            g2d.setFont(venuFont);\r\n            fm = g2d.getFontMetrics();\r\n\r\n            y = 0;\r\n            g2d.drawString(dateFormatter.format(dateTime), ceil(borderSize), y + fm.getAscent());\r\n\r\n            x = width / 2;\r\n            g2d.drawString(timeFormatter.format(dateTime), x, y + fm.getAscent());\r\n\r\n            y += fm.getHeight();\r\n            g2d.drawString(venuName, ceil(borderSize), y + fm.getAscent());\r\n\r\n            y += fm.getHeight();\r\n            int remainingHeight = avaliableHeight - y;\r\n\r\n            Font messageFont = mainFont.deriveFont(Font.PLAIN, messageFontSize);\r\n            g2d.setFont(messageFont);\r\n            fm = g2d.getFontMetrics();\r\n\r\n            x = (width - fm.stringWidth(message)) / 2;\r\n            y = y + ((remainingHeight - fm.getHeight())) / 2;\r\n            g2d.drawString(message, x, y + fm.getAscent());\r\n\r\n            g2d.dispose();\r\n        }\r\n\r\n        protected void paintStubSection(Graphics2D g2d) {\r\n            g2d = (Graphics2D) g2d.create();\r\n\r\n            g2d.setColor(Color.BLACK);\r\n            int width = ceil(stubSectionWidth);\r\n            g2d.translate(intFullWidth - width, 0);\r\n            g2d.fillRect(0, 0, width, intFullHeight);\r\n\r\n            int x = ceil(borderSize);\r\n            int y = ceil(borderSize);\r\n            width = width - (x * 2);\r\n            int height = intFullHeight - (y * 2);\r\n\r\n            g2d.setColor(Color.WHITE);\r\n            g2d.fillRect(x, y, width, height);\r\n\r\n            g2d.translate(x, y);\r\n            g2d.setColor(Color.BLACK);\r\n\r\n            x = (width - qrCode.getWidth()) / 2;\r\n            y = height - qrCode.getHeight() - ceil(borderSize);\r\n\r\n            g2d.drawImage(qrCode, x, y, null);\r\n\r\n            //int remainingHeight = height - y - ceil(borderSize) * 2;\r\n            g2d.translate(0, ceil(borderSize));\r\n\r\n            Font plainFont = mainFont.deriveFont(Font.PLAIN, messageFontSize);\r\n            Font boldFont = mainFont.deriveFont(Font.BOLD, messageFontSize);\r\n\r\n            FontMetrics plainFM = g2d.getFontMetrics(plainFont);\r\n            FontMetrics boldFM = g2d.getFontMetrics(boldFont);\r\n\r\n            g2d.setFont(plainFont);\r\n            String text = &quot;Section&quot;;\r\n            x = (width - plainFM.stringWidth(text)) / 2;\r\n            y = 0;\r\n            g2d.drawString(text, x, y);\r\n\r\n            y += plainFM.getHeight();\r\n\r\n            g2d.setFont(boldFont);\r\n            x = (width - boldFM.stringWidth(section)) / 2;\r\n            g2d.drawString(section, x, y);\r\n\r\n            y += boldFM.getHeight();\r\n            int avaliableWidth = width / 2;\r\n\r\n            g2d.setFont(plainFont);\r\n            text = &quot;Row&quot;;\r\n            x = (avaliableWidth - plainFM.stringWidth(text)) / 2;\r\n            g2d.drawString(text, x, y);\r\n\r\n            text = &quot;SEAT&quot;;\r\n            x = avaliableWidth + (avaliableWidth - plainFM.stringWidth(text)) / 2;\r\n            g2d.drawString(text, x, y);\r\n\r\n            y += plainFM.getHeight();\r\n\r\n            g2d.setFont(boldFont);\r\n            text = row;\r\n            x = (avaliableWidth - boldFM.stringWidth(text)) / 2;\r\n            g2d.drawString(text, x, y);\r\n\r\n            text = seat;\r\n            x = avaliableWidth + (avaliableWidth - boldFM.stringWidth(text)) / 2;\r\n            g2d.drawString(text, x, y);\r\n\r\n            g2d.dispose();\r\n        }\r\n\r\n        protected void paintZipper(Graphics2D g2d) {\r\n            g2d = (Graphics2D) g2d.create();\r\n\r\n            float dash[] = {(float) PrintSupport.cmsToPixel(0.15, 300)};\r\n            BasicStroke dashedStroke = new BasicStroke((float) zipperWidth, BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND, 10f, dash, 0.0f);\r\n            g2d.setStroke(dashedStroke);\r\n\r\n            g2d.translate(mainSectionWidth, 0);\r\n\r\n            g2d.setColor(Color.WHITE);\r\n            g2d.draw(new Line2D.Double(0, 0, 0, intFullHeight));\r\n\r\n            g2d.dispose();\r\n        }\r\n\r\n        public static BufferedImage generateZXingQRCodeImage(String barcodeText, double size) throws Exception {\r\n            QRCodeWriter barcodeWriter = new QRCodeWriter();\r\n            BitMatrix bitMatrix\r\n                    = barcodeWriter.encode(barcodeText, BarcodeFormat.QR_CODE, (int) Math.ceil(size), (int) Math.ceil(size));\r\n\r\n            return MatrixToImageWriter.toBufferedImage(bitMatrix);\r\n        }\r\n\r\n        public static BufferedImage generateQRGenCodeImage(String barcodeText, double size) throws Exception {\r\n            ByteArrayOutputStream stream = QRCode\r\n                    .from(barcodeText)\r\n                    .withSize((int) Math.ceil(size), (int) Math.ceil(size))\r\n                    .stream();\r\n            ByteArrayInputStream bis = new ByteArrayInputStream(stream.toByteArray());\r\n\r\n            return ImageIO.read(bis);\r\n        }\r\n\r\n        public class ImageSupport {\r\n\r\n            public static enum Transparancy {\r\n                OPAQUE(Transparency.OPAQUE), BITMASK(Transparency.OPAQUE), TRANSLUCENT(Transparency.TRANSLUCENT);\r\n\r\n                private int value;\r\n\r\n                private Transparancy(int value) {\r\n                    this.value = value;\r\n                }\r\n\r\n                public int getValue() {\r\n                    return value;\r\n                }\r\n            }\r\n\r\n            public static BufferedImage createCompatibleImage(BufferedImage image) {\r\n                BufferedImage target = createCompatibleImage(image.getWidth(), image.getHeight(), image.getTransparency());\r\n                Graphics2D g2d = target.createGraphics();\r\n                g2d.drawImage(image, 0, 0, null);\r\n                g2d.dispose();\r\n                return target;\r\n            }\r\n\r\n            public static BufferedImage createCompatibleImage(int width, int height, Transparancy transparancy) {\r\n                return getGraphicsConfiguration().createCompatibleImage(width, height, transparancy.getValue());\r\n            }\r\n\r\n            protected static BufferedImage createCompatibleImage(int width, int height, int transparency) {\r\n                return getGraphicsConfiguration().createCompatibleImage(width, height, transparency);\r\n            }\r\n\r\n            public static GraphicsConfiguration getGraphicsConfiguration() {\r\n                return GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDefaultConfiguration();\r\n            }\r\n        }\r\n\r\n        public class PrintSupport {\r\n            // The number of CMs per Inch\r\n            public static final double CM_PER_INCH = 0.393700787d;\r\n            // The number of Inches per CMs\r\n            public static final double INCH_PER_CM = 2.545d;\r\n            // The number of Inches per mm&#39;s\r\n            public static final double INCH_PER_MM = 25.45d;\r\n\r\n            /**\r\n             * Converts the given pixels to cm&#39;s based on the supplied DPI\r\n             *\r\n             * @param pixels\r\n             * @param dpi\r\n             * @return\r\n             */\r\n            public static double pixelsToCms(double pixels, double dpi) {\r\n                return inchesToCms(pixels / dpi);\r\n            }\r\n\r\n            /**\r\n             * Converts the given cm&#39;s to pixels based on the supplied DPI\r\n             *\r\n             * @param cms\r\n             * @param dpi\r\n             * @return\r\n             */\r\n            public static double cmsToPixel(double cms, double dpi) {\r\n                return cmToInches(cms) * dpi;\r\n            }\r\n\r\n            /**\r\n             * Converts the given cm&#39;s to inches\r\n             *\r\n             * @param cms\r\n             * @return\r\n             */\r\n            public static double cmToInches(double cms) {\r\n                return cms * CM_PER_INCH;\r\n            }\r\n\r\n            /**\r\n             * Converts the given inches to cm&#39;s\r\n             *\r\n             * @param inch\r\n             * @return\r\n             */\r\n            public static double inchesToCms(double inch) {\r\n                return inch * INCH_PER_CM;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rFIef.png\r\n\r\nNow, imagine your &quot;awesome&quot; graphical design comes back to you and wants to start moving some of the text around, change the font and sizes, probably wants some super awesome back ground effects.\r\n\r\nAfter you finish burying their body, understand how hard it would to be modify the above example.  Now you could spend a lot of time generating dynamic code paths, maybe rendering sections of the layout to images to make it easier to handle and tearing your hair out over supporting multiple line text and/or dynamic font re-sizing, or, you could spend your time learning something like [JasperReports](https://community.jaspersoft.com/project/jasperreports-library) which do most of the heavy lifting for you and also supports exporting the result to the printer, PDF, Word, Excel, HTML ... what ever!\r\n\r\n&gt; What&#39;s with `PrinterSupport`\r\n\r\nOkay, this is one of those &quot;wonderful&quot; side effects.  Java&#39;s print APIs generally working at 72dpi as there input, so you need to do a lot of conversions to make it support things like high resolution printers (300dpi for example).  These APIs basically does the work automatically, so, hopefully &#129310;, this will look nice when it&#39;s printed.\r\n\r\n&gt; But what about PDF?\r\n\r\nAgain, see JasperReports, if you &quot;must&quot; do it by hand, [iText](https://itextpdf.com/en) is pretty much the only solution you have\r\n","title":"How to stich images together in java","body":"<p>This kind of thing requires a lot of time and effort.</p>\n<p>You could go the &quot;manual&quot; approach and do all the work yourself, while achievable and generally quick, it can become complicated very quickly and difficult to maintain.</p>\n<p>The following makes use of both <a href=\"https://github.com/kenglxn/QRGen\" rel=\"nofollow noreferrer\">QRGen</a> and ZXing, for comparisions.  I used Maven to manage the dependencies and you'll need to add...</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jitpack.io&lt;/id&gt;\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.kenglxn.qrgen&lt;/groupId&gt;\n        &lt;artifactId&gt;javase&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n        &lt;artifactId&gt;javase&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;    \n&lt;/dependencies&gt;\n</code></pre>\n<p>to your <code>pom.xml</code> file.</p>\n<p>I just went online and &quot;stole&quot; a basic layout to replicate...</p>\n<p><a href=\"https://i.stack.imgur.com/rFIef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rFIef.png\" alt=\"Example\" /></a></p>\n<pre><code>import com.google.zxing.BarcodeFormat;\nimport com.google.zxing.client.j2se.MatrixToImageWriter;\nimport com.google.zxing.common.BitMatrix;\nimport com.google.zxing.qrcode.QRCodeWriter;\nimport java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics2D;\nimport java.awt.GraphicsConfiguration;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.RenderingHints;\nimport java.awt.Transparency;\nimport java.awt.geom.Line2D;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport net.glxn.qrgen.javase.QRCode;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    private double fullWidth = PrintSupport.cmsToPixel(16.75, 300);\n    private double fullHeight = PrintSupport.cmsToPixel(6.75, 300);\n\n    private int intFullWidth = (int) Math.ceil(fullWidth);\n    private int intFullHeight = (int) Math.ceil(fullHeight);\n\n    private double mainSectionWidth = PrintSupport.cmsToPixel(13.5, 300);\n    private double stubSectionWidth = fullWidth - mainSectionWidth;\n\n    private double zipperWidth = PrintSupport.cmsToPixel(0.1, 300.0);\n\n    private double qrCodeSize = PrintSupport.cmsToPixel(2.0, 300.0);\n\n    private double borderSize = PrintSupport.cmsToPixel(0.45, 300);\n\n    private Font mainFont = new Font(&quot;Calibri&quot;, Font.PLAIN, 12);\n    private float artistFontSize = 128;\n    private float venuFontSize = 82;\n    private float messageFontSize = 48;\n\n    private String artistName = &quot;Super Star&quot;;\n    private String venuName = &quot;Some place&quot;;\n    private String message = &quot;You owe me money&quot;;\n\n    private DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd MMMM yyyy&quot;);\n    private DateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\n\n    private LocalDateTime dateTime = LocalDateTime.now();\n\n    private BufferedImage qrCode;\n\n    private String section = &quot;C&quot;;\n    private String row = &quot;24&quot;;\n    private String seat = &quot;16&quot;;\n\n    public Main() {\n        String text = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit,\\n&quot;\n                + &quot; sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,\\n&quot;\n                + &quot; quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&quot;;\n\n        try {\n            qrCode = generateZXingQRCodeImage(text, qrCodeSize);\n//            qrCode = generateQRGenCodeImage(text, qrCodeSize);\n\n            BufferedImage baseImage = ImageSupport.createCompatibleImage(intFullWidth, intFullHeight, ImageSupport.Transparancy.OPAQUE);\n            Graphics2D g2d = baseImage.createGraphics();\n            applyQualitySettings(g2d);\n            g2d.setColor(Color.WHITE);\n            g2d.fillRect(0, 0, intFullWidth, intFullHeight);\n            paintMainSection(g2d);\n            paintStubSection(g2d);\n            paintZipper(g2d);\n            g2d.dispose();\n\n            ImageIO.write(baseImage, &quot;png&quot;, new File(&quot;Ticket.png&quot;));\n\n            JOptionPane.showMessageDialog(null, new JLabel(new ImageIcon(baseImage)));\n\n        } catch (Exception exp) {\n            exp.printStackTrace();\n        }\n    }\n\n    protected int ceil(double value) {\n        return (int) Math.ceil(value);\n    }\n\n    protected void applyQualitySettings(Graphics2D g2d) {\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\n        g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n        g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n        g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\n        g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n        g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\n    }\n\n    protected void paintMainSection(Graphics2D g2d) {\n        g2d = (Graphics2D) g2d.create();\n        g2d.setColor(Color.BLACK);\n        int width = ceil(mainSectionWidth);\n        g2d.fillRect(0, 0, width, intFullHeight);\n\n        int x = ceil(borderSize);\n        int y = ceil(borderSize);\n        width = width - (x * 2);\n        int height = intFullHeight - (y * 2);\n\n        g2d.setColor(Color.WHITE);\n        g2d.fillRect(x, y, width, height);\n\n        g2d.translate(x, y);\n        g2d.setColor(Color.BLACK);\n\n        // &gt;&gt; Ariest name\n        int avaliableHeight = (int) (height * 0.5);\n        Font artiestFont = mainFont.deriveFont(Font.BOLD, artistFontSize);\n        g2d.setFont(artiestFont);\n        FontMetrics fm = g2d.getFontMetrics();\n        x = (width - fm.stringWidth(artistName)) / 2;\n        y = (avaliableHeight - fm.getHeight()) / 2;\n        g2d.drawString(artistName, x, y + fm.getAscent());\n        // &lt;&lt; Ariest name\n\n        // &gt;&gt; Venu details\n        g2d.translate(0, avaliableHeight);\n        avaliableHeight = height - avaliableHeight;\n\n        g2d.setColor(Color.BLACK);\n        Font venuFont = mainFont.deriveFont(Font.PLAIN, venuFontSize);\n        g2d.setFont(venuFont);\n        fm = g2d.getFontMetrics();\n\n        y = 0;\n        g2d.drawString(dateFormatter.format(dateTime), ceil(borderSize), y + fm.getAscent());\n\n        x = width / 2;\n        g2d.drawString(timeFormatter.format(dateTime), x, y + fm.getAscent());\n\n        y += fm.getHeight();\n        g2d.drawString(venuName, ceil(borderSize), y + fm.getAscent());\n\n        y += fm.getHeight();\n        int remainingHeight = avaliableHeight - y;\n\n        Font messageFont = mainFont.deriveFont(Font.PLAIN, messageFontSize);\n        g2d.setFont(messageFont);\n        fm = g2d.getFontMetrics();\n\n        x = (width - fm.stringWidth(message)) / 2;\n        y = y + ((remainingHeight - fm.getHeight())) / 2;\n        g2d.drawString(message, x, y + fm.getAscent());\n\n        g2d.dispose();\n    }\n\n    protected void paintStubSection(Graphics2D g2d) {\n        g2d = (Graphics2D) g2d.create();\n\n        g2d.setColor(Color.BLACK);\n        int width = ceil(stubSectionWidth);\n        g2d.translate(intFullWidth - width, 0);\n        g2d.fillRect(0, 0, width, intFullHeight);\n\n        int x = ceil(borderSize);\n        int y = ceil(borderSize);\n        width = width - (x * 2);\n        int height = intFullHeight - (y * 2);\n\n        g2d.setColor(Color.WHITE);\n        g2d.fillRect(x, y, width, height);\n\n        g2d.translate(x, y);\n        g2d.setColor(Color.BLACK);\n\n        x = (width - qrCode.getWidth()) / 2;\n        y = height - qrCode.getHeight() - ceil(borderSize);\n\n        g2d.drawImage(qrCode, x, y, null);\n\n        //int remainingHeight = height - y - ceil(borderSize) * 2;\n        g2d.translate(0, ceil(borderSize));\n\n        Font plainFont = mainFont.deriveFont(Font.PLAIN, messageFontSize);\n        Font boldFont = mainFont.deriveFont(Font.BOLD, messageFontSize);\n\n        FontMetrics plainFM = g2d.getFontMetrics(plainFont);\n        FontMetrics boldFM = g2d.getFontMetrics(boldFont);\n\n        g2d.setFont(plainFont);\n        String text = &quot;Section&quot;;\n        x = (width - plainFM.stringWidth(text)) / 2;\n        y = 0;\n        g2d.drawString(text, x, y);\n\n        y += plainFM.getHeight();\n\n        g2d.setFont(boldFont);\n        x = (width - boldFM.stringWidth(section)) / 2;\n        g2d.drawString(section, x, y);\n\n        y += boldFM.getHeight();\n        int avaliableWidth = width / 2;\n\n        g2d.setFont(plainFont);\n        text = &quot;Row&quot;;\n        x = (avaliableWidth - plainFM.stringWidth(text)) / 2;\n        g2d.drawString(text, x, y);\n\n        text = &quot;SEAT&quot;;\n        x = avaliableWidth + (avaliableWidth - plainFM.stringWidth(text)) / 2;\n        g2d.drawString(text, x, y);\n\n        y += plainFM.getHeight();\n\n        g2d.setFont(boldFont);\n        text = row;\n        x = (avaliableWidth - boldFM.stringWidth(text)) / 2;\n        g2d.drawString(text, x, y);\n\n        text = seat;\n        x = avaliableWidth + (avaliableWidth - boldFM.stringWidth(text)) / 2;\n        g2d.drawString(text, x, y);\n\n        g2d.dispose();\n    }\n\n    protected void paintZipper(Graphics2D g2d) {\n        g2d = (Graphics2D) g2d.create();\n\n        float dash[] = {(float) PrintSupport.cmsToPixel(0.15, 300)};\n        BasicStroke dashedStroke = new BasicStroke((float) zipperWidth, BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND, 10f, dash, 0.0f);\n        g2d.setStroke(dashedStroke);\n\n        g2d.translate(mainSectionWidth, 0);\n\n        g2d.setColor(Color.WHITE);\n        g2d.draw(new Line2D.Double(0, 0, 0, intFullHeight));\n\n        g2d.dispose();\n    }\n\n    public static BufferedImage generateZXingQRCodeImage(String barcodeText, double size) throws Exception {\n        QRCodeWriter barcodeWriter = new QRCodeWriter();\n        BitMatrix bitMatrix\n                = barcodeWriter.encode(barcodeText, BarcodeFormat.QR_CODE, (int) Math.ceil(size), (int) Math.ceil(size));\n\n        return MatrixToImageWriter.toBufferedImage(bitMatrix);\n    }\n\n    public static BufferedImage generateQRGenCodeImage(String barcodeText, double size) throws Exception {\n        ByteArrayOutputStream stream = QRCode\n                .from(barcodeText)\n                .withSize((int) Math.ceil(size), (int) Math.ceil(size))\n                .stream();\n        ByteArrayInputStream bis = new ByteArrayInputStream(stream.toByteArray());\n\n        return ImageIO.read(bis);\n    }\n\n    public class ImageSupport {\n\n        public static enum Transparancy {\n            OPAQUE(Transparency.OPAQUE), BITMASK(Transparency.OPAQUE), TRANSLUCENT(Transparency.TRANSLUCENT);\n\n            private int value;\n\n            private Transparancy(int value) {\n                this.value = value;\n            }\n\n            public int getValue() {\n                return value;\n            }\n        }\n\n        public static BufferedImage createCompatibleImage(BufferedImage image) {\n            BufferedImage target = createCompatibleImage(image.getWidth(), image.getHeight(), image.getTransparency());\n            Graphics2D g2d = target.createGraphics();\n            g2d.drawImage(image, 0, 0, null);\n            g2d.dispose();\n            return target;\n        }\n\n        public static BufferedImage createCompatibleImage(int width, int height, Transparancy transparancy) {\n            return getGraphicsConfiguration().createCompatibleImage(width, height, transparancy.getValue());\n        }\n\n        protected static BufferedImage createCompatibleImage(int width, int height, int transparency) {\n            return getGraphicsConfiguration().createCompatibleImage(width, height, transparency);\n        }\n\n        public static GraphicsConfiguration getGraphicsConfiguration() {\n            return GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice().getDefaultConfiguration();\n        }\n    }\n\n    public class PrintSupport {\n        // The number of CMs per Inch\n        public static final double CM_PER_INCH = 0.393700787d;\n        // The number of Inches per CMs\n        public static final double INCH_PER_CM = 2.545d;\n        // The number of Inches per mm's\n        public static final double INCH_PER_MM = 25.45d;\n\n        /**\n         * Converts the given pixels to cm's based on the supplied DPI\n         *\n         * @param pixels\n         * @param dpi\n         * @return\n         */\n        public static double pixelsToCms(double pixels, double dpi) {\n            return inchesToCms(pixels / dpi);\n        }\n\n        /**\n         * Converts the given cm's to pixels based on the supplied DPI\n         *\n         * @param cms\n         * @param dpi\n         * @return\n         */\n        public static double cmsToPixel(double cms, double dpi) {\n            return cmToInches(cms) * dpi;\n        }\n\n        /**\n         * Converts the given cm's to inches\n         *\n         * @param cms\n         * @return\n         */\n        public static double cmToInches(double cms) {\n            return cms * CM_PER_INCH;\n        }\n\n        /**\n         * Converts the given inches to cm's\n         *\n         * @param inch\n         * @return\n         */\n        public static double inchesToCms(double inch) {\n            return inch * INCH_PER_CM;\n        }\n    }\n}\n</code></pre>\n<p>Now, imagine your &quot;awesome&quot; graphical design comes back to you and wants to start moving some of the text around, change the font and sizes, probably wants some super awesome back ground effects.</p>\n<p>After you finish burying their body, understand how hard it would to be modify the above example.  Now you could spend a lot of time generating dynamic code paths, maybe rendering sections of the layout to images to make it easier to handle and tearing your hair out over supporting multiple line text and/or dynamic font re-sizing, or, you could spend your time learning something like <a href=\"https://community.jaspersoft.com/project/jasperreports-library\" rel=\"nofollow noreferrer\">JasperReports</a> which do most of the heavy lifting for you and also supports exporting the result to the printer, PDF, Word, Excel, HTML ... what ever!</p>\n<blockquote>\n<p>What's with <code>PrinterSupport</code></p>\n</blockquote>\n<p>Okay, this is one of those &quot;wonderful&quot; side effects.  Java's print APIs generally working at 72dpi as there input, so you need to do a lot of conversions to make it support things like high resolution printers (300dpi for example).  These APIs basically does the work automatically, so, hopefully 🤞, this will look nice when it's printed.</p>\n<blockquote>\n<p>But what about PDF?</p>\n</blockquote>\n<p>Again, see JasperReports, if you &quot;must&quot; do it by hand, <a href=\"https://itextpdf.com/en\" rel=\"nofollow noreferrer\">iText</a> is pretty much the only solution you have</p>\n"}],"owner":{"account_id":23826058,"reputation":13,"user_id":17833082,"display_name":"Renaldinho69"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647477442,"creation_date":1647467312,"question_id":71504634,"body_markdown":"So the problem is as follows i want to make a java application that can create tickets for events like concerts and such. I would like the tickets to be either a jpg or a pdf document and i want to have qr codes on them besides other information. I&#39;ve already figured out some libraries that can generate the codes but i have no idea how to go about adding them on the tickets.If there are existing libraries for doing tasks exactly like this i would be very happy to know them.\r\n\r\nCurrently im using the ZXing qr generator library but im also having trouble getting it to generate the codes in different file format&#39;s and the only one that seems to work currently for me is the jpg format.\r\n\r\n","title":"How to stich images together in java","body":"<p>So the problem is as follows i want to make a java application that can create tickets for events like concerts and such. I would like the tickets to be either a jpg or a pdf document and i want to have qr codes on them besides other information. I've already figured out some libraries that can generate the codes but i have no idea how to go about adding them on the tickets.If there are existing libraries for doing tasks exactly like this i would be very happy to know them.</p>\n<p>Currently im using the ZXing qr generator library but im also having trouble getting it to generate the codes in different file format's and the only one that seems to work currently for me is the jpg format.</p>\n"},{"tags":["java","string","java.util.scanner"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1511273596,"post_id":47415101,"comment_id":81783886,"body_markdown":"If you read the documentation of the String class one of the first things you will read is [&quot;Strings are constant; their values cannot be changed after they are created.&quot;](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html) - So nothing can edit a String. You can always just assign the variable to a new String.","body":"If you read the documentation of the String class one of the first things you will read is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">&quot;Strings are constant; their values cannot be changed after they are created.&quot;</a> - So nothing can edit a String. You can always just assign the variable to a new String."},{"owner":{"account_id":6367122,"reputation":1369,"user_id":4940780,"accept_rate":86,"display_name":"Antho Christen"},"score":0,"creation_date":1511273794,"post_id":47415101,"comment_id":81784023,"body_markdown":"Strings in java are immutable, And the line read from Scanner is also a String and therefore immutable. So you can only replace one string with another in Java. \nAnd to the User, in your case, the strings printed in the console are in  no way editable in the first place!","body":"Strings in java are immutable, And the line read from Scanner is also a String and therefore immutable. So you can only replace one string with another in Java.  And to the User, in your case, the strings printed in the console are in  no way editable in the first place!"},{"owner":{"account_id":11247423,"reputation":609,"user_id":8249665,"display_name":"was_777"},"score":0,"creation_date":1511273843,"post_id":47415101,"comment_id":81784068,"body_markdown":"Thats fine if I cannot edit the String I can use either StringBuffer or StringBuilder. But thats not the point. I want to just edit this String on console.","body":"Thats fine if I cannot edit the String I can use either StringBuffer or StringBuilder. But thats not the point. I want to just edit this String on console."},{"owner":{"account_id":9053155,"reputation":625,"user_id":6742409,"display_name":"Yurii Kozachok"},"score":2,"creation_date":1511274003,"post_id":47415101,"comment_id":81784188,"body_markdown":"Simple answer - You can&#39;t  achieve it. You can&#39;t edit this String on console.","body":"Simple answer - You can&#39;t  achieve it. You can&#39;t edit this String on console."},{"owner":{"account_id":8639482,"reputation":4701,"user_id":6468580,"display_name":"Luke Garrigan"},"score":0,"creation_date":1511274137,"post_id":47415101,"comment_id":81784291,"body_markdown":"Use `StringBuffer`, which is an array of characters, essentially making it mutable","body":"Use <code>StringBuffer</code>, which is an array of characters, essentially making it mutable"}],"answers":[{"tags":[],"owner":{"account_id":3039297,"reputation":449,"user_id":2576702,"accept_rate":50,"display_name":"GetBackerZ"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1647477089,"creation_date":1511274530,"answer_id":47415548,"question_id":47415101,"body_markdown":"Well the issue is you shouldn&#39;t with just a String. Your problem is the reason **StringBuffer** was created. Ideal solution:\r\n\r\n    StringBuffer buffer = new StringBuffer(&quot;Stack&quot;);\r\n    while (scanner.hasNextLine()){\r\n        buffer.append(scanner.nextLine());\r\n        System.out.println(buffer.toString());\r\n    }\r\n\r\n    String abc = buffer.toString(); //if you really need to save it to variable &#39;abc&#39; for some reason.\r\n\r\n\r\nHere is a terrible example if you hate your computer and can only user a String.\r\n\r\n    String abc = &quot;Stack&quot;;\r\n    while (scanner.hasNextLine()){\r\n        abc += scanner.nextLine();\r\n        System.out.println(abc);\r\n    }\r\n\r\nThe above is a terrible solution for memory reason. \r\n    \r\nI hope this helps","title":"how to modify string with scanner?","body":"<p>Well the issue is you shouldn't with just a String. Your problem is the reason <strong>StringBuffer</strong> was created. Ideal solution:</p>\n<pre><code>StringBuffer buffer = new StringBuffer(&quot;Stack&quot;);\nwhile (scanner.hasNextLine()){\n    buffer.append(scanner.nextLine());\n    System.out.println(buffer.toString());\n}\n\nString abc = buffer.toString(); //if you really need to save it to variable 'abc' for some reason.\n</code></pre>\n<p>Here is a terrible example if you hate your computer and can only user a String.</p>\n<pre><code>String abc = &quot;Stack&quot;;\nwhile (scanner.hasNextLine()){\n    abc += scanner.nextLine();\n    System.out.println(abc);\n}\n</code></pre>\n<p>The above is a terrible solution for memory reason.</p>\n<p>I hope this helps</p>\n"}],"owner":{"account_id":11247423,"reputation":609,"user_id":8249665,"display_name":"was_777"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1403,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1511973849,"answer_count":1,"score":-3,"last_activity_date":1647477089,"creation_date":1511273308,"question_id":47415101,"body_markdown":"I already have a string let&#39;s say\r\n\r\n    String abc = &quot;Stack&quot;;\r\nNow, I want to modify this string using scanner class **only** ! So, user should to able to see existing string on console and then he can edit that string.\r\nI tried this, but then it just replaces the existing string.\r\n\r\n    System.out.println(&quot;Edit the below string&quot;);\r\n    System.out.println(abc);\r\n    abc = scanner.nextLine();\r\n\r\nHow would I achieve it ?\r\n","title":"how to modify string with scanner?","body":"<p>I already have a string let's say</p>\n\n<pre><code>String abc = \"Stack\";\n</code></pre>\n\n<p>Now, I want to modify this string using scanner class <strong>only</strong> ! So, user should to able to see existing string on console and then he can edit that string.\nI tried this, but then it just replaces the existing string.</p>\n\n<pre><code>System.out.println(\"Edit the below string\");\nSystem.out.println(abc);\nabc = scanner.nextLine();\n</code></pre>\n\n<p>How would I achieve it ?</p>\n"},{"tags":["java","gradle","javac"],"answers":[{"tags":[],"owner":{"account_id":873767,"reputation":973,"user_id":924036,"display_name":"Kaj Hejer"},"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1617020804,"creation_date":1617020804,"answer_id":66854211,"question_id":66854120,"body_markdown":"```./gradlew --version``` will tell you which jdk version you are using.\r\n","title":"determining java version used in gradle build","body":"<p><code>./gradlew --version</code> will tell you which jdk version you are using.</p>\n"},{"tags":[],"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647477051,"creation_date":1647401405,"answer_id":71491506,"question_id":66854120,"body_markdown":"If you add `--info` to the build command it will tell you what java exe it is using for the compile:\r\n\r\n`./gradlew build --info`\r\n\r\nThen look for the string `Starting process` and you will see a line like:\r\n\r\n```lang-none\r\nStarting process &#39;Gradle Worker Daemon 10&#39;. Working directory: C:\\dev\\.gradle\\workers Command: C:\\dev\\.jdks\\corretto-11.0.13\\bin\\java.exe ...&#39;\r\n```\r\n","title":"determining java version used in gradle build","body":"<p>If you add <code>--info</code> to the build command it will tell you what java exe it is using for the compile:</p>\n<p><code>./gradlew build --info</code></p>\n<p>Then look for the string <code>Starting process</code> and you will see a line like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Starting process 'Gradle Worker Daemon 10'. Working directory: C:\\dev\\.gradle\\workers Command: C:\\dev\\.jdks\\corretto-11.0.13\\bin\\java.exe ...'\n</code></pre>\n"}],"owner":{"account_id":4088741,"reputation":6300,"user_id":3357352,"accept_rate":97,"display_name":"OrenIshShalom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5275,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1647477051,"creation_date":1617020441,"question_id":66854120,"body_markdown":" - Complementary to this question: [tell-gradle-to-use-specific-java-version][1]\r\n - How can I determine (verify) the **java version actually used in gradle build**?\r\n - After a successful `./gradlew build`, I looked for `javac`, but it was just in a binary file:\r\n```\r\n$ grep -rn &quot;javac&quot;\r\nBinary file .gradle/4.6/taskHistory/taskHistory.bin matches\r\n```\r\n - I have many java versions installed, so a mixup is possible.\r\n - Is there any way to verify the java version?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version","title":"determining java version used in gradle build","body":"<ul>\n<li>Complementary to this question: <a href=\"https://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version\">tell-gradle-to-use-specific-java-version</a></li>\n<li>How can I determine (verify) the <strong>java version actually used in gradle build</strong>?</li>\n<li>After a successful <code>./gradlew build</code>, I looked for <code>javac</code>, but it was just in a binary file:</li>\n</ul>\n<pre><code>$ grep -rn &quot;javac&quot;\nBinary file .gradle/4.6/taskHistory/taskHistory.bin matches\n</code></pre>\n<ul>\n<li>I have many java versions installed, so a mixup is possible.</li>\n<li>Is there any way to verify the java version?</li>\n</ul>\n"},{"tags":["java","arrays","object"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1647011371,"post_id":71440561,"comment_id":126272595,"body_markdown":"Does your `User` class have a `getConnectionTime()` method? If not you may want to add an `interface` that declares such a method and then implement it in the classes that provide a connection time. Then you can just iterate over the array and call said method and accumulate it into a variable","body":"Does your <code>User</code> class have a <code>getConnectionTime()</code> method? If not you may want to add an <code>interface</code> that declares such a method and then implement it in the classes that provide a connection time. Then you can just iterate over the array and call said method and accumulate it into a variable"},{"owner":{"account_id":24528032,"reputation":1,"user_id":18440248,"display_name":"Eke"},"score":0,"creation_date":1647017557,"post_id":71440561,"comment_id":126275181,"body_markdown":"the getconnectionTime() is in another class in the same package on eclipse i was thinking of using the inheritance feature to link the getconnectionTime() with the class i want to use it in. can that work?","body":"the getconnectionTime() is in another class in the same package on eclipse i was thinking of using the inheritance feature to link the getconnectionTime() with the class i want to use it in. can that work?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1647139889,"post_id":71440561,"comment_id":126295533,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":24105774,"reputation":5,"user_id":18076991,"display_name":"K&#233;venChamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647476196,"creation_date":1647476196,"answer_id":71505673,"question_id":71440561,"body_markdown":"So here is how I view and how I understand the problem :\r\nYou want to have all the connection time of all the user. \r\nYou method that iterates should not return an object of ConnectionTime but just a float. But that is just how I see it from the very few informations you have given us.\r\n\r\n1- You have 2 classes : User and ConnectionTime \r\n\r\nUser class : \r\n\r\n    class User{\r\n        ConnectionTime connectionTime;   \r\n        public User(){\r\n            // Some code to construct your object...\r\n        }\r\n        public float getConnectionTime(){\r\n        return this.connectionTime.getConnectionTime();\r\n        }\r\n    }\r\nConntectionTime class :  \r\n\r\n    class ConnectionTime{\r\n        float time;    \r\n    \r\n        public ConnectionTime(){\r\n        //Some code to construct your object\r\n        }\r\n        public getConnectionTime(){\r\n            return this.time;\r\n        }\r\n    }\r\nAnd them all you have to do now is iterate over the Users list :\r\n\r\n    float totalConnectionTime = 0;\r\n    public getTotalConnectionTimeOfUsers(){\r\n        for(int i = 0; i &lt; users.length ; i++){\r\n        totalConnectionTime += users[i].getConnectionTime();\r\n        }\r\n    return totalConnectionTime;\r\n    }\r\n\r\nIf this is not what you expected at all, feel free to add more information for us to help you ! ","title":"Using objects in an array independently","body":"<p>So here is how I view and how I understand the problem :\nYou want to have all the connection time of all the user.\nYou method that iterates should not return an object of ConnectionTime but just a float. But that is just how I see it from the very few informations you have given us.</p>\n<p>1- You have 2 classes : User and ConnectionTime</p>\n<p>User class :</p>\n<pre><code>class User{\n    ConnectionTime connectionTime;   \n    public User(){\n        // Some code to construct your object...\n    }\n    public float getConnectionTime(){\n    return this.connectionTime.getConnectionTime();\n    }\n}\n</code></pre>\n<p>ConntectionTime class :</p>\n<pre><code>class ConnectionTime{\n    float time;    \n\n    public ConnectionTime(){\n    //Some code to construct your object\n    }\n    public getConnectionTime(){\n        return this.time;\n    }\n}\n</code></pre>\n<p>And them all you have to do now is iterate over the Users list :</p>\n<pre><code>float totalConnectionTime = 0;\npublic getTotalConnectionTimeOfUsers(){\n    for(int i = 0; i &lt; users.length ; i++){\n    totalConnectionTime += users[i].getConnectionTime();\n    }\nreturn totalConnectionTime;\n}\n</code></pre>\n<p>If this is not what you expected at all, feel free to add more information for us to help you !</p>\n"}],"owner":{"account_id":24528032,"reputation":1,"user_id":18440248,"display_name":"Eke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647476196,"creation_date":1647011142,"question_id":71440561,"body_markdown":"I have an array of objects of different types and i want to pick only 1 object from the array and add it up. For example i have an array with 4 users that all have connectiontime as an object and i want to add up all their connectiontime alone without the other objects in the array, how do i pick out the connection time after iterating through the array and then return the sum of connection time. This is the array and the code meant to be implemented with the array.[code to use the array][1][array with object][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2zb5r.png\r\n  [2]: https://i.stack.imgur.com/3kGz4.png","title":"Using objects in an array independently","body":"<p>I have an array of objects of different types and i want to pick only 1 object from the array and add it up. For example i have an array with 4 users that all have connectiontime as an object and i want to add up all their connectiontime alone without the other objects in the array, how do i pick out the connection time after iterating through the array and then return the sum of connection time. This is the array and the code meant to be implemented with the array.<a href=\"https://i.stack.imgur.com/2zb5r.png\" rel=\"nofollow noreferrer\">code to use the array</a><a href=\"https://i.stack.imgur.com/3kGz4.png\" rel=\"nofollow noreferrer\">array with object</a></p>\n"},{"tags":["java","localdate","zoneddatetime","localdatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1647454865,"post_id":71502233,"comment_id":126378126,"body_markdown":"If the string length is 10, parse into a `LocalDate` and call `LocalDate.atStartOfDay(ZoneId)` passing the desired time zone. If longer parse into `LocalDateTime` and call its `atZone` method.","body":"If the string length is 10, parse into a <code>LocalDate</code> and call <code>LocalDate.atStartOfDay(ZoneId)</code> passing the desired time zone. If longer parse into <code>LocalDateTime</code> and call its <code>atZone</code> method."},{"owner":{"account_id":24557454,"reputation":146,"user_id":18465761,"display_name":"Zeke Rogers"},"score":1,"creation_date":1647455300,"post_id":71502233,"comment_id":126378293,"body_markdown":"Check out ZonedDateTime.parse(CharSequence text, DateTimeFormatter formatter) - based on the string length, for example, you could try a different DateTimeFormatter. I think DateTimeFormatter.ISO_INSTANT may work for the longer format, whereas DateTimeFormatter.ISO_LOCAL_DATE should work for the shorter format. If none work you can write your own DateTimeFormatter.","body":"Check out ZonedDateTime.parse(CharSequence text, DateTimeFormatter formatter) - based on the string length, for example, you could try a different DateTimeFormatter. I think DateTimeFormatter.ISO_INSTANT may work for the longer format, whereas DateTimeFormatter.ISO_LOCAL_DATE should work for the shorter format. If none work you can write your own DateTimeFormatter."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647475741,"creation_date":1647462422,"answer_id":71503860,"question_id":71502233,"body_markdown":"Neither of your pieces of example data are suitable for a `ZonedDateTime` object. \r\n\r\n# Date without time, and without zone\r\n\r\n&quot;2021-05-31&quot; represents a date-only value. Use `LocalDate` class. \r\n\r\n    LocalDate ld = LocalDate.parse( &quot;2021-05-31&quot; ) ;\r\n\r\nIf you want to make a `ZonedDateTime` of that, you’ll to assign a time-of-day and a time zone. \r\n\r\nPerhaps you’d want the first moment of the day as the time. If so, do not assume that first moment is at 00:00:00. Some dates in some zones start at a different moment such as 01:00:00. Let *java.time* determine the first moment. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\r\n    ZonedDateTime zdt = ld.atStartOfDay( z ) ;\r\n\r\n# Date and time without zone\r\n\r\n&quot;2021-05-31T09:30:57.544797&quot; represents a date with a time of day, but lacks an indicator of time zone or offset from UTC. So parse as a `LocalDateTime`. \r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;2021-05-31T09:30:57.544797&quot; ) ; \r\n\r\nIf you want to make a `ZonedDateTime` of that, assign a time zone. Be aware the time of day may change to adjust for gaps caused by anomalies such as Daylight Saving Time (DST).  \r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Japan&quot; ) ;\r\n    ZonedDateTime zdt = ldt.atZone( z ) ;\r\n\r\n","title":"How deserialize from LocalDate and/or LocalDateTime to ZonedDateTime?","body":"<p>Neither of your pieces of example data are suitable for a <code>ZonedDateTime</code> object.</p>\n<h1>Date without time, and without zone</h1>\n<p>&quot;2021-05-31&quot; represents a date-only value. Use <code>LocalDate</code> class.</p>\n<pre><code>LocalDate ld = LocalDate.parse( &quot;2021-05-31&quot; ) ;\n</code></pre>\n<p>If you want to make a <code>ZonedDateTime</code> of that, you’ll to assign a time-of-day and a time zone.</p>\n<p>Perhaps you’d want the first moment of the day as the time. If so, do not assume that first moment is at 00:00:00. Some dates in some zones start at a different moment such as 01:00:00. Let <em>java.time</em> determine the first moment.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\nZonedDateTime zdt = ld.atStartOfDay( z ) ;\n</code></pre>\n<h1>Date and time without zone</h1>\n<p>&quot;2021-05-31T09:30:57.544797&quot; represents a date with a time of day, but lacks an indicator of time zone or offset from UTC. So parse as a <code>LocalDateTime</code>.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( &quot;2021-05-31T09:30:57.544797&quot; ) ; \n</code></pre>\n<p>If you want to make a <code>ZonedDateTime</code> of that, assign a time zone. Be aware the time of day may change to adjust for gaps caused by anomalies such as Daylight Saving Time (DST).</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Japan&quot; ) ;\nZonedDateTime zdt = ldt.atZone( z ) ;\n</code></pre>\n"}],"owner":{"account_id":450459,"reputation":817,"user_id":845785,"accept_rate":42,"display_name":"Luciano Borges"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647475741,"creation_date":1647453763,"question_id":71502233,"body_markdown":"I need to create a class that implements JsonbDeserializer &lt; ZonedDateTime &gt; , but, the data (string) to be parsed could be in this format &quot;2021-05-31&quot; or this format &quot;2021-05-31T09:30:57.544797&quot;.\r\n\r\nHow could I deal with this scenario?","title":"How deserialize from LocalDate and/or LocalDateTime to ZonedDateTime?","body":"<p>I need to create a class that implements JsonbDeserializer &lt; ZonedDateTime &gt; , but, the data (string) to be parsed could be in this format &quot;2021-05-31&quot; or this format &quot;2021-05-31T09:30:57.544797&quot;.</p>\n<p>How could I deal with this scenario?</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1647374307,"post_id":71488217,"comment_id":126354065,"body_markdown":"Could you give us the full stacktrace?","body":"Could you give us the full stacktrace?"},{"owner":{"account_id":15396447,"reputation":13,"user_id":11107415,"display_name":"Mugiten"},"score":0,"creation_date":1647375262,"post_id":71488217,"comment_id":126354420,"body_markdown":"Added the full stacktrace.","body":"Added the full stacktrace."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1647378904,"post_id":71488217,"comment_id":126355559,"body_markdown":"thats part of the startup process logs. Show use the ERROR stacktrace. Theres nothing below this line? `2022-03-15 12:23:51.067  WARN 4580 --- [nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.example.demo.Tweet&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value &#39;Test&#39;; nested exception is java.lang.NumberFormatException: `","body":"thats part of the startup process logs. Show use the ERROR stacktrace. Theres nothing below this line? <code>2022-03-15 12:23:51.067  WARN 4580 --- [nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.example.demo.Tweet&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value &#39;Test&#39;; nested exception is java.lang.NumberFormatException: </code>"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1647379269,"post_id":71488217,"comment_id":126355670,"body_markdown":"`NumberFormatException: For input string: &quot;Test&quot;` - Where did &quot;Test&quot; come from and why are you trying to convert it to a number?  Start with that.","body":"<code>NumberFormatException: For input string: &quot;Test&quot;</code> - Where did &quot;Test&quot; come from and why are you trying to convert it to a number?  Start with that."},{"owner":{"account_id":15396447,"reputation":13,"user_id":11107415,"display_name":"Mugiten"},"score":0,"creation_date":1647379551,"post_id":71488217,"comment_id":126355752,"body_markdown":"There is nothing else below the message after java.lang.NumberFormatException.\n\nAs for where &quot;Test&quot; comes from that string comes from, the input I did in the tweeting.html page.","body":"There is nothing else below the message after java.lang.NumberFormatException.  As for where &quot;Test&quot; comes from that string comes from, the input I did in the tweeting.html page."}],"owner":{"account_id":15396447,"reputation":13,"user_id":11107415,"display_name":"Mugiten"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647475578,"creation_date":1647373950,"question_id":71488217,"body_markdown":"I&#39;m attempting to build a twitter clone website using spring boot. I&#39;m getting an error and looked through my code. I&#39;m not sure what I&#39;m doing wrong:\r\n\r\n```\r\n2022-03-15 12:23:51.067  WARN 4580 --- [nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.beans.TypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;com.example.demo.Tweet&#39;; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value &#39;Test&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;Test&quot;]\r\n```\r\n\r\nThis is a springboot application using postgres as its database. I also have a User repository in the code that does sign me in properly. I would appreciate any assistance with this. Thank you. \r\n\r\nEdit: Added full stacktrace. \r\nEdit2: Added an image of the tweeting.html to show where the string &quot;Test&quot; came from.\r\n\r\nTweet.java\r\n```\r\npackage com.example.demo;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.Basic;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\n@Entity\r\n@Table(name=&quot;tweets&quot;)\r\npublic class Tweet {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Basic(optional = false)\r\n\t@Column(name = &quot;id&quot;,unique=true, nullable = false)\r\n\tprivate Integer id;\r\n\t\r\n\t@Column(name=&quot;userid&quot;, unique=true, nullable=false)\r\n\tprivate Integer userid;\r\n\t\r\n\t@Column(name=&quot;tweet&quot;, nullable=false)\r\n\tprivate String tweet;\r\n\t\r\n\tpublic Integer getId() {\r\n\t\treturn id; \r\n\t}\r\n\t\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id; \r\n\t}\r\n\t\r\n\tpublic Integer getUserId() {\r\n\t\treturn userid;\r\n\t}\r\n\t\r\n\tpublic void setUserId(Integer userid) {\r\n\t\tthis.userid = userid;\r\n\t}\r\n\t\r\n\tpublic String getTweet() {\r\n\t\treturn tweet;\r\n\t}\r\n\t\r\n\tpublic void setTweet(String tweet) {\r\n\t\tthis.tweet = tweet;\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\nTweetRepository.java\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface TweetRepository extends JpaRepository&lt;Tweet, Integer&gt;{\r\n\tpublic Tweet findAllById(Integer userid);\r\n}\r\n\r\n```\r\n\r\nTwitterController.java\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@Controller\r\npublic class TwitterController{\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository userRepo;\r\n\tprivate TweetRepository tweetRepo;\r\n\t\r\n\t@RequestMapping(&quot;/&quot;)\r\n\tpublic String index(Model model) {\r\n\t\t//model.addAttribute(&quot;message&quot;, &quot;Welcome to spring!&quot;);\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;/testing&quot;)\r\n\tpublic String testing(Model model) {\r\n\t\tmodel.addAttribute(&quot;message&quot;, &quot;Welcome to spring boot!&quot;);\r\n\t\treturn &quot;testing&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/register&quot;)\r\n\tpublic String signup(Model model) {\r\n\t\tUser user = new User();\r\n\t\tmodel.addAttribute(&quot;user&quot;, user);\r\n\t\treturn &quot;register&quot;;\r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;/login&quot;)\r\n\tpublic String login(Model model) {\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;/tweeting&quot;)\r\n\tpublic String tweeting(Model model) {\r\n\t\tTweet tweet = new Tweet();\r\n\t\tmodel.addAttribute(&quot;tweet&quot;, tweet);\r\n\t\treturn &quot;tweeting&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/process_register&quot;)\r\n\tpublic String processRegister(User user) {\r\n\t\tBCryptPasswordEncoder encoder = new BCryptPasswordEncoder();\r\n\t\tString encodedPassword = encoder.encode(user.getPassword());\r\n\t\tuser.setPassword(encodedPassword);\r\n\t\t\r\n\t\tuserRepo.save(user);\r\n\t\t\r\n\t\treturn &quot;register_success&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/process_tweet&quot;)\r\n\tpublic String processTweet(Tweet tweet) {\r\n\t\t\r\n\t\ttweetRepo.save(tweet);\r\n\t\t\r\n\t\treturn &quot;tweet_success&quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\ntweeting.html\r\n```\r\n\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\t&lt;head&gt;\r\n\t\t&lt;title&gt;Tweet&lt;/title&gt;\r\n\t\t&lt;link href=&quot;webjars/bootstrap/5.1.0/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n\t&lt;/head&gt;\r\n\t&lt;body&gt;\r\n\t\t &lt;div class=&quot;container col-xl-10 col-xxl-8 px-4 py-5&quot;&gt;\r\n\t\t    &lt;div class=&quot;row align-items-center g-lg-5 py-5&quot;&gt;\r\n\t\t      \r\n\t\t      &lt;div class=&quot;col-md-10 mx-auto col-lg-5&quot;&gt;\r\n\t\t        &lt;form class=&quot;p-4 p-md-5 border rounded-3 bg-light&quot; th:action=&quot;@{/process_tweet}&quot; th:object=&quot;${tweet}&quot; method=&quot;post&quot;&gt;\r\n\t\t          &lt;div class=&quot;form-floating mb-3&quot;&gt;\r\n\t\t            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;floatingInput&quot; placeholder=tweet th:field=&quot;*{tweet}&quot;&gt;\r\n\t\t            &lt;label for=&quot;floatingInput&quot;&gt;Tweet&lt;/label&gt;\r\n\t\t          &lt;/div&gt;\r\n\t\t          \r\n\t\t          \r\n\t\t          &lt;button class=&quot;w-100 btn btn-lg btn-info&quot; type=&quot;submit&quot;&gt;Post&lt;/button&gt;\r\n\t\t          \r\n\t\t        &lt;/form&gt;\r\n\t\t      &lt;/div&gt;\r\n\t\t    &lt;/div&gt;\r\n\t\t  &lt;/div&gt;\r\n\t\t \r\n\t\t \r\n\t\t&lt;script src=&quot;webjars/jquery/3.6.0/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;webjars/bootstrap/5.1.0/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script&gt;\r\n        &lt;/script&gt;\r\n\t&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n[![Tweeting.html page for a better understanding on where the string &quot;Test&quot; came from.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I4HG6.png","title":"Resolved [org.springframework.beans.TypeMismatchException: Issue","body":"<p>I'm attempting to build a twitter clone website using spring boot. I'm getting an error and looked through my code. I'm not sure what I'm doing wrong:</p>\n<pre><code>2022-03-15 12:23:51.067  WARN 4580 --- [nio-8080-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.beans.TypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'com.example.demo.Tweet'; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.lang.Integer] for value 'Test'; nested exception is java.lang.NumberFormatException: For input string: &quot;Test&quot;]\n</code></pre>\n<p>This is a springboot application using postgres as its database. I also have a User repository in the code that does sign me in properly. I would appreciate any assistance with this. Thank you.</p>\n<p>Edit: Added full stacktrace.\nEdit2: Added an image of the tweeting.html to show where the string &quot;Test&quot; came from.</p>\n<p>Tweet.java</p>\n<pre><code>package com.example.demo;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.Basic;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\n@Entity\n@Table(name=&quot;tweets&quot;)\npublic class Tweet {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = &quot;id&quot;,unique=true, nullable = false)\n    private Integer id;\n    \n    @Column(name=&quot;userid&quot;, unique=true, nullable=false)\n    private Integer userid;\n    \n    @Column(name=&quot;tweet&quot;, nullable=false)\n    private String tweet;\n    \n    public Integer getId() {\n        return id; \n    }\n    \n    public void setId(Integer id) {\n        this.id = id; \n    }\n    \n    public Integer getUserId() {\n        return userid;\n    }\n    \n    public void setUserId(Integer userid) {\n        this.userid = userid;\n    }\n    \n    public String getTweet() {\n        return tweet;\n    }\n    \n    public void setTweet(String tweet) {\n        this.tweet = tweet;\n    }\n    \n    \n}\n\n</code></pre>\n<p>TweetRepository.java</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface TweetRepository extends JpaRepository&lt;Tweet, Integer&gt;{\n    public Tweet findAllById(Integer userid);\n}\n\n</code></pre>\n<p>TwitterController.java</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@Controller\npublic class TwitterController{\n    \n    @Autowired\n    private UserRepository userRepo;\n    private TweetRepository tweetRepo;\n    \n    @RequestMapping(&quot;/&quot;)\n    public String index(Model model) {\n        //model.addAttribute(&quot;message&quot;, &quot;Welcome to spring!&quot;);\n        return &quot;index&quot;;\n    }\n    \n    @RequestMapping(&quot;/testing&quot;)\n    public String testing(Model model) {\n        model.addAttribute(&quot;message&quot;, &quot;Welcome to spring boot!&quot;);\n        return &quot;testing&quot;;\n    }\n    \n    @GetMapping(&quot;/register&quot;)\n    public String signup(Model model) {\n        User user = new User();\n        model.addAttribute(&quot;user&quot;, user);\n        return &quot;register&quot;;\n    }\n    \n    @RequestMapping(&quot;/login&quot;)\n    public String login(Model model) {\n        return &quot;login&quot;;\n    }\n    \n    @RequestMapping(&quot;/tweeting&quot;)\n    public String tweeting(Model model) {\n        Tweet tweet = new Tweet();\n        model.addAttribute(&quot;tweet&quot;, tweet);\n        return &quot;tweeting&quot;;\n    }\n    \n    @PostMapping(&quot;/process_register&quot;)\n    public String processRegister(User user) {\n        BCryptPasswordEncoder encoder = new BCryptPasswordEncoder();\n        String encodedPassword = encoder.encode(user.getPassword());\n        user.setPassword(encodedPassword);\n        \n        userRepo.save(user);\n        \n        return &quot;register_success&quot;;\n    }\n    \n    @PostMapping(&quot;/process_tweet&quot;)\n    public String processTweet(Tweet tweet) {\n        \n        tweetRepo.save(tweet);\n        \n        return &quot;tweet_success&quot;;\n    }\n    \n}\n</code></pre>\n<p>tweeting.html</p>\n<pre><code>\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;Tweet&lt;/title&gt;\n        &lt;link href=&quot;webjars/bootstrap/5.1.0/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n         &lt;div class=&quot;container col-xl-10 col-xxl-8 px-4 py-5&quot;&gt;\n            &lt;div class=&quot;row align-items-center g-lg-5 py-5&quot;&gt;\n              \n              &lt;div class=&quot;col-md-10 mx-auto col-lg-5&quot;&gt;\n                &lt;form class=&quot;p-4 p-md-5 border rounded-3 bg-light&quot; th:action=&quot;@{/process_tweet}&quot; th:object=&quot;${tweet}&quot; method=&quot;post&quot;&gt;\n                  &lt;div class=&quot;form-floating mb-3&quot;&gt;\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;floatingInput&quot; placeholder=tweet th:field=&quot;*{tweet}&quot;&gt;\n                    &lt;label for=&quot;floatingInput&quot;&gt;Tweet&lt;/label&gt;\n                  &lt;/div&gt;\n                  \n                  \n                  &lt;button class=&quot;w-100 btn btn-lg btn-info&quot; type=&quot;submit&quot;&gt;Post&lt;/button&gt;\n                  \n                &lt;/form&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n         \n         \n        &lt;script src=&quot;webjars/jquery/3.6.0/jquery.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;webjars/bootstrap/5.1.0/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script&gt;\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/I4HG6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I4HG6.png\" alt=\"Tweeting.html page for a better understanding on where the string &quot;Test&quot; came from.\" /></a></p>\n"},{"tags":["java","mysql","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647474539,"creation_date":1647474539,"answer_id":71505511,"question_id":71505429,"body_markdown":"Simplified you can make\r\n\r\nIf you have more choice you need case when\r\n\r\nThe idea is when the condition is not met, we let the and part always be true\r\nso that the where calsue is true if all the other conditions are met\r\n\r\n    SELECT * FROM\r\n    A\r\n    WHERE\r\n        status= 72 \r\n        AND IF( date = &quot;today&quot; , date(createdAt), current_date) = current_date","title":"MySQL SELECT WHERE... AND (based on parameter value)","body":"<p>Simplified you can make</p>\n<p>If you have more choice you need case when</p>\n<p>The idea is when the condition is not met, we let the and part always be true\nso that the where calsue is true if all the other conditions are met</p>\n<pre><code>SELECT * FROM\nA\nWHERE\n    status= 72 \n    AND IF( date = &quot;today&quot; , date(createdAt), current_date) = current_date\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647474964,"creation_date":1647474964,"answer_id":71505558,"question_id":71505429,"body_markdown":"The way we usually handle this is by adding a logical check to the `WHERE` clause which allows a null date.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Query(value = &quot;SELECT * &quot; +\r\n                   // ...\r\n                   &quot;WHERE (type REGEXP ?1) AND &quot; +\r\n                   &quot;      status = ?2      AND &quot; +\r\n                   &quot;      (DATE(createdAt) = ?3 OR ?3 IS NULL) &quot; +\r\n                   &quot;ORDER BY id DESC &quot; +\r\n            nativeQuery = true)\r\n    Optional&lt;List&lt;Item&gt;&gt; findLatest(String type, String status, String date);\r\n\r\nNote that it is not possible to bind parameters to the `LIMIT` clause, therefore I have removed it.  Instead, you should use Spring&#39;s pagination API.","title":"MySQL SELECT WHERE... AND (based on parameter value)","body":"<p>The way we usually handle this is by adding a logical check to the <code>WHERE</code> clause which allows a null date.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT * &quot; +\n               // ...\n               &quot;WHERE (type REGEXP ?1) AND &quot; +\n               &quot;      status = ?2      AND &quot; +\n               &quot;      (DATE(createdAt) = ?3 OR ?3 IS NULL) &quot; +\n               &quot;ORDER BY id DESC &quot; +\n        nativeQuery = true)\nOptional&lt;List&lt;Item&gt;&gt; findLatest(String type, String status, String date);\n</code></pre>\n<p>Note that it is not possible to bind parameters to the <code>LIMIT</code> clause, therefore I have removed it.  Instead, you should use Spring's pagination API.</p>\n"}],"owner":{"account_id":15332453,"reputation":321,"user_id":11156297,"display_name":"Zoe Lubanza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1647474964,"creation_date":1647473789,"question_id":71505429,"body_markdown":"```\r\n@Query(value =\r\n            &quot;SELECT * &quot; +\r\n                    &quot;WHERE (type REGEXP ?1) &quot; +\r\n                    &quot;AND status= ?2 &quot; +\r\n                    &quot;AND date(createdAt)...&quot; +\r\n                    &quot;ORDER BY id DESC &quot; +\r\n                    &quot;LIMIT ?4&quot;,\r\n            nativeQuery = true)\r\n    Optional&lt;List&lt;Item&gt;&gt; findLatest(String type, String status, String date, int limit);\r\n```\r\n\r\nI have this query where I&#39;d like to filter by **createdAt**, only if the **date** value from the parameter is not null.\r\n\r\nIf `String date = null`, the query should not consider the `AND date(createdAt)...`\r\n\r\nHowever if `String date = &quot;today&quot;` the query should include something like `AND date(createdAt) = CURRENT_DATE`\r\n\r\nHow can I achieve this?","title":"MySQL SELECT WHERE... AND (based on parameter value)","body":"<pre><code>@Query(value =\n            &quot;SELECT * &quot; +\n                    &quot;WHERE (type REGEXP ?1) &quot; +\n                    &quot;AND status= ?2 &quot; +\n                    &quot;AND date(createdAt)...&quot; +\n                    &quot;ORDER BY id DESC &quot; +\n                    &quot;LIMIT ?4&quot;,\n            nativeQuery = true)\n    Optional&lt;List&lt;Item&gt;&gt; findLatest(String type, String status, String date, int limit);\n</code></pre>\n<p>I have this query where I'd like to filter by <strong>createdAt</strong>, only if the <strong>date</strong> value from the parameter is not null.</p>\n<p>If <code>String date = null</code>, the query should not consider the <code>AND date(createdAt)...</code></p>\n<p>However if <code>String date = &quot;today&quot;</code> the query should include something like <code>AND date(createdAt) = CURRENT_DATE</code></p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","kotlin","amazon-s3","bucket","minio"],"answers":[{"tags":[],"owner":{"account_id":529873,"reputation":76,"user_id":1833981,"display_name":"krisis"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1647473901,"creation_date":1647473901,"answer_id":71505442,"question_id":71430786,"body_markdown":"Lifecycle rules apply to objects within a bucket, not to the bucket itself.\r\n\r\n&gt;An S3 Lifecycle configuration is a set of rules that define actions that Amazon S3 applies to a group of objects. \r\n\r\n(ref: https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lifecycle-mgmt.html) \r\n\r\nSo, this bucket **will not** be deleted (even) when all the objects in it are expired via ILM policies. ","title":"How to Set BucketLifeCycleRule in Minio?","body":"<p>Lifecycle rules apply to objects within a bucket, not to the bucket itself.</p>\n<blockquote>\n<p>An S3 Lifecycle configuration is a set of rules that define actions that Amazon S3 applies to a group of objects.</p>\n</blockquote>\n<p>(ref: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lifecycle-mgmt.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lifecycle-mgmt.html</a>)</p>\n<p>So, this bucket <strong>will not</strong> be deleted (even) when all the objects in it are expired via ILM policies.</p>\n"}],"owner":{"account_id":6651350,"reputation":65,"user_id":5327333,"display_name":"Rod Efraim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71505442,"answer_count":1,"score":1,"last_activity_date":1647473901,"creation_date":1646946175,"question_id":71430786,"body_markdown":"After creating a Minio bucket, I set the bucket&#39;s lifecycle rules. The LifeCycleRule takes up the expiration variable that is set for just 1 day. When checking the status of my bucket through minio client (mc), `mc ilm ls mycloud/bucketName` , I notice that the Lifecycle rule was successfully applied on to the designated bucket. However, when checking back on Minio after 1 day, the bucket is still there. Is there something else that I need to add to the LifeCycleRule in order to delete Minio Bucket properly?\r\n\r\nNote, I&#39;ve been using [Minio SDKs Java Client API][1] as reference.\r\n\r\n----------\r\n\r\n```\r\nfun createBucket(bucketName: String){\r\n   client.makeBucket(MakeBucketArgs.builder().bucket(bucketName).build())\r\n   setBucketLifeCycle(bucketName)\r\n}\r\n\r\nprivate fun setBucketLifeCycle(bucketName: String){\r\n\r\n   // Setting the expiration for one day.\r\n   val expiration = Expiration(null as ZonedDateTime?, 1, null)\r\n\r\n   var lifeCycleRuleList = mutableListOf&lt;LifecycleRule&gt;()\r\n\r\n   val lifecycleRuleExpiry = LifecycleRule(\r\n     Status.ENABLED,\r\n     null,\r\n     expiration,\r\n     RuleFilter(&quot;expiry/logs&quot;),\r\n     &quot;rule 1&quot;,\r\n     null,\r\n     null,\r\n     null)\r\n\r\n   lifecycleRuleList.add(lifecycleRuleExpiry)\r\n   var lifecycleConfig = LifecycleConfiguration(lifecycleRuleList)\r\n \r\n   // Applies the lifecycleConfig on to target bucket.\r\n   client.setBucketLifecycle(SetBucketLifecycleArgs.buider()\r\n     .bucket(bucketName).config(lifecycleConfig).build())\r\n}\r\n\r\n```\r\n\r\n**Questions**\r\n+ Am I missing something more on my LifeCycleRule?\r\n+ Could it be that the bucket does not get automatically deleted because it has objects inside of it? \r\n  + I did notice on the minio client that when the bucket has items on it, `mc rb mycloud/bucketName` will fail to remove the the bucket, but forcing it with `mc rb -force mycloud/bucketName` will successfully remove it. Is there a way to speficy &quot;force&quot; on the lifecycle parameters?\r\n\r\n\r\n  [1]: https://docs.min.io/docs/java-client-api-reference.html#setBucketLifecycle","title":"How to Set BucketLifeCycleRule in Minio?","body":"<p>After creating a Minio bucket, I set the bucket's lifecycle rules. The LifeCycleRule takes up the expiration variable that is set for just 1 day. When checking the status of my bucket through minio client (mc), <code>mc ilm ls mycloud/bucketName</code> , I notice that the Lifecycle rule was successfully applied on to the designated bucket. However, when checking back on Minio after 1 day, the bucket is still there. Is there something else that I need to add to the LifeCycleRule in order to delete Minio Bucket properly?</p>\n<p>Note, I've been using <a href=\"https://docs.min.io/docs/java-client-api-reference.html#setBucketLifecycle\" rel=\"nofollow noreferrer\">Minio SDKs Java Client API</a> as reference.</p>\n<hr />\n<pre><code>fun createBucket(bucketName: String){\n   client.makeBucket(MakeBucketArgs.builder().bucket(bucketName).build())\n   setBucketLifeCycle(bucketName)\n}\n\nprivate fun setBucketLifeCycle(bucketName: String){\n\n   // Setting the expiration for one day.\n   val expiration = Expiration(null as ZonedDateTime?, 1, null)\n\n   var lifeCycleRuleList = mutableListOf&lt;LifecycleRule&gt;()\n\n   val lifecycleRuleExpiry = LifecycleRule(\n     Status.ENABLED,\n     null,\n     expiration,\n     RuleFilter(&quot;expiry/logs&quot;),\n     &quot;rule 1&quot;,\n     null,\n     null,\n     null)\n\n   lifecycleRuleList.add(lifecycleRuleExpiry)\n   var lifecycleConfig = LifecycleConfiguration(lifecycleRuleList)\n \n   // Applies the lifecycleConfig on to target bucket.\n   client.setBucketLifecycle(SetBucketLifecycleArgs.buider()\n     .bucket(bucketName).config(lifecycleConfig).build())\n}\n\n</code></pre>\n<p><strong>Questions</strong></p>\n<ul>\n<li>Am I missing something more on my LifeCycleRule?</li>\n<li>Could it be that the bucket does not get automatically deleted because it has objects inside of it?\n<ul>\n<li>I did notice on the minio client that when the bucket has items on it, <code>mc rb mycloud/bucketName</code> will fail to remove the the bucket, but forcing it with <code>mc rb -force mycloud/bucketName</code> will successfully remove it. Is there a way to speficy &quot;force&quot; on the lifecycle parameters?</li>\n</ul>\n</li>\n</ul>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1647473511,"creation_date":1273663135,"answer_id":2818248,"question_id":2818075,"body_markdown":"When you select a project in the Project Explorer view and press F5, Eclipse *should* traverse the entire directory tree for the project checking that all files and directories all in sync.  It does for me ...\r\n\r\nThe only thing I can think of that would cause this not to work is if you have file system timestamp anomalies.  For example, if a file in the file system is updated but the file&#39;s last-modified shows that it was updated in the past.  This kind of thing can happen if your machine&#39;s system clock is moved backwards or forwards at an inconvenient time.  If you think this might have happened, try closing all projects, restarting Eclipse and doing another F5 refresh.\r\n\r\n(I used to run into Eclipse synchronization issues a lot, but I put that down to a combination of flakey plugins and doing builds from the command line.  Either F5 or Project&gt;Clean usually works for me.)\r\n\r\n--------------------\r\n\r\nIt is also worth checking that you haven&#39;t turned off &quot;Build automatically&quot;; see https://stackoverflow.com/a/2818290/139985.  This is not a &quot;refresh&quot; problem, but it would be easy to confuse it with one.","title":"Eclipse does not refresh project files in package explorer view","body":"<p>When you select a project in the Project Explorer view and press F5, Eclipse <em>should</em> traverse the entire directory tree for the project checking that all files and directories all in sync.  It does for me ...</p>\n<p>The only thing I can think of that would cause this not to work is if you have file system timestamp anomalies.  For example, if a file in the file system is updated but the file's last-modified shows that it was updated in the past.  This kind of thing can happen if your machine's system clock is moved backwards or forwards at an inconvenient time.  If you think this might have happened, try closing all projects, restarting Eclipse and doing another F5 refresh.</p>\n<p>(I used to run into Eclipse synchronization issues a lot, but I put that down to a combination of flakey plugins and doing builds from the command line.  Either F5 or Project&gt;Clean usually works for me.)</p>\n<hr />\n<p>It is also worth checking that you haven't turned off &quot;Build automatically&quot;; see <a href=\"https://stackoverflow.com/a/2818290/139985\">https://stackoverflow.com/a/2818290/139985</a>.  This is not a &quot;refresh&quot; problem, but it would be easy to confuse it with one.</p>\n"},{"tags":[],"owner":{"account_id":580691,"reputation":181,"user_id":245330,"display_name":"tjin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1474354722,"creation_date":1273663516,"answer_id":2818290,"question_id":2818075,"body_markdown":"Is Build automatically on? (`Menu &gt; Project &gt; Build automatically`)","title":"Eclipse does not refresh project files in package explorer view","body":"<p>Is Build automatically on? (<code>Menu &gt; Project &gt; Build automatically</code>)</p>\n"},{"tags":[],"owner":{"account_id":64336,"reputation":12440,"user_id":189974,"accept_rate":96,"display_name":"Abhijeet Kashnia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1325218374,"creation_date":1325218374,"answer_id":8676091,"question_id":2818075,"body_markdown":"It happened to me because there was a cyclic dependency between two projects. Each project had the other on its build path.","title":"Eclipse does not refresh project files in package explorer view","body":"<p>It happened to me because there was a cyclic dependency between two projects. Each project had the other on its build path.</p>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474355396,"creation_date":1474355396,"answer_id":39587800,"question_id":2818075,"body_markdown":"**Solution**: *Reimport the project*\r\n\r\nIt happened to me when checking out a new file from svn in explorer. Eclipse could not find the new file for some reason. \r\n\r\nI tried refreshing the project(&lt;kbd&gt;F5&lt;/kbd&gt;) and `Project &gt; Clean` and build the project(`Project &gt; Build All`) none of these worked for me.\r\n\r\nSo I deleted the project from the Project Explorer view(Not from hard disk). Make sure you unselect &quot;*Delete project contents on disk(cannot be undone)*&quot; checkbox and save any unsaved changes before you do this.\r\n\r\nNow reimport the project using `File &gt; Import` option. That should work in most cases.","title":"Eclipse does not refresh project files in package explorer view","body":"<p><strong>Solution</strong>: <em>Reimport the project</em></p>\n\n<p>It happened to me when checking out a new file from svn in explorer. Eclipse could not find the new file for some reason. </p>\n\n<p>I tried refreshing the project(<kbd>F5</kbd>) and <code>Project &gt; Clean</code> and build the project(<code>Project &gt; Build All</code>) none of these worked for me.</p>\n\n<p>So I deleted the project from the Project Explorer view(Not from hard disk). Make sure you unselect \"<em>Delete project contents on disk(cannot be undone)</em>\" checkbox and save any unsaved changes before you do this.</p>\n\n<p>Now reimport the project using <code>File &gt; Import</code> option. That should work in most cases.</p>\n"},{"tags":[],"owner":{"account_id":4067859,"reputation":23,"user_id":3342122,"display_name":"FeralWhippet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629616378,"creation_date":1629583439,"answer_id":68877055,"question_id":2818075,"body_markdown":"If you use gradle, or something similar, instead of reimporting a project you can just regenerate the project files (`gradle eclipse` for example), and then you can refresh the project. Less cumbersome than deleting and reimporting.","title":"Eclipse does not refresh project files in package explorer view","body":"<p>If you use gradle, or something similar, instead of reimporting a project you can just regenerate the project files (<code>gradle eclipse</code> for example), and then you can refresh the project. Less cumbersome than deleting and reimporting.</p>\n"}],"owner":{"account_id":75692,"reputation":11853,"user_id":217067,"accept_rate":66,"display_name":"EugeneP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31861,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":2818248,"answer_count":5,"score":13,"last_activity_date":1647473511,"creation_date":1273661714,"question_id":2818075,"body_markdown":"Today I see a strange behaviour of Eclipse 3.5.2 for the first time in 3 months.\r\n\r\nFirst, when I run a main function, it runs a previously compiled version. Let&#39;s say I press Ctrl+F11 in the window with an open java class and existing main function. Usually it rebuilds the class and runs a new version. Today even if there was a compile mistake, it would run fine. So I guess it does not recompile the class.\r\n\r\nNext, more strangely, if I intentionally make a mistake in the code and Eclipse underlines those lines in red, still the project Explorer does not mark them as containing errors. They remain of grey color if there were not any errors.\r\n\r\nFirst I did not know how to solve this problem. I tried to reopen the project, restart Eclipse and finally reboot the OS. After the tenth attempt, after rebooting, Eclipse said that all project&#39;s files are &quot;OUT OF SYNC with the file system&quot;. When I pressed &quot;Refresh&quot; - F5 on a project&#39;s header name in *Project Explorer* it finally marked all the files with errors as containing errors and running the main function gave the desired result.\r\n\r\nAn hour of my work passed and this &lt;b&gt; happened again &lt;/b&gt;, with the other project. All the same. No marking of files as red, running no matter what old version of class with no compile errors.\r\n\r\nAnd since Eclipse does not tell that files are out of sync, simply pressing F5 on a project cannot help.\r\n\r\nWhat can you suggest?","title":"Eclipse does not refresh project files in package explorer view","body":"<p>Today I see a strange behaviour of Eclipse 3.5.2 for the first time in 3 months.</p>\n\n<p>First, when I run a main function, it runs a previously compiled version. Let's say I press Ctrl+F11 in the window with an open java class and existing main function. Usually it rebuilds the class and runs a new version. Today even if there was a compile mistake, it would run fine. So I guess it does not recompile the class.</p>\n\n<p>Next, more strangely, if I intentionally make a mistake in the code and Eclipse underlines those lines in red, still the project Explorer does not mark them as containing errors. They remain of grey color if there were not any errors.</p>\n\n<p>First I did not know how to solve this problem. I tried to reopen the project, restart Eclipse and finally reboot the OS. After the tenth attempt, after rebooting, Eclipse said that all project's files are \"OUT OF SYNC with the file system\". When I pressed \"Refresh\" - F5 on a project's header name in <em>Project Explorer</em> it finally marked all the files with errors as containing errors and running the main function gave the desired result.</p>\n\n<p>An hour of my work passed and this <b> happened again </b>, with the other project. All the same. No marking of files as red, running no matter what old version of class with no compile errors.</p>\n\n<p>And since Eclipse does not tell that files are out of sync, simply pressing F5 on a project cannot help.</p>\n\n<p>What can you suggest?</p>\n"},{"tags":["java","android","xml","httpconnection"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":3,"creation_date":1646820674,"post_id":70954039,"comment_id":126216712,"body_markdown":"You are closing the output streams in the middle. Can you test the same thing, but closing them in the end (at the same time as you close input streams). Also call httpURLConnection.disconnect() in the end. iOS and Android use a different socket mechanism. Probably it is related with this fact. Also before calling the reader, do a flush on your output stream. Other point to check is how fast is the server responding? Not sure if Android sends an automatic retry after some time in case the server does not respond.","body":"You are closing the output streams in the middle. Can you test the same thing, but closing them in the end (at the same time as you close input streams). Also call httpURLConnection.disconnect() in the end. iOS and Android use a different socket mechanism. Probably it is related with this fact. Also before calling the reader, do a flush on your output stream. Other point to check is how fast is the server responding? Not sure if Android sends an automatic retry after some time in case the server does not respond."},{"owner":{"account_id":18542382,"reputation":3683,"user_id":13510562,"display_name":"rmunge"},"score":0,"creation_date":1647287684,"post_id":70954039,"comment_id":126329323,"body_markdown":"@Besart which version of android do you use?","body":"@Besart which version of android do you use?"},{"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"score":1,"creation_date":1647345120,"post_id":70954039,"comment_id":126342760,"body_markdown":"Make sure that the code, is not inside in a  Android Lifecyle Hook.","body":"Make sure that the code, is not inside in a  Android Lifecyle Hook."},{"owner":{"account_id":1704426,"reputation":360,"user_id":1563787,"display_name":"drdaanger"},"score":0,"creation_date":1647356977,"post_id":70954039,"comment_id":126347783,"body_markdown":"I would put some debugging logs or attach the debugger to see if this code is being run twice from somewhere, like a lifecycle hook.","body":"I would put some debugging logs or attach the debugger to see if this code is being run twice from somewhere, like a lifecycle hook."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1647400012,"post_id":70954039,"comment_id":126359516,"body_markdown":"@pringi In this case closing the output stream is benign. Calling `disconnect()` disables the connection pool. It isn&#39;t likely to help anything.","body":"@pringi In this case closing the output stream is benign. Calling <code>disconnect()</code> disables the connection pool. It isn&#39;t likely to help anything."}],"answers":[{"tags":[],"owner":{"account_id":18542382,"reputation":3683,"user_id":13510562,"display_name":"rmunge"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1647473288,"creation_date":1647375296,"answer_id":71488470,"question_id":70954039,"body_markdown":"Android uses [OkHttp][1] to implement the functionality of `HttpURLConnection`. OkHttp silently performs retries under certain circumstances:\r\n\r\n&gt; ... OkHttp perseveres when the network is troublesome: it will silently\r\n&gt; recover from common connection problems ...\r\n\r\nThe library had several issues in the past with unexpected retries including POST requests (for a good summary see [here][2]). Even latest development branch of Android seems to use a more than 5!!! years old version of OkHttp (see [here][3]). So, it is very likely that Android&#39;s version does not have any of the relevant bug fixes. There is also no simple way to access the internal OkHttp client instance and explicitely disable retries. \r\n\r\nSo, you have two options:\r\n\r\n - A) Use a newer version of OkHttp directly in your app instead of relying on\r\n    `HttpURLConnection`\r\n - B) Try to workaround the problem:\r\n\r\nIt seems that some of the retries are not performed when the content of a POST request is not buffered internally by OkHttp. You can avoid internal buffering by either setting an explicit content lenght through [setFixedLengthStreamingMode(long)][4] or by enabling chunked streaming through [setChunkedStreamingMode(0)][5].These workarounds seem to avoid at least some of the retries (see comments on [this][6] ticket), but there is no guarantee that this will avoid all kinds of retries.\r\n\r\nFrom a security perspective, I heavily recommend to follow approach A) and **not** use Android&#39;s `Http(s)URLConnection`. As mentioned before, the Android open source project seems to use a completely outdated OkHttp version, that even does not receive any security fixes (at least not from the official OkHttp project).\r\n\r\nBe aware, that most smartphone manufacturer use a closed-source fork of the Android open source project. They may use different versions of third-party libraries or even use a different HTTP client library under the hood.\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://square.github.io/okhttp/\r\n  [2]: https://medium.com/inloopx/okhttp-is-quietly-retrying-requests-is-your-api-ready-19489ef35ace\r\n  [3]: https://cs.android.com/android/platform/superproject/+/master:external/okhttp/CHANGELOG.md;bpv=1;bpt=0\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html#setFixedLengthStreamingMode-long-\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html#setChunkedStreamingMode-int-\r\n  [6]: https://issuetracker.google.com/issues/37036206?pli=1","title":"HttpURLConnection executing two times","body":"<p>Android uses <a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">OkHttp</a> to implement the functionality of <code>HttpURLConnection</code>. OkHttp silently performs retries under certain circumstances:</p>\n<blockquote>\n<p>... OkHttp perseveres when the network is troublesome: it will silently\nrecover from common connection problems ...</p>\n</blockquote>\n<p>The library had several issues in the past with unexpected retries including POST requests (for a good summary see <a href=\"https://medium.com/inloopx/okhttp-is-quietly-retrying-requests-is-your-api-ready-19489ef35ace\" rel=\"nofollow noreferrer\">here</a>). Even latest development branch of Android seems to use a more than 5!!! years old version of OkHttp (see <a href=\"https://cs.android.com/android/platform/superproject/+/master:external/okhttp/CHANGELOG.md;bpv=1;bpt=0\" rel=\"nofollow noreferrer\">here</a>). So, it is very likely that Android's version does not have any of the relevant bug fixes. There is also no simple way to access the internal OkHttp client instance and explicitely disable retries.</p>\n<p>So, you have two options:</p>\n<ul>\n<li>A) Use a newer version of OkHttp directly in your app instead of relying on\n<code>HttpURLConnection</code></li>\n<li>B) Try to workaround the problem:</li>\n</ul>\n<p>It seems that some of the retries are not performed when the content of a POST request is not buffered internally by OkHttp. You can avoid internal buffering by either setting an explicit content lenght through <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html#setFixedLengthStreamingMode-long-\" rel=\"nofollow noreferrer\">setFixedLengthStreamingMode(long)</a> or by enabling chunked streaming through <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html#setChunkedStreamingMode-int-\" rel=\"nofollow noreferrer\">setChunkedStreamingMode(0)</a>.These workarounds seem to avoid at least some of the retries (see comments on <a href=\"https://issuetracker.google.com/issues/37036206?pli=1\" rel=\"nofollow noreferrer\">this</a> ticket), but there is no guarantee that this will avoid all kinds of retries.</p>\n<p>From a security perspective, I heavily recommend to follow approach A) and <strong>not</strong> use Android's <code>Http(s)URLConnection</code>. As mentioned before, the Android open source project seems to use a completely outdated OkHttp version, that even does not receive any security fixes (at least not from the official OkHttp project).</p>\n<p>Be aware, that most smartphone manufacturer use a closed-source fork of the Android open source project. They may use different versions of third-party libraries or even use a different HTTP client library under the hood.</p>\n"},{"tags":[],"owner":{"account_id":14396250,"reputation":412,"user_id":10399467,"display_name":"qingmu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647396349,"creation_date":1647396349,"answer_id":71491051,"question_id":70954039,"body_markdown":"HttpURLConnection automatic retry mechanism causes the request to be repeated twice.\r\n\r\n**Problem Analysis And Positioning**\r\n\r\nHttpURLConnection uses a Sun private HTTP protocol implementation class: `HttpClient.java`\r\nThe key is the following method of sending a request and parsing the response header:\r\n```java\r\n569       /** Parse the first line of the HTTP request.  It usually looks\r\n570           something like: &quot;HTTP/1.0 &lt;number&gt; comment\\r\\n&quot;. */\r\n571   \r\n572       public boolean parseHTTP(MessageHeader responses, ProgressSource pi, HttpURLConnection httpuc)\r\n573       throws IOException {\r\n574           /* If &quot;HTTP/*&quot; is found in the beginning, return true.  Let\r\n575            * HttpURLConnection parse the mime header itself.\r\n576            *\r\n577            * If this isn&#39;t valid HTTP, then we don&#39;t try to parse a header\r\n578            * out of the beginning of the response into the responses,\r\n579            * and instead just queue up the output stream to it&#39;s very beginning.\r\n580            * This seems most reasonable, and is what the NN browser does.\r\n581            */\r\n582   \r\n583           try {\r\n584               serverInput = serverSocket.getInputStream();\r\n585               if (capture != null) {\r\n586                   serverInput = new HttpCaptureInputStream(serverInput, capture);\r\n587               }\r\n588               serverInput = new BufferedInputStream(serverInput);\r\n589               return (parseHTTPHeader(responses, pi, httpuc));\r\n590           } catch (SocketTimeoutException stex) {\r\n591               // We don&#39;t want to retry the request when the app. sets a timeout\r\n592               // but don&#39;t close the server if timeout while waiting for 100-continue\r\n593               if (ignoreContinue) {\r\n594                   closeServer();\r\n595               }\r\n596               throw stex;\r\n597           } catch (IOException e) {\r\n598               closeServer();\r\n599               cachedHttpClient = false;\r\n600               if (!failedOnce &amp;&amp; requests != null) {\r\n601                   failedOnce = true;\r\n602                   if (httpuc.getRequestMethod().equals(&quot;POST&quot;) &amp;&amp; (!retryPostProp || streaming)) {\r\n603                       // do not retry the request\r\n604                   }  else {\r\n605                       // try once more\r\n606                       openServer();\r\n607                       if (needsTunneling()) {\r\n608                           httpuc.doTunneling();\r\n609                       }\r\n610                       afterConnect();\r\n611                       writeRequests(requests, poster);\r\n612                       return parseHTTP(responses, pi, httpuc);\r\n613                   }\r\n614               }\r\n615               throw e;\r\n616           }\r\n617   \r\n618       }\r\n```\r\n\r\nIn the code on lines 600 - 614:\r\n\r\nfailedOnce is false by default, indicating whether it has failed once. This also limits sending a maximum of 2 requests.\r\nhttpuc is request related information.\r\nThe default value of retryPostProp is true, and the value can be specified by command line parameter (-Dsun.net.http.retryPost=false).\r\nstreaming: Default false. true if we are in streaming mode (fixed length or chunked).\r\n\r\nUse the Linux command socat tcp4-listen:8080,fork,reuseaddr system:“sleep 1”!!stdout to establish an HTTP server that only receives requests and does not return responses.\r\nFor a POST request, after the first request is sent, the parsing response will encounter an early end of the stream, which is a SocketException: Unexpected end of file from server. After parseHTTP captures it and finds that the above conditions are met, it will retry. The server will receive the second request.\r\n\r\n**Solution**\r\n1. Disable the retry mechanism of HttpURLConnection.\r\nVia launcher command parameter -Dsun.net.http.retryPost=false\r\nor code to set System.setProperty(&quot;sun.net.http.retryPost&quot;, &quot;false&quot;)\r\n\r\n2. Use the Apache HttpComponents library.\r\nBy default, HttpClient attempts to automatically recover from I/O exceptions. This automatic recovery mechanism is limited to a few exceptions that are considered safe.\r\n\r\nHttpClient will not attempt to recover from any logical or HTTP protocol errors;\r\nHttpClient will automatically retry methods that are considered idempotent;\r\nHttpClient will automatically retry methods that still fail to send HTTP requests to the target server. (For example, the request has not been fully transmitted to the server).","title":"HttpURLConnection executing two times","body":"<p>HttpURLConnection automatic retry mechanism causes the request to be repeated twice.</p>\n<p><strong>Problem Analysis And Positioning</strong></p>\n<p>HttpURLConnection uses a Sun private HTTP protocol implementation class: <code>HttpClient.java</code>\nThe key is the following method of sending a request and parsing the response header:</p>\n<pre class=\"lang-java prettyprint-override\"><code>569       /** Parse the first line of the HTTP request.  It usually looks\n570           something like: &quot;HTTP/1.0 &lt;number&gt; comment\\r\\n&quot;. */\n571   \n572       public boolean parseHTTP(MessageHeader responses, ProgressSource pi, HttpURLConnection httpuc)\n573       throws IOException {\n574           /* If &quot;HTTP/*&quot; is found in the beginning, return true.  Let\n575            * HttpURLConnection parse the mime header itself.\n576            *\n577            * If this isn't valid HTTP, then we don't try to parse a header\n578            * out of the beginning of the response into the responses,\n579            * and instead just queue up the output stream to it's very beginning.\n580            * This seems most reasonable, and is what the NN browser does.\n581            */\n582   \n583           try {\n584               serverInput = serverSocket.getInputStream();\n585               if (capture != null) {\n586                   serverInput = new HttpCaptureInputStream(serverInput, capture);\n587               }\n588               serverInput = new BufferedInputStream(serverInput);\n589               return (parseHTTPHeader(responses, pi, httpuc));\n590           } catch (SocketTimeoutException stex) {\n591               // We don't want to retry the request when the app. sets a timeout\n592               // but don't close the server if timeout while waiting for 100-continue\n593               if (ignoreContinue) {\n594                   closeServer();\n595               }\n596               throw stex;\n597           } catch (IOException e) {\n598               closeServer();\n599               cachedHttpClient = false;\n600               if (!failedOnce &amp;&amp; requests != null) {\n601                   failedOnce = true;\n602                   if (httpuc.getRequestMethod().equals(&quot;POST&quot;) &amp;&amp; (!retryPostProp || streaming)) {\n603                       // do not retry the request\n604                   }  else {\n605                       // try once more\n606                       openServer();\n607                       if (needsTunneling()) {\n608                           httpuc.doTunneling();\n609                       }\n610                       afterConnect();\n611                       writeRequests(requests, poster);\n612                       return parseHTTP(responses, pi, httpuc);\n613                   }\n614               }\n615               throw e;\n616           }\n617   \n618       }\n</code></pre>\n<p>In the code on lines 600 - 614:</p>\n<p>failedOnce is false by default, indicating whether it has failed once. This also limits sending a maximum of 2 requests.\nhttpuc is request related information.\nThe default value of retryPostProp is true, and the value can be specified by command line parameter (-Dsun.net.http.retryPost=false).\nstreaming: Default false. true if we are in streaming mode (fixed length or chunked).</p>\n<p>Use the Linux command socat tcp4-listen:8080,fork,reuseaddr system:“sleep 1”!!stdout to establish an HTTP server that only receives requests and does not return responses.\nFor a POST request, after the first request is sent, the parsing response will encounter an early end of the stream, which is a SocketException: Unexpected end of file from server. After parseHTTP captures it and finds that the above conditions are met, it will retry. The server will receive the second request.</p>\n<p><strong>Solution</strong></p>\n<ol>\n<li><p>Disable the retry mechanism of HttpURLConnection.\nVia launcher command parameter -Dsun.net.http.retryPost=false\nor code to set System.setProperty(&quot;sun.net.http.retryPost&quot;, &quot;false&quot;)</p>\n</li>\n<li><p>Use the Apache HttpComponents library.\nBy default, HttpClient attempts to automatically recover from I/O exceptions. This automatic recovery mechanism is limited to a few exceptions that are considered safe.</p>\n</li>\n</ol>\n<p>HttpClient will not attempt to recover from any logical or HTTP protocol errors;\nHttpClient will automatically retry methods that are considered idempotent;\nHttpClient will automatically retry methods that still fail to send HTTP requests to the target server. (For example, the request has not been fully transmitted to the server).</p>\n"}],"owner":{"account_id":8689838,"reputation":359,"user_id":6503037,"display_name":"Besart"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1274,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1647473288,"creation_date":1643797923,"question_id":70954039,"body_markdown":"I am using `HttpURLConnection` to make a request to server and save some data in the `Database`, but when I make the request it executes two times which adds two identical rows in the database.\r\n\r\nNote: I am making the same request to the server from `iOS` as well and it works perfectly this only happens on `Android`\r\n\r\nThis is the code where I make the request:\r\n\r\n    \r\n\r\n    URL url = new URL(url);\r\n    HttpURLConnection httpURLConnection = (HttpURLConnection)url.openConnection();\r\n\r\n    httpURLConnection.setRequestMethod(&quot;POST&quot;);\r\n    httpURLConnection.setDoOutput(true);\r\n    httpURLConnection.setDoInput(true);\r\n\r\n    OutputStream outputStream = (OutputStream)httpURLConnection.getOutputStream();\r\n    BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(outputStream, &quot;UTF-8&quot;));\r\n\r\n    String post_data = URLEncoder.encode(&quot;user_name&quot; ,&quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(user,&quot;UTF-8&quot;)+&quot;&amp;&quot;\r\n            +URLEncoder.encode(&quot;user_id&quot; ,&quot;UTF-8&quot;) + &quot;=&quot; + user_id+&quot;&amp;&quot;\r\n            +URLEncoder.encode(&quot;manager_id&quot; ,&quot;UTF-8&quot;) + &quot;=&quot; + manager+&quot;&amp;&quot;\r\n            +URLEncoder.encode(&quot;company_id&quot; ,&quot;UTF-8&quot;) + &quot;=&quot; + company+&quot;&amp;&quot;\r\n            +URLEncoder.encode(&quot;user_role&quot; ,&quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(user_role ,&quot;UTF-8&quot;);\r\n\r\n    bufferedWriter.write(post_data);\r\n    bufferedWriter.close();\r\n    outputStream.close();\r\n\r\n    InputStream inputStream = httpURLConnection.getInputStream();\r\n    Reader reader = new InputStreamReader(inputStream);\r\n\r\n    final char[] buf = new char[256];\r\n\r\n    final StringBuffer sb = new StringBuffer();\r\n\r\n    while (true) {\r\n        int length = reader.read(buf);\r\n        if (length == -1) break;\r\n        sb.append(buf, 0, length);\r\n    }\r\n\r\n    reader.close();\r\n    inputStream.close();","title":"HttpURLConnection executing two times","body":"<p>I am using <code>HttpURLConnection</code> to make a request to server and save some data in the <code>Database</code>, but when I make the request it executes two times which adds two identical rows in the database.</p>\n<p>Note: I am making the same request to the server from <code>iOS</code> as well and it works perfectly this only happens on <code>Android</code></p>\n<p>This is the code where I make the request:</p>\n<pre><code>URL url = new URL(url);\nHttpURLConnection httpURLConnection = (HttpURLConnection)url.openConnection();\n\nhttpURLConnection.setRequestMethod(&quot;POST&quot;);\nhttpURLConnection.setDoOutput(true);\nhttpURLConnection.setDoInput(true);\n\nOutputStream outputStream = (OutputStream)httpURLConnection.getOutputStream();\nBufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(outputStream, &quot;UTF-8&quot;));\n\nString post_data = URLEncoder.encode(&quot;user_name&quot; ,&quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(user,&quot;UTF-8&quot;)+&quot;&amp;&quot;\n        +URLEncoder.encode(&quot;user_id&quot; ,&quot;UTF-8&quot;) + &quot;=&quot; + user_id+&quot;&amp;&quot;\n        +URLEncoder.encode(&quot;manager_id&quot; ,&quot;UTF-8&quot;) + &quot;=&quot; + manager+&quot;&amp;&quot;\n        +URLEncoder.encode(&quot;company_id&quot; ,&quot;UTF-8&quot;) + &quot;=&quot; + company+&quot;&amp;&quot;\n        +URLEncoder.encode(&quot;user_role&quot; ,&quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(user_role ,&quot;UTF-8&quot;);\n\nbufferedWriter.write(post_data);\nbufferedWriter.close();\noutputStream.close();\n\nInputStream inputStream = httpURLConnection.getInputStream();\nReader reader = new InputStreamReader(inputStream);\n\nfinal char[] buf = new char[256];\n\nfinal StringBuffer sb = new StringBuffer();\n\nwhile (true) {\n    int length = reader.read(buf);\n    if (length == -1) break;\n    sb.append(buf, 0, length);\n}\n\nreader.close();\ninputStream.close();\n</code></pre>\n"},{"tags":["java","angularjs","spring","nhibernate-mapping"],"comments":[{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":0,"creation_date":1468837752,"post_id":38433432,"comment_id":64274203,"body_markdown":"Possible duplicate of [joda.time.DateTime deserialization error](http://stackoverflow.com/questions/22643367/joda-time-datetime-deserialization-error)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/22643367/joda-time-datetime-deserialization-error\">joda.time.DateTime deserialization error</a>"},{"owner":{"account_id":5201790,"reputation":402,"user_id":4160914,"accept_rate":27,"display_name":"Geetanjali Jain"},"score":0,"creation_date":1468840231,"post_id":38433432,"comment_id":64275730,"body_markdown":"No there is no duplicacy","body":"No there is no duplicacy"},{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":1,"creation_date":1468841234,"post_id":38433432,"comment_id":64276375,"body_markdown":"Does this mean that the explanation from the answer for the linked question and the suggested solution  of `mapper.registerModule(new JodaModule());` don&#39;t work for you?","body":"Does this mean that the explanation from the answer for the linked question and the suggested solution  of <code>mapper.registerModule(new JodaModule());</code> don&#39;t work for you?"},{"owner":{"account_id":5201790,"reputation":402,"user_id":4160914,"accept_rate":27,"display_name":"Geetanjali Jain"},"score":0,"creation_date":1468849842,"post_id":38433432,"comment_id":64282569,"body_markdown":"This link (http://stackoverflow.com/questions/36795151/jackson-retrofit-jodatime-deserialization) suggests to use either annotation or above mentioned help , and I want to do this work with annotation only. do I need to use mapper.registerModule(new JodaModule()); with annotation?","body":"This link (<a href=\"http://stackoverflow.com/questions/36795151/jackson-retrofit-jodatime-deserialization\" title=\"jackson retrofit jodatime deserialization\">stackoverflow.com/questions/36795151/&hellip;</a>) suggests to use either annotation or above mentioned help , and I want to do this work with annotation only. do I need to use mapper.registerModule(new JodaModule()); with annotation?"},{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":1,"creation_date":1468856174,"post_id":38433432,"comment_id":64287156,"body_markdown":"Both the solutions state that `DateTimeDeserializer` **does not have a no-arg constructor**, which is indeed your problem. If you want to use only annotations, you can simply extend the it yourself and add a no-arg constructor which calls `super` with the necessary parameters.","body":"Both the solutions state that <code>DateTimeDeserializer</code> <b>does not have a no-arg constructor</b>, which is indeed your problem. If you want to use only annotations, you can simply extend the it yourself and add a no-arg constructor which calls <code>super</code> with the necessary parameters."}],"answers":[{"tags":[],"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1468857128,"creation_date":1468857128,"answer_id":38441102,"question_id":38433432,"body_markdown":"Looking at the latest sources of [`DateTimeDeserializer`][1] you can easily see that it does not have a no-arg constructor, which seems to be required by the framework. This is also indicated in both the linked questions: https://stackoverflow.com/questions/22643367/joda-time-datetime-deserialization-error &amp; https://stackoverflow.com/questions/36795151/jackson-retrofit-jodatime-deserialization\r\n\r\nSince you want to use only an annotation based solution, a possible workaround would be to create your own deserializer which extends the `DateTimeDeserializer` and provides a nor-arg constructor.\r\n\r\n**1) `MyDateTimeSerializer`**\r\n\r\n    import com.fasterxml.jackson.datatype.joda.cfg.FormatConfig;\r\n    import com.fasterxml.jackson.datatype.joda.deser.DateTimeDeserializer;\r\n    import org.joda.time.DateTime;\r\n\r\n    public class MyDateTimeDeserializer extends DateTimeDeserializer {\r\n        public MyDateTimeDeserializer() {\r\n            // no arg constructor providing default values for super call\r\n            super(DateTime.class, FormatConfig.DEFAULT_DATETIME_PARSER);\r\n        }\r\n    }\r\n\r\n**2) `AClass` using the custom deserializer**\r\n\r\n    import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n    import com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\n    import com.fasterxml.jackson.datatype.joda.ser.DateTimeSerializer;\r\n    import org.joda.time.DateTime;\r\n    import org.joda.time.DateTimeZone;\r\n\r\n    public class AClass {\r\n    \r\n        @JsonSerialize(using = DateTimeSerializer.class) // old serializer\r\n        @JsonDeserialize(using = MyDateTimeDeserializer.class) // new deserializer\r\n        private DateTime createdOn = DateTime.now(DateTimeZone.UTC); // some dummy data for the sake of brevity\r\n    \r\n        public DateTime getCreatedOn() {\r\n            return createdOn;\r\n        }\r\n    \r\n        public void setCreatedOn(DateTime createdOn) {\r\n            this.createdOn = createdOn;\r\n        }\r\n    }\r\n\r\n**3) Unit test**\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.junit.Test;\r\n    \r\n    import static org.hamcrest.CoreMatchers.equalTo;\r\n    import static org.hamcrest.CoreMatchers.is;\r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.junit.Assert.assertThat;\r\n\r\n    public class ATest {\r\n        @Test\r\n        public void testSomeMethod() throws Exception {\r\n            // Jackson object mapper to test serialization / deserialization\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n            // our object\r\n            AClass initialObject = new AClass();\r\n    \r\n            // serialize it\r\n            String serializedObject = objectMapper.writeValueAsString(initialObject);\r\n\r\n            // deserialize it\r\n            AClass deserializedObject = objectMapper.readValue(serializedObject, AClass.class);\r\n    \r\n            // check that the dates are equal (no equals implementation on the class itself...)\r\n            assertThat(deserializedObject.getCreatedOn(), is(equalTo(initialObject.getCreatedOn())));\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/FasterXML/jackson-datatype-joda/blob/master/src/main/java/com/fasterxml/jackson/datatype/joda/deser/DateTimeDeserializer.java\r\n","title":"Class com.fasterxml.jackson.datatype.joda.deser.DateTimeDeserializer has no default (no arg) constructor","body":"<p>Looking at the latest sources of <a href=\"https://github.com/FasterXML/jackson-datatype-joda/blob/master/src/main/java/com/fasterxml/jackson/datatype/joda/deser/DateTimeDeserializer.java\" rel=\"noreferrer\"><code>DateTimeDeserializer</code></a> you can easily see that it does not have a no-arg constructor, which seems to be required by the framework. This is also indicated in both the linked questions: <a href=\"https://stackoverflow.com/questions/22643367/joda-time-datetime-deserialization-error\">joda.time.DateTime deserialization error</a> &amp; <a href=\"https://stackoverflow.com/questions/36795151/jackson-retrofit-jodatime-deserialization\">Jackson, Retrofit, JodaTime deserialization</a></p>\n\n<p>Since you want to use only an annotation based solution, a possible workaround would be to create your own deserializer which extends the <code>DateTimeDeserializer</code> and provides a nor-arg constructor.</p>\n\n<p><strong>1) <code>MyDateTimeSerializer</code></strong></p>\n\n<pre><code>import com.fasterxml.jackson.datatype.joda.cfg.FormatConfig;\nimport com.fasterxml.jackson.datatype.joda.deser.DateTimeDeserializer;\nimport org.joda.time.DateTime;\n\npublic class MyDateTimeDeserializer extends DateTimeDeserializer {\n    public MyDateTimeDeserializer() {\n        // no arg constructor providing default values for super call\n        super(DateTime.class, FormatConfig.DEFAULT_DATETIME_PARSER);\n    }\n}\n</code></pre>\n\n<p><strong>2) <code>AClass</code> using the custom deserializer</strong></p>\n\n<pre><code>import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport com.fasterxml.jackson.datatype.joda.ser.DateTimeSerializer;\nimport org.joda.time.DateTime;\nimport org.joda.time.DateTimeZone;\n\npublic class AClass {\n\n    @JsonSerialize(using = DateTimeSerializer.class) // old serializer\n    @JsonDeserialize(using = MyDateTimeDeserializer.class) // new deserializer\n    private DateTime createdOn = DateTime.now(DateTimeZone.UTC); // some dummy data for the sake of brevity\n\n    public DateTime getCreatedOn() {\n        return createdOn;\n    }\n\n    public void setCreatedOn(DateTime createdOn) {\n        this.createdOn = createdOn;\n    }\n}\n</code></pre>\n\n<p><strong>3) Unit test</strong></p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport org.junit.Test;\n\nimport static org.hamcrest.CoreMatchers.equalTo;\nimport static org.hamcrest.CoreMatchers.is;\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertThat;\n\npublic class ATest {\n    @Test\n    public void testSomeMethod() throws Exception {\n        // Jackson object mapper to test serialization / deserialization\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        // our object\n        AClass initialObject = new AClass();\n\n        // serialize it\n        String serializedObject = objectMapper.writeValueAsString(initialObject);\n\n        // deserialize it\n        AClass deserializedObject = objectMapper.readValue(serializedObject, AClass.class);\n\n        // check that the dates are equal (no equals implementation on the class itself...)\n        assertThat(deserializedObject.getCreatedOn(), is(equalTo(initialObject.getCreatedOn())));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647472872,"creation_date":1647472872,"answer_id":71505345,"question_id":38433432,"body_markdown":"This deserializer was never meant to be used by annotations; and as others have mentioned, cannot. In general you really should just add/register `JodaModule` and serializer/deserializer gets added as expected.\r\n\r\nI am not sure why you would not want to go that route; it might be worth expanding on why this solution \r\n(or registering deserializer you get by `DateTimeDeserializer.forType(ReadableDateTime.class)` through your custom module)\r\nis not applicable.\r\n","title":"Class com.fasterxml.jackson.datatype.joda.deser.DateTimeDeserializer has no default (no arg) constructor","body":"<p>This deserializer was never meant to be used by annotations; and as others have mentioned, cannot. In general you really should just add/register <code>JodaModule</code> and serializer/deserializer gets added as expected.</p>\n<p>I am not sure why you would not want to go that route; it might be worth expanding on why this solution\n(or registering deserializer you get by <code>DateTimeDeserializer.forType(ReadableDateTime.class)</code> through your custom module)\nis not applicable.</p>\n"}],"owner":{"account_id":5201790,"reputation":402,"user_id":4160914,"accept_rate":27,"display_name":"Geetanjali Jain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5469,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1647472872,"creation_date":1468834973,"question_id":38433432,"body_markdown":"I am getting an error - &#39;Class com.fasterxml.jackson.datatype.joda.deser.DateTimeDeserializer has no default (no arg) constructor&#39; while I am trying to call restangular for post request. When I call the method it goes in the error block.\r\n\r\n    Restangular.all(&#39;tests&#39;).post($scope.test).then(function (data) {\r\n                        $scope.test.id = data.id;\r\n                        $location.path($location.path() + data.id).replace();\r\n                    }, function (error) {\r\n                        $scope.exceptionDetails = validationMapper(error);\r\n                    });\r\n\r\n I am using **jackson-datatype-joda - 2.6.5**\r\n\r\nThe entity class used in this method as follows -\r\n\r\n\r\n    @Data\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @Entity\r\n    @Table(name = &quot;Test&quot;)\r\n    @EqualsAndHashCode(of = &quot;id&quot;, callSuper = false)\r\n    @ToString(exclude = {&quot;keywords&quot;, &quot;relevantObjectIds&quot;})\r\n    public class Test {\r\n        @Id\r\n        @Column(unique = true, length = 36)\r\n        private String id;\r\n    \r\n        @NotBlank\r\n        @NotNull\r\n        private String name;\r\n    \r\n        @Transient\r\n        private List&lt;Testabc&gt; Testabcs = new ArrayList&lt;&gt;();\r\n    \r\n    }\r\n\r\nThe entity class used in above entity Testabc class as follows\r\n\r\n \r\n\r\n    @Data\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @Slf4j\r\n    @Entity\r\n    @Table(name = &quot;Test_abc&quot;)\r\n    @EqualsAndHashCode(of = &quot;id&quot;, callSuper = false)\r\n    public class Testabc{\r\n        @Id\r\n        @Column(unique = true, length = 36)\r\n        @NotNull\r\n        private String id = UUID.randomUUID().toString();\r\n    \r\n     @Type(type = &quot;org.jadira.usertype.dateandtime.joda.PersistentDateTime&quot;)\r\n        @JsonDeserialize(using = DateTimeDeserializer.class)\r\n        @JsonSerialize(using = DateTimeSerializer.class)\r\n        private DateTime createdOn;\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;Id&quot;)\r\n        @NotNull\r\n        private t1 pid;\r\n    \r\n        private long originalSize;\r\n    }\r\n\r\nFinally resource class where I am requesting to create test data -\r\n\r\n    @ApiOperation(value = &quot;Create new Test&quot;, notes = &quot;Create a new Test and return with its unique id&quot;, response = Test.class)\r\n        @POST\r\n        @Timed\r\n        public Test create(Test newInstance) {\r\n            return super.create(newInstance);\r\n        }\r\n\r\n\r\nI have tried to add this \r\n    **@JsonIgnoreProperties(ignoreUnknown = true)** annotation on entity class, but it doesn&#39;t work.\r\n\r\n\r\nCan anyone help to resolve this problem?","title":"Class com.fasterxml.jackson.datatype.joda.deser.DateTimeDeserializer has no default (no arg) constructor","body":"<p>I am getting an error - 'Class com.fasterxml.jackson.datatype.joda.deser.DateTimeDeserializer has no default (no arg) constructor' while I am trying to call restangular for post request. When I call the method it goes in the error block.</p>\n\n<pre><code>Restangular.all('tests').post($scope.test).then(function (data) {\n                    $scope.test.id = data.id;\n                    $location.path($location.path() + data.id).replace();\n                }, function (error) {\n                    $scope.exceptionDetails = validationMapper(error);\n                });\n</code></pre>\n\n<p>I am using <strong>jackson-datatype-joda - 2.6.5</strong></p>\n\n<p>The entity class used in this method as follows -</p>\n\n<pre><code>@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@Entity\n@Table(name = \"Test\")\n@EqualsAndHashCode(of = \"id\", callSuper = false)\n@ToString(exclude = {\"keywords\", \"relevantObjectIds\"})\npublic class Test {\n    @Id\n    @Column(unique = true, length = 36)\n    private String id;\n\n    @NotBlank\n    @NotNull\n    private String name;\n\n    @Transient\n    private List&lt;Testabc&gt; Testabcs = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n\n<p>The entity class used in above entity Testabc class as follows</p>\n\n<pre><code>@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@Slf4j\n@Entity\n@Table(name = \"Test_abc\")\n@EqualsAndHashCode(of = \"id\", callSuper = false)\npublic class Testabc{\n    @Id\n    @Column(unique = true, length = 36)\n    @NotNull\n    private String id = UUID.randomUUID().toString();\n\n @Type(type = \"org.jadira.usertype.dateandtime.joda.PersistentDateTime\")\n    @JsonDeserialize(using = DateTimeDeserializer.class)\n    @JsonSerialize(using = DateTimeSerializer.class)\n    private DateTime createdOn;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = \"Id\")\n    @NotNull\n    private t1 pid;\n\n    private long originalSize;\n}\n</code></pre>\n\n<p>Finally resource class where I am requesting to create test data -</p>\n\n<pre><code>@ApiOperation(value = \"Create new Test\", notes = \"Create a new Test and return with its unique id\", response = Test.class)\n    @POST\n    @Timed\n    public Test create(Test newInstance) {\n        return super.create(newInstance);\n    }\n</code></pre>\n\n<p>I have tried to add this \n    <strong>@JsonIgnoreProperties(ignoreUnknown = true)</strong> annotation on entity class, but it doesn't work.</p>\n\n<p>Can anyone help to resolve this problem?</p>\n"},{"tags":["java","windows","printing","applet"],"answers":[{"tags":[],"owner":{"account_id":1031668,"reputation":21,"user_id":1039880,"display_name":"SnowJack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1339444400,"creation_date":1339444400,"answer_id":10986648,"question_id":10954217,"body_markdown":"Okay so I solved my own problem.  I did not include the print format to the printable.\r\n\r\n     job.setPrintable(this,pFormat);\r\n\r\nThis cause some other interesting problems with print quality and location in Windows and location in Mac.\r\n\r\nI solved the quality issues by removing the DPI and and PrintQuality.HIGH from the attributes.\r\n\r\nI solved the location issue with the following code in the prinatble function:\r\n\r\n     g2d.translate(pf.getImageableX() + 30, pf.getImageableY()+30);\r\n\r\nI also switched to the new Copies to attributes to allow me to easily control the amount of copies they want printed.\r\n\r\nStill not sure if this is the best way to go about this but it works! ","title":"Adding cropping on PC when printing","body":"<p>Okay so I solved my own problem.  I did not include the print format to the printable.</p>\n\n<pre><code> job.setPrintable(this,pFormat);\n</code></pre>\n\n<p>This cause some other interesting problems with print quality and location in Windows and location in Mac.</p>\n\n<p>I solved the quality issues by removing the DPI and and PrintQuality.HIGH from the attributes.</p>\n\n<p>I solved the location issue with the following code in the prinatble function:</p>\n\n<pre><code> g2d.translate(pf.getImageableX() + 30, pf.getImageableY()+30);\n</code></pre>\n\n<p>I also switched to the new Copies to attributes to allow me to easily control the amount of copies they want printed.</p>\n\n<p>Still not sure if this is the best way to go about this but it works! </p>\n"}],"owner":{"account_id":1031668,"reputation":21,"user_id":1039880,"display_name":"SnowJack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10986648,"answer_count":1,"score":1,"last_activity_date":1647471802,"creation_date":1339180233,"question_id":10954217,"body_markdown":"Have not touched Java in a few years but I was asked to make some Java code to print a picture and some text several times. It works fine on a Mac but printing from a Windows machine the print out is cropped. The image is his res and about 8x10 at 300DPI.\r\n\r\n    public class printClass implements Printable {\r\n\r\n    BufferedImage image;\r\n    private URL url;\r\n\r\n    printClass(URL url1) {\r\n        url = url1;\r\n    }\r\n\r\n    public int print(Graphics g, PageFormat pf, int page) throws PrinterException {\r\n\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.translate(pf.getImageableX(), pf.getImageableY());\r\n\r\n        AffineTransform theAT = g2d.getTransform();\r\n\r\n        double theScaleFactor = (72d / 300d);\r\n\r\n        Font font = new Font(&quot;Arial&quot;, Font.PLAIN, 10);\r\n        Font font2 = new Font(&quot;Arial&quot;, Font.PLAIN, 5);\r\n\r\n        g2d.setFont(font);\r\n\r\n        if (page &lt; 10) {\r\n            g2d.scale(theScaleFactor, theScaleFactor);\r\n            g2d.drawRenderedImage(image, null);\r\n            g2d.setTransform(theAT);\r\n            return PAGE_EXISTS;\r\n        } else {\r\n            return NO_SUCH_PAGE;\r\n        }\r\n\r\n    }public void init() {\r\n\r\n        try {\r\n            img = ImageIO.read(url);\r\n            image = (BufferedImage) img;\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error: &quot; + e);\r\n        }\r\n        PrinterJob job = PrinterJob.getPrinterJob();\r\n        PrinterResolution pr = new PrinterResolution(300, 300, PrinterResolution.DPI);\r\n        PrintRequestAttributeSet attrib = new HashPrintRequestAttributeSet();\r\n        PageFormat pFormat = job.getPageFormat(attrib);\r\n        Paper paper = pFormat.getPaper();\r\n        paper.setImageableArea(0.0,0.0,pFormat.getPaper().getWidth(), pFormat.getPaper().getHeight());\r\n        pFormat.setPaper(paper);\r\n        \r\n\r\n        attrib.add(pr);\r\n        attrib.add(PrintQuality.HIGH);\r\n\r\n        job.setPrintable(this);\r\n\r\n        boolean ok = job.printDialog();\r\n        if (ok) {\r\n            try {\r\n                job.print(attrib);\r\n            } catch (PrinterException ex) {\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nThe URL is the image being printed. This is part of a Java applet. The text addition part is missing in this code but it is like the following:\r\n\r\n     g.drawString(markUpText, x, y);\r\n\r\n","title":"Adding cropping on PC when printing","body":"<p>Have not touched Java in a few years but I was asked to make some Java code to print a picture and some text several times. It works fine on a Mac but printing from a Windows machine the print out is cropped. The image is his res and about 8x10 at 300DPI.</p>\n<pre><code>public class printClass implements Printable {\n\nBufferedImage image;\nprivate URL url;\n\nprintClass(URL url1) {\n    url = url1;\n}\n\npublic int print(Graphics g, PageFormat pf, int page) throws PrinterException {\n\n    Graphics2D g2d = (Graphics2D) g;\n    g2d.translate(pf.getImageableX(), pf.getImageableY());\n\n    AffineTransform theAT = g2d.getTransform();\n\n    double theScaleFactor = (72d / 300d);\n\n    Font font = new Font(&quot;Arial&quot;, Font.PLAIN, 10);\n    Font font2 = new Font(&quot;Arial&quot;, Font.PLAIN, 5);\n\n    g2d.setFont(font);\n\n    if (page &lt; 10) {\n        g2d.scale(theScaleFactor, theScaleFactor);\n        g2d.drawRenderedImage(image, null);\n        g2d.setTransform(theAT);\n        return PAGE_EXISTS;\n    } else {\n        return NO_SUCH_PAGE;\n    }\n\n}public void init() {\n\n    try {\n        img = ImageIO.read(url);\n        image = (BufferedImage) img;\n    } catch (IOException e) {\n        System.out.println(&quot;Error: &quot; + e);\n    }\n    PrinterJob job = PrinterJob.getPrinterJob();\n    PrinterResolution pr = new PrinterResolution(300, 300, PrinterResolution.DPI);\n    PrintRequestAttributeSet attrib = new HashPrintRequestAttributeSet();\n    PageFormat pFormat = job.getPageFormat(attrib);\n    Paper paper = pFormat.getPaper();\n    paper.setImageableArea(0.0,0.0,pFormat.getPaper().getWidth(), pFormat.getPaper().getHeight());\n    pFormat.setPaper(paper);\n    \n\n    attrib.add(pr);\n    attrib.add(PrintQuality.HIGH);\n\n    job.setPrintable(this);\n\n    boolean ok = job.printDialog();\n    if (ok) {\n        try {\n            job.print(attrib);\n        } catch (PrinterException ex) {\n        }\n    }\n}\n}\n</code></pre>\n<p>The URL is the image being printed. This is part of a Java applet. The text addition part is missing in this code but it is like the following:</p>\n<pre><code> g.drawString(markUpText, x, y);\n</code></pre>\n"},{"tags":["java","oop","design-patterns","switch-statement","refactoring"],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647204087,"creation_date":1647204087,"answer_id":71460673,"question_id":71459597,"body_markdown":"If I understood question correctly, then it is necessary to apply some action by its state.\r\nIf it is true, then we can use Factory pattern to get desired object which can execute some action. Mapping between state and action can be putted into `HashTable`.\r\n\r\nSo let&#39;s see an example of code. I will write via C#, but this code can be easily translated to Java because languages have many syntax similarities.\r\n\r\nSo we will have enum of statuses:\r\n\r\n\tpublic enum Status \r\n    { \r\n        Active,\r\n        Deleted,\r\n        Foo\r\n    }\r\n\r\nand states of `AccountState`\r\n\r\n\tpublic abstract class AccountState\r\n\t{\r\n\t\tpublic abstract void ExecSomeLogic();\r\n\t}\r\n\r\n\tpublic class ActiveState : AccountState // &quot;extends&quot; instead of &quot;:&quot; in Java\r\n\t{\r\n\t\tpublic override void ExecSomeLogic()\r\n\t\t{\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class DeletedState : AccountState // &quot;extends&quot; instead of &quot;:&quot; in Java\r\n\t{\r\n\t\tpublic override void ExecSomeLogic()\r\n\t\t{\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class FooState : AccountState // &quot;extends&quot; instead of &quot;:&quot; in Java\r\n\t{\r\n\t\tpublic override void ExecSomeLogic()\r\n\t\t{\r\n\t\t}\r\n\t}\r\n\t\r\nThen we need mapper class of `Status` to their `AccountState`:\r\n\r\n\tpublic class StatusToAccountState \r\n    {\r\n        public Dictionary&lt;Status, AccountState&gt; AccountStateByStatus { get; set; } = \r\n            new Dictionary&lt;Status, AccountState&gt;() // HashMap in Java\r\n        {\r\n            { Status.Active, new ActiveState() },\r\n            { Status.Deleted, new DeletedState() },\r\n            { Status.Foo, new FooState() },\r\n        };\r\n    }\r\n\t\r\nAnd then in your service you can use it like this:\r\n\r\n\tvoid Delete(long id, Status status)\r\n\t{\r\n\t\tStatusToAccountState statusToAccountState = new StatusToAccountState();\r\n\t\tAccountState accountState = statusToAccountState.AccountStateByStatus[status];\r\n\t\taccountState.ExecSomeLogic();\r\n\t}\r\n\t\r\nIf there are many logic to figure out what `Status` of object is, then you can create some class which will have just one responisibility of figuring out what state of object is:\r\n\r\n\tpublic class StatusManager\r\n\t{\r\n\t\tpublic Status Get() \r\n\t\t{\r\n\t\t\treturn Status.Active; // or something another based on logic\r\n\t\t}\r\n\t}\r\n\r\n\r\nAfter doing this, your classes will correspond to the single responsibility principle of SOLID. [Read more about single responsibility principle of SOLID here][1]\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/17100/clarify-the-single-responsibility-principle","title":"Design pattern for state-based entity handling","body":"<p>If I understood question correctly, then it is necessary to apply some action by its state.\nIf it is true, then we can use Factory pattern to get desired object which can execute some action. Mapping between state and action can be putted into <code>HashTable</code>.</p>\n<p>So let's see an example of code. I will write via C#, but this code can be easily translated to Java because languages have many syntax similarities.</p>\n<p>So we will have enum of statuses:</p>\n<pre><code>public enum Status \n{ \n    Active,\n    Deleted,\n    Foo\n}\n</code></pre>\n<p>and states of <code>AccountState</code></p>\n<pre><code>public abstract class AccountState\n{\n    public abstract void ExecSomeLogic();\n}\n\npublic class ActiveState : AccountState // &quot;extends&quot; instead of &quot;:&quot; in Java\n{\n    public override void ExecSomeLogic()\n    {\n    }\n}\n\npublic class DeletedState : AccountState // &quot;extends&quot; instead of &quot;:&quot; in Java\n{\n    public override void ExecSomeLogic()\n    {\n    }\n}\n\npublic class FooState : AccountState // &quot;extends&quot; instead of &quot;:&quot; in Java\n{\n    public override void ExecSomeLogic()\n    {\n    }\n}\n</code></pre>\n<p>Then we need mapper class of <code>Status</code> to their <code>AccountState</code>:</p>\n<pre><code>public class StatusToAccountState \n{\n    public Dictionary&lt;Status, AccountState&gt; AccountStateByStatus { get; set; } = \n        new Dictionary&lt;Status, AccountState&gt;() // HashMap in Java\n    {\n        { Status.Active, new ActiveState() },\n        { Status.Deleted, new DeletedState() },\n        { Status.Foo, new FooState() },\n    };\n}\n</code></pre>\n<p>And then in your service you can use it like this:</p>\n<pre><code>void Delete(long id, Status status)\n{\n    StatusToAccountState statusToAccountState = new StatusToAccountState();\n    AccountState accountState = statusToAccountState.AccountStateByStatus[status];\n    accountState.ExecSomeLogic();\n}\n</code></pre>\n<p>If there are many logic to figure out what <code>Status</code> of object is, then you can create some class which will have just one responisibility of figuring out what state of object is:</p>\n<pre><code>public class StatusManager\n{\n    public Status Get() \n    {\n        return Status.Active; // or something another based on logic\n    }\n}\n</code></pre>\n<p>After doing this, your classes will correspond to the single responsibility principle of SOLID. <a href=\"https://softwareengineering.stackexchange.com/questions/17100/clarify-the-single-responsibility-principle\">Read more about single responsibility principle of SOLID here</a></p>\n"},{"tags":[],"owner":{"account_id":21168786,"reputation":76,"user_id":15565539,"display_name":"Oli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647204095,"creation_date":1647204095,"answer_id":71460674,"question_id":71459597,"body_markdown":"Too many switch-/if-Statements indicate the code smell &quot;Tool Abusers&quot; (see M. Fowler &quot;Refactoring&quot;). Use the polymorphism mechanics to solve this. \r\n[https://refactoring.guru/smells/switch-statements][1]\r\n\r\n\r\n  [1]: https://refactoring.guru/smells/switch-statements","title":"Design pattern for state-based entity handling","body":"<p>Too many switch-/if-Statements indicate the code smell &quot;Tool Abusers&quot; (see M. Fowler &quot;Refactoring&quot;). Use the polymorphism mechanics to solve this.\n<a href=\"https://refactoring.guru/smells/switch-statements\" rel=\"nofollow noreferrer\">https://refactoring.guru/smells/switch-statements</a></p>\n"}],"owner":{"account_id":960281,"reputation":388,"user_id":9387519,"display_name":"Five"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71460673,"answer_count":2,"score":2,"last_activity_date":1647471719,"creation_date":1647195672,"question_id":71459597,"body_markdown":"My question is about what should be the most OOP solution and the right design pattern for my situation. We have a user entity and multiple account entities belong to the user. Account entities can have multiple states and we can execute multiple operations on accounts. The outcome of these operations is based on the account entity&#39;s state.\r\n\r\nI have the following code which is based mostly on switch (sometimes it looks like a few &quot;if&quot;).  I would like to change it but cannot find the right design pattern.\r\n\r\n```java\r\nenum Status {\r\n    ACTIVE, INACTIVE, DELETED; \r\n}\r\n\r\n@Entity\r\nclass Account {\r\n    private long id;\r\n    private long userid;\r\n    private Status status;\r\n\r\n    //...\r\n}\r\n\r\nclass AccountService{\r\n\r\n    Account delete(long id) {\r\n        //...\r\n        \r\n        if (accountInfo.getSatus() == DELETED) {\r\n            throw new IllegalOperationException();\r\n        }\r\n        if (accountInfo.getStatus() == ACTIVE || accountInfo.getStatus()) {\r\n            accountInfo.setStatus(DELETED);\r\n            accountInfoRepository.save(accountInfo);\r\n        }\r\n    }\r\n\r\n    Account create (Account account) {\r\n        // various operations based on state\r\n    }\r\n}\r\n\r\n```\r\n \r\nI really want to refactor these codes, I fear that as soon as our service grows it will contain more &quot;magic&quot; and will be hard to maintain. And if we would like to introduce a new state it will be nearly impossible.\r\n\r\nMy junior mind thought that I should have state objects which would implement all the operations, in pseudo-code style:\r\n\r\n```java\r\nclass AccountService {\r\n    private StateFactory stateFactory;\r\n    private AccountRepository accountRepository;\r\n\r\n    Account delete(long id) {\r\n        final Optional&lt;Account&gt; account = accountRepository.findById(id);\r\n        Account deletedAccount = account.map(stateFactory::getByState)\r\n                                        .map(accountState -&gt; accountState.delete(account))\r\n                                        .orElseThrow(() -&gt; new IllegalOperationException());\r\n        return accountRepository.save(deletedAccount); \r\n    }\r\n\r\n    Account create (Account account) {\r\n        // various operation based on state\r\n    }\r\n}\r\n```\r\n\r\nand:\r\n\r\n```\r\nclass ActiveState extends AccountState {\r\n\r\n    @Override\r\n    public Account delete(Account account) {\r\n        //implementation\r\n    }\r\n\r\n    @Override\r\n    public Account activate(AccountInfo) {\r\n        // implementation\r\n    }\r\n}\r\n```\r\n\r\nand:\r\n\r\n```\r\ninterface AccountState {\r\n    Account activate(AccountInfo);\r\n    Account delete(AccountInfo);\r\n}\r\n```\r\n\r\nI know there must be a better implementation for this problem. Which other design patterns are suitable for this setup?\r\n\r\n\r\n**UPDATE**\r\n\r\nI have found a few interesting articles to read in the topic:\r\n\r\nhttps://stackoverflow.com/questions/13221168/how-to-implement-a-fsm-finite-state-machine-in-java\r\n\r\n[When you have more complex state handling][1]\r\n\r\n\r\n  [1]: http://magicscrollsofcode.blogspot.com/2010/12/behavior-trees-by-example-ai-in-android.html","title":"Design pattern for state-based entity handling","body":"<p>My question is about what should be the most OOP solution and the right design pattern for my situation. We have a user entity and multiple account entities belong to the user. Account entities can have multiple states and we can execute multiple operations on accounts. The outcome of these operations is based on the account entity's state.</p>\n<p>I have the following code which is based mostly on switch (sometimes it looks like a few &quot;if&quot;).  I would like to change it but cannot find the right design pattern.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Status {\n    ACTIVE, INACTIVE, DELETED; \n}\n\n@Entity\nclass Account {\n    private long id;\n    private long userid;\n    private Status status;\n\n    //...\n}\n\nclass AccountService{\n\n    Account delete(long id) {\n        //...\n        \n        if (accountInfo.getSatus() == DELETED) {\n            throw new IllegalOperationException();\n        }\n        if (accountInfo.getStatus() == ACTIVE || accountInfo.getStatus()) {\n            accountInfo.setStatus(DELETED);\n            accountInfoRepository.save(accountInfo);\n        }\n    }\n\n    Account create (Account account) {\n        // various operations based on state\n    }\n}\n\n</code></pre>\n<p>I really want to refactor these codes, I fear that as soon as our service grows it will contain more &quot;magic&quot; and will be hard to maintain. And if we would like to introduce a new state it will be nearly impossible.</p>\n<p>My junior mind thought that I should have state objects which would implement all the operations, in pseudo-code style:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class AccountService {\n    private StateFactory stateFactory;\n    private AccountRepository accountRepository;\n\n    Account delete(long id) {\n        final Optional&lt;Account&gt; account = accountRepository.findById(id);\n        Account deletedAccount = account.map(stateFactory::getByState)\n                                        .map(accountState -&gt; accountState.delete(account))\n                                        .orElseThrow(() -&gt; new IllegalOperationException());\n        return accountRepository.save(deletedAccount); \n    }\n\n    Account create (Account account) {\n        // various operation based on state\n    }\n}\n</code></pre>\n<p>and:</p>\n<pre><code>class ActiveState extends AccountState {\n\n    @Override\n    public Account delete(Account account) {\n        //implementation\n    }\n\n    @Override\n    public Account activate(AccountInfo) {\n        // implementation\n    }\n}\n</code></pre>\n<p>and:</p>\n<pre><code>interface AccountState {\n    Account activate(AccountInfo);\n    Account delete(AccountInfo);\n}\n</code></pre>\n<p>I know there must be a better implementation for this problem. Which other design patterns are suitable for this setup?</p>\n<p><strong>UPDATE</strong></p>\n<p>I have found a few interesting articles to read in the topic:</p>\n<p><a href=\"https://stackoverflow.com/questions/13221168/how-to-implement-a-fsm-finite-state-machine-in-java\">How to implement a FSM - Finite State Machine in Java</a></p>\n<p><a href=\"http://magicscrollsofcode.blogspot.com/2010/12/behavior-trees-by-example-ai-in-android.html\" rel=\"nofollow noreferrer\">When you have more complex state handling</a></p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":8232817,"reputation":25,"user_id":6231150,"display_name":"Dheeraj Putta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647471659,"creation_date":1647471659,"question_id":71505206,"body_markdown":"I have a dummy server that is sending text over a socket to my Spark program. I would like the program to then be able to process the text to determine the frequency of a word relative to the amount of words in a `Window`. Below is the code I have tried\r\n\r\n```\r\nimport org.apache.spark.SparkConf;\r\nimport org.apache.spark.streaming.Duration;\r\nimport org.apache.spark.streaming.Durations;\r\nimport org.apache.spark.streaming.api.java.JavaDStream;\r\nimport org.apache.spark.streaming.api.java.JavaPairDStream;\r\nimport org.apache.spark.streaming.api.java.JavaStreamingContext;\r\nimport scala.Tuple2;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class TwitterStream{\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        SparkConf sparkConf = new SparkConf()\r\n                .setAppName(&quot;Twitter&quot;)\r\n                .setMaster(&quot;local[4]&quot;)\r\n                .set(&quot;spark.executor.memory&quot;, &quot;1g&quot;);\r\n\r\n        JavaStreamingContext jssc = new JavaStreamingContext(sparkConf, new Duration(2000));\r\n\r\n        JavaDStream&lt;String&gt; window = tweets.window(Durations.seconds(6), Durations.seconds(2));\r\n\r\n        JavaDStream&lt;String&gt; words = window.flatMap(x -&gt; Arrays.stream(x.split(&quot; &quot;)).iterator());\r\n\r\n        JavaDStream&lt;String&gt; window = words.window(Durations.seconds(6), Durations.seconds(2));\r\n\r\n        JavaPairDStream&lt;String, Long&gt; pairs = window.mapToPair(s -&gt; new Tuple2&lt;&gt;(s, 1L));\r\n        JavaPairDStream&lt;String, Long&gt; wordCounts = pairs.reduceByKey((i1, i2) -&gt; i1 + i2);\r\n\r\n        JavaDStream&lt;Tuple2&gt; test = wordCounts.transform(f -&gt; f.map(x -&gt; new Tuple2&lt;&gt;(x._1, x._2/f.count())));\r\n\r\n        test.print();\r\n\r\n        jssc.start();\r\n\r\n        jssc.awaitTermination();\r\n\r\n        jssc.stop();\r\n    }\r\n}\r\n```\r\n\r\nI initially tried to use the `transform` method on the `WordCounts` object but it resulted in the following error\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 2.0 failed 1 times, most recent failure: Lost task 0.0 in stage 2.0 (TID 6, localhost, executor driver): org.apache.spark.SparkException: This RDD lacks a SparkContext. It could happen in the following cases: \r\n(1) RDD transformations and actions are NOT invoked by the driver, but inside of other transformations; for example, rdd1.map(x =&gt; rdd2.values.count() * x) is invalid because the values transformation and count action cannot be performed inside of the rdd1.map transformation. For more information, see SPARK-5063.\r\n(2) When a Spark Streaming job recovers from checkpoint, this exception will be hit if a reference to an RDD not defined by the streaming job is used in DStream operations. For more information, See SPARK-13758.\r\n```\r\nSo then I thought I would just try and use the `count` method for the `windows` object and divide it by the number of occurrences of a word but this resulted in an error as count returns a `JavaDStream` and not a long.\r\n\r\n```\r\nwordCounts.mapToPair(x -&gt; {return new Tuple2&lt;&gt;(x._1, x._2/wordCounts.count());});\r\n```\r\n\r\nThe program should be able to print out something like `(test,0.2232), (car,0.1342), ...`\r\n\r\nThanks in advance.","title":"Compute the frequency of words using Spark Streaming","body":"<p>I have a dummy server that is sending text over a socket to my Spark program. I would like the program to then be able to process the text to determine the frequency of a word relative to the amount of words in a <code>Window</code>. Below is the code I have tried</p>\n<pre><code>import org.apache.spark.SparkConf;\nimport org.apache.spark.streaming.Duration;\nimport org.apache.spark.streaming.Durations;\nimport org.apache.spark.streaming.api.java.JavaDStream;\nimport org.apache.spark.streaming.api.java.JavaPairDStream;\nimport org.apache.spark.streaming.api.java.JavaStreamingContext;\nimport scala.Tuple2;\n\nimport java.util.Arrays;\n\npublic class TwitterStream{\n\n    public static void main(String[] args) throws InterruptedException {\n        SparkConf sparkConf = new SparkConf()\n                .setAppName(&quot;Twitter&quot;)\n                .setMaster(&quot;local[4]&quot;)\n                .set(&quot;spark.executor.memory&quot;, &quot;1g&quot;);\n\n        JavaStreamingContext jssc = new JavaStreamingContext(sparkConf, new Duration(2000));\n\n        JavaDStream&lt;String&gt; window = tweets.window(Durations.seconds(6), Durations.seconds(2));\n\n        JavaDStream&lt;String&gt; words = window.flatMap(x -&gt; Arrays.stream(x.split(&quot; &quot;)).iterator());\n\n        JavaDStream&lt;String&gt; window = words.window(Durations.seconds(6), Durations.seconds(2));\n\n        JavaPairDStream&lt;String, Long&gt; pairs = window.mapToPair(s -&gt; new Tuple2&lt;&gt;(s, 1L));\n        JavaPairDStream&lt;String, Long&gt; wordCounts = pairs.reduceByKey((i1, i2) -&gt; i1 + i2);\n\n        JavaDStream&lt;Tuple2&gt; test = wordCounts.transform(f -&gt; f.map(x -&gt; new Tuple2&lt;&gt;(x._1, x._2/f.count())));\n\n        test.print();\n\n        jssc.start();\n\n        jssc.awaitTermination();\n\n        jssc.stop();\n    }\n}\n</code></pre>\n<p>I initially tried to use the <code>transform</code> method on the <code>WordCounts</code> object but it resulted in the following error</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 2.0 failed 1 times, most recent failure: Lost task 0.0 in stage 2.0 (TID 6, localhost, executor driver): org.apache.spark.SparkException: This RDD lacks a SparkContext. It could happen in the following cases: \n(1) RDD transformations and actions are NOT invoked by the driver, but inside of other transformations; for example, rdd1.map(x =&gt; rdd2.values.count() * x) is invalid because the values transformation and count action cannot be performed inside of the rdd1.map transformation. For more information, see SPARK-5063.\n(2) When a Spark Streaming job recovers from checkpoint, this exception will be hit if a reference to an RDD not defined by the streaming job is used in DStream operations. For more information, See SPARK-13758.\n</code></pre>\n<p>So then I thought I would just try and use the <code>count</code> method for the <code>windows</code> object and divide it by the number of occurrences of a word but this resulted in an error as count returns a <code>JavaDStream</code> and not a long.</p>\n<pre><code>wordCounts.mapToPair(x -&gt; {return new Tuple2&lt;&gt;(x._1, x._2/wordCounts.count());});\n</code></pre>\n<p>The program should be able to print out something like <code>(test,0.2232), (car,0.1342), ...</code></p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","sorting","collections","java-8","comparator"],"comments":[{"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"score":0,"creation_date":1541675738,"post_id":53203449,"comment_id":93301160,"body_markdown":"So what delimiter is used in your `date` strings `-` or `/` ?","body":"So what delimiter is used in your <code>date</code> strings <code>-</code> or <code>&#47;</code> ?"},{"owner":{"account_id":12154829,"reputation":542,"user_id":8874051,"display_name":"Mohseen Mulla"},"score":0,"creation_date":1541676719,"post_id":53203449,"comment_id":93301719,"body_markdown":"Thats probably one of the issue since i got the data with - from my excel sheet and i get / in my list object","body":"Thats probably one of the issue since i got the data with - from my excel sheet and i get / in my list object"},{"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"score":0,"creation_date":1541680460,"post_id":53203449,"comment_id":93303643,"body_markdown":"Check my answer in a separate post. It should help.","body":"Check my answer in a separate post. It should help."}],"answers":[{"tags":[],"owner":{"account_id":7394318,"reputation":853,"user_id":5626776,"display_name":"PumpkinBreath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541664215,"creation_date":1541664215,"answer_id":53203549,"question_id":53203449,"body_markdown":"You could implement the Comparable interface in your User class and then override the compareTo() method so that you are sorting the dates in whatever order you need. The compareTo() returns an int value, either -1 0 or 1","title":"Sort List&lt;Object&gt; taking date where the date is of type string","body":"<p>You could implement the Comparable interface in your User class and then override the compareTo() method so that you are sorting the dates in whatever order you need. The compareTo() returns an int value, either -1 0 or 1</p>\n"},{"tags":[],"owner":{"account_id":13752363,"reputation":552,"user_id":9924134,"display_name":"Mershel"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1541664449,"creation_date":1541664449,"answer_id":53203601,"question_id":53203449,"body_markdown":"Try this method:\r\n\r\n\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n\tList&lt;User&gt; listTemp = list .stream()\r\n\t\t\t\t.sorted((u1, u2) -&gt; LocalDate.parse(u1.getDate(), formatter).compareTo(LocalDate.parse(u2.getDate(), formatter)))\r\n\t\t\t\t.collect(Collectors.toList());\r\n","title":"Sort List&lt;Object&gt; taking date where the date is of type string","body":"<p>Try this method:</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"dd-MM-yyyy\");\nList&lt;User&gt; listTemp = list .stream()\n            .sorted((u1, u2) -&gt; LocalDate.parse(u1.getDate(), formatter).compareTo(LocalDate.parse(u2.getDate(), formatter)))\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541664930,"creation_date":1541664930,"answer_id":53203720,"question_id":53203449,"body_markdown":"The reason that your code does not work is because currently you are comparing strings. The string comparator is not meant to compare dates, I expect to sort alphabetically or something along this line.\r\n\r\nI am not sure why you say that you cannot parse the string to date and use the comparator of the date, it would make your life much easier. It may need some string formatting before you do that, but you will have to do string manipulation either way.\r\n\r\nIf you definitely cannot parse the strings to dates you will need to extract the date parts of the string either by string manipulation or by regex. Then you will need to convert them to numbers. You then have to implement comparator in your class and use the numbers that you have generated to make the sorting work as you wish in the comparator.\r\n\r\nOverall I would try to find a way to convert the strings to dates, it seems like a much cleaner solution to me.","title":"Sort List&lt;Object&gt; taking date where the date is of type string","body":"<p>The reason that your code does not work is because currently you are comparing strings. The string comparator is not meant to compare dates, I expect to sort alphabetically or something along this line.</p>\n\n<p>I am not sure why you say that you cannot parse the string to date and use the comparator of the date, it would make your life much easier. It may need some string formatting before you do that, but you will have to do string manipulation either way.</p>\n\n<p>If you definitely cannot parse the strings to dates you will need to extract the date parts of the string either by string manipulation or by regex. Then you will need to convert them to numbers. You then have to implement comparator in your class and use the numbers that you have generated to make the sorting work as you wish in the comparator.</p>\n\n<p>Overall I would try to find a way to convert the strings to dates, it seems like a much cleaner solution to me.</p>\n"},{"tags":[],"owner":{"account_id":4941598,"reputation":3927,"user_id":7946807,"accept_rate":100,"display_name":"Schidu Luca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541665167,"creation_date":1541665167,"answer_id":53203764,"question_id":53203449,"body_markdown":"Usually in this case it&#39;s better to convert ``String`` to a ``Date``, but anyway here&#39;s my solution without converting:\r\n\r\n    List&lt;User&gt; listTemp = list.stream()\r\n                .sorted(Comparator.comparing(u -&gt; {\r\n                    String[] s = u.getDate().split(&quot;-&quot;);\r\n                    return s[2] + s[1] + s[0];\r\n                }))\r\n                .collect(Collectors.toList());\r\n   \r\nP.S Obviously I do not recommend using this in real projects","title":"Sort List&lt;Object&gt; taking date where the date is of type string","body":"<p>Usually in this case it's better to convert <code>String</code> to a <code>Date</code>, but anyway here's my solution without converting:</p>\n\n<pre><code>List&lt;User&gt; listTemp = list.stream()\n            .sorted(Comparator.comparing(u -&gt; {\n                String[] s = u.getDate().split(\"-\");\n                return s[2] + s[1] + s[0];\n            }))\n            .collect(Collectors.toList());\n</code></pre>\n\n<p>P.S Obviously I do not recommend using this in real projects</p>\n"},{"tags":[],"owner":{"account_id":3422445,"reputation":69,"user_id":2869512,"accept_rate":86,"display_name":"JMD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541665230,"creation_date":1541665230,"answer_id":53203780,"question_id":53203449,"body_markdown":"Please find the working code below:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n\t\tUser2 u1 = new User2(&quot;User1&quot;,&quot;08-11-2018&quot;);\r\n\t\tUser2 u2 = new User2(&quot;User2&quot;,&quot;09-11-2018&quot;);\r\n\t\tList&lt;User2&gt; userList = new ArrayList&lt;User2&gt;();\r\n\t\tuserList.add(u2);\r\n\t\tuserList.add(u1);\r\n\t\tList&lt;User2&gt; listTemp = userList .stream()\r\n\t\t            .sorted((x, y) -&gt; LocalDate.parse(x.getDate(), formatter).compareTo(LocalDate.parse(y.getDate(), formatter)))\r\n\t\t            .collect(Collectors.toList());\r\n\r\n\t\tlistTemp.forEach(user -&gt; {\r\n\t\t\tSystem.out.println(user);\r\n\t\t});\r\n\r\n","title":"Sort List&lt;Object&gt; taking date where the date is of type string","body":"<p>Please find the working code below:</p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"dd-MM-yyyy\");\n    User2 u1 = new User2(\"User1\",\"08-11-2018\");\n    User2 u2 = new User2(\"User2\",\"09-11-2018\");\n    List&lt;User2&gt; userList = new ArrayList&lt;User2&gt;();\n    userList.add(u2);\n    userList.add(u1);\n    List&lt;User2&gt; listTemp = userList .stream()\n                .sorted((x, y) -&gt; LocalDate.parse(x.getDate(), formatter).compareTo(LocalDate.parse(y.getDate(), formatter)))\n                .collect(Collectors.toList());\n\n    listTemp.forEach(user -&gt; {\n        System.out.println(user);\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4566292,"reputation":655,"user_id":3707223,"display_name":"malvern dongeni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541670460,"creation_date":1541670460,"answer_id":53205132,"question_id":53203449,"body_markdown":"     List&lt;User&gt; user = list.stream().\r\n                            sorted(comparing(User::getName).\r\n                                  thenComparing(User::getName)).\r\n                                     collect(Collectors.toList());\r\n\r\nThe above code should help. I have used the following sample data\r\n\r\nAbc 03-24-2011\r\n\r\nAbc 03-19-2011\r\n\r\nAbc 03-21-2011\r\n\r\nThis will give you a clear picture of how the sorting is done.\r\n\r\nName -&gt; Year -&gt;Month -&gt; Date\r\n\r\n*For your information* if **streams** are being used,modification done on the stream does not affect your original data source.Hence all the above solution changes only the **stream** not your **User** object.","title":"Sort List&lt;Object&gt; taking date where the date is of type string","body":"<pre><code> List&lt;User&gt; user = list.stream().\n                        sorted(comparing(User::getName).\n                              thenComparing(User::getName)).\n                                 collect(Collectors.toList());\n</code></pre>\n\n<p>The above code should help. I have used the following sample data</p>\n\n<p>Abc 03-24-2011</p>\n\n<p>Abc 03-19-2011</p>\n\n<p>Abc 03-21-2011</p>\n\n<p>This will give you a clear picture of how the sorting is done.</p>\n\n<p>Name -> Year ->Month -> Date</p>\n\n<p><em>For your information</em> if <strong>streams</strong> are being used,modification done on the stream does not affect your original data source.Hence all the above solution changes only the <strong>stream</strong> not your <strong>User</strong> object.</p>\n"},{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647471508,"creation_date":1541678537,"answer_id":53207349,"question_id":53203449,"body_markdown":"First of all you don&#39;t need the `String`-`Date` conversion here. What you need is a custom comparator able to deal with your custom format:\r\n\r\nThis is an example of working comparator. Pay attention to `Comparator.comapring` and `.thenComparing` methods. They allow you to perform consecutive comparison.\r\n\r\nAssuming your format is `mm/dd/yyyy` the following snipped will do the trick. It will compare the `yyyy` part first, then `mm` and `dd`:\r\n\r\n    final String delimiter = &quot;/&quot;;\r\n    list.stream()\r\n        .sorted((user1, user2) -&gt; {\r\n            String[] date1 = user1.getDate().split(delimiter);\r\n            String[] date2 = user2.getDate().split(delimiter);\r\n            return Comparator.comparing((String[] arr) -&gt; arr[2])\r\n                             .thenComparing(arr -&gt; arr[0])\r\n                             .thenComparing(arr -&gt; arr[1])\r\n                             .compare(date1, date2);\r\n        })\r\n        .collect(Collectors.toList());\r\n\r\nA bit less verbose solution:\r\n\r\n    Function&lt;User, String[]&gt; splitDate = u -&gt; u.getDate().split(&quot;/&quot;);\r\n    list.stream()\r\n        .sorted((u1, u2) -&gt; Comparator.comparing((String[] arr) -&gt; arr[2])\r\n                                      .thenComparing(arr -&gt; arr[0])\r\n                                      .thenComparing(arr -&gt; arr[1])\r\n                                      .compare(splitDate.apply(u1), splitDate.apply(u2)))\r\n        .collect(Collectors.toList());\r\n\r\n### Update\r\n\r\nHere&#39;s a much cleaner approach:\r\n```java\r\nlist.stream()\r\n    .sorted(Comparator.comparing(\r\n                u -&gt; u.getDate().split(delimiter),\r\n                Comparator.comparing((String[] arr) -&gt; arr[2])\r\n                           .thenComparing(arr -&gt; arr[0])\r\n                           .thenComparing(arr -&gt; arr[1])))\r\n    .collect(Collectors.toList());\r\n```\r\n","title":"Sort List&lt;Object&gt; taking date where the date is of type string","body":"<p>First of all you don't need the <code>String</code>-<code>Date</code> conversion here. What you need is a custom comparator able to deal with your custom format:</p>\n<p>This is an example of working comparator. Pay attention to <code>Comparator.comapring</code> and <code>.thenComparing</code> methods. They allow you to perform consecutive comparison.</p>\n<p>Assuming your format is <code>mm/dd/yyyy</code> the following snipped will do the trick. It will compare the <code>yyyy</code> part first, then <code>mm</code> and <code>dd</code>:</p>\n<pre><code>final String delimiter = &quot;/&quot;;\nlist.stream()\n    .sorted((user1, user2) -&gt; {\n        String[] date1 = user1.getDate().split(delimiter);\n        String[] date2 = user2.getDate().split(delimiter);\n        return Comparator.comparing((String[] arr) -&gt; arr[2])\n                         .thenComparing(arr -&gt; arr[0])\n                         .thenComparing(arr -&gt; arr[1])\n                         .compare(date1, date2);\n    })\n    .collect(Collectors.toList());\n</code></pre>\n<p>A bit less verbose solution:</p>\n<pre><code>Function&lt;User, String[]&gt; splitDate = u -&gt; u.getDate().split(&quot;/&quot;);\nlist.stream()\n    .sorted((u1, u2) -&gt; Comparator.comparing((String[] arr) -&gt; arr[2])\n                                  .thenComparing(arr -&gt; arr[0])\n                                  .thenComparing(arr -&gt; arr[1])\n                                  .compare(splitDate.apply(u1), splitDate.apply(u2)))\n    .collect(Collectors.toList());\n</code></pre>\n<h3>Update</h3>\n<p>Here's a much cleaner approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>list.stream()\n    .sorted(Comparator.comparing(\n                u -&gt; u.getDate().split(delimiter),\n                Comparator.comparing((String[] arr) -&gt; arr[2])\n                           .thenComparing(arr -&gt; arr[0])\n                           .thenComparing(arr -&gt; arr[1])))\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":12154829,"reputation":542,"user_id":8874051,"display_name":"Mohseen Mulla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":7,"score":2,"last_activity_date":1647471508,"creation_date":1541663830,"question_id":53203449,"body_markdown":"I have a list of object where the data is as follows:\r\n\r\n    public class User {\r\n        public String name;\r\n        public String date;\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        public String getDate() {\r\n            return date;\r\n        }\r\n        public void setDate(String date) {\r\n            this.date = date;\r\n        }\r\n    }\r\n\r\n - Xyz 11-10-2012\r\n - Abc 11-10-2012\r\n - Pqr 20-04-2012\r\n - Ijk 24-08-2012\r\n - Mno 22-05-2014\r\n\r\nHow do i sort the data i.e names according to the dates which comes as String. I need it to be sorted by year then month and then date.\r\nI have tried using the below code but\r\n\r\n```java\r\nList&lt;User&gt; list = The list where i get my data\r\nList&lt;User&gt; listTemp = list.stream()\r\n                          .sorted(Comparator.comparing(User::getDate))\r\n                          .collect(Collectors.toList());\r\n```\r\n\r\nThe output comes as \r\n\r\n - 8/24/2012\r\n\r\n - 5/22/14\r\n - 4/20/12\r\n - 10/11/12\r\n - 10/11/12\r\n\r\nP.S. I can&#39;t change the type of `String` to `Date`.\r\n","title":"Sort List&lt;Object&gt; taking date where the date is of type string","body":"<p>I have a list of object where the data is as follows:</p>\n<pre><code>public class User {\n    public String name;\n    public String date;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getDate() {\n        return date;\n    }\n    public void setDate(String date) {\n        this.date = date;\n    }\n}\n</code></pre>\n<ul>\n<li>Xyz 11-10-2012</li>\n<li>Abc 11-10-2012</li>\n<li>Pqr 20-04-2012</li>\n<li>Ijk 24-08-2012</li>\n<li>Mno 22-05-2014</li>\n</ul>\n<p>How do i sort the data i.e names according to the dates which comes as String. I need it to be sorted by year then month and then date.\nI have tried using the below code but</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;User&gt; list = The list where i get my data\nList&lt;User&gt; listTemp = list.stream()\n                          .sorted(Comparator.comparing(User::getDate))\n                          .collect(Collectors.toList());\n</code></pre>\n<p>The output comes as</p>\n<ul>\n<li><p>8/24/2012</p>\n</li>\n<li><p>5/22/14</p>\n</li>\n<li><p>4/20/12</p>\n</li>\n<li><p>10/11/12</p>\n</li>\n<li><p>10/11/12</p>\n</li>\n</ul>\n<p>P.S. I can't change the type of <code>String</code> to <code>Date</code>.</p>\n"},{"tags":["java","mongodb","docker","gravitee"],"answers":[{"tags":[],"owner":{"account_id":10205340,"reputation":31,"user_id":7534244,"display_name":"Leleu Eric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647459586,"creation_date":1647459586,"answer_id":71503321,"question_id":71493151,"body_markdown":"How do you deploy AM and Mongo, using docker-compose or by starting containers one by one ?\r\n\r\nAccording to the error, the AM service is trying to connect the MongoDB on Localhost:27017. If you are running AM and Mongo into containers, you probably have to adapt the gravitee.yaml file of AM to connect to MongoDB with the right parameters.\r\n\r\nIn addition, as you are talking of upgrade, remenber to follow the migration guides : https://docs.gravitee.io/am/current/am_installguide_migration.html\r\n\r\n","title":"Getting com.mongodb.MongoTimeoutException in Gravitee access management api","body":"<p>How do you deploy AM and Mongo, using docker-compose or by starting containers one by one ?</p>\n<p>According to the error, the AM service is trying to connect the MongoDB on Localhost:27017. If you are running AM and Mongo into containers, you probably have to adapt the gravitee.yaml file of AM to connect to MongoDB with the right parameters.</p>\n<p>In addition, as you are talking of upgrade, remenber to follow the migration guides : <a href=\"https://docs.gravitee.io/am/current/am_installguide_migration.html\" rel=\"nofollow noreferrer\">https://docs.gravitee.io/am/current/am_installguide_migration.html</a></p>\n"}],"owner":{"account_id":24574207,"reputation":21,"user_id":18480201,"display_name":"Java Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647471294,"creation_date":1647415584,"question_id":71493151,"body_markdown":"We are trying to upgrade Gravitee from 1.2 to 3.15 using Docker. Mongodb version is 4.2. While trying to use access management api getting 504 response. In Gravitee access management API logs getting the below error :\r\n\r\n```\r\nio.reactivex.exceptions.OnErrorNotImplementedException: The exception was not handled due to missing onError handler in the subscribe() method call. Further reading: https://github.com/ReactiveX/RxJava/wiki/Error-Handling | com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]\r\n        at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:704)\r\n        at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:701)\r\n        at io.reactivex.internal.observers.LambdaObserver.onError(LambdaObserver.java:77)\r\n        at io.reactivex.internal.operators.observable.ObservableFromPublisher$PublisherSubscriber.onError(ObservableFromPublisher.java:51)\r\n        at reactor.core.publisher.StrictSubscriber.onError(StrictSubscriber.java:106)\r\n        at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)\r\n        at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)\r\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\r\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\r\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)\r\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:194)\r\n        at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$30(MongoOperationPublisher.java:545)\r\n        at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$8(OperationExecutorImpl.java:107)\r\n        at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48)\r\n        at com.mongodb.internal.operation.CreateIndexesOperation$2.call(CreateIndexesOperation.java:214)\r\n        at com.mongodb.internal.operation.OperationHelper$AsyncCallableWithConnectionCallback.onResult(OperationHelper.java:689)\r\n        at com.mongodb.internal.operation.OperationHelper$AsyncCallableWithConnectionCallback.onResult(OperationHelper.java:681)\r\n        at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48)\r\n        at com.mongodb.internal.binding.AsyncClusterBinding$1.onResult(AsyncClusterBinding.java:117)\r\n        at com.mongodb.internal.binding.AsyncClusterBinding$1.onResult(AsyncClusterBinding.java:113)\r\n        at com.mongodb.internal.connection.BaseCluster$ServerSelectionRequest.onResult(BaseCluster.java:430)\r\n        at com.mongodb.internal.connection.BaseCluster.handleServerSelectionRequest(BaseCluster.java:306)\r\n        at com.mongodb.internal.connection.BaseCluster.access$800(BaseCluster.java:62)\r\n        at com.mongodb.internal.connection.BaseCluster$WaitQueueHandler.run(BaseCluster.java:476)\r\n        at java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]\r\n        at com.mongodb.internal.connection.BaseCluster.createTimeoutException(BaseCluster.java:405)\r\n        ... 4 more\r\n```","title":"Getting com.mongodb.MongoTimeoutException in Gravitee access management api","body":"<p>We are trying to upgrade Gravitee from 1.2 to 3.15 using Docker. Mongodb version is 4.2. While trying to use access management api getting 504 response. In Gravitee access management API logs getting the below error :</p>\n<pre><code>io.reactivex.exceptions.OnErrorNotImplementedException: The exception was not handled due to missing onError handler in the subscribe() method call. Further reading: https://github.com/ReactiveX/RxJava/wiki/Error-Handling | com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]\n        at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:704)\n        at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:701)\n        at io.reactivex.internal.observers.LambdaObserver.onError(LambdaObserver.java:77)\n        at io.reactivex.internal.operators.observable.ObservableFromPublisher$PublisherSubscriber.onError(ObservableFromPublisher.java:51)\n        at reactor.core.publisher.StrictSubscriber.onError(StrictSubscriber.java:106)\n        at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onError(FluxConcatArray.java:207)\n        at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)\n        at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258)\n        at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:194)\n        at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$30(MongoOperationPublisher.java:545)\n        at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$8(OperationExecutorImpl.java:107)\n        at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48)\n        at com.mongodb.internal.operation.CreateIndexesOperation$2.call(CreateIndexesOperation.java:214)\n        at com.mongodb.internal.operation.OperationHelper$AsyncCallableWithConnectionCallback.onResult(OperationHelper.java:689)\n        at com.mongodb.internal.operation.OperationHelper$AsyncCallableWithConnectionCallback.onResult(OperationHelper.java:681)\n        at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48)\n        at com.mongodb.internal.binding.AsyncClusterBinding$1.onResult(AsyncClusterBinding.java:117)\n        at com.mongodb.internal.binding.AsyncClusterBinding$1.onResult(AsyncClusterBinding.java:113)\n        at com.mongodb.internal.connection.BaseCluster$ServerSelectionRequest.onResult(BaseCluster.java:430)\n        at com.mongodb.internal.connection.BaseCluster.handleServerSelectionRequest(BaseCluster.java:306)\n        at com.mongodb.internal.connection.BaseCluster.access$800(BaseCluster.java:62)\n        at com.mongodb.internal.connection.BaseCluster$WaitQueueHandler.run(BaseCluster.java:476)\n        at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting for a server that matches WritableServerSelector. Client view of cluster state is {type=UNKNOWN, servers=[{address=localhost:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.ConnectException: Connection refused}}]\n        at com.mongodb.internal.connection.BaseCluster.createTimeoutException(BaseCluster.java:405)\n        ... 4 more\n</code></pre>\n"},{"tags":["java","android-room","instrumented-test"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647470816,"creation_date":1647470474,"answer_id":71505063,"question_id":71504782,"body_markdown":"The project id will be 0 as it hasn&#39;t been set according to the inserted value when you use `long projectId = project.getId();`. \r\n\r\nThus the ForeignKey conflict when inserting the Task as the id column of the project will have been generated by SQLite and WILL not be 0 (it will be 1 or greater).\r\n\r\nChange \r\n\r\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n    void insert(Project project);\r\n\r\nto (to get the actual generated id)\r\n\r\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n    long insert(Project project); // will return the id that has been generated \r\n\r\n\r\nand then use :-\r\n\r\n        Project project = new Project(&quot;toto&quot;, 0xFFB4CDBA);\r\n        long projectId = this.projectDao.insert(project); //&lt;&lt;&lt;&lt;&lt; returns the actual id\r\n        project.setId(projectId); // sets project id according to the inserted id BUT only if inserted and not ignored when returned value will be -1\r\n        // You should really check for -1 and handle accordingly\r\n       \r\n        assertThat(projectId, equalTo(project.getId())); // not really of any use\r\n\r\n        Task task = new Task(projectId, &quot;t&#226;che 1&quot;, new Date().getTime());\r\n        this.taskDao.insert(task);\r\n\r\n    \r\n- Note, the above is in-principle code, it has not been compiled or run/tested. It may therefore contain some errors.\r\n\r\n\r\n\r\n","title":"Why instrumented room test get error FOREIGN KEY constraint failed","body":"<p>The project id will be 0 as it hasn't been set according to the inserted value when you use <code>long projectId = project.getId();</code>.</p>\n<p>Thus the ForeignKey conflict when inserting the Task as the id column of the project will have been generated by SQLite and WILL not be 0 (it will be 1 or greater).</p>\n<p>Change</p>\n<pre><code>@Insert(onConflict = OnConflictStrategy.IGNORE)\nvoid insert(Project project);\n</code></pre>\n<p>to (to get the actual generated id)</p>\n<pre><code>@Insert(onConflict = OnConflictStrategy.IGNORE)\nlong insert(Project project); // will return the id that has been generated \n</code></pre>\n<p>and then use :-</p>\n<pre><code>    Project project = new Project(&quot;toto&quot;, 0xFFB4CDBA);\n    long projectId = this.projectDao.insert(project); //&lt;&lt;&lt;&lt;&lt; returns the actual id\n    project.setId(projectId); // sets project id according to the inserted id BUT only if inserted and not ignored when returned value will be -1\n    // You should really check for -1 and handle accordingly\n   \n    assertThat(projectId, equalTo(project.getId())); // not really of any use\n\n    Task task = new Task(projectId, &quot;tâche 1&quot;, new Date().getTime());\n    this.taskDao.insert(task);\n</code></pre>\n<ul>\n<li>Note, the above is in-principle code, it has not been compiled or run/tested. It may therefore contain some errors.</li>\n</ul>\n"}],"owner":{"account_id":12177739,"reputation":83,"user_id":8890268,"display_name":"mabdelouahad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71505063,"answer_count":1,"score":2,"last_activity_date":1647470816,"creation_date":1647468459,"question_id":71504782,"body_markdown":"I don&#39;t understand this error, I have two entities Task and Project, one task is assign to one project (see code below).\r\n\r\nBut when I want test to add a task, I have this error: \r\n***android.database.sqlite.SQLiteConstraintException: FOREIGN KEY constraint failed (code 787 SQLITE_CONSTRAINT_FOREIGNKEY)***\r\n\r\nI try to add `onDelete = CASCADE`  to FOREIGNKEY but my test does not work :/ \r\n\r\nTask Class\r\n```\r\n@Entity(tableName = &quot;task_table&quot;,\r\n        foreignKeys = @ForeignKey(entity = Project.class,\r\n        parentColumns = &quot;id&quot;,\r\n        childColumns = &quot;projectId&quot;))\r\n\r\npublic class Task {\r\n    /**\r\n     * The unique identifier of the task\r\n     */\r\n    @PrimaryKey(autoGenerate = true)\r\n    public long id;\r\n\r\n    private long projectId;\r\n\r\n    \r\n    @SuppressWarnings(&quot;NullableProblems&quot;)\r\n    @NonNull\r\n    private String name.\r\n\r\n    private long creationTimestamp;\r\n\r\n    public Task(long projectId, @NonNull String name, long creationTimestamp) {\r\n        this.setProjectId(projectId);\r\n        this.setName(name);\r\n        this.setCreationTimestamp(creationTimestamp);\r\n    }\r\n...\r\n```\r\n\r\nTaskDao\r\n```\r\n@Dao\r\npublic interface TaskDao {\r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    void insert(Task task);\r\n\r\n\r\n    @Query(&quot;DELETE  FROM task_table WHERE id = :id&quot;)\r\n    void delete(long id);\r\n\r\n    @Query(&quot;SELECT * FROM task_table ORDER BY id ASC&quot;)\r\n    LiveData&lt;List&lt;Task&gt;&gt; getAllTasks();\r\n\r\n    @Query(&quot;SELECT * FROM task_table WHERE id = :id&quot;)\r\n    LiveData&lt;Task&gt; getTaskById(long id);\r\n}\r\n```\r\n\r\nProject Class\r\n```\r\n@Entity(tableName = &quot;project_table&quot;)\r\npublic class Project {\r\n    /**\r\n     * The unique identifier of the project\r\n     */\r\n    @PrimaryKey(autoGenerate = true)\r\n    public long id;\r\n\r\n    @NonNull\r\n    private  String name;\r\n\r\n    @ColorInt\r\n    private  int color;\r\n\r\n    public Project(@NonNull String name, @ColorInt int color) {\r\n        this.name = name;\r\n        this.color = color;\r\n    }\r\n```\r\n\r\nProjectDao\r\n```\r\n@Dao\r\npublic interface ProjectDao {\r\n\r\n\r\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n    void insert(Project project);\r\n\r\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n    void insertAll(List&lt;Project&gt; projects);\r\n\r\n\r\n    @Query(&quot;SELECT * FROM project_table&quot;)\r\n    LiveData&lt;List&lt;Project&gt;&gt; getAllProjects();\r\n\r\n\r\n    @Query(&quot;SELECT * FROM project_table WHERE id = :id&quot;)\r\n    LiveData&lt;Project&gt; getProjectById(long id);\r\n\r\n}\r\n```\r\n\r\n\r\nTestInstrumented:\r\n```\r\n @Before\r\n    public void createDb() {\r\n        this.database = Room.inMemoryDatabaseBuilder(ApplicationProvider.getApplicationContext(),\r\n                AppDatabase.class)\r\n                .allowMainThreadQueries()\r\n                .build();\r\n\r\n        taskDao = database.taskDao();\r\n        projectDao = database.projectDao();\r\n    }\r\n\r\n    @After\r\n    public void closeDb() {\r\n        database.close();\r\n    }\r\n@Test\r\n    public void addTask() {\r\n\r\n        Project project = new Project(&quot;toto&quot;, 0xFFB4CDBA);\r\n        this.projectDao.insert(project);\r\n        long projectId = project.getId();\r\n\r\n        assertThat(projectId, equalTo(project.getId()));\r\n\r\n        Task task = new Task(projectId, &quot;t&#226;che 1&quot;, new Date().getTime());\r\n\r\n        this.taskDao.insert(task);\r\n}\r\n```\r\n\r\nIf someone can help it&#39;ll be very kind, I don&#39;t know how I can resolve this.\r\n\r\nThanks very much for your help\r\n\r\n\r\n\r\n\r\n","title":"Why instrumented room test get error FOREIGN KEY constraint failed","body":"<p>I don't understand this error, I have two entities Task and Project, one task is assign to one project (see code below).</p>\n<p>But when I want test to add a task, I have this error:\n<em><strong>android.database.sqlite.SQLiteConstraintException: FOREIGN KEY constraint failed (code 787 SQLITE_CONSTRAINT_FOREIGNKEY)</strong></em></p>\n<p>I try to add <code>onDelete = CASCADE</code>  to FOREIGNKEY but my test does not work :/</p>\n<p>Task Class</p>\n<pre><code>@Entity(tableName = &quot;task_table&quot;,\n        foreignKeys = @ForeignKey(entity = Project.class,\n        parentColumns = &quot;id&quot;,\n        childColumns = &quot;projectId&quot;))\n\npublic class Task {\n    /**\n     * The unique identifier of the task\n     */\n    @PrimaryKey(autoGenerate = true)\n    public long id;\n\n    private long projectId;\n\n    \n    @SuppressWarnings(&quot;NullableProblems&quot;)\n    @NonNull\n    private String name.\n\n    private long creationTimestamp;\n\n    public Task(long projectId, @NonNull String name, long creationTimestamp) {\n        this.setProjectId(projectId);\n        this.setName(name);\n        this.setCreationTimestamp(creationTimestamp);\n    }\n...\n</code></pre>\n<p>TaskDao</p>\n<pre><code>@Dao\npublic interface TaskDao {\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    void insert(Task task);\n\n\n    @Query(&quot;DELETE  FROM task_table WHERE id = :id&quot;)\n    void delete(long id);\n\n    @Query(&quot;SELECT * FROM task_table ORDER BY id ASC&quot;)\n    LiveData&lt;List&lt;Task&gt;&gt; getAllTasks();\n\n    @Query(&quot;SELECT * FROM task_table WHERE id = :id&quot;)\n    LiveData&lt;Task&gt; getTaskById(long id);\n}\n</code></pre>\n<p>Project Class</p>\n<pre><code>@Entity(tableName = &quot;project_table&quot;)\npublic class Project {\n    /**\n     * The unique identifier of the project\n     */\n    @PrimaryKey(autoGenerate = true)\n    public long id;\n\n    @NonNull\n    private  String name;\n\n    @ColorInt\n    private  int color;\n\n    public Project(@NonNull String name, @ColorInt int color) {\n        this.name = name;\n        this.color = color;\n    }\n</code></pre>\n<p>ProjectDao</p>\n<pre><code>@Dao\npublic interface ProjectDao {\n\n\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    void insert(Project project);\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    void insertAll(List&lt;Project&gt; projects);\n\n\n    @Query(&quot;SELECT * FROM project_table&quot;)\n    LiveData&lt;List&lt;Project&gt;&gt; getAllProjects();\n\n\n    @Query(&quot;SELECT * FROM project_table WHERE id = :id&quot;)\n    LiveData&lt;Project&gt; getProjectById(long id);\n\n}\n</code></pre>\n<p>TestInstrumented:</p>\n<pre><code> @Before\n    public void createDb() {\n        this.database = Room.inMemoryDatabaseBuilder(ApplicationProvider.getApplicationContext(),\n                AppDatabase.class)\n                .allowMainThreadQueries()\n                .build();\n\n        taskDao = database.taskDao();\n        projectDao = database.projectDao();\n    }\n\n    @After\n    public void closeDb() {\n        database.close();\n    }\n@Test\n    public void addTask() {\n\n        Project project = new Project(&quot;toto&quot;, 0xFFB4CDBA);\n        this.projectDao.insert(project);\n        long projectId = project.getId();\n\n        assertThat(projectId, equalTo(project.getId()));\n\n        Task task = new Task(projectId, &quot;tâche 1&quot;, new Date().getTime());\n\n        this.taskDao.insert(task);\n}\n</code></pre>\n<p>If someone can help it'll be very kind, I don't know how I can resolve this.</p>\n<p>Thanks very much for your help</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647470132,"creation_date":1647470132,"answer_id":71505012,"question_id":71504955,"body_markdown":"Your activities are not exported. They cannot be accessed from other apps. Change `android:exported` to be `true` if you want other apps accessing your activities.","title":"no apps can perform this action android studio","body":"<p>Your activities are not exported. They cannot be accessed from other apps. Change <code>android:exported</code> to be <code>true</code> if you want other apps accessing your activities.</p>\n"}],"owner":{"account_id":20165780,"reputation":39,"user_id":14789763,"display_name":"gosple"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2169,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1647470132,"creation_date":1647469726,"question_id":71504955,"body_markdown":"Im new to this area, I have a mission, I have build up an application that register some data that I have insert.\r\nlets call this app &quot;A&quot;, now i copy the same app and called it &quot;B&quot;.\r\nIn app &quot;A&quot; and &quot;B&quot; in the manifest file I write this:\r\n\r\n    &lt;activity\r\n                android:name=&quot;.Register&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.action.ex3.register&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n\r\nNow in app &quot;C&quot; I want to use what app &quot;A&quot; or &quot;B&quot; doing, in order to to that in the app &quot;C&quot; I write this:\r\n\r\n    public void registerBtnClicked(View view) {\r\n            Intent intent = new Intent(); //implicit activity.\r\n            intent.setAction(&quot;com.action.ex3.register&quot;);\r\n            startActivityForResult(intent, REGISTER_ID);\r\n        }\r\n\r\nwhat I expected that will happen it that when I press in my app &quot;C&quot; on the regiser button a pop out with a &quot;chooser dialog&quot; with option to choose &quot;A&quot; or &quot;B&quot;, but instead of that I got  &quot;chooser dialog&quot; with &quot;no apps can perform this action android studio&quot;\r\n\r\nwhat im doing wrong?\r\nhere a picture of the problem\r\n\r\n[App C &quot;no apps can perform this action android studio&quot;][1]\r\n\r\n**Im using pixel emulator in android studio IDE.**\r\n\r\n  [1]: https://i.stack.imgur.com/43fZJ.png","title":"no apps can perform this action android studio","body":"<p>Im new to this area, I have a mission, I have build up an application that register some data that I have insert.\nlets call this app &quot;A&quot;, now i copy the same app and called it &quot;B&quot;.\nIn app &quot;A&quot; and &quot;B&quot; in the manifest file I write this:</p>\n<pre><code>&lt;activity\n            android:name=&quot;.Register&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.action.ex3.register&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n<p>Now in app &quot;C&quot; I want to use what app &quot;A&quot; or &quot;B&quot; doing, in order to to that in the app &quot;C&quot; I write this:</p>\n<pre><code>public void registerBtnClicked(View view) {\n        Intent intent = new Intent(); //implicit activity.\n        intent.setAction(&quot;com.action.ex3.register&quot;);\n        startActivityForResult(intent, REGISTER_ID);\n    }\n</code></pre>\n<p>what I expected that will happen it that when I press in my app &quot;C&quot; on the regiser button a pop out with a &quot;chooser dialog&quot; with option to choose &quot;A&quot; or &quot;B&quot;, but instead of that I got  &quot;chooser dialog&quot; with &quot;no apps can perform this action android studio&quot;</p>\n<p>what im doing wrong?\nhere a picture of the problem</p>\n<p><a href=\"https://i.stack.imgur.com/43fZJ.png\" rel=\"nofollow noreferrer\">App C &quot;no apps can perform this action android studio&quot;</a></p>\n<p><strong>Im using pixel emulator in android studio IDE.</strong></p>\n"},{"tags":["java","mysql","hibernate","spring-data-jpa","spring-data"],"owner":{"account_id":3007443,"reputation":97,"user_id":2551664,"accept_rate":50,"display_name":"Alok Shukla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1647469745,"creation_date":1647468521,"question_id":71504791,"body_markdown":"I am using Java 11, Spring boot version 2.4.3 \r\nI am trying to batch insert some entities concurrently by using \r\n\r\n    orderRepository.saveAll(orders)\r\n\r\nI am making parallel request of batch of 20 orders. And each order contains a list of Items. When number of items are higher say more than 30 I am getting Deadlock.   \r\nMy entities looks like this. \r\n\r\nOrder: \r\n\r\n        public class Order {\r\n    \r\n      @Id\r\n      @Column(name = &quot;Id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uniqueidentifier&quot;)\r\n      @GeneratedValue(generator = &quot;UUID&quot;)\r\n      @GenericGenerator(\r\n              name = &quot;UUID&quot;,\r\n              strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n      @Exclude\r\n      private String id;\r\n    \r\n    \r\n      @OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true, mappedBy = &quot;order&quot;)\r\n      @Exclude\r\n      @BatchSize(size = 4096)\r\n      @Setter(AccessLevel.NONE)\r\n      private List&lt;Item&gt; items;\r\n\r\n  \r\nItem:\r\n\r\n        public class Item {\r\n    \r\n      @Id\r\n      @Column(name = &quot;Id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uniqueidentifier&quot;)\r\n      @GeneratedValue(generator = &quot;UUID&quot;)\r\n      @GenericGenerator(\r\n        name = &quot;UUID&quot;,\r\n        strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n      @Exclude\r\n      private String id;\r\n        \r\n      @ManyToOne\r\n      @JoinColumn(name = &quot;OrderId&quot;, foreignKey = @ForeignKey(name = &quot;FK_Item_Order&quot;), nullable = false)\r\n      @ToString.Exclude\r\n      @Exclude\r\n      private Order order;\r\n    \r\n      @OneToOne(cascade = {CascadeType.ALL}, orphanRemoval = true)\r\n      @JoinColumn(name = &quot;SupplierId&quot;, foreignKey = @ForeignKey(name = &quot;FK_Item_Supplier&quot;))\r\n      private Supplier supplier;\r\n\r\n\r\nSupplier: \r\n\r\n    public class Supplier {\r\n    \r\n      @Id\r\n      @Column(name = &quot;Id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uniqueidentifier&quot;)\r\n      @GeneratedValue(generator = &quot;UUID&quot;)\r\n      @GenericGenerator(\r\n        name = &quot;UUID&quot;,\r\n        strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n      @Exclude\r\n      private String id;\r\n    \r\n    \r\n      @OneToOne(cascade = {CascadeType.ALL}, fetch = FetchType.EAGER, orphanRemoval = true)\r\n      @JoinColumn(name = &quot;AddressId&quot;, foreignKey = @ForeignKey(name = &quot;FK_Supplier_Address&quot;))\r\n      private Address address;\r\n    \r\n      @Column(name = &quot;CreatedAt&quot;, insertable = false, updatable = false)\r\n      @Exclude\r\n      private OffsetDateTime createdAt;\r\n    }\r\n\r\n\r\nAnd the error I am getting : \r\n\r\n\r\n\r\n        Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.CannotAcquireLockException:\r\n    \r\n     could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: \r\n    \r\n    could not execute statement] with root causecom.microsoft.sqlserver.jdbc.SQLServerException: Transaction (Process ID 529) was deadlocked on lock resources with another process and has been chosen as the deadlock victim. Rerun the transaction.\r\n\r\nLooking at the Database analyser I can see something deadlock is between `Order` and `Supplier`  and sometimes its between `Order` and `Item` .\r\n\r\n\r\n\r\nI am yet to try manual Id generation strategy.\r\n","title":"Concurrent batch request causing DeadLock in database using Spring JPA","body":"<p>I am using Java 11, Spring boot version 2.4.3\nI am trying to batch insert some entities concurrently by using</p>\n<pre><code>orderRepository.saveAll(orders)\n</code></pre>\n<p>I am making parallel request of batch of 20 orders. And each order contains a list of Items. When number of items are higher say more than 30 I am getting Deadlock.<br />\nMy entities looks like this.</p>\n<p>Order:</p>\n<pre><code>    public class Order {\n\n  @Id\n  @Column(name = &quot;Id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uniqueidentifier&quot;)\n  @GeneratedValue(generator = &quot;UUID&quot;)\n  @GenericGenerator(\n          name = &quot;UUID&quot;,\n          strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n  @Exclude\n  private String id;\n\n\n  @OneToMany(cascade = {CascadeType.ALL}, orphanRemoval = true, mappedBy = &quot;order&quot;)\n  @Exclude\n  @BatchSize(size = 4096)\n  @Setter(AccessLevel.NONE)\n  private List&lt;Item&gt; items;\n</code></pre>\n<p>Item:</p>\n<pre><code>    public class Item {\n\n  @Id\n  @Column(name = &quot;Id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uniqueidentifier&quot;)\n  @GeneratedValue(generator = &quot;UUID&quot;)\n  @GenericGenerator(\n    name = &quot;UUID&quot;,\n    strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n  @Exclude\n  private String id;\n    \n  @ManyToOne\n  @JoinColumn(name = &quot;OrderId&quot;, foreignKey = @ForeignKey(name = &quot;FK_Item_Order&quot;), nullable = false)\n  @ToString.Exclude\n  @Exclude\n  private Order order;\n\n  @OneToOne(cascade = {CascadeType.ALL}, orphanRemoval = true)\n  @JoinColumn(name = &quot;SupplierId&quot;, foreignKey = @ForeignKey(name = &quot;FK_Item_Supplier&quot;))\n  private Supplier supplier;\n</code></pre>\n<p>Supplier:</p>\n<pre><code>public class Supplier {\n\n  @Id\n  @Column(name = &quot;Id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uniqueidentifier&quot;)\n  @GeneratedValue(generator = &quot;UUID&quot;)\n  @GenericGenerator(\n    name = &quot;UUID&quot;,\n    strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n  @Exclude\n  private String id;\n\n\n  @OneToOne(cascade = {CascadeType.ALL}, fetch = FetchType.EAGER, orphanRemoval = true)\n  @JoinColumn(name = &quot;AddressId&quot;, foreignKey = @ForeignKey(name = &quot;FK_Supplier_Address&quot;))\n  private Address address;\n\n  @Column(name = &quot;CreatedAt&quot;, insertable = false, updatable = false)\n  @Exclude\n  private OffsetDateTime createdAt;\n}\n</code></pre>\n<p>And the error I am getting :</p>\n<pre><code>    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.CannotAcquireLockException:\n\n could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.LockAcquisitionException: \n\ncould not execute statement] with root causecom.microsoft.sqlserver.jdbc.SQLServerException: Transaction (Process ID 529) was deadlocked on lock resources with another process and has been chosen as the deadlock victim. Rerun the transaction.\n</code></pre>\n<p>Looking at the Database analyser I can see something deadlock is between <code>Order</code> and <code>Supplier</code>  and sometimes its between <code>Order</code> and <code>Item</code> .</p>\n<p>I am yet to try manual Id generation strategy.</p>\n"},{"tags":["java","maven","junit","junit5"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1647470066,"post_id":71504947,"comment_id":126382735,"body_markdown":"Hey David, I voted to close as this can be done now with tags. You can also check the junit [documentation](https://junit.org/junit5/docs/current/user-guide/#running-tests-tags) - in particular if you&#39;ll have multiple component tests.","body":"Hey David, I voted to close as this can be done now with tags. You can also check the junit <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-tags\" rel=\"nofollow noreferrer\">documentation</a> - in particular if you&#39;ll have multiple component tests."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1647471065,"post_id":71504947,"comment_id":126382936,"body_markdown":"I&#39;ll just have to post a new question asking how to get tags working, because it&#39;s not.","body":"I&#39;ll just have to post a new question asking how to get tags working, because it&#39;s not."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1647839693,"post_id":71504947,"comment_id":126463238,"body_markdown":"And by the way, this should never have been closed. The Surefire maintainers determined that not being able to execute a testsuite from the command line was a bug. They have already created a PR to fix the problem, which will be in the next release.","body":"And by the way, this should never have been closed. The Surefire maintainers determined that not being able to execute a testsuite from the command line was a bug. They have already created a PR to fix the problem, which will be in the next release."}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647470009,"answer_count":0,"score":0,"last_activity_date":1647469665,"creation_date":1647469665,"question_id":71504947,"body_markdown":"We are upgrading our services to a relatively recent SpringBoot version, along with JUnit 5.  We normally run our builds with just &quot;mvn package&quot;, which runs all of our unit tests by default.\r\n\r\nWe also have &quot;component tests&quot;, which are run from a separate command line, and which are all specified in a single test suite with a specific name.  Before JUnit 5, we would run this with something like:\r\n\r\n    mvn -Dtest=ComponentTestSuite test\r\n\r\nThis was working fine with JUnit 4.\r\n\r\nThe class looks like this:\r\n\r\n    @Suite\r\n    @SelectClasses(&lt;testclassname&gt;.class)\r\n    public class ComponentTestSuite {\r\n    }\r\n\r\nWith JUnit 5, this ends up saying &quot;No tests found&quot;.\r\n\r\nWe are using v2.3.12 of Spring-Boot, which by default includes a somewhat older version of JUnit 5.  I am overriding those defaults and including v1.8.2 of the junit-platform components and v5.8.2 of the jupiter components.\r\n\r\nFor the service that I&#39;m testing this with, the test suite only has a single component test (which is unusual).  I WAS able to simply replace &quot;ComponentTestSuite&quot; with the name of the component test class, and that would run that single component test.\r\n\r\nI noticed this thread: https://stackoverflow.com/questions/70299502/junit5-test-suites-with-suite-annotation-doesnt-execute-tests-with-mvn-test-co .\r\n\r\nUnfortunately, what I found was that changing &quot;-Dtest&quot; to &quot;-Dinclude&quot; simply ran all my default unit tests and ignored the test suite.","title":"Maven JUnit 5: Run all unit tests by default or run only a specific test suite from the command line","body":"<p>We are upgrading our services to a relatively recent SpringBoot version, along with JUnit 5.  We normally run our builds with just &quot;mvn package&quot;, which runs all of our unit tests by default.</p>\n<p>We also have &quot;component tests&quot;, which are run from a separate command line, and which are all specified in a single test suite with a specific name.  Before JUnit 5, we would run this with something like:</p>\n<pre><code>mvn -Dtest=ComponentTestSuite test\n</code></pre>\n<p>This was working fine with JUnit 4.</p>\n<p>The class looks like this:</p>\n<pre><code>@Suite\n@SelectClasses(&lt;testclassname&gt;.class)\npublic class ComponentTestSuite {\n}\n</code></pre>\n<p>With JUnit 5, this ends up saying &quot;No tests found&quot;.</p>\n<p>We are using v2.3.12 of Spring-Boot, which by default includes a somewhat older version of JUnit 5.  I am overriding those defaults and including v1.8.2 of the junit-platform components and v5.8.2 of the jupiter components.</p>\n<p>For the service that I'm testing this with, the test suite only has a single component test (which is unusual).  I WAS able to simply replace &quot;ComponentTestSuite&quot; with the name of the component test class, and that would run that single component test.</p>\n<p>I noticed this thread: <a href=\"https://stackoverflow.com/questions/70299502/junit5-test-suites-with-suite-annotation-doesnt-execute-tests-with-mvn-test-co\">Junit5 test suites with @Suite annotation doesn&#39;t execute tests with mvn test command</a> .</p>\n<p>Unfortunately, what I found was that changing &quot;-Dtest&quot; to &quot;-Dinclude&quot; simply ran all my default unit tests and ignored the test suite.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1647463231,"post_id":71503964,"comment_id":126380848,"body_markdown":"You should look into using multi module projects","body":"You should look into using multi module projects"}],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647469045,"creation_date":1647469045,"answer_id":71504865,"question_id":71503964,"body_markdown":"I think you need to use Multi module projects.\r\nhere is a simple example.\r\n\r\n`Project A` (main) and includes `Project B` and `Project C`.\r\n\r\n`Project A` setting.gradle\r\n```\r\nrootProject.name = &#39;A&#39;\r\ninclude &#39;:B&#39;, &#39;:C&#39;\r\n```\r\n\r\nAnd `Project A` build.gradle dependency section\r\n```\r\nimplementation project(&#39;:B&#39;)\r\nimplementation project(&#39;:C&#39;)\r\n```\r\n`Project B` and `Project C` are the same with no extra information and here is an example\r\n\r\nProject B setting.gradle\r\n```\r\nrootProject.name = &#39;B&#39;\r\n```\r\nAnd defualt build.gradle with no extra information required.\r\n\r\nThe structure should be look something like the following\r\n\r\n```\r\n\r\nA\r\n--&gt; build.gradle\r\n--&gt; setting.gradle\r\n--&gt; src\r\n------&gt;main\r\n-----------&gt;java\r\n---------------&gt;MainJavaClass.java\r\n--&gt;B\r\n--&gt; build.gradle (for B)\r\n--&gt; setting.gradle (for B)\r\n--&gt; src\r\n------&gt;main\r\n-----------&gt;java\r\n---------------&gt;MainJavaClass.java (for B)\r\n--&gt;C\r\n--&gt; build.gradle (for C)\r\n--&gt; setting.gradle (for C)\r\n--&gt; src\r\n------&gt;main\r\n-----------&gt;java\r\n---------------&gt;MainJavaClass.java (for C)\r\n```\r\nThis way you can use the dependencies and once you build `A project` both `B` and `C` would be build as included dependency.\r\n","title":"How to include inner project with gradle builder","body":"<p>I think you need to use Multi module projects.\nhere is a simple example.</p>\n<p><code>Project A</code> (main) and includes <code>Project B</code> and <code>Project C</code>.</p>\n<p><code>Project A</code> setting.gradle</p>\n<pre><code>rootProject.name = 'A'\ninclude ':B', ':C'\n</code></pre>\n<p>And <code>Project A</code> build.gradle dependency section</p>\n<pre><code>implementation project(':B')\nimplementation project(':C')\n</code></pre>\n<p><code>Project B</code> and <code>Project C</code> are the same with no extra information and here is an example</p>\n<p>Project B setting.gradle</p>\n<pre><code>rootProject.name = 'B'\n</code></pre>\n<p>And defualt build.gradle with no extra information required.</p>\n<p>The structure should be look something like the following</p>\n<pre><code>\nA\n--&gt; build.gradle\n--&gt; setting.gradle\n--&gt; src\n------&gt;main\n-----------&gt;java\n---------------&gt;MainJavaClass.java\n--&gt;B\n--&gt; build.gradle (for B)\n--&gt; setting.gradle (for B)\n--&gt; src\n------&gt;main\n-----------&gt;java\n---------------&gt;MainJavaClass.java (for B)\n--&gt;C\n--&gt; build.gradle (for C)\n--&gt; setting.gradle (for C)\n--&gt; src\n------&gt;main\n-----------&gt;java\n---------------&gt;MainJavaClass.java (for C)\n</code></pre>\n<p>This way you can use the dependencies and once you build <code>A project</code> both <code>B</code> and <code>C</code> would be build as included dependency.</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647469045,"creation_date":1647463051,"question_id":71503964,"body_markdown":"I try to follow some tutorial and create my own Gradle task and I need to create the inner project for it. I created a new directory in my main folder with the same structure:\r\n\r\n```\r\nmainproject\r\n--&gt; src\r\n------&gt;build.gradle\r\n------&gt;main\r\n-----------&gt;java\r\n---------------&gt;MainJavaClass.java\r\n-----&gt;innerproject\r\n---------&gt; src\r\n-------------&gt; build.gradle\r\n-------------&gt;main\r\n-----------------&gt;java\r\n--------------------&gt;InnerJavaClass.java\r\n```\r\n\r\nBut in this case I can&#39;t use any dependencies in `innerproject` and `InnerJavaClass.java`, and even can&#39;t execute `psvm` method from the `InnerJavaClass`.\r\nThe error:\r\n\r\n- Could not find or load main class `InnerJavaClass.java`\r\n\r\nHow to correctly include the inner project?\r\n   ","title":"How to include inner project with gradle builder","body":"<p>I try to follow some tutorial and create my own Gradle task and I need to create the inner project for it. I created a new directory in my main folder with the same structure:</p>\n<pre><code>mainproject\n--&gt; src\n------&gt;build.gradle\n------&gt;main\n-----------&gt;java\n---------------&gt;MainJavaClass.java\n-----&gt;innerproject\n---------&gt; src\n-------------&gt; build.gradle\n-------------&gt;main\n-----------------&gt;java\n--------------------&gt;InnerJavaClass.java\n</code></pre>\n<p>But in this case I can't use any dependencies in <code>innerproject</code> and <code>InnerJavaClass.java</code>, and even can't execute <code>psvm</code> method from the <code>InnerJavaClass</code>.\nThe error:</p>\n<ul>\n<li>Could not find or load main class <code>InnerJavaClass.java</code></li>\n</ul>\n<p>How to correctly include the inner project?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1646617654,"post_id":71374657,"comment_id":126160799,"body_markdown":"please enable debug logs and post them in full here","body":"please enable debug logs and post them in full here"}],"answers":[{"tags":[],"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647468757,"creation_date":1647468757,"answer_id":71504826,"question_id":71374657,"body_markdown":"Since you are using MongoRepository, you don&#39;t have to specify the @Query annotation, leave it for complex queries. Also you don&#39;t have to specify @Field(&quot;_id&quot;) for the id since you already added the @Id to the attribute, so it will do the same. \r\n\r\nCould you now try to correct your repository like that and tell me if it works: \r\n\r\n        @Repository\r\n        public interface UserRepository extends MongoRepository&lt;User, String&gt; {\r\n        \r\n           Optional&lt;User&gt; findByName(String name);\r\n        }\r\n\r\n\r\n","title":"Mongo Spring Boot not finding user with indexed name","body":"<p>Since you are using MongoRepository, you don't have to specify the @Query annotation, leave it for complex queries. Also you don't have to specify @Field(&quot;_id&quot;) for the id since you already added the @Id to the attribute, so it will do the same.</p>\n<p>Could you now try to correct your repository like that and tell me if it works:</p>\n<pre><code>    @Repository\n    public interface UserRepository extends MongoRepository&lt;User, String&gt; {\n    \n       Optional&lt;User&gt; findByName(String name);\n    }\n</code></pre>\n"}],"owner":{"account_id":19094220,"reputation":590,"user_id":13943867,"display_name":"Lightning Gaming"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647468757,"creation_date":1646605273,"question_id":71374657,"body_markdown":"This is my user document\r\n```java\r\n@Document(&quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @Field(&quot;_id&quot;)\r\n    private String id;\r\n    \r\n    @Indexed\r\n    private String name;\r\n    private String password;\r\n    \r\n    User() {\r\n    }\r\n\r\n    public User(String name, String password) {\r\n\tthis.name = name;\r\n\tthis.password = password;\r\n    }\r\n\r\n    public String getId() {\r\n\treturn id;\r\n    }\r\n\r\n    public String getName() {\r\n\treturn name;\r\n    }\r\n\r\n    public String getPassword() {\r\n\treturn password;\r\n    }\r\n}\r\n```\r\nThis is what it looks like in mongodb\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R7ijw.png\r\n\r\nBut for some reason when I use this code\r\n```java\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) {\r\n\tSystem.out.println(&quot;Searching for user: &quot; + username);\r\n\r\n\tUser user = userRepository.findByName(username);\r\n\t//Does not reach code below this point\r\n\tSystem.out.println(&quot;Search finished&quot;);\r\n\t\r\n\tif (user == null) {\r\n\t    System.out.println(&quot;Aborted. User not found&quot;);\r\n\t    throw new UsernameNotFoundException(username);\r\n\t}\r\n\r\n\tSystem.out.println(&quot;User found. Password: &quot; + user.getPassword());\r\n\r\n\treturn new org.springframework.security.core.userdetails.User(user.getEmail(), user.getPassword(),\r\n\t\tgrantedAuthorities);\r\n    }\r\n```\r\nIt prints out &quot;Searching for user: Name&quot; but does not print out &quot;search finished&quot; or &quot;user found&quot;. My user repository looks like this\r\n```java\r\n@Repository\r\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\r\n\r\n    @Query(&quot;{&#39;name&#39;: ?0}&quot;)\r\n    User findByName(String name);\r\n}\r\n```\r\n\r\nSo my question is: Why is it getting stuck on userRepository and how do I fix it. No errors are printed to the console or anything, it just doesn&#39;t work.","title":"Mongo Spring Boot not finding user with indexed name","body":"<p>This is my user document</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(&quot;user&quot;)\npublic class User {\n\n    @Id\n    @Field(&quot;_id&quot;)\n    private String id;\n    \n    @Indexed\n    private String name;\n    private String password;\n    \n    User() {\n    }\n\n    public User(String name, String password) {\n    this.name = name;\n    this.password = password;\n    }\n\n    public String getId() {\n    return id;\n    }\n\n    public String getName() {\n    return name;\n    }\n\n    public String getPassword() {\n    return password;\n    }\n}\n</code></pre>\n<p>This is what it looks like in mongodb\n<a href=\"https://i.stack.imgur.com/R7ijw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R7ijw.png\" alt=\"enter image description here\" /></a></p>\n<p>But for some reason when I use this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) {\n    System.out.println(&quot;Searching for user: &quot; + username);\n\n    User user = userRepository.findByName(username);\n    //Does not reach code below this point\n    System.out.println(&quot;Search finished&quot;);\n    \n    if (user == null) {\n        System.out.println(&quot;Aborted. User not found&quot;);\n        throw new UsernameNotFoundException(username);\n    }\n\n    System.out.println(&quot;User found. Password: &quot; + user.getPassword());\n\n    return new org.springframework.security.core.userdetails.User(user.getEmail(), user.getPassword(),\n        grantedAuthorities);\n    }\n</code></pre>\n<p>It prints out &quot;Searching for user: Name&quot; but does not print out &quot;search finished&quot; or &quot;user found&quot;. My user repository looks like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\n\n    @Query(&quot;{'name': ?0}&quot;)\n    User findByName(String name);\n}\n</code></pre>\n<p>So my question is: Why is it getting stuck on userRepository and how do I fix it. No errors are printed to the console or anything, it just doesn't work.</p>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1647473787,"post_id":71503832,"comment_id":126383439,"body_markdown":"On the command1B you set an onTouchListener, not an onClickListener.  An touch event is sent every time you touch the view, release the view, or move so much as a pixel.  You could be sending 100s of 1s with this code.  Instead, you want to filter the motion events and listen only to the ones you want to react to.  And using the motion of the touch to send a continuous stream of 1s is a bad idea-  there will be no cadence to it, the timing would be totally random.  Especially since motion events can be combined.  If you want to send a stream of 1s, use a timer or thread.","body":"On the command1B you set an onTouchListener, not an onClickListener.  An touch event is sent every time you touch the view, release the view, or move so much as a pixel.  You could be sending 100s of 1s with this code.  Instead, you want to filter the motion events and listen only to the ones you want to react to.  And using the motion of the touch to send a continuous stream of 1s is a bad idea-  there will be no cadence to it, the timing would be totally random.  Especially since motion events can be combined.  If you want to send a stream of 1s, use a timer or thread."},{"owner":{"account_id":24581445,"reputation":5,"user_id":18486505,"display_name":"Dzh121"},"score":0,"creation_date":1647478714,"post_id":71503832,"comment_id":126384252,"body_markdown":"I want it to send 1s while I&#39;m touching the button. The 1s are sent to Bluetooth and to my Arduino so I want it to send a lot. But I&#39;m having a problem detecting when I release the button","body":"I want it to send 1s while I&#39;m touching the button. The 1s are sent to Bluetooth and to my Arduino so I want it to send a lot. But I&#39;m having a problem detecting when I release the button"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1647483595,"post_id":71503832,"comment_id":126385037,"body_markdown":"Releasing the button would be an  ACTION_UP event in the motion event.  But that is NOT a good way of sending continuous ones.  You really ought to do a timer sending a 1 at a fixed interval.  This way you could send a 1 every 10ms, or 100ms, or 20s and you won&#39;t know.","body":"Releasing the button would be an  ACTION_UP event in the motion event.  But that is NOT a good way of sending continuous ones.  You really ought to do a timer sending a 1 at a fixed interval.  This way you could send a 1 every 10ms, or 100ms, or 20s and you won&#39;t know."},{"owner":{"account_id":24581445,"reputation":5,"user_id":18486505,"display_name":"Dzh121"},"score":0,"creation_date":1647512162,"post_id":71503832,"comment_id":126391827,"body_markdown":"At the end I didn&#39;t use the service found another better way thanks for the help","body":"At the end I didn&#39;t use the service found another better way thanks for the help"}],"answers":[{"tags":[],"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647468529,"creation_date":1647468529,"answer_id":71504792,"question_id":71503832,"body_markdown":"To run background services you need to use Service class or/and Background Threads.\r\n\r\nService documentation: https://developer.android.com/guide/components/services\r\n\r\nBackGround Threads: https://developer.android.com/guide/background/threading","title":"How to run app in backgorund amdroid studio/java","body":"<p>To run background services you need to use Service class or/and Background Threads.</p>\n<p>Service documentation: <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/services</a></p>\n<p>BackGround Threads: <a href=\"https://developer.android.com/guide/background/threading\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/background/threading</a></p>\n"}],"owner":{"account_id":24581445,"reputation":5,"user_id":18486505,"display_name":"Dzh121"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647468529,"creation_date":1647462305,"question_id":71503832,"body_markdown":"I want my app to write to my bluetooth receiver commend until i hold a button, then the commend will change and continue when i release. (it will send 0 always until i will hold, and then it will send 1 and when i release 0 again).\r\nI tried to make a thread it will send the 0 that is working but when i hold the button it sends 1(as intened) but when i release it doesnt sends 0 again.\r\n\r\n    package com.example.bluetooth;\r\n    import static android.text.TextUtils.concat;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.annotation.SuppressLint;\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.bluetooth.BluetoothSocket;\r\n    import android.graphics.Bitmap;\r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.os.Message;\r\n    import android.os.ParcelUuid;\r\n    import android.util.Log;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Spinner;\r\n    import java.io.BufferedOutputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.net.UnknownHostException;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    public class MainActivity extends AppCompatActivity {\r\n        private OutputStream outputStream;\r\n        Spinner spinner;\r\n        ArrayList&lt;String&gt; deviceName = new ArrayList&lt;String&gt;();\r\n        Map&lt;String, String&gt; devicesDict = new HashMap&lt;String, String&gt;();\r\n        Object[] devices;\r\n        EditText InputTI;\r\n        Button sendB;\r\n        Button commend1B;\r\n        String message;\r\n        Boolean connected = false;\r\n        Boolean sending = false;\r\n        @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            BluetoothAdapter blueAdapter = BluetoothAdapter.getDefaultAdapter();\r\n            if (blueAdapter != null) {\r\n                if (blueAdapter.isEnabled()) {\r\n                    Set&lt;BluetoothDevice&gt; bondedDevices = blueAdapter.getBondedDevices();\r\n    \r\n                    if(bondedDevices.size() &gt; 0) {\r\n    \r\n                        devices = (Object []) bondedDevices.toArray();\r\n                        Log.i(&quot;devices:&quot;,&quot;devices[0]&quot;+devices[0]);\r\n                        Log.i(&quot;devices:&quot;,&quot;devices[1]&quot;+devices[1]);\r\n                        Log.i(&quot;devices:&quot;,&quot;devices[2]&quot;+devices[2]);\r\n                        BluetoothDevice result = null;\r\n                        for (BluetoothDevice device : bondedDevices) {\r\n                            devicesDict.put(&quot;&quot;+device.getName(), &quot;&quot;+device);\r\n                        }\r\n                        Log.i(&quot;dict&quot;,&quot;dict&quot;+devicesDict);\r\n    \r\n                        deviceName.add(&quot;Select:&quot;);\r\n                        for(Map.Entry&lt;String,String&gt; entry : devicesDict.entrySet()){\r\n                            deviceName.add(entry.getKey()+&quot;;&quot;+entry.getValue());\r\n                        }\r\n    \r\n                        spinner = (Spinner) findViewById(R.id.ListSp);\r\n                        ArrayAdapter&lt;CharSequence&gt; adapter = new ArrayAdapter(this, android.R.layout.simple_spinner_dropdown_item, deviceName);\r\n                        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n                        spinner.setAdapter(adapter);\r\n    \r\n                    }\r\n    \r\n                    Log.e(&quot;error&quot;, &quot;No appropriate paired devices.&quot;);\r\n                } else {\r\n                    Log.e(&quot;error&quot;, &quot;Bluetooth is disabled.&quot;);\r\n                }\r\n            }\r\n    \r\n            InputTI = findViewById(R.id.InputTI);\r\n            sendB = findViewById(R.id.sendB);\r\n            commend1B = findViewById(R.id.commend1B);\r\n            Thread thread = new Thread(runnable);\r\n            commend1B.setOnTouchListener(new View.OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View view, MotionEvent motionEvent) {\r\n                    sending = true;\r\n                    try {\r\n                        Log.i(&quot;sending&quot;,&quot;sending 1&quot;);\r\n                        write(&quot;1#&quot;);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    sending = false;\r\n                    return false;\r\n                }\r\n    \r\n            });\r\n    \r\n    \r\n    \r\n    \r\n            sendB.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Log.i(&quot;sendState&quot;,&quot;state&quot;+sending);\r\n                    message = InputTI.getText().toString()+&quot;#&quot;;\r\n                    try {\r\n                        write(message);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n            spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                    String[] splitted;\r\n                    splitted = adapterView.getSelectedItem().toString().split(&quot;;&quot;);\r\n                    if (blueAdapter != null) {\r\n                        if (blueAdapter.isEnabled()) {\r\n                            if (!adapterView.getSelectedItem().toString().equals(&quot;Select:&quot;)) {\r\n                                for (Object o : devices) {\r\n                                    if (o.toString().equals(splitted[1])) {\r\n                                        connected = true;\r\n                                        BluetoothDevice device = (BluetoothDevice) o;\r\n                                        ParcelUuid[] uuids = device.getUuids();\r\n    \r\n                                        BluetoothSocket socket = null;\r\n                                        try {\r\n                                            socket = device.createRfcommSocketToServiceRecord(uuids[0].getUuid());\r\n    \r\n                                        } catch (IOException e) {\r\n                                            e.printStackTrace();\r\n                                        }\r\n                                        try {\r\n    \r\n                                            socket.connect();\r\n                                        } catch (IOException e) {\r\n                                            Log.e(&quot;ConnectFail&quot;, &quot;Socket.connect() Failed&quot;, e);\r\n                                            //e.printStackTrace();\r\n    \r\n                                            break;\r\n                                        }\r\n                                        try {\r\n                                            outputStream = socket.getOutputStream();\r\n                                        } catch (IOException e) {\r\n                                            e.printStackTrace();\r\n                                        }\r\n                                        if (connected &amp;&amp; !sending) {\r\n                                            Log.i(&quot;sending&quot;, &quot;sending 021&quot;);\r\n                                            thread.start();\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }else{\r\n                                connected = false;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n    \r\n                }\r\n            });\r\n            }\r\n        Runnable runnable = new Runnable(){\r\n            public void run() {\r\n                while (connected &amp;&amp; !sending) {\r\n                        try {\r\n    \r\n                            Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\r\n                            write(&quot;0#&quot;);\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                }\r\n            }\r\n        };\r\n    \r\n    \r\n    \r\n    \r\n        public void write(String s) throws IOException {\r\n            outputStream.write(s.getBytes());\r\n        }\r\n\r\n","title":"How to run app in backgorund amdroid studio/java","body":"<p>I want my app to write to my bluetooth receiver commend until i hold a button, then the commend will change and continue when i release. (it will send 0 always until i will hold, and then it will send 1 and when i release 0 again).\nI tried to make a thread it will send the 0 that is working but when i hold the button it sends 1(as intened) but when i release it doesnt sends 0 again.</p>\n<pre><code>package com.example.bluetooth;\nimport static android.text.TextUtils.concat;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.annotation.SuppressLint;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothSocket;\nimport android.graphics.Bitmap;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Message;\nimport android.os.ParcelUuid;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Spinner;\nimport java.io.BufferedOutputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.UnknownHostException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\npublic class MainActivity extends AppCompatActivity {\n    private OutputStream outputStream;\n    Spinner spinner;\n    ArrayList&lt;String&gt; deviceName = new ArrayList&lt;String&gt;();\n    Map&lt;String, String&gt; devicesDict = new HashMap&lt;String, String&gt;();\n    Object[] devices;\n    EditText InputTI;\n    Button sendB;\n    Button commend1B;\n    String message;\n    Boolean connected = false;\n    Boolean sending = false;\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        BluetoothAdapter blueAdapter = BluetoothAdapter.getDefaultAdapter();\n        if (blueAdapter != null) {\n            if (blueAdapter.isEnabled()) {\n                Set&lt;BluetoothDevice&gt; bondedDevices = blueAdapter.getBondedDevices();\n\n                if(bondedDevices.size() &gt; 0) {\n\n                    devices = (Object []) bondedDevices.toArray();\n                    Log.i(&quot;devices:&quot;,&quot;devices[0]&quot;+devices[0]);\n                    Log.i(&quot;devices:&quot;,&quot;devices[1]&quot;+devices[1]);\n                    Log.i(&quot;devices:&quot;,&quot;devices[2]&quot;+devices[2]);\n                    BluetoothDevice result = null;\n                    for (BluetoothDevice device : bondedDevices) {\n                        devicesDict.put(&quot;&quot;+device.getName(), &quot;&quot;+device);\n                    }\n                    Log.i(&quot;dict&quot;,&quot;dict&quot;+devicesDict);\n\n                    deviceName.add(&quot;Select:&quot;);\n                    for(Map.Entry&lt;String,String&gt; entry : devicesDict.entrySet()){\n                        deviceName.add(entry.getKey()+&quot;;&quot;+entry.getValue());\n                    }\n\n                    spinner = (Spinner) findViewById(R.id.ListSp);\n                    ArrayAdapter&lt;CharSequence&gt; adapter = new ArrayAdapter(this, android.R.layout.simple_spinner_dropdown_item, deviceName);\n                    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n                    spinner.setAdapter(adapter);\n\n                }\n\n                Log.e(&quot;error&quot;, &quot;No appropriate paired devices.&quot;);\n            } else {\n                Log.e(&quot;error&quot;, &quot;Bluetooth is disabled.&quot;);\n            }\n        }\n\n        InputTI = findViewById(R.id.InputTI);\n        sendB = findViewById(R.id.sendB);\n        commend1B = findViewById(R.id.commend1B);\n        Thread thread = new Thread(runnable);\n        commend1B.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View view, MotionEvent motionEvent) {\n                sending = true;\n                try {\n                    Log.i(&quot;sending&quot;,&quot;sending 1&quot;);\n                    write(&quot;1#&quot;);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                sending = false;\n                return false;\n            }\n\n        });\n\n\n\n\n        sendB.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Log.i(&quot;sendState&quot;,&quot;state&quot;+sending);\n                message = InputTI.getText().toString()+&quot;#&quot;;\n                try {\n                    write(message);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                String[] splitted;\n                splitted = adapterView.getSelectedItem().toString().split(&quot;;&quot;);\n                if (blueAdapter != null) {\n                    if (blueAdapter.isEnabled()) {\n                        if (!adapterView.getSelectedItem().toString().equals(&quot;Select:&quot;)) {\n                            for (Object o : devices) {\n                                if (o.toString().equals(splitted[1])) {\n                                    connected = true;\n                                    BluetoothDevice device = (BluetoothDevice) o;\n                                    ParcelUuid[] uuids = device.getUuids();\n\n                                    BluetoothSocket socket = null;\n                                    try {\n                                        socket = device.createRfcommSocketToServiceRecord(uuids[0].getUuid());\n\n                                    } catch (IOException e) {\n                                        e.printStackTrace();\n                                    }\n                                    try {\n\n                                        socket.connect();\n                                    } catch (IOException e) {\n                                        Log.e(&quot;ConnectFail&quot;, &quot;Socket.connect() Failed&quot;, e);\n                                        //e.printStackTrace();\n\n                                        break;\n                                    }\n                                    try {\n                                        outputStream = socket.getOutputStream();\n                                    } catch (IOException e) {\n                                        e.printStackTrace();\n                                    }\n                                    if (connected &amp;&amp; !sending) {\n                                        Log.i(&quot;sending&quot;, &quot;sending 021&quot;);\n                                        thread.start();\n                                    }\n                                }\n                            }\n                        }else{\n                            connected = false;\n                        }\n                    }\n                }\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n        });\n        }\n    Runnable runnable = new Runnable(){\n        public void run() {\n            while (connected &amp;&amp; !sending) {\n                    try {\n\n                        Log.i(&quot;sending&quot;, &quot;sending 0&quot;);\n                        write(&quot;0#&quot;);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n            }\n        }\n    };\n\n\n\n\n    public void write(String s) throws IOException {\n        outputStream.write(s.getBytes());\n    }\n</code></pre>\n"},{"tags":["java","sql","ms-access","ucanaccess"],"comments":[{"owner":{"account_id":9850721,"reputation":31858,"user_id":7296893,"accept_rate":100,"display_name":"Erik A"},"score":0,"creation_date":1647457768,"post_id":71495991,"comment_id":126379155,"body_markdown":"Hard to know without the schema, but this might be because you&#39;re trying to put `&#39;null&#39;` , a string containing the text null, into a non-text field. Nulls shouldn&#39;t be quoted. It&#39;s certainly beter, however, to use parameters and avoid errors like this altogether","body":"Hard to know without the schema, but this might be because you&#39;re trying to put <code>&#39;null&#39;</code> , a string containing the text null, into a non-text field. Nulls shouldn&#39;t be quoted. It&#39;s certainly beter, however, to use parameters and avoid errors like this altogether"}],"answers":[{"tags":[],"owner":{"account_id":11055074,"reputation":1,"user_id":8118117,"display_name":"Ben Burt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647468397,"creation_date":1647468397,"answer_id":71504775,"question_id":71495991,"body_markdown":"Using Erik A&#39;s suggestion I used a Prepared Statement. This did not fix my issue, however it pointed me to use .executeUpdate() instead of .executeQuery(). This fixed the error. This was because executeQuery() expected a result, as its typing is ResultSet.\r\n\r\nInstead of creating the statement in another class I chose to create a function in the DatabaseControllerClass to handle it: \r\n```\r\npublic static void saveToDatabase(String equipCode, String equipType, String equipDesc, Boolean critEquip, String brand, String type, String serialNum, String otherChar, String obs, String lastEquipCode) {\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t\tConnection c = DriverManager.getConnection(databaseURL);\r\n\t\t\tPreparedStatement st = c.prepareStatement(&quot;UPDATE Equipamentos SET &quot;\r\n\t\t\t\t\t+ &quot;CodigoEquipamento = ?, &quot;\r\n\t\t\t\t\t+ &quot;CodigoPrincipal = ?, &quot;\r\n\t\t\t\t\t+ &quot;Equipamento = ?, &quot;\r\n\t\t\t\t\t+ &quot;EquipamentoCritico = ?, &quot;\r\n\t\t\t\t\t+ &quot;Marca = ?, &quot;\r\n\t\t\t\t\t+ &quot;Tipo = ?, &quot;\r\n\t\t\t\t\t+ &quot;NumeroSerie = ?, &quot;\r\n\t\t\t\t\t+ &quot;OutrasCaracteristicas = ?, &quot;\r\n\t\t\t\t\t+ &quot;Observacoes = ? &quot;\r\n\t\t\t\t\t+ &quot;WHERE CodigoEquipamento = ?&quot;);\r\n\t\t\tst.setString(1, equipCode);\r\n\t\t\tst.setString(2, equipType);\r\n\t\t\tst.setString(3, equipDesc);\r\n\t\t\tst.setBoolean(4, critEquip);\r\n\t\t\tst.setString(5, brand);\r\n\t\t\tst.setString(6,  type);\r\n\t\t\tst.setString(7, serialNum);\r\n\t\t\tst.setString(8, otherChar);\r\n\t\t\tst.setString(9, obs);\r\n\t\t\tst.setString(10, lastEquipCode);\r\n\t\t\tst.executeUpdate();\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```","title":"UCanAccess Cannot Write To Database, Although it can Read","body":"<p>Using Erik A's suggestion I used a Prepared Statement. This did not fix my issue, however it pointed me to use .executeUpdate() instead of .executeQuery(). This fixed the error. This was because executeQuery() expected a result, as its typing is ResultSet.</p>\n<p>Instead of creating the statement in another class I chose to create a function in the DatabaseControllerClass to handle it:</p>\n<pre><code>public static void saveToDatabase(String equipCode, String equipType, String equipDesc, Boolean critEquip, String brand, String type, String serialNum, String otherChar, String obs, String lastEquipCode) {\n        try {\n            Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n            Connection c = DriverManager.getConnection(databaseURL);\n            PreparedStatement st = c.prepareStatement(&quot;UPDATE Equipamentos SET &quot;\n                    + &quot;CodigoEquipamento = ?, &quot;\n                    + &quot;CodigoPrincipal = ?, &quot;\n                    + &quot;Equipamento = ?, &quot;\n                    + &quot;EquipamentoCritico = ?, &quot;\n                    + &quot;Marca = ?, &quot;\n                    + &quot;Tipo = ?, &quot;\n                    + &quot;NumeroSerie = ?, &quot;\n                    + &quot;OutrasCaracteristicas = ?, &quot;\n                    + &quot;Observacoes = ? &quot;\n                    + &quot;WHERE CodigoEquipamento = ?&quot;);\n            st.setString(1, equipCode);\n            st.setString(2, equipType);\n            st.setString(3, equipDesc);\n            st.setBoolean(4, critEquip);\n            st.setString(5, brand);\n            st.setString(6,  type);\n            st.setString(7, serialNum);\n            st.setString(8, otherChar);\n            st.setString(9, obs);\n            st.setString(10, lastEquipCode);\n            st.executeUpdate();\n        }\n        catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11055074,"reputation":1,"user_id":8118117,"display_name":"Ben Burt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647468397,"creation_date":1647428755,"question_id":71495991,"body_markdown":"When I attempt to read data from the access database there is no issue, e.g.  \r\n`ResultSet equipmentData = DatabaseController.RunOperation(&quot;SELECT * FROM Equipamentos&quot;);`\r\n\r\nCode for DatabaseController:\r\n```\r\npackage application;\r\n\r\nimport java.sql.*;\r\n\r\n\r\npublic class DatabaseController {\r\n\tprivate static String databaseURL;\r\n\t\r\n\tpublic static void setURL(String url) {\r\n\t\ttry {\r\n\t\t\tdatabaseURL = &quot;jdbc:ucanaccess://&quot; + url + &quot;;readonly=false&quot;;\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static ResultSet RunOperation(String input){\r\n\t\tResultSet rs = null;\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\t   Connection c = DriverManager.getConnection(databaseURL);\r\n\t\t   Statement st = c.createStatement();\r\n\t\t   rs = st.executeQuery(input);\r\n\t\t   \r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t   \r\n\t\t   return rs;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nHowever, when I try to do any operation which writes to the database it does not function. Specifically, I try to update a row with:\r\n```\r\nString operation = &quot;UPDATE Equipamentos SET &quot;\r\n\t\t\t\t+ &quot;CodigoEquipamento = &#39;&quot;+equipmentCode.getText()+&quot;&#39;,  &quot;\r\n\t\t\t\t+ &quot;CodigoPrincipal = &#39;&quot;+equipType+&quot;&#39;, &quot;\r\n\t\t\t\t+ &quot;Equipamento = &#39;&quot;+equipmentDescription.getText()+&quot;&#39;, &quot;\r\n\t\t\t\t+ &quot;EquipamentoCritico = &quot;+ criticalEquipment.isSelected() +&quot;, &quot;\r\n\t\t\t\t+ &quot;Marca = &#39;&quot;+brand.getText()+&quot;&#39;, &quot;\r\n\t\t\t\t+ &quot;Tipo = &#39;&quot;+type.getText()+&quot;&#39;, &quot;\r\n\t\t\t\t+ &quot;NumeroSerie = &#39;&quot;+serialNumber.getText()+&quot;&#39;, &quot;\r\n\t\t\t\t+ &quot;OutrasCaracteristicas = &#39;&quot;+otherCharacteristics.getText()+&quot;&#39;, &quot;\r\n\t\t\t\t+ &quot;Observacoes = &#39;&quot;+observations.getText()+&quot;&#39; &quot;\r\n\t\t\t\t+ &quot;WHERE CodigoEquipamento = &#39;&quot;+this.lastEquipmentCode+&quot;&#39;&quot;;\r\n\t\tDatabaseController.RunOperation(operation);\r\n```\r\n\r\nwhich, when testing, results in the query \r\n```\r\nUPDATE Equipamentos SET CodigoEquipamento = &#39;R100.00&#39;,  CodigoPrincipal = &#39;R100&#39;, Equipamento = &#39;Equipamento provisoriamente sem c&#243;digo&#39;, EquipamentoCritico = true, Marca = &#39;C&#243;digo tempor&#225;rio&#39;, Tipo = &#39;null&#39;, NumeroSerie = &#39;null&#39;, OutrasCaracteristicas = &#39;Todas as Fichas de Trabalho feitas com este C&#243;digo dever&#227;o ser enviadas de imediato para a DPA a fim de se atribuir um c&#243;digo&#39;, Observacoes = &#39;All Job Cards with this code must be sent to the DPA at once in order to attribute a new code&#39; WHERE CodigoEquipamento = &#39;R100.00&#39;\r\n```\r\nI&#39;ve used this query(copy paste) in the access database, and it runs perfectly.\r\n\r\nI have also tried deleting the row and inserting a new one with the edited values, but that also does not work. \r\n\r\nThe error that UCanAccess gives me is UCAExc:::5.0.1 General error.\r\n\r\nThank you for any help you can provide.","title":"UCanAccess Cannot Write To Database, Although it can Read","body":"<p>When I attempt to read data from the access database there is no issue, e.g.<br />\n<code>ResultSet equipmentData = DatabaseController.RunOperation(&quot;SELECT * FROM Equipamentos&quot;);</code></p>\n<p>Code for DatabaseController:</p>\n<pre><code>package application;\n\nimport java.sql.*;\n\n\npublic class DatabaseController {\n    private static String databaseURL;\n    \n    public static void setURL(String url) {\n        try {\n            databaseURL = &quot;jdbc:ucanaccess://&quot; + url + &quot;;readonly=false&quot;;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static ResultSet RunOperation(String input){\n        ResultSet rs = null;\n        try {\n            Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n           Connection c = DriverManager.getConnection(databaseURL);\n           Statement st = c.createStatement();\n           rs = st.executeQuery(input);\n           \n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n           \n           return rs;\n    }\n    \n}\n\n</code></pre>\n<p>However, when I try to do any operation which writes to the database it does not function. Specifically, I try to update a row with:</p>\n<pre><code>String operation = &quot;UPDATE Equipamentos SET &quot;\n                + &quot;CodigoEquipamento = '&quot;+equipmentCode.getText()+&quot;',  &quot;\n                + &quot;CodigoPrincipal = '&quot;+equipType+&quot;', &quot;\n                + &quot;Equipamento = '&quot;+equipmentDescription.getText()+&quot;', &quot;\n                + &quot;EquipamentoCritico = &quot;+ criticalEquipment.isSelected() +&quot;, &quot;\n                + &quot;Marca = '&quot;+brand.getText()+&quot;', &quot;\n                + &quot;Tipo = '&quot;+type.getText()+&quot;', &quot;\n                + &quot;NumeroSerie = '&quot;+serialNumber.getText()+&quot;', &quot;\n                + &quot;OutrasCaracteristicas = '&quot;+otherCharacteristics.getText()+&quot;', &quot;\n                + &quot;Observacoes = '&quot;+observations.getText()+&quot;' &quot;\n                + &quot;WHERE CodigoEquipamento = '&quot;+this.lastEquipmentCode+&quot;'&quot;;\n        DatabaseController.RunOperation(operation);\n</code></pre>\n<p>which, when testing, results in the query</p>\n<pre><code>UPDATE Equipamentos SET CodigoEquipamento = 'R100.00',  CodigoPrincipal = 'R100', Equipamento = 'Equipamento provisoriamente sem código', EquipamentoCritico = true, Marca = 'Código temporário', Tipo = 'null', NumeroSerie = 'null', OutrasCaracteristicas = 'Todas as Fichas de Trabalho feitas com este Código deverão ser enviadas de imediato para a DPA a fim de se atribuir um código', Observacoes = 'All Job Cards with this code must be sent to the DPA at once in order to attribute a new code' WHERE CodigoEquipamento = 'R100.00'\n</code></pre>\n<p>I've used this query(copy paste) in the access database, and it runs perfectly.</p>\n<p>I have also tried deleting the row and inserting a new one with the edited values, but that also does not work.</p>\n<p>The error that UCanAccess gives me is UCAExc:::5.0.1 General error.</p>\n<p>Thank you for any help you can provide.</p>\n"},{"tags":["java","spring-boot","api","rest","microservices"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1647468636,"post_id":71504729,"comment_id":126382421,"body_markdown":"Have you tried html parsers like [Jsoup](https://jsoup.org/) or [HtmlUnit](https://htmlunit.sourceforge.io/)?","body":"Have you tried html parsers like <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">Jsoup</a> or <a href=\"https://htmlunit.sourceforge.io/\" rel=\"nofollow noreferrer\">HtmlUnit</a>?"},{"owner":{"account_id":18035205,"reputation":9,"user_id":13108781,"display_name":"Azad"},"score":0,"creation_date":1647536047,"post_id":71504729,"comment_id":126401349,"body_markdown":"@Eritrean Not yet, but I wonder if it is possible to use the time-series data from a website as API?","body":"@Eritrean Not yet, but I wonder if it is possible to use the time-series data from a website as API?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1647538248,"post_id":71504729,"comment_id":126402124,"body_markdown":"Without knowing about which site you are talking and how the data you desire is presented on that site, hard to tell.","body":"Without knowing about which site you are talking and how the data you desire is presented on that site, hard to tell."},{"owner":{"account_id":18035205,"reputation":9,"user_id":13108781,"display_name":"Azad"},"score":0,"creation_date":1647538551,"post_id":71504729,"comment_id":126402243,"body_markdown":"This is the website I&#39;m trying to get the currency exchange rates ==&gt; https://www.bundesbank.de/dynamic/action/en/statistics/time-series-databases/time-series-databases/759784/759784?statisticType=BBK_ITS&amp;listId=www_sdks_b01012_3&amp;treeAnchor=WECHSELKURSE","body":"This is the website I&#39;m trying to get the currency exchange rates ==&gt; <a href=\"https://www.bundesbank.de/dynamic/action/en/statistics/time-series-databases/time-series-databases/759784/759784?statisticType=BBK_ITS&amp;listId=www_sdks_b01012_3&amp;treeAnchor=WECHSELKURSE\" rel=\"nofollow noreferrer\">bundesbank.de/dynamic/action/en/statistics/&hellip;</a>"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1647540021,"post_id":71504729,"comment_id":126402749,"body_markdown":"They have a well documented REST-API interface!! You can find the web service discription here: [web-service](https://www.bundesbank.de/en/statistics/time-series-databases/help-for-sdmx-web-service) and you can try it out here [Bundesbank SDMX](https://api.statistiken.bundesbank.de/doc/index.html?urls.primaryName=Deutsche%20REST%20API%20Dokumentation). You could also use htmlUnit to automatically download the csv-files but I would not recomend it.","body":"They have a well documented REST-API interface!! You can find the web service discription here: <a href=\"https://www.bundesbank.de/en/statistics/time-series-databases/help-for-sdmx-web-service\" rel=\"nofollow noreferrer\">web-service</a> and you can try it out here <a href=\"https://api.statistiken.bundesbank.de/doc/index.html?urls.primaryName=Deutsche%20REST%20API%20Dokumentation\" rel=\"nofollow noreferrer\">Bundesbank SDMX</a>. You could also use htmlUnit to automatically download the csv-files but I would not recomend it."},{"owner":{"account_id":18035205,"reputation":9,"user_id":13108781,"display_name":"Azad"},"score":1,"creation_date":1647541192,"post_id":71504729,"comment_id":126403132,"body_markdown":"@Eritrean, I am really grateful for your help. To be honest, this is my first time working with APIs , so I don&#39;t know even why I have missed this page in their websites :D\nBut anyway thank you for your help :)","body":"@Eritrean, I am really grateful for your help. To be honest, this is my first time working with APIs , so I don&#39;t know even why I have missed this page in their websites :D But anyway thank you for your help :)"}],"owner":{"account_id":18035205,"reputation":9,"user_id":13108781,"display_name":"Azad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647468083,"creation_date":1647468083,"question_id":71504729,"body_markdown":"I am trying to build a REST API project with spring boot which is getting the available currencies and USD-FX exchange rates and etc. But the problem is that the currency exchange rate-related websites just provide an API only for the Exchange currency rate or the ones with more options don&#39;t give it for free. So there is a website that does not provide an API but it presents the data with time series. So is there any way to use time series instead of API in the project?","title":"How to fetch data from a website without using API?","body":"<p>I am trying to build a REST API project with spring boot which is getting the available currencies and USD-FX exchange rates and etc. But the problem is that the currency exchange rate-related websites just provide an API only for the Exchange currency rate or the ones with more options don't give it for free. So there is a website that does not provide an API but it presents the data with time series. So is there any way to use time series instead of API in the project?</p>\n"},{"tags":["java","swing","drag-and-drop","jlabel","jinternalframe"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1647461954,"post_id":71503700,"comment_id":126380454,"body_markdown":"1) Start with changing `((JLabel) component).setIcon(icon);` to `la.setIcon(icon);` 2) Note that a `JInternalFrame` needs to be added to a `JDesktopPane.","body":"1) Start with changing <code>((JLabel) component).setIcon(icon);</code> to <code>la.setIcon(icon);</code> 2) Note that a <code>JInternalFrame</code> needs to be added to a `JDesktopPane."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1647462349,"post_id":71503700,"comment_id":126380578,"body_markdown":".. 3) `public class Test` The class would be better called `TestDropImageToInternalFrame`. Yes, it&#39;s more typing, but it has a variety of advantages, including descriptive clarity and lowering the chance of a name clash in the single package that people might use for testing SO code.","body":".. 3) <code>public class Test</code> The class would be better called <code>TestDropImageToInternalFrame</code>. Yes, it&#39;s more typing, but it has a variety of advantages, including descriptive clarity and lowering the chance of a name clash in the single package that people might use for testing SO code."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1647463683,"post_id":71503700,"comment_id":126380997,"body_markdown":"Ask yourself the question, &quot;what&#39;s the difference between dropping a image on a label and dropping an image on an internal frame?&quot; - this will help identify the areas of the code which need to change","body":"Ask yourself the question, &quot;what&#39;s the difference between dropping a image on a label and dropping an image on an internal frame?&quot; - this will help identify the areas of the code which need to change"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647467333,"creation_date":1647467333,"answer_id":71504636,"question_id":71503700,"body_markdown":"Drop and image on a frame, panel, label, internal frame, is all effectively the same thing.  For me, I&#39;d focus on common denominator to make things easier, for me, this means a `JPanel`.\r\n\r\nA `JPanel` can be added to a frame, internal frame another panel/container and can make decisions about how to present the drop, in this case, it can use a `JLabel` to present an image.\r\n\r\nSo, based on https://stackoverflow.com/questions/13597233/how-to-drag-and-drop-files-from-a-directory-in-java/13597635#13597635 and https://stackoverflow.com/questions/15080244/java-drag-n-drop-files-of-specific-extension-on-jframe/15080654#15080654\r\n\r\nYou could do something like...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Image;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.Transferable;\r\n    import java.awt.datatransfer.UnsupportedFlavorException;\r\n    import java.awt.dnd.DnDConstants;\r\n    import java.awt.dnd.DropTarget;\r\n    import java.awt.dnd.DropTargetDragEvent;\r\n    import java.awt.dnd.DropTargetDropEvent;\r\n    import java.awt.dnd.DropTargetEvent;\r\n    import java.awt.dnd.DropTargetListener;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.TooManyListenersException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JDesktopPane;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JInternalFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JInternalFrame littleFrame = new JInternalFrame(&quot;Hello&quot;, true, true, true, true);\r\n                    littleFrame.add(new DropPane());\r\n                    littleFrame.pack();\r\n                    littleFrame.setVisible(true);\r\n\r\n                    JDesktopPane desktopPane = new JDesktopPane();\r\n                    desktopPane.add(littleFrame);\r\n                    desktopPane.setPreferredSize(new Dimension(400, 400));\r\n\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(desktopPane);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class DropPane extends JPanel {\r\n\r\n            private DropTarget dropTarget;\r\n            private DropTargetHandler dropTargetHandler;\r\n            private Point dragPoint;\r\n            private boolean dragAccepted;\r\n\r\n            private boolean dragOver = false;\r\n            private JLabel message;\r\n\r\n            public DropPane() {\r\n                setLayout(new GridBagLayout());\r\n                message = new JLabel();\r\n                add(message);\r\n\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            protected DropTarget getMyDropTarget() {\r\n                if (dropTarget == null) {\r\n                    dropTarget = new DropTarget(this, DnDConstants.ACTION_COPY_OR_MOVE, null);\r\n                }\r\n                return dropTarget;\r\n            }\r\n\r\n            protected DropTargetHandler getDropTargetHandler() {\r\n                if (dropTargetHandler == null) {\r\n                    dropTargetHandler = new DropTargetHandler();\r\n                }\r\n                return dropTargetHandler;\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                try {\r\n                    getMyDropTarget().addDropTargetListener(getDropTargetHandler());\r\n                } catch (TooManyListenersException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                getMyDropTarget().removeDropTargetListener(getDropTargetHandler());\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (dragOver) {\r\n                    Graphics2D g2d = (Graphics2D) g.create();\r\n                    if (dragAccepted) {\r\n                        g2d.setColor(new Color(0, 255, 0, 64));\r\n                    } else {\r\n                        g2d.setColor(new Color(255, 0, 0, 64));\r\n                    }\r\n                    g2d.fill(new Rectangle(getWidth(), getHeight()));\r\n                    if (dragPoint != null) {\r\n                        int x = dragPoint.x - 25;\r\n                        int y = dragPoint.y - 25;\r\n                        g2d.setColor(Color.BLACK);\r\n                        g2d.drawRect(x, y, 50, 50);\r\n                    }\r\n                    g2d.dispose();\r\n                }\r\n            }\r\n\r\n            protected void importedImage(final Image image) {\r\n                Runnable run = new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        if (image == null) {\r\n                            message.setIcon(null);\r\n                        } else {\r\n                            message.setIcon(new ImageIcon(image));\r\n                        }\r\n                    }\r\n                };\r\n                SwingUtilities.invokeLater(run);\r\n            }\r\n\r\n            protected void importFailed(final String message) {\r\n                SwingUtilities.invokeLater(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        JOptionPane.showMessageDialog(DropPane.this, message, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                    }\r\n                });\r\n            }\r\n\r\n            protected class DropTargetHandler implements DropTargetListener {\r\n\r\n                private String[] validExtenions = new String[]{\r\n                    &quot;.png&quot;, &quot;.jpeg&quot;, &quot;.jpeg&quot;, &quot;bmp&quot;, &quot;gif&quot;\r\n                };\r\n\r\n                protected boolean canAcceptFile(File file) {\r\n                    String name = file.getName().toLowerCase();\r\n                    for (String ext : validExtenions) {\r\n                        if (name.endsWith(ext)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n\r\n                protected File acceptableFileFrom(Transferable transferable) throws UnsupportedFlavorException, IOException {\r\n                    Object transferData = transferable.getTransferData(DataFlavor.javaFileListFlavor);\r\n                    if (transferData == null) {\r\n                        return null;\r\n                    }\r\n                    List fileList = (List) transferData;\r\n                    if (fileList.size() &gt; 1) {\r\n                        return null;\r\n                    }\r\n                    File file = (File) fileList.get(0);\r\n                    if (canAcceptFile(file)) {\r\n                        return file;\r\n                    }\r\n                    return null;\r\n                }\r\n\r\n                protected boolean canAcceptDrag(Transferable transferable) {\r\n                    if (transferable == null) {\r\n                        return true;\r\n                    }\r\n                    try {\r\n                        File file = acceptableFileFrom(transferable);\r\n                        if (file == null) {\r\n                            return true;\r\n                        }\r\n                    } catch (UnsupportedFlavorException | IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                        return false;\r\n                    }\r\n                    return false;\r\n                }\r\n\r\n                protected boolean acceptsDrag(DropTargetDragEvent dtde) {\r\n                    if (dtde.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n                        Transferable transferable = dtde.getTransferable();\r\n                        if (DropTargetHandler.this.canAcceptDrag(transferable)) {\r\n                            dtde.acceptDrag(DnDConstants.ACTION_COPY);\r\n                            return true;\r\n                        } else {\r\n                            dtde.rejectDrag();\r\n                            return false;\r\n                        }\r\n                    } else {\r\n                        dtde.rejectDrag();\r\n                        return false;\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void dragEnter(DropTargetDragEvent dtde) {\r\n                    boolean accepted = acceptsDrag(dtde);\r\n                    SwingUtilities.invokeLater(new DragUpdate(true, dtde.getLocation(), accepted));\r\n                    repaint();\r\n                }\r\n\r\n                @Override\r\n                public void dragOver(DropTargetDragEvent dtde) {\r\n                    boolean accepted = acceptsDrag(dtde);\r\n                    SwingUtilities.invokeLater(new DragUpdate(true, dtde.getLocation(), accepted));\r\n                    repaint();\r\n                }\r\n\r\n                @Override\r\n                public void dropActionChanged(DropTargetDragEvent dtde) {\r\n                }\r\n\r\n                @Override\r\n                public void dragExit(DropTargetEvent dte) {\r\n                    SwingUtilities.invokeLater(new DragUpdate(false, null, false));\r\n                    repaint();\r\n                }\r\n\r\n                @Override\r\n                public void drop(DropTargetDropEvent dtde) {\r\n                    SwingUtilities.invokeLater(new DragUpdate(false, null, false));\r\n                    importedImage(null);\r\n                    if (dtde.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n                        dtde.acceptDrop(dtde.getDropAction());\r\n\r\n                        try {\r\n                            Transferable transferable = dtde.getTransferable();\r\n                            File file = acceptableFileFrom(transferable);\r\n                            if (file == null) {\r\n                                importFailed(&quot;Not a supported image file&quot;);\r\n                                dtde.dropComplete(false);\r\n                            } else {\r\n                                BufferedImage image = ImageIO.read(file);\r\n                                dtde.dropComplete(true);\r\n                                importedImage(image);\r\n                            }\r\n                        } catch (Exception ex) {\r\n                            ex.printStackTrace();\r\n                            dtde.dropComplete(false);\r\n                            importFailed(&quot;Not a supported image format&quot;);\r\n                        }\r\n                    } else {\r\n                        dtde.rejectDrop();\r\n                    }\r\n                }\r\n            }\r\n\r\n            public class DragUpdate implements Runnable {\r\n\r\n                private boolean dragOver;\r\n                private Point dragPoint;\r\n                private boolean accepted;\r\n\r\n                public DragUpdate(boolean dragOver, Point dragPoint, boolean accepted) {\r\n                    this.dragOver = dragOver;\r\n                    this.dragPoint = dragPoint;\r\n                    this.accepted = accepted;\r\n                }\r\n\r\n                @Override\r\n                public void run() {\r\n                    DropPane.this.dragOver = dragOver;\r\n                    DropPane.this.dragPoint = dragPoint;\r\n                    DropPane.this.dragAccepted = accepted;\r\n                    DropPane.this.repaint();\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/byPXz.gif\r\n\r\n*nb:* On MacOS, you can&#39;t pre-process the `Transferable` data.  It did work on Windows way back when I was using Windows 7, I can&#39;t verify if it still works.","title":"How to drop images into a JInternalFrame?","body":"<p>Drop and image on a frame, panel, label, internal frame, is all effectively the same thing.  For me, I'd focus on common denominator to make things easier, for me, this means a <code>JPanel</code>.</p>\n<p>A <code>JPanel</code> can be added to a frame, internal frame another panel/container and can make decisions about how to present the drop, in this case, it can use a <code>JLabel</code> to present an image.</p>\n<p>So, based on <a href=\"https://stackoverflow.com/questions/13597233/how-to-drag-and-drop-files-from-a-directory-in-java/13597635#13597635\">how to drag and drop files from a directory in java</a> and <a href=\"https://stackoverflow.com/questions/15080244/java-drag-n-drop-files-of-specific-extension-on-jframe/15080654#15080654\">Java Drag-n-Drop files of specific extension on JFrame</a></p>\n<p>You could do something like...</p>\n<p><a href=\"https://i.stack.imgur.com/byPXz.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/byPXz.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagLayout;\nimport java.awt.Image;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.awt.dnd.DnDConstants;\nimport java.awt.dnd.DropTarget;\nimport java.awt.dnd.DropTargetDragEvent;\nimport java.awt.dnd.DropTargetDropEvent;\nimport java.awt.dnd.DropTargetEvent;\nimport java.awt.dnd.DropTargetListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.TooManyListenersException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JDesktopPane;\nimport javax.swing.JFrame;\nimport javax.swing.JInternalFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JInternalFrame littleFrame = new JInternalFrame(&quot;Hello&quot;, true, true, true, true);\n                littleFrame.add(new DropPane());\n                littleFrame.pack();\n                littleFrame.setVisible(true);\n\n                JDesktopPane desktopPane = new JDesktopPane();\n                desktopPane.add(littleFrame);\n                desktopPane.setPreferredSize(new Dimension(400, 400));\n\n                JFrame frame = new JFrame();\n                frame.add(desktopPane);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class DropPane extends JPanel {\n\n        private DropTarget dropTarget;\n        private DropTargetHandler dropTargetHandler;\n        private Point dragPoint;\n        private boolean dragAccepted;\n\n        private boolean dragOver = false;\n        private JLabel message;\n\n        public DropPane() {\n            setLayout(new GridBagLayout());\n            message = new JLabel();\n            add(message);\n\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        protected DropTarget getMyDropTarget() {\n            if (dropTarget == null) {\n                dropTarget = new DropTarget(this, DnDConstants.ACTION_COPY_OR_MOVE, null);\n            }\n            return dropTarget;\n        }\n\n        protected DropTargetHandler getDropTargetHandler() {\n            if (dropTargetHandler == null) {\n                dropTargetHandler = new DropTargetHandler();\n            }\n            return dropTargetHandler;\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            try {\n                getMyDropTarget().addDropTargetListener(getDropTargetHandler());\n            } catch (TooManyListenersException ex) {\n                ex.printStackTrace();\n            }\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            getMyDropTarget().removeDropTargetListener(getDropTargetHandler());\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (dragOver) {\n                Graphics2D g2d = (Graphics2D) g.create();\n                if (dragAccepted) {\n                    g2d.setColor(new Color(0, 255, 0, 64));\n                } else {\n                    g2d.setColor(new Color(255, 0, 0, 64));\n                }\n                g2d.fill(new Rectangle(getWidth(), getHeight()));\n                if (dragPoint != null) {\n                    int x = dragPoint.x - 25;\n                    int y = dragPoint.y - 25;\n                    g2d.setColor(Color.BLACK);\n                    g2d.drawRect(x, y, 50, 50);\n                }\n                g2d.dispose();\n            }\n        }\n\n        protected void importedImage(final Image image) {\n            Runnable run = new Runnable() {\n                @Override\n                public void run() {\n                    if (image == null) {\n                        message.setIcon(null);\n                    } else {\n                        message.setIcon(new ImageIcon(image));\n                    }\n                }\n            };\n            SwingUtilities.invokeLater(run);\n        }\n\n        protected void importFailed(final String message) {\n            SwingUtilities.invokeLater(new Runnable() {\n                @Override\n                public void run() {\n                    JOptionPane.showMessageDialog(DropPane.this, message, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                }\n            });\n        }\n\n        protected class DropTargetHandler implements DropTargetListener {\n\n            private String[] validExtenions = new String[]{\n                &quot;.png&quot;, &quot;.jpeg&quot;, &quot;.jpeg&quot;, &quot;bmp&quot;, &quot;gif&quot;\n            };\n\n            protected boolean canAcceptFile(File file) {\n                String name = file.getName().toLowerCase();\n                for (String ext : validExtenions) {\n                    if (name.endsWith(ext)) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n\n            protected File acceptableFileFrom(Transferable transferable) throws UnsupportedFlavorException, IOException {\n                Object transferData = transferable.getTransferData(DataFlavor.javaFileListFlavor);\n                if (transferData == null) {\n                    return null;\n                }\n                List fileList = (List) transferData;\n                if (fileList.size() &gt; 1) {\n                    return null;\n                }\n                File file = (File) fileList.get(0);\n                if (canAcceptFile(file)) {\n                    return file;\n                }\n                return null;\n            }\n\n            protected boolean canAcceptDrag(Transferable transferable) {\n                if (transferable == null) {\n                    return true;\n                }\n                try {\n                    File file = acceptableFileFrom(transferable);\n                    if (file == null) {\n                        return true;\n                    }\n                } catch (UnsupportedFlavorException | IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                    return false;\n                }\n                return false;\n            }\n\n            protected boolean acceptsDrag(DropTargetDragEvent dtde) {\n                if (dtde.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n                    Transferable transferable = dtde.getTransferable();\n                    if (DropTargetHandler.this.canAcceptDrag(transferable)) {\n                        dtde.acceptDrag(DnDConstants.ACTION_COPY);\n                        return true;\n                    } else {\n                        dtde.rejectDrag();\n                        return false;\n                    }\n                } else {\n                    dtde.rejectDrag();\n                    return false;\n                }\n            }\n\n            @Override\n            public void dragEnter(DropTargetDragEvent dtde) {\n                boolean accepted = acceptsDrag(dtde);\n                SwingUtilities.invokeLater(new DragUpdate(true, dtde.getLocation(), accepted));\n                repaint();\n            }\n\n            @Override\n            public void dragOver(DropTargetDragEvent dtde) {\n                boolean accepted = acceptsDrag(dtde);\n                SwingUtilities.invokeLater(new DragUpdate(true, dtde.getLocation(), accepted));\n                repaint();\n            }\n\n            @Override\n            public void dropActionChanged(DropTargetDragEvent dtde) {\n            }\n\n            @Override\n            public void dragExit(DropTargetEvent dte) {\n                SwingUtilities.invokeLater(new DragUpdate(false, null, false));\n                repaint();\n            }\n\n            @Override\n            public void drop(DropTargetDropEvent dtde) {\n                SwingUtilities.invokeLater(new DragUpdate(false, null, false));\n                importedImage(null);\n                if (dtde.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n                    dtde.acceptDrop(dtde.getDropAction());\n\n                    try {\n                        Transferable transferable = dtde.getTransferable();\n                        File file = acceptableFileFrom(transferable);\n                        if (file == null) {\n                            importFailed(&quot;Not a supported image file&quot;);\n                            dtde.dropComplete(false);\n                        } else {\n                            BufferedImage image = ImageIO.read(file);\n                            dtde.dropComplete(true);\n                            importedImage(image);\n                        }\n                    } catch (Exception ex) {\n                        ex.printStackTrace();\n                        dtde.dropComplete(false);\n                        importFailed(&quot;Not a supported image format&quot;);\n                    }\n                } else {\n                    dtde.rejectDrop();\n                }\n            }\n        }\n\n        public class DragUpdate implements Runnable {\n\n            private boolean dragOver;\n            private Point dragPoint;\n            private boolean accepted;\n\n            public DragUpdate(boolean dragOver, Point dragPoint, boolean accepted) {\n                this.dragOver = dragOver;\n                this.dragPoint = dragPoint;\n                this.accepted = accepted;\n            }\n\n            @Override\n            public void run() {\n                DropPane.this.dragOver = dragOver;\n                DropPane.this.dragPoint = dragPoint;\n                DropPane.this.dragAccepted = accepted;\n                DropPane.this.repaint();\n            }\n        }\n\n    }\n}\n</code></pre>\n<p><em>nb:</em> On MacOS, you can't pre-process the <code>Transferable</code> data.  It did work on Windows way back when I was using Windows 7, I can't verify if it still works.</p>\n"}],"owner":{"account_id":23923601,"reputation":1,"user_id":17919017,"display_name":"ash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647467333,"creation_date":1647461628,"question_id":71503700,"body_markdown":"I have created a Swing application that can import images into a label, but what I want to do is to put the imported image into an internal frame that will be created after the image is dropped.\r\n\r\n1. Drop an image into the Java app\r\n2. Create a `JInternalFrame`\r\n3. Make the image appear in the internal frame instead of the label in the `JFrame`\r\n\r\n\r\n```\r\npublic class Test{\r\n\tpublic static void main(String[] args) {               \r\n                JFrame f = new JFrame(&quot;Testing&quot;);\r\n                JLabel l = new JLabel(&quot;Drop here&quot;);\r\n                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                f.setSize(600, 600);\r\n                f.setLocationRelativeTo(null);\r\n                f.setVisible(true);\r\n                f.add(l);\r\n                l.setHorizontalAlignment(JLabel.CENTER);\r\n                \r\n           l.setTransferHandler(new TransferHandler() {     \t\r\n\t\t\tprivate static final long serialVersionUID = 1L;\r\n\t\tpublic static final DataFlavor[] SUPPORTED_DATA_FLAVORS = new DataFlavor[]{\r\n            DataFlavor.javaFileListFlavor,\r\n            DataFlavor.imageFlavor\r\n        };\r\n        @Override\r\n        public boolean canImport(TransferHandler.TransferSupport support) {\r\n        \tSystem.out.println(&quot;1&quot;);\r\n            for (DataFlavor flavor : SUPPORTED_DATA_FLAVORS) {\r\n                if (!support.isDataFlavorSupported(flavor)) {\r\n                  return  true;\r\n                    \r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        @Override\r\n        public boolean importData(TransferHandler.TransferSupport support) {\r\n          \tSystem.out.println(&quot;2&quot;);\r\n        \tnew Test();\r\n    \t\tJInternalFrame \tmb = new JInternalFrame(&quot;Frame title4&quot;, true, true, true);\r\n    \t\tJLabel la = new JLabel(&quot;here&quot;);\r\n \t       \tmb.setSize(400, 300);\r\n \t  \t\tl.add(mb);\r\n \t  \t\tla.setHorizontalAlignment(JLabel.CENTER);\r\n \t  \t\tmb.add(la);\r\n \t  \t\tmb.setVisible(true);  \r\n      \r\n                if (canImport(support)) {\r\n                    try {\r\n                        Transferable t = support.getTransferable();\r\n                        Component component = support.getComponent();\r\n                        if (component instanceof JLabel) {\r\n                            Image image = null;\r\n                            if (support.isDataFlavorSupported(DataFlavor.imageFlavor)) {\r\n                                image = (Image) t.getTransferData(DataFlavor.imageFlavor);\r\n                            } else if (support.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\r\n                                @SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\t\t\t\t\t\t\tList files = (List) t.getTransferData(DataFlavor.javaFileListFlavor);\r\n                                if (files.size() &gt; 0) {\r\n                                    image = ImageIO.read((File) files.get(0));\r\n                                }\r\n                            }\r\n                            ImageIcon icon = null;\r\n                            if (image != null) {\r\n                                icon = new ImageIcon(image);\r\n                            }\r\n                            ((JLabel) component).setIcon(icon);\r\n                            return true;\r\n                        }\r\n                    } catch (Exception exp) {\r\n                        exp.printStackTrace();\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n}}\r\n\r\n\r\n```\r\n","title":"How to drop images into a JInternalFrame?","body":"<p>I have created a Swing application that can import images into a label, but what I want to do is to put the imported image into an internal frame that will be created after the image is dropped.</p>\n<ol>\n<li>Drop an image into the Java app</li>\n<li>Create a <code>JInternalFrame</code></li>\n<li>Make the image appear in the internal frame instead of the label in the <code>JFrame</code></li>\n</ol>\n<pre><code>public class Test{\n    public static void main(String[] args) {               \n                JFrame f = new JFrame(&quot;Testing&quot;);\n                JLabel l = new JLabel(&quot;Drop here&quot;);\n                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                f.setSize(600, 600);\n                f.setLocationRelativeTo(null);\n                f.setVisible(true);\n                f.add(l);\n                l.setHorizontalAlignment(JLabel.CENTER);\n                \n           l.setTransferHandler(new TransferHandler() {         \n            private static final long serialVersionUID = 1L;\n        public static final DataFlavor[] SUPPORTED_DATA_FLAVORS = new DataFlavor[]{\n            DataFlavor.javaFileListFlavor,\n            DataFlavor.imageFlavor\n        };\n        @Override\n        public boolean canImport(TransferHandler.TransferSupport support) {\n            System.out.println(&quot;1&quot;);\n            for (DataFlavor flavor : SUPPORTED_DATA_FLAVORS) {\n                if (!support.isDataFlavorSupported(flavor)) {\n                  return  true;\n                    \n                }\n            }\n            return true;\n        }\n        @Override\n        public boolean importData(TransferHandler.TransferSupport support) {\n            System.out.println(&quot;2&quot;);\n            new Test();\n            JInternalFrame  mb = new JInternalFrame(&quot;Frame title4&quot;, true, true, true);\n            JLabel la = new JLabel(&quot;here&quot;);\n            mb.setSize(400, 300);\n            l.add(mb);\n            la.setHorizontalAlignment(JLabel.CENTER);\n            mb.add(la);\n            mb.setVisible(true);  \n      \n                if (canImport(support)) {\n                    try {\n                        Transferable t = support.getTransferable();\n                        Component component = support.getComponent();\n                        if (component instanceof JLabel) {\n                            Image image = null;\n                            if (support.isDataFlavorSupported(DataFlavor.imageFlavor)) {\n                                image = (Image) t.getTransferData(DataFlavor.imageFlavor);\n                            } else if (support.isDataFlavorSupported(DataFlavor.javaFileListFlavor)) {\n                                @SuppressWarnings(&quot;rawtypes&quot;)\n                                List files = (List) t.getTransferData(DataFlavor.javaFileListFlavor);\n                                if (files.size() &gt; 0) {\n                                    image = ImageIO.read((File) files.get(0));\n                                }\n                            }\n                            ImageIcon icon = null;\n                            if (image != null) {\n                                icon = new ImageIcon(image);\n                            }\n                            ((JLabel) component).setIcon(icon);\n                            return true;\n                        }\n                    } catch (Exception exp) {\n                        exp.printStackTrace();\n                    }\n                }\n                return true;\n            }\n        });\n}}\n\n\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1647466375,"post_id":71504477,"comment_id":126381851,"body_markdown":"Does `getUrls()` return an `Entry`?","body":"Does <code>getUrls()</code> return an <code>Entry</code>?"},{"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"score":0,"creation_date":1647466688,"post_id":71504477,"comment_id":126381954,"body_markdown":"Map&lt;String, String&gt;, sorry should&#39;ve clarified that.","body":"Map&lt;String, String&gt;, sorry should&#39;ve clarified that."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1647466737,"post_id":71504477,"comment_id":126381971,"body_markdown":"Then how do you expect to call `Entry::getKey` on it?","body":"Then how do you expect to call <code>Entry::getKey</code> on it?"},{"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"score":0,"creation_date":1647466950,"post_id":71504477,"comment_id":126382030,"body_markdown":"I don&#39;t anymore...","body":"I don&#39;t anymore..."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647467276,"creation_date":1647467276,"answer_id":71504628,"question_id":71504477,"body_markdown":"If `getUrls()` returns a `Map`, you can&#39;t collect it as an `Entry`. If the idea is to combine all the maps, you can use `flatMap()` to merge their entries into one stream:\r\n\r\n\tMap&lt;String, String&gt; preFilteredKafkaRecords = kafkaRecordMap.entrySet().stream()\r\n        .map(item -&gt; getUrls(item.getKey(), item.getValue()))\r\n        .map(Map::entrySet)\r\n        .flatMap(Set::stream)\r\n        .filter(THING_1)\r\n        .filter(THING_2)\r\n        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\nAlternatively, you can use a custom collector to fold each result into a single map:\r\n\r\n\tMap&lt;String, String&gt; preFilteredKafkaRecords = kafkaRecordMap.entrySet().stream()\r\n        .map(item -&gt; getUrls(item.getKey(), item.getValue()))\r\n        .filter(THING_1)\r\n        .filter(THING_2)\r\n        .collect(HashMap::new, Map::putAll, Map::putAll);","title":"Collecting a basic map in Java 8 streams API","body":"<p>If <code>getUrls()</code> returns a <code>Map</code>, you can't collect it as an <code>Entry</code>. If the idea is to combine all the maps, you can use <code>flatMap()</code> to merge their entries into one stream:</p>\n<pre><code>Map&lt;String, String&gt; preFilteredKafkaRecords = kafkaRecordMap.entrySet().stream()\n    .map(item -&gt; getUrls(item.getKey(), item.getValue()))\n    .map(Map::entrySet)\n    .flatMap(Set::stream)\n    .filter(THING_1)\n    .filter(THING_2)\n    .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n<p>Alternatively, you can use a custom collector to fold each result into a single map:</p>\n<pre><code>Map&lt;String, String&gt; preFilteredKafkaRecords = kafkaRecordMap.entrySet().stream()\n    .map(item -&gt; getUrls(item.getKey(), item.getValue()))\n    .filter(THING_1)\n    .filter(THING_2)\n    .collect(HashMap::new, Map::putAll, Map::putAll);\n</code></pre>\n"}],"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647467276,"creation_date":1647466320,"question_id":71504477,"body_markdown":"```\r\n    Map&lt;String, String&gt; preFilteredKafkaRecords = kafkaRecordMap.entrySet().stream()\r\n            .map(item -&gt; getUrls(item.getKey(), item.getValue()))\r\n            .filter(THING_1)\r\n            .filter(THING_2)\r\n            .collect(Collectors.toMap(\r\n                    Map.Entry&lt;String, String&gt;::getKey, Map.Entry&lt;String, String&gt;::getValue));\r\n```\r\n\r\n`getUrls` - returns `Map&lt;String, String&gt;`\r\n\r\nhow can I collect this to a `Map&lt;String, String&gt;`? The first map returns a `Map&lt;String, String&gt;` but I can&#39;t get the compiler to stop complaining. ","title":"Collecting a basic map in Java 8 streams API","body":"<pre><code>    Map&lt;String, String&gt; preFilteredKafkaRecords = kafkaRecordMap.entrySet().stream()\n            .map(item -&gt; getUrls(item.getKey(), item.getValue()))\n            .filter(THING_1)\n            .filter(THING_2)\n            .collect(Collectors.toMap(\n                    Map.Entry&lt;String, String&gt;::getKey, Map.Entry&lt;String, String&gt;::getValue));\n</code></pre>\n<p><code>getUrls</code> - returns <code>Map&lt;String, String&gt;</code></p>\n<p>how can I collect this to a <code>Map&lt;String, String&gt;</code>? The first map returns a <code>Map&lt;String, String&gt;</code> but I can't get the compiler to stop complaining.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5418581,"reputation":347,"user_id":4313009,"display_name":"Alfredo Tost&#243;n"},"score":0,"creation_date":1647466246,"post_id":71504338,"comment_id":126381817,"body_markdown":"Adding a `i--;` line inside the catchs doesn&#39;t do the trick?","body":"Adding a <code>i--;</code> line inside the catchs doesn&#39;t do the trick?"},{"owner":{"account_id":19382678,"reputation":774,"user_id":14173556,"display_name":"paladin"},"score":1,"creation_date":1647466954,"post_id":71504338,"comment_id":126382032,"body_markdown":"I would only add this to the `catch(InputMismatchException e)`. Or better, just remote `i++` from the for-loop and add an unconditional `i++` at the end of the for-loop, after the catches. I would also remove `catch(Exception e)` as it&#39;s bad practices to do this (this might even create an infinity loop in this case here).","body":"I would only add this to the <code>catch(InputMismatchException e)</code>. Or better, just remote <code>i++</code> from the for-loop and add an unconditional <code>i++</code> at the end of the for-loop, after the catches. I would also remove <code>catch(Exception e)</code> as it&#39;s bad practices to do this (this might even create an infinity loop in this case here)."}],"answers":[{"tags":[],"owner":{"account_id":2609703,"reputation":1305,"user_id":2260040,"accept_rate":57,"display_name":"user2260040"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647465985,"creation_date":1647465985,"answer_id":71504419,"question_id":71504338,"body_markdown":"    class fivePositiveNumbers{\r\n        public static void main(String[] args){\r\n            Scanner keyboard = new Scanner(System.in);\r\n            int userNumber;\r\n            int sum = 0;\r\n            System.out.println(&quot;This program will give the sum and average of 5 positive integers,&quot;);\r\n    \r\n            int ctr = 0;\r\n    \r\n            for(;;){\r\n                System.out.println(&quot;Enter number &quot; + (ctr+1) + &quot;: &quot;);\r\n                try{\r\n                    userNumber = keyboard.nextInt();\r\n                    if(userNumber &lt;= 0){\r\n                        throw new Exception(&quot;The integer must be positive.&quot;);\r\n                    }\r\n                    sum = sum + userNumber;\r\n    \r\n                    ctr++;\r\n                } catch(InputMismatchException e){\r\n                    System.out.println(&quot;This data type is incorrect.&quot;);\r\n                    keyboard.nextLine();\r\n                } catch(Exception e){\r\n                    System.out.println(e.getMessage());\r\n                    keyboard.nextLine();\r\n                }\r\n    \r\n                if (ctr == 5) break;\r\n            }\r\n    \r\n            System.out.println(&quot;The sum is &quot; + sum + &quot; and the average of your 5 numbers is &quot; + sum / 5 + &quot;.&quot;);\r\n        }\r\n    }","title":"How do I make a for loop ask a user for the same input again after an Exception?","body":"<pre><code>class fivePositiveNumbers{\n    public static void main(String[] args){\n        Scanner keyboard = new Scanner(System.in);\n        int userNumber;\n        int sum = 0;\n        System.out.println(&quot;This program will give the sum and average of 5 positive integers,&quot;);\n\n        int ctr = 0;\n\n        for(;;){\n            System.out.println(&quot;Enter number &quot; + (ctr+1) + &quot;: &quot;);\n            try{\n                userNumber = keyboard.nextInt();\n                if(userNumber &lt;= 0){\n                    throw new Exception(&quot;The integer must be positive.&quot;);\n                }\n                sum = sum + userNumber;\n\n                ctr++;\n            } catch(InputMismatchException e){\n                System.out.println(&quot;This data type is incorrect.&quot;);\n                keyboard.nextLine();\n            } catch(Exception e){\n                System.out.println(e.getMessage());\n                keyboard.nextLine();\n            }\n\n            if (ctr == 5) break;\n        }\n\n        System.out.println(&quot;The sum is &quot; + sum + &quot; and the average of your 5 numbers is &quot; + sum / 5 + &quot;.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647467073,"creation_date":1647466565,"answer_id":71504525,"question_id":71504338,"body_markdown":"Use a `while` or a `for` loop that will increment the loop count ONLY IF a valid input is provided. Your solution increments the loop counter automatically regardless of the validity of the input.\r\n\r\n```\r\nint i = 1;\r\n\r\nwhile (i &lt;= 5) {\r\n\r\n    System.out.println(&quot;Enter number &quot; + i + &quot;: &quot;);\r\n        try{\r\n            userNumber = keyboard.nextInt();\r\n            if(userNumber &lt;= 0){\r\n                throw new Exception(&quot;The integer must be positive.&quot;);\r\n            }\r\n            sum = sum + userNumber; // this belongs after the negative check\r\n            i++; // increment the count after all validations are successfully completed\r\n        } catch(InputMismatchException e){\r\n            System.out.println(&quot;This data type is incorrect.&quot;);\r\n            keyboard.nextLine();\r\n        } catch(Exception e){\r\n            System.out.println(e.getMessage());\r\n            keyboard.nextLine();\r\n        }\r\n    }\r\n}\r\n```\r\nIf you choose to use a `for` loop, remove the counter increment out of the loop declaration\r\n```\r\n\r\nfor (int i = 1; i &lt;= 5;) {\r\n    // your logic and exception handling here\r\n    i++; // as in the while, increment only after all validations are successfully completed\r\n}\r\n```\r\n\r\nAnother point... I don&#39;t think it is necessary to throw an exception if the number is negative. I think it is better to simply execute a `continue` to avoid incrementing the loop counter. This is the result of this:\r\n\r\n```\r\nThis program will give the sum and average of 5 positive integers,\r\nEnter number 1: \r\n-5\r\nThe integer must be positive.\r\nEnter number 1: \r\n-2\r\nThe integer must be positive.\r\nEnter number 1: \r\n-3\r\nThe integer must be positive.\r\nEnter number 1: \r\n-4\r\nThe integer must be positive.\r\nEnter number 1: \r\n-5\r\nThe integer must be positive.\r\nEnter number 1: \r\n1\r\nEnter number 2: \r\n2\r\nEnter number 3: \r\n3\r\nEnter number 4: \r\n5\r\nEnter number 5: \r\n4\r\nThe sum is 15 and the average of your 5 numbers is 3.\r\n```\r\nAs you can see, I entered several negative numbers and the program continued to run without incrementing the loop counter.  The complete solution with `continue`:\r\n```\r\npublic static void main(String[] args) {\r\n      Scanner keyboard = new Scanner(System.in);\r\n      int userNumber;\r\n      int sum = 0;\r\n      System.out.println(&quot;This program will give the sum and average of 5 positive integers,&quot;);\r\n\t      \r\n      for(int i = 1; i &lt;= 5; ){\r\n         System.out.println(&quot;Enter number &quot; + i + &quot;: &quot;);\r\n         try{\r\n            userNumber = keyboard.nextInt();\r\n            if(userNumber &lt;= 0){\r\n               System.err.println(&quot;The integer must be positive.&quot;);\r\n               continue;\r\n            }\r\n            sum = sum + userNumber;\r\n            i++;\r\n         } catch(InputMismatchException e){\r\n               System.out.println(&quot;This data type is incorrect.&quot;);\r\n               keyboard.nextLine();\r\n         } catch(Exception e){\r\n               System.out.println(e.getMessage());\r\n               keyboard.nextLine();\r\n         }\r\n      }\r\n      System.out.println(&quot;The sum is &quot; + sum + &quot; and the average of your 5 numbers is &quot; + sum / 5 + &quot;.&quot;);\r\n}\r\n```","title":"How do I make a for loop ask a user for the same input again after an Exception?","body":"<p>Use a <code>while</code> or a <code>for</code> loop that will increment the loop count ONLY IF a valid input is provided. Your solution increments the loop counter automatically regardless of the validity of the input.</p>\n<pre><code>int i = 1;\n\nwhile (i &lt;= 5) {\n\n    System.out.println(&quot;Enter number &quot; + i + &quot;: &quot;);\n        try{\n            userNumber = keyboard.nextInt();\n            if(userNumber &lt;= 0){\n                throw new Exception(&quot;The integer must be positive.&quot;);\n            }\n            sum = sum + userNumber; // this belongs after the negative check\n            i++; // increment the count after all validations are successfully completed\n        } catch(InputMismatchException e){\n            System.out.println(&quot;This data type is incorrect.&quot;);\n            keyboard.nextLine();\n        } catch(Exception e){\n            System.out.println(e.getMessage());\n            keyboard.nextLine();\n        }\n    }\n}\n</code></pre>\n<p>If you choose to use a <code>for</code> loop, remove the counter increment out of the loop declaration</p>\n<pre><code>\nfor (int i = 1; i &lt;= 5;) {\n    // your logic and exception handling here\n    i++; // as in the while, increment only after all validations are successfully completed\n}\n</code></pre>\n<p>Another point... I don't think it is necessary to throw an exception if the number is negative. I think it is better to simply execute a <code>continue</code> to avoid incrementing the loop counter. This is the result of this:</p>\n<pre><code>This program will give the sum and average of 5 positive integers,\nEnter number 1: \n-5\nThe integer must be positive.\nEnter number 1: \n-2\nThe integer must be positive.\nEnter number 1: \n-3\nThe integer must be positive.\nEnter number 1: \n-4\nThe integer must be positive.\nEnter number 1: \n-5\nThe integer must be positive.\nEnter number 1: \n1\nEnter number 2: \n2\nEnter number 3: \n3\nEnter number 4: \n5\nEnter number 5: \n4\nThe sum is 15 and the average of your 5 numbers is 3.\n</code></pre>\n<p>As you can see, I entered several negative numbers and the program continued to run without incrementing the loop counter.  The complete solution with <code>continue</code>:</p>\n<pre><code>public static void main(String[] args) {\n      Scanner keyboard = new Scanner(System.in);\n      int userNumber;\n      int sum = 0;\n      System.out.println(&quot;This program will give the sum and average of 5 positive integers,&quot;);\n          \n      for(int i = 1; i &lt;= 5; ){\n         System.out.println(&quot;Enter number &quot; + i + &quot;: &quot;);\n         try{\n            userNumber = keyboard.nextInt();\n            if(userNumber &lt;= 0){\n               System.err.println(&quot;The integer must be positive.&quot;);\n               continue;\n            }\n            sum = sum + userNumber;\n            i++;\n         } catch(InputMismatchException e){\n               System.out.println(&quot;This data type is incorrect.&quot;);\n               keyboard.nextLine();\n         } catch(Exception e){\n               System.out.println(e.getMessage());\n               keyboard.nextLine();\n         }\n      }\n      System.out.println(&quot;The sum is &quot; + sum + &quot; and the average of your 5 numbers is &quot; + sum / 5 + &quot;.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":24582094,"reputation":3,"user_id":18487061,"display_name":"Bamron Tasty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71504525,"answer_count":2,"score":0,"last_activity_date":1647467073,"creation_date":1647465404,"question_id":71504338,"body_markdown":"So to clarify, when the program asks the user for number 1: if the user were to input a letter, I need the program to tell the user that there was an input mismatch, then ask the user for number 1 again. This needs to be achieved using only one single for loop, and there can be no negative numbers that affect the sum or the average. Here&#39;s what I have so far:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.text.*;\r\n\r\nclass fivePositiveNumbers{\r\n   public static void main(String[] args){\r\n      Scanner keyboard = new Scanner(System.in);\r\n      int userNumber;\r\n      int sum = 0;\r\n      System.out.println(&quot;This program will give the sum and average of 5 positive integers,&quot;);\r\n      \r\n      for(int i = 1; i &lt;= 5; i++){\r\n         System.out.println(&quot;Enter number &quot; + i + &quot;: &quot;);\r\n         try{\r\n            userNumber = keyboard.nextInt();\r\n            sum = sum + userNumber;\r\n            if(userNumber &lt;= 0){\r\n               throw new Exception(&quot;The integer must be positive.&quot;);\r\n            }\r\n         } catch(InputMismatchException e){\r\n               System.out.println(&quot;This data type is incorrect.&quot;);\r\n               keyboard.nextLine();\r\n         } catch(Exception e){\r\n               System.out.println(e.getMessage());\r\n               keyboard.nextLine();\r\n         }\r\n      }\r\n      System.out.println(&quot;The sum is &quot; + sum + &quot; and the average of your 5 numbers is &quot; + sum / 5 + &quot;.&quot;);\r\n   }\r\n}","title":"How do I make a for loop ask a user for the same input again after an Exception?","body":"<p>So to clarify, when the program asks the user for number 1: if the user were to input a letter, I need the program to tell the user that there was an input mismatch, then ask the user for number 1 again. This needs to be achieved using only one single for loop, and there can be no negative numbers that affect the sum or the average. Here's what I have so far:</p>\n<pre><code>import java.util.*;\nimport java.text.*;\n\nclass fivePositiveNumbers{\n   public static void main(String[] args){\n      Scanner keyboard = new Scanner(System.in);\n      int userNumber;\n      int sum = 0;\n      System.out.println(&quot;This program will give the sum and average of 5 positive integers,&quot;);\n      \n      for(int i = 1; i &lt;= 5; i++){\n         System.out.println(&quot;Enter number &quot; + i + &quot;: &quot;);\n         try{\n            userNumber = keyboard.nextInt();\n            sum = sum + userNumber;\n            if(userNumber &lt;= 0){\n               throw new Exception(&quot;The integer must be positive.&quot;);\n            }\n         } catch(InputMismatchException e){\n               System.out.println(&quot;This data type is incorrect.&quot;);\n               keyboard.nextLine();\n         } catch(Exception e){\n               System.out.println(e.getMessage());\n               keyboard.nextLine();\n         }\n      }\n      System.out.println(&quot;The sum is &quot; + sum + &quot; and the average of your 5 numbers is &quot; + sum / 5 + &quot;.&quot;);\n   }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1194436,"reputation":5099,"user_id":1166447,"display_name":"Jhanvi"},"down_vote_count":0,"up_vote_count":100,"is_accepted":true,"score":100,"last_activity_date":1383368174,"creation_date":1383367839,"answer_id":19739056,"question_id":19739026,"body_markdown":"You have to include one more jar. \r\n\r\n    xmlbeans-2.3.0.jar\r\n\r\nAdd this and try.\r\n\r\n**Note:** It is required for the files with .xlsx formats only, not for just .xls formats.","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>You have to include one more jar. </p>\n\n<pre><code>xmlbeans-2.3.0.jar\n</code></pre>\n\n<p>Add this and try.</p>\n\n<p><strong>Note:</strong> It is required for the files with .xlsx formats only, not for just .xls formats.</p>\n"},{"tags":[],"owner":{"account_id":3205495,"reputation":3179,"user_id":2706605,"accept_rate":89,"display_name":"Mengjun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1407408644,"creation_date":1383367937,"answer_id":19739071,"question_id":19739026,"body_markdown":"When trying to translate Excel file with .xlsx suffix, you need to add additional jar, xmlbeansxxx.jar. *xxxx*  is version, such as `xmlbeans-2.3.0.jar`","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>When trying to translate Excel file with .xlsx suffix, you need to add additional jar, xmlbeansxxx.jar. <em>xxxx</em>  is version, such as <code>xmlbeans-2.3.0.jar</code></p>\n"},{"tags":[],"owner":{"account_id":2971663,"reputation":856,"user_id":2523595,"accept_rate":57,"display_name":"emreturka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1423129904,"creation_date":1423129904,"answer_id":28340822,"question_id":19739026,"body_markdown":"For all that you add xmlbeans-2.3.0.jar and it is not working,you must use HSSFWorkbook instead of XSSFWorkbook after add jar.For instance;\r\n\r\n        Workbook workbook = new HSSFWorkbook();\r\n\t\tSheet listSheet = workbook.createSheet(&quot;Kişi Listesi&quot;);\r\n\r\n\t\tint rowIndex = 0;\r\n\t\tfor (KayitParam kp : kayitList) {\r\n\t\t\tRow row = listSheet.createRow(rowIndex++);\r\n\t\t\tint cellIndex = 0;\r\n\t\t\trow.createCell(cellIndex++).setCellValue(kp.getAd());\r\n\t\t\trow.createCell(cellIndex++).setCellValue(kp.getSoyad());\r\n\t\t\trow.createCell(cellIndex++).setCellValue(kp.getEposta());\r\n\t\t\trow.createCell(cellIndex++).setCellValue(kp.getCinsiyet());\r\n\t\t\trow.createCell(cellIndex++).setCellValue(kp.getDogumtarihi());\r\n\t\t\trow.createCell(cellIndex++).setCellValue(kp.getTahsil());\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tworkbook.write(baos);\r\n\t\t\tAMedia amedia = new AMedia(&quot;Kisiler.xls&quot;, &quot;xls&quot;,\r\n\t\t\t\t\t&quot;application/file&quot;, baos.toByteArray());\r\n\t\t\tFiledownload.save(amedia);\r\n\t\t\tbaos.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>For all that you add xmlbeans-2.3.0.jar and it is not working,you must use HSSFWorkbook instead of XSSFWorkbook after add jar.For instance;</p>\n\n<pre><code>    Workbook workbook = new HSSFWorkbook();\n    Sheet listSheet = workbook.createSheet(\"Kişi Listesi\");\n\n    int rowIndex = 0;\n    for (KayitParam kp : kayitList) {\n        Row row = listSheet.createRow(rowIndex++);\n        int cellIndex = 0;\n        row.createCell(cellIndex++).setCellValue(kp.getAd());\n        row.createCell(cellIndex++).setCellValue(kp.getSoyad());\n        row.createCell(cellIndex++).setCellValue(kp.getEposta());\n        row.createCell(cellIndex++).setCellValue(kp.getCinsiyet());\n        row.createCell(cellIndex++).setCellValue(kp.getDogumtarihi());\n        row.createCell(cellIndex++).setCellValue(kp.getTahsil());\n    }\n\n    try {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        workbook.write(baos);\n        AMedia amedia = new AMedia(\"Kisiler.xls\", \"xls\",\n                \"application/file\", baos.toByteArray());\n        Filedownload.save(amedia);\n        baos.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1927963,"reputation":4604,"user_id":1737989,"accept_rate":50,"display_name":"Amit Baderia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430304477,"creation_date":1430304477,"answer_id":29941477,"question_id":19739026,"body_markdown":"You need to include xmlbeans-xxx.jar and if you have downloaded the POI binary zip, you will get the xmlbeans-xxx.jar in ooxml-lib folder (eg: \\poi-3.11\\ooxml-lib)\r\n\r\nThis jar is used for XML binding which is applicable for .xlsx files.","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>You need to include xmlbeans-xxx.jar and if you have downloaded the POI binary zip, you will get the xmlbeans-xxx.jar in ooxml-lib folder (eg: \\poi-3.11\\ooxml-lib)</p>\n\n<p>This jar is used for XML binding which is applicable for .xlsx files.</p>\n"},{"tags":[],"owner":{"account_id":4837594,"reputation":41,"user_id":3903681,"display_name":"Arslan Ahmad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1436084718,"creation_date":1436084718,"answer_id":31228476,"question_id":19739026,"body_markdown":"you have to include two more jar files.\r\n\r\nxmlbeans-2.3.0.jar and dom4j-1.6.1.jar \r\nAdd try it will work.\r\n\r\nNote: It is required for the files with .xlsx formats only, not for just .xlt formats.","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>you have to include two more jar files.</p>\n\n<p>xmlbeans-2.3.0.jar and dom4j-1.6.1.jar \nAdd try it will work.</p>\n\n<p>Note: It is required for the files with .xlsx formats only, not for just .xlt formats.</p>\n"},{"tags":[],"owner":{"account_id":14064842,"reputation":11,"user_id":10159980,"display_name":"Rashmi A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533035885,"creation_date":1533032065,"answer_id":51610958,"question_id":19739026,"body_markdown":"I faced a similar situation, so i replaced all the external jar files(`poi-bin-3.17-20170915`) and make sure you add other `jar` files present in lib and `ooxml-lib` folders. \r\n\r\nHope this helps!!!:)","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>I faced a similar situation, so i replaced all the external jar files(<code>poi-bin-3.17-20170915</code>) and make sure you add other <code>jar</code> files present in lib and <code>ooxml-lib</code> folders. </p>\n\n<p>Hope this helps!!!:)</p>\n"},{"tags":[],"owner":{"account_id":8170109,"reputation":484,"user_id":6150881,"display_name":"Rabhi salim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614261082,"creation_date":1614261082,"answer_id":66369853,"question_id":19739026,"body_markdown":"I was working with talend V7.3.1 and I had poi version &quot;4.1.0&quot; and including xml-beans from the list of dependencies didnt fix my problem (i.e: 2.3.0 and 2.6.0).\r\n\r\n    It was fixed by downloading the jar &quot;xmlbeans-3.0.1.jar&quot; and adding it to the project\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/10FNW.png","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>I was working with talend V7.3.1 and I had poi version &quot;4.1.0&quot; and including xml-beans from the list of dependencies didnt fix my problem (i.e: 2.3.0 and 2.6.0).</p>\n<pre><code>It was fixed by downloading the jar &quot;xmlbeans-3.0.1.jar&quot; and adding it to the project\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/10FNW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/10FNW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16830963,"reputation":313,"user_id":12168947,"display_name":"king.reflex"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1616987776,"creation_date":1616830945,"answer_id":66829099,"question_id":19739026,"body_markdown":"ClassNotFoundException is thrown when the class is not found in the classpath.\r\nAdding the following jar(contains the definition of the XmlObject interface) will solve the problem\r\n\r\n    xmlbeans-x.y.z.jar\r\n\r\nYou can download the latest xmlbeans jar file at the following link\r\nhttps://xmlbeans.apache.org/download/index.html\r\n\r\nIf you are working with the apache poi library make sure you add jars in the lib and ooxml-lib folders.","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>ClassNotFoundException is thrown when the class is not found in the classpath.\nAdding the following jar(contains the definition of the XmlObject interface) will solve the problem</p>\n<pre><code>xmlbeans-x.y.z.jar\n</code></pre>\n<p>You can download the latest xmlbeans jar file at the following link\n<a href=\"https://xmlbeans.apache.org/download/index.html\" rel=\"nofollow noreferrer\">https://xmlbeans.apache.org/download/index.html</a></p>\n<p>If you are working with the apache poi library make sure you add jars in the lib and ooxml-lib folders.</p>\n"},{"tags":[],"owner":{"account_id":19953558,"reputation":1,"user_id":14622688,"display_name":"Дмитрий Ковальчук"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647465341,"creation_date":1647277207,"answer_id":71471523,"question_id":19739026,"body_markdown":"If to do this right way, you need to create a maven project and put all depenencies into `pom.xml` file, dependencies for maven you can google, for example:\r\n&lt;https://mvnrepository.com/artifact/org.apache.poi/poi/5.0.0&gt;?\r\n\r\nIf to do this hardcore way, download POI library binary files and add all the `.jar` files from all of the folders (for POI 5.0.0) this is (auxiliary, ooxml-lib, lib) folders and root catalog. In my case it works, if you don&#39;t want to figure out what library relate for what.\r\n\r\nSomething like that:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mzjQt.png","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>If to do this right way, you need to create a maven project and put all depenencies into <code>pom.xml</code> file, dependencies for maven you can google, for example:\n<a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi/5.0.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.poi/poi/5.0.0</a>?</p>\n<p>If to do this hardcore way, download POI library binary files and add all the <code>.jar</code> files from all of the folders (for POI 5.0.0) this is (auxiliary, ooxml-lib, lib) folders and root catalog. In my case it works, if you don't want to figure out what library relate for what.</p>\n<p>Something like that:</p>\n<p><a href=\"https://i.stack.imgur.com/mzjQt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mzjQt.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3519590,"reputation":1033,"user_id":2942227,"accept_rate":50,"display_name":"user2942227"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168030,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":19739056,"answer_count":9,"score":48,"last_activity_date":1647465341,"creation_date":1383367542,"question_id":19739026,"body_markdown":"I am getting following error  \r\n&gt;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlObject\r\n\tat OrderBook.WriteToExcelSheet.CreateOutPutFile(WriteToExcelSheet.java:20)\r\n\tat OrderBook.MainMethod.main(MainMethod.java:71)\r\n\r\nI looked for the reasons for this error online but couldn&#39;t find why I am getting it.\r\n\r\nI have included the following jar files\r\n\r\n    poi-3.9-20121203.jar, \r\n    poi-excelant-3.9-20121203.jar,\r\n    poi-examples-3.9-20121203.jar,\r\n    poi-ooxml-3.9-20121203.jar,\r\n    poi-ooxml-schemas-3.9-20121203.jar,\r\n    poi-scratchpad-3.9-20121203.jar\r\n\r\n Code: \r\n\r\n    public class WriteToExcelSheet {\r\n    \tpublic static Map &lt; Integer, Object[] &gt; data = new TreeMap &lt; Integer, Object[] &gt; ();\r\n    \tpublic static void CreateOutPutFile() {\r\n    \t\tXSSFWorkbook workbook = new XSSFWorkbook();\r\n    \t\tXSSFSheet sheet = workbook.createSheet(&quot;Orderbook Stats&quot;);\r\n    \t\t//This data needs to be written (Object[])\r\n    \t\t//Iterate over data and write to sheet\r\n    \t\tSet &lt; Integer &gt; keyset = data.keySet()\r\n    \t\tint rownum = 0;\r\n    \t\tfor (Integer key: keyset) {\r\n    \t\t\tRow row = sheet.createRow(rownum++);\r\n    \t\t\tObject[] objArr = data.get(key);\r\n    \t\t\tint cellnum = 0;\r\n    \t\t\tfor (Object obj: objArr) {\r\n    \t\t\t\tCell cell = row.createCell(cellnum++);\r\n    \t\t\t\tif (obj instanceof String) cell.setCellValue((String) obj);\r\n    \t\t\t\telse if (obj instanceof Integer) cell.setCellValue((Integer) obj);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\ttry {\r\n    \t\t\t//Write the workbook in file system\r\n    \t\t\tSystem.out.println(&quot;OutPutStats.xlsx writing..............................&quot;);\r\n    \t\t\tFileOutputStream out = new FileOutputStream(new File(&quot;FileLocation/o.xlxs&quot;));\r\n    \t\t\tworkbook.write(out);\r\n    \t\t\tout.close();\r\n    \t\t\tSystem.out.println(&quot;OutPutStats.xlsx written successfully on disk.&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }    \r\n\r\n   \r\n    \r\n","title":"java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject Error","body":"<p>I am getting following error  </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlObject\n      at OrderBook.WriteToExcelSheet.CreateOutPutFile(WriteToExcelSheet.java:20)\n      at OrderBook.MainMethod.main(MainMethod.java:71)</p>\n</blockquote>\n\n<p>I looked for the reasons for this error online but couldn't find why I am getting it.</p>\n\n<p>I have included the following jar files</p>\n\n<pre><code>poi-3.9-20121203.jar, \npoi-excelant-3.9-20121203.jar,\npoi-examples-3.9-20121203.jar,\npoi-ooxml-3.9-20121203.jar,\npoi-ooxml-schemas-3.9-20121203.jar,\npoi-scratchpad-3.9-20121203.jar\n</code></pre>\n\n<p>Code: </p>\n\n<pre><code>public class WriteToExcelSheet {\n    public static Map &lt; Integer, Object[] &gt; data = new TreeMap &lt; Integer, Object[] &gt; ();\n    public static void CreateOutPutFile() {\n        XSSFWorkbook workbook = new XSSFWorkbook();\n        XSSFSheet sheet = workbook.createSheet(\"Orderbook Stats\");\n        //This data needs to be written (Object[])\n        //Iterate over data and write to sheet\n        Set &lt; Integer &gt; keyset = data.keySet()\n        int rownum = 0;\n        for (Integer key: keyset) {\n            Row row = sheet.createRow(rownum++);\n            Object[] objArr = data.get(key);\n            int cellnum = 0;\n            for (Object obj: objArr) {\n                Cell cell = row.createCell(cellnum++);\n                if (obj instanceof String) cell.setCellValue((String) obj);\n                else if (obj instanceof Integer) cell.setCellValue((Integer) obj);\n            }\n        }\n        try {\n            //Write the workbook in file system\n            System.out.println(\"OutPutStats.xlsx writing..............................\");\n            FileOutputStream out = new FileOutputStream(new File(\"FileLocation/o.xlxs\"));\n            workbook.write(out);\n            out.close();\n            System.out.println(\"OutPutStats.xlsx written successfully on disk.\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}    \n</code></pre>\n"},{"tags":["java","ibm-cloud","watson-assistant"],"answers":[{"tags":[],"owner":{"account_id":6342170,"reputation":16858,"user_id":4923755,"accept_rate":100,"display_name":"data_henrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647448899,"creation_date":1647448899,"answer_id":71501011,"question_id":71499736,"body_markdown":"You probably have seen this [example for Watson Assistant][1] that comes with the Java SDK for the IBM Watson services.\r\n\r\nTo work with a service, you initialize the IAM Authenticator with the API key. Thereafter, you create the service client with the IAM Authenticator instance. Then, you reuse that service client for all calls. The access token is kept fresh by the authenticator. There should be no need by you / your code to manage it.\r\n\r\n  [1]: https://github.com/watson-developer-cloud/java-sdk/blob/master/examples/src/main/java/com/ibm/watson/assistant/v1/AssistantExample.java","title":"How to retrieve token with IamAuthenticator IBM watson assistant v1","body":"<p>You probably have seen this <a href=\"https://github.com/watson-developer-cloud/java-sdk/blob/master/examples/src/main/java/com/ibm/watson/assistant/v1/AssistantExample.java\" rel=\"nofollow noreferrer\">example for Watson Assistant</a> that comes with the Java SDK for the IBM Watson services.</p>\n<p>To work with a service, you initialize the IAM Authenticator with the API key. Thereafter, you create the service client with the IAM Authenticator instance. Then, you reuse that service client for all calls. The access token is kept fresh by the authenticator. There should be no need by you / your code to manage it.</p>\n"}],"owner":{"account_id":24578827,"reputation":1,"user_id":18484282,"display_name":"liban11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647465279,"creation_date":1647444129,"question_id":71499736,"body_markdown":"I try to connect to my assistant with iamAuthenticator method, it works fine\r\nbut how can i get a token back back to store and reuse for another call to add new Intent or Entity\r\n\r\nin a single methode it&#39;s fine \r\ni can can authenticate with iamAuthenticator and add Intent\r\nbut i like to do that in to methods one for connecting and grab token\r\nthe other one to add intent using the tocken i had back in the connect method\r\nhere is code i tried and i works fine in the same method:\r\n\r\n\r\n@PostMapping(&quot;/addIntent&quot;)\r\n        // public ResponseEntity&lt;?&gt;\r\n    void  addIntent(@Valid @RequestBody IBMCredentials credentials ) throws IOException {\r\n\r\n        Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n        headers.put(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\r\n        Authenticator authenticator = new IamAuthenticator.Builder()\r\n                .apikey(credentials.getApiKey())\r\n               .url(&quot;https://iam.cloud.ibm.com/identity/token&quot;)\r\n                .disableSSLVerification(true)\r\n                .headers(headers)\r\n                .build();\r\n\r\n        Assistant assistant = new Assistant(LocalDate.now().toString(), authenticator);\r\n        assistant.setServiceUrl(credentials.getServiceUri());\r\n\r\n\r\n\r\n\r\n\r\n        CreateIntentOptions options = new CreateIntentOptions.Builder(credentials.getWorkspaceId(), &quot;my intent test&quot;)\r\n                //.examples(examples)\r\n                .build();\r\n       \r\n        assistant.createIntent(options).execute().getResult();\r\n        \r\n       \r\n\r\n       \r\n\r\n\r\n","title":"How to retrieve token with IamAuthenticator IBM watson assistant v1","body":"<p>I try to connect to my assistant with iamAuthenticator method, it works fine\nbut how can i get a token back back to store and reuse for another call to add new Intent or Entity</p>\n<p>in a single methode it's fine\ni can can authenticate with iamAuthenticator and add Intent\nbut i like to do that in to methods one for connecting and grab token\nthe other one to add intent using the tocken i had back in the connect method\nhere is code i tried and i works fine in the same method:</p>\n<p>@PostMapping(&quot;/addIntent&quot;)\n// public ResponseEntity&lt;?&gt;\nvoid  addIntent(@Valid @RequestBody IBMCredentials credentials ) throws IOException {</p>\n<pre><code>    Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n    headers.put(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n    Authenticator authenticator = new IamAuthenticator.Builder()\n            .apikey(credentials.getApiKey())\n           .url(&quot;https://iam.cloud.ibm.com/identity/token&quot;)\n            .disableSSLVerification(true)\n            .headers(headers)\n            .build();\n\n    Assistant assistant = new Assistant(LocalDate.now().toString(), authenticator);\n    assistant.setServiceUrl(credentials.getServiceUri());\n\n\n\n\n\n    CreateIntentOptions options = new CreateIntentOptions.Builder(credentials.getWorkspaceId(), &quot;my intent test&quot;)\n            //.examples(examples)\n            .build();\n   \n    assistant.createIntent(options).execute().getResult();\n    \n   \n\n   \n</code></pre>\n"},{"tags":["javascript","java","node.js","encryption","aes"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1647467820,"post_id":71504300,"comment_id":126382257,"body_markdown":"Both key and IV on Java side are in **hex encoding ** so you need to do the same in Node.js, that way the IV e.g. gets the correct length of 16 bytes.","body":"Both key and IV on Java side are in **hex encoding ** so you need to do the same in Node.js, that way the IV e.g. gets the correct length of 16 bytes."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1647503474,"post_id":71504300,"comment_id":126388766,"body_markdown":"I.e. use the Hex encoder of CryptoJS instead of the Latin1 encoder for key and IV. Why do you generate the SHA256 hash of plaintext and ciphertext in the NodeJS code?  This doesn&#39;t happen in the Java code. Also, there are other vulnerabilities/bugs in both codes, e.g. unnecessarily used libraries, unreliable functions and inconsistent data.","body":"I.e. use the Hex encoder of CryptoJS instead of the Latin1 encoder for key and IV. Why do you generate the SHA256 hash of plaintext and ciphertext in the NodeJS code?  This doesn&#39;t happen in the Java code. Also, there are other vulnerabilities/bugs in both codes, e.g. unnecessarily used libraries, unreliable functions and inconsistent data."},{"owner":{"account_id":24580252,"reputation":1,"user_id":18485496,"display_name":"sacl"},"score":0,"creation_date":1647521384,"post_id":71504300,"comment_id":126394928,"body_markdown":"Thank you both for responding. I&#39;m new to js so I used CryptoJS.enc.Utf8.parse() to convert a hexa to binary but I see I&#39;m getting a 32 bit one. Regarding Java, I did not include in the code that the data may or may not be a SHA-256. I will try the recommendations. Again thank you very much for the help.","body":"Thank you both for responding. I&#39;m new to js so I used CryptoJS.enc.Utf8.parse() to convert a hexa to binary but I see I&#39;m getting a 32 bit one. Regarding Java, I did not include in the code that the data may or may not be a SHA-256. I will try the recommendations. Again thank you very much for the help."}],"owner":{"account_id":24580252,"reputation":1,"user_id":18485496,"display_name":"sacl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647465234,"creation_date":1647465234,"question_id":71504300,"body_markdown":"I have been reading several similar questions and based on that for my initial code. Unfortunately, I still can&#39;t get it to work.\r\n\r\n    key=&quot;fb52042ada308dd1d4dfd8a3870d5ab5&quot;\r\n    iv = &quot;bb8e0b158f57f63dfeea86e24af1abfc&quot;\r\n    data = {&quot;MerchantId&quot;:&quot;0000000000000001&quot;}\r\n\r\nGet SHA256 from &quot;data&quot; (dataSha256)\r\n\r\nGet encryption from Encrypt dataSha256 + iv + key\r\n\r\nResult of Hexa encryption, similar to:\r\n**fd72fcc16b66d04cf0f4dd2265a59eb675103482bae806b405bb85595056f5770b3202b42d42a87b767892591a333eb6b5c9ad3ef34f4d415f8d3bbc3d0f389e2e5b6f7cd915520c7b2c19225680728b**\r\n\r\nWhen migrating the code from Java to Node.js, I don&#39;t get similar result. The first problem is that the &quot;iv&quot; should be 16 bytes, however in the code it is 32.\r\n\r\nJAVA EXTRACT (original)\r\n\r\n``` lang-java\r\n        public class AesEncryption implements SymmetricEncryptionComponent {\r\n        Map&lt;String, String&gt; initParams;\r\n        String key, iv;\r\n        String mode, encoding;\r\n        String keyFile;\r\n        String ENCODING = &quot;ISO-8859-1&quot;;\r\n    \r\n        public AesEncryption() {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n        }\r\n    \r\n        // PARAMETERS INITIALITATION\r\n        public void setInitParams()\r\n        {\r\n        initParams=params;\r\n        key=” 1ea9a91b0ba908b44f598d2822499441”;\r\n        iv= &quot;f20946931dd6e8594dc6f469b5e583ab&quot;;\r\n        mode= &quot;AES/CBC/PKCS7Padding&quot;;\r\n        encoding= &quot;HEX&quot;;\r\n        if(encoding.equalsIgnoreCase(&quot;BASE64&quot;)&amp;&amp;encoding.equalsIgnoreCase(&quot;HEX&quot;))\r\n        throw new IllegalArgumentException(&quot;AES.ENCODING can only be &#39;HEX&#39; of &#39;BASE64&#39;&quot;)\r\n        }\r\n    \r\n        // INFORMATION CIPHERING return encodeBase24\r\n        public String encrypt(String data) {\r\n        byte[] output = null;\r\n        try {\r\n        byte[] keyBytes = decode(key);\r\n        byte[] input = data.getBytes(ENCODING);\r\n        AlgorithmParameterSpec ivSpec = new \r\n        IvParameterSpec(Hex.decodeHex(iv.toCharArray()));\r\n        SecretKeySpec keySpec = null;\r\n        keySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n        Cipher cipher = Cipher.getInstance(mode);\r\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec);\r\n        output = cipher.doFinal(input);\r\n        } catch (Exception e) {\r\n        throw new EncryptionException(&quot;Error&quot;, e);\r\n        }\r\n        return encode(output);\r\n        }\r\n    \r\n        // INFORMATION ENCODE\r\n        private String encode(byte[] output) {\r\n        if (mode.equalsIgnoreCase(&quot;BASE64&quot;))\r\n        return Base64.encodeBase64String(output);\r\n        else\r\n        return new String(Hex.encodeHex(output));\r\n        }\r\n    \r\n        // INFORMATION DECODE\r\n        private byte[] decode(String data) throws DecoderException {\r\n        if (data.indexOf(&quot;=&quot;) &gt; 0 || data.indexOf(&quot;+&quot;) &gt; 0)\r\n        return Base64.decodeBase64(data);\r\n        else\r\n        return Hex.decodeHex(data.toCharArray());\r\n        }\r\n        }\r\n```\r\n\r\nNODE EXTRACT (using crypto-js)\r\n\r\n``` lang-js\r\n        const cryptojs = require(&quot;crypto-js&quot;);\r\n        const crypto = require(&quot;crypto&quot;);\r\n    \r\n        let jsonData = {&quot;MerchantId&quot;:&quot;0000000000000001&quot;};\r\n        let key = &#39;fb52042ada308dd1d4dfd8a3870d5ab5&#39;;\r\n        let iv = &#39;bb8e0b158f57f63dfeea86e24af1abfc&#39;;\r\n        const jsonDataSha256 = \r\n        crypto.createHash(&#39;sha256&#39;).update(JSON.stringify(jsonData)).digest(&#39;hex&#39;);\r\n    \r\n        key = cryptojs.enc.Latin1.parse(key); //Convierte hex string -&gt; word array\r\n        iv = cryptojs.enc.Latin1.parse(iv);\r\n        jsonDataSha256Bin = cryptojs.enc.Latin1.parse(jsonDataSha256);   //Convert hex \r\n        string -&gt; word array\r\n    \r\n        console.log(key);\r\n        console.log(iv);\r\n        console.log(jsonDataSha256);\r\n    \r\n        let encrypted = cryptojs.AES.encrypt(jsonDataSha256Bin, key, {\r\n        iv: iv,\r\n        mode: cryptojs.mode.CBC,\r\n        padding: cryptojs.pad.Pkcs7,\r\n        });\r\n    \r\n        encrypted = encrypted.toString();\r\n        const salida = crypto.createHash(&#39;sha256&#39;).update(encrypted).digest(&#39;hex&#39;);\r\n    \r\n        console.log(`${salida}`);\r\n        //Equals to ce994c4d2b1f398ff0bed22c4b48e1f2170dbf26baf2eaacec96ea6b31667cd6\r\n        //No match to Java output.\r\n```\r\n\r\nWhat will I be doing wrong? Any help is appreciated!\r\n\r\n\r\n","title":"JAVA encrypted AES 256 CBC To NODE.JS - Problems to migrate code","body":"<p>I have been reading several similar questions and based on that for my initial code. Unfortunately, I still can't get it to work.</p>\n<pre><code>key=&quot;fb52042ada308dd1d4dfd8a3870d5ab5&quot;\niv = &quot;bb8e0b158f57f63dfeea86e24af1abfc&quot;\ndata = {&quot;MerchantId&quot;:&quot;0000000000000001&quot;}\n</code></pre>\n<p>Get SHA256 from &quot;data&quot; (dataSha256)</p>\n<p>Get encryption from Encrypt dataSha256 + iv + key</p>\n<p>Result of Hexa encryption, similar to:\n<strong>fd72fcc16b66d04cf0f4dd2265a59eb675103482bae806b405bb85595056f5770b3202b42d42a87b767892591a333eb6b5c9ad3ef34f4d415f8d3bbc3d0f389e2e5b6f7cd915520c7b2c19225680728b</strong></p>\n<p>When migrating the code from Java to Node.js, I don't get similar result. The first problem is that the &quot;iv&quot; should be 16 bytes, however in the code it is 32.</p>\n<p>JAVA EXTRACT (original)</p>\n<pre class=\"lang-java prettyprint-override\"><code>        public class AesEncryption implements SymmetricEncryptionComponent {\n        Map&lt;String, String&gt; initParams;\n        String key, iv;\n        String mode, encoding;\n        String keyFile;\n        String ENCODING = &quot;ISO-8859-1&quot;;\n    \n        public AesEncryption() {\n        Security.addProvider(new BouncyCastleProvider());\n        }\n    \n        // PARAMETERS INITIALITATION\n        public void setInitParams()\n        {\n        initParams=params;\n        key=” 1ea9a91b0ba908b44f598d2822499441”;\n        iv= &quot;f20946931dd6e8594dc6f469b5e583ab&quot;;\n        mode= &quot;AES/CBC/PKCS7Padding&quot;;\n        encoding= &quot;HEX&quot;;\n        if(encoding.equalsIgnoreCase(&quot;BASE64&quot;)&amp;&amp;encoding.equalsIgnoreCase(&quot;HEX&quot;))\n        throw new IllegalArgumentException(&quot;AES.ENCODING can only be 'HEX' of 'BASE64'&quot;)\n        }\n    \n        // INFORMATION CIPHERING return encodeBase24\n        public String encrypt(String data) {\n        byte[] output = null;\n        try {\n        byte[] keyBytes = decode(key);\n        byte[] input = data.getBytes(ENCODING);\n        AlgorithmParameterSpec ivSpec = new \n        IvParameterSpec(Hex.decodeHex(iv.toCharArray()));\n        SecretKeySpec keySpec = null;\n        keySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n        Cipher cipher = Cipher.getInstance(mode);\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivSpec);\n        output = cipher.doFinal(input);\n        } catch (Exception e) {\n        throw new EncryptionException(&quot;Error&quot;, e);\n        }\n        return encode(output);\n        }\n    \n        // INFORMATION ENCODE\n        private String encode(byte[] output) {\n        if (mode.equalsIgnoreCase(&quot;BASE64&quot;))\n        return Base64.encodeBase64String(output);\n        else\n        return new String(Hex.encodeHex(output));\n        }\n    \n        // INFORMATION DECODE\n        private byte[] decode(String data) throws DecoderException {\n        if (data.indexOf(&quot;=&quot;) &gt; 0 || data.indexOf(&quot;+&quot;) &gt; 0)\n        return Base64.decodeBase64(data);\n        else\n        return Hex.decodeHex(data.toCharArray());\n        }\n        }\n</code></pre>\n<p>NODE EXTRACT (using crypto-js)</p>\n<pre class=\"lang-js prettyprint-override\"><code>        const cryptojs = require(&quot;crypto-js&quot;);\n        const crypto = require(&quot;crypto&quot;);\n    \n        let jsonData = {&quot;MerchantId&quot;:&quot;0000000000000001&quot;};\n        let key = 'fb52042ada308dd1d4dfd8a3870d5ab5';\n        let iv = 'bb8e0b158f57f63dfeea86e24af1abfc';\n        const jsonDataSha256 = \n        crypto.createHash('sha256').update(JSON.stringify(jsonData)).digest('hex');\n    \n        key = cryptojs.enc.Latin1.parse(key); //Convierte hex string -&gt; word array\n        iv = cryptojs.enc.Latin1.parse(iv);\n        jsonDataSha256Bin = cryptojs.enc.Latin1.parse(jsonDataSha256);   //Convert hex \n        string -&gt; word array\n    \n        console.log(key);\n        console.log(iv);\n        console.log(jsonDataSha256);\n    \n        let encrypted = cryptojs.AES.encrypt(jsonDataSha256Bin, key, {\n        iv: iv,\n        mode: cryptojs.mode.CBC,\n        padding: cryptojs.pad.Pkcs7,\n        });\n    \n        encrypted = encrypted.toString();\n        const salida = crypto.createHash('sha256').update(encrypted).digest('hex');\n    \n        console.log(`${salida}`);\n        //Equals to ce994c4d2b1f398ff0bed22c4b48e1f2170dbf26baf2eaacec96ea6b31667cd6\n        //No match to Java output.\n</code></pre>\n<p>What will I be doing wrong? Any help is appreciated!</p>\n"},{"tags":["java","nodes"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1647461762,"post_id":71503678,"comment_id":126380407,"body_markdown":"shows a [mcve] please.  Nobody here has a clue without some context.  There is no standard definition of a Node.","body":"shows a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.  Nobody here has a clue without some context.  There is no standard definition of a Node."},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1647461782,"post_id":71503678,"comment_id":126380414,"body_markdown":"Did you heard about &quot;classes&quot; ? There is not only primivites in java, there is also objects : List, Map,, ... and a thousand other","body":"Did you heard about &quot;classes&quot; ? There is not only primivites in java, there is also objects : List, Map,, ... and a thousand other"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1647461979,"post_id":71503678,"comment_id":126380462,"body_markdown":"`Node` isn&#39;t a standard thing. Most likely `Node` is a class that is defined in the code you are talking about. So to answer your question, you will have to look at that code to understand what `Node` is. You will need to read more about classes in general and how the store data in fields to understand what is &quot;under the hood&quot;.","body":"<code>Node</code> isn&#39;t a standard thing. Most likely <code>Node</code> is a class that is defined in the code you are talking about. So to answer your question, you will have to look at that code to understand what <code>Node</code> is. You will need to read more about classes in general and how the store data in fields to understand what is &quot;under the hood&quot;."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647464994,"creation_date":1647464994,"answer_id":71504268,"question_id":71503678,"body_markdown":"&gt; For me everything can contain only {text(string), numbers, charaters},\r\n&gt; so when I&#39;ve seen Node node; i ve been confused,which type it stores?\r\n\r\nIt seems you have not yet arrived in object oriented programming.\r\n\r\nWhatever object you create, it can store text, number characters and code (method pointers). And it can store references to other objects, which again have text, number, characters and code of their own.\r\n\r\nThe good news is that Java is strongly typed. So for each variable you can lookup the type in your code and rest assured at runtime it will be that type either. Over time you will learn which types are part of the Java runtime, which of them come from libraries or which of them are from your code.\r\n\r\nSo spend some time being puzzled but do not give up. It&#39;s worth it. :-)","title":"what type of variable type has Node in java?","body":"<blockquote>\n<p>For me everything can contain only {text(string), numbers, charaters},\nso when I've seen Node node; i ve been confused,which type it stores?</p>\n</blockquote>\n<p>It seems you have not yet arrived in object oriented programming.</p>\n<p>Whatever object you create, it can store text, number characters and code (method pointers). And it can store references to other objects, which again have text, number, characters and code of their own.</p>\n<p>The good news is that Java is strongly typed. So for each variable you can lookup the type in your code and rest assured at runtime it will be that type either. Over time you will learn which types are part of the Java runtime, which of them come from libraries or which of them are from your code.</p>\n<p>So spend some time being puzzled but do not give up. It's worth it. :-)</p>\n"}],"owner":{"account_id":19047752,"reputation":1,"user_id":15806982,"display_name":"Sultan Suleimenov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647464994,"creation_date":1647461545,"question_id":71503678,"body_markdown":" I&#39;m learning java,and i&#39;ve seen NODE in some java codes. like in binary tree and etc..\r\nFor me everything can contain only `{text(string), numbers, charaters}`, so when I&#39;ve seen `Node node;` i ve been confused,which type it stores?its string or what else?\r\nso please help me, i am understanding that its object,and object can be null or not null, but i think object also has string or mb int  types (under hood). i&#39;m just newbie, and cant understand it. Thank you)","title":"what type of variable type has Node in java?","body":"<p>I'm learning java,and i've seen NODE in some java codes. like in binary tree and etc..\nFor me everything can contain only <code>{text(string), numbers, charaters}</code>, so when I've seen <code>Node node;</code> i ve been confused,which type it stores?its string or what else?\nso please help me, i am understanding that its object,and object can be null or not null, but i think object also has string or mb int  types (under hood). i'm just newbie, and cant understand it. Thank you)</p>\n"},{"tags":["java","spring","mqtt","mosquitto","hivemq"],"comments":[{"owner":{"account_id":16352957,"reputation":15616,"user_id":11810946,"display_name":"Brits"},"score":1,"creation_date":1647459412,"post_id":71495372,"comment_id":126379701,"body_markdown":"How are you authenticating to the broker? (cannot see any auth in the code you provided - suspect [this](https://github.com/hivemq/hivemq-mqtt-client/issues/315#issuecomment-515758734) may be your issue)","body":"How are you authenticating to the broker? (cannot see any auth in the code you provided - suspect <a href=\"https://github.com/hivemq/hivemq-mqtt-client/issues/315#issuecomment-515758734\" rel=\"nofollow noreferrer\">this</a> may be your issue)"},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1647464281,"post_id":71495372,"comment_id":126381194,"body_markdown":"Thanks a lot @Brits for your tip. I added the connect method to the code extract in the question and you are absolutely right, looks indeed like the linked issue! Will try out. If you add this tip as an answer, I can accept it.","body":"Thanks a lot @Brits for your tip. I added the connect method to the code extract in the question and you are absolutely right, looks indeed like the linked issue! Will try out. If you add this tip as an answer, I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":16352957,"reputation":15616,"user_id":11810946,"display_name":"Brits"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647464986,"creation_date":1647464986,"answer_id":71504266,"question_id":71495372,"body_markdown":"It appears that your question is answered in [this issue](https://github.com/hivemq/hivemq-mqtt-client/issues/315#issuecomment-515758734):\r\n\r\n&gt;If you set the username and password on the connect call, they will not be stored and reused when the client reconnects (for security reasons).\r\n\r\nThe following code (from the issue linked above) demonstrates the approach:\r\n\r\n```\r\nMqtt3Client.builder()\r\n   .identifier(&quot;ePCR mobile-&quot; + currentTimeMillis())\r\n   .serverHost(config.getHost())\r\n   .serverPort(config.getPort())\r\n   .automaticReconnectWithDefaultConfig()\r\n   .simpleAuth()\r\n       .username(config.getUsername())\r\n       .password(config.getPassword())\r\n       .applySimpleAuth()\r\n   .buildRx();\r\n```","title":"HiveMQ Java library fails to automatically reconnect to broker","body":"<p>It appears that your question is answered in <a href=\"https://github.com/hivemq/hivemq-mqtt-client/issues/315#issuecomment-515758734\" rel=\"nofollow noreferrer\">this issue</a>:</p>\n<blockquote>\n<p>If you set the username and password on the connect call, they will not be stored and reused when the client reconnects (for security reasons).</p>\n</blockquote>\n<p>The following code (from the issue linked above) demonstrates the approach:</p>\n<pre><code>Mqtt3Client.builder()\n   .identifier(&quot;ePCR mobile-&quot; + currentTimeMillis())\n   .serverHost(config.getHost())\n   .serverPort(config.getPort())\n   .automaticReconnectWithDefaultConfig()\n   .simpleAuth()\n       .username(config.getUsername())\n       .password(config.getPassword())\n       .applySimpleAuth()\n   .buildRx();\n</code></pre>\n"}],"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71504266,"answer_count":1,"score":0,"last_activity_date":1647464986,"creation_date":1647426290,"question_id":71495372,"body_markdown":"I&#39;m using the HiveMQ library in my Java Spring application to connect to a Mosquitto instance as I find it more user-friendly compared to the Paho client. But something is going wrong with the automatic reconnection. From time to time the connection is lost and the application doesn&#39;t succeed in reconnecting (see logs 1). This can also be triggered by restarting the Mosquitto broker itself (see logs 2).\r\n\r\nThis is my client builder code with additional logging in the disconnect to check if the credentials are still correct:\r\n\r\n```\r\n        client = MqttClient.builder()\r\n                .useMqttVersion5()\r\n                .identifier(identifier)\r\n                .serverHost(host)\r\n                .serverPort(port)\r\n                .sslWithDefaultConfig()\r\n                // https://www.hivemq.com/blog/hivemq-mqtt-client-features/reconnect-handling/\r\n                .automaticReconnectWithDefaultConfig()\r\n                .addDisconnectedListener(context -&gt; logger.error(&quot;MQTT user {} with identifier {} on {}:{} has disconnected reason: {}&quot;,\r\n                        username, identifier, host, port, context.getCause().getMessage()))\r\n                .buildAsync();\r\n\r\n\r\n        client.connectWith()\r\n                .simpleAuth()\r\n                .username(username)\r\n                .password(password.getBytes())\r\n                .applySimpleAuth()\r\n                .cleanStart(false)\r\n                .keepAlive(60)\r\n                .send();\r\n```\r\n\r\n1/ This is shown in my logs after the connection has been lost by the application itself:\r\n\r\n```\r\n2022-03-16 02:10:33.502 ERROR 1 --- [client.mqtt-1-2] MqttConfig : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: Timeout while waiting for PINGRESP\r\n2022-03-16 02:11:25.090 ERROR 1 --- [client.mqtt-1-2] MqttConfig : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: CONNECT failed as CONNACK contained an Error Code: NOT_AUTHORIZED.\r\n2022-03-16 02:12:27.200 ERROR 1 --- [client.mqtt-1-2] MqttConfig : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: Timeout while waiting for CONNACK\r\n```\r\n\r\n2/ This is the logs after the broker has been restarted, some expected time-outs, but also in the end &quot;not authorized&quot;:\r\n\r\n```\r\n2022-03-16 10:17:37.178 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: Server closed connection without DISCONNECT.\r\n2022-03-16 10:17:48.441 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.ConnectTimeoutException: connection timed out: ***/***:8883\r\n2022-03-16 10:18:00.747 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.ConnectTimeoutException: connection timed out: ***/***:8883\r\n2022-03-16 10:18:10.625 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: No route to host: ***/***:8883\r\n2022-03-16 10:18:26.845 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.ConnectTimeoutException: connection timed out: ***/***:8883\r\n2022-03-16 10:18:42.584 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: CONNECT failed as CONNACK contained an Error Code: NOT_AUTHORIZED.\r\n```\r\n\r\nIn both cases, the connection is back to normal with an application restart.\r\n\r\nany ideas?","title":"HiveMQ Java library fails to automatically reconnect to broker","body":"<p>I'm using the HiveMQ library in my Java Spring application to connect to a Mosquitto instance as I find it more user-friendly compared to the Paho client. But something is going wrong with the automatic reconnection. From time to time the connection is lost and the application doesn't succeed in reconnecting (see logs 1). This can also be triggered by restarting the Mosquitto broker itself (see logs 2).</p>\n<p>This is my client builder code with additional logging in the disconnect to check if the credentials are still correct:</p>\n<pre><code>        client = MqttClient.builder()\n                .useMqttVersion5()\n                .identifier(identifier)\n                .serverHost(host)\n                .serverPort(port)\n                .sslWithDefaultConfig()\n                // https://www.hivemq.com/blog/hivemq-mqtt-client-features/reconnect-handling/\n                .automaticReconnectWithDefaultConfig()\n                .addDisconnectedListener(context -&gt; logger.error(&quot;MQTT user {} with identifier {} on {}:{} has disconnected reason: {}&quot;,\n                        username, identifier, host, port, context.getCause().getMessage()))\n                .buildAsync();\n\n\n        client.connectWith()\n                .simpleAuth()\n                .username(username)\n                .password(password.getBytes())\n                .applySimpleAuth()\n                .cleanStart(false)\n                .keepAlive(60)\n                .send();\n</code></pre>\n<p>1/ This is shown in my logs after the connection has been lost by the application itself:</p>\n<pre><code>2022-03-16 02:10:33.502 ERROR 1 --- [client.mqtt-1-2] MqttConfig : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: Timeout while waiting for PINGRESP\n2022-03-16 02:11:25.090 ERROR 1 --- [client.mqtt-1-2] MqttConfig : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: CONNECT failed as CONNACK contained an Error Code: NOT_AUTHORIZED.\n2022-03-16 02:12:27.200 ERROR 1 --- [client.mqtt-1-2] MqttConfig : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: Timeout while waiting for CONNACK\n</code></pre>\n<p>2/ This is the logs after the broker has been restarted, some expected time-outs, but also in the end &quot;not authorized&quot;:</p>\n<pre><code>2022-03-16 10:17:37.178 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: Server closed connection without DISCONNECT.\n2022-03-16 10:17:48.441 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.ConnectTimeoutException: connection timed out: ***/***:8883\n2022-03-16 10:18:00.747 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.ConnectTimeoutException: connection timed out: ***/***:8883\n2022-03-16 10:18:10.625 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: No route to host: ***/***:8883\n2022-03-16 10:18:26.845 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: io.netty.channel.ConnectTimeoutException: connection timed out: ***/***:8883\n2022-03-16 10:18:42.584 ERROR 1 --- [client.mqtt-1-2] MqttConfig     : MQTT user *** with identifier SERVICE on ***:8883 has disconnected reason: CONNECT failed as CONNACK contained an Error Code: NOT_AUTHORIZED.\n</code></pre>\n<p>In both cases, the connection is back to normal with an application restart.</p>\n<p>any ideas?</p>\n"},{"tags":["python","java","jvm","homebrew","sutime"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1647507725,"post_id":71504214,"comment_id":126390209,"body_markdown":"The term “DLL” is normally used for Windows libraries. Besides that, when the message says that the **JVM** DLL was not found, why do you think, it searched for lib named “JLI”?","body":"The term “DLL” is normally used for Windows libraries. Besides that, when the message says that the <b>JVM</b> DLL was not found, why do you think, it searched for lib named “JLI”?"},{"owner":{"account_id":1467006,"reputation":862,"user_id":1379830,"display_name":"Adrian Keister"},"score":0,"creation_date":1674770676,"post_id":71504214,"comment_id":132790256,"body_markdown":"I&#39;m having the same issue. I don&#39;t know why it search for a lib named JLI, but I am using the zulu jre, and it&#39;s looking for the same file: `libjli.dylib`. No ideas, anyone?","body":"I&#39;m having the same issue. I don&#39;t know why it search for a lib named JLI, but I am using the zulu jre, and it&#39;s looking for the same file: <code>libjli.dylib</code>. No ideas, anyone?"}],"owner":{"account_id":13948067,"reputation":121,"user_id":10072311,"display_name":"solitaria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1634,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647464629,"creation_date":1647464629,"question_id":71504214,"body_markdown":"I installed openjdk with Homebrew on my Mac but then I run a python library (`sutime`) that uses Java, I run into this error: \r\n\r\n```\r\nFileNotFoundError: [Errno 2] JVM DLL not found: /opt/homebrew/Cellar/openjdk/17.0.2/libexec/openjdk.jdk/Contents/Home/lib/libjli.dylib\r\n```\r\n\r\nHowever, when I run \r\n\r\n```ls /opt/homebrew/Cellar/openjdk/17.0.2/libexec/openjdk.jdk/Contents/Home/lib```   \r\n\r\nI can see my dlls here including the one it seemingly couldn&#39;t find **libjli.dylib**. I&#39;m pretty lost on why my dll isn&#39;t being detected even though it is in the correct filepath. \r\n  ","title":"JVM DLL not found but I can clearly see the file","body":"<p>I installed openjdk with Homebrew on my Mac but then I run a python library (<code>sutime</code>) that uses Java, I run into this error:</p>\n<pre><code>FileNotFoundError: [Errno 2] JVM DLL not found: /opt/homebrew/Cellar/openjdk/17.0.2/libexec/openjdk.jdk/Contents/Home/lib/libjli.dylib\n</code></pre>\n<p>However, when I run</p>\n<p><code>ls /opt/homebrew/Cellar/openjdk/17.0.2/libexec/openjdk.jdk/Contents/Home/lib</code></p>\n<p>I can see my dlls here including the one it seemingly couldn't find <strong>libjli.dylib</strong>. I'm pretty lost on why my dll isn't being detected even though it is in the correct filepath.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":18787661,"reputation":149,"user_id":13700916,"display_name":"Seng Phrakonkham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647458215,"creation_date":1647458215,"answer_id":71503101,"question_id":71502768,"body_markdown":"Why do you want to create a TextView programmatically?\r\nYou can hide and show the TextView with visibility.\r\n\r\nIf you want add new TextViews based on a user event, you can use ListView or RecyclerView","title":"Why won&#39;t my programmatically created textview work?","body":"<p>Why do you want to create a TextView programmatically?\nYou can hide and show the TextView with visibility.</p>\n<p>If you want add new TextViews based on a user event, you can use ListView or RecyclerView</p>\n"},{"tags":[],"owner":{"account_id":18787661,"reputation":149,"user_id":13700916,"display_name":"Seng Phrakonkham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647458727,"creation_date":1647458727,"answer_id":71503179,"question_id":71502768,"body_markdown":"ListView sample\r\n\r\nxml:\r\n\r\n       &lt;ListView\r\n        android:id=&quot;@+id/listView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\nJava code:\r\n\r\n        ListView listView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        listView = findViewById(R.id.listView);\r\n        test();\r\n    }\r\n\r\n    private void test() {\r\n        ArrayList arrayList = new ArrayList();\r\n        arrayList.add(&quot;abcd&quot;);\r\n        arrayList.add(&quot;1234&quot;);\r\n\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, arrayList);\r\n        listView.setAdapter(adapter);\r\n\r\n    }","title":"Why won&#39;t my programmatically created textview work?","body":"<p>ListView sample</p>\n<p>xml:</p>\n<pre><code>   &lt;ListView\n    android:id=&quot;@+id/listView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; /&gt;\n</code></pre>\n<p>Java code:</p>\n<pre><code>    ListView listView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    listView = findViewById(R.id.listView);\n    test();\n}\n\nprivate void test() {\n    ArrayList arrayList = new ArrayList();\n    arrayList.add(&quot;abcd&quot;);\n    arrayList.add(&quot;1234&quot;);\n\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, arrayList);\n    listView.setAdapter(adapter);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18787661,"reputation":149,"user_id":13700916,"display_name":"Seng Phrakonkham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647464366,"creation_date":1647463815,"answer_id":71504104,"question_id":71502768,"body_markdown":"First of all you need an xml (name: my_list.xml) for your listView\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@id/checkBox&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@id/checkBox&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@id/checkBox&quot;\r\n            android:text=&quot;TextView&quot; /&gt;\r\n    \r\n        &lt;CheckBox\r\n            android:id=&quot;@+id/checkBox&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nThen you should create a data class (name MyData.java)\r\n\r\n    public class MyData {\r\n        String myText;\r\n        boolean myBool;\r\n    \r\n        public MyData(String myText, boolean myBool) {\r\n            this.myText = myText;\r\n            this.myBool = myBool;\r\n        }\r\n    \r\n        public String getMyText() {\r\n            return myText;\r\n        }\r\n    \r\n        public void setMyText(String myText) {\r\n            this.myText = myText;\r\n        }\r\n    \r\n        public boolean isMyBool() {\r\n            return myBool;\r\n        }\r\n    \r\n        public void setMyBool(boolean myBool) {\r\n            this.myBool = myBool;\r\n        }\r\n    }\r\n\r\nThen you have to create an adapter (name MyAdapter.java)\r\n\r\n    public class MyAdapter extends ArrayAdapter&lt;MyData&gt; {\r\n        private ArrayList&lt;MyData&gt; dataSet;\r\n        private  Context context;\r\n        private  int resource;\r\n    \r\n    \r\n        public MyAdapter(@NonNull Context context, int resource, @NonNull ArrayList&lt;MyData&gt; dataSet) {\r\n            super(context, resource, dataSet);\r\n    \r\n            this.context = context;\r\n            this.resource = resource;\r\n            this.dataSet = dataSet;\r\n        }\r\n    \r\n        public View getView(final int position, View view, ViewGroup parent) {\r\n            LayoutInflater inflater = LayoutInflater.from(context);\r\n            View rowView = inflater.inflate(resource, parent, false);\r\n    \r\n            TextView textView = rowView.findViewById(R.id.textView);\r\n            CheckBox checkBox = rowView.findViewById(R.id.checkBox);\r\n    \r\n            textView.setText(dataSet.get(position).myText);\r\n            checkBox.setChecked(dataSet.get(position).myBool);\r\n    \r\n            checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                    // do something here\r\n                }\r\n            });\r\n    \r\n            return rowView;\r\n        }\r\n    }\r\n\r\nAnd finally you can use your data :) (I mad it in the MainActivity)\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ListView listView;\r\n        MyAdapter adapter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            listView = findViewById(R.id.listView);\r\n            test();\r\n        }\r\n    \r\n        private void test() {\r\n    \r\n            ArrayList&lt;MyData&gt; myList = new ArrayList&lt;&gt;();\r\n            MyData data1 = new MyData(&quot;Text1&quot;, true);\r\n            MyData data2 = new MyData(&quot;Text2&quot;, false);\r\n    \r\n            myList.add(data1);\r\n            myList.add(data2);\r\n    \r\n            adapter = new MyAdapter(getBaseContext(), R.layout.my_list, myList);\r\n            listView.setAdapter(adapter);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Why won&#39;t my programmatically created textview work?","body":"<p>First of all you need an xml (name: my_list.xml) for your listView</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintTop_toTopOf=&quot;@id/checkBox&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/checkBox&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@id/checkBox&quot;\n        android:text=&quot;TextView&quot; /&gt;\n\n    &lt;CheckBox\n        android:id=&quot;@+id/checkBox&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Then you should create a data class (name MyData.java)</p>\n<pre><code>public class MyData {\n    String myText;\n    boolean myBool;\n\n    public MyData(String myText, boolean myBool) {\n        this.myText = myText;\n        this.myBool = myBool;\n    }\n\n    public String getMyText() {\n        return myText;\n    }\n\n    public void setMyText(String myText) {\n        this.myText = myText;\n    }\n\n    public boolean isMyBool() {\n        return myBool;\n    }\n\n    public void setMyBool(boolean myBool) {\n        this.myBool = myBool;\n    }\n}\n</code></pre>\n<p>Then you have to create an adapter (name MyAdapter.java)</p>\n<pre><code>public class MyAdapter extends ArrayAdapter&lt;MyData&gt; {\n    private ArrayList&lt;MyData&gt; dataSet;\n    private  Context context;\n    private  int resource;\n\n\n    public MyAdapter(@NonNull Context context, int resource, @NonNull ArrayList&lt;MyData&gt; dataSet) {\n        super(context, resource, dataSet);\n\n        this.context = context;\n        this.resource = resource;\n        this.dataSet = dataSet;\n    }\n\n    public View getView(final int position, View view, ViewGroup parent) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View rowView = inflater.inflate(resource, parent, false);\n\n        TextView textView = rowView.findViewById(R.id.textView);\n        CheckBox checkBox = rowView.findViewById(R.id.checkBox);\n\n        textView.setText(dataSet.get(position).myText);\n        checkBox.setChecked(dataSet.get(position).myBool);\n\n        checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n                // do something here\n            }\n        });\n\n        return rowView;\n    }\n}\n</code></pre>\n<p>And finally you can use your data :) (I mad it in the MainActivity)</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ListView listView;\n    MyAdapter adapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        listView = findViewById(R.id.listView);\n        test();\n    }\n\n    private void test() {\n\n        ArrayList&lt;MyData&gt; myList = new ArrayList&lt;&gt;();\n        MyData data1 = new MyData(&quot;Text1&quot;, true);\n        MyData data2 = new MyData(&quot;Text2&quot;, false);\n\n        myList.add(data1);\n        myList.add(data2);\n\n        adapter = new MyAdapter(getBaseContext(), R.layout.my_list, myList);\n        listView.setAdapter(adapter);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24580931,"reputation":35,"user_id":18486066,"display_name":"Colin Wolff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71504104,"answer_count":3,"score":1,"last_activity_date":1647464366,"creation_date":1647456383,"question_id":71502768,"body_markdown":"&#39;&#39;&#39;    \r\n\r\n    package com.example.pillappreal;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.Gravity;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.CheckBox;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    \r\n    import java.sql.Array;\r\n    import java.util.ArrayList;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        public ArrayList&lt;Drug&gt; list = new ArrayList&lt;&gt;();\r\n        public ArrayList&lt;String&gt; testList = new ArrayList&lt;&gt;();\r\n        public static final String EXTRA_MESSAGE = &quot;com.example.myfirstapp.MESSAGE&quot;;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n        }\r\n    \r\n        public void addNewDrug(View view) {\r\n            Intent intent = new Intent(this, AddNewDrugActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    \r\n        public void testMethod(View view) {\r\n            Intent intent = new Intent(this, MainActivity.class);\r\n        }\r\n    \r\n        public void addNewDrug(Drug drug) {\r\n            list.add(drug);\r\n            if (list.size() &gt; 0) {\r\n                Log.d(&quot;actually works ffs&quot;, list.get(0).name);\r\n                for (int i = 0; i &lt; 5; i++) {\r\n                    LinearLayout linearLayout = findViewById(R.id.rootLayout);\r\n    \r\n                    // Create TextView programmatically.\r\n                    TextView textView = new TextView(this);\r\n                    textView.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT));\r\n                    textView.setGravity(Gravity.CENTER);\r\n                    textView.setText(list.get(i).name);\r\n    \r\n                    // Add TextView to LinearLayout\r\n                    if (linearLayout != null) {\r\n                        linearLayout.addView(textView);\r\n                    }\r\n    \r\n                }\r\n                Log.d(&quot;Mainlist&quot;, list.get(0).name);\r\n            }\r\n        }\r\n    }\r\n\r\n&#39;&#39;&#39;\r\n\r\nThe textview won&#39;t actually be created in the app. I know the textview code works because when I use it to print out &quot;test&quot; in the onCreate method, it works. I know the list arraylist gets its objects from the helper class because Log.d shows the values in the addNewDrug method. For some reason the textView code is not working, even when I use a string instead of value from the arraylist, and i have no clue why.\r\n","title":"Why won&#39;t my programmatically created textview work?","body":"<p>'''</p>\n<pre><code>package com.example.pillappreal;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.Gravity;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.CheckBox;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport java.sql.Array;\nimport java.util.ArrayList;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    public ArrayList&lt;Drug&gt; list = new ArrayList&lt;&gt;();\n    public ArrayList&lt;String&gt; testList = new ArrayList&lt;&gt;();\n    public static final String EXTRA_MESSAGE = &quot;com.example.myfirstapp.MESSAGE&quot;;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n    }\n\n    public void addNewDrug(View view) {\n        Intent intent = new Intent(this, AddNewDrugActivity.class);\n        startActivity(intent);\n    }\n\n    public void testMethod(View view) {\n        Intent intent = new Intent(this, MainActivity.class);\n    }\n\n    public void addNewDrug(Drug drug) {\n        list.add(drug);\n        if (list.size() &gt; 0) {\n            Log.d(&quot;actually works ffs&quot;, list.get(0).name);\n            for (int i = 0; i &lt; 5; i++) {\n                LinearLayout linearLayout = findViewById(R.id.rootLayout);\n\n                // Create TextView programmatically.\n                TextView textView = new TextView(this);\n                textView.setLayoutParams(new LinearLayout.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT));\n                textView.setGravity(Gravity.CENTER);\n                textView.setText(list.get(i).name);\n\n                // Add TextView to LinearLayout\n                if (linearLayout != null) {\n                    linearLayout.addView(textView);\n                }\n\n            }\n            Log.d(&quot;Mainlist&quot;, list.get(0).name);\n        }\n    }\n}\n</code></pre>\n<p>'''</p>\n<p>The textview won't actually be created in the app. I know the textview code works because when I use it to print out &quot;test&quot; in the onCreate method, it works. I know the list arraylist gets its objects from the helper class because Log.d shows the values in the addNewDrug method. For some reason the textView code is not working, even when I use a string instead of value from the arraylist, and i have no clue why.</p>\n"},{"tags":["java","spring","spring-boot","timeout","camunda"],"answers":[{"tags":[],"owner":{"account_id":15111339,"reputation":66,"user_id":10905332,"display_name":"Japjappedulap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647464286,"creation_date":1647464286,"answer_id":71504164,"question_id":71471699,"body_markdown":"I achieved something similar using spring session, when using spring boot 2.x.x.\r\n\r\nMy `pom.xml` has these dependencies:\r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nUsing these, Camunda will rely on spring session for session management so you can control session using standard options provided by spring session. However, keep in mind this will use you persistence layer (postgres/h2/etc).\r\n\r\nThere&#39;s a [spring.session.timeout](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.session.timeout) available, try setting that one to `120m` in `application.properties` / `application.yaml`.\r\n\r\nI have these in my `application.yaml` config file\r\n\r\n```\r\nspring:\r\n  session:\r\n    store-type: jdbc\r\n    jdbc.initialize-schema: always\r\n```","title":"How to set timeout in camunda in Spring Boot?","body":"<p>I achieved something similar using spring session, when using spring boot 2.x.x.</p>\n<p>My <code>pom.xml</code> has these dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Using these, Camunda will rely on spring session for session management so you can control session using standard options provided by spring session. However, keep in mind this will use you persistence layer (postgres/h2/etc).</p>\n<p>There's a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.web.spring.session.timeout\" rel=\"nofollow noreferrer\">spring.session.timeout</a> available, try setting that one to <code>120m</code> in <code>application.properties</code> / <code>application.yaml</code>.</p>\n<p>I have these in my <code>application.yaml</code> config file</p>\n<pre><code>spring:\n  session:\n    store-type: jdbc\n    jdbc.initialize-schema: always\n</code></pre>\n"}],"owner":{"account_id":7146292,"reputation":325,"user_id":5461890,"accept_rate":56,"display_name":"Mahmoud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647464286,"creation_date":1647278077,"question_id":71471699,"body_markdown":"I want to set a timeout for 120 minutes in the session of Camunda. \r\nThis is the configuration in my pom.xml :\r\n\r\n```\r\n...\r\n...\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camunda-bpm-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camunda-bpm-spring-boot-starter-webapp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camunda-bpm-spring-boot-starter-rest&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.camunda.bpm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camunda-engine-rest-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n...\r\n...\r\n```\r\nI tried a lot of tracks, two of which are the most proposed on the forums, one to use if spring boot version is &lt; 1 and the other if spring boot is &gt; 2 : \r\n```\r\nserver.connection-timeout=...\r\nserver.servlet.session.timeout=...\r\n```\r\n\r\nFor the version of dependecies :\r\n```&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n&lt;springboot.version&gt;2.3.0&lt;/springboot.version&gt;\r\n&lt;version.camunda&gt;7.8.0&lt;/version.camunda&gt;\r\n```\r\n\r\nAre there other possibilities to set the timeout session ?","title":"How to set timeout in camunda in Spring Boot?","body":"<p>I want to set a timeout for 120 minutes in the session of Camunda.\nThis is the configuration in my pom.xml :</p>\n<pre><code>...\n...\n&lt;dependency&gt;\n            &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camunda-bpm-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camunda-bpm-spring-boot-starter-webapp&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.camunda.bpm.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camunda-bpm-spring-boot-starter-rest&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.camunda.bpm&lt;/groupId&gt;\n            &lt;artifactId&gt;camunda-engine-rest-core&lt;/artifactId&gt;\n            &lt;version&gt;7.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n...\n...\n</code></pre>\n<p>I tried a lot of tracks, two of which are the most proposed on the forums, one to use if spring boot version is &lt; 1 and the other if spring boot is &gt; 2 :</p>\n<pre><code>server.connection-timeout=...\nserver.servlet.session.timeout=...\n</code></pre>\n<p>For the version of dependecies :</p>\n<pre><code>&lt;springboot.version&gt;2.3.0&lt;/springboot.version&gt;\n&lt;version.camunda&gt;7.8.0&lt;/version.camunda&gt;\n</code></pre>\n<p>Are there other possibilities to set the timeout session ?</p>\n"},{"tags":["java","list","object"],"comments":[{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":0,"creation_date":1647449824,"post_id":71501161,"comment_id":126376200,"body_markdown":"What&#39;s preventing you from calling toString() and parsing out the values?","body":"What&#39;s preventing you from calling toString() and parsing out the values?"},{"owner":{"account_id":5967181,"reputation":542,"user_id":4690672,"display_name":"Nayanish Damania"},"score":0,"creation_date":1648125227,"post_id":71501161,"comment_id":126547996,"body_markdown":"HI @vb381, Can you please mark the answer as accepted if you satisfied my answer.","body":"HI @vb381, Can you please mark the answer as accepted if you satisfied my answer."}],"answers":[{"tags":[],"owner":{"account_id":5967181,"reputation":542,"user_id":4690672,"display_name":"Nayanish Damania"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647464226,"creation_date":1647462622,"answer_id":71503892,"question_id":71501161,"body_markdown":"**MyClass.java**\r\n```java\r\npublic class MyClass {\r\n    private String text1;\r\n    private String text2;\r\n\r\n    public MyClass() {\r\n    }\r\n\r\n    public MyClass(String text1, String text2) {\r\n        this.text1 = text1;\r\n        this.text2 = text2;\r\n    }\r\n\r\n    public String getText1() {\r\n        return this.text1;\r\n    }\r\n\r\n    public void setText1(String text1) {\r\n        this.text1 = text1;\r\n    }\r\n\r\n    public String getText2() {\r\n        return this.text2;\r\n    }\r\n\r\n    public void setText1(String text2) {\r\n        this.text2 = text2;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\nString jsonInput = response.getBody();\r\nList&lt;MyClass&gt; myObjects = mapper.readValue(jsonInput, new TypeReference&lt;List&lt;MyClass&gt;&gt;(){});\r\n```\r\n\r\n**Explanation of How ObjectMapper works:**\r\n\r\nThe Jackson ObjectMapper class is the simplest way to parse JSON with Jackson. The Jackson Object mapper can parse JSON into objects of classes developed by you, or into objects of the built-in JSON tree model.\r\nThe reason it is called ObjectMapper is that it maps JSON into Java Objects (deserialization), or Java Objects into JSON (serialization). \r\n","title":"JAVA - How to convert object to list","body":"<p><strong>MyClass.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n    private String text1;\n    private String text2;\n\n    public MyClass() {\n    }\n\n    public MyClass(String text1, String text2) {\n        this.text1 = text1;\n        this.text2 = text2;\n    }\n\n    public String getText1() {\n        return this.text1;\n    }\n\n    public void setText1(String text1) {\n        this.text1 = text1;\n    }\n\n    public String getText2() {\n        return this.text2;\n    }\n\n    public void setText1(String text2) {\n        this.text2 = text2;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\nObjectMapper mapper = new ObjectMapper();\n\nString jsonInput = response.getBody();\nList&lt;MyClass&gt; myObjects = mapper.readValue(jsonInput, new TypeReference&lt;List&lt;MyClass&gt;&gt;(){});\n</code></pre>\n<p><strong>Explanation of How ObjectMapper works:</strong></p>\n<p>The Jackson ObjectMapper class is the simplest way to parse JSON with Jackson. The Jackson Object mapper can parse JSON into objects of classes developed by you, or into objects of the built-in JSON tree model.\nThe reason it is called ObjectMapper is that it maps JSON into Java Objects (deserialization), or Java Objects into JSON (serialization).</p>\n"}],"owner":{"account_id":9323999,"reputation":181,"user_id":6921924,"accept_rate":38,"display_name":"vb381"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647464226,"creation_date":1647449490,"question_id":71501161,"body_markdown":"I have method that is setting variable as an object\r\n\r\n`Object value = response.getBody().jsonPath.get(variable)`\r\n\r\nreturned object is in the following format\r\n\r\n`[{text1=value1, text2=value2, text3=value3}, {text1=value4, text2=value5, text3=value6}]`\r\n\r\nI need somehow to itter over this end verify all values (value1-6). How can I do that?\r\n\r\n","title":"JAVA - How to convert object to list","body":"<p>I have method that is setting variable as an object</p>\n<p><code>Object value = response.getBody().jsonPath.get(variable)</code></p>\n<p>returned object is in the following format</p>\n<p><code>[{text1=value1, text2=value2, text3=value3}, {text1=value4, text2=value5, text3=value6}]</code></p>\n<p>I need somehow to itter over this end verify all values (value1-6). How can I do that?</p>\n"},{"tags":["java","android","xml","android-preferences","preferencescreen"],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647463216,"creation_date":1647463216,"answer_id":71503990,"question_id":71503813,"body_markdown":"&gt;`androidx.preference.SwitchPreferenceCompat cannot be cast to\r\n&gt; androidx.preference.PreferenceGroup`\r\n\r\n\r\nThe snippet `setPreferencesFromResource(R.xml.preferences, rootKey)` is what raises that as it expects a `PreferenceGroup` instead of a preference view. Where `SwitchPreferenceCompat` is not `PreferenceGroup`.\r\n\r\nThat is because you used a `SwitchPreferenceCompat` as the root element of settings screen. Instead you need to use the `PreferenceScreen` which extends from `PreferenceGroup`.\r\n\r\nSo to fix this you need to make sure that the root element of your preference layout is `PreferenceScreen`","title":"androidx.preference.SwitchPreferenceCompat cannot be cast to androidx.preference.PreferenceGroup","body":"<blockquote>\n<p><code>androidx.preference.SwitchPreferenceCompat cannot be cast to androidx.preference.PreferenceGroup</code></p>\n</blockquote>\n<p>The snippet <code>setPreferencesFromResource(R.xml.preferences, rootKey)</code> is what raises that as it expects a <code>PreferenceGroup</code> instead of a preference view. Where <code>SwitchPreferenceCompat</code> is not <code>PreferenceGroup</code>.</p>\n<p>That is because you used a <code>SwitchPreferenceCompat</code> as the root element of settings screen. Instead you need to use the <code>PreferenceScreen</code> which extends from <code>PreferenceGroup</code>.</p>\n<p>So to fix this you need to make sure that the root element of your preference layout is <code>PreferenceScreen</code></p>\n"}],"owner":{"account_id":19003541,"reputation":39,"user_id":13870638,"display_name":"luca.04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71503990,"answer_count":1,"score":1,"last_activity_date":1647463242,"creation_date":1647462204,"question_id":71503813,"body_markdown":"So I&#39;m trying to make an options menu in my android app but when I click on it in the emulator the app crashes and I get the following error:\r\n\r\n    androidx.preference.SwitchPreferenceCompat cannot be cast to androidx.preference.PreferenceGroup\r\n\r\nI don&#39;t really know what I am doing wrong here, I hope somebody knows.\r\n\r\nThe settings activity:\r\n```\r\npublic class SettingsActivity extends AppCompatActivity {\r\n    public static final String KEY_PREF_EXAMPLE_SWITCH = &quot;example_switch&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(android.R.id.content,\r\n                        new SettingsFragment()).commit();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe fragment class\r\n```\r\npublic class SettingsFragment extends PreferenceFragmentCompat {\r\n\r\n    @Override\r\n    public void onCreatePreferences(Bundle savedInstanceState,\r\n                                    String rootKey) {\r\n        setPreferencesFromResource(R.xml.preferences, rootKey);\r\n    }\r\n\r\n}\r\n```\r\nmethods in my MainActivity:\r\n```\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n\r\n        int id = item.getItemId();\r\n\r\n        // Launch SettingsActivity\r\n        if (id == R.id.action_settings) {\r\n            Intent intent = new Intent(this, SettingsActivity.class);\r\n            startActivity(intent);\r\n            return true;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n```\r\n\r\nEDIT\r\nHere is also my layout file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;SwitchPreferenceCompat xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;SwitchPreference\r\n        android:defaultValue=&quot;false&quot;\r\n        android:key=&quot;vega_preference&quot;\r\n        android:summaryOff=&quot;@string/vega_off_string&quot;\r\n        android:summaryOn=&quot;@string/vega_on_string&quot;\r\n        android:title=&quot;@string/vega_switch_title&quot; /&gt;\r\n    &lt;SwitchPreference\r\n        android:defaultValue=&quot;false&quot;\r\n        android:key=&quot;vegan_preference&quot;\r\n        android:summaryOff=&quot;@string/vegan_off_string&quot;\r\n        android:summaryOn=&quot;@string/vegan_on_string&quot;\r\n        android:title=&quot;@string/vegan_switch_title&quot; /&gt;\r\n&lt;/SwitchPreferenceCompat&gt;\r\n```","title":"androidx.preference.SwitchPreferenceCompat cannot be cast to androidx.preference.PreferenceGroup","body":"<p>So I'm trying to make an options menu in my android app but when I click on it in the emulator the app crashes and I get the following error:</p>\n<pre><code>androidx.preference.SwitchPreferenceCompat cannot be cast to androidx.preference.PreferenceGroup\n</code></pre>\n<p>I don't really know what I am doing wrong here, I hope somebody knows.</p>\n<p>The settings activity:</p>\n<pre><code>public class SettingsActivity extends AppCompatActivity {\n    public static final String KEY_PREF_EXAMPLE_SWITCH = &quot;example_switch&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getSupportFragmentManager().beginTransaction()\n                .replace(android.R.id.content,\n                        new SettingsFragment()).commit();\n    }\n}\n</code></pre>\n<p>The fragment class</p>\n<pre><code>public class SettingsFragment extends PreferenceFragmentCompat {\n\n    @Override\n    public void onCreatePreferences(Bundle savedInstanceState,\n                                    String rootKey) {\n        setPreferencesFromResource(R.xml.preferences, rootKey);\n    }\n\n}\n</code></pre>\n<p>methods in my MainActivity:</p>\n<pre><code>    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n\n        int id = item.getItemId();\n\n        // Launch SettingsActivity\n        if (id == R.id.action_settings) {\n            Intent intent = new Intent(this, SettingsActivity.class);\n            startActivity(intent);\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n</code></pre>\n<p>EDIT\nHere is also my layout file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;SwitchPreferenceCompat xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;SwitchPreference\n        android:defaultValue=&quot;false&quot;\n        android:key=&quot;vega_preference&quot;\n        android:summaryOff=&quot;@string/vega_off_string&quot;\n        android:summaryOn=&quot;@string/vega_on_string&quot;\n        android:title=&quot;@string/vega_switch_title&quot; /&gt;\n    &lt;SwitchPreference\n        android:defaultValue=&quot;false&quot;\n        android:key=&quot;vegan_preference&quot;\n        android:summaryOff=&quot;@string/vegan_off_string&quot;\n        android:summaryOn=&quot;@string/vegan_on_string&quot;\n        android:title=&quot;@string/vegan_switch_title&quot; /&gt;\n&lt;/SwitchPreferenceCompat&gt;\n</code></pre>\n"},{"tags":["java","sql-server","spring","hibernate"],"comments":[{"owner":{"account_id":24165,"reputation":274971,"user_id":61305,"display_name":"Aaron Bertrand"},"score":0,"creation_date":1647463156,"post_id":71503635,"comment_id":126380830,"body_markdown":"I suppose your ORM doesn&#39;t let you see what SQL it actually generates and sends to SQL Server. Which is what some people love about ORMs, but what we should all hate about them.","body":"I suppose your ORM doesn&#39;t let you see what SQL it actually generates and sends to SQL Server. Which is what some people love about ORMs, but what we should all hate about them."},{"owner":{"account_id":22129395,"reputation":11,"user_id":16381159,"display_name":"Milan Bhatt"},"score":0,"creation_date":1647463389,"post_id":71503635,"comment_id":126380903,"body_markdown":"@AaronBertrand Sorry sir, I did not get you. Can you elaborate more on what you&#39;ve said And what should I do here in this case?","body":"@AaronBertrand Sorry sir, I did not get you. Can you elaborate more on what you&#39;ve said And what should I do here in this case?"},{"owner":{"account_id":24165,"reputation":274971,"user_id":61305,"display_name":"Aaron Bertrand"},"score":0,"creation_date":1647463461,"post_id":71503635,"comment_id":126380930,"body_markdown":"I mean that your ORM is generating a query that includes a reference to a column named `purchase_purchaseID` but isn&#39;t showing you the actual query it&#39;s sending (or how it came about to think such a column existed). ORMs work great until they don&#39;t.","body":"I mean that your ORM is generating a query that includes a reference to a column named <code>purchase_purchaseID</code> but isn&#39;t showing you the actual query it&#39;s sending (or how it came about to think such a column existed). ORMs work great until they don&#39;t."},{"owner":{"account_id":24165,"reputation":274971,"user_id":61305,"display_name":"Aaron Bertrand"},"score":0,"creation_date":1647463806,"post_id":71503635,"comment_id":126381034,"body_markdown":"[Relevant tweet from last month](https://twitter.com/AaronBertrand/status/1494725734153216003)","body":"<a href=\"https://twitter.com/AaronBertrand/status/1494725734153216003\" rel=\"nofollow noreferrer\">Relevant tweet from last month</a>"},{"owner":{"account_id":22129395,"reputation":11,"user_id":16381159,"display_name":"Milan Bhatt"},"score":0,"creation_date":1647490192,"post_id":71503635,"comment_id":126386008,"body_markdown":"@AaronBertrand haha. I understood your point based on later explanation. Thank you","body":"@AaronBertrand haha. I understood your point based on later explanation. Thank you"}],"owner":{"account_id":22129395,"reputation":11,"user_id":16381159,"display_name":"Milan Bhatt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647461339,"creation_date":1647461339,"question_id":71503635,"body_markdown":"I&#39;m making one web application for online shoes, using spring boot framework and I&#39;m trying to build a relation between Product and Purchase table. In that I assume that in a one purchase we can have multiple products. So I&#39;ve done some code according to this relation and in that, I&#39;m getting an exception like **InvalidDataAccessResourceUsageException** and the subsequent exception is **com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name &#39;purchase_purchaseID&#39;**.\r\n\r\nMay be my relation is wrong or invalid. So please help me in this issue.\r\n\r\nYou can find more details as below:\r\n\r\nMy first entity class **Product**\r\n\r\n```\r\n@Entity\r\npublic class Product {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;productID&quot;, unique = true, nullable = false)\r\n\tprivate int productID;\r\n\t\r\n\t@Column(name = &quot;subCatID&quot;, nullable = false)\r\n\tprivate int subCatID;\r\n\t\r\n\t@Column(name = &quot;productName&quot;, nullable = false)\r\n\tprivate String productName;\r\n\t\r\n\t@ManyToOne(targetEntity = Purchase.class)\r\n\tprivate Purchase purchase;\r\n\t\r\n\tpublic int getSubCatID() {\r\n\t\treturn subCatID;\r\n\t}\r\n\r\n\tpublic void setSubCatID(int subCatID) {\r\n\t\tthis.subCatID = subCatID;\r\n\t}\r\n\r\n\tpublic int getProductID() {\r\n\t\treturn productID;\r\n\t}\r\n\r\n\tpublic void setProductID(int productID) {\r\n\t\tthis.productID = productID;\r\n\t}\r\n\r\n\tpublic String getProductName() {\r\n\t\treturn productName;\r\n\t}\r\n\r\n\tpublic void setProductName(String procutName) {\r\n\t\tthis.productName = procutName;\r\n\t}\r\n\r\n\tpublic Purchase getPurchase() {\r\n\t\treturn purchase;\r\n\t}\r\n\r\n\tpublic void setPurchase(Purchase purchase) {\r\n\t\tthis.purchase = purchase;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nMy second entity class is **Purchase**\r\n\r\n```\r\n@Entity\r\npublic class Purchase {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;purchaseID&quot;, unique = true, nullable = false)\r\n\tprivate int purchaseID;\r\n\t\r\n\t@OneToMany\r\n\t@JoinColumn(name = &quot;productID&quot;)\r\n\tprivate Set&lt;Product&gt; product;\r\n\t\r\n\t@ManyToOne(targetEntity = User.class)\r\n\t@JoinColumn(name = &quot;userID&quot;)\r\n\tprivate User user;\r\n\t\r\n\t@Column(name = &quot;createdDate&quot;)\r\n\tprivate Date createdDate;\r\n\r\n\tpublic int getPurchaseID() {\r\n\t\treturn purchaseID;\r\n\t}\r\n\r\n\tpublic void setPurchaseID(int purchaseID) {\r\n\t\tthis.purchaseID = purchaseID;\r\n\t}\r\n\r\n\tpublic Set&lt;Product&gt; getProduct() {\r\n\t\treturn product;\r\n\t}\r\n\r\n\tpublic void setProduct(Set&lt;Product&gt; product) {\r\n\t\tthis.product = product;\r\n\t}\r\n\r\n\tpublic User getUser() {\r\n\t\treturn user;\r\n\t}\r\n\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\tpublic Date getCreatedDate() {\r\n\t\treturn createdDate;\r\n\t}\r\n\r\n\tpublic void setCreatedDate(Date createdDate) {\r\n\t\tthis.createdDate = createdDate;\r\n\t}\r\n```\r\nAnd then I&#39;m trying to access to particular URL action like **/products** at that time this exception gets thrown. You can also find out this code from the controller side.\r\n```\r\n@RequestMapping(method = RequestMethod.GET, value = &quot;/products&quot;)\r\n\tpublic ModelAndView getProducts(HttpServletRequest req) {\r\n\t\tsession = req.getSession(false);\r\n\t\tModelAndView mav = null;\r\n\t\tif(session != null) {\r\n\t\t\tList&lt;Product&gt; productList = productService.getAllProducts();\r\n\t\t\tmav = new ModelAndView(&quot;Product&quot;);\r\n\t\t\tmav.addObject(productList);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tmav = new ModelAndView(&quot;Login&quot;);\r\n\t\t}\r\n\t\treturn mav;\r\n\t}\r\n```\r\n\r\nException:\r\n```\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2322) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name &#39;purchase_purchaseID&#39;.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1662) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:615) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:537) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7417) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3488) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name &#39;purchase_purchaseID&#39;.\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1662) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:615) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:537) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7417) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3488) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:262) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:237) ~[mssql-jdbc-9.4.1.jre8.jar:na]\r\n```","title":"Getting an exception like InvalidDataAccessResourceUsageException","body":"<p>I'm making one web application for online shoes, using spring boot framework and I'm trying to build a relation between Product and Purchase table. In that I assume that in a one purchase we can have multiple products. So I've done some code according to this relation and in that, I'm getting an exception like <strong>InvalidDataAccessResourceUsageException</strong> and the subsequent exception is <strong>com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name 'purchase_purchaseID'</strong>.</p>\n<p>May be my relation is wrong or invalid. So please help me in this issue.</p>\n<p>You can find more details as below:</p>\n<p>My first entity class <strong>Product</strong></p>\n<pre><code>@Entity\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;productID&quot;, unique = true, nullable = false)\n    private int productID;\n    \n    @Column(name = &quot;subCatID&quot;, nullable = false)\n    private int subCatID;\n    \n    @Column(name = &quot;productName&quot;, nullable = false)\n    private String productName;\n    \n    @ManyToOne(targetEntity = Purchase.class)\n    private Purchase purchase;\n    \n    public int getSubCatID() {\n        return subCatID;\n    }\n\n    public void setSubCatID(int subCatID) {\n        this.subCatID = subCatID;\n    }\n\n    public int getProductID() {\n        return productID;\n    }\n\n    public void setProductID(int productID) {\n        this.productID = productID;\n    }\n\n    public String getProductName() {\n        return productName;\n    }\n\n    public void setProductName(String procutName) {\n        this.productName = procutName;\n    }\n\n    public Purchase getPurchase() {\n        return purchase;\n    }\n\n    public void setPurchase(Purchase purchase) {\n        this.purchase = purchase;\n    }\n    \n}\n</code></pre>\n<p>My second entity class is <strong>Purchase</strong></p>\n<pre><code>@Entity\npublic class Purchase {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;purchaseID&quot;, unique = true, nullable = false)\n    private int purchaseID;\n    \n    @OneToMany\n    @JoinColumn(name = &quot;productID&quot;)\n    private Set&lt;Product&gt; product;\n    \n    @ManyToOne(targetEntity = User.class)\n    @JoinColumn(name = &quot;userID&quot;)\n    private User user;\n    \n    @Column(name = &quot;createdDate&quot;)\n    private Date createdDate;\n\n    public int getPurchaseID() {\n        return purchaseID;\n    }\n\n    public void setPurchaseID(int purchaseID) {\n        this.purchaseID = purchaseID;\n    }\n\n    public Set&lt;Product&gt; getProduct() {\n        return product;\n    }\n\n    public void setProduct(Set&lt;Product&gt; product) {\n        this.product = product;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public Date getCreatedDate() {\n        return createdDate;\n    }\n\n    public void setCreatedDate(Date createdDate) {\n        this.createdDate = createdDate;\n    }\n</code></pre>\n<p>And then I'm trying to access to particular URL action like <strong>/products</strong> at that time this exception gets thrown. You can also find out this code from the controller side.</p>\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = &quot;/products&quot;)\n    public ModelAndView getProducts(HttpServletRequest req) {\n        session = req.getSession(false);\n        ModelAndView mav = null;\n        if(session != null) {\n            List&lt;Product&gt; productList = productService.getAllProducts();\n            mav = new ModelAndView(&quot;Product&quot;);\n            mav.addObject(productList);\n        }\n        else {\n            mav = new ModelAndView(&quot;Login&quot;);\n        }\n        return mav;\n    }\n</code></pre>\n<p>Exception:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n\nCaused by: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:103) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:67) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:2322) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name 'purchase_purchaseID'.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1662) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:615) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:537) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7417) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3488) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n\ncom.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name 'purchase_purchaseID'.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:265) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.getNextResult(SQLServerStatement.java:1662) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:615) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:537) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7417) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:3488) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:262) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:237) ~[mssql-jdbc-9.4.1.jre8.jar:na]\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"score":0,"creation_date":1647460121,"post_id":71503347,"comment_id":126379922,"body_markdown":"Does this answer your question? [How to make multiple authentication with resttemplate behind the proxy](https://stackoverflow.com/questions/58813824/how-to-make-multiple-authentication-with-resttemplate-behind-the-proxy)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/58813824/how-to-make-multiple-authentication-with-resttemplate-behind-the-proxy\">How to make multiple authentication with resttemplate behind the proxy</a>"},{"owner":{"account_id":23951579,"reputation":17,"user_id":17943074,"display_name":"stackoverflow"},"score":0,"creation_date":1647460312,"post_id":71503347,"comment_id":126379977,"body_markdown":"Sorry I am not looking for behind the proxy and the link is using the BasicAuthenticationInterceptor only which I wanted to avoid because of the issue mentioned in the post.","body":"Sorry I am not looking for behind the proxy and the link is using the BasicAuthenticationInterceptor only which I wanted to avoid because of the issue mentioned in the post."}],"owner":{"account_id":23951579,"reputation":17,"user_id":17943074,"display_name":"stackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647460956,"creation_date":1647459701,"question_id":71503347,"body_markdown":"I have the following common configuration in my Spring Boot application:\r\n\r\n```java\r\n    private RestTemplate getRestTemplate(String username, String pwd){\r\n        RestTemplate restTemplate = new RestTemplate(new HttpComponentsClientHttpRequestFactory());\r\n        restTemplate.getInterceptors().add(new BasicAuthenticationInterceptor(username, pwd));\r\n        return restTemplate;\r\n    }\r\n```\r\n\r\nRight now I am using BasicAuthenticationInterceptor to add basic auth credentials to the Http &#39;Authorization&#39; headers.\r\n\r\nMy new requirement asks to add another Http &#39;Authorization&#39; header with a OAuth/JWT token. So I added something like this below:\r\n\r\n```java\r\nheaders.set(HttpHeaders.AUTHORIZATION, escape(token));\r\n```\r\n\r\nBut as I was using Spring&#39;s BasicAuthenticationInterceptor when I add token as &quot;Authorization&quot; header because of the if condition in the spring BasicAuthenticationInterceptor class it is not adding the basic auth credentials. Please find below if condition for more info:\r\n\r\n```java\r\npublic class BasicAuthenticationInterceptor implements ClientHttpRequestInterceptor {\r\n    private final String encodedCredentials;\r\n\r\n    public BasicAuthenticationInterceptor(String username, String password) {\r\n        this(username, password, (Charset)null);\r\n    }\r\n\r\n    public BasicAuthenticationInterceptor(String username, String password, @Nullable Charset charset) {\r\n        this.encodedCredentials = HttpHeaders.encodeBasicAuth(username, password, charset);\r\n    }\r\n\r\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\r\n        HttpHeaders headers = request.getHeaders();\r\n        if (!headers.containsKey(&quot;Authorization&quot;)) { /* here it will not add if I already have an Authorization header*/\r\n            headers.setBasicAuth(this.encodedCredentials);\r\n        }\r\n\r\n        return execution.execute(request, body);\r\n    }\r\n}\r\n```\r\n\r\nSo I was thinking may be I need to write my own custom Interceptor but before doing so I wanted to see if there is already a existing Interceptor that can fulfill my request. BTW, I was hoping to use BasicAuthorizationInterceptor but is deprecated in 5.3.9(my current spring version).\r\n\r\nAnd in a sidenote, if I am going to write a new interceptor (if that is what you suggest.) then I also wanted to add the token auth header in that custom interceptor.\r\n\r\n Any input or suggestion is appreciated.","title":"How to add multiple authorization headers in spring boot resttemplate","body":"<p>I have the following common configuration in my Spring Boot application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private RestTemplate getRestTemplate(String username, String pwd){\n        RestTemplate restTemplate = new RestTemplate(new HttpComponentsClientHttpRequestFactory());\n        restTemplate.getInterceptors().add(new BasicAuthenticationInterceptor(username, pwd));\n        return restTemplate;\n    }\n</code></pre>\n<p>Right now I am using BasicAuthenticationInterceptor to add basic auth credentials to the Http 'Authorization' headers.</p>\n<p>My new requirement asks to add another Http 'Authorization' header with a OAuth/JWT token. So I added something like this below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>headers.set(HttpHeaders.AUTHORIZATION, escape(token));\n</code></pre>\n<p>But as I was using Spring's BasicAuthenticationInterceptor when I add token as &quot;Authorization&quot; header because of the if condition in the spring BasicAuthenticationInterceptor class it is not adding the basic auth credentials. Please find below if condition for more info:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BasicAuthenticationInterceptor implements ClientHttpRequestInterceptor {\n    private final String encodedCredentials;\n\n    public BasicAuthenticationInterceptor(String username, String password) {\n        this(username, password, (Charset)null);\n    }\n\n    public BasicAuthenticationInterceptor(String username, String password, @Nullable Charset charset) {\n        this.encodedCredentials = HttpHeaders.encodeBasicAuth(username, password, charset);\n    }\n\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n        HttpHeaders headers = request.getHeaders();\n        if (!headers.containsKey(&quot;Authorization&quot;)) { /* here it will not add if I already have an Authorization header*/\n            headers.setBasicAuth(this.encodedCredentials);\n        }\n\n        return execution.execute(request, body);\n    }\n}\n</code></pre>\n<p>So I was thinking may be I need to write my own custom Interceptor but before doing so I wanted to see if there is already a existing Interceptor that can fulfill my request. BTW, I was hoping to use BasicAuthorizationInterceptor but is deprecated in 5.3.9(my current spring version).</p>\n<p>And in a sidenote, if I am going to write a new interceptor (if that is what you suggest.) then I also wanted to add the token auth header in that custom interceptor.</p>\n<p>Any input or suggestion is appreciated.</p>\n"},{"tags":["java","sql","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7473996,"reputation":310,"user_id":5680977,"display_name":"Dhiraj Surve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647460778,"creation_date":1647460778,"answer_id":71503545,"question_id":71503137,"body_markdown":" You can use native query like below in jpa however this is not safe way to do it .As this code is vulnerable to risk .\r\n\r\n    @Query(\r\n      value = &quot;select &quot;+listOfColumnNames+&quot;from table where val= &quot;+input+&quot;, \r\n      nativeQuery = true)\r\n    Collection&lt;User&gt; findData();","title":"Is there a way to dynamically set columns to retrieve in query using spring JPA?","body":"<p>You can use native query like below in jpa however this is not safe way to do it .As this code is vulnerable to risk .</p>\n<pre><code>@Query(\n  value = &quot;select &quot;+listOfColumnNames+&quot;from table where val= &quot;+input+&quot;, \n  nativeQuery = true)\nCollection&lt;User&gt; findData();\n</code></pre>\n"}],"owner":{"account_id":16395317,"reputation":205,"user_id":11843048,"display_name":"Froshiga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647460778,"creation_date":1647458420,"question_id":71503137,"body_markdown":"I&#39;m using spring boot and I have some queries in a separate properties file that I want to modify to allow a user to select which data columns to return from the db. \r\n\r\nRight now the queries look like this:\r\n\r\n```\r\nselect * from table where val=(:val);\r\n```\r\n\r\nBut I want something like this:\r\n\r\n```\r\nselect (:listOfColumnNames) from table where val=(:val);\r\n```\r\n\r\nI want to keep using JPA so is there any workaround to do this/get a similar functionality?","title":"Is there a way to dynamically set columns to retrieve in query using spring JPA?","body":"<p>I'm using spring boot and I have some queries in a separate properties file that I want to modify to allow a user to select which data columns to return from the db.</p>\n<p>Right now the queries look like this:</p>\n<pre><code>select * from table where val=(:val);\n</code></pre>\n<p>But I want something like this:</p>\n<pre><code>select (:listOfColumnNames) from table where val=(:val);\n</code></pre>\n<p>I want to keep using JPA so is there any workaround to do this/get a similar functionality?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8482,"page":1510,"page_size":100}
