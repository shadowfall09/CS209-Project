{"items":[{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":7566699,"reputation":654,"user_id":5741961,"display_name":"rudi Ladeon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451996151,"creation_date":1451994176,"answer_id":34610922,"question_id":34610354,"body_markdown":"I propose not to convert the jsonObj object to a String object. And therefore to replace the line: \r\n\r\n    jsonAjaxModel.setJsonString(jsonObj.toString ()) \r\n\r\nby a function like:\r\n\r\n    jsonAjaxModel.setJsonObj(jsonObj);","title":"Using org.json.JSONObject and Jackson together","body":"<p>I propose not to convert the jsonObj object to a String object. And therefore to replace the line: </p>\n\n<pre><code>jsonAjaxModel.setJsonString(jsonObj.toString ()) \n</code></pre>\n\n<p>by a function like:</p>\n\n<pre><code>jsonAjaxModel.setJsonObj(jsonObj);\n</code></pre>\n"}],"owner":{"account_id":1577314,"reputation":167,"user_id":1502017,"accept_rate":20,"display_name":"Arunabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636106936,"creation_date":1451992484,"question_id":34610354,"body_markdown":"\tpublic String convertToJson(List&lt;MyModelDTO&gt; modelDTO) {\r\n\t\tcom.fasterxml.jackson.databind.ObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\ttry {\r\n\t\t\treturn mapper.writeValueAsString(modelDTO);\r\n\t\t} catch (JsonGenerationException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t} catch (JsonMappingException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t} catch (IOException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic Model getDefinition(ModelDTO modelDTO) {\r\n\t\tJsonAjaxModel jsonAjaxModel = new JsonAjaxModel();\r\n\r\n\t\t//resultMap is a map to initialise the JSON\r\n\t\torg.json.JSONObject modelStepsJson = new JSONObject(resultMap);\r\n\t\torg.json.JSONObject jsonObj = new JSONObject();\r\n\t\tjsonObj.put(&quot;MODELLING_STEPS&quot;, modelStepsJson);\r\n\r\n\t\tList&lt;MyModelDTO&gt; methodModelList = myDAO.getSavedsteps(MyModelDTO.getModelId());\r\n\t\tjsonObj.put(&quot;STEPS&quot;, convertToJson(methodModelList));\r\n\r\n\t\tjsonAjaxModel.setJsonString(jsonObj.toString());\r\n\t\treturn jsonAjaxModel;\r\n\t}\r\n\r\nAs seen above I am using Jackson with `org.json.JSONObject`. The problem is that the final JSON string generated has &#39;\\&#39; in it which is giving an error while using eval in JavaScript.\r\n\r\n```lang-json\r\n{&quot;MODELLING_STEPS&quot;:{\r\n    &quot;1&quot;:&quot;Data Set,UOM and modelling methodology Selection&quot;,\r\n    &quot;2&quot;:&quot;Loss Data Frequency modelling&quot;},\r\n&quot;STEPS&quot;:&quot;[\r\n    {\\\\\\&quot;stitchingModelId\\\\\\&quot;:200844,\\\\\\&quot;modellingStepId\\\\\\&quot;:1},\r\n    {\\\\\\&quot;stitchingModelId\\\\\\&quot;:200844,\\\\\\&quot;modellingStepId\\\\\\&quot;:2}\r\n]\r\n```\r\n\r\nPlease note that I cannot use `org.json.simple.JSONObject.escape()` as my project doesn&#39;t allow that.\r\n\r\nHope the question is clear. Please let me know how to escape &#39;\\&#39;.","title":"Using org.json.JSONObject and Jackson together","body":"<pre><code>public String convertToJson(List&lt;MyModelDTO&gt; modelDTO) {\n    com.fasterxml.jackson.databind.ObjectMapper mapper = new ObjectMapper();\n\n    try {\n        return mapper.writeValueAsString(modelDTO);\n    } catch (JsonGenerationException ex) {\n        ex.printStackTrace();\n    } catch (JsonMappingException ex) {\n        ex.printStackTrace();\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n    return null;\n}\n\npublic Model getDefinition(ModelDTO modelDTO) {\n    JsonAjaxModel jsonAjaxModel = new JsonAjaxModel();\n\n    //resultMap is a map to initialise the JSON\n    org.json.JSONObject modelStepsJson = new JSONObject(resultMap);\n    org.json.JSONObject jsonObj = new JSONObject();\n    jsonObj.put(&quot;MODELLING_STEPS&quot;, modelStepsJson);\n\n    List&lt;MyModelDTO&gt; methodModelList = myDAO.getSavedsteps(MyModelDTO.getModelId());\n    jsonObj.put(&quot;STEPS&quot;, convertToJson(methodModelList));\n\n    jsonAjaxModel.setJsonString(jsonObj.toString());\n    return jsonAjaxModel;\n}\n</code></pre>\n<p>As seen above I am using Jackson with <code>org.json.JSONObject</code>. The problem is that the final JSON string generated has '' in it which is giving an error while using eval in JavaScript.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;MODELLING_STEPS&quot;:{\n    &quot;1&quot;:&quot;Data Set,UOM and modelling methodology Selection&quot;,\n    &quot;2&quot;:&quot;Loss Data Frequency modelling&quot;},\n&quot;STEPS&quot;:&quot;[\n    {\\\\\\&quot;stitchingModelId\\\\\\&quot;:200844,\\\\\\&quot;modellingStepId\\\\\\&quot;:1},\n    {\\\\\\&quot;stitchingModelId\\\\\\&quot;:200844,\\\\\\&quot;modellingStepId\\\\\\&quot;:2}\n]\n</code></pre>\n<p>Please note that I cannot use <code>org.json.simple.JSONObject.escape()</code> as my project doesn't allow that.</p>\n<p>Hope the question is clear. Please let me know how to escape ''.</p>\n"},{"tags":["java","mysql","jdbc","prepared-statement"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1636113498,"post_id":69848203,"comment_id":123476114,"body_markdown":"You need to use `pS.execute()`. Also, you need to ensure you&#39;re actually executing/preparing a valid statement, because your current statement is not valid.","body":"You need to use <code>pS.execute()</code>. Also, you need to ensure you&#39;re actually executing/preparing a valid statement, because your current statement is not valid."}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636084001,"creation_date":1636084001,"answer_id":69848466,"question_id":69848203,"body_markdown":"    resultSet1 + resultSet2 + resultSet3 + resultSet4 + resultSet5 + resultSet6 + select\r\n\r\nwill give you an error because a the end, the result of your query look like this : \r\n\r\n    INSERT INTO Clientes(nome) VALUES(?)INSERT INTO Clientes(nome) VALUES(?)UPDATE Clientes SET nome = ? WHERE id = ?UPDATE Clientes SET nome = ? WHERE id = ?...\r\n\r\nwhat is `syntaxically` incorrect as stated in your exception. What you have to do is to add `;` at the end of your queries.\r\n\r\nYour queries should look like this : \r\n\r\n        //ADD\r\n        String resultSet1 = &quot;INSERT INTO Clientes(nome) VALUES(?);&quot;;\r\n        String resultSet2 = &quot;INSERT INTO Clientes(nome) VALUES(?);&quot;;\r\n\r\n        //UPDATE\r\n        String resultSet3 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?;&quot;;\r\n        String resultSet4 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?;&quot;;\r\n\r\n        //DELETE\r\n        String resultSet5 = &quot;DELETE FROM Clientes WHERE id = ?;&quot;;\r\n        String resultSet6 = &quot;DELETE FROM Clientes WHERE id = ?;&quot;;\r\n\r\n        //SELECT\r\n        String select = &quot;Select * FROM Clientes;&quot;;\r\n\r\nThis [link][1] can help you for more details.\r\n\r\nI am a bit confused about this call : \r\n\r\n    pS.execute(resultSet1 + resultSet2);\r\n\r\nas per the [Java Doc][2], there is no such method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10797794/multiple-queries-executed-in-java-in-single-statement\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/PreparedStatement.html#execute()","title":"Error SQL: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax","body":"<pre><code>resultSet1 + resultSet2 + resultSet3 + resultSet4 + resultSet5 + resultSet6 + select\n</code></pre>\n<p>will give you an error because a the end, the result of your query look like this :</p>\n<pre><code>INSERT INTO Clientes(nome) VALUES(?)INSERT INTO Clientes(nome) VALUES(?)UPDATE Clientes SET nome = ? WHERE id = ?UPDATE Clientes SET nome = ? WHERE id = ?...\n</code></pre>\n<p>what is <code>syntaxically</code> incorrect as stated in your exception. What you have to do is to add <code>;</code> at the end of your queries.</p>\n<p>Your queries should look like this :</p>\n<pre><code>    //ADD\n    String resultSet1 = &quot;INSERT INTO Clientes(nome) VALUES(?);&quot;;\n    String resultSet2 = &quot;INSERT INTO Clientes(nome) VALUES(?);&quot;;\n\n    //UPDATE\n    String resultSet3 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?;&quot;;\n    String resultSet4 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?;&quot;;\n\n    //DELETE\n    String resultSet5 = &quot;DELETE FROM Clientes WHERE id = ?;&quot;;\n    String resultSet6 = &quot;DELETE FROM Clientes WHERE id = ?;&quot;;\n\n    //SELECT\n    String select = &quot;Select * FROM Clientes;&quot;;\n</code></pre>\n<p>This <a href=\"https://stackoverflow.com/questions/10797794/multiple-queries-executed-in-java-in-single-statement\">link</a> can help you for more details.</p>\n<p>I am a bit confused about this call :</p>\n<pre><code>pS.execute(resultSet1 + resultSet2);\n</code></pre>\n<p>as per the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.sql/java/sql/PreparedStatement.html#execute()\" rel=\"nofollow noreferrer\">Java Doc</a>, there is no such method.</p>\n"}],"owner":{"account_id":23244090,"reputation":3,"user_id":17332909,"display_name":"Guilherme Aguiar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636113471,"accepted_answer_id":69848466,"answer_count":1,"score":0,"last_activity_date":1636106880,"creation_date":1636080921,"question_id":69848203,"body_markdown":"I&#39;ve been trying to do a JDBC connection with MySQL using the **preparedStatement**.\r\n\r\nHere is my code so far:\r\n```\r\npackage uni.jdbc.preparedStatement;\r\nimport java.sql.*;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        try {\r\n\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/banco_Teste&quot;,&quot;root&quot;,&quot;password&quot;);\r\n\r\n            //ADD\r\n            String resultSet1 = &quot;INSERT INTO Clientes(nome) VALUES(?)&quot;;\r\n            String resultSet2 = &quot;INSERT INTO Clientes(nome) VALUES(?)&quot;;\r\n\r\n            //UPDATE\r\n            String resultSet3 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?&quot;;\r\n            String resultSet4 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?&quot;;\r\n\r\n            //DELETE\r\n            String resultSet5 = &quot;DELETE FROM Clientes WHERE id = ?&quot;;\r\n            String resultSet6 = &quot;DELETE FROM Clientes WHERE id = ?&quot;;\r\n\r\n            //SELECT\r\n            String select = &quot;Select * FROM Clientes&quot;;\r\n\r\n            try (PreparedStatement pS = conn.prepareStatement(resultSet1 + resultSet2 + resultSet3 + resultSet4 + resultSet5 + resultSet6 + select)){\r\n\r\n                //INSERT\r\n                pS.setString(1, &quot;Jo&#227;o&quot;);\r\n                pS.setString(2, &quot;Maria&quot;);\r\n                pS.execute(resultSet1 + resultSet2);\r\n\r\n                //UPDATE\r\n                pS.setString(1, &quot;John&quot;);\r\n                pS.setString(2, &quot;Marya&quot;);\r\n                pS.execute(resultSet3 + resultSet4);\r\n\r\n                //DELETE\r\n                pS.setString(1, &quot;John&quot;);\r\n                pS.setString(2, &quot;Marya&quot;);\r\n                pS.execute(resultSet5 + resultSet6 );\r\n\r\n                //SELECT\r\n                pS.execute(select);\r\n\r\n            }catch (SQLException e){\r\n\r\n                e.printStackTrace();\r\n\r\n            }\r\n\r\n        }catch(SQLException | ClassNotFoundException e){\r\n\r\n            e.printStackTrace();\r\n\r\n            System.out.println(&quot;Conex&#227;o falhou!&quot;);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n**Here is the query:**\r\n\r\n    create database banco_Teste\r\n\r\n    use banco_Teste\r\n\r\n    CREATE TABLE Clientes(\r\n\r\n\t    id_cliente INTEGER PRIMARY KEY AUTO_INCREMENT,\r\n\t    nome varchar (100)\r\n\r\n    )\r\n\r\nThe problem is: as I run, the following error is returned:\r\n\r\n&gt; java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;?)INSERT INTO Clientes(nome) VALUES(?)&#39; at line 1\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:768)\r\n\tat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)\r\n\tat uni.jdbc.preparedStatement.Main.main(Main.java:46)\r\n\r\nCould it be a version problem? The connector version is 8.0.27.\r\n","title":"Error SQL: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax","body":"<p>I've been trying to do a JDBC connection with MySQL using the <strong>preparedStatement</strong>.</p>\n<p>Here is my code so far:</p>\n<pre><code>package uni.jdbc.preparedStatement;\nimport java.sql.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        try {\n\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/banco_Teste&quot;,&quot;root&quot;,&quot;password&quot;);\n\n            //ADD\n            String resultSet1 = &quot;INSERT INTO Clientes(nome) VALUES(?)&quot;;\n            String resultSet2 = &quot;INSERT INTO Clientes(nome) VALUES(?)&quot;;\n\n            //UPDATE\n            String resultSet3 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?&quot;;\n            String resultSet4 = &quot;UPDATE Clientes SET nome = ? WHERE id = ?&quot;;\n\n            //DELETE\n            String resultSet5 = &quot;DELETE FROM Clientes WHERE id = ?&quot;;\n            String resultSet6 = &quot;DELETE FROM Clientes WHERE id = ?&quot;;\n\n            //SELECT\n            String select = &quot;Select * FROM Clientes&quot;;\n\n            try (PreparedStatement pS = conn.prepareStatement(resultSet1 + resultSet2 + resultSet3 + resultSet4 + resultSet5 + resultSet6 + select)){\n\n                //INSERT\n                pS.setString(1, &quot;João&quot;);\n                pS.setString(2, &quot;Maria&quot;);\n                pS.execute(resultSet1 + resultSet2);\n\n                //UPDATE\n                pS.setString(1, &quot;John&quot;);\n                pS.setString(2, &quot;Marya&quot;);\n                pS.execute(resultSet3 + resultSet4);\n\n                //DELETE\n                pS.setString(1, &quot;John&quot;);\n                pS.setString(2, &quot;Marya&quot;);\n                pS.execute(resultSet5 + resultSet6 );\n\n                //SELECT\n                pS.execute(select);\n\n            }catch (SQLException e){\n\n                e.printStackTrace();\n\n            }\n\n        }catch(SQLException | ClassNotFoundException e){\n\n            e.printStackTrace();\n\n            System.out.println(&quot;Conexão falhou!&quot;);\n\n        }\n    }\n}\n</code></pre>\n<p><strong>Here is the query:</strong></p>\n<pre><code>create database banco_Teste\n\nuse banco_Teste\n\nCREATE TABLE Clientes(\n\n    id_cliente INTEGER PRIMARY KEY AUTO_INCREMENT,\n    nome varchar (100)\n\n)\n</code></pre>\n<p>The problem is: as I run, the following error is returned:</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '?)INSERT INTO Clientes(nome) VALUES(?)' at line 1\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\nat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:768)\nat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653)\nat uni.jdbc.preparedStatement.Main.main(Main.java:46)</p>\n</blockquote>\n<p>Could it be a version problem? The connector version is 8.0.27.</p>\n"},{"tags":["java","android","kotlin","gradle","preferences"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1636104081,"post_id":69850885,"comment_id":123472712,"body_markdown":"Have you tried adding the ```androidx.preference.PreferenceScreen``` prefix to the xml objects?","body":"Have you tried adding the <code>androidx.preference.PreferenceScreen</code> prefix to the xml objects?"},{"owner":{"account_id":20107678,"reputation":151,"user_id":14744778,"display_name":"Arek Kubiński"},"score":0,"creation_date":1636104587,"post_id":69850885,"comment_id":123472936,"body_markdown":"Yes, same problem. It looks like its just don&#39;t recognise it","body":"Yes, same problem. It looks like its just don&#39;t recognise it"}],"answers":[{"tags":[],"owner":{"account_id":17984397,"reputation":562,"user_id":13069994,"display_name":"Supertommino"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636106824,"creation_date":1636105358,"answer_id":69851222,"question_id":69850885,"body_markdown":"Did you put the xml file under the &quot;xml&quot; folder?\r\n\r\nIt must be placed under &quot;xml&quot; folder not under &quot;layout&quot; folder\r\n\r\n![Like this][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9JI7M.jpg\r\n\r\nYou have to use a PreferenceActivity and call the file with:\r\n\r\n    addPreferencesFromResource(R.xml.settings);\r\n\r\nOfficial documentation: https://developer.android.com/guide/topics/ui/settings","title":"Looks like android studio can&#39;t find classes from dependency","body":"<p>Did you put the xml file under the &quot;xml&quot; folder?</p>\n<p>It must be placed under &quot;xml&quot; folder not under &quot;layout&quot; folder</p>\n<p><img src=\"https://i.stack.imgur.com/9JI7M.jpg\" alt=\"Like this\" /></p>\n<p>You have to use a PreferenceActivity and call the file with:</p>\n<pre><code>addPreferencesFromResource(R.xml.settings);\n</code></pre>\n<p>Official documentation: <a href=\"https://developer.android.com/guide/topics/ui/settings\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/settings</a></p>\n"}],"owner":{"account_id":20107678,"reputation":151,"user_id":14744778,"display_name":"Arek Kubiński"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69851222,"answer_count":1,"score":0,"last_activity_date":1636106824,"creation_date":1636103688,"question_id":69850885,"body_markdown":"I wanted to make settings fragment for my app so I added preference dependency to my build.gradle\r\n```\r\ndef preference_version = &quot;1.1.1&quot;\r\n    implementation &quot;androidx.preference:preference:$preference_version&quot;\r\n    implementation &quot;androidx.preference:preference-ktx:$preference_version&quot;\r\n```\r\nbut when I want to use any class from this library in XML Layout like for example \r\n```\r\n&lt;PreferenceScreen\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;SwitchPreferenceCompat\r\n        app:key=&quot;notifications&quot;\r\n        app:title=&quot;Enable message notifications&quot;/&gt;\r\n\r\n    &lt;Preference\r\n        app:key=&quot;feedback&quot;\r\n        app:title=&quot;Send feedback&quot;\r\n        app:summary=&quot;Report technical issues or suggest new features&quot;/&gt;\r\n\r\n&lt;/PreferenceScreen&gt;\r\n```\r\nI&#39;m getting errors: \r\n\r\n - Cannot resolve class PreferenceScreen \r\n - Cannot resolve class SwitchPreferenceCompat \r\n - Cannot resolve class Preference \r\n\r\nI tried to build project after using /gradlew clean but nothing helped, I tried to use different versions of dependencies, different versions of gradle and use only dependency for java and only dependency for kotlin multiple times with different configurations but nothing helped. What is strange outside of XML files everything seems to work just fine and I can use classes from this library just fine, but I need to make layout with PreferenceScreen class and it&#39;s not recognising it.","title":"Looks like android studio can&#39;t find classes from dependency","body":"<p>I wanted to make settings fragment for my app so I added preference dependency to my build.gradle</p>\n<pre><code>def preference_version = &quot;1.1.1&quot;\n    implementation &quot;androidx.preference:preference:$preference_version&quot;\n    implementation &quot;androidx.preference:preference-ktx:$preference_version&quot;\n</code></pre>\n<p>but when I want to use any class from this library in XML Layout like for example</p>\n<pre><code>&lt;PreferenceScreen\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;SwitchPreferenceCompat\n        app:key=&quot;notifications&quot;\n        app:title=&quot;Enable message notifications&quot;/&gt;\n\n    &lt;Preference\n        app:key=&quot;feedback&quot;\n        app:title=&quot;Send feedback&quot;\n        app:summary=&quot;Report technical issues or suggest new features&quot;/&gt;\n\n&lt;/PreferenceScreen&gt;\n</code></pre>\n<p>I'm getting errors:</p>\n<ul>\n<li>Cannot resolve class PreferenceScreen</li>\n<li>Cannot resolve class SwitchPreferenceCompat</li>\n<li>Cannot resolve class Preference</li>\n</ul>\n<p>I tried to build project after using /gradlew clean but nothing helped, I tried to use different versions of dependencies, different versions of gradle and use only dependency for java and only dependency for kotlin multiple times with different configurations but nothing helped. What is strange outside of XML files everything seems to work just fine and I can use classes from this library just fine, but I need to make layout with PreferenceScreen class and it's not recognising it.</p>\n"},{"tags":["java","apache-nifi"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635973988,"post_id":69830860,"comment_id":123438232,"body_markdown":"The 1.10.0 release says that it runs on Java 11, and I don&#39;t see any mention of later JDKs in later release notes. I&#39;d try running it on 11.","body":"The 1.10.0 release says that it runs on Java 11, and I don&#39;t see any mention of later JDKs in later release notes. I&#39;d try running it on 11."}],"answers":[{"tags":[],"owner":{"account_id":4910556,"reputation":1932,"user_id":3955972,"display_name":"Sdairs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636106412,"creation_date":1636106412,"answer_id":69851469,"question_id":69830860,"body_markdown":"Only Java 8 or Java 11 are supported by NiFi at this time. \r\n\r\nhttps://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#system_requirements","title":"Nifi will run but won&#39;t open in browser- Possible error with JAVA","body":"<p>Only Java 8 or Java 11 are supported by NiFi at this time.</p>\n<p><a href=\"https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#system_requirements\" rel=\"nofollow noreferrer\">https://nifi.apache.org/docs/nifi-docs/html/administration-guide.html#system_requirements</a></p>\n"}],"owner":{"account_id":19396957,"reputation":41,"user_id":14184427,"display_name":"woodardj0303"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1053,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636106412,"creation_date":1635968493,"question_id":69830860,"body_markdown":"I am able to start and stop nifi from terminal, but I cannot get it to appear in chrome local host. I just downloaded JAVA 17.0.1 and nifi 1.14.0 so one or both may not be configured correctly. Here is an error I found in the logs-any guidance would be appreciated.\r\n\r\n```2021-11-03 14:14:24,057 ERROR [main] org.apache.nifi.NiFi Failure to launch NiFi due to org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @47f0e078\r\norg.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @47f0e078\r\n\tat org.xerial.snappy.SnappyLoader.injectSnappyNativeLoader(SnappyLoader.java:297)\r\n\tat org.xerial.snappy.SnappyLoader.load(SnappyLoader.java:227)\r\n\tat org.xerial.snappy.Snappy.&lt;clinit&gt;(Snappy.java:48)\r\n\tat org.apache.nifi.processors.hive.PutHiveStreaming.&lt;clinit&gt;(PutHiveStreaming.java:158)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:467)\r\n\tat org.apache.nifi.nar.StandardExtensionDiscoveringManager.getClass(StandardExtensionDiscoveringManager.java:328)\r\n\tat org.apache.nifi.documentation.DocGenerator.documentConfigurableComponent(DocGenerator.java:100)\r\n\tat org.apache.nifi.documentation.DocGenerator.generate(DocGenerator.java:65)\r\n\tat org.apache.nifi.web.server.JettyServer.start(JettyServer.java:1126)\r\n\tat org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:159)\r\n\tat org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:71)\r\n\tat org.apache.nifi.NiFi.main(NiFi.java:303)```\r\n","title":"Nifi will run but won&#39;t open in browser- Possible error with JAVA","body":"<p>I am able to start and stop nifi from terminal, but I cannot get it to appear in chrome local host. I just downloaded JAVA 17.0.1 and nifi 1.14.0 so one or both may not be configured correctly. Here is an error I found in the logs-any guidance would be appreciated.</p>\n<pre><code>org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @47f0e078\n    at org.xerial.snappy.SnappyLoader.injectSnappyNativeLoader(SnappyLoader.java:297)\n    at org.xerial.snappy.SnappyLoader.load(SnappyLoader.java:227)\n    at org.xerial.snappy.Snappy.&lt;clinit&gt;(Snappy.java:48)\n    at org.apache.nifi.processors.hive.PutHiveStreaming.&lt;clinit&gt;(PutHiveStreaming.java:158)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:467)\n    at org.apache.nifi.nar.StandardExtensionDiscoveringManager.getClass(StandardExtensionDiscoveringManager.java:328)\n    at org.apache.nifi.documentation.DocGenerator.documentConfigurableComponent(DocGenerator.java:100)\n    at org.apache.nifi.documentation.DocGenerator.generate(DocGenerator.java:65)\n    at org.apache.nifi.web.server.JettyServer.start(JettyServer.java:1126)\n    at org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:159)\n    at org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:71)\n    at org.apache.nifi.NiFi.main(NiFi.java:303)```\n</code></pre>\n"},{"tags":["java","eclipse","com","powerdesigner","ole-automation"],"comments":[{"owner":{"account_id":69588,"reputation":3307,"user_id":202367,"display_name":"pascal"},"score":0,"creation_date":1625469786,"post_id":68225270,"comment_id":120625904,"body_markdown":"You&#39;re just trying to use the sample code from JavaProxy.doc?","body":"You&#39;re just trying to use the sample code from JavaProxy.doc?"},{"owner":{"account_id":9571842,"reputation":75,"user_id":7109249,"accept_rate":17,"display_name":"Darla"},"score":0,"creation_date":1625478735,"post_id":68225270,"comment_id":120629370,"body_markdown":"Yes, @Pascal. Once im able to connect and build a model i will have to customise","body":"Yes, @Pascal. Once im able to connect and build a model i will have to customise"}],"answers":[{"tags":[],"owner":{"account_id":69588,"reputation":3307,"user_id":202367,"display_name":"pascal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625250167,"creation_date":1625250167,"answer_id":68229780,"question_id":68225270,"body_markdown":"The swt.win.win32.x86_64 jar is for 64-bit, so I assume you&#39;re using a 64-bit Java.\r\n\r\nIn my case, the pdj2com jar is named something like **pdj2com_16.N.Nx64.jar** for the 64-bit version. pdj2com_16.N.N.jar is the name of the 32-bit version.","title":"Unable to Connect to PowerDesigner through java","body":"<p>The swt.win.win32.x86_64 jar is for 64-bit, so I assume you're using a 64-bit Java.</p>\n<p>In my case, the pdj2com jar is named something like <strong>pdj2com_16.N.Nx64.jar</strong> for the 64-bit version. pdj2com_16.N.N.jar is the name of the 32-bit version.</p>\n"}],"owner":{"account_id":9571842,"reputation":75,"user_id":7109249,"accept_rate":17,"display_name":"Darla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636106361,"creation_date":1625229143,"question_id":68225270,"body_markdown":"I have a requirement to automate the process of connecting to PowerDesigner through java to extract the models from repository. I have used the OLE Automation JavaProxy document to configure the process. \r\n\r\nwhen trying to run, I&#39;m getting this error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.eclipse.swt.internal.ole.win32.COM.CoCreateInstance(Lorg/eclipse/swt/internal/ole/win32/GUID;IILorg/eclipse/swt/internal/ole/win32/GUID;[I)I\r\n&gt; \tat\r\n&gt; com.sybase.stf.powerdesigner.PdCommon.Application.start(Application.java:57)\r\n&gt; \tat\r\n&gt; com.sybase.stf.powerdesigner.PdCommon.Application.&lt;init&gt;(Application.java:31)\r\n&gt; \tat\r\n&gt; com.sybase.stf.powerdesigner.PdCommon.Application.getInstance(Application.java:42)\r\n&gt; \tat OOM.src.createOOM.CreateOOM.CreateAndDisplayOOM(CreateOOM.java:37)\r\n&gt; \tat OOM.src.createOOM.CreateOOM.main(CreateOOM.java:28)\r\n\r\n**Versions:**\r\n- PowerDesigner - 16.5.5.0\r\n- Eclipse 4.18\r\n\r\n**Supporting Jars:**\r\n- pdj2com_16.5.5.jar\r\n- org.eclipse.swt.win32.win32.x86_64_3.115.100.v20201202-1103.jar\r\n\r\n**The above issue is resolved Thanks!**\r\n\r\n\r\nNow i&#39;m facing trouble connecting again with the below issue.\r\n\r\n\r\norg.eclipse.swt.SWTException: Action can not be performed. result = -2137456383 (com.sybase.stf.powerdesigner.com.COMException:  COM Failure [HRESULT: 0x80990101])\r\n\tat org.eclipse.swt.ole.win32.OLE.error(OLE.java:345)\r\n\tat com.sybase.stf.powerdesigner.com.COMException.raiseOnFail(COMException.java:83)\r\n\tat com.sybase.stf.powerdesigner.com.IDispatchEx.raisingInvoke(IDispatchEx.java:231)\r\n\tat com.sybase.stf.powerdesigner.PdCommon.IApplication.CreateModel(IApplication.java:84)\r\n\tat OOM.src.createOOM.CreateOOM.createOOM(CreateOOM.java:68)\r\n\tat OOM.src.createOOM.CreateOOM.CreateAndDisplayOOM(CreateOOM.java:42)\r\n\tat OOM.src.createOOM.CreateOOM.main(CreateOOM.java:28)\r\nCaused by: com.sybase.stf.powerdesigner.com.COMException:  COM Failure [HRESULT: 0x80990101]\r\n\tat com.sybase.stf.powerdesigner.com.COMException.raiseOnFail(COMException.java:88)\r\n\t... 5 more\r\nIs there anything else to add to the code to connect?\r\n\r\nI am not able to find any solution online. Kindly help me figure this out. Thanks in advance.","title":"Unable to Connect to PowerDesigner through java","body":"<p>I have a requirement to automate the process of connecting to PowerDesigner through java to extract the models from repository. I have used the OLE Automation JavaProxy document to configure the process.</p>\n<p>when trying to run, I'm getting this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.eclipse.swt.internal.ole.win32.COM.CoCreateInstance(Lorg/eclipse/swt/internal/ole/win32/GUID;IILorg/eclipse/swt/internal/ole/win32/GUID;[I)I\nat\ncom.sybase.stf.powerdesigner.PdCommon.Application.start(Application.java:57)\nat\ncom.sybase.stf.powerdesigner.PdCommon.Application.(Application.java:31)\nat\ncom.sybase.stf.powerdesigner.PdCommon.Application.getInstance(Application.java:42)\nat OOM.src.createOOM.CreateOOM.CreateAndDisplayOOM(CreateOOM.java:37)\nat OOM.src.createOOM.CreateOOM.main(CreateOOM.java:28)</p>\n</blockquote>\n<p><strong>Versions:</strong></p>\n<ul>\n<li>PowerDesigner - 16.5.5.0</li>\n<li>Eclipse 4.18</li>\n</ul>\n<p><strong>Supporting Jars:</strong></p>\n<ul>\n<li>pdj2com_16.5.5.jar</li>\n<li>org.eclipse.swt.win32.win32.x86_64_3.115.100.v20201202-1103.jar</li>\n</ul>\n<p><strong>The above issue is resolved Thanks!</strong></p>\n<p>Now i'm facing trouble connecting again with the below issue.</p>\n<p>org.eclipse.swt.SWTException: Action can not be performed. result = -2137456383 (com.sybase.stf.powerdesigner.com.COMException:  COM Failure [HRESULT: 0x80990101])\nat org.eclipse.swt.ole.win32.OLE.error(OLE.java:345)\nat com.sybase.stf.powerdesigner.com.COMException.raiseOnFail(COMException.java:83)\nat com.sybase.stf.powerdesigner.com.IDispatchEx.raisingInvoke(IDispatchEx.java:231)\nat com.sybase.stf.powerdesigner.PdCommon.IApplication.CreateModel(IApplication.java:84)\nat OOM.src.createOOM.CreateOOM.createOOM(CreateOOM.java:68)\nat OOM.src.createOOM.CreateOOM.CreateAndDisplayOOM(CreateOOM.java:42)\nat OOM.src.createOOM.CreateOOM.main(CreateOOM.java:28)\nCaused by: com.sybase.stf.powerdesigner.com.COMException:  COM Failure [HRESULT: 0x80990101]\nat com.sybase.stf.powerdesigner.com.COMException.raiseOnFail(COMException.java:88)\n... 5 more\nIs there anything else to add to the code to connect?</p>\n<p>I am not able to find any solution online. Kindly help me figure this out. Thanks in advance.</p>\n"},{"tags":["java","xml","rest-assured"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1634579451,"post_id":69620026,"comment_id":123057879,"body_markdown":"Perhaps it&#39;s `response.getBody().xmlPath().get(&quot;count(//code[text()=0])&quot;)==3`","body":"Perhaps it&#39;s <code>response.getBody().xmlPath().get(&quot;count(&#47;&#47;code[text()=0])&quot;)=&zwnj;&#8203;=3</code>"},{"owner":{"account_id":15805840,"reputation":131,"user_id":11404383,"display_name":"Marcus"},"score":0,"creation_date":1634818266,"post_id":69620026,"comment_id":123131824,"body_markdown":"@LMC it&#39;s not working, count is returning 1. But thanks. When I tried the xpath in http://xpather.com/ it&#39;s working as expected","body":"@LMC it&#39;s not working, count is returning 1. But thanks. When I tried the xpath in <a href=\"http://xpather.com/\" rel=\"nofollow noreferrer\">xpather.com</a> it&#39;s working as expected"}],"answers":[{"tags":[],"owner":{"account_id":15371775,"reputation":514,"user_id":11089623,"display_name":"cheparsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636106314,"creation_date":1636106314,"answer_id":69851448,"question_id":69620026,"body_markdown":"Rest-Assured framework mainly supports testing REST services. You can find a lot of examples on Internet but they not always it will work for your unique SOAP response body.\r\n\r\nFrom my experience, I suggest you pay attention to [Karate](https://github.com/intuit/karate) as it has built-in support for SOAP, and also makes XML manipulation a lot easier.","title":"RestAssured XmlPath array","body":"<p>Rest-Assured framework mainly supports testing REST services. You can find a lot of examples on Internet but they not always it will work for your unique SOAP response body.</p>\n<p>From my experience, I suggest you pay attention to <a href=\"https://github.com/intuit/karate\" rel=\"nofollow noreferrer\">Karate</a> as it has built-in support for SOAP, and also makes XML manipulation a lot easier.</p>\n"}],"owner":{"account_id":15805840,"reputation":131,"user_id":11404383,"display_name":"Marcus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636106314,"creation_date":1634577243,"question_id":69620026,"body_markdown":"I&#39;m using RestAssured to test a few SOAP services. And I want to verify parts of the XML response, but I have problems to do that for an array. I want to verify, that there are 3 &quot;*code*&quot; fields in the response with value 0.\r\n\r\nXML Response:\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;...&quot;&gt;\r\n      &lt;soap:Body&gt;\r\n        &lt;Response xmlns=&quot;...&quot;&gt;\r\n          &lt;Result xmlns=&quot;&quot;&gt;\r\n            &lt;code&gt;0&lt;/code&gt;\r\n          &lt;/Result&gt;\r\n          &lt;Result xmlns=&quot;&quot;&gt;\r\n            &lt;code&gt;0&lt;/code&gt;\r\n          &lt;/Result&gt;\r\n          &lt;Result xmlns=&quot;&quot;&gt;\r\n            &lt;code&gt;0&lt;/code&gt;\r\n          &lt;/Result&gt;\r\n        &lt;/Response&gt;\r\n      &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nI tried this, but I&#39;m getting this [000] instead of this [0, 0, 0]:\r\n\r\n    response.getBody().xmlPath().get(&quot;code.list()&quot;);\r\n\r\nI also tried to use Xpath, this works, but it doesn&#39;t check the number of *&quot;code&quot;* fields\r\n\r\n    response.then().body(hasXPath(&quot;//code[text()=0]&quot;));\r\n\r\nbut when I want to check the count, it&#39;s failing (java.lang.AssertionError: 1 expectation failed.)\r\n\r\n    response.then().body(hasXPath(&quot;count(//code[text()=0])=3&quot;));","title":"RestAssured XmlPath array","body":"<p>I'm using RestAssured to test a few SOAP services. And I want to verify parts of the XML response, but I have problems to do that for an array. I want to verify, that there are 3 &quot;<em>code</em>&quot; fields in the response with value 0.</p>\n<p>XML Response:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;...&quot;&gt;\n  &lt;soap:Body&gt;\n    &lt;Response xmlns=&quot;...&quot;&gt;\n      &lt;Result xmlns=&quot;&quot;&gt;\n        &lt;code&gt;0&lt;/code&gt;\n      &lt;/Result&gt;\n      &lt;Result xmlns=&quot;&quot;&gt;\n        &lt;code&gt;0&lt;/code&gt;\n      &lt;/Result&gt;\n      &lt;Result xmlns=&quot;&quot;&gt;\n        &lt;code&gt;0&lt;/code&gt;\n      &lt;/Result&gt;\n    &lt;/Response&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>I tried this, but I'm getting this [000] instead of this [0, 0, 0]:</p>\n<pre><code>response.getBody().xmlPath().get(&quot;code.list()&quot;);\n</code></pre>\n<p>I also tried to use Xpath, this works, but it doesn't check the number of <em>&quot;code&quot;</em> fields</p>\n<pre><code>response.then().body(hasXPath(&quot;//code[text()=0]&quot;));\n</code></pre>\n<p>but when I want to check the count, it's failing (java.lang.AssertionError: 1 expectation failed.)</p>\n<pre><code>response.then().body(hasXPath(&quot;count(//code[text()=0])=3&quot;));\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data","deserialization","spring-data-gemfire"],"answers":[{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1635877428,"creation_date":1635794299,"answer_id":69801760,"question_id":69797245,"body_markdown":"First, please be precise when you ask questions.\r\n\r\nYour `Key` class is not even valid *Java*.  The `Key` class by itself would not even compile as is.\r\n\r\nThe constructors (`JsonWebKey`) in this case are 1) not named after the class (`Key`) and 2) you cannot have 2 no arg constructors.\r\n\r\nI am assuming the second constructor would be:\r\n\r\n```java\r\npublic Key(String id, Jwk jwk) {\r\n  this.id = id;\r\n  this.jwk = jwk;\r\n}\r\n```\r\n\r\nI am guessing either the constructors are misnamed or perhaps are part of some [static] inner class??\r\n\r\nNever-the-less, assuming you are using ***Spring Boot for Apache Geode*** (*and VMware Tanzu (Pivotal) GemFire*), a.k.a. SBDG (see [here][1]; if you are **not** using SBDG, you should be!), and since SBDG [enables GemFire/Geode PDX serialization by default][2], then SBDG with the help of ***Spring Data for Apache Geode*** (*and VMware Tanzu GemFire*), a.k.a. SDG (upon which SBDG is built, along with the core *Spring Framework*, *Spring Data* and *Spring Boot*) will handle these serialization concerns for you, with no extra effort on your part.  See the corresponding SDG [documentation][3].\r\n\r\nBy way of example, I wrote this [test class][4], which resides in this [package][5], to demonstrate.\r\n\r\nBy default, the test class is using PDX serialization [configured with Spring][6] using the [test configuration][7].  The Spring-based configuration class is [here][8].  The [other test configuration classes][9] are only enabled with the appropriate [test Spring profile configured][6].\r\n\r\nThe model class for this test is the [`CompositeValue` class][10] in the `model` sub-package.\r\n\r\nAs you can see, the class has [2 primary constructors][11]. I also declared a [commented-out, default, public no-arg constructor][12], which I will explain further below.\r\n\r\nThis `CompositeValue` model class was designed very deliberately. You will notice that it is (mostly) immutable.\r\n\r\nI use a Spring Data `CrudRepository` (see [here][13]) to save (persist/store) an instance of `CompositeValue` in a GemFire/Geode *Region* (&quot;*Values*&quot;) and then retrieve it (findBy..).  The &quot;*Values*&quot; Region is necessarily a `PARTITION` Region (see [here][14]), since a `PARTITION` Region stores values in serialized form, and in our case, PDX serialized.\r\n\r\nUsing the Spring configuration, the [test][15] runs and passes successfully!  Spring is doing all the heavy lifting!\r\n\r\nIf you are NOT using Spring to its fullest extent, then you are (most likely) going to have problems unless you know what you are doing with GemFire/Geode.\r\n\r\nOut-of-the-box, GemFire/Geode PDX serialization has certain limitations. See the [documentation][16]. Specifically, see [here][17].\r\n\r\nFor instance, if you are using GemFire/Geode&#39;s `ReflectionBasedAutoSerializer` class ([*Javadoc*][18], [documentation][19]; and I suspect you are) and not Spring, then it requires your application domain objects (model classes / entities) to have a default, public no-arg constructor.\r\n\r\nThis flies in the face of immutable, effectively immutable and mostly immutable classes since then you cannot appropriately initialize classes using constructors, which is crucial in a highly concurrent, multi-Threaded context, like GemFire/Geode.\r\n\r\nYou can see the effects of trying to use GemFire/Geode&#39;s `ReflectionBasedAutoSerializer` by enabling the &quot;gemfire&quot; profile [in the example test class][6] I wrote, for which the configuration is [here][20].\r\n\r\nThe test will NOT pass without the [commented-out, default, public no-arg constructor][12]. \r\n\r\nWhen using Apache Geode `1.13.4`, I get the following error:\r\n\r\n```\r\n2021-11-01 11:53:08,720  WARN ode.pdx.internal.AutoSerializableManager: 274 - Class \r\nio.stackoverflow.questions.spring.geode.serialization.pdx.model.CompositeValue \r\nmatched with &#39;.*&#39; cannot be auto-serialized due to missing public no-arg constructor.\r\nWill attempt using Java serialization.\r\n```\r\n\r\nHowever, even with Java serialization (the GemFire/Geode backup serialization strategy), the test results in a failure:\r\n\r\n```\r\nCaused by: java.io.NotSerializableException: io.stackoverflow.questions.spring.geode.serialization.pdx.model.CompositeValue\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\r\n\tat org.apache.geode.internal.InternalDataSerializer.writeSerializableObject(InternalDataSerializer.java:2184)\r\n\tat org.apache.geode.internal.InternalDataSerializer.basicWriteObject(InternalDataSerializer.java:2058)\r\n\tat org.apache.geode.DataSerializer.writeObject(DataSerializer.java:2839)\r\n\tat org.apache.geode.internal.cache.CachedDeserializableFactory.calcSerializedSize(CachedDeserializableFactory.java:245)\r\n\t... 60 common frames omitted\r\n```\r\n\r\nWell, the `java.io.NotSerializableException` is thrown because the `CompositeValue` class (deliberately) does not implement the `java.io.Serialiable` interface.\r\n\r\nWhy deliberately? Because you cannot implement `java.io.Serializable` on classes you do not own, which is true when using 3rd party libraries and their classes. Even though we own the `CompositeValue` in my case, I am making a point, because in your case, you don&#39;t own `Jwk`.\r\n\r\nSo, not only can we not use (mostly/effectively) immutable classes, we also cannot rely on default serialization mechanisms baked into GemFire/Geode.\r\n\r\nOf course, we can handle this by implementing a custom `PdxSerializer`, the second strategy in the [documentation][17] (under &quot;**Procedure**&quot;, Step 1, &quot;[Serializing your Domain Object with a PdxSerializer][21]&quot;).\r\n\r\nIf we again [change][6] the active Spring profile to &quot;gemfire-custom-pdxserializer&quot; in the example test I wrote, then the test will pass.\r\n\r\nBut, it comes at a high price! See the [necessary configuration][22] to make this arrangement work.\r\n\r\nIn our case, we have only 1 such model / entity class to build a custom `PdxSerializer` for. However, imagine if we had hundreds of classes to handle.\r\n\r\nTo make matters worse, GemFire/Geode only allows a single `PdxSerializer` to be registered with a Singleton GemFire/Geode cache, which means you can only have 1.  Now you must rely on the [*Composite Software Design Pattern*][23] to compose multiple `PdxSerializers` necessary to handle all your application domain model types requiring serialization. While this is elegant, you must build a custom `PdxSerializer` per application model / entity type.  Of course, you could bake all type handling into 1 `PdxSerializer` implementation, but that would get ugly rather quickly!\r\n\r\nFinally, your application model / entity types could implement GemFire/Geode&#39;s `PdxSerializable` interface ([*Javadoc*][24]). This is no better than `java.io.Serializable` and (again) does not work for types you don&#39;t own. It also couples your application to GemFire/Geode and is why I did NOT demonstrate this approach, as it should be considered an anti-pattern.\r\n\r\nWith SDG&#39;s `MappingPdxSerializer`, which SBDG&#39;s auto-configures for you (by default), you do not need to do any of the above. SBDG auto-configures PDX by default (making the SDG `@EnablePdx` annotation unnecessary) and there is no special requirement for your application domain object (model) / entity classes.\r\n\r\nHowever, if you have **more than 1** constructor in your entity class, then you will need to designate 1 constructor as the primary persistence constructor.  In the `CompositeValue` class, this [constructor][25] was designated as the primary, persistence constructor using Spring Data&#39;s `@PersistenceConstructor` annotation, which SDG&#39;s `MappingPdxSerializer` takes into account when deserializing and constructing your application domain object model types.\r\n\r\nIf you only have 1 constructor in your class, then you do not even need to declare the `@PersistenceConstructor` annotation on the only constructor.  That is if the [other constructor][26] in `CompositeValue` did not exist, then the `@PersistenceConstructor` annotation on this [constructor][25] would not be necessary. SD[G] can figure it out.\r\n\r\nFeel free to play around with my example test for you learning purposes.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot-data-geode\r\n  [2]: https://docs.spring.io/spring-boot-data-geode-build/current/reference/html5/#geode-data-serialization\r\n  [3]: https://docs.spring.io/spring-data/geode/docs/current/reference/html/#mapping.pdx-serializer\r\n  [4]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java\r\n  [5]: https://github.com/jxblum/stackoverflow-questions-answers/tree/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx\r\n  [6]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L70\r\n  [7]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L94-L99\r\n  [8]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L158-L161\r\n  [9]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L101-L156\r\n  [10]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java\r\n  [11]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L58-L71\r\n  [12]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L52-L56\r\n  [13]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/repo/CompositeValueRepository.java\r\n  [14]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L95-L96\r\n  [15]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L77-L92\r\n  [16]: https://geode.apache.org/docs/guide/114/developing/data_serialization/gemfire_pdx_serialization.html\r\n  [17]: https://geode.apache.org/docs/guide/114/developing/data_serialization/use_pdx_high_level_steps.html\r\n  [18]: https://geode.apache.org/releases/latest/javadoc/org/apache/geode/pdx/ReflectionBasedAutoSerializer.html\r\n  [19]: https://geode.apache.org/docs/guide/114/developing/data_serialization/auto_serialization.html\r\n  [20]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L101-L110\r\n  [21]: https://geode.apache.org/docs/guide/114/developing/data_serialization/use_pdx_serializer.html\r\n  [22]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L112-L156\r\n  [23]: https://en.wikipedia.org/wiki/Composite_pattern\r\n  [24]: https://geode.apache.org/releases/latest/javadoc/org/apache/geode/pdx/PdxSerializable.html\r\n  [25]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L63-L71\r\n  [26]: https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L58-L61","title":"How to deserialize com.auth0.jwk.Jwk that does not have no-arg constructor?","body":"<p>First, please be precise when you ask questions.</p>\n<p>Your <code>Key</code> class is not even valid <em>Java</em>.  The <code>Key</code> class by itself would not even compile as is.</p>\n<p>The constructors (<code>JsonWebKey</code>) in this case are 1) not named after the class (<code>Key</code>) and 2) you cannot have 2 no arg constructors.</p>\n<p>I am assuming the second constructor would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Key(String id, Jwk jwk) {\n  this.id = id;\n  this.jwk = jwk;\n}\n</code></pre>\n<p>I am guessing either the constructors are misnamed or perhaps are part of some [static] inner class??</p>\n<p>Never-the-less, assuming you are using <em><strong>Spring Boot for Apache Geode</strong></em> (<em>and VMware Tanzu (Pivotal) GemFire</em>), a.k.a. SBDG (see <a href=\"https://github.com/spring-projects/spring-boot-data-geode\" rel=\"nofollow noreferrer\">here</a>; if you are <strong>not</strong> using SBDG, you should be!), and since SBDG <a href=\"https://docs.spring.io/spring-boot-data-geode-build/current/reference/html5/#geode-data-serialization\" rel=\"nofollow noreferrer\">enables GemFire/Geode PDX serialization by default</a>, then SBDG with the help of <em><strong>Spring Data for Apache Geode</strong></em> (<em>and VMware Tanzu GemFire</em>), a.k.a. SDG (upon which SBDG is built, along with the core <em>Spring Framework</em>, <em>Spring Data</em> and <em>Spring Boot</em>) will handle these serialization concerns for you, with no extra effort on your part.  See the corresponding SDG <a href=\"https://docs.spring.io/spring-data/geode/docs/current/reference/html/#mapping.pdx-serializer\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>By way of example, I wrote this <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java\" rel=\"nofollow noreferrer\">test class</a>, which resides in this <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/tree/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx\" rel=\"nofollow noreferrer\">package</a>, to demonstrate.</p>\n<p>By default, the test class is using PDX serialization <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L70\" rel=\"nofollow noreferrer\">configured with Spring</a> using the <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L94-L99\" rel=\"nofollow noreferrer\">test configuration</a>.  The Spring-based configuration class is <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L158-L161\" rel=\"nofollow noreferrer\">here</a>.  The <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L101-L156\" rel=\"nofollow noreferrer\">other test configuration classes</a> are only enabled with the appropriate <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L70\" rel=\"nofollow noreferrer\">test Spring profile configured</a>.</p>\n<p>The model class for this test is the <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java\" rel=\"nofollow noreferrer\"><code>CompositeValue</code> class</a> in the <code>model</code> sub-package.</p>\n<p>As you can see, the class has <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L58-L71\" rel=\"nofollow noreferrer\">2 primary constructors</a>. I also declared a <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L52-L56\" rel=\"nofollow noreferrer\">commented-out, default, public no-arg constructor</a>, which I will explain further below.</p>\n<p>This <code>CompositeValue</code> model class was designed very deliberately. You will notice that it is (mostly) immutable.</p>\n<p>I use a Spring Data <code>CrudRepository</code> (see <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/repo/CompositeValueRepository.java\" rel=\"nofollow noreferrer\">here</a>) to save (persist/store) an instance of <code>CompositeValue</code> in a GemFire/Geode <em>Region</em> (&quot;<em>Values</em>&quot;) and then retrieve it (findBy..).  The &quot;<em>Values</em>&quot; Region is necessarily a <code>PARTITION</code> Region (see <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L95-L96\" rel=\"nofollow noreferrer\">here</a>), since a <code>PARTITION</code> Region stores values in serialized form, and in our case, PDX serialized.</p>\n<p>Using the Spring configuration, the <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L77-L92\" rel=\"nofollow noreferrer\">test</a> runs and passes successfully!  Spring is doing all the heavy lifting!</p>\n<p>If you are NOT using Spring to its fullest extent, then you are (most likely) going to have problems unless you know what you are doing with GemFire/Geode.</p>\n<p>Out-of-the-box, GemFire/Geode PDX serialization has certain limitations. See the <a href=\"https://geode.apache.org/docs/guide/114/developing/data_serialization/gemfire_pdx_serialization.html\" rel=\"nofollow noreferrer\">documentation</a>. Specifically, see <a href=\"https://geode.apache.org/docs/guide/114/developing/data_serialization/use_pdx_high_level_steps.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>For instance, if you are using GemFire/Geode's <code>ReflectionBasedAutoSerializer</code> class (<a href=\"https://geode.apache.org/releases/latest/javadoc/org/apache/geode/pdx/ReflectionBasedAutoSerializer.html\" rel=\"nofollow noreferrer\"><em>Javadoc</em></a>, <a href=\"https://geode.apache.org/docs/guide/114/developing/data_serialization/auto_serialization.html\" rel=\"nofollow noreferrer\">documentation</a>; and I suspect you are) and not Spring, then it requires your application domain objects (model classes / entities) to have a default, public no-arg constructor.</p>\n<p>This flies in the face of immutable, effectively immutable and mostly immutable classes since then you cannot appropriately initialize classes using constructors, which is crucial in a highly concurrent, multi-Threaded context, like GemFire/Geode.</p>\n<p>You can see the effects of trying to use GemFire/Geode's <code>ReflectionBasedAutoSerializer</code> by enabling the &quot;gemfire&quot; profile <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L70\" rel=\"nofollow noreferrer\">in the example test class</a> I wrote, for which the configuration is <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L101-L110\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The test will NOT pass without the <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L52-L56\" rel=\"nofollow noreferrer\">commented-out, default, public no-arg constructor</a>.</p>\n<p>When using Apache Geode <code>1.13.4</code>, I get the following error:</p>\n<pre><code>2021-11-01 11:53:08,720  WARN ode.pdx.internal.AutoSerializableManager: 274 - Class \nio.stackoverflow.questions.spring.geode.serialization.pdx.model.CompositeValue \nmatched with '.*' cannot be auto-serialized due to missing public no-arg constructor.\nWill attempt using Java serialization.\n</code></pre>\n<p>However, even with Java serialization (the GemFire/Geode backup serialization strategy), the test results in a failure:</p>\n<pre><code>Caused by: java.io.NotSerializableException: io.stackoverflow.questions.spring.geode.serialization.pdx.model.CompositeValue\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184)\n    at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\n    at org.apache.geode.internal.InternalDataSerializer.writeSerializableObject(InternalDataSerializer.java:2184)\n    at org.apache.geode.internal.InternalDataSerializer.basicWriteObject(InternalDataSerializer.java:2058)\n    at org.apache.geode.DataSerializer.writeObject(DataSerializer.java:2839)\n    at org.apache.geode.internal.cache.CachedDeserializableFactory.calcSerializedSize(CachedDeserializableFactory.java:245)\n    ... 60 common frames omitted\n</code></pre>\n<p>Well, the <code>java.io.NotSerializableException</code> is thrown because the <code>CompositeValue</code> class (deliberately) does not implement the <code>java.io.Serialiable</code> interface.</p>\n<p>Why deliberately? Because you cannot implement <code>java.io.Serializable</code> on classes you do not own, which is true when using 3rd party libraries and their classes. Even though we own the <code>CompositeValue</code> in my case, I am making a point, because in your case, you don't own <code>Jwk</code>.</p>\n<p>So, not only can we not use (mostly/effectively) immutable classes, we also cannot rely on default serialization mechanisms baked into GemFire/Geode.</p>\n<p>Of course, we can handle this by implementing a custom <code>PdxSerializer</code>, the second strategy in the <a href=\"https://geode.apache.org/docs/guide/114/developing/data_serialization/use_pdx_high_level_steps.html\" rel=\"nofollow noreferrer\">documentation</a> (under &quot;<strong>Procedure</strong>&quot;, Step 1, &quot;<a href=\"https://geode.apache.org/docs/guide/114/developing/data_serialization/use_pdx_serializer.html\" rel=\"nofollow noreferrer\">Serializing your Domain Object with a PdxSerializer</a>&quot;).</p>\n<p>If we again <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L70\" rel=\"nofollow noreferrer\">change</a> the active Spring profile to &quot;gemfire-custom-pdxserializer&quot; in the example test I wrote, then the test will pass.</p>\n<p>But, it comes at a high price! See the <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/PdxSerializationOfEntityWithNonDefaultConstructor.java#L112-L156\" rel=\"nofollow noreferrer\">necessary configuration</a> to make this arrangement work.</p>\n<p>In our case, we have only 1 such model / entity class to build a custom <code>PdxSerializer</code> for. However, imagine if we had hundreds of classes to handle.</p>\n<p>To make matters worse, GemFire/Geode only allows a single <code>PdxSerializer</code> to be registered with a Singleton GemFire/Geode cache, which means you can only have 1.  Now you must rely on the <a href=\"https://en.wikipedia.org/wiki/Composite_pattern\" rel=\"nofollow noreferrer\"><em>Composite Software Design Pattern</em></a> to compose multiple <code>PdxSerializers</code> necessary to handle all your application domain model types requiring serialization. While this is elegant, you must build a custom <code>PdxSerializer</code> per application model / entity type.  Of course, you could bake all type handling into 1 <code>PdxSerializer</code> implementation, but that would get ugly rather quickly!</p>\n<p>Finally, your application model / entity types could implement GemFire/Geode's <code>PdxSerializable</code> interface (<a href=\"https://geode.apache.org/releases/latest/javadoc/org/apache/geode/pdx/PdxSerializable.html\" rel=\"nofollow noreferrer\"><em>Javadoc</em></a>). This is no better than <code>java.io.Serializable</code> and (again) does not work for types you don't own. It also couples your application to GemFire/Geode and is why I did NOT demonstrate this approach, as it should be considered an anti-pattern.</p>\n<p>With SDG's <code>MappingPdxSerializer</code>, which SBDG's auto-configures for you (by default), you do not need to do any of the above. SBDG auto-configures PDX by default (making the SDG <code>@EnablePdx</code> annotation unnecessary) and there is no special requirement for your application domain object (model) / entity classes.</p>\n<p>However, if you have <strong>more than 1</strong> constructor in your entity class, then you will need to designate 1 constructor as the primary persistence constructor.  In the <code>CompositeValue</code> class, this <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L63-L71\" rel=\"nofollow noreferrer\">constructor</a> was designated as the primary, persistence constructor using Spring Data's <code>@PersistenceConstructor</code> annotation, which SDG's <code>MappingPdxSerializer</code> takes into account when deserializing and constructing your application domain object model types.</p>\n<p>If you only have 1 constructor in your class, then you do not even need to declare the <code>@PersistenceConstructor</code> annotation on the only constructor.  That is if the <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L58-L61\" rel=\"nofollow noreferrer\">other constructor</a> in <code>CompositeValue</code> did not exist, then the <code>@PersistenceConstructor</code> annotation on this <a href=\"https://github.com/jxblum/stackoverflow-questions-answers/blob/master/spring-geode/src/test/java/io/stackoverflow/questions/spring/geode/serialization/pdx/model/CompositeValue.java#L63-L71\" rel=\"nofollow noreferrer\">constructor</a> would not be necessary. SD[G] can figure it out.</p>\n<p>Feel free to play around with my example test for you learning purposes.</p>\n"}],"owner":{"account_id":14385183,"reputation":493,"user_id":10391394,"display_name":"Vaishnavi Killekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636106290,"creation_date":1635771371,"question_id":69797245,"body_markdown":"I&#39;m implementing caching in my Spring Boot (v2.5.2) app using `GemFire`.\r\n\r\nThe class which needs to be cached - \r\n```\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.gemfire.mapping.annotation.Region;\r\n\r\nimport com.auth0.jwk.Jwk;\r\n\r\n@Region(&quot;jwks&quot;)\r\npublic class Key {\r\n\r\n   @Id\r\n   private String id;\r\n\r\n   private Jwk jwk;\r\n\r\n   @PersistenceConstructor\r\n   public Key(String id, Jwk jwk){\r\n       this.id = id;\r\n       this.jwk = jwk;\r\n   }\r\n\r\n   // Getters and setters for variables\r\n}\r\n```\r\n\r\nI get the following error while fetching the stored entity from cache - \r\n```\r\norg.apache.geode.SerializationException : While deserializing query result with root cause\r\njava.lang.NoSuchMethodException: com.auth0.jwk.Jwk.&lt;init&gt;()\r\nat java.lang.Class.getConstructors0(Class.java:3082)\r\nat java.lang.Class.getDeclaredConstructor(Class.java:2187)\r\n...\r\n```\r\n\r\nHow can I deserialize this object when Jwk doesn&#39;t have a no-arg constructor?\r\n\r\nEdit - \r\n`build.gradle`\r\n```\r\nimplementation &#39;org.springframework.geode:spring-geode-starter&#39;\r\nimplementation &#39;org.springframework.geode:spring-data-geode&#39;\r\n```\r\nAlso, updated the constructor as per suggested answer which continues to give the same error.\r\n\r\nError causing code -\r\n```\r\nOptional&lt;Key&gt; key = this.keyRepository.findById(id);\r\n```","title":"How to deserialize com.auth0.jwk.Jwk that does not have no-arg constructor?","body":"<p>I'm implementing caching in my Spring Boot (v2.5.2) app using <code>GemFire</code>.</p>\n<p>The class which needs to be cached -</p>\n<pre><code>import org.springframework.data.annotation.Id;\nimport org.springframework.data.gemfire.mapping.annotation.Region;\n\nimport com.auth0.jwk.Jwk;\n\n@Region(&quot;jwks&quot;)\npublic class Key {\n\n   @Id\n   private String id;\n\n   private Jwk jwk;\n\n   @PersistenceConstructor\n   public Key(String id, Jwk jwk){\n       this.id = id;\n       this.jwk = jwk;\n   }\n\n   // Getters and setters for variables\n}\n</code></pre>\n<p>I get the following error while fetching the stored entity from cache -</p>\n<pre><code>org.apache.geode.SerializationException : While deserializing query result with root cause\njava.lang.NoSuchMethodException: com.auth0.jwk.Jwk.&lt;init&gt;()\nat java.lang.Class.getConstructors0(Class.java:3082)\nat java.lang.Class.getDeclaredConstructor(Class.java:2187)\n...\n</code></pre>\n<p>How can I deserialize this object when Jwk doesn't have a no-arg constructor?</p>\n<p>Edit -\n<code>build.gradle</code></p>\n<pre><code>implementation 'org.springframework.geode:spring-geode-starter'\nimplementation 'org.springframework.geode:spring-data-geode'\n</code></pre>\n<p>Also, updated the constructor as per suggested answer which continues to give the same error.</p>\n<p>Error causing code -</p>\n<pre><code>Optional&lt;Key&gt; key = this.keyRepository.findById(id);\n</code></pre>\n"},{"tags":["java","google-calendar-api","google-contacts-api"],"comments":[{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1586184042,"post_id":61050432,"comment_id":108027556,"body_markdown":"What steps from the link you provided are you talking about? It seems completely irrelevant to your code.","body":"What steps from the link you provided are you talking about? It seems completely irrelevant to your code."},{"owner":{"account_id":18172018,"reputation":11,"user_id":13221493,"display_name":"Gustavo Lavatiatta"},"score":0,"creation_date":1586203279,"post_id":61050432,"comment_id":108037776,"body_markdown":"Hi. Create a Servirce Account and Delegating domain-wide authority to the service account (here is more about https://developers.google.com/calendar/auth) . This are required before use the client API . \n\nCredential credential = ModuloCalendarSalud.authorize();\nclient = new com.google.api.services.calendar.Calendar.Builder(\n\t\t\t      httpTransport, JSON_FACTORY, credential  ).setApplicationName(APPLICATION_NAME).build();","body":"Hi. Create a Servirce Account and Delegating domain-wide authority to the service account (here is more about <a href=\"https://developers.google.com/calendar/auth\" rel=\"nofollow noreferrer\">developers.google.com/calendar/auth</a>) . This are required before use the client API .   Credential credential = ModuloCalendarSalud.authorize(); client = new com.google.api.services.calendar.Calendar.Builder( \t\t\t      httpTransport, JSON_FACTORY, credential  ).setApplicationName(APPLICATION_NAME).build();"},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1586242815,"post_id":61050432,"comment_id":108048839,"body_markdown":"Can I ask; what are you trying to accomplish here? The only reason you need to delegate domain-wide authority to a service account it if you want to execute a task as another user on your domain. Without a full picture of what you are trying to do I am unable to understand about your situation.","body":"Can I ask; what are you trying to accomplish here? The only reason you need to delegate domain-wide authority to a service account it if you want to execute a task as another user on your domain. Without a full picture of what you are trying to do I am unable to understand about your situation."},{"owner":{"account_id":18172018,"reputation":11,"user_id":13221493,"display_name":"Gustavo Lavatiatta"},"score":0,"creation_date":1586284480,"post_id":61050432,"comment_id":108071227,"body_markdown":"Yes, exactly. Rafa I want to create  Calendar &#39;s Event (using Calendar API)  with a conference (hangoutMeet) using my  domain. I can create a Calendar Event (but with  hangout, not meet).","body":"Yes, exactly. Rafa I want to create  Calendar &#39;s Event (using Calendar API)  with a conference (hangoutMeet) using my  domain. I can create a Calendar Event (but with  hangout, not meet)."},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1586330507,"post_id":61050432,"comment_id":108085513,"body_markdown":"`Calendars: insert` doesn&#39;t create an event, it creates an entire calendar. Are you sure this is what you need to do? See the difference between [`Calendars: insert`](https://developers.google.com/calendar/v3/reference/calendars/insert) and [`Events: insert`](https://developers.google.com/calendar/v3/reference/events/insert).","body":"<code>Calendars: insert</code> doesn&#39;t create an event, it creates an entire calendar. Are you sure this is what you need to do? See the difference between <a href=\"https://developers.google.com/calendar/v3/reference/calendars/insert\" rel=\"nofollow noreferrer\"><code>Calendars: insert</code></a> and <a href=\"https://developers.google.com/calendar/v3/reference/events/insert\" rel=\"nofollow noreferrer\"><code>Events: insert</code></a>."},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1586330510,"post_id":61050432,"comment_id":108085515,"body_markdown":"That said, I have tried creating a calendar using the &#39;Try this API&#39; feature of the aforementioned `Calendars: insert` page and I got a return of `hangoutsMeet` with no issue. Can you please confirm if this is the same for you? (The Try this API feature can be found [here](https://developers.google.com/calendar/v3/reference/calendars/insert)).","body":"That said, I have tried creating a calendar using the &#39;Try this API&#39; feature of the aforementioned <code>Calendars: insert</code> page and I got a return of <code>hangoutsMeet</code> with no issue. Can you please confirm if this is the same for you? (The Try this API feature can be found <a href=\"https://developers.google.com/calendar/v3/reference/calendars/insert\" rel=\"nofollow noreferrer\">here</a>)."},{"owner":{"account_id":18172018,"reputation":11,"user_id":13221493,"display_name":"Gustavo Lavatiatta"},"score":0,"creation_date":1586348758,"post_id":61050432,"comment_id":108094671,"body_markdown":"Hi Guillermo... yes to both... first a i create a calendar (that is the code  passed before), but the calendar &quot;insert&quot; returns &quot;conferenceProperties&quot;:{&quot;allowedConferenceSolutionTypes&quot;:[&quot;eventHangout&quot;]} ... of course then i tried to create an event with &quot;hangoutsMeet&quot;, but it falil without error.  ..... second: i &quot;try  this API&quot; using the page, with Google OAuth 2.0 and it&#39;s return only hangoutMeet. It&#39;is Ok.  My problem is in the server side using Java (It is only working for hangout, not for hangoutMeet)","body":"Hi Guillermo... yes to both... first a i create a calendar (that is the code  passed before), but the calendar &quot;insert&quot; returns &quot;conferenceProperties&quot;:{&quot;allowedConferenceSolutionTypes&quot;:[&quot;e&zwnj;&#8203;ventHangout&quot;]} ... of course then i tried to create an event with &quot;hangoutsMeet&quot;, but it falil without error.  ..... second: i &quot;try  this API&quot; using the page, with Google OAuth 2.0 and it&#39;s return only hangoutMeet. It&#39;is Ok.  My problem is in the server side using Java (It is only working for hangout, not for hangoutMeet)"},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1586353091,"post_id":61050432,"comment_id":108097055,"body_markdown":"Just to check; are you doing this logged in as a G Suite domain user, or an `@gmail.com` account?","body":"Just to check; are you doing this logged in as a G Suite domain user, or an <code>@gmail.com</code> account?"},{"owner":{"account_id":18172018,"reputation":11,"user_id":13221493,"display_name":"Gustavo Lavatiatta"},"score":0,"creation_date":1586356884,"post_id":61050432,"comment_id":108099308,"body_markdown":"i am doing it, with a service account  see authorize(). and i grant  this service account in a GSuite Domian.","body":"i am doing it, with a service account  see authorize(). and i grant  this service account in a GSuite Domian."},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1586358223,"post_id":61050432,"comment_id":108100168,"body_markdown":"Okay, I see.  And finally to be clear, are you sure you&#39;re vreating the calendar on behalf of a user, and not as the service account itself? Are you able to view the calendar when you go to [https://calendar.google.com](https://calendar.google.com)?","body":"Okay, I see.  And finally to be clear, are you sure you&#39;re vreating the calendar on behalf of a user, and not as the service account itself? Are you able to view the calendar when you go to <a href=\"https://calendar.google.com\" rel=\"nofollow noreferrer\">https://calendar.google.com</a>?"},{"owner":{"account_id":18172018,"reputation":11,"user_id":13221493,"display_name":"Gustavo Lavatiatta"},"score":0,"creation_date":1586358635,"post_id":61050432,"comment_id":108100431,"body_markdown":"Now, I am creating the calendar in the service account itself.","body":"Now, I am creating the calendar in the service account itself."}],"answers":[{"tags":[],"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636106189,"creation_date":1586359796,"answer_id":61104363,"question_id":61050432,"body_markdown":"### Answer:\r\n*As Service accounts are not part of your domain, they can not create calendars that they own with a `conferenceSolution` of `hangoutsMeet`.*\r\n\r\n### More Information:\r\nIt took me a little while to understand this but, as per the documentation for the [`Events` resource of the Calendar API](https://developers.google.com/calendar/v3/reference/events), the conference solution types are as follows:\r\n\r\n&gt; - `&quot;eventHangout&quot;`: for Hangouts for consumers (http://hangouts.google.com)\r\n&gt;\r\n&gt; - `&quot;eventNamedHangout&quot;`: for classic Hangouts ***for G Suite users*** (http://hangouts.google.com)\r\n&gt;\r\n&gt; - `&quot;hangoutsMeet&quot;`: for Hangouts Meet (http://meet.google.com)\r\n&gt;\r\n&gt; - `&quot;addOn&quot;`: for 3P conference providers\r\n\r\nAnd from the [Google Cloud Service Account documentation](https://cloud.google.com/iam/docs/service-accounts):\r\n\r\n&gt; Service accounts are **not** members of your G Suite domain, unlike user accounts. For example, if you share assets with all members in your G Suite domain, they will not be shared with service accounts. Similarly, any assets created by a service account cannot be owned or managed by G Suite admins.\r\n\r\nWhat you&#39;re experiencing is a result of this: a Service Account is not part of your domain, and therefore can not create a calendar ***for itself*** that has the `hangoutsMeet` value for the Conference Solution Type. \r\n\r\nIf you wish the Calendar to have this conference solution type, you must create the calendar such that it is owned by a member of your G Suite domain; that is to say, **have the service account create a calendar impersonating as a member of your G Suite domain.**\r\n\r\nThe reason you are getting the correct result from the `Try this API` feature of `Calendars: insert` is because the API call is being authorised as you - a G Suite domain user.\r\n\r\n### Building the Service Account credentials:\r\nWhen you&#39;re doing your authentication you need to set the user that you wish to impersonate before building:\r\n```lang-java\r\nGoogleCredential.Builder b = new GoogleCredential.Builder()\r\n .setTransport(httpTransport)\r\n .setJsonFactory(jacksonFactory)\r\n .setServiceAccountId(serviceAccountId)\r\n .setServiceAccountPrivateKey(yourPrivateKey)\r\n .setServiceAccountScopes(scopes)\r\n //the user whom you want to impersonate here:\r\n .setServiceAccountUser(email-to-impersonate);\r\n\r\ncredential = b.build();\r\n\r\nreturn credential;\r\n```\r\nOr with pk12 file:\r\n```lang-java\r\nGoogleCredential.Builder b = new GoogleCredential.Builder()\r\n .setTransport(httpTransport)\r\n .setJsonFactory(jsonFactory)\r\n .setServiceAccountId(serviceAccountId)\r\n .setServiceAccountPrivateKeyFromP12File(pk12)\r\n .setServiceAccountScopes(scopes)\r\n //the user whom you want to impersonate here:\r\n .setServiceAccountUser(email-to-impersonate);\r\n\r\ncredential = b.build();\r\n\r\nreturn credential;\r\n```\r\n\r\n\r\n### References:\r\n\r\n- [`Calendars: insert` | Google Calendar API | Google Developers](https://developers.google.com/calendar/v3/reference/calendars/insert)\r\n- [Events | Calendar API | Google Developers](https://developers.google.com/calendar/v3/reference/events)\r\n- [Understanding service accounts | Cloud IAM Documentation](https://cloud.google.com/iam/docs/understanding-service-accounts)\r\n- [Service accounts | Cloud IAM Documentation | Google Cloud](https://cloud.google.com/iam/docs/service-accounts)","title":"Can&#39;t create a hangoutsMeet with calendar API using Java","body":"<h3>Answer:</h3>\n<p><em>As Service accounts are not part of your domain, they can not create calendars that they own with a <code>conferenceSolution</code> of <code>hangoutsMeet</code>.</em></p>\n<h3>More Information:</h3>\n<p>It took me a little while to understand this but, as per the documentation for the <a href=\"https://developers.google.com/calendar/v3/reference/events\" rel=\"nofollow noreferrer\"><code>Events</code> resource of the Calendar API</a>, the conference solution types are as follows:</p>\n<blockquote>\n<ul>\n<li><p><code>&quot;eventHangout&quot;</code>: for Hangouts for consumers (<a href=\"http://hangouts.google.com\" rel=\"nofollow noreferrer\">http://hangouts.google.com</a>)</p>\n</li>\n<li><p><code>&quot;eventNamedHangout&quot;</code>: for classic Hangouts <em><strong>for G Suite users</strong></em> (<a href=\"http://hangouts.google.com\" rel=\"nofollow noreferrer\">http://hangouts.google.com</a>)</p>\n</li>\n<li><p><code>&quot;hangoutsMeet&quot;</code>: for Hangouts Meet (<a href=\"http://meet.google.com\" rel=\"nofollow noreferrer\">http://meet.google.com</a>)</p>\n</li>\n<li><p><code>&quot;addOn&quot;</code>: for 3P conference providers</p>\n</li>\n</ul>\n</blockquote>\n<p>And from the <a href=\"https://cloud.google.com/iam/docs/service-accounts\" rel=\"nofollow noreferrer\">Google Cloud Service Account documentation</a>:</p>\n<blockquote>\n<p>Service accounts are <strong>not</strong> members of your G Suite domain, unlike user accounts. For example, if you share assets with all members in your G Suite domain, they will not be shared with service accounts. Similarly, any assets created by a service account cannot be owned or managed by G Suite admins.</p>\n</blockquote>\n<p>What you're experiencing is a result of this: a Service Account is not part of your domain, and therefore can not create a calendar <em><strong>for itself</strong></em> that has the <code>hangoutsMeet</code> value for the Conference Solution Type.</p>\n<p>If you wish the Calendar to have this conference solution type, you must create the calendar such that it is owned by a member of your G Suite domain; that is to say, <strong>have the service account create a calendar impersonating as a member of your G Suite domain.</strong></p>\n<p>The reason you are getting the correct result from the <code>Try this API</code> feature of <code>Calendars: insert</code> is because the API call is being authorised as you - a G Suite domain user.</p>\n<h3>Building the Service Account credentials:</h3>\n<p>When you're doing your authentication you need to set the user that you wish to impersonate before building:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GoogleCredential.Builder b = new GoogleCredential.Builder()\n .setTransport(httpTransport)\n .setJsonFactory(jacksonFactory)\n .setServiceAccountId(serviceAccountId)\n .setServiceAccountPrivateKey(yourPrivateKey)\n .setServiceAccountScopes(scopes)\n //the user whom you want to impersonate here:\n .setServiceAccountUser(email-to-impersonate);\n\ncredential = b.build();\n\nreturn credential;\n</code></pre>\n<p>Or with pk12 file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GoogleCredential.Builder b = new GoogleCredential.Builder()\n .setTransport(httpTransport)\n .setJsonFactory(jsonFactory)\n .setServiceAccountId(serviceAccountId)\n .setServiceAccountPrivateKeyFromP12File(pk12)\n .setServiceAccountScopes(scopes)\n //the user whom you want to impersonate here:\n .setServiceAccountUser(email-to-impersonate);\n\ncredential = b.build();\n\nreturn credential;\n</code></pre>\n<h3>References:</h3>\n<ul>\n<li><a href=\"https://developers.google.com/calendar/v3/reference/calendars/insert\" rel=\"nofollow noreferrer\"><code>Calendars: insert</code> | Google Calendar API | Google Developers</a></li>\n<li><a href=\"https://developers.google.com/calendar/v3/reference/events\" rel=\"nofollow noreferrer\">Events | Calendar API | Google Developers</a></li>\n<li><a href=\"https://cloud.google.com/iam/docs/understanding-service-accounts\" rel=\"nofollow noreferrer\">Understanding service accounts | Cloud IAM Documentation</a></li>\n<li><a href=\"https://cloud.google.com/iam/docs/service-accounts\" rel=\"nofollow noreferrer\">Service accounts | Cloud IAM Documentation | Google Cloud</a></li>\n</ul>\n"}],"owner":{"account_id":18172018,"reputation":11,"user_id":13221493,"display_name":"Gustavo Lavatiatta"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636106189,"creation_date":1586126037,"question_id":61050432,"body_markdown":"here is the code.\r\n```\r\nprivate static Credential authorize() throws Exception {\r\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n    JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\r\n    InputStream in = ModuloCalendar.class.getResourceAsStream(&quot;quickstart-1585944958709-f0acf97c5fa8.json&quot;);  \r\n\t  \r\n    Collection&lt;String&gt; scopes  = CalendarScopes.all();\r\n\t  \r\n    GoogleCredential credential = GoogleCredential.fromStream(in).createScopes(scopes);\r\n    return credential;\r\n}\r\n```\r\n\r\n```\r\nCalendar entry = new Calendar();\r\nentry.setSummary(descripcion);\r\n\r\nConferenceProperties conferenceProperties=new ConferenceProperties();\r\n\r\nList&lt;String&gt; allowedConferenceSolutionTypes = new ArrayList&lt;String&gt;();\r\n\r\nallowedConferenceSolutionTypes.add(&quot;hangoutsMeet&quot;);\r\n\r\nconferenceProperties.setAllowedConferenceSolutionTypes(allowedConferenceSolutionTypes);\r\n\r\nentry.setConferenceProperties(conferenceProperties);\r\nView.display(entry);\r\n\r\nCalendar result = client.calendars().insert(entry).execute();\r\nView.display(result);\r\n```\r\n\r\nI have done steps on https://developers.google.com/identity/protocols/oauth2/service-account\r\n\r\nit create the calendar, but it&#39;s always return \r\n`&quot;allowedConferenceSolutionTypes&quot;:[&quot;eventHangout&quot;]`\r\n\r\nNot `hangoutsMeet`\r\n","title":"Can&#39;t create a hangoutsMeet with calendar API using Java","body":"<p>here is the code.</p>\n\n<pre><code>private static Credential authorize() throws Exception {\n    HttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n    JsonFactory jsonFactory = JacksonFactory.getDefaultInstance();\n    InputStream in = ModuloCalendar.class.getResourceAsStream(\"quickstart-1585944958709-f0acf97c5fa8.json\");  \n\n    Collection&lt;String&gt; scopes  = CalendarScopes.all();\n\n    GoogleCredential credential = GoogleCredential.fromStream(in).createScopes(scopes);\n    return credential;\n}\n</code></pre>\n\n<pre><code>Calendar entry = new Calendar();\nentry.setSummary(descripcion);\n\nConferenceProperties conferenceProperties=new ConferenceProperties();\n\nList&lt;String&gt; allowedConferenceSolutionTypes = new ArrayList&lt;String&gt;();\n\nallowedConferenceSolutionTypes.add(\"hangoutsMeet\");\n\nconferenceProperties.setAllowedConferenceSolutionTypes(allowedConferenceSolutionTypes);\n\nentry.setConferenceProperties(conferenceProperties);\nView.display(entry);\n\nCalendar result = client.calendars().insert(entry).execute();\nView.display(result);\n</code></pre>\n\n<p>I have done steps on <a href=\"https://developers.google.com/identity/protocols/oauth2/service-account\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/protocols/oauth2/service-account</a></p>\n\n<p>it create the calendar, but it's always return \n<code>\"allowedConferenceSolutionTypes\":[\"eventHangout\"]</code></p>\n\n<p>Not <code>hangoutsMeet</code></p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":1,"creation_date":1636041646,"post_id":69842144,"comment_id":123457315,"body_markdown":"How will you identify a client in your Spring app ? Do different clients use different URLs ?","body":"How will you identify a client in your Spring app ? Do different clients use different URLs ?"},{"owner":{"account_id":10572653,"reputation":81,"user_id":13094884,"display_name":"Kelvyn Cavalcante"},"score":1,"creation_date":1636041725,"post_id":69842144,"comment_id":123457350,"body_markdown":"Exactly, these are different URLs. Only 1 client needs to have all routes cleared, the rest will all use authentication.","body":"Exactly, these are different URLs. Only 1 client needs to have all routes cleared, the rest will all use authentication."},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636042411,"post_id":69842144,"comment_id":123457647,"body_markdown":"Its not ideal to do this from the point of view of security. Since if the &quot;secret&quot; URL gets lost, then someone will have unlimited access.","body":"Its not ideal to do this from the point of view of security. Since if the &quot;secret&quot; URL gets lost, then someone will have unlimited access."},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636042568,"post_id":69842144,"comment_id":123457716,"body_markdown":"Do you control the exposed endpoint URIs ? \nDo clients, maybe, have a constant IP that they will use ?","body":"Do you control the exposed endpoint URIs ?  Do clients, maybe, have a constant IP that they will use ?"},{"owner":{"account_id":10572653,"reputation":81,"user_id":13094884,"display_name":"Kelvyn Cavalcante"},"score":0,"creation_date":1636042752,"post_id":69842144,"comment_id":123457787,"body_markdown":"As for security, you can rest assured, it&#39;s for a sequence of tests.\n\nAnd yes, I have control of client IPs, there are only 2 and they are internal.","body":"As for security, you can rest assured, it&#39;s for a sequence of tests.  And yes, I have control of client IPs, there are only 2 and they are internal."},{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":0,"creation_date":1636042932,"post_id":69842144,"comment_id":123457884,"body_markdown":"I won&#39;t judge on the security of what you try to do. But in general when you want to trigger different security config that with a RequestMatcher.","body":"I won&#39;t judge on the security of what you try to do. But in general when you want to trigger different security config that with a RequestMatcher."},{"owner":{"account_id":10572653,"reputation":81,"user_id":13094884,"display_name":"Kelvyn Cavalcante"},"score":0,"creation_date":1636043815,"post_id":69842144,"comment_id":123458324,"body_markdown":"But by RequestMatcher I can only control end-points correct?\n\nI need to control the IP, example:\n`if(URL == &quot;clientA:8080&quot;)\n//allow all\nelse\n//Any other authentication needs to be authenticated.` \n\n@JEY","body":"But by RequestMatcher I can only control end-points correct?  I need to control the IP, example: <code>if(URL == &quot;clientA:8080&quot;) &#47;&#47;allow all else &#47;&#47;Any other authentication needs to be authenticated.</code>   @JEY"},{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":0,"creation_date":1636044852,"post_id":69842144,"comment_id":123458803,"body_markdown":"a RequestMatcher gives you the HttpServletRequest so you have access to the URI, the ip the remote ip etc...","body":"a RequestMatcher gives you the HttpServletRequest so you have access to the URI, the ip the remote ip etc..."},{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":0,"creation_date":1636045260,"post_id":69842144,"comment_id":123458941,"body_markdown":"you have two security config first one http.requestMatcher(r -&gt; r.getRequestURI().startsWith(&quot;http://clientA:8080&quot;)).authorizeRequests().anyRequest().permitAll() the second one http.authorizeRequests().anyRequest().authenticated(). You may use higher order for the first one.","body":"you have two security config first one http.requestMatcher(r -&gt; r.getRequestURI().startsWith(&quot;<a href=\"http://clientA:8080&quot;)).authorizeRequests().anyRequest().permitAll()\" rel=\"nofollow noreferrer\">clientA:8080&quot;)).authorizeReque&zwnj;&#8203;sts().anyRequest().p&zwnj;&#8203;ermitAll&hellip;</a> the second one http.authorizeRequests().anyRequest().authenticated(). You may use higher order for the first one."},{"owner":{"account_id":10572653,"reputation":81,"user_id":13094884,"display_name":"Kelvyn Cavalcante"},"score":0,"creation_date":1636045263,"post_id":69842144,"comment_id":123458942,"body_markdown":"Cool, I&#39;ll try to follow that line then. Then post the result.\n\nthank you very much for now","body":"Cool, I&#39;ll try to follow that line then. Then post the result.  thank you very much for now"},{"owner":{"account_id":10572653,"reputation":81,"user_id":13094884,"display_name":"Kelvyn Cavalcante"},"score":0,"creation_date":1636055560,"post_id":69842144,"comment_id":123462668,"body_markdown":"It didn&#39;t work, it only assumes 1 configuration for everything. :( @JEY","body":"It didn&#39;t work, it only assumes 1 configuration for everything. :( @JEY"}],"answers":[{"tags":[],"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636102641,"creation_date":1636102641,"answer_id":69850687,"question_id":69842144,"body_markdown":"I strongly advise against this kind of authentication that is not a strong authentication mechanism. However you can achieve like you would do for multiple auth. Basically you need multiple [WebSecurityConfigurerAdapter][1] with a [requestMatcher][2].\r\n\r\nHere is a quick sample (DON&#39;T DO IT):\r\n\r\nSecurity configurations\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfigurations {\r\n\r\n\r\n    @Configuration\r\n    @Order(1)\r\n    public static class NoAuth extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(final HttpSecurity http) throws Exception {\r\n            http.requestMatcher(r -&gt; r.getRequestURL().toString().startsWith(&quot;http://localhost:8081&quot;))\r\n                    .authorizeRequests()\r\n                    .anyRequest().permitAll();\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    @Order(2)\r\n    public static class Auth extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(final HttpSecurity http) throws Exception {\r\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n            final byte[] salt = &quot;random&quot;.getBytes(StandardCharsets.UTF_8);\r\n            KeySpec spec = new PBEKeySpec(&quot;password&quot;.toCharArray(), salt, 65536, 256);\r\n            SecretKey key = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\r\n            System.out.println(Base64.getEncoder().encodeToString(key.getEncoded()));\r\n\r\n            http.authorizeRequests()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .oauth2ResourceServer()\r\n                    .jwt()\r\n                    .decoder(NimbusJwtDecoder.withSecretKey(key).build());\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nApplication configuration:\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public ServletWebServerFactory serverContainer() {\r\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\r\n        tomcat.addAdditionalTomcatConnectors(createConnector());\r\n        return tomcat;\r\n    }\r\n\r\n    private Connector createConnector() {\r\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n        connector.setPort(8081);\r\n        connector.setScheme(&quot;http&quot;);\r\n        connector.setSecure(false);\r\n        return connector;\r\n    }\r\n\r\n}\r\n```\r\nController\r\n\r\n```java\r\n@RestController\r\npublic class HealthApi {\r\n\r\n    @GetMapping(&quot;/health&quot;)\r\n    public String health() {\r\n        return &quot;healthy&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can test it with curl:\r\n\r\n    curl -v localhost:8081/health\r\n200 OK healthy\r\n\r\n    curl -v localhost:8080/health\r\n401\r\n\r\n    curl -v -H &quot;Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.LUn3qZESwtUIbXrD3WSd3CNEOTwbKV9x2IahoLUCyAs&quot; localhost:8080/health\r\n\r\n200 OK healthy\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/WebSecurityConfigurerAdapter.html\r\n  [2]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#requestMatcher(org.springframework.security.web.util.matcher.RequestMatcher)","title":"Enable Spring Security authentication depending on client URL","body":"<p>I strongly advise against this kind of authentication that is not a strong authentication mechanism. However you can achieve like you would do for multiple auth. Basically you need multiple <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/configuration/WebSecurityConfigurerAdapter.html\" rel=\"nofollow noreferrer\">WebSecurityConfigurerAdapter</a> with a <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#requestMatcher(org.springframework.security.web.util.matcher.RequestMatcher)\" rel=\"nofollow noreferrer\">requestMatcher</a>.</p>\n<p>Here is a quick sample (DON'T DO IT):</p>\n<p>Security configurations</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfigurations {\n\n\n    @Configuration\n    @Order(1)\n    public static class NoAuth extends WebSecurityConfigurerAdapter {\n        @Override\n        protected void configure(final HttpSecurity http) throws Exception {\n            http.requestMatcher(r -&gt; r.getRequestURL().toString().startsWith(&quot;http://localhost:8081&quot;))\n                    .authorizeRequests()\n                    .anyRequest().permitAll();\n        }\n    }\n\n    @Configuration\n    @Order(2)\n    public static class Auth extends WebSecurityConfigurerAdapter {\n        @Override\n        protected void configure(final HttpSecurity http) throws Exception {\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n            final byte[] salt = &quot;random&quot;.getBytes(StandardCharsets.UTF_8);\n            KeySpec spec = new PBEKeySpec(&quot;password&quot;.toCharArray(), salt, 65536, 256);\n            SecretKey key = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\n            System.out.println(Base64.getEncoder().encodeToString(key.getEncoded()));\n\n            http.authorizeRequests()\n                    .anyRequest().authenticated()\n                    .and()\n                    .oauth2ResourceServer()\n                    .jwt()\n                    .decoder(NimbusJwtDecoder.withSecretKey(key).build());\n        }\n    }\n\n}\n</code></pre>\n<p>Application configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Bean\n    public ServletWebServerFactory serverContainer() {\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\n        tomcat.addAdditionalTomcatConnectors(createConnector());\n        return tomcat;\n    }\n\n    private Connector createConnector() {\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n        connector.setPort(8081);\n        connector.setScheme(&quot;http&quot;);\n        connector.setSecure(false);\n        return connector;\n    }\n\n}\n</code></pre>\n<p>Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class HealthApi {\n\n    @GetMapping(&quot;/health&quot;)\n    public String health() {\n        return &quot;healthy&quot;;\n    }\n\n}\n</code></pre>\n<p>You can test it with curl:</p>\n<pre><code>curl -v localhost:8081/health\n</code></pre>\n<p>200 OK healthy</p>\n<pre><code>curl -v localhost:8080/health\n</code></pre>\n<p>401</p>\n<pre><code>curl -v -H &quot;Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.LUn3qZESwtUIbXrD3WSd3CNEOTwbKV9x2IahoLUCyAs&quot; localhost:8080/health\n</code></pre>\n<p>200 OK healthy</p>\n"}],"owner":{"account_id":10572653,"reputation":81,"user_id":13094884,"display_name":"Kelvyn Cavalcante"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69850687,"answer_count":1,"score":-1,"last_activity_date":1636106178,"creation_date":1636041341,"question_id":69842144,"body_markdown":"I have an application made with Spring that uses JWT authentication.\r\n\r\nI would like to know if you have the possibility to release a route depending on which client is accessing my back end, for example:\r\n\r\n- `clientA:8080` - has `/health` route allowed without authentication\r\n- `clientB:8081` - has `/health` route not allowed without JWT authentication.\r\n\r\nI had tried something like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n    http.authorizeRequests().antMatchers(&quot;http://clientA/health&quot;).permitAll()\r\n\r\nbut it didn&#39;t work.","title":"Enable Spring Security authentication depending on client URL","body":"<p>I have an application made with Spring that uses JWT authentication.</p>\n<p>I would like to know if you have the possibility to release a route depending on which client is accessing my back end, for example:</p>\n<ul>\n<li><code>clientA:8080</code> - has <code>/health</code> route allowed without authentication</li>\n<li><code>clientB:8081</code> - has <code>/health</code> route not allowed without JWT authentication.</li>\n</ul>\n<p>I had tried something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.authorizeRequests().antMatchers(&quot;http://clientA/health&quot;).permitAll()\n</code></pre>\n<p>but it didn't work.</p>\n"},{"tags":["java","file","visual-studio-code","command-line","directory"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636104962,"creation_date":1636104962,"answer_id":69851149,"question_id":69850691,"body_markdown":"Avoid naming classname as `Main`, and use `quick fix` to import instead of manually adding import sentence. You should get right result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oDsPQ.png","title":"How to use multiple java file, each file in each folder?","body":"<p>Avoid naming classname as <code>Main</code>, and use <code>quick fix</code> to import instead of manually adding import sentence. You should get right result:</p>\n<p><a href=\"https://i.stack.imgur.com/oDsPQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oDsPQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636106121,"creation_date":1636106121,"answer_id":69851402,"question_id":69850691,"body_markdown":"Even if you overcome this issue, you are sure to encounter another after having a big project.\r\n\r\nUse an IDE (Integrated Development Environment). It will take care of many things for you and you don&#39;t have to worry about linking/building problems. Through IDEs, you focus on developing and not on the background of compiling and class files.\r\n\r\nThere are so many good ones out there\r\n\r\n 1. [Eclipse][1]\r\n 2. [IntelliJ][2]\r\n 3. [NetBeans][3]\r\n\r\n\r\n  [1]: https://www.eclipse.org/eclipseide/\r\n  [2]: https://www.jetbrains.com/idea/\r\n  [3]: https://netbeans.apache.org/","title":"How to use multiple java file, each file in each folder?","body":"<p>Even if you overcome this issue, you are sure to encounter another after having a big project.</p>\n<p>Use an IDE (Integrated Development Environment). It will take care of many things for you and you don't have to worry about linking/building problems. Through IDEs, you focus on developing and not on the background of compiling and class files.</p>\n<p>There are so many good ones out there</p>\n<ol>\n<li><a href=\"https://www.eclipse.org/eclipseide/\" rel=\"nofollow noreferrer\">Eclipse</a></li>\n<li><a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow noreferrer\">IntelliJ</a></li>\n<li><a href=\"https://netbeans.apache.org/\" rel=\"nofollow noreferrer\">NetBeans</a></li>\n</ol>\n"}],"owner":{"account_id":17987057,"reputation":53,"user_id":13072093,"display_name":"Đăng Kh&#244;i"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69851402,"answer_count":2,"score":0,"last_activity_date":1636106121,"creation_date":1636102668,"question_id":69850691,"body_markdown":"I am new in java and I coding on vscode. I create 2 .java file like picture below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd these are each file:\r\n\r\nmain.java:\r\n\r\n    package program;\r\n    import sth.another_one;\r\n\r\n    public class main{\r\n\r\n        public static void main(String args[]){\r\n             another_one a = new another_one();\r\n             a.func();\r\n            System.out.println(&quot;main&quot;);\r\n       }\r\n    }\r\n\r\nAnd this is \r\n\r\nanother_one.java:\r\n\r\n    package sth;\r\n\r\n    public class another_one{\r\n        public void func(){\r\n            System.out.println(&quot;From another one&quot;);\r\n        }\r\n    }\r\n\r\n\r\nWhen I put both of them the same folder it run normally, but if I separate them like this and run on cmd -&gt; it return like this:[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5Oz4Q.png\r\n  [2]: https://i.stack.imgur.com/q56ox.png\r\n\r\n\r\nI try all command like:\r\n\r\n&gt; javac -cp &quot;.;C:\\Users\\Admin\\Desktop\\test\\java\\sth&quot; main.java\r\n\r\n&gt; javac main.java\r\n\r\n&gt; javac -classpath main.java\r\n\r\nI don&#39;t know why it did worked, please help me solve this.\r\n\r\n\r\n\r\n","title":"How to use multiple java file, each file in each folder?","body":"<p>I am new in java and I coding on vscode. I create 2 .java file like picture below:</p>\n<p><a href=\"https://i.stack.imgur.com/5Oz4Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Oz4Q.png\" alt=\"enter image description here\" /></a></p>\n<p>And these are each file:</p>\n<p>main.java:</p>\n<pre><code>package program;\nimport sth.another_one;\n\npublic class main{\n\n    public static void main(String args[]){\n         another_one a = new another_one();\n         a.func();\n        System.out.println(&quot;main&quot;);\n   }\n}\n</code></pre>\n<p>And this is</p>\n<p>another_one.java:</p>\n<pre><code>package sth;\n\npublic class another_one{\n    public void func(){\n        System.out.println(&quot;From another one&quot;);\n    }\n}\n</code></pre>\n<p>When I put both of them the same folder it run normally, but if I separate them like this and run on cmd -&gt; it return like this:<a href=\"https://i.stack.imgur.com/q56ox.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q56ox.png\" alt=\"enter image description here\" /></a></p>\n<p>I try all command like:</p>\n<blockquote>\n<p>javac -cp &quot;.;C:\\Users\\Admin\\Desktop\\test\\java\\sth&quot; main.java</p>\n</blockquote>\n<blockquote>\n<p>javac main.java</p>\n</blockquote>\n<blockquote>\n<p>javac -classpath main.java</p>\n</blockquote>\n<p>I don't know why it did worked, please help me solve this.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":20450406,"reputation":1339,"user_id":15005298,"display_name":"Yaqoob Bhatti"},"score":0,"creation_date":1636088367,"post_id":69848761,"comment_id":123469014,"body_markdown":"You should use ViewModel which is designed to hold and manage UI-related data in a lifecycle-conscious way. This allows data to survive configuration changes such as screen rotations.","body":"You should use ViewModel which is designed to hold and manage UI-related data in a lifecycle-conscious way. This allows data to survive configuration changes such as screen rotations."},{"owner":{"account_id":20450406,"reputation":1339,"user_id":15005298,"display_name":"Yaqoob Bhatti"},"score":0,"creation_date":1636088378,"post_id":69848761,"comment_id":123469016,"body_markdown":"https://developer.android.com/reference/android/arch/lifecycle/ViewModel","body":"<a href=\"https://developer.android.com/reference/android/arch/lifecycle/ViewModel\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/arch/lifecycle/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18625058,"reputation":16,"user_id":13574600,"display_name":"Gunther"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636106106,"creation_date":1636096310,"answer_id":69849682,"question_id":69848761,"body_markdown":"Store the data in a Viewmodel and observe it from the UI. The stored data is not lost if the framework destroys and re-creates the activities and fragments during a configuration change or other events.\r\n\r\nhttps://developer.android.com/topic/libraries/architecture/viewmodel?hl=en\r\n\r\nCreate class that extends ViewModel and store your variable in it as LiveData like in this example:\r\n```\r\npublic class MyViewModel extends ViewModel {\r\n    private MutableLiveData&lt;List&lt;User&gt;&gt; users;\r\n    public LiveData&lt;List&lt;User&gt;&gt; getUsers() {\r\n        if (users == null) {\r\n            users = new MutableLiveData&lt;List&lt;User&gt;&gt;();\r\n            loadUsers();\r\n        }\r\n        return users;\r\n    }\r\n\r\n    private void loadUsers() {\r\n        // Do an asynchronous operation to fetch users.\r\n    }\r\n}\r\n```\r\nThen you can access the viewmodel from the activity and fragments like this.\r\n```\r\npublic class MyActivity extends AppCompatActivity {\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        // Create a ViewModel the first time the system calls an activity&#39;s onCreate() method.\r\n        // Re-created activities receive the same MyViewModel instance created by the first activity.\r\n\r\n        MyViewModel model = new ViewModelProvider(this).get(MyViewModel.class);\r\n        model.getUsers().observe(this, users -&gt; {\r\n            // update UI\r\n        });\r\n    }\r\n```\r\nFor further details check the documentation on the link above.","title":"how to store the state of fragment with navigation bottom menu","body":"<p>Store the data in a Viewmodel and observe it from the UI. The stored data is not lost if the framework destroys and re-creates the activities and fragments during a configuration change or other events.</p>\n<p><a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel?hl=en\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/viewmodel?hl=en</a></p>\n<p>Create class that extends ViewModel and store your variable in it as LiveData like in this example:</p>\n<pre><code>public class MyViewModel extends ViewModel {\n    private MutableLiveData&lt;List&lt;User&gt;&gt; users;\n    public LiveData&lt;List&lt;User&gt;&gt; getUsers() {\n        if (users == null) {\n            users = new MutableLiveData&lt;List&lt;User&gt;&gt;();\n            loadUsers();\n        }\n        return users;\n    }\n\n    private void loadUsers() {\n        // Do an asynchronous operation to fetch users.\n    }\n}\n</code></pre>\n<p>Then you can access the viewmodel from the activity and fragments like this.</p>\n<pre><code>public class MyActivity extends AppCompatActivity {\n    public void onCreate(Bundle savedInstanceState) {\n        // Create a ViewModel the first time the system calls an activity's onCreate() method.\n        // Re-created activities receive the same MyViewModel instance created by the first activity.\n\n        MyViewModel model = new ViewModelProvider(this).get(MyViewModel.class);\n        model.getUsers().observe(this, users -&gt; {\n            // update UI\n        });\n    }\n</code></pre>\n<p>For further details check the documentation on the link above.</p>\n"}],"owner":{"account_id":13548110,"reputation":3,"user_id":9773765,"display_name":"G.C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69849682,"answer_count":1,"score":0,"last_activity_date":1636106106,"creation_date":1636087361,"question_id":69848761,"body_markdown":"I&#39;m trying to store the value of my fragments components inside an activity with lower navigation menu, controlled by navController.\r\nMy problem is that when I change one fragment to another (onPause) with the bottom navigation, or rotate the screen, all my data in the component layout is lost.\r\nis there a solution to solve this problem?","title":"how to store the state of fragment with navigation bottom menu","body":"<p>I'm trying to store the value of my fragments components inside an activity with lower navigation menu, controlled by navController.\nMy problem is that when I change one fragment to another (onPause) with the bottom navigation, or rotate the screen, all my data in the component layout is lost.\nis there a solution to solve this problem?</p>\n"},{"tags":["java","sql","database","postgresql","jpa"],"answers":[{"tags":[],"owner":{"account_id":2628954,"reputation":18718,"user_id":2275388,"display_name":"Jim Jones"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636029645,"creation_date":1636027524,"answer_id":69838972,"question_id":69838836,"body_markdown":"In PostgreSQL use `string_to_array(mycolumn,&#39;,&#39;)` in the `WHERE` clause with the containment operator `&lt;@`, e.g.\r\n\r\n    SELECT * FROM t\r\n    WHERE string_to_array(mycolumn,&#39;,&#39;) &lt;@ ARRAY[&#39;A&#39;,&#39;B&#39;,&#39;C&#39;]\r\n\r\nKeep in mind that you have to create an index that correspond to this condition, in case you&#39;re dealing with a large table, e.g. a `GIN` index.\r\n\r\n    CREATE INDEX idx_t_mycolumn_gin ON t USING gin (string_to_array(mycolumn,&#39;,&#39;));\r\n\r\n \r\n\r\nDemo: [`db&lt;&gt;fiddle`][1]\r\n\r\n\r\n  [1]: https://dbfiddle.uk/?rdbms=postgres_13&amp;fiddle=14fb68942cdcc65102e5ea2104592643\r\n","title":"sql, javax.persistence.criteria: check a database table column with comma separated string values against a list of strings","body":"<p>In PostgreSQL use <code>string_to_array(mycolumn,',')</code> in the <code>WHERE</code> clause with the containment operator <code>&lt;@</code>, e.g.</p>\n<pre><code>SELECT * FROM t\nWHERE string_to_array(mycolumn,',') &lt;@ ARRAY['A','B','C']\n</code></pre>\n<p>Keep in mind that you have to create an index that correspond to this condition, in case you're dealing with a large table, e.g. a <code>GIN</code> index.</p>\n<pre><code>CREATE INDEX idx_t_mycolumn_gin ON t USING gin (string_to_array(mycolumn,','));\n</code></pre>\n<p>Demo: <a href=\"https://dbfiddle.uk/?rdbms=postgres_13&amp;fiddle=14fb68942cdcc65102e5ea2104592643\" rel=\"nofollow noreferrer\"><code>db&lt;&gt;fiddle</code></a></p>\n"}],"owner":{"account_id":22979559,"reputation":53,"user_id":17106708,"display_name":"Ann-Christin Lindras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69838972,"answer_count":1,"score":3,"last_activity_date":1636106036,"creation_date":1636026866,"question_id":69838836,"body_markdown":"I have a database table column with comma separated string values like this:\r\n```\r\nid mycolumn\r\n-- --------\r\n1  A\r\n2  A, B\r\n3  A, B, C\r\n```\r\n\r\nI can&#39;t change this, because it&#39;s an old customizer database.\r\n\r\nI want to check `mycolumn` against a list of strings:\r\n\r\nfirst query against the list **[&#39;A&#39;]** should be return the record **1**\r\n\r\nsecond query against the list **[&#39;A&#39;,&#39;B&#39;]** should be return records **1,2**\r\n\r\nthird query against the list **[&#39;A&#39;,&#39;B&#39;,&#39;C&#39;]** should be return records **1,2,3**\r\n\r\n\r\nI need a sql (postgres) statement and further a java implementation with `javax.persistence.criteria.CriteriaBuilder` and `javax.persistence.criteria.Predicate`.\r\n\r\nThank you very much for your hints, Ann\r\n\r\n\r\n**edit:**\r\nHere my solution for the javax.persitence part:\r\n```\r\npublic static void arrayContains(final CriteriaBuilder cb, final List&lt;Predicate&gt; where,\r\n\t\t\tfinal Expression&lt;String&gt; expression, final String values) {\r\n\t\tExpression&lt;String&gt; expressionValues = cb.function(&quot;string_to_array&quot;, String.class, cb.literal(values), cb.literal(&quot;, &quot;));\r\n\t\tExpression&lt;String&gt; expressionDb = cb.function(&quot;string_to_array&quot;, String.class, expression, cb.literal(&quot;, &quot;));\r\n\t\twhere.add(cb.isTrue(cb.function(&quot;arraycontains&quot;, Boolean.class, expressionValues, expressionDb)));\r\n\t}\r\n```","title":"sql, javax.persistence.criteria: check a database table column with comma separated string values against a list of strings","body":"<p>I have a database table column with comma separated string values like this:</p>\n<pre><code>id mycolumn\n-- --------\n1  A\n2  A, B\n3  A, B, C\n</code></pre>\n<p>I can't change this, because it's an old customizer database.</p>\n<p>I want to check <code>mycolumn</code> against a list of strings:</p>\n<p>first query against the list <strong>['A']</strong> should be return the record <strong>1</strong></p>\n<p>second query against the list <strong>['A','B']</strong> should be return records <strong>1,2</strong></p>\n<p>third query against the list <strong>['A','B','C']</strong> should be return records <strong>1,2,3</strong></p>\n<p>I need a sql (postgres) statement and further a java implementation with <code>javax.persistence.criteria.CriteriaBuilder</code> and <code>javax.persistence.criteria.Predicate</code>.</p>\n<p>Thank you very much for your hints, Ann</p>\n<p><strong>edit:</strong>\nHere my solution for the javax.persitence part:</p>\n<pre><code>public static void arrayContains(final CriteriaBuilder cb, final List&lt;Predicate&gt; where,\n            final Expression&lt;String&gt; expression, final String values) {\n        Expression&lt;String&gt; expressionValues = cb.function(&quot;string_to_array&quot;, String.class, cb.literal(values), cb.literal(&quot;, &quot;));\n        Expression&lt;String&gt; expressionDb = cb.function(&quot;string_to_array&quot;, String.class, expression, cb.literal(&quot;, &quot;));\n        where.add(cb.isTrue(cb.function(&quot;arraycontains&quot;, Boolean.class, expressionValues, expressionDb)));\n    }\n</code></pre>\n"},{"tags":["java","docker","redhat","amq","maven-jib"],"comments":[{"owner":{"account_id":948320,"reputation":5144,"user_id":975074,"accept_rate":40,"display_name":"suztomo"},"score":0,"creation_date":1636040091,"post_id":69838144,"comment_id":123456600,"body_markdown":"Can I assume your company&#39;s JDK is installed in a different directory than the one in registry.access.redhat.com/jboss-amq-6/amq63-openshift? I&#39;m not familiar with RedHat AMQ. Would you share the URL of its Dockerfile?","body":"Can I assume your company&#39;s JDK is installed in a different directory than the one in registry.access.redhat.com/jboss-amq-6/amq63-openshift? I&#39;m not familiar with RedHat AMQ. Would you share the URL of its Dockerfile?"},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1636050118,"post_id":69838144,"comment_id":123460743,"body_markdown":"The thing is, there is some script to upgrade the base image of RedHat AMQ image to 6.3, by downloading this Openshift template file and do things to it: https://raw.githubusercontent.com/jboss-openshift/application-templates/master/amq/amq63-persistent.json  this file uses v 1.4.17(what version is this???), and team claim that if this file does not upgrade to higher version, we cannot do anything about it(already being the latest). I see latest of registry.access.redhat.com/jboss-amq-6/amq63-openshift(1.4-44.1634742282) already has java 1.8.0_312, but don&#39;t understand the relationship between","body":"The thing is, there is some script to upgrade the base image of RedHat AMQ image to 6.3, by downloading this Openshift template file and do things to it: <a href=\"https://raw.githubusercontent.com/jboss-openshift/application-templates/master/amq/amq63-persistent.json\" rel=\"nofollow noreferrer\">raw.githubusercontent.com/jboss-openshift/application-templa&zwnj;&#8203;tes/&hellip;</a>  this file uses v 1.4.17(what version is this???), and team claim that if this file does not upgrade to higher version, we cannot do anything about it(already being the latest). I see latest of registry.access.redhat.com/jboss-amq-6/amq63-openshift(1.4-4&zwnj;&#8203;4.1634742282) already has java 1.8.0_312, but don&#39;t understand the relationship between"},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1636050355,"post_id":69838144,"comment_id":123460827,"body_markdown":"Personally I don&#39;t think the 1.4.17 IS the 1.4-17 of amq63-openshift, as there is no version 1.4-17 [here](https://catalog.redhat.com/software/containers/jboss-amq-6/amq63-openshift/595de0f4e69ceb159b35a49e). I don&#39;t know how to interpret Openshift template file.","body":"Personally I don&#39;t think the 1.4.17 IS the 1.4-17 of amq63-openshift, as there is no version 1.4-17 <a href=\"https://catalog.redhat.com/software/containers/jboss-amq-6/amq63-openshift/595de0f4e69ceb159b35a49e\" rel=\"nofollow noreferrer\">here</a>. I don&#39;t know how to interpret Openshift template file."},{"owner":{"account_id":948320,"reputation":5144,"user_id":975074,"accept_rate":40,"display_name":"suztomo"},"score":0,"creation_date":1636145376,"post_id":69838144,"comment_id":123487860,"body_markdown":"I&#39;m not familiar with the JSON file &quot;amq63-persistent.json&quot;. I was expecting there&#39;s some a startup script that run &quot;java ...&quot; and you just override the JDK location.\n\nDo you specify &quot;container.entrypoint&quot; variable? (reference: https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin#extended-usage)","body":"I&#39;m not familiar with the JSON file &quot;amq63-persistent.json&quot;. I was expecting there&#39;s some a startup script that run &quot;java ...&quot; and you just override the JDK location.  Do you specify &quot;container.entrypoint&quot; variable? (reference: <a href=\"https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin#extended-usage\" rel=\"nofollow noreferrer\">github.com/GoogleContainerTools/jib/tree/master/&hellip;</a>)"},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1636358061,"post_id":69838144,"comment_id":123525201,"body_markdown":"Thanks for helping. Found some ways through a premade script; basically the script will find the latest version at https://registry.access.redhat.com/v2/jboss-amq-6/amq63-openshift/tags/list, pull it, tag and upload to our internal repo as a base; the application is based on this internal base, and when it&#39;s with Java 1.8.0_312, the app is fine. So it&#39;s basically solved.","body":"Thanks for helping. Found some ways through a premade script; basically the script will find the latest version at <a href=\"https://registry.access.redhat.com/v2/jboss-amq-6/amq63-openshift/tags/list\" rel=\"nofollow noreferrer\">registry.access.redhat.com/v2/jboss-amq-6/amq63-openshift/ta&zwnj;&#8203;gs/&hellip;</a>, pull it, tag and upload to our internal repo as a base; the application is based on this internal base, and when it&#39;s with Java 1.8.0_312, the app is fine. So it&#39;s basically solved."}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636105825,"creation_date":1636023499,"question_id":69838144,"body_markdown":"We are using base image of RedHat AMQ `registry.access.redhat.com/jboss-amq-6/amq63-openshift` which is a public base we cannot change. We use that image in jib maven plugin and did some changes to create an app. \r\n\r\nHowever, the security department requires an update to the JDK it uses. We have another image with these fixes included, let&#39;s say `company.com/java-with-fix`. \r\n\r\nHow to make my RedHat AMQ based APP to use that company JDK base image, and in Jib?\r\n\r\n","title":"How to replace the base Java image in public base image with customized version","body":"<p>We are using base image of RedHat AMQ <code>registry.access.redhat.com/jboss-amq-6/amq63-openshift</code> which is a public base we cannot change. We use that image in jib maven plugin and did some changes to create an app.</p>\n<p>However, the security department requires an update to the JDK it uses. We have another image with these fixes included, let's say <code>company.com/java-with-fix</code>.</p>\n<p>How to make my RedHat AMQ based APP to use that company JDK base image, and in Jib?</p>\n"},{"tags":["java","c","crc16"],"comments":[{"owner":{"account_id":285695,"reputation":198878,"user_id":584518,"accept_rate":96,"display_name":"Lundin"},"score":0,"creation_date":1636102468,"post_id":69850602,"comment_id":123472156,"body_markdown":"You might want to fix the code formatting if you want someone to read the question. Also why is the C code written in 1980s archaic dinosaur style? Where did you get this code from? It&#39;s unlikely a trustworthy source.","body":"You might want to fix the code formatting if you want someone to read the question. Also why is the C code written in 1980s archaic dinosaur style? Where did you get this code from? It&#39;s unlikely a trustworthy source."},{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1636102673,"post_id":69850602,"comment_id":123472213,"body_markdown":"The original code seems to be missing some semi-colons. Does it compile at all? I&#39;m not very familiar with the old K&amp;R style of C. But if I remember correctly, semicolons have never been optional. And please fix the indentation. It will make so much more likely that you get help.","body":"The original code seems to be missing some semi-colons. Does it compile at all? I&#39;m not very familiar with the old K&amp;R style of C. But if I remember correctly, semicolons have never been optional. And please fix the indentation. It will make so much more likely that you get help."},{"owner":{"account_id":285695,"reputation":198878,"user_id":584518,"accept_rate":96,"display_name":"Lundin"},"score":0,"creation_date":1636102847,"post_id":69850602,"comment_id":123472274,"body_markdown":"Yeah. Upon closer inspection the C code is complete slop. It&#39;s pseudo-code at best. Also, whoever wrote it didn&#39;t grasp endianess. It&#39;s just broken code, you can&#39;t build anything based on it.","body":"Yeah. Upon closer inspection the C code is complete slop. It&#39;s pseudo-code at best. Also, whoever wrote it didn&#39;t grasp endianess. It&#39;s just broken code, you can&#39;t build anything based on it."},{"owner":{"account_id":19095349,"reputation":3041,"user_id":13944750,"display_name":"Ptit Xav"},"score":0,"creation_date":1636103718,"post_id":69850602,"comment_id":123472575,"body_markdown":"It seems you missed quite lot of &quot;&lt;&lt;&quot; and &quot;&gt;&gt;&#160;&#187; operation in your code translation. Those are means to set some bits to 0 inside r1 byte number.","body":"It seems you missed quite lot of &quot;&lt;&lt;&quot; and &quot;&gt;&gt; &#187; operation in your code translation. Those are means to set some bits to 0 inside r1 byte number."}],"answers":[{"tags":[],"owner":{"account_id":11901543,"reputation":2366,"user_id":8709389,"accept_rate":14,"display_name":"zhh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636105067,"creation_date":1636104672,"answer_id":69851083,"question_id":69850602,"body_markdown":"There&#39;s nothing wrong with your translation. It&#39;s because you didn&#39;t pass the correct &quot;two bytes and hexadecimal form&quot; parameter. Change `buffer` to\r\n\r\n```\r\nbyte[] buffer = {0x10, 0x53, 0x02, 0x37 };\r\n```\r\n\r\nBTW, [this](https://stackoverflow.com/questions/140131/convert-a-string-representation-of-a-hex-dump-to-a-byte-array-using-java) may help you deal with the string input.","title":"Converting C to Java for [CRC16 /IBM-SDLC ]","body":"<p>There's nothing wrong with your translation. It's because you didn't pass the correct &quot;two bytes and hexadecimal form&quot; parameter. Change <code>buffer</code> to</p>\n<pre><code>byte[] buffer = {0x10, 0x53, 0x02, 0x37 };\n</code></pre>\n<p>BTW, <a href=\"https://stackoverflow.com/questions/140131/convert-a-string-representation-of-a-hex-dump-to-a-byte-array-using-java\">this</a> may help you deal with the string input.</p>\n"}],"owner":{"account_id":8250059,"reputation":197,"user_id":6205017,"accept_rate":20,"display_name":"siva"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1636105067,"creation_date":1636102189,"question_id":69850602,"body_markdown":"This example program is written in C language. It is used to generate a 16-bit FCS number based on CRC-16/IBM-SDLC. I&#39;m trying to write the same in JAVA. Can someone help me with this or provide some idea on this? I don&#39;t know the C language.\r\n\r\nExample I/O from C language:\r\nKey:10530237\r\n16-Bit FCS Number: 9588\r\nThe I/O is two bytes and hexadecimal form.\r\n\r\n|Input\t| Output |\r\n|:-----:|:------:|\r\n| 1234\t| DEC1   |\r\n| 1111\t| 8206   |\r\n| 4143\t| 2066   |\r\n\r\n \r\n \r\n\r\n \r\n\t\r\n\r\n\r\n  \r\n\r\n    C language code:\r\n    unsigned short crcgen (data, length)\r\n        char *data;\t/* address of the key */ \r\n        int length;\t/* key length\t*/\r\n    {\r\n        unsigned char crcbytel, crcbyte2, r1; \r\n        char *ptr;\r\n        int i;\r\n        union byte_to_word\r\n        {\r\n            char bytes[2]; \r\n            unsigned short\tret;\r\n        } return_val;\r\n        ptr = data; \r\n        crcbyte1 = 0xFF \r\n        crcbyte2 = 0xFF\r\n        for (i=0; i&lt;length; i++)\r\n        {\r\n            r1 = *ptr++ ^ crcbyte2; \r\n            r1 = (r1 &lt;&lt; 4) ^ r1;\r\n            crcbyte2 = (r1 &lt;&lt; 4) | (r1 &gt;&gt; 4); \r\n            crcbyte2 = (crcbyte2 &amp; 0x0F ) ^ crcbyte1; \r\n            crcbyte1 = r1;\r\n            r1 = (r1 &lt;&lt; 3) | (r1 &gt;&gt; 5);\r\n            crcbyte2 = crcbyte2 ^ (r1 &amp; 0xF8);\r\n             \r\n            crcbyte1 = crcbyte1 ^ (r1 &amp; 0x07);\r\n        }\r\n            \r\n        return_val.bytes[0] = ˜crcbyte2; \r\n        return_val.bytes[1] = ˜crcbyte1; \r\n        return(return_val.ret);\r\n    }\r\n\r\n\r\nI have looked at some answers but it did not help and not able to get that output. \r\nhttps://stackoverflow.com/questions/13209364/convert-c-crc16-to-java-crc16\r\nand https://www.source-code.biz/snippets/java/crc16/\r\n\r\nThe Code that I tried:\r\n\r\n      private static final int POLYNOMIAL   = 0x8408;\r\n    private static final int PRESET_VALUE = 0xFFFF;\r\n    public static void main(String[] args) throws IOException {\r\n        // FileRead.read();\r\n        int crc = 0xFFFF;          // initial value\r\n        int polynomial = 0x1021;   // 0001 0000 0010 0001  (0, 5, 12)\r\n\r\n        // byte[] testBytes = &quot;123456789&quot;.getBytes(&quot;ASCII&quot;);\r\n\r\n        byte[] buffer = &quot;10530237&quot;.getBytes(&quot;ASCII&quot;);\r\n\r\n        System.out.println(FileRead.crc16(buffer));\r\n    }\r\n\r\n    public static int crc16(byte[] data)\r\n    {\r\n        int current_crc_value = PRESET_VALUE;\r\n        for (int i = 0; i &lt; data.length; i++ )\r\n        {\r\n            current_crc_value ^= data[i] &amp; 0xFF;\r\n            for (int j = 0; j &lt; 8; j++)\r\n            {\r\n                if ((current_crc_value &amp; 1) != 0)\r\n                {\r\n                    current_crc_value = (current_crc_value &gt;&gt;&gt; 1) ^ POLYNOMIAL;\r\n                }\r\n                else\r\n                {\r\n                    current_crc_value = current_crc_value &gt;&gt;&gt; 1;\r\n                }\r\n            }\r\n        }\r\n        current_crc_value = ~current_crc_value;\r\n\r\n        return current_crc_value &amp; 0xFFFF;\r\n    }\r\n\r\nIt returns 34134 instead of 9588.","title":"Converting C to Java for [CRC16 /IBM-SDLC ]","body":"<p>This example program is written in C language. It is used to generate a 16-bit FCS number based on CRC-16/IBM-SDLC. I'm trying to write the same in JAVA. Can someone help me with this or provide some idea on this? I don't know the C language.</p>\n<p>Example I/O from C language:\nKey:10530237\n16-Bit FCS Number: 9588\nThe I/O is two bytes and hexadecimal form.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Input</th>\n<th style=\"text-align: center;\">Output</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">1234</td>\n<td style=\"text-align: center;\">DEC1</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">1111</td>\n<td style=\"text-align: center;\">8206</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">4143</td>\n<td style=\"text-align: center;\">2066</td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre><code>C language code:\nunsigned short crcgen (data, length)\n    char *data; /* address of the key */ \n    int length; /* key length   */\n{\n    unsigned char crcbytel, crcbyte2, r1; \n    char *ptr;\n    int i;\n    union byte_to_word\n    {\n        char bytes[2]; \n        unsigned short  ret;\n    } return_val;\n    ptr = data; \n    crcbyte1 = 0xFF \n    crcbyte2 = 0xFF\n    for (i=0; i&lt;length; i++)\n    {\n        r1 = *ptr++ ^ crcbyte2; \n        r1 = (r1 &lt;&lt; 4) ^ r1;\n        crcbyte2 = (r1 &lt;&lt; 4) | (r1 &gt;&gt; 4); \n        crcbyte2 = (crcbyte2 &amp; 0x0F ) ^ crcbyte1; \n        crcbyte1 = r1;\n        r1 = (r1 &lt;&lt; 3) | (r1 &gt;&gt; 5);\n        crcbyte2 = crcbyte2 ^ (r1 &amp; 0xF8);\n         \n        crcbyte1 = crcbyte1 ^ (r1 &amp; 0x07);\n    }\n        \n    return_val.bytes[0] = ˜crcbyte2; \n    return_val.bytes[1] = ˜crcbyte1; \n    return(return_val.ret);\n}\n</code></pre>\n<p>I have looked at some answers but it did not help and not able to get that output.\n<a href=\"https://stackoverflow.com/questions/13209364/convert-c-crc16-to-java-crc16\">Convert C CRC16 to Java CRC16</a>\nand <a href=\"https://www.source-code.biz/snippets/java/crc16/\" rel=\"nofollow noreferrer\">https://www.source-code.biz/snippets/java/crc16/</a></p>\n<p>The Code that I tried:</p>\n<pre><code>  private static final int POLYNOMIAL   = 0x8408;\nprivate static final int PRESET_VALUE = 0xFFFF;\npublic static void main(String[] args) throws IOException {\n    // FileRead.read();\n    int crc = 0xFFFF;          // initial value\n    int polynomial = 0x1021;   // 0001 0000 0010 0001  (0, 5, 12)\n\n    // byte[] testBytes = &quot;123456789&quot;.getBytes(&quot;ASCII&quot;);\n\n    byte[] buffer = &quot;10530237&quot;.getBytes(&quot;ASCII&quot;);\n\n    System.out.println(FileRead.crc16(buffer));\n}\n\npublic static int crc16(byte[] data)\n{\n    int current_crc_value = PRESET_VALUE;\n    for (int i = 0; i &lt; data.length; i++ )\n    {\n        current_crc_value ^= data[i] &amp; 0xFF;\n        for (int j = 0; j &lt; 8; j++)\n        {\n            if ((current_crc_value &amp; 1) != 0)\n            {\n                current_crc_value = (current_crc_value &gt;&gt;&gt; 1) ^ POLYNOMIAL;\n            }\n            else\n            {\n                current_crc_value = current_crc_value &gt;&gt;&gt; 1;\n            }\n        }\n    }\n    current_crc_value = ~current_crc_value;\n\n    return current_crc_value &amp; 0xFFFF;\n}\n</code></pre>\n<p>It returns 34134 instead of 9588.</p>\n"},{"tags":["java","multithreading","singleton","eager-loading","lazy-initialization"],"comments":[{"owner":{"account_id":362538,"reputation":22412,"user_id":705773,"accept_rate":98,"display_name":"Ajinkya"},"score":0,"creation_date":1451374407,"post_id":34506466,"comment_id":56754474,"body_markdown":"There are multiple ways to implement singleton, lazy/eager depends on your implementation. http://stackoverflow.com/a/16580366/705773 might help.","body":"There are multiple ways to implement singleton, lazy/eager depends on your implementation. <a href=\"http://stackoverflow.com/a/16580366/705773\">stackoverflow.com/a/16580366/705773</a> might help."},{"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"score":0,"creation_date":1451375441,"post_id":34506466,"comment_id":56754925,"body_markdown":"Possible duplicate of [What is an efficient way to implement a singleton pattern in Java?](http://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java\">What is an efficient way to implement a singleton pattern in Java?</a>"},{"owner":{"account_id":184438,"reputation":146,"user_id":420485,"display_name":"Sriram"},"score":1,"creation_date":1451379682,"post_id":34506466,"comment_id":56756692,"body_markdown":"You can verify this using a static{} block and printing out something to see when the actual fields are initialized.","body":"You can verify this using a static{} block and printing out something to see when the actual fields are initialized."},{"owner":{"account_id":2234211,"reputation":2732,"user_id":1971062,"display_name":"Douma"},"score":0,"creation_date":1636094711,"post_id":34506466,"comment_id":123470049,"body_markdown":"&quot;Using a singleton without the holder is eager initialisation because as soon as Java comes across code that references Singleton, all its static fields are resolved.&quot; This is simply not true. If you refer to this code by import statement for example, statics are not resolved.","body":"&quot;Using a singleton without the holder is eager initialisation because as soon as Java comes across code that references Singleton, all its static fields are resolved.&quot; This is simply not true. If you refer to this code by import statement for example, statics are not resolved."}],"answers":[{"tags":[],"owner":{"account_id":94158,"reputation":8434,"user_id":257233,"accept_rate":88,"display_name":"Robert Mark Bram"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1451435451,"creation_date":1451435451,"answer_id":34521284,"question_id":34506466,"body_markdown":"In response to @Sriram, here is my test to prove which is eager vs lazy loading.\r\n\r\nLazy loading with a holder\r\n========\r\n\r\n    public class Singleton {\r\n       private static class SingletonHolder {\r\n          static {\r\n             System.out.println(&quot;In SingletonHolder static block.&quot;);\r\n          }\r\n          private static final Singleton INSTANCE = new Singleton();\r\n       }\r\n    \r\n       public static Singleton getInstance() {\r\n          System.out.println(&quot;In getInstance().&quot;);\r\n          return SingletonHolder.INSTANCE;\r\n       }\r\n    \r\n       private Singleton() {\r\n          System.out.println(&quot;In constructor.&quot;);\r\n       }\r\n    \r\n       private void doSomething() {\r\n          System.out.println(&quot;Singleton working.&quot;);\r\n       }\r\n    \r\n       public static void main(String[] args) {\r\n          System.out.println(&quot;Start of main.&quot;);\r\n          Singleton.getInstance().doSomething();\r\n          System.out.println(&quot;End of main.&quot;);\r\n       }\r\n    }\r\n\r\nThe output shows that the `main` method starts before `getInstance()` is called, thus lazily loaded.\r\n\r\n    Start of main.\r\n    In getInstance().\r\n    In SingletonHolder static block.\r\n    In constructor.\r\n    Singleton working.\r\n    End of main.\r\n\r\nEager loading without a holder\r\n========\r\n\r\n    public class Singleton {\r\n\r\n       static {\r\n          System.out.println(&quot;In Singleton static block.&quot;);\r\n       }\r\n\r\n       private static final Singleton INSTANCE = new Singleton();\r\n\r\n       public static Singleton getInstance() {\r\n          System.out.println(&quot;In getInstance().&quot;);\r\n          return INSTANCE;\r\n       }\r\n\r\n       private Singleton() {\r\n          System.out.println(&quot;In constructor.&quot;);\r\n       }\r\n\r\n       private void doSomething() {\r\n          System.out.println(&quot;Singleton working.&quot;);\r\n       }\r\n\r\n       public static void main(String[] args) {\r\n          System.out.println(&quot;Start of main.&quot;);\r\n          Singleton.getInstance().doSomething();\r\n          System.out.println(&quot;End of main.&quot;);\r\n       }\r\n\r\n    }\r\n\r\nThe output shows that the `main` method starts *after* the `getInstance()` method is called, thus eagerly loaded.\r\n\r\n    In Singleton static block.\r\n    In constructor.\r\n    Start of main.\r\n    In getInstance().\r\n    Singleton working.\r\n    End of main.\r\n\r\n","title":"Singleton with or without holder = lazy vs eager initialisation?","body":"<p>In response to @Sriram, here is my test to prove which is eager vs lazy loading.</p>\n\n<h1>Lazy loading with a holder</h1>\n\n<pre><code>public class Singleton {\n   private static class SingletonHolder {\n      static {\n         System.out.println(\"In SingletonHolder static block.\");\n      }\n      private static final Singleton INSTANCE = new Singleton();\n   }\n\n   public static Singleton getInstance() {\n      System.out.println(\"In getInstance().\");\n      return SingletonHolder.INSTANCE;\n   }\n\n   private Singleton() {\n      System.out.println(\"In constructor.\");\n   }\n\n   private void doSomething() {\n      System.out.println(\"Singleton working.\");\n   }\n\n   public static void main(String[] args) {\n      System.out.println(\"Start of main.\");\n      Singleton.getInstance().doSomething();\n      System.out.println(\"End of main.\");\n   }\n}\n</code></pre>\n\n<p>The output shows that the <code>main</code> method starts before <code>getInstance()</code> is called, thus lazily loaded.</p>\n\n<pre><code>Start of main.\nIn getInstance().\nIn SingletonHolder static block.\nIn constructor.\nSingleton working.\nEnd of main.\n</code></pre>\n\n<h1>Eager loading without a holder</h1>\n\n<pre><code>public class Singleton {\n\n   static {\n      System.out.println(\"In Singleton static block.\");\n   }\n\n   private static final Singleton INSTANCE = new Singleton();\n\n   public static Singleton getInstance() {\n      System.out.println(\"In getInstance().\");\n      return INSTANCE;\n   }\n\n   private Singleton() {\n      System.out.println(\"In constructor.\");\n   }\n\n   private void doSomething() {\n      System.out.println(\"Singleton working.\");\n   }\n\n   public static void main(String[] args) {\n      System.out.println(\"Start of main.\");\n      Singleton.getInstance().doSomething();\n      System.out.println(\"End of main.\");\n   }\n\n}\n</code></pre>\n\n<p>The output shows that the <code>main</code> method starts <em>after</em> the <code>getInstance()</code> method is called, thus eagerly loaded.</p>\n\n<pre><code>In Singleton static block.\nIn constructor.\nStart of main.\nIn getInstance().\nSingleton working.\nEnd of main.\n</code></pre>\n"}],"owner":{"account_id":94158,"reputation":8434,"user_id":257233,"accept_rate":88,"display_name":"Robert Mark Bram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2456,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":34521284,"answer_count":1,"score":2,"last_activity_date":1636104950,"creation_date":1451374092,"question_id":34506466,"body_markdown":"Is this correct:\r\n\r\n- Using a [singleton with a holder](https://stackoverflow.com/a/16106598/257233) gives lazy initialisation because the class `SingletonHolder` is only initialised when `Singleton.getInstance()` is run. This relies on `SingletonHolder` only ever being referenced inside `Singleton.getInstance()`. It&#39;s thread safe because the class loader takes care of synchronisation.\r\n- Using a singleton without the holder is eager initialisation because as soon as Java comes across code that references `Singleton`, all its static fields are resolved. It&#39;s also thread safe because the class loader takes care of synchronisation.\r\n\r\nSingleton with a holder.\r\n\r\n    public class Singleton {\r\n       private static class SingletonHolder {\r\n          private static final Singleton INSTANCE = new Singleton();\r\n       }\r\n       public static Singleton getInstance() {\r\n          return SingletonHolder.INSTANCE;\r\n       }\r\n       private Singleton(){ }\r\n    }\r\n\r\nSingleton without a holder.\r\n\r\n    public class Singleton{\r\n       private static final Singleton INSTANCE = new Singleton();\r\n       public static Singleton getInstance(){\r\n          return INSTANCE;\r\n       }\r\n       private Singleton(){ }\r\n    }\r\n\r\n**Update** in response to @jan&#39;s suggestion that this is a duplicate of [What is an efficient way to implement a singleton pattern in Java?](https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java). I disagree. I am not asking what is the best way to do it: I am only asking what makes these two specific implementations lazy vs eager loading. Answers like [xyz&#39;s](https://stackoverflow.com/a/16580366/257233) broadly address lazy vs eager, but not by contrasting the two examples I was trying to examine (or with the same keywords which is why it never came up in my initial searches).","title":"Singleton with or without holder = lazy vs eager initialisation?","body":"<p>Is this correct:</p>\n\n<ul>\n<li>Using a <a href=\"https://stackoverflow.com/a/16106598/257233\">singleton with a holder</a> gives lazy initialisation because the class <code>SingletonHolder</code> is only initialised when <code>Singleton.getInstance()</code> is run. This relies on <code>SingletonHolder</code> only ever being referenced inside <code>Singleton.getInstance()</code>. It's thread safe because the class loader takes care of synchronisation.</li>\n<li>Using a singleton without the holder is eager initialisation because as soon as Java comes across code that references <code>Singleton</code>, all its static fields are resolved. It's also thread safe because the class loader takes care of synchronisation.</li>\n</ul>\n\n<p>Singleton with a holder.</p>\n\n<pre><code>public class Singleton {\n   private static class SingletonHolder {\n      private static final Singleton INSTANCE = new Singleton();\n   }\n   public static Singleton getInstance() {\n      return SingletonHolder.INSTANCE;\n   }\n   private Singleton(){ }\n}\n</code></pre>\n\n<p>Singleton without a holder.</p>\n\n<pre><code>public class Singleton{\n   private static final Singleton INSTANCE = new Singleton();\n   public static Singleton getInstance(){\n      return INSTANCE;\n   }\n   private Singleton(){ }\n}\n</code></pre>\n\n<p><strong>Update</strong> in response to @jan's suggestion that this is a duplicate of <a href=\"https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java\">What is an efficient way to implement a singleton pattern in Java?</a>. I disagree. I am not asking what is the best way to do it: I am only asking what makes these two specific implementations lazy vs eager loading. Answers like <a href=\"https://stackoverflow.com/a/16580366/257233\">xyz's</a> broadly address lazy vs eager, but not by contrasting the two examples I was trying to examine (or with the same keywords which is why it never came up in my initial searches).</p>\n"},{"tags":["java","maven","compiler-errors","package","filepath"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1636012876,"post_id":69835771,"comment_id":123445577,"body_markdown":"Why not just use an IDE?","body":"Why not just use an IDE?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1636013345,"post_id":69835771,"comment_id":123445725,"body_markdown":"First Maven can&#39;t be configured this because this is done by the Java compiler...furthermore I strongly recommend to use an IDE...","body":"First Maven can&#39;t be configured this because this is done by the Java compiler...furthermore I strongly recommend to use an IDE..."},{"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"score":2,"creation_date":1636016470,"post_id":69835771,"comment_id":123446826,"body_markdown":"@khmarbaise could you just recommend a bit less strongly because my monitor still shakes with fear after reading your recommendation and its uncomfortable to read the text ;-D","body":"@khmarbaise could you just recommend a bit less strongly because my monitor still shakes with fear after reading your recommendation and its uncomfortable to read the text ;-D"},{"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"score":0,"creation_date":1678550729,"post_id":69835771,"comment_id":133556059,"body_markdown":"IDE also wouldn&#39;t help much, usually just a warning  at package definition line","body":"IDE also wouldn&#39;t help much, usually just a warning  at package definition line"}],"answers":[{"tags":[],"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636104813,"creation_date":1636104813,"answer_id":69851108,"question_id":69835771,"body_markdown":"I found how I can prevent such mismatch - it can be done by using CheckStyle PackageDeclaration module([javadoc][1])\r\n\r\n\r\n  [1]: https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/checks/coding/PackageDeclarationCheck.html","title":"Java class doesn&#39;t have to match package written in source file","body":"<p>I found how I can prevent such mismatch - it can be done by using CheckStyle PackageDeclaration module(<a href=\"https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/checks/coding/PackageDeclarationCheck.html\" rel=\"nofollow noreferrer\">javadoc</a>)</p>\n"}],"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69851108,"answer_count":1,"score":1,"last_activity_date":1636104813,"creation_date":1636011860,"question_id":69835771,"body_markdown":"in my project I wrote java class but by mistake put it into subfolder which is not same as mentioned package in source file. By chance I wrote this code not in some IDE therefore didn&#39;t noticed the mistake. \r\nMy build system is maven and surprisingly the class was compiled and put into correct subdirectory of generated class files without any error.\r\nHow can I configure maven compiler plugin or other maven plugin to recognize such mismatch when compile ?\r\n","title":"Java class doesn&#39;t have to match package written in source file","body":"<p>in my project I wrote java class but by mistake put it into subfolder which is not same as mentioned package in source file. By chance I wrote this code not in some IDE therefore didn't noticed the mistake.\nMy build system is maven and surprisingly the class was compiled and put into correct subdirectory of generated class files without any error.\nHow can I configure maven compiler plugin or other maven plugin to recognize such mismatch when compile ?</p>\n"},{"tags":["java","android","pdf","mupdf"],"answers":[{"tags":[],"owner":{"account_id":1975226,"reputation":5933,"user_id":1773155,"accept_rate":58,"display_name":"Shajeel Afzal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1431257145,"creation_date":1431257145,"answer_id":30150813,"question_id":30150618,"body_markdown":"I did this by customizing the `MuPDFActivity.java` class. \r\n\r\nWhile reading the code in `onCreate` method i came to know that it is has condition which checks that whether it needs password or not as:\r\n\r\n    if (core != null &amp;&amp; core.needsPassword()) {\r\n\r\nand then it shows dialog withe EditText to input the password. Then password is verified via the function. \r\n\r\n    core.authenticatePassword(mPassword)\r\n\r\nI sent the password of the file as String extra to MuPDFActivity class and remove passed it directly to the function. \r\n\r\n    if (core != null &amp;&amp; core.needsPassword()) {\r\n       if (core.authenticatePassword(mPassword)) {\r\n          createUI(savedInstanceState);\r\n       } else {\r\n          requestPassword(savedInstanceState);\r\n       }\r\n       return;\r\n    }\r\n\r\nYou can ask me for complete code if anyone will need help. \r\n\r\nThanks. ","title":"How to open password protected PDF using MuPDF","body":"<p>I did this by customizing the <code>MuPDFActivity.java</code> class. </p>\n\n<p>While reading the code in <code>onCreate</code> method i came to know that it is has condition which checks that whether it needs password or not as:</p>\n\n<pre><code>if (core != null &amp;&amp; core.needsPassword()) {\n</code></pre>\n\n<p>and then it shows dialog withe EditText to input the password. Then password is verified via the function. </p>\n\n<pre><code>core.authenticatePassword(mPassword)\n</code></pre>\n\n<p>I sent the password of the file as String extra to MuPDFActivity class and remove passed it directly to the function. </p>\n\n<pre><code>if (core != null &amp;&amp; core.needsPassword()) {\n   if (core.authenticatePassword(mPassword)) {\n      createUI(savedInstanceState);\n   } else {\n      requestPassword(savedInstanceState);\n   }\n   return;\n}\n</code></pre>\n\n<p>You can ask me for complete code if anyone will need help. </p>\n\n<p>Thanks. </p>\n"},{"tags":[],"owner":{"account_id":365698,"reputation":182,"user_id":710781,"display_name":"desgua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636104623,"creation_date":1636104623,"answer_id":69851073,"question_id":30150618,"body_markdown":"To open a password protected pdf with mupdf you need to provide the password through the terminal like this:    \r\n    \r\n    mudpf -p DOCUMENT_PASSWORD filename.pdf   \r\n   \r\n","title":"How to open password protected PDF using MuPDF","body":"<p>To open a password protected pdf with mupdf you need to provide the password through the terminal like this:</p>\n<pre><code>mudpf -p DOCUMENT_PASSWORD filename.pdf   \n</code></pre>\n"}],"owner":{"account_id":1975226,"reputation":5933,"user_id":1773155,"accept_rate":58,"display_name":"Shajeel Afzal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30150813,"answer_count":2,"score":1,"last_activity_date":1636104623,"creation_date":1431255812,"question_id":30150618,"body_markdown":"I want to open password protected PDF files using [MuPDF][1] but I don&#39;t know if MuPDF provides any convenient method to do so. I am showing the simple PDFs as following and it is working fine:\r\n\r\n    File file = [PATH TO THE FILE];\r\n    \r\n    if (file.exists()) {\r\n        Intent intent = new Intent(MainActivity.this, MuPDFActivity.class);\r\n        intent.setAction(Intent.ACTION_VIEW);\r\n        intent.setData(Uri.fromFile(file));\r\n        startActivity(intent);\r\n    } \r\n\r\n  [1]: http://www.mupdf.com/\r\n\r\nI have tried to search for it on Google but I could not find any information about it.","title":"How to open password protected PDF using MuPDF","body":"<p>I want to open password protected PDF files using <a href=\"http://www.mupdf.com/\" rel=\"nofollow\">MuPDF</a> but I don't know if MuPDF provides any convenient method to do so. I am showing the simple PDFs as following and it is working fine:</p>\n\n<pre><code>File file = [PATH TO THE FILE];\n\nif (file.exists()) {\n    Intent intent = new Intent(MainActivity.this, MuPDFActivity.class);\n    intent.setAction(Intent.ACTION_VIEW);\n    intent.setData(Uri.fromFile(file));\n    startActivity(intent);\n} \n</code></pre>\n\n<p>I have tried to search for it on Google but I could not find any information about it.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1635944761,"post_id":69825353,"comment_id":123426288,"body_markdown":"Yes, by using prepared statements. You cannot generate a &quot;safe sql statement&quot; that you can *then* fill with parameters, that does not exist. You need a safe way to generate the filled sql which is what PreparedStatement does.","body":"Yes, by using prepared statements. You cannot generate a &quot;safe sql statement&quot; that you can <i>then</i> fill with parameters, that does not exist. You need a safe way to generate the filled sql which is what PreparedStatement does."},{"owner":{"account_id":11597557,"reputation":469,"user_id":8495832,"display_name":"SYED MUSTAFA HUSSAIN"},"score":1,"creation_date":1635944879,"post_id":69825353,"comment_id":123426345,"body_markdown":"use JDBC template and give a parameter in this to avoid SQL injection","body":"use JDBC template and give a parameter in this to avoid SQL injection"},{"owner":{"account_id":9698772,"reputation":181,"user_id":7194392,"display_name":"Jack Ma"},"score":0,"creation_date":1636102976,"post_id":69825353,"comment_id":123472323,"body_markdown":"JDBC template can be used only when connected to a DB Server. What expected is one can be used without connection to DB Server, or the &quot;Static Method&quot; .","body":"JDBC template can be used only when connected to a DB Server. What expected is one can be used without connection to DB Server, or the &quot;Static Method&quot; ."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1636118238,"post_id":69825353,"comment_id":123477898,"body_markdown":"@JackMa Please [edit] your question to include a detailed description why prepared statements is not an option for you.","body":"@JackMa Please <a href=\"https://stackoverflow.com/posts/69825353/edit\">edit</a> your question to include a detailed description why prepared statements is not an option for you."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635946205,"creation_date":1635946205,"answer_id":69825747,"question_id":69825353,"body_markdown":"There are some SQL builders, and in general they keep track of all parameters and build a PreparedStatement. It might even be an idea to not only provide parameter values, but parameter names, so one may use it as a real PreparedStatement.\r\n\r\nYou may create a JdbcTemplate from Spring. Or Criteria API.\r\n\r\nIf you want to build your own, as research, you might explore escaping too.\r\n\r\nThen (research) also consider barring Unicode bidi hacking with LTR (`\\u200E`) and RTL (`\\u200F`): by using a Right-To-Left control one can obfuscate the SQL looking seemingly okay in the editor, but doing something maliciously different. You could require that the characters may not appear in a string but must be escaped too: `\\\\u200F`. _(However it is something for nerds or insiders, and your SQL must already be at a sensitive spot.)_\r\n\r\nThe SQL dialect is important; backtick (MySQL) or double quotes (Standard) for names etcetera.\r\n\r\nThere is Apache&#39;s commonlang **[`escapeSql`][1]**.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html#escapeSql(java.lang.String)","title":"Generate Safe SQL In JavaCode","body":"<p>There are some SQL builders, and in general they keep track of all parameters and build a PreparedStatement. It might even be an idea to not only provide parameter values, but parameter names, so one may use it as a real PreparedStatement.</p>\n<p>You may create a JdbcTemplate from Spring. Or Criteria API.</p>\n<p>If you want to build your own, as research, you might explore escaping too.</p>\n<p>Then (research) also consider barring Unicode bidi hacking with LTR (<code>\\u200E</code>) and RTL (<code>\\u200F</code>): by using a Right-To-Left control one can obfuscate the SQL looking seemingly okay in the editor, but doing something maliciously different. You could require that the characters may not appear in a string but must be escaped too: <code>\\\\u200F</code>. <em>(However it is something for nerds or insiders, and your SQL must already be at a sensitive spot.)</em></p>\n<p>The SQL dialect is important; backtick (MySQL) or double quotes (Standard) for names etcetera.</p>\n<p>There is Apache's commonlang <strong><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html#escapeSql(java.lang.String)\" rel=\"nofollow noreferrer\"><code>escapeSql</code></a></strong>.</p>\n"}],"owner":{"account_id":9698772,"reputation":181,"user_id":7194392,"display_name":"Jack Ma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636103993,"creation_date":1635944682,"question_id":69825353,"body_markdown":"How to compose SQL(MySQL) like PreparedStatement, such as escaping, to avoid SQL injection and genearte safe SQL statement. \r\n\r\nIs there any present JavaCode to do this?\r\n\r\nReal scenario:\r\nFrontend input as column value to compose a safe SQL (the &quot;where&quot; part), the specified in the backend are table name and column name.","title":"Generate Safe SQL In JavaCode","body":"<p>How to compose SQL(MySQL) like PreparedStatement, such as escaping, to avoid SQL injection and genearte safe SQL statement.</p>\n<p>Is there any present JavaCode to do this?</p>\n<p>Real scenario:\nFrontend input as column value to compose a safe SQL (the &quot;where&quot; part), the specified in the backend are table name and column name.</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1636103891,"post_id":69850645,"comment_id":123472638,"body_markdown":"A unit test is, as the name suggests, when you test a &quot;unit&quot;. A class or a piece of code that is isolated from external dependencies and that&#39;s tested on its own. As soon as you need to mock behaviour for other dependencies it stops being a simple unit test. Other than that, what is your question? If you&#39;re looking for improvements on your test, you can check out https://codereview.stackexchange.com/","body":"A unit test is, as the name suggests, when you test a &quot;unit&quot;. A class or a piece of code that is isolated from external dependencies and that&#39;s tested on its own. As soon as you need to mock behaviour for other dependencies it stops being a simple unit test. Other than that, what is your question? If you&#39;re looking for improvements on your test, you can check out <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":4784215,"reputation":86,"user_id":3865189,"display_name":"Andrii Polokh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636103950,"creation_date":1636103950,"answer_id":69850945,"question_id":69850645,"body_markdown":"It&#39;s a component test. Also your test class is probably annotated with \r\n```\r\n@AutoConfigureMockMvc\r\n@SpringBootTest\r\n```\r\ncause you are using mockMvc to mock a call to endpoint. \r\n\r\nIn my opinion it does not make sense to do this part\r\n```\r\n Assert.assertEquals(1, list.getNumOfItems());\r\n Assert.assertEquals(1, list.getFruit().getFruitId);\r\n Assert.assertEquals(1, list.getVegetable.getVegetableId());\r\n```\r\ncause you created this object in the test and you know what did you put there. The only thing you should be interested in is what your endpoint returns. You can check it as you already do via comparing inputJson and outputJson or do it like this: \r\n```\r\n        .andExpect(status().isOk())\r\n        .andExpect(jsonPath(&quot;$.id&quot;, equalTo(...)))\r\n        .andExpect(jsonPath(&quot;$.firstName&quot;, notNullValue()))\r\n        .andExpect(jsonPath(&quot;$.lastName&quot;).isNotEmpty())\r\n        .andExpect(jsonPath(&quot;$.email&quot;, equalTo(...)))\r\n        .andExpect(jsonPath(&quot;$.partnerId&quot;, equalTo(...)));\r\n``` \r\nDepends on what is important for you to check. E.g. if your response returns id which is generated by some internal class/method you will not be able to construct such inputJson cause you cannot predict which id will be returned. In this case you are able to check that id is not empty \r\n```\r\n        .andExpect(jsonPath(&quot;$.id&quot;).isNotEmpty())\r\n```","title":"Is this a unit test or integration test?","body":"<p>It's a component test. Also your test class is probably annotated with</p>\n<pre><code>@AutoConfigureMockMvc\n@SpringBootTest\n</code></pre>\n<p>cause you are using mockMvc to mock a call to endpoint.</p>\n<p>In my opinion it does not make sense to do this part</p>\n<pre><code> Assert.assertEquals(1, list.getNumOfItems());\n Assert.assertEquals(1, list.getFruit().getFruitId);\n Assert.assertEquals(1, list.getVegetable.getVegetableId());\n</code></pre>\n<p>cause you created this object in the test and you know what did you put there. The only thing you should be interested in is what your endpoint returns. You can check it as you already do via comparing inputJson and outputJson or do it like this:</p>\n<pre><code>        .andExpect(status().isOk())\n        .andExpect(jsonPath(&quot;$.id&quot;, equalTo(...)))\n        .andExpect(jsonPath(&quot;$.firstName&quot;, notNullValue()))\n        .andExpect(jsonPath(&quot;$.lastName&quot;).isNotEmpty())\n        .andExpect(jsonPath(&quot;$.email&quot;, equalTo(...)))\n        .andExpect(jsonPath(&quot;$.partnerId&quot;, equalTo(...)));\n</code></pre>\n<p>Depends on what is important for you to check. E.g. if your response returns id which is generated by some internal class/method you will not be able to construct such inputJson cause you cannot predict which id will be returned. In this case you are able to check that id is not empty</p>\n<pre><code>        .andExpect(jsonPath(&quot;$.id&quot;).isNotEmpty())\n</code></pre>\n"}],"owner":{"account_id":5648806,"reputation":569,"user_id":4470089,"accept_rate":100,"display_name":"CodeName"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636103950,"creation_date":1636102436,"question_id":69850645,"body_markdown":"I am learning how to create a unit test in Spring Boot JPA with JUnit and Mockito\r\n\r\nI have done up a test class,\r\n\r\n    public void testInsertionMethod() throws Exception {\r\n    \r\n    \tString URI = &quot;/insertionURL&quot;;\r\n    \tShoppingList list = new ShoppingList (3, new Fruit(1), new Vegetable(1));\r\n    \tString inputJson= this.jsonConversionMethod(list);\r\n    \r\n    \tAssert.assertEquals(1, list.getNumOfItems());\r\n    \tAssert.assertEquals(1, list.getFruit().getFruitId);\r\n    \tAssert.assertEquals(1, list.getVegetable.getVegetableId());\r\n    \r\n    \tMockito.when(shoppingListSvc.save(Mockito.any(ShoppingList.class))).thenReturn(list);\r\n    \r\n    \tMvcResult mvcResult = this.mockMvc.perform(MockMvcRequestBuilders.post(URI).param(&quot;fruitId&quot;, &quot;1&quot;).param(&quot;vegId&quot;, &quot;1&quot;). accept(MediaType.APPLICATION_JSON).content(inputJson).contentType(MediaType.APPLICATION_JSON)).andReturn();\r\n    \r\n    \tMockHttpServletResponse mockHttpServletResponse = mvcResult.getResponse();\r\n    \tString jsonOutput = mockHttpServletResponse.getContentAsString();\r\n    \tassertThat(outputJson).isEqualTo(inputJson);\r\n    \tAssert.assertEquals(HttpStatus.OK.value(), mockHttpServletResponse.getStatus());\r\n    \r\n    }\r\n\r\nCan anyone advise on how I can improve my unit testing? Am I doing anything wrong here?","title":"Is this a unit test or integration test?","body":"<p>I am learning how to create a unit test in Spring Boot JPA with JUnit and Mockito</p>\n<p>I have done up a test class,</p>\n<pre><code>public void testInsertionMethod() throws Exception {\n\n    String URI = &quot;/insertionURL&quot;;\n    ShoppingList list = new ShoppingList (3, new Fruit(1), new Vegetable(1));\n    String inputJson= this.jsonConversionMethod(list);\n\n    Assert.assertEquals(1, list.getNumOfItems());\n    Assert.assertEquals(1, list.getFruit().getFruitId);\n    Assert.assertEquals(1, list.getVegetable.getVegetableId());\n\n    Mockito.when(shoppingListSvc.save(Mockito.any(ShoppingList.class))).thenReturn(list);\n\n    MvcResult mvcResult = this.mockMvc.perform(MockMvcRequestBuilders.post(URI).param(&quot;fruitId&quot;, &quot;1&quot;).param(&quot;vegId&quot;, &quot;1&quot;). accept(MediaType.APPLICATION_JSON).content(inputJson).contentType(MediaType.APPLICATION_JSON)).andReturn();\n\n    MockHttpServletResponse mockHttpServletResponse = mvcResult.getResponse();\n    String jsonOutput = mockHttpServletResponse.getContentAsString();\n    assertThat(outputJson).isEqualTo(inputJson);\n    Assert.assertEquals(HttpStatus.OK.value(), mockHttpServletResponse.getStatus());\n\n}\n</code></pre>\n<p>Can anyone advise on how I can improve my unit testing? Am I doing anything wrong here?</p>\n"},{"tags":["java","oracle","spring-boot","plsql"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1560007143,"post_id":56479733,"comment_id":99602630,"body_markdown":"_However, after running this, this is what I see in Transactions table Param_values column_ What am I missing? `Transactions` table and `Param_values` do not appear anywhere in the code you posted.","body":"<i>However, after running this, this is what I see in Transactions table Param_values column</i> What am I missing? <code>Transactions</code> table and <code>Param_values</code> do not appear anywhere in the code you posted."},{"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"score":0,"creation_date":1560007881,"post_id":56479733,"comment_id":99602827,"body_markdown":"@Abra Hmm I suppose I erroneously assumed it&#39;s a default/system table. In any case, the person who does work with DB complains that she&#39;s receiving nulls from my java end, and I was told to use that `Transactions` table to see for myself","body":"@Abra Hmm I suppose I erroneously assumed it&#39;s a default/system table. In any case, the person who does work with DB complains that she&#39;s receiving nulls from my java end, and I was told to use that <code>Transactions</code> table to see for myself"},{"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"score":0,"creation_date":1560008340,"post_id":56479733,"comment_id":99602921,"body_markdown":"In either case, I&#39;d expect `Transactions` shouldn&#39;t be the culprit, for it shows correct expected parameter values when the procedure is invoked with sql. Nevertheless, I&#39;ll ask for its definition on monday when I come back to work","body":"In either case, I&#39;d expect <code>Transactions</code> shouldn&#39;t be the culprit, for it shows correct expected parameter values when the procedure is invoked with sql. Nevertheless, I&#39;ll ask for its definition on monday when I come back to work"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1560008934,"post_id":56479733,"comment_id":99603063,"body_markdown":"What java version are you using? Are you using Oracle&#39;s JDBC driver? If so, which version? If not then which JDBC driver are you using?","body":"What java version are you using? Are you using Oracle&#39;s JDBC driver? If so, which version? If not then which JDBC driver are you using?"},{"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"score":0,"creation_date":1560151680,"post_id":56479733,"comment_id":99628605,"body_markdown":"edited driver versions","body":"edited driver versions"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1560160169,"post_id":56479733,"comment_id":99632059,"body_markdown":"Since I didn&#39;t see that you answered my questions regarding versions of software components you are using, I had a closer look at your `pom.xml` and it looks to me that you are using Java 1.8 with Oracle 12 and JDBC driver `ojdbc6.jar`. Note that `ojdbc6.jar` is compatible with Java 1.6. You should be using file `ojdbc8.jar`. Have you seen the [Release Specific Questions](https://www.oracle.com/technetwork/database/enterprise-edition/jdbc-faq-090281.html#01_00) section of _Oracle JDBC Frequently Asked Questions_ [Web] page?","body":"Since I didn&#39;t see that you answered my questions regarding versions of software components you are using, I had a closer look at your <code>pom.xml</code> and it looks to me that you are using Java 1.8 with Oracle 12 and JDBC driver <code>ojdbc6.jar</code>. Note that <code>ojdbc6.jar</code> is compatible with Java 1.6. You should be using file <code>ojdbc8.jar</code>. Have you seen the <a href=\"https://www.oracle.com/technetwork/database/enterprise-edition/jdbc-faq-090281.html#01_00\" rel=\"nofollow noreferrer\">Release Specific Questions</a> section of <i>Oracle JDBC Frequently Asked Questions</i> [Web] page?"},{"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"score":0,"creation_date":1560162139,"post_id":56479733,"comment_id":99633015,"body_markdown":"According to `What are the Oracle JDBC releases Vs JDK versions? ` section the ojdbc7.jar should be used for jdk8 for the 12.1 version, which I have tried to no avail.  I also tried the ojdbc8.jar, but it&#39;s not working either","body":"According to <code>What are the Oracle JDBC releases Vs JDK versions? </code> section the ojdbc7.jar should be used for jdk8 for the 12.1 version, which I have tried to no avail.  I also tried the ojdbc8.jar, but it&#39;s not working either"},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1560377791,"post_id":56479733,"comment_id":99720923,"body_markdown":"It might be useful to see what your procedure is actually doing - how it translates the collection it&#39;s passed into rows in your table.","body":"It might be useful to see what your procedure is actually doing - how it translates the collection it&#39;s passed into rows in your table."},{"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"score":0,"creation_date":1560414743,"post_id":56479733,"comment_id":99730848,"body_markdown":"@AlexPoole added how the `param_values` column is formed","body":"@AlexPoole added how the <code>param_values</code> column is formed"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560364471,"creation_date":1560011798,"answer_id":56508250,"question_id":56479733,"body_markdown":"My guess is that you are not correctly creating nor populating the IN parameter of the PL/SQL stored procedure. Below is a code snippet taking parts of the code you posted (&quot;TestApplication.java&quot;) and adding code that I hope will solve your problem.\r\n\r\n**EDITED**\r\n\r\n    Connection conn = DataSourceUtils.getConnection(dataSource); // your code\r\n    Object[] attributes = new Object[1];\r\n    attributes[0] = &quot;Test&quot;;\r\n    java.sql.Struct obj = conn.createStruct(&quot;Receiver_List_Users_Rt&quot;, attributes);\r\n    Object[] elems = new Object[1];\r\n    elems[0] = obj;\r\n    oracle.jdbc.OracleConnection oraConn = (oracle.jdbc.OracleConnection) conn;\r\n    java.sql.Array objs = oraConn.createARRAY(&quot;Receiver_List_Users_Tbl&quot;, elems);\r\n    callStmt.setArray(1, objs);\r\n    callStmt.execute(); // your code\r\n\r\n","title":"Calling OracleDB procedure with table type parameter from Java -- DB always receives nulls instead of values","body":"<p>My guess is that you are not correctly creating nor populating the IN parameter of the PL/SQL stored procedure. Below is a code snippet taking parts of the code you posted (\"TestApplication.java\") and adding code that I hope will solve your problem.</p>\n\n<p><strong>EDITED</strong></p>\n\n<pre><code>Connection conn = DataSourceUtils.getConnection(dataSource); // your code\nObject[] attributes = new Object[1];\nattributes[0] = \"Test\";\njava.sql.Struct obj = conn.createStruct(\"Receiver_List_Users_Rt\", attributes);\nObject[] elems = new Object[1];\nelems[0] = obj;\noracle.jdbc.OracleConnection oraConn = (oracle.jdbc.OracleConnection) conn;\njava.sql.Array objs = oraConn.createARRAY(\"Receiver_List_Users_Tbl\", elems);\ncallStmt.setArray(1, objs);\ncallStmt.execute(); // your code\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636103108,"creation_date":1636103108,"answer_id":69850777,"question_id":56479733,"body_markdown":"Unsatisfying closure, but DB personnel tore down the environment, made a new one, and it started working. So the issue wasn&#39;t with java or driver side. Whatever went wrong with DB remains an unrecoverable mystery","title":"Calling OracleDB procedure with table type parameter from Java -- DB always receives nulls instead of values","body":"<p>Unsatisfying closure, but DB personnel tore down the environment, made a new one, and it started working. So the issue wasn't with java or driver side. Whatever went wrong with DB remains an unrecoverable mystery</p>\n"}],"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2147,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69850777,"answer_count":2,"score":5,"last_activity_date":1636103108,"creation_date":1559831489,"question_id":56479733,"body_markdown":"For some reason, DB doesn&#39;t receive the values it&#39;s given via a table parameter. It sees correct count of rows in the table, and also the given count of columns is correct (else I get an error for mismatch), and yet values themselves are null.\r\n\r\nDB version (`SELECT * FROM V$VERSION`):\r\n\r\n    Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production\r\n    PL/SQL Release 12.1.0.2.0 - Production\r\n    &quot;CORE\t12.1.0.2.0\tProduction&quot;\r\n    TNS for 64-bit Windows: Version 12.1.0.2.0 - Production\r\n    NLSRTL Version 12.1.0.2.0 - Production\r\n\r\nTested with oracle drivers ojdbc6 (version 11.2.0.4), ojdbc7 (version 11.2.0.4), ojdbc7 (version 12.1.0.2).\r\n\r\n\r\nThis is signature of the DB procedure:\r\n\r\n    Procedure Send_Message_Test (\r\n        i_Receiver_List_Users_Tbl    In Receiver_List_Users_Tbl\r\n    );\r\n\r\nthe types:\r\n\r\n    CREATE OR REPLACE Type Receiver_List_Users_Rt Force As Object (\r\n      User_Id Varchar2(30 Char)\r\n    )\r\n    /\r\n    \r\n    CREATE OR REPLACE Type Receiver_List_Users_Tbl Is Table Of Receiver_List_Users_Rt\r\n\r\nThis is minimal complete Java Spring Boot application to invoke it:\r\n\r\nPom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.14.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;test&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n        \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n                &lt;version&gt;11.2.0.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nsrc/main/resources/application.properties\r\n\r\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n    spring.datasource.url=jdbc:oracle:thin:@192.168.1.233:1521/sis1\r\n    spring.datasource.username=&lt;omitted&gt;\r\n    spring.datasource.password=&lt;omitted&gt;\r\n    spring.datasource.tomcat.test-while-idle=true\r\n    spring.datasource.tomcat.test-on-borrow=true\r\n    spring.datasource.tomcat.test-on-return=false\r\n    spring.datasource.tomcat.validation-query=select 1 from dual\r\n    spring.datasource.tomcat.max-active=100\r\n    spring.datasource.tomcat.max-wait=10000\r\n    spring.datasource.tomcat.remove-abandoned-timeout=60\r\n    spring.datasource.tomcat.remove-abandoned=true\r\n    spring.datasource.tomcat.log-abandoned=true\r\n\r\nsrc/main/java/com/test/test/TestApplication.java\r\n\r\n    package com.test.test;\r\n    \r\n    import java.sql.CallableStatement;\r\n    import java.sql.Connection;\r\n    import java.sql.Statement;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.ApplicationArguments;\r\n    import org.springframework.boot.ApplicationRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.jdbc.datasource.DataSourceUtils;\r\n    \r\n    import oracle.sql.ARRAY;\r\n    import oracle.sql.ArrayDescriptor;\r\n    import oracle.sql.STRUCT;\r\n    import oracle.sql.StructDescriptor;\r\n    \r\n    @SpringBootApplication\r\n    public class TestApplication implements ApplicationRunner {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(TestApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Autowired\r\n    \tDataSource dataSource;\r\n    \t\r\n    \t@Override\r\n    \tpublic void run(ApplicationArguments args) throws Exception {\r\n    \t\tConnection conn = DataSourceUtils.getConnection(dataSource);\r\n    \t\tCallableStatement callStmt = null;\r\n    \r\n    \t\tStatement alterDateFormatStmt = conn.createStatement();\r\n    \t\talterDateFormatStmt.execute(&quot;alter session set NLS_DATE_FORMAT = &#39;YYYY-MM-DD&#39;&quot;);\r\n    \t\talterDateFormatStmt.close();\r\n    \r\n    \t\t// create PLSQL procedure statement\r\n    \t\tString stmStr = &quot;{call Notification_Manage_v2.Send_Message_Test (?)}&quot;;\r\n    \r\n    \t\t// create Oracle statement and set parameters\r\n    \t\tcallStmt = conn.prepareCall(stmStr);\r\n    \r\n    \t\tStructDescriptor recordDescriptor = StructDescriptor.createDescriptor(&quot;RECEIVER_LIST_USERS_RT&quot;,\r\n    \t\t\t\tcallStmt.getConnection());\r\n    \t\tArrayDescriptor arrayDescriptor = ArrayDescriptor.createDescriptor(&quot;RECEIVER_LIST_USERS_TBL&quot;,\r\n    \t\t\t\tcallStmt.getConnection());\r\n    \t\tcallStmt.setObject(1, new ARRAY(arrayDescriptor, callStmt.getConnection(),\r\n    \t\t\t\tnew STRUCT[] { new STRUCT(recordDescriptor, callStmt.getConnection(), new Object[] { &quot;test&quot; }) }));\r\n    \r\n    \t\tcallStmt.execute();\r\n    \t}\r\n    \r\n    }\r\n\r\nHowever, after running this, this is what I see in `Transactions` table `Param_values` column:\r\n\r\n    i_Receiver_List_Users_Tbl =&gt; Receiver_List_Users_Tbl(Receiver_List_Users_Rt ())\r\n\r\nAny insight would be much appreciated.\r\n\r\n----\r\n\r\nThis is how from DB side the `param_values` column is formed:\r\n\r\n    CREATE OR REPLACE Type Receiver_List_Users_Rt Force As Object (User_Id Varchar2(30 Char));\r\n    CREATE OR REPLACE Type Receiver_List_Users_Tbl Is Table Of Receiver_List_Users_Rt;\r\n    \r\n    \r\n    Procedure Send_Message_Test (i_Receiver_List_Users_Tbl In Receiver_List_Users_Tbl\r\n                                ) Is\r\n      --\r\n      tbl_Receiver_List_Users    Receiver_List_Users_Tbl := Receiver_List_Users_Tbl();\r\n      v_Param_Receiver_List_Users Varchar2(3000);\r\n      --\r\n    Begin\r\n      --\r\n      For e_Usr In (Select t_Receiver_List_Users.User_Id User_Id\r\n                    From Table(i_Receiver_List_Users_Tbl) t_Receiver_List_Users\r\n                   ) Loop\r\n        --\r\n        v_Param_Receiver_List_Users := v_Param_Receiver_List_Users ||\r\n                           Case When v_Param_Receiver_List_Users Is Not Null Then &#39;, &#39; End||\r\n                           &#39;Receiver_List_Users_Rt (&#39;||e_Usr.User_Id||&#39;)&#39;;\r\n        --\r\n      End Loop;\r\n      --\r\n      If v_Param_Receiver_List_Users Is Not Null Then\r\n        v_Param_Receiver_List_Users := &#39;Receiver_List_Users_Tbl(&#39;||v_Param_Receiver_List_Users||&#39;)&#39;;\r\n      End If;\r\n      --\r\n      --\r\n      dbms_output.put_Line(&#39;i_Receiver_List_Users_Tbl =&gt; &#39;||v_Param_Receiver_List_Users); -- !!!!!!!! no values receive\r\n      --\r\n      --\r\n    End;\r\n\r\n","title":"Calling OracleDB procedure with table type parameter from Java -- DB always receives nulls instead of values","body":"<p>For some reason, DB doesn't receive the values it's given via a table parameter. It sees correct count of rows in the table, and also the given count of columns is correct (else I get an error for mismatch), and yet values themselves are null.</p>\n\n<p>DB version (<code>SELECT * FROM V$VERSION</code>):</p>\n\n<pre><code>Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production\nPL/SQL Release 12.1.0.2.0 - Production\n\"CORE   12.1.0.2.0  Production\"\nTNS for 64-bit Windows: Version 12.1.0.2.0 - Production\nNLSRTL Version 12.1.0.2.0 - Production\n</code></pre>\n\n<p>Tested with oracle drivers ojdbc6 (version 11.2.0.4), ojdbc7 (version 11.2.0.4), ojdbc7 (version 12.1.0.2).</p>\n\n<p>This is signature of the DB procedure:</p>\n\n<pre><code>Procedure Send_Message_Test (\n    i_Receiver_List_Users_Tbl    In Receiver_List_Users_Tbl\n);\n</code></pre>\n\n<p>the types:</p>\n\n<pre><code>CREATE OR REPLACE Type Receiver_List_Users_Rt Force As Object (\n  User_Id Varchar2(30 Char)\n)\n/\n\nCREATE OR REPLACE Type Receiver_List_Users_Tbl Is Table Of Receiver_List_Users_Rt\n</code></pre>\n\n<p>This is minimal complete Java Spring Boot application to invoke it:</p>\n\n<p>Pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.14.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n            &lt;version&gt;11.2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>src/main/resources/application.properties</p>\n\n<pre><code>spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\nspring.datasource.url=jdbc:oracle:thin:@192.168.1.233:1521/sis1\nspring.datasource.username=&lt;omitted&gt;\nspring.datasource.password=&lt;omitted&gt;\nspring.datasource.tomcat.test-while-idle=true\nspring.datasource.tomcat.test-on-borrow=true\nspring.datasource.tomcat.test-on-return=false\nspring.datasource.tomcat.validation-query=select 1 from dual\nspring.datasource.tomcat.max-active=100\nspring.datasource.tomcat.max-wait=10000\nspring.datasource.tomcat.remove-abandoned-timeout=60\nspring.datasource.tomcat.remove-abandoned=true\nspring.datasource.tomcat.log-abandoned=true\n</code></pre>\n\n<p>src/main/java/com/test/test/TestApplication.java</p>\n\n<pre><code>package com.test.test;\n\nimport java.sql.CallableStatement;\nimport java.sql.Connection;\nimport java.sql.Statement;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.ApplicationArguments;\nimport org.springframework.boot.ApplicationRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.jdbc.datasource.DataSourceUtils;\n\nimport oracle.sql.ARRAY;\nimport oracle.sql.ArrayDescriptor;\nimport oracle.sql.STRUCT;\nimport oracle.sql.StructDescriptor;\n\n@SpringBootApplication\npublic class TestApplication implements ApplicationRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n\n    @Autowired\n    DataSource dataSource;\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        Connection conn = DataSourceUtils.getConnection(dataSource);\n        CallableStatement callStmt = null;\n\n        Statement alterDateFormatStmt = conn.createStatement();\n        alterDateFormatStmt.execute(\"alter session set NLS_DATE_FORMAT = 'YYYY-MM-DD'\");\n        alterDateFormatStmt.close();\n\n        // create PLSQL procedure statement\n        String stmStr = \"{call Notification_Manage_v2.Send_Message_Test (?)}\";\n\n        // create Oracle statement and set parameters\n        callStmt = conn.prepareCall(stmStr);\n\n        StructDescriptor recordDescriptor = StructDescriptor.createDescriptor(\"RECEIVER_LIST_USERS_RT\",\n                callStmt.getConnection());\n        ArrayDescriptor arrayDescriptor = ArrayDescriptor.createDescriptor(\"RECEIVER_LIST_USERS_TBL\",\n                callStmt.getConnection());\n        callStmt.setObject(1, new ARRAY(arrayDescriptor, callStmt.getConnection(),\n                new STRUCT[] { new STRUCT(recordDescriptor, callStmt.getConnection(), new Object[] { \"test\" }) }));\n\n        callStmt.execute();\n    }\n\n}\n</code></pre>\n\n<p>However, after running this, this is what I see in <code>Transactions</code> table <code>Param_values</code> column:</p>\n\n<pre><code>i_Receiver_List_Users_Tbl =&gt; Receiver_List_Users_Tbl(Receiver_List_Users_Rt ())\n</code></pre>\n\n<p>Any insight would be much appreciated.</p>\n\n<hr>\n\n<p>This is how from DB side the <code>param_values</code> column is formed:</p>\n\n<pre><code>CREATE OR REPLACE Type Receiver_List_Users_Rt Force As Object (User_Id Varchar2(30 Char));\nCREATE OR REPLACE Type Receiver_List_Users_Tbl Is Table Of Receiver_List_Users_Rt;\n\n\nProcedure Send_Message_Test (i_Receiver_List_Users_Tbl In Receiver_List_Users_Tbl\n                            ) Is\n  --\n  tbl_Receiver_List_Users    Receiver_List_Users_Tbl := Receiver_List_Users_Tbl();\n  v_Param_Receiver_List_Users Varchar2(3000);\n  --\nBegin\n  --\n  For e_Usr In (Select t_Receiver_List_Users.User_Id User_Id\n                From Table(i_Receiver_List_Users_Tbl) t_Receiver_List_Users\n               ) Loop\n    --\n    v_Param_Receiver_List_Users := v_Param_Receiver_List_Users ||\n                       Case When v_Param_Receiver_List_Users Is Not Null Then ', ' End||\n                       'Receiver_List_Users_Rt ('||e_Usr.User_Id||')';\n    --\n  End Loop;\n  --\n  If v_Param_Receiver_List_Users Is Not Null Then\n    v_Param_Receiver_List_Users := 'Receiver_List_Users_Tbl('||v_Param_Receiver_List_Users||')';\n  End If;\n  --\n  --\n  dbms_output.put_Line('i_Receiver_List_Users_Tbl =&gt; '||v_Param_Receiver_List_Users); -- !!!!!!!! no values receive\n  --\n  --\nEnd;\n</code></pre>\n"},{"tags":["java","spring-boot","web-services","soap","http-method"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1635992392,"post_id":69832914,"comment_id":123441985,"body_markdown":"How do you know that get is sent instead post? Do you have some error?","body":"How do you know that get is sent instead post? Do you have some error?"},{"owner":{"account_id":11228796,"reputation":11,"user_id":8237619,"display_name":"Renato Souto"},"score":0,"creation_date":1636033954,"post_id":69832914,"comment_id":123453698,"body_markdown":"I get the same error that when I do it through Postman, and you can see the image that the connection is using the GET method. I&#39;ve tried setting it in the PartnerWSHttpHeaderCallBack, but it did not work either.","body":"I get the same error that when I do it through Postman, and you can see the image that the connection is using the GET method. I&#39;ve tried setting it in the PartnerWSHttpHeaderCallBack, but it did not work either."}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636102919,"creation_date":1635996347,"answer_id":69834220,"question_id":69832914,"body_markdown":"Had a look at both 6 api and 8 api docs for spring and find that way is almost impossible (if not it is impossible) because as you are finding there does not appear to be a method in that hierarchy set of classes and interfaces (IN YOUR FORM OF CODE) a sensible coherent way of converting the http connection to &quot;POST&quot; , it will only send &quot;GET&quot;.\r\nI do understand that the HttpUrlConnection is not java.net and is an org.spring. but the spring connections must be obtained through extensions and the instance context of the connected objects.\r\nthe spring framework documentation seems erroneous also because it shows no-where org.springframework.ws.transport.TransportConstants and org.springframework.ws.transport.http.HttpTransportConstants are implemented.\r\nNiether taking a look searching the web.\r\nAll i can suggest &quot;trying&quot; is this **however &quot;Spring.org project&quot; needs to clearly document how to set the constants for those interfaces AND if anything actually implements them !**\r\n\r\n\r\n\r\n    /*\r\n                org.springframework.ws.transport.TransportConstants\r\n                import org.springframework.ws.transport.http.HttpTransportConstants\r\n                */\r\n                \r\n                HttpTransportConstants httCxt = ((HttpTransportConstants)TransportContextHolder.getTransportContext());\r\n                // perhaps httCxt.&quot;METHOD_POST&quot;;\r\n            httCxt.METHOD_POST;\r\n        // no really, there should be an implementing class in the .transport packages that uses and sets this however i could not locate one throughout the ws classes and interfaces.\r\n        // all interface variables are static and final (because interfaces are abstract they can be cast together)\r\n                TransportContext context = (TransportContext)httCxt;\r\n\r\nHere is an article that seems to have some way alike\r\n    https://pretagteam.com/question/soap-request-to-webservice-with-java\r\n     however i think they use a java.net HttpURLConnection\r\n\r\n*There is a similar HttpURLConnection object in spring*\r\n\r\n*** The spring docs also do not show full hierarchy on identical classes and interfaces**\r\n\r\n\r\n\r\n    org.springframework.ws.transport.http\r\n    Class HttpUrlConnection IMPLEMENTS org.springframework.ws.transport\r\n    Interface WebServiceConnection\r\n    \r\n    The following worked many years back for applets and since finding ambiguous docs naming it appears this would work (or be immensely close)\r\n    \r\n    To make a org.springframework.ws.transport.http.HttpUrlConnection\r\n    \r\n    make a protected method \r\n    \r\n    \r\n    protected org.springframework.ws.transport.http.HttpUrlConnection makeConnHttp(String uuu){\r\n        java.net.URL urli = new java.net.URL(uuu);\r\n        Java.net.UrlConnection urlcon = new Java.net.UrlConnection(urli);\r\n        Java.net.HttpUrlConnection netUrl = (Java.net.HttpUrlConnection)urlcon;\r\n        netUrl.setRequestMethod(&quot;POST&quot;);\r\n        org.springframework.ws.transport.http.HttpUrlConnection wsUrlConn = new org.springframework.ws.transport.http.HttpUrlConnection(netUrl);\r\n        return (org.springframework.ws.transport.http.HttpUrlConnection)wsUrlConn;\r\n        }\r\n        \r\n        public org.springframework.ws.transport.http.HttpUrlConnection getWSconnectionHttp(String uuu){\r\n        return (org.springframework.ws.transport.http.HttpUrlConnection)makeConnHttp(uuu);\r\n        }\r\n    \r\n    // spring 2.1.4 HttpUrlConnection is also a WebServiceConnection\r\n    org.springframework.ws.transport.WebServiceConnection wdConnsvc = (org.springframework.ws.transport.WebServiceConnection)getWSconnectionHttp(uuu);\r\n\r\nIt is not known to me whether the api process calls open()/close()  on UrLConnection or that has to be done manually.\r\n\r\n\r\n**Where your code goes wrong**\r\nNotice how your code gets a TransportContext and it gets a WebServiceConnection.\r\nThat produced object instance is a SEPERATE object instance not related to the later constructed spring framework HttpUrlConnection.\r\nYou could open the connection but it is not the WebServiceConnection object constructed with the transport context.\r\n\r\nThe problem is the org spring HttpUrlConnection IS( a WebServiceConnection) also by polymorphism , so you do not need to obtain a WebServiceConnection because you would have that from creating a org.spring HttpUrlConnection.\r\nHowever an org spring HttpUrlConnection must be fed an implementing coded java.net.HttpUrlConnection for the actual networking, the org spring HttpUrlConnection is more of a joiner wrapper for obtaining and managing data bound to the java.net.HttpUrlConnection and the containers registrations of the service endpoints.\r\n\r\nYour code would require joining the two parts by replacing any instance of org.springframework....HttpUrlConnection with an/or-the externally created HttpUrlConnection using lava.lang.reflect.\r\n\r\nHowever, the best method for binding objectes in that problem is extend from the class org.springframework.ws.transport.http.HttpUrlConnection to prevent binding and access problems.\r\n","title":"Do a HTTP POST instead of a GET","body":"<p>Had a look at both 6 api and 8 api docs for spring and find that way is almost impossible (if not it is impossible) because as you are finding there does not appear to be a method in that hierarchy set of classes and interfaces (IN YOUR FORM OF CODE) a sensible coherent way of converting the http connection to &quot;POST&quot; , it will only send &quot;GET&quot;.\nI do understand that the HttpUrlConnection is not java.net and is an org.spring. but the spring connections must be obtained through extensions and the instance context of the connected objects.\nthe spring framework documentation seems erroneous also because it shows no-where org.springframework.ws.transport.TransportConstants and org.springframework.ws.transport.http.HttpTransportConstants are implemented.\nNiether taking a look searching the web.\nAll i can suggest &quot;trying&quot; is this <strong>however &quot;Spring.org project&quot; needs to clearly document how to set the constants for those interfaces AND if anything actually implements them !</strong></p>\n<pre><code>/*\n            org.springframework.ws.transport.TransportConstants\n            import org.springframework.ws.transport.http.HttpTransportConstants\n            */\n            \n            HttpTransportConstants httCxt = ((HttpTransportConstants)TransportContextHolder.getTransportContext());\n            // perhaps httCxt.&quot;METHOD_POST&quot;;\n        httCxt.METHOD_POST;\n    // no really, there should be an implementing class in the .transport packages that uses and sets this however i could not locate one throughout the ws classes and interfaces.\n    // all interface variables are static and final (because interfaces are abstract they can be cast together)\n            TransportContext context = (TransportContext)httCxt;\n</code></pre>\n<p>Here is an article that seems to have some way alike\n<a href=\"https://pretagteam.com/question/soap-request-to-webservice-with-java\" rel=\"nofollow noreferrer\">https://pretagteam.com/question/soap-request-to-webservice-with-java</a>\nhowever i think they use a java.net HttpURLConnection</p>\n<p><em>There is a similar HttpURLConnection object in spring</em></p>\n<p>*** The spring docs also do not show full hierarchy on identical classes and interfaces**</p>\n<pre><code>org.springframework.ws.transport.http\nClass HttpUrlConnection IMPLEMENTS org.springframework.ws.transport\nInterface WebServiceConnection\n\nThe following worked many years back for applets and since finding ambiguous docs naming it appears this would work (or be immensely close)\n\nTo make a org.springframework.ws.transport.http.HttpUrlConnection\n\nmake a protected method \n\n\nprotected org.springframework.ws.transport.http.HttpUrlConnection makeConnHttp(String uuu){\n    java.net.URL urli = new java.net.URL(uuu);\n    Java.net.UrlConnection urlcon = new Java.net.UrlConnection(urli);\n    Java.net.HttpUrlConnection netUrl = (Java.net.HttpUrlConnection)urlcon;\n    netUrl.setRequestMethod(&quot;POST&quot;);\n    org.springframework.ws.transport.http.HttpUrlConnection wsUrlConn = new org.springframework.ws.transport.http.HttpUrlConnection(netUrl);\n    return (org.springframework.ws.transport.http.HttpUrlConnection)wsUrlConn;\n    }\n    \n    public org.springframework.ws.transport.http.HttpUrlConnection getWSconnectionHttp(String uuu){\n    return (org.springframework.ws.transport.http.HttpUrlConnection)makeConnHttp(uuu);\n    }\n\n// spring 2.1.4 HttpUrlConnection is also a WebServiceConnection\norg.springframework.ws.transport.WebServiceConnection wdConnsvc = (org.springframework.ws.transport.WebServiceConnection)getWSconnectionHttp(uuu);\n</code></pre>\n<p>It is not known to me whether the api process calls open()/close()  on UrLConnection or that has to be done manually.</p>\n<p><strong>Where your code goes wrong</strong>\nNotice how your code gets a TransportContext and it gets a WebServiceConnection.\nThat produced object instance is a SEPERATE object instance not related to the later constructed spring framework HttpUrlConnection.\nYou could open the connection but it is not the WebServiceConnection object constructed with the transport context.</p>\n<p>The problem is the org spring HttpUrlConnection IS( a WebServiceConnection) also by polymorphism , so you do not need to obtain a WebServiceConnection because you would have that from creating a org.spring HttpUrlConnection.\nHowever an org spring HttpUrlConnection must be fed an implementing coded java.net.HttpUrlConnection for the actual networking, the org spring HttpUrlConnection is more of a joiner wrapper for obtaining and managing data bound to the java.net.HttpUrlConnection and the containers registrations of the service endpoints.</p>\n<p>Your code would require joining the two parts by replacing any instance of org.springframework....HttpUrlConnection with an/or-the externally created HttpUrlConnection using lava.lang.reflect.</p>\n<p>However, the best method for binding objectes in that problem is extend from the class org.springframework.ws.transport.http.HttpUrlConnection to prevent binding and access problems.</p>\n"}],"owner":{"account_id":11228796,"reputation":11,"user_id":8237619,"display_name":"Renato Souto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636102919,"creation_date":1635982414,"question_id":69832914,"body_markdown":"The WebService I&#39;m trying to use is SOAP and receives only the HTTP method POST on its requests, but for some reason, I&#39;m not being able to make that happen and it&#39;s sending only GET.\r\n\r\nI&#39;ve been loosely following this guide: https://spring.io/guides/gs/consuming-web-service/\r\n\r\nI&#39;ve thought that it wouldn’t be the case of the wrong method, but I&#39;ve tried via Postman with the logged envelope and it worked fine, also this:\r\n\r\n[debugger image with GET][1]\r\n\r\nThis is how I&#39;ve done it:\r\n\r\n```java\r\npackage com.example.ws;\r\n\r\nimport com.demo.partner.wsdl.ObjectFactory;\r\nimport com.demo.partner.wsdl.StoreInformation;\r\nimport com.example.util.PartnerWSHttpHeaderCallBack;\r\nimport com.example.util.SoapUtils;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.ws.client.core.support.WebServiceGatewaySupport;\r\n\r\npublic class StoreInformationClient extends WebServiceGatewaySupport {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(StoreInformationClient.class);\r\n\r\n    @Autowired\r\n    private ObjectFactory objectFactory;\r\n\r\n    public StoreInformation getStoreInformation() {\r\n\r\n        StoreInformation storeInformation = objectFactory.createStoreInformation();\r\n        storeInformation.setStoreID(&quot;99633&quot;);\r\n\r\n        return  (StoreInformation) getWebServiceTemplate()\r\n            .marshalSendAndReceive(&quot;https://aurl.com/api/ws.wsdl&quot;, SoapUtils.buildEnvelope(storeInformation, StoreInformation.class),\r\n                new PartnerWSHttpHeaderCallBack());\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage com.example.configuration;\r\n\r\nimport com.demo.partner.wsdl.ObjectFactory;\r\nimport com.example.ws.StoreInformationClient;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.oxm.jaxb.Jaxb2Marshaller;\r\n\r\n@Configuration\r\npublic class AppConfiguration {\r\n\r\n    @Bean\r\n    public Jaxb2Marshaller marshaller() {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(&quot;com.demo.partner.wsdl&quot;);\r\n        return marshaller;\r\n    }\r\n\r\n    @Bean\r\n    public StoreInformationClient countryClient(Jaxb2Marshaller marshaller) {\r\n        StoreInformationClient client = new StoreInformationClient();\r\n        client.setMarshaller(marshaller);\r\n        client.setUnmarshaller(marshaller);\r\n        return client;\r\n    }\r\n\r\n    @Bean\r\n    public ObjectFactory objectFactory() {\r\n        return new ObjectFactory();\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npackage com.example.util;\r\n\r\nimport org.springframework.ws.WebServiceMessage;\r\nimport org.springframework.ws.client.core.WebServiceMessageCallback;\r\nimport org.springframework.ws.transport.WebServiceConnection;\r\nimport org.springframework.ws.transport.context.TransportContext;\r\nimport org.springframework.ws.transport.context.TransportContextHolder;\r\nimport org.springframework.ws.transport.http.HttpUrlConnection;\r\n\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class PartnerWSHttpHeaderCallBack implements WebServiceMessageCallback {\r\n\r\n    @Override\r\n    public void doWithMessage(WebServiceMessage webServiceMessage) {\r\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n\r\n        headers.put(&quot;Authorization&quot;, &quot;Basic definitelyABase64value&quot;);\r\n        headers.put(&quot;SOAPAction&quot;, &quot;http://www.partner.com/action/GetStoreInformation&quot;);\r\n        headers.put(&quot;Content-Type&quot;, &quot;text/xml&quot;);\r\n\r\n        addRequestHeader(headers);\r\n    }\r\n\r\n    private void addRequestHeader(Map&lt;String, String&gt; headers) {\r\n        TransportContext context = TransportContextHolder.getTransportContext();\r\n        WebServiceConnection connection = context.getConnection();\r\n\r\n        if (connection instanceof HttpUrlConnection) {\r\n            HttpUrlConnection conn = (HttpUrlConnection) connection;\r\n            for (Map.Entry&lt;String, String&gt; entry : headers.entrySet()) {\r\n                String k = entry.getKey();\r\n                String v = entry.getValue();\r\n                try {\r\n                    conn.addRequestHeader(k, v);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RpQWt.png","title":"Do a HTTP POST instead of a GET","body":"<p>The WebService I'm trying to use is SOAP and receives only the HTTP method POST on its requests, but for some reason, I'm not being able to make that happen and it's sending only GET.</p>\n<p>I've been loosely following this guide: <a href=\"https://spring.io/guides/gs/consuming-web-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-web-service/</a></p>\n<p>I've thought that it wouldn’t be the case of the wrong method, but I've tried via Postman with the logged envelope and it worked fine, also this:</p>\n<p><a href=\"https://i.stack.imgur.com/RpQWt.png\" rel=\"nofollow noreferrer\">debugger image with GET</a></p>\n<p>This is how I've done it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.ws;\n\nimport com.demo.partner.wsdl.ObjectFactory;\nimport com.demo.partner.wsdl.StoreInformation;\nimport com.example.util.PartnerWSHttpHeaderCallBack;\nimport com.example.util.SoapUtils;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.ws.client.core.support.WebServiceGatewaySupport;\n\npublic class StoreInformationClient extends WebServiceGatewaySupport {\n\n    private static final Logger log = LoggerFactory.getLogger(StoreInformationClient.class);\n\n    @Autowired\n    private ObjectFactory objectFactory;\n\n    public StoreInformation getStoreInformation() {\n\n        StoreInformation storeInformation = objectFactory.createStoreInformation();\n        storeInformation.setStoreID(&quot;99633&quot;);\n\n        return  (StoreInformation) getWebServiceTemplate()\n            .marshalSendAndReceive(&quot;https://aurl.com/api/ws.wsdl&quot;, SoapUtils.buildEnvelope(storeInformation, StoreInformation.class),\n                new PartnerWSHttpHeaderCallBack());\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.configuration;\n\nimport com.demo.partner.wsdl.ObjectFactory;\nimport com.example.ws.StoreInformationClient;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.oxm.jaxb.Jaxb2Marshaller;\n\n@Configuration\npublic class AppConfiguration {\n\n    @Bean\n    public Jaxb2Marshaller marshaller() {\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n        marshaller.setContextPath(&quot;com.demo.partner.wsdl&quot;);\n        return marshaller;\n    }\n\n    @Bean\n    public StoreInformationClient countryClient(Jaxb2Marshaller marshaller) {\n        StoreInformationClient client = new StoreInformationClient();\n        client.setMarshaller(marshaller);\n        client.setUnmarshaller(marshaller);\n        return client;\n    }\n\n    @Bean\n    public ObjectFactory objectFactory() {\n        return new ObjectFactory();\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.util;\n\nimport org.springframework.ws.WebServiceMessage;\nimport org.springframework.ws.client.core.WebServiceMessageCallback;\nimport org.springframework.ws.transport.WebServiceConnection;\nimport org.springframework.ws.transport.context.TransportContext;\nimport org.springframework.ws.transport.context.TransportContextHolder;\nimport org.springframework.ws.transport.http.HttpUrlConnection;\n\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class PartnerWSHttpHeaderCallBack implements WebServiceMessageCallback {\n\n    @Override\n    public void doWithMessage(WebServiceMessage webServiceMessage) {\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n\n        headers.put(&quot;Authorization&quot;, &quot;Basic definitelyABase64value&quot;);\n        headers.put(&quot;SOAPAction&quot;, &quot;http://www.partner.com/action/GetStoreInformation&quot;);\n        headers.put(&quot;Content-Type&quot;, &quot;text/xml&quot;);\n\n        addRequestHeader(headers);\n    }\n\n    private void addRequestHeader(Map&lt;String, String&gt; headers) {\n        TransportContext context = TransportContextHolder.getTransportContext();\n        WebServiceConnection connection = context.getConnection();\n\n        if (connection instanceof HttpUrlConnection) {\n            HttpUrlConnection conn = (HttpUrlConnection) connection;\n            for (Map.Entry&lt;String, String&gt; entry : headers.entrySet()) {\n                String k = entry.getKey();\n                String v = entry.getValue();\n                try {\n                    conn.addRequestHeader(k, v);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","singleton","bukkit"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1581147753,"post_id":60124893,"comment_id":106340480,"body_markdown":"That isn&#39;t (quite) legal Java code. There are **many** ways to implement a `Singleton`, `enum` seems to be the most popular these days; why don&#39;t you research &quot;Java Singleton&quot;","body":"That isn&#39;t (quite) legal Java code. There are <b>many</b> ways to implement a <code>Singleton</code>, <code>enum</code> seems to be the most popular these days; why don&#39;t you research &quot;Java Singleton&quot;"},{"owner":{"account_id":8544053,"reputation":997,"user_id":6418029,"display_name":"Ashutosh"},"score":0,"creation_date":1581147879,"post_id":60124893,"comment_id":106340501,"body_markdown":"Go through this - https://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-examples","body":"Go through this - <a href=\"https://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-examples\" rel=\"nofollow noreferrer\">journaldev.com/1377/&hellip;</a>"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1581153276,"post_id":60124893,"comment_id":106341436,"body_markdown":"Generally speaking, you shouldn&#39;t use language singletons for anything that has state; it causes far too many problems. Singletons should be reserved for things like implementations of mathematical formulas that never vary. In the case that a singleton really makes sense, use the enum approach.","body":"Generally speaking, you shouldn&#39;t use language singletons for anything that has state; it causes far too many problems. Singletons should be reserved for things like implementations of mathematical formulas that never vary. In the case that a singleton really makes sense, use the enum approach."}],"answers":[{"tags":[],"owner":{"account_id":6994749,"reputation":397,"user_id":5362755,"display_name":"Shivam Mohan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581147787,"creation_date":1581147787,"answer_id":60124915,"question_id":60124893,"body_markdown":"Best way to implement singleton pattern in java is via ENUMS, you can refer the code below for the same:\r\n\r\nEnum Class:\r\n\r\n    public enum SingletonEnum {\r\n        INSTANCE;\r\n        int value;\r\n        public int getValue() {\r\n            return value;\r\n        }\r\n        public void setValue(int value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\nCalling class:\r\n\r\n    public class EnumDemo {\r\n        public static void main(String[] args) {\r\n            SingletonEnum singleton = SingletonEnum.INSTANCE;\r\n            System.out.println(singleton.getValue());\r\n            singleton.setValue(2);\r\n            System.out.println(singleton.getValue());\r\n        }\r\n    }\r\n\r\n","title":"Singleton java implementation","body":"<p>Best way to implement singleton pattern in java is via ENUMS, you can refer the code below for the same:</p>\n\n<p>Enum Class:</p>\n\n<pre><code>public enum SingletonEnum {\n    INSTANCE;\n    int value;\n    public int getValue() {\n        return value;\n    }\n    public void setValue(int value) {\n        this.value = value;\n    }\n}\n</code></pre>\n\n<p>Calling class:</p>\n\n<pre><code>public class EnumDemo {\n    public static void main(String[] args) {\n        SingletonEnum singleton = SingletonEnum.INSTANCE;\n        System.out.println(singleton.getValue());\n        singleton.setValue(2);\n        System.out.println(singleton.getValue());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13861613,"reputation":35,"user_id":10007128,"display_name":"陳昇昇"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581147894,"creation_date":1581147894,"answer_id":60124919,"question_id":60124893,"body_markdown":"This is the singleton pattern, you can search for google. ex :\r\n\r\n    public final class Singleton {\r\n        private static final Singleton INSTANCE = new Singleton();\r\n\r\n        private Singleton() {}\r\n\r\n        public static Singleton getInstance() {\r\n            return INSTANCE;\r\n        }\r\n    }\r\n","title":"Singleton java implementation","body":"<p>This is the singleton pattern, you can search for google. ex :</p>\n\n<pre><code>public final class Singleton {\n    private static final Singleton INSTANCE = new Singleton();\n\n    private Singleton() {}\n\n    public static Singleton getInstance() {\n        return INSTANCE;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16569814,"reputation":497,"user_id":11973277,"display_name":"FahimAhmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1581148596,"creation_date":1581148256,"answer_id":60124947,"question_id":60124893,"body_markdown":"Following is a demonstration of using Singleton pattern in java. It is using ***Lazy Initialization***, so that the singleton instance is only allocated on-call. \r\n\r\n*The idea behind singleton pattern is to basically **ensure that a class has only one instance**, while providing a global access point to this instance*.\r\n\r\nAnd to achieve that, the basic methodology is to ***keep the constructor private, while exposing a public method for getting the singleton instance of that class***.\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    \r\n    class Box\r\n    {\r\n    \tprivate int x,y,z;\r\n    \tprivate static Box instance;\r\n    \r\n    \tprivate Box(){\r\n    \t\tx=y=z=2;\r\n    \t}\r\n    \r\n    \tpublic static Box getSingleTonInsnace(){\r\n    \t\tif(instance == null){\r\n    \t\t\tinstance = new Box();\r\n    \t\t}\r\n    \t\treturn instance;\r\n    \t}\r\n    \tpublic String toString(){\r\n    \t\treturn String.format(&quot;Box with volume = %d&quot;, x*y*z);\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    public class Main\r\n    {\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\tBox box = Box.getSingleTonInsnace();\r\n    \t\tSystem.out.println(box);\r\n    \t}\r\n    }\r\n\r\nYou can also view this [link][1] to know more about other ways to use singleton pattern in java.\r\n\r\n\r\n  [1]: https://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-examples","title":"Singleton java implementation","body":"<p>Following is a demonstration of using Singleton pattern in java. It is using <strong><em>Lazy Initialization</em></strong>, so that the singleton instance is only allocated on-call. </p>\n\n<p><em>The idea behind singleton pattern is to basically <strong>ensure that a class has only one instance</strong>, while providing a global access point to this instance</em>.</p>\n\n<p>And to achieve that, the basic methodology is to <strong><em>keep the constructor private, while exposing a public method for getting the singleton instance of that class</em></strong>.</p>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\nclass Box\n{\n    private int x,y,z;\n    private static Box instance;\n\n    private Box(){\n        x=y=z=2;\n    }\n\n    public static Box getSingleTonInsnace(){\n        if(instance == null){\n            instance = new Box();\n        }\n        return instance;\n    }\n    public String toString(){\n        return String.format(\"Box with volume = %d\", x*y*z);\n    }\n\n}\n\npublic class Main\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        Box box = Box.getSingleTonInsnace();\n        System.out.println(box);\n    }\n}\n</code></pre>\n\n<p>You can also view this <a href=\"https://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-examples\" rel=\"nofollow noreferrer\">link</a> to know more about other ways to use singleton pattern in java.</p>\n"}],"owner":{"account_id":14992782,"reputation":133,"user_id":10823236,"display_name":"Raffon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":60124947,"answer_count":3,"score":-1,"last_activity_date":1636102833,"creation_date":1581147529,"question_id":60124893,"body_markdown":"I don&#39;t really understand the concept of singleton in my bukkit plugin. In my plugin I need to get the plugin data folder and change the json file. I have to use the function``this.getDataFolder().getAbsolutePath();`` but it cannot be used in my plugin because I use static functions. \r\nI already tried to do something like this: \r\n```java\r\n@Override\r\npublic void onEnable() {\r\n   File file = getFile();\r\n}\r\n\r\npublic static getFile() {\r\n   return this.getDataFolder().getAbsolutePath();\r\n}\r\n```\r\nI use static functions because my plugin is divided in multiple files.","title":"Singleton java implementation","body":"<p>I don't really understand the concept of singleton in my bukkit plugin. In my plugin I need to get the plugin data folder and change the json file. I have to use the function<code>this.getDataFolder().getAbsolutePath();</code> but it cannot be used in my plugin because I use static functions.\nI already tried to do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onEnable() {\n   File file = getFile();\n}\n\npublic static getFile() {\n   return this.getDataFolder().getAbsolutePath();\n}\n</code></pre>\n<p>I use static functions because my plugin is divided in multiple files.</p>\n"},{"tags":["java","spring","eclipse","spring-boot","certificate"],"answers":[{"tags":[],"owner":{"account_id":355585,"reputation":785,"user_id":694610,"accept_rate":93,"display_name":"Gustavo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636102259,"creation_date":1636102259,"answer_id":69850617,"question_id":69839616,"body_markdown":"Finally this was the solution:\r\n\r\n\r\n 1. Go to the Spring [page][1] and download the certificate from padlock in the left of the URL.\r\n 2. Include it in the keystore of the java version used to initialize the Spring tool suite `C:\\Program Files\\Java\\jdk-17.0.1\\bin&gt;&quot;keytool -import -alias springiocertificate -keystore &quot;C:\\Program Files\\Java\\jdk-17.0.1\\lib\\security\\cacerts&quot; -storepass changeit -file C:\\Users\\XXX\\Desktop\\springiocertificate.cer`\r\n\r\n\r\n  [1]: https://spring.io","title":"SunCertPathBuilderException in Spring Tool Suite 4 when starting a project","body":"<p>Finally this was the solution:</p>\n<ol>\n<li>Go to the Spring <a href=\"https://spring.io\" rel=\"nofollow noreferrer\">page</a> and download the certificate from padlock in the left of the URL.</li>\n<li>Include it in the keystore of the java version used to initialize the Spring tool suite <code>C:\\Program Files\\Java\\jdk-17.0.1\\bin&gt;&quot;keytool -import -alias springiocertificate -keystore &quot;C:\\Program Files\\Java\\jdk-17.0.1\\lib\\security\\cacerts&quot; -storepass changeit -file C:\\Users\\XXX\\Desktop\\springiocertificate.cer</code></li>\n</ol>\n"}],"owner":{"account_id":355585,"reputation":785,"user_id":694610,"accept_rate":93,"display_name":"Gustavo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636102259,"creation_date":1636030681,"question_id":69839616,"body_markdown":"Anyone know how I could pass the proxy if this is the real problem in order to be able to start a new pring starter project. To clarify you have down here the error and what I&#39;m trying to do.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uNZMl.png\r\n\r\nThanks!!!","title":"SunCertPathBuilderException in Spring Tool Suite 4 when starting a project","body":"<p>Anyone know how I could pass the proxy if this is the real problem in order to be able to start a new pring starter project. To clarify you have down here the error and what I'm trying to do.</p>\n<p><a href=\"https://i.stack.imgur.com/uNZMl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uNZMl.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks!!!</p>\n"},{"tags":["java","serialization","enums"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1636065669,"post_id":69846600,"comment_id":123465431,"body_markdown":"Please include a [mre] that demonstrates the problem and adds more clarification, including how it will be used, serialization, etc.  Skeletal code does not  help portray the issue.","body":"Please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem and adds more clarification, including how it will be used, serialization, etc.  Skeletal code does not  help portray the issue."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1636066600,"post_id":69846600,"comment_id":123465662,"body_markdown":"It&#39;s not clear what you mean by &quot;write an enum as a class&quot; - I don&#39;t understand what you mean. Can you explain in more detail what exactly you want to do?","body":"It&#39;s not clear what you mean by &quot;write an enum as a class&quot; - I don&#39;t understand what you mean. Can you explain in more detail what exactly you want to do?"}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636101709,"creation_date":1636101709,"answer_id":69850506,"question_id":69846600,"body_markdown":"Having such large `enum`s does not make sense. Don&#39;t you think that you have too much data in there?\r\n\r\nYou are using `enums` as a way to map between unique object instances and string names. So replace your enums with another type, for example, `String`. \r\n\r\n#### TL;DR\r\n\r\nYou cannot use `enum` for what you require. It does not work. You could use an `ArrayList` or `array` with `Strings` which is filled through a `file` or `db` .","title":"How to write an enum as a class?","body":"<p>Having such large <code>enum</code>s does not make sense. Don't you think that you have too much data in there?</p>\n<p>You are using <code>enums</code> as a way to map between unique object instances and string names. So replace your enums with another type, for example, <code>String</code>.</p>\n<h4>TL;DR</h4>\n<p>You cannot use <code>enum</code> for what you require. It does not work. You could use an <code>ArrayList</code> or <code>array</code> with <code>Strings</code> which is filled through a <code>file</code> or <code>db</code> .</p>\n"}],"owner":{"account_id":7974390,"reputation":303,"user_id":6018032,"accept_rate":40,"display_name":"Axel Carr&#233;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1636101709,"creation_date":1636065183,"question_id":69846600,"body_markdown":"In my project, I manipulate instances of the following class :\r\n\r\n    public class MyClass implements Serializable{\r\n    \r\n        private MyEnum model;\r\n        \r\n        private Object something; //NOT TRANSIENT\r\n        \r\n        public MyClass(MyEnum model){\r\n            \r\n            this.model = model;\r\n            //something = ...\r\n            \r\n        }\r\n        \r\n    }\r\n\r\nEvery instance of `MyClass` is created by passing it a model\r\n\r\n    public enum MyEnum{\r\n        \r\n        A,\r\n        B,\r\n        C,\r\n        //A lot more of these...\r\n        ;\r\n        \r\n    }\r\n\r\nI often have to serialize/deserialize instances of `MyClass`, this is why I marked its field `something` as NOT transient.\r\n\r\nThe behavior is such that :\r\n\r\n1) During serialization, `something` and the &quot;identifier&quot; of `model` will be serialized.\r\n\r\n2) During deserialization, `something` will be deserialized and `model` will be equal to what it was before, without having to deserialize it since it&#39;s an enum.\r\n\r\nBut I have so many of these models that I&#39;m getting for my enum :\r\n\r\n&quot;The code for the static initializer is exceeding the 65535 bytes limit&quot;\r\n\r\nWhat is the proper way to fix this problem? How to write this enum as a class to work around this limitation?","title":"How to write an enum as a class?","body":"<p>In my project, I manipulate instances of the following class :</p>\n<pre><code>public class MyClass implements Serializable{\n\n    private MyEnum model;\n    \n    private Object something; //NOT TRANSIENT\n    \n    public MyClass(MyEnum model){\n        \n        this.model = model;\n        //something = ...\n        \n    }\n    \n}\n</code></pre>\n<p>Every instance of <code>MyClass</code> is created by passing it a model</p>\n<pre><code>public enum MyEnum{\n    \n    A,\n    B,\n    C,\n    //A lot more of these...\n    ;\n    \n}\n</code></pre>\n<p>I often have to serialize/deserialize instances of <code>MyClass</code>, this is why I marked its field <code>something</code> as NOT transient.</p>\n<p>The behavior is such that :</p>\n<ol>\n<li><p>During serialization, <code>something</code> and the &quot;identifier&quot; of <code>model</code> will be serialized.</p>\n</li>\n<li><p>During deserialization, <code>something</code> will be deserialized and <code>model</code> will be equal to what it was before, without having to deserialize it since it's an enum.</p>\n</li>\n</ol>\n<p>But I have so many of these models that I'm getting for my enum :</p>\n<p>&quot;The code for the static initializer is exceeding the 65535 bytes limit&quot;</p>\n<p>What is the proper way to fix this problem? How to write this enum as a class to work around this limitation?</p>\n"},{"tags":["java","android","android-studio","error-handling","bluetooth"],"comments":[{"owner":{"account_id":20417309,"reputation":716,"user_id":14979180,"display_name":"Danish"},"score":1,"creation_date":1636019386,"post_id":69837019,"comment_id":123447958,"body_markdown":"Share your other piece of code too.","body":"Share your other piece of code too."},{"owner":{"account_id":4407566,"reputation":1140,"user_id":3591491,"display_name":"cincy_anddeveloper"},"score":1,"creation_date":1636028168,"post_id":69837019,"comment_id":123451338,"body_markdown":"Where are you executing your Runnable from? Inside of a thread or directly calling run()?","body":"Where are you executing your Runnable from? Inside of a thread or directly calling run()?"},{"owner":{"account_id":15969733,"reputation":37,"user_id":11524235,"display_name":"Dennis L"},"score":0,"creation_date":1636101169,"post_id":69837019,"comment_id":123471741,"body_markdown":"@cincy_anddeveloper I added the code that you asked for, I am calling run from onCreate().","body":"@cincy_anddeveloper I added the code that you asked for, I am calling run from onCreate()."},{"owner":{"account_id":15969733,"reputation":37,"user_id":11524235,"display_name":"Dennis L"},"score":0,"creation_date":1636101202,"post_id":69837019,"comment_id":123471755,"body_markdown":"@Danish I have added my onCreate() function, do you need any other code snippets?","body":"@Danish I have added my onCreate() function, do you need any other code snippets?"}],"answers":[{"tags":[],"owner":{"account_id":1420542,"reputation":135,"user_id":1345262,"display_name":"iVetal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636023809,"creation_date":1636020278,"answer_id":69837447,"question_id":69837019,"body_markdown":"&gt; However when I try to run the code on my Samsung A32 5G all of the views fail to load (blank screen), the connection isn&#39;t established\r\n\r\nProbably, the code blocks the UI thread until the Bluetooth connection is established (need more details on how the `run` method is called: is it a `Runnable` implementation? if yes, then how is it executed?). Actually have to be sure that provided code is executed in a new thread. Because if the code is not executed in an additional thread, the UI thread (or it is also called the Main thread) simply does not get the control to draw the UI.\r\nSee more details about the Android UI thread in the [official doccumentation][1].\r\nOne of the rules in the documentation:\r\n\r\n&gt; Do not block the UI thread\r\n\r\nTo deal with the issue the long-running code (Bluetooth connection establishment in the particular case) should be executed in a background thread or in a service. For example, read about [worker threads][2] on the same documentation page.\r\n\r\nAnd about the logcat output\r\n\r\n    StrictMode policy violation: android.os.strictmode.LeakedClosableViolation: A resource was acquired at attached stack trace but never released.\r\n\r\nThe line\r\n\r\n    BSS.close();\r\n\r\nis only executed in the case of a successful connection. But all the resources **must** be released in any case. A better approach would be to use the [try-with-resources][3] statements. [Android Gradle plugin 3.0.0][4] or later should be used for that.\r\n\r\nAnd also regarding a connection to an Arduino HC-06 module. Could you, please, provide more details or code? What is a `BSS` variable exactly and how is it initialized? What is the code of `EstablishedBTConnection`?\r\n\r\n  [1]: https://developer.android.com/guide/components/processes-and-threads#Threads\r\n  [2]: https://developer.android.com/guide/components/processes-and-threads#WorkerThreads\r\n  [3]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [4]: https://developer.android.com/studio/write/java8-support","title":"Application doesn&#39;t load when Bluetooth Connection thread is called","body":"<blockquote>\n<p>However when I try to run the code on my Samsung A32 5G all of the views fail to load (blank screen), the connection isn't established</p>\n</blockquote>\n<p>Probably, the code blocks the UI thread until the Bluetooth connection is established (need more details on how the <code>run</code> method is called: is it a <code>Runnable</code> implementation? if yes, then how is it executed?). Actually have to be sure that provided code is executed in a new thread. Because if the code is not executed in an additional thread, the UI thread (or it is also called the Main thread) simply does not get the control to draw the UI.\nSee more details about the Android UI thread in the <a href=\"https://developer.android.com/guide/components/processes-and-threads#Threads\" rel=\"nofollow noreferrer\">official doccumentation</a>.\nOne of the rules in the documentation:</p>\n<blockquote>\n<p>Do not block the UI thread</p>\n</blockquote>\n<p>To deal with the issue the long-running code (Bluetooth connection establishment in the particular case) should be executed in a background thread or in a service. For example, read about <a href=\"https://developer.android.com/guide/components/processes-and-threads#WorkerThreads\" rel=\"nofollow noreferrer\">worker threads</a> on the same documentation page.</p>\n<p>And about the logcat output</p>\n<pre><code>StrictMode policy violation: android.os.strictmode.LeakedClosableViolation: A resource was acquired at attached stack trace but never released.\n</code></pre>\n<p>The line</p>\n<pre><code>BSS.close();\n</code></pre>\n<p>is only executed in the case of a successful connection. But all the resources <strong>must</strong> be released in any case. A better approach would be to use the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> statements. <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">Android Gradle plugin 3.0.0</a> or later should be used for that.</p>\n<p>And also regarding a connection to an Arduino HC-06 module. Could you, please, provide more details or code? What is a <code>BSS</code> variable exactly and how is it initialized? What is the code of <code>EstablishedBTConnection</code>?</p>\n"}],"owner":{"account_id":15969733,"reputation":37,"user_id":11524235,"display_name":"Dennis L"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636101469,"creation_date":1636018256,"question_id":69837019,"body_markdown":"I am making an Android application that is supposed to connect to an Arduino HC-06 module.\r\n\r\nI have looked at the [Android Documentation][1] and have tried to get it working with the provided code.\r\n\r\nHowever when I try to run the code on my Samsung A32 5G all of the views fail to load (blank screen), the connection isn&#39;t established and I get the following output from Logcat:\r\n\r\n    2021-11-04 10:25:32.798 15490-15546/com.example.carremote D/StrictMode: StrictMode policy violation: android.os.strictmode.LeakedClosableViolation: A resource was acquired at attached stack trace but never released.\r\n\r\nI have looked up the message and for me it seems to be caused by this code:\r\n\r\n    @Override\r\n    public void run()\r\n    {\r\n        try\r\n        {\r\n            while (true)\r\n            {\r\n                BS = BSS.accept();\r\n                Log.println(Log.INFO,TAG, &quot;[*] Looking for Connection&quot;);\r\n\r\n                if(BS != null)\r\n                {\r\n                    x = new EstablishedBTConnection(BS);\r\n                    Log.println(Log.INFO, TAG, &quot;[*] Connection established!&quot;);\r\n                    x.manageConnection(1);\r\n                    BSS.close();\r\n                    break;\r\n                }\r\n            }\r\n        } catch (IOException e)\r\n        {\r\n            e.printStackTrace();\r\n            Log.println(Log.INFO, TAG, &quot;[*] Connection failed!&quot;);\r\n        }\r\n    }\r\n\r\nSpecifically by:\r\n\r\n    BS = BSS.accept();\r\n\r\nI do not know how why this is giving me this message or why the connection fails. \r\n\r\nIf you need any other pieces of code I can provide them and if this question is a duplicate (I wasn&#39;t able to find any similar questions) just write a comment with the link and I will remove it.\r\n\r\nAny help is appreciated, thanks in advance!\r\n\r\nEdit:\r\n\r\nHere is the rest of the code that has been requested:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            ButtonFunctions(); //Functions to manage the Buttons\r\n            bluetoothFunctionality.run(); //Starts the Bluetooth thread\r\n    }\r\n\r\n\r\nConstructor for the Bluetooth thread, directly taken from the Android documentation.\r\n\r\n    public BluetoothFunctionality() throws IOException\r\n    {\r\n        // Use a temporary object that is later assigned to mmServerSocket\r\n        // because mmServerSocket is final.\r\n        BluetoothServerSocket tmp = null;\r\n        try {\r\n            // MY_UUID is the app&#39;s UUID string, also used by the client code.\r\n            tmp = BA.listenUsingRfcommWithServiceRecord(name, UUID);\r\n        } catch (IOException e) {\r\n            Log.e(TAG, &quot;Socket&#39;s listen() method failed&quot;, e);\r\n\r\n        }\r\n        BSS = tmp;\r\n    }\r\n\r\nThe code for EstablishedBTConnection:\r\n\r\n \r\n\r\n    public class EstablishedBTConnection\r\n    {\r\n    private BluetoothSocket BS;\r\n    public EstablishedBTConnection(BluetoothSocket BS)\r\n    {\r\n        this.BS = BS;\r\n    }\r\n\r\n    public int manageConnection(int action)\r\n    {\r\n        if(action == 1)\r\n        {\r\n            try\r\n            {\r\n                BS.getOutputStream().write(50);\r\n            } catch (IOException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/connectivity/bluetooth/connect-bluetooth-devices\r\n","title":"Application doesn&#39;t load when Bluetooth Connection thread is called","body":"<p>I am making an Android application that is supposed to connect to an Arduino HC-06 module.</p>\n<p>I have looked at the <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/connect-bluetooth-devices\" rel=\"nofollow noreferrer\">Android Documentation</a> and have tried to get it working with the provided code.</p>\n<p>However when I try to run the code on my Samsung A32 5G all of the views fail to load (blank screen), the connection isn't established and I get the following output from Logcat:</p>\n<pre><code>2021-11-04 10:25:32.798 15490-15546/com.example.carremote D/StrictMode: StrictMode policy violation: android.os.strictmode.LeakedClosableViolation: A resource was acquired at attached stack trace but never released.\n</code></pre>\n<p>I have looked up the message and for me it seems to be caused by this code:</p>\n<pre><code>@Override\npublic void run()\n{\n    try\n    {\n        while (true)\n        {\n            BS = BSS.accept();\n            Log.println(Log.INFO,TAG, &quot;[*] Looking for Connection&quot;);\n\n            if(BS != null)\n            {\n                x = new EstablishedBTConnection(BS);\n                Log.println(Log.INFO, TAG, &quot;[*] Connection established!&quot;);\n                x.manageConnection(1);\n                BSS.close();\n                break;\n            }\n        }\n    } catch (IOException e)\n    {\n        e.printStackTrace();\n        Log.println(Log.INFO, TAG, &quot;[*] Connection failed!&quot;);\n    }\n}\n</code></pre>\n<p>Specifically by:</p>\n<pre><code>BS = BSS.accept();\n</code></pre>\n<p>I do not know how why this is giving me this message or why the connection fails.</p>\n<p>If you need any other pieces of code I can provide them and if this question is a duplicate (I wasn't able to find any similar questions) just write a comment with the link and I will remove it.</p>\n<p>Any help is appreciated, thanks in advance!</p>\n<p>Edit:</p>\n<p>Here is the rest of the code that has been requested:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState)\n{\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ButtonFunctions(); //Functions to manage the Buttons\n        bluetoothFunctionality.run(); //Starts the Bluetooth thread\n}\n</code></pre>\n<p>Constructor for the Bluetooth thread, directly taken from the Android documentation.</p>\n<pre><code>public BluetoothFunctionality() throws IOException\n{\n    // Use a temporary object that is later assigned to mmServerSocket\n    // because mmServerSocket is final.\n    BluetoothServerSocket tmp = null;\n    try {\n        // MY_UUID is the app's UUID string, also used by the client code.\n        tmp = BA.listenUsingRfcommWithServiceRecord(name, UUID);\n    } catch (IOException e) {\n        Log.e(TAG, &quot;Socket's listen() method failed&quot;, e);\n\n    }\n    BSS = tmp;\n}\n</code></pre>\n<p>The code for EstablishedBTConnection:</p>\n<pre><code>public class EstablishedBTConnection\n{\nprivate BluetoothSocket BS;\npublic EstablishedBTConnection(BluetoothSocket BS)\n{\n    this.BS = BS;\n}\n\npublic int manageConnection(int action)\n{\n    if(action == 1)\n    {\n        try\n        {\n            BS.getOutputStream().write(50);\n        } catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n    }\n    return 0;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","swing","compiler-errors","joptionpane"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1636093353,"post_id":69849246,"comment_id":123469792,"body_markdown":"`double results=presentValue(double f, double r ,int n);` you are not passing any vlues here,","body":"<code>double results=presentValue(double f, double r ,int n);</code> you are not passing any vlues here,"}],"answers":[{"tags":[],"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636093532,"creation_date":1636093532,"answer_id":69849341,"question_id":69849246,"body_markdown":"Go with function without arguments, since yours doesn&#39;t do anything.\r\n````\r\npublic class Deposit\r\n{\r\n  //Main method\r\n  public static void main(String[] args)\r\n  {\r\n    double results=presentValue();\r\n    ... // same code\r\n  }\r\n\r\n  public static double presentValue()\r\n  {\r\n    double f,r;\r\n    int n;\r\n    ... // same code\r\n  }\r\n}\r\n````","title":"What causes error &quot;error: &#39;.class&#39; expected&quot;?","body":"<p>Go with function without arguments, since yours doesn't do anything.</p>\n<pre><code>public class Deposit\n{\n  //Main method\n  public static void main(String[] args)\n  {\n    double results=presentValue();\n    ... // same code\n  }\n\n  public static double presentValue()\n  {\n    double f,r;\n    int n;\n    ... // same code\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636094438,"creation_date":1636094438,"answer_id":69849454,"question_id":69849246,"body_markdown":"Whenever calling a method, never mention the datatype in the arguments of the method.\r\n\r\nYour error can be resolved by changing the method calling line,\r\n\r\nMake sure that you either pass the value directly as arguments or else declare those values in a variable as shown below.\r\n\r\n    double f = 1.0d; // Just for Example\r\n    double r = 2.0d; // Just for Example\r\n    int n = 1; // Just assuming\r\n    \r\n    //Calling the method\r\n    double results = presentValue(f, r ,n);","title":"What causes error &quot;error: &#39;.class&#39; expected&quot;?","body":"<p>Whenever calling a method, never mention the datatype in the arguments of the method.</p>\n<p>Your error can be resolved by changing the method calling line,</p>\n<p>Make sure that you either pass the value directly as arguments or else declare those values in a variable as shown below.</p>\n<pre><code>double f = 1.0d; // Just for Example\ndouble r = 2.0d; // Just for Example\nint n = 1; // Just assuming\n\n//Calling the method\ndouble results = presentValue(f, r ,n);\n</code></pre>\n"}],"owner":{"account_id":20423081,"reputation":13,"user_id":14983669,"display_name":"SABS-TECH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636099464,"accepted_answer_id":69849341,"answer_count":2,"score":0,"last_activity_date":1636101313,"creation_date":1636092845,"question_id":69849246,"body_markdown":"Please help me solve these errors.  \r\nThese are the errors I&#39;m getting after I have executed the java codes below.  \r\n```none\r\n/Deposit.java:15: error: &#39;.class&#39; expected\r\n    double results=presentValue(double f, double r ,int n);\r\n                                       ^\r\n/Deposit.java:15: error: &#39;;&#39; expected\r\n    double results=presentValue(double f, double r ,int n);\r\n                                        ^\r\n/Deposit.java:15: error: &lt;identifier&gt; expected\r\n    double results=presentValue(double f, double r ,int n);\r\n                                                    ^\r\n/Deposit.java:15: error: &#39;;&#39; expected\r\n    double results=presentValue(double f, double r ,int n);\r\n                                                         ^\r\n4 errors\r\n```\r\n\r\n-----------------------------------\r\n\r\n\r\n```java\r\nimport javax.swing.JOptionPane;\r\n\r\n/*This program computes a customers present\r\ndeposit to make to obtain a desired future\r\nvalue\r\n*/\r\npublic class Deposit\r\n{\r\n  //Main method\r\n  public static void main(String[] args)\r\n  {\r\n\r\n    //Calling the present value method\r\n    double results=presentValue(double f, double r ,int n);\r\n\r\n    //Displaying the present value \r\n    JOptionPane.showMessageDialog(null, &quot;You have to deposit: $&quot; +results);\r\n  }\r\n\r\n  public static double presentValue(double f, double r, int n)\r\n  {\r\n    //Declaring the input variable\r\n    String input;\r\n\r\n    //Taking inputs from the customer\r\n    //Future value\r\n    input = JOptionPane.showInputDialog(&quot;Enter your desired future value:&quot;);\r\n    f = Double.parseDouble(input);\r\n\r\n    //Annual Interest Rate\r\n    input = JOptionPane.showInputDialog(&quot;Enter the annual interest rate:&quot;);\r\n    r = Double.parseDouble(input);\r\n\r\n    //Number of years\r\n    input = JOptionPane.showInputDialog(&quot;Enter the number of years:&quot;);\r\n    n = Integer.parseInt(input);\r\n\r\n    //Calculating the present value the customer has to deposit\r\n    double p = f/Math.pow((1+r), n);\r\n\r\n    //Returning the value to the present value method\r\n    return p;\r\n\r\n    System.exit(0);\r\n  }\r\n}\r\n```\r\n","title":"What causes error &quot;error: &#39;.class&#39; expected&quot;?","body":"<p>Please help me solve these errors.<br />\nThese are the errors I'm getting after I have executed the java codes below.</p>\n<pre class=\"lang-none prettyprint-override\"><code>/Deposit.java:15: error: '.class' expected\n    double results=presentValue(double f, double r ,int n);\n                                       ^\n/Deposit.java:15: error: ';' expected\n    double results=presentValue(double f, double r ,int n);\n                                        ^\n/Deposit.java:15: error: &lt;identifier&gt; expected\n    double results=presentValue(double f, double r ,int n);\n                                                    ^\n/Deposit.java:15: error: ';' expected\n    double results=presentValue(double f, double r ,int n);\n                                                         ^\n4 errors\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JOptionPane;\n\n/*This program computes a customers present\ndeposit to make to obtain a desired future\nvalue\n*/\npublic class Deposit\n{\n  //Main method\n  public static void main(String[] args)\n  {\n\n    //Calling the present value method\n    double results=presentValue(double f, double r ,int n);\n\n    //Displaying the present value \n    JOptionPane.showMessageDialog(null, &quot;You have to deposit: $&quot; +results);\n  }\n\n  public static double presentValue(double f, double r, int n)\n  {\n    //Declaring the input variable\n    String input;\n\n    //Taking inputs from the customer\n    //Future value\n    input = JOptionPane.showInputDialog(&quot;Enter your desired future value:&quot;);\n    f = Double.parseDouble(input);\n\n    //Annual Interest Rate\n    input = JOptionPane.showInputDialog(&quot;Enter the annual interest rate:&quot;);\n    r = Double.parseDouble(input);\n\n    //Number of years\n    input = JOptionPane.showInputDialog(&quot;Enter the number of years:&quot;);\n    n = Integer.parseInt(input);\n\n    //Calculating the present value the customer has to deposit\n    double p = f/Math.pow((1+r), n);\n\n    //Returning the value to the present value method\n    return p;\n\n    System.exit(0);\n  }\n}\n</code></pre>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":3654099,"reputation":1919,"user_id":3045568,"accept_rate":33,"display_name":"Techidiot"},"score":0,"creation_date":1636007574,"post_id":69835199,"comment_id":123444243,"body_markdown":"What do mean by first business day? Like a non-holiday day? Including public holidays? Have you tried anything yet?","body":"What do mean by first business day? Like a non-holiday day? Including public holidays? Have you tried anything yet?"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1636007699,"post_id":69835199,"comment_id":123444270,"body_markdown":"For example, I want to write a program that finds the first business day of each month. Let&#39;s say the first working day of November starts from 3, because days 1 and 2 are not working days, so 3 coincides.","body":"For example, I want to write a program that finds the first business day of each month. Let&#39;s say the first working day of November starts from 3, because days 1 and 2 are not working days, so 3 coincides."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":1,"creation_date":1636008305,"post_id":69835199,"comment_id":123444383,"body_markdown":"I guess you need a api for holidays","body":"I guess you need a api for holidays"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1636008522,"post_id":69835199,"comment_id":123444432,"body_markdown":"@Gurkanİlleez  It is necessary to write a program showing the first working day of the month, provided that the holidays are taken into account.","body":"@Gurkanİlleez  It is necessary to write a program showing the first working day of the month, provided that the holidays are taken into account."},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1636008812,"post_id":69835199,"comment_id":123444500,"body_markdown":"@Gurkanİlleez probably yes if present.","body":"@Gurkanİlleez probably yes if present."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1636009129,"post_id":69835199,"comment_id":123444563,"body_markdown":"How do you know what is the working day and what is not? By Day of Week? Example, some countries start their working week on Sunday (US, for instance) some countries start working on Monday (Russia), some never work on Saturdays (Israel)...  By some list of holidays specific to your country?","body":"How do you know what is the working day and what is not? By Day of Week? Example, some countries start their working week on Sunday (US, for instance) some countries start working on Monday (Russia), some never work on Saturdays (Israel)...  By some list of holidays specific to your country?"},{"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"score":0,"creation_date":1636009454,"post_id":69835199,"comment_id":123444634,"body_markdown":"@MarkBramnik yes it is","body":"@MarkBramnik yes it is"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1636012049,"post_id":69835199,"comment_id":123445298,"body_markdown":"the source code comes with this (so you can ignore its for tomcat), http://windsolarhybridaustralia.x10.mx/httpoutputtools-tomcat-java.html   but in essence the workings of time like that can be too national or traditional if you want public holidays e.r.c. You probably could build an array to screen dates, nb it is possible to return day of year with java.time and week and quarter, but if you really need , a custom java.util.calendar look at Calendar.Builder (note: jvm runtime TZ update files)","body":"the source code comes with this (so you can ignore its for tomcat), <a href=\"http://windsolarhybridaustralia.x10.mx/httpoutputtools-tomcat-java.html\" rel=\"nofollow noreferrer\">windsolarhybridaustralia.x10.mx/&hellip;</a>   but in essence the workings of time like that can be too national or traditional if you want public holidays e.r.c. You probably could build an array to screen dates, nb it is possible to return day of year with java.time and week and quarter, but if you really need , a custom java.util.calendar look at Calendar.Builder (note: jvm runtime TZ update files)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636015579,"post_id":69835199,"comment_id":123446504,"body_markdown":"Use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html) and specifically `java.time.LocalDate`. Without knowing your holiday API I can’t tell you more than this.","body":"Use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a> and specifically <code>java.time.LocalDate</code>. Without knowing your holiday API I can’t tell you more than this."},{"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"score":2,"creation_date":1636020602,"post_id":69835199,"comment_id":123448409,"body_markdown":"I guess there is no internal means in the java lang to tell which day of a month is the first business one. That depends on the country and the year - is regulated with laws - so there is no sense in putting it into java itself even as a part of Locale. It&#39;s called &quot;производственный календарь&quot; in Russia - factory calendar (in Russia we check this calendar in Consultant Plus). You need to use some third party JAR as a dependency or call some server via HTTP sending as a param your country and month and year in your request (mey need paid subscription).","body":"I guess there is no internal means in the java lang to tell which day of a month is the first business one. That depends on the country and the year - is regulated with laws - so there is no sense in putting it into java itself even as a part of Locale. It&#39;s called &quot;производственный календарь&quot; in Russia - factory calendar (in Russia we check this calendar in Consultant Plus). You need to use some third party JAR as a dependency or call some server via HTTP sending as a param your country and month and year in your request (mey need paid subscription)."}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636036630,"creation_date":1636023277,"answer_id":69838108,"question_id":69835199,"body_markdown":"Well, there is no standard Java library to get the dates of the holidays. That would be too localized, because holidays heavily depend on your country and region (except for widely known holidays, such as Christmas or Easter).\r\n\r\nYou must rely on some external source, for instance a holiday API. Once you have the holidays, you could easily get the first business day of a month.\r\n\r\nIn the code below, I&#39;ve hardcoded the holidays as a `Set` of `LocalDate`s. I also assumed that business days are from Monday to Friday.\r\n\r\n```java\r\npublic static Optional&lt;LocalDate&gt; firstBusinessDayOfMonth(YearMonth month) {\r\n\r\n    // I&#39;ve hardcoded the holidays as LocalDates\r\n    // and put them in a Set\r\n    final Set&lt;LocalDate&gt; holidays = Set.of(\r\n        LocalDate.of(2021, 11, 1),\r\n        LocalDate.of(2021, 11, 2),\r\n        LocalDate.of(2021, 11, 3)\r\n    );\r\n    // For the sake of efficiency, I also put the business days into a Set.\r\n    // In general, a Set has a better lookup speed than a List.\r\n    final Set&lt;DayOfWeek&gt; businessDays = EnumSet.of(\r\n        MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY\r\n    );\r\n\r\n    return\r\n\r\n        // All dates of the month\r\n        month.atDay(1).datesUntil(month.plusMonths(1).atDay(1))\r\n\r\n            // Retain all business days. Use static imports from\r\n            // java.time.DayOfWeek.*\r\n            .filter(date -&gt; businessDays.contains(date.getDayOfWeek()))\r\n\r\n            // Retain only dates not present in our holidays list\r\n            .filter(date -&gt; !holidays.contains(date))\r\n\r\n            // Get the first\r\n            .findFirst();\r\n}\r\n```\r\n\r\nTo get the first business day of the current month, use `firstBusinessDayOfMonth(YearMonth.now())`.\r\n\r\nNote that this method returns an `Optional`, because it could theoretically be the case that there is no business day within the whole month.","title":"How to find first business day of month in Java?","body":"<p>Well, there is no standard Java library to get the dates of the holidays. That would be too localized, because holidays heavily depend on your country and region (except for widely known holidays, such as Christmas or Easter).</p>\n<p>You must rely on some external source, for instance a holiday API. Once you have the holidays, you could easily get the first business day of a month.</p>\n<p>In the code below, I've hardcoded the holidays as a <code>Set</code> of <code>LocalDate</code>s. I also assumed that business days are from Monday to Friday.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Optional&lt;LocalDate&gt; firstBusinessDayOfMonth(YearMonth month) {\n\n    // I've hardcoded the holidays as LocalDates\n    // and put them in a Set\n    final Set&lt;LocalDate&gt; holidays = Set.of(\n        LocalDate.of(2021, 11, 1),\n        LocalDate.of(2021, 11, 2),\n        LocalDate.of(2021, 11, 3)\n    );\n    // For the sake of efficiency, I also put the business days into a Set.\n    // In general, a Set has a better lookup speed than a List.\n    final Set&lt;DayOfWeek&gt; businessDays = EnumSet.of(\n        MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY\n    );\n\n    return\n\n        // All dates of the month\n        month.atDay(1).datesUntil(month.plusMonths(1).atDay(1))\n\n            // Retain all business days. Use static imports from\n            // java.time.DayOfWeek.*\n            .filter(date -&gt; businessDays.contains(date.getDayOfWeek()))\n\n            // Retain only dates not present in our holidays list\n            .filter(date -&gt; !holidays.contains(date))\n\n            // Get the first\n            .findFirst();\n}\n</code></pre>\n<p>To get the first business day of the current month, use <code>firstBusinessDayOfMonth(YearMonth.now())</code>.</p>\n<p>Note that this method returns an <code>Optional</code>, because it could theoretically be the case that there is no business day within the whole month.</p>\n"},{"tags":[],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636101138,"creation_date":1636101138,"answer_id":69850409,"question_id":69835199,"body_markdown":"Thanks for all the answers and help, but this is what I wanted.\r\n\r\nHere, in my isOperateDay variable, they say that the data they have already sent me from the other server is 1 business day, not 0 business day. What I just wanted to do was to check if the values between yesterday and today are the first working day.\r\nAs you can see, I&#39;m taking yesterday&#39;s month and comparing it to today&#39;s month, if yesterday&#39;s month is different, it means it was the previous month and my current day&#39;s month is counted as the first working day.\r\n\r\n    @Data\r\n    class ST_XF_DWH {\r\n        private LocalDateTime previousDate;\r\n        private LocalDateTime currentDate;\r\n        private int isOperateDate;\r\n    }\r\n    \r\n        public void isFirstWorkDay(ST_XF_DWH st_xf_dwh) {\r\n    \r\n            LocalDateTime previousDate = st_xf_dwh.getPreviousDate();\r\n    \r\n            LocalDateTime currentDate = st_xf_dwh.getCurrentDate();\r\n    \r\n            if (previousDate.getMonth() != currentDate.getMonth() &amp;&amp; st_xf_dwh.getIsOperateDate() == 1) {\r\n                System.out.println(&quot;Is First Work Day&quot; + st_xf_dwh.getCurrentDate());\r\n            } else {\r\n                System.out.println(st_xf_dwh.getCurrentDate() + &quot;is not First Work Day&quot;);\r\n            }\r\n    \r\n        }","title":"How to find first business day of month in Java?","body":"<p>Thanks for all the answers and help, but this is what I wanted.</p>\n<p>Here, in my isOperateDay variable, they say that the data they have already sent me from the other server is 1 business day, not 0 business day. What I just wanted to do was to check if the values between yesterday and today are the first working day.\nAs you can see, I'm taking yesterday's month and comparing it to today's month, if yesterday's month is different, it means it was the previous month and my current day's month is counted as the first working day.</p>\n<pre><code>@Data\nclass ST_XF_DWH {\n    private LocalDateTime previousDate;\n    private LocalDateTime currentDate;\n    private int isOperateDate;\n}\n\n    public void isFirstWorkDay(ST_XF_DWH st_xf_dwh) {\n\n        LocalDateTime previousDate = st_xf_dwh.getPreviousDate();\n\n        LocalDateTime currentDate = st_xf_dwh.getCurrentDate();\n\n        if (previousDate.getMonth() != currentDate.getMonth() &amp;&amp; st_xf_dwh.getIsOperateDate() == 1) {\n            System.out.println(&quot;Is First Work Day&quot; + st_xf_dwh.getCurrentDate());\n        } else {\n            System.out.println(st_xf_dwh.getCurrentDate() + &quot;is not First Work Day&quot;);\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1665,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1636101138,"creation_date":1636007422,"question_id":69835199,"body_markdown":"Let&#39;s say I have the current day, the next day, and the previous day. And I want to write a method that finds the first business day of the month by doing logical operations on them. For example, the first working day of November 2021 starts on the 4th, because the 3rd of the month has no working days due to holidays. In short, we need to write a program that takes into account non-working days and finds the first working day of each month.","title":"How to find first business day of month in Java?","body":"<p>Let's say I have the current day, the next day, and the previous day. And I want to write a method that finds the first business day of the month by doing logical operations on them. For example, the first working day of November 2021 starts on the 4th, because the 3rd of the month has no working days due to holidays. In short, we need to write a program that takes into account non-working days and finds the first working day of each month.</p>\n"},{"tags":["java","visual-studio-code","vscode-tasks"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636101086,"creation_date":1636101086,"answer_id":69850403,"question_id":69837246,"body_markdown":"Put it in another args:\r\n\r\n     &quot;args&quot;:[&quot;${input:proves}&quot;]\r\n\r\nMore information please view [Input Variables][1].\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/editor/variables-reference#_input-variables","title":"How to add a test file to Java in Windows using VScode tasks?","body":"<p>Put it in another args:</p>\n<pre><code> &quot;args&quot;:[&quot;${input:proves}&quot;]\n</code></pre>\n<p>More information please view <a href=\"https://code.visualstudio.com/docs/editor/variables-reference#_input-variables\" rel=\"nofollow noreferrer\">Input Variables</a>.</p>\n"}],"owner":{"account_id":18062807,"reputation":218,"user_id":13207652,"display_name":"Tupi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69850403,"answer_count":1,"score":0,"last_activity_date":1636101086,"creation_date":1636019355,"question_id":69837246,"body_markdown":"I&#39;m learning how VSCode tasks works. I&#39;m doing a task that compiles a Java file, executes it and then inserts a &quot;test file&quot;, a .txt file with some data that I want to test. I did this in Ubuntu, using this task I created, and everything worked fine:\r\n\r\n    {\r\n\t&quot;version&quot;: &quot;2.0.0&quot;,\r\n\t&quot;tasks&quot;: [\r\n\t\t{\r\n\t\t\t&quot;label&quot;: &quot;Compilar&quot;,\r\n\t\t\t&quot;type&quot;: &quot;shell&quot;,\r\n\t\t\t&quot;command&quot;: &quot;javac ${input:fileName}.java &amp;&amp; java ${input:fileName} &lt; ${input:proves}&quot;,\r\n\t\t}\r\n\t],\r\n    &quot;inputs&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;fileName&quot;,\r\n            &quot;description&quot;: &quot;Java file name:&quot;,\r\n            &quot;default&quot;: &quot;Bucle&quot;,\r\n            &quot;type&quot;: &quot;promptString&quot;\r\n        },\r\n\t\t{\r\n            &quot;id&quot;: &quot;proves&quot;,\r\n            &quot;description&quot;: &quot;File name with extension:&quot;,\r\n            &quot;default&quot;: &quot;proves.txt&quot;,\r\n            &quot;type&quot;: &quot;promptString&quot;\r\n        },\r\n\t]\r\n    }\r\n\r\nWhen I execute the task, everything works. VSCode asks me the name of the Java&#39;s file and the name of the test&#39;s file. Then, it compiles the Java file and executes it with the data that&#39;s in the test file (proves.txt). \r\n\r\nBut when I executed the same in Windows, I had some problems. Firstly, the &quot;&amp;&amp;&quot; doesn&#39;t work (I had to use &quot;;&quot; in order to accomplish that). But I&#39;m not able to get the `&lt; ${input:proves}` to work. I tried without the &quot;&lt;&quot;, or using &quot;&lt;-&quot;, but nothing of this worked. \r\n\r\nHow could I do it? Or it&#39;s not possible to do that in Windows? Thanks!","title":"How to add a test file to Java in Windows using VScode tasks?","body":"<p>I'm learning how VSCode tasks works. I'm doing a task that compiles a Java file, executes it and then inserts a &quot;test file&quot;, a .txt file with some data that I want to test. I did this in Ubuntu, using this task I created, and everything worked fine:</p>\n<pre><code>{\n&quot;version&quot;: &quot;2.0.0&quot;,\n&quot;tasks&quot;: [\n    {\n        &quot;label&quot;: &quot;Compilar&quot;,\n        &quot;type&quot;: &quot;shell&quot;,\n        &quot;command&quot;: &quot;javac ${input:fileName}.java &amp;&amp; java ${input:fileName} &lt; ${input:proves}&quot;,\n    }\n],\n&quot;inputs&quot;: [\n    {\n        &quot;id&quot;: &quot;fileName&quot;,\n        &quot;description&quot;: &quot;Java file name:&quot;,\n        &quot;default&quot;: &quot;Bucle&quot;,\n        &quot;type&quot;: &quot;promptString&quot;\n    },\n    {\n        &quot;id&quot;: &quot;proves&quot;,\n        &quot;description&quot;: &quot;File name with extension:&quot;,\n        &quot;default&quot;: &quot;proves.txt&quot;,\n        &quot;type&quot;: &quot;promptString&quot;\n    },\n]\n}\n</code></pre>\n<p>When I execute the task, everything works. VSCode asks me the name of the Java's file and the name of the test's file. Then, it compiles the Java file and executes it with the data that's in the test file (proves.txt).</p>\n<p>But when I executed the same in Windows, I had some problems. Firstly, the &quot;&amp;&amp;&quot; doesn't work (I had to use &quot;;&quot; in order to accomplish that). But I'm not able to get the <code>&lt; ${input:proves}</code> to work. I tried without the &quot;&lt;&quot;, or using &quot;&lt;-&quot;, but nothing of this worked.</p>\n<p>How could I do it? Or it's not possible to do that in Windows? Thanks!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1636071792,"post_id":69847323,"comment_id":123466668,"body_markdown":"Are you trying to map all headers to that object, or to parse a single header only? (e.g. you have a header that contains a JSON object)","body":"Are you trying to map all headers to that object, or to parse a single header only? (e.g. you have a header that contains a JSON object)"},{"owner":{"account_id":1382967,"reputation":1730,"user_id":1315599,"accept_rate":56,"display_name":"yu.pitomets"},"score":0,"creation_date":1636071999,"post_id":69847323,"comment_id":123466701,"body_markdown":"CommonHeader is a POJO.","body":"CommonHeader is a POJO."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636075308,"creation_date":1636075308,"answer_id":69847679,"question_id":69847323,"body_markdown":"Define `CommonHeader` to extend `Map&lt;String, String&gt;`:\r\n\r\n    @RequestHeader\r\n    public interface CommonHeader extends Map&lt;String, String&gt; {\r\n    }\r\n","title":"Is it possible to pass custom object into SpringBoot&#39;s endpoint?","body":"<p>Define <code>CommonHeader</code> to extend <code>Map&lt;String, String&gt;</code>:</p>\n<pre><code>@RequestHeader\npublic interface CommonHeader extends Map&lt;String, String&gt; {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636100185,"creation_date":1636100185,"answer_id":69850240,"question_id":69847323,"body_markdown":"I was looking for some solution for this, that is, bind headers to an object of our definition. I found a good technique here: [Using Custom Data Binders in SpringMVC][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-custom-data-binder#binding-domain-objects\r\n\r\nWhat you have to do in a nutshell are these, apart from the already created `CommonHeader` class:\r\n\r\n 1. Define an annotation, say `@MyHeaders` (with `@Retention( RUNTIME )` and `@Target( PARAMETER )`)\r\n```\r\n@Retention( RUNTIME )\r\n@Target( PARAMETER )\r\npublic @interface MyHeaders {}\r\n```\r\n 2. Create an implementation of `HandlerMethodArgumentResolver`, say `MyHeadersResolver`. This will map the headers from the request into an instance of `CommonHeader` and return it.\r\n```\r\n@Override\r\n\tpublic boolean supportsParameter( MethodParameter methodParameter ){\r\n\t\treturn methodParameter.getParameterAnnotation( MyHeaders.class ) != null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object resolveArgument( MethodParameter methodParameter, ModelAndViewContainer mavc, NativeWebRequest req, WebDataBinderFactory wdbf ) throws Exception{\r\n\t\tHttpServletRequest request = (HttpServletRequest) req.getNativeRequest();\r\n\t\t\r\n\t\tCommonHeader h = new CommonHeader();\r\n\t\tCollections.list( request.getHeaderNames() ).forEach( header -&gt; {\r\n\t\t\tswitch( header.toLowerCase() ) {\r\n\t\t\t\t//Set values into CommonHeader instance\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn h;\r\n\t}\r\n```\r\n 3. Declare this to SpringMVC as an argument resolver in a class that implements `WebMvcConfigurer`, like this:\r\n```\r\n@Override\r\npublic void addArgumentResolvers( List&lt;HandlerMethodArgumentResolver&gt; resolvers ) {\r\n    resolvers.add( new MyHeadersResolver() );\r\n}\r\n```\r\n 4. Your controller method signature will now look like this:\r\n```\r\nResponse getColumnConfig( @MyHeaders CommonHeader commonHeader )\r\n```\r\n\r\n","title":"Is it possible to pass custom object into SpringBoot&#39;s endpoint?","body":"<p>I was looking for some solution for this, that is, bind headers to an object of our definition. I found a good technique here: <a href=\"https://www.baeldung.com/spring-mvc-custom-data-binder#binding-domain-objects\" rel=\"nofollow noreferrer\">Using Custom Data Binders in SpringMVC</a></p>\n<p>What you have to do in a nutshell are these, apart from the already created <code>CommonHeader</code> class:</p>\n<ol>\n<li>Define an annotation, say <code>@MyHeaders</code> (with <code>@Retention( RUNTIME )</code> and <code>@Target( PARAMETER )</code>)</li>\n</ol>\n<pre><code>@Retention( RUNTIME )\n@Target( PARAMETER )\npublic @interface MyHeaders {}\n</code></pre>\n<ol start=\"2\">\n<li>Create an implementation of <code>HandlerMethodArgumentResolver</code>, say <code>MyHeadersResolver</code>. This will map the headers from the request into an instance of <code>CommonHeader</code> and return it.</li>\n</ol>\n<pre><code>@Override\n    public boolean supportsParameter( MethodParameter methodParameter ){\n        return methodParameter.getParameterAnnotation( MyHeaders.class ) != null;\n    }\n\n    @Override\n    public Object resolveArgument( MethodParameter methodParameter, ModelAndViewContainer mavc, NativeWebRequest req, WebDataBinderFactory wdbf ) throws Exception{\n        HttpServletRequest request = (HttpServletRequest) req.getNativeRequest();\n        \n        CommonHeader h = new CommonHeader();\n        Collections.list( request.getHeaderNames() ).forEach( header -&gt; {\n            switch( header.toLowerCase() ) {\n                //Set values into CommonHeader instance\n            }\n        });\n        \n        return h;\n    }\n</code></pre>\n<ol start=\"3\">\n<li>Declare this to SpringMVC as an argument resolver in a class that implements <code>WebMvcConfigurer</code>, like this:</li>\n</ol>\n<pre><code>@Override\npublic void addArgumentResolvers( List&lt;HandlerMethodArgumentResolver&gt; resolvers ) {\n    resolvers.add( new MyHeadersResolver() );\n}\n</code></pre>\n<ol start=\"4\">\n<li>Your controller method signature will now look like this:</li>\n</ol>\n<pre><code>Response getColumnConfig( @MyHeaders CommonHeader commonHeader )\n</code></pre>\n"}],"owner":{"account_id":1382967,"reputation":1730,"user_id":1315599,"accept_rate":56,"display_name":"yu.pitomets"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69850240,"answer_count":2,"score":0,"last_activity_date":1636100185,"creation_date":1636071573,"question_id":69847323,"body_markdown":"I have a SpringBoot project and in an every endpoint&#39;s the first call is parsing a request header into a POJO object. making sure required headers are set. Is it possible &quot;to teach&quot; SpringBoot to be able to provide custom object in endpoints?\r\n\r\n```java\r\nclass CommonHeader {\r\n\r\n    private String callerId;\r\n    private String systemId;\r\n    ....\r\n\r\n    public static CommonHeader parseCommonHeader(Map&lt;String, String&gt; map) {\r\n        CommonHeader header = new CommonHeader();\r\n        header.setCallerId(map.get(&quot;x-caller-id&quot;));\r\n        .....\r\n        return header;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n\r\n@Path(&quot;/columnConfigs&quot;)\r\nResponse getColumnConfig(@RequestHeader Map&lt;String, String&gt; headers) {\r\n    CommonHeader commonHeader = parseCommonHeader(headers);\r\n    ....\r\n}\r\n\r\n@Path(&quot;/other&quot;)\r\nResponse getColumnConfig(@RequestHeader Map&lt;String, String&gt; headers) {\r\n    CommonHeader commonHeader = parseCommonHeader(headers);\r\n    ....\r\n}\r\n\r\n\r\n```\r\n\r\nI would like to be able to simplify the following code into:\r\n\r\n```java\r\n\r\n@Path(&quot;/columnConfigs&quot;)\r\nResponse getColumnConfig(CommonHeader commonHeader) {\r\n    ....\r\n}\r\n\r\n@Path(&quot;/other&quot;)\r\nResponse getColumnConfig(CommonHeader commonHeader) {\r\n    ....\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"Is it possible to pass custom object into SpringBoot&#39;s endpoint?","body":"<p>I have a SpringBoot project and in an every endpoint's the first call is parsing a request header into a POJO object. making sure required headers are set. Is it possible &quot;to teach&quot; SpringBoot to be able to provide custom object in endpoints?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CommonHeader {\n\n    private String callerId;\n    private String systemId;\n    ....\n\n    public static CommonHeader parseCommonHeader(Map&lt;String, String&gt; map) {\n        CommonHeader header = new CommonHeader();\n        header.setCallerId(map.get(&quot;x-caller-id&quot;));\n        .....\n        return header;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Path(&quot;/columnConfigs&quot;)\nResponse getColumnConfig(@RequestHeader Map&lt;String, String&gt; headers) {\n    CommonHeader commonHeader = parseCommonHeader(headers);\n    ....\n}\n\n@Path(&quot;/other&quot;)\nResponse getColumnConfig(@RequestHeader Map&lt;String, String&gt; headers) {\n    CommonHeader commonHeader = parseCommonHeader(headers);\n    ....\n}\n\n\n</code></pre>\n<p>I would like to be able to simplify the following code into:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Path(&quot;/columnConfigs&quot;)\nResponse getColumnConfig(CommonHeader commonHeader) {\n    ....\n}\n\n@Path(&quot;/other&quot;)\nResponse getColumnConfig(CommonHeader commonHeader) {\n    ....\n}\n\n</code></pre>\n"},{"tags":["java","cytoscape"],"comments":[{"owner":{"account_id":17880854,"reputation":992,"user_id":20460317,"display_name":"Jonathan Rosa"},"score":0,"creation_date":1592316709,"post_id":62410419,"comment_id":110378089,"body_markdown":"On the text file page, try CTRL+S to save the file and it&#39;ll allow you to download the script using &#39;save as&#39;. You can then run it as a .bat file and it then can be executed from there.","body":"On the text file page, try CTRL+S to save the file and it&#39;ll allow you to download the script using &#39;save as&#39;. You can then run it as a .bat file and it then can be executed from there."},{"owner":{"account_id":18859363,"reputation":11,"user_id":13756574,"display_name":"Eric Ignatz"},"score":0,"creation_date":1592320169,"post_id":62410419,"comment_id":110380146,"body_markdown":"When I save the file, the only option it gives me is to save it as a .txt file. Even if I select to save under &quot;All Files&quot;, my computer seems to only recognize it as text.","body":"When I save the file, the only option it gives me is to save it as a .txt file. Even if I select to save under &quot;All Files&quot;, my computer seems to only recognize it as text."}],"answers":[{"tags":[],"owner":{"account_id":6157002,"reputation":1322,"user_id":4799667,"display_name":"Scooter Morris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601583825,"creation_date":1592491506,"answer_id":62452688,"question_id":62410419,"body_markdown":"It&#39;s a little hard to diagnose your issues without a little more information, unfortunately.  When you say you downloaded the latest Java -- which version did you actually download?  If you open up a command (cmd) window and change directory to the Cytoscape install, can you try to run cytoscape.bat?  What does it do, and what error messages are printed?  If that doesn&#39;t work, in that same window, type &quot;java -version&quot; and let us know which version of Java is set to be the default.  That will help us figure things out.\r\n\r\n","title":"Cannot Start Cytoscape","body":"<p>It's a little hard to diagnose your issues without a little more information, unfortunately.  When you say you downloaded the latest Java -- which version did you actually download?  If you open up a command (cmd) window and change directory to the Cytoscape install, can you try to run cytoscape.bat?  What does it do, and what error messages are printed?  If that doesn't work, in that same window, type &quot;java -version&quot; and let us know which version of Java is set to be the default.  That will help us figure things out.</p>\n"},{"tags":[],"owner":{"account_id":881281,"reputation":387,"user_id":187756,"display_name":"AlexanderPico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621531185,"creation_date":1621531185,"answer_id":67625171,"question_id":62410419,"body_markdown":"If you are on a Mac, a recent update has caused OpenCL based Cytoscape Apps to fail and prevents Cytoscape from launching. \r\n\r\nThis will be fixed in future updates, but you can fix your Mac installation immediately by disabling OpenCL by either of the two following methods:\r\n\r\n - Download the [disable-opencl.dummy file][1] to your CytoscapeConfiguration\r\n   directory (in your user home directory).\r\n - Or, you can create an empty dummy file by running this command in Terminal:\r\n\r\n    `touch ~/CytoscapeConfiguration/disable-opencl.dummy` \r\n\r\nThese fixes are described at [Cytoscape.org][2].\r\n\r\n\r\n\r\n  [1]: https://cytoscape.org/disable-opencl.dummy\r\n  [2]: https://cytoscape.org/common_issues.html#opencl","title":"Cannot Start Cytoscape","body":"<p>If you are on a Mac, a recent update has caused OpenCL based Cytoscape Apps to fail and prevents Cytoscape from launching.</p>\n<p>This will be fixed in future updates, but you can fix your Mac installation immediately by disabling OpenCL by either of the two following methods:</p>\n<ul>\n<li><p>Download the <a href=\"https://cytoscape.org/disable-opencl.dummy\" rel=\"nofollow noreferrer\">disable-opencl.dummy file</a> to your CytoscapeConfiguration\ndirectory (in your user home directory).</p>\n</li>\n<li><p>Or, you can create an empty dummy file by running this command in Terminal:</p>\n<p><code>touch ~/CytoscapeConfiguration/disable-opencl.dummy</code></p>\n</li>\n</ul>\n<p>These fixes are described at <a href=\"https://cytoscape.org/common_issues.html#opencl\" rel=\"nofollow noreferrer\">Cytoscape.org</a>.</p>\n"}],"owner":{"account_id":18859363,"reputation":11,"user_id":13756574,"display_name":"Eric Ignatz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1636100033,"creation_date":1592316306,"question_id":62410419,"body_markdown":"This morning I downloaded Cytoscape `v3.8.0` and I can no longer successfully open the app. \r\n\r\nBefore this, I was using `v3.7.4` (I believe?) and did not encounter any issues. I am working off a laptop with Windows 10. \r\n\r\nAfter realizing that I could not open Cytoscape I went and [downloaded the most recent version of Java][1] but that did not appear to help. \r\n\r\nI also tried downloading the [Cytoscape troubleshooter for Windows][2], however, it only downloads as a `.txt` file and I cannot figure out how to use that to test my system.\r\n\r\nIf I try opening the app, it appears very quickly with `&quot;Cytoscape 3.8.0 - Initializing OSGi container...&quot;` before crashing.\r\n\r\nAny help or insight would be greatly appreciated!\r\n\r\n\r\n  [1]: https://www.java.com/en/download/\r\n  [2]: https://cytoscape.org/troubleshooting.html","title":"Cannot Start Cytoscape","body":"<p>This morning I downloaded Cytoscape <code>v3.8.0</code> and I can no longer successfully open the app. </p>\n\n<p>Before this, I was using <code>v3.7.4</code> (I believe?) and did not encounter any issues. I am working off a laptop with Windows 10. </p>\n\n<p>After realizing that I could not open Cytoscape I went and <a href=\"https://www.java.com/en/download/\" rel=\"nofollow noreferrer\">downloaded the most recent version of Java</a> but that did not appear to help. </p>\n\n<p>I also tried downloading the <a href=\"https://cytoscape.org/troubleshooting.html\" rel=\"nofollow noreferrer\">Cytoscape troubleshooter for Windows</a>, however, it only downloads as a <code>.txt</code> file and I cannot figure out how to use that to test my system.</p>\n\n<p>If I try opening the app, it appears very quickly with <code>\"Cytoscape 3.8.0 - Initializing OSGi container...\"</code> before crashing.</p>\n\n<p>Any help or insight would be greatly appreciated!</p>\n"},{"tags":["java","if-statement","while-loop","do-while"],"comments":[{"owner":{"account_id":10882653,"reputation":300,"user_id":8001051,"display_name":"Cwift"},"score":0,"creation_date":1636094049,"post_id":69849255,"comment_id":123469912,"body_markdown":"try `do {...} while(file.hasNextLine());`","body":"try <code>do {...} while(file.hasNextLine());</code>"}],"answers":[{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636094054,"creation_date":1636094054,"answer_id":69849402,"question_id":69849255,"body_markdown":"Your do while loop is all the way correct but the problem is that your are `not updating f` if the input and the first letter doesn&#39;t match.\r\n\r\nSo instead of do while loop just ask the user for inputs just only one time if you want it to be or else create another boolean or use integers variable with values 0, 1 or 2.","title":"Java do while Loop not continuing","body":"<p>Your do while loop is all the way correct but the problem is that your are <code>not updating f</code> if the input and the first letter doesn't match.</p>\n<p>So instead of do while loop just ask the user for inputs just only one time if you want it to be or else create another boolean or use integers variable with values 0, 1 or 2.</p>\n"},{"tags":[],"owner":{"account_id":10755668,"reputation":16,"user_id":7913703,"display_name":"gzq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636099979,"creation_date":1636099979,"answer_id":69850207,"question_id":69849255,"body_markdown":"Putting `Scanner file = new Scanner(new File(&quot;list.csv&quot;));` into the do-while loop will be a good try","title":"Java do while Loop not continuing","body":"<p>Putting <code>Scanner file = new Scanner(new File(&quot;list.csv&quot;));</code> into the do-while loop will be a good try</p>\n"}],"owner":{"account_id":23245072,"reputation":3,"user_id":17333769,"display_name":"Chicky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69850207,"answer_count":2,"score":0,"last_activity_date":1636099979,"creation_date":1636092917,"question_id":69849255,"body_markdown":"My do while loop repeats if it receives an invalid input.\r\nBut then it won&#39;t accept a valid input.\r\nWhere am I going wrong?\r\n\r\nSo I&#39;m reading the first character in a line from a file and then matching that with user input.\r\nIf user input matches, this works.\r\nIf user input doesn&#39;t match, it gets stuck in the loop asking for the input again.\r\nWhich it should do, but also should accept once valid input entered and then end.\r\n\r\npublic class test {\r\n\r\n    public static void selection() throws FileNotFoundException {\r\n        boolean f = false;\r\n        Scanner keyboard = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Make booking:&quot;);\r\n\r\n        Scanner file = new Scanner(new File(&quot;list.csv&quot;));\r\n        do {\r\n            System.out.print(&quot;        Select the car number from the car list: &quot;);\r\n            char input = keyboard.next().charAt(0);\r\n            String storeInput = &quot;&quot;;\r\n    \r\n            while (file.hasNextLine()) {\r\n                storeInput = file.nextLine();\r\n                String finalInput = storeInput;\r\n                if (storeInput.charAt(0) == input) {\r\n                    finalInput = finalInput + (&quot; is the booking &quot;);\r\n                    System.out.println(finalInput);\r\n                    f = true;\r\n                }\r\n            }\r\n            if (!f) {\r\n                System.out.println(&quot;Invalid car selection&quot;);\r\n            }\r\n        } while (!f);\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        selection();\r\n    }\r\n}","title":"Java do while Loop not continuing","body":"<p>My do while loop repeats if it receives an invalid input.\nBut then it won't accept a valid input.\nWhere am I going wrong?</p>\n<p>So I'm reading the first character in a line from a file and then matching that with user input.\nIf user input matches, this works.\nIf user input doesn't match, it gets stuck in the loop asking for the input again.\nWhich it should do, but also should accept once valid input entered and then end.</p>\n<p>public class test {</p>\n<pre><code>public static void selection() throws FileNotFoundException {\n    boolean f = false;\n    Scanner keyboard = new Scanner(System.in);\n\n    System.out.println(&quot;Make booking:&quot;);\n\n    Scanner file = new Scanner(new File(&quot;list.csv&quot;));\n    do {\n        System.out.print(&quot;        Select the car number from the car list: &quot;);\n        char input = keyboard.next().charAt(0);\n        String storeInput = &quot;&quot;;\n\n        while (file.hasNextLine()) {\n            storeInput = file.nextLine();\n            String finalInput = storeInput;\n            if (storeInput.charAt(0) == input) {\n                finalInput = finalInput + (&quot; is the booking &quot;);\n                System.out.println(finalInput);\n                f = true;\n            }\n        }\n        if (!f) {\n            System.out.println(&quot;Invalid car selection&quot;);\n        }\n    } while (!f);\n\n}\n\npublic static void main(String[] args) throws FileNotFoundException {\n    selection();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","sql","eclipse","formatting"],"answers":[{"tags":[],"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1350544150,"creation_date":1350544150,"answer_id":12948963,"question_id":12948860,"body_markdown":"When you are in `SQLDeveloper`, select the query and use `Ctrl + F7` to format it. Select it again and use `Ctrl + Shift + F7` to advance format it, choose `Clipboard` for output destination, output type as desired type and click `Apply`. Now, paste it in Eclipse editor and see the difference.\r\n\r\nI&#39;m using Version 3.1.07 of SQLDeveloper.","title":"Is there any way I can write (copy-paste) nicely-formatted SQL queries in Java string literals using Eclipse?","body":"<p>When you are in <code>SQLDeveloper</code>, select the query and use <code>Ctrl + F7</code> to format it. Select it again and use <code>Ctrl + Shift + F7</code> to advance format it, choose <code>Clipboard</code> for output destination, output type as desired type and click <code>Apply</code>. Now, paste it in Eclipse editor and see the difference.</p>\n\n<p>I'm using Version 3.1.07 of SQLDeveloper.</p>\n"},{"tags":[],"owner":{"account_id":1394080,"reputation":1421,"user_id":1324233,"accept_rate":100,"display_name":"yiannis"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1350546826,"creation_date":1350546207,"answer_id":12949563,"question_id":12948860,"body_markdown":"In Eclipse, in Window &gt; Preferences under Java &gt; Editor &gt; Typing check the &quot;Escape text when pasting into a string literal&quot; checkbox.\r\n\r\nIt will format the plain text:\r\n\r\n    line1\r\n    line2\r\n    line3\r\n\r\nto:\r\n\r\n    private final String TEXT = &quot;line1\\r\\n&quot; + \r\n    \t\t\t&quot;line2\\r\\n&quot; + \r\n    \t\t\t&quot;line3&quot;;\r\n\r\nThis is the output on Eclipse Helios. \r\nA similar question: https://stackoverflow.com/questions/121199/surround-with-quotation-marks","title":"Is there any way I can write (copy-paste) nicely-formatted SQL queries in Java string literals using Eclipse?","body":"<p>In Eclipse, in Window > Preferences under Java > Editor > Typing check the \"Escape text when pasting into a string literal\" checkbox.</p>\n\n<p>It will format the plain text:</p>\n\n<pre><code>line1\nline2\nline3\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>private final String TEXT = \"line1\\r\\n\" + \n            \"line2\\r\\n\" + \n            \"line3\";\n</code></pre>\n\n<p>This is the output on Eclipse Helios. \nA similar question: <a href=\"https://stackoverflow.com/questions/121199/surround-with-quotation-marks\">Surround with quotation marks</a></p>\n"},{"tags":[],"owner":{"account_id":1926927,"reputation":4206,"user_id":1737130,"accept_rate":77,"display_name":"Drogba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350546429,"creation_date":1350546429,"answer_id":12949613,"question_id":12948860,"body_markdown":"For `DbVisualizer`, you may use `Ctrl + Alt + K` to format your sql to desired pattern.","title":"Is there any way I can write (copy-paste) nicely-formatted SQL queries in Java string literals using Eclipse?","body":"<p>For <code>DbVisualizer</code>, you may use <code>Ctrl + Alt + K</code> to format your sql to desired pattern.</p>\n"},{"tags":[],"owner":{"display_name":"user1629683"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1350547224,"creation_date":1350547224,"answer_id":12949810,"question_id":12948860,"body_markdown":"Actually a really good question, I often wonder about that as well. One tip I can give you is using the following:\r\n\r\n    //@formatter:off\r\n    \tprivate static final String QUERY = \r\n        &quot;SELECT t.* &quot; +\r\n          &quot;FROM table t &quot; +\r\n         &quot;WHERE t.age &gt; 18&quot;;\r\n    //@formatter:on\r\n\r\nIt does not convert a SQL query into a Java String literal, but it keeps Eclipse from reformatting your String awkwardly unreadable.","title":"Is there any way I can write (copy-paste) nicely-formatted SQL queries in Java string literals using Eclipse?","body":"<p>Actually a really good question, I often wonder about that as well. One tip I can give you is using the following:</p>\n\n<pre><code>//@formatter:off\n    private static final String QUERY = \n    \"SELECT t.* \" +\n      \"FROM table t \" +\n     \"WHERE t.age &gt; 18\";\n//@formatter:on\n</code></pre>\n\n<p>It does not convert a SQL query into a Java String literal, but it keeps Eclipse from reformatting your String awkwardly unreadable.</p>\n"},{"tags":[],"owner":{"account_id":1834482,"reputation":1747,"user_id":1665128,"display_name":"full.stack.ex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350551356,"creation_date":1350551356,"answer_id":12951011,"question_id":12948860,"body_markdown":"This is quite close: how to paste your SQL indented with leading whitespace:\r\nhttps://stackoverflow.com/a/121513/1665128\r\n\r\n    String sql =\r\n    \t&quot;SELECT\\n&quot; + \r\n    \t&quot;  *\\n&quot; + \r\n    \t&quot; FROM\\n&quot; + \r\n    \t&quot;  something\\n&quot; + \r\n    \t&quot; WHERE\\n&quot; + \r\n    \t&quot;  id=4;&quot;;\r\n\r\n","title":"Is there any way I can write (copy-paste) nicely-formatted SQL queries in Java string literals using Eclipse?","body":"<p>This is quite close: how to paste your SQL indented with leading whitespace:\n<a href=\"https://stackoverflow.com/a/121513/1665128\">https://stackoverflow.com/a/121513/1665128</a></p>\n\n<pre><code>String sql =\n    \"SELECT\\n\" + \n    \"  *\\n\" + \n    \" FROM\\n\" + \n    \"  something\\n\" + \n    \" WHERE\\n\" + \n    \"  id=4;\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1381647847,"creation_date":1381581990,"answer_id":19334338,"question_id":12948860,"body_markdown":"Here&#39;s a creative solution if you don&#39;t mind the extra whitespace in generated SQL output:\r\n\r\n### Step 1: Paste\r\n\r\n![enter image description here][1]\r\n\r\nPaste your formatted SQL statement verbatim into your Java file\r\n\r\n### Step 2: Write opening quotes\r\n\r\n![enter image description here][2]\r\n\r\nNotice the highlighted button, the sixth from the left. That&#39;s the awesome &quot;Block Selection Mode&quot; (Alt-Shift-A on Windows). It lets you write opening quotes on each selected line at the same position\r\n\r\n### Step 3: Write closing quotes and concatenation\r\n\r\n![enter image description here][3]\r\n\r\nApply the same technique for the closing quotes and the concatenation sign (`+`)\r\n\r\n### Step 4: Fix the semi-colon\r\n\r\n![enter image description here][4]\r\n\r\nNo comment needed here.\r\n\r\n  [1]: http://i.stack.imgur.com/Kzck8.png\r\n  [2]: http://i.stack.imgur.com/qRv8i.png\r\n  [3]: http://i.stack.imgur.com/rwyrc.png\r\n  [4]: http://i.stack.imgur.com/nlPsv.png","title":"Is there any way I can write (copy-paste) nicely-formatted SQL queries in Java string literals using Eclipse?","body":"<p>Here's a creative solution if you don't mind the extra whitespace in generated SQL output:</p>\n\n<h3>Step 1: Paste</h3>\n\n<p><img src=\"https://i.stack.imgur.com/Kzck8.png\" alt=\"enter image description here\"></p>\n\n<p>Paste your formatted SQL statement verbatim into your Java file</p>\n\n<h3>Step 2: Write opening quotes</h3>\n\n<p><img src=\"https://i.stack.imgur.com/qRv8i.png\" alt=\"enter image description here\"></p>\n\n<p>Notice the highlighted button, the sixth from the left. That's the awesome \"Block Selection Mode\" (Alt-Shift-A on Windows). It lets you write opening quotes on each selected line at the same position</p>\n\n<h3>Step 3: Write closing quotes and concatenation</h3>\n\n<p><img src=\"https://i.stack.imgur.com/rwyrc.png\" alt=\"enter image description here\"></p>\n\n<p>Apply the same technique for the closing quotes and the concatenation sign (<code>+</code>)</p>\n\n<h3>Step 4: Fix the semi-colon</h3>\n\n<p><img src=\"https://i.stack.imgur.com/nlPsv.png\" alt=\"enter image description here\"></p>\n\n<p>No comment needed here.</p>\n"},{"tags":[],"owner":{"account_id":4043503,"reputation":31,"user_id":3325522,"display_name":"thebbk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436624748,"creation_date":1398704352,"answer_id":23346934,"question_id":12948860,"body_markdown":"I know that I&#39;m late to this party, but for anyone using large queries, the block mode in Eclipse can be very difficult to work with, because it slows way down if you have a query with more than 100 lines or so (depending on your machine). \r\n\r\nI found this site and it is very simple and very fast. Post your code into a window, add a prefix (&quot;) and add a suffix (&quot; +) and click save as. It will add the prefix and suffix to each line quite quickly. \r\n\r\nHere&#39;s the online tool:\r\n\r\nhttp://textmechanic.co/Add-Prefix-Suffix-to-Text.html\r\n\r\n","title":"Is there any way I can write (copy-paste) nicely-formatted SQL queries in Java string literals using Eclipse?","body":"<p>I know that I'm late to this party, but for anyone using large queries, the block mode in Eclipse can be very difficult to work with, because it slows way down if you have a query with more than 100 lines or so (depending on your machine). </p>\n\n<p>I found this site and it is very simple and very fast. Post your code into a window, add a prefix (\") and add a suffix (\" +) and click save as. It will add the prefix and suffix to each line quite quickly. </p>\n\n<p>Here's the online tool:</p>\n\n<p><a href=\"http://textmechanic.co/Add-Prefix-Suffix-to-Text.html\" rel=\"nofollow\">http://textmechanic.co/Add-Prefix-Suffix-to-Text.html</a></p>\n"},{"tags":[],"owner":{"account_id":2312155,"reputation":65,"user_id":2030053,"display_name":"DenverDave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636043352,"creation_date":1636043352,"answer_id":69842644,"question_id":12948860,"body_markdown":"If you&#39;re using Java 15+ use a [text block][1]:\r\n\r\n    private final String someSql = &quot;&quot;&quot;\r\n          Select \r\n            colA,\r\n            colB \r\n          From \r\n            myTable\r\n          Where\r\n            something = &#39;abc&#39;\r\n    &quot;&quot;&quot;;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/text-blocks/index.html","title":"Is there any way I can write (copy-paste) nicely-formatted SQL queries in Java string literals using Eclipse?","body":"<p>If you're using Java 15+ use a <a href=\"https://docs.oracle.com/en/java/javase/15/text-blocks/index.html\" rel=\"nofollow noreferrer\">text block</a>:</p>\n<pre><code>private final String someSql = &quot;&quot;&quot;\n      Select \n        colA,\n        colB \n      From \n        myTable\n      Where\n        something = 'abc'\n&quot;&quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":198532,"reputation":7519,"user_id":443259,"accept_rate":77,"display_name":"Daud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19630,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":12949563,"answer_count":8,"score":24,"last_activity_date":1636099881,"creation_date":1350543763,"question_id":12948860,"body_markdown":"When I wish to use SQL queries in Java, I usually hold them in final String variables. Now, when the string is too large, it goes out of page breadth, and we either have to manually break it (In eclipse, go to a particular place in the string, and place enter, and do it for each of the resulting smaller part), or we can set the formatter in Eclipse to allow only (say) 100 characters per line. But the string is not broken in a logical manner. \r\n\r\nI can format a query nicely in SQL Developer (say), but if I paste that in Java, I will have to manually set all the end quotes, and `+` symbols to make it a proper Java string. I just want to know a way to have a properly formatted SQL query copy-pasted directly into a Java file. I am using Eclipse.\r\n\r\nPerhaps when a query is formatted like :\r\n\r\n    SELECT\r\n      *\r\n     FROM\r\n      something\r\n     WHERE\r\n      id=4;\r\n\r\n then when its pasted inside a java string, we can have it like :\r\n\r\n    &quot;SELECT&quot; +\r\n      &quot; *&quot; +\r\n     &quot; FROM&quot; +\r\n      &quot; something&quot; + \r\n     &quot; WHERE&quot;;\r\n      id=4;","title":"Is there any way I can write (copy-paste) nicely-formatted SQL queries in Java string literals using Eclipse?","body":"<p>When I wish to use SQL queries in Java, I usually hold them in final String variables. Now, when the string is too large, it goes out of page breadth, and we either have to manually break it (In eclipse, go to a particular place in the string, and place enter, and do it for each of the resulting smaller part), or we can set the formatter in Eclipse to allow only (say) 100 characters per line. But the string is not broken in a logical manner. </p>\n\n<p>I can format a query nicely in SQL Developer (say), but if I paste that in Java, I will have to manually set all the end quotes, and <code>+</code> symbols to make it a proper Java string. I just want to know a way to have a properly formatted SQL query copy-pasted directly into a Java file. I am using Eclipse.</p>\n\n<p>Perhaps when a query is formatted like :</p>\n\n<pre><code>SELECT\n  *\n FROM\n  something\n WHERE\n  id=4;\n</code></pre>\n\n<p>then when its pasted inside a java string, we can have it like :</p>\n\n<pre><code>\"SELECT\" +\n  \" *\" +\n \" FROM\" +\n  \" something\" + \n \" WHERE\";\n  id=4;\n</code></pre>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"display_name":"user11878890"},"score":0,"creation_date":1606909568,"post_id":64972381,"comment_id":115104346,"body_markdown":"You question is not clear? Do you want to remove the tag or all the endpoint ?","body":"You question is not clear? Do you want to remove the tag or all the endpoint ?"},{"owner":{"account_id":20043287,"reputation":51,"user_id":14693562,"display_name":"shaik fazeel"},"score":0,"creation_date":1607489990,"post_id":64972381,"comment_id":115285923,"body_markdown":"I want to remove all the endpoint under api-resource-controller.","body":"I want to remove all the endpoint under api-resource-controller."}],"answers":[{"tags":[],"owner":{"display_name":"user11878890"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1607774144,"creation_date":1607774144,"answer_id":65264593,"question_id":64972381,"body_markdown":"You can use the `@Hidden` annotation from swagger-annotations, on the top of the controller you want to hide.\r\n\r\nOr you can use [properties to filter the endpoints][1] to show, filtering by path or package:\r\n\r\n    # Packages to include\r\n    springdoc.packagesToScan=com.package1, com.package2\r\n\r\nor \r\n\r\n    # Paths to include\r\n    springdoc.pathsToMatch=/v1, /api/balance/**\r\n\r\n\r\n  [1]: https://springdoc.org/#selecting-the-rest-controllers-to-include-in-the-documentation","title":"How do I remove &quot;api-resource-controller&quot; from my openapi swagger","body":"<p>You can use the <code>@Hidden</code> annotation from swagger-annotations, on the top of the controller you want to hide.</p>\n<p>Or you can use <a href=\"https://springdoc.org/#selecting-the-rest-controllers-to-include-in-the-documentation\" rel=\"noreferrer\">properties to filter the endpoints</a> to show, filtering by path or package:</p>\n<pre><code># Packages to include\nspringdoc.packagesToScan=com.package1, com.package2\n</code></pre>\n<p>or</p>\n<pre><code># Paths to include\nspringdoc.pathsToMatch=/v1, /api/balance/**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3923602,"reputation":738,"user_id":3244998,"display_name":"thepaoloboi"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1610122430,"creation_date":1610122430,"answer_id":65632551,"question_id":64972381,"body_markdown":"If you want to hide certain paths, you could use the `springdoc.paths-to-exclude property`, documented [here][1].\r\n\r\nSo, in your case you should use:\r\n\r\n    # Paths to exclude\r\n    springdoc.paths-to-exclude=/swagger-resources/**\r\n\r\n\r\n  [1]: https://springdoc.org/#springdoc-openapi-core-properties","title":"How do I remove &quot;api-resource-controller&quot; from my openapi swagger","body":"<p>If you want to hide certain paths, you could use the <code>springdoc.paths-to-exclude property</code>, documented <a href=\"https://springdoc.org/#springdoc-openapi-core-properties\" rel=\"noreferrer\">here</a>.</p>\n<p>So, in your case you should use:</p>\n<pre><code># Paths to exclude\nspringdoc.paths-to-exclude=/swagger-resources/**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18430265,"reputation":347,"user_id":13425606,"display_name":"kameshsr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636099512,"creation_date":1636099512,"answer_id":69850144,"question_id":64972381,"body_markdown":"You can remove `@EnableSwagger2` from your swagger config file or openapi config file then these openapi-resource controller will authomatically be removed.","title":"How do I remove &quot;api-resource-controller&quot; from my openapi swagger","body":"<p>You can remove <code>@EnableSwagger2</code> from your swagger config file or openapi config file then these openapi-resource controller will authomatically be removed.</p>\n"}],"owner":{"account_id":20043287,"reputation":51,"user_id":14693562,"display_name":"shaik fazeel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6571,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1636099512,"creation_date":1606149126,"question_id":64972381,"body_markdown":"I&#39;m currently using the below **openapi-ui** dependency.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nHow to remove the **api-resource-controller** from the **openapi-ui swagger** screen?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q2u30.png","title":"How do I remove &quot;api-resource-controller&quot; from my openapi swagger","body":"<p>I'm currently using the below <strong>openapi-ui</strong> dependency.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>How to remove the <strong>api-resource-controller</strong> from the <strong>openapi-ui swagger</strong> screen?</p>\n<p><a href=\"https://i.stack.imgur.com/q2u30.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/q2u30.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","xml","spring-boot","configuration"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636099355,"creation_date":1636099355,"answer_id":69850125,"question_id":69849303,"body_markdown":"There are many ways to read and write from a file. Especially if the file is a XML file. There are parsers and helper classes that can help you with it.\r\nStill, you would have to take care of closing the `file`, making sure that there is no inconsistent data and multithreading problems. \r\n\r\nAll these problems are (at a point) eliminated by using a DataBase system. If you think using a DB is too much, then use a smaller DB where the footprint is very small. For example [H2][1].\r\n\r\nCreate a small table with your data and let the java driver take care of the complicated stuff for you. The other advantage is the speed that this DB delivers. \r\n\r\nDo not forget, that there are strong reasons that people do not use files as DBs\r\n\r\n\r\n\r\n  [1]: https://www.h2database.com/html/main.html","title":"How to set and get some data from file in real time","body":"<p>There are many ways to read and write from a file. Especially if the file is a XML file. There are parsers and helper classes that can help you with it.\nStill, you would have to take care of closing the <code>file</code>, making sure that there is no inconsistent data and multithreading problems.</p>\n<p>All these problems are (at a point) eliminated by using a DataBase system. If you think using a DB is too much, then use a smaller DB where the footprint is very small. For example <a href=\"https://www.h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2</a>.</p>\n<p>Create a small table with your data and let the java driver take care of the complicated stuff for you. The other advantage is the speed that this DB delivers.</p>\n<p>Do not forget, that there are strong reasons that people do not use files as DBs</p>\n"}],"owner":{"account_id":21249763,"reputation":83,"user_id":15632111,"display_name":"Julia5049"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69850125,"answer_count":1,"score":-1,"last_activity_date":1636099355,"creation_date":1636093177,"question_id":69849303,"body_markdown":"I want to develop a system which show some numbers. These numbers are changed with some reasons.\r\n\r\nThe number of these numbers is just 5, so I think using database system is little bit too much. Therefore, I hope that the value stored in a file (XML or something) can be viewed and modified in real time on the server.\r\n\r\nIf this method is possible, please give me a small hint.\r\n\r\n","title":"How to set and get some data from file in real time","body":"<p>I want to develop a system which show some numbers. These numbers are changed with some reasons.</p>\n<p>The number of these numbers is just 5, so I think using database system is little bit too much. Therefore, I hope that the value stored in a file (XML or something) can be viewed and modified in real time on the server.</p>\n<p>If this method is possible, please give me a small hint.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","entitymanager"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":2,"creation_date":1634560195,"post_id":69614585,"comment_id":123049742,"body_markdown":"Kindly see the following:\n\nhttps://stackoverflow.com/questions/8224465/use-of-proxies-in-spring-aop/8224772#8224772\n\nhttps://stackoverflow.com/questions/17772614/override-and-transactional-annotations","body":"Kindly see the following:  <a href=\"https://stackoverflow.com/questions/8224465/use-of-proxies-in-spring-aop/8224772#8224772\" title=\"use of proxies in spring aop\">stackoverflow.com/questions/8224465/&hellip;</a>  <a href=\"https://stackoverflow.com/questions/17772614/override-and-transactional-annotations\" title=\"override and transactional annotations\">stackoverflow.com/questions/17772614/&hellip;</a>"},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1634560964,"post_id":69614585,"comment_id":123050103,"body_markdown":"@SusanMustafa those questions help explain the difference between a bean that implements an interface and one that does not, but I can&#39;t spot the reason of the weird behaviour in my application","body":"@SusanMustafa those questions help explain the difference between a bean that implements an interface and one that does not, but I can&#39;t spot the reason of the weird behaviour in my application"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1634561861,"post_id":69614585,"comment_id":123050514,"body_markdown":"It might be because you are using Repositories directly and therefore it uses the SharedEntityManagerInvocationHandler.   You could test this theory by having your Mediator call the repositories directly? Instead of calling Service..and see if you get the same.\n\nThat way we could eliminate the possibility of having implements interface as a factor in this situation.\n\nStill very interesting, and I would love to know what you get.","body":"It might be because you are using Repositories directly and therefore it uses the SharedEntityManagerInvocationHandler.   You could test this theory by having your Mediator call the repositories directly? Instead of calling Service..and see if you get the same.  That way we could eliminate the possibility of having implements interface as a factor in this situation.  Still very interesting, and I would love to know what you get."},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1634622433,"post_id":69614585,"comment_id":123066922,"body_markdown":"@SusanMustafa in the real-world example, the call to the repositories&#39; methods is done through a call to another service, which is injected with the one annotated (or not) with Transactional. I made the to the DAO method directly in the first Service (the one in the example) but still to no avail. The entity remains in the db.","body":"@SusanMustafa in the real-world example, the call to the repositories&#39; methods is done through a call to another service, which is injected with the one annotated (or not) with Transactional. I made the to the DAO method directly in the first Service (the one in the example) but still to no avail. The entity remains in the db."},{"owner":{"account_id":16600018,"reputation":499,"user_id":11995961,"display_name":"Bored"},"score":0,"creation_date":1634824841,"post_id":69614585,"comment_id":123134960,"body_markdown":"Do you use an EntityManager with @PersistenceContext or its the default jpa entitymanager?","body":"Do you use an EntityManager with @PersistenceContext or its the default jpa entitymanager?"},{"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"score":0,"creation_date":1634900897,"post_id":69614585,"comment_id":123157255,"body_markdown":"@Bored it&#39;s the default jpa entitymanager, no bean defined for this in the whole app","body":"@Bored it&#39;s the default jpa entitymanager, no bean defined for this in the whole app"}],"answers":[{"tags":[],"owner":{"account_id":16600018,"reputation":499,"user_id":11995961,"display_name":"Bored"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636099169,"creation_date":1636099169,"answer_id":69850092,"question_id":69614585,"body_markdown":"I guess that this difference in behavior is due to Spring OpenSessionInView which is enabled by default.\r\nYou must set in application.yml\r\n\r\n    spring:\r\n      jpa:\r\n        open-in-view: false\r\n\r\n\r\nPlease see [OSIV][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1103363/why-is-hibernate-open-session-in-view-considered-a-bad-practice","title":"Spring @Transactional different behavior on Service and non-Service methods?","body":"<p>I guess that this difference in behavior is due to Spring OpenSessionInView which is enabled by default.\nYou must set in application.yml</p>\n<pre><code>spring:\n  jpa:\n    open-in-view: false\n</code></pre>\n<p>Please see <a href=\"https://stackoverflow.com/questions/1103363/why-is-hibernate-open-session-in-view-considered-a-bad-practice\">OSIV</a></p>\n"}],"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636099169,"creation_date":1634553217,"question_id":69614585,"body_markdown":"I have a Spring Boot 2.3 REST application with a standard architecture (controller -&gt; service -&gt; repository). For auditing purposes, I inserted a thin layer (some kind of a [Mediator][1]), so that I persist all the requests to some specific service method regardless they are successfully persisted or an exception is thrown and the transaction is rollbacked. Example:\r\n\r\n```\r\n@Component\r\npublic class Mediator {\r\n\r\n    private final Service service;\r\n    private final AuditService auditService;\r\n\r\n    public Mediator(Service service, AuditService auditService) {\r\n        this.service = service;\r\n        this.auditService = auditService;\r\n    }\r\n\r\n    @Transactional\r\n    public void saveReport(Report report) {\r\n        try {\r\n            service.saveReport(report);\r\n            auditService.saveReport(report); \r\n        } catch (Exception exception) {\r\n            auditService.saveReport(report, exception);\r\n            throw exception;\r\n        }\r\n    }\r\n}\r\n```\r\nThus I encountered a weird situation: if I place the ```@Transactional``` on the Mediator&#39;s method (example above), all the operations in the JPA Repositories are successfully persisted. If I place the ```@Transactional``` on the ServiceImpl method instead (example below) and no longer on the Mediator, one of the delete queries is not ran, although the rest of the queries are executed just fine. Suppose my ServiceImpl looks something like:\r\n```\r\n@Service\r\npublic class ServiceImpl implements Service {\r\n\r\n    private final RepositoryA repositoryA;\r\n    private final RepositoryB repositoryB;\r\n\r\n    public ServiceImpl(RepositoryA repositoryA, RepositoryB repositoryB) {\r\n        this.repositoryA = repositoryA;\r\n        this.repositoryB = repositoryB;\r\n    }\r\n\r\n    @Transactional\r\n    public void saveReport(Report report) {\r\n        repositoryA.save(report.getA());\r\n        repositoryB.save(report.getB());\r\n        repositoryB.delete(report.getSomethingElse());\r\n    }\r\n}\r\n```\r\nThe only visible difference between the two approaches with respect to the Transactions is that in the first scenario, I have this for each Mediator call:\r\n\r\n    o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(909894553&lt;open&gt;)] for JPA transaction\r\n\r\nwhile in the second scenario, I have this:\r\n         \r\n    tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation\r\n\r\nI guess there is a difference between annotating directly a bean&#39;s method with ```@Transactional``` (what I do in the Mediator) and annotating a bean&#39;s (**that is the implementation of the interface injected**) method with the same thing (what we usually do by annotating a ServiceImpl method), but I am not sure and cannot spot the reason for this weird behaviour. Does anyone have an idea why this happens?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Mediator_pattern","title":"Spring @Transactional different behavior on Service and non-Service methods?","body":"<p>I have a Spring Boot 2.3 REST application with a standard architecture (controller -&gt; service -&gt; repository). For auditing purposes, I inserted a thin layer (some kind of a <a href=\"https://en.wikipedia.org/wiki/Mediator_pattern\" rel=\"nofollow noreferrer\">Mediator</a>), so that I persist all the requests to some specific service method regardless they are successfully persisted or an exception is thrown and the transaction is rollbacked. Example:</p>\n<pre><code>@Component\npublic class Mediator {\n\n    private final Service service;\n    private final AuditService auditService;\n\n    public Mediator(Service service, AuditService auditService) {\n        this.service = service;\n        this.auditService = auditService;\n    }\n\n    @Transactional\n    public void saveReport(Report report) {\n        try {\n            service.saveReport(report);\n            auditService.saveReport(report); \n        } catch (Exception exception) {\n            auditService.saveReport(report, exception);\n            throw exception;\n        }\n    }\n}\n</code></pre>\n<p>Thus I encountered a weird situation: if I place the <code>@Transactional</code> on the Mediator's method (example above), all the operations in the JPA Repositories are successfully persisted. If I place the <code>@Transactional</code> on the ServiceImpl method instead (example below) and no longer on the Mediator, one of the delete queries is not ran, although the rest of the queries are executed just fine. Suppose my ServiceImpl looks something like:</p>\n<pre><code>@Service\npublic class ServiceImpl implements Service {\n\n    private final RepositoryA repositoryA;\n    private final RepositoryB repositoryB;\n\n    public ServiceImpl(RepositoryA repositoryA, RepositoryB repositoryB) {\n        this.repositoryA = repositoryA;\n        this.repositoryB = repositoryB;\n    }\n\n    @Transactional\n    public void saveReport(Report report) {\n        repositoryA.save(report.getA());\n        repositoryB.save(report.getB());\n        repositoryB.delete(report.getSomethingElse());\n    }\n}\n</code></pre>\n<p>The only visible difference between the two approaches with respect to the Transactions is that in the first scenario, I have this for each Mediator call:</p>\n<pre><code>o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(909894553&lt;open&gt;)] for JPA transaction\n</code></pre>\n<p>while in the second scenario, I have this:</p>\n<pre><code>tor$SharedEntityManagerInvocationHandler : Creating new EntityManager for shared EntityManager invocation\n</code></pre>\n<p>I guess there is a difference between annotating directly a bean's method with <code>@Transactional</code> (what I do in the Mediator) and annotating a bean's (<strong>that is the implementation of the interface injected</strong>) method with the same thing (what we usually do by annotating a ServiceImpl method), but I am not sure and cannot spot the reason for this weird behaviour. Does anyone have an idea why this happens?</p>\n"},{"tags":["java","eclipse","classpath"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1636136825,"post_id":69850090,"comment_id":123485275,"body_markdown":"Sounds like you need to report a bug to the project you&#39;re cloning.","body":"Sounds like you need to report a bug to the project you&#39;re cloning."},{"owner":{"account_id":1088100,"reputation":1925,"user_id":1083345,"accept_rate":69,"display_name":"Windwalker"},"score":0,"creation_date":1636210902,"post_id":69850090,"comment_id":123498306,"body_markdown":"I fact I had a previous installation of Eclipse, where this error hasn&#39;t been reported. So it must be configurable - somehow.","body":"I fact I had a previous installation of Eclipse, where this error hasn&#39;t been reported. So it must be configurable - somehow."}],"owner":{"account_id":1088100,"reputation":1925,"user_id":1083345,"accept_rate":69,"display_name":"Windwalker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636099167,"creation_date":1636099167,"question_id":69850090,"body_markdown":"I am cloning a project with read permissions only.&lt;br&gt;\r\nAfter import, Eclipse will report an error saying\r\n&gt; build path contains duplicate entry\r\n\r\nHow can I disable this check?","title":"Eclipse Error &quot;build path contains duplicate entry&quot;","body":"<p>I am cloning a project with read permissions only.<br>\nAfter import, Eclipse will report an error saying</p>\n<blockquote>\n<p>build path contains duplicate entry</p>\n</blockquote>\n<p>How can I disable this check?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1636089651,"post_id":69848913,"comment_id":123469205,"body_markdown":"If you are allowed to use class `java.lang.Character` then see method [toString(int)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int))","body":"If you are allowed to use class <code>java.lang.Character</code> then see method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"nofollow noreferrer\">toString(int)</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1636089758,"post_id":69848913,"comment_id":123469222,"body_markdown":"Does this help? [How to convert ASCII code (0-255) to its corresponding character?](https://stackoverflow.com/questions/7693994/how-to-convert-ascii-code-0-255-to-its-corresponding-character)","body":"Does this help? <a href=\"https://stackoverflow.com/questions/7693994/how-to-convert-ascii-code-0-255-to-its-corresponding-character\">How to convert ASCII code (0-255) to its corresponding character?</a>"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1636090098,"post_id":69848913,"comment_id":123469262,"body_markdown":"Are you expecting your users to input a single-digit integer?","body":"Are you expecting your users to input a single-digit integer?"},{"owner":{"account_id":23244915,"reputation":15,"user_id":17333636,"display_name":"Regis"},"score":0,"creation_date":1636090251,"post_id":69848913,"comment_id":123469286,"body_markdown":"I am not sure I know the instructions say I have to call a void method named printCharacter() with exactly one parameter. So thats what I tried to do.","body":"I am not sure I know the instructions say I have to call a void method named printCharacter() with exactly one parameter. So thats what I tried to do."},{"owner":{"account_id":23244915,"reputation":15,"user_id":17333636,"display_name":"Regis"},"score":0,"creation_date":1636090337,"post_id":69848913,"comment_id":123469304,"body_markdown":"@ernest_k I am just to assume that they will input a number that is within the listed range of 33-126","body":"@ernest_k I am just to assume that they will input a number that is within the listed range of 33-126"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1636090472,"post_id":69848913,"comment_id":123469325,"body_markdown":"The easiest hack is `System.out.println((int) Integer.toString(getWholeNumber).charAt(0));`, which assumes a single digit was captured by the user.","body":"The easiest hack is <code>System.out.println((int) Integer.toString(getWholeNumber).charAt(0));</code>, which assumes a single digit was captured by the user."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1636090631,"post_id":69848913,"comment_id":123469346,"body_markdown":"Then it&#39;s unclear what you&#39;re trying to do. Are you getting a digit that you want to print the ASCII code of? Or are you getting an ASCII code to print the corresponding character of?","body":"Then it&#39;s unclear what you&#39;re trying to do. Are you getting a digit that you want to print the ASCII code of? Or are you getting an ASCII code to print the corresponding character of?"},{"owner":{"account_id":23244915,"reputation":15,"user_id":17333636,"display_name":"Regis"},"score":0,"creation_date":1636091018,"post_id":69848913,"comment_id":123469421,"body_markdown":"I am trying to take the getWholeNumber variable and turn it into ASCII.","body":"I am trying to take the getWholeNumber variable and turn it into ASCII."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1636091086,"post_id":69848913,"comment_id":123469436,"body_markdown":"@ernest_k look at the accepted range - 33 to 126 - which are the ASCII codes for all the printable, non-whitespace characters. Obviously the user enters an ASCII code and the program prints the character that has that ASCII code.","body":"@ernest_k look at the accepted range - 33 to 126 - which are the ASCII codes for all the printable, non-whitespace characters. Obviously the user enters an ASCII code and the program prints the character that has that ASCII code."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1636091341,"post_id":69848913,"comment_id":123469475,"body_markdown":"Then please edit your post. Your description and title say the opposite of what you actually want. All you need to do is change the statements `char letter = (char) getWholeNumber();` to `char letter = (char) getWholeNumber;` (use the parameter rather than asking for input again). Also, your main method should send the parameter: `int wholeNumber = getWholeNumber(); System.out.println(&quot;The number is &quot; + wholeNumber + &quot; and the character for this is a(n) &quot; + printCharacter(wholeNumber));`","body":"Then please edit your post. Your description and title say the opposite of what you actually want. All you need to do is change the statements <code>char letter = (char) getWholeNumber();</code> to <code>char letter = (char) getWholeNumber;</code> (use the parameter rather than asking for input again). Also, your main method should send the parameter: <code>int wholeNumber = getWholeNumber(); System.out.println(&quot;The number is &quot; + wholeNumber + &quot; and the character for this is a(n) &quot; + printCharacter(wholeNumber));</code>"},{"owner":{"account_id":23244915,"reputation":15,"user_id":17333636,"display_name":"Regis"},"score":0,"creation_date":1636093146,"post_id":69848913,"comment_id":123469764,"body_markdown":"I am not allowed to have a variable named wholeNumber. I have very specific instructions. I have these two methods getWholeNumber, and printCharacter. The getWholeNumber  method is allowed no parameters, and the printCharacter Method is allowed one parameter getWholeNumber. I have to call both of these methods in the `System.out.println(&quot;The number is &quot; + getWholeNumber(); + &quot; and the character for this is a(n) &quot; + printCharacter());` it has to look exactly like that. I am stuck on the printCharacter method and how to correctly call the method that will output an ASCII character.","body":"I am not allowed to have a variable named wholeNumber. I have very specific instructions. I have these two methods getWholeNumber, and printCharacter. The getWholeNumber  method is allowed no parameters, and the printCharacter Method is allowed one parameter getWholeNumber. I have to call both of these methods in the <code>System.out.println(&quot;The number is &quot; + getWholeNumber(); + &quot; and the character for this is a(n) &quot; + printCharacter());</code> it has to look exactly like that. I am stuck on the printCharacter method and how to correctly call the method that will output an ASCII character."}],"answers":[{"tags":[],"owner":{"account_id":19501589,"reputation":72,"user_id":14267530,"display_name":"rem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636089954,"creation_date":1636089600,"answer_id":69848940,"question_id":69848913,"body_markdown":"If you first convert the int to a char, you will have your ascii code.\r\n\r\nFor example:\r\n\r\n\r\n    int iAsciiValue = 9; // Currently just the number 9, but we want \r\n     //Tab character\r\n    // Put the tab character into a string\r\n    String strAsciiTab = Character.toString((char) iAsciiValue);\r\n\r\n","title":"Converting a user inputted integer to the character with that ASCII code","body":"<p>If you first convert the int to a char, you will have your ascii code.</p>\n<p>For example:</p>\n<pre><code>int iAsciiValue = 9; // Currently just the number 9, but we want \n //Tab character\n// Put the tab character into a string\nString strAsciiTab = Character.toString((char) iAsciiValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11659,"reputation":53279,"user_id":22595,"accept_rate":77,"display_name":"Michał Niklas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636093214,"creation_date":1636093214,"answer_id":69849307,"question_id":69848913,"body_markdown":"At first you must convert `int` to `char`. Then use `Character.toString(c)` to get ASCII value of the code:\r\n\r\n\tpublic static void showAsciiCode(int code) {\r\n\t\tchar c = (char)code;\r\n\t\tString ascii = Character.toString(c);\r\n\t\tSystem.out.println(&quot;code=&quot; + code + &quot;; char=&quot; + ascii);\r\n\t}\r\n\r\nOutput:\r\n\r\n\tcode=33; char=!\r\n\tcode=34; char=&quot;\r\n\tcode=35; char=#\r\n\tcode=36; char=$\r\n\t...\r\n","title":"Converting a user inputted integer to the character with that ASCII code","body":"<p>At first you must convert <code>int</code> to <code>char</code>. Then use <code>Character.toString(c)</code> to get ASCII value of the code:</p>\n<pre><code>public static void showAsciiCode(int code) {\n    char c = (char)code;\n    String ascii = Character.toString(c);\n    System.out.println(&quot;code=&quot; + code + &quot;; char=&quot; + ascii);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>code=33; char=!\ncode=34; char=&quot;\ncode=35; char=#\ncode=36; char=$\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11659,"reputation":53279,"user_id":22595,"accept_rate":77,"display_name":"Michał Niklas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636099077,"creation_date":1636097338,"answer_id":69849793,"question_id":69848913,"body_markdown":"There are some problem with your code:\r\n\r\n 1. Do not use the same name for the method and for the variable. You\r\n    have method `getWholeNumber` and variable with the same name. For variable use\r\n    other name like `result`.\r\n    \r\n   \r\n 2. When you write `&quot; and the character for this is a(n) &quot; +\r\n    printCharacter());` you call `printCharacter()` method, but this\r\n    method do not return any value. In its body you have already printed\r\n    result, so I changed this method to `getCharacter()`\r\n\r\nChanged code:\r\n\r\n\timport java.util.Scanner;\r\n\r\n\tclass ascii {\r\n\r\n\t\tpublic static int getWholeNumber() {\r\n\t\t\tint result;\r\n\t\t\tSystem.out.println(&quot;Enter a whole number, one that does not have a decimal point: &quot;);\r\n\t\t\tScanner input = new Scanner(System.in);\r\n\t\t\tresult = input.nextInt();\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\tpublic static char getCharacter(int code) {\r\n\t\t\tchar letter = (char) code;\r\n\t\t\treturn letter;\r\n\t\t}\r\n\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.println(&quot;*** You will enter values in the range of 33-126 for the whole numbers and 33.0-126.0 for the real numbers***&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tint code = getWholeNumber();\r\n\t\t\tchar ascii = getCharacter(code);\r\n\t\t\tSystem.out.println(&quot;The number is &quot; + code + &quot; and the character for this is a(n) &quot; + ascii);\r\n\t\t}\r\n\r\n\t}\r\n\r\n**EDIT:**\r\n\r\nIf you have to print letter from `printCharacter()` method then you can write code like:\r\n\r\n\t\tpublic static void printCharacter(int code) {\r\n\t\t\tchar letter = (char) code;\r\n\t\t\tSystem.out.println(letter);\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.println(&quot;*** You will enter values in the range of 33-126 for the whole numbers and 33.0-126.0 for the real numbers***&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\tint code = getWholeNumber();\r\n\t\t\tSystem.out.print(&quot;The number is &quot; + code + &quot; and the character for this is a(n) &quot;);\r\n\t\t\tprintCharacter(code);\r\n\t\t}\r\n\r\n\r\n","title":"Converting a user inputted integer to the character with that ASCII code","body":"<p>There are some problem with your code:</p>\n<ol>\n<li><p>Do not use the same name for the method and for the variable. You\nhave method <code>getWholeNumber</code> and variable with the same name. For variable use\nother name like <code>result</code>.</p>\n</li>\n<li><p>When you write <code>&quot; and the character for this is a(n) &quot; + printCharacter());</code> you call <code>printCharacter()</code> method, but this\nmethod do not return any value. In its body you have already printed\nresult, so I changed this method to <code>getCharacter()</code></p>\n</li>\n</ol>\n<p>Changed code:</p>\n<pre><code>import java.util.Scanner;\n\nclass ascii {\n\n    public static int getWholeNumber() {\n        int result;\n        System.out.println(&quot;Enter a whole number, one that does not have a decimal point: &quot;);\n        Scanner input = new Scanner(System.in);\n        result = input.nextInt();\n        return result;\n    }\n\n    public static char getCharacter(int code) {\n        char letter = (char) code;\n        return letter;\n    }\n\n\n    public static void main(String[] args) {\n        System.out.println(&quot;*** You will enter values in the range of 33-126 for the whole numbers and 33.0-126.0 for the real numbers***&quot;);\n        System.out.println(&quot;&quot;);\n        int code = getWholeNumber();\n        char ascii = getCharacter(code);\n        System.out.println(&quot;The number is &quot; + code + &quot; and the character for this is a(n) &quot; + ascii);\n    }\n\n}\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>If you have to print letter from <code>printCharacter()</code> method then you can write code like:</p>\n<pre><code>    public static void printCharacter(int code) {\n        char letter = (char) code;\n        System.out.println(letter);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;*** You will enter values in the range of 33-126 for the whole numbers and 33.0-126.0 for the real numbers***&quot;);\n        System.out.println(&quot;&quot;);\n        int code = getWholeNumber();\n        System.out.print(&quot;The number is &quot; + code + &quot; and the character for this is a(n) &quot;);\n        printCharacter(code);\n    }\n</code></pre>\n"}],"owner":{"account_id":23244915,"reputation":15,"user_id":17333636,"display_name":"Regis"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69849307,"answer_count":3,"score":1,"last_activity_date":1636099077,"creation_date":1636089165,"question_id":69848913,"body_markdown":"This is my first post. I also just started. We are supposed to use method calling to get an integer from the user and then use the value inputted in another method and convert it into a ASCII character. This is what I have - \r\n\r\n```\r\npublic static void main(String[] args) {\r\n\tSystem.out.println(\r\n\t\t\t&quot;*** You will enter values in the range of 33-126 for the whole numbers and 33.0-126.0 for the real numbers***&quot;);\r\n\r\n\tSystem.out.println(&quot;&quot;);\r\n\r\n\tSystem.out.println(&quot;The number is &quot; + getWholeNumber() + \r\n                       &quot; and the character for this is a(n) &quot; + printCharacter());\r\n}\r\n\r\npublic static int getWholeNumber() {\r\n\tint getWholeNumber;\r\n\tSystem.out.println(&quot;Enter a whole number, one that does not have a decimal point: &quot;);\r\n\tScanner input = new Scanner(System.in);\r\n\tgetWholeNumber = input.nextInt();\r\n\treturn getWholeNumber;\r\n}\r\n\r\npublic static void printCharacter(int getWholeNumber) {\r\n\tchar letter = (char) getWholeNumber();\r\n\tSystem.out.println(letter);\r\n}\r\n```\r\nI have successfully called the method and displayed the wholenumber but cannot seem to figure out how to convert that to the ASCII character represented by the number.\r\n","title":"Converting a user inputted integer to the character with that ASCII code","body":"<p>This is my first post. I also just started. We are supposed to use method calling to get an integer from the user and then use the value inputted in another method and convert it into a ASCII character. This is what I have -</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(\n            &quot;*** You will enter values in the range of 33-126 for the whole numbers and 33.0-126.0 for the real numbers***&quot;);\n\n    System.out.println(&quot;&quot;);\n\n    System.out.println(&quot;The number is &quot; + getWholeNumber() + \n                       &quot; and the character for this is a(n) &quot; + printCharacter());\n}\n\npublic static int getWholeNumber() {\n    int getWholeNumber;\n    System.out.println(&quot;Enter a whole number, one that does not have a decimal point: &quot;);\n    Scanner input = new Scanner(System.in);\n    getWholeNumber = input.nextInt();\n    return getWholeNumber;\n}\n\npublic static void printCharacter(int getWholeNumber) {\n    char letter = (char) getWholeNumber();\n    System.out.println(letter);\n}\n</code></pre>\n<p>I have successfully called the method and displayed the wholenumber but cannot seem to figure out how to convert that to the ASCII character represented by the number.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636083944,"creation_date":1636083944,"answer_id":69848460,"question_id":69848236,"body_markdown":"You are returning an `Object` from these getters. You should be returning `String` here.\r\n```java\r\npublic Object getAmBusRoute() { return amBusRoute; }\r\n\r\npublic Object getPmBusRoute() { return pmBusRoute; }\r\n```","title":"Only some fields from Firebase are transferred to my code in Android Studio","body":"<p>You are returning an <code>Object</code> from these getters. You should be returning <code>String</code> here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Object getAmBusRoute() { return amBusRoute; }\n\npublic Object getPmBusRoute() { return pmBusRoute; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636099000,"creation_date":1636099000,"answer_id":69850070,"question_id":69848236,"body_markdown":"As I see in your [screenshot][1], you are using Firestore, but your code tries to read data from the [Realtime Database][2], and this is not correct. To solve this problem, you have to add Firestore to your project. To achieve this, please check the official documentation regarding how to [get started with Cloud Firestore][3].\r\n\r\nRight after you do that, to read the data you can use the following code:\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    CollectionReference busDriversRef = db.collection(&quot;BusDrivers&quot;);\r\n    busDriversRef..get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                for (QueryDocumentSnapshot document : task.getResult()) {\r\n                    BusDriver busDriver = document.toObject(BusDriver.class);\r\n                    busDrivers.add(busDriver);\r\n                }\r\n            } else {\r\n                Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n  [1]: https://i.ibb.co/7k407nS/Screenshot-2021-11-04-225815.png\r\n  [2]: https://firebase.google.com/docs/database\r\n  [3]: https://firebase.google.com/docs/firestore/quickstart#java_2","title":"Only some fields from Firebase are transferred to my code in Android Studio","body":"<p>As I see in your <a href=\"https://i.ibb.co/7k407nS/Screenshot-2021-11-04-225815.png\" rel=\"nofollow noreferrer\">screenshot</a>, you are using Firestore, but your code tries to read data from the <a href=\"https://firebase.google.com/docs/database\" rel=\"nofollow noreferrer\">Realtime Database</a>, and this is not correct. To solve this problem, you have to add Firestore to your project. To achieve this, please check the official documentation regarding how to <a href=\"https://firebase.google.com/docs/firestore/quickstart#java_2\" rel=\"nofollow noreferrer\">get started with Cloud Firestore</a>.</p>\n<p>Right after you do that, to read the data you can use the following code:</p>\n<pre><code>FirebaseFirestore db = FirebaseFirestore.getInstance();\nCollectionReference busDriversRef = db.collection(&quot;BusDrivers&quot;);\nbusDriversRef..get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (QueryDocumentSnapshot document : task.getResult()) {\n                BusDriver busDriver = document.toObject(BusDriver.class);\n                busDrivers.add(busDriver);\n            }\n        } else {\n            Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"display_name":"user15230333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69850070,"answer_count":2,"score":1,"last_activity_date":1636099042,"creation_date":1636081299,"question_id":69848236,"body_markdown":"I&#39;ve spent hours trying to figure out why some of the fields from a document in Firestore won&#39;t transfer to my code. \r\n\r\nCan you please help me to identify what&#39;s wrong with my code and how I should change it to make it work?\r\n\r\n[This is what my Firebase Database looks like][1]\r\n\r\n(And yes, the bus numbers are purposely saved as Strings)\r\n\r\nI was trying to use the getValue method to read the data from Firebase as shown in the code below:\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference().child(&quot;BusDrivers&quot;);\r\n    \r\n      // Getting all of the registered bus drivers&#39; information\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot datasnapshot) {\r\n                for (DataSnapshot snapshot : datasnapshot.getChildren()) {\r\n                    BusDriver busDriver = snapshot.getValue(BusDriver.class);\r\n                    busDrivers.add(busDriver);\r\n                }\r\n            }\r\nHowever, only some of the fields are transferred to the busDriver object. When I call `busDriver.getDriverFirstName()`, I accurately get a result...\r\n\r\n[![Don is returned after calling for the driver&#39;s first name][2]][2]\r\n\r\nBut when I call busDriver.getAmBusRoute(), I get this for some reason...\r\n\r\n[![N/A][3]][3]\r\n\r\nHere&#39;s the code of the BusDriver class as well.\r\n\r\n    public class BusDriver {\r\n    private final String busDriverID;\r\n    private final String amBusRoute;\r\n    private final String pmBusRoute;\r\n    private final String driverFirstName;\r\n    private final String driverMiddleName;\r\n    private final String driverLastName;\r\n\r\n    public BusDriver() {\r\n        this.busDriverID = &quot;N/A&quot;;\r\n        this.amBusRoute = &quot;N/A&quot;;\r\n        this.pmBusRoute = &quot;N/A&quot;;\r\n        this.driverFirstName = &quot;N/A&quot;;\r\n        this.driverMiddleName = &quot;N/A&quot;;\r\n        this.driverLastName = &quot;N/A&quot;;\r\n    }\r\n\r\n    public BusDriver(String busDriverID, String amBusRoute, String pmBusRoute, String driverFirstName, String driverMiddleName,\r\n                     String driverLastName) {\r\n        this.busDriverID = busDriverID;\r\n        this.amBusRoute = amBusRoute;\r\n        this.pmBusRoute = pmBusRoute;\r\n        this.driverFirstName = driverFirstName;\r\n        this.driverMiddleName = driverMiddleName;\r\n        this.driverLastName = driverLastName;\r\n    }\r\n\r\n    public String getBusDriverID() { return busDriverID; }\r\n\r\n    public Object getAmBusRoute() { return amBusRoute; }\r\n\r\n    public Object getPmBusRoute() { return pmBusRoute; }\r\n\r\n    public String getDriverFirstName() { return driverFirstName; }\r\n\r\n    public String getDriverMiddleName() { return driverMiddleName; }\r\n\r\n    public String getDriverLastName() { return driverLastName; }\r\n}\r\n\r\nPlease help me. Thank you!\r\n\r\n\r\n  [1]: https://ibb.co/tLX1yqH\r\n  [2]: https://i.stack.imgur.com/TK5LN.png\r\n  [3]: https://i.stack.imgur.com/IqNiy.png","title":"Only some fields from Firebase are transferred to my code in Android Studio","body":"<p>I've spent hours trying to figure out why some of the fields from a document in Firestore won't transfer to my code.</p>\n<p>Can you please help me to identify what's wrong with my code and how I should change it to make it work?</p>\n<p><a href=\"https://ibb.co/tLX1yqH\" rel=\"nofollow noreferrer\">This is what my Firebase Database looks like</a></p>\n<p>(And yes, the bus numbers are purposely saved as Strings)</p>\n<p>I was trying to use the getValue method to read the data from Firebase as shown in the code below:</p>\n<pre><code>    DatabaseReference reference = FirebaseDatabase.getInstance().getReference().child(&quot;BusDrivers&quot;);\n\n  // Getting all of the registered bus drivers' information\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot datasnapshot) {\n            for (DataSnapshot snapshot : datasnapshot.getChildren()) {\n                BusDriver busDriver = snapshot.getValue(BusDriver.class);\n                busDrivers.add(busDriver);\n            }\n        }\n</code></pre>\n<p>However, only some of the fields are transferred to the busDriver object. When I call <code>busDriver.getDriverFirstName()</code>, I accurately get a result...</p>\n<p><a href=\"https://i.stack.imgur.com/TK5LN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TK5LN.png\" alt=\"Don is returned after calling for the driver's first name\" /></a></p>\n<p>But when I call busDriver.getAmBusRoute(), I get this for some reason...</p>\n<p><a href=\"https://i.stack.imgur.com/IqNiy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IqNiy.png\" alt=\"N/A\" /></a></p>\n<p>Here's the code of the BusDriver class as well.</p>\n<pre><code>public class BusDriver {\nprivate final String busDriverID;\nprivate final String amBusRoute;\nprivate final String pmBusRoute;\nprivate final String driverFirstName;\nprivate final String driverMiddleName;\nprivate final String driverLastName;\n\npublic BusDriver() {\n    this.busDriverID = &quot;N/A&quot;;\n    this.amBusRoute = &quot;N/A&quot;;\n    this.pmBusRoute = &quot;N/A&quot;;\n    this.driverFirstName = &quot;N/A&quot;;\n    this.driverMiddleName = &quot;N/A&quot;;\n    this.driverLastName = &quot;N/A&quot;;\n}\n\npublic BusDriver(String busDriverID, String amBusRoute, String pmBusRoute, String driverFirstName, String driverMiddleName,\n                 String driverLastName) {\n    this.busDriverID = busDriverID;\n    this.amBusRoute = amBusRoute;\n    this.pmBusRoute = pmBusRoute;\n    this.driverFirstName = driverFirstName;\n    this.driverMiddleName = driverMiddleName;\n    this.driverLastName = driverLastName;\n}\n\npublic String getBusDriverID() { return busDriverID; }\n\npublic Object getAmBusRoute() { return amBusRoute; }\n\npublic Object getPmBusRoute() { return pmBusRoute; }\n\npublic String getDriverFirstName() { return driverFirstName; }\n\npublic String getDriverMiddleName() { return driverMiddleName; }\n\npublic String getDriverLastName() { return driverLastName; }\n</code></pre>\n<p>}</p>\n<p>Please help me. Thank you!</p>\n"},{"tags":["java","post","postdata","discogs-api","javahelp"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1636098653,"post_id":69849975,"comment_id":123470981,"body_markdown":"Please show the effective POST String (the value of the argument to `doPost()`)!","body":"Please show the effective POST String (the value of the argument to <code>doPost()</code>)!"},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1636098721,"post_id":69849975,"comment_id":123470998,"body_markdown":"And please fix the Java code in your question!","body":"And please fix the Java code in your question!"}],"answers":[{"tags":[],"owner":{"account_id":21940859,"reputation":21,"user_id":16221438,"display_name":"Vildanb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636098985,"creation_date":1636098985,"answer_id":69850067,"question_id":69849975,"body_markdown":"To test the working of the code, I wrote it directly as follows.\r\n\r\n    json = doPost(&quot;/marketplace/listings?release_id=&quot;+1113859+&quot;&amp;status=Draft&quot;\r\n                          +&quot;&amp;condition=&quot;+&quot;Mint%20(M)&quot;+ &quot;&amp;price=&quot; +2000.0);\r\n\r\n   \r\n\r\n     protected static JSONObject doPost(String restUrl) {\r\n            JSONObject json = null;\r\n    \r\n            WebResource webResource = initRest(restUrl);\r\n            ClientResponse resp = webResource.type(&quot;application/json&quot;)\r\n                    .header(&quot;Authorization&quot;, &quot;Discogs token=&quot; + token)\r\n                    .header(&quot;JTLSyncTool/0.1&quot;, &quot;+https://www.####.de&quot;)\r\n                    .post(ClientResponse.class);\r\n            json = parseRest(json, resp);\r\n            if(resp.getStatus() &gt; 250) {\r\n                PersistenceHelper.addError(DiscogsApi.class.getName(), restUrl);\r\n                PersistenceHelper.addError(DiscogsApi.class.getName(), resp.toString());\r\n            }\r\n    \r\n            return json;\r\n        }","title":"discogs post https://api.discogs.com/marketplace/listings? returned a response status of 422 null","body":"<p>To test the working of the code, I wrote it directly as follows.</p>\n<pre><code>json = doPost(&quot;/marketplace/listings?release_id=&quot;+1113859+&quot;&amp;status=Draft&quot;\n                      +&quot;&amp;condition=&quot;+&quot;Mint%20(M)&quot;+ &quot;&amp;price=&quot; +2000.0);\n\n\n\n protected static JSONObject doPost(String restUrl) {\n        JSONObject json = null;\n\n        WebResource webResource = initRest(restUrl);\n        ClientResponse resp = webResource.type(&quot;application/json&quot;)\n                .header(&quot;Authorization&quot;, &quot;Discogs token=&quot; + token)\n                .header(&quot;JTLSyncTool/0.1&quot;, &quot;+https://www.####.de&quot;)\n                .post(ClientResponse.class);\n        json = parseRest(json, resp);\n        if(resp.getStatus() &gt; 250) {\n            PersistenceHelper.addError(DiscogsApi.class.getName(), restUrl);\n            PersistenceHelper.addError(DiscogsApi.class.getName(), resp.toString());\n        }\n\n        return json;\n    }\n</code></pre>\n"}],"owner":{"account_id":21940859,"reputation":21,"user_id":16221438,"display_name":"Vildanb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636098985,"creation_date":1636098463,"question_id":69849975,"body_markdown":"I&#39;m trying to post api.discogs.com/marketplace/listings?... in java.\r\n\r\nWhen I try to make a newlisting post, the result is &quot;returned a response status of 422 null&quot;.\r\n\r\n&quot;422 Unprocessable Entity\r\nYour request was well-formed, but there’s something semantically wrong with the body of the request. This can be due to malformed JSON, a parameter that’s missing or the wrong type, or trying to perform an action that doesn’t make any sense. Check the response body for specific information about what went wrong.&quot;\r\n\r\n\r\n\r\n\r\n&quot;Invalid release_id:expected integer&quot; is displayed as a message.\r\n\r\nMy get methods work but post doesn&#39;t.\r\n\r\n    int release_id;\r\n    String condition;\r\n    int listing_id;\r\n    String sleeve_condition;\r\n    String comments;\r\n    String allow_offers;\r\n    string status;\r\n    String external_id;\r\n    String location;\r\n    string weight;\r\n    String format_quantity;\r\n    private Double price = Double.valueOf(0);\r\n\r\n    json = doPost(&quot;/marketplace/listings?release_id=&quot; + product.getRelease_id() + &quot;&amp;sleeve_condition=&quot; + product.getCondition() + &quot;&amp;price=&quot; +product.getPrice());\r\n\r\n    &quot;https://api.discogs.com/marketplace/listings?release_id=1113859&amp;condition=poor&amp;price=2000.0&amp;status=Mint&quot;\r\n\r\n\r\n\r\n       WebResource webResource = initRest(restUrl);\r\n        ClientResponse resp = webResource.type(&quot;application/json&quot;)\r\n                .header(&quot;Authorization&quot;, &quot;Discogs token=&quot; + token)\r\n                .header(&quot;JTLSyncTool/0.1&quot;, &quot;+https://#####&quot;)\r\n                .post(ClientResponse.class);\r\n\r\nDoes anyone have an idea?\r\n\r\nThanks everyone! ","title":"discogs post https://api.discogs.com/marketplace/listings? returned a response status of 422 null","body":"<p>I'm trying to post api.discogs.com/marketplace/listings?... in java.</p>\n<p>When I try to make a newlisting post, the result is &quot;returned a response status of 422 null&quot;.</p>\n<p>&quot;422 Unprocessable Entity\nYour request was well-formed, but there’s something semantically wrong with the body of the request. This can be due to malformed JSON, a parameter that’s missing or the wrong type, or trying to perform an action that doesn’t make any sense. Check the response body for specific information about what went wrong.&quot;</p>\n<p>&quot;Invalid release_id:expected integer&quot; is displayed as a message.</p>\n<p>My get methods work but post doesn't.</p>\n<pre><code>int release_id;\nString condition;\nint listing_id;\nString sleeve_condition;\nString comments;\nString allow_offers;\nstring status;\nString external_id;\nString location;\nstring weight;\nString format_quantity;\nprivate Double price = Double.valueOf(0);\n\njson = doPost(&quot;/marketplace/listings?release_id=&quot; + product.getRelease_id() + &quot;&amp;sleeve_condition=&quot; + product.getCondition() + &quot;&amp;price=&quot; +product.getPrice());\n\n&quot;https://api.discogs.com/marketplace/listings?release_id=1113859&amp;condition=poor&amp;price=2000.0&amp;status=Mint&quot;\n\n\n\n   WebResource webResource = initRest(restUrl);\n    ClientResponse resp = webResource.type(&quot;application/json&quot;)\n            .header(&quot;Authorization&quot;, &quot;Discogs token=&quot; + token)\n            .header(&quot;JTLSyncTool/0.1&quot;, &quot;+https://#####&quot;)\n            .post(ClientResponse.class);\n</code></pre>\n<p>Does anyone have an idea?</p>\n<p>Thanks everyone!</p>\n"},{"tags":["java","exception","list","arraylist"],"comments":[{"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"score":1,"creation_date":1552660323,"post_id":2965747,"comment_id":97107667,"body_markdown":"use  LinkedList.","body":"use  LinkedList."},{"owner":{"account_id":9038214,"reputation":2416,"user_id":6733315,"accept_rate":62,"display_name":"beginner"},"score":1,"creation_date":1625725374,"post_id":2965747,"comment_id":120703944,"body_markdown":"For me this error occurred because I was trying to modify `collection.unmodifiablelist` list","body":"For me this error occurred because I was trying to modify <code>collection.unmodifiablelist</code> list"}],"answers":[{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"down_vote_count":2,"up_vote_count":79,"is_accepted":false,"score":77,"last_activity_date":1497300043,"creation_date":1275567063,"answer_id":2965762,"question_id":2965747,"body_markdown":"Probably because you&#39;re working with [unmodifiable wrapper][1].\r\n\r\nChange this line:\r\n\r\n    List&lt;String&gt; list = Arrays.asList(split);\r\n\r\nto this line:\r\n\r\n    List&lt;String&gt; list = new LinkedList&lt;&gt;(Arrays.asList(split));\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collections.html#unmodifiableList(java.util.List)","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>Probably because you're working with <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Collections.html#unmodifiableList(java.util.List)\" rel=\"noreferrer\">unmodifiable wrapper</a>.</p>\n\n<p>Change this line:</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(split);\n</code></pre>\n\n<p>to this line:</p>\n\n<pre><code>List&lt;String&gt; list = new LinkedList&lt;&gt;(Arrays.asList(split));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72441,"reputation":3613,"user_id":209131,"accept_rate":100,"display_name":"Nick Orton"},"down_vote_count":0,"up_vote_count":178,"is_accepted":false,"score":178,"last_activity_date":1349107423,"creation_date":1275567065,"answer_id":2965763,"question_id":2965747,"body_markdown":"This one has burned me many times. ```Arrays.asList``` creates an unmodifiable list.\r\nFrom the Javadoc: Returns a *fixed-size* list backed by the specified array.\r\n\r\nCreate a new list with the same content:\r\n\r\n    newList.addAll(Arrays.asList(newArray));\r\n\r\nThis will create a little extra garbage, but you will be able to mutate it.\r\n","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>This one has burned me many times. <code>Arrays.asList</code> creates an unmodifiable list.\nFrom the Javadoc: Returns a <em>fixed-size</em> list backed by the specified array.</p>\n\n<p>Create a new list with the same content:</p>\n\n<pre><code>newList.addAll(Arrays.asList(newArray));\n</code></pre>\n\n<p>This will create a little extra garbage, but you will be able to mutate it.</p>\n"},{"tags":[],"owner":{"account_id":23234,"reputation":34600,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1634842458,"creation_date":1275567069,"answer_id":2965764,"question_id":2965747,"body_markdown":"The list returned by `Arrays.asList()` might be immutable. Could you try\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(split));\r\n\r\n","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>The list returned by <code>Arrays.asList()</code> might be immutable. Could you try</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(split));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1275568203,"creation_date":1275567275,"answer_id":2965783,"question_id":2965747,"body_markdown":"Just read the JavaDoc for the asList method:\r\n\r\n&gt; Returns a {@code List} of the objects\r\n&gt; in the specified array. The size of\r\n&gt; the {@code List} cannot be modified,\r\n&gt; i.e. adding and removing are\r\n&gt; unsupported, but the elements can be\r\n&gt; set. Setting an element modifies the\r\n&gt; underlying array.\r\n\r\nThis is from Java 6 but it looks like it is the same for the android java.\r\n\r\n**EDIT**\r\n\r\nThe type of the resulting list is `Arrays.ArrayList`, which is a private class inside Arrays.class.  Practically speaking, it is nothing but a List-view on the array that you&#39;ve passed with `Arrays.asList`. With a consequence: if you change the array, the list is changed too. And because an array is not resizeable, remove and add operation *must* be unsupported.","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>Just read the JavaDoc for the asList method:</p>\n\n<blockquote>\n  <p>Returns a {@code List} of the objects\n  in the specified array. The size of\n  the {@code List} cannot be modified,\n  i.e. adding and removing are\n  unsupported, but the elements can be\n  set. Setting an element modifies the\n  underlying array.</p>\n</blockquote>\n\n<p>This is from Java 6 but it looks like it is the same for the android java.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>The type of the resulting list is <code>Arrays.ArrayList</code>, which is a private class inside Arrays.class.  Practically speaking, it is nothing but a List-view on the array that you've passed with <code>Arrays.asList</code>. With a consequence: if you change the array, the list is changed too. And because an array is not resizeable, remove and add operation <em>must</em> be unsupported.</p>\n"},{"tags":[],"owner":{"account_id":54451,"reputation":8858,"user_id":162895,"accept_rate":100,"display_name":"Dimitris Andreou"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1275570233,"creation_date":1275567475,"answer_id":2965803,"question_id":2965747,"body_markdown":"Arrays.asList() returns a list that doesn&#39;t allow operations affecting its size (note that this is not the same as &quot;unmodifiable&quot;). \r\n\r\nYou could do `new ArrayList&lt;String&gt;(Arrays.asList(split));` to create a real copy, but seeing what you are trying to do, here is an additional suggestion (you have a `O(n^2)` algorithm right below that).\r\n\r\nYou want to remove `list.size() - count` (lets call this `k`) random elements from the list. Just pick as many random elements and swap them to the end `k` positions of the list, then delete that whole range (e.g. using subList() and clear() on that). That would turn it to a lean and mean `O(n)` algorithm (`O(k)` is more precise).\r\n\r\n**Update**: As noted below, this algorithm only makes sense if the elements are unordered, e.g. if the List represents a Bag. If, on the other hand, the List has a meaningful order, this algorithm would not preserve it (polygenelubricants&#39; algorithm instead would).\r\n\r\n**Update 2**: So in retrospect, a better (linear, maintaining order, but with O(n) random numbers) algorithm would be something like this:\r\n\r\n    LinkedList&lt;String&gt; elements = ...; //to avoid the slow ArrayList.remove()\r\n    int k = elements.size() - count; //elements to select/delete\r\n    int remaining = elements.size(); //elements remaining to be iterated\r\n    for (Iterator i = elements.iterator(); k &gt; 0 &amp;&amp; i.hasNext(); remaining--) {\r\n      i.next();\r\n      if (random.nextInt(remaining) &lt; k) {\r\n         //or (random.nextDouble() &lt; (double)k/remaining)\r\n         i.remove();\r\n         k--;\r\n      }\r\n    }\r\n","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>Arrays.asList() returns a list that doesn't allow operations affecting its size (note that this is not the same as \"unmodifiable\"). </p>\n\n<p>You could do <code>new ArrayList&lt;String&gt;(Arrays.asList(split));</code> to create a real copy, but seeing what you are trying to do, here is an additional suggestion (you have a <code>O(n^2)</code> algorithm right below that).</p>\n\n<p>You want to remove <code>list.size() - count</code> (lets call this <code>k</code>) random elements from the list. Just pick as many random elements and swap them to the end <code>k</code> positions of the list, then delete that whole range (e.g. using subList() and clear() on that). That would turn it to a lean and mean <code>O(n)</code> algorithm (<code>O(k)</code> is more precise).</p>\n\n<p><strong>Update</strong>: As noted below, this algorithm only makes sense if the elements are unordered, e.g. if the List represents a Bag. If, on the other hand, the List has a meaningful order, this algorithm would not preserve it (polygenelubricants' algorithm instead would).</p>\n\n<p><strong>Update 2</strong>: So in retrospect, a better (linear, maintaining order, but with O(n) random numbers) algorithm would be something like this:</p>\n\n<pre><code>LinkedList&lt;String&gt; elements = ...; //to avoid the slow ArrayList.remove()\nint k = elements.size() - count; //elements to select/delete\nint remaining = elements.size(); //elements remaining to be iterated\nfor (Iterator i = elements.iterator(); k &gt; 0 &amp;&amp; i.hasNext(); remaining--) {\n  i.next();\n  if (random.nextInt(remaining) &lt; k) {\n     //or (random.nextDouble() &lt; (double)k/remaining)\n     i.remove();\n     k--;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":1211,"is_accepted":true,"score":1211,"last_activity_date":1275567555,"creation_date":1275567555,"answer_id":2965808,"question_id":2965747,"body_markdown":"Quite a few problems with your code:\r\n\r\n### On `Arrays.asList` returning a fixed-size list\r\n\r\nFrom the API:\r\n\r\n&gt; [`Arrays.asList`](http://java.sun.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29): Returns a **fixed-size list** backed by the specified array.\r\n\r\nYou can&#39;t `add` to it; you can&#39;t `remove` from it. You can&#39;t structurally modify the `List`.\r\n\r\n### Fix\r\n\r\nCreate a `LinkedList`, which supports faster `remove`.\r\n\r\n    List&lt;String&gt; list = new LinkedList&lt;String&gt;(Arrays.asList(split));\r\n\r\n---\r\n\r\n### On `split` taking regex\r\n\r\nFrom the API:\r\n\r\n&gt; [`String.split(String regex)`](http://java.sun.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29): Splits this string around matches of the given [regular expression](http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#sum).\r\n\r\n`|` is a regex metacharacter; if you want to split on a literal `|`, you must escape it to `\\|`, which as a Java string literal is `&quot;\\\\|&quot;`.\r\n\r\n### Fix:\r\n\r\n    template.split(&quot;\\\\|&quot;)\r\n\r\n---\r\n\r\n### On better algorithm\r\n\r\nInstead of calling `remove` one at a time with random indices, it&#39;s better to generate enough random numbers in the range, and then traversing the `List` once with a `listIterator()`, calling `remove()` at appropriate indices. There are questions on stackoverflow on how to generate random but distinct numbers in a given range.\r\n\r\nWith this, your algorithm would be `O(N)`.","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>Quite a few problems with your code:</p>\n\n<h3>On <code>Arrays.asList</code> returning a fixed-size list</h3>\n\n<p>From the API:</p>\n\n<blockquote>\n  <p><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\" rel=\"noreferrer\"><code>Arrays.asList</code></a>: Returns a <strong>fixed-size list</strong> backed by the specified array.</p>\n</blockquote>\n\n<p>You can't <code>add</code> to it; you can't <code>remove</code> from it. You can't structurally modify the <code>List</code>.</p>\n\n<h3>Fix</h3>\n\n<p>Create a <code>LinkedList</code>, which supports faster <code>remove</code>.</p>\n\n<pre><code>List&lt;String&gt; list = new LinkedList&lt;String&gt;(Arrays.asList(split));\n</code></pre>\n\n<hr>\n\n<h3>On <code>split</code> taking regex</h3>\n\n<p>From the API:</p>\n\n<blockquote>\n  <p><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"noreferrer\"><code>String.split(String regex)</code></a>: Splits this string around matches of the given <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#sum\" rel=\"noreferrer\">regular expression</a>.</p>\n</blockquote>\n\n<p><code>|</code> is a regex metacharacter; if you want to split on a literal <code>|</code>, you must escape it to <code>\\|</code>, which as a Java string literal is <code>\"\\\\|\"</code>.</p>\n\n<h3>Fix:</h3>\n\n<pre><code>template.split(\"\\\\|\")\n</code></pre>\n\n<hr>\n\n<h3>On better algorithm</h3>\n\n<p>Instead of calling <code>remove</code> one at a time with random indices, it's better to generate enough random numbers in the range, and then traversing the <code>List</code> once with a <code>listIterator()</code>, calling <code>remove()</code> at appropriate indices. There are questions on stackoverflow on how to generate random but distinct numbers in a given range.</p>\n\n<p>With this, your algorithm would be <code>O(N)</code>.</p>\n"},{"tags":[],"owner":{"account_id":146146,"reputation":41,"user_id":356422,"display_name":"Mayank Gupta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1275571840,"creation_date":1275571840,"answer_id":2966380,"question_id":2965747,"body_markdown":"This UnsupportedOperationException comes when you try to perform some operation on collection where its not allowed and in your case, When you call `Arrays.asList` it does not return a `java.util.ArrayList`. It returns a `java.util.Arrays$ArrayList` which is an immutable list. You cannot add to it and you cannot remove from it.\r\n","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>This UnsupportedOperationException comes when you try to perform some operation on collection where its not allowed and in your case, When you call <code>Arrays.asList</code> it does not return a <code>java.util.ArrayList</code>. It returns a <code>java.util.Arrays$ArrayList</code> which is an immutable list. You cannot add to it and you cannot remove from it.</p>\n"},{"tags":[],"owner":{"account_id":3007353,"reputation":157,"user_id":2551594,"display_name":"Venkat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497300129,"creation_date":1372965757,"answer_id":17477003,"question_id":2965747,"body_markdown":"You can&#39;t remove, nor can you add to a fixed-size-list of Arrays.\r\n\r\n**But you can create your sublist from that list.**\r\n\r\n`list = list.subList(0, list.size() - (list.size() - count));`\r\n\r\n\r\n    public static String SelectRandomFromTemplate(String template, int count) {\r\n       String[] split = template.split(&quot;\\\\|&quot;);\r\n       List&lt;String&gt; list = Arrays.asList(split);\r\n       Random r = new Random();\r\n       while( list.size() &gt; count ) {\r\n          list = list.subList(0, list.size() - (list.size() - count));\r\n       }\r\n       return StringUtils.join(list, &quot;, &quot;);\r\n    }\r\n\r\n*Other way is \r\n\r\n    ArrayList&lt;String&gt; al = new ArrayList&lt;String&gt;(Arrays.asList(template));\r\n\r\nthis will create ArrayList which is not fixed size like Arrays.asList\r\n\r\n","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>You can't remove, nor can you add to a fixed-size-list of Arrays.</p>\n\n<p><strong>But you can create your sublist from that list.</strong></p>\n\n<p><code>list = list.subList(0, list.size() - (list.size() - count));</code></p>\n\n<pre><code>public static String SelectRandomFromTemplate(String template, int count) {\n   String[] split = template.split(\"\\\\|\");\n   List&lt;String&gt; list = Arrays.asList(split);\n   Random r = new Random();\n   while( list.size() &gt; count ) {\n      list = list.subList(0, list.size() - (list.size() - count));\n   }\n   return StringUtils.join(list, \", \");\n}\n</code></pre>\n\n<p>*Other way is </p>\n\n<pre><code>ArrayList&lt;String&gt; al = new ArrayList&lt;String&gt;(Arrays.asList(template));\n</code></pre>\n\n<p>this will create ArrayList which is not fixed size like Arrays.asList</p>\n"},{"tags":[],"owner":{"account_id":3168724,"reputation":20909,"user_id":2678170,"accept_rate":0,"display_name":"Salim Hamidi"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1477333792,"creation_date":1378672522,"answer_id":18688414,"question_id":2965747,"body_markdown":"I think that replacing:\r\n\r\n    List&lt;String&gt; list = Arrays.asList(split);\r\n\r\nwith\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(split));\r\n\r\nresolves the problem.","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>I think that replacing:</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(split);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(split));\n</code></pre>\n\n<p>resolves the problem.</p>\n"},{"tags":[],"owner":{"account_id":2137644,"reputation":17159,"user_id":1897010,"display_name":"Sameer Kazi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497300142,"creation_date":1379936156,"answer_id":18958246,"question_id":2965747,"body_markdown":"Yes, on `Arrays.asList`, returning a fixed-size list.\r\n\r\n\r\nOther than using a linked list, simply use `addAll` method list.\r\n\r\n\r\n**Example:**\r\n\r\n    String idList = &quot;123,222,333,444&quot;;\r\n\r\n    List&lt;String&gt; parentRecepeIdList = new ArrayList&lt;String&gt;();\r\n\r\n    parentRecepeIdList.addAll(Arrays.asList(idList.split(&quot;,&quot;))); \r\n\r\n    parentRecepeIdList.add(&quot;555&quot;);","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>Yes, on <code>Arrays.asList</code>, returning a fixed-size list.</p>\n\n<p>Other than using a linked list, simply use <code>addAll</code> method list.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>String idList = \"123,222,333,444\";\n\nList&lt;String&gt; parentRecepeIdList = new ArrayList&lt;String&gt;();\n\nparentRecepeIdList.addAll(Arrays.asList(idList.split(\",\"))); \n\nparentRecepeIdList.add(\"555\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1810034,"reputation":1784,"user_id":1646298,"accept_rate":82,"display_name":"ZZ 5"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497300058,"creation_date":1424135342,"answer_id":28553071,"question_id":2965747,"body_markdown":"I&#39;ve got another solution for that problem:\r\n\r\n    List&lt;String&gt; list = Arrays.asList(split);\r\n    List&lt;String&gt; newList = new ArrayList&lt;&gt;(list);\r\n\r\nwork on `newList` ;)","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>I've got another solution for that problem:</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(split);\nList&lt;String&gt; newList = new ArrayList&lt;&gt;(list);\n</code></pre>\n\n<p>work on <code>newList</code> ;)</p>\n"},{"tags":[],"owner":{"account_id":1636164,"reputation":17313,"user_id":1509583,"accept_rate":20,"display_name":"Gagandeep Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460693413,"creation_date":1460693413,"answer_id":36638114,"question_id":2965747,"body_markdown":"Following is snippet of code from Arrays \r\n\r\n    public static &lt;T&gt; List&lt;T&gt; asList(T... a) {\r\n            return new ArrayList&lt;&gt;(a);\r\n        }\r\n    \r\n        /**\r\n         * @serial include\r\n         */\r\n        private static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;\r\n            implements RandomAccess, java.io.Serializable\r\n        {\r\n            private static final long serialVersionUID = -2764017481108945198L;\r\n            private final E[] a;\r\n\r\n\r\nso what happens is that when asList method is called then it returns list of its own private static class version which does not override add funcion from AbstractList to store element in array. So by default add method in abstract list throws exception.\r\n\r\nSo it is not regular array list.","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>Following is snippet of code from Arrays </p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; asList(T... a) {\n        return new ArrayList&lt;&gt;(a);\n    }\n\n    /**\n     * @serial include\n     */\n    private static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;\n        implements RandomAccess, java.io.Serializable\n    {\n        private static final long serialVersionUID = -2764017481108945198L;\n        private final E[] a;\n</code></pre>\n\n<p>so what happens is that when asList method is called then it returns list of its own private static class version which does not override add funcion from AbstractList to store element in array. So by default add method in abstract list throws exception.</p>\n\n<p>So it is not regular array list.</p>\n"},{"tags":[],"owner":{"account_id":4779799,"reputation":2144,"user_id":3861913,"display_name":"Karthik Kompelli"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542377053,"creation_date":1542376616,"answer_id":53339278,"question_id":2965747,"body_markdown":"Replace \r\n\r\n    List&lt;String&gt; list=Arrays.asList(split);\r\n\r\nto\r\n\r\n    List&lt;String&gt; list = New ArrayList&lt;&gt;();\r\n    list.addAll(Arrays.asList(split));\r\n\r\nor\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(split));\r\n\r\nor\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(split));\r\nor (Better for Remove elements)\r\n\r\n    List&lt;String&gt; list = new LinkedList&lt;&gt;(Arrays.asList(split));\r\n","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>Replace </p>\n\n<pre><code>List&lt;String&gt; list=Arrays.asList(split);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>List&lt;String&gt; list = New ArrayList&lt;&gt;();\nlist.addAll(Arrays.asList(split));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(split));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(split));\n</code></pre>\n\n<p>or (Better for Remove elements)</p>\n\n<pre><code>List&lt;String&gt; list = new LinkedList&lt;&gt;(Arrays.asList(split));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15908780,"reputation":79,"user_id":11479225,"display_name":"Roushan Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558694835,"creation_date":1558693420,"answer_id":56290730,"question_id":2965747,"body_markdown":"`Arrays.asList()`  uses fixed size array internally.&lt;br&gt;\r\nYou can&#39;t dynamically add or remove from this`Arrays.asList()`\r\n\r\nUse this \r\n\r\n    Arraylist&lt;String&gt; narraylist=new ArrayList(Arrays.asList());\r\n\r\n  \r\nIn `narraylist` you can easily add or remove items.","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p><code>Arrays.asList()</code>  uses fixed size array internally.<br>\nYou can't dynamically add or remove from this<code>Arrays.asList()</code></p>\n\n<p>Use this </p>\n\n<pre><code>Arraylist&lt;String&gt; narraylist=new ArrayList(Arrays.asList());\n</code></pre>\n\n<p>In <code>narraylist</code> you can easily add or remove items.</p>\n"},{"tags":[],"owner":{"account_id":6977966,"reputation":121,"user_id":5352069,"display_name":"BruceWayne"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561130102,"creation_date":1561130102,"answer_id":56706145,"question_id":2965747,"body_markdown":"Arraylist&lt;String&gt; narraylist=Arrays.asList(); // Returns immutable arraylist\r\nTo make it mutable solution would be:\r\nArraylist&lt;String&gt; narraylist=new ArrayList(Arrays.asList());","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>Arraylist narraylist=Arrays.asList(); // Returns immutable arraylist\nTo make it mutable solution would be:\nArraylist narraylist=new ArrayList(Arrays.asList());</p>\n"},{"tags":[],"owner":{"account_id":13482006,"reputation":1,"user_id":9727007,"display_name":"Bhagyashree Nigade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569580169,"creation_date":1569580169,"answer_id":58132741,"question_id":2965747,"body_markdown":"Creating a new list and populating valid values in new list worked for me.\r\n\r\nCode throwing error - \r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n       for (String s: list) {\r\n         if(s is null or blank) {\r\n            list.remove(s);\r\n         }\r\n       }\r\n    desiredObject.setValue(list);\r\n\r\nAfter fix - \r\n \r\n\r\n     List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n     List&lt;String&gt; newList= new ArrayList&lt;&gt;();\r\n     for (String s: list) {\r\n       if(s is null or blank) {\r\n          continue;\r\n       }\r\n       newList.add(s);\r\n     }\r\n     desiredObject.setValue(newList);","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>Creating a new list and populating valid values in new list worked for me.</p>\n\n<p>Code throwing error - </p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\n   for (String s: list) {\n     if(s is null or blank) {\n        list.remove(s);\n     }\n   }\ndesiredObject.setValue(list);\n</code></pre>\n\n<p>After fix - </p>\n\n<pre><code> List&lt;String&gt; list = new ArrayList&lt;&gt;();\n List&lt;String&gt; newList= new ArrayList&lt;&gt;();\n for (String s: list) {\n   if(s is null or blank) {\n      continue;\n   }\n   newList.add(s);\n }\n desiredObject.setValue(newList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11780504,"reputation":71,"user_id":8620292,"display_name":"Sachin Gowda"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1601814034,"creation_date":1601803571,"answer_id":64192978,"question_id":2965747,"body_markdown":"The issue is you&#39;re creating a List using Arrays.asList() method with fixed Length\r\nmeaning that  \r\n\r\n&gt; Since the returned List is a fixed-size List, we can’t add/remove elements.\r\n\r\nSee the below block of code that I am using \r\n\r\n&gt; This iteration will give an Exception Since it is an iteration list Created by asList() so remove and add are not possible, it is a fixed array\r\n\r\n    \r\n    List&lt;String&gt; words = Arrays.asList(&quot;pen&quot;, &quot;pencil&quot;, &quot;sky&quot;, &quot;blue&quot;, &quot;sky&quot;, &quot;dog&quot;); \r\n    for (String word : words) {\r\n    \tif (&quot;sky&quot;.equals(word)) {\r\n    \t\twords.remove(word);\r\n    \t}\r\n    }\t\r\n&gt; This will work fine since we are taking a new ArrayList we can perform modifications while iterating   \r\n\r\n    List&lt;String&gt; words1 = new ArrayList&lt;String&gt;(Arrays.asList(&quot;pen&quot;, &quot;pencil&quot;, &quot;sky&quot;, &quot;blue&quot;, &quot;sky&quot;, &quot;dog&quot;));\r\n    for (String word : words) {\r\n    \tif (&quot;sky&quot;.equals(word)) {\r\n    \t\twords.remove(word);\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>The issue is you're creating a List using Arrays.asList() method with fixed Length\nmeaning that</p>\n<blockquote>\n<p>Since the returned List is a fixed-size List, we can’t add/remove elements.</p>\n</blockquote>\n<p>See the below block of code that I am using</p>\n<blockquote>\n<p>This iteration will give an Exception Since it is an iteration list Created by asList() so remove and add are not possible, it is a fixed array</p>\n</blockquote>\n<pre><code>List&lt;String&gt; words = Arrays.asList(&quot;pen&quot;, &quot;pencil&quot;, &quot;sky&quot;, &quot;blue&quot;, &quot;sky&quot;, &quot;dog&quot;); \nfor (String word : words) {\n    if (&quot;sky&quot;.equals(word)) {\n        words.remove(word);\n    }\n}   \n</code></pre>\n<blockquote>\n<p>This will work fine since we are taking a new ArrayList we can perform modifications while iterating</p>\n</blockquote>\n<pre><code>List&lt;String&gt; words1 = new ArrayList&lt;String&gt;(Arrays.asList(&quot;pen&quot;, &quot;pencil&quot;, &quot;sky&quot;, &quot;blue&quot;, &quot;sky&quot;, &quot;dog&quot;));\nfor (String word : words) {\n    if (&quot;sky&quot;.equals(word)) {\n        words.remove(word);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":88036,"reputation":205429,"user_id":243782,"accept_rate":94,"display_name":"Pentium10"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630923,"favorite_count":0,"down_vote_count":0,"up_vote_count":617,"accepted_answer_id":2965808,"answer_count":17,"score":617,"last_activity_date":1636098950,"creation_date":1275566923,"question_id":2965747,"body_markdown":"I have this code:\r\n\r\n    public static String SelectRandomFromTemplate(String template,int count) {\r\n       String[] split = template.split(&quot;|&quot;);\r\n       List&lt;String&gt; list=Arrays.asList(split);\r\n       Random r = new Random();\r\n       while( list.size() &gt; count ) {\r\n          list.remove(r.nextInt(list.size()));\r\n       }\r\n       return StringUtils.join(list, &quot;, &quot;);\r\n    }\r\n\r\nI get this:\r\n\r\n    06-03 15:05:29.614: ERROR/AndroidRuntime(7737): java.lang.UnsupportedOperationException\r\n    06-03 15:05:29.614: ERROR/AndroidRuntime(7737):     at java.util.AbstractList.remove(AbstractList.java:645)\r\n\r\nHow would be this the correct way? Java.15","title":"Why do I get an UnsupportedOperationException when trying to remove an element from a List?","body":"<p>I have this code:</p>\n\n<pre><code>public static String SelectRandomFromTemplate(String template,int count) {\n   String[] split = template.split(\"|\");\n   List&lt;String&gt; list=Arrays.asList(split);\n   Random r = new Random();\n   while( list.size() &gt; count ) {\n      list.remove(r.nextInt(list.size()));\n   }\n   return StringUtils.join(list, \", \");\n}\n</code></pre>\n\n<p>I get this:</p>\n\n<pre><code>06-03 15:05:29.614: ERROR/AndroidRuntime(7737): java.lang.UnsupportedOperationException\n06-03 15:05:29.614: ERROR/AndroidRuntime(7737):     at java.util.AbstractList.remove(AbstractList.java:645)\n</code></pre>\n\n<p>How would be this the correct way? Java.15</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1636095807,"post_id":69849518,"comment_id":123470291,"body_markdown":"`applicationContext.xml` file is missing","body":"<code>applicationContext.xml</code> file is missing"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1636096016,"post_id":69849518,"comment_id":123470348,"body_markdown":"Since `DB_HOST`, `DB_USER` and `DB_PWD` are variable replacements during context loading, you will **have** to provide them. Pass them as Java properties `-DDB_HOST=1.1.1.1`, etc. If you are using Gradle to run the tests, then set up the property in the bui;d.gradle using `test{ systemProperty &quot;DB_HOST&quot;, &quot;1.1.1.1&quot; ... }`.","body":"Since <code>DB_HOST</code>, <code>DB_USER</code> and <code>DB_PWD</code> are variable replacements during context loading, you will <b>have</b> to provide them. Pass them as Java properties <code>-DDB_HOST=1.1.1.1</code>, etc. If you are using Gradle to run the tests, then set up the property in the bui;d.gradle using <code>test{ systemProperty &quot;DB_HOST&quot;, &quot;1.1.1.1&quot; ... }</code>."},{"owner":{"account_id":1110669,"reputation":546,"user_id":1378896,"accept_rate":79,"display_name":"Shaiju Janardhanan"},"score":0,"creation_date":1636098294,"post_id":69849518,"comment_id":123470882,"body_markdown":"@SreeKumar, i ran the test as you suggested by giving random values for the db connection parameters `mvn -DDB_HOST=localhost -DDB_USER=someuser -DDB_PWD=somepwd` test. But it doesnt work. As soon as I change it to the right values the tests pass","body":"@SreeKumar, i ran the test as you suggested by giving random values for the db connection parameters <code>mvn -DDB_HOST=localhost -DDB_USER=someuser -DDB_PWD=somepwd</code> test. But it doesnt work. As soon as I change it to the right values the tests pass"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1636098482,"post_id":69849518,"comment_id":123470926,"body_markdown":"Sorry, I am not well versed with Maven. In Gradle, what you pass as `-D` **doesn&#39;t get passed to the spawned JVMs** by default. You will have to explicitly pass it using the mechanism I mentioned - `test{ systemProperty... }`. There must be some similar thing in Maven too.","body":"Sorry, I am not well versed with Maven. In Gradle, what you pass as <code>-D</code> <b>doesn&#39;t get passed to the spawned JVMs</b> by default. You will have to explicitly pass it using the mechanism I mentioned - <code>test{ systemProperty... }</code>. There must be some similar thing in Maven too."},{"owner":{"account_id":1110669,"reputation":546,"user_id":1378896,"accept_rate":79,"display_name":"Shaiju Janardhanan"},"score":0,"creation_date":1636098910,"post_id":69849518,"comment_id":123471035,"body_markdown":"@slauth deleting it was simpler :). Anyway that test had nothing other than contextLoads","body":"@slauth deleting it was simpler :). Anyway that test had nothing other than contextLoads"}],"answers":[{"tags":[],"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636098806,"creation_date":1636098806,"answer_id":69850022,"question_id":69849518,"body_markdown":"If you don&#39;t want your integration tests to use a PostgreSQL database you could use a lightweight in-memory database for integration testing. An example setup using [H2](https://www.h2database.com/):\r\n\r\n1. add H2 dependency:\r\n```lang-xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n2. provide an additional `application.properties` in `src/test/resources`:\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\n```","title":"Avoid connecting to database while running the contextLoads unit test","body":"<p>If you don't want your integration tests to use a PostgreSQL database you could use a lightweight in-memory database for integration testing. An example setup using <a href=\"https://www.h2database.com/\" rel=\"nofollow noreferrer\">H2</a>:</p>\n<ol>\n<li>add H2 dependency:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>provide an additional <code>application.properties</code> in <code>src/test/resources</code>:</li>\n</ol>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\n</code></pre>\n"}],"owner":{"account_id":1110669,"reputation":546,"user_id":1378896,"accept_rate":79,"display_name":"Shaiju Janardhanan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3080,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1636098806,"creation_date":1636094993,"question_id":69849518,"body_markdown":"I am very new to spring boot and is currently trying to create a demo project with few simple rest apis. The database connection I use is to Postgresql and its parameters are defined in application.properties. I have a mvc controller, model, repository and service. I was able to run unit tests for all layers after mocking the repository except the contextLoads() test which was automatically created.\r\n\r\nThe files are as below\r\n\r\nMyServiceContoller.java\r\n\r\n    @RestController\r\n    public class MyServiceController {\r\n\t   private static final Logger logger = LoggerFactory.getLogger(MyServiceController.class);\r\n\t   private final MyService service;\r\n\r\nUser model\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.AUTO)\r\n       private long id;\r\n\r\nUser repository interface\r\n\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\r\nService implementation\r\n\r\n    @Service\r\n    public class MyServiceImpl implements MyService {\r\n\r\n\t   private final UserRepository userRepository;\r\n\r\n\t   public MyServiceImpl(UserRepository repository) {\r\n\t\t   this.userRepository = repository;\r\n\t   }\r\n\r\nMain file\r\n\r\n    @SpringBootApplication\r\n    public class SimpleRestApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t   SpringApplication.run(SimpleRestApplication.class, args);\r\n\t   }\r\n  }\r\n\r\nApplication.properties file\r\n\r\n    spring.datasource.url=jdbc:postgresql://${DB_HOST}:5432/testdb\r\n    spring.datasource.username=${DB_USER}\r\n    spring.datasource.password=${DB_PWD}\r\n    \r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\n    spring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\r\n    \r\n    #Hibernate ddl auto (create, create-drop, validate, update)\r\n    spring.jpa.hibernate.ddl-auto= update\r\n\r\nNow i get error while running *mvn test* for the below class\r\n\r\n    @SpringBootTest\r\n    class SimpleRestApplicationTests {\r\n\t   @Test\r\n\t   void contextLoads() {\r\n\t   }\r\n    }\r\n\r\nThe error trace is as below\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\r\n\tCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\t... 67 more\r\n\tCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n\t... 82 more\r\n\tCaused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)\r\n\tat org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)\r\n\tat org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:40)\r\n\tat org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:65)\r\n\tat org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.&lt;init&gt;(DatabaseInformationImpl.java:59)\r\n\tat org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:155)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:96)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n\t... 86 more\r\n\tCaused by: org.postgresql.util.PSQLException: The connection attempt failed.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315)\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:465)\r\n\tat org.postgresql.Driver.connect(Driver.java:264)\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)\r\n\t... 100 more\r\n\tCaused by: java.net.UnknownHostException: ${DB_HOST}\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:220)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n\tat java.base/java.net.Socket.connect(Socket.java:591)\r\n\tat org.postgresql.core.PGStream.createSocket(PGStream.java:231)\r\n\tat org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:95)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:98)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\r\n\t... 114 more\r\n\r\nIn all other test classes I have added the following Mock\r\n\r\n    @MockBean\r\n    UserRepository userRepository;\r\n\r\nBut even after adding it to SimpleApplicationTests class I still get the same error\r\n\r\nHow can i avoid connecting to the database while running these tests?","title":"Avoid connecting to database while running the contextLoads unit test","body":"<p>I am very new to spring boot and is currently trying to create a demo project with few simple rest apis. The database connection I use is to Postgresql and its parameters are defined in application.properties. I have a mvc controller, model, repository and service. I was able to run unit tests for all layers after mocking the repository except the contextLoads() test which was automatically created.</p>\n<p>The files are as below</p>\n<p>MyServiceContoller.java</p>\n<pre><code>@RestController\npublic class MyServiceController {\n   private static final Logger logger = LoggerFactory.getLogger(MyServiceController.class);\n   private final MyService service;\n</code></pre>\n<p>User model</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   private long id;\n</code></pre>\n<p>User repository interface</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n</code></pre>\n<p>Service implementation</p>\n<pre><code>@Service\npublic class MyServiceImpl implements MyService {\n\n   private final UserRepository userRepository;\n\n   public MyServiceImpl(UserRepository repository) {\n       this.userRepository = repository;\n   }\n</code></pre>\n<p>Main file</p>\n<pre><code>@SpringBootApplication\npublic class SimpleRestApplication {\n\n    public static void main(String[] args) {\n       SpringApplication.run(SimpleRestApplication.class, args);\n   }\n</code></pre>\n<p>}</p>\n<p>Application.properties file</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://${DB_HOST}:5432/testdb\nspring.datasource.username=${DB_USER}\nspring.datasource.password=${DB_PWD}\n\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\n\n#Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto= update\n</code></pre>\n<p>Now i get error while running <em>mvn test</em> for the below class</p>\n<pre><code>@SpringBootTest\nclass SimpleRestApplicationTests {\n   @Test\n   void contextLoads() {\n   }\n}\n</code></pre>\n<p>The error trace is as below</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\nat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\nat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\nat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\nat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\nat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\nat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\nat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\nat java.base/java.util.Optional.orElseGet(Optional.java:369)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\nat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:338)\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n... 67 more\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n... 82 more\nCaused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\nat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\nat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\nat org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69)\nat org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60)\nat org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:40)\nat org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:65)\nat org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.&lt;init&gt;(DatabaseInformationImpl.java:59)\nat org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:155)\nat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:96)\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184)\nat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73)\nat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318)\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259)\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n... 86 more\nCaused by: org.postgresql.util.PSQLException: The connection attempt failed.\nat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:315)\nat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:51)\nat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223)\nat org.postgresql.Driver.makeConnection(Driver.java:465)\nat org.postgresql.Driver.connect(Driver.java:264)\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\nat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\nat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)\nat org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:43)\n... 100 more\nCaused by: java.net.UnknownHostException: ${DB_HOST}\nat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:220)\nat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\nat java.base/java.net.Socket.connect(Socket.java:591)\nat org.postgresql.core.PGStream.createSocket(PGStream.java:231)\nat org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:95)\nat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:98)\nat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:213)\n... 114 more\n</code></pre>\n<p>In all other test classes I have added the following Mock</p>\n<pre><code>@MockBean\nUserRepository userRepository;\n</code></pre>\n<p>But even after adding it to SimpleApplicationTests class I still get the same error</p>\n<p>How can i avoid connecting to the database while running these tests?</p>\n"},{"tags":["java","spring","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636098441,"creation_date":1636095926,"answer_id":69849636,"question_id":69849408,"body_markdown":"Since there is no limit on the amount of data and number of objects you can store in an S3 bucket, you can&#39;t check total and remaining size of a bucket. The size limit for objects in a bucket is 5TB.\r\n\r\nOne way to get the current size of a bucket is using [getSize()][1] to get the size of an object and iterate over all the objects in your bucket.\r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/S3ObjectSummary.html#getSize--","title":"How to check total and remaining size of amazon s3 bucket using spring application?","body":"<p>Since there is no limit on the amount of data and number of objects you can store in an S3 bucket, you can't check total and remaining size of a bucket. The size limit for objects in a bucket is 5TB.</p>\n<p>One way to get the current size of a bucket is using <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/S3ObjectSummary.html#getSize--\" rel=\"nofollow noreferrer\">getSize()</a> to get the size of an object and iterate over all the objects in your bucket.</p>\n"}],"owner":{"account_id":19590992,"reputation":39,"user_id":14338019,"display_name":"NVJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636098441,"creation_date":1636094084,"question_id":69849408,"body_markdown":"I&#39;m working on a spring application. \r\nI need to check the total and current size of my amazon s3 bucket. \r\nHow can I check it in a spring application?\r\nThanks in advance.\r\n","title":"How to check total and remaining size of amazon s3 bucket using spring application?","body":"<p>I'm working on a spring application.\nI need to check the total and current size of my amazon s3 bucket.\nHow can I check it in a spring application?\nThanks in advance.</p>\n"},{"tags":["java","clone","deep-copy","shallow-copy"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":2,"creation_date":1636045562,"post_id":69843140,"comment_id":123459077,"body_markdown":"What&#39;s the difference in java between shallow-clone and one-level deep clone? I can&#39;t find a difference.","body":"What&#39;s the difference in java between shallow-clone and one-level deep clone? I can&#39;t find a difference."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1636046416,"post_id":69843140,"comment_id":123459395,"body_markdown":"I think what you&#39;re describing is properly considered two-level, not one-level.  There&#39;s no good tool for it other than handwriting it.","body":"I think what you&#39;re describing is properly considered two-level, not one-level.  There&#39;s no good tool for it other than handwriting it."},{"owner":{"account_id":1734438,"reputation":36255,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"score":0,"creation_date":1636098142,"post_id":69843140,"comment_id":123470842,"body_markdown":"Thanks for the naming and the answer @LouisWasserman","body":"Thanks for the naming and the answer @LouisWasserman"},{"owner":{"account_id":1734438,"reputation":36255,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"score":0,"creation_date":1636098256,"post_id":69843140,"comment_id":123470872,"body_markdown":"@JustanotherJavaprogrammer : amended with example","body":"@JustanotherJavaprogrammer : amended with example"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1636098588,"post_id":69843140,"comment_id":123470960,"body_markdown":"Do you want to clone every type of object or just a few specific classes?","body":"Do you want to clone every type of object or just a few specific classes?"},{"owner":{"account_id":1734438,"reputation":36255,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"score":0,"creation_date":1636098663,"post_id":69843140,"comment_id":123470984,"body_markdown":"@dan1st : cloning collections would be the primary use-case","body":"@dan1st : cloning collections would be the primary use-case"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1636098729,"post_id":69843140,"comment_id":123471001,"body_markdown":"Collections of what?","body":"Collections of what?"},{"owner":{"account_id":1734438,"reputation":36255,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"score":0,"creation_date":1636101391,"post_id":69843140,"comment_id":123471813,"body_markdown":"An Object cotaining java.util.Collections of mostly Hibernate Entities","body":"An Object cotaining java.util.Collections of mostly Hibernate Entities"},{"owner":{"account_id":1734438,"reputation":36255,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"score":0,"creation_date":1636452440,"post_id":69843140,"comment_id":123554688,"body_markdown":"@dan1st : please see reply above","body":"@dan1st : please see reply above"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1636479804,"post_id":69843140,"comment_id":123566440,"body_markdown":"what about creating a method in the object doing the cloning manually?","body":"what about creating a method in the object doing the cloning manually?"}],"owner":{"account_id":1734438,"reputation":36255,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636098120,"creation_date":1636045357,"question_id":69843140,"body_markdown":"In Java, it&#39;s easy to deeply clone an object with [Object.clone()][1] and also to shallow-clone (let&#39;s call it level 1). \r\n\r\nHow do you go about doing a [two-level deep copy][2], that is, copying all primitives, but also [creating (shallow) copies of all Object members][3] ?\r\n\r\nLet&#39;s say you copy a phone book with a list of number entries . A shallow copy would just \r\n\r\n    clone = original.getLNumberlist();\r\n\r\na deeper copy would do a \r\n\r\n    clone = new ArrayList&lt;&gt;(original.getNumberlist());\r\n\r\n&lt;sub&gt;there are many questions about deep and shallow cloning, but I could not find any Java question about this two-level cloning, let alone its implementation&lt;/sub&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#clone()\r\n  [2]: https://stackoverflow.com/questions/5248529/what-is-one-level-deep-copy-in-javascript\r\n  [3]: https://stackoverflow.com/questions/1610544/shallow-copy-of-a-collection-in-java","title":"Two level deep copy in Java","body":"<p>In Java, it's easy to deeply clone an object with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#clone()\" rel=\"nofollow noreferrer\">Object.clone()</a> and also to shallow-clone (let's call it level 1).</p>\n<p>How do you go about doing a <a href=\"https://stackoverflow.com/questions/5248529/what-is-one-level-deep-copy-in-javascript\">two-level deep copy</a>, that is, copying all primitives, but also <a href=\"https://stackoverflow.com/questions/1610544/shallow-copy-of-a-collection-in-java\">creating (shallow) copies of all Object members</a> ?</p>\n<p>Let's say you copy a phone book with a list of number entries . A shallow copy would just</p>\n<pre><code>clone = original.getLNumberlist();\n</code></pre>\n<p>a deeper copy would do a</p>\n<pre><code>clone = new ArrayList&lt;&gt;(original.getNumberlist());\n</code></pre>\n<p><sub>there are many questions about deep and shallow cloning, but I could not find any Java question about this two-level cloning, let alone its implementation</sub></p>\n"},{"tags":["java","websocket","jetty-9","java-websocket"],"comments":[{"owner":{"account_id":5372541,"reputation":1,"user_id":4280612,"display_name":"Wesley Stuart"},"score":0,"creation_date":1628669219,"post_id":52678353,"comment_id":121481322,"body_markdown":"Thanks for answering your own question, I was replacing wss://ws.luno.com/api/1/stream/:pair\nwith\nwss://ws.luno.com/api/1/stream/:XBTZAR. but it should be wss://ws.luno.com/api/1/stream/XBTZAR Just be sure to send your credentials (api_key_id and api_key_secret) in the OnOpen event","body":"Thanks for answering your own question, I was replacing wss://ws.luno.com/api/1/stream/:pair with wss://ws.luno.com/api/1/stream/:XBTZAR. but it should be wss://ws.luno.com/api/1/stream/XBTZAR Just be sure to send your credentials (api_key_id and api_key_secret) in the OnOpen event"}],"answers":[{"tags":[],"owner":{"account_id":6888536,"reputation":171,"user_id":5292856,"display_name":"Ruskin Janowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636097907,"creation_date":1539413488,"answer_id":52790317,"question_id":52678353,"body_markdown":"To answer my own question, the websocket URL I was using is wrong, (`wss://ws.luno.com/api/1/stream/:pair`). I needed to replace *`:pair`* with the currency pair, e.g. *`XBTZAR`*.","title":"Connect to ssl web socket as a client on wss://ws.luno.com/api/1/stream/:pair","body":"<p>To answer my own question, the websocket URL I was using is wrong, (<code>wss://ws.luno.com/api/1/stream/:pair</code>). I needed to replace <em><code>:pair</code></em> with the currency pair, e.g. <em><code>XBTZAR</code></em>.</p>\n"}],"owner":{"account_id":6888536,"reputation":171,"user_id":5292856,"display_name":"Ruskin Janowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52790317,"answer_count":1,"score":0,"last_activity_date":1636097907,"creation_date":1538823542,"question_id":52678353,"body_markdown":"I am trying to connect to wss://ws.luno.com/api/1/stream/:pair\r\n\r\nInstructions are at https://www.luno.com/en/api towards the bottom of the page\r\n\r\nI have successfully run the accepted answer from https://stackoverflow.com/questions/29189197/connecting-to-a-secured-websocket\r\n\r\n\r\nHowever when I replace the url\r\n\r\n    String url = &quot;wss://ws.luno.com/api/1/stream/:pair&quot;;//&quot;wss://qa.sockets.stackexchange.com/&quot;;\r\n\r\nand run again I get the following exeption\r\n\r\n`2018-10-06 12:07:08.690:WARN:twl.SecureClientSocket:WebSocketClient@1717159510-17: \r\norg.eclipse.jetty.websocket.api.UpgradeException: 404 Not Found\r\n\tat org.eclipse.jetty.websocket.client.WebSocketUpgradeRequest.onComplete(WebSocketUpgradeRequest.java:522)\r\n\tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:202)\r\n\tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:194)\r\n\tat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:470)\r\n\tat org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:416)\r\n\tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:316)\r\n\tat org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:599)\r\n\tat org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1669)\r\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1517)\r\n\tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:172)\r\n\tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:135)\r\n\tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73)\r\n\tat org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133)\r\n\tat org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\r\n\tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:422)\r\n\tat org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:306)\r\n\tat org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:160)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)\r\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n2018-10-06 12:07:08.696:WARN:twl.SecureClientSocket:main: \r\njava.util.concurrent.ExecutionException: org.eclipse.jetty.websocket.api.UpgradeException: 404 Not Found\r\n\tat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\r\n\tat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)\r\n\tat trading.websocket.luno.SecureClientSocket.main(SecureClientSocket.java:32)\r\nCaused by: \r\norg.eclipse.jetty.websocket.api.UpgradeException: 404 Not Found\r\n\tat org.eclipse.jetty.websocket.client.WebSocketUpgradeRequest.onComplete(WebSocketUpgradeRequest.java:522)\r\n\tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:202)\r\n\tat org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:194)\r\n\tat org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:470)\r\n\tat org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:416)\r\n\tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:316)\r\n\tat org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:599)\r\n\tat org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1669)\r\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1517)\r\n\tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:172)\r\n\tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:135)\r\n\tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73)\r\n\tat org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133)\r\n\tat org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\r\n\tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:422)\r\n\tat org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:306)\r\n\tat org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:160)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)\r\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n`\r\n\r\nAny suggestions would be welcome","title":"Connect to ssl web socket as a client on wss://ws.luno.com/api/1/stream/:pair","body":"<p>I am trying to connect to wss://ws.luno.com/api/1/stream/:pair</p>\n\n<p>Instructions are at <a href=\"https://www.luno.com/en/api\" rel=\"nofollow noreferrer\">https://www.luno.com/en/api</a> towards the bottom of the page</p>\n\n<p>I have successfully run the accepted answer from <a href=\"https://stackoverflow.com/questions/29189197/connecting-to-a-secured-websocket\">Connecting to a secured websocket</a></p>\n\n<p>However when I replace the url</p>\n\n<pre><code>String url = \"wss://ws.luno.com/api/1/stream/:pair\";//\"wss://qa.sockets.stackexchange.com/\";\n</code></pre>\n\n<p>and run again I get the following exeption</p>\n\n<p><code>2018-10-06 12:07:08.690:WARN:twl.SecureClientSocket:WebSocketClient@1717159510-17: \norg.eclipse.jetty.websocket.api.UpgradeException: 404 Not Found\n    at org.eclipse.jetty.websocket.client.WebSocketUpgradeRequest.onComplete(WebSocketUpgradeRequest.java:522)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:202)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:194)\n    at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:470)\n    at org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:416)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:316)\n    at org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:599)\n    at org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1669)\n    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1517)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:172)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:135)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73)\n    at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133)\n    at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:422)\n    at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:306)\n    at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:160)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\n    at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680)\n    at java.lang.Thread.run(Thread.java:748)\n2018-10-06 12:07:08.696:WARN:twl.SecureClientSocket:main: \njava.util.concurrent.ExecutionException: org.eclipse.jetty.websocket.api.UpgradeException: 404 Not Found\n    at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\n    at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)\n    at trading.websocket.luno.SecureClientSocket.main(SecureClientSocket.java:32)\nCaused by: \norg.eclipse.jetty.websocket.api.UpgradeException: 404 Not Found\n    at org.eclipse.jetty.websocket.client.WebSocketUpgradeRequest.onComplete(WebSocketUpgradeRequest.java:522)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:202)\n    at org.eclipse.jetty.client.ResponseNotifier.notifyComplete(ResponseNotifier.java:194)\n    at org.eclipse.jetty.client.HttpReceiver.terminateResponse(HttpReceiver.java:470)\n    at org.eclipse.jetty.client.HttpReceiver.responseSuccess(HttpReceiver.java:416)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.messageComplete(HttpReceiverOverHTTP.java:316)\n    at org.eclipse.jetty.http.HttpParser.handleContentMessage(HttpParser.java:599)\n    at org.eclipse.jetty.http.HttpParser.parseContent(HttpParser.java:1669)\n    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:1517)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.parse(HttpReceiverOverHTTP.java:172)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:135)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:73)\n    at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:133)\n    at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:155)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:422)\n    at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:306)\n    at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:160)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)\n    at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680)\n    at java.lang.Thread.run(Thread.java:748)\n</code></p>\n\n<p>Any suggestions would be welcome</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1636071179,"post_id":69847170,"comment_id":123466552,"body_markdown":"Primitives don&#39;t work well with generics. I believe you&#39;d need a separate method for each primitive type, in addition to the generic object method (though I&#39;m not sure the `T` adds value). You can see this pattern within the JDK (e.g. the `java.util.Arrays` class).","body":"Primitives don&#39;t work well with generics. I believe you&#39;d need a separate method for each primitive type, in addition to the generic object method (though I&#39;m not sure the <code>T</code> adds value). You can see this pattern within the JDK (e.g. the <code>java.util.Arrays</code> class)."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1636087955,"post_id":69847170,"comment_id":123468970,"body_markdown":"`Arrays.binarySearch` does what you want.","body":"<code>Arrays.binarySearch</code> does what you want."},{"owner":{"account_id":10882653,"reputation":300,"user_id":8001051,"display_name":"Cwift"},"score":1,"creation_date":1636097580,"post_id":69847170,"comment_id":123470724,"body_markdown":"@markspace that only works on a sorted array","body":"@markspace that only works on a sorted array"}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636071604,"creation_date":1636071504,"answer_id":69847315,"question_id":69847170,"body_markdown":"Personally if I&#39;m going to be comparing objects against my array. I use an arrayList. This allows you to use the &#39;contain&#39; method\r\n\r\n    ArrayList&lt;T&gt; myArray = new ArrayList&lt;&gt;();\r\n    \r\n    //Add your objects\r\n    \r\n    if (myArray.contains(other_T_object)) {\r\n        //do stuff if condition is met\r\n    }\r\n\r\n\r\nThe reason why you are getting that error, is because your InArray method takes in an array of T objects as the first parameter and a single T object as your second parameter. You can&#39;t pass in an array of Char, because those are not specified in your methods declaration.\r\n\r\nYour method will have to look like this.\r\n\r\n\r\n    public static boolean InCharArray(char[] array, char needle) {\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            if (needle == array[i]) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n","title":"Make a generic InArray method in Java","body":"<p>Personally if I'm going to be comparing objects against my array. I use an arrayList. This allows you to use the 'contain' method</p>\n<pre><code>ArrayList&lt;T&gt; myArray = new ArrayList&lt;&gt;();\n\n//Add your objects\n\nif (myArray.contains(other_T_object)) {\n    //do stuff if condition is met\n}\n</code></pre>\n<p>The reason why you are getting that error, is because your InArray method takes in an array of T objects as the first parameter and a single T object as your second parameter. You can't pass in an array of Char, because those are not specified in your methods declaration.</p>\n<p>Your method will have to look like this.</p>\n<pre><code>public static boolean InCharArray(char[] array, char needle) {\n    for (int i = 0; i &lt; array.length; i++) {\n        if (needle == array[i]) {\n            return true;\n        }\n    }\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19475971,"reputation":58,"user_id":14247359,"display_name":"Kaviarasu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636096762,"creation_date":1636096762,"answer_id":69849734,"question_id":69847170,"body_markdown":"To call the method *InArray*, you need to wrap(box) your arguments to **Character** class. The below code explains how to call the method.\r\n\r\n        Character arr1[] = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;};\r\n\t\tif (InArray(arr1, Character.valueOf(&#39;c&#39;))) {\r\n\t\t   // In array\r\n\t\t}\r\n\r\nThis is because you have array type as one of the parameters, the other primitive type parameter will not auto box to Character class. So you need to box the primitive type manually.","title":"Make a generic InArray method in Java","body":"<p>To call the method <em>InArray</em>, you need to wrap(box) your arguments to <strong>Character</strong> class. The below code explains how to call the method.</p>\n<pre><code>    Character arr1[] = {'a', 'b', 'c'};\n    if (InArray(arr1, Character.valueOf('c'))) {\n       // In array\n    }\n</code></pre>\n<p>This is because you have array type as one of the parameters, the other primitive type parameter will not auto box to Character class. So you need to box the primitive type manually.</p>\n"}],"owner":{"account_id":7769673,"reputation":1616,"user_id":6533037,"accept_rate":67,"display_name":"O&#39;Niel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636096762,"creation_date":1636070147,"question_id":69847170,"body_markdown":"I have the following code to check if a specific element is found in an array. I want this method to work with generic types.\r\n\r\n```\r\npublic static &lt;T&gt; boolean InArray(T[] array, T needle) {\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            if (needle == array[i]) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n```\r\n\r\nBut I can&#39;t figure out on how to call this function:\r\n```\r\n\r\nchar[] arr = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;};\r\nif (InArray(arr, &#39;c&#39;)) {\r\n   // In array\r\n}\r\n```\r\n\r\nYields the following error:\r\n```\r\n&#39;InArray(T[], T)&#39; in ... cannot be applied to &#39;(char[], char)&#39;\r\n```\r\n\r\nHow do I make this generic method work?","title":"Make a generic InArray method in Java","body":"<p>I have the following code to check if a specific element is found in an array. I want this method to work with generic types.</p>\n<pre><code>public static &lt;T&gt; boolean InArray(T[] array, T needle) {\n        for (int i = 0; i &lt; array.length; i++) {\n            if (needle == array[i]) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n</code></pre>\n<p>But I can't figure out on how to call this function:</p>\n<pre><code>\nchar[] arr = {'a', 'b', 'c'};\nif (InArray(arr, 'c')) {\n   // In array\n}\n</code></pre>\n<p>Yields the following error:</p>\n<pre><code>'InArray(T[], T)' in ... cannot be applied to '(char[], char)'\n</code></pre>\n<p>How do I make this generic method work?</p>\n"},{"tags":["java","api","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":1987254,"reputation":881,"user_id":1782133,"display_name":"Alejandro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388123873,"creation_date":1388123873,"answer_id":20795603,"question_id":20795505,"body_markdown":"Try this one:\r\n\r\n    List&lt;String&gt; tagList = new ArrayList&lt;String&gt;();\r\n    tagList.add(&quot;grails&quot;);\r\n    tagList.add(&quot;elasticSearch&quot;);\r\n    tagList.add(&quot;java&quot;);\r\n    SearchResponse response = client.prepareSearch(&quot;mongoindex&quot;)\r\n    .setSearchType(SearchType.QUERY_AND_FETCH)\r\n    .setQuery(QueryBuilders.termsQuery(&quot;tags&quot;, tagList))\r\n    .setFrom(0).setSize(60).setExplain(true)\r\n    .execute()\r\n    .actionGet();\r\n\r\nCheck [this link][1] to see more details about the terms query.\r\n\r\n  [1]: http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-terms-query.html","title":"How to do search on elasticsearch using java api with a list as parameter","body":"<p>Try this one:</p>\n\n<pre><code>List&lt;String&gt; tagList = new ArrayList&lt;String&gt;();\ntagList.add(\"grails\");\ntagList.add(\"elasticSearch\");\ntagList.add(\"java\");\nSearchResponse response = client.prepareSearch(\"mongoindex\")\n.setSearchType(SearchType.QUERY_AND_FETCH)\n.setQuery(QueryBuilders.termsQuery(\"tags\", tagList))\n.setFrom(0).setSize(60).setExplain(true)\n.execute()\n.actionGet();\n</code></pre>\n\n<p>Check <a href=\"http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-terms-query.html\" rel=\"nofollow\">this link</a> to see more details about the terms query.</p>\n"},{"tags":[],"owner":{"account_id":2983177,"reputation":93,"user_id":2532699,"display_name":"Hemed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482536592,"creation_date":1482536592,"answer_id":41308999,"question_id":20795505,"body_markdown":"It&#39;s late but maybe it can help someone else. You can build a `terms query` using `bool query` with `should` clause.\r\n\r\n    BoolQueryBuilder boolQuery = QueryBuilders.boolQuery()\r\n                    .should(QueryBuilders.termsQuery(&quot;tags&quot;, tagList));\r\n    \r\nAfter that continue as usual, assuming there exist a field `tags` which holds those values.\r\n\r\n    SearchResponse response = client.prepareSearch(&quot;mongoindex&quot;)\r\n        .setSearchType(SearchType.QUERY_AND_FETCH)\r\n        .setQuery(boolQuery)\r\n        .setFrom(0).setSize(60).setExplain(true)\r\n        .execute()\r\n        .actionGet();","title":"How to do search on elasticsearch using java api with a list as parameter","body":"<p>It's late but maybe it can help someone else. You can build a <code>terms query</code> using <code>bool query</code> with <code>should</code> clause.</p>\n\n<pre><code>BoolQueryBuilder boolQuery = QueryBuilders.boolQuery()\n                .should(QueryBuilders.termsQuery(\"tags\", tagList));\n</code></pre>\n\n<p>After that continue as usual, assuming there exist a field <code>tags</code> which holds those values.</p>\n\n<pre><code>SearchResponse response = client.prepareSearch(\"mongoindex\")\n    .setSearchType(SearchType.QUERY_AND_FETCH)\n    .setQuery(boolQuery)\n    .setFrom(0).setSize(60).setExplain(true)\n    .execute()\n    .actionGet();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5370520,"reputation":51,"user_id":4279203,"display_name":"Stanislav Milev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636096620,"creation_date":1636096620,"answer_id":69849716,"question_id":20795505,"body_markdown":"For youre purpose you need to create the query with separate terms so it will search for at least a single match.\r\nSomething like this\r\n\r\n    BoolQueryBuilder boolQuery = QueryBuilders.boolQuery();\r\n    tagList.forEach(tag-&gt; boolQuery.should(QueryBuilders.termQuery(&quot;tags&quot;, tag));\r\n    boolQuery.minimumShouldMatch(1);\r\n\r\nAnd then use it in your search.\r\n\r\n&quot;minimumShouldMatch&quot; is to be sure that at least on tag is present in a matched document.","title":"How to do search on elasticsearch using java api with a list as parameter","body":"<p>For youre purpose you need to create the query with separate terms so it will search for at least a single match.\nSomething like this</p>\n<pre><code>BoolQueryBuilder boolQuery = QueryBuilders.boolQuery();\ntagList.forEach(tag-&gt; boolQuery.should(QueryBuilders.termQuery(&quot;tags&quot;, tag));\nboolQuery.minimumShouldMatch(1);\n</code></pre>\n<p>And then use it in your search.</p>\n<p>&quot;minimumShouldMatch&quot; is to be sure that at least on tag is present in a matched document.</p>\n"}],"owner":{"account_id":1371235,"reputation":3585,"user_id":1306380,"accept_rate":19,"display_name":"Eddard Stark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5317,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1636096620,"creation_date":1388123280,"question_id":20795505,"body_markdown":"I am trying to run a query in elasticsearch cluster from java api; I have a list of string values and I would like to get all documents which contains any one of those string values. How can I do it? I tried the following but did not work.\r\n\r\n    List&lt;String&gt; tagList = new ArrayList&lt;String&gt;();\r\n    tagList.add(&quot;grails&quot;);\r\n    tagList.add(&quot;elasticSearch&quot;);\r\n    tagList.add(&quot;java&quot;);\r\n    SearchResponse response = client.prepareSearch(&quot;mongoindex&quot;)\r\n        .setSearchType(SearchType.QUERY_AND_FETCH)\r\n        .setQuery(fieldQuery(&quot;tags&quot;, tagList))\r\n        .setFrom(0).setSize(60).setExplain(true)\r\n        .execute()\r\n        .actionGet();","title":"How to do search on elasticsearch using java api with a list as parameter","body":"<p>I am trying to run a query in elasticsearch cluster from java api; I have a list of string values and I would like to get all documents which contains any one of those string values. How can I do it? I tried the following but did not work.</p>\n\n<pre><code>List&lt;String&gt; tagList = new ArrayList&lt;String&gt;();\ntagList.add(\"grails\");\ntagList.add(\"elasticSearch\");\ntagList.add(\"java\");\nSearchResponse response = client.prepareSearch(\"mongoindex\")\n    .setSearchType(SearchType.QUERY_AND_FETCH)\n    .setQuery(fieldQuery(\"tags\", tagList))\n    .setFrom(0).setSize(60).setExplain(true)\n    .execute()\n    .actionGet();\n</code></pre>\n"},{"tags":["java","spring-boot","maven","incompatibletypeerror"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636095435,"creation_date":1636095435,"answer_id":69849567,"question_id":69849201,"body_markdown":"[`CtClass#toClass`](http://www.javassist.org/html/javassist/CtClass.html#toClass()) returns a `Class&lt;? &gt;` (at compile-time), no matter what superclass you set using `CtClass#setSuperClass`, the compiler does not know the actual superclass.\r\n\r\nAt runtime, the generated class is a subtype of `AbstractStateMachineExt` but not at compile-time.\r\n\r\nYou have two options for fixing this.\r\n\r\nYou could either just return a `Class&lt;? &gt;`:\r\n```java\r\npublic &lt;T extends Enum&gt; Class&lt;?&gt; gen(Class&lt;T&gt; eventType) throws Exception {\r\n```\r\n\r\nor use an unchecked cast:\r\n```java\r\nreturn (Class&lt;C&gt;) cc.toClass();\r\n```","title":"&#39;incompatible types error&#39; occured when compiling Java code","body":"<p><a href=\"http://www.javassist.org/html/javassist/CtClass.html#toClass()\" rel=\"nofollow noreferrer\"><code>CtClass#toClass</code></a> returns a <code>Class&lt;? &gt;</code> (at compile-time), no matter what superclass you set using <code>CtClass#setSuperClass</code>, the compiler does not know the actual superclass.</p>\n<p>At runtime, the generated class is a subtype of <code>AbstractStateMachineExt</code> but not at compile-time.</p>\n<p>You have two options for fixing this.</p>\n<p>You could either just return a <code>Class&lt;? &gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T extends Enum&gt; Class&lt;?&gt; gen(Class&lt;T&gt; eventType) throws Exception {\n</code></pre>\n<p>or use an unchecked cast:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return (Class&lt;C&gt;) cc.toClass();\n</code></pre>\n"}],"owner":{"account_id":6069257,"reputation":17,"user_id":4738620,"display_name":"wykCN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69849567,"answer_count":1,"score":0,"last_activity_date":1636095435,"creation_date":1636092453,"question_id":69849201,"body_markdown":"it&#39;s a Spring Boot application. I don&#39;t know how to make the code compile correctly.\r\n\r\n```java\r\npublic class JavassistGenerator implements Generator {\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    @Override\r\n    public &lt;T extends Enum, C extends UntypedStateMachine&gt; Class&lt;C&gt; gen(Class&lt;T&gt; eventType) throws Exception {\r\n\r\n        ClassPool pool = ClassPool.getDefault();\r\n        ClassClassPath classPath = new ClassClassPath(this.getClass());\r\n        pool.insertClassPath(classPath);\r\n        CtClass cc = pool.makeClass(eventType.getName() + &quot;$StateMachine&quot;);\r\n        ClassFile ccFile = cc.getClassFile();\r\n        ConstPool constPool = ccFile.getConstPool();\r\n\r\n        //继承\r\n        cc.setSuperclass(pool.get(&quot;com.youzan.pay.hvp.common.sm.generator.AbstractStateMachineExt&quot;));\r\n\r\n        // 添加类注解\r\n        AnnotationsAttribute bodyAttr = new AnnotationsAttribute(constPool, AnnotationsAttribute.visibleTag);\r\n        Annotation bodyAnnot = new Annotation(&quot;org.squirrelframework.foundation.fsm.annotation.StateMachineParameters&quot;, constPool);\r\n        bodyAnnot.addMemberValue(&quot;stateType&quot;, new ClassMemberValue(&quot;java.lang.String&quot;, constPool));\r\n        bodyAnnot.addMemberValue(&quot;eventType&quot;, new ClassMemberValue(eventType.getName(), constPool));\r\n        bodyAnnot.addMemberValue(&quot;contextType&quot;, new ClassMemberValue(BizContextParam.class.getName(), constPool));\r\n        bodyAttr.addAnnotation(bodyAnnot);\r\n        ccFile.addAttribute(bodyAttr);\r\n        return cc.toClass();// error occur this line \r\n    }\r\n}\r\n```\r\n\r\nError message:\r\n\r\n```none\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project pay-hvp-common: Compilation failure\r\n[ERROR] /Users/ykwoo001/Documents/work/codes/pay-hvp/pay-hvp-common/src/main/java/com/youzan/pay/hvp/common/sm/generator/JavassistGenerator.java:[42,26] 不兼容的类型: java.lang.Class&lt;capture#1, 共 ?&gt;无法转换为java.lang.Class&lt;C&gt;\r\n[ERROR] -&gt; [Help 1]\r\n```","title":"&#39;incompatible types error&#39; occured when compiling Java code","body":"<p>it's a Spring Boot application. I don't know how to make the code compile correctly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JavassistGenerator implements Generator {\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public &lt;T extends Enum, C extends UntypedStateMachine&gt; Class&lt;C&gt; gen(Class&lt;T&gt; eventType) throws Exception {\n\n        ClassPool pool = ClassPool.getDefault();\n        ClassClassPath classPath = new ClassClassPath(this.getClass());\n        pool.insertClassPath(classPath);\n        CtClass cc = pool.makeClass(eventType.getName() + &quot;$StateMachine&quot;);\n        ClassFile ccFile = cc.getClassFile();\n        ConstPool constPool = ccFile.getConstPool();\n\n        //继承\n        cc.setSuperclass(pool.get(&quot;com.youzan.pay.hvp.common.sm.generator.AbstractStateMachineExt&quot;));\n\n        // 添加类注解\n        AnnotationsAttribute bodyAttr = new AnnotationsAttribute(constPool, AnnotationsAttribute.visibleTag);\n        Annotation bodyAnnot = new Annotation(&quot;org.squirrelframework.foundation.fsm.annotation.StateMachineParameters&quot;, constPool);\n        bodyAnnot.addMemberValue(&quot;stateType&quot;, new ClassMemberValue(&quot;java.lang.String&quot;, constPool));\n        bodyAnnot.addMemberValue(&quot;eventType&quot;, new ClassMemberValue(eventType.getName(), constPool));\n        bodyAnnot.addMemberValue(&quot;contextType&quot;, new ClassMemberValue(BizContextParam.class.getName(), constPool));\n        bodyAttr.addAnnotation(bodyAnnot);\n        ccFile.addAttribute(bodyAttr);\n        return cc.toClass();// error occur this line \n    }\n}\n</code></pre>\n<p>Error message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (default-compile) on project pay-hvp-common: Compilation failure\n[ERROR] /Users/ykwoo001/Documents/work/codes/pay-hvp/pay-hvp-common/src/main/java/com/youzan/pay/hvp/common/sm/generator/JavassistGenerator.java:[42,26] 不兼容的类型: java.lang.Class&lt;capture#1, 共 ?&gt;无法转换为java.lang.Class&lt;C&gt;\n[ERROR] -&gt; [Help 1]\n</code></pre>\n"},{"tags":["java","date","localdate","date-comparison","java.util.date"],"comments":[{"owner":{"account_id":2297089,"reputation":3607,"user_id":2018278,"accept_rate":53,"display_name":"The KNVB"},"score":1,"creation_date":1636091160,"post_id":69849065,"comment_id":123469449,"body_markdown":"Have you tried to convert `java.util.date` into LocalDate?","body":"Have you tried to convert <code>java.util.date</code> into LocalDate?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1636091921,"post_id":69849065,"comment_id":123469568,"body_markdown":"What do you mean *falls between*? A `Date` (despite its name) is a point int time, and at that point in time there are two or three different dates in different time zones. If the `Date` denotes 2021-11-05 at 11:00 AM in the time zone you prefer, does a `LocalDate` of 2021-11-05 then fall before and/or after?","body":"What do you mean <i>falls between</i>? A <code>Date</code> (despite its name) is a point int time, and at that point in time there are two or three different dates in different time zones. If the <code>Date</code> denotes 2021-11-05 at 11:00 AM in the time zone you prefer, does a <code>LocalDate</code> of 2021-11-05 then fall before and/or after?"}],"answers":[{"tags":[],"owner":{"account_id":14020350,"reputation":11,"user_id":10126704,"display_name":"Amit Vikram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636092674,"creation_date":1636091572,"answer_id":69849134,"question_id":69849065,"body_markdown":"Convert LocalDate to String and convert this String to java.util.Date and you can use your method.\r\n\r\nTo convert LocalDate to String:\r\n\r\n```\r\nLocalDate localDate = LocalDate.now();                                    \r\nDateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;);          \r\nString localDateToString = localDate.format(dateFormatter1);\r\n```\r\n\r\nAnd to convert String to Date:\r\n\r\n    SimpleDateFormat formatter=new SimpleDateFormat(&quot;dd-MMM-yyyy HH:mm:ss&quot;); \r\n    Date date1=formatter1.parse(sDate1);  \r\n\r\nOnce you&#39;ve converted LocalDate to Date, you can compare dates using your method.\r\n\r\n ","title":"Comparing java.utilDate with LocalDate in java","body":"<p>Convert LocalDate to String and convert this String to java.util.Date and you can use your method.</p>\n<p>To convert LocalDate to String:</p>\n<pre><code>LocalDate localDate = LocalDate.now();                                    \nDateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;);          \nString localDateToString = localDate.format(dateFormatter1);\n</code></pre>\n<p>And to convert String to Date:</p>\n<pre><code>SimpleDateFormat formatter=new SimpleDateFormat(&quot;dd-MMM-yyyy HH:mm:ss&quot;); \nDate date1=formatter1.parse(sDate1);  \n</code></pre>\n<p>Once you've converted LocalDate to Date, you can compare dates using your method.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636093117,"creation_date":1636093117,"answer_id":69849292,"question_id":69849065,"body_markdown":"You need to decide on many corner and edge cases. Here’s a shot.\r\n\r\n\tpublic static boolean isBetween(LocalDate date, Date startDate, Date endDate) {\r\n\t\tZoneId zone = ZoneId.systemDefault();\r\n\t\t// Is before start?\r\n\t\tif (startDate != null) {\r\n\t\t\tLocalDate startLocalDate = startDate.toInstant().atZone(zone).toLocalDate();\r\n\t\t\tif (date.isBefore(startLocalDate)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Is after end?\r\n\t\tif (endDate != null) {\r\n\t\t\tLocalDate endLocalDate = endDate.toInstant().atZone(zone).toLocalDate();\r\n\t\t\tif (date.isAfter(endLocalDate)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// If we end up here, the date is between start and end inclusive\r\n\t\treturn true;\r\n\t}\r\n\r\nI am assuming that the old-fashioned `Date` objects are to be interpreted in the default time zone of the JVM. On one hand this is standard, on the other hand the default time zone can be changed at any time, also from other programs running in the same JVM, so this is fragile. I am discarding the time of day part of the thus interpreted date. Whether the time is 00:00 or it’s 23:59:59.999, I deem the `LocalDate` inside the interval if the date agrees. You may want quite different behaviour.\r\n\r\nIf you wanted to take the time into account, you should probably convert everything to `Instant` or `ZonedDateTime` instead.\r\n\r\nAs you can see, mixing old-fashioned and modern classes leads to quite some complication. I am converting `Date` to `LocalDate` in order to take advantage of java.time, which in turn also gets more complicated since the `Date`s may be `null`.","title":"Comparing java.utilDate with LocalDate in java","body":"<p>You need to decide on many corner and edge cases. Here’s a shot.</p>\n<pre><code>public static boolean isBetween(LocalDate date, Date startDate, Date endDate) {\n    ZoneId zone = ZoneId.systemDefault();\n    // Is before start?\n    if (startDate != null) {\n        LocalDate startLocalDate = startDate.toInstant().atZone(zone).toLocalDate();\n        if (date.isBefore(startLocalDate)) {\n            return false;\n        }\n    }\n    // Is after end?\n    if (endDate != null) {\n        LocalDate endLocalDate = endDate.toInstant().atZone(zone).toLocalDate();\n        if (date.isAfter(endLocalDate)) {\n            return false;\n        }\n    }\n    // If we end up here, the date is between start and end inclusive\n    return true;\n}\n</code></pre>\n<p>I am assuming that the old-fashioned <code>Date</code> objects are to be interpreted in the default time zone of the JVM. On one hand this is standard, on the other hand the default time zone can be changed at any time, also from other programs running in the same JVM, so this is fragile. I am discarding the time of day part of the thus interpreted date. Whether the time is 00:00 or it’s 23:59:59.999, I deem the <code>LocalDate</code> inside the interval if the date agrees. You may want quite different behaviour.</p>\n<p>If you wanted to take the time into account, you should probably convert everything to <code>Instant</code> or <code>ZonedDateTime</code> instead.</p>\n<p>As you can see, mixing old-fashioned and modern classes leads to quite some complication. I am converting <code>Date</code> to <code>LocalDate</code> in order to take advantage of java.time, which in turn also gets more complicated since the <code>Date</code>s may be <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":1240857,"reputation":2683,"user_id":1203489,"accept_rate":48,"display_name":"Sikorski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636094341,"creation_date":1636094341,"answer_id":69849436,"question_id":69849065,"body_markdown":"You will have to convert java.util.Date to LocalDate instances for comparison. Since you have to compare LocalDate with other dates, so losing the time part seems to be a logical compromise here.\r\n\r\n    public static boolean isBetween(LocalDate localDate, Date start, Date end){\r\n        LocalDate startLocalDate = Instant.ofEpochMilli(start.getTime()).atZone(ZoneId.systemDefault()).toLocalDate();\r\n        LocalDate endLocalDate = Instant.ofEpochMilli(end.getTime()).atZone(ZoneId.systemDefault()).toLocalDate();\r\n        return (localDate.isEqual(startLocalDate) || localDate.isEqual(endLocalDate)) || (localDate.isAfter(startLocalDate) &amp;&amp; localDate.isBefore(endLocalDate));\r\n    }\r\nI have made the endDate as inclusive upper limit.","title":"Comparing java.utilDate with LocalDate in java","body":"<p>You will have to convert java.util.Date to LocalDate instances for comparison. Since you have to compare LocalDate with other dates, so losing the time part seems to be a logical compromise here.</p>\n<pre><code>public static boolean isBetween(LocalDate localDate, Date start, Date end){\n    LocalDate startLocalDate = Instant.ofEpochMilli(start.getTime()).atZone(ZoneId.systemDefault()).toLocalDate();\n    LocalDate endLocalDate = Instant.ofEpochMilli(end.getTime()).atZone(ZoneId.systemDefault()).toLocalDate();\n    return (localDate.isEqual(startLocalDate) || localDate.isEqual(endLocalDate)) || (localDate.isAfter(startLocalDate) &amp;&amp; localDate.isBefore(endLocalDate));\n}\n</code></pre>\n<p>I have made the endDate as inclusive upper limit.</p>\n"}],"owner":{"account_id":3367953,"reputation":1474,"user_id":2828006,"accept_rate":24,"display_name":"Scientist"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1636095429,"creation_date":1636090799,"question_id":69849065,"body_markdown":"I have a method wherein have to check whether a LocalDate falls in between two java.util.Date values. \r\nthere are methods after and before in java.util.Date\r\nand there are methods isAfter and isBefore in LocalDate.\r\n\r\nThe code snippet which i have is as :\r\n\r\n     /**\r\n     * checks if date passed falls between start &amp; end date\r\n     *\r\n     * @param date\r\n     * @param startDate\r\n     * @param endDate\r\n     * @return\r\n     */\r\n    public static boolean isBetween(Date date, Date startDate, Date endDate) {\r\n        return (startDate == null || date.after(startDate) || date.equals(startDate))\r\n                &amp;&amp; (endDate == null || date.before(endDate) || date.equals(endDate));\r\n    }\r\n\r\nThere is no method in the API to compare across.. \r\n","title":"Comparing java.utilDate with LocalDate in java","body":"<p>I have a method wherein have to check whether a LocalDate falls in between two java.util.Date values.\nthere are methods after and before in java.util.Date\nand there are methods isAfter and isBefore in LocalDate.</p>\n<p>The code snippet which i have is as :</p>\n<pre><code> /**\n * checks if date passed falls between start &amp; end date\n *\n * @param date\n * @param startDate\n * @param endDate\n * @return\n */\npublic static boolean isBetween(Date date, Date startDate, Date endDate) {\n    return (startDate == null || date.after(startDate) || date.equals(startDate))\n            &amp;&amp; (endDate == null || date.before(endDate) || date.equals(endDate));\n}\n</code></pre>\n<p>There is no method in the API to compare across..</p>\n"},{"tags":["javascript","java","jsp"],"comments":[{"owner":{"account_id":4296062,"reputation":2894,"user_id":3511123,"display_name":"Jozef Chocholacek"},"score":0,"creation_date":1635763832,"post_id":69793491,"comment_id":123372255,"body_markdown":"The key is to realize, **where** and **when** which code is executed - Java on the server, when the page is requested and rendered (i.e. before the response is sent to the browser), and Javascript in the browser, after the browser receives the already generated response. So you **cannot** directly access Java code from Javascript.","body":"The key is to realize, <b>where</b> and <b>when</b> which code is executed - Java on the server, when the page is requested and rendered (i.e. before the response is sent to the browser), and Javascript in the browser, after the browser receives the already generated response. So you <b>cannot</b> directly access Java code from Javascript."},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1636029194,"post_id":69793491,"comment_id":123451750,"body_markdown":"With Javascript every time you send to the server (Java) and it returns you reload the entire page.\nFor what you want, you would have to use Ajax, it is a JavaScript extension, which allows you to exchange information with a server and update part of the contents of a web without having to reload the web page completely","body":"With Javascript every time you send to the server (Java) and it returns you reload the entire page. For what you want, you would have to use Ajax, it is a JavaScript extension, which allows you to exchange information with a server and update part of the contents of a web without having to reload the web page completely"}],"answers":[{"tags":[],"owner":{"account_id":22890378,"reputation":121,"user_id":17030588,"display_name":"Aamir Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636095140,"creation_date":1636095140,"answer_id":69849531,"question_id":69793491,"body_markdown":"You can not directly call the Java method/function once JavaScript code is executed, to execute that you have to use JavaScript ajax function which is used to execute backend programming language function for eg. Java method based on the url you defined of that method and passed the parameters in the ajax &#39;data&#39; which is required by the java method and in ajax response you will get the return value of that java method. ","title":"Calling java method in Javascript loop function","body":"<p>You can not directly call the Java method/function once JavaScript code is executed, to execute that you have to use JavaScript ajax function which is used to execute backend programming language function for eg. Java method based on the url you defined of that method and passed the parameters in the ajax 'data' which is required by the java method and in ajax response you will get the return value of that java method.</p>\n"}],"owner":{"display_name":"user12427179"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636095140,"creation_date":1635749670,"question_id":69793491,"body_markdown":"I am running a javascript function which is under a for loop. \r\nThe called javascript function calls a java method with the passed parameters. \r\nI don&#39;t know why java method not execute each time javascript function in loop is called. But it executes after loop has completed. So, called java method doesn&#39;t follow the order of passed parameter.\r\nThe sample code of my program will look like this:\r\n\r\n```\r\nfunction firstfunction() {\r\n    var x = 5;\r\n    for (var j = 0; j &lt; 5; j++) {\r\n        secondfunction(j, x);\r\n    }\r\n}\r\n\r\nfunction secondfunction(j, x) {\r\n    JavaClass.Javamethod(j, x, callback);\r\n}\r\n```\r\nJava method do some calculation and return some value as callback. I want my code to call the java method and return the value and then go in javascript loop to take the next parameter and so on.","title":"Calling java method in Javascript loop function","body":"<p>I am running a javascript function which is under a for loop.\nThe called javascript function calls a java method with the passed parameters.\nI don't know why java method not execute each time javascript function in loop is called. But it executes after loop has completed. So, called java method doesn't follow the order of passed parameter.\nThe sample code of my program will look like this:</p>\n<pre><code>function firstfunction() {\n    var x = 5;\n    for (var j = 0; j &lt; 5; j++) {\n        secondfunction(j, x);\n    }\n}\n\nfunction secondfunction(j, x) {\n    JavaClass.Javamethod(j, x, callback);\n}\n</code></pre>\n<p>Java method do some calculation and return some value as callback. I want my code to call the java method and return the value and then go in javascript loop to take the next parameter and so on.</p>\n"},{"tags":["java","spring","web","backend"],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636093772,"creation_date":1636093772,"answer_id":69849370,"question_id":69849075,"body_markdown":"You can use below annotation at class level or method level for RobotVO.\r\n\r\n    @JsonInclude(Include.NON_NULL)\r\n\r\nhttps://www.baeldung.com/jackson-ignore-null-fields","title":"When returning VO as json, how to return excluding null value?","body":"<p>You can use below annotation at class level or method level for RobotVO.</p>\n<pre><code>@JsonInclude(Include.NON_NULL)\n</code></pre>\n<p><a href=\"https://www.baeldung.com/jackson-ignore-null-fields\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-ignore-null-fields</a></p>\n"}],"owner":{"account_id":22667261,"reputation":111,"user_id":16839433,"display_name":"ringhiosi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69849370,"answer_count":1,"score":0,"last_activity_date":1636093772,"creation_date":1636090865,"question_id":69849075,"body_markdown":"When returning VO as json, how to return excluding null value?\r\n```\r\n     @RequestMapping(&quot;/rbtInfo.do&quot;)\r\n     public RobotVO rbtInfo(@RequestParam String rbtId){\r\n         String rbtPower = &quot;ON&quot;;\r\n         robot.setRbtPower(rbtPower);\r\n         return robot;\r\n\r\n     }\r\n```\r\nAbove is my controller.\r\n\r\nAnd the return value is as follows.\r\n```\r\n{\r\n     &quot;rbtId&quot;: null,\r\n     &quot;rbtPower&quot;: &quot;ON&quot;,\r\n     &quot;rtspAddr&quot;: null,\r\n     &quot;ifrRtspAddr&quot;: null,\r\n     &quot;stationPosition&quot;: null,\r\n}\r\n```\r\nIn this case, I want to return only `rbtPower` for which the value exists, but not the rest.\r\n\r\nHow can I return excluding null data from VO?","title":"When returning VO as json, how to return excluding null value?","body":"<p>When returning VO as json, how to return excluding null value?</p>\n<pre><code>     @RequestMapping(&quot;/rbtInfo.do&quot;)\n     public RobotVO rbtInfo(@RequestParam String rbtId){\n         String rbtPower = &quot;ON&quot;;\n         robot.setRbtPower(rbtPower);\n         return robot;\n\n     }\n</code></pre>\n<p>Above is my controller.</p>\n<p>And the return value is as follows.</p>\n<pre><code>{\n     &quot;rbtId&quot;: null,\n     &quot;rbtPower&quot;: &quot;ON&quot;,\n     &quot;rtspAddr&quot;: null,\n     &quot;ifrRtspAddr&quot;: null,\n     &quot;stationPosition&quot;: null,\n}\n</code></pre>\n<p>In this case, I want to return only <code>rbtPower</code> for which the value exists, but not the rest.</p>\n<p>How can I return excluding null data from VO?</p>\n"},{"tags":["java","swing","checkbox","jtable","abstracttablemodel"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1353390128,"creation_date":1353390128,"answer_id":13467228,"question_id":13459936,"body_markdown":"[`CheckABunch`][1] is an example that may get you started:\r\n\r\n- If `getColumnClass()` returns `Boolean.class` for a column, the default [renderer and editor][2] will be a `JCheckBox`.\r\n\r\n- For `AbstractTableModel `, your implementation of `setValueAt()` must fire the appropriate event, as shown [here][3] and [here][4].\r\n\r\n- Add a `TableModelListener` to receive events fired by your model, as shown [here][5].\r\n\r\n![image][6]\r\n\r\n  [1]: https://stackoverflow.com/a/4528604/230513\r\n  [2]: http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender\r\n  [3]: https://stackoverflow.com/a/11179669/230513\r\n  [4]: https://stackoverflow.com/a/11259671/230513\r\n  [5]: https://stackoverflow.com/a/7137801/230513\r\n  [6]: http://i.stack.imgur.com/TWYHC.png","title":"Get row values of ticked checkbox in jtable","body":"<p><a href=\"https://stackoverflow.com/a/4528604/230513\"><code>CheckABunch</code></a> is an example that may get you started:</p>\n\n<ul>\n<li><p>If <code>getColumnClass()</code> returns <code>Boolean.class</code> for a column, the default <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender\" rel=\"nofollow noreferrer\">renderer and editor</a> will be a <code>JCheckBox</code>.</p></li>\n<li><p>For <code>AbstractTableModel</code>, your implementation of <code>setValueAt()</code> must fire the appropriate event, as shown <a href=\"https://stackoverflow.com/a/11179669/230513\">here</a> and <a href=\"https://stackoverflow.com/a/11259671/230513\">here</a>.</p></li>\n<li><p>Add a <code>TableModelListener</code> to receive events fired by your model, as shown <a href=\"https://stackoverflow.com/a/7137801/230513\">here</a>.</p></li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/TWYHC.png\" alt=\"image\"></p>\n"},{"tags":[],"owner":{"account_id":1822557,"reputation":3265,"user_id":1656244,"display_name":"Krishnakant Kadam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385448816,"creation_date":1385448816,"answer_id":20210364,"question_id":13459936,"body_markdown":"**JTable get cehckbox value when check box is checked:-**\r\n\r\n    table.getModel().addTableModelListener(new TableModelListener() {\r\n                  @Override\r\n                  public void tableChanged(TableModelEvent e) {\r\n                       for(int i=0;i&lt;table.getModel().getRowCount();i++)\r\n                          {\r\n                            if ((Boolean) table.getModel().getValueAt(i,0))\r\n                            {  \r\n                              System.out.println(&quot;&gt;\\t&quot;+table.getSelectedRow());\r\n                              break;\r\n                            }\r\n                         }     \r\n                      }\r\n            });","title":"Get row values of ticked checkbox in jtable","body":"<p><strong>JTable get cehckbox value when check box is checked:-</strong></p>\n\n<pre><code>table.getModel().addTableModelListener(new TableModelListener() {\n              @Override\n              public void tableChanged(TableModelEvent e) {\n                   for(int i=0;i&lt;table.getModel().getRowCount();i++)\n                      {\n                        if ((Boolean) table.getModel().getValueAt(i,0))\n                        {  \n                          System.out.println(\"&gt;\\t\"+table.getSelectedRow());\n                          break;\n                        }\n                     }     \n                  }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18092470,"reputation":680,"user_id":13151632,"display_name":"Rohinibabu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636093420,"creation_date":1636093420,"answer_id":69849329,"question_id":13459936,"body_markdown":"To get the table entire row data, add the below addTableModelListener for JTable.\r\n\r\n    table.getModel().addTableModelListener(new TableModelListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void tableChanged(TableModelEvent e) {\r\n    \t\t\t\tfor (int i = 0; i &lt; table.getModel().getRowCount(); i++) {\r\n    \t\t\t\t\tif ((Boolean) table.getModel().getValueAt(i, 0)) {\r\n    \r\n    \t\t\t\t\t\tif (table.getSelectedRow() != -1) {\r\n    \t\t\t\t\t\t\tint column = 1;\r\n    \t\t\t\t\t\t\tint row = table.getSelectedRow();\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;to get one cell Data:\\t&quot;\r\n    \t\t\t\t\t\t\t\t\t+ table.getModel().getValueAt(row, column).toString());\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;To get entire row data:\\t&quot;\r\n    \t\t\t\t\t\t\t\t\t+ model.getDataVector().elementAt(table.getSelectedRow()));\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});","title":"Get row values of ticked checkbox in jtable","body":"<p>To get the table entire row data, add the below addTableModelListener for JTable.</p>\n<pre><code>table.getModel().addTableModelListener(new TableModelListener() {\n            @Override\n            public void tableChanged(TableModelEvent e) {\n                for (int i = 0; i &lt; table.getModel().getRowCount(); i++) {\n                    if ((Boolean) table.getModel().getValueAt(i, 0)) {\n\n                        if (table.getSelectedRow() != -1) {\n                            int column = 1;\n                            int row = table.getSelectedRow();\n                            System.out.println(&quot;to get one cell Data:\\t&quot;\n                                    + table.getModel().getValueAt(row, column).toString());\n                            System.out.println(&quot;To get entire row data:\\t&quot;\n                                    + model.getDataVector().elementAt(table.getSelectedRow()));\n                            break;\n                        }\n                    }\n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":2025085,"reputation":131,"user_id":1810333,"accept_rate":50,"display_name":"Jong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10513,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13467228,"answer_count":3,"score":2,"last_activity_date":1636093420,"creation_date":1353350025,"question_id":13459936,"body_markdown":"    class TableModel extends AbstractTableModel {\r\n            \r\n            Object rowData[][] = DataAccess.getSentences();\r\n            String columnNames[] = {&quot;Category&quot;, &quot;Sentences&quot;, &quot;Boolean&quot;};\r\n            \r\n            public int getColumnCount() {\r\n                return columnNames.length;\r\n            }\r\n    \r\n            public String getColumnName(int column) {\r\n                return columnNames[column];\r\n            }\r\n    \r\n            public int getRowCount() {\r\n                return rowData.length;\r\n            }\r\n    \r\n            public Object getValueAt(int row, int column) {\r\n                return rowData[row][column];\r\n            }\r\n    \r\n            public Class getColumnClass(int column) {\r\n                return (getValueAt(0, column).getClass());\r\n            }\r\n    \r\n            public void setValueAt(Object value, int row, int column) {\r\n                rowData[row][column] = value;\r\n            }\r\n    \r\n            public boolean isCellEditable(int row, int column) {\r\n                return (column &gt;= 2);\r\n            }\r\n        }\r\n\r\nSample scenario: \r\n\r\nHeaders: Category, Sentences, Boolean\r\n\r\nRow1: apple | this is an apple | checkbox\r\n\r\nRow2: cat | this is a cat | checkbox\r\n\r\nWhen I ticked the first row. It will System.out.println() the &quot;apple&quot; and &quot;this is an apple.&quot;\r\n\r\nIf you have much time, i would appreciate if there&#39;s a code snippet. Thank you.","title":"Get row values of ticked checkbox in jtable","body":"<pre><code>class TableModel extends AbstractTableModel {\n\n        Object rowData[][] = DataAccess.getSentences();\n        String columnNames[] = {\"Category\", \"Sentences\", \"Boolean\"};\n\n        public int getColumnCount() {\n            return columnNames.length;\n        }\n\n        public String getColumnName(int column) {\n            return columnNames[column];\n        }\n\n        public int getRowCount() {\n            return rowData.length;\n        }\n\n        public Object getValueAt(int row, int column) {\n            return rowData[row][column];\n        }\n\n        public Class getColumnClass(int column) {\n            return (getValueAt(0, column).getClass());\n        }\n\n        public void setValueAt(Object value, int row, int column) {\n            rowData[row][column] = value;\n        }\n\n        public boolean isCellEditable(int row, int column) {\n            return (column &gt;= 2);\n        }\n    }\n</code></pre>\n\n<p>Sample scenario: </p>\n\n<p>Headers: Category, Sentences, Boolean</p>\n\n<p>Row1: apple | this is an apple | checkbox</p>\n\n<p>Row2: cat | this is a cat | checkbox</p>\n\n<p>When I ticked the first row. It will System.out.println() the \"apple\" and \"this is an apple.\"</p>\n\n<p>If you have much time, i would appreciate if there's a code snippet. Thank you.</p>\n"},{"tags":["java","arrays","char"],"comments":[{"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"score":1,"creation_date":1355487171,"post_id":13878437,"comment_id":19115075,"body_markdown":"Show us what you have now and let&#39;s work from there ;)","body":"Show us what you have now and let&#39;s work from there ;)"},{"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"score":5,"creation_date":1355487233,"post_id":13878437,"comment_id":19115101,"body_markdown":"Must use a different google - &quot;java filling an array of characters from user input&quot; first hit is http://stackoverflow.com/questions/2622725/how-to-take-user-input-in-array-using-java","body":"Must use a different google - &quot;java filling an array of characters from user input&quot; first hit is <a href=\"http://stackoverflow.com/questions/2622725/how-to-take-user-input-in-array-using-java\" title=\"how to take user input in array using java\">stackoverflow.com/questions/2622725/&hellip;</a>"},{"owner":{"account_id":2135109,"reputation":2512,"user_id":1895097,"accept_rate":50,"display_name":"MildWolfie"},"score":0,"creation_date":1355487283,"post_id":13878437,"comment_id":19115122,"body_markdown":"How about we try breaking this into smaller chunks? Start with a search for &quot;java keyboard input&quot; and work from there.","body":"How about we try breaking this into smaller chunks? Start with a search for &quot;java keyboard input&quot; and work from there."},{"owner":{"account_id":2004904,"reputation":61,"user_id":1795093,"accept_rate":100,"display_name":"Aura"},"score":0,"creation_date":1355487395,"post_id":13878437,"comment_id":19115164,"body_markdown":"I know how to fill an array of integers, etc. the problem is with characters.","body":"I know how to fill an array of integers, etc. the problem is with characters."},{"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"score":0,"creation_date":1355487471,"post_id":13878437,"comment_id":19115215,"body_markdown":"@Aura If you know how to do it with integers, use that as a starting point. Try to convert it to use characters, and then post the code here when you are stuck.","body":"@Aura If you know how to do it with integers, use that as a starting point. Try to convert it to use characters, and then post the code here when you are stuck."},{"owner":{"account_id":1864434,"reputation":5495,"user_id":1697798,"accept_rate":84,"display_name":"The Dark Knight"},"score":0,"creation_date":1355487570,"post_id":13878437,"comment_id":19115257,"body_markdown":"Post your basic code here and we will try to help you out .","body":"Post your basic code here and we will try to help you out ."},{"owner":{"account_id":2004904,"reputation":61,"user_id":1795093,"accept_rate":100,"display_name":"Aura"},"score":0,"creation_date":1355487660,"post_id":13878437,"comment_id":19115296,"body_markdown":"I tried these foolish codes:\n`char[] charArr = new char[10];\nfor (int i = 0; i &lt; charArr.length; i++) {\ncharArr[i] = (sc.next()).charAt(i);\n}`","body":"I tried these foolish codes: <code>char[] charArr = new char[10]; for (int i = 0; i &lt; charArr.length; i++) { charArr[i] = (sc.next()).charAt(i); }</code>"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1355487772,"post_id":13878437,"comment_id":19115348,"body_markdown":"@Aura I would add that to your question. It&#39;s a good start, what problem did you have with it? It will take the first letter of 10 words.","body":"@Aura I would add that to your question. It&#39;s a good start, what problem did you have with it? It will take the first letter of 10 words."},{"owner":{"account_id":2004904,"reputation":61,"user_id":1795093,"accept_rate":100,"display_name":"Aura"},"score":0,"creation_date":1355488203,"post_id":13878437,"comment_id":19115534,"body_markdown":"@PeterLawrey It makes an infinit loop.","body":"@PeterLawrey It makes an infinit loop."},{"owner":{"account_id":2004904,"reputation":61,"user_id":1795093,"accept_rate":100,"display_name":"Aura"},"score":0,"creation_date":1355488455,"post_id":13878437,"comment_id":19115639,"body_markdown":"@ivanovic think that I don&#39;t even know how to google a question. Would you please show me one of your search results? here&#39;s a place to share our knowledge, isn&#39;t it?","body":"@ivanovic think that I don&#39;t even know how to google a question. Would you please show me one of your search results? here&#39;s a place to share our knowledge, isn&#39;t it?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1355489364,"post_id":13878437,"comment_id":19116029,"body_markdown":"@Aura It won&#39;t go around more than 10 times, which is less than infinite.","body":"@Aura It won&#39;t go around more than 10 times, which is less than infinite."},{"owner":{"account_id":2004904,"reputation":61,"user_id":1795093,"accept_rate":100,"display_name":"Aura"},"score":0,"creation_date":1355489833,"post_id":13878437,"comment_id":19116246,"body_markdown":"@PeterLawrey :-? now it works and i don&#39;t know how! tnx anyway...","body":"@PeterLawrey :-? now it works and i don&#39;t know how! tnx anyway..."}],"answers":[{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1355490459,"creation_date":1355487686,"answer_id":13878599,"question_id":13878437,"body_markdown":"&gt; I googled it a lot and found nothing! Could someone help me with\r\n&gt; filling an array of characters from user input, please?\r\n\r\nMy Google said, try this one..\r\n\r\n**Option 1 :**\r\n\r\n        import java.io.*;\r\n       class array {\r\n    \r\n        public static void main(String args[]) throws IOException {\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            String tmp = br.readLine();\r\n            int length = tmp.length();\r\n            char c[] = new char[length];\r\n            tmp.getChars(0, length, c, 0);\r\n            CharArrayReader input1 = new CharArrayReader(c);\r\n            int i;\r\n            System.out.print(&quot;input1 is:&quot;);\r\n            while ((i = input1.read()) != -1) {\r\n                System.out.print((char) i);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n**Option 2:**\r\n\r\n    class array\r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;Please enter elements...&quot;);\r\n            char[] a=sc.next().toCharArray();\r\n            System.out.println(&quot;Array elements are : &quot;);\r\n            for (int i=0;i&lt;a.length;i++)\r\n                System.out.println(a[i]);\r\n        }\r\n    }\r\n\r\n*But, in this case, it won&#39;t accept after space character.*\r\n\r\n**Before, start your coding in Java, you must know these terms :**\r\n\r\n[BufferedReader][1]\r\n\r\n[Exception handling][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/io/BufferedReader.html\r\n  [2]: http://en.wikipedia.org/wiki/Exception_handling","title":"How to fill an array of characters from user input?","body":"<blockquote>\n  <p>I googled it a lot and found nothing! Could someone help me with\n  filling an array of characters from user input, please?</p>\n</blockquote>\n\n<p>My Google said, try this one..</p>\n\n<p><strong>Option 1 :</strong></p>\n\n<pre><code>    import java.io.*;\n   class array {\n\n    public static void main(String args[]) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String tmp = br.readLine();\n        int length = tmp.length();\n        char c[] = new char[length];\n        tmp.getChars(0, length, c, 0);\n        CharArrayReader input1 = new CharArrayReader(c);\n        int i;\n        System.out.print(\"input1 is:\");\n        while ((i = input1.read()) != -1) {\n            System.out.print((char) i);\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>Option 2:</strong></p>\n\n<pre><code>class array\n{\n    public static void main(String args[])\n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(\"Please enter elements...\");\n        char[] a=sc.next().toCharArray();\n        System.out.println(\"Array elements are : \");\n        for (int i=0;i&lt;a.length;i++)\n            System.out.println(a[i]);\n    }\n}\n</code></pre>\n\n<p><em>But, in this case, it won't accept after space character.</em></p>\n\n<p><strong>Before, start your coding in Java, you must know these terms :</strong></p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/io/BufferedReader.html\" rel=\"noreferrer\">BufferedReader</a></p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Exception_handling\" rel=\"noreferrer\">Exception handling</a></p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355490098,"creation_date":1355489435,"answer_id":13879054,"question_id":13878437,"body_markdown":"If you want to be able to read a word and split it into an array of characters you can use.\r\n\r\n    char[] chars = scanner.next().toCharArray();","title":"How to fill an array of characters from user input?","body":"<p>If you want to be able to read a word and split it into an array of characters you can use.</p>\n\n<pre><code>char[] chars = scanner.next().toCharArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4341207,"reputation":119,"user_id":3544388,"display_name":"Cyruses Cyrus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398750463,"creation_date":1398750463,"answer_id":23356473,"question_id":13878437,"body_markdown":"       /* program below takes an string from user, splits into character and display as array of characters. */  \r\n        \r\n         package com.demo.mum;\r\n            \r\n            import java.io.BufferedReader;\r\n            import java.io.IOException;\r\n            import java.io.InputStreamReader;\r\n            \r\n            /**\r\n             * @author cyruses\r\n             * \r\n             */\r\n            \r\n            public class CharacterArray {\r\n            \r\n            \tpublic static void main(String args[]) throws IOException {\r\n            \t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            \t\tSystem.out.println(&quot;Enter the string:&quot;);\r\n            \t\tString tmp = br.readLine();\r\n            \t\tint strLen = tmp.length();\r\n            \t\tchar c[] = new char[strLen];\r\n            \t\tfor (int i = 0; i &lt; c.length; i++) {\r\n            \t\t\tc[i] = tmp.charAt(i);\r\n            \t\t}\r\n            \t\tSystem.out.println(&quot;Displaying character Array&quot;);\r\n            \t\tfor (int i = 0; i &lt; c.length; i++) {\r\n            \t\t\tSystem.out.println(c[i]);\r\n            \t\t}\r\n            }\r\n\r\n","title":"How to fill an array of characters from user input?","body":"<pre><code>   /* program below takes an string from user, splits into character and display as array of characters. */  \n\n     package com.demo.mum;\n\n        import java.io.BufferedReader;\n        import java.io.IOException;\n        import java.io.InputStreamReader;\n\n        /**\n         * @author cyruses\n         * \n         */\n\n        public class CharacterArray {\n\n            public static void main(String args[]) throws IOException {\n                BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n                System.out.println(\"Enter the string:\");\n                String tmp = br.readLine();\n                int strLen = tmp.length();\n                char c[] = new char[strLen];\n                for (int i = 0; i &lt; c.length; i++) {\n                    c[i] = tmp.charAt(i);\n                }\n                System.out.println(\"Displaying character Array\");\n                for (int i = 0; i &lt; c.length; i++) {\n                    System.out.println(c[i]);\n                }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4775778,"reputation":173,"user_id":3858961,"accept_rate":20,"display_name":"Maverick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453806453,"creation_date":1453806453,"answer_id":35012411,"question_id":13878437,"body_markdown":"   \r\n This code is part of my program for linear searching, I fixed the issue I was facing. But I want explanation about why I was getting exception on charAt(x) and not on charAt(0).\r\n\r\n \r\n            System.out.println(&quot;Enter Your Data in character&quot;);\r\n            for(x=0;x&lt;char_array.length;x++)\r\n            {\r\n        \tScanner input_list_char = new Scanner(System.in);\r\n        \tchar_array[x]=input_list_char.next().charAt(0); //it works\r\n        \tchar_array[x]=input_list_char.next().charAt(x); // give me exception\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n        ","title":"How to fill an array of characters from user input?","body":"<p>This code is part of my program for linear searching, I fixed the issue I was facing. But I want explanation about why I was getting exception on charAt(x) and not on charAt(0).</p>\n\n<pre><code>        System.out.println(\"Enter Your Data in character\");\n        for(x=0;x&lt;char_array.length;x++)\n        {\n        Scanner input_list_char = new Scanner(System.in);\n        char_array[x]=input_list_char.next().charAt(0); //it works\n        char_array[x]=input_list_char.next().charAt(x); // give me exception\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8897137,"reputation":1,"user_id":6641798,"display_name":"keshav verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469641988,"creation_date":1469567113,"answer_id":38599864,"question_id":13878437,"body_markdown":" \r\n\r\nTo input a character array from user\r\n\r\n\r\n    import java.io.*;\r\n    class CharArrayInput {\r\n\r\n    public static void main(String args[]) throws IOException {\r\n       \r\n        /*using InputReader and BufferedReader class \r\n          to fill array of characters from user input.\r\n        */\r\n        InputStreamReader ir = new InputStreamReader(System.in);\r\n        BufferedReader br = new BufferedReader(ir);\r\n        //Take size of array from user.\r\n        System.out.println(&quot;Please enter size of array&quot;)\r\n        int n = Integer.parseInt(br.readLine());\r\n        //Declare a character array\r\n        char arr[] = new char[n];\r\n        //loop to take input of array elements\r\n        for(int i=0; i &lt; n; i++){\r\n        arr[i] = (char)br.read();\r\n        }   \r\n        \r\n       }\r\n      }","title":"How to fill an array of characters from user input?","body":"<p>To input a character array from user</p>\n\n<pre><code>import java.io.*;\nclass CharArrayInput {\n\npublic static void main(String args[]) throws IOException {\n\n    /*using InputReader and BufferedReader class \n      to fill array of characters from user input.\n    */\n    InputStreamReader ir = new InputStreamReader(System.in);\n    BufferedReader br = new BufferedReader(ir);\n    //Take size of array from user.\n    System.out.println(\"Please enter size of array\")\n    int n = Integer.parseInt(br.readLine());\n    //Declare a character array\n    char arr[] = new char[n];\n    //loop to take input of array elements\n    for(int i=0; i &lt; n; i++){\n    arr[i] = (char)br.read();\n    }   \n\n   }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9039741,"reputation":11,"user_id":6734389,"display_name":"MridulB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479687559,"creation_date":1471601467,"answer_id":39036388,"question_id":13878437,"body_markdown":"//more fun ...............\r\n\r\n    public class test3 {\r\n\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tchar crr[]=new char[100];\r\n    \t\tScanner inputs=new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;enter the string&quot;);\r\n    \t\tfor(int i=0;i&lt;10;i++)\r\n    \t\t{\r\n    \t\t\tchar c=inputs.next().charAt(0);\r\n    \t\t\tcrr[i]= c;\r\n    \t\t}\r\n    \t\tfor(int i=0;i&lt;10;i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot; &quot; +crr[i]);\r\n    \t\t}\r\n    \t}\r\n    }\r\n","title":"How to fill an array of characters from user input?","body":"<p>//more fun ...............</p>\n\n<pre><code>public class test3 {\n\n    public static void main(String args[])\n    {\n        char crr[]=new char[100];\n        Scanner inputs=new Scanner(System.in);\n        System.out.println(\"enter the string\");\n        for(int i=0;i&lt;10;i++)\n        {\n            char c=inputs.next().charAt(0);\n            crr[i]= c;\n        }\n        for(int i=0;i&lt;10;i++)\n        {\n            System.out.println(\" \" +crr[i]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16839651,"reputation":79,"user_id":12175315,"display_name":"Ritu Raj Shrivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571762224,"creation_date":1571762224,"answer_id":58508770,"question_id":13878437,"body_markdown":"You can&#39;t take input directly in charArray using nextChar() because there is no nextChar() in Java. You first have to take input in String then fetch character one by one.\r\n```\r\nimport java.util.*;\r\nclass CharArray{\r\n    public static void main(String[] args)\r\n    { \r\n    Scanner scan=new Scanner(System.in); \r\n\r\n    char ch[]=new char[11];\r\n\r\n    String s = scan.nextLine();\r\n\r\n    for(int i=0;i&lt;=10;i++)  \r\n    ch[i]=s.charAt(i);  //Input in CharArray\r\n\r\n    System.out.println(&quot;Output of CharArray: &quot;);\r\n        for(int i=0;i&lt;=10;i++) \r\n        System.out.print(ch[i]); //Output of CharArray\r\n    }\r\n}\r\n```","title":"How to fill an array of characters from user input?","body":"<p>You can't take input directly in charArray using nextChar() because there is no nextChar() in Java. You first have to take input in String then fetch character one by one.</p>\n\n<pre><code>import java.util.*;\nclass CharArray{\n    public static void main(String[] args)\n    { \n    Scanner scan=new Scanner(System.in); \n\n    char ch[]=new char[11];\n\n    String s = scan.nextLine();\n\n    for(int i=0;i&lt;=10;i++)  \n    ch[i]=s.charAt(i);  //Input in CharArray\n\n    System.out.println(\"Output of CharArray: \");\n        for(int i=0;i&lt;=10;i++) \n        System.out.print(ch[i]); //Output of CharArray\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18172238,"reputation":1,"user_id":15130201,"display_name":"Rakesh Kumaar RK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612282872,"creation_date":1612269278,"answer_id":66009831,"question_id":13878437,"body_markdown":"this will not work if user print input in form of string like as...\r\n\r\n    5 8\r\n    ########\r\n    #..#...#\r\n    ####.#.#\r\n    #..#...#\r\n    ########\r\n\r\n**in this if we use `char c=inputs.next().charAt(0);` it will take only first of every string ,**\r\n\r\nIt will be better to use \r\n        \r\n        *Scanner s = new Scanner(System.in);\r\n\t\tint n = s.nextInt();\r\n\t\tint m = s.nextInt();\r\n\t\tchar[][] in = new char[m+1][n+1];\r\n\t\tfor(int i = 0;i&lt;n;i++) {\r\n\t\t\tString st = s.next();\r\n\t\t\tfor(int j = 0;j&lt;m;j++) {\r\n\t\t\t\tin[i][j] = st.charAt(j);\r\n\t\t\t}\r\n\t\t}*","title":"How to fill an array of characters from user input?","body":"<p>this will not work if user print input in form of string like as...</p>\n<pre><code>5 8\n########\n#..#...#\n####.#.#\n#..#...#\n########\n</code></pre>\n<p><strong>in this if we use <code>char c=inputs.next().charAt(0);</code> it will take only first of every string ,</strong></p>\n<p>It will be better to use</p>\n<pre><code>    *Scanner s = new Scanner(System.in);\n    int n = s.nextInt();\n    int m = s.nextInt();\n    char[][] in = new char[m+1][n+1];\n    for(int i = 0;i&lt;n;i++) {\n        String st = s.next();\n        for(int j = 0;j&lt;m;j++) {\n            in[i][j] = st.charAt(j);\n        }\n    }*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22303581,"reputation":1,"user_id":16528526,"display_name":"Malla Vivek Satya Sai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636092569,"creation_date":1636092569,"answer_id":69849215,"question_id":13878437,"body_markdown":"        class charinarray\r\n        {\r\n        public static void main(String args[])\r\n        {\r\n        Scanner input=new Scanner(System.in);\r\n        System.out.println(&quot;Please enter char elements...&quot;);\r\n        char[] a=input.next().toCharArray();\r\n        System.out.println(&quot;Array char elements are : &quot;);\r\n        for (int i=0;i&lt;a.length;i++)\r\n        {\r\n            System.out.println(a[i]);\r\n        }\r\n        }\r\n        }","title":"How to fill an array of characters from user input?","body":"<pre><code>    class charinarray\n    {\n    public static void main(String args[])\n    {\n    Scanner input=new Scanner(System.in);\n    System.out.println(&quot;Please enter char elements...&quot;);\n    char[] a=input.next().toCharArray();\n    System.out.println(&quot;Array char elements are : &quot;);\n    for (int i=0;i&lt;a.length;i++)\n    {\n        System.out.println(a[i]);\n    }\n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":2004904,"reputation":61,"user_id":1795093,"accept_rate":100,"display_name":"Aura"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79236,"favorite_count":0,"down_vote_count":7,"up_vote_count":6,"accepted_answer_id":13878599,"answer_count":9,"score":-1,"last_activity_date":1636092569,"creation_date":1355487037,"question_id":13878437,"body_markdown":"I googled it a lot and found nothing!\r\nCould someone help me with filling an array of characters from user input, please?","title":"How to fill an array of characters from user input?","body":"<p>I googled it a lot and found nothing!\nCould someone help me with filling an array of characters from user input, please?</p>\n"},{"tags":["java","visual-studio-code","ubuntu-20.04"],"comments":[{"owner":{"account_id":11757634,"reputation":415,"user_id":12793703,"display_name":"Ismayil Karimli"},"score":1,"creation_date":1636025349,"post_id":69836447,"comment_id":123450295,"body_markdown":"have you updated the pom.xml? in vscode right click to the pom.xml and select update project","body":"have you updated the pom.xml? in vscode right click to the pom.xml and select update project"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1636033506,"post_id":69836447,"comment_id":123453510,"body_markdown":"The modified POM file needs to be reprocessed by Maven. VSCode should have a mechanism for invoking that.","body":"The modified POM file needs to be reprocessed by Maven. VSCode should have a mechanism for invoking that."},{"owner":{"account_id":23228203,"reputation":3,"user_id":17319412,"display_name":"chungpro"},"score":0,"creation_date":1636038012,"post_id":69836447,"comment_id":123455717,"body_markdown":"I&#39;ve updated project but I still can&#39;t import","body":"I&#39;ve updated project but I still can&#39;t import"}],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636092328,"creation_date":1636092328,"answer_id":69849188,"question_id":69836447,"body_markdown":"Turn to `\\User folder\\.m2\\repository`, delete the existed `javax.servlet.jar` in your machine and `Clean java language server workspace` from Command Palette in VS Code.\r\n\r\n**Command Palette--&gt; Maven: Add a dependency--&gt;** search with `javax.servlet`, click\r\n\r\n     javax.servlet-api javax.servlet\r\n\r\nReflecting to `pom.xml` is adding the following configuration:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\nThen there&#39;ll be notification popping up, click **Now** to download the needed jar. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis works for my project and no `package javax.servlet does not exist` shows. Please have a try.\r\n\r\n  [1]: https://i.stack.imgur.com/S9kTr.png","title":"I can&#39;t import java.servlet in vscode","body":"<p>Turn to <code>\\User folder\\.m2\\repository</code>, delete the existed <code>javax.servlet.jar</code> in your machine and <code>Clean java language server workspace</code> from Command Palette in VS Code.</p>\n<p><strong>Command Palette--&gt; Maven: Add a dependency--&gt;</strong> search with <code>javax.servlet</code>, click</p>\n<pre><code> javax.servlet-api javax.servlet\n</code></pre>\n<p>Reflecting to <code>pom.xml</code> is adding the following configuration:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>Then there'll be notification popping up, click <strong>Now</strong> to download the needed jar.</p>\n<p><a href=\"https://i.stack.imgur.com/S9kTr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S9kTr.png\" alt=\"enter image description here\" /></a></p>\n<p>This works for my project and no <code>package javax.servlet does not exist</code> shows. Please have a try.</p>\n"}],"owner":{"account_id":23228203,"reputation":3,"user_id":17319412,"display_name":"chungpro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5074,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69849188,"answer_count":1,"score":0,"last_activity_date":1636092328,"creation_date":1636015367,"question_id":69836447,"body_markdown":"I&#39;ve add javax.servlet-api-3.1.0.jar in maven dependencies.\r\n&lt;br&gt; But I can&#39;t import javax.servlet.\r\n&lt;br&gt; My code\r\n\r\n\r\n   \r\n\r\n         package com.example;\r\n\r\n        import java.io.IOException;\r\n        import java.io.PrintWriter;\r\n\r\n        import javax.servlet.ServletException;\r\n        import javax.servlet.http.HttpServlet;\r\n        import javax.servlet.http.HttpServletRequest;\r\n        import javax.servlet.http.HttpServletResponse;\r\n        public class servlet extends HttpServlet{\r\n            private static final long serialVersionUID = 1L;\r\n\r\n            public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n        \r\n                response.setContentType(&quot;text/html&quot;);\r\n        \r\n                PrintWriter out = response.getWriter();\r\n                out.println(&quot;./api works. Try ./api/getMessage&quot;);\r\n            }\r\n        }\r\n\r\n\r\nin pom.xml\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nerror \r\n\r\n    package javax.servlet does not exist","title":"I can&#39;t import java.servlet in vscode","body":"<p>I've add javax.servlet-api-3.1.0.jar in maven dependencies.\n<br> But I can't import javax.servlet.\n<br> My code</p>\n<pre><code>     package com.example;\n\n    import java.io.IOException;\n    import java.io.PrintWriter;\n\n    import javax.servlet.ServletException;\n    import javax.servlet.http.HttpServlet;\n    import javax.servlet.http.HttpServletRequest;\n    import javax.servlet.http.HttpServletResponse;\n    public class servlet extends HttpServlet{\n        private static final long serialVersionUID = 1L;\n\n        public void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n    \n            response.setContentType(&quot;text/html&quot;);\n    \n            PrintWriter out = response.getWriter();\n            out.println(&quot;./api works. Try ./api/getMessage&quot;);\n        }\n    }\n</code></pre>\n<p>in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>error</p>\n<pre><code>package javax.servlet does not exist\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","many-to-many"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1648977734,"post_id":69847581,"comment_id":126755325,"body_markdown":"You have to up vote the answer if it is helpfull","body":"You have to up vote the answer if it is helpfull"}],"answers":[{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636092308,"creation_date":1636092308,"answer_id":69849186,"question_id":69847581,"body_markdown":"Mistake in Hibernate `Relational Mapping @ManyToMany`. You join base table but not join with child table. If you want to put all `Cascade Type` don&#39;t put `CascadeType.DETACH`, `CascadeType.MERGE`, `CascadeType.PERSIST`, `CascadeType.REFRESH` just put `CascadeType.ALL`\r\n\r\nHere down is modified code:\r\n\r\n**Article**\r\n```\r\n@Entity\r\n@Table(name = &quot;ARTICLES&quot;, schema = &quot;NEWS_SCHEMA&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Article {\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;TITLE&quot;)\r\n    private String title;\r\n\r\n    @Column(name = &quot;CONTENT&quot;)\r\n    private byte[] content;\r\n\r\n    @Column(name = &quot;CATEGORY_ID&quot;)\r\n    int categoryId;\r\n\r\n    \r\n    @ManyToMany(cascade = { CascadeType.ALL })\r\n    @JoinTable(\r\n        name = &quot;Article_Authors&quot;, \r\n        joinColumns = { @JoinColumn(name = &quot;Artical_id&quot;) }, \r\n        inverseJoinColumns = { @JoinColumn(name = &quot;Author_id&quot;) }\r\n    private List&lt;Author&gt; author;\r\n\r\n\r\n    @ManyToMany(cascade = { CascadeType.ALL })\r\n    @JoinTable(\r\n        name = &quot;Article_Categories&quot;, \r\n        joinColumns = { @JoinColumn(name = &quot;Artical_id&quot;) }, \r\n        inverseJoinColumns = { @JoinColumn(name = &quot;Category_id&quot;) }\r\n    private List&lt;Category&gt; category;\r\n\r\n    // getter and setter\r\n}\r\n```\r\n\r\n**Author**\r\n```\r\n@Entity\r\n@Table(name = &quot;AUTHORS&quot;,schema = &quot;NEWS_SCHEMA&quot;)\r\npublic class Author {\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;SURNAME&quot;)\r\n    private String surname;\r\n\r\n    @Column(name = &quot;DATE_OF_BIRTH&quot;)\r\n    private Date dob;\r\n\r\n    @OneToMany(mappedBy = &quot;author&quot;)\r\n    private List&lt;Article&gt; articles;\r\n\r\n    // getter and setter\r\n}\r\n```\r\n\r\n**Category**\r\n```\r\n@Entity\r\n@Table(name = &quot;CATEGORIES&quot;, schema = &quot;NEWS_SCHEMA&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Category {\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    private String name;\r\n\r\n    //categories -&gt; название листа в Article\r\n    @ManyToMany(mappedBy = &quot;category&quot;)\r\n    private List&lt;Article&gt; articles;\r\n\r\n    // getter and setter\r\n}\r\n```","title":"Hibernate GenerationTarget encountered exception accepting command","body":"<p>Mistake in Hibernate <code>Relational Mapping @ManyToMany</code>. You join base table but not join with child table. If you want to put all <code>Cascade Type</code> don't put <code>CascadeType.DETACH</code>, <code>CascadeType.MERGE</code>, <code>CascadeType.PERSIST</code>, <code>CascadeType.REFRESH</code> just put <code>CascadeType.ALL</code></p>\n<p>Here down is modified code:</p>\n<p><strong>Article</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;ARTICLES&quot;, schema = &quot;NEWS_SCHEMA&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Article {\n    @Id\n    @Column(name = &quot;ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;TITLE&quot;)\n    private String title;\n\n    @Column(name = &quot;CONTENT&quot;)\n    private byte[] content;\n\n    @Column(name = &quot;CATEGORY_ID&quot;)\n    int categoryId;\n\n    \n    @ManyToMany(cascade = { CascadeType.ALL })\n    @JoinTable(\n        name = &quot;Article_Authors&quot;, \n        joinColumns = { @JoinColumn(name = &quot;Artical_id&quot;) }, \n        inverseJoinColumns = { @JoinColumn(name = &quot;Author_id&quot;) }\n    private List&lt;Author&gt; author;\n\n\n    @ManyToMany(cascade = { CascadeType.ALL })\n    @JoinTable(\n        name = &quot;Article_Categories&quot;, \n        joinColumns = { @JoinColumn(name = &quot;Artical_id&quot;) }, \n        inverseJoinColumns = { @JoinColumn(name = &quot;Category_id&quot;) }\n    private List&lt;Category&gt; category;\n\n    // getter and setter\n}\n</code></pre>\n<p><strong>Author</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;AUTHORS&quot;,schema = &quot;NEWS_SCHEMA&quot;)\npublic class Author {\n    @Id\n    @Column(name = &quot;ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    @Column(name = &quot;SURNAME&quot;)\n    private String surname;\n\n    @Column(name = &quot;DATE_OF_BIRTH&quot;)\n    private Date dob;\n\n    @OneToMany(mappedBy = &quot;author&quot;)\n    private List&lt;Article&gt; articles;\n\n    // getter and setter\n}\n</code></pre>\n<p><strong>Category</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;CATEGORIES&quot;, schema = &quot;NEWS_SCHEMA&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Category {\n    @Id\n    @Column(name = &quot;ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    //categories -&gt; название листа в Article\n    @ManyToMany(mappedBy = &quot;category&quot;)\n    private List&lt;Article&gt; articles;\n\n    // getter and setter\n}\n</code></pre>\n"}],"owner":{"account_id":18085962,"reputation":19,"user_id":15626126,"display_name":"Smetana Po Aktsii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69849186,"answer_count":1,"score":1,"last_activity_date":1636092308,"creation_date":1636074216,"question_id":69847581,"body_markdown":"\r\nWhy am I getting this error?\r\n```\r\no.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table &quot;articles_categories_in_article&quot; add constraint &quot;FKpk5bkwls4ku7l2y0cswxp312a&quot; foreign key (&quot;articles_in_category_id&quot;) references &quot;news_schema&quot;.&quot;articles&quot;&quot; via JDBC Statement\r\n```\r\n\r\nI think the problem is related to @ManyToMany annotation, but I don&#39;t know how I can fix it\r\n\r\nStack trace of Exception:\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table &quot;news_schema&quot;.&quot;articles&quot; add constraint &quot;FKglt1f3axh7kw8vys00xpb531c&quot; foreign key (&quot;author_id&quot;) references &quot;news_schema&quot;.&quot;authors&quot;&quot; via JDBC Statement\r\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:374) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.12.jar:5.3.12]\r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.12.jar:5.3.12]\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at com.dataart.newsportal.NewsPortalApplication.main(NewsPortalApplication.java:10) ~[classes/:na]\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Схема &quot;news_schema&quot; не найдена\r\nSchema &quot;news_schema&quot; not found; SQL statement:\r\nalter table &quot;news_schema&quot;.&quot;articles&quot; add constraint &quot;FKglt1f3axh7kw8vys00xpb531c&quot; foreign key (&quot;author_id&quot;) references &quot;news_schema&quot;.&quot;authors&quot; [90079-200]\r\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:576) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.getSchema(Parser.java:1194) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.getSchema(Parser.java:1200) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parseAlterTable(Parser.java:7684) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parseAlter(Parser.java:6983) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parsePrepared(Parser.java:887) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\r\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    ... 34 common frames omitted\r\n\r\n2021-11-05 03:54:52.415  WARN 9400 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table &quot;articles_categories_in_article&quot; add constraint &quot;FKo5907w25mugd5m7isl98gumyu&quot; foreign key (&quot;categories_in_article_id&quot;) references &quot;news_schema&quot;.&quot;categories&quot;&quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table &quot;articles_categories_in_article&quot; add constraint &quot;FKo5907w25mugd5m7isl98gumyu&quot; foreign key (&quot;categories_in_article_id&quot;) references &quot;news_schema&quot;.&quot;categories&quot;&quot; via JDBC Statement\r\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:374) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.12.jar:5.3.12]\r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.12.jar:5.3.12]\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at com.dataart.newsportal.NewsPortalApplication.main(NewsPortalApplication.java:10) ~[classes/:na]\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Схема &quot;news_schema&quot; не найдена\r\nSchema &quot;news_schema&quot; not found; SQL statement:\r\nalter table &quot;articles_categories_in_article&quot; add constraint &quot;FKo5907w25mugd5m7isl98gumyu&quot; foreign key (&quot;categories_in_article_id&quot;) references &quot;news_schema&quot;.&quot;categories&quot; [90079-200]\r\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:576) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.getSchema(Parser.java:1194) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.getSchema(Parser.java:1200) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parseReferences(Parser.java:8297) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parseAlterTableAddConstraintIf(Parser.java:8270) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parseAlterTable(Parser.java:7686) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parseAlter(Parser.java:6983) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parsePrepared(Parser.java:887) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\r\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    ... 34 common frames omitted\r\n\r\n2021-11-05 03:54:52.416  WARN 9400 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table &quot;articles_categories_in_article&quot; add constraint &quot;FKpk5bkwls4ku7l2y0cswxp312a&quot; foreign key (&quot;articles_in_category_id&quot;) references &quot;news_schema&quot;.&quot;articles&quot;&quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table &quot;articles_categories_in_article&quot; add constraint &quot;FKpk5bkwls4ku7l2y0cswxp312a&quot; foreign key (&quot;articles_in_category_id&quot;) references &quot;news_schema&quot;.&quot;articles&quot;&quot; via JDBC Statement\r\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:374) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\r\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.12.jar:5.3.12]\r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.12.jar:5.3.12]\r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\r\n    at com.dataart.newsportal.NewsPortalApplication.main(NewsPortalApplication.java:10) ~[classes/:na]\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Схема &quot;news_schema&quot; не найдена\r\nSchema &quot;news_schema&quot; not found; SQL statement:\r\nalter table &quot;articles_categories_in_article&quot; add constraint &quot;FKpk5bkwls4ku7l2y0cswxp312a&quot; foreign key (&quot;articles_in_category_id&quot;) references &quot;news_schema&quot;.&quot;articles&quot; [90079-200]\r\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:576) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.getSchema(Parser.java:1194) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.getSchema(Parser.java:1200) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parseReferences(Parser.java:8297) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parseAlterTableAddConstraintIf(Parser.java:8270) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parseAlterTable(Parser.java:7686) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parseAlter(Parser.java:6983) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parsePrepared(Parser.java:887) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\r\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\r\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n```\r\n\r\nEntity classes:\r\n```java   \r\n \r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;ARTICLES&quot;, schema = &quot;NEWS_SCHEMA&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n\r\npublic class Article {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;TITLE&quot;)\r\n    private String title;\r\n\r\n    @Column(name = &quot;CONTENT&quot;)\r\n    private byte[] content;\r\n\r\n    @Column(name = &quot;CATEGORY_ID&quot;)\r\n    int categoryId;\r\n\r\n    \r\n    @ManyToMany(cascade = {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH})\r\n    @JoinColumn(name = &quot;CATEGORY_ID&quot;)\r\n    private List&lt;Category&gt; categoriesInArticle;\r\n\r\n    @ManyToOne(cascade = {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH})\r\n    private Author author;\r\n\r\n\r\n}\r\n\r\nimport javax.persistence.*;\r\nimport java.sql.Date;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;AUTHORS&quot;,schema = &quot;NEWS_SCHEMA&quot;)\r\n\r\npublic class Author {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;SURNAME&quot;)\r\n    private String surname;\r\n\r\n    @Column(name = &quot;DATE_OF_BIRTH&quot;)\r\n    private Date dob;\r\n\r\n    @OneToMany(mappedBy = &quot;author&quot;)\r\n    private List&lt;Article&gt; articlesOfAuthor;\r\n}\r\n\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;CATEGORIES&quot;, schema = &quot;NEWS_SCHEMA&quot;)\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n\r\npublic class Category {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;NAME&quot;)\r\n    private String name;\r\n\r\n    //categories -&gt; название листа в Article\r\n    @ManyToMany(mappedBy = &quot;categoriesInArticle&quot;)\r\n    private List&lt;Article&gt; articlesInCategory;\r\n\r\n    public Category(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n","title":"Hibernate GenerationTarget encountered exception accepting command","body":"<p>Why am I getting this error?</p>\n<pre><code>o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table &quot;articles_categories_in_article&quot; add constraint &quot;FKpk5bkwls4ku7l2y0cswxp312a&quot; foreign key (&quot;articles_in_category_id&quot;) references &quot;news_schema&quot;.&quot;articles&quot;&quot; via JDBC Statement\n</code></pre>\n<p>I think the problem is related to @ManyToMany annotation, but I don't know how I can fix it</p>\n<p>Stack trace of Exception:</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table &quot;news_schema&quot;.&quot;articles&quot; add constraint &quot;FKglt1f3axh7kw8vys00xpb531c&quot; foreign key (&quot;author_id&quot;) references &quot;news_schema&quot;.&quot;authors&quot;&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:374) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\n    at com.dataart.newsportal.NewsPortalApplication.main(NewsPortalApplication.java:10) ~[classes/:na]\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Схема &quot;news_schema&quot; не найдена\nSchema &quot;news_schema&quot; not found; SQL statement:\nalter table &quot;news_schema&quot;.&quot;articles&quot; add constraint &quot;FKglt1f3axh7kw8vys00xpb531c&quot; foreign key (&quot;author_id&quot;) references &quot;news_schema&quot;.&quot;authors&quot; [90079-200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:576) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.getSchema(Parser.java:1194) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.getSchema(Parser.java:1200) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseAlterTable(Parser.java:7684) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseAlter(Parser.java:6983) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parsePrepared(Parser.java:887) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    ... 34 common frames omitted\n\n2021-11-05 03:54:52.415  WARN 9400 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table &quot;articles_categories_in_article&quot; add constraint &quot;FKo5907w25mugd5m7isl98gumyu&quot; foreign key (&quot;categories_in_article_id&quot;) references &quot;news_schema&quot;.&quot;categories&quot;&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table &quot;articles_categories_in_article&quot; add constraint &quot;FKo5907w25mugd5m7isl98gumyu&quot; foreign key (&quot;categories_in_article_id&quot;) references &quot;news_schema&quot;.&quot;categories&quot;&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:374) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\n    at com.dataart.newsportal.NewsPortalApplication.main(NewsPortalApplication.java:10) ~[classes/:na]\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Схема &quot;news_schema&quot; не найдена\nSchema &quot;news_schema&quot; not found; SQL statement:\nalter table &quot;articles_categories_in_article&quot; add constraint &quot;FKo5907w25mugd5m7isl98gumyu&quot; foreign key (&quot;categories_in_article_id&quot;) references &quot;news_schema&quot;.&quot;categories&quot; [90079-200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:576) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.getSchema(Parser.java:1194) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.getSchema(Parser.java:1200) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseReferences(Parser.java:8297) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseAlterTableAddConstraintIf(Parser.java:8270) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseAlterTable(Parser.java:7686) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseAlter(Parser.java:6983) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parsePrepared(Parser.java:887) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    ... 34 common frames omitted\n\n2021-11-05 03:54:52.416  WARN 9400 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table &quot;articles_categories_in_article&quot; add constraint &quot;FKpk5bkwls4ku7l2y0cswxp312a&quot; foreign key (&quot;articles_in_category_id&quot;) references &quot;news_schema&quot;.&quot;articles&quot;&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table &quot;articles_categories_in_article&quot; add constraint &quot;FKpk5bkwls4ku7l2y0cswxp312a&quot; foreign key (&quot;articles_in_category_id&quot;) references &quot;news_schema&quot;.&quot;articles&quot;&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:374) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.12.jar:5.3.12]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.6.jar:2.5.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.6.jar:2.5.6]\n    at com.dataart.newsportal.NewsPortalApplication.main(NewsPortalApplication.java:10) ~[classes/:na]\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Схема &quot;news_schema&quot; не найдена\nSchema &quot;news_schema&quot; not found; SQL statement:\nalter table &quot;articles_categories_in_article&quot; add constraint &quot;FKpk5bkwls4ku7l2y0cswxp312a&quot; foreign key (&quot;articles_in_category_id&quot;) references &quot;news_schema&quot;.&quot;articles&quot; [90079-200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:576) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.getSchema(Parser.java:1194) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.getSchema(Parser.java:1200) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseReferences(Parser.java:8297) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseAlterTableAddConstraintIf(Parser.java:8270) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseAlterTable(Parser.java:7686) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseAlter(Parser.java:6983) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parsePrepared(Parser.java:887) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n</code></pre>\n<p>Entity classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code> \nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;ARTICLES&quot;, schema = &quot;NEWS_SCHEMA&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n\npublic class Article {\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;TITLE&quot;)\n    private String title;\n\n    @Column(name = &quot;CONTENT&quot;)\n    private byte[] content;\n\n    @Column(name = &quot;CATEGORY_ID&quot;)\n    int categoryId;\n\n    \n    @ManyToMany(cascade = {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH})\n    @JoinColumn(name = &quot;CATEGORY_ID&quot;)\n    private List&lt;Category&gt; categoriesInArticle;\n\n    @ManyToOne(cascade = {CascadeType.DETACH,CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REFRESH})\n    private Author author;\n\n\n}\n\nimport javax.persistence.*;\nimport java.sql.Date;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;AUTHORS&quot;,schema = &quot;NEWS_SCHEMA&quot;)\n\npublic class Author {\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    @Column(name = &quot;SURNAME&quot;)\n    private String surname;\n\n    @Column(name = &quot;DATE_OF_BIRTH&quot;)\n    private Date dob;\n\n    @OneToMany(mappedBy = &quot;author&quot;)\n    private List&lt;Article&gt; articlesOfAuthor;\n}\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;CATEGORIES&quot;, schema = &quot;NEWS_SCHEMA&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n\npublic class Category {\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    //categories -&gt; название листа в Article\n    @ManyToMany(mappedBy = &quot;categoriesInArticle&quot;)\n    private List&lt;Article&gt; articlesInCategory;\n\n    public Category(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636091275,"creation_date":1636091275,"answer_id":69849111,"question_id":69840597,"body_markdown":"You can get the priority of the test method being run using the `ITestResult` object in a method annotated with `@BeforeMethod`. Then depending on the priority, set an attribute which could be used in the actual test method.\r\n\r\n```java\r\n@BeforeMethod\r\npublic void beforeMethod(ITestContext ctx, ITestResult res) {\r\n    ITestNGMethod method = res.getMethod();\r\n    int num = (method.getPriority() == 1) ? sheetNum : sheetNum1;\r\n    ctx.setAttribute(&quot;sheetnum&quot;, num);\r\n}\r\n\r\n@Test(priority = 1) {\r\npublic void yourTest(ITestContext ctx) {\r\n    HSSFSheet s = newsheet((int) ctx.getAttribute(&quot;sheetnum&quot;);\r\n}\r\n```","title":"Write if else condition based on test execution order in TestNG","body":"<p>You can get the priority of the test method being run using the <code>ITestResult</code> object in a method annotated with <code>@BeforeMethod</code>. Then depending on the priority, set an attribute which could be used in the actual test method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeMethod\npublic void beforeMethod(ITestContext ctx, ITestResult res) {\n    ITestNGMethod method = res.getMethod();\n    int num = (method.getPriority() == 1) ? sheetNum : sheetNum1;\n    ctx.setAttribute(&quot;sheetnum&quot;, num);\n}\n\n@Test(priority = 1) {\npublic void yourTest(ITestContext ctx) {\n    HSSFSheet s = newsheet((int) ctx.getAttribute(&quot;sheetnum&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":14504045,"reputation":43,"user_id":10476299,"display_name":"Pratik Pathare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636091359,"creation_date":1636035071,"question_id":69840597,"body_markdown":"I am trying to execute a code in which I am stuck and landed in a question whether we can write an if else condition in java with respect to the execution order or priority number in TestNG.\r\n\r\nWhat I wanted to do is, \r\n\r\n    if(TestNGprioritynum==1){\r\n        HSSFSheet s = newsheet(sheetnum);\r\n    }\r\n    \r\n    if(TestNGprioritynum==2){\r\n        HSSFSheet s = newsheet(sheetnum1);\r\n    }\r\n\r\n`TestNGprioritynum` is not a class or any code. It is just an illustration of what I want to do. Is there any library inside TestNG or any third party tool or anything in Java which I can use to decide actions on condition with respect to priority of TestNG test cases? Any possible way to do this?","title":"Write if else condition based on test execution order in TestNG","body":"<p>I am trying to execute a code in which I am stuck and landed in a question whether we can write an if else condition in java with respect to the execution order or priority number in TestNG.</p>\n<p>What I wanted to do is,</p>\n<pre><code>if(TestNGprioritynum==1){\n    HSSFSheet s = newsheet(sheetnum);\n}\n\nif(TestNGprioritynum==2){\n    HSSFSheet s = newsheet(sheetnum1);\n}\n</code></pre>\n<p><code>TestNGprioritynum</code> is not a class or any code. It is just an illustration of what I want to do. Is there any library inside TestNG or any third party tool or anything in Java which I can use to decide actions on condition with respect to priority of TestNG test cases? Any possible way to do this?</p>\n"},{"tags":["java","spring-boot","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":0,"creation_date":1636222906,"post_id":69810455,"comment_id":123501276,"body_markdown":"could you provide a minimal, reproducible example?","body":"could you provide a minimal, reproducible example?"},{"owner":{"account_id":3299976,"reputation":426,"user_id":2776371,"display_name":"Jacob"},"score":0,"creation_date":1646564017,"post_id":69810455,"comment_id":126150264,"body_markdown":"Could you please help advise what was the issue and what fix was applied?","body":"Could you please help advise what was the issue and what fix was applied?"}],"owner":{"account_id":10880404,"reputation":1,"user_id":7999518,"display_name":"GH0ST"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636090685,"creation_date":1635856080,"question_id":69810455,"body_markdown":"I&#39;ve been using spring webclient to call multiple asynchrounous post calls to a rest a API. It seemed to work fine until I tried to update to `spring-boot-starter-webflux 2.4.5` from `2.3.4.RELEASE`. After I upgrade the thread seems to hang and I traced it down to \r\n```int r = tryAcquireShared(arg);``` in `AbstractQueuedSynchronizer` class where the &#39;r&#39; value is being set to -1 and then nothing happens after that. Any idea what could be happening?\r\n\r\n``` private Mono&lt;String&gt; getDetail(Details requestDetail) {\r\n        ...\r\n\r\n        return webClient.post()\r\n                .uri(apiPath)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .header(HttpHeaders.USER_AGENT, getUserAgent())\r\n                .body(Mono.just(new DetailsImpl.Builder().serial(requestDetail.getSerial()).build()), Details.class)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .onErrorResume(WebClientResponseException.class,\r\n                        ex -&gt; {\r\n                        \r\n                            return Mono.just(requestDetail.getSerial() + ex.getStatusCode());\r\n                        });\r\n    }\r\n\r\n    public Response getDetails(final Request request) throws Exception {\r\n        logger.debug(&quot;request: &quot; + request);\r\n        List&lt;Details&gt; DetailsList = request.getDetails();\r\n\r\n        Flux&lt;String&gt; flx = Flux.fromIterable(DetailsList)\r\n                .parallel()\r\n                .runOn(Schedulers.elastic())\r\n                .flatMap(this::getDetail).sequential();\r\n\r\n        List&lt;String&gt; allRawResults = Flux.merge(flx).collectList().block();\r\n\r\n        Response response = processResponse(allRawResults);\r\n\r\n        logger.debug(&quot;response: &quot; + response.getResponseMap());\r\n\r\n        return response;\r\n    }```\r\n\r\n","title":"reactor-core thread hanging when used with &lt;artifactId&gt;spring-boot-starter-webflux 2.4.5. works fine with 2.3.4.RELEASE","body":"<p>I've been using spring webclient to call multiple asynchrounous post calls to a rest a API. It seemed to work fine until I tried to update to <code>spring-boot-starter-webflux 2.4.5</code> from <code>2.3.4.RELEASE</code>. After I upgrade the thread seems to hang and I traced it down to\n<code>int r = tryAcquireShared(arg);</code> in <code>AbstractQueuedSynchronizer</code> class where the 'r' value is being set to -1 and then nothing happens after that. Any idea what could be happening?</p>\n<pre><code>        ...\n\n        return webClient.post()\n                .uri(apiPath)\n                .contentType(MediaType.APPLICATION_JSON)\n                .accept(MediaType.APPLICATION_JSON)\n                .header(HttpHeaders.USER_AGENT, getUserAgent())\n                .body(Mono.just(new DetailsImpl.Builder().serial(requestDetail.getSerial()).build()), Details.class)\n                .retrieve()\n                .bodyToMono(String.class)\n                .onErrorResume(WebClientResponseException.class,\n                        ex -&gt; {\n                        \n                            return Mono.just(requestDetail.getSerial() + ex.getStatusCode());\n                        });\n    }\n\n    public Response getDetails(final Request request) throws Exception {\n        logger.debug(&quot;request: &quot; + request);\n        List&lt;Details&gt; DetailsList = request.getDetails();\n\n        Flux&lt;String&gt; flx = Flux.fromIterable(DetailsList)\n                .parallel()\n                .runOn(Schedulers.elastic())\n                .flatMap(this::getDetail).sequential();\n\n        List&lt;String&gt; allRawResults = Flux.merge(flx).collectList().block();\n\n        Response response = processResponse(allRawResults);\n\n        logger.debug(&quot;response: &quot; + response.getResponseMap());\n\n        return response;\n    }```\n\n</code></pre>\n"},{"tags":["java","algorithm","math","data-structures"],"comments":[{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":1,"creation_date":1635349479,"post_id":69741612,"comment_id":123275722,"body_markdown":"Since you have an implementation that works and are asking an open-ended question about improvements, this question would be more suitable to [Code Review Stack Exchange](https://codereview.stackexchange.com/)","body":"Since you have an implementation that works and are asking an open-ended question about improvements, this question would be more suitable to <a href=\"https://codereview.stackexchange.com/\">Code Review Stack Exchange</a>"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1635368187,"post_id":69741612,"comment_id":123282674,"body_markdown":"What version of &#39;better&#39; are you looking for? Are you looking for efficiency or clarity/simplicity/elegance? Those things will definitely be in tension in your solution.","body":"What version of &#39;better&#39; are you looking for? Are you looking for efficiency or clarity/simplicity/elegance? Those things will definitely be in tension in your solution."}],"answers":[{"tags":[],"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635354830,"creation_date":1635354830,"answer_id":69742894,"question_id":69741612,"body_markdown":"The answer to this question is always the base 3 representation, which is also known as ternary.\r\n\r\nMy biggest suggestion is that there is no need for your `binary` data structure.  As you are finding the remainders, right there and then you can see whether the remainder is and add the appropriate powers of 3 to your answer.","title":"Powers of 3 for a given a positive integer A","body":"<p>The answer to this question is always the base 3 representation, which is also known as ternary.</p>\n<p>My biggest suggestion is that there is no need for your <code>binary</code> data structure.  As you are finding the remainders, right there and then you can see whether the remainder is and add the appropriate powers of 3 to your answer.</p>\n"},{"tags":[],"owner":{"account_id":16919646,"reputation":1,"user_id":12236734,"display_name":"sachin priyadarshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636090618,"creation_date":1636090618,"answer_id":69849047,"question_id":69741612,"body_markdown":"# For python folks, it can be useful\r\n\r\n\r\n\r\n\r\n\r\nclass Solution:\r\n    # @param A : integer\r\n    # @return a list of integers\r\n    def solve(self, A):\r\n        bits = []\r\n        solution = []\r\n    \r\n        while(A != 0):\r\n            bits.append(A % 3);\r\n            A = A // 3;\r\n        \r\n        for i in range(len(bits)):\r\n            if(bits[i] != 0):\r\n                tmp = 0;\r\n                while(tmp &lt; bits[i]):\r\n                    solution.append(pow(3, i));\r\n                    tmp = tmp + 1\r\n        return solution\r\n\r\n","title":"Powers of 3 for a given a positive integer A","body":"<h1>For python folks, it can be useful</h1>\n<p>class Solution:\n# @param A : integer\n# @return a list of integers\ndef solve(self, A):\nbits = []\nsolution = []</p>\n<pre><code>    while(A != 0):\n        bits.append(A % 3);\n        A = A // 3;\n    \n    for i in range(len(bits)):\n        if(bits[i] != 0):\n            tmp = 0;\n            while(tmp &lt; bits[i]):\n                solution.append(pow(3, i));\n                tmp = tmp + 1\n    return solution\n</code></pre>\n"}],"owner":{"account_id":8743439,"reputation":65,"user_id":6539714,"display_name":"Java Carzy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636090618,"creation_date":1635349163,"question_id":69741612,"body_markdown":"Given a positive integer A, return an array of minimum length whose elements are powers of 3 and have the sum of all the elements equal to A.\r\n\r\nFor input A = 13:\r\n * 3&lt;sup&gt;0&lt;/sup&gt; = 1, 3&lt;sup&gt;1&lt;/sup&gt; = 3, 3&lt;sup&gt;2&lt;/sup&gt; = 9.\r\n * 1 + 3 + 9 = 13.\r\n\r\nSo A = 13 can be represented as the sum of 1, 3 and 9.\r\n\r\nIs there a better way to solve this problem?\r\n\r\n    public static int[] getSolve(int A) {\r\n\r\n        List&lt;Integer&gt; binary = new ArrayList&lt;&gt;();\r\n        while (A &gt; 0) {\r\n            int r = A % 3;\r\n            binary.add(r);\r\n            A /= 3;\r\n        }\r\n\r\n      //  System.out.println(binary.toString());\r\n        List&lt;Integer&gt; res = new ArrayList&lt;&gt;();\r\n        int j = 0;\r\n        for (int i = 0; i &lt; binary.size(); i++) {\r\n            if (binary.get(i) != 0) {\r\n                while (j &lt; binary.get(i)) {\r\n                    res.add((int) Math.pow(3, i));\r\n                    j++;\r\n                }\r\n                j =0;\r\n            }\r\n        }\r\n        return res.stream().mapToInt(i -&gt; i).toArray();\r\n    }\r\n","title":"Powers of 3 for a given a positive integer A","body":"<p>Given a positive integer A, return an array of minimum length whose elements are powers of 3 and have the sum of all the elements equal to A.</p>\n<p>For input A = 13:</p>\n<ul>\n<li>3<sup>0</sup> = 1, 3<sup>1</sup> = 3, 3<sup>2</sup> = 9.</li>\n<li>1 + 3 + 9 = 13.</li>\n</ul>\n<p>So A = 13 can be represented as the sum of 1, 3 and 9.</p>\n<p>Is there a better way to solve this problem?</p>\n<pre><code>public static int[] getSolve(int A) {\n\n    List&lt;Integer&gt; binary = new ArrayList&lt;&gt;();\n    while (A &gt; 0) {\n        int r = A % 3;\n        binary.add(r);\n        A /= 3;\n    }\n\n  //  System.out.println(binary.toString());\n    List&lt;Integer&gt; res = new ArrayList&lt;&gt;();\n    int j = 0;\n    for (int i = 0; i &lt; binary.size(); i++) {\n        if (binary.get(i) != 0) {\n            while (j &lt; binary.get(i)) {\n                res.add((int) Math.pow(3, i));\n                j++;\n            }\n            j =0;\n        }\n    }\n    return res.stream().mapToInt(i -&gt; i).toArray();\n}\n</code></pre>\n"},{"tags":["java","android","algorithm","kotlin","data-structures"],"comments":[{"owner":{"account_id":36819,"reputation":4724,"user_id":105104,"display_name":"dvhh"},"score":0,"creation_date":1635992171,"post_id":69822215,"comment_id":123441940,"body_markdown":"Please show what were your effort until now, it would perhaps help other users to have a better understanding of you issue or what is the criteria you are expecting","body":"Please show what were your effort until now, it would perhaps help other users to have a better understanding of you issue or what is the criteria you are expecting"}],"answers":[{"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635931360,"creation_date":1635931360,"answer_id":69822388,"question_id":69822215,"body_markdown":"I&#39;m not sure if there is a more efficient way to do it but I think this would do it:\r\n\r\n    val filteredList = list.filter { it.segments.map { it.stops }.equals(filter.map { it.stops }) }","title":"Kotlin filtering nested lists with other list","body":"<p>I'm not sure if there is a more efficient way to do it but I think this would do it:</p>\n<pre><code>val filteredList = list.filter { it.segments.map { it.stops }.equals(filter.map { it.stops }) }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635931374,"creation_date":1635931374,"answer_id":69822391,"question_id":69822215,"body_markdown":"Here&#39;s a Kotlin solution if I understood your question correctly\r\n\r\n```\r\nfun main() {\r\n\r\n    // DATA SETUP \r\n    \r\n    val s1 = Segment(1)\r\n    val s2 = Segment(2)\r\n    val s3 = Segment(3)\r\n\r\n    val segmentList = listOf(s1,s2,s3)\r\n    val query = FlightRecommendationQuery(segmentList)\r\n\r\n    val f1 = Filter(1)\r\n    val f2 = Filter(9999)\r\n    val f3 = Filter(3)\r\n\r\n    val filterList = listOf(f1,f2,f3)\r\n    // END OF DATA SETUP \r\n    \r\n    // Here we do the filtration\r\n    val filteredSegments = mutableListOf&lt;Segment&gt;()\r\n    for(segmentIndex in query.segments.indices) {\r\n        // We use indices concept from Kotlin to get the items in the same \r\n        // position from both lists\r\n        val segment = query.segments[segmentIndex]\r\n        val filter = filterList[segmentIndex]\r\n\r\n        if(segment.stops == filter.stops) filteredSegments.add(segment)\r\n    }\r\n\r\n    //Filtered segments now contains the necessary data\r\n    //Will print [Segment(stops=1), Segment(stops=3)] in this case\r\n    //Use this list of segments to create a new FlightRecommendationQuery\r\n    println(filteredSegments)\r\n}\r\n```","title":"Kotlin filtering nested lists with other list","body":"<p>Here's a Kotlin solution if I understood your question correctly</p>\n<pre><code>fun main() {\n\n    // DATA SETUP \n    \n    val s1 = Segment(1)\n    val s2 = Segment(2)\n    val s3 = Segment(3)\n\n    val segmentList = listOf(s1,s2,s3)\n    val query = FlightRecommendationQuery(segmentList)\n\n    val f1 = Filter(1)\n    val f2 = Filter(9999)\n    val f3 = Filter(3)\n\n    val filterList = listOf(f1,f2,f3)\n    // END OF DATA SETUP \n    \n    // Here we do the filtration\n    val filteredSegments = mutableListOf&lt;Segment&gt;()\n    for(segmentIndex in query.segments.indices) {\n        // We use indices concept from Kotlin to get the items in the same \n        // position from both lists\n        val segment = query.segments[segmentIndex]\n        val filter = filterList[segmentIndex]\n\n        if(segment.stops == filter.stops) filteredSegments.add(segment)\n    }\n\n    //Filtered segments now contains the necessary data\n    //Will print [Segment(stops=1), Segment(stops=3)] in this case\n    //Use this list of segments to create a new FlightRecommendationQuery\n    println(filteredSegments)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635932724,"creation_date":1635932724,"answer_id":69822675,"question_id":69822215,"body_markdown":"You can do this by [zipping](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip.html) `segments` and `filter` and checking if [all](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/all.html) of them are equal:\r\n\r\n```kotlin\r\nlist.filter { query -&gt;\r\n    (query.segments zip filter)\r\n        .all { it.first.stops == it.second.stops }\r\n}\r\n```","title":"Kotlin filtering nested lists with other list","body":"<p>You can do this by <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip.html\" rel=\"nofollow noreferrer\">zipping</a> <code>segments</code> and <code>filter</code> and checking if <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/all.html\" rel=\"nofollow noreferrer\">all</a> of them are equal:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>list.filter { query -&gt;\n    (query.segments zip filter)\n        .all { it.first.stops == it.second.stops }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18280013,"reputation":9775,"user_id":13308991,"display_name":"Arpit Shukla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635933267,"creation_date":1635933267,"answer_id":69822795,"question_id":69822215,"body_markdown":"Another way:\r\n```kotlin\r\nlist.filter { query -&gt;\r\n    filter.indices.all { filter[it].stops == query.segments[it].stops }\r\n}\r\n```\r\n`all` returns true if all the elements of list match the given predicate","title":"Kotlin filtering nested lists with other list","body":"<p>Another way:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>list.filter { query -&gt;\n    filter.indices.all { filter[it].stops == query.segments[it].stops }\n}\n</code></pre>\n<p><code>all</code> returns true if all the elements of list match the given predicate</p>\n"}],"owner":{"account_id":17936402,"reputation":764,"user_id":13032644,"display_name":"imn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69822795,"answer_count":4,"score":0,"last_activity_date":1636089411,"creation_date":1635930585,"question_id":69822215,"body_markdown":"I have a list like this:\r\n\r\n    val list = List&lt;FlightRecommendationQuery&gt;\r\n\r\nin that:\r\n\r\n    data class FlightRecommendationQuery(\r\n     val segments: List&lt;Segment&gt;\r\n    )\r\n\r\n    data class Segment(\r\n     val stops: Int?\r\n    )\r\n\r\nI have another list with size same as segments size in FlightRecommendationQuery called filter:\r\n\r\n    val filter = List&lt;Filter&gt;\r\n\r\n    data class Filter(\r\n     val stops: Int?\r\n    )\r\n\r\nI want to filter &#39;list&#39; when filter&#39;s stops are equal to each segments in list. Here, size of  list &#39;filter&#39; and size of &#39;segments&#39; of FlightRecommendationQuery are same.\r\n\r\n\r\n\r\nUpdate: I concluded with this solution:\r\n\r\n    list.filter{query-&gt;\r\n     filter.indices.all{\r\n       if(filter[it].stops==null) true\r\n        else\r\n       filter[it].stops==query.segments[it].stops\r\n     }\r\n    }","title":"Kotlin filtering nested lists with other list","body":"<p>I have a list like this:</p>\n<pre><code>val list = List&lt;FlightRecommendationQuery&gt;\n</code></pre>\n<p>in that:</p>\n<pre><code>data class FlightRecommendationQuery(\n val segments: List&lt;Segment&gt;\n)\n\ndata class Segment(\n val stops: Int?\n)\n</code></pre>\n<p>I have another list with size same as segments size in FlightRecommendationQuery called filter:</p>\n<pre><code>val filter = List&lt;Filter&gt;\n\ndata class Filter(\n val stops: Int?\n)\n</code></pre>\n<p>I want to filter 'list' when filter's stops are equal to each segments in list. Here, size of  list 'filter' and size of 'segments' of FlightRecommendationQuery are same.</p>\n<p>Update: I concluded with this solution:</p>\n<pre><code>list.filter{query-&gt;\n filter.indices.all{\n   if(filter[it].stops==null) true\n    else\n   filter[it].stops==query.segments[it].stops\n }\n}\n</code></pre>\n"},{"tags":["java","google-drive-api","multipartform-data"],"comments":[{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1591002925,"post_id":62102721,"comment_id":109882294,"body_markdown":"Does this answer your question? [Google Drive api Java - is my large multipart upload complete?](https://stackoverflow.com/questions/59794970/google-drive-api-java-is-my-large-multipart-upload-complete)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59794970/google-drive-api-java-is-my-large-multipart-upload-complete\">Google Drive api Java - is my large multipart upload complete?</a>"},{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":0,"creation_date":1591016684,"post_id":62102721,"comment_id":109888702,"body_markdown":"@ Rafa Guillermo the code in my question was taken from your link. It explains how to do multipart upload but it dosen&#39;t explain Two Things. 1) How to pause/cancel the upload with user interaction 2) How to resume upload from where my app stopped if I were to forcefully terminate the app or cancel the upload(or even how to cancel?)","body":"@ Rafa Guillermo the code in my question was taken from your link. It explains how to do multipart upload but it dosen&#39;t explain Two Things. 1) How to pause/cancel the upload with user interaction 2) How to resume upload from where my app stopped if I were to forcefully terminate the app or cancel the upload(or even how to cancel?)"},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1591017429,"post_id":62102721,"comment_id":109889088,"body_markdown":"You should break your question down into two questions: how to resume an upload and how to pauce the upload via user interaction. These are two distinct questions and would be better answered separately. Refer to the [how to ask](https://stackoverflow.com/help/how-to-ask) guidelines when posting questions.","body":"You should break your question down into two questions: how to resume an upload and how to pauce the upload via user interaction. These are two distinct questions and would be better answered separately. Refer to the <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> guidelines when posting questions."},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1591017511,"post_id":62102721,"comment_id":109889136,"body_markdown":"Though, it is worth taking a look at the [upload file data](https://developers.google.com/drive/api/v3/manage-uploads#uploading) documentation where it specifys how to use the `Content-Range` header. (Add a `Content-Range` header to indicate that the current position in the file is unknown. For example, set the `Content-Range` to `*/2000000` if your total file length is 2,000,000 bytes. If you don&#39;t know the full size of the file, set the `Content-Range` to `*/*`.)","body":"Though, it is worth taking a look at the <a href=\"https://developers.google.com/drive/api/v3/manage-uploads#uploading\" rel=\"nofollow noreferrer\">upload file data</a> documentation where it specifys how to use the <code>Content-Range</code> header. (Add a <code>Content-Range</code> header to indicate that the current position in the file is unknown. For example, set the <code>Content-Range</code> to <code>*&#47;2000000</code> if your total file length is 2,000,000 bytes. If you don&#39;t know the full size of the file, set the <code>Content-Range</code> to <code>*&#47;*</code>.)"},{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":0,"creation_date":1591020046,"post_id":62102721,"comment_id":109890540,"body_markdown":"Yes you are right about breaking my question into 2 parts but maybe the answer&#39;s could be very short and easily answered in code. About Content-Range header that&#39;s what I have posted in my code . I have read the documentation about it and am not sure how to pass these values into my upload they just explain it using their HttpClient but not using V3 library.","body":"Yes you are right about breaking my question into 2 parts but maybe the answer&#39;s could be very short and easily answered in code. About Content-Range header that&#39;s what I have posted in my code . I have read the documentation about it and am not sure how to pass these values into my upload they just explain it using their HttpClient but not using V3 library."},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1591092683,"post_id":62102721,"comment_id":109917924,"body_markdown":"What is the issue with using the HttpClient? The documentation is pretty extensive explaining [how to do this](https://developers.google.com/drive/api/v3/manage-uploads#send_the_initial_request) and it says [here](https://developers.google.com/api-client-library/java/google-api-java-client/media-upload#implementation) that you can use the resumable media upload feature without the service-specific generated libraries.","body":"What is the issue with using the HttpClient? The documentation is pretty extensive explaining <a href=\"https://developers.google.com/drive/api/v3/manage-uploads#send_the_initial_request\" rel=\"nofollow noreferrer\">how to do this</a> and it says <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/media-upload#implementation\" rel=\"nofollow noreferrer\">here</a> that you can use the resumable media upload feature without the service-specific generated libraries."}],"answers":[{"tags":[],"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636088927,"creation_date":1591112006,"answer_id":62155631,"question_id":62102721,"body_markdown":"While answering multiple questions in one answer isn&#39;t normally appropriate for Stack Overflow, it seems that these are all closely linked and so will give an overview of resumable uploads and in doing so attempt to address your three points:\r\n&gt; - How does one get total bytes already uploaded to Drive\r\n&gt; - How to use the value in the Content-Range Header\r\n&gt; - How to pause a resumable upload\r\n\r\n___\r\n\r\nFrom Google&#39;s documentation on [Direct and Resumable Media Uploads](https://developers.google.com/api-client-library/java/google-api-java-client/media-upload) on ther Java API Client Library documentation:\r\n\r\n&gt; ### Implementation details\r\n&gt;\r\n&gt; The main classes of interest are [MediaHttpUploader](https://googleapis.dev/java/google-api-client/latest/com/google/api/client/googleapis/media/MediaHttpUploader.html) and [MediaHttpProgressListener](https://googleapis.dev/java/google-api-client/latest/com/google/api/client/googleapis/media/MediaHttpUploaderProgressListener.html).\r\n&gt;\r\n&gt; If methods in the service-specific generated libraries contain the `mediaUpload` parameter in the [Discovery document](https://developers.google.com/discovery/v1/using), then a convenience method is created for these methods that takes an InputStreamContent as a parameter.\r\n&gt;\r\n&gt; For example, the `insert` method of the Drive API supports `mediaUpload`, and you can use the following code to upload a file:\r\n```lang-java\r\nclass CustomProgressListener implements MediaHttpUploaderProgressListener {\r\n  public void progressChanged(MediaHttpUploader uploader) throws IOException {\r\n    switch (uploader.getUploadState()) {\r\n      case INITIATION_STARTED:\r\n        System.out.println(&quot;Initiation has started!&quot;);\r\n        break;\r\n      case INITIATION_COMPLETE:\r\n        System.out.println(&quot;Initiation is complete!&quot;);\r\n        break;\r\n      case MEDIA_IN_PROGRESS:\r\n        System.out.println(uploader.getProgress());\r\n        break;\r\n      case MEDIA_COMPLETE:\r\n        System.out.println(&quot;Upload is complete!&quot;);\r\n    }\r\n  }\r\n}\r\n\r\nFile mediaFile = new File(&quot;/tmp/driveFile.jpg&quot;);\r\nInputStreamContent mediaContent =\r\n    new InputStreamContent(&quot;image/jpeg&quot;,\r\n        new BufferedInputStream(new FileInputStream(mediaFile)));\r\nmediaContent.setLength(mediaFile.length());\r\n\r\nDrive.Files.Insert request = drive.files().insert(fileMetadata, mediaContent);\r\nrequest.getMediaHttpUploader().setProgressListener(new CustomProgressListener());\r\nrequest.execute();\r\n```\r\nThese classes however abstract away things like the location URI which is returned when creating the resumable upload, so if you want to be able to do this then you will need to follow the resumable upload initiation steps as documented [here](https://developers.google.com/drive/api/v3/manage-uploads#send_the_initial_request). This is all manually done however rather than directly using the Google Drive API Client Library.\r\n\r\nTo answer the first point, how you store how many bytes have been uploaded is up to you. Rather than thinking *&quot;how much is already on Drive&quot;*, think *&quot;how much have I already uploaded?&quot;*. \r\n\r\nYou can store this as a vairable locally if you so desire, as it will be a multiple of your chunk size (`2 * MediaHttpUploader.MINIMUM_CHUNK_SIZE` in your case) and should be easy to track. \r\n\r\nThe thing is, this isn&#39;t actually needed. You can just use a wildcard to indicate that the current position of your file is unknown, as per the documentation (emphasis my own):\r\n\r\n&gt; If an upload request is terminated before a response, or if you receive a 503 Service Unavailable response, then you need to resume the interrupted upload.\r\n&gt;\r\n&gt; To request the upload status, create an empty `PUT` request to the resumable session URI.\r\n&gt;\r\n&gt; ***Add a `Content-Range` header to indicate that the current position in the file is unknown. For example, set the `Content-Range` to `*/2000000` if your total file length is 2,000,000 bytes.*** If you don&#39;t know the full size of the file, set the `Content-Range` to `*/*`.\r\n\r\nIf you do want to keep track of the bytes, you can specify it in your `Content-Range` header as \r\n```\r\nContent-Range: bytes_so_far/total_bytes\r\n```\r\n\r\n### Steps:\r\nTo initialise the resumable upload, you need to make a `POST` request to the `/upload` endpoint of the Drive API. You do not need to use the Drive API client library for this (and actually if you want to get the resumable session URI, you can&#39;t as the client library doesn&#39;t give you this).\r\n\r\nAssuming you have your credential definition from:\r\n```\r\nGoogleAccountCredential credential = GoogleAccountCredential.usingOAuth2(...);\r\n```\r\nThen make the `POST` request containing the file metadata:\r\n```\r\nURL requestUrl = new URL(&quot;https://www.googleapis.com/upload/drive/v3/files?uploadType=resumable&quot;);\r\n\r\nString requestBody = &quot;{\\&quot;name\\&quot;: \\&quot;fileName\\&quot;}&quot;;\r\n\r\nHttpURLConnection request = (HttpURLConnection) requestUrl.openConnection();\r\n\r\nrequest.setRequestMethod(&quot;POST&quot;);\r\nrequest.setDoInput(true);\r\nrequest.setDoOutput(true);\r\nrequest.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + credential.getToken());\r\nrequest.setRequestProperty(&quot;X-Upload-Content-Type&quot;, &quot;file/mimetype&quot;);\r\nrequest.setRequestProperty(&quot;X-Upload-Content-Length&quot;, number_of_bytes_of_your_file);\r\nrequest.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\nrequest.setRequestProperty(&quot;Content-Length&quot;, String.format(Locale.ENGLISH, &quot;%d&quot;, requestBody.getBytes().length));\r\n\r\nOutputStream outputStream = request.getOutputStream();\r\noutputStream.write(requestBody.getBytes());\r\noutputStream.close();\r\n\r\nrequest.connect();\r\n```\r\n\r\nThe session URI - where to call to resume in case you need to - is returned in the headers of the response from the API. After connecting you can get this URI from the response:\r\n```\r\nif (request.getResponseCode() == HttpURLConnection.HTTP_OK) {\r\n    URL sessionUri = new URL(request.getHeaderField(&quot;location&quot;));\r\n}\r\n```\r\nNow you have the Session URI - with this you can upload chunks of file to Drive as you please. You now need to use this URI as the upload point for successive uploads. \r\n\r\nRemember though: [**A resumable session URI expires after one week.**](https://developers.google.com/drive/api/v3/manage-uploads#send_the_initial_request)\r\n\r\n### How to Pause a Resumable Upload:\r\nThis in reality is down to how you wish to implement this. You could break out a loop for example or have a giant `PAUSE THIS UPLOAD` button in a GUI which toggles whether the next section of the upload continues or not.\r\n\r\nThe thing to remember is when uploading the file contents, the request made has to be done with `HTTP PUT` rather than `POST`. Following on from the previous section:\r\n```lang-java\r\n// set these variables:\r\nlong beginningOfChunk = 0;\r\nlong chunkSize = 2 * MediaHttpUploader.MINIMUM_CHUNK_SIZE;\r\nint chunksUploaded = 0;\r\n\r\n// Here starts the upload chunk code:\r\nHttpURLConnection request = (HttpURLConnection) sessionUri.openConnection();\r\n\r\nrequest.setRequestMethod(&quot;PUT&quot;);\r\nrequest.setDoOutput(true);\r\n// change your timeout as you desire here:\r\nrequest.setConnectTimeout(30000); \r\nrequest.setRequestProperty(&quot;Content-Type&quot;, &quot;file/mimetype&quot;);\r\n\r\nlong bytesUploadedSoFar = chunksUploaded * chunkSize;\r\n\r\nif (beginningOfChunk + chunkSize &gt; number_of_bytes_of_your_file) {\r\n    chunkSize = (int) number_of_bytes_of_your_file - beginningOfChunk;\r\n}\r\n\r\nrequest.setRequestProperty(&quot;Content-Length&quot;, String.format(Locale.ENGLISH, &quot;%d&quot;, chunkSize));\r\nrequest.setRequestProperty(&quot;Content-Range&quot;, &quot;bytes &quot; + beginningOfChunk + &quot;-&quot; + (beginningOfChunk + chunkSize - 1) + &quot;/&quot; + number_of_bytes_of_your_file);\r\n\r\nbyte[] buffer = new byte[(int) chunksize];\r\nFileInputStream fileInputStream = new FileInputStream(yourFile);\r\nfileInputStream.getChannel().position(beginningOfChunk);\r\nfileInputStream.close();\r\n\r\nOutputStream outputStream = request.getOutputStream();\r\noutputStream.write(buffer);\r\noutputStream.close();\r\nrequest.connect();\r\n\r\nchunksUploaded += 1;\r\n\r\n// End of upload chunk section\r\n```\r\nYou can then call the upload chunk code on repeat; in a loop, as a function; how you like. As it is a distinct code block, you can call it as you like and therefore implement some way of pausing the upload (through breaks, sleeps, waits, etc).\r\n\r\nJust remember: you will need to save the session URI in order to resume.\r\n\r\n___\r\n### Update:\r\nIt seems that using the Drive V3 API directly to make resumable uploads isn&#39;t something yet possible. The [Java Client Library documentation](https://developers.google.com/api-client-library/java/google-api-java-client/media-upload#implementation) alludes to this when discussing when to use `Drive: create` vs the non service-specific libraries:\r\n\r\n&gt; ...the insert method of the Drive API supports `mediaUpload`, and you can use the following code to upload a file:\r\n&gt; ```\r\ncode block\r\n&gt; ```\r\n&gt; You can also use the resumable media upload feature without the service-specific generated libraries.\r\n\r\n### Feature Request:\r\nYou can however let Google know that this is a feature that is important for the Drive API directly rather than the requirement to use the non-service specific library. Google&#39;s Issue Tracker is a place for developers to report issues and make feature requests for their development services. The page to file a Feature Request for the Drive API is [here](https://issuetracker.google.com/issues/new?component=191650&amp;template=824106).\r\n\r\n**Note of discrepancy:** what was called `Drive.Files.Insert` in Drive API V2 was changed to `Drive.Files.Create` in Drive API V3. \r\n\r\n\r\n### References:\r\n- [Java Quickstart | Google Drive API | Google Developers](https://developers.google.com/resources/api-libraries/documentation/drive/v3/java/latest)\r\n- [Drive.Files.Create (Drive API v3 (Rev. 197) 1.25.0)](https://developers.google.com/resources/api-libraries/documentation/drive/v3/java/latest/)\r\n- [Create and populate folders | Google Drive API | Google Developers](https://developers.google.com/drive/api/v3/folder)\r\n- [Upload file data | Google Drive API | Google Developers](https://developers.google.com/drive/api/v3/manage-uploads#java_1)\r\n- [Files: create | Google Drive API | Google Developers](https://developers.google.com/drive/api/v3/reference/files/create)\r\n- [Direct and Resumable Media Uploads | API Client Library for Java](https://developers.google.com/api-client-library/java/google-api-java-client/media-upload#implementation)\r\n___\r\n### Related Questions:\r\n- [Google Drive api Java - is my large multipart upload complete?](https://stackoverflow.com/questions/59794970/)\r\n- [Setting uploadType in Google Drive Java API\r\n](https://stackoverflow.com/questions/19360990/)\r\n- [Resumable upload in Drive Rest API V3](https://stackoverflow.com/questions/39887303/)\r\n- [Google Drive API - Drive.Files class has no insert () method](https://stackoverflow.com/questions/48085032)","title":"java google drive api V3 MultiPart &amp; Resumable Upload","body":"<p>While answering multiple questions in one answer isn't normally appropriate for Stack Overflow, it seems that these are all closely linked and so will give an overview of resumable uploads and in doing so attempt to address your three points:</p>\n<blockquote>\n<ul>\n<li>How does one get total bytes already uploaded to Drive</li>\n<li>How to use the value in the Content-Range Header</li>\n<li>How to pause a resumable upload</li>\n</ul>\n</blockquote>\n<hr />\n<p>From Google's documentation on <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/media-upload\" rel=\"nofollow noreferrer\">Direct and Resumable Media Uploads</a> on ther Java API Client Library documentation:</p>\n<blockquote>\n<h3>Implementation details</h3>\n<p>The main classes of interest are <a href=\"https://googleapis.dev/java/google-api-client/latest/com/google/api/client/googleapis/media/MediaHttpUploader.html\" rel=\"nofollow noreferrer\">MediaHttpUploader</a> and <a href=\"https://googleapis.dev/java/google-api-client/latest/com/google/api/client/googleapis/media/MediaHttpUploaderProgressListener.html\" rel=\"nofollow noreferrer\">MediaHttpProgressListener</a>.</p>\n<p>If methods in the service-specific generated libraries contain the <code>mediaUpload</code> parameter in the <a href=\"https://developers.google.com/discovery/v1/using\" rel=\"nofollow noreferrer\">Discovery document</a>, then a convenience method is created for these methods that takes an InputStreamContent as a parameter.</p>\n<p>For example, the <code>insert</code> method of the Drive API supports <code>mediaUpload</code>, and you can use the following code to upload a file:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>class CustomProgressListener implements MediaHttpUploaderProgressListener {\n  public void progressChanged(MediaHttpUploader uploader) throws IOException {\n    switch (uploader.getUploadState()) {\n      case INITIATION_STARTED:\n        System.out.println(&quot;Initiation has started!&quot;);\n        break;\n      case INITIATION_COMPLETE:\n        System.out.println(&quot;Initiation is complete!&quot;);\n        break;\n      case MEDIA_IN_PROGRESS:\n        System.out.println(uploader.getProgress());\n        break;\n      case MEDIA_COMPLETE:\n        System.out.println(&quot;Upload is complete!&quot;);\n    }\n  }\n}\n\nFile mediaFile = new File(&quot;/tmp/driveFile.jpg&quot;);\nInputStreamContent mediaContent =\n    new InputStreamContent(&quot;image/jpeg&quot;,\n        new BufferedInputStream(new FileInputStream(mediaFile)));\nmediaContent.setLength(mediaFile.length());\n\nDrive.Files.Insert request = drive.files().insert(fileMetadata, mediaContent);\nrequest.getMediaHttpUploader().setProgressListener(new CustomProgressListener());\nrequest.execute();\n</code></pre>\n<p>These classes however abstract away things like the location URI which is returned when creating the resumable upload, so if you want to be able to do this then you will need to follow the resumable upload initiation steps as documented <a href=\"https://developers.google.com/drive/api/v3/manage-uploads#send_the_initial_request\" rel=\"nofollow noreferrer\">here</a>. This is all manually done however rather than directly using the Google Drive API Client Library.</p>\n<p>To answer the first point, how you store how many bytes have been uploaded is up to you. Rather than thinking <em>&quot;how much is already on Drive&quot;</em>, think <em>&quot;how much have I already uploaded?&quot;</em>.</p>\n<p>You can store this as a vairable locally if you so desire, as it will be a multiple of your chunk size (<code>2 * MediaHttpUploader.MINIMUM_CHUNK_SIZE</code> in your case) and should be easy to track.</p>\n<p>The thing is, this isn't actually needed. You can just use a wildcard to indicate that the current position of your file is unknown, as per the documentation (emphasis my own):</p>\n<blockquote>\n<p>If an upload request is terminated before a response, or if you receive a 503 Service Unavailable response, then you need to resume the interrupted upload.</p>\n<p>To request the upload status, create an empty <code>PUT</code> request to the resumable session URI.</p>\n<p><em><strong>Add a <code>Content-Range</code> header to indicate that the current position in the file is unknown. For example, set the <code>Content-Range</code> to <code>*/2000000</code> if your total file length is 2,000,000 bytes.</strong></em> If you don't know the full size of the file, set the <code>Content-Range</code> to <code>*/*</code>.</p>\n</blockquote>\n<p>If you do want to keep track of the bytes, you can specify it in your <code>Content-Range</code> header as</p>\n<pre><code>Content-Range: bytes_so_far/total_bytes\n</code></pre>\n<h3>Steps:</h3>\n<p>To initialise the resumable upload, you need to make a <code>POST</code> request to the <code>/upload</code> endpoint of the Drive API. You do not need to use the Drive API client library for this (and actually if you want to get the resumable session URI, you can't as the client library doesn't give you this).</p>\n<p>Assuming you have your credential definition from:</p>\n<pre><code>GoogleAccountCredential credential = GoogleAccountCredential.usingOAuth2(...);\n</code></pre>\n<p>Then make the <code>POST</code> request containing the file metadata:</p>\n<pre><code>URL requestUrl = new URL(&quot;https://www.googleapis.com/upload/drive/v3/files?uploadType=resumable&quot;);\n\nString requestBody = &quot;{\\&quot;name\\&quot;: \\&quot;fileName\\&quot;}&quot;;\n\nHttpURLConnection request = (HttpURLConnection) requestUrl.openConnection();\n\nrequest.setRequestMethod(&quot;POST&quot;);\nrequest.setDoInput(true);\nrequest.setDoOutput(true);\nrequest.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + credential.getToken());\nrequest.setRequestProperty(&quot;X-Upload-Content-Type&quot;, &quot;file/mimetype&quot;);\nrequest.setRequestProperty(&quot;X-Upload-Content-Length&quot;, number_of_bytes_of_your_file);\nrequest.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\nrequest.setRequestProperty(&quot;Content-Length&quot;, String.format(Locale.ENGLISH, &quot;%d&quot;, requestBody.getBytes().length));\n\nOutputStream outputStream = request.getOutputStream();\noutputStream.write(requestBody.getBytes());\noutputStream.close();\n\nrequest.connect();\n</code></pre>\n<p>The session URI - where to call to resume in case you need to - is returned in the headers of the response from the API. After connecting you can get this URI from the response:</p>\n<pre><code>if (request.getResponseCode() == HttpURLConnection.HTTP_OK) {\n    URL sessionUri = new URL(request.getHeaderField(&quot;location&quot;));\n}\n</code></pre>\n<p>Now you have the Session URI - with this you can upload chunks of file to Drive as you please. You now need to use this URI as the upload point for successive uploads.</p>\n<p>Remember though: <a href=\"https://developers.google.com/drive/api/v3/manage-uploads#send_the_initial_request\" rel=\"nofollow noreferrer\"><strong>A resumable session URI expires after one week.</strong></a></p>\n<h3>How to Pause a Resumable Upload:</h3>\n<p>This in reality is down to how you wish to implement this. You could break out a loop for example or have a giant <code>PAUSE THIS UPLOAD</code> button in a GUI which toggles whether the next section of the upload continues or not.</p>\n<p>The thing to remember is when uploading the file contents, the request made has to be done with <code>HTTP PUT</code> rather than <code>POST</code>. Following on from the previous section:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// set these variables:\nlong beginningOfChunk = 0;\nlong chunkSize = 2 * MediaHttpUploader.MINIMUM_CHUNK_SIZE;\nint chunksUploaded = 0;\n\n// Here starts the upload chunk code:\nHttpURLConnection request = (HttpURLConnection) sessionUri.openConnection();\n\nrequest.setRequestMethod(&quot;PUT&quot;);\nrequest.setDoOutput(true);\n// change your timeout as you desire here:\nrequest.setConnectTimeout(30000); \nrequest.setRequestProperty(&quot;Content-Type&quot;, &quot;file/mimetype&quot;);\n\nlong bytesUploadedSoFar = chunksUploaded * chunkSize;\n\nif (beginningOfChunk + chunkSize &gt; number_of_bytes_of_your_file) {\n    chunkSize = (int) number_of_bytes_of_your_file - beginningOfChunk;\n}\n\nrequest.setRequestProperty(&quot;Content-Length&quot;, String.format(Locale.ENGLISH, &quot;%d&quot;, chunkSize));\nrequest.setRequestProperty(&quot;Content-Range&quot;, &quot;bytes &quot; + beginningOfChunk + &quot;-&quot; + (beginningOfChunk + chunkSize - 1) + &quot;/&quot; + number_of_bytes_of_your_file);\n\nbyte[] buffer = new byte[(int) chunksize];\nFileInputStream fileInputStream = new FileInputStream(yourFile);\nfileInputStream.getChannel().position(beginningOfChunk);\nfileInputStream.close();\n\nOutputStream outputStream = request.getOutputStream();\noutputStream.write(buffer);\noutputStream.close();\nrequest.connect();\n\nchunksUploaded += 1;\n\n// End of upload chunk section\n</code></pre>\n<p>You can then call the upload chunk code on repeat; in a loop, as a function; how you like. As it is a distinct code block, you can call it as you like and therefore implement some way of pausing the upload (through breaks, sleeps, waits, etc).</p>\n<p>Just remember: you will need to save the session URI in order to resume.</p>\n<hr />\n<h3>Update:</h3>\n<p>It seems that using the Drive V3 API directly to make resumable uploads isn't something yet possible. The <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/media-upload#implementation\" rel=\"nofollow noreferrer\">Java Client Library documentation</a> alludes to this when discussing when to use <code>Drive: create</code> vs the non service-specific libraries:</p>\n<blockquote>\n<p>...the insert method of the Drive API supports <code>mediaUpload</code>, and you can use the following code to upload a file:</p>\n<pre><code></code></pre>\n</blockquote>\n<p>code block</p>\n<blockquote>\n<pre><code>You can also use the resumable media upload feature without the service-specific generated libraries.\n</code></pre>\n</blockquote>\n<h3>Feature Request:</h3>\n<p>You can however let Google know that this is a feature that is important for the Drive API directly rather than the requirement to use the non-service specific library. Google's Issue Tracker is a place for developers to report issues and make feature requests for their development services. The page to file a Feature Request for the Drive API is <a href=\"https://issuetracker.google.com/issues/new?component=191650&amp;template=824106\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>Note of discrepancy:</strong> what was called <code>Drive.Files.Insert</code> in Drive API V2 was changed to <code>Drive.Files.Create</code> in Drive API V3.</p>\n<h3>References:</h3>\n<ul>\n<li><a href=\"https://developers.google.com/resources/api-libraries/documentation/drive/v3/java/latest\" rel=\"nofollow noreferrer\">Java Quickstart | Google Drive API | Google Developers</a></li>\n<li><a href=\"https://developers.google.com/resources/api-libraries/documentation/drive/v3/java/latest/\" rel=\"nofollow noreferrer\">Drive.Files.Create (Drive API v3 (Rev. 197) 1.25.0)</a></li>\n<li><a href=\"https://developers.google.com/drive/api/v3/folder\" rel=\"nofollow noreferrer\">Create and populate folders | Google Drive API | Google Developers</a></li>\n<li><a href=\"https://developers.google.com/drive/api/v3/manage-uploads#java_1\" rel=\"nofollow noreferrer\">Upload file data | Google Drive API | Google Developers</a></li>\n<li><a href=\"https://developers.google.com/drive/api/v3/reference/files/create\" rel=\"nofollow noreferrer\">Files: create | Google Drive API | Google Developers</a></li>\n<li><a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/media-upload#implementation\" rel=\"nofollow noreferrer\">Direct and Resumable Media Uploads | API Client Library for Java</a></li>\n</ul>\n<hr />\n<h3>Related Questions:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/59794970/\">Google Drive api Java - is my large multipart upload complete?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/19360990/\">Setting uploadType in Google Drive Java API\n</a></li>\n<li><a href=\"https://stackoverflow.com/questions/39887303/\">Resumable upload in Drive Rest API V3</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48085032\">Google Drive API - Drive.Files class has no insert () method</a></li>\n</ul>\n"}],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2052,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1636088927,"creation_date":1590843248,"question_id":62102721,"body_markdown":"I need help in writing multipart &amp; resumable upload of large files (&gt;5MB) so far I have only been able to start an multiupload upload but I don&#39;t know how to resume it either when the user pauses it or during network failures. \r\n\r\nBy &quot;Resuming&quot; I mean I don&#39;t know how to\r\n\r\n1) get the total bytes already uploaded to the drive\r\n\r\n2) how to use that value in the Content-Range Header\r\n\r\n3) how to even pause this upload by user interaction[`executeAsInputStream()` Maybe?]\r\n\r\nThis is what I have done so far. I need the code to resume from where it stopped  uploading even if I were to forcefully stop the application and restart it\r\n\r\n  \r\n\r\n       Drive service = GDrive.getService(); //Drive Specific Initialization Copied From QuickStart But with DriveScopes.FILES\r\n       \r\n       File fileMetadata = new File();\r\n       fileMetadata.setName(&quot;Video.mp4&quot;); //Video File\r\n       fileMetadata.setMimeType(&quot;application/vnd.google-apps.video&quot;);\r\n       \r\n       java.io.File filePath = new java.io.File(&quot;E:\\\\large-file-60MB.mp4&quot;);//Large File Of 60 Mega Bytes\r\n       FileContent mediaContent = new FileContent(&quot;video/mp4&quot;,filePath);\r\n     \r\n       Drive.Files.Create create=service.files().create(fileMetadata,mediaContent);\r\n    \r\n       MediaHttpUploader uploader=create.getMediaHttpUploader();\r\n       uploader.setDirectUploadEnabled(false);                       //Use Resumable MultiPart Upload Protocol\r\n       uploader.setChunkSize(2*MediaHttpUploader.MINIMUM_CHUNK_SIZE); //Chunks Of Bytes To Upload With Each Request\r\n       \r\n      // HttpHeaders headers=new HttpHeaders();\r\n      // headers.put(&quot;Content-Range&quot;,?);          //This is not actual code which I used here but after reading the drive docs they talk about this header and I am not sure how or when to use it\r\n      // uploader.setInitiationHeaders(headers);\r\n       \r\n       uploader.setProgressListener((uploading)-&gt;\r\n       {\r\n        switch (uploading.getUploadState())\r\n        {\r\n          case INITIATION_STARTED:System.out.println(&quot;Initiation has started!&quot;);\r\n          break;\r\n          case INITIATION_COMPLETE:System.out.println(&quot;Initiation is complete!&quot;);\r\n          break;\r\n          case MEDIA_IN_PROGRESS:\r\n          System.out.println(&quot;Progress=&quot;+uploading.getProgress());\r\n          System.out.println(&quot;Bytes=&quot;+uploading.getNumBytesUploaded());\r\n          break;\r\n          case MEDIA_COMPLETE:System.out.println(&quot;Upload is complete!&quot;);\r\n        }\r\n       });\r\n       \r\n       create.execute(); ","title":"java google drive api V3 MultiPart &amp; Resumable Upload","body":"<p>I need help in writing multipart &amp; resumable upload of large files (>5MB) so far I have only been able to start an multiupload upload but I don't know how to resume it either when the user pauses it or during network failures. </p>\n\n<p>By \"Resuming\" I mean I don't know how to</p>\n\n<p>1) get the total bytes already uploaded to the drive</p>\n\n<p>2) how to use that value in the Content-Range Header</p>\n\n<p>3) how to even pause this upload by user interaction[<code>executeAsInputStream()</code> Maybe?]</p>\n\n<p>This is what I have done so far. I need the code to resume from where it stopped  uploading even if I were to forcefully stop the application and restart it</p>\n\n<pre><code>   Drive service = GDrive.getService(); //Drive Specific Initialization Copied From QuickStart But with DriveScopes.FILES\n\n   File fileMetadata = new File();\n   fileMetadata.setName(\"Video.mp4\"); //Video File\n   fileMetadata.setMimeType(\"application/vnd.google-apps.video\");\n\n   java.io.File filePath = new java.io.File(\"E:\\\\large-file-60MB.mp4\");//Large File Of 60 Mega Bytes\n   FileContent mediaContent = new FileContent(\"video/mp4\",filePath);\n\n   Drive.Files.Create create=service.files().create(fileMetadata,mediaContent);\n\n   MediaHttpUploader uploader=create.getMediaHttpUploader();\n   uploader.setDirectUploadEnabled(false);                       //Use Resumable MultiPart Upload Protocol\n   uploader.setChunkSize(2*MediaHttpUploader.MINIMUM_CHUNK_SIZE); //Chunks Of Bytes To Upload With Each Request\n\n  // HttpHeaders headers=new HttpHeaders();\n  // headers.put(\"Content-Range\",?);          //This is not actual code which I used here but after reading the drive docs they talk about this header and I am not sure how or when to use it\n  // uploader.setInitiationHeaders(headers);\n\n   uploader.setProgressListener((uploading)-&gt;\n   {\n    switch (uploading.getUploadState())\n    {\n      case INITIATION_STARTED:System.out.println(\"Initiation has started!\");\n      break;\n      case INITIATION_COMPLETE:System.out.println(\"Initiation is complete!\");\n      break;\n      case MEDIA_IN_PROGRESS:\n      System.out.println(\"Progress=\"+uploading.getProgress());\n      System.out.println(\"Bytes=\"+uploading.getNumBytesUploaded());\n      break;\n      case MEDIA_COMPLETE:System.out.println(\"Upload is complete!\");\n    }\n   });\n\n   create.execute(); \n</code></pre>\n"},{"tags":["java","spring-boot","reactive-programming","completable-future"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1636088840,"post_id":69848840,"comment_id":123469088,"body_markdown":"What do you mean by *&quot;to mark completion&quot;*? If you just leave it alone, the future will complete and vanish into the void. If you need to take some action when `runAsyncfunction()` is done, then that&#39;s a different thing, and using `whenComplete` to perform that action is one of your options. This is not really a design of a process flow where you&#39;d have &quot;right&quot; trigger and event types, it&#39;s just about knowing what CompletableFuture methods are designed for and using them for your requirement.","body":"What do you mean by <i>&quot;to mark completion&quot;</i>? If you just leave it alone, the future will complete and vanish into the void. If you need to take some action when <code>runAsyncfunction()</code> is done, then that&#39;s a different thing, and using <code>whenComplete</code> to perform that action is one of your options. This is not really a design of a process flow where you&#39;d have &quot;right&quot; trigger and event types, it&#39;s just about knowing what CompletableFuture methods are designed for and using them for your requirement."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1636378719,"post_id":69848840,"comment_id":123533127,"body_markdown":"What if someone invokes `runAsyncfunction()` without being in a function within `runAsync`? Isn’t it the responsibility of `runAsyncfunction()` itself to catch and report errors? Otherwise, what’s the purpose of the background action that apparently nobody depends on, anyway?","body":"What if someone invokes <code>runAsyncfunction()</code> without being in a function within <code>runAsync</code>? Isn’t it the responsibility of <code>runAsyncfunction()</code> itself to catch and report errors? Otherwise, what’s the purpose of the background action that apparently nobody depends on, anyway?"},{"owner":{"account_id":21476427,"reputation":179,"user_id":15824604,"display_name":"Java Programmer"},"score":0,"creation_date":1636385564,"post_id":69848840,"comment_id":123536088,"body_markdown":"@Holger I agree but isn&#39;t ```whenComplete``` is one generic solution to catch all the errors and log the error thrown by ```runAsyncFunction()```  for the developers to know that the background didn&#39;t run as expected. \nNOTE : here I m talking about errors which are not caught in ```runAsyncFunction()``` itself, ofcourse the function itself should handle the errors which we know can occur.","body":"@Holger I agree but isn&#39;t <code>whenComplete</code> is one generic solution to catch all the errors and log the error thrown by <code>runAsyncFunction()</code>  for the developers to know that the background didn&#39;t run as expected.  NOTE : here I m talking about errors which are not caught in <code>runAsyncFunction()</code> itself, ofcourse the function itself should handle the errors which we know can occur."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1636386813,"post_id":69848840,"comment_id":123536654,"body_markdown":"You can use `whenComplete` for that purpose and there’s nothing wrong with that. But there is no industry requirement to do so. Like all of these methods, `runAsync` returns a `CompletableFuture` that can be queried for its completion state, so if there is already a receiving end, that might be the place to check for errors and handle them. To me, it looks unusual not to have someone being interested in that object. But it all depends on the context…","body":"You can use <code>whenComplete</code> for that purpose and there’s nothing wrong with that. But there is no industry requirement to do so. Like all of these methods, <code>runAsync</code> returns a <code>CompletableFuture</code> that can be queried for its completion state, so if there is already a receiving end, that might be the place to check for errors and handle them. To me, it looks unusual not to have someone being interested in that object. But it all depends on the context…"},{"owner":{"account_id":21476427,"reputation":179,"user_id":15824604,"display_name":"Java Programmer"},"score":0,"creation_date":1636393907,"post_id":69848840,"comment_id":123539669,"body_markdown":"@Holger Yes I got your point, thanks.","body":"@Holger Yes I got your point, thanks."}],"owner":{"account_id":21476427,"reputation":179,"user_id":15824604,"display_name":"Java Programmer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636088293,"creation_date":1636088293,"question_id":69848840,"body_markdown":"Is it good industry practice to use ```.whenComplete``` to log errors and completion of completable future when the requirement is just to log the result and error if there is any? \r\nSee the template \r\n```\r\nvoid function() {\r\n   CompletableFuture\r\n     .runAsync(() -&gt; runAsyncfunction())\r\n     .whenComplete((result, err) -&gt; {//log the error})\r\n }\r\n```\r\n\r\nIf this is not the right way, then what is? \r\nI m using Spring Boot application, if there is any functionality in spring boot to handle such things ? \r\n","title":"Is it good industry practice to use whenComplete to mark completion of CompletableFuture?","body":"<p>Is it good industry practice to use <code>.whenComplete</code> to log errors and completion of completable future when the requirement is just to log the result and error if there is any?\nSee the template</p>\n<pre><code>void function() {\n   CompletableFuture\n     .runAsync(() -&gt; runAsyncfunction())\n     .whenComplete((result, err) -&gt; {//log the error})\n }\n</code></pre>\n<p>If this is not the right way, then what is?\nI m using Spring Boot application, if there is any functionality in spring boot to handle such things ?</p>\n"},{"tags":["java","file","icons","exe","double-click"],"comments":[{"owner":{"account_id":167317,"reputation":89112,"user_id":392044,"accept_rate":93,"display_name":"Mike Christensen"},"score":0,"creation_date":1394578542,"post_id":22338389,"comment_id":33949474,"body_markdown":"Maybe check out [Launch4j](http://launch4j.sourceforge.net/)","body":"Maybe check out <a href=\"http://launch4j.sourceforge.net/\" rel=\"nofollow noreferrer\">Launch4j</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1394578550,"post_id":22338389,"comment_id":33949478,"body_markdown":"This will come down to what the OS associates with `*.jar` - The other issue is, normally, double clicking icons is associated with GUI based applications, not console based applications, so why double clicking the icon might appear to do nothing, the application has been started, but it has nothing to show...","body":"This will come down to what the OS associates with <code>*.jar</code> - The other issue is, normally, double clicking icons is associated with GUI based applications, not console based applications, so why double clicking the icon might appear to do nothing, the application has been started, but it has nothing to show..."}],"answers":[{"tags":[],"owner":{"account_id":1615575,"reputation":1538,"user_id":1493379,"display_name":"blueygh2"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1394578921,"creation_date":1394578508,"answer_id":22338432,"question_id":22338389,"body_markdown":"Create a `bat` or `sh` file, depending on the operating system, and put `java -jar ApplicationName.jar` in that file.\r\n\r\nYou can double click on that file to launch your application.\r\n\r\nExample for Windows:\r\n\r\nCreate a file `MyProgram.bat`. Open the file in a text editor. Add `java -jar MyApplicationName.jar` (replace MyApplicationName by the name of your application/the name of the jar). Save the file. Double click the created file to open your program.","title":"How to execute JAVA program by double clicking on icon?","body":"<p>Create a <code>bat</code> or <code>sh</code> file, depending on the operating system, and put <code>java -jar ApplicationName.jar</code> in that file.</p>\n\n<p>You can double click on that file to launch your application.</p>\n\n<p>Example for Windows:</p>\n\n<p>Create a file <code>MyProgram.bat</code>. Open the file in a text editor. Add <code>java -jar MyApplicationName.jar</code> (replace MyApplicationName by the name of your application/the name of the jar). Save the file. Double click the created file to open your program.</p>\n"},{"tags":[],"owner":{"account_id":4281210,"reputation":1058,"user_id":3500521,"display_name":"Dreamspace President"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1447419582,"creation_date":1442128610,"answer_id":32547250,"question_id":22338389,"body_markdown":"I had the same problem this morning, searched a bit, and create a static class from the available knowledge. It solves the problem for Windows, but users of other systems should be able to easily add what&#39;s necessary - I just didn&#39;t know the correct system command (if there is one). I left the printEnvironmentInfo() method in for assistance.\r\n\r\n**What it does:**\r\n\r\nIt enables double-click start for standard Java console applications without altering the operating system or creating files. The procedure is this:\r\n\r\n1. It just returns in case you are in the IDE.\r\n\r\n2. It just returns in case you have a console.\r\n\r\n3. It starts the currently running .jar file in a new console and EXITS.\r\n\r\n**How to use:**\r\n\r\n1. Create Java console application.\r\n\r\n2. Create class file AutoRunFromConsole and paste the below code under the package statement, replacing everything.\r\n\r\n3. As (one of) the first statement(s) in your main method, do AutoRunFromConsole.runYourselfInConsole(true); (or false if you want the console to close once your application has ended).\r\n\r\n**How it works:**\r\n\r\nThe .jar file name of the running Java application is determined, and it&#39;s checked if that file actually exists in the current directory and if it is actually a file.\r\n\r\nIf this does not work, we must be in the IDE and hence have a console. This should be reliable, but there is an alternative approach: A different call to the (overloaded) method allows you to hand over your main method&#39;s command line arguments. If the first argument is &quot;ide&quot; (Case is ignored.), the method just returns. When this other call is used, then if the executable name could not be determined (For which you can even give a fallback.), a message is shown (see below).\r\n\r\nChecks if System.console() returns null. If not, it just returns.\r\n\r\nDetermines a command line string based on operating system (SO FAR ONLY FOR WINDOWS, but you just need to fill in the blanks) and then executes it with Runtime.getRuntime().exec();. In case the OS is not supported yet, a message window is shown saying that the program needs to be run from the console, incl. the syntax.\r\n\r\n**In case you have improvements (especially working command line strings for other systems), please let me know.**\r\n\r\n\r\n\timport javax.swing.*;\r\n\timport java.io.File;\r\n\timport java.io.IOException;\r\n\timport java.security.CodeSource;\r\n\timport java.util.Map;\r\n\timport java.util.Properties;\r\n\r\n\r\n\r\n\r\n\t/**\r\n\t * Created by Reddit user king_of_the_universe / StackOverflow user Dreamspace President / dreamspace-president.com\r\n\t * &lt;p&gt;\r\n\t * v[(2), 2015-11-13 13:00 UTC]\r\n\t * &lt;p&gt;\r\n\t * One static method call will start a new instance of *THIS* application in the console and will EXIT the current\r\n\t * instance. SO FAR ONLY WORKS ON WINDOWS! Users of other systems need to assist here. The methods are all in place.\r\n\t */\r\n\tfinal public class AutoRunFromConsole {\r\n\r\n\r\n\t\tfinal private static String FAILMESSAGE_TITLE = &quot;Please run in console.&quot;;\r\n\t\tfinal private static String FAILMESSAGE_BODY = &quot;This application must be run in the console (or \\&quot;command box\\&quot;).\\n\\nIn there, you have to type:\\n\\njava -jar nameofprogram.jar&quot;;\r\n\r\n\r\n\t\tprivate static void showFailMessageAndExit() {\r\n\r\n\t\t\tJOptionPane.showMessageDialog(null, FAILMESSAGE_BODY, FAILMESSAGE_TITLE, JOptionPane.INFORMATION_MESSAGE);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\r\n\r\n\t\tprivate enum OSType {\r\n\t\t\tUNDETERMINED, WINDOWS, LINUX, MACOS\r\n\t\t}\r\n\r\n\r\n\t\tprivate static OSType getOsType() {\r\n\r\n\t\t\t//        final String osName = System.getProperty(&quot;os.name&quot;);\r\n\t\t\t//        final String osVersion = System.getProperty(&quot;os.version&quot;);\r\n\t\t\t//        final String osArchitecture = System.getProperty(&quot;os.arch&quot;);\r\n\t\t\t//        System.out.println(&quot;\\n\\nOSNAME: &quot; + osName);\r\n\t\t\t//        System.out.println(&quot;\\n\\nOSVERSION: &quot; + osVersion);\r\n\t\t\t//        System.out.println(&quot;\\n\\nOSARCHITECTURE: &quot; + osArchitecture);\r\n\r\n\t\t\tfinal String osName = System.getProperty(&quot;os.name&quot;, &quot;&quot;).toLowerCase();\r\n\t\t\tif (osName.startsWith(&quot;windows&quot;)) {\r\n\t\t\t\treturn OSType.WINDOWS;\r\n\t\t\t} else if (osName.startsWith(&quot;linux&quot;)) {\r\n\t\t\t\treturn OSType.LINUX;\r\n\t\t\t} else if (osName.startsWith(&quot;mac os&quot;) || osName.startsWith(&quot;macos&quot;) || osName.startsWith(&quot;darwin&quot;)) {\r\n\t\t\t\treturn OSType.MACOS;\r\n\t\t\t}\r\n\r\n\t\t\treturn OSType.UNDETERMINED;\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * Checks if the program is currently running in console, and if not, starts the program from console and EXITS this\r\n\t\t * instance of the program. Should be (one of) the first calls in your program.\r\n\t\t * &lt;p&gt;\r\n\t\t * This is the less safe variant of the method: To check if you&#39;re currently in the IDE, it just tries to find the\r\n\t\t * executable name and if it exists in the current path. This should word perfectly at all times in IntelliJ - I\r\n\t\t * don&#39;t know what values getExecutableName() returns inside Eclipse, but I suspect it will work just as well.\r\n\t\t * &lt;p&gt;\r\n\t\t * It&#39;s also less safe because you can&#39;t give a fallback executable name, but I believe it should do the trick in\r\n\t\t * all situations.\r\n\t\t * &lt;p&gt;\r\n\t\t * If this is used on a system other than Windows, a message box is shown telling the user to start the program from\r\n\t\t * the console. BECAUSE I DON&#39;T KNOW HOW TO OPEN A CONSOLE ON OTHER SYSTEMS. SEE startExecutableInConsole();\r\n\t\t */\r\n\t\tpublic static void runYourselfInConsole(final boolean stayOpenAfterEnd) {\r\n\r\n\t\t\trunYourselfInConsole(false, stayOpenAfterEnd, null, null);\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * Checks if the program is currently running in console, and if not, starts the program from console and EXITS this\r\n\t\t * instance of the program. Should be (one of) the first calls in your program.\r\n\t\t * &lt;p&gt;\r\n\t\t * This is the safer variant of the method: The first command line argument GIVEN BY THE IDE&#39;S RUN CONFIGURATION\r\n\t\t * should be &quot;ide&quot; (Case is ignored.), which this method will use to determine if it&#39;s running from the IDE.\r\n\t\t * &lt;p&gt;\r\n\t\t * It is also safer because you can give a fallback executable name in case getExecutableName() could not determine\r\n\t\t * it.\r\n\t\t * &lt;p&gt;\r\n\t\t * Ultimately, it is safer because if the executable could not be determined, it shows a message box telling the\r\n\t\t * user to start the program from the console.\r\n\t\t * &lt;p&gt;\r\n\t\t * You will probably never make use of this variant. It&#39;s meant to be a solution if all else seems to fail (e.g.\r\n\t\t * customer calls and you need a quick fix).\r\n\t\t * &lt;p&gt;\r\n\t\t * If this is used on a system other than Windows, a message box is shown telling the user to start the program from\r\n\t\t * the console. BECAUSE I DON&#39;T KNOW HOW TO OPEN A CONSOLE ON OTHER SYSTEMS. SEE startExecutableInConsole();\r\n\t\t *\r\n\t\t * @param psvmArguments          The arguments given to the main method.\r\n\t\t * @param fallbackExecutableName Can be null. In case getExecutableName() can&#39;t determine the proper name, the\r\n\t\t *                               fallback is used.\r\n\t\t */\r\n\t\tpublic static void runYourselfInConsole(final String[] psvmArguments, final String fallbackExecutableName, final boolean stayOpenAfterEnd) {\r\n\r\n\t\t\trunYourselfInConsole(true, stayOpenAfterEnd, psvmArguments, fallbackExecutableName);\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * see the other two methods\r\n\t\t */\r\n\t\tprivate static void runYourselfInConsole(final boolean useSaferApproach, final boolean stayOpenAfterEnd, final String[] psvmArguments, final String fallbackExecutableName) {\r\n\r\n\t\t\tString executableName = getExecutableName(fallbackExecutableName);\r\n\r\n\t\t\tif (useSaferApproach) {\r\n\t\t\t\tif (isRunFromIDE(psvmArguments)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (executableName == null) {\r\n\t\t\t\t\t// Running from IDE.\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (isRunningInConsole()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (executableName == null) {\r\n\t\t\t\tshowFailMessageAndExit();\r\n\t\t\t}\r\n\r\n\t\t\tstartExecutableInConsole(executableName, stayOpenAfterEnd);\r\n\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * Opens a console window and starts the Java executable there.\r\n\t\t * &lt;p&gt;\r\n\t\t * If this is used on a system other than Windows, a message box is shown telling the user to start the program from\r\n\t\t * the console. BECAUSE I DON&#39;T KNOW HOW TO OPEN A CONSOLE ON OTHER SYSTEMS.\r\n\t\t *\r\n\t\t * @param executableName   the full file name of the executable (without path)\r\n\t\t * @param stayOpenAfterEnd If true (and if someone can figure out the necessary parameters for other systems than\r\n\t\t *                         Windows), the console will not close once the executable has terminated. This is useful\r\n\t\t *                         e.g. if you want to give some kind of bye bye message because you actually assumed that\r\n\t\t *                         people start the program from console manually.\r\n\t\t */\r\n\t\tprivate static void startExecutableInConsole(final String executableName, final boolean stayOpenAfterEnd) {\r\n\r\n\t\t\tString launchString = null;\r\n\r\n\t\t\tswitch (getOsType()) {\r\n\t\t\tcase UNDETERMINED:\r\n\t\t\t\tbreak;\r\n\t\t\tcase WINDOWS:\r\n\t\t\t\tif (stayOpenAfterEnd) {\r\n\t\t\t\t\tlaunchString = &quot;cmd /c start cmd /k java -jar \\&quot;&quot; + executableName+&quot;\\&quot;&quot;; // No, using /k directly here DOES NOT do the trick.\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlaunchString = &quot;cmd /c start java -jar \\&quot;&quot; + executableName+&quot;\\&quot;&quot;;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase LINUX:\r\n\t\t\t\tbreak;\r\n\t\t\tcase MACOS:\r\n\t\t\t\t// launchString=&quot;/usr/bin/open -a Terminal /path/to/the/executable&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (launchString == null) {\r\n\t\t\t\tshowFailMessageAndExit();\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tRuntime.getRuntime().exec(launchString);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * @param args the args as given to PSVM\r\n\t\t * @return whether the first command line argument was &quot;ide&quot; (ignoring case). Don&#39;t forget to change your IDE&#39;s run\r\n\t\t * configuration accordingly.\r\n\t\t */\r\n\t\tprivate static boolean isRunFromIDE(final String[] args) {\r\n\r\n\t\t\treturn args != null &amp;&amp; args.length &gt; 0 &amp;&amp; args[0].equalsIgnoreCase(&quot;ide&quot;);\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * @return if System.console() is available. DOES NOT WORK properly from IDE, will return false then even though it\r\n\t\t * should be true. Use isRunFromIDE or other means additionally.\r\n\t\t */\r\n\t\tprivate static boolean isRunningInConsole() {\r\n\r\n\t\t\treturn System.console() != null;\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * @param fallbackExecutableName Can be null. In the very unlikely case this method can&#39;t determine the executable,\r\n\t\t *                               the fallback will also be checked. But if the fallback also doesn&#39;t exist AS A FILE\r\n\t\t *                               in the CURRENT path, null will be returned regardless, even if you&#39;re sure that\r\n\t\t *                               your fallback should be correct.\r\n\t\t * @return the name of the running jar file, OR NULL if it could not be determined (which should be a certainty\r\n\t\t * while in IDE, hence can be abused for determining that).\r\n\t\t */\r\n\t\tpublic static String getExecutableName(final String fallbackExecutableName) {\r\n\r\n\t\t\t// APPROACH 1 - THE ONE EVERYBODY ON STACKOVERFLOW IS REPEATING\r\n\t\t\tString executableNameFromClass = null;\r\n\t\t\tfinal CodeSource codeSource = AutoRunFromConsole.class.getProtectionDomain().getCodeSource();\r\n\t\t\tif (codeSource == null) {\r\n\t\t\t\tSystem.err.println(&quot;UNEXPECTED: Main.class.getProtectionDomain().getCodeSource() returned null&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tfinal String path = codeSource.getLocation().getPath();\r\n\t\t\t\tif (path == null || path.isEmpty()) {\r\n\t\t\t\t\tSystem.err.println(&quot;UNEXPECTED: codeSource.getLocation().getPath() returned null or empty&quot;);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\texecutableNameFromClass = new File(path).getName();\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\t// APPROACH 2 - QUERY SYSTEM PROPERTIES\r\n\t\t\tfinal Properties properties = System.getProperties();\r\n\t\t\tfinal String executableNameFromJavaClassPathProperty = properties.getProperty(&quot;java.class.path&quot;);\r\n\t\t\tfinal String executableNameFromSunJavaCommandProperty = properties.getProperty(&quot;sun.java.command&quot;);\r\n\r\n\r\n\t\t\t//        System.out.println(&quot;\\n\\nexecutableNameFromClass:\\n&quot; + executableNameFromClass);\r\n\t\t\t//        System.out.println(&quot;\\n\\nexecutableNameFromJavaClassPathProperty:\\n&quot; + executableNameFromJavaClassPathProperty);\r\n\t\t\t//        System.out.println(&quot;\\n\\nexecutableNameFromSunJavaCommandProperty:\\n&quot; + executableNameFromSunJavaCommandProperty);\r\n\t\t\t//        System.out.println(&quot;\\n\\nfallbackExecutableName:\\n&quot; + fallbackExecutableName);\r\n\r\n\r\n\t\t\tif (isThisProbablyTheExecutable(executableNameFromClass)) {\r\n\t\t\t\treturn executableNameFromClass;\r\n\t\t\t}\r\n\r\n\t\t\tif (isThisProbablyTheExecutable(executableNameFromJavaClassPathProperty)) {\r\n\t\t\t\treturn executableNameFromJavaClassPathProperty;\r\n\t\t\t}\r\n\r\n\t\t\tif (isThisProbablyTheExecutable(executableNameFromSunJavaCommandProperty)) {\r\n\t\t\t\treturn executableNameFromSunJavaCommandProperty;\r\n\t\t\t}\r\n\r\n\t\t\tif (isThisProbablyTheExecutable(fallbackExecutableName)) {\r\n\t\t\t\treturn fallbackExecutableName;\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * @param candidateName suspected name of the running java executable\r\n\t\t * @return if name is not null, ends with &quot;.jar&quot; (Case is ignored.), and points to a FILE existing in the CURRENT\r\n\t\t * directory.\r\n\t\t */\r\n\t\tprivate static boolean isThisProbablyTheExecutable(final String candidateName) {\r\n\r\n\t\t\tif (candidateName == null || !candidateName.toLowerCase().endsWith(&quot;.jar&quot;)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tfinal File file = new File(candidateName);\r\n\t\t\treturn file.exists() &amp;&amp; file.isFile();\r\n\t\t}\r\n\r\n\r\n\t\tpublic static void main(final String[] args) {\r\n\r\n\t\t\tAutoRunFromConsole.runYourselfInConsole(true);\r\n\t\t\tprintEnvironmentInfo();\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * for debugging purposes\r\n\t\t */\r\n\t\tpublic static void printEnvironmentInfo() {\r\n\r\n\r\n\t\t\tSystem.out.println(&quot;\\n\\n\\n\\n-------------------------- System.getProperties() --------------------------&quot;);\r\n\t\t\tfinal Properties properties = System.getProperties();\r\n\t\t\tfor (final Map.Entry&lt;Object, Object&gt; entry : properties.entrySet()) {\r\n\t\t\t\tSystem.out.println(entry);\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(&quot;\\n\\n\\n\\n----------------------------- System.getenv() ------------------------------&quot;);\r\n\t\t\tfinal Map&lt;String, String&gt; env = System.getenv();\r\n\t\t\tfor (final Map.Entry&lt;String, String&gt; entry : env.entrySet()) {\r\n\t\t\t\tSystem.out.println(entry);\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.print(&quot;\\n\\n\\n\\n&quot;);\r\n\t\t}\r\n\r\n\r\n\t}\r\n","title":"How to execute JAVA program by double clicking on icon?","body":"<p>I had the same problem this morning, searched a bit, and create a static class from the available knowledge. It solves the problem for Windows, but users of other systems should be able to easily add what's necessary - I just didn't know the correct system command (if there is one). I left the printEnvironmentInfo() method in for assistance.</p>\n\n<p><strong>What it does:</strong></p>\n\n<p>It enables double-click start for standard Java console applications without altering the operating system or creating files. The procedure is this:</p>\n\n<ol>\n<li><p>It just returns in case you are in the IDE.</p></li>\n<li><p>It just returns in case you have a console.</p></li>\n<li><p>It starts the currently running .jar file in a new console and EXITS.</p></li>\n</ol>\n\n<p><strong>How to use:</strong></p>\n\n<ol>\n<li><p>Create Java console application.</p></li>\n<li><p>Create class file AutoRunFromConsole and paste the below code under the package statement, replacing everything.</p></li>\n<li><p>As (one of) the first statement(s) in your main method, do AutoRunFromConsole.runYourselfInConsole(true); (or false if you want the console to close once your application has ended).</p></li>\n</ol>\n\n<p><strong>How it works:</strong></p>\n\n<p>The .jar file name of the running Java application is determined, and it's checked if that file actually exists in the current directory and if it is actually a file.</p>\n\n<p>If this does not work, we must be in the IDE and hence have a console. This should be reliable, but there is an alternative approach: A different call to the (overloaded) method allows you to hand over your main method's command line arguments. If the first argument is \"ide\" (Case is ignored.), the method just returns. When this other call is used, then if the executable name could not be determined (For which you can even give a fallback.), a message is shown (see below).</p>\n\n<p>Checks if System.console() returns null. If not, it just returns.</p>\n\n<p>Determines a command line string based on operating system (SO FAR ONLY FOR WINDOWS, but you just need to fill in the blanks) and then executes it with Runtime.getRuntime().exec();. In case the OS is not supported yet, a message window is shown saying that the program needs to be run from the console, incl. the syntax.</p>\n\n<p><strong>In case you have improvements (especially working command line strings for other systems), please let me know.</strong></p>\n\n<pre><code>import javax.swing.*;\nimport java.io.File;\nimport java.io.IOException;\nimport java.security.CodeSource;\nimport java.util.Map;\nimport java.util.Properties;\n\n\n\n\n/**\n * Created by Reddit user king_of_the_universe / StackOverflow user Dreamspace President / dreamspace-president.com\n * &lt;p&gt;\n * v[(2), 2015-11-13 13:00 UTC]\n * &lt;p&gt;\n * One static method call will start a new instance of *THIS* application in the console and will EXIT the current\n * instance. SO FAR ONLY WORKS ON WINDOWS! Users of other systems need to assist here. The methods are all in place.\n */\nfinal public class AutoRunFromConsole {\n\n\n    final private static String FAILMESSAGE_TITLE = \"Please run in console.\";\n    final private static String FAILMESSAGE_BODY = \"This application must be run in the console (or \\\"command box\\\").\\n\\nIn there, you have to type:\\n\\njava -jar nameofprogram.jar\";\n\n\n    private static void showFailMessageAndExit() {\n\n        JOptionPane.showMessageDialog(null, FAILMESSAGE_BODY, FAILMESSAGE_TITLE, JOptionPane.INFORMATION_MESSAGE);\n        System.exit(0);\n    }\n\n\n    private enum OSType {\n        UNDETERMINED, WINDOWS, LINUX, MACOS\n    }\n\n\n    private static OSType getOsType() {\n\n        //        final String osName = System.getProperty(\"os.name\");\n        //        final String osVersion = System.getProperty(\"os.version\");\n        //        final String osArchitecture = System.getProperty(\"os.arch\");\n        //        System.out.println(\"\\n\\nOSNAME: \" + osName);\n        //        System.out.println(\"\\n\\nOSVERSION: \" + osVersion);\n        //        System.out.println(\"\\n\\nOSARCHITECTURE: \" + osArchitecture);\n\n        final String osName = System.getProperty(\"os.name\", \"\").toLowerCase();\n        if (osName.startsWith(\"windows\")) {\n            return OSType.WINDOWS;\n        } else if (osName.startsWith(\"linux\")) {\n            return OSType.LINUX;\n        } else if (osName.startsWith(\"mac os\") || osName.startsWith(\"macos\") || osName.startsWith(\"darwin\")) {\n            return OSType.MACOS;\n        }\n\n        return OSType.UNDETERMINED;\n    }\n\n\n    /**\n     * Checks if the program is currently running in console, and if not, starts the program from console and EXITS this\n     * instance of the program. Should be (one of) the first calls in your program.\n     * &lt;p&gt;\n     * This is the less safe variant of the method: To check if you're currently in the IDE, it just tries to find the\n     * executable name and if it exists in the current path. This should word perfectly at all times in IntelliJ - I\n     * don't know what values getExecutableName() returns inside Eclipse, but I suspect it will work just as well.\n     * &lt;p&gt;\n     * It's also less safe because you can't give a fallback executable name, but I believe it should do the trick in\n     * all situations.\n     * &lt;p&gt;\n     * If this is used on a system other than Windows, a message box is shown telling the user to start the program from\n     * the console. BECAUSE I DON'T KNOW HOW TO OPEN A CONSOLE ON OTHER SYSTEMS. SEE startExecutableInConsole();\n     */\n    public static void runYourselfInConsole(final boolean stayOpenAfterEnd) {\n\n        runYourselfInConsole(false, stayOpenAfterEnd, null, null);\n    }\n\n\n    /**\n     * Checks if the program is currently running in console, and if not, starts the program from console and EXITS this\n     * instance of the program. Should be (one of) the first calls in your program.\n     * &lt;p&gt;\n     * This is the safer variant of the method: The first command line argument GIVEN BY THE IDE'S RUN CONFIGURATION\n     * should be \"ide\" (Case is ignored.), which this method will use to determine if it's running from the IDE.\n     * &lt;p&gt;\n     * It is also safer because you can give a fallback executable name in case getExecutableName() could not determine\n     * it.\n     * &lt;p&gt;\n     * Ultimately, it is safer because if the executable could not be determined, it shows a message box telling the\n     * user to start the program from the console.\n     * &lt;p&gt;\n     * You will probably never make use of this variant. It's meant to be a solution if all else seems to fail (e.g.\n     * customer calls and you need a quick fix).\n     * &lt;p&gt;\n     * If this is used on a system other than Windows, a message box is shown telling the user to start the program from\n     * the console. BECAUSE I DON'T KNOW HOW TO OPEN A CONSOLE ON OTHER SYSTEMS. SEE startExecutableInConsole();\n     *\n     * @param psvmArguments          The arguments given to the main method.\n     * @param fallbackExecutableName Can be null. In case getExecutableName() can't determine the proper name, the\n     *                               fallback is used.\n     */\n    public static void runYourselfInConsole(final String[] psvmArguments, final String fallbackExecutableName, final boolean stayOpenAfterEnd) {\n\n        runYourselfInConsole(true, stayOpenAfterEnd, psvmArguments, fallbackExecutableName);\n    }\n\n\n    /**\n     * see the other two methods\n     */\n    private static void runYourselfInConsole(final boolean useSaferApproach, final boolean stayOpenAfterEnd, final String[] psvmArguments, final String fallbackExecutableName) {\n\n        String executableName = getExecutableName(fallbackExecutableName);\n\n        if (useSaferApproach) {\n            if (isRunFromIDE(psvmArguments)) {\n                return;\n            }\n        } else {\n            if (executableName == null) {\n                // Running from IDE.\n                return;\n            }\n        }\n\n        if (isRunningInConsole()) {\n            return;\n        }\n\n        if (executableName == null) {\n            showFailMessageAndExit();\n        }\n\n        startExecutableInConsole(executableName, stayOpenAfterEnd);\n\n        System.exit(0);\n    }\n\n\n    /**\n     * Opens a console window and starts the Java executable there.\n     * &lt;p&gt;\n     * If this is used on a system other than Windows, a message box is shown telling the user to start the program from\n     * the console. BECAUSE I DON'T KNOW HOW TO OPEN A CONSOLE ON OTHER SYSTEMS.\n     *\n     * @param executableName   the full file name of the executable (without path)\n     * @param stayOpenAfterEnd If true (and if someone can figure out the necessary parameters for other systems than\n     *                         Windows), the console will not close once the executable has terminated. This is useful\n     *                         e.g. if you want to give some kind of bye bye message because you actually assumed that\n     *                         people start the program from console manually.\n     */\n    private static void startExecutableInConsole(final String executableName, final boolean stayOpenAfterEnd) {\n\n        String launchString = null;\n\n        switch (getOsType()) {\n        case UNDETERMINED:\n            break;\n        case WINDOWS:\n            if (stayOpenAfterEnd) {\n                launchString = \"cmd /c start cmd /k java -jar \\\"\" + executableName+\"\\\"\"; // No, using /k directly here DOES NOT do the trick.\n            } else {\n                launchString = \"cmd /c start java -jar \\\"\" + executableName+\"\\\"\";\n            }\n            break;\n        case LINUX:\n            break;\n        case MACOS:\n            // launchString=\"/usr/bin/open -a Terminal /path/to/the/executable\";\n            break;\n        }\n\n        if (launchString == null) {\n            showFailMessageAndExit();\n        }\n\n        try {\n            Runtime.getRuntime().exec(launchString);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    /**\n     * @param args the args as given to PSVM\n     * @return whether the first command line argument was \"ide\" (ignoring case). Don't forget to change your IDE's run\n     * configuration accordingly.\n     */\n    private static boolean isRunFromIDE(final String[] args) {\n\n        return args != null &amp;&amp; args.length &gt; 0 &amp;&amp; args[0].equalsIgnoreCase(\"ide\");\n    }\n\n\n    /**\n     * @return if System.console() is available. DOES NOT WORK properly from IDE, will return false then even though it\n     * should be true. Use isRunFromIDE or other means additionally.\n     */\n    private static boolean isRunningInConsole() {\n\n        return System.console() != null;\n    }\n\n\n    /**\n     * @param fallbackExecutableName Can be null. In the very unlikely case this method can't determine the executable,\n     *                               the fallback will also be checked. But if the fallback also doesn't exist AS A FILE\n     *                               in the CURRENT path, null will be returned regardless, even if you're sure that\n     *                               your fallback should be correct.\n     * @return the name of the running jar file, OR NULL if it could not be determined (which should be a certainty\n     * while in IDE, hence can be abused for determining that).\n     */\n    public static String getExecutableName(final String fallbackExecutableName) {\n\n        // APPROACH 1 - THE ONE EVERYBODY ON STACKOVERFLOW IS REPEATING\n        String executableNameFromClass = null;\n        final CodeSource codeSource = AutoRunFromConsole.class.getProtectionDomain().getCodeSource();\n        if (codeSource == null) {\n            System.err.println(\"UNEXPECTED: Main.class.getProtectionDomain().getCodeSource() returned null\");\n        } else {\n            final String path = codeSource.getLocation().getPath();\n            if (path == null || path.isEmpty()) {\n                System.err.println(\"UNEXPECTED: codeSource.getLocation().getPath() returned null or empty\");\n            } else {\n\n                executableNameFromClass = new File(path).getName();\n\n            }\n        }\n\n\n        // APPROACH 2 - QUERY SYSTEM PROPERTIES\n        final Properties properties = System.getProperties();\n        final String executableNameFromJavaClassPathProperty = properties.getProperty(\"java.class.path\");\n        final String executableNameFromSunJavaCommandProperty = properties.getProperty(\"sun.java.command\");\n\n\n        //        System.out.println(\"\\n\\nexecutableNameFromClass:\\n\" + executableNameFromClass);\n        //        System.out.println(\"\\n\\nexecutableNameFromJavaClassPathProperty:\\n\" + executableNameFromJavaClassPathProperty);\n        //        System.out.println(\"\\n\\nexecutableNameFromSunJavaCommandProperty:\\n\" + executableNameFromSunJavaCommandProperty);\n        //        System.out.println(\"\\n\\nfallbackExecutableName:\\n\" + fallbackExecutableName);\n\n\n        if (isThisProbablyTheExecutable(executableNameFromClass)) {\n            return executableNameFromClass;\n        }\n\n        if (isThisProbablyTheExecutable(executableNameFromJavaClassPathProperty)) {\n            return executableNameFromJavaClassPathProperty;\n        }\n\n        if (isThisProbablyTheExecutable(executableNameFromSunJavaCommandProperty)) {\n            return executableNameFromSunJavaCommandProperty;\n        }\n\n        if (isThisProbablyTheExecutable(fallbackExecutableName)) {\n            return fallbackExecutableName;\n        }\n\n        return null;\n    }\n\n\n    /**\n     * @param candidateName suspected name of the running java executable\n     * @return if name is not null, ends with \".jar\" (Case is ignored.), and points to a FILE existing in the CURRENT\n     * directory.\n     */\n    private static boolean isThisProbablyTheExecutable(final String candidateName) {\n\n        if (candidateName == null || !candidateName.toLowerCase().endsWith(\".jar\")) {\n            return false;\n        }\n\n        final File file = new File(candidateName);\n        return file.exists() &amp;&amp; file.isFile();\n    }\n\n\n    public static void main(final String[] args) {\n\n        AutoRunFromConsole.runYourselfInConsole(true);\n        printEnvironmentInfo();\n    }\n\n\n    /**\n     * for debugging purposes\n     */\n    public static void printEnvironmentInfo() {\n\n\n        System.out.println(\"\\n\\n\\n\\n-------------------------- System.getProperties() --------------------------\");\n        final Properties properties = System.getProperties();\n        for (final Map.Entry&lt;Object, Object&gt; entry : properties.entrySet()) {\n            System.out.println(entry);\n        }\n\n        System.out.println(\"\\n\\n\\n\\n----------------------------- System.getenv() ------------------------------\");\n        final Map&lt;String, String&gt; env = System.getenv();\n        for (final Map.Entry&lt;String, String&gt; entry : env.entrySet()) {\n            System.out.println(entry);\n        }\n\n        System.out.print(\"\\n\\n\\n\\n\");\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636087502,"creation_date":1636087502,"answer_id":69848769,"question_id":22338389,"body_markdown":"I know this answer is very late. But it may be helpful for people seeing this question now. \r\n\r\nFirst right click on the file and choose open with...\r\n\r\nThen select Always use this program to open jar file.\r\n\r\nThen click choose another app(or something like that).\r\n\r\nThen browse to your java installed directory\\bin.(C:\\Program files\\Java\\jdk-17\\bin)\r\n\r\nThen choose **jar.exe**\r\n","title":"How to execute JAVA program by double clicking on icon?","body":"<p>I know this answer is very late. But it may be helpful for people seeing this question now.</p>\n<p>First right click on the file and choose open with...</p>\n<p>Then select Always use this program to open jar file.</p>\n<p>Then click choose another app(or something like that).</p>\n<p>Then browse to your java installed directory\\bin.(C:\\Program files\\Java\\jdk-17\\bin)</p>\n<p>Then choose <strong>jar.exe</strong></p>\n"}],"owner":{"account_id":3507231,"reputation":113,"user_id":2932499,"accept_rate":29,"display_name":"Davd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12921,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1636087502,"creation_date":1394578374,"question_id":22338389,"body_markdown":"\r\n\r\nI have written a java program. Now I would like to open my console java application without IDE, Eclipse etc., but just by double clicking on the executable version on my Desktop.\r\n\r\nI have exported the java project in Runnable .JAR file, but it cannot be opened. When I tried to open the application with cmd. java -jar ApplicatonName.jar and everything is fine. But this process is too complicated, and it&#39;s not user-friendly.\r\n\r\nSo is there any possible way to do such thing with JAVA ?\r\n\r\nThanks in advance :)\r\n","title":"How to execute JAVA program by double clicking on icon?","body":"<p>I have written a java program. Now I would like to open my console java application without IDE, Eclipse etc., but just by double clicking on the executable version on my Desktop.</p>\n\n<p>I have exported the java project in Runnable .JAR file, but it cannot be opened. When I tried to open the application with cmd. java -jar ApplicatonName.jar and everything is fine. But this process is too complicated, and it's not user-friendly.</p>\n\n<p>So is there any possible way to do such thing with JAVA ?</p>\n\n<p>Thanks in advance :)</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"score":0,"creation_date":1636072390,"post_id":69847063,"comment_id":123466760,"body_markdown":"What is this Helper.setTimeout in the first place?","body":"What is this Helper.setTimeout in the first place?"},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1636074749,"post_id":69847063,"comment_id":123467099,"body_markdown":"@hata `Helper` is the class of my method `setTimeout()`. The code of `setTimeout()` you see in my post.","body":"@hata <code>Helper</code> is the class of my method <code>setTimeout()</code>. The code of <code>setTimeout()</code> you see in my post."},{"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"score":0,"creation_date":1636079886,"post_id":69847063,"comment_id":123467927,"body_markdown":"It&#39;s your original method. So you can redefine it rather than overriding `run()` method.","body":"It&#39;s your original method. So you can redefine it rather than overriding <code>run()</code> method."}],"answers":[{"tags":[],"owner":{"account_id":19355220,"reputation":725,"user_id":14151698,"display_name":"Manjeet deswal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636079739,"creation_date":1636079739,"answer_id":69848106,"question_id":69847063,"body_markdown":"1. Just use post delayed method\r\n2.  \r\n\r\n      button.setOnClickListener(view -&gt; {\r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n              //click your button here\r\n                    \r\n                }\r\n            },2000);\r\n        });","title":"Click on a button after 2 seconds","body":"<ol>\n<li>Just use post delayed method</li>\n<li>\n<pre><code>button.setOnClickListener(view -&gt; {\n      new Handler().postDelayed(new Runnable() {\n          @Override\n          public void run() {\n        //click your button here\n\n          }\n      },2000);\n  });\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636085765,"creation_date":1636081848,"answer_id":69848290,"question_id":69847063,"body_markdown":"&gt; Only the original thread that created a view hierarchy can touch its\r\n&gt; views.\r\n\r\nThe exception tells you that you must run the `Runnable` in the main thread. To do so, you can use `Looper.getMainLooper` or `Activity#runOnUIThread` (cf. [runOnUiThread vs Looper.getMainLooper().post in Android][1]).\r\n\r\nBelow codes are structural examples (you might still need to make somewhat modification). \r\n\r\nUsing `Looper.getMainLooper`:\r\n\r\n    public void setTimeout(Runnable runnable, int delay) {\r\n        new Handler(Looper.getMainLooper()).postDelayed(runnable, delay);\r\n    }\r\n\r\nUsing `Activity#runOnUIThread`:\r\n\r\n    public void setTimeout(Activity activity, Runnable runnable, int delay) {\r\n        new Thread(() -&gt; {\r\n            try {\r\n                Thread.sleep(delay);\r\n                activity.runOnUIThread(runnable);\r\n            }\r\n            catch (Exception e){\r\n                System.err.println(e);\r\n            }\r\n        }).start();\r\n    }\r\n\r\n(Note: I don&#39;t know whether you should put `static` modifier to the method or not.)\r\n\r\nApparently, in your case you want to make delay, using `Looper.getMainLooper` combined with `Handler#postDelayed` looks smarter.\r\n\r\n  [1]: https://stackoverflow.com/a/13974916/3501958","title":"Click on a button after 2 seconds","body":"<blockquote>\n<p>Only the original thread that created a view hierarchy can touch its\nviews.</p>\n</blockquote>\n<p>The exception tells you that you must run the <code>Runnable</code> in the main thread. To do so, you can use <code>Looper.getMainLooper</code> or <code>Activity#runOnUIThread</code> (cf. <a href=\"https://stackoverflow.com/a/13974916/3501958\">runOnUiThread vs Looper.getMainLooper().post in Android</a>).</p>\n<p>Below codes are structural examples (you might still need to make somewhat modification).</p>\n<p>Using <code>Looper.getMainLooper</code>:</p>\n<pre><code>public void setTimeout(Runnable runnable, int delay) {\n    new Handler(Looper.getMainLooper()).postDelayed(runnable, delay);\n}\n</code></pre>\n<p>Using <code>Activity#runOnUIThread</code>:</p>\n<pre><code>public void setTimeout(Activity activity, Runnable runnable, int delay) {\n    new Thread(() -&gt; {\n        try {\n            Thread.sleep(delay);\n            activity.runOnUIThread(runnable);\n        }\n        catch (Exception e){\n            System.err.println(e);\n        }\n    }).start();\n}\n</code></pre>\n<p>(Note: I don't know whether you should put <code>static</code> modifier to the method or not.)</p>\n<p>Apparently, in your case you want to make delay, using <code>Looper.getMainLooper</code> combined with <code>Handler#postDelayed</code> looks smarter.</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69848290,"answer_count":2,"score":3,"last_activity_date":1636085765,"creation_date":1636069014,"question_id":69847063,"body_markdown":"When I click on a button, another button should be clicked programmatically after 2 seconds.\r\n\r\n```java\r\nHelper.setTimeout(() -&gt; {\r\n    _view.findViewById(R.id.turbineStandBy).performClick();\r\n}, 2000);\r\n```\r\nWhen I run this code, I get this exception:\r\n\r\n&gt; Only the original thread that created a view hierarchy can touch its\r\n&gt; views.\r\n\r\n```java\r\npublic static void setTimeout(Runnable runnable, int delay){\r\n    new Thread(() -&gt; {\r\n        try {\r\n            Thread.sleep(delay);\r\n            runnable.run();\r\n        }\r\n        catch (Exception e){\r\n            System.err.println(e);\r\n        }\r\n    }).start();\r\n}\r\n```\r\nI think that I have to override the method `run()` but how can I do that in my setTimeout() method?","title":"Click on a button after 2 seconds","body":"<p>When I click on a button, another button should be clicked programmatically after 2 seconds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Helper.setTimeout(() -&gt; {\n    _view.findViewById(R.id.turbineStandBy).performClick();\n}, 2000);\n</code></pre>\n<p>When I run this code, I get this exception:</p>\n<blockquote>\n<p>Only the original thread that created a view hierarchy can touch its\nviews.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public static void setTimeout(Runnable runnable, int delay){\n    new Thread(() -&gt; {\n        try {\n            Thread.sleep(delay);\n            runnable.run();\n        }\n        catch (Exception e){\n            System.err.println(e);\n        }\n    }).start();\n}\n</code></pre>\n<p>I think that I have to override the method <code>run()</code> but how can I do that in my setTimeout() method?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1636080232,"post_id":69848115,"comment_id":123467982,"body_markdown":"Rather than trying to program for a specific refresh rate, instead, just let your code run and deliver the frames as fast as it can. What you should focus on is making sure that the underlying game model is synced with the clock (not the fps) see here for more info: https://gamedev.stackexchange.com/a/43349 and additional reading: https://gamedev.stackexchange.com/questions/1589/when-should-i-use-a-fixed-or-variable-time-step","body":"Rather than trying to program for a specific refresh rate, instead, just let your code run and deliver the frames as fast as it can. What you should focus on is making sure that the underlying game model is synced with the clock (not the fps) see here for more info: <a href=\"https://gamedev.stackexchange.com/a/43349\">gamedev.stackexchange.com/a/43349</a> and additional reading: <a href=\"https://gamedev.stackexchange.com/questions/1589/when-should-i-use-a-fixed-or-variable-time-step\" title=\"when should i use a fixed or variable time step\">gamedev.stackexchange.com/questions/1589/&hellip;</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":4,"creation_date":1636080384,"post_id":69848115,"comment_id":123468001,"body_markdown":"Your **next** problem will be the system clock itself. It&#39;s typically only accurate +/- 15ms. You do not need such precision.","body":"Your <b>next</b> problem will be the system clock itself. It&#39;s typically only accurate +/- 15ms. You do not need such precision."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1636080387,"post_id":69848115,"comment_id":123468003,"body_markdown":"The answer to your question is: you can&#39;t.  Sleep is imprecise.  As you noted, this is partly because Linux is not an RT OS.  But even if it was, using `sleep` in a graphical application is typically the wrong approach.","body":"The answer to your question is: you can&#39;t.  Sleep is imprecise.  As you noted, this is partly because Linux is not an RT OS.  But even if it was, using <code>sleep</code> in a graphical application is typically the wrong approach."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1636080743,"post_id":69848115,"comment_id":123468053,"body_markdown":"Look at the swing Timer class instead (I don&#39;t think it&#39;s more precise, just more appropriate)","body":"Look at the swing Timer class instead (I don&#39;t think it&#39;s more precise, just more appropriate)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1636083396,"post_id":69848115,"comment_id":123468421,"body_markdown":"@JFan - You are missing the point.  See my comment.","body":"@JFan - You are missing the point.  See my comment."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636083396,"post_id":69848115,"comment_id":123468422,"body_markdown":"Did you try `sleep(0)`? It may still sleep too long sometimes, but only your own measurements can tell.","body":"Did you try <code>sleep(0)</code>? It may still sleep too long sometimes, but only your own measurements can tell."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1636083511,"post_id":69848115,"comment_id":123468434,"body_markdown":"@JFan - Note what the top voted answer says in https://stackoverflow.com/a/35875292/139985 ... which you cited.","body":"@JFan - Note what the top voted answer says in <a href=\"https://stackoverflow.com/a/35875292/139985\">stackoverflow.com/a/35875292/139985</a> ... which you cited."},{"owner":{"account_id":10160016,"reputation":430,"user_id":7503790,"display_name":"Alceatraz"},"score":0,"creation_date":1636089678,"post_id":69848115,"comment_id":123469210,"body_markdown":"@sorifiend I&#39;m using logic thread and render thread, All of them encounter the sleep imprecise problem.","body":"@sorifiend I&#39;m using logic thread and render thread, All of them encounter the sleep imprecise problem."},{"owner":{"account_id":10160016,"reputation":430,"user_id":7503790,"display_name":"Alceatraz"},"score":0,"creation_date":1636089834,"post_id":69848115,"comment_id":123469232,"body_markdown":"@StephenC consider write an answer? I try to use native language like C++ and go, They can give me an promising 50 result(enough precise for me), But in windows they failed with more then 20% shift like 70ms.","body":"@StephenC consider write an answer? I try to use native language like C++ and go, They can give me an promising 50 result(enough precise for me), But in windows they failed with more then 20% shift like 70ms."}],"answers":[{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1636084193,"creation_date":1636083528,"answer_id":69848429,"question_id":69848115,"body_markdown":"Game engines relies on Delta time for making games frame rate independent, Delata time is nothing but elapsed time between the last frame and current frame. \r\nYou can measure delta time as \r\n\r\n`DeltaTime = 1/FPS`\r\n\r\nSo you can use this variable to make the game independent by multiplying this with your game variables, for example if you want to move a player independent of Frame rate you would do something like \r\n\r\n`Player.position = Player.position + MovementSpeed * DeltaTime`\r\n\r\nIf initial `position = 10` , `MovementSpeed = 1`\r\nIf `FPS = 60`, `DeltaTime = 0.016666667` then distance after 1 second is \r\n\r\n`Player.position = 10 + 1 * (0.016666667*60)` which is &#39;11&#39; \r\n(Here it&#39;s multiplied with 60 to simply acomodate the fact that same calculation will run for 60 times when game is running at 60 FPS so Player.position will be updated by 0.016666666 for 60 Times)\r\n \r\nIf `FPS = 30` , `DeltaTime = 0.03333` then distance moved after 1 seconds is \r\n`Player.position = 10 + 1*(0.03333*30)` which is &#39;11&#39;\r\nSo game can run independent of Frame Rates \r\n\r\nYou could try to calculate DeltaTime like:\r\n\r\n    //In main Game loop\r\n    current time = getSystemTime()\r\n    Delta time = current time - old time \r\n    old time = current time // save old time for next loop\r\n\r\n ","title":"How Java precise sleep under 1ms","body":"<p>Game engines relies on Delta time for making games frame rate independent, Delata time is nothing but elapsed time between the last frame and current frame.\nYou can measure delta time as</p>\n<p><code>DeltaTime = 1/FPS</code></p>\n<p>So you can use this variable to make the game independent by multiplying this with your game variables, for example if you want to move a player independent of Frame rate you would do something like</p>\n<p><code>Player.position = Player.position + MovementSpeed * DeltaTime</code></p>\n<p>If initial <code>position = 10</code> , <code>MovementSpeed = 1</code>\nIf <code>FPS = 60</code>, <code>DeltaTime = 0.016666667</code> then distance after 1 second is</p>\n<p><code>Player.position = 10 + 1 * (0.016666667*60)</code> which is '11'\n(Here it's multiplied with 60 to simply acomodate the fact that same calculation will run for 60 times when game is running at 60 FPS so Player.position will be updated by 0.016666666 for 60 Times)</p>\n<p>If <code>FPS = 30</code> , <code>DeltaTime = 0.03333</code> then distance moved after 1 seconds is\n<code>Player.position = 10 + 1*(0.03333*30)</code> which is '11'\nSo game can run independent of Frame Rates</p>\n<p>You could try to calculate DeltaTime like:</p>\n<pre><code>//In main Game loop\ncurrent time = getSystemTime()\nDelta time = current time - old time \nold time = current time // save old time for next loop\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3710550,"reputation":847,"user_id":3087999,"display_name":"vipcxj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636084393,"creation_date":1636084393,"answer_id":69848511,"question_id":69848115,"body_markdown":"You need not sleep yourselvies. You should run your code as fast as possible. The monitor will help you synchronize your video output and you don&#39;t have to keep your code waiting for the monitor.","title":"How Java precise sleep under 1ms","body":"<p>You need not sleep yourselvies. You should run your code as fast as possible. The monitor will help you synchronize your video output and you don't have to keep your code waiting for the monitor.</p>\n"}],"owner":{"account_id":10160016,"reputation":430,"user_id":7503790,"display_name":"Alceatraz"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":69848429,"answer_count":2,"score":0,"last_activity_date":1636084393,"creation_date":1636079801,"question_id":69848115,"body_markdown":"I&#39;m working on swing &amp; graphic2D, And I ran into some issue, How to precise sleep?\r\n\r\nBecause for 144 or 240 fps monitor , ms is too long. With 4.1667ms Thread.sleep will cause very unstable result and time been scaled. Question is is there some way to real sleep under 1ms?\r\n\r\n\r\nI did some research and found something like this https://stackoverflow.com/questions/6254703/thread-sleep-for-less-than-1-millisecond\r\n\r\n\r\nAnd according to the post, Event sleep(1) will not sleep accurate 1ms, As my test there is 100 times result:\r\n\r\n```text\r\n551900\r\n1932500\r\n994600\r\n939200\r\n1903000\r\n935000\r\n958700\r\n944200\r\n938700\r\n950800\r\n953600\r\n1920600\r\n932500\r\n954000\r\n961700\r\n1927400\r\n930900\r\n1936800\r\n1913000\r\n926500\r\n1976200\r\n957800\r\n952000\r\n940600\r\n961000\r\n971700\r\n994800\r\n1889500\r\n1989800\r\n907600\r\n966100\r\n1983600\r\n1914300\r\n1943300\r\n999900\r\n1911200\r\n1988600\r\n932500\r\n1836100\r\n1955500\r\n913500\r\n970200\r\n956400\r\n1902200\r\n970300\r\n1985300\r\n1926100\r\n990900\r\n1804000\r\n947700\r\n1881400\r\n933500\r\n1963600\r\n963000\r\n928300\r\n1913600\r\n1016900\r\n1824700\r\n951600\r\n1959900\r\n938400\r\n1951400\r\n1957300\r\n1965600\r\n969400\r\n1933800\r\n936700\r\n980000\r\n961900\r\n929500\r\n1910000\r\n936700\r\n940100\r\n976100\r\n1975600\r\n952100\r\n986000\r\n1959900\r\n919300\r\n1973500\r\n1998700\r\n1852000\r\n931400\r\n967500\r\n1954200\r\n2005800\r\n1897200\r\n968700\r\n1925500\r\n1945700\r\n1917600\r\n1946300\r\n933200\r\n957100\r\n966400\r\n944900\r\n916000\r\n934300\r\n1887200\r\n934200\r\n```\r\n\r\nNone of them is close, At least will cause 10ms, And some of them even more then 20ms!\r\n\r\nAnd 20ms is unacceptable for even 60FPS monitor. Because 16.67ms is the frame rate.\r\n\r\nAnd I seek into Thread.sleep\r\n\r\n```java\r\npublic static void sleep(long millis, int nanos)\r\nthrows InterruptedException {\r\n\tif (millis &lt; 0) {\r\n\t\tthrow new IllegalArgumentException(&quot;timeout value is negative&quot;);\r\n\t}\r\n\r\n\tif (nanos &lt; 0 || nanos &gt; 999999) {\r\n\t\tthrow new IllegalArgumentException(\r\n\t\t\t\t\t\t\t&quot;nanosecond timeout value out of range&quot;);\r\n\t}\r\n\r\n\tif (nanos &gt;= 500000 || (nanos != 0 &amp;&amp; millis == 0)) {\r\n\t\tmillis++;\r\n\t}\r\n\r\n\tsleep(millis);\r\n}\r\n\r\n```\r\n\r\nI can&#39;t even believe java just treat nano second as ms if longer then 0.5ms, And other things like TimeUnit.sleep or Object.wait just call thread.sleep or convert into ms internal. So is that mean in windows or linux or any non-realtimeOS, There is no way to precise sleep? How game engine do that?\r\n\r\n","title":"How Java precise sleep under 1ms","body":"<p>I'm working on swing &amp; graphic2D, And I ran into some issue, How to precise sleep?</p>\n<p>Because for 144 or 240 fps monitor , ms is too long. With 4.1667ms Thread.sleep will cause very unstable result and time been scaled. Question is is there some way to real sleep under 1ms?</p>\n<p>I did some research and found something like this <a href=\"https://stackoverflow.com/questions/6254703/thread-sleep-for-less-than-1-millisecond\">Thread.Sleep for less than 1 millisecond</a></p>\n<p>And according to the post, Event sleep(1) will not sleep accurate 1ms, As my test there is 100 times result:</p>\n<pre><code>551900\n1932500\n994600\n939200\n1903000\n935000\n958700\n944200\n938700\n950800\n953600\n1920600\n932500\n954000\n961700\n1927400\n930900\n1936800\n1913000\n926500\n1976200\n957800\n952000\n940600\n961000\n971700\n994800\n1889500\n1989800\n907600\n966100\n1983600\n1914300\n1943300\n999900\n1911200\n1988600\n932500\n1836100\n1955500\n913500\n970200\n956400\n1902200\n970300\n1985300\n1926100\n990900\n1804000\n947700\n1881400\n933500\n1963600\n963000\n928300\n1913600\n1016900\n1824700\n951600\n1959900\n938400\n1951400\n1957300\n1965600\n969400\n1933800\n936700\n980000\n961900\n929500\n1910000\n936700\n940100\n976100\n1975600\n952100\n986000\n1959900\n919300\n1973500\n1998700\n1852000\n931400\n967500\n1954200\n2005800\n1897200\n968700\n1925500\n1945700\n1917600\n1946300\n933200\n957100\n966400\n944900\n916000\n934300\n1887200\n934200\n</code></pre>\n<p>None of them is close, At least will cause 10ms, And some of them even more then 20ms!</p>\n<p>And 20ms is unacceptable for even 60FPS monitor. Because 16.67ms is the frame rate.</p>\n<p>And I seek into Thread.sleep</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void sleep(long millis, int nanos)\nthrows InterruptedException {\n    if (millis &lt; 0) {\n        throw new IllegalArgumentException(&quot;timeout value is negative&quot;);\n    }\n\n    if (nanos &lt; 0 || nanos &gt; 999999) {\n        throw new IllegalArgumentException(\n                            &quot;nanosecond timeout value out of range&quot;);\n    }\n\n    if (nanos &gt;= 500000 || (nanos != 0 &amp;&amp; millis == 0)) {\n        millis++;\n    }\n\n    sleep(millis);\n}\n\n</code></pre>\n<p>I can't even believe java just treat nano second as ms if longer then 0.5ms, And other things like TimeUnit.sleep or Object.wait just call thread.sleep or convert into ms internal. So is that mean in windows or linux or any non-realtimeOS, There is no way to precise sleep? How game engine do that?</p>\n"},{"tags":["java","dictionary","lambda","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1636101804,"post_id":69847739,"comment_id":123471946,"body_markdown":"What’s the benefit of this `WordStatistics` class? A `Map&lt;String,Integer&gt;` or `Map&lt;String,Long&gt;` does already describe word frequencies sufficiently.","body":"What’s the benefit of this <code>WordStatistics</code> class? A <code>Map&lt;String,Integer&gt;</code> or <code>Map&lt;String,Long&gt;</code> does already describe word frequencies sufficiently."},{"owner":{"account_id":23243700,"reputation":15,"user_id":17332569,"display_name":"Wtht.Nws"},"score":0,"creation_date":1636120388,"post_id":69847739,"comment_id":123478857,"body_markdown":"@Holger I also need to sort my entries by its frequencies and then in alphabetical order if needed (if the words have the same frequency), and because of it I decided to store frequency and word together. I have this comparing in the `compareTo` method.","body":"@Holger I also need to sort my entries by its frequencies and then in alphabetical order if needed (if the words have the same frequency), and because of it I decided to store frequency and word together. I have this comparing in the <code>compareTo</code> method."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1636124285,"post_id":69847739,"comment_id":123480613,"body_markdown":"You can not sort a `Map`, so your sorting operation would have to store the data into a new collection anyway and that again doesn’t require this class, e.g. `lines.stream() .flatMap(Pattern.compile ( &quot;[^a-zA-Z]+&quot;)::splitAsStream) .collect(Collectors.groupingBy(Function.identity(), Collectors.counting())) .entrySet().stream() .sorted(Map.Entry.&lt;String,Long&gt;comparingByValue().reversed().thenComparing(Map.Entry.comparingByKey())) .forEachOrdered(System.out::println);` Not implementing a custom `compareTo` method prevents you from making mistakes like using minus (minus can overflow) to reverse.","body":"You can not sort a <code>Map</code>, so your sorting operation would have to store the data into a new collection anyway and that again doesn’t require this class, e.g. <code>lines.stream() .flatMap(Pattern.compile ( &quot;[^a-zA-Z]+&quot;)::splitAsStream) .collect(Collectors.groupingBy(Function.identity(), Collectors.counting())) .entrySet().stream() .sorted(Map.Entry.&lt;String,Long&gt;comparingByValue().reversed()&zwnj;&#8203;.thenComparing(Map.E&zwnj;&#8203;ntry.comparingByKey(&zwnj;&#8203;))) .forEachOrdered(System.out::println);</code> Not implementing a custom <code>compareTo</code> method prevents you from making mistakes like using minus (minus can overflow) to reverse."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636083576,"creation_date":1636077269,"answer_id":69847849,"question_id":69847739,"body_markdown":"A simple approach is collecting [`toMap()`][1] with a merge function:\r\n\r\n    Map&lt;String, WordStatistics&gt; wordToFrequencyMap = lines.stream()\r\n            .map(s -&gt; s.split(&quot;[^a-zA-Z]+&quot;))\r\n            .flatMap(Arrays::stream)\r\n            .collect(Collectors.toMap(w -&gt; w, w -&gt; new WordStatistics(w, 1), (ws1, ws2) -&gt; {\r\n                ws1.setFreq(ws1.getFreq() + ws2.getFreq());\r\n                return ws1;\r\n            }));\r\n\r\nTo break down the `toMap()` arguments:\r\n\r\n- `w -&gt; w` just means use the stream element as the map key.\r\n- The next argument produces a value for the key, which is initially a new instance of `WordStatistics` with a frequency of `1`.\r\n- Finally, we tell the collector how to merge values together when they belong to the same key. In our case, we sum the frequencies into one of the values (`ws1`) and return that as the merge result.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-","title":"How to add and update map entry using Java Streams API","body":"<p>A simple approach is collecting <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>toMap()</code></a> with a merge function:</p>\n<pre><code>Map&lt;String, WordStatistics&gt; wordToFrequencyMap = lines.stream()\n        .map(s -&gt; s.split(&quot;[^a-zA-Z]+&quot;))\n        .flatMap(Arrays::stream)\n        .collect(Collectors.toMap(w -&gt; w, w -&gt; new WordStatistics(w, 1), (ws1, ws2) -&gt; {\n            ws1.setFreq(ws1.getFreq() + ws2.getFreq());\n            return ws1;\n        }));\n</code></pre>\n<p>To break down the <code>toMap()</code> arguments:</p>\n<ul>\n<li><code>w -&gt; w</code> just means use the stream element as the map key.</li>\n<li>The next argument produces a value for the key, which is initially a new instance of <code>WordStatistics</code> with a frequency of <code>1</code>.</li>\n<li>Finally, we tell the collector how to merge values together when they belong to the same key. In our case, we sum the frequencies into one of the values (<code>ws1</code>) and return that as the merge result.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636077902,"creation_date":1636077902,"answer_id":69847903,"question_id":69847739,"body_markdown":"This should do pretty much the same you are doing in your loop right now.\r\n\r\n    Pattern pattern = Pattern.compile(&quot;[^a-zA-Z]+&quot;);\r\n    lines.stream().flatMap(pattern::splitAsStream).filter(s -&gt; s.length() &gt; 3).forEach(s -&gt; {\r\n        WordStatistics tmp = wordToFrequencyMap.get(s);\r\n        if (tmp == null) {\r\n            wordToFrequencyMap.put(s, new WordStatistics(word, 1));\r\n        } else {\r\n            tmp.setFreq(tmp.getFreq() + 1);\r\n        }\r\n    });","title":"How to add and update map entry using Java Streams API","body":"<p>This should do pretty much the same you are doing in your loop right now.</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;[^a-zA-Z]+&quot;);\nlines.stream().flatMap(pattern::splitAsStream).filter(s -&gt; s.length() &gt; 3).forEach(s -&gt; {\n    WordStatistics tmp = wordToFrequencyMap.get(s);\n    if (tmp == null) {\n        wordToFrequencyMap.put(s, new WordStatistics(word, 1));\n    } else {\n        tmp.setFreq(tmp.getFreq() + 1);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":23243700,"reputation":15,"user_id":17332569,"display_name":"Wtht.Nws"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":797,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69847849,"answer_count":2,"score":0,"last_activity_date":1636083576,"creation_date":1636075922,"question_id":69847739,"body_markdown":"I just begin to learn Streams, and I have a task to count and sort all words in some array of String. I have already parsed my input to words, but I don&#39;t know how to add and update entry using the stream.\r\n\r\nThere is my parsing stream:\r\n\r\n    Stream&lt;String&gt; stringStream = lines.stream().flatMap(s -&gt; Arrays.stream(s.split(&quot;[^a-zA-Z]+&quot;)));\r\n            String[] parsed =  stringStream.toArray(String[]::new);\r\n\r\nI have done this task without streams just like this:\r\n\r\n    Map&lt;String,WordStatistics&gt; wordToFrequencyMap = new HashMap&lt;&gt;();\r\n    for (String line: lines) {\r\n        line=line.toLowerCase();\r\n        String[] mas =  line.split(&quot;[^a-zA-Z]+&quot;);\r\n        for (String word:mas) {\r\n            if(word.length()&gt;3) {\r\n                if (!wordToFrequencyMap.containsKey(word)) {\r\n                    wordToFrequencyMap.put(word, new WordStatistics(word, 1));\r\n                } else {\r\n                    WordStatistics tmp = wordToFrequencyMap.get(word);\r\n                    tmp.setFreq(tmp.getFreq() + 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nWordStatistics class:\r\n\r\n    public class WordStatistics implements Comparable&lt;WordStatistics&gt;{\r\n        private String word;\r\n        private int freq;\r\n    \r\n        public WordStatistics(String word, int freq) {\r\n            this.word = word;\r\n            this.freq = freq;\r\n        }\r\n    \r\n        public String getWord() {\r\n            return word;\r\n        }\r\n    \r\n        public int getFreq() {\r\n            return freq;\r\n        }\r\n    \r\n        public void setWord(String word) {\r\n            this.word = word;\r\n        }\r\n    \r\n        public void setFreq(int freq) {\r\n            this.freq = freq;\r\n        }\r\n    \r\n        @Override\r\n        public int compareTo(WordStatistics o) {\r\n            if(this.freq &gt; o.freq)\r\n                return 1;\r\n            if(this.freq == o.freq)\r\n            {\r\n                return -this.word.compareTo(o.word);\r\n            }\r\n            return -1;\r\n        }\r\n    }","title":"How to add and update map entry using Java Streams API","body":"<p>I just begin to learn Streams, and I have a task to count and sort all words in some array of String. I have already parsed my input to words, but I don't know how to add and update entry using the stream.</p>\n<p>There is my parsing stream:</p>\n<pre><code>Stream&lt;String&gt; stringStream = lines.stream().flatMap(s -&gt; Arrays.stream(s.split(&quot;[^a-zA-Z]+&quot;)));\n        String[] parsed =  stringStream.toArray(String[]::new);\n</code></pre>\n<p>I have done this task without streams just like this:</p>\n<pre><code>Map&lt;String,WordStatistics&gt; wordToFrequencyMap = new HashMap&lt;&gt;();\nfor (String line: lines) {\n    line=line.toLowerCase();\n    String[] mas =  line.split(&quot;[^a-zA-Z]+&quot;);\n    for (String word:mas) {\n        if(word.length()&gt;3) {\n            if (!wordToFrequencyMap.containsKey(word)) {\n                wordToFrequencyMap.put(word, new WordStatistics(word, 1));\n            } else {\n                WordStatistics tmp = wordToFrequencyMap.get(word);\n                tmp.setFreq(tmp.getFreq() + 1);\n            }\n        }\n    }\n}\n</code></pre>\n<p>WordStatistics class:</p>\n<pre><code>public class WordStatistics implements Comparable&lt;WordStatistics&gt;{\n    private String word;\n    private int freq;\n\n    public WordStatistics(String word, int freq) {\n        this.word = word;\n        this.freq = freq;\n    }\n\n    public String getWord() {\n        return word;\n    }\n\n    public int getFreq() {\n        return freq;\n    }\n\n    public void setWord(String word) {\n        this.word = word;\n    }\n\n    public void setFreq(int freq) {\n        this.freq = freq;\n    }\n\n    @Override\n    public int compareTo(WordStatistics o) {\n        if(this.freq &gt; o.freq)\n            return 1;\n        if(this.freq == o.freq)\n        {\n            return -this.word.compareTo(o.word);\n        }\n        return -1;\n    }\n}\n</code></pre>\n"},{"tags":["java","queue"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1340335658,"post_id":11149707,"comment_id":14618889,"body_markdown":"Maybe you need to step back and think about if there is a better way than pushing thousands of individual pixels one by one into a data structure (if that is indeed what you are doing).","body":"Maybe you need to step back and think about if there is a better way than pushing thousands of individual pixels one by one into a data structure (if that is indeed what you are doing)."},{"owner":{"account_id":175291,"reputation":6872,"user_id":405210,"accept_rate":81,"display_name":"Georges Oates Larsen"},"score":0,"creation_date":1340335795,"post_id":11149707,"comment_id":14618913,"body_markdown":"It&#39;s a blob detection algorithm, the idea is that it starts from a point on the blob and traverses outwards to the edge of the blob. I do not believe there is any other (simple) way of doing this. Also, the queue just stores points of interest -- It doesn&#39;t actually keep the pixels in the queue, the queue mainly just serves as a way of keeping track of where it is. Similar to many pathfinding algorithms","body":"It&#39;s a blob detection algorithm, the idea is that it starts from a point on the blob and traverses outwards to the edge of the blob. I do not believe there is any other (simple) way of doing this. Also, the queue just stores points of interest -- It doesn&#39;t actually keep the pixels in the queue, the queue mainly just serves as a way of keeping track of where it is. Similar to many pathfinding algorithms"}],"answers":[{"tags":[],"owner":{"account_id":82057,"reputation":5965,"user_id":231010,"accept_rate":92,"display_name":"didxga"},"down_vote_count":2,"up_vote_count":102,"is_accepted":true,"score":100,"last_activity_date":1636083003,"creation_date":1340335771,"answer_id":11149810,"question_id":11149707,"body_markdown":"Use:     \r\n\r\n    Queue&lt;Object&gt; queue = new LinkedList&lt;&gt;();\r\n\r\nYou can use `.offer(E e)` to append an element to the end of the queue and `.poll()` to dequeue and retrieve the head (first element) of the queue. \r\n\r\nJava defined the interface `Queue`, the [LinkedList&lt;E&gt;][1] provided an implementation. \r\n\r\nIt also maintains references to the Head and Tail elements, which you can get by &lt;code&gt;.getFirst()&lt;/code&gt; and &lt;code&gt;.getLast()&lt;/code&gt; respectively.\r\n\r\n&lt;br/&gt;\r\n\r\n*credit to @Snicolas for suggesting queue interface*\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html &quot;LinkedList&amp;lt;E&amp;gt;&quot;\r\n","title":"Best implementation of Java Queue?","body":"<p>Use:</p>\n<pre><code>Queue&lt;Object&gt; queue = new LinkedList&lt;&gt;();\n</code></pre>\n<p>You can use <code>.offer(E e)</code> to append an element to the end of the queue and <code>.poll()</code> to dequeue and retrieve the head (first element) of the queue.</p>\n<p>Java defined the interface <code>Queue</code>, the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\" rel=\"noreferrer\" title=\"LinkedList&lt;E&gt;\">LinkedList</a> provided an implementation.</p>\n<p>It also maintains references to the Head and Tail elements, which you can get by <code>.getFirst()</code> and <code>.getLast()</code> respectively.</p>\n<br/>\n<p><em>credit to @Snicolas for suggesting queue interface</em></p>\n"},{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340336651,"creation_date":1340336651,"answer_id":11149885,"question_id":11149707,"body_markdown":"If you know the upper bound of possible quantity of items in the queue, circular buffer is faster than LinkedList, as LinkedList creates an object (link) for each item in the queue.","title":"Best implementation of Java Queue?","body":"<p>If you know the upper bound of possible quantity of items in the queue, circular buffer is faster than LinkedList, as LinkedList creates an object (link) for each item in the queue.</p>\n"},{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1340340206,"creation_date":1340340206,"answer_id":11150296,"question_id":11149707,"body_markdown":"Check out the [Deque](http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html) interface, which provides for insertions/removals at both ends. LinkedList implements that interface (as mentioned above), but for your use, an ArrayDeque may be better -- you won&#39;t incur the cost of constant object allocations for each node. Then again, it may not matter which implementation you use.\r\n\r\nNormal polymoprhism goodness comes to play: the beauty of writing against the Deque interface, rather than any specific implementation of it, is that you can very easily switch implementations to test which one performs best. Just change the line with `new` in it, and the rest of the code stays the same.","title":"Best implementation of Java Queue?","body":"<p>Check out the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html\" rel=\"noreferrer\">Deque</a> interface, which provides for insertions/removals at both ends. LinkedList implements that interface (as mentioned above), but for your use, an ArrayDeque may be better -- you won't incur the cost of constant object allocations for each node. Then again, it may not matter which implementation you use.</p>\n\n<p>Normal polymoprhism goodness comes to play: the beauty of writing against the Deque interface, rather than any specific implementation of it, is that you can very easily switch implementations to test which one performs best. Just change the line with <code>new</code> in it, and the rest of the code stays the same.</p>\n"},{"tags":[],"owner":{"account_id":535038,"reputation":567,"user_id":904735,"accept_rate":64,"display_name":"Grigor Nazaryan"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1359489221,"creation_date":1359489221,"answer_id":14591079,"question_id":11149707,"body_markdown":"I think you can some up with simple like implementation\r\n\r\n    package DataStructures;\r\n    \r\n    public class Queue&lt;T&gt; {\r\n    \r\n       private Node&lt;T&gt; root;\r\n    \r\n       public Queue(T value) {\r\n          root = new Node&lt;T&gt;(value);\r\n       }\r\n    \r\n       public void enque(T value) {\r\n          Node&lt;T&gt; node = new Node&lt;T&gt;(value);\r\n          node.setNext(root);\r\n          root = node;\r\n       }\r\n    \r\n       public Node&lt;T&gt; deque() {\r\n    \r\n          Node&lt;T&gt; node = root;\r\n          Node&lt;T&gt; previous = null;\r\n    \r\n          while(node.next() != null) {\r\n             previous = node;\r\n             node = node.next();\r\n          }\r\n          node = previous.next();\r\n          previous.setNext(null);\r\n          return node;\r\n       }\r\n    \r\n       static class Node&lt;T&gt; {\r\n    \r\n          private T value;\r\n          private Node&lt;T&gt; next;\r\n    \r\n          public Node (T value) {\r\n             this.value = value;\r\n          }\r\n    \r\n          public void setValue(T value) {\r\n             this.value = value;\r\n          }\r\n    \r\n          public T getValue() {\r\n             return value;\r\n          }\r\n    \r\n          public void setNext(Node&lt;T&gt; next) {\r\n             this.next = next;\r\n          }\r\n    \r\n          public Node&lt;T&gt; next() {\r\n             return next;\r\n          }\r\n       }\r\n    }","title":"Best implementation of Java Queue?","body":"<p>I think you can some up with simple like implementation</p>\n\n<pre><code>package DataStructures;\n\npublic class Queue&lt;T&gt; {\n\n   private Node&lt;T&gt; root;\n\n   public Queue(T value) {\n      root = new Node&lt;T&gt;(value);\n   }\n\n   public void enque(T value) {\n      Node&lt;T&gt; node = new Node&lt;T&gt;(value);\n      node.setNext(root);\n      root = node;\n   }\n\n   public Node&lt;T&gt; deque() {\n\n      Node&lt;T&gt; node = root;\n      Node&lt;T&gt; previous = null;\n\n      while(node.next() != null) {\n         previous = node;\n         node = node.next();\n      }\n      node = previous.next();\n      previous.setNext(null);\n      return node;\n   }\n\n   static class Node&lt;T&gt; {\n\n      private T value;\n      private Node&lt;T&gt; next;\n\n      public Node (T value) {\n         this.value = value;\n      }\n\n      public void setValue(T value) {\n         this.value = value;\n      }\n\n      public T getValue() {\n         return value;\n      }\n\n      public void setNext(Node&lt;T&gt; next) {\n         this.next = next;\n      }\n\n      public Node&lt;T&gt; next() {\n         return next;\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":946199,"reputation":1956,"user_id":973418,"accept_rate":75,"display_name":"jaguililla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371134054,"creation_date":1371134054,"answer_id":17089796,"question_id":11149707,"body_markdown":"However, if you still want to use the recursive algorithm, you can change it to be [&quot;tail-recursive&quot;][1] which probably is optimized in the JVM to avoid stack overflows.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Tail_call","title":"Best implementation of Java Queue?","body":"<p>However, if you still want to use the recursive algorithm, you can change it to be <a href=\"https://en.wikipedia.org/wiki/Tail_call\" rel=\"nofollow\">\"tail-recursive\"</a> which probably is optimized in the JVM to avoid stack overflows.</p>\n"},{"tags":[],"owner":{"account_id":43264,"reputation":4850,"user_id":126382,"accept_rate":63,"display_name":"azec-pdx"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1391867890,"creation_date":1391867890,"answer_id":21646900,"question_id":11149707,"body_markdown":"If you use LinkedList be careful. If you use it like this:\r\n\r\n    LinkedList&lt;String&gt; queue = new LinkedList&lt;String&gt;();\r\n\r\nthen you can violate queue definition, because it is possible to remove other elements than first (there are such methods in LinkedList).\r\n\r\nBut if you use it like this:\r\n\r\n    Queue&lt;String&gt; queue = new LinkedList&lt;String&gt;();\r\n\r\nit should be ok,as this is heads-up to users that insertions should occur only at the back and deletions only at the front.\r\n\r\n\r\nYou can overcome defective implementation of the Queue interface by extending the LinkedList class to a PureQueue class that throws UnsupportedOperationException of any of the offending methods. Or you can take approach with aggreagation by creating PureQueue with only one field which is type LinkedList object, list, and the only methods will be a default constructor, a copy constructor, `isEmpty()`, `size()`, `add(E element)`, `remove()`, and `element()`. All those methods should be one-liners, as for example:\r\n\r\n    /**\r\n    * Retrieves and removes the head of this queue.\r\n    * The worstTime(n) is constant and averageTime(n) is constant.\r\n    *\r\n    * @return the head of this queue.\r\n    * @throws NoSuchElementException if this queue is empty.\r\n    */\r\n    public E remove()\r\n    {\r\n        return list.removeFirst();\r\n    } // method remove()\r\n\r\n","title":"Best implementation of Java Queue?","body":"<p>If you use LinkedList be careful. If you use it like this:</p>\n\n<pre><code>LinkedList&lt;String&gt; queue = new LinkedList&lt;String&gt;();\n</code></pre>\n\n<p>then you can violate queue definition, because it is possible to remove other elements than first (there are such methods in LinkedList).</p>\n\n<p>But if you use it like this:</p>\n\n<pre><code>Queue&lt;String&gt; queue = new LinkedList&lt;String&gt;();\n</code></pre>\n\n<p>it should be ok,as this is heads-up to users that insertions should occur only at the back and deletions only at the front.</p>\n\n<p>You can overcome defective implementation of the Queue interface by extending the LinkedList class to a PureQueue class that throws UnsupportedOperationException of any of the offending methods. Or you can take approach with aggreagation by creating PureQueue with only one field which is type LinkedList object, list, and the only methods will be a default constructor, a copy constructor, <code>isEmpty()</code>, <code>size()</code>, <code>add(E element)</code>, <code>remove()</code>, and <code>element()</code>. All those methods should be one-liners, as for example:</p>\n\n<pre><code>/**\n* Retrieves and removes the head of this queue.\n* The worstTime(n) is constant and averageTime(n) is constant.\n*\n* @return the head of this queue.\n* @throws NoSuchElementException if this queue is empty.\n*/\npublic E remove()\n{\n    return list.removeFirst();\n} // method remove()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3753592,"reputation":1161,"user_id":3120528,"display_name":"Kehe CAI"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1467123851,"creation_date":1467123851,"answer_id":38078886,"question_id":11149707,"body_markdown":"It&#39;s better to use ArrayDeque instead of LinkedList when implementing Stack and Queue in Java. ArrayDeque is likely to be faster than Stack interface (while Stack is thread-safe) when used as a stack, and faster than LinkedList when used as a queue. Have a look at this link [Use ArrayDeque instead of LinkedList or Stack][1].\r\n\r\n\r\n  [1]: https://github.com/google/error-prone/issues/257","title":"Best implementation of Java Queue?","body":"<p>It's better to use ArrayDeque instead of LinkedList when implementing Stack and Queue in Java. ArrayDeque is likely to be faster than Stack interface (while Stack is thread-safe) when used as a stack, and faster than LinkedList when used as a queue. Have a look at this link <a href=\"https://github.com/google/error-prone/issues/257\" rel=\"noreferrer\">Use ArrayDeque instead of LinkedList or Stack</a>.</p>\n"},{"tags":[],"owner":{"account_id":7965642,"reputation":1330,"user_id":6011941,"accept_rate":60,"display_name":"Vpn_talent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555672093,"creation_date":1555672093,"answer_id":55760913,"question_id":11149707,"body_markdown":"Here is the **Queue** Implementation with **Iterator** and **Iterable** interface\r\n\r\nQueue Size will increase as It gets full\r\n\r\n\r\n**Queue Interface**\r\n\r\n    package com.practice.ds.queue;\r\n    \r\n    import com.practice.ds.queue.exception.QueueException;\r\n    \r\n    public interface QueueInterface&lt;T&gt; {\r\n    \t\r\n    \tpublic boolean empty();\r\n    \t\r\n    \tpublic void enqueue(T item);\r\n    \t\r\n    \tpublic void dequeue() throws QueueException;\r\n    \t\r\n    \tpublic T front() throws QueueException;\r\n    \t\r\n    \tpublic void clear();\r\n    }\r\n\r\n**Custom Exception Class**\r\n\r\n    package com.practice.ds.queue.exception;\r\n    \r\n    public class QueueException extends Exception {\r\n    \r\n    \tprivate static final long serialVersionUID = -884127093599336807L;\r\n    \r\n    \tpublic QueueException() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic QueueException(String message) {\r\n    \t\tsuper(message);\r\n    \t}\r\n    \r\n    \tpublic QueueException(Throwable e) {\r\n    \t\tsuper(e);\r\n    \t}\r\n    \r\n    \tpublic QueueException(String message, Throwable e) {\r\n    \t\tsuper(message, e);\r\n    \t}\r\n    }\r\n\r\n**Implementation of Queue**\r\n\r\n    package com.practice.ds.queue;\r\n    \r\n    import java.util.Iterator;\r\n    \r\n    import com.practice.ds.queue.exception.QueueException;\r\n    \r\n    public class Queue&lt;T&gt; implements QueueInterface&lt;T&gt;, Iterable&lt;T&gt; {\r\n    \r\n    \tprivate static final int DEFAULT_CAPACITY = 10;\r\n    \tprivate int current = 0;\r\n    \tprivate int rear = 0;\r\n    \tprivate T[] queueArray = null;\r\n    \tprivate int capacity = 0;\r\n    \r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic Queue() {\r\n    \t\tcapacity = DEFAULT_CAPACITY;\r\n    \t\tqueueArray = (T[]) new Object[DEFAULT_CAPACITY];\r\n    \t\trear = 0;\r\n    \t\tcurrent = 0;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean empty() {\r\n    \t\treturn capacity == current;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void enqueue(T item) {\r\n    \t\tif(full())\r\n    \t\t\tensureCapacity();\r\n    \t\tqueueArray[current] = item;\r\n    \t\tcurrent++;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void dequeue() throws QueueException {\r\n    \t\tT dequeuedItem = front();\r\n    \t\trear++;\r\n    \t\tSystem.out.println(&quot;Dequed Item is &quot; + dequeuedItem);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic T front() throws QueueException {\r\n    \t\treturn queueArray[rear];\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void clear() {\r\n    \t\tfor (int i = 0; i &lt; capacity; i++)\r\n    \t\t\tqueueArray[i] = null;\r\n    \t\tcurrent = 0;\r\n    \t\trear = 0;\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tprivate void ensureCapacity() {\r\n    \t\tif (rear != 0) {\r\n    \t\t\tcopyElements(queueArray);\r\n    \t\t} else {\r\n    \t\t\tcapacity *= 2;\r\n    \t\t\tT[] tempQueueArray = (T[]) new Object[capacity];\r\n    \t\t\tcopyElements(tempQueueArray);\r\n    \t\t}\r\n    \t\tcurrent -= rear;\r\n    \t\trear = 0;\r\n    \t}\r\n    \t\r\n    \tprivate void copyElements(T[] array) {\r\n    \t\tfor (int i = rear; i &lt; current; i++)\r\n    \t\t\tarray[i - rear] = queueArray[i];\r\n    \t\tqueueArray = array;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Iterator&lt;T&gt; iterator() {\r\n    \t\treturn new QueueItearator&lt;T&gt;();\r\n    \t}\r\n    \r\n    \tpublic boolean full() {\r\n    \t\treturn current == capacity;\r\n    \t}\r\n    \r\n    \tprivate class QueueItearator&lt;T&gt; implements Iterator&lt;T&gt; {\r\n    \r\n    \t\tprivate int index = rear;\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean hasNext() {\r\n    \t\t\treturn index &lt; current;\r\n    \t\t}\r\n    \r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\t@Override\r\n    \t\tpublic T next() {\r\n    \t\t\treturn (T) queueArray[index++];\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Best implementation of Java Queue?","body":"<p>Here is the <strong>Queue</strong> Implementation with <strong>Iterator</strong> and <strong>Iterable</strong> interface</p>\n\n<p>Queue Size will increase as It gets full</p>\n\n<p><strong>Queue Interface</strong></p>\n\n<pre><code>package com.practice.ds.queue;\n\nimport com.practice.ds.queue.exception.QueueException;\n\npublic interface QueueInterface&lt;T&gt; {\n\n    public boolean empty();\n\n    public void enqueue(T item);\n\n    public void dequeue() throws QueueException;\n\n    public T front() throws QueueException;\n\n    public void clear();\n}\n</code></pre>\n\n<p><strong>Custom Exception Class</strong></p>\n\n<pre><code>package com.practice.ds.queue.exception;\n\npublic class QueueException extends Exception {\n\n    private static final long serialVersionUID = -884127093599336807L;\n\n    public QueueException() {\n        super();\n    }\n\n    public QueueException(String message) {\n        super(message);\n    }\n\n    public QueueException(Throwable e) {\n        super(e);\n    }\n\n    public QueueException(String message, Throwable e) {\n        super(message, e);\n    }\n}\n</code></pre>\n\n<p><strong>Implementation of Queue</strong></p>\n\n<pre><code>package com.practice.ds.queue;\n\nimport java.util.Iterator;\n\nimport com.practice.ds.queue.exception.QueueException;\n\npublic class Queue&lt;T&gt; implements QueueInterface&lt;T&gt;, Iterable&lt;T&gt; {\n\n    private static final int DEFAULT_CAPACITY = 10;\n    private int current = 0;\n    private int rear = 0;\n    private T[] queueArray = null;\n    private int capacity = 0;\n\n    @SuppressWarnings(\"unchecked\")\n    public Queue() {\n        capacity = DEFAULT_CAPACITY;\n        queueArray = (T[]) new Object[DEFAULT_CAPACITY];\n        rear = 0;\n        current = 0;\n    }\n\n    @Override\n    public boolean empty() {\n        return capacity == current;\n    }\n\n    @Override\n    public void enqueue(T item) {\n        if(full())\n            ensureCapacity();\n        queueArray[current] = item;\n        current++;\n    }\n\n    @Override\n    public void dequeue() throws QueueException {\n        T dequeuedItem = front();\n        rear++;\n        System.out.println(\"Dequed Item is \" + dequeuedItem);\n    }\n\n    @Override\n    public T front() throws QueueException {\n        return queueArray[rear];\n    }\n\n    @Override\n    public void clear() {\n        for (int i = 0; i &lt; capacity; i++)\n            queueArray[i] = null;\n        current = 0;\n        rear = 0;\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    private void ensureCapacity() {\n        if (rear != 0) {\n            copyElements(queueArray);\n        } else {\n            capacity *= 2;\n            T[] tempQueueArray = (T[]) new Object[capacity];\n            copyElements(tempQueueArray);\n        }\n        current -= rear;\n        rear = 0;\n    }\n\n    private void copyElements(T[] array) {\n        for (int i = rear; i &lt; current; i++)\n            array[i - rear] = queueArray[i];\n        queueArray = array;\n    }\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return new QueueItearator&lt;T&gt;();\n    }\n\n    public boolean full() {\n        return current == capacity;\n    }\n\n    private class QueueItearator&lt;T&gt; implements Iterator&lt;T&gt; {\n\n        private int index = rear;\n\n        @Override\n        public boolean hasNext() {\n            return index &lt; current;\n        }\n\n        @SuppressWarnings(\"unchecked\")\n        @Override\n        public T next() {\n            return (T) queueArray[index++];\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14466484,"reputation":11,"user_id":10449693,"display_name":"skynet skynet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575028388,"creation_date":1562734842,"answer_id":56963669,"question_id":11149707,"body_markdown":"O(1) access to first and last nodes.\r\n\r\n    class Queue {\r\n\r\n        private Node head;\r\n        private Node end;\r\n\r\n        public void enqueue(Integer data){\r\n\r\n            Node node = new Node(data);\r\n            if(this.end == null){\r\n                this.head = node;\r\n                this.end = this.head;\r\n            }\r\n            else {\r\n                this.end.setNext(node);\r\n                this.end = node;\r\n            }\r\n        }\r\n\r\n        public void dequeue (){\r\n\r\n            if (head == end){\r\n                end = null;\r\n            }\r\n\r\n            head = this.head.getNext();\r\n        }\r\n\r\n\r\n        @Override\r\n        public String toString() {\r\n            return head.getData().toString();\r\n        }\r\n\r\n        public String deepToString() {\r\n\r\n            StringBuilder res = new StringBuilder();\r\n            res.append(head.getData());\r\n\r\n            Node cur = head;\r\n            while (null != (cur = cur.getNext())){\r\n                res.append(&quot; &quot;);\r\n                res.append(cur.getData());\r\n\r\n            }\r\n            return res.toString();\r\n        }\r\n    }\r\n\r\n    class Node {\r\n\r\n        private Node next;\r\n        private Integer data;\r\n\r\n\r\n        Node(Integer i){\r\n            data = i;\r\n        }\r\n\r\n        public Integer getData() {\r\n            return data;\r\n        }\r\n\r\n        public Node getNext() {\r\n            return next;\r\n        }\r\n\r\n        public void setNext(Node next) {\r\n            this.next = next;\r\n        }\r\n    }","title":"Best implementation of Java Queue?","body":"<p>O(1) access to first and last nodes.</p>\n\n<pre><code>class Queue {\n\n    private Node head;\n    private Node end;\n\n    public void enqueue(Integer data){\n\n        Node node = new Node(data);\n        if(this.end == null){\n            this.head = node;\n            this.end = this.head;\n        }\n        else {\n            this.end.setNext(node);\n            this.end = node;\n        }\n    }\n\n    public void dequeue (){\n\n        if (head == end){\n            end = null;\n        }\n\n        head = this.head.getNext();\n    }\n\n\n    @Override\n    public String toString() {\n        return head.getData().toString();\n    }\n\n    public String deepToString() {\n\n        StringBuilder res = new StringBuilder();\n        res.append(head.getData());\n\n        Node cur = head;\n        while (null != (cur = cur.getNext())){\n            res.append(\" \");\n            res.append(cur.getData());\n\n        }\n        return res.toString();\n    }\n}\n\nclass Node {\n\n    private Node next;\n    private Integer data;\n\n\n    Node(Integer i){\n        data = i;\n    }\n\n    public Integer getData() {\n        return data;\n    }\n\n    public Node getNext() {\n        return next;\n    }\n\n    public void setNext(Node next) {\n        this.next = next;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":175291,"reputation":6872,"user_id":405210,"accept_rate":81,"display_name":"Georges Oates Larsen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129389,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":11149810,"answer_count":9,"score":88,"last_activity_date":1636083003,"creation_date":1340334721,"question_id":11149707,"body_markdown":"I am working (in Java) on a recursive image processing algorithm that recursively traverses the pixels of the image, outwards from a center point.\r\n\r\nUnfortunately, that causes a Stack Overflow. So I have decided to switch to a Queue-based algorithm.\r\n\r\nNow, this is all fine and dandy- but considering the fact that its queue will be analyzing THOUSANDS of pixels in a very short amount of time, while constantly popping and pushing, WITHOUT maintaining a predictable state (It could be anywhere between length 100, and 20000), the queue implementation needs to have significantly fast popping and pushing abilities.\r\n\r\n\r\nA linked list seems attractive due to its ability to push elements onto itself without rearranging anything else in the list, but in order for it to be fast enough, it would need easy access to both its head, AND its tail (or second-to-last node if it were not doubly-linked). Sadly, I cannot find any information related to the underlying implementation of linked lists in Java, so it&#39;s hard to say if a linked list is really the way to go...\r\n\r\n\r\nThis brings me to my question. What would be the best implementation of the Queue interface in Java for what I intend to do? (I do not wish to edit or even access anything other than the head and tail of the queue -- I do not wish to do any sort of rearranging, or anything. On the flip side, I DO intend to do a lot of pushing and popping, and the queue will be changing size quite a bit, so preallocating would be inefficient)","title":"Best implementation of Java Queue?","body":"<p>I am working (in Java) on a recursive image processing algorithm that recursively traverses the pixels of the image, outwards from a center point.</p>\n\n<p>Unfortunately, that causes a Stack Overflow. So I have decided to switch to a Queue-based algorithm.</p>\n\n<p>Now, this is all fine and dandy- but considering the fact that its queue will be analyzing THOUSANDS of pixels in a very short amount of time, while constantly popping and pushing, WITHOUT maintaining a predictable state (It could be anywhere between length 100, and 20000), the queue implementation needs to have significantly fast popping and pushing abilities.</p>\n\n<p>A linked list seems attractive due to its ability to push elements onto itself without rearranging anything else in the list, but in order for it to be fast enough, it would need easy access to both its head, AND its tail (or second-to-last node if it were not doubly-linked). Sadly, I cannot find any information related to the underlying implementation of linked lists in Java, so it's hard to say if a linked list is really the way to go...</p>\n\n<p>This brings me to my question. What would be the best implementation of the Queue interface in Java for what I intend to do? (I do not wish to edit or even access anything other than the head and tail of the queue -- I do not wish to do any sort of rearranging, or anything. On the flip side, I DO intend to do a lot of pushing and popping, and the queue will be changing size quite a bit, so preallocating would be inefficient)</p>\n"},{"tags":["java","reactjs","spring","spring-boot","backend"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636043429,"creation_date":1636043429,"answer_id":69842662,"question_id":69842331,"body_markdown":"Maybe try something like this ...\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class SecSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(final HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests()\r\n            // ... endpoints\r\n            .formLogin()\r\n                ... config\r\n                .defaultSuccessUrl(&quot;http://localhost:3000l&quot;, true)\r\n            // ... other configuration       \r\n    }\r\n}\r\n```","title":"Spring Boot - Issues redirecting to external URL with AuthenticationSuccessHandler","body":"<p>Maybe try something like this ...</p>\n<pre><code>@EnableWebSecurity\npublic class SecSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n            // ... endpoints\n            .formLogin()\n                ... config\n                .defaultSuccessUrl(&quot;http://localhost:3000l&quot;, true)\n            // ... other configuration       \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8838669,"reputation":776,"user_id":6601800,"display_name":"Linh Vu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636081785,"creation_date":1636081785,"answer_id":69848279,"question_id":69842331,"body_markdown":"With `formLogin`, Spring Security basically provides you these steps (simplified):\r\n1. When you call an API need to authenticate the user, if AccessDeniedException happens, a `AuthenticationEntryPoint` will redirect you to `formLogin().loginPage(&quot;http://localhost:3000/login&quot;)`.\r\n2. After the user fill out the `username` and the `password`, you need to POST them to `formLogin().loginProcessingUrl(&quot;/login123&quot;)` (default value if you don&#39;t specicify should be &quot;/login&quot;).\r\n3. The `UsernamePasswordAuthenticationFilter`, after that, bases on the matcher on `&quot;/login123&quot;` will intercept your POST, and validate your user with `username` and `password`.\r\n4. If they are validated successfully, your `.successHandler(myAuthenticationSuccessHandler())` will be called to do its job.\r\n\r\n...\r\n\r\n---\r\nHere, because\r\n&gt; authentication is done by sending a POST-request to localhost:8080/api/v1/login (getting a JWT access token in return)\r\n\r\nYou didn&#39;t follow the flow from step 2 (you didn&#39;t POST username/password to &quot;/login123&quot;), you couldn&#39;t get features supported by Spring Security after that (`this.rememberMeServices.loginSuccess`, `this.successHandler.onAuthenticationSuccess`,... for example).\r\n\r\n---\r\n**For your case**, after you get JWT from `a POST-request to localhost:8080/api/v1/login`, you could redirect by yourself, you don&#39;t need to depend on `.successHandler(myAuthenticationSuccessHandler())`.","title":"Spring Boot - Issues redirecting to external URL with AuthenticationSuccessHandler","body":"<p>With <code>formLogin</code>, Spring Security basically provides you these steps (simplified):</p>\n<ol>\n<li>When you call an API need to authenticate the user, if AccessDeniedException happens, a <code>AuthenticationEntryPoint</code> will redirect you to <code>formLogin().loginPage(&quot;http://localhost:3000/login&quot;)</code>.</li>\n<li>After the user fill out the <code>username</code> and the <code>password</code>, you need to POST them to <code>formLogin().loginProcessingUrl(&quot;/login123&quot;)</code> (default value if you don't specicify should be &quot;/login&quot;).</li>\n<li>The <code>UsernamePasswordAuthenticationFilter</code>, after that, bases on the matcher on <code>&quot;/login123&quot;</code> will intercept your POST, and validate your user with <code>username</code> and <code>password</code>.</li>\n<li>If they are validated successfully, your <code>.successHandler(myAuthenticationSuccessHandler())</code> will be called to do its job.</li>\n</ol>\n<p>...</p>\n<hr />\n<p>Here, because</p>\n<blockquote>\n<p>authentication is done by sending a POST-request to localhost:8080/api/v1/login (getting a JWT access token in return)</p>\n</blockquote>\n<p>You didn't follow the flow from step 2 (you didn't POST username/password to &quot;/login123&quot;), you couldn't get features supported by Spring Security after that (<code>this.rememberMeServices.loginSuccess</code>, <code>this.successHandler.onAuthenticationSuccess</code>,... for example).</p>\n<hr />\n<p><strong>For your case</strong>, after you get JWT from <code>a POST-request to localhost:8080/api/v1/login</code>, you could redirect by yourself, you don't need to depend on <code>.successHandler(myAuthenticationSuccessHandler())</code>.</p>\n"}],"owner":{"account_id":23239621,"reputation":1,"user_id":17329152,"display_name":"quantumzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636081785,"creation_date":1636042085,"question_id":69842331,"body_markdown":"I am using Spring Boot for the first time to setup a user login system for a REACT web-app. As of now I am trying to redirect the user to another page in my REACT-app after a successful  authentication. I am using a custom AuthenticationSuccessHandler to handle the actual redirection. \r\n\r\n```\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        CustomAuthenticationFilter customAuthenticationFilter = new CustomAuthenticationFilter(authenticationManagerBean());\r\n        customAuthenticationFilter.setFilterProcessesUrl(&quot;/api/v*/login/**&quot;);\r\n        http.cors().configurationSource(request -&gt; new CorsConfiguration().applyPermitDefaultValues());\r\n        http.csrf().disable();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.authorizeRequests().antMatchers(&quot;/api/v*/login/**&quot;).permitAll();\r\n        http.authorizeRequests().antMatchers(HttpMethod.GET, &quot;api/v*/users/**&quot;).hasAnyAuthority(&quot;PRODUCER&quot;);\r\n        http.authorizeRequests().antMatchers(&quot;/api/v*/registration/**&quot;).permitAll();\r\n        http.authorizeRequests().anyRequest().authenticated();\r\n        http.formLogin().loginPage(&quot;http://localhost:3000/login&quot;).successHandler(myAuthenticationSuccessHandler());\r\n```\r\n```\r\n @Bean\r\n    public AuthenticationSuccessHandler myAuthenticationSuccessHandler(){\r\n        return new RedirectLoginSuccessHandler();\r\n    }\r\n```\r\n```\r\npublic class RedirectLoginSuccessHandler implements AuthenticationSuccessHandler {\r\n\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest httpServletRequest,\r\n                                        HttpServletResponse httpServletResponse,\r\n                                        Authentication authentication) throws IOException {\r\n\r\n        httpServletResponse.sendRedirect(&quot;http://localhost:3000&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe API runs on port :8080 and the react login form runs on :3000/login, authentication is done by sending a POST-request to localhost:8080/api/v1/login (getting a JWT access token in return), after that is attempted I want the user to get redirected to the homepage at localhost:3000, but the redirect is being ignored unless I use the login form that you get from Spring with the loginForm() method. \r\n\r\nI also tried sending a redirect along with the JWT token as a response to the POST-request to api/v1/login, but ran into problems with CORS doing that. What am I doing wrong here? The tutorials i&#39;ve seen on redirecting after successful authentication refer to html files such as home.html to redirect, and I am assuming they are able to do this by having bundled together the REACT and Spring boot project into one mono-repository.\r\n\r\n\r\n[Cors issues][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/czC0k.png","title":"Spring Boot - Issues redirecting to external URL with AuthenticationSuccessHandler","body":"<p>I am using Spring Boot for the first time to setup a user login system for a REACT web-app. As of now I am trying to redirect the user to another page in my REACT-app after a successful  authentication. I am using a custom AuthenticationSuccessHandler to handle the actual redirection.</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        CustomAuthenticationFilter customAuthenticationFilter = new CustomAuthenticationFilter(authenticationManagerBean());\n        customAuthenticationFilter.setFilterProcessesUrl(&quot;/api/v*/login/**&quot;);\n        http.cors().configurationSource(request -&gt; new CorsConfiguration().applyPermitDefaultValues());\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeRequests().antMatchers(&quot;/api/v*/login/**&quot;).permitAll();\n        http.authorizeRequests().antMatchers(HttpMethod.GET, &quot;api/v*/users/**&quot;).hasAnyAuthority(&quot;PRODUCER&quot;);\n        http.authorizeRequests().antMatchers(&quot;/api/v*/registration/**&quot;).permitAll();\n        http.authorizeRequests().anyRequest().authenticated();\n        http.formLogin().loginPage(&quot;http://localhost:3000/login&quot;).successHandler(myAuthenticationSuccessHandler());\n</code></pre>\n<pre><code> @Bean\n    public AuthenticationSuccessHandler myAuthenticationSuccessHandler(){\n        return new RedirectLoginSuccessHandler();\n    }\n</code></pre>\n<pre><code>public class RedirectLoginSuccessHandler implements AuthenticationSuccessHandler {\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest httpServletRequest,\n                                        HttpServletResponse httpServletResponse,\n                                        Authentication authentication) throws IOException {\n\n        httpServletResponse.sendRedirect(&quot;http://localhost:3000&quot;);\n    }\n\n}\n</code></pre>\n<p>The API runs on port :8080 and the react login form runs on :3000/login, authentication is done by sending a POST-request to localhost:8080/api/v1/login (getting a JWT access token in return), after that is attempted I want the user to get redirected to the homepage at localhost:3000, but the redirect is being ignored unless I use the login form that you get from Spring with the loginForm() method.</p>\n<p>I also tried sending a redirect along with the JWT token as a response to the POST-request to api/v1/login, but ran into problems with CORS doing that. What am I doing wrong here? The tutorials i've seen on redirecting after successful authentication refer to html files such as home.html to redirect, and I am assuming they are able to do this by having bundled together the REACT and Spring boot project into one mono-repository.</p>\n<p><a href=\"https://i.stack.imgur.com/czC0k.png\" rel=\"nofollow noreferrer\">Cors issues</a></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1554718618,"post_id":55561986,"comment_id":97840969,"body_markdown":"glad your found a solution :) you might consider to post it as an answer (to your own question) - doing so makes it more prominently recognizable to others","body":"glad your found a solution :) you might consider to post it as an answer (to your own question) - doing so makes it more prominently recognizable to others"},{"owner":{"account_id":23009887,"reputation":89,"user_id":17132555,"display_name":"CoderLBY"},"score":0,"creation_date":1686037191,"post_id":55561986,"comment_id":134740357,"body_markdown":"For those who are using Java 8. Try Installing Zulu version of JDK-FX (from https://www.azul.com/downloads/?package=jdk-fx) fixed it for me. Replace your old JDK config with this one I mean. It works for me. The rest answers are useless.","body":"For those who are using Java 8. Try Installing Zulu version of JDK-FX (from <a href=\"https://www.azul.com/downloads/?package=jdk-fx\" rel=\"nofollow noreferrer\">azul.com/downloads/?package=jdk-fx</a>) fixed it for me. Replace your old JDK config with this one I mean. It works for me. The rest answers are useless."}],"answers":[{"tags":[],"owner":{"display_name":"user10803007"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1577557686,"creation_date":1554908109,"answer_id":55615653,"question_id":55561986,"body_markdown":"After downloading JavaFX 11+, extract the file, and when the file is extracted, switch to IntelliJ IDEA. Then follow the steps below in IntelliJ IDEA.\r\n\r\n0. File \r\n0. Project Structure \r\n03. Global Libraries &lt;br/&gt;\r\n0. Press the &quot;+&quot; sign and then Java \r\n0. Go to the JavaFX 11+ folder you have just downloaded. Go into the Folder and now go into &quot;lib&quot; and select all of these files in the Folder except &quot;src.zip&quot;, and press &quot;OK&quot; in the bottom right corner and save it as &quot;javafx12&quot;.&lt;br/&gt;\r\n0. Now you move the mouse pointer under the &quot;+&quot; and press right click on the Librarie that you named as &quot;javafx12&quot;, now a small window opens with different options but you press the mouse pointer on &quot;Add to Modules&quot; after you did that you move the mouse pointer to the &quot;src&quot; Folder and right-click with the mouse. Now open a wide window with various options but you choose the &quot;New&quot; option, now has opened a wide window with many different options but you choose again &quot;module-info.java&quot; and now you copy this text: \r\n\r\n        module YOUR-PROJECT-NAME {\r\n    \r\n            requires javafx.graphics;\r\n            requires javafx.controls;\r\n            requires javafx.media;\r\n            requires javafx.base;\r\n            requires javafx.web;\r\n            requires javafx.swing;\r\n            requires javafx.fxml;\r\n    \r\n            opens application;\r\n        }\r\n\r\nThis resolves the problem.","title":"How to solve the &quot;Graphics Device initialization failed for : d3d, sw&quot; Problem","body":"<p>After downloading JavaFX 11+, extract the file, and when the file is extracted, switch to IntelliJ IDEA. Then follow the steps below in IntelliJ IDEA.</p>\n\n<ol>\n<li>File </li>\n<li>Project Structure </li>\n<li>Global Libraries <br/></li>\n<li>Press the \"+\" sign and then Java </li>\n<li>Go to the JavaFX 11+ folder you have just downloaded. Go into the Folder and now go into \"lib\" and select all of these files in the Folder except \"src.zip\", and press \"OK\" in the bottom right corner and save it as \"javafx12\".<br/></li>\n<li><p>Now you move the mouse pointer under the \"+\" and press right click on the Librarie that you named as \"javafx12\", now a small window opens with different options but you press the mouse pointer on \"Add to Modules\" after you did that you move the mouse pointer to the \"src\" Folder and right-click with the mouse. Now open a wide window with various options but you choose the \"New\" option, now has opened a wide window with many different options but you choose again \"module-info.java\" and now you copy this text: </p>\n\n<pre><code>module YOUR-PROJECT-NAME {\n\n    requires javafx.graphics;\n    requires javafx.controls;\n    requires javafx.media;\n    requires javafx.base;\n    requires javafx.web;\n    requires javafx.swing;\n    requires javafx.fxml;\n\n    opens application;\n}\n</code></pre></li>\n</ol>\n\n<p>This resolves the problem.</p>\n"},{"tags":[],"owner":{"account_id":12715865,"reputation":1,"user_id":9237919,"display_name":"Valerie Griffin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1555918407,"creation_date":1555918407,"answer_id":55790792,"question_id":55561986,"body_markdown":"You don&#39;t have to include everything in the module-info, only the pieces that you use. The minimum seems to be base, controls, and graphics. (My code uses those and fxml.) For example, if you&#39;re not using swing or media, javafx.swing and javafx.media may be omitted. The rendering toolkit, the part that wasn&#39;t found, is in the Windows-specific binary. It&#39;s in the javafx-sdk/bin directory. That directory has to be part of java.library.path. If you&#39;re using modules, javafx-sdk/lib may be part of the module-path. (Of course, the particular version is part of the javafx-sdk directory name.)","title":"How to solve the &quot;Graphics Device initialization failed for : d3d, sw&quot; Problem","body":"<p>You don't have to include everything in the module-info, only the pieces that you use. The minimum seems to be base, controls, and graphics. (My code uses those and fxml.) For example, if you're not using swing or media, javafx.swing and javafx.media may be omitted. The rendering toolkit, the part that wasn't found, is in the Windows-specific binary. It's in the javafx-sdk/bin directory. That directory has to be part of java.library.path. If you're using modules, javafx-sdk/lib may be part of the module-path. (Of course, the particular version is part of the javafx-sdk directory name.)</p>\n"},{"tags":[],"owner":{"account_id":17756683,"reputation":81,"user_id":12893639,"display_name":"R Diwakar Choudhury"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1581612049,"creation_date":1581611210,"answer_id":60212489,"question_id":55561986,"body_markdown":"Download the JavaFX Windows SDK using the link below\r\n\r\nhttps://gluonhq.com/products/javafx/\r\n\r\nand use the options below in VM argument&#39;s when running FX Application\r\n\r\n    -p $ModuleFileDir$/lib/javafx-sdk-11.0.2/lib --add-modules javafx.controls,javafx.base,javafx.fxml,javafx.graphics,javafx.media,javafx.web --add-opens=javafx.graphics/javafx.scene=ALL-UNNAMED --add-exports javafx.base/com.sun.javafx.event=ALL-UNNAMED\r\n\r\n**Note:** Don&#39;t change anything in the downloaded folder: use as it is. The DLL files are important; if the DLL files are missing then the above error pops up.\r\n\r\n","title":"How to solve the &quot;Graphics Device initialization failed for : d3d, sw&quot; Problem","body":"<p>Download the JavaFX Windows SDK using the link below</p>\n\n<p><a href=\"https://gluonhq.com/products/javafx/\" rel=\"noreferrer\">https://gluonhq.com/products/javafx/</a></p>\n\n<p>and use the options below in VM argument's when running FX Application</p>\n\n<pre><code>-p $ModuleFileDir$/lib/javafx-sdk-11.0.2/lib --add-modules javafx.controls,javafx.base,javafx.fxml,javafx.graphics,javafx.media,javafx.web --add-opens=javafx.graphics/javafx.scene=ALL-UNNAMED --add-exports javafx.base/com.sun.javafx.event=ALL-UNNAMED\n</code></pre>\n\n<p><strong>Note:</strong> Don't change anything in the downloaded folder: use as it is. The DLL files are important; if the DLL files are missing then the above error pops up.</p>\n"},{"tags":[],"owner":{"account_id":4884924,"reputation":1777,"user_id":3937773,"accept_rate":43,"display_name":"Eric Ihli"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1617907570,"creation_date":1617907570,"answer_id":67010093,"question_id":55561986,"body_markdown":"The solution that worked for me was to add the `\\bin` directory of the JavaFX SDK to `java.library.path`. This has the same effect as copying the files from the bin folder to the path of `JAVA_HOME` but it keeps the change project-specific.\r\n\r\n`File -&gt; Project Properties -&gt; Run`\r\n```\r\n-Djava.library.path=&quot;C:\\path\\to\\javafx-sdk-11.0.2\\bin&quot;\r\n```","title":"How to solve the &quot;Graphics Device initialization failed for : d3d, sw&quot; Problem","body":"<p>The solution that worked for me was to add the <code>\\bin</code> directory of the JavaFX SDK to <code>java.library.path</code>. This has the same effect as copying the files from the bin folder to the path of <code>JAVA_HOME</code> but it keeps the change project-specific.</p>\n<p><code>File -&gt; Project Properties -&gt; Run</code></p>\n<pre><code>-Djava.library.path=&quot;C:\\path\\to\\javafx-sdk-11.0.2\\bin&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16124457,"reputation":23,"user_id":12291844,"display_name":"Amir Shamaee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623673094,"creation_date":1623673094,"answer_id":67970077,"question_id":55561986,"body_markdown":"I strongly recommend using maven for creating the JavaFX program. The approach is illustrated in the Intellij workshop on JavaFX. [link][1]\r\nHowever; there is a simple solution to this problem. you have to extract all content of the JavaFX SDK; then add libraries without removing or changing other subfolders. if you just copy the lib subfolder, it will not address folders in the bin subfolder\r\n\r\n\r\n  [1]: https://blog.jetbrains.com/idea/2021/02/livestream-summary-javafx-the-cross-platform-ui-development-in-java/","title":"How to solve the &quot;Graphics Device initialization failed for : d3d, sw&quot; Problem","body":"<p>I strongly recommend using maven for creating the JavaFX program. The approach is illustrated in the Intellij workshop on JavaFX. <a href=\"https://blog.jetbrains.com/idea/2021/02/livestream-summary-javafx-the-cross-platform-ui-development-in-java/\" rel=\"nofollow noreferrer\">link</a>\nHowever; there is a simple solution to this problem. you have to extract all content of the JavaFX SDK; then add libraries without removing or changing other subfolders. if you just copy the lib subfolder, it will not address folders in the bin subfolder</p>\n"},{"tags":[],"owner":{"account_id":21732021,"reputation":61,"user_id":16040639,"display_name":"rohin paikattil"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1636081249,"creation_date":1636081249,"answer_id":69848228,"question_id":55561986,"body_markdown":"I faced the same issue. It turns out I had downloaded the aarch64 version instead of x64.\r\nhttps://gluonhq.com/products/javafx/\r\n\r\n","title":"How to solve the &quot;Graphics Device initialization failed for : d3d, sw&quot; Problem","body":"<p>I faced the same issue. It turns out I had downloaded the aarch64 version instead of x64.\n<a href=\"https://gluonhq.com/products/javafx/\" rel=\"noreferrer\">https://gluonhq.com/products/javafx/</a></p>\n"}],"owner":{"display_name":"user10803007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43908,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":55615653,"answer_count":6,"score":14,"last_activity_date":1636081249,"creation_date":1554659468,"question_id":55561986,"body_markdown":"I encountered the following `RuntimeException` when starting an application which uses JavaFX 11+:\r\n\r\n\r\n\r\n    Graphics Device initialization failed for :  d3d, sw\r\n    Error initializing QuantumRenderer: no suitable pipeline found\r\n    java.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:280)\r\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:243)\r\n        at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:260)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\n    Caused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:94)\r\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:124)\r\n        at java.base/java.lang.Thread.run(Thread.java:835)\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\n    Caused by: java.lang.RuntimeException: No toolkit found\r\n        at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:272)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\r\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\r\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n        ... 5 more\r\n","title":"How to solve the &quot;Graphics Device initialization failed for : d3d, sw&quot; Problem","body":"<p>I encountered the following <code>RuntimeException</code> when starting an application which uses JavaFX 11+:</p>\n\n<pre><code>Graphics Device initialization failed for :  d3d, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:280)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:243)\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:260)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:94)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:124)\n    at java.base/java.lang.Thread.run(Thread.java:835)\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: No toolkit found\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:272)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:267)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:158)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:658)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    ... 5 more\n</code></pre>\n"},{"tags":["java","input","user-input","visual-studio-code"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1635949884,"post_id":69826575,"comment_id":123428788,"body_markdown":"How are you reading in this file in your code ?\nAre you getting an error message or something ? \nWhich exact steps are you trying to take and what result are you getting ?","body":"How are you reading in this file in your code ? Are you getting an error message or something ?  Which exact steps are you trying to take and what result are you getting ?"},{"owner":{"account_id":14967095,"reputation":27,"user_id":14018280,"display_name":"DrusePstrago"},"score":0,"creation_date":1635950029,"post_id":69826575,"comment_id":123428842,"body_markdown":"I&#39;m just manually inputting the values by pasting it. After pasting the values, it just enters part of it after which I can only delete but not input extra values","body":"I&#39;m just manually inputting the values by pasting it. After pasting the values, it just enters part of it after which I can only delete but not input extra values"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635950187,"creation_date":1635950187,"answer_id":69826749,"question_id":69826575,"body_markdown":"&gt; I&#39;m just manually inputting the values by pasting it \r\n\r\nIt would be easier for you to just read this input from a file with the `Scanner` class. \r\n\r\n```\r\n      String s = Files.readString(&quot;PATH_TO_YOUR_FILE&quot;, StandardCharsets.US_ASCII);\r\n\r\n      // create a new scanner with the specified String Object\r\n      Scanner scanner = new Scanner(s);\r\n\r\n      // find the next int token and print it\r\n      // loop for the whole scanner\r\n      while (scanner.hasNext()) {\r\n\r\n         // if the next is a int, print found and the int\r\n         if (scanner.hasNextInt()) {\r\n            //Store the data here ...\r\n         }\r\n         // if no int is found, print &quot;Not Found:&quot; and the token\r\n         System.out.println(&quot;Not Found :&quot; + scanner.next());\r\n      }\r\n```","title":"Max limit on number of input in vs code java","body":"<blockquote>\n<p>I'm just manually inputting the values by pasting it</p>\n</blockquote>\n<p>It would be easier for you to just read this input from a file with the <code>Scanner</code> class.</p>\n<pre><code>      String s = Files.readString(&quot;PATH_TO_YOUR_FILE&quot;, StandardCharsets.US_ASCII);\n\n      // create a new scanner with the specified String Object\n      Scanner scanner = new Scanner(s);\n\n      // find the next int token and print it\n      // loop for the whole scanner\n      while (scanner.hasNext()) {\n\n         // if the next is a int, print found and the int\n         if (scanner.hasNextInt()) {\n            //Store the data here ...\n         }\n         // if no int is found, print &quot;Not Found:&quot; and the token\n         System.out.println(&quot;Not Found :&quot; + scanner.next());\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22960237,"reputation":118,"user_id":17090226,"display_name":"Rainmaker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635950433,"creation_date":1635950433,"answer_id":69826815,"question_id":69826575,"body_markdown":"Usually, using a scanner is perfectly alright. But with input samples of up to 90 000, which seems to be test case 1, it might be very slow due to excessive flushing.\r\n\r\nSomething like this might be more effective:\r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(&quot;temp_code_input.txt&quot;));\r\n    ...\r\n    int N = Integer.parseInt(br.readLine());\r\n    ...\r\n    StringTokenizer st = new StringTokenizer(br.readLine());\r\n    /* \r\n    Assumes every input is on the same line. If not, create a new StingTokenizer\r\n    for each new line of input.\r\n    */\r\n    int[] arr = new int[N];\r\n    for (int i = 0; i &lt; N; i++) {\r\n      arr[i] = Integer.parseInt(st.nextToken());\r\n    }\r\n    \r\n    for (int elem : arr) {\r\n      System.out.println(elem)\r\n    }","title":"Max limit on number of input in vs code java","body":"<p>Usually, using a scanner is perfectly alright. But with input samples of up to 90 000, which seems to be test case 1, it might be very slow due to excessive flushing.</p>\n<p>Something like this might be more effective:</p>\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(&quot;temp_code_input.txt&quot;));\n...\nint N = Integer.parseInt(br.readLine());\n...\nStringTokenizer st = new StringTokenizer(br.readLine());\n/* \nAssumes every input is on the same line. If not, create a new StingTokenizer\nfor each new line of input.\n*/\nint[] arr = new int[N];\nfor (int i = 0; i &lt; N; i++) {\n  arr[i] = Integer.parseInt(st.nextToken());\n}\n\nfor (int elem : arr) {\n  System.out.println(elem)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636081053,"creation_date":1636081053,"answer_id":69848215,"question_id":69826575,"body_markdown":"When i test the input you provided, it stops and not accept more numbers when i paste them, so i ask in github: [Limit max number of terminal input][1] then get the reply: \r\n\r\n&gt; when I paste your example input into the terminal, it succeeds\r\n&gt; (although takes quite awhile) - what you might be seeing is the output\r\n&gt; (pasted text) trimmed relative to what you&#39;re expecting because of the\r\n&gt; maximum terminal scrollback which can be configured with\r\n&gt; `terminal.integrated.scrollback`\r\n\r\nSo please waiting because it would succeed that pasting the input. Enlarge the value of `terminal.integrated.scrollback` in Settings.json to check the output.\r\n\r\n\r\n  [1]: https://github.com/microsoft/vscode/issues/136405","title":"Max limit on number of input in vs code java","body":"<p>When i test the input you provided, it stops and not accept more numbers when i paste them, so i ask in github: <a href=\"https://github.com/microsoft/vscode/issues/136405\" rel=\"nofollow noreferrer\">Limit max number of terminal input</a> then get the reply:</p>\n<blockquote>\n<p>when I paste your example input into the terminal, it succeeds\n(although takes quite awhile) - what you might be seeing is the output\n(pasted text) trimmed relative to what you're expecting because of the\nmaximum terminal scrollback which can be configured with\n<code>terminal.integrated.scrollback</code></p>\n</blockquote>\n<p>So please waiting because it would succeed that pasting the input. Enlarge the value of <code>terminal.integrated.scrollback</code> in Settings.json to check the output.</p>\n"}],"owner":{"account_id":14967095,"reputation":27,"user_id":14018280,"display_name":"DrusePstrago"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1636081053,"creation_date":1635949463,"question_id":69826575,"body_markdown":"I am trying some algorithm which requires large no of input samples for testing but at a time I cannot take input more than certain number of times. \r\n\r\n```java\r\nN = sc.nextInt();\r\n...\r\nint[] arr = new int[N];\r\n\r\nfor(int i=0; i&lt;N; i++){\r\n  arr[i] = sc.nextInt();\r\n}\r\n\r\nfor(int elem: arr){\r\n  System.out.println(elem+&quot; &quot;); \r\n}\r\n```\r\nInput format is \r\n```terminal\r\nN \r\n//HERE GOES ARRAY ELEMENTS\r\n```\r\nwhere N- no of element in array\r\n\r\nI&#39;m using this user input [test_case_1][1], but I can only input fraction of the given values.&lt;br&gt;\r\nI wanted to know what is restricting the number of input in vscode \r\n\r\n\r\n  [1]: https://drive.google.com/file/d/1ayXET85FsCjQUJa6TDSVd7MA0OangykB/view?usp=sharing","title":"Max limit on number of input in vs code java","body":"<p>I am trying some algorithm which requires large no of input samples for testing but at a time I cannot take input more than certain number of times.</p>\n<pre class=\"lang-java prettyprint-override\"><code>N = sc.nextInt();\n...\nint[] arr = new int[N];\n\nfor(int i=0; i&lt;N; i++){\n  arr[i] = sc.nextInt();\n}\n\nfor(int elem: arr){\n  System.out.println(elem+&quot; &quot;); \n}\n</code></pre>\n<p>Input format is</p>\n<pre><code>N \n//HERE GOES ARRAY ELEMENTS\n</code></pre>\n<p>where N- no of element in array</p>\n<p>I'm using this user input <a href=\"https://drive.google.com/file/d/1ayXET85FsCjQUJa6TDSVd7MA0OangykB/view?usp=sharing\" rel=\"nofollow noreferrer\">test_case_1</a>, but I can only input fraction of the given values.<br>\nI wanted to know what is restricting the number of input in vscode</p>\n"},{"tags":["java","android","google-apps-script","oauth-2.0"],"comments":[{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":1,"creation_date":1594283250,"post_id":62802419,"comment_id":111073434,"body_markdown":"What are the privacy settings of your Sheet set to?","body":"What are the privacy settings of your Sheet set to?"},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":1,"creation_date":1594283338,"post_id":62802419,"comment_id":111073475,"body_markdown":"Also, links to other sites with code don&#39;t make a good question for stackoverflow. No one is going to go and read the tutorial. Explain your scenario as concisely as you can with all the relevant information - Sheet permissions? How are you accessing it? Are you using OAuth2? Etc","body":"Also, links to other sites with code don&#39;t make a good question for stackoverflow. No one is going to go and read the tutorial. Explain your scenario as concisely as you can with all the relevant information - Sheet permissions? How are you accessing it? Are you using OAuth2? Etc"},{"owner":{"account_id":15059509,"reputation":317,"user_id":10868777,"display_name":"t0m3k"},"score":1,"creation_date":1594286130,"post_id":62802419,"comment_id":111074921,"body_markdown":"Sheet permissions are set to only me. However, the app script/web app is set to anybody, even anonymous. I&#39;ll edit this in a bit to include more details so people won&#39;t have to leave stack overflow. So, with sheet permissions being only me, but web app being set to anyone, can anyone somehow gain access to my sheet data?","body":"Sheet permissions are set to only me. However, the app script/web app is set to anybody, even anonymous. I&#39;ll edit this in a bit to include more details so people won&#39;t have to leave stack overflow. So, with sheet permissions being only me, but web app being set to anyone, can anyone somehow gain access to my sheet data?"},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":1,"creation_date":1594286347,"post_id":62802419,"comment_id":111075012,"body_markdown":"Does the web app run as you, then? If someone was able to get the web app link, then if it runs as you, whatever the web app is set to run will run regardless of who access it. It&#39;s... unlikely someone will guess the web app URL, but in theory given enough time it&#39;s not impossible. You&#39;d be better off directly using the Google Sheets API if you want to mitigate this entirely, though.","body":"Does the web app run as you, then? If someone was able to get the web app link, then if it runs as you, whatever the web app is set to run will run regardless of who access it. It&#39;s... unlikely someone will guess the web app URL, but in theory given enough time it&#39;s not impossible. You&#39;d be better off directly using the Google Sheets API if you want to mitigate this entirely, though."},{"owner":{"account_id":15059509,"reputation":317,"user_id":10868777,"display_name":"t0m3k"},"score":1,"creation_date":1594289478,"post_id":62802419,"comment_id":111076668,"body_markdown":"I&#39;m not sure if it&#39;s run as me. It&#39;s a script deployed as a web app. Permissions are set to anyone, even anonymous can use it. However, the web app contains nothing but a post method. So, even if someone unauthorized has access, all they can do is add data to my hidden spreadsheet, right? They can&#39;t read what&#39;s inside? Can they somehow change the web app code to see my sheet/what&#39;s in my drive?","body":"I&#39;m not sure if it&#39;s run as me. It&#39;s a script deployed as a web app. Permissions are set to anyone, even anonymous can use it. However, the web app contains nothing but a post method. So, even if someone unauthorized has access, all they can do is add data to my hidden spreadsheet, right? They can&#39;t read what&#39;s inside? Can they somehow change the web app code to see my sheet/what&#39;s in my drive?"},{"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"score":0,"creation_date":1594289847,"post_id":62802419,"comment_id":111076882,"body_markdown":"You can see who the app runs at from the [deployment box](https://i.imgur.com/jz5SKol.png) under &quot;Execute the app as:&quot;. The only thing that can happen when the web app is accessed is ther `doGet()` or `doPost()` function will run. If the functions don&#39;t display your data then no, no one can read what&#39;s inside. The can&#39;t even get the link as the .gs file isn&#39;t served in the returned content.","body":"You can see who the app runs at from the <a href=\"https://i.imgur.com/jz5SKol.png\" rel=\"nofollow noreferrer\">deployment box</a> under &quot;Execute the app as:&quot;. The only thing that can happen when the web app is accessed is ther <code>doGet()</code> or <code>doPost()</code> function will run. If the functions don&#39;t display your data then no, no one can read what&#39;s inside. The can&#39;t even get the link as the .gs file isn&#39;t served in the returned content."}],"answers":[{"tags":[],"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636080976,"creation_date":1594290533,"answer_id":62812822,"question_id":62802419,"body_markdown":"### Answer:\r\n*The only data that your web app will serve is that which is returned from your `doGet()` or `doPost()` functions. If your sheet data is not returned, then it will be unviewable.*\r\n\r\n### More Information:\r\nJust to summarise the comment chain above:\r\n\r\n- If the Google Sheet&#39;s privacy settings are set to `Only me` then even with the Sheet link, no one will be able to view it.\r\n- In theory, with enough time and brute forcing, the web app link could be guessed, but it is highly unlikely.\r\n- The web app will run as the person you set in the `Publish as web app` dialog as below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- The only thing that will happen if someone &quot;unauthorised&quot; accesses the web app is the `doGet()` or `doPost()` function will run, HTTP method dependent. If you have no `doGet()`, then `doPost()` will run.\r\n  - Expanding on this, if your `doPost()` does not display the Sheet information, then the Sheet information will not be retrievable to the user.\r\n  - Also, as long as you do not have your Sheet ID in the returned content from your `doPost()` function, the user will also be blind to the Sheet&#39;s ID and can not reverse engineer it.\r\n\r\nAdditionally, if you want to mitigate Web App usage entirely, you can implement adding data to the Sheet directly using the [Google Sheets API Java Client Library](https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/). You can also see the Quickstart on how to get this set up [here](https://developers.google.com/sheets/api/quickstart/java).\r\n\r\n\r\n### References:\r\n- [Overview (Google Sheets API v4 (Rev. 612) 1.25.0)](https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/)\r\n- [Java Quickstart | Sheets API | Google Developers](https://developers.google.com/sheets/api/quickstart/java)\r\n\r\n  [1]: https://i.stack.imgur.com/fjY8Z.png","title":"Sending to Google sheets from Android device via Google Script. Is this secure?","body":"<h3>Answer:</h3>\n<p><em>The only data that your web app will serve is that which is returned from your <code>doGet()</code> or <code>doPost()</code> functions. If your sheet data is not returned, then it will be unviewable.</em></p>\n<h3>More Information:</h3>\n<p>Just to summarise the comment chain above:</p>\n<ul>\n<li>If the Google Sheet's privacy settings are set to <code>Only me</code> then even with the Sheet link, no one will be able to view it.</li>\n<li>In theory, with enough time and brute forcing, the web app link could be guessed, but it is highly unlikely.</li>\n<li>The web app will run as the person you set in the <code>Publish as web app</code> dialog as below:</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/fjY8Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fjY8Z.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>The only thing that will happen if someone &quot;unauthorised&quot; accesses the web app is the <code>doGet()</code> or <code>doPost()</code> function will run, HTTP method dependent. If you have no <code>doGet()</code>, then <code>doPost()</code> will run.\n<ul>\n<li>Expanding on this, if your <code>doPost()</code> does not display the Sheet information, then the Sheet information will not be retrievable to the user.</li>\n<li>Also, as long as you do not have your Sheet ID in the returned content from your <code>doPost()</code> function, the user will also be blind to the Sheet's ID and can not reverse engineer it.</li>\n</ul>\n</li>\n</ul>\n<p>Additionally, if you want to mitigate Web App usage entirely, you can implement adding data to the Sheet directly using the <a href=\"https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/\" rel=\"nofollow noreferrer\">Google Sheets API Java Client Library</a>. You can also see the Quickstart on how to get this set up <a href=\"https://developers.google.com/sheets/api/quickstart/java\" rel=\"nofollow noreferrer\">here</a>.</p>\n<h3>References:</h3>\n<ul>\n<li><a href=\"https://developers.google.com/resources/api-libraries/documentation/sheets/v4/java/latest/\" rel=\"nofollow noreferrer\">Overview (Google Sheets API v4 (Rev. 612) 1.25.0)</a></li>\n<li><a href=\"https://developers.google.com/sheets/api/quickstart/java\" rel=\"nofollow noreferrer\">Java Quickstart | Sheets API | Google Developers</a></li>\n</ul>\n"}],"owner":{"account_id":15059509,"reputation":317,"user_id":10868777,"display_name":"t0m3k"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62812822,"answer_count":1,"score":2,"last_activity_date":1636080976,"creation_date":1594237002,"question_id":62802419,"body_markdown":"I followed this tutorial:\r\nhttps://www.crazycodersclub.com/android/how-to-use-google-sheet-as-database-for-android-app-1-insert-operation/\r\n\r\nSomehow, I got it working for androidX. I want to send sensitive location information over the air to my Google sheet link. How secure is this? I have used OAuth2 with gspread in Python before, and relied on a .json key. This seems so much easier... Can users discover my link and read my private entries? Or is there some limitation where they can only send data to the sheet?  \r\n\r\nWeb app code:\r\n\r\n    var ss = SpreadsheetApp.openByUrl(&quot;Add Your Spread Sheet URL here&quot;);\r\n    \r\n    var sheet = ss.getSheetByName(&#39;Items&#39;); // be very careful ... it is the sheet name .. so it should match \r\n    \r\n    \r\n    function doPost(e){\r\n    var action = e.parameter.action;\r\n    \r\n    if(action == &#39;addItem&#39;){\r\n      return addItem(e);\r\n    \r\n    }\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    function addItem(e){\r\n    \r\n    var date =  new Date();\r\n    \r\n    var id  =  &quot;Item&quot;+sheet.getLastRow(); // Item1\r\n    \r\n    var itemName = e.parameter.itemName;\r\n    \r\n    var brand = e.parameter.brand;\r\n    \r\n    sheet.appendRow([date,id,itemName,brand]);\r\n    \r\n       return ContentService.createTextOutput(&quot;Success&quot;).setMimeType(ContentService.MimeType.TEXT);\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nMy sheet is set to be viewable only by me. The webapp is deployed as everyone has access even anonymous\r\n\r\n\r\nthis is how it&#39;s called in the android app:\r\n\r\n\r\n    StringRequest stringRequest = new StringRequest(Request.Method.POST, &quot;Add Your Web App URL&quot;,\r\n            new Response.Listener&lt;String&gt;() {\r\n                @Override\r\n                public void onResponse(String response) {\r\n\r\n                    loading.dismiss();\r\n                    Toast.makeText(AddItem.this,response,Toast.LENGTH_LONG).show();\r\n                    Intent intent = new Intent(getApplicationContext(),MainActivity.class);\r\n                    startActivity(intent);\r\n\r\n                }\r\n            },\r\n            new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n\r\n                }\r\n            }\r\n\r\n","title":"Sending to Google sheets from Android device via Google Script. Is this secure?","body":"<p>I followed this tutorial:\n<a href=\"https://www.crazycodersclub.com/android/how-to-use-google-sheet-as-database-for-android-app-1-insert-operation/\" rel=\"nofollow noreferrer\">https://www.crazycodersclub.com/android/how-to-use-google-sheet-as-database-for-android-app-1-insert-operation/</a></p>\n<p>Somehow, I got it working for androidX. I want to send sensitive location information over the air to my Google sheet link. How secure is this? I have used OAuth2 with gspread in Python before, and relied on a .json key. This seems so much easier... Can users discover my link and read my private entries? Or is there some limitation where they can only send data to the sheet?</p>\n<p>Web app code:</p>\n<pre><code>var ss = SpreadsheetApp.openByUrl(&quot;Add Your Spread Sheet URL here&quot;);\n\nvar sheet = ss.getSheetByName('Items'); // be very careful ... it is the sheet name .. so it should match \n\n\nfunction doPost(e){\nvar action = e.parameter.action;\n\nif(action == 'addItem'){\n  return addItem(e);\n\n}\n\n}\n\n\n\n\n\nfunction addItem(e){\n\nvar date =  new Date();\n\nvar id  =  &quot;Item&quot;+sheet.getLastRow(); // Item1\n\nvar itemName = e.parameter.itemName;\n\nvar brand = e.parameter.brand;\n\nsheet.appendRow([date,id,itemName,brand]);\n\n   return ContentService.createTextOutput(&quot;Success&quot;).setMimeType(ContentService.MimeType.TEXT);\n\n\n\n}\n</code></pre>\n<p>My sheet is set to be viewable only by me. The webapp is deployed as everyone has access even anonymous</p>\n<p>this is how it's called in the android app:</p>\n<pre><code>StringRequest stringRequest = new StringRequest(Request.Method.POST, &quot;Add Your Web App URL&quot;,\n        new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n\n                loading.dismiss();\n                Toast.makeText(AddItem.this,response,Toast.LENGTH_LONG).show();\n                Intent intent = new Intent(getApplicationContext(),MainActivity.class);\n                startActivity(intent);\n\n            }\n        },\n        new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n\n            }\n        }\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1636080564,"post_id":69847997,"comment_id":123468029,"body_markdown":"How did you end up with a `Function&lt;? extends Exception, Response&gt;`? That&#39;s a function that can never be called, because you&#39;d have to call it with a class that extends *every* subclass of `Exception` at once.","body":"How did you end up with a <code>Function&lt;? extends Exception, Response&gt;</code>? That&#39;s a function that can never be called, because you&#39;d have to call it with a class that extends <i>every</i> subclass of <code>Exception</code> at once."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1636081964,"post_id":69847997,"comment_id":123468218,"body_markdown":"See https://stackoverflow.com/questions/21041142/method-in-the-type-mapstring-capture1-of-extends-object-is-not-applicable or https://stackoverflow.com/questions/57549932/question-about-java-generics-and-design-of-java-util-function-function","body":"See <a href=\"https://stackoverflow.com/questions/21041142/method-in-the-type-mapstring-capture1-of-extends-object-is-not-applicable\" title=\"method in the type mapstring capture1 of extends object is not applicable\">stackoverflow.com/questions/21041142/&hellip;</a> or <a href=\"https://stackoverflow.com/questions/57549932/question-about-java-generics-and-design-of-java-util-function-function\" title=\"question about java generics and design of java util function function\">stackoverflow.com/questions/57549932/&hellip;</a>"}],"owner":{"account_id":2160330,"reputation":11,"user_id":1914624,"display_name":"eric"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636080391,"creation_date":1636078783,"question_id":69847997,"body_markdown":"I have a list of exception handlers for specific exceptions which I am trying to define through a map that I can then access later to invoke. However, the .apply(e) is complaining that \r\n```\r\n&#39;apply(capture&lt;? extends java.lang.Exception&gt;)&#39; in &#39;java.util.function.Function&#39; cannot be applied to &#39;(java.lang.Exception)&#39;\r\n```\r\n\r\n```\r\nprivate Response handleException(Exception e) {\r\n    return HANDLERS.get(e.getClass()).apply(e);\r\n}\r\n\r\nMap&lt;Class&lt;? extends Exception&gt;, Function&lt;? extends Exception, Response&gt;&gt; HANDLERS =\r\n    Map.ofEntries(\r\n        Map.entry(SpecificException.class, (Function&lt;SpecificException, Response&gt;) e -&gt; ...),\r\n        Map.entry(Exception.class, (Function&lt;Exception, Response&gt;) e -&gt; ...)\r\n    );\r\n```\r\n\r\nI am sure this is a duplicate question but could not find anything related to solving this issue. Is there a solution to this specific error or is there another approach to this?","title":"capture&lt;? extends T&gt; cannot be applied to T in Java","body":"<p>I have a list of exception handlers for specific exceptions which I am trying to define through a map that I can then access later to invoke. However, the .apply(e) is complaining that</p>\n<pre><code>'apply(capture&lt;? extends java.lang.Exception&gt;)' in 'java.util.function.Function' cannot be applied to '(java.lang.Exception)'\n</code></pre>\n<pre><code>private Response handleException(Exception e) {\n    return HANDLERS.get(e.getClass()).apply(e);\n}\n\nMap&lt;Class&lt;? extends Exception&gt;, Function&lt;? extends Exception, Response&gt;&gt; HANDLERS =\n    Map.ofEntries(\n        Map.entry(SpecificException.class, (Function&lt;SpecificException, Response&gt;) e -&gt; ...),\n        Map.entry(Exception.class, (Function&lt;Exception, Response&gt;) e -&gt; ...)\n    );\n</code></pre>\n<p>I am sure this is a duplicate question but could not find anything related to solving this issue. Is there a solution to this specific error or is there another approach to this?</p>\n"},{"tags":["java","android","xml","jaxb","castor"],"answers":[{"tags":[],"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572426785,"creation_date":1572426785,"answer_id":58621934,"question_id":58590761,"body_markdown":"The following approach is as close as I got, though some refactoring is still required:\r\n\r\nPlace a file named `castorbuilder.properties` on your classpath, with the following content:\r\n\r\n```\r\norg.exolab.castor.builder.javaclassmapping=type\r\norg.exolab.castor.builder.javaVersion=5.0\r\n# Replace the following lines with your schema(s)\r\norg.exolab.castor.builder.nspackages=\\\r\n   http://example.com/schema/foo=com.example.schema.foo,\\\r\n   http://example.org/schema/bar=org.example.schema.bar\r\norg.exolab.castor.builder.primitivetowrapper=true\r\n```\r\n\r\nThen run the following command line:\r\n\r\n    java -cp &quot;*&quot; org.exolab.castor.builder.SourceGeneratorMain -i schema.xsd -types j2\r\n\r\nIn the above, replace the classpath with the path to the Castor JAR files and `castorbuilder.properties`, and replace `schema.xsd` with the path to your XSD file.\r\n\r\nOf course, you can invoke Castor via Ant or Maven—in this case, be sure to use the respective equivalent to the command line options above and make sure the properties file is picked up.\r\n\r\nDifferences which require refactoring:\r\n\r\n* Enum types are now in their own `types` sub-package\r\n* Where XML Enum literals are in `camelCase`, they now become `CAMELCASE` rather than `CAMEL_CASE`\r\n* Castor generates array properties where JAXB has `Collection` properties\r\n* Some class names get an underscore as a prefix; apparently JAXB drops those while Castor preserves them\r\n* Date fields are now `Date` instances\r\n* In one instance a property changed its name from `value` to `content`\r\n\r\nHowever—there seems to be a bug in Castor, as [some of the generated classes invoke a non-existent constructor][1]. This has stopped me from successfully trying this out; I only got as far as refactoring my existing code to the point of being free from syntax and compiler errors.\r\n\r\n\r\n  [1]: https://github.com/castor-data-binding/castor/issues/80","title":"Easy way to migrate from JAXB to Castor?","body":"<p>The following approach is as close as I got, though some refactoring is still required:</p>\n\n<p>Place a file named <code>castorbuilder.properties</code> on your classpath, with the following content:</p>\n\n<pre><code>org.exolab.castor.builder.javaclassmapping=type\norg.exolab.castor.builder.javaVersion=5.0\n# Replace the following lines with your schema(s)\norg.exolab.castor.builder.nspackages=\\\n   http://example.com/schema/foo=com.example.schema.foo,\\\n   http://example.org/schema/bar=org.example.schema.bar\norg.exolab.castor.builder.primitivetowrapper=true\n</code></pre>\n\n<p>Then run the following command line:</p>\n\n<pre><code>java -cp \"*\" org.exolab.castor.builder.SourceGeneratorMain -i schema.xsd -types j2\n</code></pre>\n\n<p>In the above, replace the classpath with the path to the Castor JAR files and <code>castorbuilder.properties</code>, and replace <code>schema.xsd</code> with the path to your XSD file.</p>\n\n<p>Of course, you can invoke Castor via Ant or Maven—in this case, be sure to use the respective equivalent to the command line options above and make sure the properties file is picked up.</p>\n\n<p>Differences which require refactoring:</p>\n\n<ul>\n<li>Enum types are now in their own <code>types</code> sub-package</li>\n<li>Where XML Enum literals are in <code>camelCase</code>, they now become <code>CAMELCASE</code> rather than <code>CAMEL_CASE</code></li>\n<li>Castor generates array properties where JAXB has <code>Collection</code> properties</li>\n<li>Some class names get an underscore as a prefix; apparently JAXB drops those while Castor preserves them</li>\n<li>Date fields are now <code>Date</code> instances</li>\n<li>In one instance a property changed its name from <code>value</code> to <code>content</code></li>\n</ul>\n\n<p>However—there seems to be a bug in Castor, as <a href=\"https://github.com/castor-data-binding/castor/issues/80\" rel=\"nofollow noreferrer\">some of the generated classes invoke a non-existent constructor</a>. This has stopped me from successfully trying this out; I only got as far as refactoring my existing code to the point of being free from syntax and compiler errors.</p>\n"}],"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636079999,"creation_date":1572264836,"question_id":58590761,"body_markdown":"I have created a library which includes some 200 Java classes generated from an existing XSD with JAXB like this:\r\n\r\n    xjc -no-header -d schemas -b xsd/binding.xml xsd\r\n\r\nAlas, JAXB is not supported on Android, and the general suggestion seems to be to use a different library. Castor seems to be a suitable alternative—especially as it offers conversion of .xsd into Java classes. However, doing so seems to be more complex than in Java, and I have no idea of how much the result differs from `xjc` output.\r\n\r\nMy use case is unmarshaling and reading the unmarshaled data (changing data or marshaling are not needed). That is, there is a vast amount of code which relies on the resulting Java class schema, therefore any difference between `xjc`-generated classes and their Castor counterparts would mean a lot of refactoring.\r\n\r\nIs there a simple recipe on how to generate Java classes from .xsd in Castor and get a result that is as close as possible to what `xjc` produces?","title":"Easy way to migrate from JAXB to Castor?","body":"<p>I have created a library which includes some 200 Java classes generated from an existing XSD with JAXB like this:</p>\n\n<pre><code>xjc -no-header -d schemas -b xsd/binding.xml xsd\n</code></pre>\n\n<p>Alas, JAXB is not supported on Android, and the general suggestion seems to be to use a different library. Castor seems to be a suitable alternative—especially as it offers conversion of .xsd into Java classes. However, doing so seems to be more complex than in Java, and I have no idea of how much the result differs from <code>xjc</code> output.</p>\n\n<p>My use case is unmarshaling and reading the unmarshaled data (changing data or marshaling are not needed). That is, there is a vast amount of code which relies on the resulting Java class schema, therefore any difference between <code>xjc</code>-generated classes and their Castor counterparts would mean a lot of refactoring.</p>\n\n<p>Is there a simple recipe on how to generate Java classes from .xsd in Castor and get a result that is as close as possible to what <code>xjc</code> produces?</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":23234087,"reputation":9,"user_id":17324300,"display_name":"pi_ka_qiu_1999"},"score":0,"creation_date":1636093978,"post_id":69848072,"comment_id":123469895,"body_markdown":"I need your help.","body":"I need your help."},{"owner":{"account_id":6211517,"reputation":362,"user_id":4837677,"accept_rate":83,"display_name":"Luigi Cerone"},"score":0,"creation_date":1636106645,"post_id":69848072,"comment_id":123473769,"body_markdown":"Your quesiton is confusing, what do you mean by &quot;plantext&quot;? Maybe `PLAINTEXT` ? If so, it means that the listener will be without authentication and non-encrypted. If it is `PLAINTEXT`, why you set SASL-related configuration in your Producer&#39;s properties then?","body":"Your quesiton is confusing, what do you mean by &quot;plantext&quot;? Maybe <code>PLAINTEXT</code> ? If so, it means that the listener will be without authentication and non-encrypted. If it is <code>PLAINTEXT</code>, why you set SASL-related configuration in your Producer&#39;s properties then?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636124433,"post_id":69848072,"comment_id":123480658,"body_markdown":"Bootstrap servers and serializers is the only required property for plaintext mode unless you&#39;re asking about SASL_PLAIN","body":"Bootstrap servers and serializers is the only required property for plaintext mode unless you&#39;re asking about SASL_PLAIN"}],"owner":{"account_id":23234087,"reputation":9,"user_id":17324300,"display_name":"pi_ka_qiu_1999"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636124364,"answer_count":0,"score":0,"last_activity_date":1636079427,"creation_date":1636079427,"question_id":69848072,"body_markdown":"At present, it is determined to use the plan mode, not even SSL. Then I can&#39;t find the specific fields to set on the Internet... Please take a look. Thank you very much!\r\n\r\nThere are some SSL related keys in my code. Should I delete them?\r\n\r\n```java\r\n        Properties pro = new Properties();\r\n\r\n        String sasl = String.format(&quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;%s\\&quot;  password=\\&quot;%s\\&quot;;&quot;, userName, password);\r\n        pro.setProperty(&quot;sasl.jaas.config&quot;, sasl);\r\n        pro.setProperty(&quot;ssl.cipher.suites&quot;, suites);   \r\n        pro.setProperty(&quot;ssl.enabled.protocols&quot;, authorizedEncryptionMode);\r\n        pro.setProperty(&quot;security.protocol&quot;, protocols);    \r\n        pro.setProperty(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        pro.setProperty(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\r\n        for (String ipAndPort : ipAndPorts) {\r\n            pro.setProperty(&quot;bootstrap.servers&quot;, ipAndPort);\r\n            try(Producer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(pro)) {\r\n                producer.send(new ProducerRecord&lt;&gt;(topic, null, System.currentTimeMillis(),\r\n                        alarmModel.getString(&quot;alarmId&quot;), new Record(alarmModel).toString()));\r\n            } catch (Exception e) {\r\n                log.info(&quot;pmRuleDeliverBySouthKafka failed....&quot;, e.getMessage());\r\n            }\r\n        }\r\n```","title":"Kafka in the plantext mode, what fields do the client need to set in the properties to create a producer?(In Java programs)","body":"<p>At present, it is determined to use the plan mode, not even SSL. Then I can't find the specific fields to set on the Internet... Please take a look. Thank you very much!</p>\n<p>There are some SSL related keys in my code. Should I delete them?</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Properties pro = new Properties();\n\n        String sasl = String.format(&quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;%s\\&quot;  password=\\&quot;%s\\&quot;;&quot;, userName, password);\n        pro.setProperty(&quot;sasl.jaas.config&quot;, sasl);\n        pro.setProperty(&quot;ssl.cipher.suites&quot;, suites);   \n        pro.setProperty(&quot;ssl.enabled.protocols&quot;, authorizedEncryptionMode);\n        pro.setProperty(&quot;security.protocol&quot;, protocols);    \n        pro.setProperty(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        pro.setProperty(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n\n        for (String ipAndPort : ipAndPorts) {\n            pro.setProperty(&quot;bootstrap.servers&quot;, ipAndPort);\n            try(Producer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(pro)) {\n                producer.send(new ProducerRecord&lt;&gt;(topic, null, System.currentTimeMillis(),\n                        alarmModel.getString(&quot;alarmId&quot;), new Record(alarmModel).toString()));\n            } catch (Exception e) {\n                log.info(&quot;pmRuleDeliverBySouthKafka failed....&quot;, e.getMessage());\n            }\n        }\n</code></pre>\n"},{"tags":["java","redis","concurrency","quarkus"],"answers":[{"tags":[],"owner":{"account_id":11311655,"reputation":1095,"user_id":8294610,"display_name":"Renshaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635910091,"creation_date":1635910091,"answer_id":69819352,"question_id":69722916,"body_markdown":"Since you running multiple instances in threads, the `multi` and `exec` command were executed alternately.\r\n\r\nlike this.\r\n```\r\n127.0.0.1:6379&gt; multi\r\nOK\r\n127.0.0.1:6379&gt; set dst jjj\r\nQUEUED\r\n127.0.0.1:6379&gt; multi\r\n(error) ERR MULTI calls can not be nested\r\n127.0.0.1:6379&gt; exec\r\n1) OK\r\n127.0.0.1:6379&gt; exec\r\n(error) ERR EXEC without MULTI\r\n127.0.0.1:6379&gt; discard\r\n(error) ERR DISCARD without MULTI\r\n```\r\n\r\nThe solution is `pipeline`, to package you `multi`, `hincrby`, `exec` commands to one command. Redis will execute them in right order.\r\nyou can refer https://redis.io/topics/pipelining for more information.\r\n","title":"Redis and concurrency errors in Quarkus: ERR EXEC without MULTI","body":"<p>Since you running multiple instances in threads, the <code>multi</code> and <code>exec</code> command were executed alternately.</p>\n<p>like this.</p>\n<pre><code>127.0.0.1:6379&gt; multi\nOK\n127.0.0.1:6379&gt; set dst jjj\nQUEUED\n127.0.0.1:6379&gt; multi\n(error) ERR MULTI calls can not be nested\n127.0.0.1:6379&gt; exec\n1) OK\n127.0.0.1:6379&gt; exec\n(error) ERR EXEC without MULTI\n127.0.0.1:6379&gt; discard\n(error) ERR DISCARD without MULTI\n</code></pre>\n<p>The solution is <code>pipeline</code>, to package you <code>multi</code>, <code>hincrby</code>, <code>exec</code> commands to one command. Redis will execute them in right order.\nyou can refer <a href=\"https://redis.io/topics/pipelining\" rel=\"nofollow noreferrer\">https://redis.io/topics/pipelining</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":9121048,"reputation":408,"user_id":6786448,"display_name":"Suhas Kashyap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636079074,"creation_date":1636079074,"answer_id":69848030,"question_id":69722916,"body_markdown":"You can use pipeline, if you are using jedis client for Redis, you can check out this\r\n\r\nhttps://www.tabnine.com/code/java/methods/redis.clients.jedis.Jedis/pipelined","title":"Redis and concurrency errors in Quarkus: ERR EXEC without MULTI","body":"<p>You can use pipeline, if you are using jedis client for Redis, you can check out this</p>\n<p><a href=\"https://www.tabnine.com/code/java/methods/redis.clients.jedis.Jedis/pipelined\" rel=\"nofollow noreferrer\">https://www.tabnine.com/code/java/methods/redis.clients.jedis.Jedis/pipelined</a></p>\n"}],"owner":{"account_id":2470850,"reputation":1666,"user_id":2152752,"accept_rate":43,"display_name":"oscar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1636079074,"creation_date":1635250388,"question_id":69722916,"body_markdown":"I have an application that saves data in redis, this data arrives through events in a queue which generates a high concurrency environment. To maintain data consistency I have used the Redis MULTI / EXEC statement and in case of failure the data is not confirmed. Before opening MULTI I need to query Redis for data.\r\n\r\nI present an example case.\r\n\r\nTest endpoint with which I simulate the events:\r\n\r\n    @GET\r\n    @Path(&quot;/foo&quot;)\r\n    public Response foo() {\r\n        String queue = &quot;foo&quot;;\r\n    \r\n        for (int i = 0; i &lt; 10000; i++) {\r\n            activeMqClient.addToQueue(queue,  new Foo(i, &quot;Message &quot; + 1));\r\n        }\r\n    \r\n        return OkResponse.toResponse(&quot;Foo send OK&quot;);\r\n    }\r\n\r\nEvent burning (running multiple instances in threads):\r\n\r\n    public class FooRedisCmd {\r\n    \r\n        public void process(Foo foo) {\r\n            // Example\r\n            RedisClient redisClient = null;\r\n            Response multiResponse = null;\r\n            try {\r\n                redisClient = RedisClient.createClient();\r\n                //get info\r\n                redisClient.hget(&quot;foos&quot;, &quot;foo_field1:&quot; + foo.getId());\r\n                redisClient.hget(&quot;foos&quot;, &quot;foo_field2:&quot; + foo.getId());\r\n                redisClient.hget(&quot;foos&quot;, &quot;foo_field3:&quot; + foo.getId());\r\n                redisClient.hget(&quot;foos&quot;, &quot;foo_field4:&quot; + foo.getId());\r\n                redisClient.hget(&quot;foos&quot;, &quot;foo_field5:&quot; + foo.getId());\r\n                redisClient.hget(&quot;foos&quot;, &quot;foo_field6:&quot; + foo.getId());\r\n                redisClient.hget(&quot;foos&quot;, &quot;foo_field7:&quot; + foo.getId());\r\n    \r\n                //write info\r\n                multiResponse = redisClient.multi();\r\n                log.info(&quot;Get multi: {} for foo: {}&quot;, multiResponse, foo);\r\n                redisClient.hincrby(&quot;foos&quot;, &quot;foo_field1:&quot; + foo.getId(), Integer.toString(1));\r\n                redisClient.hincrby(&quot;foos&quot;, &quot;foo_field2:&quot; + foo.getId(), Integer.toString(1));\r\n                redisClient.hincrby(&quot;foos&quot;, &quot;foo_field3:&quot; + foo.getId(), Integer.toString(1));\r\n                redisClient.hincrby(&quot;foos&quot;, &quot;foo_field4:&quot; + foo.getId(), Integer.toString(1));\r\n                redisClient.hincrby(&quot;foos&quot;, &quot;foo_field5:&quot; + foo.getId(), Integer.toString(1));\r\n                redisClient.hincrby(&quot;foos&quot;, &quot;foo_field6:&quot; + foo.getId(), Integer.toString(1));\r\n                redisClient.hincrby(&quot;foos&quot;, &quot;foo_field7:&quot; + foo.getId(), Integer.toString(1));\r\n                redisClient.hincrby(&quot;foos&quot;, &quot;foo_field8:&quot; + foo.getId(), Integer.toString(1));\r\n                redisClient.hincrby(&quot;foos&quot;, &quot;foo_field9:&quot; + foo.getId(), Integer.toString(1));\r\n                redisClient.hincrby(&quot;foos&quot;, &quot;foo_field10:&quot; + foo.getId(), Integer.toString(1));\r\n                redisClient.hincrby(&quot;foos&quot;, &quot;foo_field11:&quot; + foo.getId(), Integer.toString(1));\r\n                redisClient.hincrby(&quot;foos&quot;, &quot;foo_field12:&quot; + foo.getId(), Integer.toString(1));\r\n                Response execResponse = redisClient.exec();\r\n                log.info(&quot;Multi result: {} for foo: {}&quot;, execResponse, foo);\r\n            } catch (Exception e) {\r\n                if (multiResponse != null) {\r\n                    try {\r\n                        redisClient.discard();\r\n                    } catch (Exception e2) {\r\n                        log.error(&quot;Error on discard for foo: {}&quot;, foo, e2);\r\n                    }\r\n                }\r\n                log.error(&quot;Error on exec for foo: {}&quot;, foo, e);\r\n            } finally {\r\n                if (redisClient != null) {\r\n                    redisClient.close();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nErrors:\r\n\r\n    INFO  [com.foo.FooRedisCmd] (pool-17-thread-3) Get multi: OK for foo: Foo(id=9965, message=Message 1)\r\n    INFO  [com.foo.FooRedisCmd] (pool-17-thread-3) Multi result: [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3] for foo: Foo(id=9965, message=Message 1)\r\n    INFO  [com.foo.FooRedisCmd] (pool-17-thread-1) Get multi: OK for foo: Foo(id=9966, message=Message 1)\r\n    ERROR [com.foo.FooRedisCmd] (pool-17-thread-1) Error on discard for foo: Foo(id=9966, message=Message 1): java.util.concurrent.CompletionException: ERR DISCARD without MULTI\r\n            at io.smallrye.mutiny.operators.uni.UniBlockingAwait.await(UniBlockingAwait.java:73)\r\n            at io.smallrye.mutiny.groups.UniAwait.atMost(UniAwait.java:61)\r\n            at io.quarkus.redis.client.runtime.RedisClientImpl.await(RedisClientImpl.java:1026)\r\n            at io.quarkus.redis.client.runtime.RedisClientImpl.discard(RedisClientImpl.java:142)\r\n            at com.foo.FooRedisCmd.process(FooRedisCmd.java:48)\r\n            at com.foo.FooRedisCmd_Subclass.process$$superforward1(FooRedisCmd_Subclass.zig:94)\r\n            at com.foo.FooRedisCmd_Subclass$$function$$1.apply(FooRedisCmd_Subclass$$function$$1.zig:33)\r\n            at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:51)\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(InvocationInterceptor_Bean.zig:521)\r\n            at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\r\n            at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\r\n            at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\r\n            at com.foo.FooRedisCmd_Subclass.process(FooRedisCmd_Subclass.zig:158)\r\n            at com.foo.FooRedisCmd_ClientProxy.process(FooRedisCmd_ClientProxy.zig:128)\r\n            at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n            at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: ERR DISCARD without MULTI\r\n    \r\n    INFO  [com.foo.FooRedisCmd] (pool-17-thread-2) Get multi: OK for foo: Foo(id=9967, message=Message 1)\r\n    ERROR [com.foo.FooRedisCmd] (pool-17-thread-1) Error on exec for foo: Foo(id=9966, message=Message 1): java.util.concurrent.CompletionException: ERR EXEC without MULTI\r\n            at io.smallrye.mutiny.operators.uni.UniBlockingAwait.await(UniBlockingAwait.java:73)\r\n            at io.smallrye.mutiny.groups.UniAwait.atMost(UniAwait.java:61)\r\n            at io.quarkus.redis.client.runtime.RedisClientImpl.await(RedisClientImpl.java:1026)\r\n            at io.quarkus.redis.client.runtime.RedisClientImpl.exec(RedisClientImpl.java:167)\r\n            at com.foo.FooRedisCmd.process(FooRedisCmd.java:43)\r\n            at com.foo.FooRedisCmd_Subclass.process$$superforward1(FooRedisCmd_Subclass.zig:94)\r\n            at com.foo.FooRedisCmd_Subclass$$function$$1.apply(FooRedisCmd_Subclass$$function$$1.zig:33)\r\n            at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:51)\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(InvocationInterceptor_Bean.zig:521)\r\n            at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\r\n            at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\r\n            at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\r\n            at com.foo.FooRedisCmd_Subclass.process(FooRedisCmd_Subclass.zig:158)\r\n            at com.foo.FooRedisCmd_ClientProxy.process(FooRedisCmd_ClientProxy.zig:128)\r\n            at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n            at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n            at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: ERR EXEC without MULTI\r\n    \r\n    INFO  [com.foo.FooRedisCmd] (pool-17-thread-2) Multi result: [3, 3, 3, 3, 3, 3, 3, 3, 3, 3] for foo: Foo(id=9967, message=Message 1)\r\n\r\nErrors are generated when executing both the exec and the discard when the first one fails. Why is this happening? I am using quarkus 2 and its own client for redis quarkus-redis-client.\r\n","title":"Redis and concurrency errors in Quarkus: ERR EXEC without MULTI","body":"<p>I have an application that saves data in redis, this data arrives through events in a queue which generates a high concurrency environment. To maintain data consistency I have used the Redis MULTI / EXEC statement and in case of failure the data is not confirmed. Before opening MULTI I need to query Redis for data.</p>\n<p>I present an example case.</p>\n<p>Test endpoint with which I simulate the events:</p>\n<pre><code>@GET\n@Path(&quot;/foo&quot;)\npublic Response foo() {\n    String queue = &quot;foo&quot;;\n\n    for (int i = 0; i &lt; 10000; i++) {\n        activeMqClient.addToQueue(queue,  new Foo(i, &quot;Message &quot; + 1));\n    }\n\n    return OkResponse.toResponse(&quot;Foo send OK&quot;);\n}\n</code></pre>\n<p>Event burning (running multiple instances in threads):</p>\n<pre><code>public class FooRedisCmd {\n\n    public void process(Foo foo) {\n        // Example\n        RedisClient redisClient = null;\n        Response multiResponse = null;\n        try {\n            redisClient = RedisClient.createClient();\n            //get info\n            redisClient.hget(&quot;foos&quot;, &quot;foo_field1:&quot; + foo.getId());\n            redisClient.hget(&quot;foos&quot;, &quot;foo_field2:&quot; + foo.getId());\n            redisClient.hget(&quot;foos&quot;, &quot;foo_field3:&quot; + foo.getId());\n            redisClient.hget(&quot;foos&quot;, &quot;foo_field4:&quot; + foo.getId());\n            redisClient.hget(&quot;foos&quot;, &quot;foo_field5:&quot; + foo.getId());\n            redisClient.hget(&quot;foos&quot;, &quot;foo_field6:&quot; + foo.getId());\n            redisClient.hget(&quot;foos&quot;, &quot;foo_field7:&quot; + foo.getId());\n\n            //write info\n            multiResponse = redisClient.multi();\n            log.info(&quot;Get multi: {} for foo: {}&quot;, multiResponse, foo);\n            redisClient.hincrby(&quot;foos&quot;, &quot;foo_field1:&quot; + foo.getId(), Integer.toString(1));\n            redisClient.hincrby(&quot;foos&quot;, &quot;foo_field2:&quot; + foo.getId(), Integer.toString(1));\n            redisClient.hincrby(&quot;foos&quot;, &quot;foo_field3:&quot; + foo.getId(), Integer.toString(1));\n            redisClient.hincrby(&quot;foos&quot;, &quot;foo_field4:&quot; + foo.getId(), Integer.toString(1));\n            redisClient.hincrby(&quot;foos&quot;, &quot;foo_field5:&quot; + foo.getId(), Integer.toString(1));\n            redisClient.hincrby(&quot;foos&quot;, &quot;foo_field6:&quot; + foo.getId(), Integer.toString(1));\n            redisClient.hincrby(&quot;foos&quot;, &quot;foo_field7:&quot; + foo.getId(), Integer.toString(1));\n            redisClient.hincrby(&quot;foos&quot;, &quot;foo_field8:&quot; + foo.getId(), Integer.toString(1));\n            redisClient.hincrby(&quot;foos&quot;, &quot;foo_field9:&quot; + foo.getId(), Integer.toString(1));\n            redisClient.hincrby(&quot;foos&quot;, &quot;foo_field10:&quot; + foo.getId(), Integer.toString(1));\n            redisClient.hincrby(&quot;foos&quot;, &quot;foo_field11:&quot; + foo.getId(), Integer.toString(1));\n            redisClient.hincrby(&quot;foos&quot;, &quot;foo_field12:&quot; + foo.getId(), Integer.toString(1));\n            Response execResponse = redisClient.exec();\n            log.info(&quot;Multi result: {} for foo: {}&quot;, execResponse, foo);\n        } catch (Exception e) {\n            if (multiResponse != null) {\n                try {\n                    redisClient.discard();\n                } catch (Exception e2) {\n                    log.error(&quot;Error on discard for foo: {}&quot;, foo, e2);\n                }\n            }\n            log.error(&quot;Error on exec for foo: {}&quot;, foo, e);\n        } finally {\n            if (redisClient != null) {\n                redisClient.close();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Errors:</p>\n<pre><code>INFO  [com.foo.FooRedisCmd] (pool-17-thread-3) Get multi: OK for foo: Foo(id=9965, message=Message 1)\nINFO  [com.foo.FooRedisCmd] (pool-17-thread-3) Multi result: [3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3] for foo: Foo(id=9965, message=Message 1)\nINFO  [com.foo.FooRedisCmd] (pool-17-thread-1) Get multi: OK for foo: Foo(id=9966, message=Message 1)\nERROR [com.foo.FooRedisCmd] (pool-17-thread-1) Error on discard for foo: Foo(id=9966, message=Message 1): java.util.concurrent.CompletionException: ERR DISCARD without MULTI\n        at io.smallrye.mutiny.operators.uni.UniBlockingAwait.await(UniBlockingAwait.java:73)\n        at io.smallrye.mutiny.groups.UniAwait.atMost(UniAwait.java:61)\n        at io.quarkus.redis.client.runtime.RedisClientImpl.await(RedisClientImpl.java:1026)\n        at io.quarkus.redis.client.runtime.RedisClientImpl.discard(RedisClientImpl.java:142)\n        at com.foo.FooRedisCmd.process(FooRedisCmd.java:48)\n        at com.foo.FooRedisCmd_Subclass.process$$superforward1(FooRedisCmd_Subclass.zig:94)\n        at com.foo.FooRedisCmd_Subclass$$function$$1.apply(FooRedisCmd_Subclass$$function$$1.zig:33)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:51)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(InvocationInterceptor_Bean.zig:521)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\n        at com.foo.FooRedisCmd_Subclass.process(FooRedisCmd_Subclass.zig:158)\n        at com.foo.FooRedisCmd_ClientProxy.process(FooRedisCmd_ClientProxy.zig:128)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: ERR DISCARD without MULTI\n\nINFO  [com.foo.FooRedisCmd] (pool-17-thread-2) Get multi: OK for foo: Foo(id=9967, message=Message 1)\nERROR [com.foo.FooRedisCmd] (pool-17-thread-1) Error on exec for foo: Foo(id=9966, message=Message 1): java.util.concurrent.CompletionException: ERR EXEC without MULTI\n        at io.smallrye.mutiny.operators.uni.UniBlockingAwait.await(UniBlockingAwait.java:73)\n        at io.smallrye.mutiny.groups.UniAwait.atMost(UniAwait.java:61)\n        at io.quarkus.redis.client.runtime.RedisClientImpl.await(RedisClientImpl.java:1026)\n        at io.quarkus.redis.client.runtime.RedisClientImpl.exec(RedisClientImpl.java:167)\n        at com.foo.FooRedisCmd.process(FooRedisCmd.java:43)\n        at com.foo.FooRedisCmd_Subclass.process$$superforward1(FooRedisCmd_Subclass.zig:94)\n        at com.foo.FooRedisCmd_Subclass$$function$$1.apply(FooRedisCmd_Subclass$$function$$1.zig:33)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:51)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(InvocationInterceptor_Bean.zig:521)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\n        at com.foo.FooRedisCmd_Subclass.process(FooRedisCmd_Subclass.zig:158)\n        at com.foo.FooRedisCmd_ClientProxy.process(FooRedisCmd_ClientProxy.zig:128)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: ERR EXEC without MULTI\n\nINFO  [com.foo.FooRedisCmd] (pool-17-thread-2) Multi result: [3, 3, 3, 3, 3, 3, 3, 3, 3, 3] for foo: Foo(id=9967, message=Message 1)\n</code></pre>\n<p>Errors are generated when executing both the exec and the discard when the first one fails. Why is this happening? I am using quarkus 2 and its own client for redis quarkus-redis-client.</p>\n"},{"tags":["java","android","android-layout","android-gui"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1598862004,"post_id":63667201,"comment_id":112584052,"body_markdown":"Please note: &quot;these are my requirements&quot; isnt regarded as valid question for many folks here. It is always better to start for yourself, and see how far you get. You learn programming by programming, not by delegating the heavy lifting to other people.","body":"Please note: &quot;these are my requirements&quot; isnt regarded as valid question for many folks here. It is always better to start for yourself, and see how far you get. You learn programming by programming, not by delegating the heavy lifting to other people."},{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":2,"creation_date":1598862026,"post_id":63667201,"comment_id":112584062,"body_markdown":"The list is a `RecylcerView`.\nEach row is gereated over and over through an own layout file that contains a `TextView` and two `Button`s which are in a container like `ConstraintLayout`.\nCheck out this guide: https://developer.android.com/guide/topics/ui/layout/recyclerview","body":"The list is a <code>RecylcerView</code>. Each row is gereated over and over through an own layout file that contains a <code>TextView</code> and two <code>Button</code>s which are in a container like <code>ConstraintLayout</code>. Check out this guide: <a href=\"https://developer.android.com/guide/topics/ui/layout/recyclerview\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/layout/recyclerview</a>"}],"answers":[{"tags":[],"owner":{"account_id":6410297,"reputation":584,"user_id":4970280,"accept_rate":67,"display_name":"Arantik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1598871591,"creation_date":1598871591,"answer_id":63669540,"question_id":63667201,"body_markdown":"Here I implement a simple example of RecyclerView in android (java). You can change it as you need:\r\n\r\n1. Add item.xml in your layout folder, and write these lines in it:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/titleTextView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;20dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/option2Button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;20dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/option1Button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;20dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toLeftOf=&quot;@+id/option2Button&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nthis is based on your sample image. this layout contains all views in a single row of list. if you want more buttons or texts in each row, you must add them in this file.\r\n\r\n2. You always need an Adapter class for RecyclerViews. So, add MyAdapter.java class to your project as below:\r\n\r\n        public class MyAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;\r\n        {\r\n            private Context context;\r\n            private List&lt;String&gt; titles;\r\n\r\n            MyAdapter(Context context, List&lt;String&gt; titles)\r\n            {\r\n                this.context = context;\r\n                this.titles = titles;\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\r\n            {\r\n                RecyclerView.ViewHolder viewHolder;\r\n                LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n\r\n                viewHolder = getViewHolder(parent, inflater);\r\n\r\n                return viewHolder;\r\n            }\r\n\r\n            private RecyclerView.ViewHolder getViewHolder(ViewGroup parent, LayoutInflater inflater)\r\n            {\r\n                RecyclerView.ViewHolder viewHolder;\r\n                View v1 = inflater.inflate(R.layout.item, parent, false);\r\n                viewHolder = new ItemVH(v1);\r\n                return viewHolder;\r\n            }\r\n\r\n            @Override\r\n            public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position)\r\n            {\r\n                ItemVH itemVH = (ItemVH) holder;\r\n\r\n                // set title for each item:\r\n                itemVH.titleTextView.setText(titles.get(position));\r\n                itemVH.option1Button.setText(&quot;option 1&quot;);\r\n                itemVH.option2Button.setText(&quot;option 2&quot;);\r\n\r\n                // click listener for first button:\r\n                itemVH.option1Button.setOnClickListener(new View.OnClickListener()\r\n                {\r\n                    @Override\r\n                    public void onClick(View v)\r\n                    {\r\n                        // option 1 button clicked\r\n                    }\r\n                });\r\n\r\n                // click listener for second button:\r\n                itemVH.option2Button.setOnClickListener(new View.OnClickListener()\r\n                {\r\n                    @Override\r\n                    public void onClick(View v)\r\n                    {\r\n                        // option 2 button clicked\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public int getItemCount()\r\n            {\r\n                return titles.size();\r\n            }\r\n\r\n            // add item to list:\r\n            public void addItem(String title)\r\n            {\r\n                titles.add(title);\r\n                notifyItemInserted(titles.size() - 1);\r\n            }\r\n\r\n            // remove item from list:\r\n            public void remove(String title)\r\n            {\r\n                int position = titles.indexOf(title);\r\n                if (position &gt; -1)\r\n                {\r\n                    titles.remove(position);\r\n                    notifyItemRemoved(position);\r\n                }\r\n            }\r\n\r\n            protected class ItemVH extends RecyclerView.ViewHolder\r\n            {\r\n                private TextView titleTextView;\r\n                private Button option1Button;\r\n                private Button option2Button;\r\n\r\n                public ItemVH(View itemView)\r\n                {\r\n                    super(itemView);\r\n\r\n                    titleTextView = itemView.findViewById(R.id.titleTextView);\r\n                    option1Button = itemView.findViewById(R.id.option1Button);\r\n                    option2Button = itemView.findViewById(R.id.option2Button);\r\n                }\r\n            }\r\n        }\r\n\r\nThe titles list is list of Strings shown on items. You create this list and send it to the MyAdapter class from MainActivity. all views in single item are find in ItemVH class, and you can work with these views in onBindViewHolder function.\r\n\r\n3. In activity_main.xml add a RecyclerView:\r\n\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/recyclerView&quot;/&gt;\r\n\r\n4. In MainActivity.java add these lines in onCreate:\r\n\r\n        // create list:\r\n        List&lt;String&gt; titles = new ArrayList&lt;&gt;();\r\n        titles.add(&quot;first item&quot;);\r\n        titles.add(&quot;second item&quot;);\r\n        titles.add(&quot;third item&quot;);\r\n\r\n        // define the adapter:\r\n        MyAdapter adapter = new MyAdapter(this, titles);\r\n\r\n        // set the RecyclerView:\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(this);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        recyclerView.setAdapter(adapter);\r\n        recyclerView.addItemDecoration(new DividerItemDecoration(this, DividerItemDecoration.VERTICAL));\r\n\r\nResult:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VMs82.png","title":"Display a list in a gui - java/Android Studio","body":"<p>Here I implement a simple example of RecyclerView in android (java). You can change it as you need:</p>\n<ol>\n<li><p>Add item.xml in your layout folder, and write these lines in it:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n     xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;wrap_content&quot;&gt;\n\n &lt;TextView\n     android:id=&quot;@+id/titleTextView&quot;\n     android:layout_width=&quot;wrap_content&quot;\n     android:layout_height=&quot;wrap_content&quot;\n     android:layout_margin=&quot;20dp&quot;\n     app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n     app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n     app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n &lt;Button\n     android:id=&quot;@+id/option2Button&quot;\n     android:layout_width=&quot;wrap_content&quot;\n     android:layout_height=&quot;wrap_content&quot;\n     android:layout_margin=&quot;20dp&quot;\n     app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n     app:layout_constraintRight_toRightOf=&quot;parent&quot;\n     app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n &lt;Button\n     android:id=&quot;@+id/option1Button&quot;\n     android:layout_width=&quot;wrap_content&quot;\n     android:layout_height=&quot;wrap_content&quot;\n     android:layout_margin=&quot;20dp&quot;\n     app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n     app:layout_constraintRight_toLeftOf=&quot;@+id/option2Button&quot;\n     app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n</li>\n</ol>\n<p>this is based on your sample image. this layout contains all views in a single row of list. if you want more buttons or texts in each row, you must add them in this file.</p>\n<ol start=\"2\">\n<li><p>You always need an Adapter class for RecyclerViews. So, add MyAdapter.java class to your project as below:</p>\n<pre><code> public class MyAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;\n {\n     private Context context;\n     private List&lt;String&gt; titles;\n\n     MyAdapter(Context context, List&lt;String&gt; titles)\n     {\n         this.context = context;\n         this.titles = titles;\n     }\n\n     @NonNull\n     @Override\n     public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\n     {\n         RecyclerView.ViewHolder viewHolder;\n         LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n\n         viewHolder = getViewHolder(parent, inflater);\n\n         return viewHolder;\n     }\n\n     private RecyclerView.ViewHolder getViewHolder(ViewGroup parent, LayoutInflater inflater)\n     {\n         RecyclerView.ViewHolder viewHolder;\n         View v1 = inflater.inflate(R.layout.item, parent, false);\n         viewHolder = new ItemVH(v1);\n         return viewHolder;\n     }\n\n     @Override\n     public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position)\n     {\n         ItemVH itemVH = (ItemVH) holder;\n\n         // set title for each item:\n         itemVH.titleTextView.setText(titles.get(position));\n         itemVH.option1Button.setText(&quot;option 1&quot;);\n         itemVH.option2Button.setText(&quot;option 2&quot;);\n\n         // click listener for first button:\n         itemVH.option1Button.setOnClickListener(new View.OnClickListener()\n         {\n             @Override\n             public void onClick(View v)\n             {\n                 // option 1 button clicked\n             }\n         });\n\n         // click listener for second button:\n         itemVH.option2Button.setOnClickListener(new View.OnClickListener()\n         {\n             @Override\n             public void onClick(View v)\n             {\n                 // option 2 button clicked\n             }\n         });\n     }\n\n     @Override\n     public int getItemCount()\n     {\n         return titles.size();\n     }\n\n     // add item to list:\n     public void addItem(String title)\n     {\n         titles.add(title);\n         notifyItemInserted(titles.size() - 1);\n     }\n\n     // remove item from list:\n     public void remove(String title)\n     {\n         int position = titles.indexOf(title);\n         if (position &gt; -1)\n         {\n             titles.remove(position);\n             notifyItemRemoved(position);\n         }\n     }\n\n     protected class ItemVH extends RecyclerView.ViewHolder\n     {\n         private TextView titleTextView;\n         private Button option1Button;\n         private Button option2Button;\n\n         public ItemVH(View itemView)\n         {\n             super(itemView);\n\n             titleTextView = itemView.findViewById(R.id.titleTextView);\n             option1Button = itemView.findViewById(R.id.option1Button);\n             option2Button = itemView.findViewById(R.id.option2Button);\n         }\n     }\n }\n</code></pre>\n</li>\n</ol>\n<p>The titles list is list of Strings shown on items. You create this list and send it to the MyAdapter class from MainActivity. all views in single item are find in ItemVH class, and you can work with these views in onBindViewHolder function.</p>\n<ol start=\"3\">\n<li><p>In activity_main.xml add a RecyclerView:</p>\n<pre><code> &lt;androidx.recyclerview.widget.RecyclerView\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;match_parent&quot;\n     android:id=&quot;@+id/recyclerView&quot;/&gt;\n</code></pre>\n</li>\n<li><p>In MainActivity.java add these lines in onCreate:</p>\n<pre><code> // create list:\n List&lt;String&gt; titles = new ArrayList&lt;&gt;();\n titles.add(&quot;first item&quot;);\n titles.add(&quot;second item&quot;);\n titles.add(&quot;third item&quot;);\n\n // define the adapter:\n MyAdapter adapter = new MyAdapter(this, titles);\n\n // set the RecyclerView:\n RecyclerView recyclerView = findViewById(R.id.recyclerView);\n RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(this);\n recyclerView.setLayoutManager(layoutManager);\n recyclerView.setAdapter(adapter);\n recyclerView.addItemDecoration(new DividerItemDecoration(this, DividerItemDecoration.VERTICAL));\n</code></pre>\n</li>\n</ol>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/VMs82.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VMs82.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13831847,"reputation":21,"user_id":9984481,"display_name":"formum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1598891068,"accepted_answer_id":63669540,"answer_count":1,"score":0,"last_activity_date":1636078709,"creation_date":1598861793,"question_id":63667201,"body_markdown":"My goal is to display a list where each element (iteration) is displayed with two buttons:\r\n[![Exampleimage][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lzQfh.jpg\r\n\r\nThe buttons would change a variable in the specific element of the list.\r\n\r\nMy problem: How do I create this gui in Android Studio?","title":"Display a list in a gui - java/Android Studio","body":"<p>My goal is to display a list where each element (iteration) is displayed with two buttons:\n<a href=\"https://i.stack.imgur.com/lzQfh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lzQfh.jpg\" alt=\"Exampleimage\" /></a></p>\n<p>The buttons would change a variable in the specific element of the list.</p>\n<p>My problem: How do I create this gui in Android Studio?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-edgedriver"],"answers":[{"tags":[],"owner":{"account_id":3310429,"reputation":324,"user_id":2784086,"accept_rate":80,"display_name":"Saltz3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585344486,"creation_date":1585344486,"answer_id":60894335,"question_id":58062629,"body_markdown":"I was running into this same issue and it was getting very frustrating! Luckily, in the newer alpha version (4.0.0-alpha-5) of the selenium-edge-driver they have added in the `addArguments()` method into `EdgeOptions()`","title":"How to add arguments to edgeOptions in using edgeDriver selenium","body":"<p>I was running into this same issue and it was getting very frustrating! Luckily, in the newer alpha version (4.0.0-alpha-5) of the selenium-edge-driver they have added in the <code>addArguments()</code> method into <code>EdgeOptions()</code></p>\n"},{"tags":[],"owner":{"account_id":9354707,"reputation":301,"user_id":6943134,"display_name":"Pablo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636078209,"creation_date":1636078209,"answer_id":69847927,"question_id":58062629,"body_markdown":"If you still want to use Selenium 3.141.59 for compatibility, the way to add arguments to EdgeOptions is like this:\r\n\r\n```java\r\nEdgeOptions options = new EdgeOptions();\r\noptions.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, true);\r\nList&lt;String&gt; args = Arrays.asList(&quot;use-fake-ui-for-media-stream&quot;, &quot;use-fake-device-for-media-stream&quot;);\r\nMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;args&quot;, args);\r\noptions.setCapability(&quot;ms:edgeOptions&quot;, map);\r\n```\r\n\r\nI had to reverse engineer to figure out the exact data structures the driver was expecting inside. That works like a charm.","title":"How to add arguments to edgeOptions in using edgeDriver selenium","body":"<p>If you still want to use Selenium 3.141.59 for compatibility, the way to add arguments to EdgeOptions is like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EdgeOptions options = new EdgeOptions();\noptions.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, true);\nList&lt;String&gt; args = Arrays.asList(&quot;use-fake-ui-for-media-stream&quot;, &quot;use-fake-device-for-media-stream&quot;);\nMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;args&quot;, args);\noptions.setCapability(&quot;ms:edgeOptions&quot;, map);\n</code></pre>\n<p>I had to reverse engineer to figure out the exact data structures the driver was expecting inside. That works like a charm.</p>\n"}],"owner":{"account_id":16749527,"reputation":81,"user_id":12106940,"display_name":"Nithin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13243,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1636078209,"creation_date":1569242276,"question_id":58062629,"body_markdown":"I have added the options for chromedriver for selenium testing in my project but i dont understand the appropriate methods for edgedriver. I have tried all the possibilities.\r\nCan someone help me out?\r\nThankyou.\r\n\r\n                ChromeOptions options = new ChromeOptions();\r\n\t\toptions .addArguments(&quot;--start-maximized&quot;);\r\n\t\toptions .addArguments(&quot;--window-size=1920,900&quot;);\r\n\t\t_chromeOptions.addArguments(&quot;--ignore-certificate-errors&quot;);\r\nIts working fine for chromeOptions but I dont understand how to write for edge options.\r\n\r\n\r\n               \r\n                EdgeOptions options = new EdgeOptions();\r\n                options.setCapability(&quot;window-size&quot;,&quot;1920*900&quot;);\r\n\t\toptions.setCapability(&quot;ignore-certificate-errors&quot; , true);\r\n\r\n\t\tDesiredCapabilities capabilities = DesiredCapabilities.edge();\r\n                options.merge(capabilities);\r\n\r\n\r\nFor edge Options since there is no addArguments function I tried with setCapability and atlast merged with DesiredCapabilities but it is not working","title":"How to add arguments to edgeOptions in using edgeDriver selenium","body":"<p>I have added the options for chromedriver for selenium testing in my project but i dont understand the appropriate methods for edgedriver. I have tried all the possibilities.\nCan someone help me out?\nThankyou.</p>\n\n<pre><code>            ChromeOptions options = new ChromeOptions();\n    options .addArguments(\"--start-maximized\");\n    options .addArguments(\"--window-size=1920,900\");\n    _chromeOptions.addArguments(\"--ignore-certificate-errors\");\n</code></pre>\n\n<p>Its working fine for chromeOptions but I dont understand how to write for edge options.</p>\n\n<pre><code>            EdgeOptions options = new EdgeOptions();\n            options.setCapability(\"window-size\",\"1920*900\");\n    options.setCapability(\"ignore-certificate-errors\" , true);\n\n    DesiredCapabilities capabilities = DesiredCapabilities.edge();\n            options.merge(capabilities);\n</code></pre>\n\n<p>For edge Options since there is no addArguments function I tried with setCapability and atlast merged with DesiredCapabilities but it is not working</p>\n"},{"tags":["java","api","google-sheets","google-sheets-api"],"comments":[{"owner":{"account_id":4779952,"reputation":1434,"user_id":3862024,"accept_rate":100,"display_name":"gagarwa"},"score":0,"creation_date":1597073446,"post_id":63342781,"comment_id":112007719,"body_markdown":"To clarify, in the provided code, if you comment out `ss.setSortOrder` and `ss.setDimensionIndex`, it works properly?  You can check here for the tutorial: https://developers.google.com/sheets/api/guides/filters.","body":"To clarify, in the provided code, if you comment out <code>ss.setSortOrder</code> and <code>ss.setDimensionIndex</code>, it works properly?  You can check here for the tutorial: <a href=\"https://developers.google.com/sheets/api/guides/filters\" rel=\"nofollow noreferrer\">developers.google.com/sheets/api/guides/filters</a>."},{"owner":{"account_id":2669723,"reputation":143,"user_id":2307380,"display_name":"James Giordano"},"score":0,"creation_date":1597077613,"post_id":63342781,"comment_id":112009637,"body_markdown":"I did comment out the ss portion, and it continues but doesn&#39;t look to be sorting my data.","body":"I did comment out the ss portion, and it continues but doesn&#39;t look to be sorting my data."},{"owner":{"account_id":4779952,"reputation":1434,"user_id":3862024,"accept_rate":100,"display_name":"gagarwa"},"score":1,"creation_date":1597092847,"post_id":63342781,"comment_id":112016188,"body_markdown":"Do you have the columns based-zero indexed?  I believe everything should be zero-based.  At the very least, the dimension index = 1 refers to the second column of your data according to the guide.","body":"Do you have the columns based-zero indexed?  I believe everything should be zero-based.  At the very least, the dimension index = 1 refers to the second column of your data according to the guide."},{"owner":{"account_id":2669723,"reputation":143,"user_id":2307380,"display_name":"James Giordano"},"score":0,"creation_date":1597153522,"post_id":63342781,"comment_id":112036666,"body_markdown":"Yes, I have double checked and they are all zero based. I had merged rows in column A, but have removed it and still getitng 500 error. My dimension is correct because in this instance I do want to sort on the 2nd column of my range.\n\nThank you!","body":"Yes, I have double checked and they are all zero based. I had merged rows in column A, but have removed it and still getitng 500 error. My dimension is correct because in this instance I do want to sort on the 2nd column of my range.  Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636077273,"creation_date":1597736272,"answer_id":63463919,"question_id":63342781,"body_markdown":"### Answer:\r\n*You are trying to sort columns `E:I` by column `B` - this is not possible!*\r\n\r\n### More Information:\r\nIn your code, you are setting the `dimensionIndex` for which to sort the data by, to the value of `1`. This isn&#39;t the second column of the data you want to sort, but the second column ***of your whole spreadsheet***.\r\n\r\nThis isn&#39;t clear from the [SortSpec](https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/sheets#sortspec) documentation, but can be inferred from the example provided by Google in the [Data Operations documentation](https://developers.google.com/sheets/api/samples/data#sort_a_range_with_multiple_sorting_specifications)\r\n\r\n### Code Fix:\r\nAll you need to do to sort this is change the value passed to `setDimensionIndex`:\r\n```java\r\nss.setDimensionIndex(1)\r\n```\r\nchange to:\r\n```java\r\nss.setDimensionIndex(6)\r\n```\r\n\r\n\r\n### References:\r\n- [Method: spreadsheets.batchUpdate | Sheets API | Google Developers](https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/batchUpdate)\r\n- [Data Operations | Sheets API | Google Developers](https://developers.google.com/sheets/api/samples/data)\r\n- [Sheets API | Google Developers - SortSpec](https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/sheets#sortspec)","title":"Sort range based on a column using a google sheets API in Java","body":"<h3>Answer:</h3>\n<p><em>You are trying to sort columns <code>E:I</code> by column <code>B</code> - this is not possible!</em></p>\n<h3>More Information:</h3>\n<p>In your code, you are setting the <code>dimensionIndex</code> for which to sort the data by, to the value of <code>1</code>. This isn't the second column of the data you want to sort, but the second column <em><strong>of your whole spreadsheet</strong></em>.</p>\n<p>This isn't clear from the <a href=\"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/sheets#sortspec\" rel=\"nofollow noreferrer\">SortSpec</a> documentation, but can be inferred from the example provided by Google in the <a href=\"https://developers.google.com/sheets/api/samples/data#sort_a_range_with_multiple_sorting_specifications\" rel=\"nofollow noreferrer\">Data Operations documentation</a></p>\n<h3>Code Fix:</h3>\n<p>All you need to do to sort this is change the value passed to <code>setDimensionIndex</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ss.setDimensionIndex(1)\n</code></pre>\n<p>change to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ss.setDimensionIndex(6)\n</code></pre>\n<h3>References:</h3>\n<ul>\n<li><a href=\"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/batchUpdate\" rel=\"nofollow noreferrer\">Method: spreadsheets.batchUpdate | Sheets API | Google Developers</a></li>\n<li><a href=\"https://developers.google.com/sheets/api/samples/data\" rel=\"nofollow noreferrer\">Data Operations | Sheets API | Google Developers</a></li>\n<li><a href=\"https://developers.google.com/sheets/api/reference/rest/v4/spreadsheets/sheets#sortspec\" rel=\"nofollow noreferrer\">Sheets API | Google Developers - SortSpec</a></li>\n</ul>\n"}],"owner":{"account_id":2669723,"reputation":143,"user_id":2307380,"display_name":"James Giordano"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636077316,"creation_date":1597071719,"question_id":63342781,"body_markdown":"I have my Java code working fine with retrieving and updating data to my Google Sheets spreadsheet.\r\n\r\nI am trying to sort the data after updating, and getting a 500 Internal Server Error and was wondering what I am sending wrong. I am trying to ASCENDING sort Range &quot;E1:I1000&quot;\r\n\r\nHere is my code:\r\n\r\n    \t\tSheets sheetsService = GoogleAuthorizeUtil.getSheetsService(&quot;worktest&quot;);\r\n        BatchUpdateSpreadsheetRequest busReq = new BatchUpdateSpreadsheetRequest();\r\n\t    SortRangeRequest srr = new SortRangeRequest();\r\n\t    GridRange gr = new GridRange();\r\n\t    SortSpec ss = new SortSpec();\r\n\t    Request req = new Request();\r\n\t    \r\n\t    gr.setSheetId(0);\r\n\t    gr.setStartRowIndex(1);\r\n\t    gr.setEndRowIndex(1000);\r\n\t    gr.setStartColumnIndex(5);\r\n\t    gr.setEndColumnIndex(10);\r\n\t    \r\n\t    srr.setRange(gr);\r\n\t    \r\n\t    ss.setSortOrder(&quot;ASCENDING&quot;);\r\n\t    ss.setDimensionIndex(1);\r\n\t    \r\n\t    srr.setSortSpecs(Arrays.asList(ss));\r\n\t    \r\n\t    req.setSortRange(srr);\r\n\t    \r\n\t    busReq.setRequests(Arrays.asList(req));\r\n\t    \r\n\t    sheetsService.spreadsheets().batchUpdate(googleID, busReq).execute();\r\n\r\nIs there anything wrong in how I am trying to sort this?","title":"Sort range based on a column using a google sheets API in Java","body":"<p>I have my Java code working fine with retrieving and updating data to my Google Sheets spreadsheet.</p>\n<p>I am trying to sort the data after updating, and getting a 500 Internal Server Error and was wondering what I am sending wrong. I am trying to ASCENDING sort Range &quot;E1:I1000&quot;</p>\n<p>Here is my code:</p>\n<pre><code>        Sheets sheetsService = GoogleAuthorizeUtil.getSheetsService(&quot;worktest&quot;);\n    BatchUpdateSpreadsheetRequest busReq = new BatchUpdateSpreadsheetRequest();\n    SortRangeRequest srr = new SortRangeRequest();\n    GridRange gr = new GridRange();\n    SortSpec ss = new SortSpec();\n    Request req = new Request();\n    \n    gr.setSheetId(0);\n    gr.setStartRowIndex(1);\n    gr.setEndRowIndex(1000);\n    gr.setStartColumnIndex(5);\n    gr.setEndColumnIndex(10);\n    \n    srr.setRange(gr);\n    \n    ss.setSortOrder(&quot;ASCENDING&quot;);\n    ss.setDimensionIndex(1);\n    \n    srr.setSortSpecs(Arrays.asList(ss));\n    \n    req.setSortRange(srr);\n    \n    busReq.setRequests(Arrays.asList(req));\n    \n    sheetsService.spreadsheets().batchUpdate(googleID, busReq).execute();\n</code></pre>\n<p>Is there anything wrong in how I am trying to sort this?</p>\n"},{"tags":["java","google-calendar-api"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1597734457,"post_id":63461135,"comment_id":112222675,"body_markdown":"val eventResult: Event = calendar.events().insert(calendarId, event).execute()\n      where are you setting calendarId?","body":"val eventResult: Event = calendar.events().insert(calendarId, event).execute()       where are you setting calendarId?"},{"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"score":0,"creation_date":1597738594,"post_id":63461135,"comment_id":112224451,"body_markdown":"h @DaImTo , it&#39;s defined in `application.properties` , and injected to the class , as shown in my code `@Value(&quot;\\${google.calendar.id}&quot;)\n  private lateinit var calendarId: String` . The value is shared across all my test methods , including `listEvents()` which works correctly.  The value is `3fxxxxxxxxggc@group.calendar.google.com`","body":"h @DaImTo , it&#39;s defined in <code>application.properties</code> , and injected to the class , as shown in my code <code>@Value(&quot;\\${google.calendar.id}&quot;)   private lateinit var calendarId: String</code> . The value is shared across all my test methods , including <code>listEvents()</code> which works correctly.  The value is <code>3fxxxxxxxxggc@group.calendar.google.com</code>"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1597738705,"post_id":63461135,"comment_id":112224492,"body_markdown":"Do a calendar.get and make sure thats the right calendar id and you have access to it.","body":"Do a calendar.get and make sure thats the right calendar id and you have access to it."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1597739054,"post_id":63461135,"comment_id":112224669,"body_markdown":"are you sure thats the full body you are sending i can almost see in your image that you are sending Id.   Couldnt you post the text and not an image?","body":"are you sure thats the full body you are sending i can almost see in your image that you are sending Id.   Couldnt you post the text and not an image?"},{"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"score":0,"creation_date":1597740550,"post_id":63461135,"comment_id":112225419,"body_markdown":"Hi @DaImTo . In my `addCalendarToServiceAccount()` , I can see log of inserted = ... some JSON object , with `&quot;accessRole&quot;:&quot;owner&quot;` , `&quot;id&quot;:&quot;3fgnxxxxdggc@group.calendar.google.com&quot;` , the ID is identical. I can also `calendar.acl().list(calendarId).execute()` and can see my SA `&quot;user:xxx@xxx.iam.gserviceaccount.com&quot; `has `&quot;role&quot;:&quot;owner&quot;`","body":"Hi @DaImTo . In my <code>addCalendarToServiceAccount()</code> , I can see log of inserted = ... some JSON object , with <code>&quot;accessRole&quot;:&quot;owner&quot;</code> , <code>&quot;id&quot;:&quot;3fgnxxxxdggc@group.calendar.google.com&quot;</code> , the ID is identical. I can also <code>calendar.acl().list(calendarId).execute()</code> and can see my SA <code>&quot;user:xxx@xxx.iam.gserviceaccount.com&quot; </code>has <code>&quot;role&quot;:&quot;owner&quot;</code>"},{"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"score":0,"creation_date":1597740914,"post_id":63461135,"comment_id":112225604,"body_markdown":"Hi @DaImTo . Here is the log https://gist.github.com/smallufo/517ca41f45bdcaa400e053a96475c98e","body":"Hi @DaImTo . Here is the log <a href=\"https://gist.github.com/smallufo/517ca41f45bdcaa400e053a96475c98e\" rel=\"nofollow noreferrer\">gist.github.com/smallufo/517ca41f45bdcaa400e053a96475c98e</a>"}],"answers":[{"tags":[],"owner":{"account_id":16005989,"reputation":14704,"user_id":11551468,"display_name":"Rafa Guillermo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636077161,"creation_date":1597745689,"answer_id":63466511,"question_id":63461135,"body_markdown":"### Answer:\r\n*You need to use `start.dateTime` and `end.dateTime` rather than `start.date` and `end.date`*\r\n\r\n### Fix:\r\n\r\nAs per the [documentation](https://developers.google.com/calendar/v3/reference/events/insert#request-body):\r\n\r\n&gt; `end.date`:\tThe date, in the format &quot;yyyy-mm-dd&quot;, if this is an all-day event.\r\n&gt;\r\n&gt; `end.dateTime`: The time, as a combined date-time value (formatted according to RFC3339). A time zone offset is required unless a time zone is explicitly specified in **timeZone**.\r\n&gt;\r\n&gt; `start.date`:\tThe date, in the format &quot;yyyy-mm-dd&quot;, if this is an all-day event.\r\n&gt;\r\n&gt; `start.dateTime`: The time, as a combined date-time value (formatted according to RFC3339). A time zone offset is required unless a time zone is explicitly specified in **timeZone**.\r\n\r\nTherefore, you need to change your date &amp; time setting method from:\r\n```jave\r\nEventDateTime().setDate(DateTime(fromDate, TimeZone.getTimeZone(zoneId))))\r\n```\r\nto:\r\n```\r\nEventDateTime().setDateTime(DateTime(fromDate, TimeZone.getTimeZone(zoneId))))\r\n```\r\nWhich will change the request body to:\r\n```\r\n{\r\n  &quot;description&quot;: &quot;A chance to hear more about Google&#39;s developer products.&quot;,\r\n  &quot;end&quot;: {\r\n      &quot;dateTime&quot;: &quot;2020-08-18T11:32:00.000+08:00&quot; // modified\r\n  },\r\n  &quot;location&quot;: &quot;800 Howard St., San Francisco, CA 94103&quot;,\r\n  &quot;start&quot;: {\r\n    &quot;dateTime&quot;: &quot;2020-08-18T10:32:00.000+08:00&quot; // modified\r\n  },\r\n  &quot;summary&quot;: &quot;Google I/O 2015&quot;\r\n}\r\n```\r\n\r\nYou can see the documentation for this method [here](https://googleapis.dev/java/google-api-services-calendar/latest/com/google/api/services/calendar/model/EventDateTime.html#setDateTime-com.google.api.client.util.DateTime-).\r\n\r\n\r\n### References:\r\n- [Events: insert | Calendar API | Google Developers](https://developers.google.com/calendar/v3/reference/events/insert)\r\n- [RFC 3339 - Date and Time on the Internet: Timestamps](https://www.rfc-editor.org/rfc/rfc3339)\r\n- [EventDateTime (Calendar API v3-rev20200610-1.30.10)](https://googleapis.dev/java/google-api-services-calendar/latest/com/google/api/services/calendar/model/EventDateTime.html#setDateTime-com.google.api.client.util.DateTime-)","title":"Google Calendar API v3 always returns BadRequest when creating events","body":"<h3>Answer:</h3>\n<p><em>You need to use <code>start.dateTime</code> and <code>end.dateTime</code> rather than <code>start.date</code> and <code>end.date</code></em></p>\n<h3>Fix:</h3>\n<p>As per the <a href=\"https://developers.google.com/calendar/v3/reference/events/insert#request-body\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><code>end.date</code>:   The date, in the format &quot;yyyy-mm-dd&quot;, if this is an all-day event.</p>\n<p><code>end.dateTime</code>: The time, as a combined date-time value (formatted according to RFC3339). A time zone offset is required unless a time zone is explicitly specified in <strong>timeZone</strong>.</p>\n<p><code>start.date</code>: The date, in the format &quot;yyyy-mm-dd&quot;, if this is an all-day event.</p>\n<p><code>start.dateTime</code>: The time, as a combined date-time value (formatted according to RFC3339). A time zone offset is required unless a time zone is explicitly specified in <strong>timeZone</strong>.</p>\n</blockquote>\n<p>Therefore, you need to change your date &amp; time setting method from:</p>\n<pre><code>EventDateTime().setDate(DateTime(fromDate, TimeZone.getTimeZone(zoneId))))\n</code></pre>\n<p>to:</p>\n<pre><code>EventDateTime().setDateTime(DateTime(fromDate, TimeZone.getTimeZone(zoneId))))\n</code></pre>\n<p>Which will change the request body to:</p>\n<pre><code>{\n  &quot;description&quot;: &quot;A chance to hear more about Google's developer products.&quot;,\n  &quot;end&quot;: {\n      &quot;dateTime&quot;: &quot;2020-08-18T11:32:00.000+08:00&quot; // modified\n  },\n  &quot;location&quot;: &quot;800 Howard St., San Francisco, CA 94103&quot;,\n  &quot;start&quot;: {\n    &quot;dateTime&quot;: &quot;2020-08-18T10:32:00.000+08:00&quot; // modified\n  },\n  &quot;summary&quot;: &quot;Google I/O 2015&quot;\n}\n</code></pre>\n<p>You can see the documentation for this method <a href=\"https://googleapis.dev/java/google-api-services-calendar/latest/com/google/api/services/calendar/model/EventDateTime.html#setDateTime-com.google.api.client.util.DateTime-\" rel=\"nofollow noreferrer\">here</a>.</p>\n<h3>References:</h3>\n<ul>\n<li><a href=\"https://developers.google.com/calendar/v3/reference/events/insert\" rel=\"nofollow noreferrer\">Events: insert | Calendar API | Google Developers</a></li>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc3339\" rel=\"nofollow noreferrer\">RFC 3339 - Date and Time on the Internet: Timestamps</a></li>\n<li><a href=\"https://googleapis.dev/java/google-api-services-calendar/latest/com/google/api/services/calendar/model/EventDateTime.html#setDateTime-com.google.api.client.util.DateTime-\" rel=\"nofollow noreferrer\">EventDateTime (Calendar API v3-rev20200610-1.30.10)</a></li>\n</ul>\n"}],"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63466511,"answer_count":1,"score":1,"last_activity_date":1636077161,"creation_date":1597718715,"question_id":63461135,"body_markdown":"I created a shared calendar and want to add events to the calendar. \r\n\r\nI created a project and set up a Service Account `xxx@xxx.iam.gserviceaccount.com`.\r\n\r\nThen I shared the calendar to the Service Account as **owner**.\r\n\r\nThen I noticed \r\n&gt; Service Account must manually add shared calendar\r\n\r\nas described here\r\nhttps://stackoverflow.com/a/62232361/298430 and https://issuetracker.google.com/issues/148804709\r\n\r\nSo I wrote a code:\r\n\r\n```\r\n @Test\r\n  fun addCalendarToServiceAccount() {\r\n\r\n    val calList1: CalendarList = calendar.calendarList().list().execute()\r\n    logger.info(&quot;calList1 = {}&quot;, calList1)\r\n\r\n    val inserted = calendar.calendarList().insert(CalendarListEntry().setId(calendarId)).execute()\r\n    logger.info(&quot;inserted = {}&quot;, inserted)\r\n\r\n    val calList2: CalendarList = calendar.calendarList().list().execute()\r\n    logger.info(&quot;calList2 = {}&quot;, calList2)\r\n  }\r\n```\r\nIt works perfectly. When first called, I can see `calList1` is empty, and `calList2` contains something.\r\n\r\n\r\nThen I manually insert one event to the calendar (with google calendar WEB UI), I want to check if I can retrieve the event:\r\n\r\n```\r\n@Test\r\n  fun listEvents() {\r\n    val events: Events = calendar.events().list(calendarId).execute()\r\n    logger.info(&quot;events = {}&quot;, events)\r\n    events.items.forEachIndexed { index, e -&gt;\r\n      logger.info(&quot;Event [index = {}] , event = {}&quot;, index, e)\r\n    }\r\n  }\r\n```\r\n\r\nIt also works.\r\n\r\n```\r\n{\r\n   &quot;accessRole&quot;:&quot;owner&quot;,\r\n   &quot;defaultReminders&quot;:[\r\n\r\n   ],\r\n   &quot;etag&quot;:&quot;\\&quot;xxx\\&quot;&quot;,\r\n   &quot;items&quot;:[\r\n      {\r\n         &quot;created&quot;:&quot;2020-08-17T17:51:21.000Z&quot;,\r\n         &quot;creator&quot;:{\r\n            &quot;email&quot;:&quot;xxx@gmail.com&quot;\r\n         },\r\n         &quot;end&quot;:{\r\n            &quot;date&quot;:&quot;2020-08-20&quot;\r\n         },\r\n         &quot;etag&quot;:&quot;\\&quot;xxx\\&quot;&quot;,\r\n         &quot;htmlLink&quot;:&quot;https://www.google.com/calendar/event?eid=xxx&quot;,\r\n         &quot;iCalUID&quot;:&quot;xxx@google.com&quot;,\r\n         &quot;id&quot;:&quot;xxx&quot;,\r\n         &quot;kind&quot;:&quot;calendar#event&quot;,\r\n         &quot;organizer&quot;:{\r\n            &quot;displayName&quot;:&quot;xxx&quot;,\r\n            &quot;email&quot;:&quot;xxx@group.calendar.google.com&quot;,\r\n            &quot;self&quot;:true\r\n         },\r\n         &quot;reminders&quot;:{\r\n            &quot;useDefault&quot;:false\r\n         },\r\n         &quot;sequence&quot;:0,\r\n         &quot;start&quot;:{\r\n            &quot;date&quot;:&quot;2020-08-19&quot;\r\n         },\r\n         &quot;status&quot;:&quot;confirmed&quot;,\r\n         &quot;summary&quot;:&quot;xxx  test1&quot;,\r\n         &quot;transparency&quot;:&quot;transparent&quot;,\r\n         &quot;updated&quot;:&quot;2020-08-18T01:07:54.441Z&quot;\r\n      }\r\n   ],\r\n   &quot;kind&quot;:&quot;calendar#events&quot;,\r\n   &quot;nextSyncToken&quot;:&quot;xxx&quot;,\r\n   &quot;summary&quot;:&quot;xxx&quot;,\r\n   &quot;timeZone&quot;:&quot;Asia/Taipei&quot;,\r\n   &quot;updated&quot;:&quot;2020-08-18T01:07:54.688Z&quot;\r\n}\r\n```\r\n\r\nThen I want to programmatically insert something, like the API example shows:\r\n\r\n```\r\n@Test\r\n  fun testInsertEvent() {\r\n    val now = LocalDateTime.now().withSecond(0).withNano(0)\r\n    val zoneId = ZoneId.of(&quot;Asia/Taipei&quot;)\r\n    val fromDate = Date.from(now.atZone(zoneId).toInstant())\r\n    val endDate = Date.from(now.plusMinutes(60).atZone(zoneId).toInstant())\r\n\r\n    val event = Event()\r\n      .setSummary(&quot;Google I/O 2015&quot;)\r\n      .setLocation(&quot;800 Howard St., San Francisco, CA 94103&quot;)\r\n      .setDescription(&quot;A chance to hear more about Google&#39;s developer products.&quot;)\r\n      .setStart(EventDateTime().setDate(DateTime(fromDate, TimeZone.getTimeZone(zoneId))))\r\n      .setEnd(EventDateTime().setDate(DateTime(endDate, TimeZone.getTimeZone(zoneId))))\r\n\r\n    logger.info(&quot;before insert event : {}&quot;, event)\r\n\r\n    val eventResult: Event = calendar.events().insert(calendarId, event).execute()\r\n    logger.info(&quot;eventResult = {}&quot;, eventResult)\r\n  }\r\n```\r\nI can see the client truly POST to google&#39;e endpoint:\r\n\r\n[![Logs caught by IDEA][1]][1]\r\n\r\nThe body is:\r\n\r\n```\r\n{\r\n   &quot;description&quot;:&quot;A chance to hear more about Google&#39;s developer products.&quot;,\r\n   &quot;end&quot;:{\r\n      &quot;date&quot;:&quot;2020-08-18T11:32:00.000+08:00&quot;\r\n   },\r\n   &quot;location&quot;:&quot;800 Howard St., San Francisco, CA 94103&quot;,\r\n   &quot;start&quot;:{\r\n      &quot;date&quot;:&quot;2020-08-18T10:32:00.000+08:00&quot;\r\n   },\r\n   &quot;summary&quot;:&quot;Google I/O 2015&quot;\r\n}\r\n```\r\n\r\nBut google just replied 400 BadRequest, without any further description:\r\n\r\n```\r\n2020-08-18 10:32:15.974 [main] INFO  c.g.a.c.h.HttpResponse - -------------- RESPONSE --------------\r\nHTTP/1.1 400 Bad Request\r\nTransfer-Encoding: chunked\r\nAlt-Svc: h3-29=&quot;:443&quot;; ma=2592000,h3-27=&quot;:443&quot;; ma=2592000,h3-T050=&quot;:443&quot;; ma=2592000,h3-Q050=&quot;:443&quot;; ma=2592000,h3-Q046=&quot;:443&quot;; ma=2592000,h3-Q043=&quot;:443&quot;; ma=2592000,quic=&quot;:443&quot;; ma=2592000; v=&quot;46,43&quot;\r\nServer: ESF\r\nX-Content-Type-Options: nosniff\r\nPragma: no-cache\r\nDate: Tue, 18 Aug 2020 02:32:15 GMT\r\nX-Frame-Options: SAMEORIGIN\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nContent-Encoding: gzip\r\nVary: Referer\r\nVary: X-Origin\r\nVary: Origin\r\nExpires: Mon, 01 Jan 1990 00:00:00 GMT\r\nX-XSS-Protection: 0\r\nContent-Type: application/json; charset=UTF-8\r\n\r\n2020-08-18 10:32:15.980 [main] INFO  c.g.a.c.u.LoggingByteArrayOutputStream - Total: 171 bytes\r\n2020-08-18 10:32:15.980 [main] INFO  c.g.a.c.u.LoggingByteArrayOutputStream - {\r\n &quot;error&quot;: {\r\n  &quot;errors&quot;: [\r\n   {\r\n    &quot;domain&quot;: &quot;global&quot;,\r\n    &quot;reason&quot;: &quot;badRequest&quot;,\r\n    &quot;message&quot;: &quot;Bad Request&quot;\r\n   }\r\n  ],\r\n  &quot;code&quot;: 400,\r\n  &quot;message&quot;: &quot;Bad Request&quot;\r\n }\r\n}\r\n```\r\n\r\nI am using the same *calendar* instance, can successfully `addCalendarToServiceAccount()` (as `owner`)  and `listEvents()`.\r\nBut what goes wrong when inserting an event? Did I miss anything?\r\n\r\n\r\nOther fields are initialized as follows:\r\n\r\n```\r\n  @Value(&quot;\\${google.calendar.id}&quot;)\r\n  private lateinit var calendarId: String\r\n\r\n  @Value(&quot;\\${google.calendar.apiKey}&quot;)\r\n  private lateinit var apiKey : String\r\n\r\n  private val httpTransport: HttpTransport by lazy {\r\n    GoogleNetHttpTransport.newTrustedTransport()\r\n  }\r\n\r\n  private val jacksonFactory: JsonFactory by lazy {\r\n    JacksonFactory.getDefaultInstance()\r\n  }\r\n\r\n  private val saCredentials: GoogleCredentials by lazy {\r\n    javaClass.getResourceAsStream(&quot;/chancer-d1de03c4c25a.json&quot;).use { iStream -&gt;\r\n      ServiceAccountCredentials.fromStream(iStream)\r\n        .createScoped(listOf(\r\n          &quot;https://www.googleapis.com/auth/cloud-platform&quot;,\r\n          *CalendarScopes.all().toTypedArray()\r\n        ))\r\n    }.apply {\r\n      refreshIfExpired()\r\n    }\r\n  }\r\n\r\n\r\n  private val requestInitializer: HttpRequestInitializer by lazy {\r\n    HttpCredentialsAdapter(saCredentials)\r\n  }\r\n\r\n  private val calendar: Calendar by lazy {\r\n    Calendar.Builder(httpTransport, jacksonFactory, requestInitializer)\r\n      .build()\r\n  }\r\n```\r\n\r\nEnvironments:\r\n\r\n```\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;kotlin.version&gt;1.4.0&lt;/kotlin.version&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n      &lt;version&gt;1.30.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-api-services-calendar&lt;/artifactId&gt;\r\n      &lt;version&gt;v3-rev20200610-1.30.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n      &lt;version&gt;0.21.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sqQHF.png","title":"Google Calendar API v3 always returns BadRequest when creating events","body":"<p>I created a shared calendar and want to add events to the calendar.</p>\n<p>I created a project and set up a Service Account <code>xxx@xxx.iam.gserviceaccount.com</code>.</p>\n<p>Then I shared the calendar to the Service Account as <strong>owner</strong>.</p>\n<p>Then I noticed</p>\n<blockquote>\n<p>Service Account must manually add shared calendar</p>\n</blockquote>\n<p>as described here\n<a href=\"https://stackoverflow.com/a/62232361/298430\">https://stackoverflow.com/a/62232361/298430</a> and <a href=\"https://issuetracker.google.com/issues/148804709\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/148804709</a></p>\n<p>So I wrote a code:</p>\n<pre><code> @Test\n  fun addCalendarToServiceAccount() {\n\n    val calList1: CalendarList = calendar.calendarList().list().execute()\n    logger.info(&quot;calList1 = {}&quot;, calList1)\n\n    val inserted = calendar.calendarList().insert(CalendarListEntry().setId(calendarId)).execute()\n    logger.info(&quot;inserted = {}&quot;, inserted)\n\n    val calList2: CalendarList = calendar.calendarList().list().execute()\n    logger.info(&quot;calList2 = {}&quot;, calList2)\n  }\n</code></pre>\n<p>It works perfectly. When first called, I can see <code>calList1</code> is empty, and <code>calList2</code> contains something.</p>\n<p>Then I manually insert one event to the calendar (with google calendar WEB UI), I want to check if I can retrieve the event:</p>\n<pre><code>@Test\n  fun listEvents() {\n    val events: Events = calendar.events().list(calendarId).execute()\n    logger.info(&quot;events = {}&quot;, events)\n    events.items.forEachIndexed { index, e -&gt;\n      logger.info(&quot;Event [index = {}] , event = {}&quot;, index, e)\n    }\n  }\n</code></pre>\n<p>It also works.</p>\n<pre><code>{\n   &quot;accessRole&quot;:&quot;owner&quot;,\n   &quot;defaultReminders&quot;:[\n\n   ],\n   &quot;etag&quot;:&quot;\\&quot;xxx\\&quot;&quot;,\n   &quot;items&quot;:[\n      {\n         &quot;created&quot;:&quot;2020-08-17T17:51:21.000Z&quot;,\n         &quot;creator&quot;:{\n            &quot;email&quot;:&quot;xxx@gmail.com&quot;\n         },\n         &quot;end&quot;:{\n            &quot;date&quot;:&quot;2020-08-20&quot;\n         },\n         &quot;etag&quot;:&quot;\\&quot;xxx\\&quot;&quot;,\n         &quot;htmlLink&quot;:&quot;https://www.google.com/calendar/event?eid=xxx&quot;,\n         &quot;iCalUID&quot;:&quot;xxx@google.com&quot;,\n         &quot;id&quot;:&quot;xxx&quot;,\n         &quot;kind&quot;:&quot;calendar#event&quot;,\n         &quot;organizer&quot;:{\n            &quot;displayName&quot;:&quot;xxx&quot;,\n            &quot;email&quot;:&quot;xxx@group.calendar.google.com&quot;,\n            &quot;self&quot;:true\n         },\n         &quot;reminders&quot;:{\n            &quot;useDefault&quot;:false\n         },\n         &quot;sequence&quot;:0,\n         &quot;start&quot;:{\n            &quot;date&quot;:&quot;2020-08-19&quot;\n         },\n         &quot;status&quot;:&quot;confirmed&quot;,\n         &quot;summary&quot;:&quot;xxx  test1&quot;,\n         &quot;transparency&quot;:&quot;transparent&quot;,\n         &quot;updated&quot;:&quot;2020-08-18T01:07:54.441Z&quot;\n      }\n   ],\n   &quot;kind&quot;:&quot;calendar#events&quot;,\n   &quot;nextSyncToken&quot;:&quot;xxx&quot;,\n   &quot;summary&quot;:&quot;xxx&quot;,\n   &quot;timeZone&quot;:&quot;Asia/Taipei&quot;,\n   &quot;updated&quot;:&quot;2020-08-18T01:07:54.688Z&quot;\n}\n</code></pre>\n<p>Then I want to programmatically insert something, like the API example shows:</p>\n<pre><code>@Test\n  fun testInsertEvent() {\n    val now = LocalDateTime.now().withSecond(0).withNano(0)\n    val zoneId = ZoneId.of(&quot;Asia/Taipei&quot;)\n    val fromDate = Date.from(now.atZone(zoneId).toInstant())\n    val endDate = Date.from(now.plusMinutes(60).atZone(zoneId).toInstant())\n\n    val event = Event()\n      .setSummary(&quot;Google I/O 2015&quot;)\n      .setLocation(&quot;800 Howard St., San Francisco, CA 94103&quot;)\n      .setDescription(&quot;A chance to hear more about Google's developer products.&quot;)\n      .setStart(EventDateTime().setDate(DateTime(fromDate, TimeZone.getTimeZone(zoneId))))\n      .setEnd(EventDateTime().setDate(DateTime(endDate, TimeZone.getTimeZone(zoneId))))\n\n    logger.info(&quot;before insert event : {}&quot;, event)\n\n    val eventResult: Event = calendar.events().insert(calendarId, event).execute()\n    logger.info(&quot;eventResult = {}&quot;, eventResult)\n  }\n</code></pre>\n<p>I can see the client truly POST to google'e endpoint:</p>\n<p><a href=\"https://i.stack.imgur.com/sqQHF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sqQHF.png\" alt=\"Logs caught by IDEA\" /></a></p>\n<p>The body is:</p>\n<pre><code>{\n   &quot;description&quot;:&quot;A chance to hear more about Google's developer products.&quot;,\n   &quot;end&quot;:{\n      &quot;date&quot;:&quot;2020-08-18T11:32:00.000+08:00&quot;\n   },\n   &quot;location&quot;:&quot;800 Howard St., San Francisco, CA 94103&quot;,\n   &quot;start&quot;:{\n      &quot;date&quot;:&quot;2020-08-18T10:32:00.000+08:00&quot;\n   },\n   &quot;summary&quot;:&quot;Google I/O 2015&quot;\n}\n</code></pre>\n<p>But google just replied 400 BadRequest, without any further description:</p>\n<pre><code>2020-08-18 10:32:15.974 [main] INFO  c.g.a.c.h.HttpResponse - -------------- RESPONSE --------------\nHTTP/1.1 400 Bad Request\nTransfer-Encoding: chunked\nAlt-Svc: h3-29=&quot;:443&quot;; ma=2592000,h3-27=&quot;:443&quot;; ma=2592000,h3-T050=&quot;:443&quot;; ma=2592000,h3-Q050=&quot;:443&quot;; ma=2592000,h3-Q046=&quot;:443&quot;; ma=2592000,h3-Q043=&quot;:443&quot;; ma=2592000,quic=&quot;:443&quot;; ma=2592000; v=&quot;46,43&quot;\nServer: ESF\nX-Content-Type-Options: nosniff\nPragma: no-cache\nDate: Tue, 18 Aug 2020 02:32:15 GMT\nX-Frame-Options: SAMEORIGIN\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nContent-Encoding: gzip\nVary: Referer\nVary: X-Origin\nVary: Origin\nExpires: Mon, 01 Jan 1990 00:00:00 GMT\nX-XSS-Protection: 0\nContent-Type: application/json; charset=UTF-8\n\n2020-08-18 10:32:15.980 [main] INFO  c.g.a.c.u.LoggingByteArrayOutputStream - Total: 171 bytes\n2020-08-18 10:32:15.980 [main] INFO  c.g.a.c.u.LoggingByteArrayOutputStream - {\n &quot;error&quot;: {\n  &quot;errors&quot;: [\n   {\n    &quot;domain&quot;: &quot;global&quot;,\n    &quot;reason&quot;: &quot;badRequest&quot;,\n    &quot;message&quot;: &quot;Bad Request&quot;\n   }\n  ],\n  &quot;code&quot;: 400,\n  &quot;message&quot;: &quot;Bad Request&quot;\n }\n}\n</code></pre>\n<p>I am using the same <em>calendar</em> instance, can successfully <code>addCalendarToServiceAccount()</code> (as <code>owner</code>)  and <code>listEvents()</code>.\nBut what goes wrong when inserting an event? Did I miss anything?</p>\n<p>Other fields are initialized as follows:</p>\n<pre><code>  @Value(&quot;\\${google.calendar.id}&quot;)\n  private lateinit var calendarId: String\n\n  @Value(&quot;\\${google.calendar.apiKey}&quot;)\n  private lateinit var apiKey : String\n\n  private val httpTransport: HttpTransport by lazy {\n    GoogleNetHttpTransport.newTrustedTransport()\n  }\n\n  private val jacksonFactory: JsonFactory by lazy {\n    JacksonFactory.getDefaultInstance()\n  }\n\n  private val saCredentials: GoogleCredentials by lazy {\n    javaClass.getResourceAsStream(&quot;/chancer-d1de03c4c25a.json&quot;).use { iStream -&gt;\n      ServiceAccountCredentials.fromStream(iStream)\n        .createScoped(listOf(\n          &quot;https://www.googleapis.com/auth/cloud-platform&quot;,\n          *CalendarScopes.all().toTypedArray()\n        ))\n    }.apply {\n      refreshIfExpired()\n    }\n  }\n\n\n  private val requestInitializer: HttpRequestInitializer by lazy {\n    HttpCredentialsAdapter(saCredentials)\n  }\n\n  private val calendar: Calendar by lazy {\n    Calendar.Builder(httpTransport, jacksonFactory, requestInitializer)\n      .build()\n  }\n</code></pre>\n<p>Environments:</p>\n<pre><code>    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;kotlin.version&gt;1.4.0&lt;/kotlin.version&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n      &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n      &lt;version&gt;1.30.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n      &lt;artifactId&gt;google-api-services-calendar&lt;/artifactId&gt;\n      &lt;version&gt;v3-rev20200610-1.30.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n      &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n      &lt;version&gt;0.21.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","caching"],"answers":[{"tags":[],"owner":{"account_id":23243733,"reputation":26,"user_id":17332659,"display_name":"Honeyeater"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636076483,"creation_date":1636076483,"answer_id":69847783,"question_id":69847421,"body_markdown":"Probably this will be a bad answer, but you can try to use static variables for this.","title":"Sharing cached resources between java classes","body":"<p>Probably this will be a bad answer, but you can try to use static variables for this.</p>\n"}],"owner":{"account_id":3388183,"reputation":43,"user_id":2843704,"display_name":"Shritama Sengupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636076483,"creation_date":1636072715,"question_id":69847421,"body_markdown":"I have three classes, testContainer.java, recurringTest.java and databaseHelper.java\r\n\r\ntestContainer class runs only once and stays alive while recurringTest runs again and again. \r\n\r\n```\r\npublic class testContainerA extends someExternalClass {\r\n    public void initialize() {\r\n        databaseHelper.getResoucefromDB(A)\r\n        runTestContinuously(new recurringTestA());\r\n    }\r\n}\r\n```\r\n```\r\npublic class recurringTestA {\r\n    // some load tests that accesses resourceMap.get(A)\r\n\r\n}\r\n\r\n```\r\n```\r\npublic class testContainerB extends someExternalClass {\r\n    public void initialize() {\r\n        databaseHelper.getResoucefromDB(B)\r\n        runTestContinuously(new recurringTestB());\r\n    }\r\n}\r\n```\r\n```\r\npublic class recurringTestB {\r\n    // some different load tests that accesses resourceMap.get(B)\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class databaseHelper{\r\n    public static HashMap&lt;String, List&lt;resource&gt;&gt; resourceMap;\r\n    public void getResoucefromDB(String resourceType) {\r\n        resourceList.put(resourceType, callDatabase(resourceType));\r\n    }\r\n}\r\n```\r\n\r\nRequirements:\r\n1. recurringTest constructor cannot have any parameters.\r\n2. cannot use any files to save the resource list. \r\n3. recurringTestA and recurringTestB are set up such that they run simultaenously\r\n\r\nI tried saving the resources in a file and it works. I do not want to use any file though. How do I cache/save the resources so that it can be accessed inside the test without calling the database more than once?\r\nHow do I save resources in resourceList so that the recurring tests can access it without having to call DB again and again.","title":"Sharing cached resources between java classes","body":"<p>I have three classes, testContainer.java, recurringTest.java and databaseHelper.java</p>\n<p>testContainer class runs only once and stays alive while recurringTest runs again and again.</p>\n<pre><code>public class testContainerA extends someExternalClass {\n    public void initialize() {\n        databaseHelper.getResoucefromDB(A)\n        runTestContinuously(new recurringTestA());\n    }\n}\n</code></pre>\n<pre><code>public class recurringTestA {\n    // some load tests that accesses resourceMap.get(A)\n\n}\n\n</code></pre>\n<pre><code>public class testContainerB extends someExternalClass {\n    public void initialize() {\n        databaseHelper.getResoucefromDB(B)\n        runTestContinuously(new recurringTestB());\n    }\n}\n</code></pre>\n<pre><code>public class recurringTestB {\n    // some different load tests that accesses resourceMap.get(B)\n}\n\n</code></pre>\n<pre><code>public class databaseHelper{\n    public static HashMap&lt;String, List&lt;resource&gt;&gt; resourceMap;\n    public void getResoucefromDB(String resourceType) {\n        resourceList.put(resourceType, callDatabase(resourceType));\n    }\n}\n</code></pre>\n<p>Requirements:</p>\n<ol>\n<li>recurringTest constructor cannot have any parameters.</li>\n<li>cannot use any files to save the resource list.</li>\n<li>recurringTestA and recurringTestB are set up such that they run simultaenously</li>\n</ol>\n<p>I tried saving the resources in a file and it works. I do not want to use any file though. How do I cache/save the resources so that it can be accessed inside the test without calling the database more than once?\nHow do I save resources in resourceList so that the recurring tests can access it without having to call DB again and again.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":152431,"reputation":11484,"user_id":366964,"accept_rate":70,"display_name":"Nayan Wadekar"},"score":1,"creation_date":1528954602,"post_id":50850208,"comment_id":88703209,"body_markdown":"Can you try to alter logging to get actual SQL queries being executed else seems difficult to point issue.","body":"Can you try to alter logging to get actual SQL queries being executed else seems difficult to point issue."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1528954913,"post_id":50850208,"comment_id":88703329,"body_markdown":"Sounds liky you tri to modify data in a read only transaction","body":"Sounds liky you tri to modify data in a read only transaction"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1528955393,"post_id":50850208,"comment_id":88703524,"body_markdown":"The code executing before the query apparently removes something from a persistent collection, and this removal is being flushed by Hibernate before executing the query.","body":"The code executing before the query apparently removes something from a persistent collection, and this removal is being flushed by Hibernate before executing the query."},{"owner":{"account_id":1260794,"reputation":692,"user_id":1219137,"display_name":"yael alfasi"},"score":0,"creation_date":1528955768,"post_id":50850208,"comment_id":88703669,"body_markdown":"it really doesnt, there are no changes to the db before the select. and it still tried to flush. ignoires the hint...","body":"it really doesnt, there are no changes to the db before the select. and it still tried to flush. ignoires the hint..."},{"owner":{"account_id":93911,"reputation":5846,"user_id":256717,"accept_rate":80,"display_name":"Fakrudeen"},"score":0,"creation_date":1528957025,"post_id":50850208,"comment_id":88704205,"body_markdown":"Can you add the actual query as well?","body":"Can you add the actual query as well?"}],"answers":[{"tags":[],"owner":{"account_id":1260794,"reputation":692,"user_id":1219137,"display_name":"yael alfasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528957284,"creation_date":1528957284,"answer_id":50850836,"question_id":50850208,"body_markdown":"you guys were right, i printed the queries the hibernate does\r\napparently there is a sort on a collection of a managed object\r\nand that causes him to create a delete statement for some reason\r\neven though its just rearranging the list\r\nthanks!","title":"hibernate &amp; spring, Connection is read-only error on native select","body":"<p>you guys were right, i printed the queries the hibernate does\napparently there is a sort on a collection of a managed object\nand that causes him to create a delete statement for some reason\neven though its just rearranging the list\nthanks!</p>\n"}],"owner":{"account_id":1260794,"reputation":692,"user_id":1219137,"display_name":"yael alfasi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636075922,"creation_date":1528954224,"question_id":50850208,"body_markdown":"i have a native select @Query in a JpaRepository\r\nand it is called by a method marked as @Transactional(readOnly = true)\r\nim getting an exception:\r\n\r\nConnection is read-only. Queries leading to data modification are not allowed\r\n\r\nthere are no previous updates in this transaction\r\nso i dont really understand why its even trying to flush\r\n\r\ni tried adding hints:\r\n\r\n    @QueryHints(value = { \r\n    @QueryHint(name = org.hibernate.annotations.QueryHints.FLUSH_MODE, value = &quot;MANUAL&quot;),\r\n    @QueryHint(name = org.hibernate.annotations.QueryHints.READ_ONLY, value = &quot;true&quot;)})\r\n\r\nbut it didnt help\r\nany ideas ?\r\n\r\nexception:\r\n\r\n    4 08:16:36.930  WARN [http-nio-8080-exec-8]        o.h.engine.jdbc.spi.SqlExceptionHelper:127 : SQL Error: 0, SQLState: S1009\r\n    14 08:16:36.933 ERROR [http-nio-8080-exec-8]        o.h.engine.jdbc.spi.SqlExceptionHelper:129 : Connection is read-only. Queries leading to data modification are not allowed\r\n    14 08:16:38.959  WARN [http-nio-8080-exec-8]     c.c.f.repository.jpa.infra.JpaRetryAspect:46 : Retry #1 for execution(List com.cla.filecluster.repository.jpa.scope.WorkGroupsScopeRepository.findWorkGroupScopeIds(Long)) err={}\r\n    org.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:333)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:488)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n    \tat com.sun.proxy.$Proxy189.findWorkGroupScopeIds(Unknown Source)\r\n    \tat sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)\r\n    \tat com.cla.filecluster.repository.jpa.infra.JpaRetryAspect.lambda$retryOnRepository$0(JpaRetryAspect.java:55)\r\n    \tat org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:276)\r\n    \tat org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:172)\r\n    \tat com.cla.filecluster.repository.jpa.infra.JpaRetryAspect.retryOnRepository(JpaRetryAspect.java:41)\r\n    \tat sun.reflect.GeneratedMethodAccessor100.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:629)\r\n    \tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:618)\r\n    \tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n    \tat com.sun.proxy.$Proxy190.findWorkGroupScopeIds(Unknown Source)\r\n    \tat com.cla.filecluster.service.scope.ScopeService.resolveScopeIds(ScopeService.java:93)\r\n    \tat com.cla.filecluster.service.scope.ScopeService$$FastClassBySpringCGLIB$$4e363a27.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:669)\r\n    \tat com.cla.filecluster.service.scope.ScopeService$$EnhancerBySpringCGLIB$$941fcddc.resolveScopeIds(&lt;generated&gt;)\r\n    \tat com.cla.filecluster.domain.specification.solr.SolrSpecificationFactory.convertScopedTagIdToFilterValue(SolrSpecificationFactory.java:587)\r\n    \tat com.cla.filecluster.domain.specification.solr.SolrQueryBuilder.parseFilterValue(SolrQueryBuilder.java:379)\r\n    \tat com.cla.filecluster.domain.specification.solr.SolrQueryBuilder.getConcreteQuery(SolrQueryBuilder.java:224)\r\n    \tat com.cla.filecluster.domain.specification.solr.SolrQueryBuilder.generateFilterQuery(SolrQueryBuilder.java:141)\r\n    \tat com.cla.filecluster.domain.specification.solr.SolrQueryBuilder.getFilterQueries(SolrQueryBuilder.java:80)\r\n    \tat com.cla.filecluster.repository.solr.SolrFileCatRepository.buildSolrQuery(SolrFileCatRepository.java:1176)\r\n    \tat com.cla.filecluster.repository.solr.SolrFileCatRepository.runQuery(SolrFileCatRepository.java:1160)\r\n    \tat com.cla.filecluster.repository.solr.SolrFileCatRepository.runFacetRangeQuery(SolrFileCatRepository.java:1451)\r\n    \tat com.cla.filecluster.repository.solr.SolrFileCatRepository$$FastClassBySpringCGLIB$$6463dee7.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\r\n    \tat com.cla.filecluster.repository.solr.SolrFileCatRepository$$EnhancerBySpringCGLIB$$837f41e.runFacetRangeQuery(&lt;generated&gt;)\r\n    \tat com.cla.filecluster.service.date.DateRangeAppService.findDateRangeFileCount(DateRangeAppService.java:169)\r\n    \tat com.cla.filecluster.service.date.DateRangeAppService$$FastClassBySpringCGLIB$$cc5f406f.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\r\n    \tat com.cla.filecluster.service.date.DateRangeAppService$$EnhancerBySpringCGLIB$$d92d0db4.findDateRangeFileCount(&lt;generated&gt;)\r\n    \tat com.cla.filecluster.service.api.DateRangeApiController.findDateRangeLastModifiedFileCount(DateRangeApiController.java:71)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:105)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:121)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.hibernate.exception.GenericJDBCException: could not execute statement\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:207)\r\n    \tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:45)\r\n    \tat org.hibernate.persister.collection.AbstractCollectionPersister.remove(AbstractCollectionPersister.java:1209)\r\n    \tat org.hibernate.action.internal.CollectionUpdateAction.execute(CollectionUpdateAction.java:78)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:582)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:456)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\r\n    \tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1282)\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:1300)\r\n    \tat org.hibernate.jpa.internal.QueryImpl.beforeQuery(QueryImpl.java:518)\r\n    \tat org.hibernate.jpa.internal.QueryImpl.getResultList(QueryImpl.java:481)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:118)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:82)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:116)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:106)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:482)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:460)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:56)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\r\n    \t... 160 common frames omitted\r\n    Caused by: java.sql.SQLException: Connection is read-only. Queries leading to data modification are not allowed\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:964)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:897)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:886)\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:860)\r\n    \tat com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2044)\r\n    \tat com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013)\r\n    \tat com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104)\r\n    \tat com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998)\r\n    \tat com.jolbox.bonecp.PreparedStatementHandle.executeUpdate(PreparedStatementHandle.java:205)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:204)\r\n    \t... 185 common frames omitted\r\n","title":"hibernate &amp; spring, Connection is read-only error on native select","body":"<p>i have a native select @Query in a JpaRepository\nand it is called by a method marked as @Transactional(readOnly = true)\nim getting an exception:</p>\n\n<p>Connection is read-only. Queries leading to data modification are not allowed</p>\n\n<p>there are no previous updates in this transaction\nso i dont really understand why its even trying to flush</p>\n\n<p>i tried adding hints:</p>\n\n<pre><code>@QueryHints(value = { \n@QueryHint(name = org.hibernate.annotations.QueryHints.FLUSH_MODE, value = \"MANUAL\"),\n@QueryHint(name = org.hibernate.annotations.QueryHints.READ_ONLY, value = \"true\")})\n</code></pre>\n\n<p>but it didnt help\nany ideas ?</p>\n\n<p>exception:</p>\n\n<pre><code>4 08:16:36.930  WARN [http-nio-8080-exec-8]        o.h.engine.jdbc.spi.SqlExceptionHelper:127 : SQL Error: 0, SQLState: S1009\n14 08:16:36.933 ERROR [http-nio-8080-exec-8]        o.h.engine.jdbc.spi.SqlExceptionHelper:129 : Connection is read-only. Queries leading to data modification are not allowed\n14 08:16:38.959  WARN [http-nio-8080-exec-8]     c.c.f.repository.jpa.infra.JpaRetryAspect:46 : Retry #1 for execution(List com.cla.filecluster.repository.jpa.scope.WorkGroupsScopeRepository.findWorkGroupScopeIds(Long)) err={}\norg.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:333)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:244)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:488)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:59)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:213)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:147)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:133)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n    at com.sun.proxy.$Proxy189.findWorkGroupScopeIds(Unknown Source)\n    at sun.reflect.GeneratedMethodAccessor191.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)\n    at com.cla.filecluster.repository.jpa.infra.JpaRetryAspect.lambda$retryOnRepository$0(JpaRetryAspect.java:55)\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:276)\n    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:172)\n    at com.cla.filecluster.repository.jpa.infra.JpaRetryAspect.retryOnRepository(JpaRetryAspect.java:41)\n    at sun.reflect.GeneratedMethodAccessor100.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:629)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:618)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n    at com.sun.proxy.$Proxy190.findWorkGroupScopeIds(Unknown Source)\n    at com.cla.filecluster.service.scope.ScopeService.resolveScopeIds(ScopeService.java:93)\n    at com.cla.filecluster.service.scope.ScopeService$$FastClassBySpringCGLIB$$4e363a27.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:669)\n    at com.cla.filecluster.service.scope.ScopeService$$EnhancerBySpringCGLIB$$941fcddc.resolveScopeIds(&lt;generated&gt;)\n    at com.cla.filecluster.domain.specification.solr.SolrSpecificationFactory.convertScopedTagIdToFilterValue(SolrSpecificationFactory.java:587)\n    at com.cla.filecluster.domain.specification.solr.SolrQueryBuilder.parseFilterValue(SolrQueryBuilder.java:379)\n    at com.cla.filecluster.domain.specification.solr.SolrQueryBuilder.getConcreteQuery(SolrQueryBuilder.java:224)\n    at com.cla.filecluster.domain.specification.solr.SolrQueryBuilder.generateFilterQuery(SolrQueryBuilder.java:141)\n    at com.cla.filecluster.domain.specification.solr.SolrQueryBuilder.getFilterQueries(SolrQueryBuilder.java:80)\n    at com.cla.filecluster.repository.solr.SolrFileCatRepository.buildSolrQuery(SolrFileCatRepository.java:1176)\n    at com.cla.filecluster.repository.solr.SolrFileCatRepository.runQuery(SolrFileCatRepository.java:1160)\n    at com.cla.filecluster.repository.solr.SolrFileCatRepository.runFacetRangeQuery(SolrFileCatRepository.java:1451)\n    at com.cla.filecluster.repository.solr.SolrFileCatRepository$$FastClassBySpringCGLIB$$6463dee7.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\n    at com.cla.filecluster.repository.solr.SolrFileCatRepository$$EnhancerBySpringCGLIB$$837f41e.runFacetRangeQuery(&lt;generated&gt;)\n    at com.cla.filecluster.service.date.DateRangeAppService.findDateRangeFileCount(DateRangeAppService.java:169)\n    at com.cla.filecluster.service.date.DateRangeAppService$$FastClassBySpringCGLIB$$cc5f406f.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\n    at com.cla.filecluster.service.date.DateRangeAppService$$EnhancerBySpringCGLIB$$d92d0db4.findDateRangeFileCount(&lt;generated&gt;)\n    at com.cla.filecluster.service.api.DateRangeApiController.findDateRangeLastModifiedFileCount(DateRangeApiController.java:71)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:105)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:121)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute statement\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:95)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:207)\n    at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:45)\n    at org.hibernate.persister.collection.AbstractCollectionPersister.remove(AbstractCollectionPersister.java:1209)\n    at org.hibernate.action.internal.CollectionUpdateAction.execute(CollectionUpdateAction.java:78)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:582)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:456)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:337)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1282)\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:1300)\n    at org.hibernate.jpa.internal.QueryImpl.beforeQuery(QueryImpl.java:518)\n    at org.hibernate.jpa.internal.QueryImpl.getResultList(QueryImpl.java:481)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:118)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:82)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:116)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:106)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:482)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:460)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:56)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n    ... 160 common frames omitted\nCaused by: java.sql.SQLException: Connection is read-only. Queries leading to data modification are not allowed\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:964)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:897)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:886)\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:860)\n    at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2044)\n    at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2013)\n    at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5104)\n    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1998)\n    at com.jolbox.bonecp.PreparedStatementHandle.executeUpdate(PreparedStatementHandle.java:205)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:204)\n    ... 185 common frames omitted\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":306933,"reputation":2951,"user_id":617964,"accept_rate":73,"display_name":"Bill Rosmus"},"score":0,"creation_date":1418680218,"post_id":27493558,"comment_id":43419184,"body_markdown":"Is the ide setting a different classpath?","body":"Is the ide setting a different classpath?"}],"answers":[{"tags":[],"owner":{"account_id":1275122,"reputation":2012,"user_id":1230556,"accept_rate":64,"display_name":"ServerSideCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418679477,"creation_date":1418679477,"answer_id":27493605,"question_id":27493558,"body_markdown":"According to your question: M2Eclipse is just a tool for using Maven inside Eclipse\r\n\r\nHere we can find from M2Eclipse site:\r\n\r\nM2Eclipse provides tight integration for Apache Maven into the IDE with the following features:\r\n\r\n* Launching Maven builds from within Eclipse\r\n* Dependency management for Eclipse build path based on Maven&#39;s pom.xml\r\n* Resolving Maven dependencies from the Eclipse workspace without installing to local Maven repository\r\n* Automatic downloading of the required dependencies from the remote Maven repositories\r\n* Wizards for creating new Maven projects, pom.xml and to enable Maven support on plain Java project\r\n* Quick search for dependencies in Maven remote repositories\r\n* Quick fixes in the Java editor for looking up required dependencies/jars by the class or package name\r\n","title":"Differences between m2eclipse and maven command line","body":"<p>According to your question: M2Eclipse is just a tool for using Maven inside Eclipse</p>\n\n<p>Here we can find from M2Eclipse site:</p>\n\n<p>M2Eclipse provides tight integration for Apache Maven into the IDE with the following features:</p>\n\n<ul>\n<li>Launching Maven builds from within Eclipse</li>\n<li>Dependency management for Eclipse build path based on Maven's pom.xml</li>\n<li>Resolving Maven dependencies from the Eclipse workspace without installing to local Maven repository</li>\n<li>Automatic downloading of the required dependencies from the remote Maven repositories</li>\n<li>Wizards for creating new Maven projects, pom.xml and to enable Maven support on plain Java project</li>\n<li>Quick search for dependencies in Maven remote repositories</li>\n<li>Quick fixes in the Java editor for looking up required dependencies/jars by the class or package name</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3559410,"reputation":185,"user_id":4364707,"display_name":"Roberto TheLaker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471551923,"creation_date":1418699072,"answer_id":27496863,"question_id":27493558,"body_markdown":"M2Eclipse uses an embedded Maven. So it will also use its own .m2 repo. You can force it to use the .m2 repo for the CLI Maven by going to Preferences/Maven/Intallations.","title":"Differences between m2eclipse and maven command line","body":"<p>M2Eclipse uses an embedded Maven. So it will also use its own .m2 repo. You can force it to use the .m2 repo for the CLI Maven by going to Preferences/Maven/Intallations.</p>\n"},{"tags":[],"owner":{"account_id":41929,"reputation":832,"user_id":122011,"accept_rate":60,"display_name":"Delmania"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1419280559,"creation_date":1419280559,"answer_id":27610038,"question_id":27493558,"body_markdown":"It seems as through when running m2eclipse, Eclipse will discover and resolve all transient dependencies and put them on the classpath. I added those dependencies as explicit (since I was using them) and the project built.","title":"Differences between m2eclipse and maven command line","body":"<p>It seems as through when running m2eclipse, Eclipse will discover and resolve all transient dependencies and put them on the classpath. I added those dependencies as explicit (since I was using them) and the project built.</p>\n"}],"owner":{"account_id":41929,"reputation":832,"user_id":122011,"accept_rate":60,"display_name":"Delmania"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1266,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":27610038,"answer_count":3,"score":4,"last_activity_date":1636075132,"creation_date":1418679307,"question_id":27493558,"body_markdown":"I am having some issues with building a project via the maven CLI and Eclipse: When I build the project in Eclipse, I have no issues. When I build the project in a shell, I get an error that the compiler can&#39;t find a specific package. \r\n\r\nThis is using the same pom file. The issue are the transitive dependencies. When Eclipse updates the project, it&#39;s able to pull down the dependencies just fine, whereas the cli can&#39;t. The dependencies are stored in a custom (Ivy) repository layout, but we have mirrors set up that enable maven to read them. \r\nBoth the cli and Eclipse are reading the same pom file and the same settings.xml. \r\n\r\nI&#39;m seeking to understand how Eclipse can resolve those dependencies whereas raw Maven cannot. ","title":"Differences between m2eclipse and maven command line","body":"<p>I am having some issues with building a project via the maven CLI and Eclipse: When I build the project in Eclipse, I have no issues. When I build the project in a shell, I get an error that the compiler can't find a specific package. </p>\n\n<p>This is using the same pom file. The issue are the transitive dependencies. When Eclipse updates the project, it's able to pull down the dependencies just fine, whereas the cli can't. The dependencies are stored in a custom (Ivy) repository layout, but we have mirrors set up that enable maven to read them. \nBoth the cli and Eclipse are reading the same pom file and the same settings.xml. </p>\n\n<p>I'm seeking to understand how Eclipse can resolve those dependencies whereas raw Maven cannot. </p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":14730969,"reputation":421,"user_id":10638274,"display_name":"guninvalid"},"score":1,"creation_date":1636026446,"post_id":69838737,"comment_id":123450670,"body_markdown":"Stack overflow is not for homework assignments. Ask your teacher for help.","body":"Stack overflow is not for homework assignments. Ask your teacher for help."},{"owner":{"account_id":13905383,"reputation":43,"user_id":10039879,"display_name":"mohamed hesen"},"score":0,"creation_date":1636027157,"post_id":69838737,"comment_id":123450946,"body_markdown":"it&#39;s not an assignment if u have advices just split it out","body":"it&#39;s not an assignment if u have advices just split it out"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":2,"creation_date":1636027447,"post_id":69838737,"comment_id":123451058,"body_markdown":"Place the code into a `while` loop: `Scanner in = new Scanner(System.in); String grade = &quot;&quot;; while (grade.isEmpty()) { System.out.println(&quot;Enter your grade: &quot;); grade = in.nextLine(); switch (grade.toUpperCase()) { case/default code: ... }`. Within the switch/case default which indicates an invalid entry, also have `grade = &quot;&quot;;` so as to refire the loop.","body":"Place the code into a <code>while</code> loop: <code>Scanner in = new Scanner(System.in); String grade = &quot;&quot;; while (grade.isEmpty()) { System.out.println(&quot;Enter your grade: &quot;); grade = in.nextLine(); switch (grade.toUpperCase()) { case&#47;default code: ... }</code>. Within the switch/case default which indicates an invalid entry, also have <code>grade = &quot;&quot;;</code> so as to refire the loop."},{"owner":{"account_id":13905383,"reputation":43,"user_id":10039879,"display_name":"mohamed hesen"},"score":0,"creation_date":1636028034,"post_id":69838737,"comment_id":123451284,"body_markdown":"Thanks @DevilsHnd it&#39;s worked that&#39;s really helpful","body":"Thanks @DevilsHnd it&#39;s worked that&#39;s really helpful"}],"answers":[{"tags":[],"owner":{"account_id":14730969,"reputation":421,"user_id":10638274,"display_name":"guninvalid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636028127,"creation_date":1636028127,"answer_id":69839110,"question_id":69838737,"body_markdown":"Generally, there&#39;s a couple ways you can handle this, depending on how much you like recursion. But here&#39;s an iterative option that works by setting a flag regarding whether or not you should continue the loop.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t\r\n\tScanner in = new Scanner(System.in);\r\n\tboolean flag = true; //We will set this variable to false in order to indicate that we should exit the loop.\r\n\r\n\twhile (flag) {\r\n\t\t\r\n\r\n\t\tSystem.out.print(&quot;Enter your grade: &quot;);\r\n\t\tString grade = in.nextLine();\r\n\r\n\t\tswitch (grade) {\r\n\t\t\t//As DevilsHnd notes, you might also want to use &#39;switch (grade.toUpperCase()) {&#39; so that your program is case-insensitive.\r\n\r\n\t\t\tcase &quot;A&quot;:\r\n\t\t\t\tSystem.out.println(&quot;Excellent!&quot;);\r\n\t\t\t\tflag = false; //This indicates we should exit the loop.\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase &quot;B&quot;:\r\n\t\t\t\tSystem.out.println(&quot;Outstanding!&quot;);\r\n\t\t\t\tflag = false; //This also indicates we should exit the loop.\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t/**\r\n             *    More cases go here\r\n             */\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tSystem.out.println(&quot;Sorry, I didn&#39;t understand that. Could you try again?&quot;);\r\n\t\t\t\t//Note that we&#39;re not setting flag to false this time. This is because we are not exiting the loop.\r\n\r\n\r\n\t\t}\r\n\r\n\t}\r\n    \r\n    in.close(); //Don&#39;t forget to close your resources!\r\n\r\n}\r\n```","title":"How to iterate the switch through a loop if user enter the last switch Case(default) and I want him to enter the proper prompt?","body":"<p>Generally, there's a couple ways you can handle this, depending on how much you like recursion. But here's an iterative option that works by setting a flag regarding whether or not you should continue the loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    \n    Scanner in = new Scanner(System.in);\n    boolean flag = true; //We will set this variable to false in order to indicate that we should exit the loop.\n\n    while (flag) {\n        \n\n        System.out.print(&quot;Enter your grade: &quot;);\n        String grade = in.nextLine();\n\n        switch (grade) {\n            //As DevilsHnd notes, you might also want to use 'switch (grade.toUpperCase()) {' so that your program is case-insensitive.\n\n            case &quot;A&quot;:\n                System.out.println(&quot;Excellent!&quot;);\n                flag = false; //This indicates we should exit the loop.\n                break;\n\n            case &quot;B&quot;:\n                System.out.println(&quot;Outstanding!&quot;);\n                flag = false; //This also indicates we should exit the loop.\n                break;\n\n            /**\n             *    More cases go here\n             */\n\n            default:\n                System.out.println(&quot;Sorry, I didn't understand that. Could you try again?&quot;);\n                //Note that we're not setting flag to false this time. This is because we are not exiting the loop.\n\n\n        }\n\n    }\n    \n    in.close(); //Don't forget to close your resources!\n\n}\n</code></pre>\n"}],"owner":{"account_id":13905383,"reputation":43,"user_id":10039879,"display_name":"mohamed hesen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69839110,"answer_count":1,"score":-1,"last_activity_date":1636074513,"creation_date":1636026354,"question_id":69838737,"body_markdown":"    package com.mhm;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class StudentGrade {\r\n        public static void main(String[] args) {\r\n    \r\n            System.out.println(&quot;Enter your grade: &quot;);\r\n            Scanner in = new Scanner(System.in);\r\n            String grade = in.nextLine();\r\n             //a program that prompts the user to enter the grade for student and show up a massege for him \r\n1-if he gets A write  Excellent \r\n2-if he gets B write OutStanding \r\n3- if he gets C write Good\r\n4-if he gets D write Can Do Better \r\n5- if he gets f write Failed !\r\nif user entered another grade write invaild grade \r\n\r\n                switch (grade) {\r\n    \r\n                    case &quot;A&quot;:\r\n                        System.out.println(&quot;Excellent.&quot;);\r\n                        break;\r\n                    case &quot;B&quot;:\r\n                        System.out.println(&quot;OutStanding.&quot;);\r\n                        break;\r\n                    case &quot;C&quot;:\r\n                        System.out.println(&quot;Good&quot;);\r\n                        break;\r\n                    case &quot;D&quot;:\r\n                        System.out.println(&quot;Can Do Better &quot;);\r\n                        break;\r\n                    case &quot;F&quot;:\r\n                        System.out.println(&quot;Failed !&quot;);\r\n                        break;\r\n                    default:\r\n                        System.out.println(&quot;invalid grade &quot;);\r\n                }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n            }\r\n        }\r\n\r\n","title":"How to iterate the switch through a loop if user enter the last switch Case(default) and I want him to enter the proper prompt?","body":"<pre><code>package com.mhm;\n\nimport java.util.Scanner;\n\npublic class StudentGrade {\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Enter your grade: &quot;);\n        Scanner in = new Scanner(System.in);\n        String grade = in.nextLine();\n         //a program that prompts the user to enter the grade for student and show up a massege for him \n</code></pre>\n<p>1-if he gets A write  Excellent\n2-if he gets B write OutStanding\n3- if he gets C write Good\n4-if he gets D write Can Do Better\n5- if he gets f write Failed !\nif user entered another grade write invaild grade</p>\n<pre><code>            switch (grade) {\n\n                case &quot;A&quot;:\n                    System.out.println(&quot;Excellent.&quot;);\n                    break;\n                case &quot;B&quot;:\n                    System.out.println(&quot;OutStanding.&quot;);\n                    break;\n                case &quot;C&quot;:\n                    System.out.println(&quot;Good&quot;);\n                    break;\n                case &quot;D&quot;:\n                    System.out.println(&quot;Can Do Better &quot;);\n                    break;\n                case &quot;F&quot;:\n                    System.out.println(&quot;Failed !&quot;);\n                    break;\n                default:\n                    System.out.println(&quot;invalid grade &quot;);\n            }\n\n\n\n\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","apache-poi","xlsx","xssf"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1613296274,"post_id":66193509,"comment_id":117027149,"body_markdown":"What version of Apache Commons compress do you have? Are you using a Classpath or a ModulePath?","body":"What version of Apache Commons compress do you have? Are you using a Classpath or a ModulePath?"},{"owner":{"account_id":3022288,"reputation":367,"user_id":2563020,"accept_rate":44,"display_name":"Roshana"},"score":1,"creation_date":1613304116,"post_id":66193509,"comment_id":117028941,"body_markdown":"@Gagravarr  based on your comment I added commons-compress 1.20 as a dependency in pom.xml. But still not working","body":"@Gagravarr  based on your comment I added commons-compress 1.20 as a dependency in pom.xml. But still not working"},{"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"score":0,"creation_date":1617664137,"post_id":66193509,"comment_id":118361775,"body_markdown":"Did you find a solution @RoshanaSheri? I have exactly the same issue.","body":"Did you find a solution @RoshanaSheri? I have exactly the same issue."}],"answers":[{"tags":[],"owner":{"account_id":202440,"reputation":91,"user_id":449506,"display_name":"BeCodeMonkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614258282,"creation_date":1614258282,"answer_id":66369053,"question_id":66193509,"body_markdown":"Will be assuming you are using JPMS. Poi form version 5 has full support for JPMS.\r\n\r\nAdd this to your module-info.java\r\n```java\r\n   requires org.apache.poi.poi;\r\n   requires org.apache.poi.ooxml;\r\n```\r\nAnother common reason is running &quot;mvn package&quot; from command line while eclipse is monitoring the project causing recompile and some weird inconstant issues.\r\n\r\n\r\n","title":"java.lang.IllegalAccessError: superclass access check failed: class org.apache.poi.openxml4j.util.ZipSecureFile","body":"<p>Will be assuming you are using JPMS. Poi form version 5 has full support for JPMS.</p>\n<p>Add this to your module-info.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>   requires org.apache.poi.poi;\n   requires org.apache.poi.ooxml;\n</code></pre>\n<p>Another common reason is running &quot;mvn package&quot; from command line while eclipse is monitoring the project causing recompile and some weird inconstant issues.</p>\n"},{"tags":[],"owner":{"account_id":4844356,"reputation":462,"user_id":5852531,"display_name":"Thiago Henrique Hupner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614268643,"creation_date":1614268643,"answer_id":66371954,"question_id":66193509,"body_markdown":"From the stack trace looks like might you are using OpenJ9. If so, In the latest version, they fixed a similar error. Can you try updating it?\r\n\r\nInfo: https://github.com/eclipse/openj9/issues/11274","title":"java.lang.IllegalAccessError: superclass access check failed: class org.apache.poi.openxml4j.util.ZipSecureFile","body":"<p>From the stack trace looks like might you are using OpenJ9. If so, In the latest version, they fixed a similar error. Can you try updating it?</p>\n<p>Info: <a href=\"https://github.com/eclipse/openj9/issues/11274\" rel=\"nofollow noreferrer\">https://github.com/eclipse/openj9/issues/11274</a></p>\n"},{"tags":[],"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618494171,"creation_date":1618494171,"answer_id":67109642,"question_id":66193509,"body_markdown":"This Maven project shows a working example of Apache POI 5.0.0 and JPMS. Check the module-info and pom.xml for the important parts.\r\n-&gt; https://github.com/seinecle/ApachePoi5.0.0-and-JPMS","title":"java.lang.IllegalAccessError: superclass access check failed: class org.apache.poi.openxml4j.util.ZipSecureFile","body":"<p>This Maven project shows a working example of Apache POI 5.0.0 and JPMS. Check the module-info and pom.xml for the important parts.\n-&gt; <a href=\"https://github.com/seinecle/ApachePoi5.0.0-and-JPMS\" rel=\"nofollow noreferrer\">https://github.com/seinecle/ApachePoi5.0.0-and-JPMS</a></p>\n"},{"tags":[],"owner":{"account_id":5762699,"reputation":81,"user_id":4548549,"display_name":"Zach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636073524,"creation_date":1636073524,"answer_id":69847504,"question_id":66193509,"body_markdown":"I had this error in one of my apps too. I solved it by converting the library that uses poi directly to JPMS. \r\n\r\nSo in my case it seemed to be a transitive dependency issue with &quot;commons-compress&quot; in poi when calling XSSFWorkbook from a non-modular project.","title":"java.lang.IllegalAccessError: superclass access check failed: class org.apache.poi.openxml4j.util.ZipSecureFile","body":"<p>I had this error in one of my apps too. I solved it by converting the library that uses poi directly to JPMS.</p>\n<p>So in my case it seemed to be a transitive dependency issue with &quot;commons-compress&quot; in poi when calling XSSFWorkbook from a non-modular project.</p>\n"}],"owner":{"account_id":3022288,"reputation":367,"user_id":2563020,"accept_rate":44,"display_name":"Roshana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2151,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1636073524,"creation_date":1613289884,"question_id":66193509,"body_markdown":"I tried to read and write excel files using org.apache.poi. I get the following exception when I try to access an xlsx file using `XSSFWorkBook`\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalAccessError: superclass access check failed: class org.apache.poi.openxml4j.util.ZipSecureFile (in module org.apache.poi.ooxml) cannot access class org.apache.commons.compress.archivers.zip.ZipFile (in unnamed module @0xdd3b207) because module org.apache.poi.ooxml does not read unnamed module @0xdd3b207\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1095)\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:183)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:784)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassInModuleOrNull(BuiltinClassLoader.java:705)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:630)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:604)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \tat org.apache.poi.ooxml/org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:312)\r\n    \tat org.apache.poi.ooxml/org.apache.poi.ooxml.util.PackageHelper.open(PackageHelper.java:47)\r\n    \tat org.apache.poi.ooxml/org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:299)\r\n\r\n\r\nI have the following dependencies in my pom.xml\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThis is the code where I get the exception\r\n\r\n    FileInputStream companyfileIS = new FileInputStream(companyfilePath);\r\n    \t\t// OPCPackage pkg = OPCPackage.open(companyfilePath);\r\n    \r\n    XSSFWorkbook companyFilewb = new XSSFWorkbook(companyfileIS);\r\n\r\n\r\nI have no problems in using `HSSFWorkbook` for xls files though.\r\n\r\nWhat am I missing?","title":"java.lang.IllegalAccessError: superclass access check failed: class org.apache.poi.openxml4j.util.ZipSecureFile","body":"<p>I tried to read and write excel files using org.apache.poi. I get the following exception when I try to access an xlsx file using <code>XSSFWorkBook</code></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: superclass access check failed: class org.apache.poi.openxml4j.util.ZipSecureFile (in module org.apache.poi.ooxml) cannot access class org.apache.commons.compress.archivers.zip.ZipFile (in unnamed module @0xdd3b207) because module org.apache.poi.ooxml does not read unnamed module @0xdd3b207\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1095)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:183)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:784)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassInModuleOrNull(BuiltinClassLoader.java:705)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:630)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:604)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at org.apache.poi.ooxml/org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:312)\n    at org.apache.poi.ooxml/org.apache.poi.ooxml.util.PackageHelper.open(PackageHelper.java:47)\n    at org.apache.poi.ooxml/org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:299)\n</code></pre>\n<p>I have the following dependencies in my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is the code where I get the exception</p>\n<pre><code>FileInputStream companyfileIS = new FileInputStream(companyfilePath);\n        // OPCPackage pkg = OPCPackage.open(companyfilePath);\n\nXSSFWorkbook companyFilewb = new XSSFWorkbook(companyfileIS);\n</code></pre>\n<p>I have no problems in using <code>HSSFWorkbook</code> for xls files though.</p>\n<p>What am I missing?</p>\n"},{"tags":["java","java-8","java-11"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1636069222,"post_id":69847056,"comment_id":123466171,"body_markdown":"I personally prefer to validate first and print invalid fields as you check them.  I.e. `if( !map.containsKey(&quot;PRODUCT_PRICE&quot;)){ System.out.println(&quot;PRODUCT_PRICE is invalid&quot;); }`","body":"I personally prefer to validate first and print invalid fields as you check them.  I.e. <code>if( !map.containsKey(&quot;PRODUCT_PRICE&quot;)){ System.out.println(&quot;PRODUCT_PRICE is invalid&quot;); }</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1636368620,"post_id":69847056,"comment_id":123529061,"body_markdown":"`if(map.keySet().containsAll(List.of(&quot;PRODUCT_ID&quot;, &quot;PRODUCT_NAME&quot;, &quot;PRODUCT_DESC&quot;, &quot;PRODUCT_PRICE&quot;))) System.out.println(&quot;validation success&quot;); else …`","body":"<code>if(map.keySet().containsAll(List.of(&quot;PRODUCT_ID&quot;, &quot;PRODUCT_NAME&quot;, &quot;PRODUCT_DESC&quot;, &quot;PRODUCT_PRICE&quot;))) System.out.println(&quot;validation success&quot;); else …</code>"}],"answers":[{"tags":[],"owner":{"account_id":3305539,"reputation":4664,"user_id":2780480,"display_name":"Jagrut Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636070773,"creation_date":1636070773,"answer_id":69847247,"question_id":69847056,"body_markdown":"This is one different approach that might be easy to extend:\r\n\r\n    private void validate2(Map&lt;String, String&gt; map) {\r\n        String[] list = new String[]{&quot;PRODUCT_ID&quot;, &quot;PRODUCT_ID&quot;, &quot;PRODUCT_DESC&quot;, &quot;PRODUCT_PRICE&quot;};\r\n        String [] result = new String[list.length];\r\n        for (int i = 0; i &lt; list.length; i++) {\r\n            String v = map.getOrDefault(list[i], null);\r\n            if (v == null) {\r\n                System.out.println(&quot;validation failed for &quot; + list[i]);\r\n            } else {\r\n                result[i] = v;\r\n            }\r\n        }\r\n        \r\n        String productID = result[0];\r\n        String productName = result[1];\r\n        String productDesc = result[2];\r\n        String productPrice = result[3];\r\n    }","title":"How to simplify too many if condition and capture the error out field in java","body":"<p>This is one different approach that might be easy to extend:</p>\n<pre><code>private void validate2(Map&lt;String, String&gt; map) {\n    String[] list = new String[]{&quot;PRODUCT_ID&quot;, &quot;PRODUCT_ID&quot;, &quot;PRODUCT_DESC&quot;, &quot;PRODUCT_PRICE&quot;};\n    String [] result = new String[list.length];\n    for (int i = 0; i &lt; list.length; i++) {\n        String v = map.getOrDefault(list[i], null);\n        if (v == null) {\n            System.out.println(&quot;validation failed for &quot; + list[i]);\n        } else {\n            result[i] = v;\n        }\n    }\n    \n    String productID = result[0];\n    String productName = result[1];\n    String productDesc = result[2];\n    String productPrice = result[3];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636071856,"creation_date":1636071856,"answer_id":69847347,"question_id":69847056,"body_markdown":"In your case the `containsKey` check is unnecessary. Because you initialize the variables with `null` and `Map.get(Key)` returns null if no value was found for the given key.\r\n\r\nSo just writing this does the same, but it&#39;s shorter.\r\n\r\n    String productID = map.get(&quot;PRODUCT_ID&quot;);\r\n    String productName = map.get(&quot;PRODUCT_NAME&quot;);\r\n    String productDesc = map.get(&quot;PRODUCT_DESC&quot;);\r\n    String productPrice = map.get(&quot;PRODUCT_PRICE&quot;);","title":"How to simplify too many if condition and capture the error out field in java","body":"<p>In your case the <code>containsKey</code> check is unnecessary. Because you initialize the variables with <code>null</code> and <code>Map.get(Key)</code> returns null if no value was found for the given key.</p>\n<p>So just writing this does the same, but it's shorter.</p>\n<pre><code>String productID = map.get(&quot;PRODUCT_ID&quot;);\nString productName = map.get(&quot;PRODUCT_NAME&quot;);\nString productDesc = map.get(&quot;PRODUCT_DESC&quot;);\nString productPrice = map.get(&quot;PRODUCT_PRICE&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636072806,"creation_date":1636072806,"answer_id":69847432,"question_id":69847056,"body_markdown":"Maybe you are looking for something like this:\r\n\r\n    public void validateNonNullValues(Map&lt;String, String&gt; map, String... keys) {\r\n        for (String key : keys) {\r\n            if (map.get(key) == null) {\r\n                System.out.println(&quot;validation failed for &quot; + key);\r\n            }\r\n        }\r\n    }\r\n\r\n    validateNonNullValues(map, &quot;PRODUCT_ID&quot;, &quot;PRODUCT_ID&quot;, &quot;PRODUCT_DESC&quot;, &quot;PRODUCT_PRICE&quot;);\r\n","title":"How to simplify too many if condition and capture the error out field in java","body":"<p>Maybe you are looking for something like this:</p>\n<pre><code>public void validateNonNullValues(Map&lt;String, String&gt; map, String... keys) {\n    for (String key : keys) {\n        if (map.get(key) == null) {\n            System.out.println(&quot;validation failed for &quot; + key);\n        }\n    }\n}\n\nvalidateNonNullValues(map, &quot;PRODUCT_ID&quot;, &quot;PRODUCT_ID&quot;, &quot;PRODUCT_DESC&quot;, &quot;PRODUCT_PRICE&quot;);\n</code></pre>\n"}],"owner":{"account_id":21733790,"reputation":387,"user_id":16042088,"display_name":"Mike Marsh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1636072806,"creation_date":1636068945,"question_id":69847056,"body_markdown":"I have these fields `productID, productName, productDesc, productPrice` - all these are optional fields, so I&#39;m checking if this key exists in the map if exist I&#39;m assigning it to the variable and performing `null` check validation. Please find the code below - is there any better way of writing the below logic, how to avoid too many if in this code?\r\n\r\nAnd I would like to capture the field which is failed to satisfy the null check. \r\n\r\nAny help would be really appreciated. Thanks!\r\n\r\n    private void validate(Map&lt;String, String&gt; map) {\r\n        String productID = null;\r\n        String productName = null;\r\n        String productDesc = null;\r\n        String productPrice = null;\r\n    \r\n        if ((map.containsKey(&quot;PRODUCT_ID&quot;)))\r\n            productID = map.get(&quot;PRODUCT_ID&quot;);\r\n    \r\n        if ((map.containsKey(&quot;PRODUCT_NAME&quot;)))\r\n            productName = map.get(&quot;PRODUCT_NAME&quot;);\r\n    \r\n        if ((map.containsKey(&quot;PRODUCT_DESC&quot;)))\r\n            productDesc = map.get(&quot;PRODUCT_DESC&quot;);\r\n    \r\n        if ((map.containsKey(&quot;PRODUCT_PRICE&quot;)))\r\n            productPrice = map.get(&quot;PRODUCT_PRICE&quot;);\r\n    \r\n        if ((productID != null || productName != null) || (productDesc != null &amp;&amp; productPrice != null)) {\r\n            System.out.println(&quot;validation success&quot;);\r\n        } else {\r\n            System.out.println(&quot;validation failed&quot;); // how to get the field name here which is failed to satisfy the above condition?\r\n        }\r\n    }\r\n\r\n","title":"How to simplify too many if condition and capture the error out field in java","body":"<p>I have these fields <code>productID, productName, productDesc, productPrice</code> - all these are optional fields, so I'm checking if this key exists in the map if exist I'm assigning it to the variable and performing <code>null</code> check validation. Please find the code below - is there any better way of writing the below logic, how to avoid too many if in this code?</p>\n<p>And I would like to capture the field which is failed to satisfy the null check.</p>\n<p>Any help would be really appreciated. Thanks!</p>\n<pre><code>private void validate(Map&lt;String, String&gt; map) {\n    String productID = null;\n    String productName = null;\n    String productDesc = null;\n    String productPrice = null;\n\n    if ((map.containsKey(&quot;PRODUCT_ID&quot;)))\n        productID = map.get(&quot;PRODUCT_ID&quot;);\n\n    if ((map.containsKey(&quot;PRODUCT_NAME&quot;)))\n        productName = map.get(&quot;PRODUCT_NAME&quot;);\n\n    if ((map.containsKey(&quot;PRODUCT_DESC&quot;)))\n        productDesc = map.get(&quot;PRODUCT_DESC&quot;);\n\n    if ((map.containsKey(&quot;PRODUCT_PRICE&quot;)))\n        productPrice = map.get(&quot;PRODUCT_PRICE&quot;);\n\n    if ((productID != null || productName != null) || (productDesc != null &amp;&amp; productPrice != null)) {\n        System.out.println(&quot;validation success&quot;);\n    } else {\n        System.out.println(&quot;validation failed&quot;); // how to get the field name here which is failed to satisfy the above condition?\n    }\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1636069558,"post_id":69847107,"comment_id":123466239,"body_markdown":"What do you mean by &quot;use&quot;? If you mean add action listeners to them, then you&#39;d do that via a method call on a `JButton` when you create it.","body":"What do you mean by &quot;use&quot;? If you mean add action listeners to them, then you&#39;d do that via a method call on a <code>JButton</code> when you create it."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636072364,"creation_date":1636071263,"answer_id":69847289,"question_id":69847107,"body_markdown":"Your question leaves a lot open to interpretation.\r\n\r\nSo, for example, if the values are fixed, I would start by separating them into individual panels, isolating their functionality and workflow, and simple swap them based on what is selected.\r\n\r\n    import java.awt.CardLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.DefaultComboBoxModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n\r\n                JComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;();\r\n                DefaultComboBoxModel&lt;String&gt; model = new DefaultComboBoxModel&lt;&gt;();\r\n                model.addElement(&quot;Option A&quot;);\r\n                model.addElement(&quot;Option B&quot;);\r\n                comboBox.setModel(model);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.insets = new Insets(8, 8, 8, 8);\r\n                add(comboBox, gbc);\r\n\r\n                CardLayout cardLayout = new CardLayout();\r\n                JPanel buttonOptions = new JPanel(cardLayout);\r\n                buttonOptions.add(new OptionAPane(), &quot;optionA&quot;);\r\n                buttonOptions.add(new OptionBPane(), &quot;optionB&quot;);\r\n\r\n                gbc.gridy = 1;\r\n                gbc.weightx = 1;\r\n                gbc.weighty = 1;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n                add(buttonOptions, gbc);\r\n\r\n                comboBox.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        switch (comboBox.getSelectedIndex()) {\r\n                            case 0: \r\n                                cardLayout.show(buttonOptions, &quot;optionA&quot;);\r\n                                break;\r\n                            case 1: \r\n                                cardLayout.show(buttonOptions, &quot;optionB&quot;);\r\n                                break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        public class OptionAPane extends JPanel {\r\n\r\n            public OptionAPane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                gbc.insets = new Insets(8, 8, 8, 8);\r\n\r\n                JButton btnThis = new JButton(&quot;This&quot;);\r\n                btnThis.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        System.out.println(&quot;Do this&quot;);\r\n                    }\r\n                });\r\n                JButton btnThat = new JButton(&quot;That&quot;);\r\n                btnThis.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        System.out.println(&quot;Do that&quot;);\r\n                    }\r\n                });\r\n\r\n                add(new JLabel(&quot;A Options&quot;), gbc);\r\n\r\n                add(btnThis, gbc);\r\n                add(btnThat, gbc);\r\n            }\r\n\r\n        }\r\n\r\n        public class OptionBPane extends JPanel {\r\n\r\n            public OptionBPane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                gbc.insets = new Insets(8, 8, 8, 8);\r\n\r\n                JButton btnOther = new JButton(&quot;Other&quot;);\r\n                btnOther.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        System.out.println(&quot;Do other&quot;);\r\n                    }\r\n                });\r\n                JButton btnSomethingElse = new JButton(&quot;Something else&quot;);\r\n                btnOther.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        System.out.println(&quot;Do something else&quot;);\r\n                    }\r\n                });\r\n\r\n                add(new JLabel(&quot;B Options&quot;), gbc);\r\n\r\n                add(btnOther, gbc);\r\n                add(btnSomethingElse, gbc);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n&gt; But how do I know when a button is clicked.\r\n\r\nThis is where an observer pattern would be used.  You&#39;d define one or more listeners, based on the needs of each panel and when a button on a panel is clicked, this listener would trigger an event and you could make use of it\r\n\r\nIf, on the other hand, you need something a little more dynamic (ie each option can have different actions based on some other configuration), you might be able to make use of the `Action` API\r\n\r\nFor example...\r\n\r\n\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.Action;\r\n    import javax.swing.DefaultComboBoxModel;\r\n    import javax.swing.DefaultListCellRenderer;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class ActionGroup {\r\n\r\n            private String description;\r\n            private List&lt;Action&gt; actions;\r\n\r\n            public ActionGroup(String description) {\r\n                this.description = description;\r\n                this.actions = new ArrayList&lt;&gt;(25);\r\n            }\r\n\r\n\r\n            public ActionGroup(String description, List&lt;Action&gt; actions) {\r\n                this.description = description;\r\n                this.actions = actions;\r\n            }\r\n\r\n            public String getDescription() {\r\n                return description;\r\n            }\r\n\r\n            public void add(Action action) {\r\n                actions.add(action);\r\n            }\r\n\r\n            public void remove(Action action) {\r\n                actions.remove(action);\r\n            }\r\n\r\n            public List&lt;Action&gt; getActions() {\r\n                return Collections.unmodifiableList(actions);\r\n            }\r\n        }\r\n\r\n        public class SimpleAction extends AbstractAction {\r\n\r\n            // You have a number of choices when using something like Action,\r\n            // You can create a custom Action based on your needs and pass\r\n            // in the information it needs to do it&#39;s job OR, you can use\r\n            // a observer pattern to get notified when the ActionListener\r\n            // is triggered\r\n            public SimpleAction(String name) {\r\n                putValue(NAME, name);\r\n            }\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                System.out.println(getValue(NAME) + &quot; was triggered&quot;);\r\n            }\r\n\r\n        }\r\n\r\n        public class ActionGroupCellRenderer extends DefaultListCellRenderer {\r\n\r\n            @Override\r\n            public Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\r\n                if (value instanceof ActionGroup) {\r\n                    value = ((ActionGroup)value).getDescription();\r\n                }\r\n                return super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\r\n            }\r\n\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n\r\n                ActionGroup optionA = new ActionGroup(&quot;Option A&quot;);\r\n                optionA.add(new SimpleAction(&quot;Cat&quot;));\r\n                optionA.add(new SimpleAction(&quot;Doggy&quot;));\r\n                optionA.add(new SimpleAction(&quot;Bunny&quot;));\r\n                optionA.add(new SimpleAction(&quot;Rat&quot;));\r\n                optionA.add(new SimpleAction(&quot;Cow&quot;));\r\n\r\n                ActionGroup optionB = new ActionGroup(&quot;Option B&quot;);\r\n                optionB.add(new SimpleAction(&quot;Banana&quot;));\r\n                optionB.add(new SimpleAction(&quot;Apple&quot;));\r\n                optionB.add(new SimpleAction(&quot;Pear&quot;));\r\n                optionB.add(new SimpleAction(&quot;Orange&quot;));\r\n                optionB.add(new SimpleAction(&quot;Lemon&quot;));\r\n\r\n                JComboBox&lt;ActionGroup&gt; comboBox = new JComboBox&lt;&gt;();\r\n                comboBox.setRenderer(new ActionGroupCellRenderer());    \r\n                DefaultComboBoxModel&lt;ActionGroup&gt; model = new DefaultComboBoxModel&lt;&gt;();\r\n                model.addElement(optionA);\r\n                model.addElement(optionB);\r\n                comboBox.setModel(model);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.insets = new Insets(8, 8, 8, 8);\r\n                add(comboBox, gbc);\r\n\r\n                gbc.gridy = 1;\r\n                gbc.weightx = 1;\r\n                gbc.weighty = 1;\r\n                gbc.fill = GridBagConstraints.BOTH;\r\n                ActionGroupPane buttonOptions = new ActionGroupPane();\r\n                buttonOptions.setActionGroup(optionA);\r\n                add(buttonOptions, gbc);\r\n\r\n                comboBox.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        Object item = comboBox.getSelectedItem();\r\n                        if (item instanceof ActionGroup) {\r\n                            System.out.println(item);\r\n                            buttonOptions.setActionGroup((ActionGroup)item);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        public class ActionGroupPane extends JPanel {\r\n\r\n            public ActionGroupPane() {\r\n                setLayout(new GridBagLayout());\r\n            }\r\n\r\n            public void setActionGroup(ActionGroup actionGroup) {\r\n                removeAll();\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                gbc.insets = new Insets(8, 8, 8, 8);\r\n\r\n                add(new JLabel(actionGroup.getDescription()), gbc);\r\n\r\n                for (Action action : actionGroup.getActions()) {\r\n                    add(new JButton(action), gbc);\r\n                }\r\n\r\n                revalidate();\r\n                repaint();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n`Action` is very powerful and I would recommend taking some time to have look at [How to Use Actions](https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html)","title":"How to use a jbutton that is not loaded at the beginning in Java Swing?","body":"<p>Your question leaves a lot open to interpretation.</p>\n<p>So, for example, if the values are fixed, I would start by separating them into individual panels, isolating their functionality and workflow, and simple swap them based on what is selected.</p>\n<pre><code>import java.awt.CardLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.DefaultComboBoxModel;\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n\n            JComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;();\n            DefaultComboBoxModel&lt;String&gt; model = new DefaultComboBoxModel&lt;&gt;();\n            model.addElement(&quot;Option A&quot;);\n            model.addElement(&quot;Option B&quot;);\n            comboBox.setModel(model);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.insets = new Insets(8, 8, 8, 8);\n            add(comboBox, gbc);\n\n            CardLayout cardLayout = new CardLayout();\n            JPanel buttonOptions = new JPanel(cardLayout);\n            buttonOptions.add(new OptionAPane(), &quot;optionA&quot;);\n            buttonOptions.add(new OptionBPane(), &quot;optionB&quot;);\n\n            gbc.gridy = 1;\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n            gbc.fill = GridBagConstraints.BOTH;\n            add(buttonOptions, gbc);\n\n            comboBox.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    switch (comboBox.getSelectedIndex()) {\n                        case 0: \n                            cardLayout.show(buttonOptions, &quot;optionA&quot;);\n                            break;\n                        case 1: \n                            cardLayout.show(buttonOptions, &quot;optionB&quot;);\n                            break;\n                    }\n                }\n            });\n        }\n\n    }\n\n    public class OptionAPane extends JPanel {\n\n        public OptionAPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = gbc.REMAINDER;\n            gbc.insets = new Insets(8, 8, 8, 8);\n\n            JButton btnThis = new JButton(&quot;This&quot;);\n            btnThis.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.out.println(&quot;Do this&quot;);\n                }\n            });\n            JButton btnThat = new JButton(&quot;That&quot;);\n            btnThis.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.out.println(&quot;Do that&quot;);\n                }\n            });\n\n            add(new JLabel(&quot;A Options&quot;), gbc);\n\n            add(btnThis, gbc);\n            add(btnThat, gbc);\n        }\n\n    }\n\n    public class OptionBPane extends JPanel {\n\n        public OptionBPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = gbc.REMAINDER;\n            gbc.insets = new Insets(8, 8, 8, 8);\n\n            JButton btnOther = new JButton(&quot;Other&quot;);\n            btnOther.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.out.println(&quot;Do other&quot;);\n                }\n            });\n            JButton btnSomethingElse = new JButton(&quot;Something else&quot;);\n            btnOther.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.out.println(&quot;Do something else&quot;);\n                }\n            });\n\n            add(new JLabel(&quot;B Options&quot;), gbc);\n\n            add(btnOther, gbc);\n            add(btnSomethingElse, gbc);\n        }\n\n    }\n}\n</code></pre>\n<blockquote>\n<p>But how do I know when a button is clicked.</p>\n</blockquote>\n<p>This is where an observer pattern would be used.  You'd define one or more listeners, based on the needs of each panel and when a button on a panel is clicked, this listener would trigger an event and you could make use of it</p>\n<p>If, on the other hand, you need something a little more dynamic (ie each option can have different actions based on some other configuration), you might be able to make use of the <code>Action</code> API</p>\n<p>For example...</p>\n<pre><code>import java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport javax.swing.DefaultComboBoxModel;\nimport javax.swing.DefaultListCellRenderer;\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class ActionGroup {\n\n        private String description;\n        private List&lt;Action&gt; actions;\n\n        public ActionGroup(String description) {\n            this.description = description;\n            this.actions = new ArrayList&lt;&gt;(25);\n        }\n\n\n        public ActionGroup(String description, List&lt;Action&gt; actions) {\n            this.description = description;\n            this.actions = actions;\n        }\n\n        public String getDescription() {\n            return description;\n        }\n\n        public void add(Action action) {\n            actions.add(action);\n        }\n\n        public void remove(Action action) {\n            actions.remove(action);\n        }\n\n        public List&lt;Action&gt; getActions() {\n            return Collections.unmodifiableList(actions);\n        }\n    }\n\n    public class SimpleAction extends AbstractAction {\n\n        // You have a number of choices when using something like Action,\n        // You can create a custom Action based on your needs and pass\n        // in the information it needs to do it's job OR, you can use\n        // a observer pattern to get notified when the ActionListener\n        // is triggered\n        public SimpleAction(String name) {\n            putValue(NAME, name);\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            System.out.println(getValue(NAME) + &quot; was triggered&quot;);\n        }\n\n    }\n\n    public class ActionGroupCellRenderer extends DefaultListCellRenderer {\n\n        @Override\n        public Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n            if (value instanceof ActionGroup) {\n                value = ((ActionGroup)value).getDescription();\n            }\n            return super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\n        }\n\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n\n            ActionGroup optionA = new ActionGroup(&quot;Option A&quot;);\n            optionA.add(new SimpleAction(&quot;Cat&quot;));\n            optionA.add(new SimpleAction(&quot;Doggy&quot;));\n            optionA.add(new SimpleAction(&quot;Bunny&quot;));\n            optionA.add(new SimpleAction(&quot;Rat&quot;));\n            optionA.add(new SimpleAction(&quot;Cow&quot;));\n\n            ActionGroup optionB = new ActionGroup(&quot;Option B&quot;);\n            optionB.add(new SimpleAction(&quot;Banana&quot;));\n            optionB.add(new SimpleAction(&quot;Apple&quot;));\n            optionB.add(new SimpleAction(&quot;Pear&quot;));\n            optionB.add(new SimpleAction(&quot;Orange&quot;));\n            optionB.add(new SimpleAction(&quot;Lemon&quot;));\n\n            JComboBox&lt;ActionGroup&gt; comboBox = new JComboBox&lt;&gt;();\n            comboBox.setRenderer(new ActionGroupCellRenderer());    \n            DefaultComboBoxModel&lt;ActionGroup&gt; model = new DefaultComboBoxModel&lt;&gt;();\n            model.addElement(optionA);\n            model.addElement(optionB);\n            comboBox.setModel(model);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.insets = new Insets(8, 8, 8, 8);\n            add(comboBox, gbc);\n\n            gbc.gridy = 1;\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n            gbc.fill = GridBagConstraints.BOTH;\n            ActionGroupPane buttonOptions = new ActionGroupPane();\n            buttonOptions.setActionGroup(optionA);\n            add(buttonOptions, gbc);\n\n            comboBox.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    Object item = comboBox.getSelectedItem();\n                    if (item instanceof ActionGroup) {\n                        System.out.println(item);\n                        buttonOptions.setActionGroup((ActionGroup)item);\n                    }\n                }\n            });\n        }\n\n    }\n\n    public class ActionGroupPane extends JPanel {\n\n        public ActionGroupPane() {\n            setLayout(new GridBagLayout());\n        }\n\n        public void setActionGroup(ActionGroup actionGroup) {\n            removeAll();\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = gbc.REMAINDER;\n            gbc.insets = new Insets(8, 8, 8, 8);\n\n            add(new JLabel(actionGroup.getDescription()), gbc);\n\n            for (Action action : actionGroup.getActions()) {\n                add(new JButton(action), gbc);\n            }\n\n            revalidate();\n            repaint();\n        }\n\n    }\n}\n</code></pre>\n<p><code>Action</code> is very powerful and I would recommend taking some time to have look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html\" rel=\"nofollow noreferrer\">How to Use Actions</a></p>\n"}],"owner":{"account_id":19316405,"reputation":183,"user_id":14121088,"display_name":"tonga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69847289,"answer_count":1,"score":0,"last_activity_date":1636072364,"creation_date":1636069492,"question_id":69847107,"body_markdown":"I&#39;m learning  java swing, I have many buttons, but I need to put some new buttons in the red zone when I select something on my combobox, the problem is that I don&#39;t know how to use the buttons if those are not created at the beginning.\r\n\r\n\r\n[![https://i.stack.imgur.com/DWcXQ.png][1]][1]\r\n\r\n\r\nHere some buttons loaded when I select in the combobox, I need to make some actions with them:\r\n\r\n[![https://i.stack.imgur.com/UZ1Cs.png][2]][2]\r\n\r\nthanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DWcXQ.png\r\n  [2]: https://i.stack.imgur.com/UZ1Cs.png","title":"How to use a jbutton that is not loaded at the beginning in Java Swing?","body":"<p>I'm learning  java swing, I have many buttons, but I need to put some new buttons in the red zone when I select something on my combobox, the problem is that I don't know how to use the buttons if those are not created at the beginning.</p>\n<p><a href=\"https://i.stack.imgur.com/DWcXQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DWcXQ.png\" alt=\"https://i.stack.imgur.com/DWcXQ.png\" /></a></p>\n<p>Here some buttons loaded when I select in the combobox, I need to make some actions with them:</p>\n<p><a href=\"https://i.stack.imgur.com/UZ1Cs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UZ1Cs.png\" alt=\"https://i.stack.imgur.com/UZ1Cs.png\" /></a></p>\n<p>thanks</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":10004020,"reputation":220,"user_id":7399085,"display_name":"user7399085"},"score":1,"creation_date":1571394363,"post_id":58447407,"comment_id":103235686,"body_markdown":"I do not have the Hibernate version you have, but I would suggest you try `manager.remove(child);` instead of `child.parent = null;`. Maybe you have to add `manager.clear();` after the flush.","body":"I do not have the Hibernate version you have, but I would suggest you try <code>manager.remove(child);</code> instead of <code>child.parent = null;</code>. Maybe you have to add <code>manager.clear();</code> after the flush."},{"owner":{"account_id":7739868,"reputation":731,"user_id":5860073,"display_name":"boot-and-bonnet"},"score":1,"creation_date":1571422437,"post_id":58447407,"comment_id":103249516,"body_markdown":"Thanks for the suggestion. If I use `remove(child)` only, I get `deleted object would be re-saved by cascade (remove deleted object from associations)` even if I null the associations. If I `detach(child)` as well, Hibernate tries to insert and I get the unique constraint violation.","body":"Thanks for the suggestion. If I use <code>remove(child)</code> only, I get <code>deleted object would be re-saved by cascade (remove deleted object from associations)</code> even if I null the associations. If I <code>detach(child)</code> as well, Hibernate tries to insert and I get the unique constraint violation."},{"owner":{"account_id":10004020,"reputation":220,"user_id":7399085,"display_name":"user7399085"},"score":0,"creation_date":1571749860,"post_id":58447407,"comment_id":103338457,"body_markdown":"Can you show the DDL (create table  incl. keys, foreign keys, ..) that has been created ?","body":"Can you show the DDL (create table  incl. keys, foreign keys, ..) that has been created ?"},{"owner":{"account_id":7739868,"reputation":731,"user_id":5860073,"display_name":"boot-and-bonnet"},"score":0,"creation_date":1571772597,"post_id":58447407,"comment_id":103349759,"body_markdown":"The SQL generation and final table state is now added to the question","body":"The SQL generation and final table state is now added to the question"},{"owner":{"account_id":10004020,"reputation":220,"user_id":7399085,"display_name":"user7399085"},"score":1,"creation_date":1571827232,"post_id":58447407,"comment_id":103367267,"body_markdown":"The only other way I can think of is to `detach` the entities from the manager, delete and insert child using `createNativeQuery`\nand `refresh` them - but then using `flush` is much easier, so why not stick to it ? By the way: The generated DDL looks exactly like Inheritance mapping using the [Joined table strategy](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#entity-inheritance-joined-table) and there deletion of Child must not be possible.","body":"The only other way I can think of is to <code>detach</code> the entities from the manager, delete and insert child using <code>createNativeQuery</code> and <code>refresh</code> them - but then using <code>flush</code> is much easier, so why not stick to it ? By the way: The generated DDL looks exactly like Inheritance mapping using the <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#entity-inheritance-joined-table\" rel=\"nofollow noreferrer\">Joined table strategy</a> and there deletion of Child must not be possible."},{"owner":{"account_id":7739868,"reputation":731,"user_id":5860073,"display_name":"boot-and-bonnet"},"score":0,"creation_date":1571892528,"post_id":58447407,"comment_id":103391602,"body_markdown":"I started experimenting with `@MapsId` after reading the suggestion from [Bidirectional @OneToOne lazy association](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one-bidirectional-lazy). Seems like my best options are to overwrite or remove and flush","body":"I started experimenting with <code>@MapsId</code> after reading the suggestion from <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one-bidirectional-lazy\" rel=\"nofollow noreferrer\">Bidirectional @OneToOne lazy association</a>. Seems like my best options are to overwrite or remove and flush"}],"answers":[{"tags":[],"owner":{"account_id":1914279,"reputation":81,"user_id":1727229,"display_name":"rdamus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636071744,"creation_date":1636071744,"answer_id":69847335,"question_id":58447407,"body_markdown":"I found that one way to solve this problem is to create the new `Child` object desired, correctly reference the `Parent` with this new `Child` object, then set the new `Child` object&#39;s id to be that of the parent, and finally then merge the `Child` object using the `EntityManager`.\r\n\r\nThe following is Groovy code, so null checks and syntax differ slightly from Java.  this is untested code but is identical to what i use in a similar situation.\r\n\r\n```\r\n//load the Parent class\r\nParent _parent = entityManager.find(Parent.class, 1L)\r\n\r\n//create a new Child object, passing in ref to parent\r\nChild child = new Child()\r\nchild.parent = _parent\r\n//check if child already exists with _parent\r\nif(!_parent.child){\r\n    //no child is currently associated, so associate and persist\r\n    _parent.child = child\r\n    //persist the child, which owns the relationship\r\n    entityManager.persist(child)\r\n}else{\r\n    //update existing, set the id since they are OneToOne\r\n    child.id = _parent.id\r\n    _parent.child = child\r\n    //merge the child\r\n    entityManager.merge(_parent.child)\r\n}\r\n```","title":"JPA/Hibernate5: How to replace a child object mapped with @OneToOne and @MapsId?","body":"<p>I found that one way to solve this problem is to create the new <code>Child</code> object desired, correctly reference the <code>Parent</code> with this new <code>Child</code> object, then set the new <code>Child</code> object's id to be that of the parent, and finally then merge the <code>Child</code> object using the <code>EntityManager</code>.</p>\n<p>The following is Groovy code, so null checks and syntax differ slightly from Java.  this is untested code but is identical to what i use in a similar situation.</p>\n<pre><code>//load the Parent class\nParent _parent = entityManager.find(Parent.class, 1L)\n\n//create a new Child object, passing in ref to parent\nChild child = new Child()\nchild.parent = _parent\n//check if child already exists with _parent\nif(!_parent.child){\n    //no child is currently associated, so associate and persist\n    _parent.child = child\n    //persist the child, which owns the relationship\n    entityManager.persist(child)\n}else{\n    //update existing, set the id since they are OneToOne\n    child.id = _parent.id\n    _parent.child = child\n    //merge the child\n    entityManager.merge(_parent.child)\n}\n</code></pre>\n"}],"owner":{"account_id":7739868,"reputation":731,"user_id":5860073,"display_name":"boot-and-bonnet"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636071744,"creation_date":1571389218,"question_id":58447407,"body_markdown":"I have a bidirectional @OneToOne association between Parent and Child entities, with @MapsId to share the primary key.\r\n\r\nWith a Parent object, I can add a Child, remove it, then add a new Child object:\r\n\r\n``` lang-java\r\n\t\tParent parent = new Parent();\r\n\t\tparent.name = &quot;parent&quot;;\r\n\t\tChild child = new Child();\r\n\t\tchild.name = &quot;child&quot;;\r\n\t\tchild.parent = parent;\r\n\t\tparent.child = child;\r\n\t\tmanager.persist(parent);\r\n\t\tmanager.flush();\r\n\t\t\r\n        // Replace this block with ?\r\n\t\tparent.child = null;\r\n\t\tchild.parent = null;\r\n\t\tmanager.persist(parent);\r\n\t\tmanager.flush();\r\n\t\t\r\n\t\tChild child2 = new Child();\r\n\t\tchild2.name = &quot;child2&quot;;\r\n\t\tchild2.parent = parent;\r\n\t\tparent.child = child2;\r\n\t\tmanager.persist(parent);\r\n```\r\nBut, **is there a way to set a new Child object without removing (and flushing) the old one?**  \r\n\r\nIf I remove the `flush()` from the middle block, Hibernate complains the identifier is already associated with the session. I guess I&#39;m looking for a way to tell Hibernate to ignore the old Child entity, allow the new one to have the same id, and run an SQL update for the new Child instead of insert.\r\n\r\nI realize I can just update the current Child fields, but I would like to know if a full object replacement is possible.  \r\n  \r\n\r\nThe full code showing Entity definitions is here:\r\n``` lang-java\r\nimport javax.persistence.*;\r\n\r\npublic class OneToOneExample {\r\n\r\n\t@Entity(name = &quot;Parent&quot;)\r\n\tpublic static class Parent {\r\n\t\t@Id\r\n\t\t@GeneratedValue\r\n\t\tLong id;\r\n\t\t\r\n\t\t@OneToOne(mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t\tChild child;\r\n\t\t\r\n\t\tString name;\r\n\t}\r\n\r\n\t@Entity(name = &quot;Child&quot;)\r\n\tpublic static class Child {\r\n\t\t@Id\r\n\t\tLong id;\r\n\t\t\r\n\t\t@OneToOne\r\n\t\t@MapsId\r\n\t\tParent parent;\r\n\t\t\r\n\t\tString name;\r\n\t}\r\n\r\n\tprivate static void runExample(EntityManager manager) {\r\n\t\tParent parent = new Parent();\r\n\t\tparent.name = &quot;parent&quot;;\r\n\t\tChild child = new Child();\r\n\t\tchild.name = &quot;child&quot;;\r\n\t\tchild.parent = parent;\r\n\t\tparent.child = child;\r\n\t\tmanager.persist(parent);\r\n\t\tmanager.flush();\r\n\t\t\r\n        // Replace this block with ?\r\n\t\tparent.child = null;\r\n\t\tchild.parent = null;\r\n\t\tmanager.persist(parent);\r\n\t\tmanager.flush();\r\n\t\t\r\n\t\tChild child2 = new Child();\r\n\t\tchild2.name = &quot;child2&quot;;\r\n\t\tchild2.parent = parent;\r\n\t\tparent.child = child2;\r\n\t\tmanager.persist(parent);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tEntityManagerFactory factory = null;\r\n\t\tEntityManager manager = null;\r\n\t\ttry {\r\n\t\t\tfactory = Persistence.createEntityManagerFactory(OneToOneExample.class.getPackageName());\r\n\t\t\tmanager = factory.createEntityManager();\r\n\t\t\tmanager.getTransaction().begin();\r\n\t\t\trunExample(manager);\r\n\t\t\tmanager.getTransaction().commit();\r\n\t\t} finally {\r\n\t\t\tif (manager != null) manager.close();\r\n\t\t\tif (factory != null) factory.close();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nException:\r\n```\r\nException in thread &quot;main&quot; javax.persistence.EntityExistsException: A different object with the same identifier value was already associated with the session : [....OneToOneExample$Child#1]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:123)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:733)\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:695)\r\n\tat org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)\r\n\tat org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:492)\r\n\tat ...\r\n```\r\nI am using Hibernate 5.4.6.Final, Hibernate-JPA2.1 1.0.2.Final, HSQLDB 2.5.0\r\n\r\n**Update:** original Hibernate SQL generation and table data:  \r\n```sql\r\nHibernate: drop table if exists Child CASCADE \r\nHibernate: drop table if exists Parent CASCADE \r\nHibernate: drop sequence hibernate_sequence if exists\r\nHibernate: create sequence hibernate_sequence start with 1 increment by 1\r\nHibernate: create table Child (name varchar(255), parent_id bigint not null, primary key (parent_id))\r\nHibernate: create table Parent (id bigint not null, name varchar(255), primary key (id))\r\nHibernate: alter table Child add constraint FKlh67j1n7x7gt59u0pbkwqh6o6 foreign key (parent_id) references Parent\r\nHibernate: call next value for hibernate_sequence\r\nHibernate: insert into Parent (name, id) values (?, ?)\r\nHibernate: insert into Child (name, parent_id) values (?, ?)\r\nHibernate: delete from Child where parent_id=?\r\nHibernate: insert into Child (name, parent_id) values (?, ?)\r\n\r\nSELECT * FROM CHILD\r\n    NAME, PARENT_ID\r\n    child2, 1\r\nSELECT * FROM PARENT\r\n    ID, NAME\r\n    1, parent\r\n\r\n```","title":"JPA/Hibernate5: How to replace a child object mapped with @OneToOne and @MapsId?","body":"<p>I have a bidirectional @OneToOne association between Parent and Child entities, with @MapsId to share the primary key.</p>\n\n<p>With a Parent object, I can add a Child, remove it, then add a new Child object:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        Parent parent = new Parent();\n        parent.name = \"parent\";\n        Child child = new Child();\n        child.name = \"child\";\n        child.parent = parent;\n        parent.child = child;\n        manager.persist(parent);\n        manager.flush();\n\n        // Replace this block with ?\n        parent.child = null;\n        child.parent = null;\n        manager.persist(parent);\n        manager.flush();\n\n        Child child2 = new Child();\n        child2.name = \"child2\";\n        child2.parent = parent;\n        parent.child = child2;\n        manager.persist(parent);\n</code></pre>\n\n<p>But, <strong>is there a way to set a new Child object without removing (and flushing) the old one?</strong>  </p>\n\n<p>If I remove the <code>flush()</code> from the middle block, Hibernate complains the identifier is already associated with the session. I guess I'm looking for a way to tell Hibernate to ignore the old Child entity, allow the new one to have the same id, and run an SQL update for the new Child instead of insert.</p>\n\n<p>I realize I can just update the current Child fields, but I would like to know if a full object replacement is possible.  </p>\n\n<p>The full code showing Entity definitions is here:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.*;\n\npublic class OneToOneExample {\n\n    @Entity(name = \"Parent\")\n    public static class Parent {\n        @Id\n        @GeneratedValue\n        Long id;\n\n        @OneToOne(mappedBy = \"parent\", cascade = CascadeType.ALL, orphanRemoval = true)\n        Child child;\n\n        String name;\n    }\n\n    @Entity(name = \"Child\")\n    public static class Child {\n        @Id\n        Long id;\n\n        @OneToOne\n        @MapsId\n        Parent parent;\n\n        String name;\n    }\n\n    private static void runExample(EntityManager manager) {\n        Parent parent = new Parent();\n        parent.name = \"parent\";\n        Child child = new Child();\n        child.name = \"child\";\n        child.parent = parent;\n        parent.child = child;\n        manager.persist(parent);\n        manager.flush();\n\n        // Replace this block with ?\n        parent.child = null;\n        child.parent = null;\n        manager.persist(parent);\n        manager.flush();\n\n        Child child2 = new Child();\n        child2.name = \"child2\";\n        child2.parent = parent;\n        parent.child = child2;\n        manager.persist(parent);\n    }\n\n    public static void main(String[] args) {\n        EntityManagerFactory factory = null;\n        EntityManager manager = null;\n        try {\n            factory = Persistence.createEntityManagerFactory(OneToOneExample.class.getPackageName());\n            manager = factory.createEntityManager();\n            manager.getTransaction().begin();\n            runExample(manager);\n            manager.getTransaction().commit();\n        } finally {\n            if (manager != null) manager.close();\n            if (factory != null) factory.close();\n        }\n    }\n}\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>Exception in thread \"main\" javax.persistence.EntityExistsException: A different object with the same identifier value was already associated with the session : [....OneToOneExample$Child#1]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:123)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:733)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:695)\n    at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:298)\n    at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:492)\n    at ...\n</code></pre>\n\n<p>I am using Hibernate 5.4.6.Final, Hibernate-JPA2.1 1.0.2.Final, HSQLDB 2.5.0</p>\n\n<p><strong>Update:</strong> original Hibernate SQL generation and table data:  </p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>Hibernate: drop table if exists Child CASCADE \nHibernate: drop table if exists Parent CASCADE \nHibernate: drop sequence hibernate_sequence if exists\nHibernate: create sequence hibernate_sequence start with 1 increment by 1\nHibernate: create table Child (name varchar(255), parent_id bigint not null, primary key (parent_id))\nHibernate: create table Parent (id bigint not null, name varchar(255), primary key (id))\nHibernate: alter table Child add constraint FKlh67j1n7x7gt59u0pbkwqh6o6 foreign key (parent_id) references Parent\nHibernate: call next value for hibernate_sequence\nHibernate: insert into Parent (name, id) values (?, ?)\nHibernate: insert into Child (name, parent_id) values (?, ?)\nHibernate: delete from Child where parent_id=?\nHibernate: insert into Child (name, parent_id) values (?, ?)\n\nSELECT * FROM CHILD\n    NAME, PARENT_ID\n    child2, 1\nSELECT * FROM PARENT\n    ID, NAME\n    1, parent\n\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1542299157,"post_id":53322567,"comment_id":93528114,"body_markdown":"What does this line of code `System.out.println(&quot;Employee Count: &quot; + ee.size());` return?","body":"What does this line of code <code>System.out.println(&quot;Employee Count: &quot; + ee.size());</code> return?"},{"owner":{"account_id":5271561,"reputation":38,"user_id":4209660,"display_name":"Omsagar Gupta"},"score":0,"creation_date":1542299780,"post_id":53322567,"comment_id":93528486,"body_markdown":"@AlexMamo it gives null pointer exception","body":"@AlexMamo it gives null pointer exception"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1542300193,"creation_date":1542300193,"answer_id":53324124,"question_id":53322567,"body_markdown":"To solve this, please change the following lines of code:\r\n\r\n    public void setEmptoCompanyList(ArrayList&lt;EmpToCompany&gt; emptoCompanyList) {\r\n        emptoCompanyList = emptoCompanyList;\r\n    }\r\n\r\nto\r\n\r\n    public void setEmptoCompanyList(ArrayList&lt;EmpToCompany&gt; emptoCompanyList) {\r\n        this.emptoCompanyList = emptoCompanyList;\r\n    //    ^\r\n    }\r\n\r\nYou should assign the value of the local `emptoCompanyList` variable to the member class (`this`) field, not to the same variable.","title":"Firebase retrieve stored ArrayList from DataSnapShot gives NullPointerException","body":"<p>To solve this, please change the following lines of code:</p>\n\n<pre><code>public void setEmptoCompanyList(ArrayList&lt;EmpToCompany&gt; emptoCompanyList) {\n    emptoCompanyList = emptoCompanyList;\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>public void setEmptoCompanyList(ArrayList&lt;EmpToCompany&gt; emptoCompanyList) {\n    this.emptoCompanyList = emptoCompanyList;\n//    ^\n}\n</code></pre>\n\n<p>You should assign the value of the local <code>emptoCompanyList</code> variable to the member class (<code>this</code>) field, not to the same variable.</p>\n"},{"tags":[],"owner":{"account_id":12384154,"reputation":1,"user_id":9028278,"display_name":"Ivan Rancic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636070263,"creation_date":1636024126,"answer_id":69838292,"question_id":53322567,"body_markdown":"In your JSON case from the picture I see, you need to change this code:\r\n\r\n    \r\n\r\n&gt; ArrayList&lt; EmpToCompany&gt; emptoCompanyList;\r\n\r\nto:\r\n\r\n&gt; ArrayList&lt; String&gt; emptoCompanyList;\r\n\r\nBut if you want arraylist of EmpToCompany class, you need to show what you have inside the red rectangle for the keys 0 and 1 .... and I will help you :)","title":"Firebase retrieve stored ArrayList from DataSnapShot gives NullPointerException","body":"<p>In your JSON case from the picture I see, you need to change this code:</p>\n<blockquote>\n<p>ArrayList&lt; EmpToCompany&gt; emptoCompanyList;</p>\n</blockquote>\n<p>to:</p>\n<blockquote>\n<p>ArrayList&lt; String&gt; emptoCompanyList;</p>\n</blockquote>\n<p>But if you want arraylist of EmpToCompany class, you need to show what you have inside the red rectangle for the keys 0 and 1 .... and I will help you :)</p>\n"}],"owner":{"account_id":5271561,"reputation":38,"user_id":4209660,"display_name":"Omsagar Gupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53324124,"answer_count":2,"score":0,"last_activity_date":1636070263,"creation_date":1542295150,"question_id":53322567,"body_markdown":"My firebase database looks likes this\r\n\r\n\r\n[![Firebase Image][1]][1]\r\n\r\n\r\nThe blue rectangle is the data I want to retrieve. \r\n\r\nModal class for the blue rectangle looks like this\r\n\r\n    public class TripToCompany implements Serializable {\r\n\r\n    String tripDate;\r\n    String companyName;\r\n    String vehicleNo;\r\n    boolean isFinished;\r\n    String firstPickUp;\r\n    String inTime;\r\n    ArrayList&lt;EmpToCompany&gt; emptoCompanyList;\r\n\r\n    public TripToCompany() {\r\n    }\r\n\r\n    public TripToCompany(String tripDate, String companyName, String vehicleNo, boolean isFinished, String firstPickUp, String inTime, ArrayList&lt;EmpToCompany&gt; emptoCompanyList) {\r\n        this.tripDate = tripDate;\r\n        this.companyName = companyName;\r\n        this.vehicleNo = vehicleNo;\r\n        this.isFinished = isFinished;\r\n        this.firstPickUp = firstPickUp;\r\n        this.inTime = inTime;\r\n        this.emptoCompanyList = emptoCompanyList;\r\n    }\r\n\r\n    public TripToCompany(String tripDate, String companyName, String vehicleNo) {\r\n        this.tripDate = tripDate;\r\n        this.companyName = companyName;\r\n        this.vehicleNo = vehicleNo;\r\n        this.isFinished = false;\r\n        this.inTime = &quot;-&quot;;\r\n        this.emptoCompanyList = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public String getTripDate() {\r\n        return tripDate;\r\n    }\r\n\r\n    public void setTripDate(String tripDate) {\r\n        this.tripDate = tripDate;\r\n    }\r\n\r\n    public String getCompany() {\r\n        return companyName;\r\n    }\r\n\r\n    public void setCompany(String companyName) {\r\n        this.companyName = companyName;\r\n    }\r\n\r\n    public String getVehicleNo() {\r\n        return vehicleNo;\r\n    }\r\n\r\n    public void setVehicleNo(String vehicleNo) {\r\n        this.vehicleNo = vehicleNo;\r\n    }\r\n\r\n    public boolean isFinished() {\r\n        return isFinished;\r\n    }\r\n\r\n    public void setFinished(boolean isFinished) {\r\n        this.isFinished = isFinished;\r\n    }\r\n\r\n    public String getFirstPickUp() {\r\n        return firstPickUp;\r\n    }\r\n\r\n    public void setFirstPickUp(String firstPickUp) {\r\n        this.firstPickUp = firstPickUp;\r\n    }\r\n\r\n    public String getInTime() {\r\n        return inTime;\r\n    }\r\n\r\n    public void setInTime(String inTime) {\r\n        this.inTime = inTime;\r\n    }\r\n\r\n    public ArrayList&lt;EmpToCompany&gt; getEmptoCompanyList() {\r\n        return emptoCompanyList;\r\n    }\r\n\r\n    public void setEmptoCompanyList(ArrayList&lt;EmpToCompany&gt; emptoCompanyList) {\r\n        emptoCompanyList = emptoCompanyList;\r\n    }\r\n\r\n    public void addEmpToCompanyList(EmpToCompany etc) {\r\n        if (emptoCompanyList.size() == 0) {\r\n            firstPickUp = etc.getCabInTime();\r\n        }\r\n        emptoCompanyList.add(etc);\r\n\r\n      }\r\n    }\r\n\r\nI am fetching the data from firebase using the standard query. Here is the code\r\n\r\n    \r\n        FirebaseDatabase defaultDatabase = FirebaseDatabase.getInstance();\r\n        DatabaseReference mRef = defaultDatabase.getReference(&quot;data&quot;);\r\n        Query query = mRef.child(&quot;toComp/&quot; + companyId + &quot;/&quot; + fromDate + &quot;/&quot; + shiftTimeId + &quot;/&quot;);\r\n        query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot ds) {\r\n\r\n                if (ds.exists()) {\r\n                    System.out.println(&quot;exist&quot;);\r\n                    for (DataSnapshot singleSnapshot : ds.getChildren()) {\r\n                        TripToCompany trpObj = (TripToCompany) singleSnapshot.getValue(TripToCompany.class);\r\n                        ArrayList&lt;EmpToCompany&gt;ee= trpObj.getEmptoCompanyList();\r\n                        System.out.println(&quot;Company Name: &quot;+trpObj.getCompany()); //successfully retrived\r\n                        System.out.println(&quot;Employee Count: &quot; + ee.size()); //unable to fetch it. Gives NullPointerException\r\n\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;error&quot;);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError de) {}\r\n        });\r\n\r\nI am able to get the remaining data successfully from firebase. The data in red rectangle is the ArrayList, and I am unable to fetch it(show in red rectangle in the image). I have printed in the console using **Sysout** and I am unable to get ArrayList data. It returns **NullPointerException**. How can I fetch that ArrayList in the **TripToCompany** Object?\r\n\r\n  [1]: https://i.stack.imgur.com/YhFok.png","title":"Firebase retrieve stored ArrayList from DataSnapShot gives NullPointerException","body":"<p>My firebase database looks likes this</p>\n\n<p><a href=\"https://i.stack.imgur.com/YhFok.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YhFok.png\" alt=\"Firebase Image\"></a></p>\n\n<p>The blue rectangle is the data I want to retrieve. </p>\n\n<p>Modal class for the blue rectangle looks like this</p>\n\n<pre><code>public class TripToCompany implements Serializable {\n\nString tripDate;\nString companyName;\nString vehicleNo;\nboolean isFinished;\nString firstPickUp;\nString inTime;\nArrayList&lt;EmpToCompany&gt; emptoCompanyList;\n\npublic TripToCompany() {\n}\n\npublic TripToCompany(String tripDate, String companyName, String vehicleNo, boolean isFinished, String firstPickUp, String inTime, ArrayList&lt;EmpToCompany&gt; emptoCompanyList) {\n    this.tripDate = tripDate;\n    this.companyName = companyName;\n    this.vehicleNo = vehicleNo;\n    this.isFinished = isFinished;\n    this.firstPickUp = firstPickUp;\n    this.inTime = inTime;\n    this.emptoCompanyList = emptoCompanyList;\n}\n\npublic TripToCompany(String tripDate, String companyName, String vehicleNo) {\n    this.tripDate = tripDate;\n    this.companyName = companyName;\n    this.vehicleNo = vehicleNo;\n    this.isFinished = false;\n    this.inTime = \"-\";\n    this.emptoCompanyList = new ArrayList&lt;&gt;();\n}\n\npublic String getTripDate() {\n    return tripDate;\n}\n\npublic void setTripDate(String tripDate) {\n    this.tripDate = tripDate;\n}\n\npublic String getCompany() {\n    return companyName;\n}\n\npublic void setCompany(String companyName) {\n    this.companyName = companyName;\n}\n\npublic String getVehicleNo() {\n    return vehicleNo;\n}\n\npublic void setVehicleNo(String vehicleNo) {\n    this.vehicleNo = vehicleNo;\n}\n\npublic boolean isFinished() {\n    return isFinished;\n}\n\npublic void setFinished(boolean isFinished) {\n    this.isFinished = isFinished;\n}\n\npublic String getFirstPickUp() {\n    return firstPickUp;\n}\n\npublic void setFirstPickUp(String firstPickUp) {\n    this.firstPickUp = firstPickUp;\n}\n\npublic String getInTime() {\n    return inTime;\n}\n\npublic void setInTime(String inTime) {\n    this.inTime = inTime;\n}\n\npublic ArrayList&lt;EmpToCompany&gt; getEmptoCompanyList() {\n    return emptoCompanyList;\n}\n\npublic void setEmptoCompanyList(ArrayList&lt;EmpToCompany&gt; emptoCompanyList) {\n    emptoCompanyList = emptoCompanyList;\n}\n\npublic void addEmpToCompanyList(EmpToCompany etc) {\n    if (emptoCompanyList.size() == 0) {\n        firstPickUp = etc.getCabInTime();\n    }\n    emptoCompanyList.add(etc);\n\n  }\n}\n</code></pre>\n\n<p>I am fetching the data from firebase using the standard query. Here is the code</p>\n\n<pre><code>    FirebaseDatabase defaultDatabase = FirebaseDatabase.getInstance();\n    DatabaseReference mRef = defaultDatabase.getReference(\"data\");\n    Query query = mRef.child(\"toComp/\" + companyId + \"/\" + fromDate + \"/\" + shiftTimeId + \"/\");\n    query.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot ds) {\n\n            if (ds.exists()) {\n                System.out.println(\"exist\");\n                for (DataSnapshot singleSnapshot : ds.getChildren()) {\n                    TripToCompany trpObj = (TripToCompany) singleSnapshot.getValue(TripToCompany.class);\n                    ArrayList&lt;EmpToCompany&gt;ee= trpObj.getEmptoCompanyList();\n                    System.out.println(\"Company Name: \"+trpObj.getCompany()); //successfully retrived\n                    System.out.println(\"Employee Count: \" + ee.size()); //unable to fetch it. Gives NullPointerException\n\n                }\n            } else {\n                System.out.println(\"error\");\n            }\n        }\n\n        @Override\n        public void onCancelled(DatabaseError de) {}\n    });\n</code></pre>\n\n<p>I am able to get the remaining data successfully from firebase. The data in red rectangle is the ArrayList, and I am unable to fetch it(show in red rectangle in the image). I have printed in the console using <strong>Sysout</strong> and I am unable to get ArrayList data. It returns <strong>NullPointerException</strong>. How can I fetch that ArrayList in the <strong>TripToCompany</strong> Object?</p>\n"},{"tags":["java","javafx","javafx-11","jpackage","java-17"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1636038957,"post_id":69841390,"comment_id":123456102,"body_markdown":"I would think no. I&#39;m not sure if there are still vendors providing a 32-bit JRE, but even if that were the case, if JavaFX only provides 64-bit DLLs, then there is no way you can get it to work on 32-bit without you yourself attempting to build 32-bit versions of those libraries.","body":"I would think no. I&#39;m not sure if there are still vendors providing a 32-bit JRE, but even if that were the case, if JavaFX only provides 64-bit DLLs, then there is no way you can get it to work on 32-bit without you yourself attempting to build 32-bit versions of those libraries."},{"owner":{"account_id":22365443,"reputation":396,"user_id":16581317,"display_name":"Youssef Idraiss"},"score":1,"creation_date":1636052345,"post_id":69841390,"comment_id":123461574,"body_markdown":"@jewelsea Azul JDK worked perfectly in windows (I&#39;m using windows, and my client (who has 32 bit OS) also uses windows),  thank you for your help !","body":"@jewelsea Azul JDK worked perfectly in windows (I&#39;m using windows, and my client (who has 32 bit OS) also uses windows),  thank you for your help !"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1636056034,"post_id":69841390,"comment_id":123462823,"body_markdown":"Replaced comments with an answer.","body":"Replaced comments with an answer."},{"owner":{"account_id":5143936,"reputation":3502,"user_id":4120431,"display_name":"N Dorigatti"},"score":0,"creation_date":1684758698,"post_id":69841390,"comment_id":134559084,"body_markdown":"Did you manage to have it working? I downloaded Zulu jdk15 but i&#39;m unable to compile a 32bit package, WiX always generate a 64bit installer! DId you use Wix? maybe is an issue of jdk15?","body":"Did you manage to have it working? I downloaded Zulu jdk15 but i&#39;m unable to compile a 32bit package, WiX always generate a 64bit installer! DId you use Wix? maybe is an issue of jdk15?"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1636069909,"creation_date":1636055865,"answer_id":69845134,"question_id":69841390,"body_markdown":"Yes, you can make an installable 32-bit version of a JavaFX app using `jpackage` (Java 17).\r\n\r\nAzul Zulu provide [32 bit JDK+JavaFX 17 downloads][1] for various platforms. Switch your app to use that and package it using that JDK.  When doing so, (I think) it won&#39;t be necessary to supply JavaFX Maven dependencies as the JavaFX modules will already be available from the Azul JDK+JavaFX platform distribution.\r\n\r\nI won&#39;t supply the full steps on how to use jpackage here, as that is documented and discussed elsewhere.\r\n\r\nFrom comments by the original poster, this method worked:\r\n\r\n&gt; Azul JDK worked perfectly in windows (I&#39;m using windows, and my client (who has 32 bit OS) also uses windows)\r\n\r\nOR\r\n\r\n[JavaFX packages in Maven central][2] are available for various OS and [32-bit or 64-bit][3] platform architectures.\r\n\r\nYou can select from a specific architecture (or combination of architectures) as a dependency in Maven using a classifier, [similar to this example (without the shading)][3].\r\n\r\nIf you go that route, you need to make sure that you choose the appropriate underlying JDK correctly when doing the packaging (choose a 32-bit JDK build rather than a 64-bit JDK build).  Again, Azure Zulu (and possibly other JDK vendors) provide 32-bit JDK builds that you can use.\r\n\r\nIf a Mac is your target device, [Mac OS X does not support 32-bit apps][4], hence there are no 32 bit Java/JavaFX builds for Mac, only 64 bit builds targeting either Intel chips or the new Apple M1 chips. \r\n\r\nExamples of supported architectures for which there are binary JavaFX builds.  This is based just on a quick look at the classifier extensions available for binary jars in the JavaFX Maven repository.  The comments are just my guesses on what these are, not official documentation:\r\n\r\n * linux-aarch64 (linux [arm v8 64 bit][5]).\r\n * linux-arm32 (linux arm v7 32 bit).\r\n * linux (linux intel 64 bit).\r\n * mac-aarch64 (mac M1 64 bit).\r\n * mac (mac intel 64 bit).\r\n * win-x86 (win intel 32 bit).\r\n * win (win intel 64 bit).\r\n\r\nIf no classifier is provided, I think the build will examine your current operating environment and choose the best fit.\r\n\r\nIn addition for some platforms, there are builds with the -monocle suffix in the classifier, also available in 32 bit and 64 bit flavors for various OS types.  This is targeted to embedded devices, or headless (no display, e.g. a server) and provides a version of JavaFX that does not use an OS-provided windowing system (i.e. windows are managed purely by JavaFX, not an X-windows window manager and not the Windows OS window manager) and *may* use Software rendering rather than Hardware rendering. Most people won&#39;t need this, but if interested see the (minimal) [Monocle documentation][6].\r\n\r\nGluon provides JavaFX support for various mobile architectures via [Gluon Mobile][7].  I believe it is different from a jpackage solution and instead relies on native compilation using [GraalVM][8] (but I could be wrong, I haven&#39;t investigated it).  Regardless of how it works, if you need to target a mobile device for a JavaFX deployment, I advise that you check with Gluon and their mobile development, packaging and deployment solutions.\r\n\r\n  [1]: https://www.azul.com/downloads/?version=java-17-lts&amp;architecture=x86-32-bit&amp;package=jdk-fx\r\n  [2]: https://repo1.maven.org/maven2/org/openjfx/javafx-graphics/17.0.1/\r\n  [3]: https://superuser.com/questions/186503/is-x86-32-bit-or-64-bit\r\n  [4]: https://support.apple.com/en-ca/HT208436\r\n  [5]: https://stackoverflow.com/questions/31851611/differences-between-arm64-and-aarch64\r\n  [6]: https://wiki.openjdk.java.net/display/OpenJFX/Monocle\r\n  [7]: https://gluonhq.com/products/mobile/\r\n  [8]: https://www.graalvm.org","title":"Can I make an installable 32-bit version of my app using jpackage (Java 17)","body":"<p>Yes, you can make an installable 32-bit version of a JavaFX app using <code>jpackage</code> (Java 17).</p>\n<p>Azul Zulu provide <a href=\"https://www.azul.com/downloads/?version=java-17-lts&amp;architecture=x86-32-bit&amp;package=jdk-fx\" rel=\"nofollow noreferrer\">32 bit JDK+JavaFX 17 downloads</a> for various platforms. Switch your app to use that and package it using that JDK.  When doing so, (I think) it won't be necessary to supply JavaFX Maven dependencies as the JavaFX modules will already be available from the Azul JDK+JavaFX platform distribution.</p>\n<p>I won't supply the full steps on how to use jpackage here, as that is documented and discussed elsewhere.</p>\n<p>From comments by the original poster, this method worked:</p>\n<blockquote>\n<p>Azul JDK worked perfectly in windows (I'm using windows, and my client (who has 32 bit OS) also uses windows)</p>\n</blockquote>\n<p>OR</p>\n<p><a href=\"https://repo1.maven.org/maven2/org/openjfx/javafx-graphics/17.0.1/\" rel=\"nofollow noreferrer\">JavaFX packages in Maven central</a> are available for various OS and <a href=\"https://superuser.com/questions/186503/is-x86-32-bit-or-64-bit\">32-bit or 64-bit</a> platform architectures.</p>\n<p>You can select from a specific architecture (or combination of architectures) as a dependency in Maven using a classifier, <a href=\"https://superuser.com/questions/186503/is-x86-32-bit-or-64-bit\">similar to this example (without the shading)</a>.</p>\n<p>If you go that route, you need to make sure that you choose the appropriate underlying JDK correctly when doing the packaging (choose a 32-bit JDK build rather than a 64-bit JDK build).  Again, Azure Zulu (and possibly other JDK vendors) provide 32-bit JDK builds that you can use.</p>\n<p>If a Mac is your target device, <a href=\"https://support.apple.com/en-ca/HT208436\" rel=\"nofollow noreferrer\">Mac OS X does not support 32-bit apps</a>, hence there are no 32 bit Java/JavaFX builds for Mac, only 64 bit builds targeting either Intel chips or the new Apple M1 chips.</p>\n<p>Examples of supported architectures for which there are binary JavaFX builds.  This is based just on a quick look at the classifier extensions available for binary jars in the JavaFX Maven repository.  The comments are just my guesses on what these are, not official documentation:</p>\n<ul>\n<li>linux-aarch64 (linux <a href=\"https://stackoverflow.com/questions/31851611/differences-between-arm64-and-aarch64\">arm v8 64 bit</a>).</li>\n<li>linux-arm32 (linux arm v7 32 bit).</li>\n<li>linux (linux intel 64 bit).</li>\n<li>mac-aarch64 (mac M1 64 bit).</li>\n<li>mac (mac intel 64 bit).</li>\n<li>win-x86 (win intel 32 bit).</li>\n<li>win (win intel 64 bit).</li>\n</ul>\n<p>If no classifier is provided, I think the build will examine your current operating environment and choose the best fit.</p>\n<p>In addition for some platforms, there are builds with the -monocle suffix in the classifier, also available in 32 bit and 64 bit flavors for various OS types.  This is targeted to embedded devices, or headless (no display, e.g. a server) and provides a version of JavaFX that does not use an OS-provided windowing system (i.e. windows are managed purely by JavaFX, not an X-windows window manager and not the Windows OS window manager) and <em>may</em> use Software rendering rather than Hardware rendering. Most people won't need this, but if interested see the (minimal) <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/Monocle\" rel=\"nofollow noreferrer\">Monocle documentation</a>.</p>\n<p>Gluon provides JavaFX support for various mobile architectures via <a href=\"https://gluonhq.com/products/mobile/\" rel=\"nofollow noreferrer\">Gluon Mobile</a>.  I believe it is different from a jpackage solution and instead relies on native compilation using <a href=\"https://www.graalvm.org\" rel=\"nofollow noreferrer\">GraalVM</a> (but I could be wrong, I haven't investigated it).  Regardless of how it works, if you need to target a mobile device for a JavaFX deployment, I advise that you check with Gluon and their mobile development, packaging and deployment solutions.</p>\n"}],"owner":{"account_id":22365443,"reputation":396,"user_id":16581317,"display_name":"Youssef Idraiss"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2412,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69845134,"answer_count":1,"score":4,"last_activity_date":1636069909,"creation_date":1636038344,"question_id":69841390,"body_markdown":"I&#39;ve made an application using Java 17 with JavaFX 16 library. Is there a way to make an installable 32-bit version using JPackage of it? Since Java comes always just in 64-bit since Java 9 (same with JavaFX library), I doubt it&#39;s not possible, but is there any way to do it?","title":"Can I make an installable 32-bit version of my app using jpackage (Java 17)","body":"<p>I've made an application using Java 17 with JavaFX 16 library. Is there a way to make an installable 32-bit version using JPackage of it? Since Java comes always just in 64-bit since Java 9 (same with JavaFX library), I doubt it's not possible, but is there any way to do it?</p>\n"},{"tags":["java","spring-boot","activemq","stomp","spring-websocket"],"comments":[{"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"score":1,"creation_date":1450363970,"post_id":34334629,"comment_id":56416276,"body_markdown":"Whoever downvoted this I&#39;d *really* like an explanation... gutless.","body":"Whoever downvoted this I&#39;d <i>really</i> like an explanation... gutless."},{"owner":{"account_id":72251,"reputation":96,"user_id":208684,"display_name":"smaldini"},"score":0,"creation_date":1450364048,"post_id":34334629,"comment_id":56547855,"body_markdown":"The internals allow it (https://github.com/reactor/reactor-io/blob/master/reactor-net/src/test/java/reactor/io/net/tcp/TcpServerTests.java#L100) but I&#39;m checking if they are exposed.","body":"The internals allow it (<a href=\"https://github.com/reactor/reactor-io/blob/master/reactor-net/src/test/java/reactor/io/net/tcp/TcpServerTests.java#L100\" rel=\"nofollow noreferrer\">github.com/reactor/reactor-io/blob/master/reactor-net/src/t&zwnj;&#8203;est/&hellip;</a>) but I&#39;m checking if they are exposed."}],"answers":[{"tags":[],"owner":{"account_id":222410,"reputation":4950,"user_id":480980,"display_name":"Rossen Stoyanchev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1450364562,"creation_date":1450364562,"answer_id":34337731,"question_id":34334629,"body_markdown":"The `StompBrokerRelayMessageHandler` has a tcpClient property you can set. However it looks like we don&#39;t expose that through the `WebSocketMessageBrokerConfigurer` setup.\r\n\r\nYou can remove `@EnableWebSocketMessageBroker` and extend `DelegatingWebSocketMessageBrokerConfiguration` instead. It&#39;s effectively the same but you&#39;re now extending directly from the configuration class that provides all the beans.\r\n\r\nThis allows you to then override the `stompBrokerRelayMessageHandler()` bean and set its TcpClient property directly. Just make sure the overriding method is marked with `@Bean`.","title":"Spring Boot SSL TCPClient ~ StompBrokerRelayMessageHandler ~ ActiveMQ ~ Undertow","body":"<p>The <code>StompBrokerRelayMessageHandler</code> has a tcpClient property you can set. However it looks like we don't expose that through the <code>WebSocketMessageBrokerConfigurer</code> setup.</p>\n\n<p>You can remove <code>@EnableWebSocketMessageBroker</code> and extend <code>DelegatingWebSocketMessageBrokerConfiguration</code> instead. It's effectively the same but you're now extending directly from the configuration class that provides all the beans.</p>\n\n<p>This allows you to then override the <code>stompBrokerRelayMessageHandler()</code> bean and set its TcpClient property directly. Just make sure the overriding method is marked with <code>@Bean</code>.</p>\n"},{"tags":[],"owner":{"account_id":51525,"reputation":301,"user_id":153967,"display_name":"amoebob"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1470852684,"creation_date":1470852684,"answer_id":38880673,"question_id":34334629,"body_markdown":"I needed to secure a STOMP broker relay to RabbitMQ using Spring Messaging 4.2.5 with Java 8 and found that the question&#39;s follow-up code had become outdated.\r\n\r\nWhen launching my application, I provide truststore environment properties to trust an internal self-signed certificate authority.\r\n`java -Djavax.net.ssl.trustStore=/etc/pki/java/server.jks -Djavax.net.ssl.trustStorePassword=xxxxx -jar build/libs/server.war`\r\n\r\nPer Rossen&#39;s answer, I changed \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\r\n\r\nto\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Configuration\r\n    public class WebSocketConfig extends DelegatingWebSocketMessageBrokerConfiguration {\r\n\r\nThen, in that `WebSocketConfig`, I provided my own `AbstractBrokerMessageHandler` bean:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Bean\r\n    public AbstractBrokerMessageHandler stompBrokerRelayMessageHandler() {\r\n        AbstractBrokerMessageHandler handler = super.stompBrokerRelayMessageHandler();\r\n        if (handler instanceof StompBrokerRelayMessageHandler) {\r\n            ((StompBrokerRelayMessageHandler) handler).setTcpClient(new Reactor2TcpClient&lt;&gt;(\r\n                    new StompTcpFactory(&quot;127.0.0.1&quot;, 61614, true)\r\n            ));\r\n        }\r\n        return handler;\r\n    }\r\n\r\nThe instanceof conditional was to simplify use of a `NoOpBrokerMessageHandler` in unit tests.\r\n\r\nAnd finally, the following is the implementation of the StompTcpFactory used above:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class StompTcpFactory implements NetStreams.TcpClientFactory&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; {\r\n\r\n        private final Environment environment = new Environment(new SynchronousDispatcherConfigReader());\r\n        private final String host;\r\n        private final int port;\r\n        private final boolean ssl;\r\n\r\n        public StompTcpFactory(String host, int port, boolean ssl) {\r\n            this.host = host;\r\n            this.port = port;\r\n            this.ssl = ssl;\r\n        }\r\n\r\n        @Override\r\n        public Spec.TcpClientSpec&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; apply(Spec.TcpClientSpec&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; tcpClientSpec) {\r\n            return tcpClientSpec\r\n                    .env(environment)\r\n                    .codec(new Reactor2StompCodec(new StompEncoder(), new StompDecoder()))\r\n                    .ssl(ssl ? new SslOptions() : null)\r\n                    .connect(host, port);\r\n        }\r\n\r\n        private static class SynchronousDispatcherConfigReader implements ConfigurationReader {\r\n            @Override\r\n            public ReactorConfiguration read() {\r\n                return new ReactorConfiguration(Collections.emptyList(), &quot;sync&quot;, new Properties());\r\n            }\r\n        }\r\n\r\n    }\r\n","title":"Spring Boot SSL TCPClient ~ StompBrokerRelayMessageHandler ~ ActiveMQ ~ Undertow","body":"<p>I needed to secure a STOMP broker relay to RabbitMQ using Spring Messaging 4.2.5 with Java 8 and found that the question's follow-up code had become outdated.</p>\n\n<p>When launching my application, I provide truststore environment properties to trust an internal self-signed certificate authority.\n<code>java -Djavax.net.ssl.trustStore=/etc/pki/java/server.jks -Djavax.net.ssl.trustStorePassword=xxxxx -jar build/libs/server.war</code></p>\n\n<p>Per Rossen's answer, I changed </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\n</code></pre>\n\n<p>to</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebSocketConfig extends DelegatingWebSocketMessageBrokerConfiguration {\n</code></pre>\n\n<p>Then, in that <code>WebSocketConfig</code>, I provided my own <code>AbstractBrokerMessageHandler</code> bean:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AbstractBrokerMessageHandler stompBrokerRelayMessageHandler() {\n    AbstractBrokerMessageHandler handler = super.stompBrokerRelayMessageHandler();\n    if (handler instanceof StompBrokerRelayMessageHandler) {\n        ((StompBrokerRelayMessageHandler) handler).setTcpClient(new Reactor2TcpClient&lt;&gt;(\n                new StompTcpFactory(\"127.0.0.1\", 61614, true)\n        ));\n    }\n    return handler;\n}\n</code></pre>\n\n<p>The instanceof conditional was to simplify use of a <code>NoOpBrokerMessageHandler</code> in unit tests.</p>\n\n<p>And finally, the following is the implementation of the StompTcpFactory used above:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class StompTcpFactory implements NetStreams.TcpClientFactory&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; {\n\n    private final Environment environment = new Environment(new SynchronousDispatcherConfigReader());\n    private final String host;\n    private final int port;\n    private final boolean ssl;\n\n    public StompTcpFactory(String host, int port, boolean ssl) {\n        this.host = host;\n        this.port = port;\n        this.ssl = ssl;\n    }\n\n    @Override\n    public Spec.TcpClientSpec&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; apply(Spec.TcpClientSpec&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; tcpClientSpec) {\n        return tcpClientSpec\n                .env(environment)\n                .codec(new Reactor2StompCodec(new StompEncoder(), new StompDecoder()))\n                .ssl(ssl ? new SslOptions() : null)\n                .connect(host, port);\n    }\n\n    private static class SynchronousDispatcherConfigReader implements ConfigurationReader {\n        @Override\n        public ReactorConfiguration read() {\n            return new ReactorConfiguration(Collections.emptyList(), \"sync\", new Properties());\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5644333,"reputation":2326,"user_id":4467001,"display_name":"Martin Choraine"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518084695,"creation_date":1517996751,"answer_id":48660544,"question_id":34334629,"body_markdown":"**@amoebob** answer is great but threads aren&#39;t close properly. Each time a connexion from client is open, a new thread is open and never closed. I discover this issue in production and spend few days to resolve it. So I suggest you to change StompTcpFactory to improve threads reuse : \r\n    \r\n    import io.netty.channel.EventLoopGroup;\r\n    import org.springframework.messaging.Message;\r\n    import org.springframework.messaging.simp.stomp.Reactor2StompCodec;\r\n    import org.springframework.messaging.simp.stomp.StompDecoder;\r\n    import org.springframework.messaging.simp.stomp.StompEncoder;\r\n    import org.springframework.messaging.tcp.reactor.Reactor2TcpClient;\r\n    import reactor.Environment;\r\n    import reactor.core.config.ReactorConfiguration;\r\n    import reactor.io.net.NetStreams;\r\n    import reactor.io.net.Spec;\r\n    import reactor.io.net.config.SslOptions;\r\n    import reactor.io.net.impl.netty.NettyClientSocketOptions;\r\n    \r\n    public class StompTcpFactory implements NetStreams.TcpClientFactory&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; {\r\n\r\n      private final Environment environment;\r\n      private final EventLoopGroup eventLoopGroup;\r\n      private final String host;\r\n      private final int port;\r\n      private final boolean ssl;\r\n\r\n      public StompTcpFactory(String host, int port, boolean ssl) {\r\n        this.host = host;\r\n        this.port = port;\r\n        this.ssl = ssl;\r\n        this.environment = new Environment(() -&gt; new ReactorConfiguration(emptyList(), &quot;sync&quot;, new Properties()));\r\n        this.eventLoopGroup = Reactor2TcpClient.initEventLoopGroup();\r\n      }\r\n\r\n      @Override\r\n      public Spec.TcpClientSpec&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; apply(Spec.TcpClientSpec&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; tcpClientSpec) {\r\n        return tcpClientSpec\r\n                .env(environment)\r\n                .options(new NettyClientSocketOptions().eventLoopGroup(eventLoopGroup))\r\n                .codec(new Reactor2StompCodec(new StompEncoder(), new StompDecoder()))\r\n                .ssl(ssl ? new SslOptions() : null)\r\n                .connect(host, port);\r\n      }\r\n\r\n    }","title":"Spring Boot SSL TCPClient ~ StompBrokerRelayMessageHandler ~ ActiveMQ ~ Undertow","body":"<p><strong>@amoebob</strong> answer is great but threads aren't close properly. Each time a connexion from client is open, a new thread is open and never closed. I discover this issue in production and spend few days to resolve it. So I suggest you to change StompTcpFactory to improve threads reuse : </p>\n\n<pre><code>import io.netty.channel.EventLoopGroup;\nimport org.springframework.messaging.Message;\nimport org.springframework.messaging.simp.stomp.Reactor2StompCodec;\nimport org.springframework.messaging.simp.stomp.StompDecoder;\nimport org.springframework.messaging.simp.stomp.StompEncoder;\nimport org.springframework.messaging.tcp.reactor.Reactor2TcpClient;\nimport reactor.Environment;\nimport reactor.core.config.ReactorConfiguration;\nimport reactor.io.net.NetStreams;\nimport reactor.io.net.Spec;\nimport reactor.io.net.config.SslOptions;\nimport reactor.io.net.impl.netty.NettyClientSocketOptions;\n\npublic class StompTcpFactory implements NetStreams.TcpClientFactory&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; {\n\n  private final Environment environment;\n  private final EventLoopGroup eventLoopGroup;\n  private final String host;\n  private final int port;\n  private final boolean ssl;\n\n  public StompTcpFactory(String host, int port, boolean ssl) {\n    this.host = host;\n    this.port = port;\n    this.ssl = ssl;\n    this.environment = new Environment(() -&gt; new ReactorConfiguration(emptyList(), \"sync\", new Properties()));\n    this.eventLoopGroup = Reactor2TcpClient.initEventLoopGroup();\n  }\n\n  @Override\n  public Spec.TcpClientSpec&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; apply(Spec.TcpClientSpec&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; tcpClientSpec) {\n    return tcpClientSpec\n            .env(environment)\n            .options(new NettyClientSocketOptions().eventLoopGroup(eventLoopGroup))\n            .codec(new Reactor2StompCodec(new StompEncoder(), new StompDecoder()))\n            .ssl(ssl ? new SslOptions() : null)\n            .connect(host, port);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6319189,"reputation":103,"user_id":4907982,"display_name":"Emtec165"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636068470,"creation_date":1625651572,"answer_id":68283751,"question_id":34334629,"body_markdown":"For everyone looking for updated solution I managed to solve the issue in cleaner way. Simply create and use own TCP client with SSL:\r\n\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.messaging.simp.config.MessageBrokerRegistry;\r\n    import org.springframework.messaging.simp.stomp.StompReactorNettyCodec;\r\n    import org.springframework.messaging.tcp.reactor.ReactorNettyTcpClient;\r\n    import org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\r\n    import org.springframework.web.socket.config.annotation.StompEndpointRegistry;\r\n    import org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    @RequiredArgsConstructor\r\n    class WebsocketConfiguration implements WebSocketMessageBrokerConfigurer {\r\n\r\n      private final WebsocketProperties properties;\r\n\r\n      @Override\r\n      public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;);\r\n        registry.addEndpoint(&quot;/ws&quot;).withSockJS();\r\n      }\r\n\r\n      @Override\r\n      public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n\r\n        ReactorNettyTcpClient&lt;byte[]&gt; tcpClient = new ReactorNettyTcpClient&lt;&gt;(configurer -&gt; configurer\r\n                .host(properties.getRelayHost())\r\n                .port(properties.getRelayPort())\r\n                .secure(), new StompReactorNettyCodec());\r\n\r\n        registry.enableStompBrokerRelay(&quot;/queue&quot;, &quot;/topic&quot;)\r\n                .setAutoStartup(true)\r\n                .setSystemLogin(properties.getClientLogin())\r\n                .setSystemPasscode(properties.getClientPasscode())\r\n                .setClientLogin(properties.getClientLogin())\r\n                .setClientPasscode(properties.getClientPasscode())\r\n                .setTcpClient(tcpClient);\r\n\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    }\r\n\r\nIn my case (slightly different) I created two implementations of `ReactorNettyTcpClient` as a Beans and depending on the environment I pick one with / without SSL.\r\n\r\nDependencies:\r\n\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n        &lt;/parent&gt;\r\n        .\r\n        .\r\n        .\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;activemq-stomp&lt;/artifactId&gt;\r\n            &lt;version&gt;5.16.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI hope anybody who&#39;s currently trying to resolve this issue find it useful.","title":"Spring Boot SSL TCPClient ~ StompBrokerRelayMessageHandler ~ ActiveMQ ~ Undertow","body":"<p>For everyone looking for updated solution I managed to solve the issue in cleaner way. Simply create and use own TCP client with SSL:</p>\n<pre><code>import lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\nimport org.springframework.messaging.simp.stomp.StompReactorNettyCodec;\nimport org.springframework.messaging.tcp.reactor.ReactorNettyTcpClient;\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\nimport org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;\n\n@Configuration\n@EnableWebSocketMessageBroker\n@RequiredArgsConstructor\nclass WebsocketConfiguration implements WebSocketMessageBrokerConfigurer {\n\n  private final WebsocketProperties properties;\n\n  @Override\n  public void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;);\n    registry.addEndpoint(&quot;/ws&quot;).withSockJS();\n  }\n\n  @Override\n  public void configureMessageBroker(MessageBrokerRegistry registry) {\n\n    ReactorNettyTcpClient&lt;byte[]&gt; tcpClient = new ReactorNettyTcpClient&lt;&gt;(configurer -&gt; configurer\n            .host(properties.getRelayHost())\n            .port(properties.getRelayPort())\n            .secure(), new StompReactorNettyCodec());\n\n    registry.enableStompBrokerRelay(&quot;/queue&quot;, &quot;/topic&quot;)\n            .setAutoStartup(true)\n            .setSystemLogin(properties.getClientLogin())\n            .setSystemPasscode(properties.getClientPasscode())\n            .setClientLogin(properties.getClientLogin())\n            .setClientPasscode(properties.getClientPasscode())\n            .setTcpClient(tcpClient);\n\n    registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n}\n</code></pre>\n<p>In my case (slightly different) I created two implementations of <code>ReactorNettyTcpClient</code> as a Beans and depending on the environment I pick one with / without SSL.</p>\n<p>Dependencies:</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    .\n    .\n    .\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;activemq-stomp&lt;/artifactId&gt;\n        &lt;version&gt;5.16.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\n        &lt;version&gt;1.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I hope anybody who's currently trying to resolve this issue find it useful.</p>\n"}],"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5783,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":34337731,"answer_count":4,"score":8,"last_activity_date":1636068470,"creation_date":1450355363,"question_id":34334629,"body_markdown":"I&#39;m attempting to build a websocket messaging app based on the [Spring Websocket Demo](http://spring.io/guides/gs/messaging-stomp-websocket/) running [ActiveMQ](http://activemq.apache.org/) as the STOMP message broker with [Undertow](http://undertow.io/). The application runs fine on insecure connections.  However, I&#39;m having difficulty configuring the [STOMP Broker Relay](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html#websocket-stomp-handle-broker-relay-configure) to forward with SSL connections. \r\n\r\nAs mentioned in the Spring WebSocket Docs... \r\n\r\n&gt;The &quot;STOMP broker relay&quot; in the above configuration is a Spring MessageHandler that handles messages by forwarding them to an external message broker. To do so it establishes TCP connections to the broker, forwards all messages to it, and then forwards all messages received from the broker to clients through their WebSocket sessions. Essentially it acts as a &quot;relay&quot; that forwards messages in both directions.\r\n\r\nFurther, the docs state a dependency on [reactor-net](https://github.com/reactor/reactor) which I have... \r\n\r\n&gt;Please add a dependency on org.projectreactor:reactor-net for TCP connection management.\r\n\r\nThe issue is that my current implementation doesn&#39;t initialize the [NettyTCPClient](https://github.com/reactor/reactor/blob/v2.0.7.RELEASE/reactor-net/src/main/java/reactor/io/net/impl/netty/tcp/NettyTcpClient.java) via SSL so the ActiveMQ connection fails with an SSLException.\r\n \r\n---\r\n    [r.i.n.i.n.t.NettyTcpClient:307] &#187; CONNECTED: \r\n    [id: 0xcfef39e9, /127.0.0.1:17779 =&gt; localhost/127.0.0.1:8442]\r\n    ...\r\n    [o.a.a.b.TransportConnection.Transport:245] &#187; \r\n    Transport Connection to: tcp://127.0.0.1:17779 failed:\r\n    javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\r\n    ...\r\n\r\nAs such I&#39;ve attempted to research the [Project Reactor Docs](https://github.com/reactor/reactor) to set SSL options for the connection but I haven&#39;t been successful. \r\n\r\nAt this point I&#39;ve found the [StompBrokerRelayMessageHandler](https://github.com/spring-projects/spring-framework/blob/master/spring-messaging/src/main/java/org/springframework/messaging/simp/stomp/StompBrokerRelayMessageHandler.java) initializes the [NettyTCPClient](https://github.com/reactor/reactor/blob/v2.0.7.RELEASE/reactor-net/src/main/java/reactor/io/net/impl/netty/tcp/NettyTcpClient.java) by default in [Reactor2TcpClient](https://github.com/spring-projects/spring-framework/blob/master/spring-messaging/src/main/java/org/springframework/messaging/simp/stomp/StompBrokerRelayMessageHandler.java#L957) yet, it doesn&#39;t appear to configurable.\r\n\r\nAssistance would be greatly appreciated.\r\n\r\n*SSCCE*\r\n\r\n---\r\n\r\n&gt;app.props\r\n\r\n    spring.activemq.in-memory=true\r\n    spring.activemq.pooled=false\r\n    spring.activemq.broker-url=stomp+ssl://localhost:8442\r\n    server.port=8443\r\n    server.ssl.enabled=true\r\n    server.ssl.protocol=tls\r\n    server.ssl.key-alias=undertow\r\n    server.ssl.key-store=classpath:undertow.jks\r\n    server.ssl.key-store-password=xxx\r\n    server.ssl.trust-store=classpath:undertow_certs.jks\r\n    server.ssl.trust-store-password=xxx\r\n\r\n&gt;WebSocketConfig\r\n\r\n    //... \r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(WebSocketConfig.class);\r\n    \r\n        private final static String KEYSTORE = &quot;/activemq.jks&quot;;\r\n        private final static String KEYSTORE_PASS = &quot;xxx&quot;;\r\n        private final static String KEYSTORE_TYPE = &quot;JKS&quot;;\r\n        private final static String TRUSTSTORE = &quot;/activemq_certs.jks&quot;;\r\n        private final static String TRUSTSTORE_PASS = &quot;xxx&quot;;\r\n    \r\n        private static String getBindLocation() {\r\n            return &quot;stomp+ssl://localhost:8442?transport.needClientAuth=false&quot;;\r\n        }\r\n    \r\n        @Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\r\n        public SslBrokerService activeMQBroker() throws Exception {\r\n    \r\n            final SslBrokerService service = new SslBrokerService();\r\n            service.setPersistent(false);\r\n    \r\n            KeyManager[] km = SecurityManager.getKeyManager();\r\n            TrustManager[] tm = SecurityManager.getTrustManager();\r\n    \r\n            service.addSslConnector(getBindLocation(), km, tm, null);\r\n            final ActiveMQTopic topic = new ActiveMQTopic(&quot;jms.topic.test&quot;);\r\n            service.setDestinations(new ActiveMQDestination[]{topic});\r\n    \r\n            return service;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n            config.enableStompBrokerRelay(&quot;/topic&quot;).setRelayHost(&quot;localhost&quot;).setRelayPort(8442);\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/welcome&quot;).withSockJS();\r\n            registry.addEndpoint(&quot;/test&quot;).withSockJS();\r\n        }\r\n    \r\n       private static class SecurityManager { \r\n       //elided...\r\n       }\r\n                \r\n    }\r\n\r\n&gt; SOLVED Per [Rossens](https://stackoverflow.com/users/480980/rossen-stoyanchev) Advice. Here&#39;s the implementation details for anyone interested.\r\n\r\n---\r\n\r\n&gt; WebSocketConfig \r\n\r\n    @Configuration\r\n    public class WebSocketConfig extends DelegatingWebSocketMessageBrokerConfiguration {\r\n\t\t...\r\n    \t@Bean\r\n\t    public AbstractBrokerMessageHandler stompBrokerRelayMessageHandler() {\r\n\t      StompBrokerRelayMessageHandler handler = (StompBrokerRelayMessageHandler) super.stompBrokerRelayMessageHandler();\r\n\t      ConfigurationReader reader = new StompClientDispatcherConfigReader();\r\n\t      Environment environment = new Environment(reader).assignErrorJournal();\r\n\t      TcpOperations&lt;byte[]&gt; client = new Reactor2TcpClient&lt;&gt;(new StompTcpClientSpecFactory(environment,&quot;localhost&quot;, 8443));\r\n\t      handler.setTcpClient(client);\r\n\t      return handler;\r\n        }\r\n    }\r\n\r\n       \r\n\r\n&gt; StompTCPClientSpecFactory\r\n\r\n    private static class StompTcpClientSpecFactory\r\n            implements NetStreams.TcpClientFactory&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; {\r\n\r\n        private static final Logger log = LoggerFactory.getLogger(StompTcpClientSpecFactory.class);\r\n\r\n        private final String host;\r\n        private final int port;\r\n        private final String KEYSTORE = &quot;src/main/resources/tcpclient.jks&quot;;\r\n        private final String KEYSTORE_PASS = &quot;xxx&quot;;\r\n        private final String KEYSTORE_TYPE = &quot;JKS&quot;;\r\n        private final String TRUSTSTORE = &quot;/src/main/resources/tcpclient_certs.jks&quot;;\r\n        private final String TRUSTSTORE_PASS = &quot;xxx&quot;;\r\n        private final String TRUSTSTORE_TYPE = &quot;JKS&quot;;\r\n        private final Environment environment;\r\n\r\n        private final SecurityManager tcpManager = new SecurityManager\r\n                .SSLBuilder(KEYSTORE, KEYSTORE_PASS)\r\n                .keyStoreType(KEYSTORE_TYPE)\r\n                .trustStore(TRUSTSTORE, TRUSTSTORE_PASS)\r\n                .trustStoreType(TRUSTSTORE_TYPE)\r\n                .build();\r\n\r\n        public StompTcpClientSpecFactory(Environment environment, String host, int port) {\r\n            this.environment = environment;\r\n            this.host = host;\r\n            this.port = port;\r\n        }\r\n\r\n        @Override\r\n        public Spec.TcpClientSpec&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; apply(\r\n                Spec.TcpClientSpec&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; tcpClientSpec) {\r\n\r\n            return tcpClientSpec\r\n                    .ssl(new SslOptions()\r\n                            .sslProtocol(&quot;TLS&quot;)\r\n                            .keystoreFile(tcpManager.getKeyStore())\r\n                            .keystorePasswd(tcpManager.getKeyStorePass())\r\n                            .trustManagers(tcpManager::getTrustManager)\r\n                            .trustManagerPasswd(tcpManager.getTrustStorePass()))\r\n                    .codec(new Reactor2StompCodec(new StompEncoder(), new StompDecoder()))\r\n                    .env(this.environment)\r\n                    .dispatcher(this.environment.getCachedDispatchers(&quot;StompClient&quot;).get())\r\n                    .connect(this.host, this.port);\r\n        }\r\n    }","title":"Spring Boot SSL TCPClient ~ StompBrokerRelayMessageHandler ~ ActiveMQ ~ Undertow","body":"<p>I'm attempting to build a websocket messaging app based on the <a href=\"http://spring.io/guides/gs/messaging-stomp-websocket/\" rel=\"noreferrer\">Spring Websocket Demo</a> running <a href=\"http://activemq.apache.org/\" rel=\"noreferrer\">ActiveMQ</a> as the STOMP message broker with <a href=\"http://undertow.io/\" rel=\"noreferrer\">Undertow</a>. The application runs fine on insecure connections.  However, I'm having difficulty configuring the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html#websocket-stomp-handle-broker-relay-configure\" rel=\"noreferrer\">STOMP Broker Relay</a> to forward with SSL connections. </p>\n\n<p>As mentioned in the Spring WebSocket Docs... </p>\n\n<blockquote>\n  <p>The \"STOMP broker relay\" in the above configuration is a Spring MessageHandler that handles messages by forwarding them to an external message broker. To do so it establishes TCP connections to the broker, forwards all messages to it, and then forwards all messages received from the broker to clients through their WebSocket sessions. Essentially it acts as a \"relay\" that forwards messages in both directions.</p>\n</blockquote>\n\n<p>Further, the docs state a dependency on <a href=\"https://github.com/reactor/reactor\" rel=\"noreferrer\">reactor-net</a> which I have... </p>\n\n<blockquote>\n  <p>Please add a dependency on org.projectreactor:reactor-net for TCP connection management.</p>\n</blockquote>\n\n<p>The issue is that my current implementation doesn't initialize the <a href=\"https://github.com/reactor/reactor/blob/v2.0.7.RELEASE/reactor-net/src/main/java/reactor/io/net/impl/netty/tcp/NettyTcpClient.java\" rel=\"noreferrer\">NettyTCPClient</a> via SSL so the ActiveMQ connection fails with an SSLException.</p>\n\n<hr>\n\n<pre><code>[r.i.n.i.n.t.NettyTcpClient:307] » CONNECTED: \n[id: 0xcfef39e9, /127.0.0.1:17779 =&gt; localhost/127.0.0.1:8442]\n...\n[o.a.a.b.TransportConnection.Transport:245] » \nTransport Connection to: tcp://127.0.0.1:17779 failed:\njavax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?\n...\n</code></pre>\n\n<p>As such I've attempted to research the <a href=\"https://github.com/reactor/reactor\" rel=\"noreferrer\">Project Reactor Docs</a> to set SSL options for the connection but I haven't been successful. </p>\n\n<p>At this point I've found the <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-messaging/src/main/java/org/springframework/messaging/simp/stomp/StompBrokerRelayMessageHandler.java\" rel=\"noreferrer\">StompBrokerRelayMessageHandler</a> initializes the <a href=\"https://github.com/reactor/reactor/blob/v2.0.7.RELEASE/reactor-net/src/main/java/reactor/io/net/impl/netty/tcp/NettyTcpClient.java\" rel=\"noreferrer\">NettyTCPClient</a> by default in <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-messaging/src/main/java/org/springframework/messaging/simp/stomp/StompBrokerRelayMessageHandler.java#L957\" rel=\"noreferrer\">Reactor2TcpClient</a> yet, it doesn't appear to configurable.</p>\n\n<p>Assistance would be greatly appreciated.</p>\n\n<p><em>SSCCE</em></p>\n\n<hr>\n\n<blockquote>\n  <p>app.props</p>\n</blockquote>\n\n<pre><code>spring.activemq.in-memory=true\nspring.activemq.pooled=false\nspring.activemq.broker-url=stomp+ssl://localhost:8442\nserver.port=8443\nserver.ssl.enabled=true\nserver.ssl.protocol=tls\nserver.ssl.key-alias=undertow\nserver.ssl.key-store=classpath:undertow.jks\nserver.ssl.key-store-password=xxx\nserver.ssl.trust-store=classpath:undertow_certs.jks\nserver.ssl.trust-store-password=xxx\n</code></pre>\n\n<blockquote>\n  <p>WebSocketConfig</p>\n</blockquote>\n\n<pre><code>//... \n@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\n\n    private static final Logger log = LoggerFactory.getLogger(WebSocketConfig.class);\n\n    private final static String KEYSTORE = \"/activemq.jks\";\n    private final static String KEYSTORE_PASS = \"xxx\";\n    private final static String KEYSTORE_TYPE = \"JKS\";\n    private final static String TRUSTSTORE = \"/activemq_certs.jks\";\n    private final static String TRUSTSTORE_PASS = \"xxx\";\n\n    private static String getBindLocation() {\n        return \"stomp+ssl://localhost:8442?transport.needClientAuth=false\";\n    }\n\n    @Bean(initMethod = \"start\", destroyMethod = \"stop\")\n    public SslBrokerService activeMQBroker() throws Exception {\n\n        final SslBrokerService service = new SslBrokerService();\n        service.setPersistent(false);\n\n        KeyManager[] km = SecurityManager.getKeyManager();\n        TrustManager[] tm = SecurityManager.getTrustManager();\n\n        service.addSslConnector(getBindLocation(), km, tm, null);\n        final ActiveMQTopic topic = new ActiveMQTopic(\"jms.topic.test\");\n        service.setDestinations(new ActiveMQDestination[]{topic});\n\n        return service;\n    }\n\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableStompBrokerRelay(\"/topic\").setRelayHost(\"localhost\").setRelayPort(8442);\n        config.setApplicationDestinationPrefixes(\"/app\");\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(\"/welcome\").withSockJS();\n        registry.addEndpoint(\"/test\").withSockJS();\n    }\n\n   private static class SecurityManager { \n   //elided...\n   }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>SOLVED Per <a href=\"https://stackoverflow.com/users/480980/rossen-stoyanchev\">Rossens</a> Advice. Here's the implementation details for anyone interested.</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>WebSocketConfig </p>\n</blockquote>\n\n<pre><code>@Configuration\npublic class WebSocketConfig extends DelegatingWebSocketMessageBrokerConfiguration {\n    ...\n    @Bean\n    public AbstractBrokerMessageHandler stompBrokerRelayMessageHandler() {\n      StompBrokerRelayMessageHandler handler = (StompBrokerRelayMessageHandler) super.stompBrokerRelayMessageHandler();\n      ConfigurationReader reader = new StompClientDispatcherConfigReader();\n      Environment environment = new Environment(reader).assignErrorJournal();\n      TcpOperations&lt;byte[]&gt; client = new Reactor2TcpClient&lt;&gt;(new StompTcpClientSpecFactory(environment,\"localhost\", 8443));\n      handler.setTcpClient(client);\n      return handler;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>StompTCPClientSpecFactory</p>\n</blockquote>\n\n<pre><code>private static class StompTcpClientSpecFactory\n        implements NetStreams.TcpClientFactory&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; {\n\n    private static final Logger log = LoggerFactory.getLogger(StompTcpClientSpecFactory.class);\n\n    private final String host;\n    private final int port;\n    private final String KEYSTORE = \"src/main/resources/tcpclient.jks\";\n    private final String KEYSTORE_PASS = \"xxx\";\n    private final String KEYSTORE_TYPE = \"JKS\";\n    private final String TRUSTSTORE = \"/src/main/resources/tcpclient_certs.jks\";\n    private final String TRUSTSTORE_PASS = \"xxx\";\n    private final String TRUSTSTORE_TYPE = \"JKS\";\n    private final Environment environment;\n\n    private final SecurityManager tcpManager = new SecurityManager\n            .SSLBuilder(KEYSTORE, KEYSTORE_PASS)\n            .keyStoreType(KEYSTORE_TYPE)\n            .trustStore(TRUSTSTORE, TRUSTSTORE_PASS)\n            .trustStoreType(TRUSTSTORE_TYPE)\n            .build();\n\n    public StompTcpClientSpecFactory(Environment environment, String host, int port) {\n        this.environment = environment;\n        this.host = host;\n        this.port = port;\n    }\n\n    @Override\n    public Spec.TcpClientSpec&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; apply(\n            Spec.TcpClientSpec&lt;Message&lt;byte[]&gt;, Message&lt;byte[]&gt;&gt; tcpClientSpec) {\n\n        return tcpClientSpec\n                .ssl(new SslOptions()\n                        .sslProtocol(\"TLS\")\n                        .keystoreFile(tcpManager.getKeyStore())\n                        .keystorePasswd(tcpManager.getKeyStorePass())\n                        .trustManagers(tcpManager::getTrustManager)\n                        .trustManagerPasswd(tcpManager.getTrustStorePass()))\n                .codec(new Reactor2StompCodec(new StompEncoder(), new StompDecoder()))\n                .env(this.environment)\n                .dispatcher(this.environment.getCachedDispatchers(\"StompClient\").get())\n                .connect(this.host, this.port);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":14407093,"reputation":1218,"user_id":10406881,"display_name":"Yasan Glass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636067951,"creation_date":1636067951,"answer_id":69846939,"question_id":69844809,"body_markdown":"All repeating alarms are **inexact** in order not to easily let developers abuse them.\r\n\r\nIf you want the action to be done in that exact time you need to use one-time alarms. To make them &quot;repeating&quot; you need to schedule the first one initially and always schedule the next one once the alarm is fired.\r\n\r\nAlthough your issue might be due to this plus some other issue.\r\n\r\nExact alarms should only be used for extremely important tasks so I suggest considering using WorkManager so you don&#39;t affect the battery of the device as much.\r\n\r\n","title":"Alarm manager executing after every app lauch instead of set period","body":"<p>All repeating alarms are <strong>inexact</strong> in order not to easily let developers abuse them.</p>\n<p>If you want the action to be done in that exact time you need to use one-time alarms. To make them &quot;repeating&quot; you need to schedule the first one initially and always schedule the next one once the alarm is fired.</p>\n<p>Although your issue might be due to this plus some other issue.</p>\n<p>Exact alarms should only be used for extremely important tasks so I suggest considering using WorkManager so you don't affect the battery of the device as much.</p>\n"}],"owner":{"account_id":23241671,"reputation":1,"user_id":17330886,"display_name":"piotrolinek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636067951,"creation_date":1636054092,"question_id":69844809,"body_markdown":"I&#39;ve set an alarm manager to download web content every 24h at 10:40am but apart from executing at proper time, apparently it launches few seconds after successfully running the app. I want this to run exclusively at the set time.\r\n\r\n```\r\n@Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        currentUser = mAuth.getCurrentUser();\r\n\r\n        DownloadTask task = new DownloadTask();\r\n        task.execute(&quot;https://api.apify.com/v2/key-value-stores/3Po6TV7wTht4vIEid/records/LATEST?disableRedirect=true&quot;);\r\n        String contentText = &quot;Nowe zakażenia: &quot; +infectionsInfo+ &quot; Nowe śmierci: &quot;+deathsInfo;\r\n\r\n\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;notifyLemubit1&quot;)\r\n                .setSmallIcon(R.drawable.unnamed)\r\n                .setContentTitle(&quot;Punkty zostały przyznane!&quot;)\r\n                .setContentText(contentText)\r\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT);\r\n\r\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\r\n        notificationManager.notify(200, builder.build());\r\n```\r\n\r\nand\r\n\r\n```Calendar calendar1 = Calendar.getInstance();\r\n        calendar1.set(Calendar.HOUR_OF_DAY,10);\r\n        calendar1.set(Calendar.MINUTE,40);\r\n        Intent intent1 = new Intent(MenuActivity.this, PointsBroadcast.class);\r\n        PendingIntent pendingIntent1 = PendingIntent.getBroadcast(MenuActivity.this, 0, intent1, 0);\r\n        AlarmManager alarmManager1 = (AlarmManager)getSystemService(ALARM_SERVICE);\r\n        alarmManager1.setRepeating(AlarmManager.RTC_WAKEUP,calendar1.getTimeInMillis(),AlarmManager.INTERVAL_DAY, pendingIntent1);```","title":"Alarm manager executing after every app lauch instead of set period","body":"<p>I've set an alarm manager to download web content every 24h at 10:40am but apart from executing at proper time, apparently it launches few seconds after successfully running the app. I want this to run exclusively at the set time.</p>\n<pre><code>@Override\n    public void onReceive(Context context, Intent intent) {\n\n        mAuth = FirebaseAuth.getInstance();\n        currentUser = mAuth.getCurrentUser();\n\n        DownloadTask task = new DownloadTask();\n        task.execute(&quot;https://api.apify.com/v2/key-value-stores/3Po6TV7wTht4vIEid/records/LATEST?disableRedirect=true&quot;);\n        String contentText = &quot;Nowe zakażenia: &quot; +infectionsInfo+ &quot; Nowe śmierci: &quot;+deathsInfo;\n\n\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, &quot;notifyLemubit1&quot;)\n                .setSmallIcon(R.drawable.unnamed)\n                .setContentTitle(&quot;Punkty zostały przyznane!&quot;)\n                .setContentText(contentText)\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT);\n\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\n        notificationManager.notify(200, builder.build());\n</code></pre>\n<p>and</p>\n<pre><code>        calendar1.set(Calendar.HOUR_OF_DAY,10);\n        calendar1.set(Calendar.MINUTE,40);\n        Intent intent1 = new Intent(MenuActivity.this, PointsBroadcast.class);\n        PendingIntent pendingIntent1 = PendingIntent.getBroadcast(MenuActivity.this, 0, intent1, 0);\n        AlarmManager alarmManager1 = (AlarmManager)getSystemService(ALARM_SERVICE);\n        alarmManager1.setRepeating(AlarmManager.RTC_WAKEUP,calendar1.getTimeInMillis(),AlarmManager.INTERVAL_DAY, pendingIntent1);```\n</code></pre>\n"},{"tags":["java","spring","maven","package","spring-restcontroller"],"comments":[{"owner":{"account_id":1248144,"reputation":4402,"user_id":1209159,"accept_rate":36,"display_name":"Natalia"},"score":0,"creation_date":1444398013,"post_id":33039774,"comment_id":53900311,"body_markdown":"Please, add spring context.xml","body":"Please, add spring context.xml"},{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":1,"creation_date":1444398179,"post_id":33039774,"comment_id":53900420,"body_markdown":"My guess is you have defined a component scan for the package `com.person` but not for other packages.","body":"My guess is you have defined a component scan for the package <code>com.person</code> but not for other packages."},{"owner":{"account_id":4562717,"reputation":1503,"user_id":3704587,"accept_rate":97,"display_name":"CeZet"},"score":0,"creation_date":1444398313,"post_id":33039774,"comment_id":53900513,"body_markdown":"Where I can define a component scan for other pakcage ?","body":"Where I can define a component scan for other pakcage ?"},{"owner":{"account_id":4556100,"reputation":3497,"user_id":3699808,"accept_rate":83,"display_name":"mhlz"},"score":0,"creation_date":1444399048,"post_id":33039774,"comment_id":53901041,"body_markdown":"Are you using spring-boot? Are you using xml configuration or annotation configuration?","body":"Are you using spring-boot? Are you using xml configuration or annotation configuration?"},{"owner":{"account_id":4562717,"reputation":1503,"user_id":3704587,"accept_rate":97,"display_name":"CeZet"},"score":1,"creation_date":1444399301,"post_id":33039774,"comment_id":53901224,"body_markdown":"Yes, I&#39;m using spring-boot. My configuration is on `pom.xml`","body":"Yes, I&#39;m using spring-boot. My configuration is on <code>pom.xml</code>"},{"owner":{"account_id":4673634,"reputation":1338,"user_id":3784768,"display_name":"Denys"},"score":0,"creation_date":1518815618,"post_id":33039774,"comment_id":84674488,"body_markdown":"Should work with SpringBoot","body":"Should work with SpringBoot"}],"answers":[{"tags":[],"owner":{"account_id":7068611,"reputation":190,"user_id":5411068,"display_name":"spm"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1444400122,"creation_date":1444399547,"answer_id":33040356,"question_id":33039774,"body_markdown":"Using a `@SpringBootApplication` annotation is equivalent to using `@Configuration`, `@EnableAutoConfiguration` and `@ComponentScan`.\r\n\r\nFrom the documentation:\r\n\r\n&gt; ComponentScan configures component scanning directives for use with\r\n&gt; @Configuration classes. Provides support parallel with Spring XML&#39;s\r\n&gt; element.\r\n&gt; \r\n&gt; One of basePackageClasses(), basePackages() or its alias value() may\r\n&gt; be specified to define specific packages to scan. If specific packages\r\n&gt; are not defined scanning will occur from the package of the class with\r\n&gt; this annotation.\r\n\r\nYou can either move it as you did or specify `basePackages` in `@ComponentScan`.","title":"@RestController in other package doesn&#39;t work","body":"<p>Using a <code>@SpringBootApplication</code> annotation is equivalent to using <code>@Configuration</code>, <code>@EnableAutoConfiguration</code> and <code>@ComponentScan</code>.</p>\n\n<p>From the documentation:</p>\n\n<blockquote>\n  <p>ComponentScan configures component scanning directives for use with\n  @Configuration classes. Provides support parallel with Spring XML's\n  element.</p>\n  \n  <p>One of basePackageClasses(), basePackages() or its alias value() may\n  be specified to define specific packages to scan. If specific packages\n  are not defined scanning will occur from the package of the class with\n  this annotation.</p>\n</blockquote>\n\n<p>You can either move it as you did or specify <code>basePackages</code> in <code>@ComponentScan</code>.</p>\n"},{"tags":[],"owner":{"account_id":7047892,"reputation":2457,"user_id":5398113,"display_name":"question_maven_com"},"down_vote_count":1,"up_vote_count":86,"is_accepted":true,"score":85,"last_activity_date":1517995851,"creation_date":1444399992,"answer_id":33040518,"question_id":33039774,"body_markdown":"Use basePackages:\r\n\r\n    @ComponentScan(basePackages = { &quot;com.person&quot;,&quot;com.controller&quot;} )","title":"@RestController in other package doesn&#39;t work","body":"<p>Use basePackages:</p>\n\n<pre><code>@ComponentScan(basePackages = { \"com.person\",\"com.controller\"} )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9490452,"reputation":41,"user_id":7055481,"display_name":"Adimax"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492735926,"creation_date":1492714006,"answer_id":43527534,"question_id":33039774,"body_markdown":"We can use `@ComponentScan (basePackages = {&quot;include your package name here&quot;})`.\r\n\r\n\r\nAlso if you have some common package naming format, then we can include just common part of package name with `*` like `@ComponentScan(basePackages = { &quot;com.*&quot;}`, so that all packages having that common package name will get scanned.","title":"@RestController in other package doesn&#39;t work","body":"<p>We can use <code>@ComponentScan (basePackages = {\"include your package name here\"})</code>.</p>\n\n<p>Also if you have some common package naming format, then we can include just common part of package name with <code>*</code> like <code>@ComponentScan(basePackages = { \"com.*\"}</code>, so that all packages having that common package name will get scanned.</p>\n"},{"tags":[],"owner":{"account_id":8844348,"reputation":458,"user_id":6605673,"accept_rate":60,"display_name":"DevRj"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1501530998,"creation_date":1501530598,"answer_id":45424197,"question_id":33039774,"body_markdown":"I had the same problem the answers provided here worked for me but i had to add another spring annotation and it&#39;s more general in case dealing with a lot of repositories.\r\nWe have the following structure :\r\n\r\n     |-src/main/java\r\n        |--com.person \r\n           |--repositories\r\n           |--controllers\r\n           |--...\r\nThis then should be added in th main \r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.person&quot;}) \r\n    @EnableMongoRepositories(basePackages = &quot;com.person.repositories&quot;)\r\n    public class MainDemoApplication { //\r\n    }","title":"@RestController in other package doesn&#39;t work","body":"<p>I had the same problem the answers provided here worked for me but i had to add another spring annotation and it's more general in case dealing with a lot of repositories.\nWe have the following structure :</p>\n\n<pre><code> |-src/main/java\n    |--com.person \n       |--repositories\n       |--controllers\n       |--...\n</code></pre>\n\n<p>This then should be added in th main </p>\n\n<pre><code>@SpringBootApplication(scanBasePackages = {\"com.person\"}) \n@EnableMongoRepositories(basePackages = \"com.person.repositories\")\npublic class MainDemoApplication { //\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4673634,"reputation":1338,"user_id":3784768,"display_name":"Denys"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518815341,"creation_date":1518815341,"answer_id":48834889,"question_id":33039774,"body_markdown":"I had the same problem but suddenly found that my Application.java class (the class with main method and @SpringBootApplication annotation) located in different but parallel package with @Controller class. \r\n\r\nThe thing is that Application.java class should be in same or on top of all other packages, then we don&#39;t need any @ComponentScan and all beans will be scanned automatically. For example: if Application.java located in com.person and all application beans located in com.person, then it will work without @ComponentScan.","title":"@RestController in other package doesn&#39;t work","body":"<p>I had the same problem but suddenly found that my Application.java class (the class with main method and @SpringBootApplication annotation) located in different but parallel package with @Controller class. </p>\n\n<p>The thing is that Application.java class should be in same or on top of all other packages, then we don't need any @ComponentScan and all beans will be scanned automatically. For example: if Application.java located in com.person and all application beans located in com.person, then it will work without @ComponentScan.</p>\n"},{"tags":[],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535650516,"creation_date":1535650516,"answer_id":52102621,"question_id":33039774,"body_markdown":"As the one who has struggled with the issue, if you found provided solution didn&#39;t work.   \r\nPlease check whether you put source files at the root level directly, for instance,   \r\n`src\\main\\java\\xxx.java`\r\n\r\nIt has negative effect to project but I don&#39;t know the root cause. Anyway,\r\n\r\nPlease put source files to at least a self-created package like:\r\n`src\\main\\java\\pack1\\xxx.java`\r\n\r\nTry other settings again. It did solve my problem.","title":"@RestController in other package doesn&#39;t work","body":"<p>As the one who has struggled with the issue, if you found provided solution didn't work.<br>\nPlease check whether you put source files at the root level directly, for instance,<br>\n<code>src\\main\\java\\xxx.java</code></p>\n\n<p>It has negative effect to project but I don't know the root cause. Anyway,</p>\n\n<p>Please put source files to at least a self-created package like:\n<code>src\\main\\java\\pack1\\xxx.java</code></p>\n\n<p>Try other settings again. It did solve my problem.</p>\n"},{"tags":[],"owner":{"account_id":7758999,"reputation":2006,"user_id":5872337,"display_name":"Geet Thakur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544088418,"creation_date":1544088418,"answer_id":53648183,"question_id":33039774,"body_markdown":"You just only define a package name in **@ComponentScan**\r\nlike : \r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;com.project.pck_name&quot;})\r\n    public class MainClassHome {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(MainClassHome.class, args);\r\n    \t}\r\n    }\r\n\r\nand update project after that:- **right click on Your project -&gt; maven -&gt; update project**","title":"@RestController in other package doesn&#39;t work","body":"<p>You just only define a package name in <strong>@ComponentScan</strong>\nlike : </p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan({\"com.project.pck_name\"})\npublic class MainClassHome {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainClassHome.class, args);\n    }\n}\n</code></pre>\n\n<p>and update project after that:- <strong>right click on Your project -> maven -> update project</strong></p>\n"},{"tags":[],"owner":{"account_id":12517794,"reputation":58,"user_id":9110305,"display_name":"Akash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555692382,"creation_date":1555692382,"answer_id":55765085,"question_id":33039774,"body_markdown":"Instead of using ComponentsScan, we can use @Import.\r\n````\r\n@Configuration\r\n\r\n@Import({PersonController.class})\r\n\r\npublic class MainClassHome {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MainClassHome.class, args);\r\n    }\r\n}\r\n````","title":"@RestController in other package doesn&#39;t work","body":"<p>Instead of using ComponentsScan, we can use @Import.</p>\n\n<pre><code>@Configuration\n\n@Import({PersonController.class})\n\npublic class MainClassHome {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainClassHome.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13344550,"reputation":1481,"user_id":9631728,"display_name":"Shirantha Madusanka"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1565787176,"creation_date":1565787176,"answer_id":57495122,"question_id":33039774,"body_markdown":"Assuming the main method is in the package called com.setech.app and a controller is in a package called com.setech.controller.\r\n\r\nFor spring-boot 1.3.x upwards try this by adding &quot;scanBasePackages&quot; like this.\r\n\r\n    @SpringBootApplication(scanBasePackages = { &quot;com.setech&quot;} )\r\n    public class ResttanslatorApplication {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            SpringApplication.run(ResttanslatorApplication.class, args);\r\n        }\r\n   }\r\n\r\nCredit goes to Kamil Wozniak from [here][1].\r\n\r\n\r\n  [1]: https://smarterco.de/java-spring-boot-mvc-ontroller-not-called/","title":"@RestController in other package doesn&#39;t work","body":"<p>Assuming the main method is in the package called com.setech.app and a controller is in a package called com.setech.controller.</p>\n\n<p>For spring-boot 1.3.x upwards try this by adding \"scanBasePackages\" like this.</p>\n\n<pre><code>@SpringBootApplication(scanBasePackages = { \"com.setech\"} )\npublic class ResttanslatorApplication {\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(ResttanslatorApplication.class, args);\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Credit goes to Kamil Wozniak from <a href=\"https://smarterco.de/java-spring-boot-mvc-ontroller-not-called/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":990774,"reputation":35,"user_id":6274899,"display_name":"andy65007"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586423355,"creation_date":1586423355,"answer_id":61117644,"question_id":33039774,"body_markdown":"For Maven Case: if you put the controller in another different sub-module(not same as main class), you should add dependency in pom.xml.","title":"@RestController in other package doesn&#39;t work","body":"<p>For Maven Case: if you put the controller in another different sub-module(not same as main class), you should add dependency in pom.xml.</p>\n"},{"tags":[],"owner":{"account_id":13504124,"reputation":139,"user_id":9742752,"display_name":"Chakri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600153248,"creation_date":1600153248,"answer_id":63896690,"question_id":33039774,"body_markdown":"Moving the Springbootapplication(application.java) file to another package resolved the issue for me. Keep it separate from the controllers and repositories. You can use any number of packages and have multiple controllers.But use `@ComponenScan(basePackages={&quot; &quot;,&quot; &quot;})` and mention all the packages.\r\n\r\nAlso, you may face this issue `Consider defining a bean of type..` click [here](https://stackoverflow.com/questions/40384056/consider-defining-a-bean-of-type-package-in-your-configuration-spring-boot/)!","title":"@RestController in other package doesn&#39;t work","body":"<p>Moving the Springbootapplication(application.java) file to another package resolved the issue for me. Keep it separate from the controllers and repositories. You can use any number of packages and have multiple controllers.But use <code>@ComponenScan(basePackages={&quot; &quot;,&quot; &quot;})</code> and mention all the packages.</p>\n<p>Also, you may face this issue <code>Consider defining a bean of type..</code> click <a href=\"https://stackoverflow.com/questions/40384056/consider-defining-a-bean-of-type-package-in-your-configuration-spring-boot/\">here</a>!</p>\n"},{"tags":[],"owner":{"account_id":5562424,"reputation":1023,"user_id":4411047,"display_name":"Roland Roos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636067802,"creation_date":1636067802,"answer_id":69846923,"question_id":33039774,"body_markdown":"I find, that if you put the Controller classes in a separate jar, @Componentscan does not find the @RestControllers.\r\nHowever, @SpringBootApplication(scanBasePackages =..\r\ndoes that trick much better.\r\nI used release train springboot spring-cloud-starter-parent, Greenwich.SR4\r\nThis resolves to spring boot 2.1.10.Release\r\nSo, in this release, @SpringBootApplication &lt;&gt; @Componentscan behaviour on that matter. ","title":"@RestController in other package doesn&#39;t work","body":"<p>I find, that if you put the Controller classes in a separate jar, @Componentscan does not find the @RestControllers.\nHowever, @SpringBootApplication(scanBasePackages =..\ndoes that trick much better.\nI used release train springboot spring-cloud-starter-parent, Greenwich.SR4\nThis resolves to spring boot 2.1.10.Release\nSo, in this release, @SpringBootApplication &lt;&gt; @Componentscan behaviour on that matter.</p>\n"}],"owner":{"account_id":4562717,"reputation":1503,"user_id":3704587,"accept_rate":97,"display_name":"CeZet"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46583,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":33040518,"answer_count":12,"score":39,"last_activity_date":1636067802,"creation_date":1444397935,"question_id":33039774,"body_markdown":"I start with learning Spring and I create basic project which creates database, insert values and next print it in web browser. \r\nMy problem is that when I have RestController in the same package like main class - its OK, but I want distribute it to other package and when I create new package, move the RestController it doesn&#39;t work. Let met explain:\r\n \r\n My project looks like:\r\n\r\n              |-Springtestv_01\r\n                |-src/main/java\r\n                  |--com.person &lt;-- it&#39;s a main package\r\n                     |-Main.java\r\n                     |-Person.java\r\n                     |-PersonLineRunner.java\r\n                     |-PersonRepository.java\r\n                     |-PersonController.java\r\n                  |-com.controller &lt;-- second package, I want put here PersonController.java\r\n                |-src/main/resources\r\n                  |-data.sql\r\n                pom.xml\r\n\r\nMy controller looks:\r\n\r\n    @RestController\r\n    public class PersonController {\r\n    \t\r\n    \t@Autowired PersonRepository personRepository;\r\n    \t\r\n    \t@RequestMapping(&quot;/persons&quot;)\r\n    \tCollection&lt;Person&gt; persons(){\r\n    \t\treturn this.personRepository.findAll();\r\n    \t}\r\n    }  \r\n\r\nWhen everything is in `com.person` package, I write in web brower http://localhost:8080/persons and it works correctly...\r\nBut I Want move `PersonController.java` to `com.controller` package, and when I moved it, my webbrowers calls me \r\n\r\n&gt; There was an unexpected error (type=Not Found, status=404). No message\r\n&gt; available\r\n\r\n and I have no idea what I should do to repair it. Maybe I should change something in my `pom.xml` ??\r\n\r\nMy pom.xml looks like\r\n              \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.person&lt;/groupId&gt;\r\n        &lt;artifactId&gt;person&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;SpringTest_v0_1&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;\r\n                    spring-boot-starter-data-elasticsearch\r\n                &lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nIt is generated automatically, I write only one dependency\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;","title":"@RestController in other package doesn&#39;t work","body":"<p>I start with learning Spring and I create basic project which creates database, insert values and next print it in web browser. \nMy problem is that when I have RestController in the same package like main class - its OK, but I want distribute it to other package and when I create new package, move the RestController it doesn't work. Let met explain:</p>\n\n<p>My project looks like:</p>\n\n<pre><code>          |-Springtestv_01\n            |-src/main/java\n              |--com.person &lt;-- it's a main package\n                 |-Main.java\n                 |-Person.java\n                 |-PersonLineRunner.java\n                 |-PersonRepository.java\n                 |-PersonController.java\n              |-com.controller &lt;-- second package, I want put here PersonController.java\n            |-src/main/resources\n              |-data.sql\n            pom.xml\n</code></pre>\n\n<p>My controller looks:</p>\n\n<pre><code>@RestController\npublic class PersonController {\n\n    @Autowired PersonRepository personRepository;\n\n    @RequestMapping(\"/persons\")\n    Collection&lt;Person&gt; persons(){\n        return this.personRepository.findAll();\n    }\n}  \n</code></pre>\n\n<p>When everything is in <code>com.person</code> package, I write in web brower <a href=\"http://localhost:8080/persons\" rel=\"noreferrer\">http://localhost:8080/persons</a> and it works correctly...\nBut I Want move <code>PersonController.java</code> to <code>com.controller</code> package, and when I moved it, my webbrowers calls me </p>\n\n<blockquote>\n  <p>There was an unexpected error (type=Not Found, status=404). No message\n  available</p>\n</blockquote>\n\n<p>and I have no idea what I should do to repair it. Maybe I should change something in my <code>pom.xml</code> ??</p>\n\n<p>My pom.xml looks like</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.person&lt;/groupId&gt;\n    &lt;artifactId&gt;person&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;SpringTest_v0_1&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.0.BUILD-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;\n                spring-boot-starter-data-elasticsearch\n            &lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>It is generated automatically, I write only one dependency</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;&lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","sql-server","docker","jdbc"],"comments":[{"owner":{"account_id":13889153,"reputation":465,"user_id":10027577,"display_name":"KyleAure"},"score":0,"creation_date":1584023881,"post_id":60174070,"comment_id":107314296,"body_markdown":"Note: I have also opened an issue against the docker container to help resolve this as well: https://github.com/microsoft/mssql-docker/issues/554","body":"Note: I have also opened an issue against the docker container to help resolve this as well: <a href=\"https://github.com/microsoft/mssql-docker/issues/554\" rel=\"nofollow noreferrer\">github.com/microsoft/mssql-docker/issues/554</a>"},{"owner":{"account_id":231305,"reputation":62840,"user_id":495455,"accept_rate":72,"display_name":"Jeremy Thompson"},"score":0,"creation_date":1584509309,"post_id":60174070,"comment_id":107454736,"body_markdown":"Can you explain the setup a bit more, are you running the Linux version of SQL on the 2019-CU2-ubuntu-16.04? Where does the Windows 10 come into?","body":"Can you explain the setup a bit more, are you running the Linux version of SQL on the 2019-CU2-ubuntu-16.04? Where does the Windows 10 come into?"},{"owner":{"account_id":13889153,"reputation":465,"user_id":10027577,"display_name":"KyleAure"},"score":0,"creation_date":1584558200,"post_id":60174070,"comment_id":107476312,"body_markdown":"I am running the Linux version of SQL Server in a docker environment.  I have tested this on both a Mac and Windows machine to see if this issue happened on both machines.  it did.","body":"I am running the Linux version of SQL Server in a docker environment.  I have tested this on both a Mac and Windows machine to see if this issue happened on both machines.  it did."},{"owner":{"account_id":231305,"reputation":62840,"user_id":495455,"accept_rate":72,"display_name":"Jeremy Thompson"},"score":0,"creation_date":1584570582,"post_id":60174070,"comment_id":107480729,"body_markdown":"Ok, can you confirm for me that you&#39;re following the instructions: https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-configure-msdtc-docker?view=sql-server-ver15 - and can you update to [CU3](https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-release-notes-2019?view=sql-server-ver15#cu2). This old Q&amp;A seems to match the problem you&#39;re facing, and says this issue should be resolved in 2019: https://stackoverflow.com/q/40900016/495455","body":"Ok, can you confirm for me that you&#39;re following the instructions: <a href=\"https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-configure-msdtc-docker?view=sql-server-ver15\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/linux/&hellip;</a> - and can you update to <a href=\"https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-release-notes-2019?view=sql-server-ver15#cu2\" rel=\"nofollow noreferrer\">CU3</a>. This old Q&amp;A seems to match the problem you&#39;re facing, and says this issue should be resolved in 2019: <a href=\"https://stackoverflow.com/q/40900016/495455\">stackoverflow.com/q/40900016/495455</a>"},{"owner":{"account_id":13889153,"reputation":465,"user_id":10027577,"display_name":"KyleAure"},"score":0,"creation_date":1584640883,"post_id":60174070,"comment_id":107505745,"body_markdown":"Yup that is the guide I followed to set this up.  And I tried CU3 and the problem still persists.","body":"Yup that is the guide I followed to set this up.  And I tried CU3 and the problem still persists."},{"owner":{"account_id":231305,"reputation":62840,"user_id":495455,"accept_rate":72,"display_name":"Jeremy Thompson"},"score":0,"creation_date":1584645737,"post_id":60174070,"comment_id":107507726,"body_markdown":"You might actually want to contact MSFT support on this one, if you work where you do they will have support credits with their MSDN subscription.","body":"You might actually want to contact MSFT support on this one, if you work where you do they will have support credits with their MSDN subscription."}],"answers":[{"tags":[],"owner":{"account_id":20114778,"reputation":80,"user_id":14750458,"display_name":"snj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636067521,"creation_date":1636067521,"answer_id":69846892,"question_id":60174070,"body_markdown":"The SQL Server may have one or more of the extended stored procedures disabled by default for security reasons.\r\n\r\nIf this is a non-production development environment, have you tried connecting to the SQL Server with an SQL Server administrator account?","title":"SQLServer hung on Using &#39;xplog70.dll&#39; version &#39;xxx&#39; to execute extended stored procedure &#39;xp_msver&#39;","body":"<p>The SQL Server may have one or more of the extended stored procedures disabled by default for security reasons.</p>\n<p>If this is a non-production development environment, have you tried connecting to the SQL Server with an SQL Server administrator account?</p>\n"}],"owner":{"account_id":13889153,"reputation":465,"user_id":10027577,"display_name":"KyleAure"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5576,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1636067521,"creation_date":1581440945,"question_id":60174070,"body_markdown":"System Information:\r\nOS: `macOS Catalina 10.15.2` and `Windows 10`\r\n\r\nDocker Image: `mcr.microsoft.com/mssql/server:2019-CU2-ubuntu-16.04`(2019 GA has same issue)\r\n\r\nJDBC Driver: `com.microsoft.sqlserver:mssql-jdbc:8.2.1.jre8`\r\n\r\nContext: \r\nRunning database in docker container and accessing via JDBC driver.  \r\nI start the docker container using https://github.com/testcontainers/testcontainers-java/ api\r\n\r\nBehavior: \r\nStartup of database goes fine and I get:\r\n```txt\r\n[01/24/2020 14:53:23:405 CST] 051 SQLServerContainer             output                         I \r\n2020-01-24 20:53:23.41 spid12s     Clearing tempdb database.\r\n```\r\n\r\nI then execute an init-sqlserver.sql file to enable jdbc xa connection:\r\n```sql\r\n-- Create database\r\nCREATE DATABASE TEST;\r\n\r\n-- Enable XA connections\r\nEXEC sp_sqljdbc_xa_install;\r\n```\r\n\r\nand I get\r\n```txt\r\n...\r\n[01/24/2020 14:53:23:969 CST] 051 SQLServerContainer             output                         I \r\n2020-01-24 20:53:23.97 spid52      Starting up database &#39;TEST&#39;.\r\n...\r\n[01/24/2020 14:53:24:377 CST] 001 ScriptUtils                    executeDatabaseScript          I Executed database script from resources/init-sqlserver.sql in 855 ms.\r\n[01/24/2020 14:53:25:029 CST] 051 SQLServerContainer             output                         I \r\n2020-01-24 20:53:25.04 spid25s     The tempdb database has 6 data file(s).\r\n```\r\n\r\nWhen I actually try to use an xa connection I get:\r\n```txt\r\n[01/24/2020 14:53:47:496 CST] 051 SQLServerContainer             output                         I \r\n2020-01-24 20:53:47.49 spid53      Initializing Microsoft Distributed Transaction Coordinator (MS DTC) resource manager [820e1ea9-c921-4350-897e-a7534d9d1ed7] for server instance 8b0aca425794. This is an informational message only. No user action is required.\r\n[01/24/2020 14:53:47:504 CST] 051 SQLServerContainer             output                         I \r\n2020-01-24 20:53:47.50 spid53      Recovery of any in-doubt distributed transactions involving Microsoft Distributed Transaction Coordinator (MS DTC) has completed. This is an informational message only. No user action is required.\r\n[01/24/2020 14:59:44:692 CST] 051 SQLServerContainer             output                         I \r\n2020-01-24 20:59:44.71 spid62      Attempting to load library &#39;xplog70.dll&#39; into memory. This is an informational message only. No user action is required.\r\n[01/24/2020 14:59:44:742 CST] 051 SQLServerContainer             output                         I \r\n2020-01-24 20:59:44.76 spid62      Using &#39;xplog70.dll&#39; version &#39;2019.150.4003&#39; to execute extended stored procedure &#39;xp_msver&#39;. This is an informational message only; no user action is required.\r\n```\r\nAnd I hang on the last part indefinitely.  You can also see there is an approx 6 minute hang between two of the steps.  \r\n\r\nWhat I am trying to accomplish in my source code:\r\n```java\r\n    /**\r\n     * Enlist a two-phase capable resource in a global transaction.\r\n     */\r\n    public void getXAConnection() throws Exception {\r\n        setUpTables(ds1); \r\n\r\n        tran.begin();\r\n        try (Connection con1 = ds1.getConnection()) {\r\n            PreparedStatement pstmt = con1.prepareStatement(&quot;insert into cities values (?, ?, ?)&quot;);\r\n            pstmt.setString(1, &quot;Wanamingo&quot;);\r\n            pstmt.setInt(2, 1086);\r\n            pstmt.setString(3, &quot;Goodhue&quot;);\r\n            pstmt.executeUpdate();\r\n            pstmt.close();\r\n\r\n            tran.commit();\r\n        } catch (Throwable x) {\r\n            try {\r\n                tran.rollback();\r\n            } catch (Throwable t) {\r\n            }\r\n            throw x;\r\n        }\r\n    }\r\n```\r\n\r\nQuestions:\r\n\r\n 1. Shouldn&#39;t the initialization of MSDTC happen during the execution of\r\n    `EXEC sp_sqljdbc_xa_install;` stored procedure? \r\n 2. Why is there such a long delay between stored procedures?\r\n 3. Why do we hang on the last stored procedure? \r\n 4. Is this an issue with the docker image or the JDBC driver? (This worked on derby, db2, postgres, and oracle)","title":"SQLServer hung on Using &#39;xplog70.dll&#39; version &#39;xxx&#39; to execute extended stored procedure &#39;xp_msver&#39;","body":"<p>System Information:\nOS: <code>macOS Catalina 10.15.2</code> and <code>Windows 10</code></p>\n\n<p>Docker Image: <code>mcr.microsoft.com/mssql/server:2019-CU2-ubuntu-16.04</code>(2019 GA has same issue)</p>\n\n<p>JDBC Driver: <code>com.microsoft.sqlserver:mssql-jdbc:8.2.1.jre8</code></p>\n\n<p>Context: \nRunning database in docker container and accessing via JDBC driver.<br>\nI start the docker container using <a href=\"https://github.com/testcontainers/testcontainers-java/\" rel=\"noreferrer\">https://github.com/testcontainers/testcontainers-java/</a> api</p>\n\n<p>Behavior: \nStartup of database goes fine and I get:</p>\n\n<pre><code>[01/24/2020 14:53:23:405 CST] 051 SQLServerContainer             output                         I \n2020-01-24 20:53:23.41 spid12s     Clearing tempdb database.\n</code></pre>\n\n<p>I then execute an init-sqlserver.sql file to enable jdbc xa connection:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>-- Create database\nCREATE DATABASE TEST;\n\n-- Enable XA connections\nEXEC sp_sqljdbc_xa_install;\n</code></pre>\n\n<p>and I get</p>\n\n<pre><code>...\n[01/24/2020 14:53:23:969 CST] 051 SQLServerContainer             output                         I \n2020-01-24 20:53:23.97 spid52      Starting up database 'TEST'.\n...\n[01/24/2020 14:53:24:377 CST] 001 ScriptUtils                    executeDatabaseScript          I Executed database script from resources/init-sqlserver.sql in 855 ms.\n[01/24/2020 14:53:25:029 CST] 051 SQLServerContainer             output                         I \n2020-01-24 20:53:25.04 spid25s     The tempdb database has 6 data file(s).\n</code></pre>\n\n<p>When I actually try to use an xa connection I get:</p>\n\n<pre><code>[01/24/2020 14:53:47:496 CST] 051 SQLServerContainer             output                         I \n2020-01-24 20:53:47.49 spid53      Initializing Microsoft Distributed Transaction Coordinator (MS DTC) resource manager [820e1ea9-c921-4350-897e-a7534d9d1ed7] for server instance 8b0aca425794. This is an informational message only. No user action is required.\n[01/24/2020 14:53:47:504 CST] 051 SQLServerContainer             output                         I \n2020-01-24 20:53:47.50 spid53      Recovery of any in-doubt distributed transactions involving Microsoft Distributed Transaction Coordinator (MS DTC) has completed. This is an informational message only. No user action is required.\n[01/24/2020 14:59:44:692 CST] 051 SQLServerContainer             output                         I \n2020-01-24 20:59:44.71 spid62      Attempting to load library 'xplog70.dll' into memory. This is an informational message only. No user action is required.\n[01/24/2020 14:59:44:742 CST] 051 SQLServerContainer             output                         I \n2020-01-24 20:59:44.76 spid62      Using 'xplog70.dll' version '2019.150.4003' to execute extended stored procedure 'xp_msver'. This is an informational message only; no user action is required.\n</code></pre>\n\n<p>And I hang on the last part indefinitely.  You can also see there is an approx 6 minute hang between two of the steps.  </p>\n\n<p>What I am trying to accomplish in my source code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Enlist a two-phase capable resource in a global transaction.\n     */\n    public void getXAConnection() throws Exception {\n        setUpTables(ds1); \n\n        tran.begin();\n        try (Connection con1 = ds1.getConnection()) {\n            PreparedStatement pstmt = con1.prepareStatement(\"insert into cities values (?, ?, ?)\");\n            pstmt.setString(1, \"Wanamingo\");\n            pstmt.setInt(2, 1086);\n            pstmt.setString(3, \"Goodhue\");\n            pstmt.executeUpdate();\n            pstmt.close();\n\n            tran.commit();\n        } catch (Throwable x) {\n            try {\n                tran.rollback();\n            } catch (Throwable t) {\n            }\n            throw x;\n        }\n    }\n</code></pre>\n\n<p>Questions:</p>\n\n<ol>\n<li>Shouldn't the initialization of MSDTC happen during the execution of\n<code>EXEC sp_sqljdbc_xa_install;</code> stored procedure? </li>\n<li>Why is there such a long delay between stored procedures?</li>\n<li>Why do we hang on the last stored procedure? </li>\n<li>Is this an issue with the docker image or the JDBC driver? (This worked on derby, db2, postgres, and oracle)</li>\n</ol>\n"},{"tags":["java","maven","maven-shade-plugin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1636074011,"post_id":69846850,"comment_id":123467000,"body_markdown":"I&#39;m not quite clear what problem you&#39;re having. When I install an uber jar I get a pom.xml in my local repository and can use the uber jar in other projects. What do you want to do that isn&#39;t working?","body":"I&#39;m not quite clear what problem you&#39;re having. When I install an uber jar I get a pom.xml in my local repository and can use the uber jar in other projects. What do you want to do that isn&#39;t working?"},{"owner":{"account_id":13542756,"reputation":15,"user_id":9770015,"display_name":"felix_w"},"score":0,"creation_date":1636464784,"post_id":69846850,"comment_id":123559607,"body_markdown":"Thanks for your comment. I try generate the uber jar which I want to install in another project as a local jar by means of a local repository. This second project spits out a warning that the first jar does not include a pom.xml","body":"Thanks for your comment. I try generate the uber jar which I want to install in another project as a local jar by means of a local repository. This second project spits out a warning that the first jar does not include a pom.xml"}],"owner":{"account_id":13542756,"reputation":15,"user_id":9770015,"display_name":"felix_w"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636067223,"creation_date":1636067223,"question_id":69846850,"body_markdown":"I understand that the dependency reduced pom generated by the maven shade plugin is a condensed pom for the uber jar. Furthermore, the location *in* the file system of this pom can determined with `&lt;dependencyReducedPomLocation&gt;`.\r\nHowever, is it possible to have this new, reduced pom included as `META-INF/pom.xml` *in* the uber jar file to allow to reuse the uber jar with maven for the still existing dependencies?","title":"ReducedPom inside generated jar with maven shade","body":"<p>I understand that the dependency reduced pom generated by the maven shade plugin is a condensed pom for the uber jar. Furthermore, the location <em>in</em> the file system of this pom can determined with <code>&lt;dependencyReducedPomLocation&gt;</code>.\nHowever, is it possible to have this new, reduced pom included as <code>META-INF/pom.xml</code> <em>in</em> the uber jar file to allow to reuse the uber jar with maven for the still existing dependencies?</p>\n"},{"tags":["java","regex","regexp-replace"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636067039,"creation_date":1636066725,"answer_id":69846797,"question_id":69846771,"body_markdown":"You can use\r\n```java\r\ntext = text.replaceAll(&quot;\\\\R(?!.*#)&quot;, &quot;&quot;);\r\ntext = text.replaceAll(&quot;(?m)\\\\R(?=[^\\n#]+$)&quot;, &quot;&quot;);\r\n```\r\nSee the [regex demo][1] / [regex demo #2][2]. *Details*:\r\n\r\n - `(?m)` - `Pattern.MULTILINE` embedded flag option to make `$` in this pattern match end of a line, not the end of the whole string\r\n - `\\R` - any line break sequence\r\n - `(?!.*#)` - a negative lookahead that matches a location not immediately followed with any zero or more chars other than line break chars as many as possible and then a `#` char\r\n - `(?=[^\\n#]+$)` - a positive lookahead that requires one or more chars (replace `+` with `*` to match an empty line, too) other than an LF and `#` up to an end of a line.\r\n\r\nSee the [Java demo][3] online:\r\n```java\r\nString s_lf = &quot;this tis a fine #line1\\nthis tis another fine #line2\\nthis_belongs_to abobe line\\nthis tis still is OK #line4&quot;;\r\nString s_crlf = &quot;this tis a fine #line1\\r\\nthis tis another fine #line2\\r\\nthis_belongs_to abobe line\\r\\nthis tis still is OK #line4&quot;;\r\n \r\nSystem.out.println(s_lf.replaceAll(&quot;\\\\R(?!.*#)&quot;, &quot;&quot;)); \r\nSystem.out.println(s_crlf.replaceAll(&quot;\\\\R(?!.*#)&quot;, &quot;&quot;));\r\n \r\nSystem.out.println(s_lf.replaceAll(&quot;(?m)\\\\R(?=[^\\n#]+$)&quot;, &quot;&quot;)); \r\nSystem.out.println(s_crlf.replaceAll(&quot;(?m)\\\\R(?=[^\\n#]+$)&quot;, &quot;&quot;)); \r\n```\r\nAll test cases - with strings having CRLF and LF line endings - result in\r\n```\r\nthis tis a fine #line1\r\nthis tis another fine #line2this_belongs_to abobe line\r\nthis tis still is OK #line4\r\n```\r\n\r\n  [1]: https://regex101.com/r/m2r5Rc/2\r\n  [2]: https://regex101.com/r/m2r5Rc/1\r\n  [3]: https://ideone.com/UxSq5v","title":"Regexp- replace specific line break in String","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>text = text.replaceAll(&quot;\\\\R(?!.*#)&quot;, &quot;&quot;);\ntext = text.replaceAll(&quot;(?m)\\\\R(?=[^\\n#]+$)&quot;, &quot;&quot;);\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/m2r5Rc/2\" rel=\"nofollow noreferrer\">regex demo</a> / <a href=\"https://regex101.com/r/m2r5Rc/1\" rel=\"nofollow noreferrer\">regex demo #2</a>. <em>Details</em>:</p>\n<ul>\n<li><code>(?m)</code> - <code>Pattern.MULTILINE</code> embedded flag option to make <code>$</code> in this pattern match end of a line, not the end of the whole string</li>\n<li><code>\\R</code> - any line break sequence</li>\n<li><code>(?!.*#)</code> - a negative lookahead that matches a location not immediately followed with any zero or more chars other than line break chars as many as possible and then a <code>#</code> char</li>\n<li><code>(?=[^\\n#]+$)</code> - a positive lookahead that requires one or more chars (replace <code>+</code> with <code>*</code> to match an empty line, too) other than an LF and <code>#</code> up to an end of a line.</li>\n</ul>\n<p>See the <a href=\"https://ideone.com/UxSq5v\" rel=\"nofollow noreferrer\">Java demo</a> online:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s_lf = &quot;this tis a fine #line1\\nthis tis another fine #line2\\nthis_belongs_to abobe line\\nthis tis still is OK #line4&quot;;\nString s_crlf = &quot;this tis a fine #line1\\r\\nthis tis another fine #line2\\r\\nthis_belongs_to abobe line\\r\\nthis tis still is OK #line4&quot;;\n \nSystem.out.println(s_lf.replaceAll(&quot;\\\\R(?!.*#)&quot;, &quot;&quot;)); \nSystem.out.println(s_crlf.replaceAll(&quot;\\\\R(?!.*#)&quot;, &quot;&quot;));\n \nSystem.out.println(s_lf.replaceAll(&quot;(?m)\\\\R(?=[^\\n#]+$)&quot;, &quot;&quot;)); \nSystem.out.println(s_crlf.replaceAll(&quot;(?m)\\\\R(?=[^\\n#]+$)&quot;, &quot;&quot;)); \n</code></pre>\n<p>All test cases - with strings having CRLF and LF line endings - result in</p>\n<pre><code>this tis a fine #line1\nthis tis another fine #line2this_belongs_to abobe line\nthis tis still is OK #line4\n</code></pre>\n"}],"owner":{"account_id":4453464,"reputation":2252,"user_id":3624549,"accept_rate":24,"display_name":"Alg_D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69846797,"answer_count":1,"score":1,"last_activity_date":1636067039,"creation_date":1636066472,"question_id":69846771,"body_markdown":"\r\nI am seeking for a **regexp** that finds a specific line break `\\n` from a long String.\r\n\r\nThe specific `\\n` is the one **before a line that do not contains a specific char**: **&#39;#&#39;**\r\n\r\nAs example:\r\n\r\n&gt; This tis a fine #line1\\nThis tis another fine #line2\\nThis_belongs_to abobe line\\nThis tis still is OK #line4\r\n\r\nthat represents the text:\r\n\r\n    this tis a fine #line1\r\n    this tis another fine #line2\r\n    this_belongs_to abobe line\r\n    this tis still is OK #line4\r\n\r\nhere the `\\n` to be removed in the one after #line2, **resulting** in the text:\r\n\r\n    this tis a fine #line1\r\n    this tis another fine #line2this_belongs_to abobe line\r\n    this tis still is OK #line4\r\n\r\n\r\nI came up with a regexp like: `\\n^(?m)(?!.*#).*$` that is close, but I can&#39;t figure out how to build the right one that allows me to match and remove only the right line break and preserve the remaining text/String.\r\n\r\nPerhaps there is a better way than using regular expression?\r\n","title":"Regexp- replace specific line break in String","body":"<p>I am seeking for a <strong>regexp</strong> that finds a specific line break <code>\\n</code> from a long String.</p>\n<p>The specific <code>\\n</code> is the one <strong>before a line that do not contains a specific char</strong>: <strong>'#'</strong></p>\n<p>As example:</p>\n<blockquote>\n<p>This tis a fine #line1\\nThis tis another fine #line2\\nThis_belongs_to abobe line\\nThis tis still is OK #line4</p>\n</blockquote>\n<p>that represents the text:</p>\n<pre><code>this tis a fine #line1\nthis tis another fine #line2\nthis_belongs_to abobe line\nthis tis still is OK #line4\n</code></pre>\n<p>here the <code>\\n</code> to be removed in the one after #line2, <strong>resulting</strong> in the text:</p>\n<pre><code>this tis a fine #line1\nthis tis another fine #line2this_belongs_to abobe line\nthis tis still is OK #line4\n</code></pre>\n<p>I came up with a regexp like: <code>\\n^(?m)(?!.*#).*$</code> that is close, but I can't figure out how to build the right one that allows me to match and remove only the right line break and preserve the remaining text/String.</p>\n<p>Perhaps there is a better way than using regular expression?</p>\n"},{"tags":["java","single-sign-on","saml-2.0","adfs","service-provider"],"comments":[{"owner":{"account_id":3448603,"reputation":4018,"user_id":4392800,"display_name":"identigral"},"score":0,"creation_date":1562948987,"post_id":56988457,"comment_id":100554407,"body_markdown":"`/adfs/ls` is the right single logout URL in ADFS implementation of SAML, you can verify this by pulling SAML metadata from ADFS.  `?wa=wsignoutcleanup1.0` should not be needed and it belongs to a different protocol altogether (WS-Federation). I haven&#39;t seen this error message but it&#39;s something in your SAML logout request that ADFS doesn&#39;t like.","body":"<code>&#47;adfs&#47;ls</code> is the right single logout URL in ADFS implementation of SAML, you can verify this by pulling SAML metadata from ADFS.  <code>?wa=wsignoutcleanup1.0</code> should not be needed and it belongs to a different protocol altogether (WS-Federation). I haven&#39;t seen this error message but it&#39;s something in your SAML logout request that ADFS doesn&#39;t like."}],"answers":[{"tags":[],"owner":{"account_id":11153032,"reputation":620,"user_id":8185599,"display_name":"Kellen Murphy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562864841,"creation_date":1562864841,"answer_id":56994216,"question_id":56988457,"body_markdown":"You get an error because you&#39;re outside of spec. The `?wa` parameter defines the action that you want to happen, i.e. &quot;This REQUIRED parameter specifies the action to be performed.&quot; ([Source](http://docs.oasis-open.org/wsfed/federation/v1.2/os/ws-federation-1.2-spec-os.html#_Toc223175012)).\r\n\r\nIt&#39;s not specific to this sign-out action... it&#39;s any action.\r\n","title":"What is the significance of ?wa=wsignoutcleanup1.0 in the SSO sp initiated flow","body":"<p>You get an error because you're outside of spec. The <code>?wa</code> parameter defines the action that you want to happen, i.e. \"This REQUIRED parameter specifies the action to be performed.\" (<a href=\"http://docs.oasis-open.org/wsfed/federation/v1.2/os/ws-federation-1.2-spec-os.html#_Toc223175012\" rel=\"nofollow noreferrer\">Source</a>).</p>\n\n<p>It's not specific to this sign-out action... it's any action.</p>\n"},{"tags":[],"owner":{"account_id":11644954,"reputation":21,"user_id":8528177,"display_name":"Michael Hall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636066856,"creation_date":1636066856,"answer_id":69846815,"question_id":56988457,"body_markdown":"I work at Microsoft boii.  For SAML you want to use the https://sts.contoso.com/adfs/ls endpoint.  The wa=wsignoutcleanup is for the WS-Federation protocol.  Alot of times it looks like things are working if you use the wa=wsignoutcleanup but trust me it doesn&#39;t.  There are 4 cookies you usually get with SAML.  They are MSIS Auth cookies.  There are web application sessions cookies too.  Use the right URL to clean up things properly.  \r\n\r\nIn the SAML protocol there is a concept of a SAML logout request and a SAML logout response.  This website has examples.  https://www.samltool.com/generic_slo_req.php\r\n\r\nYou should be able to see this with a SAML tracer.  There are a couple gotchas with SAML logout.  The name id you ask to logout has to be the exact same you used to login.  \r\n\r\nSAML logouts have to be signed 100% with a X.509 (SSL) Secure Socket Layer cryptography certificate to prevent spoofing. Good luck. \r\n\r\n\r\n","title":"What is the significance of ?wa=wsignoutcleanup1.0 in the SSO sp initiated flow","body":"<p>I work at Microsoft boii.  For SAML you want to use the <a href=\"https://sts.contoso.com/adfs/ls\" rel=\"nofollow noreferrer\">https://sts.contoso.com/adfs/ls</a> endpoint.  The wa=wsignoutcleanup is for the WS-Federation protocol.  Alot of times it looks like things are working if you use the wa=wsignoutcleanup but trust me it doesn't.  There are 4 cookies you usually get with SAML.  They are MSIS Auth cookies.  There are web application sessions cookies too.  Use the right URL to clean up things properly.</p>\n<p>In the SAML protocol there is a concept of a SAML logout request and a SAML logout response.  This website has examples.  <a href=\"https://www.samltool.com/generic_slo_req.php\" rel=\"nofollow noreferrer\">https://www.samltool.com/generic_slo_req.php</a></p>\n<p>You should be able to see this with a SAML tracer.  There are a couple gotchas with SAML logout.  The name id you ask to logout has to be the exact same you used to login.</p>\n<p>SAML logouts have to be signed 100% with a X.509 (SSL) Secure Socket Layer cryptography certificate to prevent spoofing. Good luck.</p>\n"}],"owner":{"account_id":6912303,"reputation":135,"user_id":5307695,"display_name":"ashish gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1636066856,"creation_date":1562845613,"question_id":56988457,"body_markdown":"I am Using SAML 2.0 in the SSO SP initiated flow. I have configured logout url as `&quot;https://{DNS_name}/adfs/ls/&quot;` and i am getting the below error.\r\n\r\n&gt; Error:- System.Xml.XmlException: MSIS0006: A required attribute is not\r\n&gt; present: ID.\r\n\r\nNote:- I am not getting this error if i configure logout URL as `&quot;https://{DNS_name}/adfs/ls?wa=wsignoutcleanup1.0&quot;`.\r\n\r\nQue :- Why am i getting ID related errors if not configuring cleanup part(?wa=wsignoutcleanup1.0). i am not getting the significance of cleanup part in the logout URL. \r\n\r\nI have read that &quot;The wsignoutcleanup1.0 message is an instruction to relying parties to delete the cached session state for the specified user.&quot;\r\n\r\n&gt; Complete Error:- Encountered error during federation passive request. \r\n&gt; \r\n&gt; Additional Data \r\n&gt; \r\n&gt; Protocol Name:   \r\n&gt; \r\n&gt; Relying Party:   \r\n&gt; \r\n&gt; Exception details:  System.Xml.XmlException: MSIS0006: A required\r\n&gt; attribute is not present: ID.    at\r\n&gt; Microsoft.IdentityServer.Protocols.Saml.SamlProtocolSerializer.ReadCommonAttributes(XmlReader\r\n&gt; reader, SamlMessage message)    at\r\n&gt; Microsoft.IdentityServer.Protocols.Saml.SamlProtocolSerializer.ReadLogoutRequest(XmlReader\r\n&gt; reader)    at\r\n&gt; Microsoft.IdentityServer.Protocols.Saml.SamlProtocolSerializer.ReadSamlMessage(XmlReader\r\n&gt; reader, NamespaceContext context)    at\r\n&gt; Microsoft.IdentityServer.Protocols.Saml.HttpSamlBindingSerializer.ReadProtocolMessage(String\r\n&gt; encodedSamlMessage)    at\r\n&gt; Microsoft.IdentityServer.Protocols.Saml.HttpSamlBindingSerializer.CreateFromNameValueCollection(Uri\r\n&gt; baseUrl, NameValueCollection collection)    at\r\n&gt; Microsoft.IdentityServer.Protocols.Saml.HttpPostSamlBindingSerializer.ReadMessage(Uri\r\n&gt; requestUrl, NameValueCollection form)    at\r\n&gt; Microsoft.IdentityServer.Web.Protocols.Saml.HttpSamlMessageFactory.CreateMessage(WrappedHttpListenerRequest\r\n&gt; httpRequest)    at\r\n&gt; Microsoft.IdentityServer.Web.Protocols.Saml.SamlContextFactory.CreateProtocolContextFromRequest(WrappedHttpListenerRequest\r\n&gt; request, ProtocolContext&amp; protocolContext)    at\r\n&gt; Microsoft.IdentityServer.Web.Protocols.Saml.SamlProtocolHandler.CreateProtocolContext(WrappedHttpListenerRequest\r\n&gt; request)    at\r\n&gt; Microsoft.IdentityServer.Web.PassiveProtocolListener.GetProtocolHandler(WrappedHttpListenerRequest\r\n&gt; request, ProtocolContext&amp; protocolContext, PassiveProtocolHandler&amp;\r\n&gt; protocolHandler)    at\r\n&gt; Microsoft.IdentityServer.Web.PassiveProtocolListener.OnGetContext(WrappedHttpListenerContext\r\n&gt; context)","title":"What is the significance of ?wa=wsignoutcleanup1.0 in the SSO sp initiated flow","body":"<p>I am Using SAML 2.0 in the SSO SP initiated flow. I have configured logout url as <code>\"https://{DNS_name}/adfs/ls/\"</code> and i am getting the below error.</p>\n\n<blockquote>\n  <p>Error:- System.Xml.XmlException: MSIS0006: A required attribute is not\n  present: ID.</p>\n</blockquote>\n\n<p>Note:- I am not getting this error if i configure logout URL as <code>\"https://{DNS_name}/adfs/ls?wa=wsignoutcleanup1.0\"</code>.</p>\n\n<p>Que :- Why am i getting ID related errors if not configuring cleanup part(?wa=wsignoutcleanup1.0). i am not getting the significance of cleanup part in the logout URL. </p>\n\n<p>I have read that \"The wsignoutcleanup1.0 message is an instruction to relying parties to delete the cached session state for the specified user.\"</p>\n\n<blockquote>\n  <p>Complete Error:- Encountered error during federation passive request. </p>\n  \n  <p>Additional Data </p>\n  \n  <p>Protocol Name:   </p>\n  \n  <p>Relying Party:   </p>\n  \n  <p>Exception details:  System.Xml.XmlException: MSIS0006: A required\n  attribute is not present: ID.    at\n  Microsoft.IdentityServer.Protocols.Saml.SamlProtocolSerializer.ReadCommonAttributes(XmlReader\n  reader, SamlMessage message)    at\n  Microsoft.IdentityServer.Protocols.Saml.SamlProtocolSerializer.ReadLogoutRequest(XmlReader\n  reader)    at\n  Microsoft.IdentityServer.Protocols.Saml.SamlProtocolSerializer.ReadSamlMessage(XmlReader\n  reader, NamespaceContext context)    at\n  Microsoft.IdentityServer.Protocols.Saml.HttpSamlBindingSerializer.ReadProtocolMessage(String\n  encodedSamlMessage)    at\n  Microsoft.IdentityServer.Protocols.Saml.HttpSamlBindingSerializer.CreateFromNameValueCollection(Uri\n  baseUrl, NameValueCollection collection)    at\n  Microsoft.IdentityServer.Protocols.Saml.HttpPostSamlBindingSerializer.ReadMessage(Uri\n  requestUrl, NameValueCollection form)    at\n  Microsoft.IdentityServer.Web.Protocols.Saml.HttpSamlMessageFactory.CreateMessage(WrappedHttpListenerRequest\n  httpRequest)    at\n  Microsoft.IdentityServer.Web.Protocols.Saml.SamlContextFactory.CreateProtocolContextFromRequest(WrappedHttpListenerRequest\n  request, ProtocolContext&amp; protocolContext)    at\n  Microsoft.IdentityServer.Web.Protocols.Saml.SamlProtocolHandler.CreateProtocolContext(WrappedHttpListenerRequest\n  request)    at\n  Microsoft.IdentityServer.Web.PassiveProtocolListener.GetProtocolHandler(WrappedHttpListenerRequest\n  request, ProtocolContext&amp; protocolContext, PassiveProtocolHandler&amp;\n  protocolHandler)    at\n  Microsoft.IdentityServer.Web.PassiveProtocolListener.OnGetContext(WrappedHttpListenerContext\n  context)</p>\n</blockquote>\n"},{"tags":["java","android","tensorflow","tensorflow-lite","pepper"],"answers":[{"tags":[],"owner":{"account_id":15289169,"reputation":484,"user_id":11031225,"display_name":"Lu Wang"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1636066843,"creation_date":1636066843,"answer_id":69846812,"question_id":69837892,"body_markdown":"You need to remove the following dependency\r\n```\r\n&#39;org.tensorflow:tensorflow-lite-support:0.1.0&#39;\r\n```\r\n\r\n`org.tensorflow:tensorflow-lite-task-vision:0.0.0-nightly-SNAPSHOT` uses a newer version of the Support library (0.2.0 +), which as the ColorSpaceType.getValue() method. But it gets overridden by `support:0.1.0`.\r\n\r\nAlso `org.tensorflow:tensorflow-lite-metadata:0.1.0` is useless, which can be removed. ","title":"java.lang.NoSuchMethodError when running TensorFlow Lite on android (Java 8)","body":"<p>You need to remove the following dependency</p>\n<pre><code>'org.tensorflow:tensorflow-lite-support:0.1.0'\n</code></pre>\n<p><code>org.tensorflow:tensorflow-lite-task-vision:0.0.0-nightly-SNAPSHOT</code> uses a newer version of the Support library (0.2.0 +), which as the ColorSpaceType.getValue() method. But it gets overridden by <code>support:0.1.0</code>.</p>\n<p>Also <code>org.tensorflow:tensorflow-lite-metadata:0.1.0</code> is useless, which can be removed.</p>\n"}],"owner":{"account_id":23225068,"reputation":70,"user_id":17316711,"display_name":"George Karageorgiou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69846812,"answer_count":1,"score":1,"last_activity_date":1636066843,"creation_date":1636022288,"question_id":69837892,"body_markdown":"I am running a custom made Tensorflow Lite model on Softbank Robotics&#39; `Pepper 1.8 (QiSDK 1.7.5)` which is running android .\r\n\r\nI capture the image successfully, I convert it to `bitmap` and the I convert it to `TensorImage`.\r\nAfter that I build the `ObjectDetector` and run it. Below you can see my detection function:\r\n\r\n    private void runDetection(Bitmap pictureBitmap) throws IOException {\r\n        TensorImage image = TensorImage.fromBitmap(pictureBitmap);\r\n        ObjectDetector.ObjectDetectorOptions options = ObjectDetector\r\n                .ObjectDetectorOptions.builder()\r\n                .setMaxResults(5)\r\n                .setScoreThreshold(0.5F)\r\n                .build();\r\n\r\n        ObjectDetector detector = ObjectDetector\r\n                .createFromFileAndOptions(this, &quot;detect_2_5.tflite&quot;, options);\r\n\r\n        List results = detector.detect(image);\r\n    }\r\n\r\nTnesorflow gets initialized but after that I get a FATAL EXCEPTION. This is my error log:\r\n\r\n```\r\n2021-11-04 11:57:04.465 11363-11406/com.example.test I/FOCUS: Gained\r\n2021-11-04 11:57:05.052 11363-11406/com.example.test I/LOOK: LookAt action started.\r\n2021-11-04 11:57:10.273 11363-11400/com.example.test D/GraphicBuffer: register, handle(0xab568140) (w:800 h:1280 s:800 f:0x1 u:0x000f02)\r\n2021-11-04 11:57:10.303 11363-11363/com.example.test V/SettingsInterface: invalidate [system]: current 4 != cached 0\r\n2021-11-04 11:57:10.382 11363-11397/com.example.test I/CAMERA: Take picture launched\r\n2021-11-04 11:57:10.929 11363-11395/com.example.test I/CAMERA: Picture taken\r\n2021-11-04 11:57:11.304 11363-11395/com.example.test I/CAMERA: Picture received from Pepper CPU\r\n2021-11-04 11:57:11.306 11363-11395/com.example.test I/CAMERA: PICTURE RECEIVED! (290 KBytes)\r\n2021-11-04 11:57:11.314 11363-11395/com.example.test D/skia: jpeg_decoder mode 1, colorType 4, w 1280, h 960, sample 1, bsLength 48bce!!\r\n2021-11-04 11:57:11.370 11363-11395/com.example.test D/skia: jpeg_decoder finish successfully, L:1906!!!\r\n2021-11-04 11:57:14.316 11363-11363/com.example.test D/SettingsInterface:  from settings cache , name = sound_effects_enabled , value = 0\r\n2021-11-04 11:57:14.377 11363-11363/com.example.test I/tflite: Initialized TensorFlow Lite runtime.\r\n2021-11-04 11:57:14.400 11363-11373/com.example.test I/System: FinalizerDaemon: finalize objects = 584\r\n2021-11-04 11:57:14.642 11363-11363/com.example.test D/AndroidRuntime: Shutting down VM\r\n2021-11-04 11:57:14.655 11363-11363/com.example.test E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.test, PID: 11363\r\n    java.lang.NoSuchMethodError: No virtual method getValue()I in class Lorg/tensorflow/lite/support/image/ColorSpaceType; or its super classes (declaration of &#39;org.tensorflow.lite.support.image.ColorSpaceType&#39; appears in /data/app/com.example.test-1/base.apk)\r\n        at org.tensorflow.lite.task.vision.core.BaseVisionTaskApi.createFrameBufferFromByteBuffer(BaseVisionTaskApi.java:144)\r\n        at org.tensorflow.lite.task.vision.core.BaseVisionTaskApi.createFrameBuffer(BaseVisionTaskApi.java:69)\r\n        at org.tensorflow.lite.task.vision.core.BaseVisionTaskApi.run(BaseVisionTaskApi.java:48)\r\n        at org.tensorflow.lite.task.vision.detector.ObjectDetector.detect(ObjectDetector.java:436)\r\n        at org.tensorflow.lite.task.vision.detector.ObjectDetector.detect(ObjectDetector.java:412)\r\n        at com.example.test.MainActivity.runDetection(MainActivity.java:280)\r\n        at com.example.test.MainActivity.lambda$onCreate$1$com-example-test-MainActivity(MainActivity.java:115)\r\n        at com.example.test.MainActivity$$ExternalSyntheticLambda1.onClick(Unknown Source)\r\n        at android.view.View.performClick(View.java:5265)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\r\n        at android.view.View$PerformClick.run(View.java:21534)\r\n        at android.os.Handler.handleCallback(Handler.java:815)\r\n        at android.os.Handler.dispatchMessage(Handler.java:104)\r\n        at android.os.Looper.loop(Looper.java:207)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5875)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:888)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:749)\r\n2021-11-04 11:57:15.236 11363-11406/com.example.test I/FOCUS: Lost\r\n2021-11-04 11:57:15.341 11363-11397/com.example.test E/LOOK: LookAt action finished with error.\r\n    com.aldebaran.qi.QiException: Focus lost\r\n        at com.aldebaran.qi.Future.qiFutureCallGet(Native Method)\r\n        at com.aldebaran.qi.Future.get(Future.java:237)\r\n        at com.aldebaran.qi.Future.get(Future.java:272)\r\n        at com.aldebaran.qi.Future.getError(Future.java:307)\r\n        at com.example.test.MainActivity.lambda$onRobotFocusGained$4(MainActivity.java:179)\r\n        at com.example.test.MainActivity$$ExternalSyntheticLambda3.consume(Unknown Source)\r\n2021-11-04 11:57:20.248 11363-11373/com.example.test W/BaseTaskApi: Closing an already closed native lib\r\n2021-11-04 12:02:14.731 11363-11363/com.example.test I/Process: Sending signal. PID: 11363 SIG: 9\r\n```\r\n\r\nAnd this is my build.gradle file\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.test&quot;\r\n        minSdk 23\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    // Specify tflite file should not be compressed for the app apk\r\n    aaptOptions {\r\n        noCompress &quot;tflite&quot;\r\n    }\r\n    buildFeatures {\r\n        mlModelBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation &#39;org.tensorflow:tensorflow-lite-support:0.1.0&#39;\r\n    implementation &#39;org.tensorflow:tensorflow-lite-metadata:0.1.0&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n\timplementation &#39;com.aldebaran:qisdk:1.7.5&#39;\r\n\timplementation &#39;com.aldebaran:qisdk-design:1.7.5&#39;\r\n    implementation &#39;org.tensorflow:tensorflow-lite-task-vision:0.0.0-nightly-SNAPSHOT&#39;\r\n\r\n}\r\n```\r\n\r\nI would appreciate any help.","title":"java.lang.NoSuchMethodError when running TensorFlow Lite on android (Java 8)","body":"<p>I am running a custom made Tensorflow Lite model on Softbank Robotics' <code>Pepper 1.8 (QiSDK 1.7.5)</code> which is running android .</p>\n<p>I capture the image successfully, I convert it to <code>bitmap</code> and the I convert it to <code>TensorImage</code>.\nAfter that I build the <code>ObjectDetector</code> and run it. Below you can see my detection function:</p>\n<pre><code>private void runDetection(Bitmap pictureBitmap) throws IOException {\n    TensorImage image = TensorImage.fromBitmap(pictureBitmap);\n    ObjectDetector.ObjectDetectorOptions options = ObjectDetector\n            .ObjectDetectorOptions.builder()\n            .setMaxResults(5)\n            .setScoreThreshold(0.5F)\n            .build();\n\n    ObjectDetector detector = ObjectDetector\n            .createFromFileAndOptions(this, &quot;detect_2_5.tflite&quot;, options);\n\n    List results = detector.detect(image);\n}\n</code></pre>\n<p>Tnesorflow gets initialized but after that I get a FATAL EXCEPTION. This is my error log:</p>\n<pre><code>2021-11-04 11:57:04.465 11363-11406/com.example.test I/FOCUS: Gained\n2021-11-04 11:57:05.052 11363-11406/com.example.test I/LOOK: LookAt action started.\n2021-11-04 11:57:10.273 11363-11400/com.example.test D/GraphicBuffer: register, handle(0xab568140) (w:800 h:1280 s:800 f:0x1 u:0x000f02)\n2021-11-04 11:57:10.303 11363-11363/com.example.test V/SettingsInterface: invalidate [system]: current 4 != cached 0\n2021-11-04 11:57:10.382 11363-11397/com.example.test I/CAMERA: Take picture launched\n2021-11-04 11:57:10.929 11363-11395/com.example.test I/CAMERA: Picture taken\n2021-11-04 11:57:11.304 11363-11395/com.example.test I/CAMERA: Picture received from Pepper CPU\n2021-11-04 11:57:11.306 11363-11395/com.example.test I/CAMERA: PICTURE RECEIVED! (290 KBytes)\n2021-11-04 11:57:11.314 11363-11395/com.example.test D/skia: jpeg_decoder mode 1, colorType 4, w 1280, h 960, sample 1, bsLength 48bce!!\n2021-11-04 11:57:11.370 11363-11395/com.example.test D/skia: jpeg_decoder finish successfully, L:1906!!!\n2021-11-04 11:57:14.316 11363-11363/com.example.test D/SettingsInterface:  from settings cache , name = sound_effects_enabled , value = 0\n2021-11-04 11:57:14.377 11363-11363/com.example.test I/tflite: Initialized TensorFlow Lite runtime.\n2021-11-04 11:57:14.400 11363-11373/com.example.test I/System: FinalizerDaemon: finalize objects = 584\n2021-11-04 11:57:14.642 11363-11363/com.example.test D/AndroidRuntime: Shutting down VM\n2021-11-04 11:57:14.655 11363-11363/com.example.test E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.test, PID: 11363\n    java.lang.NoSuchMethodError: No virtual method getValue()I in class Lorg/tensorflow/lite/support/image/ColorSpaceType; or its super classes (declaration of 'org.tensorflow.lite.support.image.ColorSpaceType' appears in /data/app/com.example.test-1/base.apk)\n        at org.tensorflow.lite.task.vision.core.BaseVisionTaskApi.createFrameBufferFromByteBuffer(BaseVisionTaskApi.java:144)\n        at org.tensorflow.lite.task.vision.core.BaseVisionTaskApi.createFrameBuffer(BaseVisionTaskApi.java:69)\n        at org.tensorflow.lite.task.vision.core.BaseVisionTaskApi.run(BaseVisionTaskApi.java:48)\n        at org.tensorflow.lite.task.vision.detector.ObjectDetector.detect(ObjectDetector.java:436)\n        at org.tensorflow.lite.task.vision.detector.ObjectDetector.detect(ObjectDetector.java:412)\n        at com.example.test.MainActivity.runDetection(MainActivity.java:280)\n        at com.example.test.MainActivity.lambda$onCreate$1$com-example-test-MainActivity(MainActivity.java:115)\n        at com.example.test.MainActivity$$ExternalSyntheticLambda1.onClick(Unknown Source)\n        at android.view.View.performClick(View.java:5265)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View$PerformClick.run(View.java:21534)\n        at android.os.Handler.handleCallback(Handler.java:815)\n        at android.os.Handler.dispatchMessage(Handler.java:104)\n        at android.os.Looper.loop(Looper.java:207)\n        at android.app.ActivityThread.main(ActivityThread.java:5875)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:888)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:749)\n2021-11-04 11:57:15.236 11363-11406/com.example.test I/FOCUS: Lost\n2021-11-04 11:57:15.341 11363-11397/com.example.test E/LOOK: LookAt action finished with error.\n    com.aldebaran.qi.QiException: Focus lost\n        at com.aldebaran.qi.Future.qiFutureCallGet(Native Method)\n        at com.aldebaran.qi.Future.get(Future.java:237)\n        at com.aldebaran.qi.Future.get(Future.java:272)\n        at com.aldebaran.qi.Future.getError(Future.java:307)\n        at com.example.test.MainActivity.lambda$onRobotFocusGained$4(MainActivity.java:179)\n        at com.example.test.MainActivity$$ExternalSyntheticLambda3.consume(Unknown Source)\n2021-11-04 11:57:20.248 11363-11373/com.example.test W/BaseTaskApi: Closing an already closed native lib\n2021-11-04 12:02:14.731 11363-11363/com.example.test I/Process: Sending signal. PID: 11363 SIG: 9\n</code></pre>\n<p>And this is my build.gradle file</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.example.test&quot;\n        minSdk 23\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    // Specify tflite file should not be compressed for the app apk\n    aaptOptions {\n        noCompress &quot;tflite&quot;\n    }\n    buildFeatures {\n        mlModelBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation 'org.tensorflow:tensorflow-lite-support:0.1.0'\n    implementation 'org.tensorflow:tensorflow-lite-metadata:0.1.0'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    implementation 'com.aldebaran:qisdk:1.7.5'\n    implementation 'com.aldebaran:qisdk-design:1.7.5'\n    implementation 'org.tensorflow:tensorflow-lite-task-vision:0.0.0-nightly-SNAPSHOT'\n\n}\n</code></pre>\n<p>I would appreciate any help.</p>\n"},{"tags":["java","abstract-class"],"comments":[{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":2,"creation_date":1636000933,"post_id":69834244,"comment_id":123443145,"body_markdown":"Could you make another method `getVarName()` that would return `var_name`, and then override that method in the subclass?","body":"Could you make another method <code>getVarName()</code> that would return <code>var_name</code>, and then override that method in the subclass?"},{"owner":{"account_id":18629838,"reputation":71,"user_id":13578044,"display_name":"Jo&#227;o Schmidt"},"score":0,"creation_date":1636066427,"post_id":69834244,"comment_id":123465623,"body_markdown":"@Progman I dont&#39;t know... Maybe? I was expecting something with reflection or bounding with sublcass type. I think I will just close this since this Java inflexibility is angering me atm.","body":"@Progman I dont&#39;t know... Maybe? I was expecting something with reflection or bounding with sublcass type. I think I will just close this since this Java inflexibility is angering me atm."}],"answers":[{"tags":[],"owner":{"account_id":5296021,"reputation":4882,"user_id":4227175,"accept_rate":53,"display_name":"ghchoi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636005228,"creation_date":1636004435,"answer_id":69834903,"question_id":69834244,"body_markdown":"Here is a nice pattern for this kind of problem:\r\n\r\n```\r\nabstract class SuperClass { \r\n    String var_name() {\r\n        return null;\r\n    }\r\n\r\n    void method() {\r\n        System.out.println(this.var_name());\r\n    }\r\n}\r\n\r\nclass subclass extends SuperClass {\r\n    @Override\r\n    String var_name() {\r\n        return &quot;I need to print this&quot;;\r\n    }\r\n\r\n    void otherUnrelatedMethod() {\r\n        method(); \r\n    }\r\n}\r\n\r\n```\r\n\r\n- First, super class has no information about sub classes. This means that you cannot call sub class function from super class.\r\n- Second, `static` members exist in `class`, not in instance. It is impossible but if one sub class overrides any super class static member, other sub classes will be victims. \r\n\r\nYou would better use function that returns `var_name` and `@Override` it from sub classes.","title":"Accessing sub class static attributes from superclass method","body":"<p>Here is a nice pattern for this kind of problem:</p>\n<pre><code>abstract class SuperClass { \n    String var_name() {\n        return null;\n    }\n\n    void method() {\n        System.out.println(this.var_name());\n    }\n}\n\nclass subclass extends SuperClass {\n    @Override\n    String var_name() {\n        return &quot;I need to print this&quot;;\n    }\n\n    void otherUnrelatedMethod() {\n        method(); \n    }\n}\n\n</code></pre>\n<ul>\n<li>First, super class has no information about sub classes. This means that you cannot call sub class function from super class.</li>\n<li>Second, <code>static</code> members exist in <code>class</code>, not in instance. It is impossible but if one sub class overrides any super class static member, other sub classes will be victims.</li>\n</ul>\n<p>You would better use function that returns <code>var_name</code> and <code>@Override</code> it from sub classes.</p>\n"}],"owner":{"account_id":18629838,"reputation":71,"user_id":13578044,"display_name":"Jo&#227;o Schmidt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1636066867,"accepted_answer_id":69834903,"answer_count":1,"score":-1,"last_activity_date":1636066736,"creation_date":1635996638,"question_id":69834244,"body_markdown":"I will give a quick example since is not that complicated when viewed in that way. The output below example will be null:\r\n```\r\nabstract class SuperClass { // it doesn&#39;t need to be abstract but that&#39;s my case now\r\n\t// needs to be static\r\n\tstatic String var_name = null;\r\n\tvoid method(){\r\n\t\tSystem.out.println(var_name);\r\n\t}\r\n}\r\nclass subclass{\r\n\t// needs to be static\r\n\tstatic String var_name = &quot;I need to print this&quot;\r\n\tvoid otherUnrelatedMethod(){\r\n\t\tmethod(); // calling method() here gives me null\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI&#39;m aware of two options to achieve what I want:\r\n\r\nI can easily achieve this just by passing var_name as a parameter on method(), which is the option I&#39;m using right now.\r\n\r\nAlso I can override method(), but doing that would bring a lot more work since there is a lot of subclasses and method() is actually pretty big.\r\n\r\nIs there any other option besides these two? I.e.: If I could maybe use bounding with a subclass type `&lt;S extends SuperClass&gt;` to get de desirable effect. Or even using reflection, although I heard it can make the program quite slow","title":"Accessing sub class static attributes from superclass method","body":"<p>I will give a quick example since is not that complicated when viewed in that way. The output below example will be null:</p>\n<pre><code>abstract class SuperClass { // it doesn't need to be abstract but that's my case now\n    // needs to be static\n    static String var_name = null;\n    void method(){\n        System.out.println(var_name);\n    }\n}\nclass subclass{\n    // needs to be static\n    static String var_name = &quot;I need to print this&quot;\n    void otherUnrelatedMethod(){\n        method(); // calling method() here gives me null\n    }\n}\n</code></pre>\n<p>I'm aware of two options to achieve what I want:</p>\n<p>I can easily achieve this just by passing var_name as a parameter on method(), which is the option I'm using right now.</p>\n<p>Also I can override method(), but doing that would bring a lot more work since there is a lot of subclasses and method() is actually pretty big.</p>\n<p>Is there any other option besides these two? I.e.: If I could maybe use bounding with a subclass type <code>&lt;S extends SuperClass&gt;</code> to get de desirable effect. Or even using reflection, although I heard it can make the program quite slow</p>\n"},{"tags":["java","json","serialization","deserialization","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":5980437,"reputation":584,"user_id":4699692,"accept_rate":70,"display_name":"Andrei Yusupau"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1636066123,"creation_date":1636066123,"answer_id":69846722,"question_id":69846490,"body_markdown":"Jackson doesn&#39;t know how to map array of strings to `DataList` object. So you should just add `@JsonCreate` on `DataList` constructor to show Jackson what to use for the conversion.\r\n```java\r\npublic class DataList {\r\n\r\n    private List&lt;String&gt; att;\r\n\r\n    @JsonCreator\r\n    public DataList(List&lt;String&gt; att) {\r\n        this.att = att;\r\n    }\r\n\r\n    // constructor, getter and setter\r\n}\r\n```","title":"How to fix Error START_ARRAY token when deserializing Json with ModelMapper?","body":"<p>Jackson doesn't know how to map array of strings to <code>DataList</code> object. So you should just add <code>@JsonCreate</code> on <code>DataList</code> constructor to show Jackson what to use for the conversion.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DataList {\n\n    private List&lt;String&gt; att;\n\n    @JsonCreator\n    public DataList(List&lt;String&gt; att) {\n        this.att = att;\n    }\n\n    // constructor, getter and setter\n}\n</code></pre>\n"}],"owner":{"account_id":2281096,"reputation":497,"user_id":14995131,"display_name":"jimmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6650,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69846722,"answer_count":1,"score":3,"last_activity_date":1636066123,"creation_date":1636064321,"question_id":69846490,"body_markdown":"I&#39;m trying to deserialize a JSON file in this format:\r\n\r\n    [\r\n      [&quot;AA&quot;, &quot;GG&quot;, &quot;1992/11/18&quot;],\r\n      [&quot;BB&quot;, &quot;DD&quot;, &quot;2005/02/20&quot;]\r\n    ]\r\n\r\nUsing this class:\r\n\r\n    public class DataList {\r\n        private List&lt;String&gt; att;\r\n        // constructor, getter and setter\r\n    }\r\n\r\ndoing:\r\n\r\n    DataList [] dataList= mapper.readValue(ResourceUtils.getFile(&quot;classpath:&quot; + filename), DataList [].class);\r\n\r\nBut I&#39;m getting:\r\n\r\n        com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `org.example.DataList ` out of START_ARRAY token\r\n     at [Source: (File); line: 2, column: 3] (through reference chain: java.lang.Object[][0])\r\n\r\nAny idea on how to fix this error?\r\n","title":"How to fix Error START_ARRAY token when deserializing Json with ModelMapper?","body":"<p>I'm trying to deserialize a JSON file in this format:</p>\n<pre><code>[\n  [&quot;AA&quot;, &quot;GG&quot;, &quot;1992/11/18&quot;],\n  [&quot;BB&quot;, &quot;DD&quot;, &quot;2005/02/20&quot;]\n]\n</code></pre>\n<p>Using this class:</p>\n<pre><code>public class DataList {\n    private List&lt;String&gt; att;\n    // constructor, getter and setter\n}\n</code></pre>\n<p>doing:</p>\n<pre><code>DataList [] dataList= mapper.readValue(ResourceUtils.getFile(&quot;classpath:&quot; + filename), DataList [].class);\n</code></pre>\n<p>But I'm getting:</p>\n<pre><code>    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `org.example.DataList ` out of START_ARRAY token\n at [Source: (File); line: 2, column: 3] (through reference chain: java.lang.Object[][0])\n</code></pre>\n<p>Any idea on how to fix this error?</p>\n"},{"tags":["java","android","kotlin","navigation-drawer","bottomnavigationview"],"answers":[{"tags":[],"owner":{"account_id":14491032,"reputation":584,"user_id":10467286,"display_name":"Putra Nugraha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636066097,"creation_date":1635983744,"answer_id":69833041,"question_id":69830395,"body_markdown":"You can use `onBackPressedDispatcher` in your `HomeFragment`\r\n\r\n```\r\nprivate lateinit var onBackPressedCallback: OnBackPressedCallback\r\n```\r\n\r\nand instantiate the implementation and add the callback to `activity` in `onResume()`\r\n\r\n```\r\noverride fun onResume() {\r\n    super.onResume()\r\n    onBackPressedCallback = object : OnBackPressedCallback(true) {\r\n            override fun handleOnBackPressed() {\r\n                activity?.moveTaskToBack(true)\r\n                exitProcess(ZERO)\r\n            }\r\n        }\r\n    \r\n    activity?.onBackPressedDispatcher?.addCallback(onBackPressedCallback)\r\n}\r\n```\r\n\r\nDue to this callback added on `activity`, then the callback should be removed on leaving `HomeFragment`\r\n\r\n```\r\noverride fun onPause() {\r\n    onBackPressedCallback.remove()\r\n    super.onPause()\r\n}\r\n```","title":"Bottom Navigation with Drawer Layout | onBackPressed in Fragment","body":"<p>You can use <code>onBackPressedDispatcher</code> in your <code>HomeFragment</code></p>\n<pre><code>private lateinit var onBackPressedCallback: OnBackPressedCallback\n</code></pre>\n<p>and instantiate the implementation and add the callback to <code>activity</code> in <code>onResume()</code></p>\n<pre><code>override fun onResume() {\n    super.onResume()\n    onBackPressedCallback = object : OnBackPressedCallback(true) {\n            override fun handleOnBackPressed() {\n                activity?.moveTaskToBack(true)\n                exitProcess(ZERO)\n            }\n        }\n    \n    activity?.onBackPressedDispatcher?.addCallback(onBackPressedCallback)\n}\n</code></pre>\n<p>Due to this callback added on <code>activity</code>, then the callback should be removed on leaving <code>HomeFragment</code></p>\n<pre><code>override fun onPause() {\n    onBackPressedCallback.remove()\n    super.onPause()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22997574,"reputation":27,"user_id":17122082,"display_name":"Mihail Palminschi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636051940,"creation_date":1636049994,"answer_id":69844029,"question_id":69830395,"body_markdown":"I found the answer.\r\n\r\nEverything is as in the selected answer, but need to remove this `callback` in the `onPause` of this `fragment`. To prevent the app from closing from all fragments\r\n\r\n**1. Create a variable for `callback`**\r\n\r\n    private lateinit var mCallback: OnBackPressedCallback\r\n\r\n**2. In `onViewCreated` :**\r\n\r\n    mCallback = object : OnBackPressedCallback(true) {\r\n                override fun handleOnBackPressed() {\r\n                    activity?.moveTaskToBack(true)\r\n                    exitProcess(0)\r\n                }\r\n            }\r\n\r\n    activity?.onBackPressedDispatcher?.addCallback(mCallback)\r\n\r\n**3. Remove `callback` when closing the `fragment`**\r\n\r\n     override fun onPause() {\r\n            mCallback.remove()\r\n            super.onPause()\r\n        }","title":"Bottom Navigation with Drawer Layout | onBackPressed in Fragment","body":"<p>I found the answer.</p>\n<p>Everything is as in the selected answer, but need to remove this <code>callback</code> in the <code>onPause</code> of this <code>fragment</code>. To prevent the app from closing from all fragments</p>\n<p><strong>1. Create a variable for <code>callback</code></strong></p>\n<pre><code>private lateinit var mCallback: OnBackPressedCallback\n</code></pre>\n<p><strong>2. In <code>onViewCreated</code> :</strong></p>\n<pre><code>mCallback = object : OnBackPressedCallback(true) {\n            override fun handleOnBackPressed() {\n                activity?.moveTaskToBack(true)\n                exitProcess(0)\n            }\n        }\n\nactivity?.onBackPressedDispatcher?.addCallback(mCallback)\n</code></pre>\n<p><strong>3. Remove <code>callback</code> when closing the <code>fragment</code></strong></p>\n<pre><code> override fun onPause() {\n        mCallback.remove()\n        super.onPause()\n    }\n</code></pre>\n"}],"owner":{"account_id":22997574,"reputation":27,"user_id":17122082,"display_name":"Mihail Palminschi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69833041,"answer_count":2,"score":1,"last_activity_date":1636066097,"creation_date":1635966038,"question_id":69830395,"body_markdown":"I have an interesting and confusing question.\r\n\r\nI have a `Drawer Layout` that opens from the `Bottom Navigation` like in the photo\r\n\r\n**Screens:**\\\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn order for `Drawer Layout` to open from the `Bottom Navigation`, I used this code:\r\n\r\n```\r\n    bottomNavigationView.setOnItemSelectedListener { item -&gt;\r\n            when (item.itemId) {\r\n                R.id.itemDrawer -&gt; {\r\n                    drawerLayout.openDrawer(GravityCompat.END)\r\n                    return@setOnItemSelectedListener false\r\n                }\r\n                R.id.homeFragment -&gt; navController.navigate(R.id.homeFragment)\r\n                R.id.booksFragment -&gt; navController.navigate(R.id.booksFragment)\r\n                R.id.grammarFragment -&gt; navController.navigate(R.id.grammarFragment)\r\n                R.id.translatorFragment -&gt; navController.navigate(R.id.translatorFragment)\r\n            }\r\n            true\r\n        }\r\n```\r\nThis is what my problem is\r\n\r\nWhen I override listener for Bottom Navigation, in my opinion, the `onBackPressed` behaviour gets confused default. \r\n\r\nI mean that when I click on `Home`, then another element, then `Home` again, and so on several times, and I stay on the `Home Fragment` and click on `onBackPressed`, then instead of leaving the app, I go back to the fragment where I was before\r\n\r\nI think this is not normal for the user\r\n\r\nWhat should I do?\r\n\r\nI thought to somehow override `onBackPressed` for `Home Fragment` but I don&#39;t understand how to do it\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xNmfjl.jpg","title":"Bottom Navigation with Drawer Layout | onBackPressed in Fragment","body":"<p>I have an interesting and confusing question.</p>\n<p>I have a <code>Drawer Layout</code> that opens from the <code>Bottom Navigation</code> like in the photo</p>\n<p><strong>Screens:</strong><br />\n<a href=\"https://i.stack.imgur.com/xNmfjl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xNmfjl.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In order for <code>Drawer Layout</code> to open from the <code>Bottom Navigation</code>, I used this code:</p>\n<pre><code>    bottomNavigationView.setOnItemSelectedListener { item -&gt;\n            when (item.itemId) {\n                R.id.itemDrawer -&gt; {\n                    drawerLayout.openDrawer(GravityCompat.END)\n                    return@setOnItemSelectedListener false\n                }\n                R.id.homeFragment -&gt; navController.navigate(R.id.homeFragment)\n                R.id.booksFragment -&gt; navController.navigate(R.id.booksFragment)\n                R.id.grammarFragment -&gt; navController.navigate(R.id.grammarFragment)\n                R.id.translatorFragment -&gt; navController.navigate(R.id.translatorFragment)\n            }\n            true\n        }\n</code></pre>\n<p>This is what my problem is</p>\n<p>When I override listener for Bottom Navigation, in my opinion, the <code>onBackPressed</code> behaviour gets confused default.</p>\n<p>I mean that when I click on <code>Home</code>, then another element, then <code>Home</code> again, and so on several times, and I stay on the <code>Home Fragment</code> and click on <code>onBackPressed</code>, then instead of leaving the app, I go back to the fragment where I was before</p>\n<p>I think this is not normal for the user</p>\n<p>What should I do?</p>\n<p>I thought to somehow override <code>onBackPressed</code> for <code>Home Fragment</code> but I don't understand how to do it</p>\n"},{"tags":["java","jersey","swagger","jax-rs","openapi"],"owner":{"account_id":3678209,"reputation":2911,"user_id":3063787,"accept_rate":55,"display_name":"AaronF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1636065784,"creation_date":1636065784,"question_id":69846677,"body_markdown":"Migration docs between swagger 1.5.0 and 2.1.11 seem to be basically non-existent. \r\nBased on\r\nhttps://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Integration-and-configuration\r\n\r\nWe have swapped out the old swagger-jersey2-jaxrs dependency for\r\n\r\n```\r\n&lt;!--\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t    &lt;groupId&gt;io.swagger&lt;/groupId&gt;--&gt;\r\n&lt;!--\t    &lt;artifactId&gt;swagger-jersey2-jaxrs&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t    &lt;scope&gt;compile&lt;/scope&gt;--&gt;\r\n&lt;!--\t&lt;/dependency&gt;--&gt;\r\n\r\n\t  &lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.1.11&lt;/version&gt;\r\n\t  &lt;/dependency&gt;\r\n\t  &lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;swagger-jaxrs2-servlet-initializer&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.1.11&lt;/version&gt;\r\n\t  &lt;/dependency&gt;\r\n```\r\n\r\nHowever the io.swagger.jersey classes don&#39;t seem to have equivalents, particularly between swagger-jersey2-jaxrs and swagger-jaxrs2.\r\n\r\nDoes anyone know where these went or if there&#39;s alternative documentation I should be reading?","title":"io.swagger.jersey equivalents in swagger v3","body":"<p>Migration docs between swagger 1.5.0 and 2.1.11 seem to be basically non-existent.\nBased on\n<a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Integration-and-configuration\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Integration-and-configuration</a></p>\n<p>We have swapped out the old swagger-jersey2-jaxrs dependency for</p>\n<pre><code>&lt;!--    &lt;dependency&gt;--&gt;\n&lt;!--        &lt;groupId&gt;io.swagger&lt;/groupId&gt;--&gt;\n&lt;!--        &lt;artifactId&gt;swagger-jersey2-jaxrs&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;scope&gt;compile&lt;/scope&gt;--&gt;\n&lt;!--    &lt;/dependency&gt;--&gt;\n\n      &lt;dependency&gt;\n          &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n          &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\n          &lt;version&gt;2.1.11&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n          &lt;artifactId&gt;swagger-jaxrs2-servlet-initializer&lt;/artifactId&gt;\n          &lt;version&gt;2.1.11&lt;/version&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>However the io.swagger.jersey classes don't seem to have equivalents, particularly between swagger-jersey2-jaxrs and swagger-jaxrs2.</p>\n<p>Does anyone know where these went or if there's alternative documentation I should be reading?</p>\n"},{"tags":["java","selenium","intellij-idea","electron","cucumber-jvm"],"answers":[{"tags":[],"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636065783,"creation_date":1455898626,"answer_id":35509872,"question_id":35507295,"body_markdown":"You can use Electron browser with [ChromeDriver][1]. Try creating WebDriver with similar setup:\r\n\r\n    // If chromediver executable is not in your project directory, \r\n    //  point to it with this system variable\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\chromedriver.exe&quot;); \r\n\r\n    Map&lt;String, Object&gt; chromeOptions = new HashMap&lt;String, Object&gt;();\r\n    chromeOptions.put(&quot;binary&quot;, &quot;path/to/electron/binary&quot;);\r\n    chromeOptions.put(&quot;args&quot;, Arrays.asList(&quot; path-to-electron-app&quot;));\r\n    //eg.: chromeOptions.put(&quot;binary&quot;, &quot;D:\\\\electron-quick-start\\\\node_modules\\\\electron-prebuilt\\\\dist\\\\electron.exe&quot;);\r\n    //     chromeOptions.put(&quot;args&quot;, Arrays.asList(&quot; D:\\\\electron-quick-start&quot;));\r\n    //  for some reason the app arg needs to follow a space on my Windows machine\r\n        \r\n    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    capabilities.setCapability(&quot;chromeOptions&quot;, chromeOptions);\r\n    capabilities.setBrowserName(&quot;chrome&quot;);\r\n\r\n    WebDriver driver = new ChromeDriver(capabilities);\r\n\r\nHere, the `path-to-electron-app` is the directory where the application source (`main.js`) is stored, and the electron binary is taken from dependencies downloaded during the build process. \r\n\r\nAlternatively, if you want to work with precompiled application - it itself becomes the electron binary, and you can use the following:\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\chromedriver.exe&quot;); \r\n    Map&lt;String, Object&gt; chromeOptions = new HashMap&lt;&gt;();\r\n    chromeOptions.put(&quot;binary&quot;, &quot;D:\\\\my-electron-app.exe&quot;);\r\n\r\n    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    capabilities.setCapability(&quot;chromeOptions&quot;, chromeOptions);\r\n    capabilities.setBrowserName(&quot;chrome&quot;);\r\n\r\n    WebDriver driver = new ChromeDriver(capabilities);\r\n\r\n\r\n\r\n  [1]: https://sites.google.com/a/chromium.org/chromedriver/","title":"Testing Electron application with org.openqa.selenium in a Java environment (Intellij)","body":"<p>You can use Electron browser with <a href=\"https://sites.google.com/a/chromium.org/chromedriver/\" rel=\"nofollow noreferrer\">ChromeDriver</a>. Try creating WebDriver with similar setup:</p>\n<pre><code>// If chromediver executable is not in your project directory, \n//  point to it with this system variable\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\chromedriver.exe&quot;); \n\nMap&lt;String, Object&gt; chromeOptions = new HashMap&lt;String, Object&gt;();\nchromeOptions.put(&quot;binary&quot;, &quot;path/to/electron/binary&quot;);\nchromeOptions.put(&quot;args&quot;, Arrays.asList(&quot; path-to-electron-app&quot;));\n//eg.: chromeOptions.put(&quot;binary&quot;, &quot;D:\\\\electron-quick-start\\\\node_modules\\\\electron-prebuilt\\\\dist\\\\electron.exe&quot;);\n//     chromeOptions.put(&quot;args&quot;, Arrays.asList(&quot; D:\\\\electron-quick-start&quot;));\n//  for some reason the app arg needs to follow a space on my Windows machine\n    \nDesiredCapabilities capabilities = new DesiredCapabilities();\ncapabilities.setCapability(&quot;chromeOptions&quot;, chromeOptions);\ncapabilities.setBrowserName(&quot;chrome&quot;);\n\nWebDriver driver = new ChromeDriver(capabilities);\n</code></pre>\n<p>Here, the <code>path-to-electron-app</code> is the directory where the application source (<code>main.js</code>) is stored, and the electron binary is taken from dependencies downloaded during the build process.</p>\n<p>Alternatively, if you want to work with precompiled application - it itself becomes the electron binary, and you can use the following:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\chromedriver.exe&quot;); \nMap&lt;String, Object&gt; chromeOptions = new HashMap&lt;&gt;();\nchromeOptions.put(&quot;binary&quot;, &quot;D:\\\\my-electron-app.exe&quot;);\n\nDesiredCapabilities capabilities = new DesiredCapabilities();\ncapabilities.setCapability(&quot;chromeOptions&quot;, chromeOptions);\ncapabilities.setBrowserName(&quot;chrome&quot;);\n\nWebDriver driver = new ChromeDriver(capabilities);\n</code></pre>\n"}],"owner":{"account_id":2221076,"reputation":793,"user_id":1960423,"accept_rate":89,"display_name":"LeeWay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3818,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35509872,"answer_count":1,"score":4,"last_activity_date":1636065783,"creation_date":1455890938,"question_id":35507295,"body_markdown":"Is there a way to create automated scenarios using `cucumber` and `selenium-webdriver` in Java environment for an Electron application?\r\n\r\nI found some `Node.js` solutions on [electron.atom.io](http://electron.atom.io/docs/v0.36.7/tutorial/using-selenium-and-webdriver/), but I would prefer Java.\r\n\r\nThanks.","title":"Testing Electron application with org.openqa.selenium in a Java environment (Intellij)","body":"<p>Is there a way to create automated scenarios using <code>cucumber</code> and <code>selenium-webdriver</code> in Java environment for an Electron application?</p>\n\n<p>I found some <code>Node.js</code> solutions on <a href=\"http://electron.atom.io/docs/v0.36.7/tutorial/using-selenium-and-webdriver/\" rel=\"nofollow\">electron.atom.io</a>, but I would prefer Java.</p>\n\n<p>Thanks.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8112,"page":1880,"page_size":100}
